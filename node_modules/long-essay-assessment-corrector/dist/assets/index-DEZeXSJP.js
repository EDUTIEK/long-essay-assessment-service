var dce=Object.defineProperty;var fce=(n,s,l)=>s in n?dce(n,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[s]=l;var Sn=(n,s,l)=>fce(n,typeof s!="symbol"?s+"":s,l);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=l(g);fetch(g.href,v)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nU(n){const s=Object.create(null);for(const l of n.split(","))s[l]=1;return l=>l in s}const zi={},VS=[],xv=()=>{},mce=()=>!1,LL=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),oU=n=>n.startsWith("onUpdate:"),Wl=Object.assign,rU=(n,s)=>{const l=n.indexOf(s);l>-1&&n.splice(l,1)},gce=Object.prototype.hasOwnProperty,di=(n,s)=>gce.call(n,s),nr=Array.isArray,zS=n=>xD(n)==="[object Map]",XS=n=>xD(n)==="[object Set]",CK=n=>xD(n)==="[object Date]",Nr=n=>typeof n=="function",Ga=n=>typeof n=="string",Cv=n=>typeof n=="symbol",Ai=n=>n!==null&&typeof n=="object",Uq=n=>(Ai(n)||Nr(n))&&Nr(n.then)&&Nr(n.catch),Wq=Object.prototype.toString,xD=n=>Wq.call(n),hce=n=>xD(n).slice(8,-1),Zq=n=>xD(n)==="[object Object]",sU=n=>Ga(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,FO=nU(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),FL=n=>{const s=Object.create(null);return l=>s[l]||(s[l]=n(l))},pce=/-(\w)/g,gm=FL(n=>n.replace(pce,(s,l)=>l?l.toUpperCase():"")),vce=/\B([A-Z])/g,gC=FL(n=>n.replace(vce,"-$1").toLowerCase()),I1=FL(n=>n.charAt(0).toUpperCase()+n.slice(1)),PH=FL(n=>n?`on${I1(n)}`:""),jy=(n,s)=>!Object.is(n,s),QB=(n,...s)=>{for(let l=0;l<n.length;l++)n[l](...s)},jq=(n,s,l,d=!1)=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,writable:d,value:l})},uL=n=>{const s=parseFloat(n);return isNaN(s)?n:s},bce=n=>{const s=Ga(n)?Number(n):NaN;return isNaN(s)?n:s};let _K;const Kq=()=>_K||(_K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function KO(n){if(nr(n)){const s={};for(let l=0;l<n.length;l++){const d=n[l],g=Ga(d)?Cce(d):KO(d);if(g)for(const v in g)s[v]=g[v]}return s}else if(Ga(n)||Ai(n))return n}const yce=/;(?![^(]*\))/g,xce=/:([^]+)/,wce=/\/\*[^]*?\*\//g;function Cce(n){const s={};return n.replace(wce,"").split(yce).forEach(l=>{if(l){const d=l.split(xce);d.length>1&&(s[d[0].trim()]=d[1].trim())}}),s}function qc(n){let s="";if(Ga(n))s=n;else if(nr(n))for(let l=0;l<n.length;l++){const d=qc(n[l]);d&&(s+=d+" ")}else if(Ai(n))for(const l in n)n[l]&&(s+=l+" ");return s.trim()}const _ce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kce=nU(_ce);function Gq(n){return!!n||n===""}function Sce(n,s){if(n.length!==s.length)return!1;let l=!0;for(let d=0;l&&d<n.length;d++)l=wD(n[d],s[d]);return l}function wD(n,s){if(n===s)return!0;let l=CK(n),d=CK(s);if(l||d)return l&&d?n.getTime()===s.getTime():!1;if(l=Cv(n),d=Cv(s),l||d)return n===s;if(l=nr(n),d=nr(s),l||d)return l&&d?Sce(n,s):!1;if(l=Ai(n),d=Ai(s),l||d){if(!l||!d)return!1;const g=Object.keys(n).length,v=Object.keys(s).length;if(g!==v)return!1;for(const x in n){const _=n.hasOwnProperty(x),N=s.hasOwnProperty(x);if(_&&!N||!_&&N||!wD(n[x],s[x]))return!1}}return String(n)===String(s)}function iU(n,s){return n.findIndex(l=>wD(l,s))}const qq=n=>!!(n&&n.__v_isRef===!0),ko=n=>Ga(n)?n:n==null?"":nr(n)||Ai(n)&&(n.toString===Wq||!Nr(n.toString))?qq(n)?ko(n.value):JSON.stringify(n,Yq,2):String(n),Yq=(n,s)=>qq(s)?Yq(n,s.value):zS(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((l,[d,g],v)=>(l[MH(d,v)+" =>"]=g,l),{})}:XS(s)?{[`Set(${s.size})`]:[...s.values()].map(l=>MH(l))}:Cv(s)?MH(s):Ai(s)&&!nr(s)&&!Zq(s)?String(s):s,MH=(n,s="")=>{var l;return Cv(n)?`Symbol(${(l=n.description)!=null?l:s})`:n};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yd;class Xq{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yd,!s&&yd&&(this.index=(yd.scopes||(yd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,l;if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].pause();for(s=0,l=this.effects.length;s<l;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,l;if(this.scopes)for(s=0,l=this.scopes.length;s<l;s++)this.scopes[s].resume();for(s=0,l=this.effects.length;s<l;s++)this.effects[s].resume()}}run(s){if(this._active){const l=yd;try{return yd=this,s()}finally{yd=l}}}on(){yd=this}off(){yd=this.parent}stop(s){if(this._active){let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.scopes)for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!s){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0,this._active=!1}}}function CD(n){return new Xq(n)}function Jq(){return yd}function Iu(n,s=!1){yd&&yd.cleanups.push(n)}let Vi;const BH=new WeakSet;class Qq{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yd&&yd.active&&yd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,BH.has(this)&&(BH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tY(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,kK(this),nY(this);const s=Vi,l=Zh;Vi=this,Zh=!0;try{return this.fn()}finally{oY(this),Vi=s,Zh=l,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)cU(s);this.deps=this.depsTail=void 0,kK(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?BH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){v$(this)&&this.run()}get dirty(){return v$(this)}}let eY=0,VO;function tY(n){n.flags|=8,n.next=VO,VO=n}function aU(){eY++}function lU(){if(--eY>0)return;let n;for(;VO;){let s=VO;for(VO=void 0;s;){const l=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(d){n||(n=d)}s=l}}if(n)throw n}function nY(n){for(let s=n.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function oY(n){let s,l=n.depsTail,d=l;for(;d;){const g=d.prevDep;d.version===-1?(d===l&&(l=g),cU(d),Ece(d)):s=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=g}n.deps=s,n.depsTail=l}function v$(n){for(let s=n.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(rY(s.dep.computed)||s.dep.version!==s.version))return!0;return!!n._dirty}function rY(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===GO))return;n.globalVersion=GO;const s=n.dep;if(n.flags|=2,s.version>0&&!n.isSSR&&n.deps&&!v$(n)){n.flags&=-3;return}const l=Vi,d=Zh;Vi=n,Zh=!0;try{nY(n);const g=n.fn(n._value);(s.version===0||jy(g,n._value))&&(n._value=g,s.version++)}catch(g){throw s.version++,g}finally{Vi=l,Zh=d,oY(n),n.flags&=-3}}function cU(n){const{dep:s,prevSub:l,nextSub:d}=n;if(l&&(l.nextSub=d,n.prevSub=void 0),d&&(d.prevSub=l,n.nextSub=void 0),s.subs===n&&(s.subs=l),!s.subs&&s.computed){s.computed.flags&=-5;for(let g=s.computed.deps;g;g=g.nextDep)cU(g)}}function Ece(n){const{prevDep:s,nextDep:l}=n;s&&(s.nextDep=l,n.prevDep=void 0),l&&(l.prevDep=s,n.nextDep=void 0)}let Zh=!0;const sY=[];function Xy(){sY.push(Zh),Zh=!1}function Jy(){const n=sY.pop();Zh=n===void 0?!0:n}function kK(n){const{cleanup:s}=n;if(n.cleanup=void 0,s){const l=Vi;Vi=void 0;try{s()}finally{Vi=l}}}let GO=0;class Ace{constructor(s,l){this.sub=s,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uU{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0}track(s){if(!Vi||!Zh||Vi===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Vi)l=this.activeLink=new Ace(Vi,this),Vi.deps?(l.prevDep=Vi.depsTail,Vi.depsTail.nextDep=l,Vi.depsTail=l):Vi.deps=Vi.depsTail=l,Vi.flags&4&&iY(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const d=l.nextDep;d.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=d),l.prevDep=Vi.depsTail,l.nextDep=void 0,Vi.depsTail.nextDep=l,Vi.depsTail=l,Vi.deps===l&&(Vi.deps=d)}return l}trigger(s){this.version++,GO++,this.notify(s)}notify(s){aU();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{lU()}}}function iY(n){const s=n.dep.computed;if(s&&!n.dep.subs){s.flags|=20;for(let d=s.deps;d;d=d.nextDep)iY(d)}const l=n.dep.subs;l!==n&&(n.prevSub=l,l&&(l.nextSub=n)),n.dep.subs=n}const dL=new WeakMap,rC=Symbol(""),b$=Symbol(""),qO=Symbol("");function Ru(n,s,l){if(Zh&&Vi){let d=dL.get(n);d||dL.set(n,d=new Map);let g=d.get(l);g||d.set(l,g=new uU),g.track()}}function S1(n,s,l,d,g,v){const x=dL.get(n);if(!x){GO++;return}const _=N=>{N&&N.trigger()};if(aU(),s==="clear")x.forEach(_);else{const N=nr(n),R=N&&sU(l);if(N&&l==="length"){const I=Number(d);x.forEach((V,$)=>{($==="length"||$===qO||!Cv($)&&$>=I)&&_(V)})}else switch(l!==void 0&&_(x.get(l)),R&&_(x.get(qO)),s){case"add":N?R&&_(x.get("length")):(_(x.get(rC)),zS(n)&&_(x.get(b$)));break;case"delete":N||(_(x.get(rC)),zS(n)&&_(x.get(b$)));break;case"set":zS(n)&&_(x.get(rC));break}}lU()}function Tce(n,s){var l;return(l=dL.get(n))==null?void 0:l.get(s)}function _S(n){const s=sr(n);return s===n?s:(Ru(s,"iterate",qO),Ig(n)?s:s.map(Au))}function VL(n){return Ru(n=sr(n),"iterate",qO),n}const Oce={__proto__:null,[Symbol.iterator](){return LH(this,Symbol.iterator,Au)},concat(...n){return _S(this).concat(...n.map(s=>nr(s)?_S(s):s))},entries(){return LH(this,"entries",n=>(n[1]=Au(n[1]),n))},every(n,s){return b1(this,"every",n,s,void 0,arguments)},filter(n,s){return b1(this,"filter",n,s,l=>l.map(Au),arguments)},find(n,s){return b1(this,"find",n,s,Au,arguments)},findIndex(n,s){return b1(this,"findIndex",n,s,void 0,arguments)},findLast(n,s){return b1(this,"findLast",n,s,Au,arguments)},findLastIndex(n,s){return b1(this,"findLastIndex",n,s,void 0,arguments)},forEach(n,s){return b1(this,"forEach",n,s,void 0,arguments)},includes(...n){return FH(this,"includes",n)},indexOf(...n){return FH(this,"indexOf",n)},join(n){return _S(this).join(n)},lastIndexOf(...n){return FH(this,"lastIndexOf",n)},map(n,s){return b1(this,"map",n,s,void 0,arguments)},pop(){return OO(this,"pop")},push(...n){return OO(this,"push",n)},reduce(n,...s){return SK(this,"reduce",n,s)},reduceRight(n,...s){return SK(this,"reduceRight",n,s)},shift(){return OO(this,"shift")},some(n,s){return b1(this,"some",n,s,void 0,arguments)},splice(...n){return OO(this,"splice",n)},toReversed(){return _S(this).toReversed()},toSorted(n){return _S(this).toSorted(n)},toSpliced(...n){return _S(this).toSpliced(...n)},unshift(...n){return OO(this,"unshift",n)},values(){return LH(this,"values",Au)}};function LH(n,s,l){const d=VL(n),g=d[s]();return d!==n&&!Ig(n)&&(g._next=g.next,g.next=()=>{const v=g._next();return v.value&&(v.value=l(v.value)),v}),g}const Dce=Array.prototype;function b1(n,s,l,d,g,v){const x=VL(n),_=x!==n&&!Ig(n),N=x[s];if(N!==Dce[s]){const V=N.apply(n,v);return _?Au(V):V}let R=l;x!==n&&(_?R=function(V,$){return l.call(this,Au(V),$,n)}:l.length>2&&(R=function(V,$){return l.call(this,V,$,n)}));const I=N.call(x,R,d);return _&&g?g(I):I}function SK(n,s,l,d){const g=VL(n);let v=l;return g!==n&&(Ig(n)?l.length>3&&(v=function(x,_,N){return l.call(this,x,_,N,n)}):v=function(x,_,N){return l.call(this,x,Au(_),N,n)}),g[s](v,...d)}function FH(n,s,l){const d=sr(n);Ru(d,"iterate",qO);const g=d[s](...l);return(g===-1||g===!1)&&gU(l[0])?(l[0]=sr(l[0]),d[s](...l)):g}function OO(n,s,l=[]){Xy(),aU();const d=sr(n)[s].apply(n,l);return lU(),Jy(),d}const Rce=nU("__proto__,__v_isRef,__isVue"),aY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Cv));function Ice(n){Cv(n)||(n=String(n));const s=sr(this);return Ru(s,"has",n),s.hasOwnProperty(n)}class lY{constructor(s=!1,l=!1){this._isReadonly=s,this._isShallow=l}get(s,l,d){const g=this._isReadonly,v=this._isShallow;if(l==="__v_isReactive")return!g;if(l==="__v_isReadonly")return g;if(l==="__v_isShallow")return v;if(l==="__v_raw")return d===(g?v?Zce:fY:v?dY:uY).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(d)?s:void 0;const x=nr(s);if(!g){let N;if(x&&(N=Oce[l]))return N;if(l==="hasOwnProperty")return Ice}const _=Reflect.get(s,l,Bs(s)?s:d);return(Cv(l)?aY.has(l):Rce(l))||(g||Ru(s,"get",l),v)?_:Bs(_)?x&&sU(l)?_:_.value:Ai(_)?g?_D(_):Ul(_):_}}class cY extends lY{constructor(s=!1){super(!1,s)}set(s,l,d,g){let v=s[l];if(!this._isShallow){const N=cC(v);if(!Ig(d)&&!cC(d)&&(v=sr(v),d=sr(d)),!nr(s)&&Bs(v)&&!Bs(d))return N?!1:(v.value=d,!0)}const x=nr(s)&&sU(l)?Number(l)<s.length:di(s,l),_=Reflect.set(s,l,d,Bs(s)?s:g);return s===sr(g)&&(x?jy(d,v)&&S1(s,"set",l,d):S1(s,"add",l,d)),_}deleteProperty(s,l){const d=di(s,l);s[l];const g=Reflect.deleteProperty(s,l);return g&&d&&S1(s,"delete",l,void 0),g}has(s,l){const d=Reflect.has(s,l);return(!Cv(l)||!aY.has(l))&&Ru(s,"has",l),d}ownKeys(s){return Ru(s,"iterate",nr(s)?"length":rC),Reflect.ownKeys(s)}}class Nce extends lY{constructor(s=!1){super(!0,s)}set(s,l){return!0}deleteProperty(s,l){return!0}}const Pce=new cY,Mce=new Nce,Bce=new cY(!0);const dU=n=>n,zL=n=>Reflect.getPrototypeOf(n);function IB(n,s,l=!1,d=!1){n=n.__v_raw;const g=sr(n),v=sr(s);l||(jy(s,v)&&Ru(g,"get",s),Ru(g,"get",v));const{has:x}=zL(g),_=d?dU:l?pU:Au;if(x.call(g,s))return _(n.get(s));if(x.call(g,v))return _(n.get(v));n!==g&&n.get(s)}function NB(n,s=!1){const l=this.__v_raw,d=sr(l),g=sr(n);return s||(jy(n,g)&&Ru(d,"has",n),Ru(d,"has",g)),n===g?l.has(n):l.has(n)||l.has(g)}function PB(n,s=!1){return n=n.__v_raw,!s&&Ru(sr(n),"iterate",rC),Reflect.get(n,"size",n)}function EK(n,s=!1){!s&&!Ig(n)&&!cC(n)&&(n=sr(n));const l=sr(this);return zL(l).has.call(l,n)||(l.add(n),S1(l,"add",n,n)),this}function AK(n,s,l=!1){!l&&!Ig(s)&&!cC(s)&&(s=sr(s));const d=sr(this),{has:g,get:v}=zL(d);let x=g.call(d,n);x||(n=sr(n),x=g.call(d,n));const _=v.call(d,n);return d.set(n,s),x?jy(s,_)&&S1(d,"set",n,s):S1(d,"add",n,s),this}function TK(n){const s=sr(this),{has:l,get:d}=zL(s);let g=l.call(s,n);g||(n=sr(n),g=l.call(s,n)),d&&d.call(s,n);const v=s.delete(n);return g&&S1(s,"delete",n,void 0),v}function OK(){const n=sr(this),s=n.size!==0,l=n.clear();return s&&S1(n,"clear",void 0,void 0),l}function MB(n,s){return function(d,g){const v=this,x=v.__v_raw,_=sr(x),N=s?dU:n?pU:Au;return!n&&Ru(_,"iterate",rC),x.forEach((R,I)=>d.call(g,N(R),N(I),v))}}function BB(n,s,l){return function(...d){const g=this.__v_raw,v=sr(g),x=zS(v),_=n==="entries"||n===Symbol.iterator&&x,N=n==="keys"&&x,R=g[n](...d),I=l?dU:s?pU:Au;return!s&&Ru(v,"iterate",N?b$:rC),{next(){const{value:V,done:$}=R.next();return $?{value:V,done:$}:{value:_?[I(V[0]),I(V[1])]:I(V),done:$}},[Symbol.iterator](){return this}}}}function Iy(n){return function(...s){return n==="delete"?!1:n==="clear"?void 0:this}}function Lce(){const n={get(v){return IB(this,v)},get size(){return PB(this)},has:NB,add:EK,set:AK,delete:TK,clear:OK,forEach:MB(!1,!1)},s={get(v){return IB(this,v,!1,!0)},get size(){return PB(this)},has:NB,add(v){return EK.call(this,v,!0)},set(v,x){return AK.call(this,v,x,!0)},delete:TK,clear:OK,forEach:MB(!1,!0)},l={get(v){return IB(this,v,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Iy("add"),set:Iy("set"),delete:Iy("delete"),clear:Iy("clear"),forEach:MB(!0,!1)},d={get(v){return IB(this,v,!0,!0)},get size(){return PB(this,!0)},has(v){return NB.call(this,v,!0)},add:Iy("add"),set:Iy("set"),delete:Iy("delete"),clear:Iy("clear"),forEach:MB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{n[v]=BB(v,!1,!1),l[v]=BB(v,!0,!1),s[v]=BB(v,!1,!0),d[v]=BB(v,!0,!0)}),[n,l,s,d]}const[Fce,Vce,zce,Hce]=Lce();function fU(n,s){const l=s?n?Hce:zce:n?Vce:Fce;return(d,g,v)=>g==="__v_isReactive"?!n:g==="__v_isReadonly"?n:g==="__v_raw"?d:Reflect.get(di(l,g)&&g in d?l:d,g,v)}const $ce={get:fU(!1,!1)},Uce={get:fU(!1,!0)},Wce={get:fU(!0,!1)};const uY=new WeakMap,dY=new WeakMap,fY=new WeakMap,Zce=new WeakMap;function jce(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kce(n){return n.__v_skip||!Object.isExtensible(n)?0:jce(hce(n))}function Ul(n){return cC(n)?n:mU(n,!1,Pce,$ce,uY)}function Gce(n){return mU(n,!1,Bce,Uce,dY)}function _D(n){return mU(n,!0,Mce,Wce,fY)}function mU(n,s,l,d,g){if(!Ai(n)||n.__v_raw&&!(s&&n.__v_isReactive))return n;const v=g.get(n);if(v)return v;const x=Kce(n);if(x===0)return n;const _=new Proxy(n,x===2?d:l);return g.set(n,_),_}function Wy(n){return cC(n)?Wy(n.__v_raw):!!(n&&n.__v_isReactive)}function cC(n){return!!(n&&n.__v_isReadonly)}function Ig(n){return!!(n&&n.__v_isShallow)}function gU(n){return n?!!n.__v_raw:!1}function sr(n){const s=n&&n.__v_raw;return s?sr(s):n}function hU(n){return!di(n,"__v_skip")&&Object.isExtensible(n)&&jq(n,"__v_skip",!0),n}const Au=n=>Ai(n)?Ul(n):n,pU=n=>Ai(n)?_D(n):n;function Bs(n){return n?n.__v_isRef===!0:!1}function Bn(n){return mY(n,!1)}function Oo(n){return mY(n,!0)}function mY(n,s){return Bs(n)?n:new qce(n,s)}class qce{constructor(s,l){this.dep=new uU,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?s:sr(s),this._value=l?s:Au(s),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(s){const l=this._rawValue,d=this.__v_isShallow||Ig(s)||cC(s);s=d?s:sr(s),jy(s,l)&&(this._rawValue=s,this._value=d?s:Au(s),this.dep.trigger())}}function oe(n){return Bs(n)?n.value:n}const Yce={get:(n,s,l)=>s==="__v_raw"?n:oe(Reflect.get(n,s,l)),set:(n,s,l,d)=>{const g=n[s];return Bs(g)&&!Bs(l)?(g.value=l,!0):Reflect.set(n,s,l,d)}};function gY(n){return Wy(n)?n:new Proxy(n,Yce)}function kD(n){const s=nr(n)?new Array(n.length):{};for(const l in n)s[l]=hY(n,l);return s}class Xce{constructor(s,l,d){this._object=s,this._key=l,this._defaultValue=d,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Tce(sr(this._object),this._key)}}class Jce{constructor(s){this._getter=s,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tr(n,s,l){return Bs(n)?n:Nr(n)?new Jce(n):Ai(n)&&arguments.length>1?hY(n,s,l):Bn(n)}function hY(n,s,l){const d=n[s];return Bs(d)?d:new Xce(n,s,l)}class Qce{constructor(s,l,d){this.fn=s,this.setter=l,this._value=void 0,this.dep=new uU(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=GO-1,this.effect=this,this.__v_isReadonly=!l,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&Vi!==this)return tY(this),!0}get value(){const s=this.dep.track();return rY(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function eue(n,s,l=!1){let d,g;return Nr(n)?d=n:(d=n.get,g=n.set),new Qce(d,g,l)}const LB={},fL=new WeakMap;let eC;function tue(n,s=!1,l=eC){if(l){let d=fL.get(l);d||fL.set(l,d=[]),d.push(n)}}function nue(n,s,l=zi){const{immediate:d,deep:g,once:v,scheduler:x,augmentJob:_,call:N}=l,R=ee=>g?ee:Ig(ee)||g===!1||g===0?_1(ee,1):_1(ee);let I,V,$,G,W=!1,te=!1;if(Bs(n)?(V=()=>n.value,W=Ig(n)):Wy(n)?(V=()=>R(n),W=!0):nr(n)?(te=!0,W=n.some(ee=>Wy(ee)||Ig(ee)),V=()=>n.map(ee=>{if(Bs(ee))return ee.value;if(Wy(ee))return R(ee);if(Nr(ee))return N?N(ee,2):ee()})):Nr(n)?s?V=N?()=>N(n,2):n:V=()=>{if($){Xy();try{$()}finally{Jy()}}const ee=eC;eC=I;try{return N?N(n,3,[G]):n(G)}finally{eC=ee}}:V=xv,s&&g){const ee=V,we=g===!0?1/0:g;V=()=>_1(ee(),we)}const ae=Jq(),ce=()=>{I.stop(),ae&&rU(ae.effects,I)};if(v&&s){const ee=s;s=(...we)=>{ee(...we),ce()}}let Ve=te?new Array(n.length).fill(LB):LB;const Ce=ee=>{if(!(!(I.flags&1)||!I.dirty&&!ee))if(s){const we=I.run();if(g||W||(te?we.some((le,Ze)=>jy(le,Ve[Ze])):jy(we,Ve))){$&&$();const le=eC;eC=I;try{const Ze=[we,Ve===LB?void 0:te&&Ve[0]===LB?[]:Ve,G];N?N(s,3,Ze):s(...Ze),Ve=we}finally{eC=le}}}else I.run()};return _&&_(Ce),I=new Qq(V),I.scheduler=x?()=>x(Ce,!1):Ce,G=ee=>tue(ee,!1,I),$=I.onStop=()=>{const ee=fL.get(I);if(ee){if(N)N(ee,4);else for(const we of ee)we();fL.delete(I)}},s?d?Ce(!0):Ve=I.run():x?x(Ce.bind(null,!0),!0):I.run(),ce.pause=I.pause.bind(I),ce.resume=I.resume.bind(I),ce.stop=ce,ce}function _1(n,s=1/0,l){if(s<=0||!Ai(n)||n.__v_skip||(l=l||new Set,l.has(n)))return n;if(l.add(n),s--,Bs(n))_1(n.value,s,l);else if(nr(n))for(let d=0;d<n.length;d++)_1(n[d],s,l);else if(XS(n)||zS(n))n.forEach(d=>{_1(d,s,l)});else if(Zq(n)){for(const d in n)_1(n[d],s,l);for(const d of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,d)&&_1(n[d],s,l)}return n}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function SD(n,s,l,d){try{return d?n(...d):n()}catch(g){HL(g,s,l)}}function qh(n,s,l,d){if(Nr(n)){const g=SD(n,s,l,d);return g&&Uq(g)&&g.catch(v=>{HL(v,s,l)}),g}if(nr(n)){const g=[];for(let v=0;v<n.length;v++)g.push(qh(n[v],s,l,d));return g}}function HL(n,s,l,d=!0){const g=s?s.vnode:null,{errorHandler:v,throwUnhandledErrorInProduction:x}=s&&s.appContext.config||zi;if(s){let _=s.parent;const N=s.proxy,R=`https://vuejs.org/error-reference/#runtime-${l}`;for(;_;){const I=_.ec;if(I){for(let V=0;V<I.length;V++)if(I[V](n,N,R)===!1)return}_=_.parent}if(v){Xy(),SD(v,null,10,[n,N,R]),Jy();return}}oue(n,l,g,d,x)}function oue(n,s,l,d=!0,g=!1){if(g)throw n;console.error(n)}let YO=!1,y$=!1;const xd=[];let fv=0;const HS=[];let Fy=null,PS=0;const pY=Promise.resolve();let vU=null;function Er(n){const s=vU||pY;return n?s.then(this?n.bind(this):n):s}function rue(n){let s=YO?fv+1:0,l=xd.length;for(;s<l;){const d=s+l>>>1,g=xd[d],v=XO(g);v<n||v===n&&g.flags&2?s=d+1:l=d}return s}function bU(n){if(!(n.flags&1)){const s=XO(n),l=xd[xd.length-1];!l||!(n.flags&2)&&s>=XO(l)?xd.push(n):xd.splice(rue(s),0,n),n.flags|=1,vY()}}function vY(){!YO&&!y$&&(y$=!0,vU=pY.then(yY))}function sue(n){nr(n)?HS.push(...n):Fy&&n.id===-1?Fy.splice(PS+1,0,n):n.flags&1||(HS.push(n),n.flags|=1),vY()}function DK(n,s,l=YO?fv+1:0){for(;l<xd.length;l++){const d=xd[l];if(d&&d.flags&2){if(n&&d.id!==n.uid)continue;xd.splice(l,1),l--,d.flags&4&&(d.flags&=-2),d(),d.flags&=-2}}}function bY(n){if(HS.length){const s=[...new Set(HS)].sort((l,d)=>XO(l)-XO(d));if(HS.length=0,Fy){Fy.push(...s);return}for(Fy=s,PS=0;PS<Fy.length;PS++){const l=Fy[PS];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}Fy=null,PS=0}}const XO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function yY(n){y$=!1,YO=!0;try{for(fv=0;fv<xd.length;fv++){const s=xd[fv];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),SD(s,s.i,s.i?15:14),s.flags&=-2)}}finally{for(;fv<xd.length;fv++){const s=xd[fv];s&&(s.flags&=-2)}fv=0,xd.length=0,bY(),YO=!1,vU=null,(xd.length||HS.length)&&yY()}}let Cd=null,xY=null;function mL(n){const s=Cd;return Cd=n,xY=n&&n.type.__scopeId||null,s}function Ct(n,s=Cd,l){if(!s||n._n)return n;const d=(...g)=>{d._d&&$K(-1);const v=mL(s);let x;try{x=n(...g)}finally{mL(v),d._d&&$K(1)}return x};return d._n=!0,d._c=!0,d._d=!0,d}function Mn(n,s){if(Cd===null)return n;const l=KL(Cd),d=n.dirs||(n.dirs=[]);for(let g=0;g<s.length;g++){let[v,x,_,N=zi]=s[g];v&&(Nr(v)&&(v={mounted:v,updated:v}),v.deep&&_1(x),d.push({dir:v,instance:l,value:x,oldValue:void 0,arg:_,modifiers:N}))}return n}function Gw(n,s,l,d){const g=n.dirs,v=s&&s.dirs;for(let x=0;x<g.length;x++){const _=g[x];v&&(_.oldValue=v[x].value);let N=_.dir[d];N&&(Xy(),qh(N,l,8,[n.el,_,n,s]),Jy())}}const wY=Symbol("_vte"),CY=n=>n.__isTeleport,zO=n=>n&&(n.disabled||n.disabled===""),iue=n=>n&&(n.defer||n.defer===""),RK=n=>typeof SVGElement<"u"&&n instanceof SVGElement,IK=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,x$=(n,s)=>{const l=n&&n.to;return Ga(l)?s?s(l):null:l},aue={name:"Teleport",__isTeleport:!0,process(n,s,l,d,g,v,x,_,N,R){const{mc:I,pc:V,pbc:$,o:{insert:G,querySelector:W,createText:te,createComment:ae}}=R,ce=zO(s.props);let{shapeFlag:Ve,children:Ce,dynamicChildren:ee}=s;if(n==null){const we=s.el=te(""),le=s.anchor=te("");G(we,l,d),G(le,l,d);const Ze=(Me,Xe)=>{Ve&16&&(g&&g.isCE&&(g.ce._teleportTarget=Me),I(Ce,Me,Xe,g,v,x,_,N))},Be=()=>{const Me=s.target=x$(s.props,W),Xe=_Y(Me,s,te,G);Me&&(x!=="svg"&&RK(Me)?x="svg":x!=="mathml"&&IK(Me)&&(x="mathml"),ce||(Ze(Me,Xe),eL(s)))};ce&&(Ze(l,le),eL(s)),iue(s.props)?rf(Be,v):Be()}else{s.el=n.el,s.targetStart=n.targetStart;const we=s.anchor=n.anchor,le=s.target=n.target,Ze=s.targetAnchor=n.targetAnchor,Be=zO(n.props),Me=Be?l:le,Xe=Be?we:Ze;if(x==="svg"||RK(le)?x="svg":(x==="mathml"||IK(le))&&(x="mathml"),ee?($(n.dynamicChildren,ee,Me,g,v,x,_),SU(n,s,!0)):N||V(n,s,Me,Xe,g,v,x,_,!1),ce)Be?s.props&&n.props&&s.props.to!==n.props.to&&(s.props.to=n.props.to):FB(s,l,we,R,1);else if((s.props&&s.props.to)!==(n.props&&n.props.to)){const Ee=s.target=x$(s.props,W);Ee&&FB(s,Ee,null,R,0)}else Be&&FB(s,le,Ze,R,1);eL(s)}},remove(n,s,l,{um:d,o:{remove:g}},v){const{shapeFlag:x,children:_,anchor:N,targetStart:R,targetAnchor:I,target:V,props:$}=n;if(V&&(g(R),g(I)),v&&g(N),x&16){const G=v||!zO($);for(let W=0;W<_.length;W++){const te=_[W];d(te,s,l,G,!!te.dynamicChildren)}}},move:FB,hydrate:lue};function FB(n,s,l,{o:{insert:d},m:g},v=2){v===0&&d(n.targetAnchor,s,l);const{el:x,anchor:_,shapeFlag:N,children:R,props:I}=n,V=v===2;if(V&&d(x,s,l),(!V||zO(I))&&N&16)for(let $=0;$<R.length;$++)g(R[$],s,l,2);V&&d(_,s,l)}function lue(n,s,l,d,g,v,{o:{nextSibling:x,parentNode:_,querySelector:N,insert:R,createText:I}},V){const $=s.target=x$(s.props,N);if($){const G=$._lpa||$.firstChild;if(s.shapeFlag&16)if(zO(s.props))s.anchor=V(x(n),s,_(n),l,d,g,v),s.targetStart=G,s.targetAnchor=G&&x(G);else{s.anchor=x(n);let W=G;for(;W;){if(W&&W.nodeType===8){if(W.data==="teleport start anchor")s.targetStart=W;else if(W.data==="teleport anchor"){s.targetAnchor=W,$._lpa=s.targetAnchor&&x(s.targetAnchor);break}}W=x(W)}s.targetAnchor||_Y($,s,I,R),V(G&&x(G),s,$,l,d,g,v)}eL(s)}return s.anchor&&x(s.anchor)}const cue=aue;function eL(n){const s=n.ctx;if(s&&s.ut){let l=n.targetStart;for(;l&&l!==n.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",s.uid),l=l.nextSibling;s.ut()}}function _Y(n,s,l,d){const g=s.targetStart=l(""),v=s.targetAnchor=l("");return g[wY]=v,n&&(d(g,n),d(v,n)),v}const Vy=Symbol("_leaveCb"),VB=Symbol("_enterCb");function kY(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nu(()=>{n.isMounted=!0}),Cc(()=>{n.isUnmounting=!0}),n}const Og=[Function,Array],SY={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Og,onEnter:Og,onAfterEnter:Og,onEnterCancelled:Og,onBeforeLeave:Og,onLeave:Og,onAfterLeave:Og,onLeaveCancelled:Og,onBeforeAppear:Og,onAppear:Og,onAfterAppear:Og,onAppearCancelled:Og},EY=n=>{const s=n.subTree;return s.component?EY(s.component):s},uue={name:"BaseTransition",props:SY,setup(n,{slots:s}){const l=TU(),d=kY();return()=>{const g=s.default&&yU(s.default(),!0);if(!g||!g.length)return;const v=AY(g),x=sr(n),{mode:_}=x;if(d.isLeaving)return VH(v);const N=NK(v);if(!N)return VH(v);let R=JO(N,x,d,l,$=>R=$);N.type!==wd&&uC(N,R);const I=l.subTree,V=I&&NK(I);if(V&&V.type!==wd&&!tC(N,V)&&EY(l).type!==wd){const $=JO(V,x,d,l);if(uC(V,$),_==="out-in"&&N.type!==wd)return d.isLeaving=!0,$.afterLeave=()=>{d.isLeaving=!1,l.job.flags&8||l.update(),delete $.afterLeave},VH(v);_==="in-out"&&N.type!==wd&&($.delayLeave=(G,W,te)=>{const ae=TY(d,V);ae[String(V.key)]=V,G[Vy]=()=>{W(),G[Vy]=void 0,delete R.delayedLeave},R.delayedLeave=te})}return v}}};function AY(n){let s=n[0];if(n.length>1){for(const l of n)if(l.type!==wd){s=l;break}}return s}const due=uue;function TY(n,s){const{leavingVNodes:l}=n;let d=l.get(s.type);return d||(d=Object.create(null),l.set(s.type,d)),d}function JO(n,s,l,d,g){const{appear:v,mode:x,persisted:_=!1,onBeforeEnter:N,onEnter:R,onAfterEnter:I,onEnterCancelled:V,onBeforeLeave:$,onLeave:G,onAfterLeave:W,onLeaveCancelled:te,onBeforeAppear:ae,onAppear:ce,onAfterAppear:Ve,onAppearCancelled:Ce}=s,ee=String(n.key),we=TY(l,n),le=(Me,Xe)=>{Me&&qh(Me,d,9,Xe)},Ze=(Me,Xe)=>{const Ee=Xe[1];le(Me,Xe),nr(Me)?Me.every(Fe=>Fe.length<=1)&&Ee():Me.length<=1&&Ee()},Be={mode:x,persisted:_,beforeEnter(Me){let Xe=N;if(!l.isMounted)if(v)Xe=ae||N;else return;Me[Vy]&&Me[Vy](!0);const Ee=we[ee];Ee&&tC(n,Ee)&&Ee.el[Vy]&&Ee.el[Vy](),le(Xe,[Me])},enter(Me){let Xe=R,Ee=I,Fe=V;if(!l.isMounted)if(v)Xe=ce||R,Ee=Ve||I,Fe=Ce||V;else return;let O=!1;const Ge=Me[VB]=ct=>{O||(O=!0,ct?le(Fe,[Me]):le(Ee,[Me]),Be.delayedLeave&&Be.delayedLeave(),Me[VB]=void 0)};Xe?Ze(Xe,[Me,Ge]):Ge()},leave(Me,Xe){const Ee=String(n.key);if(Me[VB]&&Me[VB](!0),l.isUnmounting)return Xe();le($,[Me]);let Fe=!1;const O=Me[Vy]=Ge=>{Fe||(Fe=!0,Xe(),Ge?le(te,[Me]):le(W,[Me]),Me[Vy]=void 0,we[Ee]===n&&delete we[Ee])};we[Ee]=n,G?Ze(G,[Me,O]):O()},clone(Me){const Xe=JO(Me,s,l,d,g);return g&&g(Xe),Xe}};return Be}function VH(n){if($L(n))return n=O1(n),n.children=null,n}function NK(n){if(!$L(n))return CY(n.type)&&n.children?AY(n.children):n;const{shapeFlag:s,children:l}=n;if(l){if(s&16)return l[0];if(s&32&&Nr(l.default))return l.default()}}function uC(n,s){n.shapeFlag&6&&n.component?(n.transition=s,uC(n.component.subTree,s)):n.shapeFlag&128?(n.ssContent.transition=s.clone(n.ssContent),n.ssFallback.transition=s.clone(n.ssFallback)):n.transition=s}function yU(n,s=!1,l){let d=[],g=0;for(let v=0;v<n.length;v++){let x=n[v];const _=l==null?x.key:String(l)+String(x.key!=null?x.key:v);x.type===ir?(x.patchFlag&128&&g++,d=d.concat(yU(x.children,s,_))):(s||x.type!==wd)&&d.push(_!=null?O1(x,{key:_}):x)}if(g>1)for(let v=0;v<d.length;v++)d[v].patchFlag=-2;return d}/*! #__NO_SIDE_EFFECTS__ */function OY(n,s){return Nr(n)?Wl({name:n.name},s,{setup:n}):n}function DY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function w$(n,s,l,d,g=!1){if(nr(n)){n.forEach((W,te)=>w$(W,s&&(nr(s)?s[te]:s),l,d,g));return}if(HO(d)&&!g)return;const v=d.shapeFlag&4?KL(d.component):d.el,x=g?null:v,{i:_,r:N}=n,R=s&&s.r,I=_.refs===zi?_.refs={}:_.refs,V=_.setupState,$=sr(V),G=V===zi?()=>!1:W=>di($,W);if(R!=null&&R!==N&&(Ga(R)?(I[R]=null,G(R)&&(V[R]=null)):Bs(R)&&(R.value=null)),Nr(N))SD(N,_,12,[x,I]);else{const W=Ga(N),te=Bs(N);if(W||te){const ae=()=>{if(n.f){const ce=W?G(N)?V[N]:I[N]:N.value;g?nr(ce)&&rU(ce,v):nr(ce)?ce.includes(v)||ce.push(v):W?(I[N]=[v],G(N)&&(V[N]=I[N])):(N.value=[v],n.k&&(I[n.k]=N.value))}else W?(I[N]=x,G(N)&&(V[N]=x)):te&&(N.value=x,n.k&&(I[n.k]=x))};x?(ae.id=-1,rf(ae,l)):ae()}}}const HO=n=>!!n.type.__asyncLoader,$L=n=>n.type.__isKeepAlive;function xU(n,s){RY(n,"a",s)}function UL(n,s){RY(n,"da",s)}function RY(n,s,l=wc){const d=n.__wdc||(n.__wdc=()=>{let g=l;for(;g;){if(g.isDeactivated)return;g=g.parent}return n()});if(WL(s,d,l),l){let g=l.parent;for(;g&&g.parent;)$L(g.parent.vnode)&&fue(d,s,l,g),g=g.parent}}function fue(n,s,l,d){const g=WL(s,n,d,!0);IY(()=>{rU(d[s],g)},l)}function WL(n,s,l=wc,d=!1){if(l){const g=l[n]||(l[n]=[]),v=s.__weh||(s.__weh=(...x)=>{Xy();const _=AD(l),N=qh(s,l,n,x);return _(),Jy(),N});return d?g.unshift(v):g.push(v),v}}const N1=n=>(s,l=wc)=>{(!jL||n==="sp")&&WL(n,(...d)=>s(...d),l)},wU=N1("bm"),Nu=N1("m"),mue=N1("bu"),CU=N1("u"),Cc=N1("bum"),IY=N1("um"),gue=N1("sp"),hue=N1("rtg"),pue=N1("rtc");function vue(n,s=wc){WL("ec",n,s)}const NY="components",bue="directives",yue=Symbol.for("v-ndc");function xue(n){return Ga(n)&&PY(NY,n,!1)||n}function Qy(n){return PY(bue,n)}function PY(n,s,l=!0,d=!1){const g=Cd||wc;if(g){const v=g.type;if(n===NY){const _=ide(v,!1);if(_&&(_===s||_===gm(s)||_===I1(gm(s))))return v}const x=PK(g[n]||v[n],s)||PK(g.appContext[n],s);return!x&&d?v:x}}function PK(n,s){return n&&(n[s]||n[gm(s)]||n[I1(gm(s))])}function T1(n,s,l,d){let g;const v=l,x=nr(n);if(x||Ga(n)){const _=x&&Wy(n);let N=!1;_&&(N=!Ig(n),n=VL(n)),g=new Array(n.length);for(let R=0,I=n.length;R<I;R++)g[R]=s(N?Au(n[R]):n[R],R,void 0,v)}else if(typeof n=="number"){g=new Array(n);for(let _=0;_<n;_++)g[_]=s(_+1,_,void 0,v)}else if(Ai(n))if(n[Symbol.iterator])g=Array.from(n,(_,N)=>s(_,N,void 0,v));else{const _=Object.keys(n);g=new Array(_.length);for(let N=0,R=_.length;N<R;N++){const I=_[N];g[N]=s(n[I],I,N,v)}}else g=[];return g}const C$=n=>n?JY(n)?KL(n):C$(n.parent):null,$O=Wl(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>C$(n.parent),$root:n=>C$(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>_U(n),$forceUpdate:n=>n.f||(n.f=()=>{bU(n.update)}),$nextTick:n=>n.n||(n.n=Er.bind(n.proxy)),$watch:n=>$ue.bind(n)}),zH=(n,s)=>n!==zi&&!n.__isScriptSetup&&di(n,s),wue={get({_:n},s){if(s==="__v_skip")return!0;const{ctx:l,setupState:d,data:g,props:v,accessCache:x,type:_,appContext:N}=n;let R;if(s[0]!=="$"){const G=x[s];if(G!==void 0)switch(G){case 1:return d[s];case 2:return g[s];case 4:return l[s];case 3:return v[s]}else{if(zH(d,s))return x[s]=1,d[s];if(g!==zi&&di(g,s))return x[s]=2,g[s];if((R=n.propsOptions[0])&&di(R,s))return x[s]=3,v[s];if(l!==zi&&di(l,s))return x[s]=4,l[s];_$&&(x[s]=0)}}const I=$O[s];let V,$;if(I)return s==="$attrs"&&Ru(n.attrs,"get",""),I(n);if((V=_.__cssModules)&&(V=V[s]))return V;if(l!==zi&&di(l,s))return x[s]=4,l[s];if($=N.config.globalProperties,di($,s))return $[s]},set({_:n},s,l){const{data:d,setupState:g,ctx:v}=n;return zH(g,s)?(g[s]=l,!0):d!==zi&&di(d,s)?(d[s]=l,!0):di(n.props,s)||s[0]==="$"&&s.slice(1)in n?!1:(v[s]=l,!0)},has({_:{data:n,setupState:s,accessCache:l,ctx:d,appContext:g,propsOptions:v}},x){let _;return!!l[x]||n!==zi&&di(n,x)||zH(s,x)||(_=v[0])&&di(_,x)||di(d,x)||di($O,x)||di(g.config.globalProperties,x)},defineProperty(n,s,l){return l.get!=null?n._.accessCache[s]=0:di(l,"value")&&this.set(n,s,l.value,null),Reflect.defineProperty(n,s,l)}};function MK(n){return nr(n)?n.reduce((s,l)=>(s[l]=null,s),{}):n}let _$=!0;function Cue(n){const s=_U(n),l=n.proxy,d=n.ctx;_$=!1,s.beforeCreate&&BK(s.beforeCreate,n,"bc");const{data:g,computed:v,methods:x,watch:_,provide:N,inject:R,created:I,beforeMount:V,mounted:$,beforeUpdate:G,updated:W,activated:te,deactivated:ae,beforeDestroy:ce,beforeUnmount:Ve,destroyed:Ce,unmounted:ee,render:we,renderTracked:le,renderTriggered:Ze,errorCaptured:Be,serverPrefetch:Me,expose:Xe,inheritAttrs:Ee,components:Fe,directives:O,filters:Ge}=s;if(R&&_ue(R,d,null),x)for(const Jt in x){const tt=x[Jt];Nr(tt)&&(d[Jt]=tt.bind(l))}if(g){const Jt=g.call(l,l);Ai(Jt)&&(n.data=Ul(Jt))}if(_$=!0,v)for(const Jt in v){const tt=v[Jt],pt=Nr(tt)?tt.bind(l,l):Nr(tt.get)?tt.get.bind(l,l):xv,Lt=!Nr(tt)&&Nr(tt.set)?tt.set.bind(l):xv,nt=qe({get:pt,set:Lt});Object.defineProperty(d,Jt,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Ye=>nt.value=Ye})}if(_)for(const Jt in _)MY(_[Jt],d,l,Jt);if(N){const Jt=Nr(N)?N.call(l):N;Reflect.ownKeys(Jt).forEach(tt=>{_d(tt,Jt[tt])})}I&&BK(I,n,"c");function $t(Jt,tt){nr(tt)?tt.forEach(pt=>Jt(pt.bind(l))):tt&&Jt(tt.bind(l))}if($t(wU,V),$t(Nu,$),$t(mue,G),$t(CU,W),$t(xU,te),$t(UL,ae),$t(vue,Be),$t(pue,le),$t(hue,Ze),$t(Cc,Ve),$t(IY,ee),$t(gue,Me),nr(Xe))if(Xe.length){const Jt=n.exposed||(n.exposed={});Xe.forEach(tt=>{Object.defineProperty(Jt,tt,{get:()=>l[tt],set:pt=>l[tt]=pt})})}else n.exposed||(n.exposed={});we&&n.render===xv&&(n.render=we),Ee!=null&&(n.inheritAttrs=Ee),Fe&&(n.components=Fe),O&&(n.directives=O),Me&&DY(n)}function _ue(n,s,l=xv){nr(n)&&(n=k$(n));for(const d in n){const g=n[d];let v;Ai(g)?"default"in g?v=wa(g.from||d,g.default,!0):v=wa(g.from||d):v=wa(g),Bs(v)?Object.defineProperty(s,d,{enumerable:!0,configurable:!0,get:()=>v.value,set:x=>v.value=x}):s[d]=v}}function BK(n,s,l){qh(nr(n)?n.map(d=>d.bind(s.proxy)):n.bind(s.proxy),s,l)}function MY(n,s,l,d){let g=d.includes(".")?KY(l,d):()=>l[d];if(Ga(n)){const v=s[n];Nr(v)&&Rn(g,v)}else if(Nr(n))Rn(g,n.bind(l));else if(Ai(n))if(nr(n))n.forEach(v=>MY(v,s,l,d));else{const v=Nr(n.handler)?n.handler.bind(l):s[n.handler];Nr(v)&&Rn(g,v,n)}}function _U(n){const s=n.type,{mixins:l,extends:d}=s,{mixins:g,optionsCache:v,config:{optionMergeStrategies:x}}=n.appContext,_=v.get(s);let N;return _?N=_:!g.length&&!l&&!d?N=s:(N={},g.length&&g.forEach(R=>gL(N,R,x,!0)),gL(N,s,x)),Ai(s)&&v.set(s,N),N}function gL(n,s,l,d=!1){const{mixins:g,extends:v}=s;v&&gL(n,v,l,!0),g&&g.forEach(x=>gL(n,x,l,!0));for(const x in s)if(!(d&&x==="expose")){const _=kue[x]||l&&l[x];n[x]=_?_(n[x],s[x]):s[x]}return n}const kue={data:LK,props:FK,emits:FK,methods:BO,computed:BO,beforeCreate:bd,created:bd,beforeMount:bd,mounted:bd,beforeUpdate:bd,updated:bd,beforeDestroy:bd,beforeUnmount:bd,destroyed:bd,unmounted:bd,activated:bd,deactivated:bd,errorCaptured:bd,serverPrefetch:bd,components:BO,directives:BO,watch:Eue,provide:LK,inject:Sue};function LK(n,s){return s?n?function(){return Wl(Nr(n)?n.call(this,this):n,Nr(s)?s.call(this,this):s)}:s:n}function Sue(n,s){return BO(k$(n),k$(s))}function k$(n){if(nr(n)){const s={};for(let l=0;l<n.length;l++)s[n[l]]=n[l];return s}return n}function bd(n,s){return n?[...new Set([].concat(n,s))]:s}function BO(n,s){return n?Wl(Object.create(null),n,s):s}function FK(n,s){return n?nr(n)&&nr(s)?[...new Set([...n,...s])]:Wl(Object.create(null),MK(n),MK(s??{})):s}function Eue(n,s){if(!n)return s;if(!s)return n;const l=Wl(Object.create(null),n);for(const d in s)l[d]=bd(n[d],s[d]);return l}function BY(){return{app:null,config:{isNativeTag:mce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Aue=0;function Tue(n,s){return function(d,g=null){Nr(d)||(d=Wl({},d)),g!=null&&!Ai(g)&&(g=null);const v=BY(),x=new WeakSet,_=[];let N=!1;const R=v.app={_uid:Aue++,_component:d,_props:g,_container:null,_context:v,_instance:null,version:lde,get config(){return v.config},set config(I){},use(I,...V){return x.has(I)||(I&&Nr(I.install)?(x.add(I),I.install(R,...V)):Nr(I)&&(x.add(I),I(R,...V))),R},mixin(I){return v.mixins.includes(I)||v.mixins.push(I),R},component(I,V){return V?(v.components[I]=V,R):v.components[I]},directive(I,V){return V?(v.directives[I]=V,R):v.directives[I]},mount(I,V,$){if(!N){const G=R._ceVNode||j(d,g);return G.appContext=v,$===!0?$="svg":$===!1&&($=void 0),V&&s?s(G,I):n(G,I,$),N=!0,R._container=I,I.__vue_app__=R,KL(G.component)}},onUnmount(I){_.push(I)},unmount(){N&&(qh(_,R._instance,16),n(null,R._container),delete R._container.__vue_app__)},provide(I,V){return v.provides[I]=V,R},runWithContext(I){const V=sC;sC=R;try{return I()}finally{sC=V}}};return R}}let sC=null;function _d(n,s){if(wc){let l=wc.provides;const d=wc.parent&&wc.parent.provides;d===l&&(l=wc.provides=Object.create(d)),l[n]=s}}function wa(n,s,l=!1){const d=wc||Cd;if(d||sC){const g=sC?sC._context.provides:d?d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(g&&n in g)return g[n];if(arguments.length>1)return l&&Nr(s)?s.call(d&&d.proxy):s}}function Oue(){return!!(wc||Cd||sC)}const LY={},FY=()=>Object.create(LY),VY=n=>Object.getPrototypeOf(n)===LY;function Due(n,s,l,d=!1){const g={},v=FY();n.propsDefaults=Object.create(null),zY(n,s,g,v);for(const x in n.propsOptions[0])x in g||(g[x]=void 0);l?n.props=d?g:Gce(g):n.type.props?n.props=g:n.props=v,n.attrs=v}function Rue(n,s,l,d){const{props:g,attrs:v,vnode:{patchFlag:x}}=n,_=sr(g),[N]=n.propsOptions;let R=!1;if((d||x>0)&&!(x&16)){if(x&8){const I=n.vnode.dynamicProps;for(let V=0;V<I.length;V++){let $=I[V];if(ZL(n.emitsOptions,$))continue;const G=s[$];if(N)if(di(v,$))G!==v[$]&&(v[$]=G,R=!0);else{const W=gm($);g[W]=S$(N,_,W,G,n,!1)}else G!==v[$]&&(v[$]=G,R=!0)}}}else{zY(n,s,g,v)&&(R=!0);let I;for(const V in _)(!s||!di(s,V)&&((I=gC(V))===V||!di(s,I)))&&(N?l&&(l[V]!==void 0||l[I]!==void 0)&&(g[V]=S$(N,_,V,void 0,n,!0)):delete g[V]);if(v!==_)for(const V in v)(!s||!di(s,V))&&(delete v[V],R=!0)}R&&S1(n.attrs,"set","")}function zY(n,s,l,d){const[g,v]=n.propsOptions;let x=!1,_;if(s)for(let N in s){if(FO(N))continue;const R=s[N];let I;g&&di(g,I=gm(N))?!v||!v.includes(I)?l[I]=R:(_||(_={}))[I]=R:ZL(n.emitsOptions,N)||(!(N in d)||R!==d[N])&&(d[N]=R,x=!0)}if(v){const N=sr(l),R=_||zi;for(let I=0;I<v.length;I++){const V=v[I];l[V]=S$(g,N,V,R[V],n,!di(R,V))}}return x}function S$(n,s,l,d,g,v){const x=n[l];if(x!=null){const _=di(x,"default");if(_&&d===void 0){const N=x.default;if(x.type!==Function&&!x.skipFactory&&Nr(N)){const{propsDefaults:R}=g;if(l in R)d=R[l];else{const I=AD(g);d=R[l]=N.call(null,s),I()}}else d=N;g.ce&&g.ce._setProp(l,d)}x[0]&&(v&&!_?d=!1:x[1]&&(d===""||d===gC(l))&&(d=!0))}return d}const Iue=new WeakMap;function HY(n,s,l=!1){const d=l?Iue:s.propsCache,g=d.get(n);if(g)return g;const v=n.props,x={},_=[];let N=!1;if(!Nr(n)){const I=V=>{N=!0;const[$,G]=HY(V,s,!0);Wl(x,$),G&&_.push(...G)};!l&&s.mixins.length&&s.mixins.forEach(I),n.extends&&I(n.extends),n.mixins&&n.mixins.forEach(I)}if(!v&&!N)return Ai(n)&&d.set(n,VS),VS;if(nr(v))for(let I=0;I<v.length;I++){const V=gm(v[I]);VK(V)&&(x[V]=zi)}else if(v)for(const I in v){const V=gm(I);if(VK(V)){const $=v[I],G=x[V]=nr($)||Nr($)?{type:$}:Wl({},$),W=G.type;let te=!1,ae=!0;if(nr(W))for(let ce=0;ce<W.length;++ce){const Ve=W[ce],Ce=Nr(Ve)&&Ve.name;if(Ce==="Boolean"){te=!0;break}else Ce==="String"&&(ae=!1)}else te=Nr(W)&&W.name==="Boolean";G[0]=te,G[1]=ae,(te||di(G,"default"))&&_.push(V)}}const R=[x,_];return Ai(n)&&d.set(n,R),R}function VK(n){return n[0]!=="$"&&!FO(n)}const $Y=n=>n[0]==="_"||n==="$stable",kU=n=>nr(n)?n.map(gv):[gv(n)],Nue=(n,s,l)=>{if(s._n)return s;const d=Ct((...g)=>kU(s(...g)),l);return d._c=!1,d},UY=(n,s,l)=>{const d=n._ctx;for(const g in n){if($Y(g))continue;const v=n[g];if(Nr(v))s[g]=Nue(g,v,d);else if(v!=null){const x=kU(v);s[g]=()=>x}}},WY=(n,s)=>{const l=kU(s);n.slots.default=()=>l},ZY=(n,s,l)=>{for(const d in s)(l||d!=="_")&&(n[d]=s[d])},Pue=(n,s,l)=>{const d=n.slots=FY();if(n.vnode.shapeFlag&32){const g=s._;g?(ZY(d,s,l),l&&jq(d,"_",g,!0)):UY(s,d)}else s&&WY(n,s)},Mue=(n,s,l)=>{const{vnode:d,slots:g}=n;let v=!0,x=zi;if(d.shapeFlag&32){const _=s._;_?l&&_===1?v=!1:ZY(g,s,l):(v=!s.$stable,UY(s,g)),x=s}else s&&(WY(n,s),x={default:1});if(v)for(const _ in g)!$Y(_)&&x[_]==null&&delete g[_]},rf=que;function Bue(n){return Lue(n)}function Lue(n,s){const l=Kq();l.__VUE__=!0;const{insert:d,remove:g,patchProp:v,createElement:x,createText:_,createComment:N,setText:R,setElementText:I,parentNode:V,nextSibling:$,setScopeId:G=xv,insertStaticContent:W}=n,te=(Ke,ie,be,Le=null,he=null,gt=null,zt=void 0,vt=null,Ft=!!ie.dynamicChildren)=>{if(Ke===ie)return;Ke&&!tC(Ke,ie)&&(Le=kn(Ke),Ye(Ke,he,gt,!0),Ke=null),ie.patchFlag===-2&&(Ft=!1,ie.dynamicChildren=null);const{type:Vt,ref:wn,shapeFlag:cn}=ie;switch(Vt){case ED:ae(Ke,ie,be,Le);break;case wd:ce(Ke,ie,be,Le);break;case UH:Ke==null&&Ve(ie,be,Le,zt);break;case ir:Fe(Ke,ie,be,Le,he,gt,zt,vt,Ft);break;default:cn&1?we(Ke,ie,be,Le,he,gt,zt,vt,Ft):cn&6?O(Ke,ie,be,Le,he,gt,zt,vt,Ft):(cn&64||cn&128)&&Vt.process(Ke,ie,be,Le,he,gt,zt,vt,Ft,eo)}wn!=null&&he&&w$(wn,Ke&&Ke.ref,gt,ie||Ke,!ie)},ae=(Ke,ie,be,Le)=>{if(Ke==null)d(ie.el=_(ie.children),be,Le);else{const he=ie.el=Ke.el;ie.children!==Ke.children&&R(he,ie.children)}},ce=(Ke,ie,be,Le)=>{Ke==null?d(ie.el=N(ie.children||""),be,Le):ie.el=Ke.el},Ve=(Ke,ie,be,Le)=>{[Ke.el,Ke.anchor]=W(Ke.children,ie,be,Le,Ke.el,Ke.anchor)},Ce=({el:Ke,anchor:ie},be,Le)=>{let he;for(;Ke&&Ke!==ie;)he=$(Ke),d(Ke,be,Le),Ke=he;d(ie,be,Le)},ee=({el:Ke,anchor:ie})=>{let be;for(;Ke&&Ke!==ie;)be=$(Ke),g(Ke),Ke=be;g(ie)},we=(Ke,ie,be,Le,he,gt,zt,vt,Ft)=>{ie.type==="svg"?zt="svg":ie.type==="math"&&(zt="mathml"),Ke==null?le(ie,be,Le,he,gt,zt,vt,Ft):Me(Ke,ie,he,gt,zt,vt,Ft)},le=(Ke,ie,be,Le,he,gt,zt,vt)=>{let Ft,Vt;const{props:wn,shapeFlag:cn,transition:Tn,dirs:Dn}=Ke;if(Ft=Ke.el=x(Ke.type,gt,wn&&wn.is,wn),cn&8?I(Ft,Ke.children):cn&16&&Be(Ke.children,Ft,null,Le,he,HH(Ke,gt),zt,vt),Dn&&Gw(Ke,null,Le,"created"),Ze(Ft,Ke,Ke.scopeId,zt,Le),wn){for(const Ro in wn)Ro!=="value"&&!FO(Ro)&&v(Ft,Ro,null,wn[Ro],gt,Le);"value"in wn&&v(Ft,"value",null,wn.value,gt),(Vt=wn.onVnodeBeforeMount)&&dv(Vt,Le,Ke)}Dn&&Gw(Ke,null,Le,"beforeMount");const Co=Fue(he,Tn);Co&&Tn.beforeEnter(Ft),d(Ft,ie,be),((Vt=wn&&wn.onVnodeMounted)||Co||Dn)&&rf(()=>{Vt&&dv(Vt,Le,Ke),Co&&Tn.enter(Ft),Dn&&Gw(Ke,null,Le,"mounted")},he)},Ze=(Ke,ie,be,Le,he)=>{if(be&&G(Ke,be),Le)for(let gt=0;gt<Le.length;gt++)G(Ke,Le[gt]);if(he){let gt=he.subTree;if(ie===gt||qY(gt.type)&&(gt.ssContent===ie||gt.ssFallback===ie)){const zt=he.vnode;Ze(Ke,zt,zt.scopeId,zt.slotScopeIds,he.parent)}}},Be=(Ke,ie,be,Le,he,gt,zt,vt,Ft=0)=>{for(let Vt=Ft;Vt<Ke.length;Vt++){const wn=Ke[Vt]=vt?zy(Ke[Vt]):gv(Ke[Vt]);te(null,wn,ie,be,Le,he,gt,zt,vt)}},Me=(Ke,ie,be,Le,he,gt,zt)=>{const vt=ie.el=Ke.el;let{patchFlag:Ft,dynamicChildren:Vt,dirs:wn}=ie;Ft|=Ke.patchFlag&16;const cn=Ke.props||zi,Tn=ie.props||zi;let Dn;if(be&&qw(be,!1),(Dn=Tn.onVnodeBeforeUpdate)&&dv(Dn,be,ie,Ke),wn&&Gw(ie,Ke,be,"beforeUpdate"),be&&qw(be,!0),(cn.innerHTML&&Tn.innerHTML==null||cn.textContent&&Tn.textContent==null)&&I(vt,""),Vt?Xe(Ke.dynamicChildren,Vt,vt,be,Le,HH(ie,he),gt):zt||tt(Ke,ie,vt,null,be,Le,HH(ie,he),gt,!1),Ft>0){if(Ft&16)Ee(vt,cn,Tn,be,he);else if(Ft&2&&cn.class!==Tn.class&&v(vt,"class",null,Tn.class,he),Ft&4&&v(vt,"style",cn.style,Tn.style,he),Ft&8){const Co=ie.dynamicProps;for(let Ro=0;Ro<Co.length;Ro++){const Uo=Co[Ro],fr=cn[Uo],as=Tn[Uo];(as!==fr||Uo==="value")&&v(vt,Uo,fr,as,he,be)}}Ft&1&&Ke.children!==ie.children&&I(vt,ie.children)}else!zt&&Vt==null&&Ee(vt,cn,Tn,be,he);((Dn=Tn.onVnodeUpdated)||wn)&&rf(()=>{Dn&&dv(Dn,be,ie,Ke),wn&&Gw(ie,Ke,be,"updated")},Le)},Xe=(Ke,ie,be,Le,he,gt,zt)=>{for(let vt=0;vt<ie.length;vt++){const Ft=Ke[vt],Vt=ie[vt],wn=Ft.el&&(Ft.type===ir||!tC(Ft,Vt)||Ft.shapeFlag&70)?V(Ft.el):be;te(Ft,Vt,wn,null,Le,he,gt,zt,!0)}},Ee=(Ke,ie,be,Le,he)=>{if(ie!==be){if(ie!==zi)for(const gt in ie)!FO(gt)&&!(gt in be)&&v(Ke,gt,ie[gt],null,he,Le);for(const gt in be){if(FO(gt))continue;const zt=be[gt],vt=ie[gt];zt!==vt&&gt!=="value"&&v(Ke,gt,vt,zt,he,Le)}"value"in be&&v(Ke,"value",ie.value,be.value,he)}},Fe=(Ke,ie,be,Le,he,gt,zt,vt,Ft)=>{const Vt=ie.el=Ke?Ke.el:_(""),wn=ie.anchor=Ke?Ke.anchor:_("");let{patchFlag:cn,dynamicChildren:Tn,slotScopeIds:Dn}=ie;Dn&&(vt=vt?vt.concat(Dn):Dn),Ke==null?(d(Vt,be,Le),d(wn,be,Le),Be(ie.children||[],be,wn,he,gt,zt,vt,Ft)):cn>0&&cn&64&&Tn&&Ke.dynamicChildren?(Xe(Ke.dynamicChildren,Tn,be,he,gt,zt,vt),(ie.key!=null||he&&ie===he.subTree)&&SU(Ke,ie,!0)):tt(Ke,ie,be,wn,he,gt,zt,vt,Ft)},O=(Ke,ie,be,Le,he,gt,zt,vt,Ft)=>{ie.slotScopeIds=vt,Ke==null?ie.shapeFlag&512?he.ctx.activate(ie,be,Le,zt,Ft):Ge(ie,be,Le,he,gt,zt,Ft):ct(Ke,ie,Ft)},Ge=(Ke,ie,be,Le,he,gt,zt)=>{const vt=Ke.component=tde(Ke,Le,he);if($L(Ke)&&(vt.ctx.renderer=eo),nde(vt,!1,zt),vt.asyncDep){if(he&&he.registerDep(vt,$t,zt),!Ke.el){const Ft=vt.subTree=j(wd);ce(null,Ft,ie,be)}}else $t(vt,Ke,ie,be,he,gt,zt)},ct=(Ke,ie,be)=>{const Le=ie.component=Ke.component;if(Kue(Ke,ie,be))if(Le.asyncDep&&!Le.asyncResolved){Jt(Le,ie,be);return}else Le.next=ie,Le.update();else ie.el=Ke.el,Le.vnode=ie},$t=(Ke,ie,be,Le,he,gt,zt)=>{const vt=()=>{if(Ke.isMounted){let{next:cn,bu:Tn,u:Dn,parent:Co,vnode:Ro}=Ke;{const As=jY(Ke);if(As){cn&&(cn.el=Ro.el,Jt(Ke,cn,zt)),As.asyncDep.then(()=>{Ke.isUnmounted||vt()});return}}let Uo=cn,fr;qw(Ke,!1),cn?(cn.el=Ro.el,Jt(Ke,cn,zt)):cn=Ro,Tn&&QB(Tn),(fr=cn.props&&cn.props.onVnodeBeforeUpdate)&&dv(fr,Co,cn,Ro),qw(Ke,!0);const as=$H(Ke),mr=Ke.subTree;Ke.subTree=as,te(mr,as,V(mr.el),kn(mr),Ke,he,gt),cn.el=as.el,Uo===null&&Gue(Ke,as.el),Dn&&rf(Dn,he),(fr=cn.props&&cn.props.onVnodeUpdated)&&rf(()=>dv(fr,Co,cn,Ro),he)}else{let cn;const{el:Tn,props:Dn}=ie,{bm:Co,m:Ro,parent:Uo,root:fr,type:as}=Ke,mr=HO(ie);if(qw(Ke,!1),Co&&QB(Co),!mr&&(cn=Dn&&Dn.onVnodeBeforeMount)&&dv(cn,Uo,ie),qw(Ke,!0),Tn&&Do){const As=()=>{Ke.subTree=$H(Ke),Do(Tn,Ke.subTree,Ke,he,null)};mr&&as.__asyncHydrate?as.__asyncHydrate(Tn,Ke,As):As()}else{fr.ce&&fr.ce._injectChildStyle(as);const As=Ke.subTree=$H(Ke);te(null,As,be,Le,Ke,he,gt),ie.el=As.el}if(Ro&&rf(Ro,he),!mr&&(cn=Dn&&Dn.onVnodeMounted)){const As=ie;rf(()=>dv(cn,Uo,As),he)}(ie.shapeFlag&256||Uo&&HO(Uo.vnode)&&Uo.vnode.shapeFlag&256)&&Ke.a&&rf(Ke.a,he),Ke.isMounted=!0,ie=be=Le=null}};Ke.scope.on();const Ft=Ke.effect=new Qq(vt);Ke.scope.off();const Vt=Ke.update=Ft.run.bind(Ft),wn=Ke.job=Ft.runIfDirty.bind(Ft);wn.i=Ke,wn.id=Ke.uid,Ft.scheduler=()=>bU(wn),qw(Ke,!0),Vt()},Jt=(Ke,ie,be)=>{ie.component=Ke;const Le=Ke.vnode.props;Ke.vnode=ie,Ke.next=null,Rue(Ke,ie.props,Le,be),Mue(Ke,ie.children,be),Xy(),DK(Ke),Jy()},tt=(Ke,ie,be,Le,he,gt,zt,vt,Ft=!1)=>{const Vt=Ke&&Ke.children,wn=Ke?Ke.shapeFlag:0,cn=ie.children,{patchFlag:Tn,shapeFlag:Dn}=ie;if(Tn>0){if(Tn&128){Lt(Vt,cn,be,Le,he,gt,zt,vt,Ft);return}else if(Tn&256){pt(Vt,cn,be,Le,he,gt,zt,vt,Ft);return}}Dn&8?(wn&16&&fn(Vt,he,gt),cn!==Vt&&I(be,cn)):wn&16?Dn&16?Lt(Vt,cn,be,Le,he,gt,zt,vt,Ft):fn(Vt,he,gt,!0):(wn&8&&I(be,""),Dn&16&&Be(cn,be,Le,he,gt,zt,vt,Ft))},pt=(Ke,ie,be,Le,he,gt,zt,vt,Ft)=>{Ke=Ke||VS,ie=ie||VS;const Vt=Ke.length,wn=ie.length,cn=Math.min(Vt,wn);let Tn;for(Tn=0;Tn<cn;Tn++){const Dn=ie[Tn]=Ft?zy(ie[Tn]):gv(ie[Tn]);te(Ke[Tn],Dn,be,null,he,gt,zt,vt,Ft)}Vt>wn?fn(Ke,he,gt,!0,!1,cn):Be(ie,be,Le,he,gt,zt,vt,Ft,cn)},Lt=(Ke,ie,be,Le,he,gt,zt,vt,Ft)=>{let Vt=0;const wn=ie.length;let cn=Ke.length-1,Tn=wn-1;for(;Vt<=cn&&Vt<=Tn;){const Dn=Ke[Vt],Co=ie[Vt]=Ft?zy(ie[Vt]):gv(ie[Vt]);if(tC(Dn,Co))te(Dn,Co,be,null,he,gt,zt,vt,Ft);else break;Vt++}for(;Vt<=cn&&Vt<=Tn;){const Dn=Ke[cn],Co=ie[Tn]=Ft?zy(ie[Tn]):gv(ie[Tn]);if(tC(Dn,Co))te(Dn,Co,be,null,he,gt,zt,vt,Ft);else break;cn--,Tn--}if(Vt>cn){if(Vt<=Tn){const Dn=Tn+1,Co=Dn<wn?ie[Dn].el:Le;for(;Vt<=Tn;)te(null,ie[Vt]=Ft?zy(ie[Vt]):gv(ie[Vt]),be,Co,he,gt,zt,vt,Ft),Vt++}}else if(Vt>Tn)for(;Vt<=cn;)Ye(Ke[Vt],he,gt,!0),Vt++;else{const Dn=Vt,Co=Vt,Ro=new Map;for(Vt=Co;Vt<=Tn;Vt++){const bo=ie[Vt]=Ft?zy(ie[Vt]):gv(ie[Vt]);bo.key!=null&&Ro.set(bo.key,Vt)}let Uo,fr=0;const as=Tn-Co+1;let mr=!1,As=0;const hn=new Array(as);for(Vt=0;Vt<as;Vt++)hn[Vt]=0;for(Vt=Dn;Vt<=cn;Vt++){const bo=Ke[Vt];if(fr>=as){Ye(bo,he,gt,!0);continue}let rs;if(bo.key!=null)rs=Ro.get(bo.key);else for(Uo=Co;Uo<=Tn;Uo++)if(hn[Uo-Co]===0&&tC(bo,ie[Uo])){rs=Uo;break}rs===void 0?Ye(bo,he,gt,!0):(hn[rs-Co]=Vt+1,rs>=As?As=rs:mr=!0,te(bo,ie[rs],be,null,he,gt,zt,vt,Ft),fr++)}const To=mr?Vue(hn):VS;for(Uo=To.length-1,Vt=as-1;Vt>=0;Vt--){const bo=Co+Vt,rs=ie[bo],ea=bo+1<wn?ie[bo+1].el:Le;hn[Vt]===0?te(null,rs,be,ea,he,gt,zt,vt,Ft):mr&&(Uo<0||Vt!==To[Uo]?nt(rs,be,ea,2):Uo--)}}},nt=(Ke,ie,be,Le,he=null)=>{const{el:gt,type:zt,transition:vt,children:Ft,shapeFlag:Vt}=Ke;if(Vt&6){nt(Ke.component.subTree,ie,be,Le);return}if(Vt&128){Ke.suspense.move(ie,be,Le);return}if(Vt&64){zt.move(Ke,ie,be,eo);return}if(zt===ir){d(gt,ie,be);for(let cn=0;cn<Ft.length;cn++)nt(Ft[cn],ie,be,Le);d(Ke.anchor,ie,be);return}if(zt===UH){Ce(Ke,ie,be);return}if(Le!==2&&Vt&1&&vt)if(Le===0)vt.beforeEnter(gt),d(gt,ie,be),rf(()=>vt.enter(gt),he);else{const{leave:cn,delayLeave:Tn,afterLeave:Dn}=vt,Co=()=>d(gt,ie,be),Ro=()=>{cn(gt,()=>{Co(),Dn&&Dn()})};Tn?Tn(gt,Co,Ro):Ro()}else d(gt,ie,be)},Ye=(Ke,ie,be,Le=!1,he=!1)=>{const{type:gt,props:zt,ref:vt,children:Ft,dynamicChildren:Vt,shapeFlag:wn,patchFlag:cn,dirs:Tn,cacheIndex:Dn}=Ke;if(cn===-2&&(he=!1),vt!=null&&w$(vt,null,be,Ke,!0),Dn!=null&&(ie.renderCache[Dn]=void 0),wn&256){ie.ctx.deactivate(Ke);return}const Co=wn&1&&Tn,Ro=!HO(Ke);let Uo;if(Ro&&(Uo=zt&&zt.onVnodeBeforeUnmount)&&dv(Uo,ie,Ke),wn&6)zn(Ke.component,be,Le);else{if(wn&128){Ke.suspense.unmount(be,Le);return}Co&&Gw(Ke,null,ie,"beforeUnmount"),wn&64?Ke.type.remove(Ke,ie,be,eo,Le):Vt&&!Vt.hasOnce&&(gt!==ir||cn>0&&cn&64)?fn(Vt,ie,be,!1,!0):(gt===ir&&cn&384||!he&&wn&16)&&fn(Ft,ie,be),Le&&Mt(Ke)}(Ro&&(Uo=zt&&zt.onVnodeUnmounted)||Co)&&rf(()=>{Uo&&dv(Uo,ie,Ke),Co&&Gw(Ke,null,ie,"unmounted")},be)},Mt=Ke=>{const{type:ie,el:be,anchor:Le,transition:he}=Ke;if(ie===ir){oo(be,Le);return}if(ie===UH){ee(Ke);return}const gt=()=>{g(be),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(Ke.shapeFlag&1&&he&&!he.persisted){const{leave:zt,delayLeave:vt}=he,Ft=()=>zt(be,gt);vt?vt(Ke.el,gt,Ft):Ft()}else gt()},oo=(Ke,ie)=>{let be;for(;Ke!==ie;)be=$(Ke),g(Ke),Ke=be;g(ie)},zn=(Ke,ie,be)=>{const{bum:Le,scope:he,job:gt,subTree:zt,um:vt,m:Ft,a:Vt}=Ke;zK(Ft),zK(Vt),Le&&QB(Le),he.stop(),gt&&(gt.flags|=8,Ye(zt,Ke,ie,be)),vt&&rf(vt,ie),rf(()=>{Ke.isUnmounted=!0},ie),ie&&ie.pendingBranch&&!ie.isUnmounted&&Ke.asyncDep&&!Ke.asyncResolved&&Ke.suspenseId===ie.pendingId&&(ie.deps--,ie.deps===0&&ie.resolve())},fn=(Ke,ie,be,Le=!1,he=!1,gt=0)=>{for(let zt=gt;zt<Ke.length;zt++)Ye(Ke[zt],ie,be,Le,he)},kn=Ke=>{if(Ke.shapeFlag&6)return kn(Ke.component.subTree);if(Ke.shapeFlag&128)return Ke.suspense.next();const ie=$(Ke.anchor||Ke.el),be=ie&&ie[wY];return be?$(be):ie};let J=!1;const Cr=(Ke,ie,be)=>{Ke==null?ie._vnode&&Ye(ie._vnode,null,null,!0):te(ie._vnode||null,Ke,ie,null,null,null,be),ie._vnode=Ke,J||(J=!0,DK(),bY(),J=!1)},eo={p:te,um:Ye,m:nt,r:Mt,mt:Ge,mc:Be,pc:tt,pbc:Xe,n:kn,o:n};let tn,Do;return{render:Cr,hydrate:tn,createApp:Tue(Cr,tn)}}function HH({type:n,props:s},l){return l==="svg"&&n==="foreignObject"||l==="mathml"&&n==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:l}function qw({effect:n,job:s},l){l?(n.flags|=32,s.flags|=4):(n.flags&=-33,s.flags&=-5)}function Fue(n,s){return(!n||n&&!n.pendingBranch)&&s&&!s.persisted}function SU(n,s,l=!1){const d=n.children,g=s.children;if(nr(d)&&nr(g))for(let v=0;v<d.length;v++){const x=d[v];let _=g[v];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=g[v]=zy(g[v]),_.el=x.el),!l&&_.patchFlag!==-2&&SU(x,_)),_.type===ED&&(_.el=x.el)}}function Vue(n){const s=n.slice(),l=[0];let d,g,v,x,_;const N=n.length;for(d=0;d<N;d++){const R=n[d];if(R!==0){if(g=l[l.length-1],n[g]<R){s[d]=g,l.push(d);continue}for(v=0,x=l.length-1;v<x;)_=v+x>>1,n[l[_]]<R?v=_+1:x=_;R<n[l[v]]&&(v>0&&(s[d]=l[v-1]),l[v]=d)}}for(v=l.length,x=l[v-1];v-- >0;)l[v]=x,x=s[x];return l}function jY(n){const s=n.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:jY(s)}function zK(n){if(n)for(let s=0;s<n.length;s++)n[s].flags|=8}const zue=Symbol.for("v-scx"),Hue=()=>wa(zue);function df(n,s){return EU(n,null,s)}function Rn(n,s,l){return EU(n,s,l)}function EU(n,s,l=zi){const{immediate:d,deep:g,flush:v,once:x}=l,_=Wl({},l);let N;if(jL)if(v==="sync"){const $=Hue();N=$.__watcherHandles||($.__watcherHandles=[])}else if(!s||d)_.once=!0;else{const $=()=>{};return $.stop=xv,$.resume=xv,$.pause=xv,$}const R=wc;_.call=($,G,W)=>qh($,R,G,W);let I=!1;v==="post"?_.scheduler=$=>{rf($,R&&R.suspense)}:v!=="sync"&&(I=!0,_.scheduler=($,G)=>{G?$():bU($)}),_.augmentJob=$=>{s&&($.flags|=4),I&&($.flags|=2,R&&($.id=R.uid,$.i=R))};const V=nue(n,s,_);return N&&N.push(V),V}function $ue(n,s,l){const d=this.proxy,g=Ga(n)?n.includes(".")?KY(d,n):()=>d[n]:n.bind(d,d);let v;Nr(s)?v=s:(v=s.handler,l=s);const x=AD(this),_=EU(g,v.bind(d),l);return x(),_}function KY(n,s){const l=s.split(".");return()=>{let d=n;for(let g=0;g<l.length&&d;g++)d=d[l[g]];return d}}const Uue=(n,s)=>s==="modelValue"||s==="model-value"?n.modelModifiers:n[`${s}Modifiers`]||n[`${gm(s)}Modifiers`]||n[`${gC(s)}Modifiers`];function Wue(n,s,...l){if(n.isUnmounted)return;const d=n.vnode.props||zi;let g=l;const v=s.startsWith("update:"),x=v&&Uue(d,s.slice(7));x&&(x.trim&&(g=l.map(I=>Ga(I)?I.trim():I)),x.number&&(g=l.map(uL)));let _,N=d[_=PH(s)]||d[_=PH(gm(s))];!N&&v&&(N=d[_=PH(gC(s))]),N&&qh(N,n,6,g);const R=d[_+"Once"];if(R){if(!n.emitted)n.emitted={};else if(n.emitted[_])return;n.emitted[_]=!0,qh(R,n,6,g)}}function GY(n,s,l=!1){const d=s.emitsCache,g=d.get(n);if(g!==void 0)return g;const v=n.emits;let x={},_=!1;if(!Nr(n)){const N=R=>{const I=GY(R,s,!0);I&&(_=!0,Wl(x,I))};!l&&s.mixins.length&&s.mixins.forEach(N),n.extends&&N(n.extends),n.mixins&&n.mixins.forEach(N)}return!v&&!_?(Ai(n)&&d.set(n,null),null):(nr(v)?v.forEach(N=>x[N]=null):Wl(x,v),Ai(n)&&d.set(n,x),x)}function ZL(n,s){return!n||!LL(s)?!1:(s=s.slice(2).replace(/Once$/,""),di(n,s[0].toLowerCase()+s.slice(1))||di(n,gC(s))||di(n,s))}function $H(n){const{type:s,vnode:l,proxy:d,withProxy:g,propsOptions:[v],slots:x,attrs:_,emit:N,render:R,renderCache:I,props:V,data:$,setupState:G,ctx:W,inheritAttrs:te}=n,ae=mL(n);let ce,Ve;try{if(l.shapeFlag&4){const ee=g||d,we=ee;ce=gv(R.call(we,ee,I,V,G,$,W)),Ve=_}else{const ee=s;ce=gv(ee.length>1?ee(V,{attrs:_,slots:x,emit:N}):ee(V,null)),Ve=s.props?_:Zue(_)}}catch(ee){UO.length=0,HL(ee,n,1),ce=j(wd)}let Ce=ce;if(Ve&&te!==!1){const ee=Object.keys(Ve),{shapeFlag:we}=Ce;ee.length&&we&7&&(v&&ee.some(oU)&&(Ve=jue(Ve,v)),Ce=O1(Ce,Ve,!1,!0))}return l.dirs&&(Ce=O1(Ce,null,!1,!0),Ce.dirs=Ce.dirs?Ce.dirs.concat(l.dirs):l.dirs),l.transition&&uC(Ce,l.transition),ce=Ce,mL(ae),ce}const Zue=n=>{let s;for(const l in n)(l==="class"||l==="style"||LL(l))&&((s||(s={}))[l]=n[l]);return s},jue=(n,s)=>{const l={};for(const d in n)(!oU(d)||!(d.slice(9)in s))&&(l[d]=n[d]);return l};function Kue(n,s,l){const{props:d,children:g,component:v}=n,{props:x,children:_,patchFlag:N}=s,R=v.emitsOptions;if(s.dirs||s.transition)return!0;if(l&&N>=0){if(N&1024)return!0;if(N&16)return d?HK(d,x,R):!!x;if(N&8){const I=s.dynamicProps;for(let V=0;V<I.length;V++){const $=I[V];if(x[$]!==d[$]&&!ZL(R,$))return!0}}}else return(g||_)&&(!_||!_.$stable)?!0:d===x?!1:d?x?HK(d,x,R):!0:!!x;return!1}function HK(n,s,l){const d=Object.keys(s);if(d.length!==Object.keys(n).length)return!0;for(let g=0;g<d.length;g++){const v=d[g];if(s[v]!==n[v]&&!ZL(l,v))return!0}return!1}function Gue({vnode:n,parent:s},l){for(;s;){const d=s.subTree;if(d.suspense&&d.suspense.activeBranch===n&&(d.el=n.el),d===n)(n=s.vnode).el=l,s=s.parent;else break}}const qY=n=>n.__isSuspense;function que(n,s){s&&s.pendingBranch?nr(n)?s.effects.push(...n):s.effects.push(n):sue(n)}const ir=Symbol.for("v-fgt"),ED=Symbol.for("v-txt"),wd=Symbol.for("v-cmt"),UH=Symbol.for("v-stc"),UO=[];let um=null;function _n(n=!1){UO.push(um=n?null:[])}function Yue(){UO.pop(),um=UO[UO.length-1]||null}let QO=1;function $K(n){QO+=n,n<0&&um&&(um.hasOnce=!0)}function YY(n){return n.dynamicChildren=QO>0?um||VS:null,Yue(),QO>0&&um&&um.push(n),n}function Bo(n,s,l,d,g,v){return YY(ye(n,s,l,d,g,v,!0))}function Xr(n,s,l,d,g){return YY(j(n,s,l,d,g,!0))}function hL(n){return n?n.__v_isVNode===!0:!1}function tC(n,s){return n.type===s.type&&n.key===s.key}const XY=({key:n})=>n??null,tL=({ref:n,ref_key:s,ref_for:l})=>(typeof n=="number"&&(n=""+n),n!=null?Ga(n)||Bs(n)||Nr(n)?{i:Cd,r:n,k:s,f:!!l}:n:null);function ye(n,s=null,l=null,d=0,g=null,v=n===ir?0:1,x=!1,_=!1){const N={__v_isVNode:!0,__v_skip:!0,type:n,props:s,key:s&&XY(s),ref:s&&tL(s),scopeId:xY,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:d,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Cd};return _?(AU(N,l),v&128&&n.normalize(N)):l&&(N.shapeFlag|=Ga(l)?8:16),QO>0&&!x&&um&&(N.patchFlag>0||v&6)&&N.patchFlag!==32&&um.push(N),N}const j=Xue;function Xue(n,s=null,l=null,d=0,g=null,v=!1){if((!n||n===yue)&&(n=wd),hL(n)){const _=O1(n,s,!0);return l&&AU(_,l),QO>0&&!v&&um&&(_.shapeFlag&6?um[um.indexOf(n)]=_:um.push(_)),_.patchFlag=-2,_}if(ade(n)&&(n=n.__vccOpts),s){s=Jue(s);let{class:_,style:N}=s;_&&!Ga(_)&&(s.class=qc(_)),Ai(N)&&(gU(N)&&!nr(N)&&(N=Wl({},N)),s.style=KO(N))}const x=Ga(n)?1:qY(n)?128:CY(n)?64:Ai(n)?4:Nr(n)?2:0;return ye(n,s,l,d,g,x,v,!0)}function Jue(n){return n?gU(n)||VY(n)?Wl({},n):n:null}function O1(n,s,l=!1,d=!1){const{props:g,ref:v,patchFlag:x,children:_,transition:N}=n,R=s?jo(g||{},s):g,I={__v_isVNode:!0,__v_skip:!0,type:n.type,props:R,key:R&&XY(R),ref:s&&s.ref?l&&v?nr(v)?v.concat(tL(s)):[v,tL(s)]:tL(s):v,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:_,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:s&&n.type!==ir?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:N,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&O1(n.ssContent),ssFallback:n.ssFallback&&O1(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return N&&d&&uC(I,N.clone(I)),I}function Hs(n=" ",s=0){return j(ED,null,n,s)}function vr(n="",s=!1){return s?(_n(),Xr(wd,null,n)):j(wd,null,n)}function gv(n){return n==null||typeof n=="boolean"?j(wd):nr(n)?j(ir,null,n.slice()):typeof n=="object"?zy(n):j(ED,null,String(n))}function zy(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:O1(n)}function AU(n,s){let l=0;const{shapeFlag:d}=n;if(s==null)s=null;else if(nr(s))l=16;else if(typeof s=="object")if(d&65){const g=s.default;g&&(g._c&&(g._d=!1),AU(n,g()),g._c&&(g._d=!0));return}else{l=32;const g=s._;!g&&!VY(s)?s._ctx=Cd:g===3&&Cd&&(Cd.slots._===1?s._=1:(s._=2,n.patchFlag|=1024))}else Nr(s)?(s={default:s,_ctx:Cd},l=32):(s=String(s),d&64?(l=16,s=[Hs(s)]):l=8);n.children=s,n.shapeFlag|=l}function jo(...n){const s={};for(let l=0;l<n.length;l++){const d=n[l];for(const g in d)if(g==="class")s.class!==d.class&&(s.class=qc([s.class,d.class]));else if(g==="style")s.style=KO([s.style,d.style]);else if(LL(g)){const v=s[g],x=d[g];x&&v!==x&&!(nr(v)&&v.includes(x))&&(s[g]=v?[].concat(v,x):x)}else g!==""&&(s[g]=d[g])}return s}function dv(n,s,l,d=null){qh(n,s,7,[l,d])}const Que=BY();let ede=0;function tde(n,s,l){const d=n.type,g=(s?s.appContext:n.appContext)||Que,v={uid:ede++,vnode:n,type:d,parent:s,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(g.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:HY(d,g),emitsOptions:GY(d,g),emit:null,emitted:null,propsDefaults:zi,inheritAttrs:d.inheritAttrs,ctx:zi,data:zi,props:zi,attrs:zi,slots:zi,refs:zi,setupState:zi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=s?s.root:v,v.emit=Wue.bind(null,v),n.ce&&n.ce(v),v}let wc=null;const TU=()=>wc||Cd;let pL,E$;{const n=Kq(),s=(l,d)=>{let g;return(g=n[l])||(g=n[l]=[]),g.push(d),v=>{g.length>1?g.forEach(x=>x(v)):g[0](v)}};pL=s("__VUE_INSTANCE_SETTERS__",l=>wc=l),E$=s("__VUE_SSR_SETTERS__",l=>jL=l)}const AD=n=>{const s=wc;return pL(n),n.scope.on(),()=>{n.scope.off(),pL(s)}},UK=()=>{wc&&wc.scope.off(),pL(null)};function JY(n){return n.vnode.shapeFlag&4}let jL=!1;function nde(n,s=!1,l=!1){s&&E$(s);const{props:d,children:g}=n.vnode,v=JY(n);Due(n,d,v,s),Pue(n,g,l);const x=v?ode(n,s):void 0;return s&&E$(!1),x}function ode(n,s){const l=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,wue);const{setup:d}=l;if(d){const g=n.setupContext=d.length>1?sde(n):null,v=AD(n);Xy();const x=SD(d,n,0,[n.props,g]);if(Jy(),v(),Uq(x)){if(HO(n)||DY(n),x.then(UK,UK),s)return x.then(_=>{WK(n,_,s)}).catch(_=>{HL(_,n,0)});n.asyncDep=x}else WK(n,x,s)}else QY(n,s)}function WK(n,s,l){Nr(s)?n.type.__ssrInlineRender?n.ssrRender=s:n.render=s:Ai(s)&&(n.setupState=gY(s)),QY(n,l)}let ZK;function QY(n,s,l){const d=n.type;if(!n.render){if(!s&&ZK&&!d.render){const g=d.template||_U(n).template;if(g){const{isCustomElement:v,compilerOptions:x}=n.appContext.config,{delimiters:_,compilerOptions:N}=d,R=Wl(Wl({isCustomElement:v,delimiters:_},x),N);d.render=ZK(g,R)}}n.render=d.render||xv}{const g=AD(n);Xy();try{Cue(n)}finally{Jy(),g()}}}const rde={get(n,s){return Ru(n,"get",""),n[s]}};function sde(n){const s=l=>{n.exposed=l||{}};return{attrs:new Proxy(n.attrs,rde),slots:n.slots,emit:n.emit,expose:s}}function KL(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(gY(hU(n.exposed)),{get(s,l){if(l in s)return s[l];if(l in $O)return $O[l](n)},has(s,l){return l in s||l in $O}})):n.proxy}function ide(n,s=!0){return Nr(n)?n.displayName||n.name:n.name||s&&n.__name}function ade(n){return Nr(n)&&"__vccOpts"in n}const qe=(n,s)=>eue(n,s,jL);function _v(n,s,l){const d=arguments.length;return d===2?Ai(s)&&!nr(s)?hL(s)?j(n,null,[s]):j(n,s):j(n,null,s):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&hL(l)&&(l=[l]),j(n,s,l))}const lde="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let A$;const jK=typeof window<"u"&&window.trustedTypes;if(jK)try{A$=jK.createPolicy("vue",{createHTML:n=>n})}catch{}const eX=A$?n=>A$.createHTML(n):n=>n,cde="http://www.w3.org/2000/svg",ude="http://www.w3.org/1998/Math/MathML",C1=typeof document<"u"?document:null,KK=C1&&C1.createElement("template"),dde={insert:(n,s,l)=>{s.insertBefore(n,l||null)},remove:n=>{const s=n.parentNode;s&&s.removeChild(n)},createElement:(n,s,l,d)=>{const g=s==="svg"?C1.createElementNS(cde,n):s==="mathml"?C1.createElementNS(ude,n):l?C1.createElement(n,{is:l}):C1.createElement(n);return n==="select"&&d&&d.multiple!=null&&g.setAttribute("multiple",d.multiple),g},createText:n=>C1.createTextNode(n),createComment:n=>C1.createComment(n),setText:(n,s)=>{n.nodeValue=s},setElementText:(n,s)=>{n.textContent=s},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>C1.querySelector(n),setScopeId(n,s){n.setAttribute(s,"")},insertStaticContent(n,s,l,d,g,v){const x=l?l.previousSibling:s.lastChild;if(g&&(g===v||g.nextSibling))for(;s.insertBefore(g.cloneNode(!0),l),!(g===v||!(g=g.nextSibling)););else{KK.innerHTML=eX(d==="svg"?`<svg>${n}</svg>`:d==="mathml"?`<math>${n}</math>`:n);const _=KK.content;if(d==="svg"||d==="mathml"){const N=_.firstChild;for(;N.firstChild;)_.appendChild(N.firstChild);_.removeChild(N)}s.insertBefore(_,l)}return[x?x.nextSibling:s.firstChild,l?l.previousSibling:s.lastChild]}},Ny="transition",DO="animation",US=Symbol("_vtc"),tX={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nX=Wl({},SY,tX),fde=n=>(n.displayName="Transition",n.props=nX,n),Ky=fde((n,{slots:s})=>_v(due,oX(n),s)),Yw=(n,s=[])=>{nr(n)?n.forEach(l=>l(...s)):n&&n(...s)},GK=n=>n?nr(n)?n.some(s=>s.length>1):n.length>1:!1;function oX(n){const s={};for(const Fe in n)Fe in tX||(s[Fe]=n[Fe]);if(n.css===!1)return s;const{name:l="v",type:d,duration:g,enterFromClass:v=`${l}-enter-from`,enterActiveClass:x=`${l}-enter-active`,enterToClass:_=`${l}-enter-to`,appearFromClass:N=v,appearActiveClass:R=x,appearToClass:I=_,leaveFromClass:V=`${l}-leave-from`,leaveActiveClass:$=`${l}-leave-active`,leaveToClass:G=`${l}-leave-to`}=n,W=mde(g),te=W&&W[0],ae=W&&W[1],{onBeforeEnter:ce,onEnter:Ve,onEnterCancelled:Ce,onLeave:ee,onLeaveCancelled:we,onBeforeAppear:le=ce,onAppear:Ze=Ve,onAppearCancelled:Be=Ce}=s,Me=(Fe,O,Ge)=>{By(Fe,O?I:_),By(Fe,O?R:x),Ge&&Ge()},Xe=(Fe,O)=>{Fe._isLeaving=!1,By(Fe,V),By(Fe,G),By(Fe,$),O&&O()},Ee=Fe=>(O,Ge)=>{const ct=Fe?Ze:Ve,$t=()=>Me(O,Fe,Ge);Yw(ct,[O,$t]),qK(()=>{By(O,Fe?N:v),w1(O,Fe?I:_),GK(ct)||YK(O,d,te,$t)})};return Wl(s,{onBeforeEnter(Fe){Yw(ce,[Fe]),w1(Fe,v),w1(Fe,x)},onBeforeAppear(Fe){Yw(le,[Fe]),w1(Fe,N),w1(Fe,R)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(Fe,O){Fe._isLeaving=!0;const Ge=()=>Xe(Fe,O);w1(Fe,V),w1(Fe,$),sX(),qK(()=>{Fe._isLeaving&&(By(Fe,V),w1(Fe,G),GK(ee)||YK(Fe,d,ae,Ge))}),Yw(ee,[Fe,Ge])},onEnterCancelled(Fe){Me(Fe,!1),Yw(Ce,[Fe])},onAppearCancelled(Fe){Me(Fe,!0),Yw(Be,[Fe])},onLeaveCancelled(Fe){Xe(Fe),Yw(we,[Fe])}})}function mde(n){if(n==null)return null;if(Ai(n))return[WH(n.enter),WH(n.leave)];{const s=WH(n);return[s,s]}}function WH(n){return bce(n)}function w1(n,s){s.split(/\s+/).forEach(l=>l&&n.classList.add(l)),(n[US]||(n[US]=new Set)).add(s)}function By(n,s){s.split(/\s+/).forEach(d=>d&&n.classList.remove(d));const l=n[US];l&&(l.delete(s),l.size||(n[US]=void 0))}function qK(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let gde=0;function YK(n,s,l,d){const g=n._endId=++gde,v=()=>{g===n._endId&&d()};if(l)return setTimeout(v,l);const{type:x,timeout:_,propCount:N}=rX(n,s);if(!x)return d();const R=x+"end";let I=0;const V=()=>{n.removeEventListener(R,$),v()},$=G=>{G.target===n&&++I>=N&&V()};setTimeout(()=>{I<N&&V()},_+1),n.addEventListener(R,$)}function rX(n,s){const l=window.getComputedStyle(n),d=W=>(l[W]||"").split(", "),g=d(`${Ny}Delay`),v=d(`${Ny}Duration`),x=XK(g,v),_=d(`${DO}Delay`),N=d(`${DO}Duration`),R=XK(_,N);let I=null,V=0,$=0;s===Ny?x>0&&(I=Ny,V=x,$=v.length):s===DO?R>0&&(I=DO,V=R,$=N.length):(V=Math.max(x,R),I=V>0?x>R?Ny:DO:null,$=I?I===Ny?v.length:N.length:0);const G=I===Ny&&/\b(transform|all)(,|$)/.test(d(`${Ny}Property`).toString());return{type:I,timeout:V,propCount:$,hasTransform:G}}function XK(n,s){for(;n.length<s.length;)n=n.concat(n);return Math.max(...s.map((l,d)=>JK(l)+JK(n[d])))}function JK(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function sX(){return document.body.offsetHeight}function hde(n,s,l){const d=n[US];d&&(s=(s?[s,...d]:[...d]).join(" ")),s==null?n.removeAttribute("class"):l?n.setAttribute("class",s):n.className=s}const vL=Symbol("_vod"),iX=Symbol("_vsh"),wo={beforeMount(n,{value:s},{transition:l}){n[vL]=n.style.display==="none"?"":n.style.display,l&&s?l.beforeEnter(n):RO(n,s)},mounted(n,{value:s},{transition:l}){l&&s&&l.enter(n)},updated(n,{value:s,oldValue:l},{transition:d}){!s!=!l&&(d?s?(d.beforeEnter(n),RO(n,!0),d.enter(n)):d.leave(n,()=>{RO(n,!1)}):RO(n,s))},beforeUnmount(n,{value:s}){RO(n,s)}};function RO(n,s){n.style.display=s?n[vL]:"none",n[iX]=!s}const pde=Symbol(""),vde=/(^|;)\s*display\s*:/;function bde(n,s,l){const d=n.style,g=Ga(l);let v=!1;if(l&&!g){if(s)if(Ga(s))for(const x of s.split(";")){const _=x.slice(0,x.indexOf(":")).trim();l[_]==null&&nL(d,_,"")}else for(const x in s)l[x]==null&&nL(d,x,"");for(const x in l)x==="display"&&(v=!0),nL(d,x,l[x])}else if(g){if(s!==l){const x=d[pde];x&&(l+=";"+x),d.cssText=l,v=vde.test(l)}}else s&&n.removeAttribute("style");vL in n&&(n[vL]=v?d.display:"",n[iX]&&(d.display="none"))}const QK=/\s*!important$/;function nL(n,s,l){if(nr(l))l.forEach(d=>nL(n,s,d));else if(l==null&&(l=""),s.startsWith("--"))n.setProperty(s,l);else{const d=yde(n,s);QK.test(l)?n.setProperty(gC(d),l.replace(QK,""),"important"):n[d]=l}}const eG=["Webkit","Moz","ms"],ZH={};function yde(n,s){const l=ZH[s];if(l)return l;let d=gm(s);if(d!=="filter"&&d in n)return ZH[s]=d;d=I1(d);for(let g=0;g<eG.length;g++){const v=eG[g]+d;if(v in n)return ZH[s]=v}return s}const tG="http://www.w3.org/1999/xlink";function nG(n,s,l,d,g,v=kce(s)){d&&s.startsWith("xlink:")?l==null?n.removeAttributeNS(tG,s.slice(6,s.length)):n.setAttributeNS(tG,s,l):l==null||v&&!Gq(l)?n.removeAttribute(s):n.setAttribute(s,v?"":Cv(l)?String(l):l)}function xde(n,s,l,d){if(s==="innerHTML"||s==="textContent"){l!=null&&(n[s]=s==="innerHTML"?eX(l):l);return}const g=n.tagName;if(s==="value"&&g!=="PROGRESS"&&!g.includes("-")){const x=g==="OPTION"?n.getAttribute("value")||"":n.value,_=l==null?n.type==="checkbox"?"on":"":String(l);(x!==_||!("_value"in n))&&(n.value=_),l==null&&n.removeAttribute(s),n._value=l;return}let v=!1;if(l===""||l==null){const x=typeof n[s];x==="boolean"?l=Gq(l):l==null&&x==="string"?(l="",v=!0):x==="number"&&(l=0,v=!0)}try{n[s]=l}catch{}v&&n.removeAttribute(s)}function Hy(n,s,l,d){n.addEventListener(s,l,d)}function wde(n,s,l,d){n.removeEventListener(s,l,d)}const oG=Symbol("_vei");function Cde(n,s,l,d,g=null){const v=n[oG]||(n[oG]={}),x=v[s];if(d&&x)x.value=d;else{const[_,N]=_de(s);if(d){const R=v[s]=Ede(d,g);Hy(n,_,R,N)}else x&&(wde(n,_,x,N),v[s]=void 0)}}const rG=/(?:Once|Passive|Capture)$/;function _de(n){let s;if(rG.test(n)){s={};let d;for(;d=n.match(rG);)n=n.slice(0,n.length-d[0].length),s[d[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gC(n.slice(2)),s]}let jH=0;const kde=Promise.resolve(),Sde=()=>jH||(kde.then(()=>jH=0),jH=Date.now());function Ede(n,s){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;qh(Ade(d,l.value),s,5,[d])};return l.value=n,l.attached=Sde(),l}function Ade(n,s){if(nr(s)){const l=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{l.call(n),n._stopped=!0},s.map(d=>g=>!g._stopped&&d&&d(g))}else return s}const sG=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Tde=(n,s,l,d,g,v)=>{const x=g==="svg";s==="class"?hde(n,d,x):s==="style"?bde(n,l,d):LL(s)?oU(s)||Cde(n,s,l,d,v):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Ode(n,s,d,x))?(xde(n,s,d),!n.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&nG(n,s,d,x,v,s!=="value")):(s==="true-value"?n._trueValue=d:s==="false-value"&&(n._falseValue=d),nG(n,s,d,x))};function Ode(n,s,l,d){if(d)return!!(s==="innerHTML"||s==="textContent"||s in n&&sG(s)&&Nr(l));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&n.tagName==="INPUT"||s==="type"&&n.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const g=n.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return sG(s)&&Ga(l)?!1:!!(s in n||n._isVueCE&&(/[A-Z]/.test(s)||!Ga(l)))}const aX=new WeakMap,lX=new WeakMap,bL=Symbol("_moveCb"),iG=Symbol("_enterCb"),Dde=n=>(delete n.props.mode,n),Rde=Dde({name:"TransitionGroup",props:Wl({},nX,{tag:String,moveClass:String}),setup(n,{slots:s}){const l=TU(),d=kY();let g,v;return CU(()=>{if(!g.length)return;const x=n.moveClass||`${n.name||"v"}-move`;if(!Mde(g[0].el,l.vnode.el,x))return;g.forEach(Ide),g.forEach(Nde);const _=g.filter(Pde);sX(),_.forEach(N=>{const R=N.el,I=R.style;w1(R,x),I.transform=I.webkitTransform=I.transitionDuration="";const V=R[bL]=$=>{$&&$.target!==R||(!$||/transform$/.test($.propertyName))&&(R.removeEventListener("transitionend",V),R[bL]=null,By(R,x))};R.addEventListener("transitionend",V)})}),()=>{const x=sr(n),_=oX(x);let N=x.tag||ir;if(g=[],v)for(let R=0;R<v.length;R++){const I=v[R];I.el&&I.el instanceof Element&&(g.push(I),uC(I,JO(I,_,d,l)),aX.set(I,I.el.getBoundingClientRect()))}v=s.default?yU(s.default()):[];for(let R=0;R<v.length;R++){const I=v[R];I.key!=null&&uC(I,JO(I,_,d,l))}return j(N,null,v)}}}),OU=Rde;function Ide(n){const s=n.el;s[bL]&&s[bL](),s[iG]&&s[iG]()}function Nde(n){lX.set(n,n.el.getBoundingClientRect())}function Pde(n){const s=aX.get(n),l=lX.get(n),d=s.left-l.left,g=s.top-l.top;if(d||g){const v=n.el.style;return v.transform=v.webkitTransform=`translate(${d}px,${g}px)`,v.transitionDuration="0s",n}}function Mde(n,s,l){const d=n.cloneNode(),g=n[US];g&&g.forEach(_=>{_.split(/\s+/).forEach(N=>N&&d.classList.remove(N))}),l.split(/\s+/).forEach(_=>_&&d.classList.add(_)),d.style.display="none";const v=s.nodeType===1?s:s.parentNode;v.appendChild(d);const{hasTransform:x}=rX(d);return v.removeChild(d),x}const WS=n=>{const s=n.props["onUpdate:modelValue"]||!1;return nr(s)?l=>QB(s,l):s};function Bde(n){n.target.composing=!0}function aG(n){const s=n.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const E1=Symbol("_assign"),D1={created(n,{modifiers:{lazy:s,trim:l,number:d}},g){n[E1]=WS(g);const v=d||g.props&&g.props.type==="number";Hy(n,s?"change":"input",x=>{if(x.target.composing)return;let _=n.value;l&&(_=_.trim()),v&&(_=uL(_)),n[E1](_)}),l&&Hy(n,"change",()=>{n.value=n.value.trim()}),s||(Hy(n,"compositionstart",Bde),Hy(n,"compositionend",aG),Hy(n,"change",aG))},mounted(n,{value:s}){n.value=s??""},beforeUpdate(n,{value:s,oldValue:l,modifiers:{lazy:d,trim:g,number:v}},x){if(n[E1]=WS(x),n.composing)return;const _=(v||n.type==="number")&&!/^0\d/.test(n.value)?uL(n.value):n.value,N=s??"";_!==N&&(document.activeElement===n&&n.type!=="range"&&(d&&s===l||g&&n.value.trim()===N)||(n.value=N))}},lG={deep:!0,created(n,s,l){n[E1]=WS(l),Hy(n,"change",()=>{const d=n._modelValue,g=eD(n),v=n.checked,x=n[E1];if(nr(d)){const _=iU(d,g),N=_!==-1;if(v&&!N)x(d.concat(g));else if(!v&&N){const R=[...d];R.splice(_,1),x(R)}}else if(XS(d)){const _=new Set(d);v?_.add(g):_.delete(g),x(_)}else x(cX(n,v))})},mounted:cG,beforeUpdate(n,s,l){n[E1]=WS(l),cG(n,s,l)}};function cG(n,{value:s,oldValue:l},d){n._modelValue=s;let g;nr(s)?g=iU(s,d.props.value)>-1:XS(s)?g=s.has(d.props.value):g=wD(s,cX(n,!0)),n.checked!==g&&(n.checked=g)}const zB={deep:!0,created(n,{value:s,modifiers:{number:l}},d){const g=XS(s);Hy(n,"change",()=>{const v=Array.prototype.filter.call(n.options,x=>x.selected).map(x=>l?uL(eD(x)):eD(x));n[E1](n.multiple?g?new Set(v):v:v[0]),n._assigning=!0,Er(()=>{n._assigning=!1})}),n[E1]=WS(d)},mounted(n,{value:s,modifiers:{number:l}}){uG(n,s)},beforeUpdate(n,s,l){n[E1]=WS(l)},updated(n,{value:s,modifiers:{number:l}}){n._assigning||uG(n,s)}};function uG(n,s,l){const d=n.multiple,g=nr(s);if(!(d&&!g&&!XS(s))){for(let v=0,x=n.options.length;v<x;v++){const _=n.options[v],N=eD(_);if(d)if(g){const R=typeof N;R==="string"||R==="number"?_.selected=s.some(I=>String(I)===String(N)):_.selected=iU(s,N)>-1}else _.selected=s.has(N);else if(wD(eD(_),s)){n.selectedIndex!==v&&(n.selectedIndex=v);return}}!d&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function eD(n){return"_value"in n?n._value:n.value}function cX(n,s){const l=s?"_trueValue":"_falseValue";return l in n?n[l]:s}const Lde=Wl({patchProp:Tde},dde);let dG;function Fde(){return dG||(dG=Bue(Lde))}const Vde=(...n)=>{const s=Fde().createApp(...n),{mount:l}=s;return s.mount=d=>{const g=Hde(d);if(!g)return;const v=s._component;!Nr(v)&&!v.render&&!v.template&&(v.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=l(g,!1,zde(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},s};function zde(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Hde(n){return Ga(n)?document.querySelector(n):n}function Ng(n,s){let l;function d(){l=CD(),l.run(()=>s.length?s(()=>{l==null||l.stop(),d()}):s())}Rn(n,g=>{g&&!l?d():g||(l==null||l.stop(),l=void 0)},{immediate:!0}),Iu(()=>{l==null||l.stop()})}const fi=typeof window<"u",DU=fi&&"IntersectionObserver"in window,$de=fi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function fG(n,s,l){Ude(n,s),s.set(n,l)}function Ude(n,s){if(s.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wde(n,s,l){return n.set(uX(n,s),l),l}function Xw(n,s){return n.get(uX(n,s))}function uX(n,s,l){if(typeof n=="function"?n===s:n.has(s))return arguments.length<3?s:l;throw new TypeError("Private element is not present on this object")}function dX(n,s,l){const d=s.length-1;if(d<0)return n===void 0?l:n;for(let g=0;g<d;g++){if(n==null)return l;n=n[s[g]]}return n==null||n[s[d]]===void 0?l:n[s[d]]}function JS(n,s){if(n===s)return!0;if(n instanceof Date&&s instanceof Date&&n.getTime()!==s.getTime()||n!==Object(n)||s!==Object(s))return!1;const l=Object.keys(n);return l.length!==Object.keys(s).length?!1:l.every(d=>JS(n[d],s[d]))}function T$(n,s,l){return n==null||!s||typeof s!="string"?l:n[s]!==void 0?n[s]:(s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,""),dX(n,s.split("."),l))}function hv(n,s,l){if(s===!0)return n===void 0?l:n;if(s==null||typeof s=="boolean")return l;if(n!==Object(n)){if(typeof s!="function")return l;const g=s(n,l);return typeof g>"u"?l:g}if(typeof s=="string")return T$(n,s,l);if(Array.isArray(s))return dX(n,s,l);if(typeof s!="function")return l;const d=s(n,l);return typeof d>"u"?l:d}function fX(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(l,d)=>s+d)}function br(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(n==null||n===""))return isNaN(+n)?String(n):isFinite(+n)?`${Number(n)}${s}`:void 0}function Zde(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function mG(n){let s;return n!==null&&typeof n=="object"&&((s=Object.getPrototypeOf(n))===Object.prototype||s===null)}function mX(n){if(n&&"$el"in n){const s=n.$el;return(s==null?void 0:s.nodeType)===Node.TEXT_NODE?s.nextElementSibling:s}return n}const gG=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function KH(n,s){return s.every(l=>n.hasOwnProperty(l))}function gX(n,s){const l={},d=new Set(Object.keys(n));for(const g of s)d.has(g)&&(l[g]=n[g]);return l}function hG(n,s,l){const d=Object.create(null),g=Object.create(null);for(const v in n)s.some(x=>x instanceof RegExp?x.test(v):x===v)&&!(l!=null&&l.some(x=>x===v))?d[v]=n[v]:g[v]=n[v];return[d,g]}function ex(n,s){const l={...n};return s.forEach(d=>delete l[d]),l}function jde(n,s){const l={};return s.forEach(d=>l[d]=n[d]),l}const hX=/^on[^a-z]/,RU=n=>hX.test(n),Kde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function GL(n){const[s,l]=hG(n,[hX]),d=ex(s,Kde),[g,v]=hG(l,["class","style","id",/^data-/]);return Object.assign(g,s),Object.assign(v,d),[g,v]}function af(n){return n==null?[]:Array.isArray(n)?n:[n]}function Gde(n,s){let l=0;const d=function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];clearTimeout(l),l=setTimeout(()=>n(...v),oe(s))};return d.clear=()=>{clearTimeout(l)},d.immediate=n,d}function jh(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(s,Math.min(l,n))}function pG(n,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+l.repeat(Math.max(0,s-n.length))}function vG(n,s){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,s-n.length))+n}function qde(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const l=[];let d=0;for(;d<n.length;)l.push(n.substr(d,s)),d+=s;return l}function Ou(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const d={};for(const g in n)d[g]=n[g];for(const g in s){const v=n[g],x=s[g];if(mG(v)&&mG(x)){d[g]=Ou(v,x,l);continue}if(l&&Array.isArray(v)&&Array.isArray(x)){d[g]=l(v,x);continue}d[g]=x}return d}function pX(n){return n.map(s=>s.type===ir?pX(s.children):s).flat()}function iC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(iC.cache.has(n))return iC.cache.get(n);const s=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return iC.cache.set(n,s),s}iC.cache=new Map;function MS(n,s){if(!s||typeof s!="object")return[];if(Array.isArray(s))return s.map(l=>MS(n,l)).flat(1);if(s.suspense)return MS(n,s.ssContent);if(Array.isArray(s.children))return s.children.map(l=>MS(n,l)).flat(1);if(s.component){if(Object.getOwnPropertySymbols(s.component.provides).includes(n))return[s.component];if(s.component.subTree)return MS(n,s.component.subTree).flat(1)}return[]}var HB=new WeakMap,kS=new WeakMap;class Yde{constructor(s){fG(this,HB,[]),fG(this,kS,0),this.size=s}push(s){Xw(HB,this)[Xw(kS,this)]=s,Wde(kS,this,(Xw(kS,this)+1)%this.size)}values(){return Xw(HB,this).slice(Xw(kS,this)).concat(Xw(HB,this).slice(0,Xw(kS,this)))}}function IU(n){const s=Ul({}),l=qe(n);return df(()=>{for(const d in l.value)s[d]=l.value[d]},{flush:"sync"}),kD(s)}function yL(n,s){return n.includes(s)}function vX(n){return n[2].toLowerCase()+n.slice(3)}const lf=()=>[Function,Array];function bG(n,s){return s="on"+I1(s),!!(n[s]||n[`${s}Once`]||n[`${s}Capture`]||n[`${s}OnceCapture`]||n[`${s}CaptureOnce`])}function bX(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];if(Array.isArray(n))for(const g of n)g(...l);else typeof n=="function"&&n(...l)}function tD(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(d=>`${d}${s?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(l)]}function yX(n,s,l){let d,g=n.indexOf(document.activeElement);const v=s==="next"?1:-1;do g+=v,d=n[g];while((!d||d.offsetParent==null||!((l==null?void 0:l(d))??!0))&&g<n.length&&g>=0);return d}function WO(n,s){var d,g,v,x;const l=tD(n);if(!s)(n===document.activeElement||!n.contains(document.activeElement))&&((d=l[0])==null||d.focus());else if(s==="first")(g=l[0])==null||g.focus();else if(s==="last")(v=l.at(-1))==null||v.focus();else if(typeof s=="number")(x=l[s])==null||x.focus();else{const _=yX(l,s);_?_.focus():WO(n,s==="next"?"first":"last")}}function Xde(){}function ZS(n,s){if(!(fi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${s})`)))return null;try{return!!n&&n.matches(s)}catch{return null}}function NU(n){return n.some(s=>hL(s)?s.type===wd?!1:s.type!==ir||NU(s.children):!0)?n:null}function Jde(n,s){if(!fi||n===0)return s(),()=>{};const l=window.setTimeout(s,n);return()=>window.clearTimeout(l)}function Qde(n,s){const l=n.clientX,d=n.clientY,g=s.getBoundingClientRect(),v=g.left,x=g.top,_=g.right,N=g.bottom;return l>=v&&l<=_&&d>=x&&d<=N}function O$(){const n=Oo(),s=l=>{n.value=l};return Object.defineProperty(s,"value",{enumerable:!0,get:()=>n.value,set:l=>n.value=l}),Object.defineProperty(s,"el",{enumerable:!0,get:()=>mX(n.value)}),s}function D$(n){const s=n.key.length===1,l=!n.ctrlKey&&!n.metaKey&&!n.altKey;return s&&l}const xX=["top","bottom"],efe=["start","end","left","right"];function R$(n,s){let[l,d]=n.split(" ");return d||(d=yL(xX,l)?"start":yL(efe,l)?"top":"center"),{side:I$(l,s),align:I$(d,s)}}function I$(n,s){return n==="start"?s?"right":"left":n==="end"?s?"left":"right":n}function GH(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function qH(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function yG(n){return{side:n.align,align:n.side}}function xG(n){return yL(xX,n.side)?"y":"x"}class aC{constructor(s){let{x:l,y:d,width:g,height:v}=s;this.x=l,this.y=d,this.width=g,this.height=v}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function wG(n,s){return{x:{before:Math.max(0,s.left-n.left),after:Math.max(0,n.right-s.right)},y:{before:Math.max(0,s.top-n.top),after:Math.max(0,n.bottom-s.bottom)}}}function wX(n){return Array.isArray(n)?new aC({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function PU(n){const s=n.getBoundingClientRect(),l=getComputedStyle(n),d=l.transform;if(d){let g,v,x,_,N;if(d.startsWith("matrix3d("))g=d.slice(9,-1).split(/, /),v=+g[0],x=+g[5],_=+g[12],N=+g[13];else if(d.startsWith("matrix("))g=d.slice(7,-1).split(/, /),v=+g[0],x=+g[3],_=+g[4],N=+g[5];else return new aC(s);const R=l.transformOrigin,I=s.x-_-(1-v)*parseFloat(R),V=s.y-N-(1-x)*parseFloat(R.slice(R.indexOf(" ")+1)),$=v?s.width/v:n.offsetWidth+1,G=x?s.height/x:n.offsetHeight+1;return new aC({x:I,y:V,width:$,height:G})}else return new aC(s)}function BS(n,s,l){if(typeof n.animate>"u")return{finished:Promise.resolve()};let d;try{d=n.animate(s,l)}catch{return{finished:Promise.resolve()}}return typeof d.finished>"u"&&(d.finished=new Promise(g=>{d.onfinish=()=>{g(d)}})),d}const oL=new WeakMap;function tfe(n,s){Object.keys(s).forEach(l=>{if(RU(l)){const d=vX(l),g=oL.get(n);if(s[l]==null)g==null||g.forEach(v=>{const[x,_]=v;x===d&&(n.removeEventListener(d,_),g.delete(v))});else if(!g||![...g].some(v=>v[0]===d&&v[1]===s[l])){n.addEventListener(d,s[l]);const v=g||new Set;v.add([d,s[l]]),oL.has(n)||oL.set(n,v)}}else s[l]==null?n.removeAttribute(l):n.setAttribute(l,s[l])})}function nfe(n,s){Object.keys(s).forEach(l=>{if(RU(l)){const d=vX(l),g=oL.get(n);g==null||g.forEach(v=>{const[x,_]=v;x===d&&(n.removeEventListener(d,_),g.delete(v))})}else n.removeAttribute(l)})}const SS=2.4,CG=.2126729,_G=.7151522,kG=.072175,ofe=.55,rfe=.58,sfe=.57,ife=.62,$B=.03,SG=1.45,afe=5e-4,lfe=1.25,cfe=1.25,EG=.078,AG=12.82051282051282,UB=.06,TG=.001;function OG(n,s){const l=(n.r/255)**SS,d=(n.g/255)**SS,g=(n.b/255)**SS,v=(s.r/255)**SS,x=(s.g/255)**SS,_=(s.b/255)**SS;let N=l*CG+d*_G+g*kG,R=v*CG+x*_G+_*kG;if(N<=$B&&(N+=($B-N)**SG),R<=$B&&(R+=($B-R)**SG),Math.abs(R-N)<afe)return 0;let I;if(R>N){const V=(R**ofe-N**rfe)*lfe;I=V<TG?0:V<EG?V-V*AG*UB:V-UB}else{const V=(R**ife-N**sfe)*cfe;I=V>-TG?0:V>-EG?V-V*AG*UB:V+UB}return I*100}function ufe(n,s){s=Array.isArray(s)?s.slice(0,-1).map(l=>`'${l}'`).join(", ")+` or '${s.at(-1)}'`:`'${s}'`}const xL=.20689655172413793,dfe=n=>n>xL**3?Math.cbrt(n):n/(3*xL**2)+4/29,ffe=n=>n>xL?n**3:3*xL**2*(n-4/29);function CX(n){const s=dfe,l=s(n[1]);return[116*l-16,500*(s(n[0]/.95047)-l),200*(l-s(n[2]/1.08883))]}function _X(n){const s=ffe,l=(n[0]+16)/116;return[s(l+n[1]/500)*.95047,s(l),s(l-n[2]/200)*1.08883]}const mfe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],gfe=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,hfe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],pfe=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function kX(n){const s=Array(3),l=gfe,d=mfe;for(let g=0;g<3;++g)s[g]=Math.round(jh(l(d[g][0]*n[0]+d[g][1]*n[1]+d[g][2]*n[2]))*255);return{r:s[0],g:s[1],b:s[2]}}function MU(n){let{r:s,g:l,b:d}=n;const g=[0,0,0],v=pfe,x=hfe;s=v(s/255),l=v(l/255),d=v(d/255);for(let _=0;_<3;++_)g[_]=x[_][0]*s+x[_][1]*l+x[_][2]*d;return g}function N$(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function vfe(n){return N$(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const DG=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,bfe={rgb:(n,s,l,d)=>({r:n,g:s,b:l,a:d}),rgba:(n,s,l,d)=>({r:n,g:s,b:l,a:d}),hsl:(n,s,l,d)=>RG({h:n,s,l,a:d}),hsla:(n,s,l,d)=>RG({h:n,s,l,a:d}),hsv:(n,s,l,d)=>nD({h:n,s,v:l,a:d}),hsva:(n,s,l,d)=>nD({h:n,s,v:l,a:d})};function vv(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&DG.test(n)){const{groups:s}=n.match(DG),{fn:l,values:d}=s,g=d.split(/,\s*/).map(v=>v.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(l)?parseFloat(v)/100:parseFloat(v));return bfe[l](...g)}else if(typeof n=="string"){let s=n.startsWith("#")?n.slice(1):n;return[3,4].includes(s.length)?s=s.split("").map(l=>l+l).join(""):[6,8].includes(s.length),xfe(s)}else if(typeof n=="object"){if(KH(n,["r","g","b"]))return n;if(KH(n,["h","s","l"]))return nD(SX(n));if(KH(n,["h","s","v"]))return nD(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function nD(n){const{h:s,s:l,v:d,a:g}=n,v=_=>{const N=(_+s/60)%6;return d-d*l*Math.max(Math.min(N,4-N,1),0)},x=[v(5),v(3),v(1)].map(_=>Math.round(_*255));return{r:x[0],g:x[1],b:x[2],a:g}}function RG(n){return nD(SX(n))}function SX(n){const{h:s,s:l,l:d,a:g}=n,v=d+l*Math.min(d,1-d),x=v===0?0:2-2*d/v;return{h:s,s:x,v,a:g}}function WB(n){const s=Math.round(n).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()}function yfe(n){let{r:s,g:l,b:d,a:g}=n;return`#${[WB(s),WB(l),WB(d),g!==void 0?WB(Math.round(g*255)):""].join("")}`}function xfe(n){n=wfe(n);let[s,l,d,g]=qde(n,2).map(v=>parseInt(v,16));return g=g===void 0?g:g/255,{r:s,g:l,b:d,a:g}}function wfe(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(s=>s+s).join("")),n.length!==6&&(n=pG(pG(n,6),8,"F")),n}function Cfe(n,s){const l=CX(MU(n));return l[0]=l[0]+s*10,kX(_X(l))}function _fe(n,s){const l=CX(MU(n));return l[0]=l[0]-s*10,kX(_X(l))}function kfe(n){const s=vv(n);return MU(s)[1]}function EX(n){const s=Math.abs(OG(vv(0),vv(n)));return Math.abs(OG(vv(16777215),vv(n)))>Math.min(s,50)?"#fff":"#000"}function In(n,s){return l=>Object.keys(n).reduce((d,g)=>{const x=typeof n[g]=="object"&&n[g]!=null&&!Array.isArray(n[g])?n[g]:{type:n[g]};return l&&g in l?d[g]={...x,default:l[g]}:d[g]=x,s&&!d[g].source&&(d[g].source=s),d},{})}const Vr=In({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Rl(n,s){const l=TU();if(!l)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return l}function Sv(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const s=Rl(n).type;return iC((s==null?void 0:s.aliasName)||(s==null?void 0:s.name))}let AX=0,rL=new WeakMap;function Mg(){const n=Rl("getUid");if(rL.has(n))return rL.get(n);{const s=AX++;return rL.set(n,s),s}}Mg.reset=()=>{AX=0,rL=new WeakMap};function Sfe(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rl("injectSelf");const{provides:l}=s;if(l&&n in l)return l[n]}const jS=Symbol.for("vuetify:defaults");function Efe(n){return Bn(n)}function BU(){const n=wa(jS);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function tx(n,s){const l=BU(),d=Bn(n),g=qe(()=>{if(oe(s==null?void 0:s.disabled))return l.value;const x=oe(s==null?void 0:s.scoped),_=oe(s==null?void 0:s.reset),N=oe(s==null?void 0:s.root);if(d.value==null&&!(x||_||N))return l.value;let R=Ou(d.value,{prev:l.value});if(x)return R;if(_||N){const I=Number(_||1/0);for(let V=0;V<=I&&!(!R||!("prev"in R));V++)R=R.prev;return R&&typeof N=="string"&&N in R&&(R=Ou(Ou(R,{prev:R}),R[N])),R}return R.prev?Ou(R.prev,R):R});return _d(jS,g),g}function Afe(n,s){var l,d;return typeof((l=n.props)==null?void 0:l[s])<"u"||typeof((d=n.props)==null?void 0:d[iC(s)])<"u"}function Tfe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BU();const d=Rl("useDefaults");if(s=s??d.type.name??d.type.__name,!s)throw new Error("[Vuetify] Could not determine component name");const g=qe(()=>{var N;return(N=l.value)==null?void 0:N[n._as??s]}),v=new Proxy(n,{get(N,R){var V,$,G,W,te,ae,ce;const I=Reflect.get(N,R);return R==="class"||R==="style"?[(V=g.value)==null?void 0:V[R],I].filter(Ve=>Ve!=null):typeof R=="string"&&!Afe(d.vnode,R)?(($=g.value)==null?void 0:$[R])!==void 0?(G=g.value)==null?void 0:G[R]:((te=(W=l.value)==null?void 0:W.global)==null?void 0:te[R])!==void 0?(ce=(ae=l.value)==null?void 0:ae.global)==null?void 0:ce[R]:I:I}}),x=Oo();df(()=>{if(g.value){const N=Object.entries(g.value).filter(R=>{let[I]=R;return I.startsWith(I[0].toUpperCase())});x.value=N.length?Object.fromEntries(N):void 0}else x.value=void 0});function _(){const N=Sfe(jS,d);_d(jS,qe(()=>x.value?Ou((N==null?void 0:N.value)??{},x.value):N==null?void 0:N.value))}return{props:v,provideSubDefaults:_}}function QS(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=In(n.props??{},n.name)();const s=Object.keys(n.props).filter(l=>l!=="class"&&l!=="style");n.filterProps=function(d){return gX(d,s)},n.props._as=String,n.setup=function(d,g){const v=BU();if(!v.value)return n._setup(d,g);const{props:x,provideSubDefaults:_}=Tfe(d,d._as??n.name,v),N=n._setup(x,g);return _(),N}}return n}function No(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return s=>(n?QS:OY)(s)}function qL(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return No()({name:l??I1(gm(n.replace(/__/g,"-"))),props:{tag:{type:String,default:s},...Vr()},setup(d,g){let{slots:v}=g;return()=>{var x;return _v(d.tag,{class:[n,d.class],style:d.style},(x=v.default)==null?void 0:x.call(v))}}})}function TX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const s=n.getRootNode();return s!==document&&s.getRootNode({composed:!0})!==document?null:s}const wL="cubic-bezier(0.4, 0, 0.2, 1)",Ofe="cubic-bezier(0.0, 0, 0.2, 1)",Dfe="cubic-bezier(0.4, 0, 1, 1)";function OX(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(s?Rfe(n):LU(n))return n;n=n.parentElement}return document.scrollingElement}function CL(n,s){const l=[];if(s&&n&&!s.contains(n))return l;for(;n&&(LU(n)&&l.push(n),n!==s);)n=n.parentElement;return l}function LU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(n);return s.overflowY==="scroll"||s.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Rfe(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(n);return["scroll","auto"].includes(s.overflowY)}function Ife(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function yr(n){const s=Rl("useRender");s.render=n}function Hi(n,s,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V=>V,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:V=>V;const v=Rl("useProxiedModel"),x=Bn(n[s]!==void 0?n[s]:l),_=iC(s),R=qe(_!==s?()=>{var V,$,G,W;return n[s],!!(((V=v.vnode.props)!=null&&V.hasOwnProperty(s)||($=v.vnode.props)!=null&&$.hasOwnProperty(_))&&((G=v.vnode.props)!=null&&G.hasOwnProperty(`onUpdate:${s}`)||(W=v.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${_}`)))}:()=>{var V,$;return n[s],!!((V=v.vnode.props)!=null&&V.hasOwnProperty(s)&&(($=v.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${s}`)))});Ng(()=>!R.value,()=>{Rn(()=>n[s],V=>{x.value=V})});const I=qe({get(){const V=n[s];return d(R.value?V:x.value)},set(V){const $=g(V),G=sr(R.value?n[s]:x.value);G===$||d(G)===V||(x.value=$,v==null||v.emit(`update:${s}`,$))}});return Object.defineProperty(I,"externalValue",{get:()=>R.value?n[s]:x.value}),I}const Nfe={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},IG="$vuetify.",NG=(n,s)=>n.replace(/\{(\d+)\}/g,(l,d)=>String(s[+d])),DX=(n,s,l)=>function(d){for(var g=arguments.length,v=new Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];if(!d.startsWith(IG))return NG(d,v);const _=d.replace(IG,""),N=n.value&&l.value[n.value],R=s.value&&l.value[s.value];let I=T$(N,_,null);return I||(`${d}${n.value}`,I=T$(R,_,null)),I||(I=d),typeof I!="string"&&(I=d),NG(I,v)};function RX(n,s){return(l,d)=>new Intl.NumberFormat([n.value,s.value],d).format(l)}function YH(n,s,l){const d=Hi(n,s,n[s]??l.value);return d.value=n[s]??l.value,Rn(l,g=>{n[s]==null&&(d.value=l.value)}),d}function IX(n){return s=>{const l=YH(s,"locale",n.current),d=YH(s,"fallback",n.fallback),g=YH(s,"messages",n.messages);return{name:"vuetify",current:l,fallback:d,messages:g,t:DX(l,d,g),n:RX(l,d),provide:IX({current:l,fallback:d,messages:g})}}}function Pfe(n){const s=Oo((n==null?void 0:n.locale)??"en"),l=Oo((n==null?void 0:n.fallback)??"en"),d=Bn({en:Nfe,...n==null?void 0:n.messages});return{name:"vuetify",current:s,fallback:l,messages:d,t:DX(s,l,d),n:RX(s,l),provide:IX({current:s,fallback:l,messages:d})}}const _L=Symbol.for("vuetify:locale");function Mfe(n){return n.name!=null}function Bfe(n){const s=n!=null&&n.adapter&&Mfe(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Pfe(n),l=Ffe(s,n);return{...s,...l}}function TD(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Lfe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Ffe(n,s){const l=Bn((s==null?void 0:s.rtl)??Lfe()),d=qe(()=>l.value[n.current.value]??!1);return{isRtl:d,rtl:l,rtlClasses:qe(()=>`v-locale--is-${d.value?"rtl":"ltr"}`)}}function Bg(){const n=wa(_L);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}const YL={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Vfe(n,s,l){const d=[];let g=[];const v=NX(n),x=PX(n),_=l??YL[s.slice(-2).toUpperCase()]??0,N=(v.getDay()-_+7)%7,R=(x.getDay()-_+7)%7;for(let I=0;I<N;I++){const V=new Date(v);V.setDate(V.getDate()-(N-I)),g.push(V)}for(let I=1;I<=x.getDate();I++){const V=new Date(n.getFullYear(),n.getMonth(),I);g.push(V),g.length===7&&(d.push(g),g=[])}for(let I=1;I<7-R;I++){const V=new Date(x);V.setDate(V.getDate()+I),g.push(V)}return g.length>0&&d.push(g),d}function zfe(n,s,l){const d=l??YL[s.slice(-2).toUpperCase()]??0,g=new Date(n);for(;g.getDay()!==d;)g.setDate(g.getDate()-1);return g}function Hfe(n,s){const l=new Date(n),d=((YL[s.slice(-2).toUpperCase()]??0)+6)%7;for(;l.getDay()!==d;)l.setDate(l.getDate()+1);return l}function NX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function PX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function $fe(n){const s=n.split("-").map(Number);return new Date(s[0],s[1]-1,s[2])}const Ufe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function MX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let s;if(Ufe.test(n))return $fe(n);if(s=Date.parse(n),!isNaN(s))return new Date(s)}return null}const PG=new Date(2e3,0,2);function Wfe(n,s){const l=s??YL[n.slice(-2).toUpperCase()]??0;return fX(7).map(d=>{const g=new Date(PG);return g.setDate(PG.getDate()+l+d),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(g)})}function Zfe(n,s,l,d){const g=MX(n)??new Date,v=d==null?void 0:d[s];if(typeof v=="function")return v(g,s,l);let x={};switch(s){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const _=g.getDate(),N=new Intl.DateTimeFormat(l,{month:"long"}).format(g);return`${_} ${N}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(l).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=v??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(l,x).format(g)}function jfe(n,s){const l=n.toJsDate(s),d=l.getFullYear(),g=vG(String(l.getMonth()+1),2,"0"),v=vG(String(l.getDate()),2,"0");return`${d}-${g}-${v}`}function Kfe(n){const[s,l,d]=n.split("-").map(Number);return new Date(s,l-1,d)}function Gfe(n,s){const l=new Date(n);return l.setMinutes(l.getMinutes()+s),l}function qfe(n,s){const l=new Date(n);return l.setHours(l.getHours()+s),l}function Yfe(n,s){const l=new Date(n);return l.setDate(l.getDate()+s),l}function Xfe(n,s){const l=new Date(n);return l.setDate(l.getDate()+s*7),l}function Jfe(n,s){const l=new Date(n);return l.setDate(1),l.setMonth(l.getMonth()+s),l}function Qfe(n){return n.getFullYear()}function eme(n){return n.getMonth()}function tme(n){return n.getDate()}function nme(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function ome(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function rme(n){return n.getHours()}function sme(n){return n.getMinutes()}function ime(n){return new Date(n.getFullYear(),0,1)}function ame(n){return new Date(n.getFullYear(),11,31)}function lme(n,s){return kL(n,s[0])&&dme(n,s[1])}function cme(n){const s=new Date(n);return s instanceof Date&&!isNaN(s.getTime())}function kL(n,s){return n.getTime()>s.getTime()}function ume(n,s){return kL(P$(n),P$(s))}function dme(n,s){return n.getTime()<s.getTime()}function MG(n,s){return n.getTime()===s.getTime()}function fme(n,s){return n.getDate()===s.getDate()&&n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear()}function mme(n,s){return n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear()}function gme(n,s){return n.getFullYear()===s.getFullYear()}function hme(n,s,l){const d=new Date(n),g=new Date(s);switch(l){case"years":return d.getFullYear()-g.getFullYear();case"quarters":return Math.floor((d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12)/4);case"months":return d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((d.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((d.getTime()-g.getTime())/1e3);default:return d.getTime()-g.getTime()}}function pme(n,s){const l=new Date(n);return l.setHours(s),l}function vme(n,s){const l=new Date(n);return l.setMinutes(s),l}function bme(n,s){const l=new Date(n);return l.setMonth(s),l}function yme(n,s){const l=new Date(n);return l.setDate(s),l}function xme(n,s){const l=new Date(n);return l.setFullYear(s),l}function P$(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function wme(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class Cme{constructor(s){this.locale=s.locale,this.formats=s.formats}date(s){return MX(s)}toJsDate(s){return s}toISO(s){return jfe(this,s)}parseISO(s){return Kfe(s)}addMinutes(s,l){return Gfe(s,l)}addHours(s,l){return qfe(s,l)}addDays(s,l){return Yfe(s,l)}addWeeks(s,l){return Xfe(s,l)}addMonths(s,l){return Jfe(s,l)}getWeekArray(s,l){return Vfe(s,this.locale,l?Number(l):void 0)}startOfWeek(s,l){return zfe(s,this.locale,l?Number(l):void 0)}endOfWeek(s){return Hfe(s,this.locale)}startOfMonth(s){return NX(s)}endOfMonth(s){return PX(s)}format(s,l){return Zfe(s,l,this.locale,this.formats)}isEqual(s,l){return MG(s,l)}isValid(s){return cme(s)}isWithinRange(s,l){return lme(s,l)}isAfter(s,l){return kL(s,l)}isAfterDay(s,l){return ume(s,l)}isBefore(s,l){return!kL(s,l)&&!MG(s,l)}isSameDay(s,l){return fme(s,l)}isSameMonth(s,l){return mme(s,l)}isSameYear(s,l){return gme(s,l)}setMinutes(s,l){return vme(s,l)}setHours(s,l){return pme(s,l)}setMonth(s,l){return bme(s,l)}setDate(s,l){return yme(s,l)}setYear(s,l){return xme(s,l)}getDiff(s,l,d){return hme(s,l,d)}getWeekdays(s){return Wfe(this.locale,s?Number(s):void 0)}getYear(s){return Qfe(s)}getMonth(s){return eme(s)}getDate(s){return tme(s)}getNextMonth(s){return nme(s)}getPreviousMonth(s){return ome(s)}getHours(s){return rme(s)}getMinutes(s){return sme(s)}startOfDay(s){return P$(s)}endOfDay(s){return wme(s)}startOfYear(s){return ime(s)}endOfYear(s){return ame(s)}}const _me=Symbol.for("vuetify:date-options"),BG=Symbol.for("vuetify:date-adapter");function kme(n,s){const l=Ou({adapter:Cme,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:l,instance:Sme(l,s)}}function Sme(n,s){const l=Ul(typeof n.adapter=="function"?new n.adapter({locale:n.locale[s.current.value]??s.current.value,formats:n.formats}):n.adapter);return Rn(s.current,d=>{l.locale=n.locale[d]??d??l.locale}),l}const XL=["sm","md","lg","xl","xxl"],M$=Symbol.for("vuetify:display"),LG={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Eme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LG;return Ou(LG,n)};function FG(n){return fi&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function VG(n){return fi&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function zG(n){const s=fi&&!n?window.navigator.userAgent:"ssr";function l(W){return!!s.match(W)}const d=l(/android/i),g=l(/iphone|ipad|ipod/i),v=l(/cordova/i),x=l(/electron/i),_=l(/chrome/i),N=l(/edge/i),R=l(/firefox/i),I=l(/opera/i),V=l(/win/i),$=l(/mac/i),G=l(/linux/i);return{android:d,ios:g,cordova:v,electron:x,chrome:_,edge:N,firefox:R,opera:I,win:V,mac:$,linux:G,touch:$de,ssr:s==="ssr"}}function Ame(n,s){const{thresholds:l,mobileBreakpoint:d}=Eme(n),g=Oo(VG(s)),v=Oo(zG(s)),x=Ul({}),_=Oo(FG(s));function N(){g.value=VG(),_.value=FG()}function R(){N(),v.value=zG()}return df(()=>{const I=_.value<l.sm,V=_.value<l.md&&!I,$=_.value<l.lg&&!(V||I),G=_.value<l.xl&&!($||V||I),W=_.value<l.xxl&&!(G||$||V||I),te=_.value>=l.xxl,ae=I?"xs":V?"sm":$?"md":G?"lg":W?"xl":"xxl",ce=typeof d=="number"?d:l[d],Ve=_.value<ce;x.xs=I,x.sm=V,x.md=$,x.lg=G,x.xl=W,x.xxl=te,x.smAndUp=!I,x.mdAndUp=!(I||V),x.lgAndUp=!(I||V||$),x.xlAndUp=!(I||V||$||G),x.smAndDown=!($||G||W||te),x.mdAndDown=!(G||W||te),x.lgAndDown=!(W||te),x.xlAndDown=!te,x.name=ae,x.height=g.value,x.width=_.value,x.mobile=Ve,x.mobileBreakpoint=d,x.platform=v.value,x.thresholds=l}),fi&&window.addEventListener("resize",N,{passive:!0}),{...kD(x),update:R,ssr:!!s}}const BX=In({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function JL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();const l=wa(M$);if(!l)throw new Error("Could not find Vuetify display injection");const d=qe(()=>{if(n.mobile!=null)return n.mobile;if(!n.mobileBreakpoint)return l.mobile.value;const v=typeof n.mobileBreakpoint=="number"?n.mobileBreakpoint:l.thresholds.value[n.mobileBreakpoint];return l.width.value<v}),g=qe(()=>s?{[`${s}--mobile`]:d.value}:{});return{...l,displayClasses:g,mobile:d}}const LX=Symbol.for("vuetify:goto");function FX(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function Tme(n){return FU(n)??(document.scrollingElement||document.body)}function FU(n){return typeof n=="string"?document.querySelector(n):mX(n)}function XH(n,s,l){if(typeof n=="number")return s&&l?-n:n;let d=FU(n),g=0;for(;d;)g+=s?d.offsetLeft:d.offsetTop,d=d.offsetParent;return g}function Ome(n,s){return{rtl:s.isRtl,options:Ou(FX(),n)}}async function HG(n,s,l,d){const g=l?"scrollLeft":"scrollTop",v=Ou((d==null?void 0:d.options)??FX(),s),x=d==null?void 0:d.rtl.value,_=(typeof n=="number"?n:FU(n))??0,N=v.container==="parent"&&_ instanceof HTMLElement?_.parentElement:Tme(v.container),R=typeof v.easing=="function"?v.easing:v.patterns[v.easing];if(!R)throw new TypeError(`Easing function "${v.easing}" not found.`);let I;if(typeof _=="number")I=XH(_,l,x);else if(I=XH(_,l,x)-XH(N,l,x),v.layout){const W=window.getComputedStyle(_).getPropertyValue("--v-layout-top");W&&(I-=parseInt(W,10))}I+=v.offset,I=Rme(N,I,!!x,!!l);const V=N[g]??0;if(I===V)return Promise.resolve(I);const $=performance.now();return new Promise(G=>requestAnimationFrame(function W(te){const ce=(te-$)/v.duration,Ve=Math.floor(V+(I-V)*R(jh(ce,0,1)));if(N[g]=Ve,ce>=1&&Math.abs(Ve-N[g])<10)return G(I);if(ce>2)return G(N[g]);requestAnimationFrame(W)}))}function Dme(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=wa(LX),{isRtl:l}=Bg();if(!s)throw new Error("[Vuetify] Could not find injected goto instance");const d={...s,rtl:qe(()=>s.rtl.value||l.value)};async function g(v,x){return HG(v,Ou(n,x),!1,d)}return g.horizontal=async(v,x)=>HG(v,Ou(n,x),!0,d),g}function Rme(n,s,l,d){const{scrollWidth:g,scrollHeight:v}=n,[x,_]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let N,R;return d?l?(N=-(g-x),R=0):(N=0,R=g-x):(N=0,R=v+-_),Math.max(Math.min(s,R),N)}const Ime={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Nme={component:n=>_v(zX,{...n,class:"mdi"})},mi=[String,Function,Object,Array],B$=Symbol.for("vuetify:icons"),QL=In({icon:{type:mi},tag:{type:String,required:!0}},"icon"),$G=No()({name:"VComponentIcon",props:QL(),setup(n,s){let{slots:l}=s;return()=>{const d=n.icon;return j(n.tag,null,{default:()=>{var g;return[n.icon?j(d,null,null):(g=l.default)==null?void 0:g.call(l)]}})}}}),VX=QS({name:"VSvgIcon",inheritAttrs:!1,props:QL(),setup(n,s){let{attrs:l}=s;return()=>j(n.tag,jo(l,{style:null}),{default:()=>[j("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(d=>Array.isArray(d)?j("path",{d:d[0],"fill-opacity":d[1]},null):j("path",{d},null)):j("path",{d:n.icon},null)])]})}});QS({name:"VLigatureIcon",props:QL(),setup(n){return()=>j(n.tag,null,{default:()=>[n.icon]})}});const zX=QS({name:"VClassIcon",props:QL(),setup(n){return()=>j(n.tag,{class:n.icon},null)}});function Pme(){return{svg:{component:VX},class:{component:zX}}}function Mme(n){const s=Pme(),l=(n==null?void 0:n.defaultSet)??"mdi";return l==="mdi"&&!s.mdi&&(s.mdi=Nme),Ou({defaultSet:l,sets:s,aliases:{...Ime,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Bme=n=>{const s=wa(B$);if(!s)throw new Error("Missing Vuetify Icons provide!");return{iconData:qe(()=>{var N;const d=oe(n);if(!d)return{component:$G};let g=d;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(N=s.aliases)==null?void 0:N[g.slice(1)])),Array.isArray(g))return{component:VX,icon:g};if(typeof g!="string")return{component:$G,icon:g};const v=Object.keys(s.sets).find(R=>typeof g=="string"&&g.startsWith(`${R}:`)),x=v?g.slice(v.length+1):g;return{component:s.sets[v??s.defaultSet].component,icon:x}})}},SL=Symbol.for("vuetify:theme"),ul=In({theme:String},"theme");function UG(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Lme(){var d,g;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UG();const s=UG();if(!n)return{...s,isDisabled:!0};const l={};for(const[v,x]of Object.entries(n.themes??{})){const _=x.dark||v==="dark"?(d=s.themes)==null?void 0:d.dark:(g=s.themes)==null?void 0:g.light;l[v]=Ou(_,x)}return Ou(s,{...n,themes:l})}function Fme(n){const s=Lme(n),l=Bn(s.defaultTheme),d=Bn(s.themes),g=qe(()=>{const I={};for(const[V,$]of Object.entries(d.value)){const G=I[V]={...$,colors:{...$.colors}};if(s.variations)for(const W of s.variations.colors){const te=G.colors[W];if(te)for(const ae of["lighten","darken"]){const ce=ae==="lighten"?Cfe:_fe;for(const Ve of fX(s.variations[ae],1))G.colors[`${W}-${ae}-${Ve}`]=yfe(ce(vv(te),Ve))}}for(const W of Object.keys(G.colors)){if(/^on-[a-z]/.test(W)||G.colors[`on-${W}`])continue;const te=`on-${W}`,ae=vv(G.colors[W]);G.colors[te]=EX(ae)}}return I}),v=qe(()=>g.value[l.value]),x=qe(()=>{var W;const I=[];(W=v.value)!=null&&W.dark&&Jw(I,":root",["color-scheme: dark"]),Jw(I,":root",WG(v.value));for(const[te,ae]of Object.entries(g.value))Jw(I,`.v-theme--${te}`,[`color-scheme: ${ae.dark?"dark":"normal"}`,...WG(ae)]);const V=[],$=[],G=new Set(Object.values(g.value).flatMap(te=>Object.keys(te.colors)));for(const te of G)/^on-[a-z]/.test(te)?Jw($,`.${te}`,[`color: rgb(var(--v-theme-${te})) !important`]):(Jw(V,`.bg-${te}`,[`--v-theme-overlay-multiplier: var(--v-theme-${te}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${te})) !important`,`color: rgb(var(--v-theme-on-${te})) !important`]),Jw($,`.text-${te}`,[`color: rgb(var(--v-theme-${te})) !important`]),Jw($,`.border-${te}`,[`--v-border-color: var(--v-theme-${te})`]));return I.push(...V,...$),I.map((te,ae)=>ae===0?te:`    ${te}`).join("")});function _(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:s.cspNonce||!1}]}}function N(I){if(s.isDisabled)return;const V=I._context.provides.usehead;if(V)if(V.push){const G=V.push(_);fi&&Rn(x,()=>{G.patch(_)})}else fi?(V.addHeadObjs(qe(_)),df(()=>V.updateDOM())):V.addHeadObjs(_());else{let W=function(){if(typeof document<"u"&&!G){const te=document.createElement("style");te.type="text/css",te.id="vuetify-theme-stylesheet",s.cspNonce&&te.setAttribute("nonce",s.cspNonce),G=te,document.head.appendChild(G)}G&&(G.innerHTML=x.value)};var $=W;let G=fi?document.getElementById("vuetify-theme-stylesheet"):null;fi?Rn(x,W,{immediate:!0}):W()}}const R=qe(()=>s.isDisabled?void 0:`v-theme--${l.value}`);return{install:N,isDisabled:s.isDisabled,name:l,themes:d,current:v,computedThemes:g,themeClasses:R,styles:x,global:{name:l,current:v}}}function Zl(n){Rl("provideTheme");const s=wa(SL,null);if(!s)throw new Error("Could not find Vuetify theme injection");const l=qe(()=>n.theme??s.name.value),d=qe(()=>s.themes.value[l.value]),g=qe(()=>s.isDisabled?void 0:`v-theme--${l.value}`),v={...s,name:l,current:d,themeClasses:g};return _d(SL,v),v}function Jw(n,s,l){n.push(`${s} {
`,...l.map(d=>`  ${d};
`),`}
`)}function WG(n){const s=n.dark?2:1,l=n.dark?1:2,d=[];for(const[g,v]of Object.entries(n.colors)){const x=vv(v);d.push(`--v-theme-${g}: ${x.r},${x.g},${x.b}`),g.startsWith("on-")||d.push(`--v-theme-${g}-overlay-multiplier: ${kfe(v)>.18?s:l}`)}for(const[g,v]of Object.entries(n.variables)){const x=typeof v=="string"&&v.startsWith("#")?vv(v):void 0,_=x?`${x.r}, ${x.g}, ${x.b}`:void 0;d.push(`--v-${g}: ${_??v}`)}return d}function KS(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=O$(),d=Bn();if(fi){const g=new ResizeObserver(v=>{v.length&&(s==="content"?d.value=v[0].contentRect:d.value=v[0].target.getBoundingClientRect())});Cc(()=>{g.disconnect()}),Rn(()=>l.el,(v,x)=>{x&&(g.unobserve(x),d.value=void 0),v&&g.observe(v)},{flush:"post"})}return{resizeRef:l,contentRect:_D(d)}}const EL=Symbol.for("vuetify:layout"),HX=Symbol.for("vuetify:layout-item"),ZG=1e3,Vme=In({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),$X=In({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function zme(){const n=wa(EL);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function UX(n){const s=wa(EL);if(!s)throw new Error("[Vuetify] Could not find injected layout");const l=n.id??`layout-item-${Mg()}`,d=Rl("useLayoutItem");_d(HX,{id:l});const g=Oo(!1);UL(()=>g.value=!0),xU(()=>g.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:x}=s.register(d,{...n,active:qe(()=>g.value?!1:n.active.value),id:l});return Cc(()=>s.unregister(l)),{layoutItemStyles:v,layoutRect:s.layoutRect,layoutItemScrimStyles:x}}const Hme=(n,s,l,d)=>{let g={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...g}}];for(const x of n){const _=s.get(x),N=l.get(x),R=d.get(x);if(!_||!N||!R)continue;const I={...g,[_.value]:parseInt(g[_.value],10)+(R.value?parseInt(N.value,10):0)};v.push({id:x,layer:I}),g=I}return v};function $me(n){const s=wa(EL,null),l=qe(()=>s?s.rootZIndex.value-100:ZG),d=Bn([]),g=Ul(new Map),v=Ul(new Map),x=Ul(new Map),_=Ul(new Map),N=Ul(new Map),{resizeRef:R,contentRect:I}=KS(),V=qe(()=>{const le=new Map,Ze=n.overlaps??[];for(const Be of Ze.filter(Me=>Me.includes(":"))){const[Me,Xe]=Be.split(":");if(!d.value.includes(Me)||!d.value.includes(Xe))continue;const Ee=g.get(Me),Fe=g.get(Xe),O=v.get(Me),Ge=v.get(Xe);!Ee||!Fe||!O||!Ge||(le.set(Xe,{position:Ee.value,amount:parseInt(O.value,10)}),le.set(Me,{position:Fe.value,amount:-parseInt(Ge.value,10)}))}return le}),$=qe(()=>{const le=[...new Set([...x.values()].map(Be=>Be.value))].sort((Be,Me)=>Be-Me),Ze=[];for(const Be of le){const Me=d.value.filter(Xe=>{var Ee;return((Ee=x.get(Xe))==null?void 0:Ee.value)===Be});Ze.push(...Me)}return Hme(Ze,g,v,_)}),G=qe(()=>!Array.from(N.values()).some(le=>le.value)),W=qe(()=>$.value[$.value.length-1].layer),te=qe(()=>({"--v-layout-left":br(W.value.left),"--v-layout-right":br(W.value.right),"--v-layout-top":br(W.value.top),"--v-layout-bottom":br(W.value.bottom),...G.value?void 0:{transition:"none"}})),ae=qe(()=>$.value.slice(1).map((le,Ze)=>{let{id:Be}=le;const{layer:Me}=$.value[Ze],Xe=v.get(Be),Ee=g.get(Be);return{id:Be,...Me,size:Number(Xe.value),position:Ee.value}})),ce=le=>ae.value.find(Ze=>Ze.id===le),Ve=Rl("createLayout"),Ce=Oo(!1);Nu(()=>{Ce.value=!0}),_d(EL,{register:(le,Ze)=>{let{id:Be,order:Me,position:Xe,layoutSize:Ee,elementSize:Fe,active:O,disableTransitions:Ge,absolute:ct}=Ze;x.set(Be,Me),g.set(Be,Xe),v.set(Be,Ee),_.set(Be,O),Ge&&N.set(Be,Ge);const Jt=MS(HX,Ve==null?void 0:Ve.vnode).indexOf(le);Jt>-1?d.value.splice(Jt,0,Be):d.value.push(Be);const tt=qe(()=>ae.value.findIndex(Ye=>Ye.id===Be)),pt=qe(()=>l.value+$.value.length*2-tt.value*2),Lt=qe(()=>{const Ye=Xe.value==="left"||Xe.value==="right",Mt=Xe.value==="right",oo=Xe.value==="bottom",zn=Fe.value??Ee.value,fn=zn===0?"%":"px",kn={[Xe.value]:0,zIndex:pt.value,transform:`translate${Ye?"X":"Y"}(${(O.value?0:-(zn===0?100:zn))*(Mt||oo?-1:1)}${fn})`,position:ct.value||l.value!==ZG?"absolute":"fixed",...G.value?void 0:{transition:"none"}};if(!Ce.value)return kn;const J=ae.value[tt.value];if(!J)throw new Error(`[Vuetify] Could not find layout item "${Be}"`);const Cr=V.value.get(Be);return Cr&&(J[Cr.position]+=Cr.amount),{...kn,height:Ye?`calc(100% - ${J.top}px - ${J.bottom}px)`:Fe.value?`${Fe.value}px`:void 0,left:Mt?void 0:`${J.left}px`,right:Mt?`${J.right}px`:void 0,top:Xe.value!=="bottom"?`${J.top}px`:void 0,bottom:Xe.value!=="top"?`${J.bottom}px`:void 0,width:Ye?Fe.value?`${Fe.value}px`:void 0:`calc(100% - ${J.left}px - ${J.right}px)`}}),nt=qe(()=>({zIndex:pt.value-1}));return{layoutItemStyles:Lt,layoutItemScrimStyles:nt,zIndex:pt}},unregister:le=>{x.delete(le),g.delete(le),v.delete(le),_.delete(le),N.delete(le),d.value=d.value.filter(Ze=>Ze!==le)},mainRect:W,mainStyles:te,getLayoutItem:ce,items:ae,layoutRect:I,rootZIndex:l});const ee=qe(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),we=qe(()=>({zIndex:s?l.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:we,getLayoutItem:ce,items:ae,layoutRect:I,layoutRef:R}}function WX(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:s,...l}=n,d=Ou(s,l),{aliases:g={},components:v={},directives:x={}}=d,_=Efe(d.defaults),N=Ame(d.display,d.ssr),R=Fme(d.theme),I=Mme(d.icons),V=Bfe(d.locale),$=kme(d.date,V),G=Ome(d.goTo,V);return{install:te=>{for(const ae in x)te.directive(ae,x[ae]);for(const ae in v)te.component(ae,v[ae]);for(const ae in g)te.component(ae,QS({...g[ae],name:ae,aliasName:g[ae].name}));if(R.install(te),te.provide(jS,_),te.provide(M$,N),te.provide(SL,R),te.provide(B$,I),te.provide(_L,V),te.provide(_me,$.options),te.provide(BG,$.instance),te.provide(LX,G),fi&&d.ssr)if(te.$nuxt)te.$nuxt.hook("app:suspense:resolve",()=>{N.update()});else{const{mount:ae}=te;te.mount=function(){const ce=ae(...arguments);return Er(()=>N.update()),te.mount=ae,ce}}Mg.reset(),te.mixin({computed:{$vuetify(){return Ul({defaults:ES.call(this,jS),display:ES.call(this,M$),theme:ES.call(this,SL),icons:ES.call(this,B$),locale:ES.call(this,_L),date:ES.call(this,BG)})}}})},defaults:_,display:N,theme:R,icons:I,locale:V,date:$,goTo:G}}const Ume="3.7.2";WX.version=Ume;function ES(n){var d,g;const s=this.$,l=((d=s.parent)==null?void 0:d.provides)??((g=s.vnode.appContext)==null?void 0:g.provides);if(l&&n in l)return l[n]}const Wme=WX({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var Zme=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ZX;const e8=n=>ZX=n,jX=Symbol();function L$(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var ZO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(ZO||(ZO={}));function jme(){const n=CD(!0),s=n.run(()=>Bn({}));let l=[],d=[];const g=hU({install(v){e8(g),g._a=v,v.provide(jX,g),v.config.globalProperties.$pinia=g,d.forEach(x=>l.push(x)),d=[]},use(v){return!this._a&&!Zme?d.push(v):l.push(v),this},_p:l,_a:null,_e:n,_s:new Map,state:s});return g}const KX=()=>{};function jG(n,s,l,d=KX){n.push(s);const g=()=>{const v=n.indexOf(s);v>-1&&(n.splice(v,1),d())};return!l&&Jq()&&Iu(g),g}function AS(n,...s){n.slice().forEach(l=>{l(...s)})}const Kme=n=>n(),KG=Symbol(),JH=Symbol();function F$(n,s){n instanceof Map&&s instanceof Map?s.forEach((l,d)=>n.set(d,l)):n instanceof Set&&s instanceof Set&&s.forEach(n.add,n);for(const l in s){if(!s.hasOwnProperty(l))continue;const d=s[l],g=n[l];L$(g)&&L$(d)&&n.hasOwnProperty(l)&&!Bs(d)&&!Wy(d)?n[l]=F$(g,d):n[l]=d}return n}const Gme=Symbol();function qme(n){return!L$(n)||!n.hasOwnProperty(Gme)}const{assign:Ly}=Object;function Yme(n){return!!(Bs(n)&&n.effect)}function Xme(n,s,l,d){const{state:g,actions:v,getters:x}=s,_=l.state.value[n];let N;function R(){_||(l.state.value[n]=g?g():{});const I=kD(l.state.value[n]);return Ly(I,v,Object.keys(x||{}).reduce((V,$)=>(V[$]=hU(qe(()=>{e8(l);const G=l._s.get(n);return x[$].call(G,G)})),V),{}))}return N=GX(n,R,s,l,d,!0),N}function GX(n,s,l={},d,g,v){let x;const _=Ly({actions:{}},l),N={deep:!0};let R,I,V=[],$=[],G;const W=d.state.value[n];!v&&!W&&(d.state.value[n]={}),Bn({});let te;function ae(Be){let Me;R=I=!1,typeof Be=="function"?(Be(d.state.value[n]),Me={type:ZO.patchFunction,storeId:n,events:G}):(F$(d.state.value[n],Be),Me={type:ZO.patchObject,payload:Be,storeId:n,events:G});const Xe=te=Symbol();Er().then(()=>{te===Xe&&(R=!0)}),I=!0,AS(V,Me,d.state.value[n])}const ce=v?function(){const{state:Me}=l,Xe=Me?Me():{};this.$patch(Ee=>{Ly(Ee,Xe)})}:KX;function Ve(){x.stop(),V=[],$=[],d._s.delete(n)}const Ce=(Be,Me="")=>{if(KG in Be)return Be[JH]=Me,Be;const Xe=function(){e8(d);const Ee=Array.from(arguments),Fe=[],O=[];function Ge(Jt){Fe.push(Jt)}function ct(Jt){O.push(Jt)}AS($,{args:Ee,name:Xe[JH],store:we,after:Ge,onError:ct});let $t;try{$t=Be.apply(this&&this.$id===n?this:we,Ee)}catch(Jt){throw AS(O,Jt),Jt}return $t instanceof Promise?$t.then(Jt=>(AS(Fe,Jt),Jt)).catch(Jt=>(AS(O,Jt),Promise.reject(Jt))):(AS(Fe,$t),$t)};return Xe[KG]=!0,Xe[JH]=Me,Xe},ee={_p:d,$id:n,$onAction:jG.bind(null,$),$patch:ae,$reset:ce,$subscribe(Be,Me={}){const Xe=jG(V,Be,Me.detached,()=>Ee()),Ee=x.run(()=>Rn(()=>d.state.value[n],Fe=>{(Me.flush==="sync"?I:R)&&Be({storeId:n,type:ZO.direct,events:G},Fe)},Ly({},N,Me)));return Xe},$dispose:Ve},we=Ul(ee);d._s.set(n,we);const Ze=(d._a&&d._a.runWithContext||Kme)(()=>d._e.run(()=>(x=CD()).run(()=>s({action:Ce}))));for(const Be in Ze){const Me=Ze[Be];if(Bs(Me)&&!Yme(Me)||Wy(Me))v||(W&&qme(Me)&&(Bs(Me)?Me.value=W[Be]:F$(Me,W[Be])),d.state.value[n][Be]=Me);else if(typeof Me=="function"){const Xe=Ce(Me,Be);Ze[Be]=Xe,_.actions[Be]=Me}}return Ly(we,Ze),Ly(sr(we),Ze),Object.defineProperty(we,"$state",{get:()=>d.state.value[n],set:Be=>{ae(Me=>{Ly(Me,Be)})}}),d._p.forEach(Be=>{Ly(we,x.run(()=>Be({store:we,app:d._a,pinia:d,options:_})))}),W&&v&&l.hydrate&&l.hydrate(we.$state,W),R=!0,I=!0,we}function Pu(n,s,l){let d,g;const v=typeof s=="function";typeof n=="string"?(d=n,g=v?l:s):(g=n,d=n.id);function x(_,N){const R=Oue();return _=_||(R?wa(jX,null):null),_&&e8(_),_=ZX,_._s.has(d)||(v?GX(d,s,g,_):Xme(d,g,_)),_._s.get(d)}return x.$id=d,x}const Jme=jme();function Qme(n){n.use(Wme).use(Jme)}var ZB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jB(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qX={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,s){(function(l){n.exports=l()})(function(){return function l(d,g,v){function x(R,I){if(!g[R]){if(!d[R]){var V=typeof jB=="function"&&jB;if(!I&&V)return V(R,!0);if(_)return _(R,!0);var $=new Error("Cannot find module '"+R+"'");throw $.code="MODULE_NOT_FOUND",$}var G=g[R]={exports:{}};d[R][0].call(G.exports,function(W){var te=d[R][1][W];return x(te||W)},G,G.exports,l,d,g,v)}return g[R].exports}for(var _=typeof jB=="function"&&jB,N=0;N<v.length;N++)x(v[N]);return x}({1:[function(l,d,g){(function(v){var x=v.MutationObserver||v.WebKitMutationObserver,_;if(x){var N=0,R=new x(W),I=v.document.createTextNode("");R.observe(I,{characterData:!0}),_=function(){I.data=N=++N%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var V=new v.MessageChannel;V.port1.onmessage=W,_=function(){V.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?_=function(){var ae=v.document.createElement("script");ae.onreadystatechange=function(){W(),ae.onreadystatechange=null,ae.parentNode.removeChild(ae),ae=null},v.document.documentElement.appendChild(ae)}:_=function(){setTimeout(W,0)};var $,G=[];function W(){$=!0;for(var ae,ce,Ve=G.length;Ve;){for(ce=G,G=[],ae=-1;++ae<Ve;)ce[ae]();Ve=G.length}$=!1}d.exports=te;function te(ae){G.push(ae)===1&&!$&&_()}}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(l,d,g){var v=l(1);function x(){}var _={},N=["REJECTED"],R=["FULFILLED"],I=["PENDING"];d.exports=V;function V(we){if(typeof we!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,we!==x&&te(this,we)}V.prototype.catch=function(we){return this.then(null,we)},V.prototype.then=function(we,le){if(typeof we!="function"&&this.state===R||typeof le!="function"&&this.state===N)return this;var Ze=new this.constructor(x);if(this.state!==I){var Be=this.state===R?we:le;G(Ze,Be,this.outcome)}else this.queue.push(new $(Ze,we,le));return Ze};function $(we,le,Ze){this.promise=we,typeof le=="function"&&(this.onFulfilled=le,this.callFulfilled=this.otherCallFulfilled),typeof Ze=="function"&&(this.onRejected=Ze,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(we){_.resolve(this.promise,we)},$.prototype.otherCallFulfilled=function(we){G(this.promise,this.onFulfilled,we)},$.prototype.callRejected=function(we){_.reject(this.promise,we)},$.prototype.otherCallRejected=function(we){G(this.promise,this.onRejected,we)};function G(we,le,Ze){v(function(){var Be;try{Be=le(Ze)}catch(Me){return _.reject(we,Me)}Be===we?_.reject(we,new TypeError("Cannot resolve promise with itself")):_.resolve(we,Be)})}_.resolve=function(we,le){var Ze=ae(W,le);if(Ze.status==="error")return _.reject(we,Ze.value);var Be=Ze.value;if(Be)te(we,Be);else{we.state=R,we.outcome=le;for(var Me=-1,Xe=we.queue.length;++Me<Xe;)we.queue[Me].callFulfilled(le)}return we},_.reject=function(we,le){we.state=N,we.outcome=le;for(var Ze=-1,Be=we.queue.length;++Ze<Be;)we.queue[Ze].callRejected(le);return we};function W(we){var le=we&&we.then;if(we&&(typeof we=="object"||typeof we=="function")&&typeof le=="function")return function(){le.apply(we,arguments)}}function te(we,le){var Ze=!1;function Be(Fe){Ze||(Ze=!0,_.reject(we,Fe))}function Me(Fe){Ze||(Ze=!0,_.resolve(we,Fe))}function Xe(){le(Me,Be)}var Ee=ae(Xe);Ee.status==="error"&&Be(Ee.value)}function ae(we,le){var Ze={};try{Ze.value=we(le),Ze.status="success"}catch(Be){Ze.status="error",Ze.value=Be}return Ze}V.resolve=ce;function ce(we){return we instanceof this?we:_.resolve(new this(x),we)}V.reject=Ve;function Ve(we){var le=new this(x);return _.reject(le,we)}V.all=Ce;function Ce(we){var le=this;if(Object.prototype.toString.call(we)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ze=we.length,Be=!1;if(!Ze)return this.resolve([]);for(var Me=new Array(Ze),Xe=0,Ee=-1,Fe=new this(x);++Ee<Ze;)O(we[Ee],Ee);return Fe;function O(Ge,ct){le.resolve(Ge).then($t,function(Jt){Be||(Be=!0,_.reject(Fe,Jt))});function $t(Jt){Me[ct]=Jt,++Xe===Ze&&!Be&&(Be=!0,_.resolve(Fe,Me))}}}V.race=ee;function ee(we){var le=this;if(Object.prototype.toString.call(we)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ze=we.length,Be=!1;if(!Ze)return this.resolve([]);for(var Me=-1,Xe=new this(x);++Me<Ze;)Ee(we[Me]);return Xe;function Ee(Fe){le.resolve(Fe).then(function(O){Be||(Be=!0,_.resolve(Xe,O))},function(O){Be||(Be=!0,_.reject(Xe,O))})}}},{1:1}],3:[function(l,d,g){(function(v){typeof v.Promise!="function"&&(v.Promise=l(2))}).call(this,typeof ZB<"u"?ZB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(l,d,g){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function x(Te,ot){if(!(Te instanceof ot))throw new TypeError("Cannot call a class as a function")}function _(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var N=_();function R(){try{if(!N||!N.open)return!1;var Te=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ot=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Te||ot)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(Te,ot){Te=Te||[],ot=ot||{};try{return new Blob(Te,ot)}catch(Qe){if(Qe.name!=="TypeError")throw Qe;for(var Ne=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,mt=new Ne,ut=0;ut<Te.length;ut+=1)mt.append(Te[ut]);return mt.getBlob(ot.type)}}typeof Promise>"u"&&l(3);var V=Promise;function $(Te,ot){ot&&Te.then(function(Ne){ot(null,Ne)},function(Ne){ot(Ne)})}function G(Te,ot,Ne){typeof ot=="function"&&Te.then(ot),typeof Ne=="function"&&Te.catch(Ne)}function W(Te){return typeof Te!="string"&&(console.warn(Te+" used as a key, but it is not a string."),Te=String(Te)),Te}function te(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ae="local-forage-detect-blob-support",ce=void 0,Ve={},Ce=Object.prototype.toString,ee="readonly",we="readwrite";function le(Te){for(var ot=Te.length,Ne=new ArrayBuffer(ot),mt=new Uint8Array(Ne),ut=0;ut<ot;ut++)mt[ut]=Te.charCodeAt(ut);return Ne}function Ze(Te){return new V(function(ot){var Ne=Te.transaction(ae,we),mt=I([""]);Ne.objectStore(ae).put(mt,"key"),Ne.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),ot(!1)},Ne.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Qe=navigator.userAgent.match(/Edge\//);ot(Qe||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function Be(Te){return typeof ce=="boolean"?V.resolve(ce):Ze(Te).then(function(ot){return ce=ot,ce})}function Me(Te){var ot=Ve[Te.name],Ne={};Ne.promise=new V(function(mt,ut){Ne.resolve=mt,Ne.reject=ut}),ot.deferredOperations.push(Ne),ot.dbReady?ot.dbReady=ot.dbReady.then(function(){return Ne.promise}):ot.dbReady=Ne.promise}function Xe(Te){var ot=Ve[Te.name],Ne=ot.deferredOperations.pop();if(Ne)return Ne.resolve(),Ne.promise}function Ee(Te,ot){var Ne=Ve[Te.name],mt=Ne.deferredOperations.pop();if(mt)return mt.reject(ot),mt.promise}function Fe(Te,ot){return new V(function(Ne,mt){if(Ve[Te.name]=Ve[Te.name]||Ye(),Te.db)if(ot)Me(Te),Te.db.close();else return Ne(Te.db);var ut=[Te.name];ot&&ut.push(Te.version);var Qe=N.open.apply(N,ut);ot&&(Qe.onupgradeneeded=function(Wt){var nn=Qe.result;try{nn.createObjectStore(Te.storeName),Wt.oldVersion<=1&&nn.createObjectStore(ae)}catch(un){if(un.name==="ConstraintError")console.warn('The database "'+Te.name+'" has been upgraded from version '+Wt.oldVersion+" to version "+Wt.newVersion+', but the storage "'+Te.storeName+'" already exists.');else throw un}}),Qe.onerror=function(Wt){Wt.preventDefault(),mt(Qe.error)},Qe.onsuccess=function(){var Wt=Qe.result;Wt.onversionchange=function(nn){nn.target.close()},Ne(Wt),Xe(Te)}})}function O(Te){return Fe(Te,!1)}function Ge(Te){return Fe(Te,!0)}function ct(Te,ot){if(!Te.db)return!0;var Ne=!Te.db.objectStoreNames.contains(Te.storeName),mt=Te.version<Te.db.version,ut=Te.version>Te.db.version;if(mt&&(Te.version!==ot&&console.warn('The database "'+Te.name+`" can't be downgraded from version `+Te.db.version+" to version "+Te.version+"."),Te.version=Te.db.version),ut||Ne){if(Ne){var Qe=Te.db.version+1;Qe>Te.version&&(Te.version=Qe)}return!0}return!1}function $t(Te){return new V(function(ot,Ne){var mt=new FileReader;mt.onerror=Ne,mt.onloadend=function(ut){var Qe=btoa(ut.target.result||"");ot({__local_forage_encoded_blob:!0,data:Qe,type:Te.type})},mt.readAsBinaryString(Te)})}function Jt(Te){var ot=le(atob(Te.data));return I([ot],{type:Te.type})}function tt(Te){return Te&&Te.__local_forage_encoded_blob}function pt(Te){var ot=this,Ne=ot._initReady().then(function(){var mt=Ve[ot._dbInfo.name];if(mt&&mt.dbReady)return mt.dbReady});return G(Ne,Te,Te),Ne}function Lt(Te){Me(Te);for(var ot=Ve[Te.name],Ne=ot.forages,mt=0;mt<Ne.length;mt++){var ut=Ne[mt];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return Te.db=null,O(Te).then(function(Qe){return Te.db=Qe,ct(Te)?Ge(Te):Qe}).then(function(Qe){Te.db=ot.db=Qe;for(var Wt=0;Wt<Ne.length;Wt++)Ne[Wt]._dbInfo.db=Qe}).catch(function(Qe){throw Ee(Te,Qe),Qe})}function nt(Te,ot,Ne,mt){mt===void 0&&(mt=1);try{var ut=Te.db.transaction(Te.storeName,ot);Ne(null,ut)}catch(Qe){if(mt>0&&(!Te.db||Qe.name==="InvalidStateError"||Qe.name==="NotFoundError"))return V.resolve().then(function(){if(!Te.db||Qe.name==="NotFoundError"&&!Te.db.objectStoreNames.contains(Te.storeName)&&Te.version<=Te.db.version)return Te.db&&(Te.version=Te.db.version+1),Ge(Te)}).then(function(){return Lt(Te).then(function(){nt(Te,ot,Ne,mt-1)})}).catch(Ne);Ne(Qe)}}function Ye(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Mt(Te){var ot=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=Te[mt];var ut=Ve[Ne.name];ut||(ut=Ye(),Ve[Ne.name]=ut),ut.forages.push(ot),ot._initReady||(ot._initReady=ot.ready,ot.ready=pt);var Qe=[];function Wt(){return V.resolve()}for(var nn=0;nn<ut.forages.length;nn++){var un=ut.forages[nn];un!==ot&&Qe.push(un._initReady().catch(Wt))}var vn=ut.forages.slice(0);return V.all(Qe).then(function(){return Ne.db=ut.db,O(Ne)}).then(function(an){return Ne.db=an,ct(Ne,ot._defaultConfig.version)?Ge(Ne):an}).then(function(an){Ne.db=ut.db=an,ot._dbInfo=Ne;for(var ho=0;ho<vn.length;ho++){var rn=vn[ho];rn!==ot&&(rn._dbInfo.db=Ne.db,rn._dbInfo.version=Ne.version)}})}function oo(Te,ot){var Ne=this;Te=W(Te);var mt=new V(function(ut,Qe){Ne.ready().then(function(){nt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Qe(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.get(Te);vn.onsuccess=function(){var an=vn.result;an===void 0&&(an=null),tt(an)&&(an=Jt(an)),ut(an)},vn.onerror=function(){Qe(vn.error)}}catch(an){Qe(an)}})}).catch(Qe)});return $(mt,ot),mt}function zn(Te,ot){var Ne=this,mt=new V(function(ut,Qe){Ne.ready().then(function(){nt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Qe(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.openCursor(),an=1;vn.onsuccess=function(){var ho=vn.result;if(ho){var rn=ho.value;tt(rn)&&(rn=Jt(rn));var Ar=Te(rn,ho.key,an++);Ar!==void 0?ut(Ar):ho.continue()}else ut()},vn.onerror=function(){Qe(vn.error)}}catch(ho){Qe(ho)}})}).catch(Qe)});return $(mt,ot),mt}function fn(Te,ot,Ne){var mt=this;Te=W(Te);var ut=new V(function(Qe,Wt){var nn;mt.ready().then(function(){return nn=mt._dbInfo,Ce.call(ot)==="[object Blob]"?Be(nn.db).then(function(un){return un?ot:$t(ot)}):ot}).then(function(un){nt(mt._dbInfo,we,function(vn,an){if(vn)return Wt(vn);try{var ho=an.objectStore(mt._dbInfo.storeName);un===null&&(un=void 0);var rn=ho.put(un,Te);an.oncomplete=function(){un===void 0&&(un=null),Qe(un)},an.onabort=an.onerror=function(){var Ar=rn.error?rn.error:rn.transaction.error;Wt(Ar)}}catch(Ar){Wt(Ar)}})}).catch(Wt)});return $(ut,Ne),ut}function kn(Te,ot){var Ne=this;Te=W(Te);var mt=new V(function(ut,Qe){Ne.ready().then(function(){nt(Ne._dbInfo,we,function(Wt,nn){if(Wt)return Qe(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=un.delete(Te);nn.oncomplete=function(){ut()},nn.onerror=function(){Qe(vn.error)},nn.onabort=function(){var an=vn.error?vn.error:vn.transaction.error;Qe(an)}}catch(an){Qe(an)}})}).catch(Qe)});return $(mt,ot),mt}function J(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){nt(ot._dbInfo,we,function(Qe,Wt){if(Qe)return ut(Qe);try{var nn=Wt.objectStore(ot._dbInfo.storeName),un=nn.clear();Wt.oncomplete=function(){mt()},Wt.onabort=Wt.onerror=function(){var vn=un.error?un.error:un.transaction.error;ut(vn)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function Cr(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){nt(ot._dbInfo,ee,function(Qe,Wt){if(Qe)return ut(Qe);try{var nn=Wt.objectStore(ot._dbInfo.storeName),un=nn.count();un.onsuccess=function(){mt(un.result)},un.onerror=function(){ut(un.error)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ne,Te),Ne}function eo(Te,ot){var Ne=this,mt=new V(function(ut,Qe){if(Te<0){ut(null);return}Ne.ready().then(function(){nt(Ne._dbInfo,ee,function(Wt,nn){if(Wt)return Qe(Wt);try{var un=nn.objectStore(Ne._dbInfo.storeName),vn=!1,an=un.openKeyCursor();an.onsuccess=function(){var ho=an.result;if(!ho){ut(null);return}Te===0||vn?ut(ho.key):(vn=!0,ho.advance(Te))},an.onerror=function(){Qe(an.error)}}catch(ho){Qe(ho)}})}).catch(Qe)});return $(mt,ot),mt}function tn(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){nt(ot._dbInfo,ee,function(Qe,Wt){if(Qe)return ut(Qe);try{var nn=Wt.objectStore(ot._dbInfo.storeName),un=nn.openKeyCursor(),vn=[];un.onsuccess=function(){var an=un.result;if(!an){mt(vn);return}vn.push(an.key),an.continue()},un.onerror=function(){ut(un.error)}}catch(an){ut(an)}})}).catch(ut)});return $(Ne,Te),Ne}function Do(Te,ot){ot=te.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;if(!Te.name)ut=V.reject("Invalid arguments");else{var Qe=Te.name===Ne.name&&mt._dbInfo.db,Wt=Qe?V.resolve(mt._dbInfo.db):O(Te).then(function(nn){var un=Ve[Te.name],vn=un.forages;un.db=nn;for(var an=0;an<vn.length;an++)vn[an]._dbInfo.db=nn;return nn});Te.storeName?ut=Wt.then(function(nn){if(nn.objectStoreNames.contains(Te.storeName)){var un=nn.version+1;Me(Te);var vn=Ve[Te.name],an=vn.forages;nn.close();for(var ho=0;ho<an.length;ho++){var rn=an[ho];rn._dbInfo.db=null,rn._dbInfo.version=un}var Ar=new V(function(Lo,Ko){var Ts=N.open(Te.name,un);Ts.onerror=function(So){var Pl=Ts.result;Pl.close(),Ko(So)},Ts.onupgradeneeded=function(){var So=Ts.result;So.deleteObjectStore(Te.storeName)},Ts.onsuccess=function(){var So=Ts.result;So.close(),Lo(So)}});return Ar.then(function(Lo){vn.db=Lo;for(var Ko=0;Ko<an.length;Ko++){var Ts=an[Ko];Ts._dbInfo.db=Lo,Xe(Ts._dbInfo)}}).catch(function(Lo){throw(Ee(Te,Lo)||V.resolve()).catch(function(){}),Lo})}}):ut=Wt.then(function(nn){Me(Te);var un=Ve[Te.name],vn=un.forages;nn.close();for(var an=0;an<vn.length;an++){var ho=vn[an];ho._dbInfo.db=null}var rn=new V(function(Ar,Lo){var Ko=N.deleteDatabase(Te.name);Ko.onerror=function(){var Ts=Ko.result;Ts&&Ts.close(),Lo(Ko.error)},Ko.onblocked=function(){console.warn('dropInstance blocked for database "'+Te.name+'" until all open connections are closed')},Ko.onsuccess=function(){var Ts=Ko.result;Ts&&Ts.close(),Ar(Ts)}});return rn.then(function(Ar){un.db=Ar;for(var Lo=0;Lo<vn.length;Lo++){var Ko=vn[Lo];Xe(Ko._dbInfo)}}).catch(function(Ar){throw(Ee(Te,Ar)||V.resolve()).catch(function(){}),Ar})})}return $(ut,ot),ut}var Ke={_driver:"asyncStorage",_initStorage:Mt,_support:R(),iterate:zn,getItem:oo,setItem:fn,removeItem:kn,clear:J,length:Cr,key:eo,keys:tn,dropInstance:Do};function ie(){return typeof openDatabase=="function"}var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",he=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",zt=gt.length,vt="arbf",Ft="blob",Vt="si08",wn="ui08",cn="uic8",Tn="si16",Dn="si32",Co="ur16",Ro="ui32",Uo="fl32",fr="fl64",as=zt+vt.length,mr=Object.prototype.toString;function As(Te){var ot=Te.length*.75,Ne=Te.length,mt,ut=0,Qe,Wt,nn,un;Te[Te.length-1]==="="&&(ot--,Te[Te.length-2]==="="&&ot--);var vn=new ArrayBuffer(ot),an=new Uint8Array(vn);for(mt=0;mt<Ne;mt+=4)Qe=be.indexOf(Te[mt]),Wt=be.indexOf(Te[mt+1]),nn=be.indexOf(Te[mt+2]),un=be.indexOf(Te[mt+3]),an[ut++]=Qe<<2|Wt>>4,an[ut++]=(Wt&15)<<4|nn>>2,an[ut++]=(nn&3)<<6|un&63;return vn}function hn(Te){var ot=new Uint8Array(Te),Ne="",mt;for(mt=0;mt<ot.length;mt+=3)Ne+=be[ot[mt]>>2],Ne+=be[(ot[mt]&3)<<4|ot[mt+1]>>4],Ne+=be[(ot[mt+1]&15)<<2|ot[mt+2]>>6],Ne+=be[ot[mt+2]&63];return ot.length%3===2?Ne=Ne.substring(0,Ne.length-1)+"=":ot.length%3===1&&(Ne=Ne.substring(0,Ne.length-2)+"=="),Ne}function To(Te,ot){var Ne="";if(Te&&(Ne=mr.call(Te)),Te&&(Ne==="[object ArrayBuffer]"||Te.buffer&&mr.call(Te.buffer)==="[object ArrayBuffer]")){var mt,ut=gt;Te instanceof ArrayBuffer?(mt=Te,ut+=vt):(mt=Te.buffer,Ne==="[object Int8Array]"?ut+=Vt:Ne==="[object Uint8Array]"?ut+=wn:Ne==="[object Uint8ClampedArray]"?ut+=cn:Ne==="[object Int16Array]"?ut+=Tn:Ne==="[object Uint16Array]"?ut+=Co:Ne==="[object Int32Array]"?ut+=Dn:Ne==="[object Uint32Array]"?ut+=Ro:Ne==="[object Float32Array]"?ut+=Uo:Ne==="[object Float64Array]"?ut+=fr:ot(new Error("Failed to get type for BinaryArray"))),ot(ut+hn(mt))}else if(Ne==="[object Blob]"){var Qe=new FileReader;Qe.onload=function(){var Wt=Le+Te.type+"~"+hn(this.result);ot(gt+Ft+Wt)},Qe.readAsArrayBuffer(Te)}else try{ot(JSON.stringify(Te))}catch(Wt){console.error("Couldn't convert value into a JSON string: ",Te),ot(null,Wt)}}function bo(Te){if(Te.substring(0,zt)!==gt)return JSON.parse(Te);var ot=Te.substring(as),Ne=Te.substring(zt,as),mt;if(Ne===Ft&&he.test(ot)){var ut=ot.match(he);mt=ut[1],ot=ot.substring(ut[0].length)}var Qe=As(ot);switch(Ne){case vt:return Qe;case Ft:return I([Qe],{type:mt});case Vt:return new Int8Array(Qe);case wn:return new Uint8Array(Qe);case cn:return new Uint8ClampedArray(Qe);case Tn:return new Int16Array(Qe);case Co:return new Uint16Array(Qe);case Dn:return new Int32Array(Qe);case Ro:return new Uint32Array(Qe);case Uo:return new Float32Array(Qe);case fr:return new Float64Array(Qe);default:throw new Error("Unkown type: "+Ne)}}var rs={serialize:To,deserialize:bo,stringToBuffer:As,bufferToString:hn};function ea(Te,ot,Ne,mt){Te.executeSql("CREATE TABLE IF NOT EXISTS "+ot.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ne,mt)}function Kt(Te){var ot=this,Ne={db:null};if(Te)for(var mt in Te)Ne[mt]=typeof Te[mt]!="string"?Te[mt].toString():Te[mt];var ut=new V(function(Qe,Wt){try{Ne.db=openDatabase(Ne.name,String(Ne.version),Ne.description,Ne.size)}catch(nn){return Wt(nn)}Ne.db.transaction(function(nn){ea(nn,Ne,function(){ot._dbInfo=Ne,Qe()},function(un,vn){Wt(vn)})},Wt)});return Ne.serializer=rs,ut}function gi(Te,ot,Ne,mt,ut,Qe){Te.executeSql(Ne,mt,ut,function(Wt,nn){nn.code===nn.SYNTAX_ERR?Wt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ot.storeName],function(un,vn){vn.rows.length?Qe(un,nn):ea(un,ot,function(){un.executeSql(Ne,mt,ut,Qe)},Qe)},Qe):Qe(Wt,nn)},Qe)}function ar(Te,ot){var Ne=this;Te=W(Te);var mt=new V(function(ut,Qe){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName+" WHERE key = ? LIMIT 1",[Te],function(un,vn){var an=vn.rows.length?vn.rows.item(0).value:null;an&&(an=Wt.serializer.deserialize(an)),ut(an)},function(un,vn){Qe(vn)})})}).catch(Qe)});return $(mt,ot),mt}function jl(Te,ot){var Ne=this,mt=new V(function(ut,Qe){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName,[],function(un,vn){for(var an=vn.rows,ho=an.length,rn=0;rn<ho;rn++){var Ar=an.item(rn),Lo=Ar.value;if(Lo&&(Lo=Wt.serializer.deserialize(Lo)),Lo=Te(Lo,Ar.key,rn+1),Lo!==void 0){ut(Lo);return}}ut()},function(un,vn){Qe(vn)})})}).catch(Qe)});return $(mt,ot),mt}function $r(Te,ot,Ne,mt){var ut=this;Te=W(Te);var Qe=new V(function(Wt,nn){ut.ready().then(function(){ot===void 0&&(ot=null);var un=ot,vn=ut._dbInfo;vn.serializer.serialize(ot,function(an,ho){ho?nn(ho):vn.db.transaction(function(rn){gi(rn,vn,"INSERT OR REPLACE INTO "+vn.storeName+" (key, value) VALUES (?, ?)",[Te,an],function(){Wt(un)},function(Ar,Lo){nn(Lo)})},function(rn){if(rn.code===rn.QUOTA_ERR){if(mt>0){Wt($r.apply(ut,[Te,un,Ne,mt-1]));return}nn(rn)}})})}).catch(nn)});return $(Qe,Ne),Qe}function ei(Te,ot,Ne){return $r.apply(this,[Te,ot,Ne,1])}function ym(Te,ot){var Ne=this;Te=W(Te);var mt=new V(function(ut,Qe){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"DELETE FROM "+Wt.storeName+" WHERE key = ?",[Te],function(){ut()},function(un,vn){Qe(vn)})})}).catch(Qe)});return $(mt,ot),mt}function Mu(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){var Qe=ot._dbInfo;Qe.db.transaction(function(Wt){gi(Wt,Qe,"DELETE FROM "+Qe.storeName,[],function(){mt()},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function _c(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){var Qe=ot._dbInfo;Qe.db.transaction(function(Wt){gi(Wt,Qe,"SELECT COUNT(key) as c FROM "+Qe.storeName,[],function(nn,un){var vn=un.rows.item(0).c;mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function fl(Te,ot){var Ne=this,mt=new V(function(ut,Qe){Ne.ready().then(function(){var Wt=Ne._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT key FROM "+Wt.storeName+" WHERE id = ? LIMIT 1",[Te+1],function(un,vn){var an=vn.rows.length?vn.rows.item(0).key:null;ut(an)},function(un,vn){Qe(vn)})})}).catch(Qe)});return $(mt,ot),mt}function Bu(Te){var ot=this,Ne=new V(function(mt,ut){ot.ready().then(function(){var Qe=ot._dbInfo;Qe.db.transaction(function(Wt){gi(Wt,Qe,"SELECT key FROM "+Qe.storeName,[],function(nn,un){for(var vn=[],an=0;an<un.rows.length;an++)vn.push(un.rows.item(an).key);mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ne,Te),Ne}function Dr(Te){return new V(function(ot,Ne){Te.transaction(function(mt){mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Qe){for(var Wt=[],nn=0;nn<Qe.rows.length;nn++)Wt.push(Qe.rows.item(nn).name);ot({db:Te,storeNames:Wt})},function(ut,Qe){Ne(Qe)})},function(mt){Ne(mt)})})}function ao(Te,ot){ot=te.apply(this,arguments);var Ne=this.config();Te=typeof Te!="function"&&Te||{},Te.name||(Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName);var mt=this,ut;return Te.name?ut=new V(function(Qe){var Wt;Te.name===Ne.name?Wt=mt._dbInfo.db:Wt=openDatabase(Te.name,"","",0),Te.storeName?Qe({db:Wt,storeNames:[Te.storeName]}):Qe(Dr(Wt))}).then(function(Qe){return new V(function(Wt,nn){Qe.db.transaction(function(un){function vn(Ar){return new V(function(Lo,Ko){un.executeSql("DROP TABLE IF EXISTS "+Ar,[],function(){Lo()},function(Ts,So){Ko(So)})})}for(var an=[],ho=0,rn=Qe.storeNames.length;ho<rn;ho++)an.push(vn(Qe.storeNames[ho]));V.all(an).then(function(){Wt()}).catch(function(Ar){nn(Ar)})},function(un){nn(un)})})}):ut=V.reject("Invalid arguments"),$(ut,ot),ut}var Kl={_driver:"webSQLStorage",_initStorage:Kt,_support:ie(),iterate:jl,getItem:ar,setItem:ei,removeItem:ym,clear:Mu,length:_c,key:fl,keys:Bu,dropInstance:ao};function Ti(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Lu(Te,ot){var Ne=Te.name+"/";return Te.storeName!==ot.storeName&&(Ne+=Te.storeName+"/"),Ne}function sn(){var Te="_localforage_support_test";try{return localStorage.setItem(Te,!0),localStorage.removeItem(Te),!1}catch{return!0}}function Fu(){return!sn()||localStorage.length>0}function xm(Te){var ot=this,Ne={};if(Te)for(var mt in Te)Ne[mt]=Te[mt];return Ne.keyPrefix=Lu(Te,ot._defaultConfig),Fu()?(ot._dbInfo=Ne,Ne.serializer=rs,V.resolve()):V.reject()}function hs(Te){var ot=this,Ne=ot.ready().then(function(){for(var mt=ot._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Qe=localStorage.key(ut);Qe.indexOf(mt)===0&&localStorage.removeItem(Qe)}});return $(Ne,Te),Ne}function wm(Te,ot){var Ne=this;Te=W(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Qe=localStorage.getItem(ut.keyPrefix+Te);return Qe&&(Qe=ut.serializer.deserialize(Qe)),Qe});return $(mt,ot),mt}function qa(Te,ot){var Ne=this,mt=Ne.ready().then(function(){for(var ut=Ne._dbInfo,Qe=ut.keyPrefix,Wt=Qe.length,nn=localStorage.length,un=1,vn=0;vn<nn;vn++){var an=localStorage.key(vn);if(an.indexOf(Qe)===0){var ho=localStorage.getItem(an);if(ho&&(ho=ut.serializer.deserialize(ho)),ho=Te(ho,an.substring(Wt),un++),ho!==void 0)return ho}}});return $(mt,ot),mt}function Il(Te,ot){var Ne=this,mt=Ne.ready().then(function(){var ut=Ne._dbInfo,Qe;try{Qe=localStorage.key(Te)}catch{Qe=null}return Qe&&(Qe=Qe.substring(ut.keyPrefix.length)),Qe});return $(mt,ot),mt}function ml(Te){var ot=this,Ne=ot.ready().then(function(){for(var mt=ot._dbInfo,ut=localStorage.length,Qe=[],Wt=0;Wt<ut;Wt++){var nn=localStorage.key(Wt);nn.indexOf(mt.keyPrefix)===0&&Qe.push(nn.substring(mt.keyPrefix.length))}return Qe});return $(Ne,Te),Ne}function ls(Te){var ot=this,Ne=ot.keys().then(function(mt){return mt.length});return $(Ne,Te),Ne}function Ca(Te,ot){var Ne=this;Te=W(Te);var mt=Ne.ready().then(function(){var ut=Ne._dbInfo;localStorage.removeItem(ut.keyPrefix+Te)});return $(mt,ot),mt}function Nl(Te,ot,Ne){var mt=this;Te=W(Te);var ut=mt.ready().then(function(){ot===void 0&&(ot=null);var Qe=ot;return new V(function(Wt,nn){var un=mt._dbInfo;un.serializer.serialize(ot,function(vn,an){if(an)nn(an);else try{localStorage.setItem(un.keyPrefix+Te,vn),Wt(Qe)}catch(ho){(ho.name==="QuotaExceededError"||ho.name==="NS_ERROR_DOM_QUOTA_REACHED")&&nn(ho),nn(ho)}})})});return $(ut,Ne),ut}function Cm(Te,ot){if(ot=te.apply(this,arguments),Te=typeof Te!="function"&&Te||{},!Te.name){var Ne=this.config();Te.name=Te.name||Ne.name,Te.storeName=Te.storeName||Ne.storeName}var mt=this,ut;return Te.name?ut=new V(function(Qe){Te.storeName?Qe(Lu(Te,mt._defaultConfig)):Qe(Te.name+"/")}).then(function(Qe){for(var Wt=localStorage.length-1;Wt>=0;Wt--){var nn=localStorage.key(Wt);nn.indexOf(Qe)===0&&localStorage.removeItem(nn)}}):ut=V.reject("Invalid arguments"),$(ut,ot),ut}var Yc={_driver:"localStorageWrapper",_initStorage:xm,_support:Ti(),iterate:qa,getItem:wm,setItem:Nl,removeItem:Ca,clear:hs,length:ls,key:Il,keys:ml,dropInstance:Cm},Xc=function(ot,Ne){return ot===Ne||typeof ot=="number"&&typeof Ne=="number"&&isNaN(ot)&&isNaN(Ne)},ff=function(ot,Ne){for(var mt=ot.length,ut=0;ut<mt;){if(Xc(ot[ut],Ne))return!0;ut++}return!1},Sd=Array.isArray||function(Te){return Object.prototype.toString.call(Te)==="[object Array]"},lr={},Ls={},ii={INDEXEDDB:Ke,WEBSQL:Kl,LOCALSTORAGE:Yc},_m=[ii.INDEXEDDB._driver,ii.WEBSQL._driver,ii.LOCALSTORAGE._driver],Ya=["dropInstance"],Jc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ya),_a={description:"",driver:_m.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ka(Te,ot){Te[ot]=function(){var Ne=arguments;return Te.ready().then(function(){return Te[ot].apply(Te,Ne)})}}function Qc(){for(var Te=1;Te<arguments.length;Te++){var ot=arguments[Te];if(ot)for(var Ne in ot)ot.hasOwnProperty(Ne)&&(Sd(ot[Ne])?arguments[0][Ne]=ot[Ne].slice():arguments[0][Ne]=ot[Ne])}return arguments[0]}var Pr=function(){function Te(ot){x(this,Te);for(var Ne in ii)if(ii.hasOwnProperty(Ne)){var mt=ii[Ne],ut=mt._driver;this[Ne]=ut,lr[ut]||this.defineDriver(mt)}this._defaultConfig=Qc({},_a),this._config=Qc({},this._defaultConfig,ot),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Te.prototype.config=function(Ne){if((typeof Ne>"u"?"undefined":v(Ne))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var mt in Ne){if(mt==="storeName"&&(Ne[mt]=Ne[mt].replace(/\W/g,"_")),mt==="version"&&typeof Ne[mt]!="number")return new Error("Database version must be a number.");this._config[mt]=Ne[mt]}return"driver"in Ne&&Ne.driver?this.setDriver(this._config.driver):!0}else return typeof Ne=="string"?this._config[Ne]:this._config},Te.prototype.defineDriver=function(Ne,mt,ut){var Qe=new V(function(Wt,nn){try{var un=Ne._driver,vn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ne._driver){nn(vn);return}for(var an=Jc.concat("_initStorage"),ho=0,rn=an.length;ho<rn;ho++){var Ar=an[ho],Lo=!ff(Ya,Ar);if((Lo||Ne[Ar])&&typeof Ne[Ar]!="function"){nn(vn);return}}var Ko=function(){for(var Pl=function(ws){return function(){var Ed=new Error("Method "+ws+" is not implemented by the current driver"),$s=V.reject(Ed);return $($s,arguments[arguments.length-1]),$s}},ta=0,co=Ya.length;ta<co;ta++){var Xa=Ya[ta];Ne[Xa]||(Ne[Xa]=Pl(Xa))}};Ko();var Ts=function(Pl){lr[un]&&console.info("Redefining LocalForage driver: "+un),lr[un]=Ne,Ls[un]=Pl,Wt()};"_support"in Ne?Ne._support&&typeof Ne._support=="function"?Ne._support().then(Ts,nn):Ts(!!Ne._support):Ts(!0)}catch(So){nn(So)}});return G(Qe,mt,ut),Qe},Te.prototype.driver=function(){return this._driver||null},Te.prototype.getDriver=function(Ne,mt,ut){var Qe=lr[Ne]?V.resolve(lr[Ne]):V.reject(new Error("Driver not found."));return G(Qe,mt,ut),Qe},Te.prototype.getSerializer=function(Ne){var mt=V.resolve(rs);return G(mt,Ne),mt},Te.prototype.ready=function(Ne){var mt=this,ut=mt._driverSet.then(function(){return mt._ready===null&&(mt._ready=mt._initDriver()),mt._ready});return G(ut,Ne,Ne),ut},Te.prototype.setDriver=function(Ne,mt,ut){var Qe=this;Sd(Ne)||(Ne=[Ne]);var Wt=this._getSupportedDrivers(Ne);function nn(){Qe._config.driver=Qe.driver()}function un(ho){return Qe._extend(ho),nn(),Qe._ready=Qe._initStorage(Qe._config),Qe._ready}function vn(ho){return function(){var rn=0;function Ar(){for(;rn<ho.length;){var Lo=ho[rn];return rn++,Qe._dbInfo=null,Qe._ready=null,Qe.getDriver(Lo).then(un).catch(Ar)}nn();var Ko=new Error("No available storage method found.");return Qe._driverSet=V.reject(Ko),Qe._driverSet}return Ar()}}var an=this._driverSet!==null?this._driverSet.catch(function(){return V.resolve()}):V.resolve();return this._driverSet=an.then(function(){var ho=Wt[0];return Qe._dbInfo=null,Qe._ready=null,Qe.getDriver(ho).then(function(rn){Qe._driver=rn._driver,nn(),Qe._wrapLibraryMethodsWithReady(),Qe._initDriver=vn(Wt)})}).catch(function(){nn();var ho=new Error("No available storage method found.");return Qe._driverSet=V.reject(ho),Qe._driverSet}),G(this._driverSet,mt,ut),this._driverSet},Te.prototype.supports=function(Ne){return!!Ls[Ne]},Te.prototype._extend=function(Ne){Qc(this,Ne)},Te.prototype._getSupportedDrivers=function(Ne){for(var mt=[],ut=0,Qe=Ne.length;ut<Qe;ut++){var Wt=Ne[ut];this.supports(Wt)&&mt.push(Wt)}return mt},Te.prototype._wrapLibraryMethodsWithReady=function(){for(var Ne=0,mt=Jc.length;Ne<mt;Ne++)ka(this,Jc[Ne])},Te.prototype.createInstance=function(Ne){return new Te(Ne)},Te}(),cs=new Pr;d.exports=cs},{3:3}]},{},[4])(4)})})(qX);var ege=qX.exports;const kd=VU(ege);function YX(n,s){return function(){return n.apply(s,arguments)}}const{toString:tge}=Object.prototype,{getPrototypeOf:zU}=Object,t8=(n=>s=>{const l=tge.call(s);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Xh=n=>(n=n.toLowerCase(),s=>t8(s)===n),n8=n=>s=>typeof s===n,{isArray:eE}=Array,oD=n8("undefined");function nge(n){return n!==null&&!oD(n)&&n.constructor!==null&&!oD(n.constructor)&&fm(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const XX=Xh("ArrayBuffer");function oge(n){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(n):s=n&&n.buffer&&XX(n.buffer),s}const rge=n8("string"),fm=n8("function"),JX=n8("number"),o8=n=>n!==null&&typeof n=="object",sge=n=>n===!0||n===!1,sL=n=>{if(t8(n)!=="object")return!1;const s=zU(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},ige=Xh("Date"),age=Xh("File"),lge=Xh("Blob"),cge=Xh("FileList"),uge=n=>o8(n)&&fm(n.pipe),dge=n=>{let s;return n&&(typeof FormData=="function"&&n instanceof FormData||fm(n.append)&&((s=t8(n))==="formdata"||s==="object"&&fm(n.toString)&&n.toString()==="[object FormData]"))},fge=Xh("URLSearchParams"),[mge,gge,hge,pge]=["ReadableStream","Request","Response","Headers"].map(Xh),vge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function OD(n,s,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let d,g;if(typeof n!="object"&&(n=[n]),eE(n))for(d=0,g=n.length;d<g;d++)s.call(null,n[d],d,n);else{const v=l?Object.getOwnPropertyNames(n):Object.keys(n),x=v.length;let _;for(d=0;d<x;d++)_=v[d],s.call(null,n[_],_,n)}}function QX(n,s){s=s.toLowerCase();const l=Object.keys(n);let d=l.length,g;for(;d-- >0;)if(g=l[d],s===g.toLowerCase())return g;return null}const nC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eJ=n=>!oD(n)&&n!==nC;function V$(){const{caseless:n}=eJ(this)&&this||{},s={},l=(d,g)=>{const v=n&&QX(s,g)||g;sL(s[v])&&sL(d)?s[v]=V$(s[v],d):sL(d)?s[v]=V$({},d):eE(d)?s[v]=d.slice():s[v]=d};for(let d=0,g=arguments.length;d<g;d++)arguments[d]&&OD(arguments[d],l);return s}const bge=(n,s,l,{allOwnKeys:d}={})=>(OD(s,(g,v)=>{l&&fm(g)?n[v]=YX(g,l):n[v]=g},{allOwnKeys:d}),n),yge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),xge=(n,s,l,d)=>{n.prototype=Object.create(s.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:s.prototype}),l&&Object.assign(n.prototype,l)},wge=(n,s,l,d)=>{let g,v,x;const _={};if(s=s||{},n==null)return s;do{for(g=Object.getOwnPropertyNames(n),v=g.length;v-- >0;)x=g[v],(!d||d(x,n,s))&&!_[x]&&(s[x]=n[x],_[x]=!0);n=l!==!1&&zU(n)}while(n&&(!l||l(n,s))&&n!==Object.prototype);return s},Cge=(n,s,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=s.length;const d=n.indexOf(s,l);return d!==-1&&d===l},_ge=n=>{if(!n)return null;if(eE(n))return n;let s=n.length;if(!JX(s))return null;const l=new Array(s);for(;s-- >0;)l[s]=n[s];return l},kge=(n=>s=>n&&s instanceof n)(typeof Uint8Array<"u"&&zU(Uint8Array)),Sge=(n,s)=>{const d=(n&&n[Symbol.iterator]).call(n);let g;for(;(g=d.next())&&!g.done;){const v=g.value;s.call(n,v[0],v[1])}},Ege=(n,s)=>{let l;const d=[];for(;(l=n.exec(s))!==null;)d.push(l);return d},Age=Xh("HTMLFormElement"),Tge=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,g){return d.toUpperCase()+g}),GG=(({hasOwnProperty:n})=>(s,l)=>n.call(s,l))(Object.prototype),Oge=Xh("RegExp"),tJ=(n,s)=>{const l=Object.getOwnPropertyDescriptors(n),d={};OD(l,(g,v)=>{let x;(x=s(g,v,n))!==!1&&(d[v]=x||g)}),Object.defineProperties(n,d)},Dge=n=>{tJ(n,(s,l)=>{if(fm(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=n[l];if(fm(d)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Rge=(n,s)=>{const l={},d=g=>{g.forEach(v=>{l[v]=!0})};return eE(n)?d(n):d(String(n).split(s)),l},Ige=()=>{},Nge=(n,s)=>n!=null&&Number.isFinite(n=+n)?n:s,QH="abcdefghijklmnopqrstuvwxyz",qG="0123456789",nJ={DIGIT:qG,ALPHA:QH,ALPHA_DIGIT:QH+QH.toUpperCase()+qG},Pge=(n=16,s=nJ.ALPHA_DIGIT)=>{let l="";const{length:d}=s;for(;n--;)l+=s[Math.random()*d|0];return l};function Mge(n){return!!(n&&fm(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Bge=n=>{const s=new Array(10),l=(d,g)=>{if(o8(d)){if(s.indexOf(d)>=0)return;if(!("toJSON"in d)){s[g]=d;const v=eE(d)?[]:{};return OD(d,(x,_)=>{const N=l(x,g+1);!oD(N)&&(v[_]=N)}),s[g]=void 0,v}}return d};return l(n,0)},Lge=Xh("AsyncFunction"),Fge=n=>n&&(o8(n)||fm(n))&&fm(n.then)&&fm(n.catch),oJ=((n,s)=>n?setImmediate:s?((l,d)=>(nC.addEventListener("message",({source:g,data:v})=>{g===nC&&v===l&&d.length&&d.shift()()},!1),g=>{d.push(g),nC.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",fm(nC.postMessage)),Vge=typeof queueMicrotask<"u"?queueMicrotask.bind(nC):typeof process<"u"&&process.nextTick||oJ,jt={isArray:eE,isArrayBuffer:XX,isBuffer:nge,isFormData:dge,isArrayBufferView:oge,isString:rge,isNumber:JX,isBoolean:sge,isObject:o8,isPlainObject:sL,isReadableStream:mge,isRequest:gge,isResponse:hge,isHeaders:pge,isUndefined:oD,isDate:ige,isFile:age,isBlob:lge,isRegExp:Oge,isFunction:fm,isStream:uge,isURLSearchParams:fge,isTypedArray:kge,isFileList:cge,forEach:OD,merge:V$,extend:bge,trim:vge,stripBOM:yge,inherits:xge,toFlatObject:wge,kindOf:t8,kindOfTest:Xh,endsWith:Cge,toArray:_ge,forEachEntry:Sge,matchAll:Ege,isHTMLForm:Age,hasOwnProperty:GG,hasOwnProp:GG,reduceDescriptors:tJ,freezeMethods:Dge,toObjectSet:Rge,toCamelCase:Tge,noop:Ige,toFiniteNumber:Nge,findKey:QX,global:nC,isContextDefined:eJ,ALPHABET:nJ,generateString:Pge,isSpecCompliantForm:Mge,toJSONObject:Bge,isAsyncFn:Lge,isThenable:Fge,setImmediate:oJ,asap:Vge};function Wr(n,s,l,d,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",s&&(this.code=s),l&&(this.config=l),d&&(this.request=d),g&&(this.response=g,this.status=g.status?g.status:null)}jt.inherits(Wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.status}}});const rJ=Wr.prototype,sJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sJ[n]={value:n}});Object.defineProperties(Wr,sJ);Object.defineProperty(rJ,"isAxiosError",{value:!0});Wr.from=(n,s,l,d,g,v)=>{const x=Object.create(rJ);return jt.toFlatObject(n,x,function(N){return N!==Error.prototype},_=>_!=="isAxiosError"),Wr.call(x,n.message,s,l,d,g),x.cause=n,x.name=n.name,v&&Object.assign(x,v),x};const zge=null;function z$(n){return jt.isPlainObject(n)||jt.isArray(n)}function iJ(n){return jt.endsWith(n,"[]")?n.slice(0,-2):n}function YG(n,s,l){return n?n.concat(s).map(function(g,v){return g=iJ(g),!l&&v?"["+g+"]":g}).join(l?".":""):s}function Hge(n){return jt.isArray(n)&&!n.some(z$)}const $ge=jt.toFlatObject(jt,{},null,function(s){return/^is[A-Z]/.test(s)});function r8(n,s,l){if(!jt.isObject(n))throw new TypeError("target must be an object");s=s||new FormData,l=jt.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(te,ae){return!jt.isUndefined(ae[te])});const d=l.metaTokens,g=l.visitor||I,v=l.dots,x=l.indexes,N=(l.Blob||typeof Blob<"u"&&Blob)&&jt.isSpecCompliantForm(s);if(!jt.isFunction(g))throw new TypeError("visitor must be a function");function R(W){if(W===null)return"";if(jt.isDate(W))return W.toISOString();if(!N&&jt.isBlob(W))throw new Wr("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(W)||jt.isTypedArray(W)?N&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function I(W,te,ae){let ce=W;if(W&&!ae&&typeof W=="object"){if(jt.endsWith(te,"{}"))te=d?te:te.slice(0,-2),W=JSON.stringify(W);else if(jt.isArray(W)&&Hge(W)||(jt.isFileList(W)||jt.endsWith(te,"[]"))&&(ce=jt.toArray(W)))return te=iJ(te),ce.forEach(function(Ce,ee){!(jt.isUndefined(Ce)||Ce===null)&&s.append(x===!0?YG([te],ee,v):x===null?te:te+"[]",R(Ce))}),!1}return z$(W)?!0:(s.append(YG(ae,te,v),R(W)),!1)}const V=[],$=Object.assign($ge,{defaultVisitor:I,convertValue:R,isVisitable:z$});function G(W,te){if(!jt.isUndefined(W)){if(V.indexOf(W)!==-1)throw Error("Circular reference detected in "+te.join("."));V.push(W),jt.forEach(W,function(ce,Ve){(!(jt.isUndefined(ce)||ce===null)&&g.call(s,ce,jt.isString(Ve)?Ve.trim():Ve,te,$))===!0&&G(ce,te?te.concat(Ve):[Ve])}),V.pop()}}if(!jt.isObject(n))throw new TypeError("data must be an object");return G(n),s}function XG(n){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return s[d]})}function HU(n,s){this._pairs=[],n&&r8(n,this,s)}const aJ=HU.prototype;aJ.append=function(s,l){this._pairs.push([s,l])};aJ.toString=function(s){const l=s?function(d){return s.call(this,d,XG)}:XG;return this._pairs.map(function(g){return l(g[0])+"="+l(g[1])},"").join("&")};function Uge(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lJ(n,s,l){if(!s)return n;const d=l&&l.encode||Uge,g=l&&l.serialize;let v;if(g?v=g(s,l):v=jt.isURLSearchParams(s)?s.toString():new HU(s,l).toString(d),v){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+v}return n}class JG{constructor(){this.handlers=[]}use(s,l,d){return this.handlers.push({fulfilled:s,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){jt.forEach(this.handlers,function(d){d!==null&&s(d)})}}const cJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wge=typeof URLSearchParams<"u"?URLSearchParams:HU,Zge=typeof FormData<"u"?FormData:null,jge=typeof Blob<"u"?Blob:null,Kge={isBrowser:!0,classes:{URLSearchParams:Wge,FormData:Zge,Blob:jge},protocols:["http","https","file","blob","url","data"]},$U=typeof window<"u"&&typeof document<"u",H$=typeof navigator=="object"&&navigator||void 0,Gge=$U&&(!H$||["ReactNative","NativeScript","NS"].indexOf(H$.product)<0),qge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yge=$U&&window.location.href||"http://localhost",Xge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$U,hasStandardBrowserEnv:Gge,hasStandardBrowserWebWorkerEnv:qge,navigator:H$,origin:Yge},Symbol.toStringTag,{value:"Module"})),cf={...Xge,...Kge};function Jge(n,s){return r8(n,new cf.classes.URLSearchParams,Object.assign({visitor:function(l,d,g,v){return cf.isNode&&jt.isBuffer(l)?(this.append(d,l.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},s))}function Qge(n){return jt.matchAll(/\w+|\[(\w*)]/g,n).map(s=>s[0]==="[]"?"":s[1]||s[0])}function ehe(n){const s={},l=Object.keys(n);let d;const g=l.length;let v;for(d=0;d<g;d++)v=l[d],s[v]=n[v];return s}function uJ(n){function s(l,d,g,v){let x=l[v++];if(x==="__proto__")return!0;const _=Number.isFinite(+x),N=v>=l.length;return x=!x&&jt.isArray(g)?g.length:x,N?(jt.hasOwnProp(g,x)?g[x]=[g[x],d]:g[x]=d,!_):((!g[x]||!jt.isObject(g[x]))&&(g[x]=[]),s(l,d,g[x],v)&&jt.isArray(g[x])&&(g[x]=ehe(g[x])),!_)}if(jt.isFormData(n)&&jt.isFunction(n.entries)){const l={};return jt.forEachEntry(n,(d,g)=>{s(Qge(d),g,l,0)}),l}return null}function the(n,s,l){if(jt.isString(n))try{return(s||JSON.parse)(n),jt.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(n)}const DD={transitional:cJ,adapter:["xhr","http","fetch"],transformRequest:[function(s,l){const d=l.getContentType()||"",g=d.indexOf("application/json")>-1,v=jt.isObject(s);if(v&&jt.isHTMLForm(s)&&(s=new FormData(s)),jt.isFormData(s))return g?JSON.stringify(uJ(s)):s;if(jt.isArrayBuffer(s)||jt.isBuffer(s)||jt.isStream(s)||jt.isFile(s)||jt.isBlob(s)||jt.isReadableStream(s))return s;if(jt.isArrayBufferView(s))return s.buffer;if(jt.isURLSearchParams(s))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let _;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Jge(s,this.formSerializer).toString();if((_=jt.isFileList(s))||d.indexOf("multipart/form-data")>-1){const N=this.env&&this.env.FormData;return r8(_?{"files[]":s}:s,N&&new N,this.formSerializer)}}return v||g?(l.setContentType("application/json",!1),the(s)):s}],transformResponse:[function(s){const l=this.transitional||DD.transitional,d=l&&l.forcedJSONParsing,g=this.responseType==="json";if(jt.isResponse(s)||jt.isReadableStream(s))return s;if(s&&jt.isString(s)&&(d&&!this.responseType||g)){const x=!(l&&l.silentJSONParsing)&&g;try{return JSON.parse(s)}catch(_){if(x)throw _.name==="SyntaxError"?Wr.from(_,Wr.ERR_BAD_RESPONSE,this,null,this.response):_}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cf.classes.FormData,Blob:cf.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],n=>{DD.headers[n]={}});const nhe=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ohe=n=>{const s={};let l,d,g;return n&&n.split(`
`).forEach(function(x){g=x.indexOf(":"),l=x.substring(0,g).trim().toLowerCase(),d=x.substring(g+1).trim(),!(!l||s[l]&&nhe[l])&&(l==="set-cookie"?s[l]?s[l].push(d):s[l]=[d]:s[l]=s[l]?s[l]+", "+d:d)}),s},QG=Symbol("internals");function IO(n){return n&&String(n).trim().toLowerCase()}function iL(n){return n===!1||n==null?n:jt.isArray(n)?n.map(iL):String(n)}function rhe(n){const s=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(n);)s[d[1]]=d[2];return s}const she=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function e$(n,s,l,d,g){if(jt.isFunction(d))return d.call(this,s,l);if(g&&(s=l),!!jt.isString(s)){if(jt.isString(d))return s.indexOf(d)!==-1;if(jt.isRegExp(d))return d.test(s)}}function ihe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,l,d)=>l.toUpperCase()+d)}function ahe(n,s){const l=jt.toCamelCase(" "+s);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+l,{value:function(g,v,x){return this[d].call(this,s,g,v,x)},configurable:!0})})}class uf{constructor(s){s&&this.set(s)}set(s,l,d){const g=this;function v(_,N,R){const I=IO(N);if(!I)throw new Error("header name must be a non-empty string");const V=jt.findKey(g,I);(!V||g[V]===void 0||R===!0||R===void 0&&g[V]!==!1)&&(g[V||N]=iL(_))}const x=(_,N)=>jt.forEach(_,(R,I)=>v(R,I,N));if(jt.isPlainObject(s)||s instanceof this.constructor)x(s,l);else if(jt.isString(s)&&(s=s.trim())&&!she(s))x(ohe(s),l);else if(jt.isHeaders(s))for(const[_,N]of s.entries())v(N,_,d);else s!=null&&v(l,s,d);return this}get(s,l){if(s=IO(s),s){const d=jt.findKey(this,s);if(d){const g=this[d];if(!l)return g;if(l===!0)return rhe(g);if(jt.isFunction(l))return l.call(this,g,d);if(jt.isRegExp(l))return l.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,l){if(s=IO(s),s){const d=jt.findKey(this,s);return!!(d&&this[d]!==void 0&&(!l||e$(this,this[d],d,l)))}return!1}delete(s,l){const d=this;let g=!1;function v(x){if(x=IO(x),x){const _=jt.findKey(d,x);_&&(!l||e$(d,d[_],_,l))&&(delete d[_],g=!0)}}return jt.isArray(s)?s.forEach(v):v(s),g}clear(s){const l=Object.keys(this);let d=l.length,g=!1;for(;d--;){const v=l[d];(!s||e$(this,this[v],v,s,!0))&&(delete this[v],g=!0)}return g}normalize(s){const l=this,d={};return jt.forEach(this,(g,v)=>{const x=jt.findKey(d,v);if(x){l[x]=iL(g),delete l[v];return}const _=s?ihe(v):String(v).trim();_!==v&&delete l[v],l[_]=iL(g),d[_]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const l=Object.create(null);return jt.forEach(this,(d,g)=>{d!=null&&d!==!1&&(l[g]=s&&jt.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,l])=>s+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...l){const d=new this(s);return l.forEach(g=>d.set(g)),d}static accessor(s){const d=(this[QG]=this[QG]={accessors:{}}).accessors,g=this.prototype;function v(x){const _=IO(x);d[_]||(ahe(g,x),d[_]=!0)}return jt.isArray(s)?s.forEach(v):v(s),this}}uf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);jt.reduceDescriptors(uf.prototype,({value:n},s)=>{let l=s[0].toUpperCase()+s.slice(1);return{get:()=>n,set(d){this[l]=d}}});jt.freezeMethods(uf);function t$(n,s){const l=this||DD,d=s||l,g=uf.from(d.headers);let v=d.data;return jt.forEach(n,function(_){v=_.call(l,v,g.normalize(),s?s.status:void 0)}),g.normalize(),v}function dJ(n){return!!(n&&n.__CANCEL__)}function tE(n,s,l){Wr.call(this,n??"canceled",Wr.ERR_CANCELED,s,l),this.name="CanceledError"}jt.inherits(tE,Wr,{__CANCEL__:!0});function fJ(n,s,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?n(l):s(new Wr("Request failed with status code "+l.status,[Wr.ERR_BAD_REQUEST,Wr.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function lhe(n){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return s&&s[1]||""}function che(n,s){n=n||10;const l=new Array(n),d=new Array(n);let g=0,v=0,x;return s=s!==void 0?s:1e3,function(N){const R=Date.now(),I=d[v];x||(x=R),l[g]=N,d[g]=R;let V=v,$=0;for(;V!==g;)$+=l[V++],V=V%n;if(g=(g+1)%n,g===v&&(v=(v+1)%n),R-x<s)return;const G=I&&R-I;return G?Math.round($*1e3/G):void 0}}function uhe(n,s){let l=0,d=1e3/s,g,v;const x=(R,I=Date.now())=>{l=I,g=null,v&&(clearTimeout(v),v=null),n.apply(null,R)};return[(...R)=>{const I=Date.now(),V=I-l;V>=d?x(R,I):(g=R,v||(v=setTimeout(()=>{v=null,x(g)},d-V)))},()=>g&&x(g)]}const AL=(n,s,l=3)=>{let d=0;const g=che(50,250);return uhe(v=>{const x=v.loaded,_=v.lengthComputable?v.total:void 0,N=x-d,R=g(N),I=x<=_;d=x;const V={loaded:x,total:_,progress:_?x/_:void 0,bytes:N,rate:R||void 0,estimated:R&&_&&I?(_-x)/R:void 0,event:v,lengthComputable:_!=null,[s?"download":"upload"]:!0};n(V)},l)},eq=(n,s)=>{const l=n!=null;return[d=>s[0]({lengthComputable:l,total:n,loaded:d}),s[1]]},tq=n=>(...s)=>jt.asap(()=>n(...s)),dhe=cf.hasStandardBrowserEnv?function(){const s=cf.navigator&&/(msie|trident)/i.test(cf.navigator.userAgent),l=document.createElement("a");let d;function g(v){let x=v;return s&&(l.setAttribute("href",x),x=l.href),l.setAttribute("href",x),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return d=g(window.location.href),function(x){const _=jt.isString(x)?g(x):x;return _.protocol===d.protocol&&_.host===d.host}}():function(){return function(){return!0}}(),fhe=cf.hasStandardBrowserEnv?{write(n,s,l,d,g,v){const x=[n+"="+encodeURIComponent(s)];jt.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),jt.isString(d)&&x.push("path="+d),jt.isString(g)&&x.push("domain="+g),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mhe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ghe(n,s){return s?n.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):n}function mJ(n,s){return n&&!mhe(s)?ghe(n,s):s}const nq=n=>n instanceof uf?{...n}:n;function dC(n,s){s=s||{};const l={};function d(R,I,V){return jt.isPlainObject(R)&&jt.isPlainObject(I)?jt.merge.call({caseless:V},R,I):jt.isPlainObject(I)?jt.merge({},I):jt.isArray(I)?I.slice():I}function g(R,I,V){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R,V)}else return d(R,I,V)}function v(R,I){if(!jt.isUndefined(I))return d(void 0,I)}function x(R,I){if(jt.isUndefined(I)){if(!jt.isUndefined(R))return d(void 0,R)}else return d(void 0,I)}function _(R,I,V){if(V in s)return d(R,I);if(V in n)return d(void 0,R)}const N={url:v,method:v,data:v,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:_,headers:(R,I)=>g(nq(R),nq(I),!0)};return jt.forEach(Object.keys(Object.assign({},n,s)),function(I){const V=N[I]||g,$=V(n[I],s[I],I);jt.isUndefined($)&&V!==_||(l[I]=$)}),l}const gJ=n=>{const s=dC({},n);let{data:l,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:x,auth:_}=s;s.headers=x=uf.from(x),s.url=lJ(mJ(s.baseURL,s.url),n.params,n.paramsSerializer),_&&x.set("Authorization","Basic "+btoa((_.username||"")+":"+(_.password?unescape(encodeURIComponent(_.password)):"")));let N;if(jt.isFormData(l)){if(cf.hasStandardBrowserEnv||cf.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((N=x.getContentType())!==!1){const[R,...I]=N?N.split(";").map(V=>V.trim()).filter(Boolean):[];x.setContentType([R||"multipart/form-data",...I].join("; "))}}if(cf.hasStandardBrowserEnv&&(d&&jt.isFunction(d)&&(d=d(s)),d||d!==!1&&dhe(s.url))){const R=g&&v&&fhe.read(v);R&&x.set(g,R)}return s},hhe=typeof XMLHttpRequest<"u",phe=hhe&&function(n){return new Promise(function(l,d){const g=gJ(n);let v=g.data;const x=uf.from(g.headers).normalize();let{responseType:_,onUploadProgress:N,onDownloadProgress:R}=g,I,V,$,G,W;function te(){G&&G(),W&&W(),g.cancelToken&&g.cancelToken.unsubscribe(I),g.signal&&g.signal.removeEventListener("abort",I)}let ae=new XMLHttpRequest;ae.open(g.method.toUpperCase(),g.url,!0),ae.timeout=g.timeout;function ce(){if(!ae)return;const Ce=uf.from("getAllResponseHeaders"in ae&&ae.getAllResponseHeaders()),we={data:!_||_==="text"||_==="json"?ae.responseText:ae.response,status:ae.status,statusText:ae.statusText,headers:Ce,config:n,request:ae};fJ(function(Ze){l(Ze),te()},function(Ze){d(Ze),te()},we),ae=null}"onloadend"in ae?ae.onloadend=ce:ae.onreadystatechange=function(){!ae||ae.readyState!==4||ae.status===0&&!(ae.responseURL&&ae.responseURL.indexOf("file:")===0)||setTimeout(ce)},ae.onabort=function(){ae&&(d(new Wr("Request aborted",Wr.ECONNABORTED,n,ae)),ae=null)},ae.onerror=function(){d(new Wr("Network Error",Wr.ERR_NETWORK,n,ae)),ae=null},ae.ontimeout=function(){let ee=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const we=g.transitional||cJ;g.timeoutErrorMessage&&(ee=g.timeoutErrorMessage),d(new Wr(ee,we.clarifyTimeoutError?Wr.ETIMEDOUT:Wr.ECONNABORTED,n,ae)),ae=null},v===void 0&&x.setContentType(null),"setRequestHeader"in ae&&jt.forEach(x.toJSON(),function(ee,we){ae.setRequestHeader(we,ee)}),jt.isUndefined(g.withCredentials)||(ae.withCredentials=!!g.withCredentials),_&&_!=="json"&&(ae.responseType=g.responseType),R&&([$,W]=AL(R,!0),ae.addEventListener("progress",$)),N&&ae.upload&&([V,G]=AL(N),ae.upload.addEventListener("progress",V),ae.upload.addEventListener("loadend",G)),(g.cancelToken||g.signal)&&(I=Ce=>{ae&&(d(!Ce||Ce.type?new tE(null,n,ae):Ce),ae.abort(),ae=null)},g.cancelToken&&g.cancelToken.subscribe(I),g.signal&&(g.signal.aborted?I():g.signal.addEventListener("abort",I)));const Ve=lhe(g.url);if(Ve&&cf.protocols.indexOf(Ve)===-1){d(new Wr("Unsupported protocol "+Ve+":",Wr.ERR_BAD_REQUEST,n));return}ae.send(v||null)})},vhe=(n,s)=>{const{length:l}=n=n?n.filter(Boolean):[];if(s||l){let d=new AbortController,g;const v=function(R){if(!g){g=!0,_();const I=R instanceof Error?R:this.reason;d.abort(I instanceof Wr?I:new tE(I instanceof Error?I.message:I))}};let x=s&&setTimeout(()=>{x=null,v(new Wr(`timeout ${s} of ms exceeded`,Wr.ETIMEDOUT))},s);const _=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(R=>{R.unsubscribe?R.unsubscribe(v):R.removeEventListener("abort",v)}),n=null)};n.forEach(R=>R.addEventListener("abort",v));const{signal:N}=d;return N.unsubscribe=()=>jt.asap(_),N}},bhe=function*(n,s){let l=n.byteLength;if(l<s){yield n;return}let d=0,g;for(;d<l;)g=d+s,yield n.slice(d,g),d=g},yhe=async function*(n,s){for await(const l of xhe(n))yield*bhe(l,s)},xhe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const s=n.getReader();try{for(;;){const{done:l,value:d}=await s.read();if(l)break;yield d}}finally{await s.cancel()}},oq=(n,s,l,d)=>{const g=yhe(n,s);let v=0,x,_=N=>{x||(x=!0,d&&d(N))};return new ReadableStream({async pull(N){try{const{done:R,value:I}=await g.next();if(R){_(),N.close();return}let V=I.byteLength;if(l){let $=v+=V;l($)}N.enqueue(new Uint8Array(I))}catch(R){throw _(R),R}},cancel(N){return _(N),g.return()}},{highWaterMark:2})},s8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hJ=s8&&typeof ReadableStream=="function",whe=s8&&(typeof TextEncoder=="function"?(n=>s=>n.encode(s))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),pJ=(n,...s)=>{try{return!!n(...s)}catch{return!1}},Che=hJ&&pJ(()=>{let n=!1;const s=new Request(cf.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!s}),rq=64*1024,$$=hJ&&pJ(()=>jt.isReadableStream(new Response("").body)),TL={stream:$$&&(n=>n.body)};s8&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!TL[s]&&(TL[s]=jt.isFunction(n[s])?l=>l[s]():(l,d)=>{throw new Wr(`Response type '${s}' is not supported`,Wr.ERR_NOT_SUPPORT,d)})})})(new Response);const _he=async n=>{if(n==null)return 0;if(jt.isBlob(n))return n.size;if(jt.isSpecCompliantForm(n))return(await new Request(cf.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(jt.isArrayBufferView(n)||jt.isArrayBuffer(n))return n.byteLength;if(jt.isURLSearchParams(n)&&(n=n+""),jt.isString(n))return(await whe(n)).byteLength},khe=async(n,s)=>{const l=jt.toFiniteNumber(n.getContentLength());return l??_he(s)},She=s8&&(async n=>{let{url:s,method:l,data:d,signal:g,cancelToken:v,timeout:x,onDownloadProgress:_,onUploadProgress:N,responseType:R,headers:I,withCredentials:V="same-origin",fetchOptions:$}=gJ(n);R=R?(R+"").toLowerCase():"text";let G=vhe([g,v&&v.toAbortSignal()],x),W;const te=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let ae;try{if(N&&Che&&l!=="get"&&l!=="head"&&(ae=await khe(I,d))!==0){let we=new Request(s,{method:"POST",body:d,duplex:"half"}),le;if(jt.isFormData(d)&&(le=we.headers.get("content-type"))&&I.setContentType(le),we.body){const[Ze,Be]=eq(ae,AL(tq(N)));d=oq(we.body,rq,Ze,Be)}}jt.isString(V)||(V=V?"include":"omit");const ce="credentials"in Request.prototype;W=new Request(s,{...$,signal:G,method:l.toUpperCase(),headers:I.normalize().toJSON(),body:d,duplex:"half",credentials:ce?V:void 0});let Ve=await fetch(W);const Ce=$$&&(R==="stream"||R==="response");if($$&&(_||Ce&&te)){const we={};["status","statusText","headers"].forEach(Me=>{we[Me]=Ve[Me]});const le=jt.toFiniteNumber(Ve.headers.get("content-length")),[Ze,Be]=_&&eq(le,AL(tq(_),!0))||[];Ve=new Response(oq(Ve.body,rq,Ze,()=>{Be&&Be(),te&&te()}),we)}R=R||"text";let ee=await TL[jt.findKey(TL,R)||"text"](Ve,n);return!Ce&&te&&te(),await new Promise((we,le)=>{fJ(we,le,{data:ee,headers:uf.from(Ve.headers),status:Ve.status,statusText:Ve.statusText,config:n,request:W})})}catch(ce){throw te&&te(),ce&&ce.name==="TypeError"&&/fetch/i.test(ce.message)?Object.assign(new Wr("Network Error",Wr.ERR_NETWORK,n,W),{cause:ce.cause||ce}):Wr.from(ce,ce&&ce.code,n,W)}}),U$={http:zge,xhr:phe,fetch:She};jt.forEach(U$,(n,s)=>{if(n){try{Object.defineProperty(n,"name",{value:s})}catch{}Object.defineProperty(n,"adapterName",{value:s})}});const sq=n=>`- ${n}`,Ehe=n=>jt.isFunction(n)||n===null||n===!1,vJ={getAdapter:n=>{n=jt.isArray(n)?n:[n];const{length:s}=n;let l,d;const g={};for(let v=0;v<s;v++){l=n[v];let x;if(d=l,!Ehe(l)&&(d=U$[(x=String(l)).toLowerCase()],d===void 0))throw new Wr(`Unknown adapter '${x}'`);if(d)break;g[x||"#"+v]=d}if(!d){const v=Object.entries(g).map(([_,N])=>`adapter ${_} `+(N===!1?"is not supported by the environment":"is not available in the build"));let x=s?v.length>1?`since :
`+v.map(sq).join(`
`):" "+sq(v[0]):"as no adapter specified";throw new Wr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d},adapters:U$};function n$(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new tE(null,n)}function iq(n){return n$(n),n.headers=uf.from(n.headers),n.data=t$.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),vJ.getAdapter(n.adapter||DD.adapter)(n).then(function(d){return n$(n),d.data=t$.call(n,n.transformResponse,d),d.headers=uf.from(d.headers),d},function(d){return dJ(d)||(n$(n),d&&d.response&&(d.response.data=t$.call(n,n.transformResponse,d.response),d.response.headers=uf.from(d.response.headers))),Promise.reject(d)})}const bJ="1.7.7",UU={};["object","boolean","number","function","string","symbol"].forEach((n,s)=>{UU[n]=function(d){return typeof d===n||"a"+(s<1?"n ":" ")+n}});const aq={};UU.transitional=function(s,l,d){function g(v,x){return"[Axios v"+bJ+"] Transitional option '"+v+"'"+x+(d?". "+d:"")}return(v,x,_)=>{if(s===!1)throw new Wr(g(x," has been removed"+(l?" in "+l:"")),Wr.ERR_DEPRECATED);return l&&!aq[x]&&(aq[x]=!0,console.warn(g(x," has been deprecated since v"+l+" and will be removed in the near future"))),s?s(v,x,_):!0}};function Ahe(n,s,l){if(typeof n!="object")throw new Wr("options must be an object",Wr.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let g=d.length;for(;g-- >0;){const v=d[g],x=s[v];if(x){const _=n[v],N=_===void 0||x(_,v,n);if(N!==!0)throw new Wr("option "+v+" must be "+N,Wr.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Wr("Unknown option "+v,Wr.ERR_BAD_OPTION)}}const W$={assertOptions:Ahe,validators:UU},Py=W$.validators;class lC{constructor(s){this.defaults=s,this.interceptors={request:new JG,response:new JG}}async request(s,l){try{return await this._request(s,l)}catch(d){if(d instanceof Error){let g;Error.captureStackTrace?Error.captureStackTrace(g={}):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(s,l){typeof s=="string"?(l=l||{},l.url=s):l=s||{},l=dC(this.defaults,l);const{transitional:d,paramsSerializer:g,headers:v}=l;d!==void 0&&W$.assertOptions(d,{silentJSONParsing:Py.transitional(Py.boolean),forcedJSONParsing:Py.transitional(Py.boolean),clarifyTimeoutError:Py.transitional(Py.boolean)},!1),g!=null&&(jt.isFunction(g)?l.paramsSerializer={serialize:g}:W$.assertOptions(g,{encode:Py.function,serialize:Py.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let x=v&&jt.merge(v.common,v[l.method]);v&&jt.forEach(["delete","get","head","post","put","patch","common"],W=>{delete v[W]}),l.headers=uf.concat(x,v);const _=[];let N=!0;this.interceptors.request.forEach(function(te){typeof te.runWhen=="function"&&te.runWhen(l)===!1||(N=N&&te.synchronous,_.unshift(te.fulfilled,te.rejected))});const R=[];this.interceptors.response.forEach(function(te){R.push(te.fulfilled,te.rejected)});let I,V=0,$;if(!N){const W=[iq.bind(this),void 0];for(W.unshift.apply(W,_),W.push.apply(W,R),$=W.length,I=Promise.resolve(l);V<$;)I=I.then(W[V++],W[V++]);return I}$=_.length;let G=l;for(V=0;V<$;){const W=_[V++],te=_[V++];try{G=W(G)}catch(ae){te.call(this,ae);break}}try{I=iq.call(this,G)}catch(W){return Promise.reject(W)}for(V=0,$=R.length;V<$;)I=I.then(R[V++],R[V++]);return I}getUri(s){s=dC(this.defaults,s);const l=mJ(s.baseURL,s.url);return lJ(l,s.params,s.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(s){lC.prototype[s]=function(l,d){return this.request(dC(d||{},{method:s,url:l,data:(d||{}).data}))}});jt.forEach(["post","put","patch"],function(s){function l(d){return function(v,x,_){return this.request(dC(_||{},{method:s,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:x}))}}lC.prototype[s]=l(),lC.prototype[s+"Form"]=l(!0)});class WU{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(v){l=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const x=new Promise(_=>{d.subscribe(_),v=_}).then(g);return x.cancel=function(){d.unsubscribe(v)},x},s(function(v,x,_){d.reason||(d.reason=new tE(v,x,_),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const s=new AbortController,l=d=>{s.abort(d)};return this.subscribe(l),s.signal.unsubscribe=()=>this.unsubscribe(l),s.signal}static source(){let s;return{token:new WU(function(g){s=g}),cancel:s}}}function The(n){return function(l){return n.apply(null,l)}}function Ohe(n){return jt.isObject(n)&&n.isAxiosError===!0}const Z$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z$).forEach(([n,s])=>{Z$[s]=n});function yJ(n){const s=new lC(n),l=YX(lC.prototype.request,s);return jt.extend(l,lC.prototype,s,{allOwnKeys:!0}),jt.extend(l,s,null,{allOwnKeys:!0}),l.create=function(g){return yJ(dC(n,g))},l}const Ji=yJ(DD);Ji.Axios=lC;Ji.CanceledError=tE;Ji.CancelToken=WU;Ji.isCancel=dJ;Ji.VERSION=bJ;Ji.toFormData=r8;Ji.AxiosError=Wr;Ji.Cancel=Ji.CanceledError;Ji.all=function(s){return Promise.all(s)};Ji.spread=The;Ji.isAxiosError=Ohe;Ji.mergeConfig=dC;Ji.AxiosHeaders=uf;Ji.formToJSON=n=>uJ(jt.isHTMLForm(n)?new FormData(n):n);Ji.getAdapter=vJ.getAdapter;Ji.HttpStatusCode=Z$;Ji.default=Ji;/*! js-cookie v3.0.5 | MIT */function KB(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var d in l)n[d]=l[d]}return n}var Dhe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function j$(n,s){function l(g,v,x){if(!(typeof document>"u")){x=KB({},s,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var _="";for(var N in x)x[N]&&(_+="; "+N,x[N]!==!0&&(_+="="+x[N].split(";")[0]));return document.cookie=g+"="+n.write(v,g)+_}}function d(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var v=document.cookie?document.cookie.split("; "):[],x={},_=0;_<v.length;_++){var N=v[_].split("="),R=N.slice(1).join("=");try{var I=decodeURIComponent(N[0]);if(x[I]=n.read(R,I),g===I)break}catch{}}return g?x[g]:x}}return Object.create({set:l,get:d,remove:function(g,v){l(g,"",KB({},v,{expires:-1}))},withAttributes:function(g){return j$(this.converter,KB({},this.attributes,g))},withConverter:function(g){return j$(KB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(n)}})}var ys=j$(Dhe,{path:"/"});const Hl=class Hl{constructor(s={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"text","");Sn(this,"points",null);Sn(this,"grade_key","");Sn(this,"last_change",null);Sn(this,"is_authorized",!1);Sn(this,"include_comments",null);Sn(this,"include_comment_ratings",null);Sn(this,"include_comment_points",null);Sn(this,"include_criteria_points",null);this.setData(s)}setData(s){s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.text!==void 0&&s.text!==null&&(this.text=s.text.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseInt(s.points)),s.grade_key!==void 0&&s.grade_key!==null&&(this.grade_key=s.grade_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change)),s.is_authorized!==void 0&&s.is_authorized!==null&&(this.is_authorized=!!s.is_authorized),s.include_comments!==void 0&&s.include_comments!==null&&(this.include_comments=this.transformInclusion(s.include_comments)),s.include_comment_ratings!==void 0&&s.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(s.include_comment_ratings)),s.include_comment_points!==void 0&&s.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(s.include_comment_points)),s.include_criteria_points!==void 0&&s.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(s.include_criteria_points))}transformInclusion(s){if(s===null)return null;if(s=parseInt(s),s<=Hl.INCLUDE_NOT)return Hl.INCLUDE_NOT;if(s==Hl.INCLUDE_INFO)return Hl.INCLUDE_INFO;if(s>=Hl.INCLUDE_RELEVANT)return Hl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(s={}){return{include_comments:this.include_comments??s.include_comments??Hl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??s.include_comment_ratings??Hl.INCLUDE_INFO,include_comment_points:this.include_comment_points??s.include_comment_points??Hl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??s.include_criteria_points??Hl.INCLUDE_INFO}}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Hl(this.getData())}isEqual(s){for(const l in this)if(this[l]!==s[l])return!1;return!0}};Sn(Hl,"INCLUDE_NOT",0),Sn(Hl,"INCLUDE_INFO",1),Sn(Hl,"INCLUDE_RELEVANT",2),Sn(Hl,"ALLOWED_INCLUSIONS",[Hl.INCLUDE_NOT,Hl.INCLUDE_INFO,Hl.INCLUDE_RELEVANT]);let pr=Hl;const o$=kd.createInstance({storeName:"corrector-settings",description:"Settings data"}),Du=Pu("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:"Exzellent",negative_rating:"Kardinal",headline_scheme:null,fixed_inclusions:!1,include_comments:pr.INCLUDE_INFO,include_comment_ratings:pr.INCLUDE_INFO,include_comment_points:pr.INCLUDE_INFO,include_criteria_points:pr.INCLUDE_INFO}),getters:{ratingLabels:n=>'"'+n.positive_rating+'" und "'+n.negative_rating+'"',headlineClass:n=>n.headline_scheme==="three"?"headlines-three":"",summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),inclusionsChangeable:n=>n.fixed_inclusions==!1,inclusionsPossible:n=>n.fixed_inclusions==!1||n.include_comments!=pr.INCLUDE_NOT||n.include_comment_ratings!=pr.INCLUDE_NOT||n.include_comment_points!=pr.INCLUDE_NOT||n.include_criteria_points!=pr.INCLUDE_NOT},actions:{async clearStorage(){try{await o$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await o$.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await o$.setItem("settings",n),this.$patch(n)}catch(s){console.log(s)}}}}),r$=kd.createInstance({storeName:"corrector-task",description:"Task data"}),Gy=Pu("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:n=>!!n.instructions,hasSolution:n=>!!n.solution,hasCorrectionEnd:n=>!!n.correction_end,correctionEndReached:n=>n.remaining_time===0},actions:{async clearStorage(){try{await r$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){dr();try{const n=await r$.getItem("task");this.$patch(n)}catch(n){console.log(n)}this.updateRemainingTime()},async loadFromData(n){dr();try{await r$.setItem("task",n),this.$patch(n)}catch(s){console.log(s)}this.updateRemainingTime()},updateRemainingTime(){const n=dr();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-n.getServerTime(Date.now())):this.remaining_time=null}}}),y1=kd.createInstance({storeName:"corrector-resources",description:"Resource data"}),fC=Pu("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:n=>n.resources.length>0,hasInstruction:n=>!!n.resources.find(l=>l.type=="instruct"),hasSolution:n=>!!n.resources.find(l=>l.type=="solution"),instruction:n=>n.resources.find(s=>s.type=="instruct"),solution:n=>n.resources.find(s=>s.type=="solution"),hasFileOrUrlResources:n=>!!n.resources.find(l=>l.type=="file"||l.type=="url"),fileOrUrlResources:n=>n.resources.filter(s=>s.type=="file"||s.type=="url"),activeTitle:n=>{const s=n.resources.find(l=>l.key==n.activeKey);return s?s.title:""},getResource:n=>function(l){return n.resources.find(d=>d.key==l)},getResourceIsActive:n=>function(l){return n.activeKey==l.key}},actions:{async clearStorage(){try{await y1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await y1.getItem("resourceKeys");n&&(this.keys=JSON.parse(n)),this.activeKey=await y1.getItem("activeKey")??"";for(const s of this.keys){const l=await y1.getItem(s);this.resources.push(l)}this.loadFiles()}catch(n){console.log(n)}},async loadFromData(n){const s=dr();try{await y1.clear(),this.$reset();for(const l of n)l.type!="url"&&(l.url=s.getResourceUrl(l.key)),this.resources.push(l),this.keys.push(l.key),await y1.setItem(l.key,l);await y1.setItem("resourceKeys",JSON.stringify(this.keys)),await y1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(l){console.log(l)}},async selectResource(n){this.activeKey=n.key,await y1.setItem("activeKey",this.activeKey)},async loadFiles(){for(const n of this.keys){let s=this.getResource(n),l=null;if(s.type!="url")try{console.log("preload "+s.title+"..."),l=await Ji(s.url,{responseType:"blob",timeout:6e4})}catch(d){console.error(d)}}}}});class K${constructor(s={}){Sn(this,"key","");Sn(this,"title","");Sn(this,"correction_allowed",!1);Sn(this,"authorization_allowed",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.correction_allowed!==void 0&&s.correction_allowed!==null&&(this.correction_allowed=!!s.correction_allowed),s.authorization_allowed!==void 0&&s.authorization_allowed!==null&&(this.authorization_allowed=!!s.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const x1=kd.createInstance({storeName:"corrector-items",description:"Items data"}),pv=Pu("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:n=>n.keys.length>0,firstKey:n=>n.keys.length>0?n.keys[0]:"",lastKey:n=>n.keys.length>0?n.keys[n.keys.length-1]:"",correctionAllowed:n=>n.currentItem.correction_allowed,authorizationAllowed:n=>n.currentItem.authorization_allowed,currentItem:n=>{const s=dr();return n.items.find(l=>l.key==s.itemKey)},getPreviousKey:n=>function(l){for(let d=1;d<n.keys.length;d++)if(n.keys[d]==l)return n.keys[d-1];return""},getNextKey:n=>function(l){for(let d=0;d<n.keys.length-1;d++)if(n.keys[d]==l)return n.keys[d+1];return""},getItem:n=>function(l,d=null){for(const g of n.items)if(g.key==l)return g;return d}},actions:{async clearStorage(){try{await x1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await x1.getItem("itemKeys");n&&(this.keys=JSON.parse(n));for(const s of this.keys){const l=new K$(JSON.parse(await x1.getItem(s)));this.items.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await x1.clear(),this.$reset();for(const s of n){const l=new K$(s);this.items.push(l),this.keys.push(l.key),await x1.setItem(l.key,JSON.stringify(l.getData()))}await x1.setItem("itemKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}},async addItem(n){try{this.keys.includes(n.key)||(this.items.unshift(n),this.keys.unshift(n.key),await x1.setItem(n.key,JSON.stringify(n.getData())),await x1.setItem("itemKeys",JSON.stringify(this.keys)))}catch(s){console.log(s)}},async updateItem(n){const s=this.items.findIndex(l=>l.key===n.key);if(s!==-1){this.items[s]=n,await x1.setItem(n.key,JSON.stringify(n.getData()));return}}}}),TS=kd.createInstance({storeName:"corrector-levels",description:"Grade level data"}),qy=Pu("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:n=>n.levels.length>0,getLevel:n=>function(l){return n.levels.find(d=>d.key==l)},getLevelForPoints:n=>function(l){if(l===null)return null;let d=null,g=0;for(let v=0;v<n.levels.length;v++)n.levels[v].min_points<=l&&n.levels[v].min_points>=g&&(d=n.levels[v],g=d.points);return d}},actions:{async clearStorage(){try{await TS.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await TS.getItem("levelKeys");n&&(this.keys=JSON.parse(n));for(const s of this.keys){const l=await TS.getItem(s);this.levels.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await TS.clear(),this.$reset();for(const s of n)this.levels.push(s),this.keys.push(s.key),await TS.setItem(s.key,s);await TS.setItem("levelKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),GB=kd.createInstance({storeName:"corrector-essay",description:"Essay data"}),rD=Pu("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:n=>n.correction_finalized,grade:n=>{let l=qy().getLevelForPoints(n.final_points);return l!==null?l.title:""},gradeKey:n=>{let l=qy().getLevelForPoints(n.final_points);return l!==null?l.key:""}},actions:{async clearStorage(){try{await GB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await GB.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await GB.setItem("settings",n),this.$patch(n)}catch(s){console.log(s)}},async saveStitchDecision(){const n=dr(),s=n.getServerTime(Date.now()),l={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:s};await n.saveStitchDecisionToBackend(l)&&(this.correction_finalized=s,await GB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class lq{constructor(s={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"page_no",0);Sn(this,"width",0);Sn(this,"height",0);Sn(this,"url",null);Sn(this,"thumb_width",null);Sn(this,"thumb_height",null);Sn(this,"thumb_url",null);Sn(this,"objectUrl",null);Sn(this,"thumbObjectUrl",null);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.page_no!==void 0&&s.page_no!==null&&(this.page_no=parseInt(s.page_no)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.url!==void 0&&s.url!==null&&(this.url=s.url.toString()),s.thumb_width!==void 0&&s.thumb_width!==null&&(this.thumb_width=parseInt(s.thumb_width)),s.thumb_height!==void 0&&s.thumb_height!==null&&(this.thumb_height=parseInt(s.thumb_height)),s.thumb_url!==void 0&&s.thumb_url!==null&&(this.thumb_url=s.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const OS=kd.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),OL=Pu("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:n=>Object.keys(n.pages).length>0,selectedPage:n=>n.pages[n.selectedKey]??null,selectedPageNo:n=>n.selectedPage?n.selectedPage.page_no:null,currentPages:n=>{let s=[];for(const l in n.pages)s.push(n.pages[l]);return s},getPage:n=>function(l){return n.pages[l]??null},getPageByPageNo:n=>function(l){for(const d in n.pages)if(n.pages[d].page_no==l)return n.pages[d];return null}},actions:{selectPage(n){this.selectedKey!=n&&(this.selectedKey=n)},selectByPageNo(n){for(const s in this.pages)if(this.pages[s].page_no==n)return this.selectedKey=s,!0;return!1},calculateMinMaxPage(){let n=null,s=null;for(const l in this.pages)(n===null||this.pages[l].page_no<n)&&(n=this.pages[l].page_no),(s===null||this.pages[l].page_no>s)&&(s=this.pages[l].page_no);n!==null&&(this.minPage=n),s!==null&&(this.maxPage=s)},async clearStorage(){try{await OS.clear()}catch(n){console.log(n)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const n=dr();try{this.purgeFiles(),this.$reset();const s=await OS.getItem("keys");s&&(this.keys=JSON.parse(s));for(const l of this.keys){const d=new lq(JSON.parse(await OS.getItem(l)));d.item_key==n.itemKey&&(this.pages[l]=d)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(s){console.log(s)}},async loadFromData(n){const s=dr();try{await OS.clear(),this.purgeFiles(),this.$reset();for(const l of n){const d=new lq(l);d.url=s.getImageUrl(d.key,d.item_key),d.thumb_url=s.getThumbUrl(d.key,d.item_key),this.keys.push(d.key),await OS.setItem(d.key,JSON.stringify(d.getData())),d.item_key==s.itemKey&&(this.pages[d.key]=d)}await OS.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(l){console.log(l)}},async loadFiles(){try{for(const n in this.pages){const s=this.pages[n];let l;s&&(console.log("preload page "+s.page_no+"..."),l=await Ji(s.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,console.log("preload thumbnail "+s.page_no+"..."),l=await Ji(s.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(n){console.error(n)}},purgeFiles(){for(const n in this.pages){const s=this.pages[n];s&&(s.thumbObjectUrl!==null&&(s.thumbObjectUrl=null),s.objectUrl!==null&&(s.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class Rhe{constructor(s={}){Sn(this,"key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"description","");Sn(this,"points",0);Sn(this,"is_general",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.description!==void 0&&s.description!==null&&(this.description=s.description.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseInt(s.points)),s.is_general!==void 0&&s.is_general!==null&&(this.is_general=!!s.is_general)}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points,is_general:this.is_general}}}const DS=kd.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),hm=Pu("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasCommentCriteria:n=>{const l=wv().correctorKeys;return!!n.criteria.find(d=>!d.is_general&&(d.corrector_key==""||l.includes(d.corrector_key)))},hasOwnCriteria:n=>{const s=dr();return!!n.criteria.find(l=>l.corrector_key==""||l.corrector_key==s.correctorKey)},hasOwnGeneralCriteria:n=>{const s=dr();return!!n.criteria.find(l=>l.is_general&&(l.corrector_key==""||l.corrector_key==s.correctorKey))},hasOwnCommentCriteria:n=>{const s=dr();return!!n.criteria.find(l=>!l.is_general&&(l.corrector_key==""||l.corrector_key==s.correctorKey))},ownCriteria:n=>{const s=dr();return n.criteria.filter(l=>l.corrector_key==""||l.corrector_key==s.correctorKey)},getCriterion:n=>function(l){return n.criteria.find(d=>d.key==l)},getCorrectorHasCriteria:n=>function(l){return!!n.criteria.find(d=>d.corrector_key==""||d.corrector_key==l)},getCorrectorHasGeneralCriteria:n=>function(l){return!!n.criteria.find(d=>d.is_general&&(d.corrector_key==""||d.corrector_key==l))},getCorrectorHasCommentCriteria:n=>function(l){return!!n.criteria.find(d=>!d.is_general&&(d.corrector_key==""||d.corrector_key==l))},getCorrectorGeneralCriteria:n=>function(l){return n.criteria.filter(d=>d.is_general&&(d.corrector_key==""||d.corrector_key==l))},getCorrectorCommentCriteria:n=>function(l){return n.criteria.filter(d=>!d.is_general&&(d.corrector_key==""||d.corrector_key==l))}},actions:{async clearStorage(){try{await DS.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await DS.getItem("criterionKeys");n&&(this.keys=JSON.parse(n));for(const s of this.keys){const l=await DS.getItem(s);this.criteria.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await DS.clear(),this.$reset();for(const s of n){const l=new Rhe(s);this.criteria.push(l),this.keys.push(l.key),await DS.setItem(l.key,l.getData())}await DS.setItem("criterionKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),$l=class $l{constructor(s={}){Sn(this,"action",null);Sn(this,"type",null);Sn(this,"key","");Sn(this,"item_key","");Sn(this,"last_change",0);this.setData(s),this.last_change==0&&(this.last_change=Date.now())}setData(s){s.action!==void 0&&$l.ALLOWED_ACTIONS.includes(s.action)&&(this.action=s.action.toString()),s.type!==void 0&&$l.ALLOWED_TYPES.includes(s.type)&&(this.type=s.type.toString()),s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return $l.ALLOWED_TYPES.includes(this.type)&&$l.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&this.item_key!=""}};Sn($l,"ACTION_SAVE","save"),Sn($l,"ACTION_DELETE","delete"),Sn($l,"ALLOWED_ACTIONS",[$l.ACTION_SAVE,$l.ACTION_DELETE]),Sn($l,"TYPE_COMMENT","comment"),Sn($l,"TYPE_POINTS","points"),Sn($l,"TYPE_SUMMARY","summary"),Sn($l,"TYPE_PREFERENCES","preferences"),Sn($l,"ALLOWED_TYPES",[$l.TYPE_COMMENT,$l.TYPE_POINTS,$l.TYPE_SUMMARY,$l.TYPE_PREFERENCES]);let is=$l;const qB=kd.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function cq(){const n={changes:{}};for(const s of is.ALLOWED_TYPES)n.changes[s]={};return n}const nc=Pu("changes",{state:()=>cq(),getters:{countChanges:n=>{let s=0;for(const l in n.changes)s+=Object.keys(n.changes[l]).length;return s},getCountOfChangesFor:n=>function(l){return is.ALLOWED_TYPES.includes(l)?Object.keys(n.changes[l]).length:(console.log("wrong type"+l),0)},getChangesFor:n=>function(l,d=0){if(!is.ALLOWED_TYPES.includes(l))return[];const g=[];for(const v in n.changes[l]){const x=n.changes[l][v];(d==0||x.last_change<=d)&&g.push(x)}return g}},actions:{async clearStorage(){try{await qB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=cq();try{for(const s in n.changes){const l=await qB.getItem(s);if(l){const d=JSON.parse(l);if(typeof d=="object"&&d!==null)for(const g in d)n.changes[s][g]=new is(d[g])}}}catch(s){console.log(s)}this.$patch(n)},async saveChangesOfTypeToStorage(n){const s={};for(const l in this.changes[n]){const d=this.changes[n][l];s[l]=d.getData()}await qB.setItem(n,JSON.stringify(s))},async hasChangesInStorage(){for(const n in this.changes){const s=await qB.getItem(n);if(s){const l=JSON.parse(s);if(Object.keys(l).length>0)return!0}}return!1},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await this.saveChangesOfTypeToStorage(n.type))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await this.saveChangesOfTypeToStorage(n.type))},async setChangesSent(n,s,l){const d=this.changes[n];let g=!1;for(const v in s){const x=s[v],_=d[v];_&&(_.last_change<=l?(delete d[v],g=!0):(x==null||x!=v)&&(_.key=x,d[x]=_,delete d[v],g=!0))}g&&await this.saveChangesOfTypeToStorage(n)}}});class NO{constructor(s={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"comment_key","");Sn(this,"criterion_key","");Sn(this,"points",0);s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.comment_key!==void 0&&s.comment_key!==null&&(this.comment_key=s.comment_key.toString()),s.criterion_key!==void 0&&s.criterion_key!==null&&(this.criterion_key=s.criterion_key.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseFloat(s.points))}setPoints(s){this.points=parseFloat(s)}getData(){return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const Tl=kd.createInstance({storeName:"corrector-points",description:"Corrector points data"}),Pg=Pu("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints:n=>function(l){return n.points.find(d=>d.comment_key==l&&d.points!=0)!==void 0},getCommentHasPointsForCriterion:n=>function(l,d){return n.points.find(g=>g.comment_key==l&&g.criterion_key==d&&g.points!=0)!==void 0},getSumOfPointsForCorrector:n=>function(l,d=null,g=null){let v=0;return n.points.filter(x=>x.corrector_key==l&&(d===null||d==(x.comment_key!=""))&&(g===null||g==(x.criterion_key!=""))).forEach(x=>v+=x.points),v},getSumOfPointsForComment:n=>function(l){let d=0;return n.points.filter(g=>g.comment_key==l).forEach(g=>d+=g.points),d},getSumOfPointsForCriterion:n=>function(l,d){let g=0;return n.points.filter(v=>v.criterion_key==l.key&&v.corrector_key==d).forEach(v=>g+=v.points),g},getPointsOfCriterionExceeded:n=>function(l,d){let g=0;return n.points.filter(v=>v.criterion_key==l.key&&v.corrector_key==d).forEach(v=>g+=v.points),g>l.points},getObjectsForCorrector:n=>function(l){return n.points.filter(d=>d.corrector_key==l)},getObjectByData:n=>function(l,d,g){return n.points.find(v=>v.corrector_key==l&&v.comment_key==d&&v.criterion_key==g)}},actions:{async setValueByCommentOrCriterion(n,s,l){const d=dr();let g=this.getObjectByData(d.correctorKey,n,s);g?l?(g.setPoints(l),this.updatePoints(g)):this.deletePoints(g.key):(n||s)&&l&&this.createPoints(n,s,l)},async createPoints(n,s,l){console.log("createPoints: ",n,s,l);const d=dr(),g=new NO({item_key:d.itemKey,corrector_key:d.correctorKey,comment_key:n,criterion_key:s,points:l});this.keys.push(g.key),this.points.push(g),await Tl.setItem(g.key,JSON.stringify(g.getData())),await Tl.setItem("keys",JSON.stringify(this.keys)),await nc().setChange(new is({type:is.TYPE_POINTS,action:is.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(n){this.keys.includes(n.key)&&(await Tl.setItem(n.key,JSON.stringify(n.getData())),await nc().setChange(new is({type:is.TYPE_POINTS,action:is.ACTION_SAVE,key:n.key,item_key:n.item_key})))},async deletePoints(n){const s=this.points.find(g=>g.key==n);this.points=this.points.filter(g=>g.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(g=>g!=n),await Tl.setItem("keys",JSON.stringify(this.keys)),await Tl.removeItem(n));const l=nc(),d=new is({type:is.TYPE_POINTS,action:is.ACTION_DELETE,key:s.key,item_key:s.item_key});n.substr(0,4)=="temp"?await l.unsetChange(d):await l.setChange(d)},async deletePointsOfComment(n){this.points.filter(s=>s.comment_key==n).forEach(s=>this.deletePoints(s.key))},async clearStorage(){try{await Tl.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=dr();try{this.$reset();const s=await Tl.getItem("keys");s&&(this.keys=JSON.parse(s)),this.points=[];for(const l of this.keys){let d=JSON.parse(await Tl.getItem(l)),g=new NO(d);g.item_key==n.itemKey&&this.points.push(g)}}catch(s){console.log(s)}},async loadFromData(n){const s=dr();try{await Tl.clear(),this.$reset();for(const l of n){const d=new NO(l);this.keys.push(d.key),await Tl.setItem(d.key,JSON.stringify(d.getData())),d.item_key==s.itemKey&&this.points.push(d)}await Tl.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}},async getChangedData(n=0){const s=dr(),l=nc(),d=[];for(const g of l.getChangesFor(is.TYPE_POINTS,n)){const v=await Tl.getItem(g.key);v?d.push(s.getChangeDataToSend(g,JSON.parse(v))):d.push(s.getChangeDataToSend(g))}return d},async updateKeys(n={}){let s=[],l=[],d=[];for(const g of this.keys)if(g in n){if(n[g]==null)s.push(g);else if(g!=n[g]){let v=new NO(await Tl.getItem(g));v.key=n[g],l.push(g),d.push(v)}}this.selectedKey="",this.points=this.points.filter(g=>!s.includes(g.key));for(const g of this.points)l.includes(g.key)&&(g.key=n[g.key]);this.keys=this.keys.filter(g=>!s.includes(g)&&!l.includes(g));for(const g of s)await Tl.removeItem(g);for(const g of l)this.keys.push(n[g]),await Tl.removeItem(g);for(const g of d)await Tl.setItem(g.key,JSON.stringify(g.getData()));await Tl.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(n){let s=[],l=[];for(const d of this.keys){let g=new NO(await Tl.getItem(d));g.comment_key in n&&(n[g.comment_key]==null?s.push(d):g.comment_key!=n[g.comment_key]&&(g.comment_key=n[g.comment_key],l.push(g)))}this.points=this.points.filter(d=>!s.includes(d.key));for(const d of this.points)d.comment_key in n&&(d.comment_key=n[d.comment_key]);for(const d of s)await Tl.removeItem(d);for(const d of l)await Tl.setItem(d.key,JSON.stringify(d.getData()));this.keys=this.keys.filter(d=>!s.includes(d)),await Tl.setItem("keys",JSON.stringify(this.keys))}}});class PO{constructor(s={}){Sn(this,"x",0);Sn(this,"y",0);s.x!==void 0&&s.x!==null&&(this.x=parseInt(s.x)),s.y!==void 0&&s.y!==null&&(this.y=parseInt(s.y))}getData(){return{x:this.x,y:this.y}}}const ya=class ya{constructor(s={}){Sn(this,"key","");Sn(this,"shape","");Sn(this,"pos",new PO(0,0));Sn(this,"end",new PO(0,0));Sn(this,"width",0);Sn(this,"height",0);Sn(this,"polygon",[]);Sn(this,"symbol","");this.setData(s)}setData(s){if(s.key!==void 0&&s.key!==null&&(this.key=s.key),s.shape!==void 0&&ya.ALLOWED_SHAPES.includes(s.shape)&&(this.shape=s.shape.toString()),s.pos!==void 0&&s.pos!==null&&(this.pos=new PO(s.pos)),s.end!==void 0&&s.end!==null&&(this.end=new PO(s.end)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.polygon!==void 0&&Array.isArray(s.polygon))for(const l of s.polygon)this.polygon.push(new PO(l));s.symbol!==void 0&&s.symbol!==null&&(this.symbol=s.symbol.toString())}getData(){let s=[];for(const l of this.polygon)s.push(l.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:s,symbol:this.symbol}}getIcon(){switch(this.shape){case ya.SHAPE_LINE:return"mdi-minus";case ya.SHAPE_WAVE:return"mdi-wave";case ya.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ya.SHAPE_POLYGON:return"mdi-vector-triangle";case ya.SHAPE_CIRCLE:switch(this.symbol){case ya.SYMBOL_CHECK:return"mdi-check";case ya.SYMBOL_CROSS:return"mdi-close";case ya.SYMBOL_QUESTION:return"mdi-help"}}return""}};Sn(ya,"SHAPE_CIRCLE","circle"),Sn(ya,"SHAPE_RECTANGLE","rectangle"),Sn(ya,"SHAPE_POLYGON","polygon"),Sn(ya,"SHAPE_LINE","line"),Sn(ya,"SHAPE_WAVE","wave"),Sn(ya,"ALLOWED_SHAPES",[ya.SHAPE_CIRCLE,ya.SHAPE_RECTANGLE,ya.SHAPE_POLYGON,ya.SHAPE_LINE,ya.SHAPE_WAVE]),Sn(ya,"SYMBOL_CHECK",""),Sn(ya,"SYMBOL_CROSS",""),Sn(ya,"SYMBOL_QUESTION","?");let lm=ya;const Hh=class Hh{constructor(s={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"start_position",0);Sn(this,"end_position",0);Sn(this,"parent_number",0);Sn(this,"comment","");Sn(this,"rating_excellent",!1);Sn(this,"rating_cardinal",!1);Sn(this,"label","");Sn(this,"prefix","");Sn(this,"marks",[]);Sn(this,"deleted",!1);if(s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.start_position!==void 0&&s.start_position!==null&&(this.start_position=parseInt(s.start_position)),s.end_position!==void 0&&s.end_position!==null&&(this.end_position=parseInt(s.end_position)),s.parent_number!==void 0&&s.parent_number!==null&&(this.parent_number=parseInt(s.parent_number)),s.comment!==void 0&&s.comment!==null&&(this.comment=s.comment.toString()),s.rating==Hh.RAITNG_EXCELLENT?this.rating_excellent=!0:s.rating==Hh.RATING_CARDINAL&&(this.rating_cardinal=!0),s.marks!==void 0&&Array.isArray(s.marks))for(const l of s.marks)this.addMarkData(l)}addMarkData(s){this.marks.push(new lm(s)),this.calculateStartPositon()}updateMarkData(s){for(const l of this.marks)l.key==s.key&&l.setData(s);this.calculateStartPositon()}getMarkIcon(){for(const s of this.marks)return s.getIcon();return null}getMarkByKey(s){for(const l of this.marks)if(l.key==s)return l;return null}getMarkColor(s){const l=s.shape==lm.SHAPE_CIRCLE||s.shape==lm.SHAPE_POLYGON||s.shape==lm.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?l?"#E3EFDD80":"#19e62e":this.rating_cardinal?l?"#FBDED180":"#bc4710":l?"#D8E5F480":"#3365ff":this.rating_excellent?l?"#F7F9F780":"#19e62e":this.rating_cardinal?l?"#FCF6F480":"#bc4710":l?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(s){const l=s.shape==lm.SHAPE_CIRCLE||s.shape==lm.SHAPE_POLYGON||s.shape==lm.SHAPE_RECTANGLE;return this.rating_excellent?l?"#BBEBA5A0":"#19e62e":this.rating_cardinal?l?"#FCB494A0":"#bc4710":l?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let s=null;for(const l of this.marks)(s===null||l.pos.y>s)&&(s=l.pos.y);s!==null&&(this.start_position=s)}hasMarkKey(s){for(const l of this.marks)if(l.key==s)return!0;return!1}getData(){let s=[];for(const l of this.marks)s.push(l.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?Hh.RAITNG_EXCELLENT:this.rating_cardinal?Hh.RATING_CARDINAL:"",marks:s}}};Sn(Hh,"RATING_CARDINAL","cardinal"),Sn(Hh,"RAITNG_EXCELLENT","excellent"),Sn(Hh,"ALLOWED_RATING",[Hh.RATING_CARDINAL,Hh.RAITNG_EXCELLENT]);let oC=Hh;const Ol=kd.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),sf=Pu("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(n){return n.getComment(n.selectedKey)},selectedLabel(n){let s=n.getComment(n.selectedKey);return s?s.label:""},activeComments:n=>{const s=dr();return n.comments.filter(l=>(n.showOtherCorrectors||l.corrector_key==s.correctorKey)&&(n.filterKeys.length==0||n.filterKeys.includes(l.key)))},isOtherCorrectorsShown:n=>n.showOtherCorrectors,isFilterActive:n=>n.filterKeys.length>0,getComment:n=>function(l){return n.comments.find(d=>d.key==l)},getCommentByMarkKey:n=>function(l){return n.comments.find(d=>d.hasMarkKey(l))},getActiveCommentsInRange:n=>function(l,d){return n.activeComments.filter(g=>g.start_position<=d&&g.end_position>=l)},getActiveCommentsByStartPosition:n=>function(l){return n.activeComments.filter(d=>d.start_position==l)},getActiveCommentsByParentNumber:n=>function(l){return n.activeComments.filter(d=>d.parent_number==l)},getCountOfExcellent:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_excellent).length},getCountOfCardinal:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_cardinal).length}},actions:{setFirstVisibleComment(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(n,s=!0){this.selectedKey=n,s&&(this.selectionChange=Date.now())},async createComment(n,s,l){let d=new oC({start_position:n,end_position:s,parent_number:l});return await this.addComment(d),d.key},async addComment(n){const s=dr(),l=nc();return n.item_key=s.itemKey,n.corrector_key=s.correctorKey,this.keys.push(n.key),this.filterKeys.length>0&&(this.filterKeys.push(n.key),this.setFilterChange()),this.comments.push(n),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(n.key,!0),await Ol.setItem(n.key,JSON.stringify(n.getData())),await Ol.setItem("keys",JSON.stringify(this.keys)),await l.setChange(new is({type:is.TYPE_COMMENT,action:is.ACTION_SAVE,key:n.key,item_key:n.item_key})),n.key},async updateComment(n,s=!1){const l=dr(),d=oc(),g=nc();this.keys.includes(n.key)&&n.corrector_key==l.correctorKey&&!d.isOwnDisabled&&(await Ol.setItem(n.key,JSON.stringify(n.getData())),await g.setChange(new is({type:is.TYPE_COMMENT,action:is.ACTION_SAVE,key:n.key,item_key:n.item_key})),s&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(n){await this.removeComment(n),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(n){const s=nc();await Pg().deletePointsOfComment(n),this.selectedKey==n&&this.selectComment("",!0);const d=this.comments.find(v=>v.key==n);this.comments=this.comments.filter(v=>v.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(v=>v!=n),await Ol.setItem("keys",JSON.stringify(this.keys)),await Ol.removeItem(n));const g=new is({type:is.TYPE_COMMENT,action:is.ACTION_DELETE,key:d.key,item_key:d.item_key});n.substr(0,4)=="temp"?await s.unsetChange(g):await s.setChange(g)},async sortAndLabelComments(){const n=dr(),s=wv();this.comments=this.comments.sort(Ihe);let l=0,d={};for(const g of this.comments){const v=s.getCorrector(g.corrector_key),x=v?v.initials:"??";if(g.parent_number>l){l=g.parent_number;for(const _ of s.correctorKeys)d[_]=0;d[g.corrector_key]=1}else d[g.corrector_key]++;g.label=x+" "+l.toString()+"."+d[g.corrector_key].toString(),g.prefix=g.corrector_key==n.correctorKey?"own":"other"}},setFilterByRating(n,s,l){this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&d.rating_excellent==s&&d.rating_cardinal==l&&this.filterKeys.push(d.key);this.setFilterChange()},setFilterByPoints(n){const s=Pg();this.filterKeys=[];for(const l of this.comments)l.corrector_key==n&&s.getCommentHasPoints(l.key)&&this.filterKeys.push(l.key);this.setFilterChange()},setFilterByCriterion(n,s){const l=Pg();this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&l.getCommentHasPointsForCriterion(d.key,s)&&this.filterKeys.push(d.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(n){this.showOtherCorrectors=!!n,this.markerChange=Date.now(),await Ol.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Ol.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=dr();try{this.$reset();const s=await Ol.getItem("keys");s&&(this.keys=JSON.parse(s)),this.showOtherCorrectors=!!JSON.parse(await Ol.getItem("showOtherCorrectors"));for(const l of this.keys){const d=new oC(JSON.parse(await Ol.getItem(l)));d.item_key==n.itemKey&&this.comments.push(d)}await this.sortAndLabelComments()}catch(s){console.log(s)}},async loadFromData(n){const s=dr();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Ol.getItem("showOtherCorrectors")),await Ol.clear();for(const l of n){const d=new oC(l);this.keys.push(d.key),await Ol.setItem(d.key,JSON.stringify(d.getData())),d.item_key==s.itemKey&&this.comments.push(d)}await this.sortAndLabelComments(),await Ol.setItem("keys",JSON.stringify(this.keys)),await Ol.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(l){console.log(l)}},async getChangedData(n=0){const s=dr(),l=nc(),d=[];for(const g of l.getChangesFor(is.TYPE_COMMENT,n)){const v=await Ol.getItem(g.key);v?d.push(s.getChangeDataToSend(g,JSON.parse(v))):d.push(s.getChangeDataToSend(g))}return d},async updateKeys(n={}){let s=[],l=[],d=[];for(const x of this.keys)if(x in n){if(n[x]==null)s.push(x);else if(x!=n[x]){let _=new oC(JSON.parse(await Ol.getItem(x)));_.key=n[x],l.push(x),d.push(_)}}let g=null;l.includes(this.selectedKey)&&(g=n[this.selectedKey],this.selectComment(g,!1)),this.comments=this.comments.filter(x=>!s.includes(x.key));for(const x of this.comments)l.includes(x.key)&&(x.key=n[x.key]);let v=[];for(const x of this.filterKeys)l.includes(x)?v.push(n[x]):v.push(x);this.filterKeys=v,this.keys=this.keys.filter(x=>!s.includes(x)&&!l.includes(x));for(const x of s)await Ol.removeItem(x);for(const x of l)this.keys.push(n[x]),await Ol.removeItem(x);for(const x of d)await Ol.setItem(x.key,JSON.stringify(x.getData()));return await Ol.setItem("keys",JSON.stringify(this.keys)),g}}}),Ihe=function(n,s){return n.parent_number<s.parent_number?-1:n.parent_number>s.parent_number?1:n.start_position<s.start_position?-1:n.start_position>s.start_position?1:0},s$=kd.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),Zy=Pu("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:pr.INCLUDE_INFO,include_comment_ratings:pr.INCLUDE_INFO,include_comment_points:pr.INCLUDE_INFO,include_criteria_points:pr.INCLUDE_INFO}),getters:{allData:n=>({essay_page_zoom:n.essay_page_zoom,essay_text_zoom:n.essay_text_zoom,summary_text_zoom:n.summary_text_zoom,include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points})},actions:{async clearStorage(){try{await s$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await s$.getItem("preferences");n&&this.$patch(n)}catch(n){console.log(n)}},async saveToStorage(){try{await s$.setItem("preferences",this.allData)}catch(n){console.log(n)}},async loadFromData(n){try{this.$patch(n),this.sent=!0,await this.saveToStorage()}catch(s){console.log(s)}},async update(){const n=nc(),s=dr();await this.saveToStorage(),s.correctorKey&&await n.setChange(new is({type:is.TYPE_PREFERENCES,action:is.ACTION_SAVE,key:"preferences",item_key:s.itemKey}))},async getChangedData(n=0){const s=dr(),l=nc(),d=[];for(const g of l.getChangesFor(is.TYPE_PREFERENCES,n))d.push(s.getChangeDataToSend(g,this.allData));return d},setSummaryInclusions(n){this.include_comments=n.include_comments,this.include_comment_ratings=n.include_comment_ratings,this.include_comment_points=n.include_comment_points,this.include_criteria_points=n.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),My=kd.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),i$=200;function Nhe(){return{keys:[],summaries:{},editSummary:new pr,lastCheck:0}}let YB=0;const oc=Pu("summaries",{state:()=>Nhe(),getters:{isOwnDisabled:n=>n.editSummary.corrector_key==""||n.editSummary.is_authorized,isOwnAuthorized:n=>n.editSummary.is_authorized,isOneAuthorized:n=>{for(const s in n.summaries)if(n.summaries[s].is_authorized)return!0;return!1},areOthersAuthorized:n=>{for(const s in n.summaries){const l=n.summaries[s];if(l.getKey()!=n.editSummary.getKey()&&!l.is_authorized)return!1}return!0},currentPartialPointsAreIncluded:n=>hm().hasOwnCriteria?n.currentInclusionSettings.include_criteria_points>pr.INCLUDE_NOT:n.currentInclusionSettings.include_comment_points>pr.INCLUDE_NOT,currentGradeTitle(n){if(n.editSummary.grade_key){let l=qy().getLevel(n.editSummary.grade_key);if(l)return l.title}return"ohne Notenstufe"},currentInclusionSettings:n=>{const s=Du(),l=Zy();return s.fixed_inclusions?s.summaryInclusions:n.editSummary.getInclusionSettings(l.summaryInclusions)},getAuthorizationForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g.is_authorized}return!1},getForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g}return null},getInclusionText:n=>{const s=Du(),l=hm();return function(g){let v="",x={};return g.corrector_key==n.editSummary.corrector_key?x=n.currentInclusionSettings:x=g.getInclusionSettings(),x.include_comments==pr.INCLUDE_INFO?v=(v?v+", ":"")+"Anmerkungen (i)":x.include_comments==pr.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Anmerkungen (r)"),x.include_comment_ratings==pr.INCLUDE_INFO?v=(v?v+", ":"")+s.ratingLabels+" (i)":x.include_comment_ratings==pr.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+s.ratingLabels+" (r)"),x.include_comment_points==pr.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte zu Anmerkungen (i)":x.include_comment_points==pr.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte zu Anmerkungen (r)"),l.hasOwnCriteria&&(x.include_criteria_points==pr.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte zu Kriterien (i)":x.include_criteria_points==pr.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte Kriterien (r)")),v==""&&(v="keine Detail-Informationen"),v}},stitchReasonText:n=>{let s=null,l=null,d=0,g=0;for(const x in n.summaries){const _=n.summaries[x].points;_!==null&&(d+=_,g++,(s===null||_<s)&&(s=_),(l===null||_>l)&&(l=_))}if(g==0)return"";const v=Du();if(v.stitch_when_distance&&l-s>v.max_auto_distance)return"Der Punkteunterschied bersteigt "+v.max_auto_distance+" Punkte!";if(v.stitch_when_decimals){let x=d/g;if(Math.floor(x)<x)return"Der Punktedurchschnitt "+x+" ist keine ganze Zahl!"}return""},minPoints:n=>{let s=null;for(const l in n.summaries){const d=n.summaries[l].points;(s===null||d<s)&&(s=d)}return s},maxPoints:n=>{let s=null;for(const l in n.summaries){const d=n.summaries[l].points;(s===null||d>s)&&(s=d)}return s}},actions:{async clearStorage(){try{await My.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=dr();try{this.$reset();const s=await My.getItem("keys");s&&(this.keys=JSON.parse(s));for(const l of this.keys){const d=new pr(JSON.parse(await My.getItem(l)));d.item_key==n.itemKey&&(this.summaries[l]=d),d.corrector_key==n.correctorKey&&(this.editSummary=d.getClone())}}catch(s){console.log(s)}YB=0,n.setInterval("summariesStore.updateContent",this.updateContent,i$)},async loadFromData(n){const s=dr();try{await My.clear(),this.$reset();for(const l of n){const d=new pr(l);this.keys.push(d.getKey()),await My.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==s.itemKey&&(this.summaries[d.getKey()]=d),d.corrector_key==s.correctorKey&&(this.editSummary=d.getClone())}await My.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}YB=0,s.setInterval("summariesStore.updateContent",this.updateContent,i$)},async updateContent(n=!1,s=!1){const l=this.summaries[this.editSummary.getKey()]??new pr;if(l.is_authorized)return;const d=Date.now();if(d-this.lastCheck<i$&&!s||YB++&&!s||Gy().correctionEndReached)return;const v=Du();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>v.max_points&&(this.editSummary.points=v.max_points);let _=qy().getLevelForPoints(this.editSummary.points);_?this.editSummary.grade_key=_.key:this.editSummary.grade_key="";try{const N=this.editSummary.getClone();if(!N.isEqual(l)&&this.keys.includes(N.getKey())){const R=dr(),I=nc();N.last_change=R.getServerTime(Date.now()),this.editSummary.setData(N.getData()),this.summaries[N.getKey()]=N,await My.setItem(l.getKey(),JSON.stringify(N.getData())),await I.setChange(new is({type:is.TYPE_SUMMARY,action:is.ACTION_SAVE,key:N.getKey(),item_key:N.item_key})),console.log("Save Change ","| Editor: ",n,"| Duration:",Date.now()-d,"ms")}this.lastCheck=d}catch(N){console.error(N)}YB=0},async getChangedData(n=0){const s=dr(),l=nc(),d=[];for(const g of l.getChangesFor(is.TYPE_SUMMARY,n)){const v=await My.getItem(g.key);v?d.push(s.getChangeDataToSend(g,JSON.parse(v))):d.push(s.getChangeDataToSend(g))}return d},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}});var xJ={exports:{}},wJ={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(l,d){return l<<d|l>>>32-d},rotr:function(l,d){return l<<32-d|l>>>d},endian:function(l){if(l.constructor==Number)return s.rotl(l,8)&16711935|s.rotl(l,24)&4278255360;for(var d=0;d<l.length;d++)l[d]=s.endian(l[d]);return l},randomBytes:function(l){for(var d=[];l>0;l--)d.push(Math.floor(Math.random()*256));return d},bytesToWords:function(l){for(var d=[],g=0,v=0;g<l.length;g++,v+=8)d[v>>>5]|=l[g]<<24-v%32;return d},wordsToBytes:function(l){for(var d=[],g=0;g<l.length*32;g+=8)d.push(l[g>>>5]>>>24-g%32&255);return d},bytesToHex:function(l){for(var d=[],g=0;g<l.length;g++)d.push((l[g]>>>4).toString(16)),d.push((l[g]&15).toString(16));return d.join("")},hexToBytes:function(l){for(var d=[],g=0;g<l.length;g+=2)d.push(parseInt(l.substr(g,2),16));return d},bytesToBase64:function(l){for(var d=[],g=0;g<l.length;g+=3)for(var v=l[g]<<16|l[g+1]<<8|l[g+2],x=0;x<4;x++)g*8+x*6<=l.length*8?d.push(n.charAt(v>>>6*(3-x)&63)):d.push("=");return d.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],g=0,v=0;g<l.length;v=++g%4)v!=0&&d.push((n.indexOf(l.charAt(g-1))&Math.pow(2,-2*v+8)-1)<<v*2|n.indexOf(l.charAt(g))>>>6-v*2);return d}};wJ.exports=s})();var Phe=wJ.exports,G$={utf8:{stringToBytes:function(n){return G$.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(G$.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var s=[],l=0;l<n.length;l++)s.push(n.charCodeAt(l)&255);return s},bytesToString:function(n){for(var s=[],l=0;l<n.length;l++)s.push(String.fromCharCode(n[l]));return s.join("")}}},uq=G$;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Mhe=function(n){return n!=null&&(CJ(n)||Bhe(n)||!!n._isBuffer)};function CJ(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Bhe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&CJ(n.slice(0,0))}(function(){var n=Phe,s=uq.utf8,l=Mhe,d=uq.bin,g=function(v,x){v.constructor==String?x&&x.encoding==="binary"?v=d.stringToBytes(v):v=s.stringToBytes(v):l(v)?v=Array.prototype.slice.call(v,0):!Array.isArray(v)&&v.constructor!==Uint8Array&&(v=v.toString());for(var _=n.bytesToWords(v),N=v.length*8,R=1732584193,I=-271733879,V=-1732584194,$=271733878,G=0;G<_.length;G++)_[G]=(_[G]<<8|_[G]>>>24)&16711935|(_[G]<<24|_[G]>>>8)&4278255360;_[N>>>5]|=128<<N%32,_[(N+64>>>9<<4)+14]=N;for(var W=g._ff,te=g._gg,ae=g._hh,ce=g._ii,G=0;G<_.length;G+=16){var Ve=R,Ce=I,ee=V,we=$;R=W(R,I,V,$,_[G+0],7,-680876936),$=W($,R,I,V,_[G+1],12,-389564586),V=W(V,$,R,I,_[G+2],17,606105819),I=W(I,V,$,R,_[G+3],22,-1044525330),R=W(R,I,V,$,_[G+4],7,-176418897),$=W($,R,I,V,_[G+5],12,1200080426),V=W(V,$,R,I,_[G+6],17,-1473231341),I=W(I,V,$,R,_[G+7],22,-45705983),R=W(R,I,V,$,_[G+8],7,1770035416),$=W($,R,I,V,_[G+9],12,-1958414417),V=W(V,$,R,I,_[G+10],17,-42063),I=W(I,V,$,R,_[G+11],22,-1990404162),R=W(R,I,V,$,_[G+12],7,1804603682),$=W($,R,I,V,_[G+13],12,-40341101),V=W(V,$,R,I,_[G+14],17,-1502002290),I=W(I,V,$,R,_[G+15],22,1236535329),R=te(R,I,V,$,_[G+1],5,-165796510),$=te($,R,I,V,_[G+6],9,-1069501632),V=te(V,$,R,I,_[G+11],14,643717713),I=te(I,V,$,R,_[G+0],20,-373897302),R=te(R,I,V,$,_[G+5],5,-701558691),$=te($,R,I,V,_[G+10],9,38016083),V=te(V,$,R,I,_[G+15],14,-660478335),I=te(I,V,$,R,_[G+4],20,-405537848),R=te(R,I,V,$,_[G+9],5,568446438),$=te($,R,I,V,_[G+14],9,-1019803690),V=te(V,$,R,I,_[G+3],14,-187363961),I=te(I,V,$,R,_[G+8],20,1163531501),R=te(R,I,V,$,_[G+13],5,-1444681467),$=te($,R,I,V,_[G+2],9,-51403784),V=te(V,$,R,I,_[G+7],14,1735328473),I=te(I,V,$,R,_[G+12],20,-1926607734),R=ae(R,I,V,$,_[G+5],4,-378558),$=ae($,R,I,V,_[G+8],11,-2022574463),V=ae(V,$,R,I,_[G+11],16,1839030562),I=ae(I,V,$,R,_[G+14],23,-35309556),R=ae(R,I,V,$,_[G+1],4,-1530992060),$=ae($,R,I,V,_[G+4],11,1272893353),V=ae(V,$,R,I,_[G+7],16,-155497632),I=ae(I,V,$,R,_[G+10],23,-1094730640),R=ae(R,I,V,$,_[G+13],4,681279174),$=ae($,R,I,V,_[G+0],11,-358537222),V=ae(V,$,R,I,_[G+3],16,-722521979),I=ae(I,V,$,R,_[G+6],23,76029189),R=ae(R,I,V,$,_[G+9],4,-640364487),$=ae($,R,I,V,_[G+12],11,-421815835),V=ae(V,$,R,I,_[G+15],16,530742520),I=ae(I,V,$,R,_[G+2],23,-995338651),R=ce(R,I,V,$,_[G+0],6,-198630844),$=ce($,R,I,V,_[G+7],10,1126891415),V=ce(V,$,R,I,_[G+14],15,-1416354905),I=ce(I,V,$,R,_[G+5],21,-57434055),R=ce(R,I,V,$,_[G+12],6,1700485571),$=ce($,R,I,V,_[G+3],10,-1894986606),V=ce(V,$,R,I,_[G+10],15,-1051523),I=ce(I,V,$,R,_[G+1],21,-2054922799),R=ce(R,I,V,$,_[G+8],6,1873313359),$=ce($,R,I,V,_[G+15],10,-30611744),V=ce(V,$,R,I,_[G+6],15,-1560198380),I=ce(I,V,$,R,_[G+13],21,1309151649),R=ce(R,I,V,$,_[G+4],6,-145523070),$=ce($,R,I,V,_[G+11],10,-1120210379),V=ce(V,$,R,I,_[G+2],15,718787259),I=ce(I,V,$,R,_[G+9],21,-343485551),R=R+Ve>>>0,I=I+Ce>>>0,V=V+ee>>>0,$=$+we>>>0}return n.endian([R,I,V,$])};g._ff=function(v,x,_,N,R,I,V){var $=v+(x&_|~x&N)+(R>>>0)+V;return($<<I|$>>>32-I)+x},g._gg=function(v,x,_,N,R,I,V){var $=v+(x&N|_&~N)+(R>>>0)+V;return($<<I|$>>>32-I)+x},g._hh=function(v,x,_,N,R,I,V){var $=v+(x^_^N)+(R>>>0)+V;return($<<I|$>>>32-I)+x},g._ii=function(v,x,_,N,R,I,V){var $=v+(_^(x|~N))+(R>>>0)+V;return($<<I|$>>>32-I)+x},g._blocksize=16,g._digestsize=16,xJ.exports=function(v,x){if(v==null)throw new Error("Illegal argument "+v);var _=n.wordsToBytes(g(v,x));return x&&x.asBytes?_:x&&x.asString?d.bytesToString(_):n.bytesToHex(_)}})();var Lhe=xJ.exports;const Fhe=VU(Lhe),dq=5e3,dr=Pu("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:n=>n.lastLoadingTry>0,isForReviewOrStitch:n=>n.isReview||n.isStitchDecision,storedItemKey:n=>localStorage.getItem("correctorItemKey"),getRequestConfig:n=>function(l){let d=n.backendUrl,g=new URLSearchParams,v=d.search(/\?+/);return v!=-1&&(g=new URLSearchParams(d.substr(v)),d=d.substr(0,v)),g.append("LongEssayUser",n.userKey),g.append("LongEssayEnvironment",n.environmentKey),g.append("LongEssayIsReview",n.isReview?"1":"0"),g.append("LongEssayIsStitchDecision",n.isStitchDecision?"1":"0"),g.append("LongEssaySignature",Fhe(n.userKey+n.environmentKey+l)),{baseURL:d,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:n=>function(l){const d=this.getRequestConfig(this.fileToken);return d.baseURL+"/file/"+l+"?"+d.params.toString()},getImageUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/image/"+d+"/"+l+"?"+g.params.toString()},getThumbUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/thumb/"+d+"/"+l+"?"+g.params.toString()},getServerTime:n=>function(l){return Math.floor((l-n.timeOffset)/1e3)},getChangeDataToSend:n=>function(l,d=null){const g=l.getData();return d&&(g.payload=d),g.server_time=n.getServerTime(l.last_change),g}},actions:{async init(){let n=!1,s=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),ys.get("LongEssayUser")!=null&&ys.get("LongEssayUser")!==this.userKey&&(this.userKey=ys.get("LongEssayUser"),n=!0),ys.get("LongEssayEnvironment")!=null&&ys.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=ys.get("LongEssayEnvironment"),n=!0),ys.get("LongEssayCorrector")!=null&&ys.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=ys.get("LongEssayCorrector"),n=!0),ys.get("LongEssayIsReview")!=null&&ys.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=ys.get("LongEssayIsReview")=="1",n=!0),ys.get("LongEssayIsReview")!=null&&ys.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=ys.get("LongEssayIsStitchDecision")=="1",n=!0),this.isForReviewOrStitch&&(this.correctorKey=""),ys.get("LongEssayItem")!=null&&ys.get("LongEssayItem")!==this.itemKey&&(this.itemKey=ys.get("LongEssayItem"),s=!0),ys.get("LongEssayBackend")!=null&&ys.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=ys.get("LongEssayBackend")),ys.get("LongEssayReturn")!=null&&ys.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=ys.get("LongEssayReturn")),ys.get("LongEssayToken")!=null&&ys.get("LongEssayToken")!==this.dataToken&&(this.dataToken=ys.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await nc().hasChangesInStorage()?n?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):s?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const n=pv();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey"),await await this.loadItemFromStorage(this.itemKey);const s=n.getItem(this.itemKey);await this.loadDataFromBackend()&&(await n.addItem(s),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const n=sf(),s=Dl(),l=wv();if(this.isForReviewOrStitch&&n.setShowOtherCorrectors(!0),this.isStitchDecision){let d=0;for(const g of l.correctors)if(s.selectCorrector(g.corrector_key),d++,d==2)break}this.initialized=!0},updateConfig(){ys.remove("LongEssayBackend"),ys.remove("LongEssayReturn"),ys.remove("LongEssayUser"),ys.remove("LongEssayEnvironment"),ys.remove("LongEssayCorrector"),ys.remove("LongEssayItem"),ys.remove("LongEssayToken"),ys.remove("LongEssayIsReview"),ys.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const n=hm(),s=pv(),l=Dl(),d=qy(),g=Zy(),v=fC(),x=Du(),_=Gy();return await n.loadFromStorage(),await s.loadFromStorage(),await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await _.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(n){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const s=pv();(n==""||s.getItem(n)==null)&&(n=s.firstKey),this.itemKey=n,localStorage.setItem("itemKey",this.itemKey);const l=nc(),d=sf(),g=wv(),v=rD(),x=OL(),_=Pg(),N=oc();return await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await _.loadFromStorage(),await N.loadFromStorage(),d.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,dq),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let n={};try{n=await Ji.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(R){return console.error(R),this.showInitFailure=!0,this.setLoading(!1),!1}const s=hm(),l=pv(),d=Dl(),g=qy(),v=Zy(),x=fC(),_=Du(),N=Gy();return await s.loadFromData(n.data.criteria),await l.loadFromData(n.data.items),await d.clearStorage(),await g.loadFromData(n.data.levels),await v.loadFromData(n.data.preferences),await x.loadFromData(n.data.resources),await _.loadFromData(n.data.settings),await N.loadFromData(n.data.task),this.setLoading(!1),!0},async loadItemFromBackend(n){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const s=pv();(n==""||s.getItem(n)==null)&&(n=s.firstKey);let l={};try{l=await Ji.get("/item/"+n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(l),this.refreshToken(l)}catch(I){return console.error(I),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=n,localStorage.setItem("itemKey",this.itemKey),s.updateItem(new K$(l.data.item));const d=nc(),g=wv(),v=sf(),x=rD(),_=OL(),N=Pg(),R=oc();return await d.clearStorage(),await g.loadFromData(l.data.correctors),await v.loadFromData(l.data.comments),await x.loadFromData(l.data.essay),await _.loadFromData(l.data.pages),await N.loadFromData(l.data.points),await R.loadFromData(l.data.summaries),v.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,dq),!0},async saveChangesToBackend(n=!1){const s=nc(),l=sf(),d=Pg(),g=oc(),v=Zy();if(!await this.isSending(!0)){this.setSending(!0);try{const x={comments:await l.getChangedData(this.lastSendingTry),points:await d.getChangedData(this.lastSendingTry),summaries:await g.getChangedData(this.lastSendingTry),preferences:await v.getChangedData(this.lastSendingTry)},_=await Ji.put("/changes/"+this.itemKey,x,this.getRequestConfig(this.dataToken));this.setTimeOffset(_),this.refreshToken(_);const N=await l.updateKeys(_.data.comments);await d.changeCommentKeys(_.data.comments),await d.updateKeys(_.data.points),N!==null&&await l.selectComment(N,!0),await s.setChangesSent(is.TYPE_COMMENT,_.data.comments,this.lastSendingTry),await s.setChangesSent(is.TYPE_POINTS,_.data.points,this.lastSendingTry),await s.setChangesSent(is.TYPE_SUMMARY,_.data.summaries,this.lastSendingTry),await s.setChangesSent(is.TYPE_PREFERENCES,_.data.preferences,this.lastSendingTry)}catch(x){return console.error(x),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(n){let s={};try{return s=await Ji.put("/stitch/"+this.itemKey,n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s),!0}catch(l){return console.error(l),!1}},setTimeOffset(n){if(n.headers.longessaytime){const s=n.headers.longessaytime*1e3,l=Date.now();this.timeOffset=l-s,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.longessaydatatoken&&(this.dataToken=n.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),n.headers.longessayfiletoken&&(this.fileToken=n.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(n=!1){if(n){let s=0;for(;s<5&&this.lastSendingTry>0;)s++,await new Promise(l=>setTimeout(l,1e3))}return this.lastSendingTry>0},setSending(n){n?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(n){n?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(n){this.showAuthorization=n},setShowSendFailure(n){this.showSendFailure=n},setInterval(n,s,l){n in this.intervals&&(console.log("clear interval "+n),clearInterval(this.intervals[n])),console.log("set interval "+n),this.intervals[n]=setInterval(s,l)},clearAllIntervals(){console.log("clear all intervals ");for(const n in this.intervals)console.log("clear interval "+n),clearInterval(this.intervals[n]),delete this.intervals[n]}}});class fq{constructor(s={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"initials","");Sn(this,"position",0);s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.initials!==void 0&&s.initials!==null&&(this.initials=s.initials.toString().toUpperCase()),s.position!==void 0&&s.position!==null&&(this.position=parseInt(s.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const RS=kd.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),wv=Pu("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:n=>n.correctors.length,correctorKeys:n=>{let s=[];for(const l of n.correctors)s.push(l.corrector_key);return s},otherCorrectors:n=>{const s=dr();return n.correctors.filter(l=>l.corrector_key!=s.correctorKey).sort((l,d)=>l.position-d.position)},getPositionText:n=>function(l){if(n.correctors.length<=1)return"";const d=n.correctors.find(g=>g.corrector_key==l);return d?d.position==0?"(Erstkorrektur)":d.position==1?"(Zweitkorrektur)":d.position==n.correctors.length-1?"(Endkorrektur)":"("+(d.position+1)+". Korrektur)":""},getCorrector:n=>function(l){return n.correctors.find(d=>d.corrector_key==l)}},actions:{async clearStorage(){try{await RS.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=dr();try{this.$reset();const s=await RS.getItem("correctorKeys");s&&(this.keys=JSON.parse(s));for(const l of this.keys){const d=new fq(JSON.parse(await RS.getItem(l)));d.item_key==n.itemKey&&this.correctors.push(d)}}catch(s){console.log(s)}},async loadFromData(n){const s=dr();try{await RS.clear(),this.$reset();for(const l of n){const d=new fq(l);this.keys.push(d.getKey()),await RS.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==s.itemKey&&this.correctors.push(d)}await RS.setItem("correctorKeys",JSON.stringify(this.keys))}catch(l){console.log(l)}}}}),a$=kd.createInstance({storeName:"corrector-layout",description:"Layout data"}),Dl=Pu("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralCriteria:!0,showMarkingCommentCriteria:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",showIncludesPopup:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isSolutionSelected:n=>n.leftContent=="solution",isSolutionPdfSelected:n=>n.leftContent=="solutionPdf",isResourcesSelected:n=>n.leftContent=="resources",isEssaySelected:n=>n.leftContent=="essay",isSummarySelected:n=>n.rightContent=="summary",isMarkingSelected:n=>n.rightContent=="marking",isLeftCorrectorSelected:n=>n.leftContent=="corrector",isRightCorrectorSelected:n=>n.rightContent=="corrector",isInstructionsVisible:n=>n.isInstructionsSelected&&n.isLeftVisible,isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isSolutionVisible:n=>n.isSolutionSelected&&n.isLeftVisible,isSolutionPdfVisible:n=>n.isSolutionPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.isResourcesSelected&&n.isLeftVisible,isEssayVisible:n=>n.isEssaySelected&&n.isLeftVisible,isSummaryVisible:n=>n.isSummarySelected&&n.isRightVisible,isMarkingVisible:n=>n.isMarkingSelected&&n.isRightVisible,isLeftCorrectorVisible:n=>n.isLeftCorrectorSelected&&n.isLeftVisible,isRightCorrectorVisible:n=>n.isRightCorrectorSelected&&n.isRightVisible,isLeftVisible:n=>!dr().isLoading&&n.expandedColumn!="right",isRightVisible:n=>!dr().isLoading&&n.expandedColumn!="left",leftCorrectorTitle:n=>{const s=wv(),l=s.getCorrector(n.leftCorrectorKey);return l?"Korrektur von "+l.title+" "+s.getPositionText(l.corrector_key):""},rightCorrectorTitle:n=>{const s=wv(),l=s.getCorrector(n.rightCorrectorKey);return l?"Korrektur von "+l.title+" "+s.getPositionText(l.corrector_key):""},getCorrectorIsVisible:n=>function(l){return n.leftCorrectorKey==l&&n.isLeftCorrectorVisible||n.rightCorrectorKey==l&&n.isRightCorrectorVisible}},actions:{async clearStorage(){try{await a$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await a$.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.rightContent=n.rightContent,this.showMarkingComments=!!n.showMarkingComments,this.showMarkingGeneralCriteria=!!n.showMarkingGeneralCriteria,this.showMarkingCommentCriteria=!!n.showMarkingCommentCriteria,this.showMarkingText=!!n.showMarkingText,this.showLeftSummaryCriteria=!!n.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!n.showRightSummaryCriteria,this.showLeftSummaryText=!!n.showLeftSummaryText,this.showRightSummaryText=!!n.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralCriteria&&!this.showMarkingCommentCriteria&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(n){console.log(n)}},async saveToStorage(){try{await a$.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralCriteria:this.showMarkingGeneralCriteria,showMarkingCommentCriteria:this.showMarkingCommentCriteria,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(n){console.log(n)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrector(){this.leftContent="corrector",this.setLeftVisible(),this.saveToStorage()},showRightCorrector(){this.rightContent="corrector",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(n=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),n===null)switch(this.leftContent){case"instructions":case"solution":case"essay":n=this.leftContent;break}this.setFocusChange(n??"appHeadLeft")},setRightVisible(n=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(n??"appHeadRight")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.saveToStorage()},focusMarkingCommentCriteriaSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteriaSum")},focusMarkingGeneralCriteria(){this.showMarkingGeneralCriteria||(this.showMarkingGeneralCriteria=!0,this.saveToStorage()),this.setFocusChange("markingGeneralCriteria")},focusMarkingCommentCriteria(){this.showMarkingCommentCriteria||(this.showMarkingCommentCriteria=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteria")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralCriteria(){this.showMarkingGeneralCriteria=!this.showMarkingGeneralCriteria,this.saveToStorage()},toggleMarkingCommentCriteria(){this.showMarkingCommentCriteria=!this.showMarkingCommentCriteria,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(n){const s=dr(),l=wv();this.leftCorrectorKey==n?this.showLeftCorrector():this.rightCorrectorKey==n?this.showRightCorrector():s.isForReviewOrStitch?l.countCorrectors==1?(this.rightCorrectorKey=n,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=n,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=n,this.showRightCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector())},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),dl=(n,s)=>{const l=n.__vccOpts||n;for(const[d,g]of s)l[d]=g;return l},P1=In({border:[Boolean,Number,String]},"border");function M1(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return{borderClasses:qe(()=>{const d=Bs(n)?n.value:n.border,g=[];if(d===!0||d==="")g.push(`${s}--border`);else if(typeof d=="string"||d===0)for(const v of String(d).split(" "))g.push(`border-${v}`);return g})}}const Vhe=[null,"default","comfortable","compact"],Lg=In({density:{type:String,default:"default",validator:n=>Vhe.includes(n)}},"density");function Jh(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return{densityClasses:qe(()=>`${s}--density-${n.density}`)}}const B1=In({elevation:{type:[Number,String],validator(n){const s=parseInt(n);return!isNaN(s)&&s>=0&&s<=24}}},"elevation");function L1(n){return{elevationClasses:qe(()=>{const l=Bs(n)?n.value:n.elevation,d=[];return l==null||d.push(`elevation-${l}`),d})}}const pm=In({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function vm(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return{roundedClasses:qe(()=>{const d=Bs(n)?n.value:n.rounded,g=Bs(n)?n.value:n.tile,v=[];if(d===!0||d==="")v.push(`${s}--rounded`);else if(typeof d=="string"||d===0)for(const x of String(d).split(" "))v.push(`rounded-${x}`);else(g||d===!1)&&v.push("rounded-0");return v})}}const Qi=In({tag:{type:String,default:"div"}},"tag");function ZU(n){return IU(()=>{const s=[],l={};if(n.value.background)if(N$(n.value.background)){if(l.backgroundColor=n.value.background,!n.value.text&&vfe(n.value.background)){const d=vv(n.value.background);if(d.a==null||d.a===1){const g=EX(d);l.color=g,l.caretColor=g}}}else s.push(`bg-${n.value.background}`);return n.value.text&&(N$(n.value.text)?(l.color=n.value.text,l.caretColor=n.value.text):s.push(`text-${n.value.text}`)),{colorClasses:s,colorStyles:l}})}function Yh(n,s){const l=qe(()=>({text:Bs(n)?n.value:s?n[s]:null})),{colorClasses:d,colorStyles:g}=ZU(l);return{textColorClasses:d,textColorStyles:g}}function Kh(n,s){const l=qe(()=>({background:Bs(n)?n.value:s?n[s]:null})),{colorClasses:d,colorStyles:g}=ZU(l);return{backgroundColorClasses:d,backgroundColorStyles:g}}const zhe=["elevated","flat","tonal","outlined","text","plain"];function nE(n,s){return j(ir,null,[n&&j("span",{key:"overlay",class:`${s}__overlay`},null),j("span",{key:"underlay",class:`${s}__underlay`},null)])}const F1=In({color:String,variant:{type:String,default:"elevated",validator:n=>zhe.includes(n)}},"variant");function oE(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();const l=qe(()=>{const{variant:v}=oe(n);return`${s}--variant-${v}`}),{colorClasses:d,colorStyles:g}=ZU(qe(()=>{const{variant:v,color:x}=oe(n);return{[["elevated","flat"].includes(v)?"background":"text"]:x}}));return{colorClasses:d,colorStyles:g,variantClasses:l}}const _J=In({baseColor:String,divided:Boolean,...P1(),...Vr(),...Lg(),...B1(),...pm(),...Qi(),...ul(),...F1()},"VBtnGroup"),k1=No()({name:"VBtnGroup",props:_J(),setup(n,s){let{slots:l}=s;const{themeClasses:d}=Zl(n),{densityClasses:g}=Jh(n),{borderClasses:v}=M1(n),{elevationClasses:x}=L1(n),{roundedClasses:_}=vm(n);tx({VBtn:{height:"auto",baseColor:tr(n,"baseColor"),color:tr(n,"color"),density:tr(n,"density"),flat:!0,variant:tr(n,"variant")}}),yr(()=>j(n.tag,{class:["v-btn-group",{"v-btn-group--divided":n.divided},d.value,v.value,g.value,x.value,_.value,n.class],style:n.style},l))}}),jU=In({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),kJ=In({value:null,disabled:Boolean,selectedClass:String},"group-item");function SJ(n,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const d=Rl("useGroupItem");if(!d)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=Mg();_d(Symbol.for(`${s.description}:id`),g);const v=wa(s,null);if(!v){if(!l)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${s.description}`)}const x=tr(n,"value"),_=qe(()=>!!(v.disabled.value||n.disabled));v.register({id:g,value:x,disabled:_},d),Cc(()=>{v.unregister(g)});const N=qe(()=>v.isSelected(g)),R=qe(()=>v.items.value[0].id===g),I=qe(()=>v.items.value[v.items.value.length-1].id===g),V=qe(()=>N.value&&[v.selectedClass.value,n.selectedClass]);return Rn(N,$=>{d.emit("group:selected",{value:$})},{flush:"sync"}),{id:g,isSelected:N,isFirst:R,isLast:I,toggle:()=>v.select(g,!N.value),select:$=>v.select(g,$),selectedClass:V,value:x,disabled:_,group:v}}function KU(n,s){let l=!1;const d=Ul([]),g=Hi(n,"modelValue",[],$=>$==null?[]:EJ(d,af($)),$=>{const G=$he(d,$);return n.multiple?G:G[0]}),v=Rl("useGroup");function x($,G){const W=$,te=Symbol.for(`${s.description}:id`),ce=MS(te,v==null?void 0:v.vnode).indexOf(G);oe(W.value)==null&&(W.value=ce,W.useIndexAsValue=!0),ce>-1?d.splice(ce,0,W):d.push(W)}function _($){if(l)return;N();const G=d.findIndex(W=>W.id===$);d.splice(G,1)}function N(){const $=d.find(G=>!G.disabled);$&&n.mandatory==="force"&&!g.value.length&&(g.value=[$.id])}Nu(()=>{N()}),Cc(()=>{l=!0}),CU(()=>{for(let $=0;$<d.length;$++)d[$].useIndexAsValue&&(d[$].value=$)});function R($,G){const W=d.find(te=>te.id===$);if(!(G&&(W!=null&&W.disabled)))if(n.multiple){const te=g.value.slice(),ae=te.findIndex(Ve=>Ve===$),ce=~ae;if(G=G??!ce,ce&&n.mandatory&&te.length<=1||!ce&&n.max!=null&&te.length+1>n.max)return;ae<0&&G?te.push($):ae>=0&&!G&&te.splice(ae,1),g.value=te}else{const te=g.value.includes($);if(n.mandatory&&te)return;g.value=G??!te?[$]:[]}}function I($){if(n.multiple,g.value.length){const G=g.value[0],W=d.findIndex(ce=>ce.id===G);let te=(W+$)%d.length,ae=d[te];for(;ae.disabled&&te!==W;)te=(te+$)%d.length,ae=d[te];if(ae.disabled)return;g.value=[d[te].id]}else{const G=d.find(W=>!W.disabled);G&&(g.value=[G.id])}}const V={register:x,unregister:_,selected:g,select:R,disabled:tr(n,"disabled"),prev:()=>I(d.length-1),next:()=>I(1),isSelected:$=>g.value.includes($),selectedClass:qe(()=>n.selectedClass),items:qe(()=>d),getItemIndex:$=>Hhe(d,$)};return _d(s,V),V}function Hhe(n,s){const l=EJ(n,[s]);return l.length?n.findIndex(d=>d.id===l[0]):-1}function EJ(n,s){const l=[];return s.forEach(d=>{const g=n.find(x=>JS(d,x.value)),v=n[d];(g==null?void 0:g.value)!=null?l.push(g.id):v!=null&&l.push(v.id)}),l}function $he(n,s){const l=[];return s.forEach(d=>{const g=n.findIndex(v=>v.id===d);if(~g){const v=n[g];l.push(v.value!=null?v.value:g)}}),l}const AJ=Symbol.for("vuetify:v-btn-toggle"),Uhe=In({..._J(),...jU()},"VBtnToggle"),Whe=No()({name:"VBtnToggle",props:Uhe(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const{isSelected:d,next:g,prev:v,select:x,selected:_}=KU(n,AJ);return yr(()=>{const N=k1.filterProps(n);return j(k1,jo({class:["v-btn-toggle",n.class]},N,{style:n.style}),{default:()=>{var R;return[(R=l.default)==null?void 0:R.call(l,{isSelected:d,next:g,prev:v,select:x,selected:_})]}})}),{next:g,prev:v,select:x}}}),Zhe=In({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),xa=No(!1)({name:"VDefaultsProvider",props:Zhe(),setup(n,s){let{slots:l}=s;const{defaults:d,disabled:g,reset:v,root:x,scoped:_}=kD(n);return tx(d,{reset:v,root:x,scoped:_,disabled:g}),()=>{var N;return(N=l.default)==null?void 0:N.call(l)}}}),jhe=["x-small","small","default","large","x-large"],RD=In({size:{type:[String,Number],default:"default"}},"size");function ID(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return IU(()=>{let l,d;return yL(jhe,n.size)?l=`${s}--size-${n.size}`:n.size&&(d={width:br(n.size),height:br(n.size)}),{sizeClasses:l,sizeStyles:d}})}const Khe=In({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:mi,...Vr(),...RD(),...Qi({tag:"i"}),...ul()},"VIcon"),jn=No()({name:"VIcon",props:Khe(),setup(n,s){let{attrs:l,slots:d}=s;const g=Bn(),{themeClasses:v}=Zl(n),{iconData:x}=Bme(qe(()=>g.value||n.icon)),{sizeClasses:_}=ID(n),{textColorClasses:N,textColorStyles:R}=Yh(tr(n,"color"));return yr(()=>{var $,G;const I=($=d.default)==null?void 0:$.call(d);I&&(g.value=(G=pX(I).filter(W=>W.type===ED&&W.children&&typeof W.children=="string")[0])==null?void 0:G.children);const V=!!(l.onClick||l.onClickOnce);return j(x.value.component,{tag:n.tag,icon:x.value.icon,class:["v-icon","notranslate",v.value,_.value,N.value,{"v-icon--clickable":V,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class],style:[_.value?void 0:{fontSize:br(n.size),height:br(n.size),width:br(n.size)},R.value,n.style],role:V?"button":void 0,"aria-hidden":!V,tabindex:V?n.disabled?-1:0:void 0},{default:()=>[I]})}),{}}});function TJ(n,s){const l=Bn(),d=Oo(!1);if(DU){const g=new IntersectionObserver(v=>{d.value=!!v.find(x=>x.isIntersecting)},s);Cc(()=>{g.disconnect()}),Rn(l,(v,x)=>{x&&(g.unobserve(x),d.value=!1),v&&g.observe(v)},{flush:"post"})}return{intersectionRef:l,isIntersecting:d}}const Ghe=In({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Vr(),...RD(),...Qi({tag:"div"}),...ul()},"VProgressCircular"),qhe=No()({name:"VProgressCircular",props:Ghe(),setup(n,s){let{slots:l}=s;const d=20,g=2*Math.PI*d,v=Bn(),{themeClasses:x}=Zl(n),{sizeClasses:_,sizeStyles:N}=ID(n),{textColorClasses:R,textColorStyles:I}=Yh(tr(n,"color")),{textColorClasses:V,textColorStyles:$}=Yh(tr(n,"bgColor")),{intersectionRef:G,isIntersecting:W}=TJ(),{resizeRef:te,contentRect:ae}=KS(),ce=qe(()=>Math.max(0,Math.min(100,parseFloat(n.modelValue)))),Ve=qe(()=>Number(n.width)),Ce=qe(()=>N.value?Number(n.size):ae.value?ae.value.width:Math.max(Ve.value,32)),ee=qe(()=>d/(1-Ve.value/Ce.value)*2),we=qe(()=>Ve.value/Ce.value*ee.value),le=qe(()=>br((100-ce.value)/100*g));return df(()=>{G.value=v.value,te.value=v.value}),yr(()=>j(n.tag,{ref:v,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":W.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},x.value,_.value,R.value,n.class],style:[N.value,I.value,n.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:ce.value},{default:()=>[j("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ee.value} ${ee.value}`},[j("circle",{class:["v-progress-circular__underlay",V.value],style:$.value,fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":we.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),j("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":we.value,"stroke-dasharray":g,"stroke-dashoffset":le.value},null)]),l.default&&j("div",{class:"v-progress-circular__content"},[l.default({value:ce.value})])]})),{}}}),Qh=In({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ep(n){return{dimensionStyles:qe(()=>{const l={},d=br(n.height),g=br(n.maxHeight),v=br(n.maxWidth),x=br(n.minHeight),_=br(n.minWidth),N=br(n.width);return d!=null&&(l.height=d),g!=null&&(l.maxHeight=g),v!=null&&(l.maxWidth=v),x!=null&&(l.minHeight=x),_!=null&&(l.minWidth=_),N!=null&&(l.width=N),l})}}const mq={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},i8=In({location:String},"location");function a8(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2?arguments[2]:void 0;const{isRtl:d}=Bg();return{locationStyles:qe(()=>{if(!n.location)return{};const{side:v,align:x}=R$(n.location.split(" ").length>1?n.location:`${n.location} center`,d.value);function _(R){return l?l(R):0}const N={};return v!=="center"&&(s?N[mq[v]]=`calc(100% - ${_(v)}px)`:N[v]=0),x!=="center"?s?N[mq[x]]=`calc(100% - ${_(x)}px)`:N[x]=0:(v==="center"?N.top=N.left="50%":N[{top:"left",bottom:"left",left:"top",right:"top"}[v]]="50%",N.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[v]),N})}}const Yhe=In({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Vr(),...i8({location:"top"}),...pm(),...Qi(),...ul()},"VProgressLinear"),Xhe=No()({name:"VProgressLinear",props:Yhe(),emits:{"update:modelValue":n=>!0},setup(n,s){var Ee;let{slots:l}=s;const d=Hi(n,"modelValue"),{isRtl:g,rtlClasses:v}=Bg(),{themeClasses:x}=Zl(n),{locationStyles:_}=a8(n),{textColorClasses:N,textColorStyles:R}=Yh(n,"color"),{backgroundColorClasses:I,backgroundColorStyles:V}=Kh(qe(()=>n.bgColor||n.color)),{backgroundColorClasses:$,backgroundColorStyles:G}=Kh(qe(()=>n.bufferColor||n.bgColor||n.color)),{backgroundColorClasses:W,backgroundColorStyles:te}=Kh(n,"color"),{roundedClasses:ae}=vm(n),{intersectionRef:ce,isIntersecting:Ve}=TJ(),Ce=qe(()=>parseFloat(n.max)),ee=qe(()=>parseFloat(n.height)),we=qe(()=>jh(parseFloat(n.bufferValue)/Ce.value*100,0,100)),le=qe(()=>jh(parseFloat(d.value)/Ce.value*100,0,100)),Ze=qe(()=>g.value!==n.reverse),Be=qe(()=>n.indeterminate?"fade-transition":"slide-x-transition"),Me=fi&&((Ee=window.matchMedia)==null?void 0:Ee.call(window,"(forced-colors: active)").matches);function Xe(Fe){if(!ce.value)return;const{left:O,right:Ge,width:ct}=ce.value.getBoundingClientRect(),$t=Ze.value?ct-Fe.clientX+(Ge-ct):Fe.clientX-O;d.value=Math.round($t/ct*Ce.value)}return yr(()=>j(n.tag,{ref:ce,class:["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&Ve.value,"v-progress-linear--reverse":Ze.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},ae.value,x.value,v.value,n.class],style:[{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?br(ee.value):0,"--v-progress-linear-height":br(ee.value),...n.absolute?_.value:{}},n.style],role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:le.value,onClick:n.clickable&&Xe},{default:()=>[n.stream&&j("div",{key:"stream",class:["v-progress-linear__stream",N.value],style:{...R.value,[Ze.value?"left":"right"]:br(-ee.value),borderTop:`${br(ee.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${br(ee.value/4)})`,width:br(100-we.value,"%"),"--v-progress-linear-stream-to":br(ee.value*(Ze.value?1:-1))}},null),j("div",{class:["v-progress-linear__background",Me?void 0:I.value],style:[V.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}]},null),j("div",{class:["v-progress-linear__buffer",Me?void 0:$.value],style:[G.value,{opacity:parseFloat(n.bufferOpacity),width:br(we.value,"%")}]},null),j(Ky,{name:Be.value},{default:()=>[n.indeterminate?j("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Fe=>j("div",{key:Fe,class:["v-progress-linear__indeterminate",Fe,Me?void 0:W.value],style:te.value},null))]):j("div",{class:["v-progress-linear__determinate",Me?void 0:W.value],style:[te.value,{width:br(le.value,"%")}]},null)]}),l.default&&j("div",{class:"v-progress-linear__content"},[l.default({value:le.value,buffer:we.value})])]})),{}}}),GU=In({loading:[Boolean,String]},"loader");function qU(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return{loaderClasses:qe(()=>({[`${s}--loading`]:n.loading}))}}function OJ(n,s){var d;let{slots:l}=s;return j("div",{class:`${n.name}__loader`},[((d=l.default)==null?void 0:d.call(l,{color:n.color,isActive:n.active}))||j(Xhe,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const Jhe=["static","relative","fixed","absolute","sticky"],YU=In({position:{type:String,validator:n=>Jhe.includes(n)}},"position");function XU(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();return{positionClasses:qe(()=>n.position?`${s}--${n.position}`:void 0)}}function Qhe(){const n=Rl("useRoute");return qe(()=>{var s;return(s=n==null?void 0:n.proxy)==null?void 0:s.$route})}function DJ(){var n,s;return(s=(n=Rl("useRouter"))==null?void 0:n.proxy)==null?void 0:s.$router}function l8(n,s){var V,$;const l=xue("RouterLink"),d=qe(()=>!!(n.href||n.to)),g=qe(()=>(d==null?void 0:d.value)||bG(s,"click")||bG(n,"click"));if(typeof l=="string"||!("useLink"in l)){const G=tr(n,"href");return{isLink:d,isClickable:g,href:G,linkProps:Ul({href:G})}}const v=qe(()=>({...n,to:tr(()=>n.to||"")})),x=l.useLink(v.value),_=qe(()=>n.to?x:void 0),N=Qhe(),R=qe(()=>{var G,W,te;return _.value?n.exact?N.value?((te=_.value.isExactActive)==null?void 0:te.value)&&JS(_.value.route.value.query,N.value.query):((W=_.value.isExactActive)==null?void 0:W.value)??!1:((G=_.value.isActive)==null?void 0:G.value)??!1:!1}),I=qe(()=>{var G;return n.to?(G=_.value)==null?void 0:G.route.value.href:n.href});return{isLink:d,isClickable:g,isActive:R,route:(V=_.value)==null?void 0:V.route,navigate:($=_.value)==null?void 0:$.navigate,href:I,linkProps:Ul({href:I,"aria-current":qe(()=>R.value?"page":void 0)})}}const c8=In({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let l$=!1;function epe(n,s){let l=!1,d,g;fi&&(Er(()=>{window.addEventListener("popstate",v),d=n==null?void 0:n.beforeEach((x,_,N)=>{l$?l?s(N):N():setTimeout(()=>l?s(N):N()),l$=!0}),g=n==null?void 0:n.afterEach(()=>{l$=!1})}),Iu(()=>{window.removeEventListener("popstate",v),d==null||d(),g==null||g()}));function v(x){var _;(_=x.state)!=null&&_.replaced||(l=!0,setTimeout(()=>l=!1))}}function tpe(n,s){Rn(()=>{var l;return(l=n.isActive)==null?void 0:l.value},l=>{n.isLink.value&&l&&s&&Er(()=>{s(!0)})},{immediate:!0})}const q$=Symbol("rippleStop"),npe=80;function gq(n,s){n.style.transform=s,n.style.webkitTransform=s}function Y$(n){return n.constructor.name==="TouchEvent"}function RJ(n){return n.constructor.name==="KeyboardEvent"}const ope=function(n,s){var V;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=0,g=0;if(!RJ(n)){const $=s.getBoundingClientRect(),G=Y$(n)?n.touches[n.touches.length-1]:n;d=G.clientX-$.left,g=G.clientY-$.top}let v=0,x=.3;(V=s._ripple)!=null&&V.circle?(x=.15,v=s.clientWidth/2,v=l.center?v:v+Math.sqrt((d-v)**2+(g-v)**2)/4):v=Math.sqrt(s.clientWidth**2+s.clientHeight**2)/2;const _=`${(s.clientWidth-v*2)/2}px`,N=`${(s.clientHeight-v*2)/2}px`,R=l.center?_:`${d-v}px`,I=l.center?N:`${g-v}px`;return{radius:v,scale:x,x:R,y:I,centerX:_,centerY:N}},DL={show(n,s){var G;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((G=s==null?void 0:s._ripple)!=null&&G.enabled))return;const d=document.createElement("span"),g=document.createElement("span");d.appendChild(g),d.className="v-ripple__container",l.class&&(d.className+=` ${l.class}`);const{radius:v,scale:x,x:_,y:N,centerX:R,centerY:I}=ope(n,s,l),V=`${v*2}px`;g.className="v-ripple__animation",g.style.width=V,g.style.height=V,s.appendChild(d);const $=window.getComputedStyle(s);$&&$.position==="static"&&(s.style.position="relative",s.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),gq(g,`translate(${_}, ${N}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),setTimeout(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),gq(g,`translate(${R}, ${I}) scale3d(1,1,1)`)},0)},hide(n){var v;if(!((v=n==null?void 0:n._ripple)!=null&&v.enabled))return;const s=n.getElementsByClassName("v-ripple__animation");if(s.length===0)return;const l=s[s.length-1];if(l.dataset.isHiding)return;l.dataset.isHiding="true";const d=performance.now()-Number(l.dataset.activated),g=Math.max(250-d,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var _;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((_=l.parentNode)==null?void 0:_.parentNode)===n&&n.removeChild(l.parentNode)},300)},g)}};function IJ(n){return typeof n>"u"||!!n}function sD(n){const s={},l=n.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||n[q$])){if(n[q$]=!0,Y$(n))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(s.center=l._ripple.centered||RJ(n),l._ripple.class&&(s.class=l._ripple.class),Y$(n)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{DL.show(n,l,s)},l._ripple.showTimer=window.setTimeout(()=>{var d;(d=l==null?void 0:l._ripple)!=null&&d.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},npe)}else DL.show(n,l,s)}}function hq(n){n[q$]=!0}function cm(n){const s=n.currentTarget;if(s!=null&&s._ripple){if(window.clearTimeout(s._ripple.showTimer),n.type==="touchend"&&s._ripple.showTimerCommit){s._ripple.showTimerCommit(),s._ripple.showTimerCommit=null,s._ripple.showTimer=window.setTimeout(()=>{cm(n)});return}window.setTimeout(()=>{s._ripple&&(s._ripple.touched=!1)}),DL.hide(s)}}function NJ(n){const s=n.currentTarget;s!=null&&s._ripple&&(s._ripple.showTimerCommit&&(s._ripple.showTimerCommit=null),window.clearTimeout(s._ripple.showTimer))}let iD=!1;function PJ(n){!iD&&(n.keyCode===gG.enter||n.keyCode===gG.space)&&(iD=!0,sD(n))}function MJ(n){iD=!1,cm(n)}function BJ(n){iD&&(iD=!1,cm(n))}function LJ(n,s,l){const{value:d,modifiers:g}=s,v=IJ(d);if(v||DL.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=v,n._ripple.centered=g.center,n._ripple.circle=g.circle,Zde(d)&&d.class&&(n._ripple.class=d.class),v&&!l){if(g.stop){n.addEventListener("touchstart",hq,{passive:!0}),n.addEventListener("mousedown",hq);return}n.addEventListener("touchstart",sD,{passive:!0}),n.addEventListener("touchend",cm,{passive:!0}),n.addEventListener("touchmove",NJ,{passive:!0}),n.addEventListener("touchcancel",cm),n.addEventListener("mousedown",sD),n.addEventListener("mouseup",cm),n.addEventListener("mouseleave",cm),n.addEventListener("keydown",PJ),n.addEventListener("keyup",MJ),n.addEventListener("blur",BJ),n.addEventListener("dragstart",cm,{passive:!0})}else!v&&l&&FJ(n)}function FJ(n){n.removeEventListener("mousedown",sD),n.removeEventListener("touchstart",sD),n.removeEventListener("touchend",cm),n.removeEventListener("touchmove",NJ),n.removeEventListener("touchcancel",cm),n.removeEventListener("mouseup",cm),n.removeEventListener("mouseleave",cm),n.removeEventListener("keydown",PJ),n.removeEventListener("keyup",MJ),n.removeEventListener("dragstart",cm),n.removeEventListener("blur",BJ)}function rpe(n,s){LJ(n,s,!1)}function spe(n){delete n._ripple,FJ(n)}function ipe(n,s){if(s.value===s.oldValue)return;const l=IJ(s.oldValue);LJ(n,s,l)}const ND={mounted:rpe,unmounted:spe,updated:ipe},ape=In({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:AJ},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:mi,appendIcon:mi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...P1(),...Vr(),...Lg(),...Qh(),...B1(),...kJ(),...GU(),...i8(),...YU(),...pm(),...c8(),...RD(),...Qi({tag:"button"}),...ul(),...F1({variant:"elevated"})},"VBtn"),vo=No()({name:"VBtn",props:ape(),emits:{"group:selected":n=>!0},setup(n,s){let{attrs:l,slots:d}=s;const{themeClasses:g}=Zl(n),{borderClasses:v}=M1(n),{densityClasses:x}=Jh(n),{dimensionStyles:_}=ep(n),{elevationClasses:N}=L1(n),{loaderClasses:R}=qU(n),{locationStyles:I}=a8(n),{positionClasses:V}=XU(n),{roundedClasses:$}=vm(n),{sizeClasses:G,sizeStyles:W}=ID(n),te=SJ(n,n.symbol,!1),ae=l8(n,l),ce=qe(()=>{var Ee;return n.active!==void 0?n.active:ae.isLink.value?(Ee=ae.isActive)==null?void 0:Ee.value:te==null?void 0:te.isSelected.value}),Ve=qe(()=>ce.value?n.activeColor??n.color:n.color),Ce=qe(()=>{var Fe,O;return{color:(te==null?void 0:te.isSelected.value)&&(!ae.isLink.value||((Fe=ae.isActive)==null?void 0:Fe.value))||!te||((O=ae.isActive)==null?void 0:O.value)?Ve.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:ee,colorStyles:we,variantClasses:le}=oE(Ce),Ze=qe(()=>(te==null?void 0:te.disabled.value)||n.disabled),Be=qe(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),Me=qe(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function Xe(Ee){var Fe;Ze.value||ae.isLink.value&&(Ee.metaKey||Ee.ctrlKey||Ee.shiftKey||Ee.button!==0||l.target==="_blank")||((Fe=ae.navigate)==null||Fe.call(ae,Ee),te==null||te.toggle())}return tpe(ae,te==null?void 0:te.select),yr(()=>{const Ee=ae.isLink.value?"a":n.tag,Fe=!!(n.prependIcon||d.prepend),O=!!(n.appendIcon||d.append),Ge=!!(n.icon&&n.icon!==!0);return Mn(j(Ee,jo({type:Ee==="a"?void 0:"button",class:["v-btn",te==null?void 0:te.selectedClass.value,{"v-btn--active":ce.value,"v-btn--block":n.block,"v-btn--disabled":Ze.value,"v-btn--elevated":Be.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},g.value,v.value,ee.value,x.value,N.value,R.value,V.value,$.value,G.value,le.value,n.class],style:[we.value,_.value,I.value,W.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:Ze.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:Xe,value:Me.value},ae.linkProps),{default:()=>{var ct;return[nE(!0,"v-btn"),!n.icon&&Fe&&j("span",{key:"prepend",class:"v-btn__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},d.prepend):j(jn,{key:"prepend-icon",icon:n.prependIcon},null)]),j("span",{class:"v-btn__content","data-no-activator":""},[!d.default&&Ge?j(jn,{key:"content-icon",icon:n.icon},null):j(xa,{key:"content-defaults",disabled:!Ge,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var $t;return[(($t=d.default)==null?void 0:$t.call(d))??n.text]}})]),!n.icon&&O&&j("span",{key:"append",class:"v-btn__append"},[d.append?j(xa,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},d.append):j(jn,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&j("span",{key:"loader",class:"v-btn__loader"},[((ct=d.loader)==null?void 0:ct.call(d))??j(qhe,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[ND,!Ze.value&&n.ripple,"",{center:!!n.icon}]])}),{group:te}}}),Uh=No()({name:"VCardActions",props:Vr(),setup(n,s){let{slots:l}=s;return tx({VBtn:{slim:!0,variant:"text"}}),yr(()=>{var d;return j("div",{class:["v-card-actions",n.class],style:n.style},[(d=l.default)==null?void 0:d.call(l)])}),{}}}),lpe=In({opacity:[Number,String],...Vr(),...Qi()},"VCardSubtitle"),cpe=No()({name:"VCardSubtitle",props:lpe(),setup(n,s){let{slots:l}=s;return yr(()=>j(n.tag,{class:["v-card-subtitle",n.class],style:[{"--v-card-subtitle-opacity":n.opacity},n.style]},l)),{}}}),u8=qL("v-card-title");function upe(n){return{aspectStyles:qe(()=>{const s=Number(n.aspectRatio);return s?{paddingBottom:String(1/s*100)+"%"}:void 0})}}const VJ=In({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Vr(),...Qh()},"VResponsive"),pq=No()({name:"VResponsive",props:VJ(),setup(n,s){let{slots:l}=s;const{aspectStyles:d}=upe(n),{dimensionStyles:g}=ep(n);return yr(()=>{var v;return j("div",{class:["v-responsive",{"v-responsive--inline":n.inline},n.class],style:[g.value,n.style]},[j("div",{class:"v-responsive__sizer",style:d.value},null),(v=l.additional)==null?void 0:v.call(l),l.default&&j("div",{class:["v-responsive__content",n.contentClass]},[l.default()])])}),{}}}),rE=In({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:n=>n!==!0}},"transition"),$y=(n,s)=>{let{slots:l}=s;const{transition:d,disabled:g,group:v,...x}=n,{component:_=v?OU:Ky,...N}=typeof d=="object"?d:{};return _v(_,jo(typeof d=="string"?{name:g?"":d}:N,typeof d=="string"?{}:Object.fromEntries(Object.entries({disabled:g,group:v}).filter(R=>{let[I,V]=R;return V!==void 0})),x),l)};function dpe(n,s){if(!DU)return;const l=s.modifiers||{},d=s.value,{handler:g,options:v}=typeof d=="object"?d:{handler:d,options:{}},x=new IntersectionObserver(function(){var V;let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1?arguments[1]:void 0;const R=(V=n._observe)==null?void 0:V[s.instance.$.uid];if(!R)return;const I=_.some($=>$.isIntersecting);g&&(!l.quiet||R.init)&&(!l.once||I||R.init)&&g(I,_,N),I&&l.once?zJ(n,s):R.init=!0},v);n._observe=Object(n._observe),n._observe[s.instance.$.uid]={init:!1,observer:x},x.observe(n)}function zJ(n,s){var d;const l=(d=n._observe)==null?void 0:d[s.instance.$.uid];l&&(l.observer.unobserve(n),delete n._observe[s.instance.$.uid])}const JU={mounted:dpe,unmounted:zJ},fpe=In({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...VJ(),...Vr(),...pm(),...rE()},"VImg"),PD=No()({name:"VImg",directives:{intersect:JU},props:fpe(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,s){let{emit:l,slots:d}=s;const{backgroundColorClasses:g,backgroundColorStyles:v}=Kh(tr(n,"color")),{roundedClasses:x}=vm(n),_=Rl("VImg"),N=Oo(""),R=Bn(),I=Oo(n.eager?"loading":"idle"),V=Oo(),$=Oo(),G=qe(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),W=qe(()=>G.value.aspect||V.value/$.value||0);Rn(()=>n.src,()=>{te(I.value!=="idle")}),Rn(W,(Fe,O)=>{!Fe&&O&&R.value&&ee(R.value)}),wU(()=>te());function te(Fe){if(!(n.eager&&Fe)&&!(DU&&!Fe&&!n.eager)){if(I.value="loading",G.value.lazySrc){const O=new Image;O.src=G.value.lazySrc,ee(O,null)}G.value.src&&Er(()=>{var O;l("loadstart",((O=R.value)==null?void 0:O.currentSrc)||G.value.src),setTimeout(()=>{var Ge;if(!_.isUnmounted)if((Ge=R.value)!=null&&Ge.complete){if(R.value.naturalWidth||ce(),I.value==="error")return;W.value||ee(R.value,null),I.value==="loading"&&ae()}else W.value||ee(R.value),Ve()})})}}function ae(){var Fe;_.isUnmounted||(Ve(),ee(R.value),I.value="loaded",l("load",((Fe=R.value)==null?void 0:Fe.currentSrc)||G.value.src))}function ce(){var Fe;_.isUnmounted||(I.value="error",l("error",((Fe=R.value)==null?void 0:Fe.currentSrc)||G.value.src))}function Ve(){const Fe=R.value;Fe&&(N.value=Fe.currentSrc||Fe.src)}let Ce=-1;Cc(()=>{clearTimeout(Ce)});function ee(Fe){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Ge=()=>{if(clearTimeout(Ce),_.isUnmounted)return;const{naturalHeight:ct,naturalWidth:$t}=Fe;ct||$t?(V.value=$t,$.value=ct):!Fe.complete&&I.value==="loading"&&O!=null?Ce=window.setTimeout(Ge,O):(Fe.currentSrc.endsWith(".svg")||Fe.currentSrc.startsWith("data:image/svg+xml"))&&(V.value=1,$.value=1)};Ge()}const we=qe(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),le=()=>{var Ge;if(!G.value.src||I.value==="idle")return null;const Fe=j("img",{class:["v-img__img",we.value],style:{objectPosition:n.position},src:G.value.src,srcset:G.value.srcset,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:R,onLoad:ae,onError:ce},null),O=(Ge=d.sources)==null?void 0:Ge.call(d);return j($y,{transition:n.transition,appear:!0},{default:()=>[Mn(O?j("picture",{class:"v-img__picture"},[O,Fe]):Fe,[[wo,I.value==="loaded"]])]})},Ze=()=>j($y,{transition:n.transition},{default:()=>[G.value.lazySrc&&I.value!=="loaded"&&j("img",{class:["v-img__img","v-img__img--preload",we.value],style:{objectPosition:n.position},src:G.value.lazySrc,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),Be=()=>d.placeholder?j($y,{transition:n.transition,appear:!0},{default:()=>[(I.value==="loading"||I.value==="error"&&!d.error)&&j("div",{class:"v-img__placeholder"},[d.placeholder()])]}):null,Me=()=>d.error?j($y,{transition:n.transition,appear:!0},{default:()=>[I.value==="error"&&j("div",{class:"v-img__error"},[d.error()])]}):null,Xe=()=>n.gradient?j("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,Ee=Oo(!1);{const Fe=Rn(W,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Ee.value=!0})}),Fe())})}return yr(()=>{const Fe=pq.filterProps(n);return Mn(j(pq,jo({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!Ee.value},g.value,x.value,n.class],style:[{width:br(n.width==="auto"?V.value:n.width)},v.value,n.style]},Fe,{aspectRatio:W.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>j(ir,null,[j(le,null,null),j(Ze,null,null),j(Xe,null,null),j(Be,null,null),j(Me,null,null)]),default:d.default}),[[Qy("intersect"),{handler:te,options:n.options},null,{once:!0}]])}),{currentSrc:N,image:R,state:I,naturalWidth:V,naturalHeight:$}}}),mpe=In({start:Boolean,end:Boolean,icon:mi,image:String,text:String,...P1(),...Vr(),...Lg(),...pm(),...RD(),...Qi(),...ul(),...F1({variant:"flat"})},"VAvatar"),Yy=No()({name:"VAvatar",props:mpe(),setup(n,s){let{slots:l}=s;const{themeClasses:d}=Zl(n),{borderClasses:g}=M1(n),{colorClasses:v,colorStyles:x,variantClasses:_}=oE(n),{densityClasses:N}=Jh(n),{roundedClasses:R}=vm(n),{sizeClasses:I,sizeStyles:V}=ID(n);return yr(()=>j(n.tag,{class:["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},d.value,g.value,v.value,N.value,R.value,I.value,_.value,n.class],style:[x.value,V.value,n.style]},{default:()=>[l.default?j(xa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[l.default()]}):n.image?j(PD,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?j(jn,{key:"icon",icon:n.icon},null):n.text,nE(!1,"v-avatar")]})),{}}}),gpe=In({appendAvatar:String,appendIcon:mi,prependAvatar:String,prependIcon:mi,subtitle:[String,Number],title:[String,Number],...Vr(),...Lg()},"VCardItem"),hpe=No()({name:"VCardItem",props:gpe(),setup(n,s){let{slots:l}=s;return yr(()=>{var R;const d=!!(n.prependAvatar||n.prependIcon),g=!!(d||l.prepend),v=!!(n.appendAvatar||n.appendIcon),x=!!(v||l.append),_=!!(n.title!=null||l.title),N=!!(n.subtitle!=null||l.subtitle);return j("div",{class:["v-card-item",n.class],style:n.style},[g&&j("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?j(xa,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},l.prepend):j(ir,null,[n.prependAvatar&&j(Yy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(jn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),j("div",{class:"v-card-item__content"},[_&&j(u8,{key:"title"},{default:()=>{var I;return[((I=l.title)==null?void 0:I.call(l))??n.title]}}),N&&j(cpe,{key:"subtitle"},{default:()=>{var I;return[((I=l.subtitle)==null?void 0:I.call(l))??n.subtitle]}}),(R=l.default)==null?void 0:R.call(l)]),x&&j("div",{key:"append",class:"v-card-item__append"},[l.append?j(xa,{key:"append-defaults",disabled:!v,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},l.append):j(ir,null,[n.appendIcon&&j(jn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(Yy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),ppe=In({opacity:[Number,String],...Vr(),...Qi()},"VCardText"),Wh=No()({name:"VCardText",props:ppe(),setup(n,s){let{slots:l}=s;return yr(()=>j(n.tag,{class:["v-card-text",n.class],style:[{"--v-card-text-opacity":n.opacity},n.style]},l)),{}}}),vpe=In({appendAvatar:String,appendIcon:mi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...P1(),...Vr(),...Lg(),...Qh(),...B1(),...GU(),...i8(),...YU(),...pm(),...c8(),...Qi(),...ul(),...F1({variant:"elevated"})},"VCard"),bv=No()({name:"VCard",directives:{Ripple:ND},props:vpe(),setup(n,s){let{attrs:l,slots:d}=s;const{themeClasses:g}=Zl(n),{borderClasses:v}=M1(n),{colorClasses:x,colorStyles:_,variantClasses:N}=oE(n),{densityClasses:R}=Jh(n),{dimensionStyles:I}=ep(n),{elevationClasses:V}=L1(n),{loaderClasses:$}=qU(n),{locationStyles:G}=a8(n),{positionClasses:W}=XU(n),{roundedClasses:te}=vm(n),ae=l8(n,l),ce=qe(()=>n.link!==!1&&ae.isLink.value),Ve=qe(()=>!n.disabled&&n.link!==!1&&(n.link||ae.isClickable.value));return yr(()=>{const Ce=ce.value?"a":n.tag,ee=!!(d.title||n.title!=null),we=!!(d.subtitle||n.subtitle!=null),le=ee||we,Ze=!!(d.append||n.appendAvatar||n.appendIcon),Be=!!(d.prepend||n.prependAvatar||n.prependIcon),Me=!!(d.image||n.image),Xe=le||Be||Ze,Ee=!!(d.text||n.text!=null);return Mn(j(Ce,jo({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":Ve.value},g.value,v.value,x.value,R.value,V.value,$.value,W.value,te.value,N.value,n.class],style:[_.value,I.value,G.value,n.style],onClick:Ve.value&&ae.navigate,tabindex:n.disabled?-1:void 0},ae.linkProps),{default:()=>{var Fe;return[Me&&j("div",{key:"image",class:"v-card__image"},[d.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},d.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(OJ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:d.loader}),Xe&&j(hpe,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:d.item,prepend:d.prepend,title:d.title,subtitle:d.subtitle,append:d.append}),Ee&&j(Wh,{key:"text"},{default:()=>{var O;return[((O=d.text)==null?void 0:O.call(d))??n.text]}}),(Fe=d.default)==null?void 0:Fe.call(d),d.actions&&j(Uh,null,{default:d.actions}),nE(Ve.value,"v-card")]}}),[[Qy("ripple"),Ve.value&&n.ripple]])}),{}}}),bpe=In({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function bm(n,s,l){return No()({name:n,props:bpe({mode:l,origin:s}),setup(d,g){let{slots:v}=g;const x={onBeforeEnter(_){d.origin&&(_.style.transformOrigin=d.origin)},onLeave(_){if(d.leaveAbsolute){const{offsetTop:N,offsetLeft:R,offsetWidth:I,offsetHeight:V}=_;_._transitionInitialStyles={position:_.style.position,top:_.style.top,left:_.style.left,width:_.style.width,height:_.style.height},_.style.position="absolute",_.style.top=`${N}px`,_.style.left=`${R}px`,_.style.width=`${I}px`,_.style.height=`${V}px`}d.hideOnLeave&&_.style.setProperty("display","none","important")},onAfterLeave(_){if(d.leaveAbsolute&&(_!=null&&_._transitionInitialStyles)){const{position:N,top:R,left:I,width:V,height:$}=_._transitionInitialStyles;delete _._transitionInitialStyles,_.style.position=N||"",_.style.top=R||"",_.style.left=I||"",_.style.width=V||"",_.style.height=$||""}}};return()=>{const _=d.group?OU:Ky;return _v(_,{name:d.disabled?"":n,css:!d.disabled,...d.group?void 0:{mode:d.mode},...d.disabled?{}:x},v.default)}}})}function HJ(n,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return No()({name:n,props:{mode:{type:String,default:l},disabled:Boolean,group:Boolean},setup(d,g){let{slots:v}=g;const x=d.group?OU:Ky;return()=>_v(x,{name:d.disabled?"":n,css:!d.disabled,...d.disabled?{}:s},v.default)}})}function $J(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",d=gm(`offset-${l}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[l]:x.style[l]}},onEnter(x){const _=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const N=`${x[d]}px`;x.style[l]="0",x.offsetHeight,x.style.transition=_.transition,n&&x._parent&&x._parent.classList.add(n),requestAnimationFrame(()=>{x.style[l]=N})},onAfterEnter:v,onEnterCancelled:v,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[l]:x.style[l]},x.style.overflow="hidden",x.style[l]=`${x[d]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[l]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){n&&x._parent&&x._parent.classList.remove(n),v(x)}function v(x){const _=x._initialStyle[l];x.style.overflow=x._initialStyle.overflow,_!=null&&(x.style[l]=_),delete x._initialStyle}}const ype=In({target:[Object,Array]},"v-dialog-transition"),QU=No()({name:"VDialogTransition",props:ype(),setup(n,s){let{slots:l}=s;const d={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,v){var $;await new Promise(G=>requestAnimationFrame(G)),await new Promise(G=>requestAnimationFrame(G)),g.style.visibility="";const{x,y:_,sx:N,sy:R,speed:I}=bq(n.target,g),V=BS(g,[{transform:`translate(${x}px, ${_}px) scale(${N}, ${R})`,opacity:0},{}],{duration:225*I,easing:Ofe});($=vq(g))==null||$.forEach(G=>{BS(G,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*I,easing:wL})}),V.finished.then(()=>v())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,v){var $;await new Promise(G=>requestAnimationFrame(G));const{x,y:_,sx:N,sy:R,speed:I}=bq(n.target,g);BS(g,[{},{transform:`translate(${x}px, ${_}px) scale(${N}, ${R})`,opacity:0}],{duration:125*I,easing:Dfe}).finished.then(()=>v()),($=vq(g))==null||$.forEach(G=>{BS(G,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*I,easing:wL})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>n.target?j(Ky,jo({name:"dialog-transition"},d,{css:!1}),l):j(Ky,{name:"dialog-transition"},l)}});function vq(n){var l;const s=(l=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:l.children;return s&&[...s]}function bq(n,s){const l=wX(n),d=PU(s),[g,v]=getComputedStyle(s).transformOrigin.split(" ").map(ce=>parseFloat(ce)),[x,_]=getComputedStyle(s).getPropertyValue("--v-overlay-anchor-origin").split(" ");let N=l.left+l.width/2;x==="left"||_==="left"?N-=l.width/2:(x==="right"||_==="right")&&(N+=l.width/2);let R=l.top+l.height/2;x==="top"||_==="top"?R-=l.height/2:(x==="bottom"||_==="bottom")&&(R+=l.height/2);const I=l.width/d.width,V=l.height/d.height,$=Math.max(1,I,V),G=I/$||0,W=V/$||0,te=d.width*d.height/(window.innerWidth*window.innerHeight),ae=te>.12?Math.min(1.5,(te-.12)*10+1):1;return{x:N-(g+d.left),y:R-(v+d.top),sx:G,sy:W,speed:ae}}bm("fab-transition","center center","out-in");bm("dialog-bottom-transition");bm("dialog-top-transition");const yq=bm("fade-transition");bm("scale-transition");bm("scroll-x-transition");bm("scroll-x-reverse-transition");bm("scroll-y-transition");bm("scroll-y-reverse-transition");bm("slide-x-transition");bm("slide-x-reverse-transition");const UJ=bm("slide-y-transition");bm("slide-y-reverse-transition");const WJ=HJ("expand-transition",$J()),ZJ=HJ("expand-x-transition",$J("",!0));function c$(n,s){return{x:n.x+s.x,y:n.y+s.y}}function xpe(n,s){return{x:n.x-s.x,y:n.y-s.y}}function xq(n,s){if(n.side==="top"||n.side==="bottom"){const{side:l,align:d}=n,g=d==="left"?0:d==="center"?s.width/2:d==="right"?s.width:d,v=l==="top"?0:l==="bottom"?s.height:l;return c$({x:g,y:v},s)}else if(n.side==="left"||n.side==="right"){const{side:l,align:d}=n,g=l==="left"?0:l==="right"?s.width:l,v=d==="top"?0:d==="center"?s.height/2:d==="bottom"?s.height:d;return c$({x:g,y:v},s)}return c$({x:s.width/2,y:s.height/2},s)}const jJ={static:_pe,connected:Spe},wpe=In({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in jJ},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Cpe(n,s){const l=Bn({}),d=Bn();fi&&Ng(()=>!!(s.isActive.value&&n.locationStrategy),v=>{var x,_;Rn(()=>n.locationStrategy,v),Iu(()=>{window.removeEventListener("resize",g),d.value=void 0}),window.addEventListener("resize",g,{passive:!0}),typeof n.locationStrategy=="function"?d.value=(x=n.locationStrategy(s,n,l))==null?void 0:x.updateLocation:d.value=(_=jJ[n.locationStrategy](s,n,l))==null?void 0:_.updateLocation});function g(v){var x;(x=d.value)==null||x.call(d,v)}return{contentStyles:l,updateLocation:d}}function _pe(){}function kpe(n,s){const l=PU(n);return s?l.x+=parseFloat(n.style.right||0):l.x-=parseFloat(n.style.left||0),l.y-=parseFloat(n.style.top||0),l}function Spe(n,s,l){(Array.isArray(n.target.value)||Ife(n.target.value))&&Object.assign(l.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:v}=IU(()=>{const W=R$(s.location,n.isRtl.value),te=s.origin==="overlap"?W:s.origin==="auto"?GH(W):R$(s.origin,n.isRtl.value);return W.side===te.side&&W.align===qH(te).align?{preferredAnchor:yG(W),preferredOrigin:yG(te)}:{preferredAnchor:W,preferredOrigin:te}}),[x,_,N,R]=["minWidth","minHeight","maxWidth","maxHeight"].map(W=>qe(()=>{const te=parseFloat(s[W]);return isNaN(te)?1/0:te})),I=qe(()=>{if(Array.isArray(s.offset))return s.offset;if(typeof s.offset=="string"){const W=s.offset.split(" ").map(parseFloat);return W.length<2&&W.push(0),W}return typeof s.offset=="number"?[s.offset,0]:[0,0]});let V=!1;const $=new ResizeObserver(()=>{V&&G()});Rn([n.target,n.contentEl],(W,te)=>{let[ae,ce]=W,[Ve,Ce]=te;Ve&&!Array.isArray(Ve)&&$.unobserve(Ve),ae&&!Array.isArray(ae)&&$.observe(ae),Ce&&$.unobserve(Ce),ce&&$.observe(ce)},{immediate:!0}),Iu(()=>{$.disconnect()});function G(){if(V=!1,requestAnimationFrame(()=>V=!0),!n.target.value||!n.contentEl.value)return;const W=wX(n.target.value),te=kpe(n.contentEl.value,n.isRtl.value),ae=CL(n.contentEl.value),ce=12;ae.length||(ae.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(te.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),te.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Ve=ae.reduce((Ee,Fe)=>{const O=Fe.getBoundingClientRect(),Ge=new aC({x:Fe===document.documentElement?0:O.x,y:Fe===document.documentElement?0:O.y,width:Fe.clientWidth,height:Fe.clientHeight});return Ee?new aC({x:Math.max(Ee.left,Ge.left),y:Math.max(Ee.top,Ge.top),width:Math.min(Ee.right,Ge.right)-Math.max(Ee.left,Ge.left),height:Math.min(Ee.bottom,Ge.bottom)-Math.max(Ee.top,Ge.top)}):Ge},void 0);Ve.x+=ce,Ve.y+=ce,Ve.width-=ce*2,Ve.height-=ce*2;let Ce={anchor:g.value,origin:v.value};function ee(Ee){const Fe=new aC(te),O=xq(Ee.anchor,W),Ge=xq(Ee.origin,Fe);let{x:ct,y:$t}=xpe(O,Ge);switch(Ee.anchor.side){case"top":$t-=I.value[0];break;case"bottom":$t+=I.value[0];break;case"left":ct-=I.value[0];break;case"right":ct+=I.value[0];break}switch(Ee.anchor.align){case"top":$t-=I.value[1];break;case"bottom":$t+=I.value[1];break;case"left":ct-=I.value[1];break;case"right":ct+=I.value[1];break}return Fe.x+=ct,Fe.y+=$t,Fe.width=Math.min(Fe.width,N.value),Fe.height=Math.min(Fe.height,R.value),{overflows:wG(Fe,Ve),x:ct,y:$t}}let we=0,le=0;const Ze={x:0,y:0},Be={x:!1,y:!1};let Me=-1;for(;!(Me++>10);){const{x:Ee,y:Fe,overflows:O}=ee(Ce);we+=Ee,le+=Fe,te.x+=Ee,te.y+=Fe;{const Ge=xG(Ce.anchor),ct=O.x.before||O.x.after,$t=O.y.before||O.y.after;let Jt=!1;if(["x","y"].forEach(tt=>{if(tt==="x"&&ct&&!Be.x||tt==="y"&&$t&&!Be.y){const pt={anchor:{...Ce.anchor},origin:{...Ce.origin}},Lt=tt==="x"?Ge==="y"?qH:GH:Ge==="y"?GH:qH;pt.anchor=Lt(pt.anchor),pt.origin=Lt(pt.origin);const{overflows:nt}=ee(pt);(nt[tt].before<=O[tt].before&&nt[tt].after<=O[tt].after||nt[tt].before+nt[tt].after<(O[tt].before+O[tt].after)/2)&&(Ce=pt,Jt=Be[tt]=!0)}}),Jt)continue}O.x.before&&(we+=O.x.before,te.x+=O.x.before),O.x.after&&(we-=O.x.after,te.x-=O.x.after),O.y.before&&(le+=O.y.before,te.y+=O.y.before),O.y.after&&(le-=O.y.after,te.y-=O.y.after);{const Ge=wG(te,Ve);Ze.x=Ve.width-Ge.x.before-Ge.x.after,Ze.y=Ve.height-Ge.y.before-Ge.y.after,we+=Ge.x.before,te.x+=Ge.x.before,le+=Ge.y.before,te.y+=Ge.y.before}break}const Xe=xG(Ce.anchor);return Object.assign(l.value,{"--v-overlay-anchor-origin":`${Ce.anchor.side} ${Ce.anchor.align}`,transformOrigin:`${Ce.origin.side} ${Ce.origin.align}`,top:br(u$(le)),left:n.isRtl.value?void 0:br(u$(we)),right:n.isRtl.value?br(u$(-we)):void 0,minWidth:br(Xe==="y"?Math.min(x.value,W.width):x.value),maxWidth:br(wq(jh(Ze.x,x.value===1/0?0:x.value,N.value))),maxHeight:br(wq(jh(Ze.y,_.value===1/0?0:_.value,R.value)))}),{available:Ze,contentBox:te}}return Rn(()=>[g.value,v.value,s.offset,s.minWidth,s.minHeight,s.maxWidth,s.maxHeight],()=>G()),Er(()=>{const W=G();if(!W)return;const{available:te,contentBox:ae}=W;ae.height>te.y&&requestAnimationFrame(()=>{G(),requestAnimationFrame(()=>{G()})})}),{updateLocation:G}}function u$(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function wq(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let X$=!0;const RL=[];function Epe(n){!X$||RL.length?(RL.push(n),J$()):(X$=!1,n(),J$())}let Cq=-1;function J$(){cancelAnimationFrame(Cq),Cq=requestAnimationFrame(()=>{const n=RL.shift();n&&n(),RL.length?J$():X$=!0})}const aL={none:null,close:Ope,block:Dpe,reposition:Rpe},Ape=In({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in aL}},"VOverlay-scroll-strategies");function Tpe(n,s){if(!fi)return;let l;df(async()=>{l==null||l.stop(),s.isActive.value&&n.scrollStrategy&&(l=CD(),await new Promise(d=>setTimeout(d)),l.active&&l.run(()=>{var d;typeof n.scrollStrategy=="function"?n.scrollStrategy(s,n,l):(d=aL[n.scrollStrategy])==null||d.call(aL,s,n,l)}))}),Iu(()=>{l==null||l.stop()})}function Ope(n){function s(l){n.isActive.value=!1}KJ(n.targetEl.value??n.contentEl.value,s)}function Dpe(n,s){var x;const l=(x=n.root.value)==null?void 0:x.offsetParent,d=[...new Set([...CL(n.targetEl.value,s.contained?l:void 0),...CL(n.contentEl.value,s.contained?l:void 0)])].filter(_=>!_.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,v=(_=>LU(_)&&_)(l||document.documentElement);v&&n.root.value.classList.add("v-overlay--scroll-blocked"),d.forEach((_,N)=>{_.style.setProperty("--v-body-scroll-x",br(-_.scrollLeft)),_.style.setProperty("--v-body-scroll-y",br(-_.scrollTop)),_!==document.documentElement&&_.style.setProperty("--v-scrollbar-offset",br(g)),_.classList.add("v-overlay-scroll-blocked")}),Iu(()=>{d.forEach((_,N)=>{const R=parseFloat(_.style.getPropertyValue("--v-body-scroll-x")),I=parseFloat(_.style.getPropertyValue("--v-body-scroll-y")),V=_.style.scrollBehavior;_.style.scrollBehavior="auto",_.style.removeProperty("--v-body-scroll-x"),_.style.removeProperty("--v-body-scroll-y"),_.style.removeProperty("--v-scrollbar-offset"),_.classList.remove("v-overlay-scroll-blocked"),_.scrollLeft=-R,_.scrollTop=-I,_.style.scrollBehavior=V}),v&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Rpe(n,s,l){let d=!1,g=-1,v=-1;function x(_){Epe(()=>{var I,V;const N=performance.now();(V=(I=n.updateLocation).value)==null||V.call(I,_),d=(performance.now()-N)/(1e3/60)>2})}v=(typeof requestIdleCallback>"u"?_=>_():requestIdleCallback)(()=>{l.run(()=>{KJ(n.targetEl.value??n.contentEl.value,_=>{d?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(_)})})):x(_)})})}),Iu(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(v),cancelAnimationFrame(g)})}function KJ(n,s){const l=[document,...CL(n)];l.forEach(d=>{d.addEventListener("scroll",s,{passive:!0})}),Iu(()=>{l.forEach(d=>{d.removeEventListener("scroll",s)})})}const Q$=Symbol.for("vuetify:v-menu"),GJ=In({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function qJ(n,s){let l=()=>{};function d(x){l==null||l();const _=Number(x?n.openDelay:n.closeDelay);return new Promise(N=>{l=Jde(_,()=>{s==null||s(x),N(x)})})}function g(){return d(!0)}function v(){return d(!1)}return{clearDelay:l,runOpenDelay:g,runCloseDelay:v}}const Ipe=In({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...GJ()},"VOverlay-activator");function Npe(n,s){let{isActive:l,isTop:d,contentEl:g}=s;const v=Rl("useActivator"),x=Bn();let _=!1,N=!1,R=!0;const I=qe(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),V=qe(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!I.value),{runOpenDelay:$,runCloseDelay:G}=qJ(n,Be=>{Be===(n.openOnHover&&_||I.value&&N)&&!(n.openOnHover&&l.value&&!d.value)&&(l.value!==Be&&(R=!0),l.value=Be)}),W=Bn(),te={onClick:Be=>{Be.stopPropagation(),x.value=Be.currentTarget||Be.target,l.value||(W.value=[Be.clientX,Be.clientY]),l.value=!l.value},onMouseenter:Be=>{var Me;(Me=Be.sourceCapabilities)!=null&&Me.firesTouchEvents||(_=!0,x.value=Be.currentTarget||Be.target,$())},onMouseleave:Be=>{_=!1,G()},onFocus:Be=>{ZS(Be.target,":focus-visible")!==!1&&(N=!0,Be.stopPropagation(),x.value=Be.currentTarget||Be.target,$())},onBlur:Be=>{N=!1,Be.stopPropagation(),G()}},ae=qe(()=>{const Be={};return V.value&&(Be.onClick=te.onClick),n.openOnHover&&(Be.onMouseenter=te.onMouseenter,Be.onMouseleave=te.onMouseleave),I.value&&(Be.onFocus=te.onFocus,Be.onBlur=te.onBlur),Be}),ce=qe(()=>{const Be={};if(n.openOnHover&&(Be.onMouseenter=()=>{_=!0,$()},Be.onMouseleave=()=>{_=!1,G()}),I.value&&(Be.onFocusin=()=>{N=!0,$()},Be.onFocusout=()=>{N=!1,G()}),n.closeOnContentClick){const Me=wa(Q$,null);Be.onClick=()=>{l.value=!1,Me==null||Me.closeParents()}}return Be}),Ve=qe(()=>{const Be={};return n.openOnHover&&(Be.onMouseenter=()=>{R&&(_=!0,R=!1,$())},Be.onMouseleave=()=>{_=!1,G()}),Be});Rn(d,Be=>{var Me;Be&&(n.openOnHover&&!_&&(!I.value||!N)||I.value&&!N&&(!n.openOnHover||!_))&&!((Me=g.value)!=null&&Me.contains(document.activeElement))&&(l.value=!1)}),Rn(l,Be=>{Be||setTimeout(()=>{W.value=void 0})},{flush:"post"});const Ce=O$();df(()=>{Ce.value&&Er(()=>{x.value=Ce.el})});const ee=O$(),we=qe(()=>n.target==="cursor"&&W.value?W.value:ee.value?ee.el:YJ(n.target,v)||x.value),le=qe(()=>Array.isArray(we.value)?void 0:we.value);let Ze;return Rn(()=>!!n.activator,Be=>{Be&&fi?(Ze=CD(),Ze.run(()=>{Ppe(n,v,{activatorEl:x,activatorEvents:ae})})):Ze&&Ze.stop()},{flush:"post",immediate:!0}),Iu(()=>{Ze==null||Ze.stop()}),{activatorEl:x,activatorRef:Ce,target:we,targetEl:le,targetRef:ee,activatorEvents:ae,contentEvents:ce,scrimEvents:Ve}}function Ppe(n,s,l){let{activatorEl:d,activatorEvents:g}=l;Rn(()=>n.activator,(N,R)=>{if(R&&N!==R){const I=_(R);I&&x(I)}N&&Er(()=>v())},{immediate:!0}),Rn(()=>n.activatorProps,()=>{v()}),Iu(()=>{x()});function v(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;N&&tfe(N,jo(g.value,R))}function x(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_(),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;N&&nfe(N,jo(g.value,R))}function _(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const R=YJ(N,s);return d.value=(R==null?void 0:R.nodeType)===Node.ELEMENT_NODE?R:void 0,d.value}}function YJ(n,s){var d,g;if(!n)return;let l;if(n==="parent"){let v=(g=(d=s==null?void 0:s.proxy)==null?void 0:d.$el)==null?void 0:g.parentNode;for(;v!=null&&v.hasAttribute("data-no-activator");)v=v.parentNode;l=v}else typeof n=="string"?l=document.querySelector(n):"$el"in n?l=n.$el:l=n;return l}function Mpe(){if(!fi)return Oo(!1);const{ssr:n}=JL();if(n){const s=Oo(!1);return Nu(()=>{s.value=!0}),s}else return Oo(!0)}const Bpe=In({eager:Boolean},"lazy");function Lpe(n,s){const l=Oo(!1),d=qe(()=>l.value||n.eager||s.value);Rn(s,()=>l.value=!0);function g(){n.eager||(l.value=!1)}return{isBooted:l,hasContent:d,onAfterLeave:g}}function d8(){const s=Rl("useScopeId").vnode.scopeId;return{scopeId:s?{[s]:""}:void 0}}const _q=Symbol.for("vuetify:stack"),MO=Ul([]);function Fpe(n,s,l){const d=Rl("useStack"),g=!l,v=wa(_q,void 0),x=Ul({activeChildren:new Set});_d(_q,x);const _=Oo(+s.value);Ng(n,()=>{var V;const I=(V=MO.at(-1))==null?void 0:V[1];_.value=I?I+10:+s.value,g&&MO.push([d.uid,_.value]),v==null||v.activeChildren.add(d.uid),Iu(()=>{if(g){const $=sr(MO).findIndex(G=>G[0]===d.uid);MO.splice($,1)}v==null||v.activeChildren.delete(d.uid)})});const N=Oo(!0);g&&df(()=>{var V;const I=((V=MO.at(-1))==null?void 0:V[0])===d.uid;setTimeout(()=>N.value=I)});const R=qe(()=>!x.activeChildren.size);return{globalTop:_D(N),localTop:R,stackStyles:qe(()=>({zIndex:_.value}))}}function Vpe(n){return{teleportTarget:qe(()=>{const l=n();if(l===!0||!fi)return;const d=l===!1?document.body:typeof l=="string"?document.querySelector(l):l;if(d==null)return;let g=[...d.children].find(v=>v.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",d.appendChild(g)),g})}}function zpe(){return!0}function XJ(n,s,l){if(!n||JJ(n,l)===!1)return!1;const d=TX(s);if(typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&d.host===n.target)return!1;const g=(typeof l.value=="object"&&l.value.include||(()=>[]))();return g.push(s),!g.some(v=>v==null?void 0:v.contains(n.target))}function JJ(n,s){return(typeof s.value=="object"&&s.value.closeConditional||zpe)(n)}function Hpe(n,s,l){const d=typeof l.value=="function"?l.value:l.value.handler;n.shadowTarget=n.target,s._clickOutside.lastMousedownWasOutside&&XJ(n,s,l)&&setTimeout(()=>{JJ(n,l)&&d&&d(n)},0)}function kq(n,s){const l=TX(n);s(document),typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&s(l)}const $pe={mounted(n,s){const l=g=>Hpe(g,n,s),d=g=>{n._clickOutside.lastMousedownWasOutside=XJ(g,n,s)};kq(n,g=>{g.addEventListener("click",l,!0),g.addEventListener("mousedown",d,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[s.instance.$.uid]={onClick:l,onMousedown:d}},beforeUnmount(n,s){n._clickOutside&&(kq(n,l=>{var v;if(!l||!((v=n._clickOutside)!=null&&v[s.instance.$.uid]))return;const{onClick:d,onMousedown:g}=n._clickOutside[s.instance.$.uid];l.removeEventListener("click",d,!0),l.removeEventListener("mousedown",g,!0)}),delete n._clickOutside[s.instance.$.uid])}};function Upe(n){const{modelValue:s,color:l,...d}=n;return j(Ky,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&j("div",jo({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},d),null)]})}const eW=In({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ipe(),...Vr(),...Qh(),...Bpe(),...wpe(),...Ape(),...ul(),...rE()},"VOverlay"),IL=No()({name:"VOverlay",directives:{ClickOutside:$pe},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...eW()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,s){let{slots:l,attrs:d,emit:g}=s;const v=Rl("VOverlay"),x=Bn(),_=Bn(),N=Bn(),R=Hi(n,"modelValue"),I=qe({get:()=>R.value,set:fn=>{fn&&n.disabled||(R.value=fn)}}),{themeClasses:V}=Zl(n),{rtlClasses:$,isRtl:G}=Bg(),{hasContent:W,onAfterLeave:te}=Lpe(n,I),ae=Kh(qe(()=>typeof n.scrim=="string"?n.scrim:null)),{globalTop:ce,localTop:Ve,stackStyles:Ce}=Fpe(I,tr(n,"zIndex"),n._disableGlobalStack),{activatorEl:ee,activatorRef:we,target:le,targetEl:Ze,targetRef:Be,activatorEvents:Me,contentEvents:Xe,scrimEvents:Ee}=Npe(n,{isActive:I,isTop:Ve,contentEl:N}),{teleportTarget:Fe}=Vpe(()=>{var J,Cr,eo;const fn=n.attach||n.contained;if(fn)return fn;const kn=((J=ee==null?void 0:ee.value)==null?void 0:J.getRootNode())||((eo=(Cr=v.proxy)==null?void 0:Cr.$el)==null?void 0:eo.getRootNode());return kn instanceof ShadowRoot?kn:!1}),{dimensionStyles:O}=ep(n),Ge=Mpe(),{scopeId:ct}=d8();Rn(()=>n.disabled,fn=>{fn&&(I.value=!1)});const{contentStyles:$t,updateLocation:Jt}=Cpe(n,{isRtl:G,contentEl:N,target:le,isActive:I});Tpe(n,{root:x,contentEl:N,targetEl:Ze,isActive:I,updateLocation:Jt});function tt(fn){g("click:outside",fn),n.persistent?Mt():I.value=!1}function pt(fn){return I.value&&ce.value&&(!n.scrim||fn.target===_.value||fn instanceof MouseEvent&&fn.shadowTarget===_.value)}fi&&Rn(I,fn=>{fn?window.addEventListener("keydown",Lt):window.removeEventListener("keydown",Lt)},{immediate:!0}),Cc(()=>{fi&&window.removeEventListener("keydown",Lt)});function Lt(fn){var kn,J;fn.key==="Escape"&&ce.value&&(n.persistent?Mt():(I.value=!1,(kn=N.value)!=null&&kn.contains(document.activeElement)&&((J=ee.value)==null||J.focus())))}const nt=DJ();Ng(()=>n.closeOnBack,()=>{epe(nt,fn=>{ce.value&&I.value?(fn(!1),n.persistent?Mt():I.value=!1):fn()})});const Ye=Bn();Rn(()=>I.value&&(n.absolute||n.contained)&&Fe.value==null,fn=>{if(fn){const kn=OX(x.value);kn&&kn!==document.scrollingElement&&(Ye.value=kn.scrollTop)}});function Mt(){n.noClickAnimation||N.value&&BS(N.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:wL})}function oo(){g("afterEnter")}function zn(){te(),g("afterLeave")}return yr(()=>{var fn;return j(ir,null,[(fn=l.activator)==null?void 0:fn.call(l,{isActive:I.value,targetRef:Be,props:jo({ref:we},Me.value,n.activatorProps)}),Ge.value&&W.value&&j(cue,{disabled:!Fe.value,to:Fe.value},{default:()=>[j("div",jo({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":I.value,"v-overlay--contained":n.contained},V.value,$.value,n.class],style:[Ce.value,{"--v-overlay-opacity":n.opacity,top:br(Ye.value)},n.style],ref:x},ct,d),[j(Upe,jo({color:ae,modelValue:I.value&&!!n.scrim,ref:_},Ee.value),null),j($y,{appear:!0,persisted:!0,transition:n.transition,target:le.value,onAfterEnter:oo,onAfterLeave:zn},{default:()=>{var kn;return[Mn(j("div",jo({ref:N,class:["v-overlay__content",n.contentClass],style:[O.value,$t.value]},Xe.value,n.contentProps),[(kn=l.default)==null?void 0:kn.call(l,{isActive:I})]),[[wo,I.value],[Qy("click-outside"),{handler:tt,closeConditional:pt,include:()=>[ee.value]}]])]}})])]})])}),{activatorEl:ee,scrimEl:_,target:le,animateClick:Mt,contentEl:N,globalTop:ce,localTop:Ve,updateLocation:Jt}}}),d$=Symbol("Forwarded refs");function f$(n,s){let l=n;for(;l;){const d=Reflect.getOwnPropertyDescriptor(l,s);if(d)return d;l=Object.getPrototypeOf(l)}}function sE(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];return n[d$]=l,new Proxy(n,{get(g,v){if(Reflect.has(g,v))return Reflect.get(g,v);if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const x of l)if(x.value&&Reflect.has(x.value,v)){const _=Reflect.get(x.value,v);return typeof _=="function"?_.bind(x.value):_}}},has(g,v){if(Reflect.has(g,v))return!0;if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const x of l)if(x.value&&Reflect.has(x.value,v))return!0;return!1},set(g,v,x){if(Reflect.has(g,v))return Reflect.set(g,v,x);if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const _ of l)if(_.value&&Reflect.has(_.value,v))return Reflect.set(_.value,v,x);return!1},getOwnPropertyDescriptor(g,v){var _;const x=Reflect.getOwnPropertyDescriptor(g,v);if(x)return x;if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const N of l){if(!N.value)continue;const R=f$(N.value,v)??("_"in N.value?f$((_=N.value._)==null?void 0:_.setupState,v):void 0);if(R)return R}for(const N of l){const R=N.value&&N.value[d$];if(!R)continue;const I=R.slice();for(;I.length;){const V=I.shift(),$=f$(V.value,v);if($)return $;const G=V.value&&V.value[d$];G&&I.push(...G)}}}}})}const Wpe=In({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...eW({origin:"center center",scrollStrategy:"block",transition:{component:QU},zIndex:2400})},"VDialog"),yv=No()({name:"VDialog",props:Wpe(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,s){let{emit:l,slots:d}=s;const g=Hi(n,"modelValue"),{scopeId:v}=d8(),x=Bn();function _(I){var G,W;const V=I.relatedTarget,$=I.target;if(V!==$&&((G=x.value)!=null&&G.contentEl)&&((W=x.value)!=null&&W.globalTop)&&![document,x.value.contentEl].includes($)&&!x.value.contentEl.contains($)){const te=tD(x.value.contentEl);if(!te.length)return;const ae=te[0],ce=te[te.length-1];V===ae?ce.focus():ae.focus()}}fi&&Rn(()=>g.value&&n.retainFocus,I=>{I?document.addEventListener("focusin",_):document.removeEventListener("focusin",_)},{immediate:!0});function N(){var I;l("afterEnter"),(I=x.value)!=null&&I.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function R(){l("afterLeave")}return Rn(g,async I=>{var V;I||(await Er(),(V=x.value.activatorEl)==null||V.focus({preventScroll:!0}))}),yr(()=>{const I=IL.filterProps(n),V=jo({"aria-haspopup":"dialog"},n.activatorProps),$=jo({tabindex:-1},n.contentProps);return j(IL,jo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},I,{modelValue:g.value,"onUpdate:modelValue":G=>g.value=G,"aria-modal":"true",activatorProps:V,contentProps:$,role:"dialog",onAfterEnter:N,onAfterLeave:R},v),{activator:d.activator,default:function(){for(var G=arguments.length,W=new Array(G),te=0;te<G;te++)W[te]=arguments[te];return j(xa,{root:"VDialog"},{default:()=>{var ae;return[(ae=d.default)==null?void 0:ae.call(d,...W)]}})}})}),sE({},x)}}),Zpe=In({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Vr(),...Lg(),...Qi(),...ul()},"VTable"),$h=No()({name:"VTable",props:Zpe(),setup(n,s){let{slots:l,emit:d}=s;const{themeClasses:g}=Zl(n),{densityClasses:v}=Jh(n);return yr(()=>j(n.tag,{class:["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":n.hover},g.value,v.value,n.class],style:n.style},{default:()=>{var x,_,N;return[(x=l.top)==null?void 0:x.call(l),l.default?j("div",{class:"v-table__wrapper",style:{height:br(n.height)}},[j("table",null,[l.default()])]):(_=l.wrapper)==null?void 0:_.call(l),(N=l.bottom)==null?void 0:N.call(l)]}})),{}}}),jpe={__name:"Help",setup(n){const s=Dl();return(l,d)=>(_n(),Bo(ir,null,[j(vo,{class:"app-header-item",onClick:d[0]||(d[0]=g=>oe(s).showHelp=!0)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-help"}),d[3]||(d[3]=Hs(" Hilfe "))]),_:1}),j(yv,{modelValue:oe(s).showHelp,"onUpdate:modelValue":d[2]||(d[2]=g=>oe(s).showHelp=g),"max-width":"1000"},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>[d[9]||(d[9]=ye("h1",null,"Allgemeine Navigation",-1)),j($h,null,{default:Ct(()=>d[4]||(d[4]=[ye("thead",null,[ye("tr",null,[ye("th",{width:"50%"},"Aktion"),ye("th",{width:"50%"},"Tastenkombination")])],-1),ye("tbody",null,[ye("tr",null,[ye("td",null,"Nchstes Element"),ye("td",null,"Tab")]),ye("tr",null,[ye("td",null,"Vorheriges Element"),ye("td",null,"Shift + Tab")]),ye("tr",null,[ye("td",null,"Header Schaltflchen"),ye("td",null,"Alt + 0")]),ye("tr",null,[ye("td",null,"Navigationsleiste Schaltflchen"),ye("td",null,"Alt + #")]),ye("tr",null,[ye("td",null,"Inhalt linke Spalte"),ye("td",null,"Alt + 1")]),ye("tr",null,[ye("td",null,"Inhalt rechte Spalte"),ye("td",null,"Alt + 2")])],-1)])),_:1}),d[10]||(d[10]=ye("h1",null,"Abgabe-Text",-1)),j($h,null,{default:Ct(()=>d[5]||(d[5]=[ye("thead",null,[ye("tr",null,[ye("th",{width:"50%"},"Aktion"),ye("th",{width:"50%"},"Tastenkombination")])],-1),ye("tbody",null,[ye("tr",null,[ye("td",null,"Cursor bewegen"),ye("td",null,"Pfeiltasten")]),ye("tr",null,[ye("td",null,"Text auswhlen"),ye("td",null,"Shift + Pfeiltasten")]),ye("tr",null,[ye("td",null,"Textauswahl entfernen"),ye("td",null,"Esc")]),ye("tr",null,[ye("td",null,"Anmerkung fr Auswahl erzeugen"),ye("td",null,"Eingabetaste wenn Text ausgewht")]),ye("tr",null,[ye("td",null,"Anmerkung bei Cursor anspringen"),ye("td",null,"Eingabetaste, wenn kein Text ausgewhlt")])],-1)])),_:1}),d[11]||(d[11]=ye("h1",null,"Anmerkungen",-1)),j($h,null,{default:Ct(()=>d[6]||(d[6]=[ye("thead",null,[ye("tr",null,[ye("th",{width:"50%"},"Aktion"),ye("th",{width:"50%"},"Tastenkombination")])],-1),ye("tbody",null,[ye("tr",null,[ye("td",null,"Bearbeitung ffnen"),ye("td",null,"Eingabetaste auf Etikett im Focus")]),ye("tr",null,[ye("td",null,"Zur Markierung im Text springen"),ye("td",null,"Alt + Eingabetaste")]),ye("tr",null,[ye("td",null,"Zu Bewertungskriterien springen (falls vorhanden)"),ye("td",null,"Eingabetaste auf Punkten im Focus")]),ye("tr",null,[ye("td",null,"Von Bewertungskriterien zurckkehren"),ye("td",null,"Esc")]),ye("tr",null,[ye("td",null,"Anmerkung lschen"),ye("td",null,"Alt + Entfernen")])],-1)])),_:1}),d[12]||(d[12]=ye("h1",null,"Navigation im Gutachten",-1)),j($h,null,{default:Ct(()=>d[7]||(d[7]=[ye("thead",null,[ye("tr",null,[ye("th",{width:"50%"},"Aktion"),ye("th",{width:"50%"},"Tastenkombination")])],-1),ye("tbody",null,[ye("tr",null,[ye("td",null,"In Symbolleiste wechseln"),ye("td",null,"Alt + F10")]),ye("tr",null,[ye("td",null,"Symbolleiste verlassen"),ye("td",null,"Esc")]),ye("tr",null,[ye("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),ye("td",null,"Pfeil links und rechts")]),ye("tr",null,[ye("td",null,"Popup der Absatzformate aufklappen"),ye("td",null,"Eingabetaste")]),ye("tr",null,[ye("td",null,"Im Popup zwischen Absatzformaten wechseln"),ye("td",null,"Pfeil abwrts und aufwrts")]),ye("tr",null,[ye("td",null,"Im Popup ein Absatzformat whlen"),ye("td",null,"Eingabetaste")]),ye("tr",null,[ye("td",null,"Popup der Absatzformate schlieen"),ye("td",null,"Esc")])],-1)])),_:1}),d[13]||(d[13]=ye("h1",null,"Tastenbefehle im Gutachten",-1)),j($h,null,{default:Ct(()=>d[8]||(d[8]=[ye("thead",null,[ye("tr",null,[ye("th",{width:"50%"},"Aktion"),ye("th",{width:"50%"},"Tastenkombination")])],-1),ye("tbody",null,[ye("tr",null,[ye("td",null,"Fett"),ye("td",null,"Ctrl + B")]),ye("tr",null,[ye("td",null,"Kursiv"),ye("td",null,"Ctrl + I")]),ye("tr",null,[ye("td",null,"Unterstrichen"),ye("td",null,"Ctrl + U")]),ye("tr",null,[ye("td",null,"Alles auswhlen"),ye("td",null,"Ctrl + A")]),ye("tr",null,[ye("td",null,"Wiederholen"),ye("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),ye("tr",null,[ye("td",null,"Rckgngig machen"),ye("td",null,"Ctrl + Z")]),ye("tr",null,[ye("td",null,"berschrift 1"),ye("td",null,"Shift + Alt + 1")]),ye("tr",null,[ye("td",null,"berschrift 2"),ye("td",null,"Shift + Alt + 2")]),ye("tr",null,[ye("td",null,"berschrift 3"),ye("td",null,"Shift + Alt + 3")]),ye("tr",null,[ye("td",null,"berschrift 4"),ye("td",null,"Shift + Alt + 4")]),ye("tr",null,[ye("td",null,"berschrift 5"),ye("td",null,"Shift + Alt + 5")]),ye("tr",null,[ye("td",null,"berschrift 6"),ye("td",null,"Shift + Alt + 6")]),ye("tr",null,[ye("td",null,"Absatz"),ye("td",null,"Shift + Alt + 7")])],-1)])),_:1})]),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:d[1]||(d[1]=g=>oe(s).showHelp=!1)},{default:Ct(()=>d[14]||(d[14]=[ye("span",null,"Hilfe schlieen",-1)])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Kpe=dl(jpe,[["__scopeId","data-v-92c9db22"]]),Gpe=In({text:String,onClick:lf(),...Vr(),...ul()},"VLabel"),QJ=No()({name:"VLabel",props:Gpe(),setup(n,s){let{slots:l}=s;return yr(()=>{var d;return j("label",{class:["v-label",{"v-label--clickable":!!n.onClick},n.class],style:n.style,onClick:n.onClick},[n.text,(d=l.default)==null?void 0:d.call(l)])}),{}}}),eQ=Symbol.for("vuetify:selection-control-group"),tQ=In({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:mi,trueIcon:mi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:JS},...Vr(),...Lg(),...ul()},"SelectionControlGroup"),qpe=In({...tQ({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");No()({name:"VSelectionControlGroup",props:qpe(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const d=Hi(n,"modelValue"),g=Mg(),v=qe(()=>n.id||`v-selection-control-group-${g}`),x=qe(()=>n.name||v.value),_=new Set;return _d(eQ,{modelValue:d,forceUpdate:()=>{_.forEach(N=>N())},onForceUpdate:N=>{_.add(N),Iu(()=>{_.delete(N)})}}),tx({[n.defaultsTarget]:{color:tr(n,"color"),disabled:tr(n,"disabled"),density:tr(n,"density"),error:tr(n,"error"),inline:tr(n,"inline"),modelValue:d,multiple:qe(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),name:x,falseIcon:tr(n,"falseIcon"),trueIcon:tr(n,"trueIcon"),readonly:tr(n,"readonly"),ripple:tr(n,"ripple"),type:tr(n,"type"),valueComparator:tr(n,"valueComparator")}}),yr(()=>{var N;return j("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class],style:n.style,role:n.type==="radio"?"radiogroup":void 0},[(N=l.default)==null?void 0:N.call(l)])}),{}}});const nQ=In({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Vr(),...tQ()},"VSelectionControl");function Ype(n){const s=wa(eQ,void 0),{densityClasses:l}=Jh(n),d=Hi(n,"modelValue"),g=qe(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),v=qe(()=>n.falseValue!==void 0?n.falseValue:!1),x=qe(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),_=qe({get(){const G=s?s.modelValue.value:d.value;return x.value?af(G).some(W=>n.valueComparator(W,g.value)):n.valueComparator(G,g.value)},set(G){if(n.readonly)return;const W=G?g.value:v.value;let te=W;x.value&&(te=G?[...af(d.value),W]:af(d.value).filter(ae=>!n.valueComparator(ae,g.value))),s?s.modelValue.value=te:d.value=te}}),{textColorClasses:N,textColorStyles:R}=Yh(qe(()=>{if(!(n.error||n.disabled))return _.value?n.color:n.baseColor})),{backgroundColorClasses:I,backgroundColorStyles:V}=Kh(qe(()=>_.value&&!n.error&&!n.disabled?n.color:n.baseColor)),$=qe(()=>_.value?n.trueIcon:n.falseIcon);return{group:s,densityClasses:l,trueValue:g,falseValue:v,model:_,textColorClasses:N,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:V,icon:$}}const Sq=No()({name:"VSelectionControl",directives:{Ripple:ND},inheritAttrs:!1,props:nQ(),emits:{"update:modelValue":n=>!0},setup(n,s){let{attrs:l,slots:d}=s;const{group:g,densityClasses:v,icon:x,model:_,textColorClasses:N,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:V,trueValue:$}=Ype(n),G=Mg(),W=Oo(!1),te=Oo(!1),ae=Bn(),ce=qe(()=>n.id||`input-${G}`),Ve=qe(()=>!n.disabled&&!n.readonly);g==null||g.onForceUpdate(()=>{ae.value&&(ae.value.checked=_.value)});function Ce(Ze){Ve.value&&(W.value=!0,ZS(Ze.target,":focus-visible")!==!1&&(te.value=!0))}function ee(){W.value=!1,te.value=!1}function we(Ze){Ze.stopPropagation()}function le(Ze){if(!Ve.value){ae.value&&(ae.value.checked=_.value);return}n.readonly&&g&&Er(()=>g.forceUpdate()),_.value=Ze.target.checked}return yr(()=>{var Ee,Fe;const Ze=d.label?d.label({label:n.label,props:{for:ce.value}}):n.label,[Be,Me]=GL(l),Xe=j("input",jo({ref:ae,checked:_.value,disabled:!!n.disabled,id:ce.value,onBlur:ee,onFocus:Ce,onInput:le,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:$.value,name:n.name,"aria-checked":n.type==="checkbox"?_.value:void 0},Me),null);return j("div",jo({class:["v-selection-control",{"v-selection-control--dirty":_.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":W.value,"v-selection-control--focus-visible":te.value,"v-selection-control--inline":n.inline},v.value,n.class]},Be,{style:n.style}),[j("div",{class:["v-selection-control__wrapper",N.value],style:R.value},[(Ee=d.default)==null?void 0:Ee.call(d,{backgroundColorClasses:I,backgroundColorStyles:V}),Mn(j("div",{class:["v-selection-control__input"]},[((Fe=d.input)==null?void 0:Fe.call(d,{model:_,textColorClasses:N,textColorStyles:R,backgroundColorClasses:I,backgroundColorStyles:V,inputNode:Xe,icon:x.value,props:{onFocus:Ce,onBlur:ee,id:ce.value}}))??j(ir,null,[x.value&&j(jn,{key:"icon",icon:x.value},null),Xe])]),[[Qy("ripple"),n.ripple&&[!n.disabled&&!n.readonly,null,["center","circle"]]]])]),Ze&&j(QJ,{for:ce.value,onClick:we},{default:()=>[Ze]})])}),{isFocused:W,input:ae}}}),oQ=In({indeterminate:Boolean,indeterminateIcon:{type:mi,default:"$checkboxIndeterminate"},...nQ({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),NL=No()({name:"VCheckboxBtn",props:oQ(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,s){let{slots:l}=s;const d=Hi(n,"indeterminate"),g=Hi(n,"modelValue");function v(N){d.value&&(d.value=!1)}const x=qe(()=>d.value?n.indeterminateIcon:n.falseIcon),_=qe(()=>d.value?n.indeterminateIcon:n.trueIcon);return yr(()=>{const N=ex(Sq.filterProps(n),["modelValue"]);return j(Sq,jo(N,{modelValue:g.value,"onUpdate:modelValue":[R=>g.value=R,v],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:x.value,trueIcon:_.value,"aria-checked":d.value?"mixed":void 0}),l)}),{}}});function rQ(n){const{t:s}=TD();function l(d){let{name:g}=d;const v={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],x=n[`onClick:${g}`],_=x&&v?s(`$vuetify.input.${v}`,n.label??""):void 0;return j(jn,{icon:n[`${g}Icon`],"aria-label":_,onClick:x},null)}return{InputIcon:l}}const Xpe=In({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Vr(),...rE({transition:{component:UJ,leaveAbsolute:!0,group:!0}})},"VMessages"),Jpe=No()({name:"VMessages",props:Xpe(),setup(n,s){let{slots:l}=s;const d=qe(()=>af(n.messages)),{textColorClasses:g,textColorStyles:v}=Yh(qe(()=>n.color));return yr(()=>j($y,{transition:n.transition,tag:"div",class:["v-messages",g.value,n.class],style:[v.value,n.style],role:"alert","aria-live":"polite"},{default:()=>[n.active&&d.value.map((x,_)=>j("div",{class:"v-messages__message",key:`${_}-${d.value}`},[l.message?l.message({message:x}):x]))]})),{}}}),sQ=In({focused:Boolean,"onUpdate:focused":lf()},"focus");function f8(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv();const l=Hi(n,"focused"),d=qe(()=>({[`${s}--focused`]:l.value}));function g(){l.value=!0}function v(){l.value=!1}return{focusClasses:d,isFocused:l,focus:g,blur:v}}const Qpe=Symbol.for("vuetify:form");function tW(){return wa(Qpe,null)}const eve=In({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...sQ()},"validation");function tve(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mg();const d=Hi(n,"modelValue"),g=qe(()=>n.validationValue===void 0?d.value:n.validationValue),v=tW(),x=Bn([]),_=Oo(!0),N=qe(()=>!!(af(d.value===""?null:d.value).length||af(g.value===""?null:g.value).length)),R=qe(()=>!!(n.disabled??(v==null?void 0:v.isDisabled.value))),I=qe(()=>!!(n.readonly??(v==null?void 0:v.isReadonly.value))),V=qe(()=>{var we;return(we=n.errorMessages)!=null&&we.length?af(n.errorMessages).concat(x.value).slice(0,Math.max(0,+n.maxErrors)):x.value}),$=qe(()=>{let we=(n.validateOn??(v==null?void 0:v.validateOn.value))||"input";we==="lazy"&&(we="input lazy"),we==="eager"&&(we="input eager");const le=new Set((we==null?void 0:we.split(" "))??[]);return{input:le.has("input"),blur:le.has("blur")||le.has("input")||le.has("invalid-input"),invalidInput:le.has("invalid-input"),lazy:le.has("lazy"),eager:le.has("eager")}}),G=qe(()=>{var we;return n.error||(we=n.errorMessages)!=null&&we.length?!1:n.rules.length?_.value?x.value.length||$.value.lazy?null:!0:!x.value.length:!0}),W=Oo(!1),te=qe(()=>({[`${s}--error`]:G.value===!1,[`${s}--dirty`]:N.value,[`${s}--disabled`]:R.value,[`${s}--readonly`]:I.value})),ae=Rl("validation"),ce=qe(()=>n.name??oe(l));wU(()=>{v==null||v.register({id:ce.value,vm:ae,validate:ee,reset:Ve,resetValidation:Ce})}),Cc(()=>{v==null||v.unregister(ce.value)}),Nu(async()=>{$.value.lazy||await ee(!$.value.eager),v==null||v.update(ce.value,G.value,V.value)}),Ng(()=>$.value.input||$.value.invalidInput&&G.value===!1,()=>{Rn(g,()=>{if(g.value!=null)ee();else if(n.focused){const we=Rn(()=>n.focused,le=>{le||ee(),we()})}})}),Ng(()=>$.value.blur,()=>{Rn(()=>n.focused,we=>{we||ee()})}),Rn([G,V],()=>{v==null||v.update(ce.value,G.value,V.value)});async function Ve(){d.value=null,await Er(),await Ce()}async function Ce(){_.value=!0,$.value.lazy?x.value=[]:await ee(!$.value.eager)}async function ee(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const le=[];W.value=!0;for(const Ze of n.rules){if(le.length>=+(n.maxErrors??1))break;const Me=await(typeof Ze=="function"?Ze:()=>Ze)(g.value);if(Me!==!0){if(Me!==!1&&typeof Me!="string"){console.warn(`${Me} is not a valid value. Rule functions must return boolean true or a string.`);continue}le.push(Me||"")}}return x.value=le,W.value=!1,_.value=we,x.value}return{errorMessages:V,isDirty:N,isDisabled:R,isReadonly:I,isPristine:_,isValid:G,isValidating:W,reset:Ve,resetValidation:Ce,validate:ee,validationClasses:te}}const m8=In({id:String,appendIcon:mi,centerAffix:{type:Boolean,default:!0},prependIcon:mi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":lf(),"onClick:append":lf(),...Vr(),...Lg(),...jde(Qh(),["maxWidth","minWidth","width"]),...ul(),...eve()},"VInput"),GS=No()({name:"VInput",props:{...m8()},emits:{"update:modelValue":n=>!0},setup(n,s){let{attrs:l,slots:d,emit:g}=s;const{densityClasses:v}=Jh(n),{dimensionStyles:x}=ep(n),{themeClasses:_}=Zl(n),{rtlClasses:N}=Bg(),{InputIcon:R}=rQ(n),I=Mg(),V=qe(()=>n.id||`input-${I}`),$=qe(()=>`${V.value}-messages`),{errorMessages:G,isDirty:W,isDisabled:te,isReadonly:ae,isPristine:ce,isValid:Ve,isValidating:Ce,reset:ee,resetValidation:we,validate:le,validationClasses:Ze}=tve(n,"v-input",V),Be=qe(()=>({id:V,messagesId:$,isDirty:W,isDisabled:te,isReadonly:ae,isPristine:ce,isValid:Ve,isValidating:Ce,reset:ee,resetValidation:we,validate:le})),Me=qe(()=>{var Xe;return(Xe=n.errorMessages)!=null&&Xe.length||!ce.value&&G.value.length?G.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return yr(()=>{var Ge,ct,$t,Jt;const Xe=!!(d.prepend||n.prependIcon),Ee=!!(d.append||n.appendIcon),Fe=Me.value.length>0,O=!n.hideDetails||n.hideDetails==="auto"&&(Fe||!!d.details);return j("div",{class:["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--hide-spin-buttons":n.hideSpinButtons},v.value,_.value,N.value,Ze.value,n.class],style:[x.value,n.style]},[Xe&&j("div",{key:"prepend",class:"v-input__prepend"},[(Ge=d.prepend)==null?void 0:Ge.call(d,Be.value),n.prependIcon&&j(R,{key:"prepend-icon",name:"prepend"},null)]),d.default&&j("div",{class:"v-input__control"},[(ct=d.default)==null?void 0:ct.call(d,Be.value)]),Ee&&j("div",{key:"append",class:"v-input__append"},[n.appendIcon&&j(R,{key:"append-icon",name:"append"},null),($t=d.append)==null?void 0:$t.call(d,Be.value)]),O&&j("div",{class:"v-input__details"},[j(Jpe,{id:$.value,active:Fe,messages:Me.value},{message:d.message}),(Jt=d.details)==null?void 0:Jt.call(d,Be.value)])])}),{reset:ee,resetValidation:we,validate:le,isValid:Ve,errorMessages:G}}}),nve=In({...m8(),...ex(oQ(),["inline"])},"VCheckbox"),ove=No()({name:"VCheckbox",inheritAttrs:!1,props:nve(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,s){let{attrs:l,slots:d}=s;const g=Hi(n,"modelValue"),{isFocused:v,focus:x,blur:_}=f8(n),N=Mg(),R=qe(()=>n.id||`checkbox-${N}`);return yr(()=>{const[I,V]=GL(l),$=GS.filterProps(n),G=NL.filterProps(n);return j(GS,jo({class:["v-checkbox",n.class]},I,$,{modelValue:g.value,"onUpdate:modelValue":W=>g.value=W,id:R.value,focused:v.value,style:n.style}),{...d,default:W=>{let{id:te,messagesId:ae,isDisabled:ce,isReadonly:Ve,isValid:Ce}=W;return j(NL,jo(G,{id:te.value,"aria-describedby":ae.value,disabled:ce.value,readonly:Ve.value},V,{error:Ce.value===!1,modelValue:g.value,"onUpdate:modelValue":ee=>g.value=ee,onFocus:x,onBlur:_}),d)}})}),{}}});function rve(n){let{selectedElement:s,containerElement:l,isRtl:d,isHorizontal:g}=n;const v=aD(g,l),x=iQ(g,d,l),_=aD(g,s),N=aQ(g,s),R=_*.4;return x>N?N-R:x+v<N+_?N-v+_+R:x}function sve(n){let{selectedElement:s,containerElement:l,isHorizontal:d}=n;const g=aD(d,l),v=aQ(d,s),x=aD(d,s);return v-g/2+x/2}function Eq(n,s){const l=n?"scrollWidth":"scrollHeight";return(s==null?void 0:s[l])||0}function ive(n,s){const l=n?"clientWidth":"clientHeight";return(s==null?void 0:s[l])||0}function iQ(n,s,l){if(!l)return 0;const{scrollLeft:d,offsetWidth:g,scrollWidth:v}=l;return n?s?v-g+d:d:l.scrollTop}function aD(n,s){const l=n?"offsetWidth":"offsetHeight";return(s==null?void 0:s[l])||0}function aQ(n,s){const l=n?"offsetLeft":"offsetTop";return(s==null?void 0:s[l])||0}const ave=Symbol.for("vuetify:v-slide-group"),lQ=In({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ave},nextIcon:{type:mi,default:"$next"},prevIcon:{type:mi,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...Vr(),...BX({mobile:null}),...Qi(),...jU({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Aq=No()({name:"VSlideGroup",props:lQ(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const{isRtl:d}=Bg(),{displayClasses:g,mobile:v}=JL(n),x=KU(n,n.symbol),_=Oo(!1),N=Oo(0),R=Oo(0),I=Oo(0),V=qe(()=>n.direction==="horizontal"),{resizeRef:$,contentRect:G}=KS(),{resizeRef:W,contentRect:te}=KS(),ae=Dme(),ce=qe(()=>({container:$.el,duration:200,easing:"easeOutQuart"})),Ve=qe(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[0]):-1),Ce=qe(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[x.selected.value.length-1]):-1);if(fi){let Lt=-1;Rn(()=>[x.selected.value,G.value,te.value,V.value],()=>{cancelAnimationFrame(Lt),Lt=requestAnimationFrame(()=>{if(G.value&&te.value){const nt=V.value?"width":"height";R.value=G.value[nt],I.value=te.value[nt],_.value=R.value+1<I.value}if(Ve.value>=0&&W.el){const nt=W.el.children[Ce.value];we(nt,n.centerActive)}})})}const ee=Oo(!1);function we(Lt,nt){let Ye=0;nt?Ye=sve({containerElement:$.el,isHorizontal:V.value,selectedElement:Lt}):Ye=rve({containerElement:$.el,isHorizontal:V.value,isRtl:d.value,selectedElement:Lt}),le(Ye)}function le(Lt){if(!fi||!$.el)return;const nt=aD(V.value,$.el),Ye=iQ(V.value,d.value,$.el);if(!(Eq(V.value,$.el)<=nt||Math.abs(Lt-Ye)<16)){if(V.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:zn}=$.el;Lt=oo-zn-Lt}V.value?ae.horizontal(Lt,ce.value):ae(Lt,ce.value)}}function Ze(Lt){const{scrollTop:nt,scrollLeft:Ye}=Lt.target;N.value=V.value?Ye:nt}function Be(Lt){if(ee.value=!0,!(!_.value||!W.el)){for(const nt of Lt.composedPath())for(const Ye of W.el.children)if(Ye===nt){we(Ye);return}}}function Me(Lt){ee.value=!1}let Xe=!1;function Ee(Lt){var nt;!Xe&&!ee.value&&!(Lt.relatedTarget&&((nt=W.el)!=null&&nt.contains(Lt.relatedTarget)))&&Ge(),Xe=!1}function Fe(){Xe=!0}function O(Lt){if(!W.el)return;function nt(Ye){Lt.preventDefault(),Ge(Ye)}V.value?Lt.key==="ArrowRight"?nt(d.value?"prev":"next"):Lt.key==="ArrowLeft"&&nt(d.value?"next":"prev"):Lt.key==="ArrowDown"?nt("next"):Lt.key==="ArrowUp"&&nt("prev"),Lt.key==="Home"?nt("first"):Lt.key==="End"&&nt("last")}function Ge(Lt){var Ye,Mt;if(!W.el)return;let nt;if(!Lt)nt=tD(W.el)[0];else if(Lt==="next"){if(nt=(Ye=W.el.querySelector(":focus"))==null?void 0:Ye.nextElementSibling,!nt)return Ge("first")}else if(Lt==="prev"){if(nt=(Mt=W.el.querySelector(":focus"))==null?void 0:Mt.previousElementSibling,!nt)return Ge("last")}else Lt==="first"?nt=W.el.firstElementChild:Lt==="last"&&(nt=W.el.lastElementChild);nt&&nt.focus({preventScroll:!0})}function ct(Lt){const nt=V.value&&d.value?-1:1,Ye=(Lt==="prev"?-nt:nt)*R.value;let Mt=N.value+Ye;if(V.value&&d.value&&$.el){const{scrollWidth:oo,offsetWidth:zn}=$.el;Mt+=oo-zn}le(Mt)}const $t=qe(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),Jt=qe(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return _.value||Math.abs(N.value)>0;case"mobile":return v.value||_.value||Math.abs(N.value)>0;default:return!v.value&&(_.value||Math.abs(N.value)>0)}}),tt=qe(()=>Math.abs(N.value)>1),pt=qe(()=>{if(!$.value)return!1;const Lt=Eq(V.value,$.el),nt=ive(V.value,$.el);return Lt-nt-Math.abs(N.value)>1});return yr(()=>j(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!V.value,"v-slide-group--has-affixes":Jt.value,"v-slide-group--is-overflowing":_.value},g.value,n.class],style:n.style,tabindex:ee.value||x.selected.value.length?-1:0,onFocus:Ee},{default:()=>{var Lt,nt,Ye;return[Jt.value&&j("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!tt.value}],onMousedown:Fe,onClick:()=>tt.value&&ct("prev")},[((Lt=l.prev)==null?void 0:Lt.call(l,$t.value))??j(yq,null,{default:()=>[j(jn,{icon:d.value?n.nextIcon:n.prevIcon},null)]})]),j("div",{key:"container",ref:$,class:"v-slide-group__container",onScroll:Ze},[j("div",{ref:W,class:"v-slide-group__content",onFocusin:Be,onFocusout:Me,onKeydown:O},[(nt=l.default)==null?void 0:nt.call(l,$t.value)])]),Jt.value&&j("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!pt.value}],onMousedown:Fe,onClick:()=>pt.value&&ct("next")},[((Ye=l.next)==null?void 0:Ye.call(l,$t.value))??j(yq,null,{default:()=>[j(jn,{icon:d.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:ct,scrollOffset:N,focus:Ge,hasPrev:tt,hasNext:pt}}}),cQ=Symbol.for("vuetify:v-chip-group"),lve=In({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:JS},...lQ(),...Vr(),...jU({selectedClass:"v-chip--selected"}),...Qi(),...ul(),...F1({variant:"tonal"})},"VChipGroup");No()({name:"VChipGroup",props:lve(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const{themeClasses:d}=Zl(n),{isSelected:g,select:v,next:x,prev:_,selected:N}=KU(n,cQ);return tx({VChip:{color:tr(n,"color"),disabled:tr(n,"disabled"),filter:tr(n,"filter"),variant:tr(n,"variant")}}),yr(()=>{const R=Aq.filterProps(n);return j(Aq,jo(R,{class:["v-chip-group",{"v-chip-group--column":n.column},d.value,n.class],style:n.style}),{default:()=>{var I;return[(I=l.default)==null?void 0:I.call(l,{isSelected:g,select:v,next:x,prev:_,selected:N.value})]}})}),{}}});const cve=In({activeClass:String,appendAvatar:String,appendIcon:mi,closable:Boolean,closeIcon:{type:mi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:lf(),onClickOnce:lf(),...P1(),...Vr(),...Lg(),...B1(),...kJ(),...pm(),...c8(),...RD(),...Qi({tag:"span"}),...ul(),...F1({variant:"tonal"})},"VChip"),uQ=No()({name:"VChip",directives:{Ripple:ND},props:cve(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const{t:v}=TD(),{borderClasses:x}=M1(n),{colorClasses:_,colorStyles:N,variantClasses:R}=oE(n),{densityClasses:I}=Jh(n),{elevationClasses:V}=L1(n),{roundedClasses:$}=vm(n),{sizeClasses:G}=ID(n),{themeClasses:W}=Zl(n),te=Hi(n,"modelValue"),ae=SJ(n,cQ,!1),ce=l8(n,l),Ve=qe(()=>n.link!==!1&&ce.isLink.value),Ce=qe(()=>!n.disabled&&n.link!==!1&&(!!ae||n.link||ce.isClickable.value)),ee=qe(()=>({"aria-label":v(n.closeLabel),onClick(Ze){Ze.preventDefault(),Ze.stopPropagation(),te.value=!1,d("click:close",Ze)}}));function we(Ze){var Be;d("click",Ze),Ce.value&&((Be=ce.navigate)==null||Be.call(ce,Ze),ae==null||ae.toggle())}function le(Ze){(Ze.key==="Enter"||Ze.key===" ")&&(Ze.preventDefault(),we(Ze))}return()=>{const Ze=ce.isLink.value?"a":n.tag,Be=!!(n.appendIcon||n.appendAvatar),Me=!!(Be||g.append),Xe=!!(g.close||n.closable),Ee=!!(g.filter||n.filter)&&ae,Fe=!!(n.prependIcon||n.prependAvatar),O=!!(Fe||g.prepend),Ge=!ae||ae.isSelected.value;return te.value&&Mn(j(Ze,jo({class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":Ce.value,"v-chip--filter":Ee,"v-chip--pill":n.pill},W.value,x.value,Ge?_.value:void 0,I.value,V.value,$.value,G.value,R.value,ae==null?void 0:ae.selectedClass.value,n.class],style:[Ge?N.value:void 0,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:Ce.value?0:void 0,onClick:we,onKeydown:Ce.value&&!Ve.value&&le},ce.linkProps),{default:()=>{var ct;return[nE(Ce.value,"v-chip"),Ee&&j(ZJ,{key:"filter"},{default:()=>[Mn(j("div",{class:"v-chip__filter"},[g.filter?j(xa,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},g.filter):j(jn,{key:"filter-icon",icon:n.filterIcon},null)]),[[wo,ae.isSelected.value]])]}),O&&j("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?j(xa,{key:"prepend-defaults",disabled:!Fe,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},g.prepend):j(ir,null,[n.prependIcon&&j(jn,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&j(Yy,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),j("div",{class:"v-chip__content","data-no-activator":""},[((ct=g.default)==null?void 0:ct.call(g,{isSelected:ae==null?void 0:ae.isSelected.value,selectedClass:ae==null?void 0:ae.selectedClass.value,select:ae==null?void 0:ae.select,toggle:ae==null?void 0:ae.toggle,value:ae==null?void 0:ae.value.value,disabled:n.disabled}))??n.text]),Me&&j("div",{key:"append",class:"v-chip__append"},[g.append?j(xa,{key:"append-defaults",disabled:!Be,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},g.append):j(ir,null,[n.appendIcon&&j(jn,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&j(Yy,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),Xe&&j("button",jo({key:"close",class:"v-chip__close",type:"button"},ee.value),[g.close?j(xa,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},g.close):j(jn,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[Qy("ripple"),Ce.value&&n.ripple,null]])}}}),eU=Symbol.for("vuetify:list");function dQ(){const n=wa(eU,{hasPrepend:Oo(!1),updateHasPrepend:()=>null}),s={hasPrepend:Oo(!1),updateHasPrepend:l=>{l&&(s.hasPrepend.value=l)}};return _d(eU,s),n}function fQ(){return wa(eU,null)}const nW=n=>{const s={activate:l=>{let{id:d,value:g,activated:v}=l;return d=sr(d),n&&!g&&v.size===1&&v.has(d)||(g?v.add(d):v.delete(d)),v},in:(l,d,g)=>{let v=new Set;if(l!=null)for(const x of af(l))v=s.activate({id:x,value:!0,activated:new Set(v),children:d,parents:g});return v},out:l=>Array.from(l)};return s},mQ=n=>{const s=nW(n);return{activate:d=>{let{activated:g,id:v,...x}=d;v=sr(v);const _=g.has(v)?new Set([v]):new Set;return s.activate({...x,id:v,activated:_})},in:(d,g,v)=>{let x=new Set;if(d!=null){const _=af(d);_.length&&(x=s.in(_.slice(0,1),g,v))}return x},out:(d,g,v)=>s.out(d,g,v)}},uve=n=>{const s=nW(n);return{activate:d=>{let{id:g,activated:v,children:x,..._}=d;return g=sr(g),x.has(g)?v:s.activate({id:g,activated:v,children:x,..._})},in:s.in,out:s.out}},dve=n=>{const s=mQ(n);return{activate:d=>{let{id:g,activated:v,children:x,..._}=d;return g=sr(g),x.has(g)?v:s.activate({id:g,activated:v,children:x,..._})},in:s.in,out:s.out}},fve={open:n=>{let{id:s,value:l,opened:d,parents:g}=n;if(l){const v=new Set;v.add(s);let x=g.get(s);for(;x!=null;)v.add(x),x=g.get(x);return v}else return d.delete(s),d},select:()=>null},gQ={open:n=>{let{id:s,value:l,opened:d,parents:g}=n;if(l){let v=g.get(s);for(d.add(s);v!=null&&v!==s;)d.add(v),v=g.get(v);return d}else d.delete(s);return d},select:()=>null},mve={open:gQ.open,select:n=>{let{id:s,value:l,opened:d,parents:g}=n;if(!l)return d;const v=[];let x=g.get(s);for(;x!=null;)v.push(x),x=g.get(x);return new Set(v)}},oW=n=>{const s={select:l=>{let{id:d,value:g,selected:v}=l;if(d=sr(d),n&&!g){const x=Array.from(v.entries()).reduce((_,N)=>{let[R,I]=N;return I==="on"&&_.push(R),_},[]);if(x.length===1&&x[0]===d)return v}return v.set(d,g?"on":"off"),v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=s.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:l=>{const d=[];for(const[g,v]of l.entries())v==="on"&&d.push(g);return d}};return s},hQ=n=>{const s=oW(n);return{select:d=>{let{selected:g,id:v,...x}=d;v=sr(v);const _=g.has(v)?new Map([[v,g.get(v)]]):new Map;return s.select({...x,id:v,selected:_})},in:(d,g,v)=>{let x=new Map;return d!=null&&d.length&&(x=s.in(d.slice(0,1),g,v)),x},out:(d,g,v)=>s.out(d,g,v)}},gve=n=>{const s=oW(n);return{select:d=>{let{id:g,selected:v,children:x,..._}=d;return g=sr(g),x.has(g)?v:s.select({id:g,selected:v,children:x,..._})},in:s.in,out:s.out}},hve=n=>{const s=hQ(n);return{select:d=>{let{id:g,selected:v,children:x,..._}=d;return g=sr(g),x.has(g)?v:s.select({id:g,selected:v,children:x,..._})},in:s.in,out:s.out}},pve=n=>{const s={select:l=>{let{id:d,value:g,selected:v,children:x,parents:_}=l;d=sr(d);const N=new Map(v),R=[d];for(;R.length;){const V=R.shift();v.set(sr(V),g?"on":"off"),x.has(V)&&R.push(...x.get(V))}let I=sr(_.get(d));for(;I;){const V=x.get(I),$=V.every(W=>v.get(sr(W))==="on"),G=V.every(W=>!v.has(sr(W))||v.get(sr(W))==="off");v.set(I,$?"on":G?"off":"indeterminate"),I=sr(_.get(I))}return n&&!g&&Array.from(v.entries()).reduce(($,G)=>{let[W,te]=G;return te==="on"&&$.push(W),$},[]).length===0?N:v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=s.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:(l,d)=>{const g=[];for(const[v,x]of l.entries())x==="on"&&!d.has(v)&&g.push(v);return g}};return s},lD=Symbol.for("vuetify:nested"),pQ={id:Oo(),root:{register:()=>null,unregister:()=>null,parents:Bn(new Map),children:Bn(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Bn(!1),selectable:Bn(!1),opened:Bn(new Set),activated:Bn(new Set),selected:Bn(new Map),selectedValues:Bn([]),getPath:()=>[]}},vve=In({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),bve=n=>{let s=!1;const l=Bn(new Map),d=Bn(new Map),g=Hi(n,"opened",n.opened,W=>new Set(W),W=>[...W.values()]),v=qe(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return uve(n.mandatory);case"single-leaf":return dve(n.mandatory);case"independent":return nW(n.mandatory);case"single-independent":default:return mQ(n.mandatory)}}),x=qe(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return hve(n.mandatory);case"leaf":return gve(n.mandatory);case"independent":return oW(n.mandatory);case"single-independent":return hQ(n.mandatory);case"classic":default:return pve(n.mandatory)}}),_=qe(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return mve;case"single":return fve;case"multiple":default:return gQ}}),N=Hi(n,"activated",n.activated,W=>v.value.in(W,l.value,d.value),W=>v.value.out(W,l.value,d.value)),R=Hi(n,"selected",n.selected,W=>x.value.in(W,l.value,d.value),W=>x.value.out(W,l.value,d.value));Cc(()=>{s=!0});function I(W){const te=[];let ae=W;for(;ae!=null;)te.unshift(ae),ae=d.value.get(ae);return te}const V=Rl("nested"),$=new Set,G={id:Oo(),root:{opened:g,activatable:tr(n,"activatable"),selectable:tr(n,"selectable"),activated:N,selected:R,selectedValues:qe(()=>{const W=[];for(const[te,ae]of R.value.entries())ae==="on"&&W.push(te);return W}),register:(W,te,ae)=>{if($.has(W)){I(W).join(" -> "),I(te).concat(W).join(" -> ");return}else $.add(W);te&&W!==te&&d.value.set(W,te),ae&&l.value.set(W,[]),te!=null&&l.value.set(te,[...l.value.get(te)||[],W])},unregister:W=>{if(s)return;$.delete(W),l.value.delete(W);const te=d.value.get(W);if(te){const ae=l.value.get(te)??[];l.value.set(te,ae.filter(ce=>ce!==W))}d.value.delete(W)},open:(W,te,ae)=>{V.emit("click:open",{id:W,value:te,path:I(W),event:ae});const ce=_.value.open({id:W,value:te,opened:new Set(g.value),children:l.value,parents:d.value,event:ae});ce&&(g.value=ce)},openOnSelect:(W,te,ae)=>{const ce=_.value.select({id:W,value:te,selected:new Map(R.value),opened:new Set(g.value),children:l.value,parents:d.value,event:ae});ce&&(g.value=ce)},select:(W,te,ae)=>{V.emit("click:select",{id:W,value:te,path:I(W),event:ae});const ce=x.value.select({id:W,value:te,selected:new Map(R.value),children:l.value,parents:d.value,event:ae});ce&&(R.value=ce),G.root.openOnSelect(W,te,ae)},activate:(W,te,ae)=>{if(!n.activatable)return G.root.select(W,!0,ae);V.emit("click:activate",{id:W,value:te,path:I(W),event:ae});const ce=v.value.activate({id:W,value:te,activated:new Set(N.value),children:l.value,parents:d.value,event:ae});ce&&(N.value=ce)},children:l,parents:d,getPath:I}};return _d(lD,G),G.root},vQ=(n,s)=>{const l=wa(lD,pQ),d=Symbol(Mg()),g=qe(()=>n.value!==void 0?n.value:d),v={...l,id:g,open:(x,_)=>l.root.open(g.value,x,_),openOnSelect:(x,_)=>l.root.openOnSelect(g.value,x,_),isOpen:qe(()=>l.root.opened.value.has(g.value)),parent:qe(()=>l.root.parents.value.get(g.value)),activate:(x,_)=>l.root.activate(g.value,x,_),isActivated:qe(()=>l.root.activated.value.has(sr(g.value))),select:(x,_)=>l.root.select(g.value,x,_),isSelected:qe(()=>l.root.selected.value.get(sr(g.value))==="on"),isIndeterminate:qe(()=>l.root.selected.value.get(g.value)==="indeterminate"),isLeaf:qe(()=>!l.root.children.value.get(g.value)),isGroupActivator:l.isGroupActivator};return!l.isGroupActivator&&l.root.register(g.value,l.id.value,s),Cc(()=>{!l.isGroupActivator&&l.root.unregister(g.value)}),s&&_d(lD,v),v},yve=()=>{const n=wa(lD,pQ);_d(lD,{...n,isGroupActivator:!0})};function g8(){const n=Oo(!1);return Nu(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:qe(()=>n.value?void 0:{transition:"none !important"}),isBooted:_D(n)}}const xve=QS({name:"VListGroupActivator",setup(n,s){let{slots:l}=s;return yve(),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),wve=In({activeColor:String,baseColor:String,color:String,collapseIcon:{type:mi,default:"$collapse"},expandIcon:{type:mi,default:"$expand"},prependIcon:mi,appendIcon:mi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Vr(),...Qi()},"VListGroup"),Tq=No()({name:"VListGroup",props:wve(),setup(n,s){let{slots:l}=s;const{isOpen:d,open:g,id:v}=vQ(tr(n,"value"),!0),x=qe(()=>`v-list-group--id-${String(v.value)}`),_=fQ(),{isBooted:N}=g8();function R(G){G.stopPropagation(),g(!d.value,G)}const I=qe(()=>({onClick:R,class:"v-list-group__header",id:x.value})),V=qe(()=>d.value?n.collapseIcon:n.expandIcon),$=qe(()=>({VListItem:{active:d.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&V.value,appendIcon:n.appendIcon||!n.subgroup&&V.value,title:n.title,value:n.value}}));return yr(()=>j(n.tag,{class:["v-list-group",{"v-list-group--prepend":_==null?void 0:_.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":d.value},n.class],style:n.style},{default:()=>[l.activator&&j(xa,{defaults:$.value},{default:()=>[j(xve,null,{default:()=>[l.activator({props:I.value,isOpen:d.value})]})]}),j($y,{transition:{component:WJ},disabled:!N.value},{default:()=>{var G;return[Mn(j("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(G=l.default)==null?void 0:G.call(l)]),[[wo,d.value]])]}})]})),{isOpen:d}}}),Cve=In({opacity:[Number,String],...Vr(),...Qi()},"VListItemSubtitle"),_ve=No()({name:"VListItemSubtitle",props:Cve(),setup(n,s){let{slots:l}=s;return yr(()=>j(n.tag,{class:["v-list-item-subtitle",n.class],style:[{"--v-list-item-subtitle-opacity":n.opacity},n.style]},l)),{}}}),kve=qL("v-list-item-title"),Sve=In({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:mi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:lf(),onClickOnce:lf(),...P1(),...Vr(),...Lg(),...Qh(),...B1(),...pm(),...c8(),...Qi(),...ul(),...F1({variant:"text"})},"VListItem"),xc=No()({name:"VListItem",directives:{Ripple:ND},props:Sve(),emits:{click:n=>!0},setup(n,s){let{attrs:l,slots:d,emit:g}=s;const v=l8(n,l),x=qe(()=>n.value===void 0?v.href.value:n.value),{activate:_,isActivated:N,select:R,isOpen:I,isSelected:V,isIndeterminate:$,isGroupActivator:G,root:W,parent:te,openOnSelect:ae,id:ce}=vQ(x,!1),Ve=fQ(),Ce=qe(()=>{var Ye;return n.active!==!1&&(n.active||((Ye=v.isActive)==null?void 0:Ye.value)||(W.activatable.value?N.value:V.value))}),ee=qe(()=>n.link!==!1&&v.isLink.value),we=qe(()=>!n.disabled&&n.link!==!1&&(n.link||v.isClickable.value||!!Ve&&(W.selectable.value||W.activatable.value||n.value!=null))),le=qe(()=>n.rounded||n.nav),Ze=qe(()=>n.color??n.activeColor),Be=qe(()=>({color:Ce.value?Ze.value??n.baseColor:n.baseColor,variant:n.variant}));Rn(()=>{var Ye;return(Ye=v.isActive)==null?void 0:Ye.value},Ye=>{Ye&&te.value!=null&&W.open(te.value,!0),Ye&&ae(Ye)},{immediate:!0});const{themeClasses:Me}=Zl(n),{borderClasses:Xe}=M1(n),{colorClasses:Ee,colorStyles:Fe,variantClasses:O}=oE(Be),{densityClasses:Ge}=Jh(n),{dimensionStyles:ct}=ep(n),{elevationClasses:$t}=L1(n),{roundedClasses:Jt}=vm(le),tt=qe(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),pt=qe(()=>({isActive:Ce.value,select:R,isOpen:I.value,isSelected:V.value,isIndeterminate:$.value}));function Lt(Ye){var Mt;g("click",Ye),we.value&&((Mt=v.navigate)==null||Mt.call(v,Ye),!G&&(W.activatable.value?_(!N.value,Ye):(W.selectable.value||n.value!=null)&&R(!V.value,Ye)))}function nt(Ye){(Ye.key==="Enter"||Ye.key===" ")&&(Ye.preventDefault(),Ye.target.dispatchEvent(new MouseEvent("click",Ye)))}return yr(()=>{const Ye=ee.value?"a":n.tag,Mt=d.title||n.title!=null,oo=d.subtitle||n.subtitle!=null,zn=!!(n.appendAvatar||n.appendIcon),fn=!!(zn||d.append),kn=!!(n.prependAvatar||n.prependIcon),J=!!(kn||d.prepend);return Ve==null||Ve.updateHasPrepend(J),n.activeColor&&ufe("active-color",["color","base-color"]),Mn(j(Ye,jo({class:["v-list-item",{"v-list-item--active":Ce.value,"v-list-item--disabled":n.disabled,"v-list-item--link":we.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!J&&(Ve==null?void 0:Ve.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&Ce.value},Me.value,Xe.value,Ee.value,Ge.value,$t.value,tt.value,Jt.value,O.value,n.class],style:[Fe.value,ct.value,n.style],tabindex:we.value?Ve?-2:0:void 0,onClick:Lt,onKeydown:we.value&&!ee.value&&nt},v.linkProps),{default:()=>{var Cr;return[nE(we.value||Ce.value,"v-list-item"),J&&j("div",{key:"prepend",class:"v-list-item__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!kn,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var eo;return[(eo=d.prepend)==null?void 0:eo.call(d,pt.value)]}}):j(ir,null,[n.prependAvatar&&j(Yy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&j(jn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),j("div",{class:"v-list-item__spacer"},null)]),j("div",{class:"v-list-item__content","data-no-activator":""},[Mt&&j(kve,{key:"title"},{default:()=>{var eo;return[((eo=d.title)==null?void 0:eo.call(d,{title:n.title}))??n.title]}}),oo&&j(_ve,{key:"subtitle"},{default:()=>{var eo;return[((eo=d.subtitle)==null?void 0:eo.call(d,{subtitle:n.subtitle}))??n.subtitle]}}),(Cr=d.default)==null?void 0:Cr.call(d,pt.value)]),fn&&j("div",{key:"append",class:"v-list-item__append"},[d.append?j(xa,{key:"append-defaults",disabled:!zn,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var eo;return[(eo=d.append)==null?void 0:eo.call(d,pt.value)]}}):j(ir,null,[n.appendIcon&&j(jn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&j(Yy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),j("div",{class:"v-list-item__spacer"},null)])]}}),[[Qy("ripple"),we.value&&n.ripple]])}),{activate:_,isActivated:N,isGroupActivator:G,isSelected:V,list:Ve,select:R,root:W,id:ce}}}),Eve=In({color:String,inset:Boolean,sticky:Boolean,title:String,...Vr(),...Qi()},"VListSubheader"),Ave=No()({name:"VListSubheader",props:Eve(),setup(n,s){let{slots:l}=s;const{textColorClasses:d,textColorStyles:g}=Yh(tr(n,"color"));return yr(()=>{const v=!!(l.default||n.title);return j(n.tag,{class:["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},d.value,n.class],style:[{textColorStyles:g},n.style]},{default:()=>{var x;return[v&&j("div",{class:"v-list-subheader__text"},[((x=l.default)==null?void 0:x.call(l))??n.title])]}})}),{}}}),Tve=In({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Vr(),...ul()},"VDivider"),LO=No()({name:"VDivider",props:Tve(),setup(n,s){let{attrs:l,slots:d}=s;const{themeClasses:g}=Zl(n),{textColorClasses:v,textColorStyles:x}=Yh(tr(n,"color")),_=qe(()=>{const N={};return n.length&&(N[n.vertical?"height":"width"]=br(n.length)),n.thickness&&(N[n.vertical?"borderRightWidth":"borderTopWidth"]=br(n.thickness)),N});return yr(()=>{const N=j("hr",{class:[{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},g.value,v.value,n.class],style:[_.value,x.value,{"--v-border-opacity":n.opacity},n.style],"aria-orientation":!l.role||l.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${l.role||"separator"}`},null);return d.default?j("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}]},[N,j("div",{class:"v-divider__content"},[d.default()]),N]):N}),{}}}),Ove=In({items:Array,returnObject:Boolean},"VListChildren"),bQ=No()({name:"VListChildren",props:Ove(),setup(n,s){let{slots:l}=s;return dQ(),()=>{var d,g;return((d=l.default)==null?void 0:d.call(l))??((g=n.items)==null?void 0:g.map(v=>{var $,G;let{children:x,props:_,type:N,raw:R}=v;if(N==="divider")return(($=l.divider)==null?void 0:$.call(l,{props:_}))??j(LO,_,null);if(N==="subheader")return((G=l.subheader)==null?void 0:G.call(l,{props:_}))??j(Ave,_,null);const I={subtitle:l.subtitle?W=>{var te;return(te=l.subtitle)==null?void 0:te.call(l,{...W,item:R})}:void 0,prepend:l.prepend?W=>{var te;return(te=l.prepend)==null?void 0:te.call(l,{...W,item:R})}:void 0,append:l.append?W=>{var te;return(te=l.append)==null?void 0:te.call(l,{...W,item:R})}:void 0,title:l.title?W=>{var te;return(te=l.title)==null?void 0:te.call(l,{...W,item:R})}:void 0},V=Tq.filterProps(_);return x?j(Tq,jo({value:_==null?void 0:_.value},V),{activator:W=>{let{props:te}=W;const ae={..._,...te,value:n.returnObject?R:_.value};return l.header?l.header({props:ae}):j(xc,ae,I)},default:()=>j(bQ,{items:x,returnObject:n.returnObject},l)}):l.item?l.item({props:_}):j(xc,jo(_,{value:n.returnObject?R:_.value}),I)}))}}}),yQ=In({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:JS}},"list-items");function tU(n,s){const l=hv(s,n.itemTitle,s),d=hv(s,n.itemValue,l),g=hv(s,n.itemChildren),v=n.itemProps===!0?typeof s=="object"&&s!=null&&!Array.isArray(s)?"children"in s?ex(s,["children"]):s:void 0:hv(s,n.itemProps),x={title:l,value:d,...v};return{title:String(x.title??""),value:x.value,props:x,children:Array.isArray(g)?xQ(n,g):void 0,raw:s}}function xQ(n,s){const l=[];for(const d of s)l.push(tU(n,d));return l}function wQ(n){const s=qe(()=>xQ(n,n.items)),l=qe(()=>s.value.some(v=>v.value===null));function d(v){return l.value||(v=v.filter(x=>x!==null)),v.map(x=>n.returnObject&&typeof x=="string"?tU(n,x):s.value.find(_=>n.valueComparator(x,_.value))||tU(n,x))}function g(v){return n.returnObject?v.map(x=>{let{raw:_}=x;return _}):v.map(x=>{let{value:_}=x;return _})}return{items:s,transformIn:d,transformOut:g}}function Dve(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"}function Rve(n,s){const l=hv(s,n.itemType,"item"),d=Dve(s)?s:hv(s,n.itemTitle),g=hv(s,n.itemValue,void 0),v=hv(s,n.itemChildren),x=n.itemProps===!0?ex(s,["children"]):hv(s,n.itemProps),_={title:d,value:g,...x};return{type:l,title:_.title,value:_.value,props:_,children:l==="item"&&v?CQ(n,v):void 0,raw:s}}function CQ(n,s){const l=[];for(const d of s)l.push(Rve(n,d));return l}function Ive(n){return{items:qe(()=>CQ(n,n.items))}}const Nve=In({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":lf(),"onClick:select":lf(),"onUpdate:opened":lf(),...vve({selectStrategy:"single-leaf",openStrategy:"list"}),...P1(),...Vr(),...Lg(),...Qh(),...B1(),itemType:{type:String,default:"type"},...yQ(),...pm(),...Qi(),...ul(),...F1({variant:"text"})},"VList"),cD=No()({name:"VList",props:Nve(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,s){let{slots:l}=s;const{items:d}=Ive(n),{themeClasses:g}=Zl(n),{backgroundColorClasses:v,backgroundColorStyles:x}=Kh(tr(n,"bgColor")),{borderClasses:_}=M1(n),{densityClasses:N}=Jh(n),{dimensionStyles:R}=ep(n),{elevationClasses:I}=L1(n),{roundedClasses:V}=vm(n),{children:$,open:G,parents:W,select:te,getPath:ae}=bve(n),ce=qe(()=>n.lines?`v-list--${n.lines}-line`:void 0),Ve=tr(n,"activeColor"),Ce=tr(n,"baseColor"),ee=tr(n,"color");dQ(),tx({VListGroup:{activeColor:Ve,baseColor:Ce,color:ee,expandIcon:tr(n,"expandIcon"),collapseIcon:tr(n,"collapseIcon")},VListItem:{activeClass:tr(n,"activeClass"),activeColor:Ve,baseColor:Ce,color:ee,density:tr(n,"density"),disabled:tr(n,"disabled"),lines:tr(n,"lines"),nav:tr(n,"nav"),slim:tr(n,"slim"),variant:tr(n,"variant")}});const we=Oo(!1),le=Bn();function Ze(O){we.value=!0}function Be(O){we.value=!1}function Me(O){var Ge;!we.value&&!(O.relatedTarget&&((Ge=le.value)!=null&&Ge.contains(O.relatedTarget)))&&Fe()}function Xe(O){const Ge=O.target;if(!(!le.value||["INPUT","TEXTAREA"].includes(Ge.tagName))){if(O.key==="ArrowDown")Fe("next");else if(O.key==="ArrowUp")Fe("prev");else if(O.key==="Home")Fe("first");else if(O.key==="End")Fe("last");else return;O.preventDefault()}}function Ee(O){we.value=!0}function Fe(O){if(le.value)return WO(le.value,O)}return yr(()=>j(n.tag,{ref:le,class:["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},g.value,v.value,_.value,N.value,I.value,ce.value,V.value,n.class],style:[x.value,R.value,n.style],tabindex:n.disabled||we.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ze,onFocusout:Be,onFocus:Me,onKeydown:Xe,onMousedown:Ee},{default:()=>[j(bQ,{items:d.value,returnObject:n.returnObject},l)]})),{open:G,select:te,focus:Fe,children:$,parents:W,getPath:ae}}}),Pve=In({id:String,submenu:Boolean,...ex(eW({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:QU}}),["absolute"])},"VMenu"),h8=No()({name:"VMenu",props:Pve(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const d=Hi(n,"modelValue"),{scopeId:g}=d8(),{isRtl:v}=Bg(),x=Mg(),_=qe(()=>n.id||`v-menu-${x}`),N=Bn(),R=wa(Q$,null),I=Oo(new Set);_d(Q$,{register(){I.value.add(x)},unregister(){I.value.delete(x)},closeParents(ae){setTimeout(()=>{var ce;!I.value.size&&!n.persistent&&(ae==null||(ce=N.value)!=null&&ce.contentEl&&!Qde(ae,N.value.contentEl))&&(d.value=!1,R==null||R.closeParents())},40)}}),Cc(()=>R==null?void 0:R.unregister()),UL(()=>d.value=!1);async function V(ae){var Ce,ee,we;const ce=ae.relatedTarget,Ve=ae.target;await Er(),d.value&&ce!==Ve&&((Ce=N.value)!=null&&Ce.contentEl)&&((ee=N.value)!=null&&ee.globalTop)&&![document,N.value.contentEl].includes(Ve)&&!N.value.contentEl.contains(Ve)&&((we=tD(N.value.contentEl)[0])==null||we.focus())}Rn(d,ae=>{ae?(R==null||R.register(),document.addEventListener("focusin",V,{once:!0})):(R==null||R.unregister(),document.removeEventListener("focusin",V))});function $(ae){R==null||R.closeParents(ae)}function G(ae){var ce,Ve,Ce,ee,we;if(!n.disabled)if(ae.key==="Tab"||ae.key==="Enter"&&!n.closeOnContentClick){if(ae.key==="Enter"&&(ae.target instanceof HTMLTextAreaElement||ae.target instanceof HTMLInputElement&&ae.target.closest("form")))return;ae.key==="Enter"&&ae.preventDefault(),yX(tD((ce=N.value)==null?void 0:ce.contentEl,!1),ae.shiftKey?"prev":"next",Ze=>Ze.tabIndex>=0)||(d.value=!1,(Ce=(Ve=N.value)==null?void 0:Ve.activatorEl)==null||Ce.focus())}else n.submenu&&ae.key===(v.value?"ArrowRight":"ArrowLeft")&&(d.value=!1,(we=(ee=N.value)==null?void 0:ee.activatorEl)==null||we.focus())}function W(ae){var Ve;if(n.disabled)return;const ce=(Ve=N.value)==null?void 0:Ve.contentEl;ce&&d.value?ae.key==="ArrowDown"?(ae.preventDefault(),ae.stopImmediatePropagation(),WO(ce,"next")):ae.key==="ArrowUp"?(ae.preventDefault(),ae.stopImmediatePropagation(),WO(ce,"prev")):n.submenu&&(ae.key===(v.value?"ArrowRight":"ArrowLeft")?d.value=!1:ae.key===(v.value?"ArrowLeft":"ArrowRight")&&(ae.preventDefault(),WO(ce,"first"))):(n.submenu?ae.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(ae.key))&&(d.value=!0,ae.preventDefault(),setTimeout(()=>setTimeout(()=>W(ae))))}const te=qe(()=>jo({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-owns":_.value,onKeydown:W},n.activatorProps));return yr(()=>{const ae=IL.filterProps(n);return j(IL,jo({ref:N,id:_.value,class:["v-menu",n.class],style:n.style},ae,{modelValue:d.value,"onUpdate:modelValue":ce=>d.value=ce,absolute:!0,activatorProps:te.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":$,onKeydown:G},g),{activator:l.activator,default:function(){for(var ce=arguments.length,Ve=new Array(ce),Ce=0;Ce<ce;Ce++)Ve[Ce]=arguments[Ce];return j(xa,{root:"VMenu"},{default:()=>{var ee;return[(ee=l.default)==null?void 0:ee.call(l,...Ve)]}})}})}),sE({id:_,openChildren:I},N)}}),Mve=In({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Vr(),...rE({transition:{component:UJ}})},"VCounter"),_Q=No()({name:"VCounter",functional:!0,props:Mve(),setup(n,s){let{slots:l}=s;const d=qe(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return yr(()=>j($y,{transition:n.transition},{default:()=>[Mn(j("div",{class:["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class],style:n.style},[l.default?l.default({counter:d.value,max:n.max,value:n.value}):d.value]),[[wo,n.active]])]})),{}}}),Bve=In({floating:Boolean,...Vr()},"VFieldLabel"),XB=No()({name:"VFieldLabel",props:Bve(),setup(n,s){let{slots:l}=s;return yr(()=>j(QJ,{class:["v-field-label",{"v-field-label--floating":n.floating},n.class],style:n.style,"aria-hidden":n.floating||void 0},l)),{}}}),Lve=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],rW=In({appendInnerIcon:mi,bgColor:String,clearable:Boolean,clearIcon:{type:mi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:mi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>Lve.includes(n)},"onClick:clear":lf(),"onClick:appendInner":lf(),"onClick:prependInner":lf(),...Vr(),...GU(),...pm(),...ul()},"VField"),sW=No()({name:"VField",inheritAttrs:!1,props:{id:String,...sQ(),...rW()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const{themeClasses:v}=Zl(n),{loaderClasses:x}=qU(n),{focusClasses:_,isFocused:N,focus:R,blur:I}=f8(n),{InputIcon:V}=rQ(n),{roundedClasses:$}=vm(n),{rtlClasses:G}=Bg(),W=qe(()=>n.dirty||n.active),te=qe(()=>!n.singleLine&&!!(n.label||g.label)),ae=Mg(),ce=qe(()=>n.id||`input-${ae}`),Ve=qe(()=>`${ce.value}-messages`),Ce=Bn(),ee=Bn(),we=Bn(),le=qe(()=>["plain","underlined"].includes(n.variant)),{backgroundColorClasses:Ze,backgroundColorStyles:Be}=Kh(tr(n,"bgColor")),{textColorClasses:Me,textColorStyles:Xe}=Yh(qe(()=>n.error||n.disabled?void 0:W.value&&N.value?n.color:n.baseColor));Rn(W,Ge=>{if(te.value){const ct=Ce.value.$el,$t=ee.value.$el;requestAnimationFrame(()=>{const Jt=PU(ct),tt=$t.getBoundingClientRect(),pt=tt.x-Jt.x,Lt=tt.y-Jt.y-(Jt.height/2-tt.height/2),nt=tt.width/.75,Ye=Math.abs(nt-Jt.width)>1?{maxWidth:br(nt)}:void 0,Mt=getComputedStyle(ct),oo=getComputedStyle($t),zn=parseFloat(Mt.transitionDuration)*1e3||150,fn=parseFloat(oo.getPropertyValue("--v-field-label-scale")),kn=oo.getPropertyValue("color");ct.style.visibility="visible",$t.style.visibility="hidden",BS(ct,{transform:`translate(${pt}px, ${Lt}px) scale(${fn})`,color:kn,...Ye},{duration:zn,easing:wL,direction:Ge?"normal":"reverse"}).finished.then(()=>{ct.style.removeProperty("visibility"),$t.style.removeProperty("visibility")})})}},{flush:"post"});const Ee=qe(()=>({isActive:W,isFocused:N,controlRef:we,blur:I,focus:R}));function Fe(Ge){Ge.target!==document.activeElement&&Ge.preventDefault()}function O(Ge){var ct;Ge.key!=="Enter"&&Ge.key!==" "||(Ge.preventDefault(),Ge.stopPropagation(),(ct=n["onClick:clear"])==null||ct.call(n,new MouseEvent("click")))}return yr(()=>{var pt,Lt,nt;const Ge=n.variant==="outlined",ct=!!(g["prepend-inner"]||n.prependInnerIcon),$t=!!(n.clearable||g.clear),Jt=!!(g["append-inner"]||n.appendInnerIcon||$t),tt=()=>g.label?g.label({...Ee.value,label:n.label,props:{for:ce.value}}):n.label;return j("div",jo({class:["v-field",{"v-field--active":W.value,"v-field--appended":Jt,"v-field--center-affix":n.centerAffix??!le.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":ct,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!tt(),[`v-field--variant-${n.variant}`]:!0},v.value,Ze.value,_.value,x.value,$.value,G.value,n.class],style:[Be.value,n.style],onClick:Fe},l),[j("div",{class:"v-field__overlay"},null),j(OJ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:g.loader}),ct&&j("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&j(V,{key:"prepend-icon",name:"prependInner"},null),(pt=g["prepend-inner"])==null?void 0:pt.call(g,Ee.value)]),j("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&te.value&&j(XB,{key:"floating-label",ref:ee,class:[Me.value],floating:!0,for:ce.value,style:Xe.value},{default:()=>[tt()]}),j(XB,{ref:Ce,for:ce.value},{default:()=>[tt()]}),(Lt=g.default)==null?void 0:Lt.call(g,{...Ee.value,props:{id:ce.value,class:"v-field__input","aria-describedby":Ve.value},focus:R,blur:I})]),$t&&j(ZJ,{key:"clear"},{default:()=>[Mn(j("div",{class:"v-field__clearable",onMousedown:Ye=>{Ye.preventDefault(),Ye.stopPropagation()}},[j(xa,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[g.clear?g.clear({...Ee.value,props:{onKeydown:O,onFocus:R,onBlur:I,onClick:n["onClick:clear"]}}):j(V,{name:"clear",onKeydown:O,onFocus:R,onBlur:I},null)]})]),[[wo,n.dirty]])]}),Jt&&j("div",{key:"append",class:"v-field__append-inner"},[(nt=g["append-inner"])==null?void 0:nt.call(g,Ee.value),n.appendInnerIcon&&j(V,{key:"append-icon",name:"appendInner"},null)]),j("div",{class:["v-field__outline",Me.value],style:Xe.value},[Ge&&j(ir,null,[j("div",{class:"v-field__outline__start"},null),te.value&&j("div",{class:"v-field__outline__notch"},[j(XB,{ref:ee,floating:!0,for:ce.value},{default:()=>[tt()]})]),j("div",{class:"v-field__outline__end"},null)]),le.value&&te.value&&j(XB,{ref:ee,floating:!0,for:ce.value},{default:()=>[tt()]})])])}),{controlRef:we}}});function kQ(n){const s=Object.keys(sW.props).filter(l=>!RU(l)&&l!=="class"&&l!=="style");return gX(n,s)}const Fve=["color","file","time","date","datetime-local","week","month"],iW=In({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...m8(),...rW()},"VTextField"),uD=No()({name:"VTextField",directives:{Intersect:JU},inheritAttrs:!1,props:iW(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const v=Hi(n,"modelValue"),{isFocused:x,focus:_,blur:N}=f8(n),R=qe(()=>typeof n.counterValue=="function"?n.counterValue(v.value):typeof n.counterValue=="number"?n.counterValue:(v.value??"").toString().length),I=qe(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),V=qe(()=>["plain","underlined"].includes(n.variant));function $(le,Ze){var Be,Me;!n.autofocus||!le||(Me=(Be=Ze[0].target)==null?void 0:Be.focus)==null||Me.call(Be)}const G=Bn(),W=Bn(),te=Bn(),ae=qe(()=>Fve.includes(n.type)||n.persistentPlaceholder||x.value||n.active);function ce(){var le;te.value!==document.activeElement&&((le=te.value)==null||le.focus()),x.value||_()}function Ve(le){d("mousedown:control",le),le.target!==te.value&&(ce(),le.preventDefault())}function Ce(le){ce(),d("click:control",le)}function ee(le){le.stopPropagation(),ce(),Er(()=>{v.value=null,bX(n["onClick:clear"],le)})}function we(le){var Be;const Ze=le.target;if(v.value=Ze.value,(Be=n.modelModifiers)!=null&&Be.trim&&["text","search","password","tel","url"].includes(n.type)){const Me=[Ze.selectionStart,Ze.selectionEnd];Er(()=>{Ze.selectionStart=Me[0],Ze.selectionEnd=Me[1]})}}return yr(()=>{const le=!!(g.counter||n.counter!==!1&&n.counter!=null),Ze=!!(le||g.details),[Be,Me]=GL(l),{modelValue:Xe,...Ee}=GS.filterProps(n),Fe=kQ(n);return j(GS,jo({ref:G,modelValue:v.value,"onUpdate:modelValue":O=>v.value=O,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":V.value},n.class],style:n.style},Be,Ee,{centerAffix:!V.value,focused:x.value}),{...g,default:O=>{let{id:Ge,isDisabled:ct,isDirty:$t,isReadonly:Jt,isValid:tt}=O;return j(sW,jo({ref:W,onMousedown:Ve,onClick:Ce,"onClick:clear":ee,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"],role:n.role},Fe,{id:Ge.value,active:ae.value||$t.value,dirty:$t.value||n.dirty,disabled:ct.value,focused:x.value,error:tt.value===!1}),{...g,default:pt=>{let{props:{class:Lt,...nt}}=pt;const Ye=Mn(j("input",jo({ref:te,value:v.value,onInput:we,autofocus:n.autofocus,readonly:Jt.value,disabled:ct.value,name:n.name,placeholder:n.placeholder,size:1,type:n.type,onFocus:ce,onBlur:N},nt,Me),null),[[Qy("intersect"),{handler:$},null,{once:!0}]]);return j(ir,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[j("span",{class:"v-text-field__prefix__text"},[n.prefix])]),g.default?j("div",{class:Lt,"data-no-activator":""},[g.default(),Ye]):O1(Ye,{class:Lt}),n.suffix&&j("span",{class:"v-text-field__suffix"},[j("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:Ze?O=>{var Ge;return j(ir,null,[(Ge=g.details)==null?void 0:Ge.call(g,O),le&&j(ir,null,[j("span",null,null),j(_Q,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),sE({},G,W,te)}}),Vve=In({renderless:Boolean,...Vr()},"VVirtualScrollItem"),zve=No()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Vve(),emits:{"update:height":n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const{resizeRef:v,contentRect:x}=KS(void 0,"border");Rn(()=>{var _;return(_=x.value)==null?void 0:_.height},_=>{_!=null&&d("update:height",_)}),yr(()=>{var _,N;return n.renderless?j(ir,null,[(_=g.default)==null?void 0:_.call(g,{itemRef:v})]):j("div",jo({ref:v,class:["v-virtual-scroll__item",n.class],style:n.style},l),[(N=g.default)==null?void 0:N.call(g)])})}}),Hve=-1,$ve=1,m$=100,Uve=In({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Wve(n,s){const l=JL(),d=Oo(0);df(()=>{d.value=parseFloat(n.itemHeight||0)});const g=Oo(0),v=Oo(Math.ceil((parseInt(n.height)||l.height.value)/(d.value||16))||1),x=Oo(0),_=Oo(0),N=Bn(),R=Bn();let I=0;const{resizeRef:V,contentRect:$}=KS();df(()=>{V.value=N.value});const G=qe(()=>{var pt;return N.value===document.documentElement?l.height.value:((pt=$.value)==null?void 0:pt.height)||parseInt(n.height)||0}),W=qe(()=>!!(N.value&&R.value&&G.value&&d.value));let te=Array.from({length:s.value.length}),ae=Array.from({length:s.value.length});const ce=Oo(0);let Ve=-1;function Ce(pt){return te[pt]||d.value}const ee=Gde(()=>{const pt=performance.now();ae[0]=0;const Lt=s.value.length;for(let nt=1;nt<=Lt-1;nt++)ae[nt]=(ae[nt-1]||0)+Ce(nt-1);ce.value=Math.max(ce.value,performance.now()-pt)},ce),we=Rn(W,pt=>{pt&&(we(),I=R.value.offsetTop,ee.immediate(),ct(),~Ve&&Er(()=>{fi&&window.requestAnimationFrame(()=>{Jt(Ve),Ve=-1})}))});Iu(()=>{ee.clear()});function le(pt,Lt){const nt=te[pt],Ye=d.value;d.value=Ye?Math.min(d.value,Lt):Lt,(nt!==Lt||Ye!==d.value)&&(te[pt]=Lt,ee())}function Ze(pt){return pt=jh(pt,0,s.value.length-1),ae[pt]||0}function Be(pt){return Zve(ae,pt)}let Me=0,Xe=0,Ee=0;Rn(G,(pt,Lt)=>{Lt&&(ct(),pt<Lt&&requestAnimationFrame(()=>{Xe=0,ct()}))});function Fe(){if(!N.value||!R.value)return;const pt=N.value.scrollTop,Lt=performance.now();Lt-Ee>500?(Xe=Math.sign(pt-Me),I=R.value.offsetTop):Xe=pt-Me,Me=pt,Ee=Lt,ct()}function O(){!N.value||!R.value||(Xe=0,Ee=0,ct())}let Ge=-1;function ct(){cancelAnimationFrame(Ge),Ge=requestAnimationFrame($t)}function $t(){if(!N.value||!G.value)return;const pt=Me-I,Lt=Math.sign(Xe),nt=Math.max(0,pt-m$),Ye=jh(Be(nt),0,s.value.length),Mt=pt+G.value+m$,oo=jh(Be(Mt)+1,Ye+1,s.value.length);if((Lt!==Hve||Ye<g.value)&&(Lt!==$ve||oo>v.value)){const zn=Ze(g.value)-Ze(Ye),fn=Ze(oo)-Ze(v.value);Math.max(zn,fn)>m$?(g.value=Ye,v.value=oo):(Ye<=0&&(g.value=Ye),oo>=s.value.length&&(v.value=oo))}x.value=Ze(g.value),_.value=Ze(s.value.length)-Ze(v.value)}function Jt(pt){const Lt=Ze(pt);!N.value||pt&&!Lt?Ve=pt:N.value.scrollTop=Lt}const tt=qe(()=>s.value.slice(g.value,v.value).map((pt,Lt)=>({raw:pt,index:Lt+g.value})));return Rn(s,()=>{te=Array.from({length:s.value.length}),ae=Array.from({length:s.value.length}),ee.immediate(),ct()},{deep:!0}),{calculateVisibleItems:ct,containerRef:N,markerRef:R,computedItems:tt,paddingTop:x,paddingBottom:_,scrollToIndex:Jt,handleScroll:Fe,handleScrollend:O,handleItemResize:le}}function Zve(n,s){let l=n.length-1,d=0,g=0,v=null,x=-1;if(n[l]<s)return l;for(;d<=l;)if(g=d+l>>1,v=n[g],v>s)l=g-1;else if(v<s)x=g,d=g+1;else return v===s?g:d;return x}const jve=In({items:{type:Array,default:()=>[]},renderless:Boolean,...Uve(),...Vr(),...Qh()},"VVirtualScroll"),SQ=No()({name:"VVirtualScroll",props:jve(),setup(n,s){let{slots:l}=s;const d=Rl("VVirtualScroll"),{dimensionStyles:g}=ep(n),{calculateVisibleItems:v,containerRef:x,markerRef:_,handleScroll:N,handleScrollend:R,handleItemResize:I,scrollToIndex:V,paddingTop:$,paddingBottom:G,computedItems:W}=Wve(n,tr(n,"items"));return Ng(()=>n.renderless,()=>{function te(){var Ve,Ce;const ce=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[ce]("scroll",N,{passive:!0}),document[ce]("scrollend",R)):((Ve=x.value)==null||Ve[ce]("scroll",N,{passive:!0}),(Ce=x.value)==null||Ce[ce]("scrollend",R))}Nu(()=>{x.value=OX(d.vnode.el,!0),te(!0)}),Iu(te)}),yr(()=>{const te=W.value.map(ae=>j(zve,{key:ae.index,renderless:n.renderless,"onUpdate:height":ce=>I(ae.index,ce)},{default:ce=>{var Ve;return(Ve=l.default)==null?void 0:Ve.call(l,{item:ae.raw,index:ae.index,...ce})}}));return n.renderless?j(ir,null,[j("div",{ref:_,class:"v-virtual-scroll__spacer",style:{paddingTop:br($.value)}},null),te,j("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:br(G.value)}},null)]):j("div",{ref:x,class:["v-virtual-scroll",n.class],onScrollPassive:N,onScrollend:R,style:[g.value,n.style]},[j("div",{ref:_,class:"v-virtual-scroll__container",style:{paddingTop:br($.value),paddingBottom:br(G.value)}},[te])])}),{calculateVisibleItems:v,scrollToIndex:V}}});function EQ(n,s){const l=Oo(!1);let d;function g(_){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(_=>requestAnimationFrame(_)),await new Promise(_=>requestAnimationFrame(_)),await new Promise(_=>requestAnimationFrame(_)),await new Promise(_=>{if(l.value){const N=Rn(l,()=>{N(),_()})}else _()})}async function x(_){var I,V;if(_.key==="Tab"&&((I=s.value)==null||I.focus()),!["PageDown","PageUp","Home","End"].includes(_.key))return;const N=(V=n.value)==null?void 0:V.$el;if(!N)return;(_.key==="Home"||_.key==="End")&&N.scrollTo({top:_.key==="Home"?0:N.scrollHeight,behavior:"smooth"}),await v();const R=N.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(_.key==="PageDown"||_.key==="Home"){const $=N.getBoundingClientRect().top;for(const G of R)if(G.getBoundingClientRect().top>=$){G.focus();break}}else{const $=N.getBoundingClientRect().bottom;for(const G of[...R].reverse())if(G.getBoundingClientRect().bottom<=$){G.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const AQ=In({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:mi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...yQ({itemChildren:!1})},"Select"),Kve=In({...AQ(),...ex(iW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...rE({transition:{component:QU}})},"VSelect");No()({name:"VSelect",props:Kve(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,s){let{slots:l}=s;const{t:d}=TD(),g=Bn(),v=Bn(),x=Bn(),_=Hi(n,"menu"),N=qe({get:()=>_.value,set:pt=>{var Lt;_.value&&!pt&&((Lt=v.value)!=null&&Lt.openChildren.size)||(_.value=pt)}}),{items:R,transformIn:I,transformOut:V}=wQ(n),$=Hi(n,"modelValue",[],pt=>I(pt===null?[null]:af(pt)),pt=>{const Lt=V(pt);return n.multiple?Lt:Lt[0]??null}),G=qe(()=>typeof n.counterValue=="function"?n.counterValue($.value):typeof n.counterValue=="number"?n.counterValue:$.value.length),W=tW(),te=qe(()=>$.value.map(pt=>pt.value)),ae=Oo(!1),ce=qe(()=>N.value?n.closeText:n.openText);let Ve="",Ce;const ee=qe(()=>n.hideSelected?R.value.filter(pt=>!$.value.some(Lt=>n.valueComparator(Lt,pt))):R.value),we=qe(()=>n.hideNoData&&!ee.value.length||n.readonly||(W==null?void 0:W.isReadonly.value)),le=qe(()=>{var pt;return{...n.menuProps,activatorProps:{...((pt=n.menuProps)==null?void 0:pt.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ze=Bn(),Be=EQ(Ze,g);function Me(pt){n.openOnClear&&(N.value=!0)}function Xe(){we.value||(N.value=!N.value)}function Ee(pt){D$(pt)&&Fe(pt)}function Fe(pt){var Mt,oo;if(!pt.key||n.readonly||W!=null&&W.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(pt.key)&&pt.preventDefault(),["Enter","ArrowDown"," "].includes(pt.key)&&(N.value=!0),["Escape","Tab"].includes(pt.key)&&(N.value=!1),pt.key==="Home"?(Mt=Ze.value)==null||Mt.focus("first"):pt.key==="End"&&((oo=Ze.value)==null||oo.focus("last"));const Lt=1e3;if(n.multiple||!D$(pt))return;const nt=performance.now();nt-Ce>Lt&&(Ve=""),Ve+=pt.key.toLowerCase(),Ce=nt;const Ye=R.value.find(zn=>zn.title.toLowerCase().startsWith(Ve));if(Ye!==void 0){$.value=[Ye];const zn=ee.value.indexOf(Ye);fi&&window.requestAnimationFrame(()=>{var fn;zn>=0&&((fn=x.value)==null||fn.scrollToIndex(zn))})}}function O(pt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!pt.props.disabled)if(n.multiple){const nt=$.value.findIndex(Mt=>n.valueComparator(Mt.value,pt.value)),Ye=Lt??!~nt;if(~nt){const Mt=Ye?[...$.value,pt]:[...$.value];Mt.splice(nt,1),$.value=Mt}else Ye&&($.value=[...$.value,pt])}else{const nt=Lt!==!1;$.value=nt?[pt]:[],Er(()=>{N.value=!1})}}function Ge(pt){var Lt;(Lt=Ze.value)!=null&&Lt.$el.contains(pt.relatedTarget)||(N.value=!1)}function ct(){var pt;n.eager&&((pt=x.value)==null||pt.calculateVisibleItems())}function $t(){var pt;ae.value&&((pt=g.value)==null||pt.focus())}function Jt(pt){ae.value=!0}function tt(pt){if(pt==null)$.value=[];else if(ZS(g.value,":autofill")||ZS(g.value,":-webkit-autofill")){const Lt=R.value.find(nt=>nt.title===pt);Lt&&O(Lt)}else g.value&&(g.value.value="")}return Rn(N,()=>{if(!n.hideSelected&&N.value&&$.value.length){const pt=ee.value.findIndex(Lt=>$.value.some(nt=>n.valueComparator(nt.value,Lt.value)));fi&&window.requestAnimationFrame(()=>{var Lt;pt>=0&&((Lt=x.value)==null||Lt.scrollToIndex(pt))})}}),Rn(()=>n.items,(pt,Lt)=>{N.value||ae.value&&!Lt.length&&pt.length&&(N.value=!0)}),yr(()=>{const pt=!!(n.chips||l.chip),Lt=!!(!n.hideNoData||ee.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),nt=$.value.length>0,Ye=uD.filterProps(n),Mt=nt||!ae.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return j(uD,jo({ref:g},Ye,{modelValue:$.value.map(oo=>oo.props.value).join(", "),"onUpdate:modelValue":tt,focused:ae.value,"onUpdate:focused":oo=>ae.value=oo,validationValue:$.externalValue,counterValue:G.value,dirty:nt,class:["v-select",{"v-select--active-menu":N.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":$.value.length,"v-select--selection-slot":!!l.selection},n.class],style:n.style,inputmode:"none",placeholder:Mt,"onClick:clear":Me,"onMousedown:control":Xe,onBlur:Ge,onKeydown:Fe,"aria-label":d(ce.value),title:d(ce.value)}),{...l,default:()=>j(ir,null,[j(h8,jo({ref:v,modelValue:N.value,"onUpdate:modelValue":oo=>N.value=oo,activator:"parent",contentClass:"v-select__content",disabled:we.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:ct,onAfterLeave:$t},le.value),{default:()=>[Lt&&j(cD,jo({ref:Ze,selected:te.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:oo=>oo.preventDefault(),onKeydown:Ee,onFocusin:Jt,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Be,n.listProps),{default:()=>{var oo,zn,fn;return[(oo=l["prepend-item"])==null?void 0:oo.call(l),!ee.value.length&&!n.hideNoData&&(((zn=l["no-data"])==null?void 0:zn.call(l))??j(xc,{title:d(n.noDataText)},null)),j(SQ,{ref:x,renderless:!0,items:ee.value},{default:kn=>{var Do;let{item:J,index:Cr,itemRef:eo}=kn;const tn=jo(J.props,{ref:eo,key:Cr,onClick:()=>O(J,null)});return((Do=l.item)==null?void 0:Do.call(l,{item:J,index:Cr,props:tn}))??j(xc,jo(tn,{role:"option"}),{prepend:Ke=>{let{isSelected:ie}=Ke;return j(ir,null,[n.multiple&&!n.hideSelected?j(NL,{key:J.value,modelValue:ie,ripple:!1,tabindex:"-1"},null):void 0,J.props.prependAvatar&&j(Yy,{image:J.props.prependAvatar},null),J.props.prependIcon&&j(jn,{icon:J.props.prependIcon},null)])}})}}),(fn=l["append-item"])==null?void 0:fn.call(l)]}})]}),$.value.map((oo,zn)=>{function fn(eo){eo.stopPropagation(),eo.preventDefault(),O(oo,!1)}const kn={"onClick:close":fn,onKeydown(eo){eo.key!=="Enter"&&eo.key!==" "||(eo.preventDefault(),eo.stopPropagation(),fn(eo))},onMousedown(eo){eo.preventDefault(),eo.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},J=pt?!!l.chip:!!l.selection,Cr=J?NU(pt?l.chip({item:oo,index:zn,props:kn}):l.selection({item:oo,index:zn})):void 0;if(!(J&&!Cr))return j("div",{key:oo.value,class:"v-select__selection"},[pt?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:oo.title}}},{default:()=>[Cr]}):j(uQ,jo({key:"chip",closable:n.closableChips,size:"small",text:oo.title,disabled:oo.props.disabled},kn),null):Cr??j("span",{class:"v-select__selection-text"},[oo.title,n.multiple&&zn<$.value.length-1&&j("span",{class:"v-select__selection-comma"},[Hs(",")])])])})]),"append-inner":function(){var kn;for(var oo=arguments.length,zn=new Array(oo),fn=0;fn<oo;fn++)zn[fn]=arguments[fn];return j(ir,null,[(kn=l["append-inner"])==null?void 0:kn.call(l,...zn),n.menuIcon?j(jn,{class:"v-select__menu-icon",icon:n.menuIcon},null):void 0])}})}),sE({isFocused:ae,menu:N,select:O},g)}});const Gve=(n,s,l)=>n==null||s==null?-1:n.toString().toLocaleLowerCase().indexOf(s.toString().toLocaleLowerCase()),qve=In({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Yve(n,s,l){var _;const d=[],g=(l==null?void 0:l.default)??Gve,v=l!=null&&l.filterKeys?af(l.filterKeys):!1,x=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return d;e:for(let N=0;N<n.length;N++){const[R,I=R]=af(n[N]),V={},$={};let G=-1;if((s||x>0)&&!(l!=null&&l.noFilter)){if(typeof R=="object"){const ae=v||Object.keys(I);for(const ce of ae){const Ve=hv(I,ce),Ce=(_=l==null?void 0:l.customKeyFilter)==null?void 0:_[ce];if(G=Ce?Ce(Ve,s,R):g(Ve,s,R),G!==-1&&G!==!1)Ce?V[ce]=G:$[ce]=G;else if((l==null?void 0:l.filterMode)==="every")continue e}}else G=g(R,s,R),G!==-1&&G!==!1&&($.title=G);const W=Object.keys($).length,te=Object.keys(V).length;if(!W&&!te||(l==null?void 0:l.filterMode)==="union"&&te!==x&&!W||(l==null?void 0:l.filterMode)==="intersection"&&(te!==x||!W))continue}d.push({index:N,matches:{...$,...V}})}return d}function Xve(n,s,l,d){const g=Bn([]),v=Bn(new Map),x=qe(()=>oe(s));df(()=>{const N=typeof l=="function"?l():oe(l),R=typeof N!="string"&&typeof N!="number"?"":String(N),I=Yve(x.value,R,{customKeyFilter:{...n.customKeyFilter,...oe(d==null?void 0:d.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),V=oe(s),$=[],G=new Map;I.forEach(W=>{let{index:te,matches:ae}=W;const ce=V[te];$.push(ce),G.set(ce.value,ae)}),g.value=$,v.value=G});function _(N){return v.value.get(N.value)}return{filteredItems:g,filteredMatches:v,getMatches:_}}function Jve(n,s,l){if(s==null)return n;if(Array.isArray(s))throw new Error("Multiple matches is not implemented");return typeof s=="number"&&~s?j(ir,null,[j("span",{class:"v-autocomplete__unmask"},[n.substr(0,s)]),j("span",{class:"v-autocomplete__mask"},[n.substr(s,l)]),j("span",{class:"v-autocomplete__unmask"},[n.substr(s+l)])]):n}const Qve=In({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...qve({filterKeys:["title"]}),...AQ(),...ex(iW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...rE({transition:!1})},"VAutocomplete"),ebe=No()({name:"VAutocomplete",props:Qve(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,s){let{slots:l}=s;const{t:d}=TD(),g=Bn(),v=Oo(!1),x=Oo(!0),_=Oo(!1),N=Bn(),R=Bn(),I=Hi(n,"menu"),V=qe({get:()=>I.value,set:tn=>{var Do;I.value&&!tn&&((Do=N.value)!=null&&Do.openChildren.size)||(I.value=tn)}}),$=Oo(-1),G=qe(()=>{var tn;return(tn=g.value)==null?void 0:tn.color}),W=qe(()=>V.value?n.closeText:n.openText),{items:te,transformIn:ae,transformOut:ce}=wQ(n),{textColorClasses:Ve,textColorStyles:Ce}=Yh(G),ee=Hi(n,"search",""),we=Hi(n,"modelValue",[],tn=>ae(tn===null?[null]:af(tn)),tn=>{const Do=ce(tn);return n.multiple?Do:Do[0]??null}),le=qe(()=>typeof n.counterValue=="function"?n.counterValue(we.value):typeof n.counterValue=="number"?n.counterValue:we.value.length),Ze=tW(),{filteredItems:Be,getMatches:Me}=Xve(n,te,()=>x.value?"":ee.value),Xe=qe(()=>n.hideSelected?Be.value.filter(tn=>!we.value.some(Do=>Do.value===tn.value)):Be.value),Ee=qe(()=>!!(n.chips||l.chip)),Fe=qe(()=>Ee.value||!!l.selection),O=qe(()=>we.value.map(tn=>tn.props.value)),Ge=qe(()=>{var Do;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&ee.value===((Do=Xe.value[0])==null?void 0:Do.title))&&Xe.value.length>0&&!x.value&&!_.value}),ct=qe(()=>n.hideNoData&&!Xe.value.length||n.readonly||(Ze==null?void 0:Ze.isReadonly.value)),$t=Bn(),Jt=EQ($t,g);function tt(tn){n.openOnClear&&(V.value=!0),ee.value=""}function pt(){ct.value||(V.value=!0)}function Lt(tn){ct.value||(v.value&&(tn.preventDefault(),tn.stopPropagation()),V.value=!V.value)}function nt(tn){var Do;D$(tn)&&((Do=g.value)==null||Do.focus())}function Ye(tn){var ie,be,Le;if(n.readonly||Ze!=null&&Ze.isReadonly.value)return;const Do=g.value.selectionStart,Ke=we.value.length;if(($.value>-1||["Enter","ArrowDown","ArrowUp"].includes(tn.key))&&tn.preventDefault(),["Enter","ArrowDown"].includes(tn.key)&&(V.value=!0),["Escape"].includes(tn.key)&&(V.value=!1),Ge.value&&["Enter","Tab"].includes(tn.key)&&!we.value.some(he=>{let{value:gt}=he;return gt===Xe.value[0].value})&&eo(Xe.value[0]),tn.key==="ArrowDown"&&Ge.value&&((ie=$t.value)==null||ie.focus("next")),["Backspace","Delete"].includes(tn.key)){if(!n.multiple&&Fe.value&&we.value.length>0&&!ee.value)return eo(we.value[0],!1);if(~$.value){const he=$.value;eo(we.value[$.value],!1),$.value=he>=Ke-1?Ke-2:he}else tn.key==="Backspace"&&!ee.value&&($.value=Ke-1)}if(n.multiple){if(tn.key==="ArrowLeft"){if($.value<0&&Do>0)return;const he=$.value>-1?$.value-1:Ke-1;we.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange((be=ee.value)==null?void 0:be.length,(Le=ee.value)==null?void 0:Le.length))}if(tn.key==="ArrowRight"){if($.value<0)return;const he=$.value+1;we.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange(0,0))}}}function Mt(tn){if(ZS(g.value,":autofill")||ZS(g.value,":-webkit-autofill")){const Do=te.value.find(Ke=>Ke.title===tn.target.value);Do&&eo(Do)}}function oo(){var tn;n.eager&&((tn=R.value)==null||tn.calculateVisibleItems())}function zn(){var tn;v.value&&(x.value=!0,(tn=g.value)==null||tn.focus())}function fn(tn){v.value=!0,setTimeout(()=>{_.value=!0})}function kn(tn){_.value=!1}function J(tn){(tn==null||tn===""&&!n.multiple&&!Fe.value)&&(we.value=[])}const Cr=Oo(!1);function eo(tn){let Do=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!tn||tn.props.disabled))if(n.multiple){const Ke=we.value.findIndex(be=>n.valueComparator(be.value,tn.value)),ie=Do??!~Ke;if(~Ke){const be=ie?[...we.value,tn]:[...we.value];be.splice(Ke,1),we.value=be}else ie&&(we.value=[...we.value,tn]);n.clearOnSelect&&(ee.value="")}else{const Ke=Do!==!1;we.value=Ke?[tn]:[],ee.value=Ke&&!Fe.value?tn.title:"",Er(()=>{V.value=!1,x.value=!0})}}return Rn(v,(tn,Do)=>{var Ke;tn!==Do&&(tn?(Cr.value=!0,ee.value=n.multiple||Fe.value?"":String(((Ke=we.value.at(-1))==null?void 0:Ke.props.title)??""),x.value=!0,Er(()=>Cr.value=!1)):(!n.multiple&&ee.value==null&&(we.value=[]),V.value=!1,we.value.some(ie=>{let{title:be}=ie;return be===ee.value})||(ee.value=""),$.value=-1))}),Rn(ee,tn=>{!v.value||Cr.value||(tn&&(V.value=!0),x.value=!tn)}),Rn(V,()=>{if(!n.hideSelected&&V.value&&we.value.length){const tn=Xe.value.findIndex(Do=>we.value.some(Ke=>Do.value===Ke.value));fi&&window.requestAnimationFrame(()=>{var Do;tn>=0&&((Do=R.value)==null||Do.scrollToIndex(tn))})}}),Rn(()=>n.items,(tn,Do)=>{V.value||v.value&&!Do.length&&tn.length&&(V.value=!0)}),yr(()=>{const tn=!!(!n.hideNoData||Xe.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),Do=we.value.length>0,Ke=uD.filterProps(n);return j(uD,jo({ref:g},Ke,{modelValue:ee.value,"onUpdate:modelValue":[ie=>ee.value=ie,J],focused:v.value,"onUpdate:focused":ie=>v.value=ie,validationValue:we.externalValue,counterValue:le.value,dirty:Do,onChange:Mt,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":V.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!Fe.value,"v-autocomplete--selecting-index":$.value>-1},n.class],style:n.style,readonly:n.readonly,placeholder:Do?void 0:n.placeholder,"onClick:clear":tt,"onMousedown:control":pt,onKeydown:Ye}),{...l,default:()=>j(ir,null,[j(h8,jo({ref:N,modelValue:V.value,"onUpdate:modelValue":ie=>V.value=ie,activator:"parent",contentClass:"v-autocomplete__content",disabled:ct.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:oo,onAfterLeave:zn},n.menuProps),{default:()=>[tn&&j(cD,jo({ref:$t,selected:O.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:ie=>ie.preventDefault(),onKeydown:nt,onFocusin:fn,onFocusout:kn,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Jt,n.listProps),{default:()=>{var ie,be,Le;return[(ie=l["prepend-item"])==null?void 0:ie.call(l),!Xe.value.length&&!n.hideNoData&&(((be=l["no-data"])==null?void 0:be.call(l))??j(xc,{title:d(n.noDataText)},null)),j(SQ,{ref:R,renderless:!0,items:Xe.value},{default:he=>{var Vt;let{item:gt,index:zt,itemRef:vt}=he;const Ft=jo(gt.props,{ref:vt,key:zt,active:Ge.value&&zt===0?!0:void 0,onClick:()=>eo(gt,null)});return((Vt=l.item)==null?void 0:Vt.call(l,{item:gt,index:zt,props:Ft}))??j(xc,jo(Ft,{role:"option"}),{prepend:wn=>{let{isSelected:cn}=wn;return j(ir,null,[n.multiple&&!n.hideSelected?j(NL,{key:gt.value,modelValue:cn,ripple:!1,tabindex:"-1"},null):void 0,gt.props.prependAvatar&&j(Yy,{image:gt.props.prependAvatar},null),gt.props.prependIcon&&j(jn,{icon:gt.props.prependIcon},null)])},title:()=>{var wn,cn;return x.value?gt.title:Jve(gt.title,(wn=Me(gt))==null?void 0:wn.title,((cn=ee.value)==null?void 0:cn.length)??0)}})}}),(Le=l["append-item"])==null?void 0:Le.call(l)]}})]}),we.value.map((ie,be)=>{function Le(vt){vt.stopPropagation(),vt.preventDefault(),eo(ie,!1)}const he={"onClick:close":Le,onKeydown(vt){vt.key!=="Enter"&&vt.key!==" "||(vt.preventDefault(),vt.stopPropagation(),Le(vt))},onMousedown(vt){vt.preventDefault(),vt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},gt=Ee.value?!!l.chip:!!l.selection,zt=gt?NU(Ee.value?l.chip({item:ie,index:be,props:he}):l.selection({item:ie,index:be})):void 0;if(!(gt&&!zt))return j("div",{key:ie.value,class:["v-autocomplete__selection",be===$.value&&["v-autocomplete__selection--selected",Ve.value]],style:be===$.value?Ce.value:{}},[Ee.value?l.chip?j(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:ie.title}}},{default:()=>[zt]}):j(uQ,jo({key:"chip",closable:n.closableChips,size:"small",text:ie.title,disabled:ie.props.disabled},he),null):zt??j("span",{class:"v-autocomplete__selection-text"},[ie.title,n.multiple&&be<we.value.length-1&&j("span",{class:"v-autocomplete__selection-comma"},[Hs(",")])])])})]),"append-inner":function(){var he;for(var ie=arguments.length,be=new Array(ie),Le=0;Le<ie;Le++)be[Le]=arguments[Le];return j(ir,null,[(he=l["append-inner"])==null?void 0:he.call(l,...be),n.menuIcon?j(jn,{class:"v-autocomplete__menu-icon",icon:n.menuIcon,onMousedown:Lt,onClick:Xde,"aria-label":d(W.value),title:d(W.value),tabindex:"-1"},null):void 0])}})}),sE({isFocused:v,isPristine:x,menu:V,search:ee,filteredItems:Be,select:eo},g)}}),tbe={__name:"Items",setup(n){const s=dr(),l=pv(),d=oc(),g=rD(),v=wv(),x=nc();Dl();const _=Bn(!1),N=Bn(!1),R=Bn("");Bn(!1);async function I(){await Er(),_.value&&(N.value=!0,R.value="")}async function V(){_.value=!1,!s.isLoading&&R.value!=""&&$(R.value)}async function $(G){s.isLoading||(!await x.hasChangesInStorage()||await s.saveChangesToBackend(!0)?await s.loadItemFromBackend(G):s.setShowSendFailure(!0))}return(G,W)=>(_n(),Bo(ir,null,[j(vo,{class:"app-header-item",disabled:oe(s).isLoading||oe(s).itemKey==oe(l).firstKey,onClick:W[0]||(W[0]=te=>$(oe(l).getPreviousKey(oe(s).itemKey)))},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-arrow-left-bold"}),W[6]||(W[6]=ye("span",{class:"sr-only"},"Vorheriger Teilnehmer",-1))]),_:1},8,["disabled"]),j(vo,{class:"app-header-item",disabled:oe(s).isLoading,id:"app-items-menu-activator"},{default:Ct(()=>[Mn(ye("span",null," Lade Daten ... ",512),[[wo,oe(s).isLoading]]),Mn(ye("span",null,ko(oe(l).currentItem.title)+" "+ko(oe(v).getPositionText(oe(s).correctorKey))+" "+ko(oe(s).isForReviewOrStitch?oe(g).isFinalized?" - finalisiert":" - offen":oe(d).isOwnAuthorized?" - autorisiert":" - offen"),513),[[wo,!oe(s).isLoading&&oe(l).currentItem!==void 0]])]),_:1},8,["disabled"]),j(h8,{disabled:oe(s).isLoading,modelValue:_.value,"onUpdate:modelValue":[W[3]||(W[3]=te=>_.value=te),W[4]||(W[4]=te=>I())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:Ct(()=>[N.value?(_n(),Xr(ebe,{key:0,id:"app-items-autocomplete",modelValue:R.value,"onUpdate:modelValue":[W[1]||(W[1]=te=>R.value=te),W[2]||(W[2]=te=>V())],items:oe(l).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:"Teilnehmer/in","prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items"])):vr("",!0)]),_:1},8,["disabled","modelValue"]),j(vo,{class:"app-header-item",disabled:oe(s).isLoading||oe(s).itemKey==oe(l).lastKey,onClick:W[5]||(W[5]=te=>$(oe(l).getNextKey(oe(s).itemKey)))},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-arrow-right-bold"}),W[7]||(W[7]=ye("span",{class:"sr-only"},"Nchster Teilnehmer",-1))]),_:1},8,["disabled"])],64))}},nbe={id:"app-stitch-decision-wrapper"},obe=["min","max"],rbe=["innerHTML"],sbe={__name:"StitchDecision",setup(n){const s=dr(),l=rD(),d=pv(),g=oc();let v=Bn(!1),x=Bn(!1);async function _(){if(v.value=!1,await l.saveStitchDecision(),!l.correction_finalized)x.value=!0;else{let R=d.getNextKey(s.itemKey);R!=""&&s.loadItemFromBackend(R)}}async function N(){v.value=!1,await l.saveStitchDecision(),l.correction_finalized?window.location=s.returnUrl:x.value=!0}return(R,I)=>(_n(),Bo("div",nbe,[j(vo,{class:"app-header-item",disabled:oe(l).correction_finalized,onClick:I[0]||(I[0]=V=>Bs(v)?v.value=!0:v=!0)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-checkbox-marked-outline"}),I[9]||(I[9]=Hs(" Stichentscheid "))]),_:1},8,["disabled"]),j(yv,{persistent:"",modelValue:oe(v),"onUpdate:modelValue":I[6]||(I[6]=V=>Bs(v)?v.value=V:v=V)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(u8,null,{default:Ct(()=>I[10]||(I[10]=[Hs("Stichentscheid")])),_:1}),j(Wh,null,{default:Ct(()=>[I[14]||(I[14]=ye("p",null," Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen. ",-1)),I[15]||(I[15]=ye("br",null,null,-1)),ye("p",null,"Minimale Punkte: "+ko(oe(g).minPoints),1),ye("p",null,"Maximale Punkte: "+ko(oe(g).maxPoints),1),I[16]||(I[16]=ye("br",null,null,-1)),ye("p",null,[I[11]||(I[11]=ye("label",{for:"appFinalPoints"},"Finale Punkte: ",-1)),Mn(ye("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:oe(g).minPoints,max:oe(g).maxPoints,"onUpdate:modelValue":I[1]||(I[1]=V=>oe(l).final_points=V)},null,8,obe),[[D1,oe(l).final_points]]),ye("span",{innerHTML:oe(l).grade},null,8,rbe),I[12]||(I[12]=ye("br",null,null,-1)),I[13]||(I[13]=ye("label",{for:"appStitchComment"},"Begrndung: ",-1)),Mn(ye("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":I[2]||(I[2]=V=>oe(l).stitch_comment=V)},null,512),[[D1,oe(l).stitch_comment]])])]),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:I[3]||(I[3]=V=>_()),disabled:oe(l).final_points===null||oe(l).final_points===""||!oe(l).stitch_comment},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-check"}),I[17]||(I[17]=ye("span",null,"Festlegen und Weiter",-1))]),_:1},8,["disabled"]),j(vo,{onClick:I[4]||(I[4]=V=>N()),disabled:oe(l).final_points===null||oe(l).final_points===""||!oe(l).stitch_comment},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-check"}),I[18]||(I[18]=ye("span",null,"Festlegen und Schlieen",-1))]),_:1},8,["disabled"]),j(vo,{onClick:I[5]||(I[5]=V=>Bs(v)?v.value=!1:v=!1)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-close"}),I[19]||(I[19]=ye("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(yv,{persistent:"",modelValue:oe(x),"onUpdate:modelValue":I[8]||(I[8]=V=>Bs(x)?x.value=V:x=V)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>I[20]||(I[20]=[ye("p",null,"Ihr Stichentscheid konnte nicht bertragen werden. Bitte versuchen Sie es spter noch einmal.",-1)])),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:I[7]||(I[7]=V=>Bs(x)?x.value=!1:x=!1)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-close"}),I[21]||(I[21]=ye("span",null,"Meldung schlieen",-1))]),_:1}),j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),I[22]||(I[22]=ye("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ibe=dl(sbe,[["__scopeId","data-v-2931e2f5"]]),abe=In({fluid:{type:Boolean,default:!1},...Vr(),...Qh(),...Qi()},"VContainer"),PL=No()({name:"VContainer",props:abe(),setup(n,s){let{slots:l}=s;const{rtlClasses:d}=Bg(),{dimensionStyles:g}=ep(n);return yr(()=>j(n.tag,{class:["v-container",{"v-container--fluid":n.fluid},d.value,n.class],style:[g.value,n.style]},l)),{}}}),TQ=XL.reduce((n,s)=>(n[s]={type:[Boolean,String,Number],default:!1},n),{}),OQ=XL.reduce((n,s)=>{const l="offset"+I1(s);return n[l]={type:[String,Number],default:null},n},{}),DQ=XL.reduce((n,s)=>{const l="order"+I1(s);return n[l]={type:[String,Number],default:null},n},{}),Oq={col:Object.keys(TQ),offset:Object.keys(OQ),order:Object.keys(DQ)};function lbe(n,s,l){let d=n;if(!(l==null||l===!1)){if(s){const g=s.replace(n,"");d+=`-${g}`}return n==="col"&&(d="v-"+d),n==="col"&&(l===""||l===!0)||(d+=`-${l}`),d.toLowerCase()}}const cbe=["auto","start","end","center","baseline","stretch"],ube=In({cols:{type:[Boolean,String,Number],default:!1},...TQ,offset:{type:[String,Number],default:null},...OQ,order:{type:[String,Number],default:null},...DQ,alignSelf:{type:String,default:null,validator:n=>cbe.includes(n)},...Vr(),...Qi()},"VCol"),Ia=No()({name:"VCol",props:ube(),setup(n,s){let{slots:l}=s;const d=qe(()=>{const g=[];let v;for(v in Oq)Oq[v].forEach(_=>{const N=n[_],R=lbe(v,_,N);R&&g.push(R)});const x=g.some(_=>_.startsWith("v-col-"));return g.push({"v-col":!x||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),g});return()=>{var g;return _v(n.tag,{class:[d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),aW=["start","end","center"],RQ=["space-between","space-around","space-evenly"];function lW(n,s){return XL.reduce((l,d)=>{const g=n+I1(d);return l[g]=s(),l},{})}const dbe=[...aW,"baseline","stretch"],IQ=n=>dbe.includes(n),NQ=lW("align",()=>({type:String,default:null,validator:IQ})),fbe=[...aW,...RQ],PQ=n=>fbe.includes(n),MQ=lW("justify",()=>({type:String,default:null,validator:PQ})),mbe=[...aW,...RQ,"stretch"],BQ=n=>mbe.includes(n),LQ=lW("alignContent",()=>({type:String,default:null,validator:BQ})),Dq={align:Object.keys(NQ),justify:Object.keys(MQ),alignContent:Object.keys(LQ)},gbe={align:"align",justify:"justify",alignContent:"align-content"};function hbe(n,s,l){let d=gbe[n];if(l!=null){if(s){const g=s.replace(n,"");d+=`-${g}`}return d+=`-${l}`,d.toLowerCase()}}const pbe=In({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:IQ},...NQ,justify:{type:String,default:null,validator:PQ},...MQ,alignContent:{type:String,default:null,validator:BQ},...LQ,...Vr(),...Qi()},"VRow"),Rg=No()({name:"VRow",props:pbe(),setup(n,s){let{slots:l}=s;const d=qe(()=>{const g=[];let v;for(v in Dq)Dq[v].forEach(x=>{const _=n[x],N=hbe(v,x,_);N&&g.push(N)});return g.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),g});return()=>{var g;return _v(n.tag,{class:["v-row",d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),cW=qL("v-spacer","div","VSpacer"),vbe=["value"],bbe=["value"],ybe=["value"],xbe={for:"appIncludeRatings"},wbe=["value"],Cbe=["value"],_be=["value"],kbe=["value"],Sbe=["value"],Ebe=["value"],Abe=["value"],Tbe=["value"],Obe=["value"],FQ={__name:"OwnSummaryIncludes",setup(n){const s=Dl(),l=oc(),d=hm(),g=Zy(),v=Du();Bn(!1),Bn([{title:"Nicht einbeziehen",value:pr.INCLUDE_NOT},{title:"informativ",value:pr.INCLUDE_INFO},{title:"bewertungsrelevant",value:pr.INCLUDE_RELEVANT}]);const x=Bn({}),_=Bn(!1);x.value=l.currentInclusionSettings;async function N(){if(s.showIncludesPopup){await Er();const I=document.getElementById("app-own-summary-includes-container");for(const V of I.getElementsByTagName("label"))V.classList.contains("v-label")&&V.remove()}}Rn(()=>s.showIncludesPopup,N);function R(){x.value.include_comments==pr.INCLUDE_NOT&&(x.value.include_comment_ratings=pr.INCLUDE_NOT,x.value.include_comment_points=pr.INCLUDE_NOT),l.editSummary.setData(x.value),_.value&&(g.setSummaryInclusions(x.value),_.value=!1),s.showIncludesPopup=!1}return(I,V)=>(_n(),Bo("span",null,[V[18]||(V[18]=ye("strong",null,"Einbeziehen:",-1)),Hs(" "+ko(oe(l).getInclusionText(oe(l).editSummary))+" ",1),j(yv,{"max-width":"50em",persistent:"",modelValue:oe(s).showIncludesPopup,"onUpdate:modelValue":V[7]||(V[7]=$=>oe(s).showIncludesPopup=$)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(u8,null,{default:Ct(()=>V[8]||(V[8]=[Hs("In die PDF-Dokumentation der Korrektur einbeziehen")])),_:1}),j(Wh,null,{default:Ct(()=>[j(PL,{id:"app-own-summary-includes-container"},{default:Ct(()=>[j(Rg,null,{default:Ct(()=>[j(Ia,null,{default:Ct(()=>V[9]||(V[9]=[ye("label",{for:"appIncludeComments"},"Markierungen und Anmerkungen",-1)])),_:1}),j(Ia,null,{default:Ct(()=>[Mn(ye("select",{id:"appIncludeComments",class:"appIncludesSelect","onUpdate:modelValue":V[0]||(V[0]=$=>x.value.include_comments=$)},[ye("option",{value:oe(pr).INCLUDE_NOT},"Nicht einbeziehen",8,vbe),ye("option",{value:oe(pr).INCLUDE_INFO},"informativ",8,bbe),ye("option",{value:oe(pr).INCLUDE_RELEVANT},"bewertungsrelevant",8,ybe)],512),[[zB,x.value.include_comments]]),V[10]||(V[10]=ye("small",null,"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt.",-1))]),_:1})]),_:1}),Mn(j(Rg,null,{default:Ct(()=>[j(Ia,null,{default:Ct(()=>[ye("label",xbe,ko(oe(v).ratingLabels),1)]),_:1}),j(Ia,null,{default:Ct(()=>[Mn(ye("select",{id:"appIncludeRatings",class:"appIncludesSelect","onUpdate:modelValue":V[1]||(V[1]=$=>x.value.include_comment_ratings=$)},[ye("option",{value:oe(pr).INCLUDE_NOT},"Nicht einbeziehen",8,wbe),ye("option",{value:oe(pr).INCLUDE_INFO},"informativ",8,Cbe),ye("option",{value:oe(pr).INCLUDE_RELEVANT},"bewertungsrelevant",8,_be)],512),[[zB,x.value.include_comment_ratings]]),V[11]||(V[11]=ye("small",null,"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt.",-1))]),_:1})]),_:1},512),[[wo,x.value.include_comments>oe(pr).INCLUDE_NOT]]),Mn(j(Rg,null,{default:Ct(()=>[j(Ia,null,{default:Ct(()=>V[12]||(V[12]=[ye("label",{for:"appIncludeCommentPoints"},"Punkte zu Anmerkungen",-1)])),_:1}),j(Ia,null,{default:Ct(()=>[Mn(ye("select",{id:"appIncludeCommentPoints",class:"appIncludesSelect","onUpdate:modelValue":V[2]||(V[2]=$=>x.value.include_comment_points=$)},[ye("option",{value:oe(pr).INCLUDE_NOT},"Nicht einbeziehen",8,kbe),ye("option",{value:oe(pr).INCLUDE_INFO},"informativ",8,Sbe),ye("option",{value:oe(pr).INCLUDE_RELEVANT},"bewertungsrelevant",8,Ebe)],512),[[zB,x.value.include_comment_points]]),V[13]||(V[13]=ye("small",null,"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt.",-1))]),_:1})]),_:1},512),[[wo,x.value.include_comments>oe(pr).INCLUDE_NOT]]),Mn(j(Rg,null,{default:Ct(()=>[j(Ia,null,{default:Ct(()=>V[14]||(V[14]=[ye("label",{for:"appIncludeCriteriaPoints"},"Punkte zu Kriterien",-1)])),_:1}),j(Ia,null,{default:Ct(()=>[Mn(ye("select",{id:"appIncludeCriteriaPoints",class:"appIncludesSelect","onUpdate:modelValue":V[3]||(V[3]=$=>x.value.include_criteria_points=$)},[ye("option",{value:oe(pr).INCLUDE_NOT},"Nicht einbeziehen",8,Abe),ye("option",{value:oe(pr).INCLUDE_INFO},"informativ",8,Tbe),ye("option",{value:oe(pr).INCLUDE_RELEVANT},"bewertungsrelevant",8,Obe)],512),[[zB,x.value.include_criteria_points]]),V[15]||(V[15]=ye("small",null,"Es wird eine Tabelle mit den Kriterien und den dafr erreichten Punkten angezeigt.",-1))]),_:1})]),_:1},512),[[wo,oe(d).hasOwnCriteria]])]),_:1}),j(ove,{modelValue:_.value,"onUpdate:modelValue":V[4]||(V[4]=$=>_.value=$),label:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."},null,8,["modelValue"])]),_:1}),j(Uh,null,{default:Ct(()=>[j(cW),j(vo,{onClick:V[5]||(V[5]=$=>R())},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-check"}),V[16]||(V[16]=ye("span",null,"bernehmen",-1))]),_:1}),j(vo,{onClick:V[6]||(V[6]=$=>oe(s).showIncludesPopup=!1)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-close"}),V[17]||(V[17]=ye("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Dbe={__name:"SumOfPoints",props:["corrector_key"],setup(n){const s=Du(),l=Pg(),d=hm(),g=n,v=d.getCorrectorHasGeneralCriteria(g.corrector_key),x=d.getCorrectorHasCommentCriteria(g.corrector_key);function _(){const N=l.getSumOfPointsForCorrector(g.corrector_key,!0),R=l.getSumOfPointsForCorrector(g.corrector_key,!1);return R+N==0?"":v?x?"("+N+" zu Kriterien bei Anmerkungen, "+R+" zu allgemeinen Kriterien)":"("+N+" zu Anmerkungen, "+R+" zu allgemeinen Kriterien)":x?"(zu Kriterien bei Anmerkungen)":"(zu Anmerkungen)"}return(N,R)=>(_n(),Bo("span",null,[R[0]||(R[0]=ye("strong",null,"Punktesumme: ",-1)),ye("span",{class:qc(oe(l).getSumOfPointsForCorrector(g.corrector_key)>oe(s).max_points?"red":"")},ko(oe(l).getSumOfPointsForCorrector(g.corrector_key))+" von max. "+ko(oe(s).max_points),3),Hs(" "+ko(_()),1)]))}},uW=dl(Dbe,[["__scopeId","data-v-c5a681fc"]]),Rbe=qL("v-alert-title"),Ibe=["success","info","warning","error"],Nbe=In({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:mi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>Ibe.includes(n)},...Vr(),...Lg(),...Qh(),...B1(),...i8(),...YU(),...pm(),...Qi(),...ul(),...F1({variant:"flat"})},"VAlert"),JB=No()({name:"VAlert",props:Nbe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{emit:l,slots:d}=s;const g=Hi(n,"modelValue"),v=qe(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),x=qe(()=>({color:n.color??n.type,variant:n.variant})),{themeClasses:_}=Zl(n),{colorClasses:N,colorStyles:R,variantClasses:I}=oE(x),{densityClasses:V}=Jh(n),{dimensionStyles:$}=ep(n),{elevationClasses:G}=L1(n),{locationStyles:W}=a8(n),{positionClasses:te}=XU(n),{roundedClasses:ae}=vm(n),{textColorClasses:ce,textColorStyles:Ve}=Yh(tr(n,"borderColor")),{t:Ce}=TD(),ee=qe(()=>({"aria-label":Ce(n.closeLabel),onClick(we){g.value=!1,l("click:close",we)}}));return()=>{const we=!!(d.prepend||v.value),le=!!(d.title||n.title),Ze=!!(d.close||n.closable);return g.value&&j(n.tag,{class:["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},_.value,N.value,V.value,G.value,te.value,ae.value,I.value,n.class],style:[R.value,$.value,W.value,n.style],role:"alert"},{default:()=>{var Be,Me;return[nE(!1,"v-alert"),n.border&&j("div",{key:"border",class:["v-alert__border",ce.value],style:Ve.value},null),we&&j("div",{key:"prepend",class:"v-alert__prepend"},[d.prepend?j(xa,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:n.density,icon:v.value,size:n.prominent?44:28}}},d.prepend):j(jn,{key:"prepend-icon",density:n.density,icon:v.value,size:n.prominent?44:28},null)]),j("div",{class:"v-alert__content"},[le&&j(Rbe,{key:"title"},{default:()=>{var Xe;return[((Xe=d.title)==null?void 0:Xe.call(d))??n.title]}}),((Be=d.text)==null?void 0:Be.call(d))??n.text,(Me=d.default)==null?void 0:Me.call(d)]),d.append&&j("div",{key:"append",class:"v-alert__append"},[d.append()]),Ze&&j("div",{key:"close",class:"v-alert__close"},[d.close?j(xa,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Xe;return[(Xe=d.close)==null?void 0:Xe.call(d,{props:ee.value})]}}):j(vo,jo({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},ee.value),null)])]}})}}}),Pbe={id:"app-authorization-wrapper"},Mbe={class:"appRow"},Bbe=["innerHTML"],Lbe={class:"appRow"},Fbe={class:"appRow"},Vbe=["max"],zbe={class:"appRow"},Hbe={class:"appRow"},$be={__name:"Authorization",setup(n){const s=dr(),l=pv(),d=Du(),g=oc(),v=qy(),x=Dl(),_=Pg();sf();const N=hm();Bn(!1);function R(){const G=g.currentInclusionSettings,W=G.include_comment_points>pr.INCLUDE_NOT,te=N.hasOwnCriteria&&G.include_criteria_points>pr.INCLUDE_NOT;let ae=0,ce="";if(W&&te)ae=_.getSumOfPointsForCorrector(s.correctorKey),ce=" zu Anmerkungen und Kriterien";else if(W)ae=_.getSumOfPointsForCorrector(s.correctorKey,!0),ce=" zu Anmerkungen";else if(te)ae=_.getSumOfPointsForCorrector(s.correctorKey,null,!0),ce=" zu Kriterien";else return"";return ae!=g.editSummary.points?"Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("+ae+ce+") ab!":""}async function I(){if(await g.setOwnAuthorized(),await s.saveChangesToBackend(!0)){s.setShowAuthorization(!1);let G=l.getNextKey(s.itemKey);G!=""&&s.loadItemFromBackend(G)}else s.setShowAuthorization(!1),s.setShowSendFailure(!0)}async function V(){if(await g.setOwnAuthorized(),await s.saveChangesToBackend(!0))s.setShowAuthorization(!1),window.location=s.returnUrl;else{s.setShowAuthorization(!1),s.setShowSendFailure(!0);return}}function $(){s.showAuthorization=!1,x.showOwnSummaryText()}return(G,W)=>(_n(),Bo("div",Pbe,[Mn(j(vo,{class:"app-header-item",disabled:oe(s).isLoading||!oe(l).authorizationAllowed,onClick:W[0]||(W[0]=te=>oe(s).setShowAuthorization(!0))},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-file-certificate-outline"}),W[8]||(W[8]=ye("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[wo,!oe(g).isOwnDisabled]]),j(yv,{"max-width":"60em",persistent:"",modelValue:oe(s).showAuthorization,"onUpdate:modelValue":W[7]||(W[7]=te=>oe(s).showAuthorization=te)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(u8,null,{default:Ct(()=>[Hs("Korrektur von "+ko(oe(l).currentItem.title)+" autorisieren",1)]),_:1}),j(Wh,null,{default:Ct(()=>[ye("div",Mbe,[W[10]||(W[10]=ye("strong",null,"Gutachten:",-1)),j(vo,{density:"compact",variant:"text",onClick:W[1]||(W[1]=te=>$())},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-pencil"}),W[9]||(W[9]=ye("span",{class:"sr-only"},"Gutachten bearbeiten",-1))]),_:1}),ye("div",{class:"appText long-essay-content headlines-three",innerHTML:oe(g).editSummary.text},null,8,Bbe)]),ye("div",Lbe,[j(uW,{class:"sumOfPoints",corrector_key:oe(s).correctorKey},null,8,["corrector_key"])]),ye("div",Fbe,[W[11]||(W[11]=ye("label",{for:"appAuthorizationPoints"},[ye("strong",null,"Bewertung:")],-1)),Mn(ye("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:oe(d).max_points,"onUpdate:modelValue":W[2]||(W[2]=te=>oe(g).editSummary.points=te)},null,8,Vbe),[[D1,oe(g).editSummary.points]]),W[12]||(W[12]=Hs("Punkte  ")),W[13]||(W[13]=ye("strong",null,"Notenstufe:",-1)),Hs(" "+ko(oe(g).currentGradeTitle),1)]),ye("div",zbe,[oe(d).inclusionsPossible?(_n(),Xr(FQ,{key:0})):vr("",!0),oe(d).inclusionsChangeable?(_n(),Xr(vo,{key:1,density:"compact",variant:"text",disabled:oe(g).isOwnDisabled,onClick:W[3]||(W[3]=te=>oe(x).showIncludesPopup=!0)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-pencil"}),W[14]||(W[14]=ye("span",{class:"sr-only"},"Einbezug bearbeiten",-1))]),_:1},8,["disabled"])):vr("",!0)]),ye("div",Hbe,[Mn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Ct(()=>W[15]||(W[15]=[Hs(" Bitte geben Sie einen Gutachten-Text ein. ")])),_:1},512),[[wo,oe(g).editSummary.text==""]]),Mn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Ct(()=>W[16]||(W[16]=[Hs(" Bitte geben Sie eine Bewertung ein, damit eine Notenstufe vergeben werden kann. ")])),_:1},512),[[wo,oe(v).hasLevels&&oe(g).editSummary.points===null]]),Mn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Ct(()=>[Hs(ko(R()),1)]),_:1},512),[[wo,R()!=""]]),Mn(j(JB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:Ct(()=>[Hs(" Ihre Punktevergabe wird einen Stichentscheid erfordern: "+ko(oe(g).stitchReasonText),1)]),_:1},512),[[wo,oe(g).areOthersAuthorized&&oe(g).stitchReasonText!=""]])]),W[17]||(W[17]=ye("div",{class:"appRow"}," Durch die Autorisierung wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur autorisieren? ",-1))]),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:W[4]||(W[4]=te=>I())},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-check"}),W[18]||(W[18]=ye("span",null,"Autorisieren und Weiter",-1))]),_:1}),j(vo,{onClick:W[5]||(W[5]=te=>V())},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-check"}),W[19]||(W[19]=ye("span",null,"Autorisieren und Schlieen",-1))]),_:1}),j(vo,{onClick:W[6]||(W[6]=te=>{oe(s).setShowAuthorization(!1)})},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-close"}),W[20]||(W[20]=ye("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Ube=dl($be,[["__scopeId","data-v-b118ea69"]]),VQ=In({text:String,...Vr(),...Qi()},"VToolbarTitle"),zQ=No()({name:"VToolbarTitle",props:VQ(),setup(n,s){let{slots:l}=s;return yr(()=>{const d=!!(l.default||l.text||n.text);return j(n.tag,{class:["v-toolbar-title",n.class],style:n.style},{default:()=>{var g;return[d&&j("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():n.text,(g=l.default)==null?void 0:g.call(l)])]}})}),{}}}),Wbe=[null,"prominent","default","comfortable","compact"],HQ=In({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>Wbe.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...P1(),...Vr(),...B1(),...pm(),...Qi({tag:"header"}),...ul()},"VToolbar"),Rq=No()({name:"VToolbar",props:HQ(),setup(n,s){var G;let{slots:l}=s;const{backgroundColorClasses:d,backgroundColorStyles:g}=Kh(tr(n,"color")),{borderClasses:v}=M1(n),{elevationClasses:x}=L1(n),{roundedClasses:_}=vm(n),{themeClasses:N}=Zl(n),{rtlClasses:R}=Bg(),I=Oo(!!(n.extended||(G=l.extension)!=null&&G.call(l))),V=qe(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),$=qe(()=>I.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return tx({VBtn:{variant:"text"}}),yr(()=>{var ce;const W=!!(n.title||l.title),te=!!(l.image||n.image),ae=(ce=l.extension)==null?void 0:ce.call(l);return I.value=!!(n.extended||ae),j(n.tag,{class:["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},d.value,v.value,x.value,_.value,N.value,R.value,n.class],style:[g.value,n.style]},{default:()=>[te&&j("div",{key:"image",class:"v-toolbar__image"},[l.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},l.image):j(PD,{key:"image-img",cover:!0,src:n.image},null)]),j(xa,{defaults:{VTabs:{height:br(V.value)}}},{default:()=>{var Ve,Ce,ee;return[j("div",{class:"v-toolbar__content",style:{height:br(V.value)}},[l.prepend&&j("div",{class:"v-toolbar__prepend"},[(Ve=l.prepend)==null?void 0:Ve.call(l)]),W&&j(zQ,{key:"title",text:n.title},{text:l.title}),(Ce=l.default)==null?void 0:Ce.call(l),l.append&&j("div",{class:"v-toolbar__append"},[(ee=l.append)==null?void 0:ee.call(l)])])]}}),j(xa,{defaults:{VTabs:{height:br($.value)}}},{default:()=>[j(WJ,null,{default:()=>[I.value&&j("div",{class:"v-toolbar__extension",style:{height:br($.value)}},[ae])]})]})]})}),{contentHeight:V,extensionHeight:$}}}),Zbe=In({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function jbe(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=s;let d=0,g=0;const v=Bn(null),x=Oo(0),_=Oo(0),N=Oo(0),R=Oo(!1),I=Oo(!1),V=qe(()=>Number(n.scrollThreshold)),$=qe(()=>jh((V.value-x.value)/V.value||0)),G=()=>{const W=v.value;if(!W||l&&!l.value)return;d=x.value,x.value="window"in W?W.pageYOffset:W.scrollTop;const te=W instanceof Window?document.documentElement.scrollHeight:W.scrollHeight;if(g!==te){g=te;return}I.value=x.value<d,N.value=Math.abs(x.value-V.value)};return Rn(I,()=>{_.value=_.value||x.value}),Rn(R,()=>{_.value=0}),Nu(()=>{Rn(()=>n.scrollTarget,W=>{var ae;const te=W?document.querySelector(W):window;te&&te!==v.value&&((ae=v.value)==null||ae.removeEventListener("scroll",G),v.value=te,v.value.addEventListener("scroll",G,{passive:!0}))},{immediate:!0})}),Cc(()=>{var W;(W=v.value)==null||W.removeEventListener("scroll",G)}),l&&Rn(l,G,{immediate:!0}),{scrollThreshold:V,currentScroll:x,currentThreshold:N,isScrollActive:R,scrollRatio:$,isScrollingUp:I,savedScroll:_}}const Kbe=In({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...HQ(),...$X(),...Zbe(),height:{type:[Number,String],default:64}},"VAppBar"),$Q=No()({name:"VAppBar",props:Kbe(),emits:{"update:modelValue":n=>!0},setup(n,s){let{slots:l}=s;const d=Bn(),g=Hi(n,"modelValue"),v=qe(()=>{var Ce;const Ve=new Set(((Ce=n.scrollBehavior)==null?void 0:Ce.split(" "))??[]);return{hide:Ve.has("hide"),fullyHide:Ve.has("fully-hide"),inverted:Ve.has("inverted"),collapse:Ve.has("collapse"),elevate:Ve.has("elevate"),fadeImage:Ve.has("fade-image")}}),x=qe(()=>{const Ve=v.value;return Ve.hide||Ve.fullyHide||Ve.inverted||Ve.collapse||Ve.elevate||Ve.fadeImage||!g.value}),{currentScroll:_,scrollThreshold:N,isScrollingUp:R,scrollRatio:I}=jbe(n,{canScroll:x}),V=qe(()=>v.value.hide||v.value.fullyHide),$=qe(()=>n.collapse||v.value.collapse&&(v.value.inverted?I.value>0:I.value===0)),G=qe(()=>n.flat||v.value.fullyHide&&!g.value||v.value.elevate&&(v.value.inverted?_.value>0:_.value===0)),W=qe(()=>v.value.fadeImage?v.value.inverted?1-I.value:I.value:void 0),te=qe(()=>{var ee,we;if(v.value.hide&&v.value.inverted)return 0;const Ve=((ee=d.value)==null?void 0:ee.contentHeight)??0,Ce=((we=d.value)==null?void 0:we.extensionHeight)??0;return V.value?_.value<N.value||v.value.fullyHide?Ve+Ce:Ve:Ve+Ce});Ng(qe(()=>!!n.scrollBehavior),()=>{df(()=>{V.value?v.value.inverted?g.value=_.value>N.value:g.value=R.value||_.value<N.value:g.value=!0})});const{ssrBootStyles:ae}=g8(),{layoutItemStyles:ce}=UX({id:n.name,order:qe(()=>parseInt(n.order,10)),position:tr(n,"location"),layoutSize:te,elementSize:Oo(void 0),active:g,absolute:tr(n,"absolute")});return yr(()=>{const Ve=Rq.filterProps(n);return j(Rq,jo({ref:d,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...ce.value,"--v-toolbar-image-opacity":W.value,height:void 0,...ae.value},n.style]},Ve,{collapse:$.value,flat:G.value}),l)}),{}}}),Gbe=No()({name:"VAppBarTitle",props:VQ(),setup(n,s){let{slots:l}=s;return yr(()=>j(zQ,jo(n,{class:"v-app-bar-title"}),l)),{}}}),qbe={__name:"AppBar",setup(n){const s=dr(),l=Gy(),d=nc(),g=Dl();async function v(){if(g.focusTarget=="header"){await Er();for(const _ of document.getElementsByClassName("app-header-item"))if(!_.disabled){_.focus();break}}}Rn(()=>g.focusChange,v);async function x(){!await d.hasChangesInStorage()||await s.saveChangesToBackend(!0)?window.location=s.returnUrl:s.setShowSendFailure(!0)}return(_,N)=>(_n(),Xr($Q,{elevation:"1",color:"white",density:"compact"},{default:Ct(()=>[j(Gbe,null,{default:Ct(()=>[Hs(ko(oe(l).title),1)]),_:1}),j(cW),j(tbe),j(Kpe),!oe(s).isReview&&!oe(s).isStitchDecision?(_n(),Xr(Ube,{key:0})):vr("",!0),oe(s).isStitchDecision?(_n(),Xr(ibe,{key:1})):vr("",!0),j(vo,{class:"app-header-item",onClick:N[0]||(N[0]=R=>x())},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),N[1]||(N[1]=ye("span",null,"Korrekturen",-1))]),_:1})]),_:1}))}};function Ybe(n){let{rootEl:s,isSticky:l,layoutItemStyles:d}=n;const g=Oo(!1),v=Oo(0),x=qe(()=>{const R=typeof g.value=="boolean"?"top":g.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[R]:br(v.value)}:{top:d.value.top}]});Nu(()=>{Rn(l,R=>{R?window.addEventListener("scroll",N,{passive:!0}):window.removeEventListener("scroll",N)},{immediate:!0})}),Cc(()=>{window.removeEventListener("scroll",N)});let _=0;function N(){const R=_>window.scrollY?"up":"down",I=s.value.getBoundingClientRect(),V=parseFloat(d.value.top??0),$=window.scrollY-Math.max(0,v.value-V),G=I.height+Math.max(v.value,V)-window.scrollY-window.innerHeight,W=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-V?(g.value="top",v.value=V):R==="up"&&g.value==="bottom"||R==="down"&&g.value==="top"?(v.value=window.scrollY+I.top-W,g.value=!0):R==="down"&&G<=0?(v.value=0,g.value="bottom"):R==="up"&&$<=0&&(W?g.value!=="top"&&(v.value=-$+W+V,g.value="top"):(v.value=I.top+$,g.value="top")),_=window.scrollY}return{isStuck:g,stickyStyles:x}}const Xbe=100,Jbe=20;function Iq(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function Nq(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let s=0;for(let l=n.length-1;l>0;l--){if(n[l].t===n[l-1].t)continue;const d=Iq(s),g=(n[l].d-n[l-1].d)/(n[l].t-n[l-1].t);s+=(g-d)*Math.abs(g),l===n.length-1&&(s*=.5)}return Iq(s)*1e3}function Qbe(){const n={};function s(g){Array.from(g.changedTouches).forEach(v=>{(n[v.identifier]??(n[v.identifier]=new Yde(Jbe))).push([g.timeStamp,v])})}function l(g){Array.from(g.changedTouches).forEach(v=>{delete n[v.identifier]})}function d(g){var R;const v=(R=n[g])==null?void 0:R.values().reverse();if(!v)throw new Error(`No samples for touch id ${g}`);const x=v[0],_=[],N=[];for(const I of v){if(x[0]-I[0]>Xbe)break;_.push({t:I[0],d:I[1].clientX}),N.push({t:I[0],d:I[1].clientY})}return{x:Nq(_),y:Nq(N),get direction(){const{x:I,y:V}=this,[$,G]=[Math.abs(I),Math.abs(V)];return $>G&&I>=0?"right":$>G&&I<=0?"left":G>$&&V>=0?"down":G>$&&V<=0?"up":e1e()}}}return{addMovement:s,endTouch:l,getVelocity:d}}function e1e(){throw new Error}function t1e(n){let{el:s,isActive:l,isTemporary:d,width:g,touchless:v,position:x}=n;Nu(()=>{window.addEventListener("touchstart",Ve,{passive:!0}),window.addEventListener("touchmove",Ce,{passive:!1}),window.addEventListener("touchend",ee,{passive:!0})}),Cc(()=>{window.removeEventListener("touchstart",Ve),window.removeEventListener("touchmove",Ce),window.removeEventListener("touchend",ee)});const _=qe(()=>["left","right"].includes(x.value)),{addMovement:N,endTouch:R,getVelocity:I}=Qbe();let V=!1;const $=Oo(!1),G=Oo(0),W=Oo(0);let te;function ae(le,Ze){return(x.value==="left"?le:x.value==="right"?document.documentElement.clientWidth-le:x.value==="top"?le:x.value==="bottom"?document.documentElement.clientHeight-le:IS())-(Ze?g.value:0)}function ce(le){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Be=x.value==="left"?(le-W.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-le-W.value)/g.value:x.value==="top"?(le-W.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-le-W.value)/g.value:IS();return Ze?Math.max(0,Math.min(1,Be)):Be}function Ve(le){if(v.value)return;const Ze=le.changedTouches[0].clientX,Be=le.changedTouches[0].clientY,Me=25,Xe=x.value==="left"?Ze<Me:x.value==="right"?Ze>document.documentElement.clientWidth-Me:x.value==="top"?Be<Me:x.value==="bottom"?Be>document.documentElement.clientHeight-Me:IS(),Ee=l.value&&(x.value==="left"?Ze<g.value:x.value==="right"?Ze>document.documentElement.clientWidth-g.value:x.value==="top"?Be<g.value:x.value==="bottom"?Be>document.documentElement.clientHeight-g.value:IS());(Xe||Ee||l.value&&d.value)&&(te=[Ze,Be],W.value=ae(_.value?Ze:Be,l.value),G.value=ce(_.value?Ze:Be),V=W.value>-20&&W.value<80,R(le),N(le))}function Ce(le){const Ze=le.changedTouches[0].clientX,Be=le.changedTouches[0].clientY;if(V){if(!le.cancelable){V=!1;return}const Xe=Math.abs(Ze-te[0]),Ee=Math.abs(Be-te[1]);(_.value?Xe>Ee&&Xe>3:Ee>Xe&&Ee>3)?($.value=!0,V=!1):(_.value?Ee:Xe)>3&&(V=!1)}if(!$.value)return;le.preventDefault(),N(le);const Me=ce(_.value?Ze:Be,!1);G.value=Math.max(0,Math.min(1,Me)),Me>1?W.value=ae(_.value?Ze:Be,!0):Me<0&&(W.value=ae(_.value?Ze:Be,!1))}function ee(le){if(V=!1,!$.value)return;N(le),$.value=!1;const Ze=I(le.changedTouches[0].identifier),Be=Math.abs(Ze.x),Me=Math.abs(Ze.y);(_.value?Be>Me&&Be>400:Me>Be&&Me>3)?l.value=Ze.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||IS()):l.value=G.value>.5}const we=qe(()=>$.value?{transform:x.value==="left"?`translateX(calc(-100% + ${G.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${G.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${G.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${G.value*g.value}px))`:IS(),transition:"none"}:void 0);return Ng($,()=>{var Be,Me;const le=((Be=s.value)==null?void 0:Be.style.transform)??null,Ze=((Me=s.value)==null?void 0:Me.style.transition)??null;df(()=>{var Xe,Ee,Fe,O;(Ee=s.value)==null||Ee.style.setProperty("transform",((Xe=we.value)==null?void 0:Xe.transform)||"none"),(O=s.value)==null||O.style.setProperty("transition",((Fe=we.value)==null?void 0:Fe.transition)||null)}),Iu(()=>{var Xe,Ee;(Xe=s.value)==null||Xe.style.setProperty("transform",le),(Ee=s.value)==null||Ee.style.setProperty("transition",Ze)})}),{isDragging:$,dragProgress:G,dragStyles:we}}function IS(){throw new Error}const n1e=["start","end","left","right","top","bottom"],o1e=In({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>n1e.includes(n)},sticky:Boolean,...P1(),...Vr(),...GJ(),...BX({mobile:null}),...B1(),...$X(),...pm(),...Qi({tag:"nav"}),...ul()},"VNavigationDrawer"),r1e=No()({name:"VNavigationDrawer",props:o1e(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const{isRtl:v}=Bg(),{themeClasses:x}=Zl(n),{borderClasses:_}=M1(n),{backgroundColorClasses:N,backgroundColorStyles:R}=Kh(tr(n,"color")),{elevationClasses:I}=L1(n),{displayClasses:V,mobile:$}=JL(n),{roundedClasses:G}=vm(n),W=DJ(),te=Hi(n,"modelValue",null,nt=>!!nt),{ssrBootStyles:ae}=g8(),{scopeId:ce}=d8(),Ve=Bn(),Ce=Oo(!1),{runOpenDelay:ee,runCloseDelay:we}=qJ(n,nt=>{Ce.value=nt}),le=qe(()=>n.rail&&n.expandOnHover&&Ce.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),Ze=qe(()=>I$(n.location,v.value)),Be=qe(()=>n.persistent),Me=qe(()=>!n.permanent&&($.value||n.temporary)),Xe=qe(()=>n.sticky&&!Me.value&&Ze.value!=="bottom");Ng(()=>n.expandOnHover&&n.rail!=null,()=>{Rn(Ce,nt=>d("update:rail",!nt))}),Ng(()=>!n.disableResizeWatcher,()=>{Rn(Me,nt=>!n.permanent&&Er(()=>te.value=!nt))}),Ng(()=>!n.disableRouteWatcher&&!!W,()=>{Rn(W.currentRoute,()=>Me.value&&(te.value=!1))}),Rn(()=>n.permanent,nt=>{nt&&(te.value=!0)}),n.modelValue==null&&!Me.value&&(te.value=n.permanent||!$.value);const{isDragging:Ee,dragProgress:Fe}=t1e({el:Ve,isActive:te,isTemporary:Me,width:le,touchless:tr(n,"touchless"),position:Ze}),O=qe(()=>{const nt=Me.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):le.value;return Ee.value?nt*Fe.value:nt}),Ge=qe(()=>["top","bottom"].includes(n.location)?0:le.value),{layoutItemStyles:ct,layoutItemScrimStyles:$t}=UX({id:n.name,order:qe(()=>parseInt(n.order,10)),position:Ze,layoutSize:O,elementSize:Ge,active:qe(()=>te.value||Ee.value),disableTransitions:qe(()=>Ee.value),absolute:qe(()=>n.absolute||Xe.value&&typeof Jt.value!="string")}),{isStuck:Jt,stickyStyles:tt}=Ybe({rootEl:Ve,isSticky:Xe,layoutItemStyles:ct}),pt=Kh(qe(()=>typeof n.scrim=="string"?n.scrim:null)),Lt=qe(()=>({...Ee.value?{opacity:Fe.value*.2,transition:"none"}:void 0,...$t.value}));return tx({VList:{bgColor:"transparent"}}),yr(()=>{const nt=g.image||n.image;return j(ir,null,[j(n.tag,jo({ref:Ve,onMouseenter:ee,onMouseleave:we,class:["v-navigation-drawer",`v-navigation-drawer--${Ze.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":Ce.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":Me.value,"v-navigation-drawer--persistent":Be.value,"v-navigation-drawer--active":te.value,"v-navigation-drawer--sticky":Xe.value},x.value,N.value,_.value,V.value,I.value,G.value,n.class],style:[R.value,ct.value,ae.value,tt.value,n.style,["top","bottom"].includes(Ze.value)?{height:"auto"}:{}]},ce,l),{default:()=>{var Ye,Mt,oo;return[nt&&j("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?j(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},g.image):j(PD,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),g.prepend&&j("div",{class:"v-navigation-drawer__prepend"},[(Ye=g.prepend)==null?void 0:Ye.call(g)]),j("div",{class:"v-navigation-drawer__content"},[(Mt=g.default)==null?void 0:Mt.call(g)]),g.append&&j("div",{class:"v-navigation-drawer__append"},[(oo=g.append)==null?void 0:oo.call(g)])]}}),j(Ky,{name:"fade-transition"},{default:()=>[Me.value&&(Ee.value||te.value)&&!!n.scrim&&j("div",jo({class:["v-navigation-drawer__scrim",pt.backgroundColorClasses.value],style:[Lt.value,pt.backgroundColorStyles.value],onClick:()=>{Be.value||(te.value=!1)}},ce),null)]})])}),{isStuck:Jt}}}),s1e={__name:"NavBar",setup(n){const s=dr(),l=Dl(),d=fC(),g=wv(),v=Gy(),x=nc();async function _(){if(l.focusTarget=="navigation"){await Er();for(const Ve of document.getElementsByClassName("app-navigation-item")){Ve.focus();break}}}Rn(()=>l.focusChange,_);function N(){return x.countChanges==0}function R(){return s.lastSendingTry>0}function I(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function V(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function $(Ve){Ve.keyCode==27?V():l.handleKeyDown(Ve)}function G(Ve){Ve.type=="url"&&!Ve.embedded?window.open(Ve.source,"long-essay-writer-resource-"+Ve.key):(d.selectResource(Ve),l.showResources())}function W(Ve){l.selectCorrector(Ve.corrector_key)}function te(Ve){switch(Ve.type){case"url":return d.getResourceIsActive(Ve)&&l.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return d.getResourceIsActive(Ve)&&l.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function ae(Ve){return Ve.title+" - "+Ve.initials+" "+g.getPositionText(Ve.corrector_key)+(l.getCorrectorIsVisible(Ve.corrector_key)?" (ausgewhlt)":"")}function ce(Ve){return l.getCorrectorIsVisible(Ve.corrector_key)?"mdi-account-school":"mdi-account-school-outline"}return(Ve,Ce)=>(_n(),Xr(r1e,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:I,onFocusout:V,onKeydown:$},{append:Ct(()=>[j(cD,{tabindex:"-1"},{default:Ct(()=>[j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[7]||(Ce[7]=ee=>{oe(s).saveChangesToBackend()}),disabled:N(),"aria-label":R()?"nderungen werden gesendet":N()?"Alles gesendet":"Letzte nderung senden",title:R()?"nderungen werden gesendet":N()?"Alles gesendet":"Letzte nderung senden",ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:R()?"mdi-cloud-upload":N()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1})]),default:Ct(()=>[j(cD,{tabindex:"-1"},{default:Ct(()=>[Mn(j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[0]||(Ce[0]=ee=>{oe(l).showInstructions()}),"aria-label":"Aufgabenstellung"+oe(l).isInstructionsVisible?", ist ausgewhlt":"",title:"Aufgabenstellung"+(oe(l).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[wo,oe(v).hasInstructions]]),Mn(j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[1]||(Ce[1]=ee=>{oe(l).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(oe(l).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(oe(l).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[wo,oe(d).hasInstruction]]),Mn(j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[2]||(Ce[2]=ee=>{oe(l).showSolution()}),"aria-label":"Lsungshinweise"+(oe(l).isSolutionVisible?", ist ausgewhlt":""),title:"Lsungshinweise"+(oe(l).isSolutionVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[wo,oe(v).hasSolution]]),Mn(j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[3]||(Ce[3]=ee=>{oe(l).showSolutionPdf()}),"aria-label":"Lsungshinweise als PDF"+(oe(l).isSolutionPdfVisible?", ist ausgewhlt":""),title:"Lsungshinweise als PDF"+(oe(l).isSolutionPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[wo,oe(d).hasSolution]]),j(LO,{class:"border-opacity-75"}),(_n(!0),Bo(ir,null,T1(oe(d).fileOrUrlResources,ee=>(_n(),Xr(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:we=>{G(ee)},"aria-label":ee.title+(oe(d).getResourceIsActive(ee)&&oe(l).isResourcesVisible?", ist ausgewhlt":""),title:ee.title+(oe(d).getResourceIsActive(ee)&&oe(l).isResourcesVisible?" (ausgewhlt)":""),key:ee.key,ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:te(ee)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),j(LO,{class:"border-opacity-75"}),j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[4]||(Ce[4]=ee=>{oe(l).showEssay()}),"aria-label":"Abgegebener Text"+(oe(l).isEssayVisible?", ist ausgewhlt":""),title:"Abgegebener Text"+(oe(l).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[5]||(Ce[5]=ee=>{oe(l).showMarking()}),"aria-label":"Korrektur"+(oe(l).isMarkingVisible?", ist ausgewhlt":""),title:"Korrektur"+(oe(l).isMarkingVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),j(LO,{class:"border-opacity-75"}),(_n(!0),Bo(ir,null,T1(oe(g).otherCorrectors,ee=>(_n(),Xr(xc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:we=>{W(ee)},"aria-label":ae(ee)+(oe(l).getCorrectorIsVisible(ee.corrector_key)?", ist ausgewhlt":""),title:ae(ee)+(oe(l).getCorrectorIsVisible(ee.corrector_key)?" (ausgewhlt)":""),key:ee.corrector_key,ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:ce(ee)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),oe(s).isForReviewOrStitch?vr("",!0):(_n(),Xr(xc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce[6]||(Ce[6]=ee=>{oe(l).showSummary()}),"aria-label":"Gesamteindruck"+(oe(l).isSummaryVisible?", ist ausgewhlt":""),title:"Gesamteindruck"+(oe(l).isSummaryVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Ct(()=>[j(jn,{"aria-role":"hidden",icon:oe(l).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),j(LO,{class:"border-opacity-75"})]),_:1})]),_:1}))}},i1e=dl(s1e,[["__scopeId","data-v-cf8c3e2b"]]),a1e=["innerHTML"],l1e={__name:"Instructions",setup(n){const s=Gy(),l=Dl();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="instructions"&&(await Er(),document.getElementById("app-instructions").focus())}return g(),Rn(()=>l.focusChange,g),(v,x)=>(_n(),Bo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:oe(s).instructions},null,40,a1e))}},c1e=dl(l1e,[["__scopeId","data-v-f51945de"]]),u1e=["data"],d1e={__name:"InstructionsPdf",setup(n){const l=fC().instruction;return(d,g)=>(_n(),Bo("div",null,[oe(l).mimetype=="application/pdf"?(_n(),Bo("object",{key:0,type:"application/pdf",data:oe(l).url,width:"100%",height:"100%"},null,8,u1e)):vr("",!0)]))}},f1e=dl(d1e,[["__scopeId","data-v-21afefc7"]]),m1e=["innerHTML"],g1e={__name:"Solution",setup(n){const s=Gy(),l=Dl();function d(v){return v.preventDefault(),!1}async function g(){l.focusTarget=="solution"&&(await Er(),document.getElementById("app-solution").focus())}return g(),Rn(()=>l.focusChange,g),(v,x)=>(_n(),Bo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:d,innerHTML:oe(s).solution},null,40,m1e))}},h1e=dl(g1e,[["__scopeId","data-v-39abf810"]]),p1e=["data"],v1e={__name:"SolutionPdf",setup(n){const l=fC().solution;return(d,g)=>(_n(),Bo("div",null,[oe(l).mimetype=="application/pdf"?(_n(),Bo("object",{key:0,type:"application/pdf",data:oe(l).url,width:"100%",height:"100%"},null,8,p1e)):vr("",!0)]))}},b1e=dl(v1e,[["__scopeId","data-v-d1f5bdf9"]]),y1e={class:"resources"},x1e={key:0},w1e=["data"],C1e={key:1},_1e=["src"],k1e={__name:"Resources",setup(n){const s=fC();return(l,d)=>(_n(),Bo("div",y1e,[(_n(!0),Bo(ir,null,T1(oe(s).fileOrUrlResources,g=>(_n(),Bo(ir,{key:g.key},[g.type=="file"?Mn((_n(),Bo("div",x1e,[g.mimetype=="application/pdf"?(_n(),Bo("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,w1e)):vr("",!0)],512)),[[wo,oe(s).getResourceIsActive(g)]]):vr("",!0),g.type=="url"&&g.embedded==!0?Mn((_n(),Bo("div",C1e,[ye("iframe",{src:g.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,_1e)],512)),[[wo,oe(s).getResourceIsActive(g)]]):vr("",!0)],64))),128))]))}},S1e=dl(k1e,[["__scopeId","data-v-5254b7f8"]]);class E1e{constructor(s,l,d){Sn(this,"observer",null);Sn(this,"marks",[]);if(!s)throw new Error("Missing anchor element");this.el=s,l instanceof Function&&(this.onSelection=l,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),d instanceof Function&&(this.onIntersection=d,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(s){}onIntersection(s){}keydownHandler(s){switch(s.key){case"Enter":s.preventDefault(),this.selectionHandler(s);break;case"Escape":s.preventDefault(),this.removeSelection();break}}selectionHandler(s){let l=this.getSelectionData();l.mouseX=s.clientX,l.mouseY=s.clientY,l.firstWord>0&&l.lastWord>0&&this.onSelection(l)}intersectionHandler(s){let l=0;this.marks.forEach(d=>{(l==0||d.firstWord<l)&&this.isMarkVisible(d.firstWord,d.lastWord)&&(l=d.firstWord)}),this.onIntersection(l)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const s=window.getSelection(),l=s.getRangeAt(0);if(!s||!l)return{};let d=l.commonAncestorContainer;d.nodeType==3&&(d=d.parentNode.parentNode);let g=0,v=0,x=0;return d.querySelectorAll("w-p").forEach(_=>{if(s.containsNode(_,!0)){let N=parseInt(_.getAttribute("w")),R=parseInt(_.getAttribute("p"));(g==0||N<g)&&(g=N,x=R),N>v&&(v=N)}}),{firstWord:g,lastWord:v,parentNumber:x,isCollapsed:s.isCollapsed}}addLabel(s,l,d){let g=this.el.querySelector('w-p[w="'+d+'"]');g&&(g.setAttribute("label",l),g.classList.add(s))}showMark(s,l,d){this.marks.push({cssClass:s,firstWord:l,lastWord:d}),this.el.querySelectorAll("w-p").forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.add(s),this.observer&&(v==l||v==d)&&this.observer.observe(g)})}hideMark(s,l,d){this.marks=this.marks.filter(g=>g.cssClass!=s||g.firstWord!=l||g.lastWord!=d),this.el.querySelectorAll("w-p."+s).forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.remove(s),this.observer&&(v==l||v==d)&&this.observer.unobserve(g)})}hideAllMarksOfClass(s){this.marks=this.marks.filter(l=>l.cssClass!=s),this.el.querySelectorAll("w-p."+s).forEach(l=>{l.classList.remove(s)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(s=>{s.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(s,l){if(!this.isMarkVisible(s,l,!0)){const d=this.el.querySelector('w-p[w="'+s+'"]');d&&d.scrollIntoView()}}setCaretToMark(s){const l=this.el.querySelector('w-p[w="'+s+'"]').childNodes[0];if(l){let d=document.createRange(),g=window.getSelection();d.setStart(l,0),d.collapse(!0),g.removeAllRanges(),g.addRange(d)}}isMarkVisible(s,l,d){const g=this.el.querySelector('w-p[w="'+s+'"]'),v=this.el.querySelector('w-p[w="'+l+'"]');if(!g||!v)return!1;const x=this.el.getBoundingClientRect(),_=g.getBoundingClientRect(),N=v.getBoundingClientRect(),R=_.top>=x.top&&_.bottom<=x.bottom,I=N.top>=x.top&&N.bottom<=x.bottom;return d?R&&I:R||I}}const A1e={id:"app-essay-wrapper"},T1e={class:"appTextButtons"},O1e=["innerHTML"],D1e={__name:"Essay",setup(n){const s=rD(),l=sf(),d=oc(),g=Zy(),v=Du(),x=Dl();let _;Nu(()=>{Ve(),_=new E1e(document.getElementById("app-essay"),W,te),l.activeComments.forEach(Ce=>G(Ce))});function N(Ce){return Ce.preventDefault(),!1}async function R(){x.focusTarget=="essay"&&(await Er(),document.getElementById("app-essay").focus())}R(),Rn(()=>x.focusChange,R);function I(){_.hideAllMarksAndLabels(),l.activeComments.forEach(Ce=>G(Ce))}Rn(()=>l.markerChange,I),Rn(()=>l.filterChange,I);function V(){_.hideAllMarksOfClass("selected");let Ce=l.getComment(l.selectedKey);Ce&&(_.showMark("selected",Ce.start_position,Ce.end_position),_.addLabel("labelled",Ce.label,Ce.start_position),_.scrollToMark(Ce.start_position,Ce.end_position))}Rn(()=>l.selectionChange,V);function $(){let Ce=l.getComment(l.selectedKey);_.setCaretToMark(Ce.start_position)}Rn(()=>l.caretRequest,$);function G(Ce){Ce.prefix&&(_.hideMark(Ce.prefix+"-excellent",Ce.start_position,Ce.end_position),_.hideMark(Ce.prefix+"-cardinal",Ce.start_position,Ce.end_position),_.hideMark(Ce.prefix,Ce.start_position,Ce.end_position),Ce.rating_excellent?_.showMark(Ce.prefix+"-excellent",Ce.start_position,Ce.end_position):Ce.rating_cardinal?_.showMark(Ce.prefix+"-cardinal",Ce.start_position,Ce.end_position):_.showMark(Ce.prefix,Ce.start_position,Ce.end_position)),_.addLabel("labelled",Ce.label,Ce.start_position)}async function W(Ce){let ee=l.getActiveCommentsInRange(Ce.firstWord,Ce.lastWord);if(ee.length){let we=ee.shift();Ce.isCollapsed?(_.removeSelection(),l.selectComment(we.key)):(_.removeSelection(),d.isOwnDisabled||l.createComment(Ce.firstWord,Ce.lastWord,Ce.parentNumber))}else Ce.isCollapsed||(_.removeSelection(),d.isOwnDisabled||l.createComment(Ce.firstWord,Ce.lastWord,Ce.parentNumber))}function te(Ce){let ee=l.getActiveCommentsByStartPosition(Ce);if(ee.length){let we=ee.shift();l.setFirstVisibleComment(we.key)}}function ae(){g.zoomEssayTextIn(),Ve()}function ce(){g.zoomEssayTextOut(),Ve()}function Ve(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(Ce,ee)=>(_n(),Bo("div",A1e,[ye("div",T1e,[j(k1,{density:"comfortable",variant:"outlined",divided:""},{default:Ct(()=>[j(vo,{title:"Abgabe Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:ee[0]||(ee[0]=we=>ce())}),j(vo,{title:"Abgabe Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:ee[1]||(ee[1]=we=>ae())})]),_:1})]),ye("div",{contenteditable:"true",id:"app-essay",onBeforeinput:N,class:qc("long-essay-content "+oe(v).headlineClass),innerHTML:oe(s).text},null,42,O1e)]))}},$S=()=>{},Pq=(n,s)=>Math.abs(n-s),R1e=(n,s)=>({x:Math.min(n.x,s.x),y:Math.min(n.y,s.y),width:Pq(n.x,s.x),height:Pq(n.y,s.y)}),UQ=n=>n,dD=n=>typeof n=="object",LS=n=>typeof n=="string",qS=n=>typeof n=="number",MD=n=>typeof n>"u",I1e=n=>[!0,!1].includes(n),WQ=(n,s)=>Object.fromEntries(Object.entries(s).map(([l,d])=>[l,n(d,l)])),N1e=(n,s)=>Object.fromEntries(Object.entries(s).filter(([l,d])=>n(d,l))),jO=(n,s)=>N1e((l,d)=>n.includes(d),s),P1e=(n,s)=>dD(s)&&Object.values(WQ((l,d)=>l(s[d]),n)).filter(l=>!l).length===0,M1e=(...n)=>s=>n.reduce((l,d)=>d(l),s),fD=(...n)=>M1e(...n.reverse()),mD=Symbol("none"),B1e=n=>s=>s===mD?mD:n(s),L1e=n=>s=>s===mD?n():s,F1e=(n,s)=>fD(...Object.entries(n).map(([l,d])=>L1e(()=>d(s[l])?mD:{key:l,type:d.name,offendingValue:s[l]})))(dD(s)?mD:{type:dD.name,offendingValue:s}),Mq=(n,s)=>{const l=d=>d?`Key "${d}" of `:"";B1e(({type:d,key:g=!1})=>iE(`Value does not match required form: ${l(g)}${JSON.stringify(s)} does not satisfy ${d}.`))(F1e(n,s))},ML=(n,s)=>(...l)=>{if(n(...l))return s(...l)},Gh=(n,s)=>({x:n,y:s}),lL=n=>P1e({x:qS,y:qS},n),p8=(n,s)=>({x:n.x+s.x,y:n.y+s.y}),gD=(n,s)=>({x:s.x*n,y:s.y*n}),hC=(n,s)=>p8(n,gD(-1,s)),V1e=n=>({width:n.x,height:n.y}),z1e=n=>Gh(n.width,n.height),H1e=(n,s)=>({width:n,height:s}),$1e=(n,s)=>Gh(n.x*Math.cos(s)-n.y*Math.sin(s),n.x*Math.sin(s)+n.y*Math.cos(s)),U1e=({x:n,y:s})=>`${n},${s}`,W1e=(n,s)=>n.map(l=>p8(l,s)),Z1e=n=>n.map(U1e).join(" "),ZQ=(n,s)=>Z1e(W1e(n,s)),j1e=(n,s)=>{const[l,d]=n.width/n.height<s.width/s.height?["height","width"]:["width","height"];return{[l]:s[l],[d]:s[l]*(n[d]/n[l])}},iE=n=>{throw new Error(n)},hD=(n,s)=>n||iE(s),Bq=n=>()=>n,jQ=(n,s)=>!MD(s.find(n)),K1e=(n,s)=>!jQ(l=>!n(l),s),KQ=n=>n instanceof Array,GQ=n=>{const s=GQ.name+"("+n.name+")";return{[s]:d=>KQ(d)&&K1e(n,d)}[s]},G1e=(n,s)=>Object.entries(n).reduce((l,[d,g])=>g===s[d]?l:[...l,{left:g,right:s[d],name:d}],[]),qQ=Reflect.set,q1e=Reflect.deleteProperty,dW=(n,...s)=>n.bind(null,...s),Y1e=n=>n.apply.bind(n,null),fW=n=>n.map(s=>s()),X1e=(n,s)=>Object.entries(s).forEach(Y1e(n)),J1e=(n,s,l)=>X1e(n[s].bind(n),l),Q1e=n=>s=>(n(s),s),NS=(n,s=$S)=>(l=void 0)=>{if(MD(l))return n;s(l),n=l},g$=JSON.stringify,Ev=n=>{let s=(...g)=>iE(`No matching function found for arguments: ${g$(g)}.`);const l={},d=(...g)=>(l[g$(n(...g))]||s)(...g);return d.define=(g,v=void 0)=>{MD(v)?s=g:l[g$(g)]=v},d},xs=(n,...s)=>n.define(...s),YQ=(n,s,l)=>(n.addEventListener(s,l),()=>n.removeEventListener(s,l)),pD=Ev((n,s)=>s);xs(pD,YQ);const mW=(n,s)=>xs(pD,n,(l,d,g)=>{const v=[n,s].map(x=>YQ(l,x,g));return()=>{fW(v)}});mW("mousedown","touchstart");mW("mousemove","touchmove");mW("mouseup","touchend");const mC=Ev(n=>n.constructor.name);xs(mC,"MouseEvent",n=>Gh(n.clientX,n.clientY));xs(mC,"TouchEvent",n=>Gh(n.touches[0].clientX,n.touches[0].clientY));const e0e=n=>n.reduce((s,l)=>dD(l.right)&&!KQ(l.right)?[...s,...XQ(l.left,l.right).map(({path:d,...g})=>({path:[l.name,...d],...g}))]:[...s,{path:[l.name],value:l.right}],[]),XQ=(n,s)=>e0e(G1e(n,s)),t0e=(n,s)=>!MD(s.find(l=>JQ(l.path,n))),JQ=(n,s)=>JSON.stringify(n)===JSON.stringify(s),QQ=(n,s)=>n.length>=s.length&&JQ(n.slice(0,s.length),s),gW=(n,s)=>n.length===0?s:dD(s)?gW(n.slice(1),s[n[0]]):iE("Path not found."),Tu=(n,s)=>({requires:l=>QQ(l,n),then:fD(s,dW(gW,n))}),Uy=(n,s)=>({requires:Bq(!1),then:fD(s,Bq(n))}),hW=(n,s)=>({requires:l=>jQ(dW(QQ,l),Object.values(n)),then:l=>s(WQ(d=>gW(d,l),n))}),tc=n=>s=>l=>l.setAttribute(n,(qS(s),s)),eee=()=>n=>s=>qQ(s,"textContent",n),vD=n=>s=>l=>l.style.setProperty(n,s),n0e=n=>n.reduce((s,l)=>s.includes(l)?s:[...s,l],[]),pW=(n,s,l)=>s.forEach(({then:d})=>d(n)(l)),Lq=(n,s,l,d)=>{const g=({path:x})=>s.filter(_=>_.requires(x)),v=n0e(l.reduce((x,_)=>x.concat(g(_)),[]));pW(n,v,d)},mm=(n,s)=>n.append(s),YS=(n,s)=>J1e(n,"setAttribute",s),o0e=({start:n,move:s,stop:l=$S})=>{let d=null;return{start:g=>{g.preventDefault(),d=n(mC(g))},move:g=>{g.preventDefault(),d=s(mC(g),d)},stop:g=>{l(d)}}},r0e=(n,s)=>Array.from(n.children).forEach(dW(mm,s)),tee=n=>(s,l={},...d)=>{const g=n(s);return d.forEach(v=>mm(g,v)),YS(g,l),g},s0e=n=>document.createElementNS("http://www.w3.org/2000/svg",n),Na=tee(s0e),i0e=tee(n=>document.createElement(n)),a0e=()=>{let n=null;return s=>{if(n!==null)return new Promise($S);const l=()=>n===l?(n=null,!0):!1;return n=l,new Promise(d=>s(()=>{l(),d()}))}},l0e=n=>{const s=a0e();return{current:()=>n,acquire:(l,d)=>s(g=>{const v=n;n=l,d(()=>{g()&&(n=v)})})}},c0e=n=>new Promise((s,l)=>{const d=document.createElement("img");d.onload=()=>s(H1e(d.width,d.height)),d.onerror=l,d.src=n}),nee=n=>n.type==="touchend"&&n.touches.length===0,bD=Ev((n,s=void 0)=>MD(s)?n.constructor.name:s);xs(bD,"TouchEvent",n=>n.touches.length===1||nee(n));xs(bD,"MouseEvent",n=>n.button===0);xs(bD,"PointerEvent",n=>bD(n,"MouseEvent"));const yD=Ev(n=>n.constructor.name);xs(yD,"TouchEvent",n=>n.touches.length===2||nee(n));xs(yD,"MouseEvent",n=>n.button===1);xs(yD,"PointerEvent",n=>yD(n,"MouseEvent"));const dm=Ev((n,s)=>s);xs(dm,pD);["click","mousedown","mouseup"].forEach(n=>{xs(dm,n,(s,l,d)=>pD(s,l,ML(bD,d))),xs(dm,[n,"primary"],(s,[l,d],g)=>dm(s,l,g)),xs(dm,[n,"secondary"],(s,[l,d],g)=>pD(s,l,ML(yD,g)))});const u0e=(n,{start:s=$S,move:l=$S,stop:d=$S},g,v)=>{const x=R=>l(R),N=[dm(window,["mouseup",g],R=>{fW(N),d(R)}),dm(n,"mousemove",x)];s(v)},jr={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},d0e=n=>Object.values(jr).includes(n),f0e={[jr.CIRCLE]:{symbol:LS,symbolColor:LS},[jr.RECTANGLE]:{width:qS,height:qS},[jr.POLYGON]:{polygon:GQ(lL)},[jr.LINE]:{end:lL},[jr.WAVE]:{end:lL}},oee={key:LS,label:LS,color:LS,selectedColor:LS,shape:d0e,pos:lL,locked:I1e},m0e=n=>({...jO(Object.keys(oee),n),pos:jO(["x","y"],n.pos)}),g0e={[jr.CIRCLE]:n=>jO(["symbol","symbolColor"],n),[jr.RECTANGLE]:n=>jO(["width","height"],n),[jr.POLYGON]:({polygon:n})=>({polygon:n.map(s=>jO(["x","y"],s))}),[jr.LINE]:({end:{x:n,y:s}})=>({end:{x:n,y:s}}),[jr.WAVE]:({end:{x:n,y:s}})=>({end:{x:n,y:s}})},vW=Ev(n=>n.shape);xs(vW,UQ);xs(vW,jr.CIRCLE,({symbol:n="",symbolColor:s="black",...l})=>({...l,symbol:n,symbolColor:s}));const FS=n=>(n={...n,key:n.key||"mark-"+Math.random().toString(),locked:n.locked||!1},Mq(oee,n),n=vW(n),Mq(f0e[n.shape],n),{...m0e(n),...g0e[n.shape](n)}),cL={lambda:60,amplitude:20,lineWidth:10},h$={startDot:{radius:20,borderWidth:10},lineWidth:10},h0e={width:15},A1=Symbol("silent"),p0e=({polygon:n,pos:s})=>ZQ(n,s),v0e=n=>s=>s.setAttribute("points",p0e(n)),v8=n=>[Tu(["color"],vD("--default-color")),Tu(["selectedColor"],vD("--selected-color")),Tu(["locked"],s=>tc("class")(["shape"].concat(s?["locked"]:[],n).join(" ")))],ree=(n,s)=>{const l=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),d=({start:g,end:v})=>{const x=Math.atan(v.y/v.x),_=v.x<0?x-Math.PI:x,N=$1e(hC(g,Gh(0,n/2)),-_),R=`rotateZ(${_}rad)`,I=`translate(${N.x}px, ${N.y}px)`;return`${R} ${I}`};return[...v8(s),hW({start:["pos"],end:["end"]},fD(vD("transform"),d)),Tu(["end"],fD(tc("width"),l)),Uy(`0 ${n/2}px`,vD("transform-origin")),Uy(n,tc("height")),Uy(0,tc("x")),Uy(0,tc("y"))]},kv=Ev(n=>n.shape||n);xs(kv,jr.RECTANGLE,()=>[...v8([]),Tu(["pos","x"],tc("x")),Tu(["pos","y"],tc("y")),Tu(["width"],tc("width")),Tu(["height"],tc("height"))]);xs(kv,jr.CIRCLE,()=>[...v8([]),Tu(["pos","x"],Dg(0,tc("cx"))),Tu(["pos","y"],Dg(0,tc("cy"))),Tu(["pos","x"],Dg(1,tc("x"))),Tu(["pos","y"],Dg(1,tc("y"))),Tu(["symbol"],Dg(1,eee())),Tu(["symbolColor"],Dg(1,vD("fill"))),Uy("symbol",Dg(1,tc("class"))),Uy(70,Dg(0,tc("r")))]);xs(kv,jr.POLYGON,()=>[...v8([]),hW({pos:["pos"],polygon:["polygon"]},v0e)]);xs(kv,jr.LINE,()=>ree(h0e.width,[]));xs(kv,jr.WAVE,()=>ree(cL.amplitude*2,["wave"]));const Dg=(n,s)=>l=>d=>s(l)(d.children[n]);xs(kv,"label",()=>[Tu(["pos","x"],Dg(0,tc("x"))),Tu(["pos","x"],Dg(1,tc("x"))),Uy("label",Dg(0,tc("class"))),Uy("label",Dg(1,tc("class"))),hW({shape:["shape"],label:["label"],y:["pos","y"]},({shape:n,label:s,y:l})=>d=>{n==jr.CIRCLE&&(l=l-70),YS(d.children[1],{y:l}),eee()(s)(d.children[1]),requestAnimationFrame(()=>{const{width:g,height:v}=d.children[1].getBBox();YS(d.children[0],{y:l-v+v*.15,width:g,height:v})})})]);const pC=Ev(UQ);xs(pC,jr.RECTANGLE,()=>Na("rect"));xs(pC,jr.CIRCLE,()=>Na("g",{},Na("circle"),Na("text")));xs(pC,jr.POLYGON,()=>Na("polygon"));xs(pC,jr.LINE,()=>Na("rect"));xs(pC,jr.WAVE,()=>Na("rect"));xs(pC,n=>iE(`Invalid shape name: ${n}.`));const see=n=>{const s=pC(n.shape);return pW(n,kv(n),s),s},b0e=n=>{const s=Na("g",{},Na("rect"),Na("text"));return pW(n,kv("label"),s),s},y0e=(n,s,l)=>{Lq(n,kv(n),s,l.nodes.shape),Lq(n,kv("label"),s,l.nodes.label)},x0e=n=>({mark:n,nodes:{root:Na("g"),label:b0e(n),shape:see(n)}}),w0e={[jr.RECTANGLE]:{width:10,height:20},[jr.CIRCLE]:{},[jr.POLYGON]:{polygon:[Gh(0,0)]},[jr.LINE]:{end:Gh(0,0)},[jr.WAVE]:{end:Gh(0,0)}},C0e=(n,s,l,d)=>FS({...w0e[s],shape:s,pos:n,color:l,selectedColor:d,label:""}),b8=(n,s,l,d="primary")=>u0e(n.nodes.svg,o0e(l),d,s),_0e=(n,s)=>c0e(s).then(l=>{YS(n.nodes.backgroundImage,{href:s,x:0,y:0,...l}),n.canvas.size(l),hee(n)}),k0e=()=>Q1e(n=>qQ(n,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(s=>".long-essay-image-marker"+s).join(" ")))(document.createElement("style")),S0e=()=>({background:Na("g",{class:"background"}),normal:Na("g"),foreground:Na("g",{class:"foreground"})}),E0e=n=>hD(Object.values(jr).includes(n),`Invalid shape name: ${n}.`),A0e=n=>{hD(qS(n),`Scale must be a number, given: ${JSON.stringify(n)}.`),hD(n>0,`Scale must be > 0 given: ${n}.`)},T0e=(n,s,l)=>{const d=S0e(),g=Na("svg",{width:"100%",height:"100%"},...Object.values(d)),v=i0e("div",{class:"long-essay-image-marker"},g),x=Na("image");return mm(n,v),mm(n,k0e()),mm(g,Na("defs",{},N0e(),P0e())),{nodes:{app:v,svg:g,layers:d,backgroundImage:x},creation:{color:NS("#0000AAAA"),selectedColor:NS("#FF0000AA"),shape:NS(jr.CIRCLE,E0e)},status:l0e({name:"idle"}),canvas:{scale:NS(1,A0e),size:NS(null)},mode:NS("draw-shape",_=>hD(["draw-shape","scroll"].includes(_),`Invalid marker mode: ${_}`)),groups:{},emit:{createMark:s,selectMark:l}}},BD=(n,s,l)=>n.status.acquire(s,l),bW=(n,s,l,d)=>BD(n,{name:s,group:l},d),iee=(n,s,l)=>{dm(l,"mousedown",d=>(s.mark.locked?Promise.resolve():cee(n,s,d)).then(()=>mee(n,[s])))},O0e=(n,s)=>{aee(n,s),D0e(n,s),mm(n.nodes.layers.normal,s.nodes.root)},D0e=(n,s)=>{mm(s.nodes.root,s.nodes.label),iee(n,s,s.nodes.label)},aee=(n,s)=>{mm(s.nodes.root,s.nodes.shape),iee(n,s,s.nodes.shape)},y8=n=>(s,l)=>BD(s,{name:"drawNew"},d=>{const g=C0e(R1(s,mC(l)),F0e(s),uee(s),dee(s));s.emit.selectMark(null,l),d(),xW(s,g,A1),n(s,s.groups[g.key],l).then(()=>{s.emit.createMark(s.groups[g.key].mark,l),BL(s,[g.key],l)})}),yW=Ev(n=>n.mode()),vC=Ev(yW),lee=(n,s,l)=>bW(n,"editGroup",s,d=>b8(n,l,{start:g=>(x8(n,[s],A1),g=R1(n,g),{mark:s.mark,start:{mouse:g,pos:s.mark.pos}}),move:(g,{mark:v,start:x})=>{const _=hC(R1(n,g),x.mouse),N={...v,end:_};return w8(n,N),{start:x,mark:N}},stop:d}));xs(vC,["draw-shape",jr.LINE],y8(lee));xs(vC,["draw-shape",jr.WAVE],y8(lee));const R0e=(n,s,l)=>bW(n,"editGroup",s,d=>b8(n,l,{start:g=>(x8(n,[s],A1),g=R1(n,g),{mark:s.mark,start:{mouse:g,pos:s.mark.pos}}),move:(g,{mark:v,start:x})=>{const _=hC(R1(n,g),x.mouse),{width:N,height:R,...I}=R1e(x.pos,p8(x.pos,_)),V={...v,pos:I,width:N,height:R};return w8(n,V),{start:x,mark:V}},stop:d}));xs(vC,["draw-shape",jr.RECTANGLE],y8(R0e));const cee=(n,s,l)=>bW(n,"moveGroup",s,d=>b8(n,l,{start:g=>(g=R1(n,g),x8(n,[s],A1),{mark:s.mark,start:{pos:s.mark.pos,mouse:g}}),move:(g,{mark:v,start:x})=>{const _=hC(R1(n,g),x.mouse),N={...v,pos:p8(x.pos,_)};return w8(n,N),{start:x,mark:N}},stop:d}));xs(vC,["draw-shape",jr.CIRCLE],y8(cee));const I0e=(n,s,l)=>{const d=Na("circle",{cx:s.x,cy:s.y,r:h$.startDot.radius+"px","stroke-width":h$.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Na("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":h$.lineWidth+"px",fill:"none"}),v=Na("g",{class:"new-polygon"});return mm(v,g),mm(v,d),mm(n,v),dm(d,"click",x=>{x.stopPropagation(),v.remove(),l()}),x=>YS(g,{points:ZQ(x,s)})},N0e=()=>{const n=Gh(cL.lambda,cL.amplitude*2),s=gD(.5,n),l=gD(.5,s);return Na("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${n.x}px`,height:`${n.y}px`,patternUnits:"userSpaceOnUse"},Na("path",{d:`M -${s.x} ${s.y} Q -${l.x} -${l.y}, 0 ${s.y} t ${s.x} 0 t ${s.x} 0`,fill:"none",stroke:"white","stroke-width":cL.lineWidth+"px"}))},P0e=()=>Na("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Na("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),M0e=(n,s,l)=>FS({label:"",polygon:s,pos:l,color:uee(n),selectedColor:dee(n),shape:jr.POLYGON}),B0e=(n,s,l)=>d=>{d.preventDefault(),l(hC(R1(n,mC(d)),s))};xs(vC,["draw-shape",jr.POLYGON],(n,s)=>BD(n,{name:"newPolygon"},l=>{s.preventDefault(),n.emit.selectMark(null,s);const d=R1(n,mC(s)),g=I0e(n.nodes.layers.foreground,d,()=>R()),v=[Gh(0,0)],x=I=>B0e(n,d,I);let _=Gh(0,0);const N=[l,dm(n.nodes.svg,"mousemove",x(I=>{g([...v,I]),_=I})),dm(window,"mouseup",I=>v.push(_))],R=()=>{fW(N);const I=M0e(n,v,d);xW(n,I,s),BL(n,[I.key],s)}}));const L0e=n=>{const s=l=>[n.nodes.svg,n.nodes.backgroundImage].includes(l.target);dm(n.nodes.svg,"mousedown",ML(s,l=>vC(n,l))),dm(n.nodes.svg,["mousedown","secondary"],ML(s,l=>fee(n,l,"secondary")))},uee=n=>n.creation.color(),dee=n=>n.creation.selectedColor(),F0e=n=>n.creation.shape();xs(yW,"draw-shape",n=>[n.mode(),n.creation.shape()]);xs(yW,n=>n.mode());const fee=(n,s,l="primary")=>BD(n,{name:"moving-view"},d=>{n.nodes.app.classList.add("moving"),b8(n,s,{start:g=>g,move:(g,v)=>{const x=hC(v,g);return n.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{n.nodes.app.classList.remove("moving"),d()}},l)});xs(vC,"scroll",fee);const x8=(n,s,l)=>{[].slice.call(n.nodes.layers.foreground.children).forEach(d=>d.classList.remove("active")),r0e(n.nodes.layers.foreground,n.nodes.layers.normal),s.forEach(d=>{const g=d.nodes.root;g.classList.add("active"),mm(n.nodes.layers.foreground,g)}),l!==A1&&s.forEach(d=>n.emit.selectMark(d.mark,l))},mee=(n,s,l)=>BD(n,{name:"selecting-multiple"},d=>{x8(n,s,l),d()}),gee=(n,s)=>n.groups[s]||iE(`Mark with key ${s} does not exist.`),BL=(n,s,l)=>mee(n,s.map(d=>gee(n,d)),l),xW=(n,s,l)=>{hD(!n.groups[s.key],`Duplicated key: ${s.key}`);const d=x0e(s);O0e(n,d),n.groups[s.key]=d,l!==A1&&n.emit.createMark(s,l)},w8=(n,s)=>{const l=gee(n,s.key),d=XQ(l.mark,s);l.mark=s,t0e(["shape"],d)?(l.nodes.shape.remove(),l.nodes.shape=see(l.mark),aee(n,l)):y0e(l.mark,d,l)},hee=n=>YS(n.nodes.svg,{...V1e(gD(n.canvas.scale(),z1e(n.canvas.size()))),viewBox:[0,0,n.canvas.size().width,n.canvas.size().height].join(" ")}),R1=(n,s)=>gD(1/n.canvas.scale(),hC(s,n.nodes.svg.getBoundingClientRect())),V0e=(n,s,l)=>{const d=T0e(n,(_,N)=>s(FS(_),N),(_,N)=>l(_?FS(_):null,N));L0e(d);const g=_=>xW(d,FS(_),A1),v=_=>{d.groups[_].nodes.root.remove(),q1e(d.groups,_)},x=_=>{d.canvas.scale(_),hee(d)};return{showPage:(_,N)=>{_0e(d,_),mm(d.nodes.layers.background,d.nodes.backgroundImage),d.canvas.scale(1),Object.values(d.groups).forEach(R=>v(R.mark.key)),N.forEach(g)},addMark:g,removeMark:v,selectMark:_=>BL(d,[_],A1),selectMarks:_=>BL(d,_,A1),updateMark:_=>w8(d,FS(_)),setDefaultColor:_=>d.creation.color(_),setDefaultSelectedColor:_=>d.creation.selectedColor(_),setDefaultShape:_=>d.creation.shape(_),setZoomLevel:x,fitToPage:()=>{if(d.canvas.size()){const _=j1e(d.canvas.size(),d.nodes.app.getBoundingClientRect());x(_.width/d.canvas.size().width)}},drawMode:()=>d.mode("draw-shape"),scrollMode:()=>d.mode("scroll")}},z0e={id:"app-essay-image-wrapper"},H0e={class:"appImageButtons"},$0e={class:"appImageBottomNav"},U0e={__name:"EssayImage",setup(n){const s=dr(),l=sf(),d=oc(),g=OL();Dl();const v=Zy(),x=Bn(),_=Bn("scroll"),N=Bn(!1),R=Bn(0),I=Bn(!0);let V,$="",G=[];Nu(()=>{V=V0e(x.value,W,te),V.setDefaultColor("#3365ffaa"),V.setDefaultSelectedColor("#3365ffaa"),Ee(),ae(g.minPage)});async function W(O){if(O&&!d.isOwnDisabled){const Ge=new lm(O);switch(_.value){case"check":Ge.symbol=lm.SYMBOL_CHECK;break;case"cross":Ge.symbol=lm.SYMBOL_CROSS;break;case"question":Ge.symbol=lm.SYMBOL_QUESTION;break}if(G.push(O.key),!l.getCommentByMarkKey(O.key)){const ct=l.selectedComment;if(ct&&ct.parent_number==g.selectedPageNo)ct.addMarkData(Ge),await l.updateComment(ct,!0);else{const $t=new oC({parent_number:g.selectedPageNo,marks:[Ge]});await l.addComment($t)}}}}function te(O,Ge){if(console.log(Date.now(),"onSelection",O,Ge),O){let ct=l.getCommentByMarkKey(O.key);if(ct){l.selectComment(ct.key);const $t=ct.getData();if(ct.corrector_key==s.correctorKey&&!d.isOwnDisabled){O.symbol=O.symbol==""?null:O.symbol,ct.updateMarkData(O);const Jt=ct.getData();JSON.stringify($t)!=JSON.stringify(Jt)&&l.updateComment(ct,!0)}else{const Jt=ct.getMarkByKey(O.key);if(Jt){const tt={...Jt.getData(),label:I.value?ct.label:"",color:ct.getMarkColor(Jt),selectedColor:ct.getMarkSelectedColor(Jt),locked:ct.corrector_key!=s.correctorKey||d.isOwnDisabled};V.updateMark(tt)}}}}else{const ct=l.selectedComment;Ge&&Ge.shiftKey&&ct&&ct.parent_number==g.selectedPageNo||l.selectComment("")}}function ae(O){if(g.selectByPageNo(O)){const Ge=g.getPageByPageNo(O);if(Ge){Ge.url?(V.showPage(Ge.url,[]),$=Ge.url):(V.showPage("",[]),$="");try{V.setZoomLevel(v.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,G=[],Ce(),R.value=O}}}function ce(){const O=g.selectedPage;O&&O.url!=$&&ae(O.page_no)}Rn(()=>g.loadedImages,ce);function Ve(){const O=l.getComment(l.selectedKey);O&&O.parent_number!=g.selectedPageNo&&ae(O.parent_number),Ce()}Rn(()=>l.selectionChange,Ve);function Ce(){let O=[];for(const Ge of l.activeComments)if(Ge.parent_number==g.selectedPageNo){let ct=[];for(const $t of Ge.marks){const Jt={...$t.getData(),label:I.value?Ge.label:"",color:Ge.getMarkColor($t),selectedColor:Ge.getMarkSelectedColor($t),locked:Ge.corrector_key!=s.correctorKey||d.isOwnDisabled};G.includes($t.key)?V.updateMark(Jt):V.addMark(Jt),O.push($t.key),ct.push($t.key)}Ge.key==l.selectedKey&&V.selectMarks(ct)}for(const Ge of G)O.includes(Ge)||V.removeMark(Ge);G=O}Rn(()=>l.markerChange,Ce),Rn(()=>l.filterChange,Ce);function ee(){let O=l.getActiveCommentsByParentNumber(g.selectedPageNo);if(O.length){let Ge=O.shift();l.setFirstVisibleComment(Ge.key)}}Rn(()=>g.selectedKey,ee);function we(){g.selectedPageNo>g.minPage&&ae(g.selectedPageNo-1)}function le(){g.selectedPageNo<g.maxPage&&ae(g.selectedPageNo+1)}function Ze(O){N.value=!1,ae(O)}async function Be(){N.value&&(await Er(),await new Promise(Ge=>setTimeout(Ge,250)),document.getElementById("app-pages-menu-input").select())}function Me(){v.zoomEssayPageIn(),V.setZoomLevel(v.essay_page_zoom)}function Xe(){v.zoomEssayPageOut(),V.setZoomLevel(v.essay_page_zoom)}function Ee(){switch(d.isOwnDisabled&&(_.value="scroll"),_.value){case"scroll":V.scrollMode();break;case"rectangle":V.drawMode(),V.setDefaultShape(jr.RECTANGLE);break;case"line":V.drawMode(),V.setDefaultShape(jr.LINE);break;case"wave":V.drawMode(),V.setDefaultShape(jr.WAVE);break;case"polygon":V.drawMode(),V.setDefaultShape(jr.POLYGON);break;case"circle":case"check":case"cross":case"question":V.drawMode(),V.setDefaultShape(jr.CIRCLE);break}}function Fe(){I.value==1?I.value=0:I.value=1,Ce()}return(O,Ge)=>(_n(),Bo("div",z0e,[ye("div",H0e,[j(k1,{density:"comfortable",variant:"outlined",divided:""},{default:Ct(()=>[j(vo,{size:"small",icon:"mdi-magnify-minus-outline",onClick:Ge[0]||(Ge[0]=ct=>Xe())}),j(vo,{size:"small",icon:"mdi-magnify-plus-outline",onClick:Ge[1]||(Ge[1]=ct=>Me())})]),_:1}),Ge[13]||(Ge[13]=Hs("  ")),j(Whe,{density:"comfortable",variant:"outlined",divided:"",modelValue:_.value,"onUpdate:modelValue":Ge[2]||(Ge[2]=ct=>_.value=ct),onClick:Ge[3]||(Ge[3]=ct=>Ee())},{default:Ct(()=>[j(vo,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),j(vo,{disabled:oe(d).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),Ge[14]||(Ge[14]=Hs("  ")),j(k1,{density:"comfortable",variant:"outlined",divided:""},{default:Ct(()=>[j(vo,{size:"small",active:I.value,icon:"mdi-label-outline",onClick:Ge[4]||(Ge[4]=ct=>Fe())},null,8,["active"])]),_:1}),Ge[15]||(Ge[15]=Hs("  ")),j(k1,{density:"comfortable",variant:"outlined",divided:""},{default:Ct(()=>[j(vo,{size:"small",icon:"mdi-menu-left",onClick:Ge[5]||(Ge[5]=ct=>we())}),j(vo,{size:"small",id:"app-pages-menu-activator"},{default:Ct(()=>[Hs(ko(oe(g).selectedPageNo),1)]),_:1}),j(vo,{size:"small",icon:"mdi-menu-right",onClick:Ge[6]||(Ge[6]=ct=>le())})]),_:1}),j(h8,{activator:"#app-pages-menu-activator",modelValue:N.value,"onUpdate:modelValue":[Ge[9]||(Ge[9]=ct=>N.value=ct),Ge[10]||(Ge[10]=ct=>Be())],"close-on-content-click":!1},{default:Ct(()=>[j(cD,null,{default:Ct(()=>[j(xc,null,{default:Ct(()=>[j(uD,{id:"app-pages-menu-input",modelValue:R.value,"onUpdate:modelValue":Ge[7]||(Ge[7]=ct=>R.value=ct),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:Ge[8]||(Ge[8]=ct=>Ze(R.value))},null,8,["modelValue"])]),_:1}),(_n(!0),Bo(ir,null,T1(oe(g).currentPages,ct=>(_n(),Xr(xc,{onClick:$t=>Ze(ct.page_no),title:ct.page_no,key:ct.key},{default:Ct(()=>[Mn(j(PD,{src:ct.thumb_url,width:"100"},null,8,["src"]),[[wo,ct.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),ye("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),ye("div",$0e,[j(k1,{variant:"outlined",divided:""},{default:Ct(()=>[j(vo,{disabled:oe(g).selectedPageNo<=oe(g).minPage,size:"small",icon:"mdi-menu-left",onClick:Ge[11]||(Ge[11]=ct=>we())},null,8,["disabled"]),j(vo,{disabled:oe(g).selectedPageNo>=oe(g).maxPage,size:"small",icon:"mdi-menu-right",onClick:Ge[12]||(Ge[12]=ct=>le())},null,8,["disabled"])]),_:1})])]))}},W0e=dl(U0e,[["__scopeId","data-v-9d4afded"]]),Z0e={class:"sr-only"},j0e={"aria-hidden":"true"},K0e={class:"text-right"},G0e={class:"sr-only"},q0e={"aria-hidden":"true"},Y0e={class:"text-right"},X0e={class:"text-right"},J0e={class:"sr-only"},Q0e={"aria-hidden":"true"},eye={class:"text-right"},tye={class:"generalCriterion"},nye={class:"text-right"},oye={__name:"SummaryCriteria",props:["corrector_key"],setup(n){const s=dr(),l=hm(),d=sf(),g=Pg(),v=Dl(),x=Du(),_=n;Rn(()=>_,I),Rn(()=>s.itemKey,I);const N=Ul({}),R=Ul({});async function I(){await Er(),l.getCorrectorCommentCriteria(_.corrector_key).forEach(W=>{R[W.key]={key:W.key,title:W.title,max_points:W.points,sum_points:0}}),l.getCorrectorGeneralCriteria(_.corrector_key).forEach(W=>{N[W.key]={key:W.key,title:W.title,max_points:W.points,sum_points:0}}),g.getObjectsForCorrector(_.corrector_key).forEach(W=>{R[W.criterion_key]!==void 0&&(R[W.criterion_key].sum_points+=W.points),N[W.criterion_key]!==void 0&&(N[W.criterion_key].sum_points+=W.points)})}l.getCorrectorHasCriteria(_.corrector_key)&&I();async function V(W,te){d.setFilterByRating(_.corrector_key,W,te),!_.corrector_key==s.correctorKey&&d.setShowOtherCorrectors(!0),await Er(),v.showEssay(),v.showMarking()}async function $(){d.setFilterByPoints(_.corrector_key),!_.corrector_key==s.correctorKey&&d.setShowOtherCorrectors(!0),await Er(),v.showEssay(),v.showMarking()}async function G(W){d.setFilterByCriterion(_.corrector_key,W),!_.corrector_key==s.correctorKey&&d.setShowOtherCorrectors(!0),await Er(),v.showEssay(),v.showMarking()}return(W,te)=>(_n(),Bo("div",null,[j($h,{class:"table",density:"compact"},{default:Ct(()=>[te[3]||(te[3]=ye("thead",null,[ye("tr",null,[ye("th",null,"Markierung"),ye("th",{class:"text-right"},"Anzahl")])],-1)),ye("tbody",null,[ye("tr",null,[ye("td",null,[j(vo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:oe(d).getCountOfExcellent(_.corrector_key)==0,onClick:te[0]||(te[0]=ae=>V(!0,!1))},{default:Ct(()=>[ye("span",Z0e,ko(oe(x).positive_rating),1)]),_:1},8,["disabled"]),ye("span",j0e,ko(oe(x).positive_rating),1)]),ye("td",K0e,ko(oe(d).getCountOfExcellent(_.corrector_key)),1)]),ye("tr",null,[ye("td",null,[j(vo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:oe(d).getCountOfCardinal(_.corrector_key)==0,onClick:te[1]||(te[1]=ae=>V(!1,!0))},{default:Ct(()=>[ye("span",G0e,ko(oe(x).negative_rating),1)]),_:1},8,["disabled"]),ye("span",q0e,ko(oe(x).negative_rating),1)]),ye("td",Y0e,ko(oe(d).getCountOfCardinal(_.corrector_key)),1)])])]),_:1}),oe(l).getCorrectorHasCommentCriteria(_.corrector_key)?vr("",!0):(_n(),Xr($h,{key:0,class:"table",density:"compact"},{default:Ct(()=>[te[6]||(te[6]=ye("thead",null,[ye("tr",null,[ye("th",null,[ye("strong",null,"Bewertung")]),ye("th",{class:"text-right"},"Punkte")])],-1)),ye("tbody",null,[ye("tr",null,[ye("td",null,[j(vo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:oe(g).getSumOfPointsForCorrector(_.corrector_key,!0,!1)==0,onClick:te[2]||(te[2]=ae=>$())},{default:Ct(()=>te[4]||(te[4]=[ye("span",{class:"sr-only"},"Punkte in Kommentaren",-1)])),_:1},8,["disabled"]),te[5]||(te[5]=ye("span",{"aria-hidden":"true"},"Punkte in Kommentaren",-1))]),ye("td",X0e,ko(oe(g).getSumOfPointsForCorrector(_.corrector_key,!0,!1)),1)])])]),_:1})),oe(l).getCorrectorHasCommentCriteria(_.corrector_key)?(_n(),Xr($h,{key:1,class:"table",density:"compact"},{default:Ct(()=>[te[7]||(te[7]=ye("thead",null,[ye("tr",null,[ye("th",null,"Kriterium bei Anmerkungen"),ye("th",{class:"text-right"},"Punkte / max")])],-1)),ye("tbody",null,[(_n(!0),Bo(ir,null,T1(R,ae=>(_n(),Bo("tr",{key:ae.key},[ye("td",null,[j(vo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:ae.sum_points==0,onClick:ce=>G(ae.key)},{default:Ct(()=>[ye("span",J0e,ko(ae.title),1)]),_:2},1032,["disabled","onClick"]),ye("span",Q0e,ko(ae.title),1)]),ye("td",eye,ko(ae.sum_points)+" / "+ko(ae.max_points),1)]))),128))])]),_:1})):vr("",!0),oe(l).getCorrectorHasGeneralCriteria(_.corrector_key)?(_n(),Xr($h,{key:2,class:"table",density:"compact"},{default:Ct(()=>[te[8]||(te[8]=ye("thead",null,[ye("tr",null,[ye("th",null,"Allgemeines Kriterium (Kopfnote)"),ye("th",{class:"text-right"},"Punkte / max")])],-1)),ye("tbody",null,[(_n(!0),Bo(ir,null,T1(N,ae=>(_n(),Bo("tr",{key:ae.key},[ye("td",null,[ye("span",tye,ko(ae.title),1)]),ye("td",nye,ko(ae.sum_points)+" / "+ko(ae.max_points),1)]))),128))])]),_:1})):vr("",!0)]))}},pee=dl(oye,[["__scopeId","data-v-feac0e84"]]),rye={id:"app-own-summary-points-wrapper"},sye=["disabled","max"],iye={__name:"OwnSummaryPoints",setup(n){const s=dr(),l=pv(),d=oc(),g=Du(),v=Dl();return(x,_)=>(_n(),Bo("div",rye,[j(PL,null,{default:Ct(()=>[j(Rg,{dense:""},{default:Ct(()=>[j(Ia,{cols:"10"},{default:Ct(()=>[j(uW,{class:"sumOfPoints",corrector_key:oe(s).correctorKey},null,8,["corrector_key"])]),_:1})]),_:1}),j(Rg,{dense:""},{default:Ct(()=>[j(Ia,{cols:"10"},{default:Ct(()=>[_[3]||(_[3]=ye("label",{for:"appOwnSummaryPoints"},[ye("strong",null,"Bewertung:")],-1)),_[4]||(_[4]=Hs("  ")),Mn(ye("input",{disabled:oe(d).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:oe(g).max_points,"onUpdate:modelValue":_[0]||(_[0]=N=>oe(d).editSummary.points=N)},null,8,sye),[[D1,oe(d).editSummary.points]]),_[5]||(_[5]=Hs(" Punkte  ")),_[6]||(_[6]=ye("strong",null,"Notenstufe:",-1)),Hs(" "+ko(oe(d).currentGradeTitle),1)]),_:1}),j(Ia,{cols:"2"},{default:Ct(()=>[Mn(j(vo,{density:"compact",variant:"text",disabled:!oe(l).authorizationAllowed,onClick:_[1]||(_[1]=N=>oe(s).setShowAuthorization(!0))},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-file-certificate-outline"}),_[7]||(_[7]=ye("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[wo,!oe(d).isOwnDisabled]])]),_:1})]),_:1}),j(Rg,{dense:""},{default:Ct(()=>[j(Ia,{cols:"10"},{default:Ct(()=>[oe(g).inclusionsPossible?(_n(),Xr(FQ,{key:0})):vr("",!0)]),_:1}),j(Ia,{cols:"2"},{default:Ct(()=>[oe(g).inclusionsChangeable?(_n(),Xr(vo,{key:0,density:"compact",variant:"text",disabled:oe(d).isOwnDisabled,onClick:_[2]||(_[2]=N=>oe(v).showIncludesPopup=!0)},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-pencil"}),_[8]||(_[8]=ye("span",null,"ndern...",-1))]),_:1},8,["disabled"])):vr("",!0)]),_:1})]),_:1})]),_:1})]))}},aye=dl(iye,[["__scopeId","data-v-ac7ba7f0"]]);var vee={exports:{}};(function(n){(function(){var s=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},g=function(e,t){return v(function(o,i){return e.eq(t(o),t(i))})},v=function(e){return{eq:e}},x=v(function(e,t){return e===t}),_=x,N=function(e){return v(function(t,o){if(t.length!==o.length)return!1;for(var i=t.length,c=0;c<i;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},R=function(e,t){return g(N(e),function(o){return d(o,t)})},I=function(e){return v(function(t,o){var i=Object.keys(t),c=Object.keys(o);if(!R(_).eq(i,c))return!1;for(var m=i.length,h=0;h<m;h++){var C=i[h];if(!e.eq(t[C],o[C]))return!1}return!0})},V=v(function(e,t){if(e===t)return!0;var o=s(e),i=s(t);return o!==i?!1:l(o)?e===t:o==="array"?N(V).eq(e,t):o==="object"?I(V).eq(e,t):!1});const $=Object.getPrototypeOf,G=(e,t,o)=>{var i;return o(e,t.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===t.name},W=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&G(e,String,(o,i)=>i.isPrototypeOf(o))?"string":t},te=e=>t=>W(t)===e,ae=e=>t=>typeof t===e,ce=e=>t=>e===t,Ve=(e,t)=>ee(e)&&G(e,t,(o,i)=>$(o)===i),Ce=te("string"),ee=te("object"),we=e=>Ve(e,Object),le=te("array"),Ze=ce(null),Be=ae("boolean"),Me=ce(void 0),Xe=e=>e==null,Ee=e=>!Xe(e),Fe=ae("function"),O=ae("number"),Ge=(e,t)=>{if(le(e)){for(let o=0,i=e.length;o<i;++o)if(!t(e[o]))return!1;return!0}return!1},ct=()=>{},$t=(e,t)=>(...o)=>e(t.apply(null,o)),Jt=(e,t)=>o=>e(t(o)),tt=e=>()=>e,pt=e=>e,Lt=(e,t)=>e===t;function nt(e,...t){return(...o)=>{const i=t.concat(o);return e.apply(null,i)}}const Ye=e=>t=>!e(t),Mt=e=>()=>{throw new Error(e)},oo=e=>e(),zn=e=>{e()},fn=tt(!1),kn=tt(!0);class J{constructor(t,o){this.tag=t,this.value=o}static some(t){return new J(!0,t)}static none(){return J.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?J.some(t(this.value)):J.none()}bind(t){return this.tag?t(this.value):J.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:J.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ee(t)?J.some(t):J.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}J.singletonNone=new J(!1);const Cr=Array.prototype.slice,eo=Array.prototype.indexOf,tn=Array.prototype.push,Do=(e,t)=>eo.call(e,t),Ke=(e,t)=>{const o=Do(e,t);return o===-1?J.none():J.some(o)},ie=(e,t)=>Do(e,t)>-1,be=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return!0}return!1},Le=(e,t)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const m=e[c];i[c]=t(m,c)}return i},he=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];t(c,o)}},gt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];t(i,o)}},zt=(e,t)=>{const o=[],i=[];for(let c=0,m=e.length;c<m;c++){const h=e[c];(t(h,c)?o:i).push(h)}return{pass:o,fail:i}},vt=(e,t)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const m=e[i];t(m,i)&&o.push(m)}return o},Ft=(e,t,o)=>(gt(e,(i,c)=>{o=t(o,i,c)}),o),Vt=(e,t,o)=>(he(e,(i,c)=>{o=t(o,i,c)}),o),wn=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++){const m=e[i];if(t(m,i))return J.some(m);if(o(m,i))break}return J.none()},cn=(e,t)=>wn(e,t,fn),Tn=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return J.some(o)}return J.none()},Dn=e=>{const t=[];for(let o=0,i=e.length;o<i;++o){if(!le(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);tn.apply(t,e[o])}return t},Co=(e,t)=>Dn(Le(e,t)),Ro=(e,t)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},Uo=e=>{const t=Cr.call(e,0);return t.reverse(),t},fr=(e,t)=>vt(e,o=>!ie(t,o)),as=(e,t)=>{const o={};for(let i=0,c=e.length;i<c;i++){const m=e[i];o[String(m)]=t(m,i)}return o},mr=(e,t)=>{const o=Cr.call(e,0);return o.sort(t),o},As=(e,t)=>t>=0&&t<e.length?J.some(e[t]):J.none(),hn=e=>As(e,0),To=e=>As(e,e.length-1),bo=Fe(Array.from)?Array.from:e=>Cr.call(e),rs=(e,t)=>{for(let o=0;o<e.length;o++){const i=t(e[o],o);if(i.isSome())return i}return J.none()},ea=(e,t)=>{const o=[],i=Fe(t)?c=>be(o,m=>t(m,c)):c=>ie(o,c);for(let c=0,m=e.length;c<m;c++){const h=e[c];i(h)||o.push(h)}return o},Kt=Object.keys,gi=Object.hasOwnProperty,ar=(e,t)=>{const o=Kt(e);for(let i=0,c=o.length;i<c;i++){const m=o[i],h=e[m];t(h,m)}},jl=(e,t)=>$r(e,(o,i)=>({k:i,v:t(o,i)})),$r=(e,t)=>{const o={};return ar(e,(i,c)=>{const m=t(i,c);o[m.k]=m.v}),o},ei=e=>(t,o)=>{e[o]=t},ym=(e,t,o,i)=>{ar(e,(c,m)=>{(t(c,m)?o:i)(c,m)})},Mu=(e,t)=>{const o={},i={};return ym(e,t,ei(o),ei(i)),{t:o,f:i}},_c=(e,t)=>{const o={};return ym(e,t,ei(o),ct),o},fl=(e,t)=>{const o=[];return ar(e,(i,c)=>{o.push(t(i,c))}),o},Bu=e=>fl(e,pt),Dr=(e,t)=>ao(e,t)?J.from(e[t]):J.none(),ao=(e,t)=>gi.call(e,t),Kl=(e,t)=>ao(e,t)&&e[t]!==void 0&&e[t]!==null,Ti=(e,t,o=V)=>I(o).eq(e,t),Lu=e=>{const t={};return he(e,o=>{t[o]={}}),Kt(t)},sn=e=>e.length!==void 0,Fu=Array.isArray,xm=e=>{if(Fu(e))return e;{const t=[];for(let o=0,i=e.length;o<i;o++)t[o]=e[o];return t}},hs=(e,t,o)=>{if(!e)return!1;if(o=o||e,sn(e)){for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(ao(e,i)&&t.call(o,e[i],i,e)===!1)return!1;return!0},wm=(e,t)=>{const o=[];return hs(e,(i,c)=>{o.push(t(i,c,e))}),o},qa=(e,t)=>{const o=[];return hs(e,(i,c)=>{(!t||t(i,c,e))&&o.push(i)}),o},Il=(e,t)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===t)return o}return-1},ml=(e,t,o,i)=>{let c=Me(o)?e[0]:o;for(let m=0;m<e.length;m++)c=t.call(i,c,e[m],m);return c},ls=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e))return i;return-1},Ca=e=>e[e.length-1],Nl=e=>{let t=!1,o;return(...i)=>(t||(t=!0,o=e.apply(null,i)),o)},Cm=(e,t,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),C=h||i("(pointer:coarse)"),A=c||!m&&h&&i("(min-device-width:768px)"),F=m||h&&!A,K=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Y=!F&&!A&&!K;return{isiPad:tt(c),isiPhone:tt(m),isTablet:tt(A),isPhone:tt(F),isTouch:tt(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:tt(K),isDesktop:tt(Y)}},Yc=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(t))return i}},Xc=(e,t)=>{const o=Yc(e,t);if(!o)return{major:0,minor:0};const i=c=>Number(t.replace(o,"$"+c));return lr(i(1),i(2))},ff=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?Sd():Xc(e,o)},Sd=()=>lr(0,0),lr=(e,t)=>({major:e,minor:t}),Ls={nu:lr,detect:ff,unknown:Sd},ii=(e,t)=>rs(t.brands,o=>{const i=o.brand.toLowerCase();return cn(e,c=>{var m;return i===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Ls.nu(parseInt(o.version,10),0)}))}),_m=(e,t)=>{const o=String(t).toLowerCase();return cn(e,i=>i.search(o))},Ya=(e,t)=>_m(e,t).map(o=>{const i=Ls.detect(o.versionRegexes,t);return{current:o.name,version:i}}),Jc=(e,t)=>_m(e,t).map(o=>{const i=Ls.detect(o.versionRegexes,t);return{current:o.name,version:i}}),_a=(e,t)=>e.substring(t),ka=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Qc=(e,t)=>cs(e,t)?_a(e,t.length):e,Pr=(e,t,o=0,i)=>{const c=e.indexOf(t,o);return c!==-1?Me(i)?!0:c+t.length<=i:!1},cs=(e,t)=>ka(e,t,0),Te=(e,t)=>ka(e,t,e.length-t.length),ot=e=>t=>t.replace(e,""),Ne=ot(/^\s+|\s+$/g),mt=ot(/^\s+/g),ut=ot(/\s+$/g),Qe=e=>e.length>0,Wt=e=>!Qe(e),nn=(e,t)=>t<=0?"":new Array(t+1).join(e),un=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?J.none():J.some(o)},vn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>Pr(t,e),ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Pr(e,"edge/")&&Pr(e,"chrome")&&Pr(e,"safari")&&Pr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vn],search:e=>Pr(e,"chrome")&&!Pr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Pr(e,"msie")||Pr(e,"trident")},{name:"Opera",versionRegexes:[vn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[vn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Pr(e,"safari")||Pr(e,"mobile/"))&&Pr(e,"applewebkit")}],rn=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Pr(e,"iphone")||Pr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ar={browsers:tt(ho),oses:tt(rn)},Lo="Edge",Ko="Chromium",Ts="IE",So="Opera",Pl="Firefox",ta="Safari",co=()=>Xa({current:void 0,version:Ls.unknown()}),Xa=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isEdge:i(Lo),isChromium:i(Ko),isIE:i(Ts),isOpera:i(So),isFirefox:i(Pl),isSafari:i(ta)}},gl={unknown:co,nu:Xa,edge:tt(Lo),chromium:tt(Ko),ie:tt(Ts),opera:tt(So),firefox:tt(Pl),safari:tt(ta)},ws="Windows",Ed="iOS",$s="Android",mf="Linux",Ml="macOS",_r="Solaris",Vu="FreeBSD",km="ChromeOS",tp=()=>Os({current:void 0,version:Ls.unknown()}),Os=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isWindows:i(ws),isiOS:i(Ed),isAndroid:i($s),isMacOS:i(Ml),isLinux:i(mf),isSolaris:i(_r),isFreeBSD:i(Vu),isChromeOS:i(km)}},kc={unknown:tp,nu:Os,windows:tt(ws),ios:tt(Ed),android:tt($s),linux:tt(mf),macos:tt(Ml),solaris:tt(_r),freebsd:tt(Vu),chromeos:tt(km)},Jr={detect:(e,t,o)=>{const i=Ar.browsers(),c=Ar.oses(),m=t.bind(A=>ii(i,A)).orThunk(()=>Ya(i,e)).fold(gl.unknown,gl.nu),h=Jc(c,e).fold(kc.unknown,kc.nu),C=Cm(h,m,e,o);return{browser:m,os:h,deviceType:C}}},Sm=e=>window.matchMedia(e).matches;let Bl=Nl(()=>Jr.detect(window.navigator.userAgent,J.from(window.navigator.userAgentData),Sm));const na=()=>Bl(),Fg=window.navigator.userAgent,Oi=na(),Ja=Oi.browser,oa=Oi.os,Ll=Oi.deviceType,np=Fg.indexOf("Windows Phone")!==-1,Fo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ja.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ja.isIE(),windowsPhone:np,browser:{current:Ja.current,version:Ja.version,isChromium:Ja.isChromium,isEdge:Ja.isEdge,isFirefox:Ja.isFirefox,isIE:Ja.isIE,isOpera:Ja.isOpera,isSafari:Ja.isSafari},os:{current:oa.current,version:oa.version,isAndroid:oa.isAndroid,isChromeOS:oa.isChromeOS,isFreeBSD:oa.isFreeBSD,isiOS:oa.isiOS,isLinux:oa.isLinux,isMacOS:oa.isMacOS,isSolaris:oa.isSolaris,isWindows:oa.isWindows},deviceType:{isDesktop:Ll.isDesktop,isiPad:Ll.isiPad,isiPhone:Ll.isiPhone,isPhone:Ll.isPhone,isTablet:Ll.isTablet,isTouch:Ll.isTouch,isWebView:Ll.isWebView}},eu=/^\s*|\s*$/g,Ad=e=>Xe(e)?"":(""+e).replace(eu,""),zu=(e,t)=>t?t==="array"&&Fu(e)?!0:typeof e===t:e!==void 0,Av=(e,t,o={})=>{const i=Ce(e)?e.split(t||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},nx=ao,V1=(e,...t)=>{for(let o=0;o<t.length;o++){const i=t[o];for(const c in i)if(ao(i,c)){const m=i[c];m!==void 0&&(e[c]=m)}}return e},z1=function(e,t,o,i){i=i||this,e&&(o&&(e=e[o]),hs(e,(c,m)=>t.call(i,c,m,o)===!1?!1:(z1(c,t,o,i),!0)))},Xt={trim:Ad,isArray:Fu,is:zu,toArray:xm,makeMap:Av,each:hs,map:wm,grep:qa,inArray:Il,hasOwn:nx,extend:V1,walk:z1,resolve:(e,t=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(t=t[o[i]],!!t);i++);return t},explode:(e,t)=>le(e)?e:e===""?[]:wm(e.split(t||","),Ad),_addCacheSuffix:e=>{const t=Fo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},gf=(e,t,o=Lt)=>e.exists(i=>o(i,t)),hf=(e,t,o=Lt)=>ra(e,t,o).getOr(e.isNone()&&t.isNone()),$1=e=>{const t=[],o=i=>{t.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return t},ra=(e,t,o)=>e.isSome()&&t.isSome()?J.some(o(e.getOrDie(),t.getOrDie())):J.none(),pf=(e,t,o,i)=>e.isSome()&&t.isSome()&&o.isSome()?J.some(i(e.getOrDie(),t.getOrDie(),o.getOrDie())):J.none(),Vg=(e,t)=>e?J.some(t):J.none(),ox=typeof window<"u"?window:Function("return this;")(),rx=(e,t)=>{let o=t??ox;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},Tv=(e,t)=>{const o=e.split(".");return rx(o,t)},sx=(e,t)=>Tv(e,t),U1=(e,t)=>{const o=sx(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},ix=Object.getPrototypeOf,zg=e=>U1("HTMLElement",e),W1=e=>{const t=Tv("ownerDocument.defaultView",e);return ee(e)&&(zg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ix(e).constructor.name))},vf=8,bf=9,sa=11,pl=1,Hg=3,Yo=e=>e.dom.nodeName.toLowerCase(),Td=e=>e.dom.nodeType,$g=e=>t=>Td(t)===e,Ug=e=>Td(e)===vf||Yo(e)==="#comment",Pa=e=>Us(e)&&W1(e.dom),Us=$g(pl),us=$g(Hg),$i=$g(bf),Qr=$g(sa),yf=e=>t=>Us(t)&&Yo(t)===e,Em=(e,t,o)=>{if(Ce(o)||Be(o)||O(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},xi=(e,t,o)=>{Em(e.dom,t,o)},Ma=(e,t)=>{const o=e.dom;ar(t,(i,c)=>{Em(o,c,i)})},Sa=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},tu=(e,t)=>J.from(Sa(e,t)),Od=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Io=(e,t)=>{e.dom.removeAttribute(t)},ai=e=>{const t=e.dom.attributes;return t==null||t.length===0},vl=e=>Vt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Dd=(e,t)=>{const o=Sa(e,t);return o===void 0||o===""?[]:o.split(" ")},Ui=(e,t,o)=>{const c=Dd(e,t).concat([o]);return xi(e,t,c.join(" ")),!0},Vn=(e,t,o)=>{const i=vt(Dd(e,t),c=>c!==o);return i.length>0?xi(e,t,i.join(" ")):Io(e,t),!1},Sc=e=>e.dom.classList!==void 0,Ec=e=>Dd(e,"class"),Tr=(e,t)=>Ui(e,"class",t),rp=(e,t)=>Vn(e,"class",t),Ov=(e,t)=>ie(Ec(e),t)?rp(e,t):Tr(e,t),Rd=(e,t)=>{Sc(e)?e.dom.classList.add(t):Tr(e,t)},Vo=e=>{(Sc(e)?e.dom.classList:Ec(e)).length===0&&Io(e,"class")},Ba=(e,t)=>{Sc(e)?e.dom.classList.remove(t):rp(e,t),Vo(e)},sp=(e,t)=>{const o=Sc(e)?e.dom.classList.toggle(t):Ov(e,t);return Vo(e),o},Id=(e,t)=>Sc(e)&&e.dom.classList.contains(t),Dv=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return ou(i.childNodes[0])},nu=(e,t)=>{const i=(t||document).createElement(e);return ou(i)},Qa=(e,t)=>{const i=(t||document).createTextNode(e);return ou(i)},ou=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ze={fromHtml:Dv,fromTag:nu,fromText:Qa,fromDom:ou,fromPoint:(e,t,o)=>J.from(e.dom.elementFromPoint(t,o)).map(ou)},Am=(e,t)=>{const o=[],i=m=>(o.push(m),t(m));let c=t(e);do c=c.bind(i);while(c.isSome());return o},Mr=(e,t)=>{const o=e.dom;if(o.nodeType!==pl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(t);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(t);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Rv=e=>e.nodeType!==pl&&e.nodeType!==bf&&e.nodeType!==sa||e.childElementCount===0,Wg=(e,t)=>{const o=t===void 0?document:t.dom;return Rv(o)?[]:Le(o.querySelectorAll(e),ze.fromDom)},ru=(e,t)=>{const o=t===void 0?document:t.dom;return Rv(o)?J.none():J.from(o.querySelector(e)).map(ze.fromDom)},Xo=(e,t)=>e.dom===t.dom,ia=(e,t)=>{const o=e.dom,i=t.dom;return o===i?!1:o.contains(i)},Hu=e=>ze.fromDom(e.dom.ownerDocument),rc=e=>$i(e)?e:Hu(e),$u=e=>ze.fromDom(rc(e).dom.documentElement),Uu=e=>ze.fromDom(rc(e).dom.defaultView),aa=e=>J.from(e.dom.parentNode).map(ze.fromDom),wf=e=>J.from(e.dom.parentElement).map(ze.fromDom),Tm=(e,t)=>{const o=Fe(t)?t:fn;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,h=ze.fromDom(m);if(c.push(h),o(h)===!0)break;i=m}return c},Iv=e=>{const t=o=>vt(o,i=>!Xo(e,i));return aa(e).map(la).map(t).getOr([])},wi=e=>J.from(e.dom.previousSibling).map(ze.fromDom),Zn=e=>J.from(e.dom.nextSibling).map(ze.fromDom),Wu=e=>Uo(Am(e,wi)),Om=e=>Am(e,Zn),la=e=>Le(e.dom.childNodes,ze.fromDom),Zu=(e,t)=>{const o=e.dom.childNodes;return J.from(o[t]).map(ze.fromDom)},Fl=e=>Zu(e,0),ju=e=>Zu(e,e.dom.childNodes.length-1),Nd=e=>e.dom.childNodes.length,Ci=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return ze.fromDom(t)},sc=e=>Qr(e)&&Ee(e.dom.host),su=e=>ze.fromDom(e.dom.getRootNode()),Dm=e=>sc(e)?e:Ci(rc(e)),Z1=e=>sc(e)?e:ze.fromDom(rc(e).dom.body),Ku=e=>{const t=su(e);return sc(t)?J.some(t):J.none()},Cf=e=>ze.fromDom(e.dom.host),Nv=e=>{if(Ee(e.target)){const t=ze.fromDom(e.target);if(Us(t)&&Cs(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return hn(o)}}return J.from(e.target)},Cs=e=>Ee(e.dom.shadowRoot),La=e=>{const t=us(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Ku(ze.fromDom(t)).fold(()=>o.body.contains(t),Jt(La,Cf))};var Ea=(e,t,o,i,c)=>e(o,i)?J.some(o):Fe(c)&&c(o)?J.none():t(o,i,c);const el=(e,t,o)=>{let i=e.dom;const c=Fe(o)?o:fn;for(;i.parentNode;){i=i.parentNode;const m=ze.fromDom(i);if(t(m))return J.some(m);if(c(m))break}return J.none()},hi=(e,t,o)=>Ea((c,m)=>m(c),el,e,t,o),ip=(e,t)=>{const o=e.dom;return o.parentNode?li(ze.fromDom(o.parentNode),i=>!Xo(e,i)&&t(i)):J.none()},li=(e,t)=>{const o=c=>t(ze.fromDom(c));return cn(e.dom.childNodes,o).map(ze.fromDom)},Wi=(e,t)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const m=ze.fromDom(i.childNodes[c]);if(t(m))return J.some(m);const h=o(i.childNodes[c]);if(h.isSome())return h}return J.none()};return o(e.dom)},iu=(e,t,o)=>el(e,i=>Mr(i,t),o),Dt=(e,t)=>ru(t,e),Zi=(e,t,o)=>Ea((c,m)=>Mr(c,m),iu,e,t,o),ap=e=>Zi(e,"[contenteditable]"),_s=(e,t=!1)=>La(e)?e.dom.isContentEditable:ap(e).fold(tt(t),o=>Gu(o)==="true"),Gu=e=>e.dom.contentEditable,Fa=e=>e.style!==void 0&&Fe(e.style.getPropertyValue),Ac=(e,t,o)=>{if(!Ce(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Fa(e)&&e.style.setProperty(t,o)},Rm=(e,t)=>{Fa(e)&&e.style.removeProperty(t)},tl=(e,t,o)=>{const i=e.dom;Ac(i,t,o)},Go=(e,t)=>{const o=e.dom;ar(t,(i,c)=>{Ac(o,c,i)})},Ws=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!La(e)?_f(o,t):c},_f=(e,t)=>Fa(e)?e.style.getPropertyValue(t):"",Fs=(e,t)=>{const o=e.dom,i=_f(o,t);return J.from(i).filter(c=>c.length>0)},Zg=e=>{const t={},o=e.dom;if(Fa(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);t[c]=o.style[c]}return t},au=(e,t)=>{const o=e.dom;Rm(o,t),gf(tu(e,"style").map(Ne),"")&&Io(e,"style")},j1=e=>e.dom.offsetWidth,Ds=(e,t)=>{aa(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},it=(e,t)=>{Zn(e).fold(()=>{aa(e).each(c=>{Zs(c,t)})},i=>{Ds(i,t)})},Va=(e,t)=>{Fl(e).fold(()=>{Zs(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},Zs=(e,t)=>{e.dom.appendChild(t.dom)},Gl=(e,t)=>{Ds(e,t),Zs(t,e)},Tc=(e,t)=>{he(t,(o,i)=>{const c=i===0?e:t[i-1];it(c,o)})},ti=(e,t)=>{he(t,o=>{Zs(e,o)})},es=e=>{e.dom.textContent="",he(la(e),t=>{Rr(t)})},Rr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},za=e=>{const t=la(e);t.length>0&&Tc(e,t),Rr(e)},ql=(e,t)=>{const i=(t||document).createElement("div");return i.innerHTML=e,la(ze.fromDom(i))},lu=e=>Le(e,ze.fromDom),Pd=e=>e.dom.innerHTML,Im=(e,t)=>{const i=Hu(e).dom,c=ze.fromDom(i.createDocumentFragment()),m=ql(t,i);ti(c,m),es(e),Zs(e,c)},jg=e=>{const t=ze.fromTag("div"),o=ze.fromDom(e.dom.cloneNode(!0));return Zs(t,o),Pd(t)},Kg=(e,t,o,i,c,m,h)=>({target:e,x:t,y:o,stop:i,prevent:c,kill:m,raw:h}),Pv=e=>{const t=ze.fromDom(Nv(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=$t(i,o);return Kg(t,e.clientX,e.clientY,o,i,c,e)},Mv=(e,t)=>o=>{e(o)&&t(Pv(o))},qu=(e,t,o,i,c)=>{const m=Mv(o,i);return e.dom.addEventListener(t,m,c),{unbind:nt(Z,e,t,m,c)}},P=(e,t,o,i)=>qu(e,t,o,i,!1),Z=(e,t,o,i)=>{e.dom.removeEventListener(t,o,i)},re=(e,t)=>({left:e,top:t,translate:(i,c)=>re(e+i,t+c)}),Re=re,We=e=>{const t=e.getBoundingClientRect();return Re(t.left,t.top)},Rt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Kn=e=>{const t=e.dom.ownerDocument,o=t.body,i=t.defaultView,c=t.documentElement;if(o===e.dom)return Re(o.offsetLeft,o.offsetTop);const m=Rt(i==null?void 0:i.pageYOffset,c.scrollTop),h=Rt(i==null?void 0:i.pageXOffset,c.scrollLeft),C=Rt(c.clientTop,o.clientTop),A=Rt(c.clientLeft,o.clientLeft);return po(e).translate(h-A,m-C)},po=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Re(i.offsetLeft,i.offsetTop):La(e)?We(t):Re(0,0)},lo=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Re(o,i)},On=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},xr=(e,t)=>{na().browser.isSafari()&&Fe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},js=e=>{const t=e===void 0?window:e;return na().browser.isFirefox()?J.none():J.from(t.visualViewport)},ks=(e,t,o,i)=>({x:e,y:t,width:o,height:i,right:e+o,bottom:t+i}),Oc=e=>{const t=e===void 0?window:e,o=t.document,i=lo(ze.fromDom(o));return js(t).fold(()=>{const c=t.document.documentElement,m=c.clientWidth,h=c.clientHeight;return ks(i.left,i.top,m,h)},c=>ks(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Nm=(e,t)=>vt(la(e),t),Pm=(e,t)=>{let o=[];return he(la(e),i=>{t(i)&&(o=o.concat([i])),o=o.concat(Pm(i,t))}),o},pi=(e,t)=>Wg(t,e),yC=(e,t,o)=>el(e,t,o).isSome(),Bv=(e,t)=>ip(e,t).isSome(),K1=(e,t)=>Wi(e,t).isSome();class ca{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,i,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let m=t[i];if(m)return m;for(let h=t.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(m=h[i],m)return m}}}findPreviousNode(t,o){if(t){const i=t.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const Rs="\uFEFF",Di="",Yu=e=>e===Rs,lp=e=>e.replace(/\uFEFF/g,""),ax=/^[ \t\r\n]*$/,ic=e=>ax.test(e),bl=e=>{for(const t of e)if(!Yu(t))return!1;return!0},Lv=e=>" \f	\v".indexOf(e)!==-1,kf=e=>e===`
`||e==="\r",aE=(e,t)=>t<e.length&&t>=0?kf(e[t]):!1,Fv=(e,t=4,o=!0,i=!0)=>{const c=nn(" ",t),m=e.replace(/\t/g,c);return Vt(m,(C,A)=>Lv(A)||A===Di?C.pcIsSpace||C.str===""&&o||C.str.length===m.length-1&&i||aE(m,C.str.length+1)?{pcIsSpace:!1,str:C.str+Di}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:kf(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Md=e=>t=>!!t&&t.nodeType===e,Sf=e=>!!e&&!Object.getPrototypeOf(e),An=Md(1),cu=e=>An(e)&&Pa(ze.fromDom(e)),Vv=e=>An(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Ef=e=>{const t=e.toLowerCase();return o=>Ee(o)&&o.nodeName.toLowerCase()===t},ua=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return ie(t,i)}return!1}},Dc=(e,t)=>{const o=t.toLowerCase().split(" ");return i=>{if(An(i)){const c=i.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[m])return!0}}return!1}},Gg=e=>t=>An(t)&&t.hasAttribute(e),Af=e=>An(e)&&e.hasAttribute("data-mce-bogus"),G1=e=>An(e)&&e.getAttribute("data-mce-bogus")==="all",uu=e=>An(e)&&e.tagName==="TABLE",cp=e=>t=>!!(cu(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),up=ua(["textarea","input"]),Ut=Md(3),lx=Md(4),Tf=Md(7),Ao=Md(8),Nn=Md(9),Of=Md(11),ps=Ef("br"),Rc=Ef("img"),Ic=cp("true"),fo=cp("false"),dp=ua(["td","th"]),xC=ua(["td","th","caption"]),St=ua(["video","audio","object","embed"]),cx=Ef("li"),fp=Ef("details"),mp=Ef("summary"),qg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Mm=(e,t,o)=>{const i=ze.fromDom(t),c=ze.fromDom(e),m=o.getWhitespaceElements();return yC(c,C=>ao(m,Yo(C)),nt(Xo,i))},wC=e=>An(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Df=(e,t)=>An(e)&&ao(t.getNonEmptyElements(),e.nodeName),ss=Gg("data-mce-bookmark"),Xu=e=>wf(ze.fromDom(e)).exists(t=>!_s(t)),q1=(e,t,o)=>ic(e.data)&&!Mm(e,t,o),du=(e,t,o,i)=>Ut(e)&&!q1(e,t,o)&&(!i.includeZwsp||!bl(e.data)),Bm=(e,t,o,i)=>Fe(i.isContent)&&i.isContent(t)||Df(t,e)||ss(t)||wC(t)||du(t,o,e,i)||fo(t)||Ic(t)&&Xu(t),ac=(e,t,o)=>{const i={...qg,...o};if(i.checkRootAsContent&&Bm(e,t,t,i))return!1;let c=t.firstChild,m=0;if(!c)return!0;const h=new ca(c,t);do{if(i.skipBogus&&An(c)){const C=c.getAttribute("data-mce-bogus");if(C){c=h.next(C==="all");continue}}if(Ao(c)){c=h.next(!0);continue}if(ps(c)){m++,c=h.next();continue}if(Bm(e,c,t,i))return!1;c=h.next()}while(c);return m<=1},Ks=(e,t,o)=>ac(e,t.dom,{checkRootAsContent:!0,...o}),zv=(e,t,o)=>Bm(e,t,t,{includeZwsp:qg.includeZwsp,...o}),Ri=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},Y1=e=>{const t=Ri(J.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(J.some(C))}}},Nc=e=>{const t=Ri(J.none()),o=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{o(),t.set(J.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(J.some(setInterval(C,e)))}}},Ii=()=>{const e=Y1(ct);return{...e,on:o=>e.get().each(o)}},Zt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Lm=e=>Zt(e)!=="html",Ni=e=>Lm(e.nodeName),CC=e=>Zt(e.nodeName),_C=["svg","math"],lE=()=>{const e=Ii(),t=()=>e.get().map(CC).getOr("html");return{track:c=>(Ni(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Bd="data-mce-block",Yg=e=>vt(Kt(e),t=>!/[A-Z]/.test(t)),Hv=e=>Le(Yg(e),t=>{const o=CSS.escape(t);return`${o}:`+Le(_C,i=>`not(${i} ${o})`).join(":")}).join(","),X1=(e,t)=>Ee(t.querySelector(e))?(t.setAttribute(Bd,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Bd),!1),ux=(e,t)=>{const o=Hv(e.getTransparentElements()),i=Hv(e.getBlockElements());return vt(t.querySelectorAll(o),c=>X1(i,c))},Ss=(e,t,o)=>{var i;const c=o?"lastChild":"firstChild";for(let m=t[c];m;m=m[c])if(ac(e,m,{checkRootAsContent:!0})){(i=m.parentNode)===null||i===void 0||i.removeChild(m);return}},$v=(e,t,o)=>{const i=document.createRange(),c=t.parentNode;if(c){i.setStartBefore(t),i.setEndBefore(o);const m=i.extractContents();Ss(e,m,!0),i.setStartAfter(o),i.setEndAfter(t);const h=i.extractContents();Ss(e,h,!1),ac(e,m,{checkRootAsContent:!0})||c.insertBefore(m,t),ac(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),ac(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),c.removeChild(t)}},Is=(e,t,o)=>{const i=e.getBlockElements(),c=ze.fromDom(t),m=C=>Yo(C)in i,h=C=>Xo(C,c);he(lu(o),C=>{el(C,m,h).each(A=>{const F=Nm(C,K=>m(K)&&!e.isValidChild(Yo(A),Yo(K)));if(F.length>0){const K=wf(A);he(F,Y=>{el(Y,m,h).each(Q=>{$v(e,Q.dom,Y.dom)})}),K.each(Y=>ux(e,Y.dom))}})})},nl=(e,t,o)=>{he([...o,...Rf(e,t)?[t]:[]],i=>he(pi(ze.fromDom(i),i.nodeName.toLowerCase()),c=>{kC(e,c.dom)&&za(c)}))},Gs=(e,t)=>{const o=ux(e,t);Is(e,t,o),nl(e,t,o)},lc=(e,t)=>{if(gp(e,t)){const o=Hv(e.getBlockElements());X1(o,t)}},Ld=(e,t,o)=>{const i=m=>Xo(m,ze.fromDom(t)),c=Tm(ze.fromDom(o),i);As(c,c.length-2).filter(Us).fold(()=>Gs(e,t),m=>Gs(e,m.dom))},ji=e=>e.hasAttribute(Bd),Uv=(e,t)=>ao(e.getTransparentElements(),t),gp=(e,t)=>An(t)&&Uv(e,t.nodeName),Rf=(e,t)=>gp(e,t)&&ji(t),kC=(e,t)=>gp(e,t)&&!ji(t),hp=(e,t)=>t.type===1&&Uv(e,t.name)&&Ce(t.attr(Bd)),dx=na().browser,J1=e=>cn(e,Us),Wv=e=>dx.isFirefox()&&Yo(e)==="table"?J1(la(e)).filter(t=>Yo(t)==="caption").bind(t=>J1(Om(t)).map(o=>{const i=o.dom.offsetTop,c=t.dom.offsetTop,m=t.dom.offsetHeight;return i<=c?-m:0})).getOr(0):0,Q1=(e,t)=>e.children&&ie(e.children,t),fx=(e,t,o)=>{let i=0,c=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Ws(ze.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return i=C.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=C.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:c}}let h=t;for(;h&&h!==o&&h.nodeType&&!Q1(h,o);){const C=h;i+=C.offsetLeft||0,c+=C.offsetTop||0,h=C.offsetParent}for(h=t.parentNode;h&&h!==o&&h.nodeType&&!Q1(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Wv(ze.fromDom(t))}return{x:i,y:c}},Fm=(e,t={})=>{let o=0;const i={},c=ze.fromDom(e),m=rc(c),h=Ue=>{t.referrerPolicy=Ue},C=Ue=>{t.contentCssCors=Ue},A=Ue=>{Zs(Dm(c),Ue)},F=Ue=>{const et=Dm(c);Dt(et,"#"+Ue).each(Rr)},K=Ue=>Dr(i,Ue).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Y=Ue=>new Promise((et,Je)=>{let dt;const Bt=Xt._addCacheSuffix(Ue),Yt=K(Bt);i[Bt]=Yt,Yt.count++;const pn=(Cn,Hn)=>{he(Cn,zn),Yt.status=Hn,Yt.passed=[],Yt.failed=[],dt&&(dt.onload=null,dt.onerror=null,dt=null)},Et=()=>pn(Yt.passed,2),bt=()=>pn(Yt.failed,3);if(et&&Yt.passed.push(et),Je&&Yt.failed.push(Je),Yt.status===1)return;if(Yt.status===2){Et();return}if(Yt.status===3){bt();return}Yt.status=1;const Nt=ze.fromTag("link",m.dom);Ma(Nt,{rel:"stylesheet",type:"text/css",id:Yt.id}),t.contentCssCors&&xi(Nt,"crossOrigin","anonymous"),t.referrerPolicy&&xi(Nt,"referrerpolicy",t.referrerPolicy),dt=Nt.dom,dt.onload=Et,dt.onerror=bt,A(Nt),xi(Nt,"href",Bt)}),Q=(Ue,et)=>{const Je=K(Ue);i[Ue]=Je,Je.count++;const dt=ze.fromTag("style",m.dom);Ma(dt,{rel:"stylesheet",type:"text/css",id:Je.id}),dt.dom.innerHTML=et,A(dt)},ge=Ue=>Promise.allSettled(Le(Ue,Je=>Y(Je).then(tt(Je)))).then(Je=>{const dt=zt(Je,Bt=>Bt.status==="fulfilled");return dt.fail.length>0?Promise.reject(Le(dt.fail,Bt=>Bt.reason)):Le(dt.pass,Bt=>Bt.value)}),Se=Ue=>{const et=Xt._addCacheSuffix(Ue);Dr(i,et).each(Je=>{--Je.count===0&&(delete i[et],F(Je.id))})};return{load:Y,loadRawCss:Q,loadAll:ge,unload:Se,unloadRawCss:Ue=>{Dr(i,Ue).each(et=>{--et.count===0&&(delete i[Ue],F(et.id))})},unloadAll:Ue=>{he(Ue,et=>{Se(et)})},_setReferrerPolicy:h,_setContentCssCors:C}},e0=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const m=su(o).dom;return J.from(e.get(m)).getOrThunk(()=>{const h=Fm(m,i);return e.set(m,h),h})}}})(),t0=e=>e.nodeName.toLowerCase()==="span",mx=(e,t)=>Ee(e)&&(zv(t,e)||t.isInline(e.nodeName.toLowerCase())),gx=(e,t,o)=>{const i=new ca(e,t).prev(!1),c=new ca(e,t).next(!1),m=Me(i)||mx(i,o),h=Me(c)||mx(c,o);return m&&h},Zv=e=>t0(e)&&e.getAttribute("data-mce-type")==="bookmark",hx=(e,t,o)=>Ut(e)&&e.data.length>0&&gx(e,t,o),px=e=>An(e)?e.childNodes.length>0:!1,jv=e=>Of(e)||Nn(e),pp=(e,t,o,i)=>{var c;const m=i||t;if(An(t)&&Zv(t))return t;const h=t.childNodes;for(let C=h.length-1;C>=0;C--)pp(e,h[C],o,m);if(An(t)){const C=t.childNodes;C.length===1&&Zv(C[0])&&((c=t.parentNode)===null||c===void 0||c.insertBefore(C[0],t))}return!jv(t)&&!zv(o,t)&&!px(t)&&!hx(t,m,o)&&e.remove(t),t},vx=Xt.makeMap,Kv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vm=/[<>&\"\']/g,vp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,bx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Fd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Xg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Jg=e=>{const t=ze.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Vd=(e,t)=>{const o={};if(e){const i=e.split(",");t=t||10;for(let c=0;c<i.length;c+=2){const m=String.fromCharCode(parseInt(i[c],t));if(!Fd[m]){const h="&"+i[c+1]+";";o[m]=h,o[h]=m}}return o}else return},If=Vd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),qv=(e,t)=>e.replace(t?Kv:Gv,o=>Fd[o]||o),uE=e=>(""+e).replace(Vm,t=>Fd[t]||t),Yv=(e,t)=>e.replace(t?Kv:Gv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Fd[o]||"&#"+o.charCodeAt(0)+";"),Pc=(e,t,o)=>{const i=o||If;return e.replace(t?Kv:Gv,c=>Fd[c]||i[c]||c)},Qg={encodeRaw:qv,encodeAllRaw:uE,encodeNumeric:Yv,encodeNamed:Pc,getEncodeFunc:(e,t)=>{const o=Vd(t)||If,i=(h,C)=>h.replace(C?Kv:Gv,A=>Fd[A]!==void 0?Fd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(h,C)=>Pc(h,C,o),m=vx(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?t?c:Pc:m.numeric?Yv:qv},decode:e=>e.replace(vp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):bx[o]||String.fromCharCode(o)):Xg[t]||If[t]||Jg(t))},da=(e,t)=>(e=Xt.trim(e),e?e.split(t||" "):[]),eh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),th=e=>ee(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",n0=e=>{const t=o=>le(o)?Le(o,t):th(o)?new RegExp(o.source,o.flags):ee(o)?jl(o,t):o;return t(e)},Jo=e=>{const t=/^(~)?(.+)$/;return Co(da(e,","),o=>{const i=t.exec(o);if(i){const m=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:m,name:h}]}else return[]})},yl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Ju=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const i=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:i}},Aa=e=>{const{blockContent:t,phrasingContent:o,flowContent:i}=Ju(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(i)})},Kr={html4:Nl(()=>Aa("html4")),html5:Nl(()=>Aa("html5")),"html5-strict":Nl(()=>Aa("html5-strict"))},Xv=(e,t)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Kr[e]();return t==="blocks"?J.some(o):t==="phrasing"?J.some(i):t==="flow"?J.some(c):J.none()},EC=e=>{const t=yl(e),{phrasingContent:o,flowContent:i}=Ju(e),c={},m=(A,F,K)=>{c[A]={attributes:as(F,tt({})),attributesOrder:F,children:as(K,tt({}))}},h=(A,F="",K="")=>{const Y=da(K),Q=da(A);let ge=Q.length;const Se=[...t,...da(F)];for(;ge--;)m(Q[ge],Se.slice(),Y)},C=(A,F)=>{const K=da(A),Y=da(F);let Q=K.length;for(;Q--;){const ge=c[K[Q]];for(let Se=0,pe=Y.length;Se<pe;Se++)ge.attributes[Y[Se]]={},ge.attributesOrder.push(Y[Se])}};return e!=="html5-strict"&&(he(da("acronym applet basefont big font strike tt"),K=>{h(K,"",o)}),he(da("center dir isindex noframes"),K=>{h(K,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&he([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),he(da("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},dE=e=>e==="-"?"remove":"add",ds=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return J.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},o0=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Co(da(e,","),o=>{const i=t.exec(o);if(i){const c=i[1],m=c?dE(c):"replace",h=i[2],C=Co(da(i[3],"|"),A=>ds(A).toArray());return[{operation:m,name:h,validChildren:C}]}else return[]})},xx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:m}=t;return he(da(e,"|"),h=>{const C=o.exec(h);if(C){const A={},F=C[1],K=C[2].replace(/[\\:]:/g,":"),Y=C[3],Q=C[4];if(F==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(K),A.required=!0),F==="-"){delete c[K],m.splice(Xt.inArray(m,K),1);return}if(Y&&(Y==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:K,value:Q}),A.defaultValue=Q):Y==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:K,value:Q}),A.forcedValue=Q):Y==="<"&&(A.validValues=Xt.makeMap(Q,"?"))),i.test(K)){const ge=A;t.attributePatterns=t.attributePatterns||[],ge.pattern=eh(K),t.attributePatterns.push(ge)}else c[K]||m.push(K),c[K]=A}})},zm=(e,t)=>{ar(e.attributes,(o,i)=>{t.attributes[i]=o}),t.attributesOrder.push(...e.attributesOrder)},Mc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Co(da(t,","),i=>{const c=o.exec(i);if(c){const m=c[1],h=c[2],C=c[3],A=c[4],F=c[5],K={attributes:{},attributesOrder:[]};if(e.each(Y=>zm(Y,K)),m==="#"?K.paddEmpty=!0:m==="-"&&(K.removeEmpty=!0),A==="!"&&(K.removeEmptyAttrs=!0),F&&xx(F,K),C&&(K.outputName=h),h==="@")if(e.isNone())e=J.some(K);else return[];return[C?{name:h,element:K,aliasName:C}:{name:h,element:K}]}else return[]})},bp={},bn=Xt.makeMap,fu=Xt.each,wx=Xt.extend,r0=Xt.explode,yp=(e,t={})=>{const o=bn(e," ",bn(e.toUpperCase()," "));return wx(o,t)},s0=e=>yp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),nh=(e,t)=>{if(e){const o={};return Ce(e)&&(e={"*":e}),fu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?bn(i,/[, ]/):r0(i,/[, ]/)}),o}else return},Bc=(e={})=>{var t;const o={},i={};let c=[];const m={},h={},C=(Wn,ur,Js)=>{const yi=e[Wn];if(yi)return bn(yi,/[, ]/,bn(yi.toUpperCase(),/[, ]/));{let Xi=bp[Wn];return Xi||(Xi=yp(ur,Js),bp[Wn]=Xi),Xi}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",F=EC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const K=nh(e.valid_styles),Y=nh(e.invalid_styles,"map"),Q=nh(e.valid_classes,"map"),ge=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Se=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),pe=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Oe=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ue="td th iframe video audio object script code",et=C("non_empty_elements",Ue+" pre svg textarea summary",pe),Je=C("move_caret_before_on_enter_elements",Ue+" table",pe),dt="h1 h2 h3 h4 h5 h6",Bt=C("text_block_elements",dt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Yt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Bt),pn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Et=C("transparent_elements","a ins del canvas map"),bt=C("wrap_block_elements","pre "+dt);fu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Wn=>{h[Wn]=new RegExp("</"+Wn+"[^>]*>","gi")});const Nt=Wn=>{const ur=J.from(o["@"]),Js=/[*?+]/;he(Mc(ur,Wn??""),({name:yi,element:Xi,aliasName:cl})=>{if(cl&&(o[cl]=Xi),Js.test(yi)){const Li=Xi;Li.pattern=eh(yi),c.push(Li)}else o[yi]=Xi})},Cn=Wn=>{c=[],he(Kt(o),ur=>{delete o[ur]}),Nt(Wn)},Hn=(Wn,ur)=>{var Js,yi;delete bp.text_block_elements,delete bp.block_elements;const Xi=ur.extends?!pd(ur.extends):!1,cl=ur.extends;if(i[Wn]=cl?i[cl]:{},m[Wn]=cl??Wn,et[Wn.toUpperCase()]={},et[Wn]={},Xi||(Yt[Wn.toUpperCase()]={},Yt[Wn]={}),cl&&!o[Wn]&&o[cl]){const Li=n0(o[cl]);delete Li.removeEmptyAttrs,delete Li.removeEmpty,o[Wn]=Li}else o[Wn]={attributesOrder:[],attributes:{}};if(le(ur.attributes)){const Li=bc=>{Fi.attributesOrder.push(bc),Fi.attributes[bc]={}},Fi=(Js=o[Wn])!==null&&Js!==void 0?Js:{};delete Fi.attributesDefault,delete Fi.attributesForced,delete Fi.attributePatterns,delete Fi.attributesRequired,Fi.attributesOrder=[],Fi.attributes={},he(ur.attributes,bc=>{const _g=yl(A);ds(bc).each(({preset:kg,name:Sg})=>{kg?Sg==="global"&&he(_g,Li):Li(Sg)})}),o[Wn]=Fi}if(Be(ur.padEmpty)){const Li=(yi=o[Wn])!==null&&yi!==void 0?yi:{};Li.paddEmpty=ur.padEmpty,o[Wn]=Li}if(le(ur.children)){const Li={},Fi=_g=>{Li[_g]={}},bc=_g=>{Xv(A,_g).each(kg=>{he(kg,Fi)})};he(ur.children,_g=>{ds(_g).each(({preset:kg,name:Sg})=>{kg?bc(Sg):Fi(Sg)})}),i[Wn]=Li}cl&&ar(i,(Li,Fi)=>{Li[cl]&&(i[Fi]=Li=wx({},i[Fi]),Li[Wn]=Li[cl])})},Po=Wn=>{he(Jo(Wn??""),({name:ur,cloneName:Js})=>{Hn(ur,{extends:Js})})},$o=Wn=>{ee(Wn)?ar(Wn,(ur,Js)=>Hn(Js,ur)):Ce(Wn)&&Po(Wn)},Ir=Wn=>{he(o0(Wn??""),({operation:ur,name:Js,validChildren:yi})=>{const Xi=ur==="replace"?{"#comment":{}}:i[Js],cl=Fi=>{ur==="remove"?delete Xi[Fi]:Xi[Fi]={}},Li=Fi=>{Xv(A,Fi).each(bc=>{he(bc,cl)})};he(yi,({preset:Fi,name:bc})=>{Fi?Li(bc):cl(bc)}),i[Js]=Xi})},Ur=Wn=>{const ur=o[Wn];if(ur)return ur;let Js=c.length;for(;Js--;){const yi=c[Js];if(yi.pattern.test(Wn))return yi}},ui=()=>{e.valid_elements?(Cn(e.valid_elements),fu(F,(Wn,ur)=>{i[ur]=Wn.children})):(fu(F,(Wn,ur)=>{o[ur]={attributes:Wn.attributes,attributesOrder:Wn.attributesOrder},i[ur]=Wn.children}),fu(da("strong/b em/i"),Wn=>{const ur=da(Wn,"/");o[ur[1]].outputName=ur[0]}),fu(pn,(Wn,ur)=>{o[ur]&&(e.padd_empty_block_inline_children&&(o[ur].paddInEmptyBlock=!0),o[ur].removeEmpty=!0)}),fu(da("ol ul blockquote a table tbody"),Wn=>{o[Wn]&&(o[Wn].removeEmpty=!0)}),fu(da("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Wn=>{o[Wn]&&(o[Wn].paddEmpty=!0)}),fu(da("span"),Wn=>{o[Wn].removeEmptyAttrs=!0})),delete o.svg,$o(e.custom_elements),Ir(e.valid_children),Nt(e.extended_valid_elements),Ir("+ol[ul|ol],+ul[ul|ol]"),fu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Wn,ur)=>{o[ur]&&(o[ur].parentsRequired=da(Wn))}),e.invalid_elements&&fu(r0(e.invalid_elements),Wn=>{o[Wn]&&delete o[Wn]}),Ur("span")||Nt("span[!data-mce-type|*]")},Al=tt(K),Yr=tt(Y),on=tt(Q),Fn=tt(Oe),wr=tt(Yt),ln=tt(Bt),Yn=tt(pn),Ho=tt(Object.seal(pe)),gn=tt(Se),Mo=tt(et),Wo=tt(Je),Ra=tt(ge),Hr=tt(Et),ba=tt(bt),rm=tt(Object.seal(h)),zh=(Wn,ur)=>{const Js=i[Wn.toLowerCase()];return!!(Js&&Js[ur.toLowerCase()])},vc=(Wn,ur)=>{const Js=Ur(Wn);if(Js)if(ur){if(Js.attributes[ur])return!0;const yi=Js.attributePatterns;if(yi){let Xi=yi.length;for(;Xi--;)if(yi[Xi].pattern.test(ur))return!0}}else return!0;return!1},pd=Wn=>ao(wr(),Wn),sm=Wn=>!cs(Wn,"#")&&vc(Wn)&&!pd(Wn),vd=Wn=>ao(ba(),Wn)||sm(Wn),im=tt(m);return ui(),{type:A,children:i,elements:o,getValidStyles:Al,getValidClasses:on,getBlockElements:wr,getInvalidStyles:Yr,getVoidElements:Ho,getTextBlockElements:ln,getTextInlineElements:Yn,getBoolAttrs:Fn,getElementRule:Ur,getSelfClosingElements:gn,getNonEmptyElements:Mo,getMoveCaretBeforeOnEnterElements:Wo,getWhitespaceElements:Ra,getTransparentElements:Hr,getSpecialElements:rm,isValidChild:zh,isValid:vc,isBlock:pd,isInline:sm,isWrapper:vd,getCustomElements:im,addValidElements:Nt,setValidElements:Cn,addCustomElements:$o,addValidChildren:Ir}},fE=e=>({value:i0(e)}),i0=e=>Qc(e,"#").toUpperCase(),Cx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},a0=e=>{const t=Cx(e.red)+Cx(e.green)+Cx(e.blue);return fE(t)},_x=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,kx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,l0=(e,t,o,i)=>({red:e,green:t,blue:o,alpha:i}),Sx=(e,t,o,i)=>{const c=parseInt(e,10),m=parseInt(t,10),h=parseInt(o,10),C=parseFloat(i);return l0(c,m,h,C)},Ex=e=>_x.test(e)?"rgb":kx.test(e)?"rgba":"other",AC=e=>{const t=_x.exec(e);if(t!==null)return J.some(Sx(t[1],t[2],t[3],"1"));const o=kx.exec(e);return o!==null?J.some(Sx(o[1],o[2],o[3],o[4])):J.none()},mE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Jv=e=>AC(e).map(a0).map(t=>"#"+t.value).getOr(e),Ax=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let h,C;const A=Rs;t&&(h=t.getValidStyles(),C=t.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Y=0;Y<F.length;Y++)m[F[Y]]=A+Y,m[A+Y]=F[Y];const K={parse:Y=>{const Q={};let ge=!1;const Se=e.url_converter,pe=e.url_converter_scope||K,Oe=(Et,bt,Nt)=>{const Cn=Q[Et+"-top"+bt];if(!Cn)return;const Hn=Q[Et+"-right"+bt];if(!Hn)return;const Po=Q[Et+"-bottom"+bt];if(!Po)return;const $o=Q[Et+"-left"+bt];if(!$o)return;const Ir=[Cn,Hn,Po,$o];let Ur=Ir.length-1;for(;Ur--&&Ir[Ur]===Ir[Ur+1];);Ur>-1&&Nt||(Q[Et+bt]=Ur===-1?Ir[0]:Ir.join(" "),delete Q[Et+"-top"+bt],delete Q[Et+"-right"+bt],delete Q[Et+"-bottom"+bt],delete Q[Et+"-left"+bt])},Ue=Et=>{const bt=Q[Et];if(!bt)return;const Nt=bt.indexOf(",")>-1?[bt]:bt.split(" ");let Cn=Nt.length;for(;Cn--;)if(Nt[Cn]!==Nt[0])return!1;return Q[Et]=Nt[0],!0},et=(Et,bt,Nt,Cn)=>{Ue(bt)&&Ue(Nt)&&Ue(Cn)&&(Q[Et]=Q[bt]+" "+Q[Nt]+" "+Q[Cn],delete Q[bt],delete Q[Nt],delete Q[Cn])},Je=Et=>(ge=!0,m[Et]),dt=(Et,bt)=>(ge&&(Et=Et.replace(/\uFEFF[0-9]/g,Nt=>m[Nt])),bt||(Et=Et.replace(/\\([\'\";:])/g,"$1")),Et),Bt=Et=>String.fromCharCode(parseInt(Et.slice(1),16)),Yt=Et=>Et.replace(/\\[0-9a-f]+/gi,Bt),pn=(Et,bt,Nt,Cn,Hn,Po)=>{if(Hn=Hn||Po,Hn)return Hn=dt(Hn),"'"+Hn.replace(/\'/g,"\\'")+"'";if(bt=dt(bt||Nt||Cn||""),!e.allow_script_urls){const $o=bt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test($o)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test($o))return""}return Se&&(bt=Se.call(pe,bt,"style")),"url('"+bt.replace(/\'/g,"\\'")+"')"};if(Y){Y=Y.replace(/[\u0000-\u001F]/g,""),Y=Y.replace(/\\[\"\';:\uFEFF]/g,Je).replace(/\"[^\"]+\"|\'[^\']+\'/g,bt=>bt.replace(/[;:]/g,Je));let Et;for(;Et=i.exec(Y);){i.lastIndex=Et.index+Et[0].length;let bt=Et[1].replace(c,"").toLowerCase(),Nt=Et[2].replace(c,"");if(bt&&Nt){if(bt=Yt(bt),Nt=Yt(Nt),bt.indexOf(A)!==-1||bt.indexOf('"')!==-1||!e.allow_script_urls&&(bt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nt)))continue;bt==="font-weight"&&Nt==="700"?Nt="bold":(bt==="color"||bt==="background-color")&&(Nt=Nt.toLowerCase()),Ex(Nt)==="rgb"&&AC(Nt).each(Cn=>{Nt=Jv(mE(Cn)).toLowerCase()}),Nt=Nt.replace(o,pn),Q[bt]=ge?dt(Nt,!0):Nt}}Oe("border","",!0),Oe("border","-width"),Oe("border","-color"),Oe("border","-style"),Oe("padding",""),Oe("margin",""),et("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:(Y,Q)=>{let ge="";const Se=(Oe,Ue)=>{const et=Ue[Oe];if(et)for(let Je=0,dt=et.length;Je<dt;Je++){const Bt=et[Je],Yt=Y[Bt];Yt&&(ge+=(ge.length>0?" ":"")+Bt+": "+Yt+";")}},pe=(Oe,Ue)=>{if(!C||!Ue)return!0;let et=C["*"];return et&&et[Oe]?!1:(et=C[Ue],!(et&&et[Oe]))};return Q&&h?(Se("*",h),Se(Q,h)):ar(Y,(Oe,Ue)=>{Oe&&pe(Ue,Q)&&(ge+=(ge.length>0?" ":"")+Ue+": "+Oe+";")}),ge}};return K},oh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},gE=e=>e instanceof Event||Fe(e.initEvent),hE=e=>e.isDefaultPrevented===kn||e.isDefaultPrevented===fn,Nf=e=>Xe(e.preventDefault)||gE(e),Hm=(e,t)=>{const o=t??{};for(const i in e)ao(oh,i)||(o[i]=e[i]);return Ee(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ee(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),Ee(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},c0=(e,t,o,i)=>{var c;const m=Hm(t,i);return m.type=e,Xe(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),Nf(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=kn,Fe(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=kn,Fe(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=kn,m.stopPropagation()},hE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?kn:fn,m.isPropagationStopped=m.cancelBubble===!0?kn:fn,m.isImmediatePropagationStopped=fn)),m},TC="mce-data-",Tx=/^(?:mouse|contextmenu)|click/,Qv=(e,t,o,i)=>{e.addEventListener(t,o,i||!1)},zd=(e,t,o,i)=>{e.removeEventListener(t,o,i||!1)},u0=e=>Ee(e)&&Tx.test(e.type),vi=(e,t)=>{const o=c0(e.type,e,document,t);if(u0(e)&&Me(e.pageX)&&!Me(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,m=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Vs=(e,t,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{zd(e,"DOMContentLoaded",h),zd(e,"load",h),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};m()?h():Qv(e,"DOMContentLoaded",h),o.domLoaded||Qv(e,"load",h)};class Pf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=TC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,i,c){const m=this;let h;const C=window,A=Q=>{m.executeHandlers(vi(Q||C.event),F)};if(!t||Ut(t)||Ao(t))return i;let F;t[m.expando]?F=t[m.expando]:(F=m.count++,t[m.expando]=F,m.events[F]={}),c=c||t;const K=o.split(" ");let Y=K.length;for(;Y--;){let Q=K[Y],ge=A,Se=!1,pe=!1;if(Q==="DOMContentLoaded"&&(Q="ready"),m.domLoaded&&Q==="ready"&&t.readyState==="complete"){i.call(c,vi({type:Q}));continue}!m.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(Se=!0,pe=Q==="focusin"?"focus":"blur",ge=Oe=>{const Ue=vi(Oe||C.event);Ue.type=Ue.type==="focus"?"focusin":"focusout",m.executeHandlers(Ue,F)}),h=m.events[F][Q],h?Q==="ready"&&m.domLoaded?i(vi({type:Q})):h.push({func:i,scope:c}):(m.events[F][Q]=h=[{func:i,scope:c}],h.fakeName=pe,h.capture=Se,h.nativeHandler=ge,Q==="ready"?Vs(t,ge,m):Qv(t,pe||Q,ge,Se))}return t=h=null,i}unbind(t,o,i){if(!t||Ut(t)||Ao(t))return this;const c=t[this.expando];if(c){let m=this.events[c];if(o){const h=o.split(" ");let C=h.length;for(;C--;){const A=h[C],F=m[A];if(F){if(i){let K=F.length;for(;K--;)if(F[K].func===i){const Y=F.nativeHandler,Q=F.fakeName,ge=F.capture,Se=F.slice(0,K).concat(F.slice(K+1));Se.nativeHandler=Y,Se.fakeName=Q,Se.capture=ge,m[A]=Se}}(!i||F.length===0)&&(delete m[A],zd(t,F.fakeName||A,F.nativeHandler,F.capture))}}}else ar(m,(h,C)=>{zd(t,h.fakeName||C,h.nativeHandler,h.capture)}),m={};for(const h in m)if(ao(m,h))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,i){return this.dispatch(t,o,i)}dispatch(t,o,i){if(!t||Ut(t)||Ao(t))return this;const c=vi({type:o,target:t},i);do{const m=t[this.expando];m&&this.executeHandlers(c,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||Ut(t)||Ao(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let i=o.length;for(;i--;)t=o[i],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const i=this.events[o],c=i&&i[t.type];if(c)for(let m=0,h=c.length;m<h;m++){const C=c[m];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Pf.Event=new Pf;const Ox=Xt.each,d0=Xt.grep,Ki="data-mce-style",ol=Xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),rh=(e,t,o)=>{Xe(o)||o===""?Io(e,t):xi(e,t,o)},Mf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),$m=(e,t)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;t&&Ut(c)&&(m===i||!c.data.length)||(o++,i=m)}return o},f0=(e,t)=>{const o=Sa(t,"style"),i=e.serialize(e.parse(o),Yo(t));rh(t,Ki,i)},OC=(e,t)=>O(e)?ao(ol,t)?e+"":e+"px":e,Dx=(e,t,o)=>{const i=Mf(t);Xe(o)||o===""?au(e,i):tl(e,i,OC(o,i))},Um=(e,t,o)=>{const i=t.keep_values,c={set:(h,C,A)=>{const F=ze.fromDom(h);Fe(t.url_converter)&&Ee(C)&&(C=t.url_converter.call(t.url_converter_scope||o(),String(C),A,h));const K="data-mce-"+A;rh(F,K,C),rh(F,A,C)},get:(h,C)=>{const A=ze.fromDom(h);return Sa(A,"data-mce-"+C)||Sa(A,C)}},m={style:{set:(h,C)=>{const A=ze.fromDom(h);i&&rh(A,Ki,C),Io(A,"style"),Ce(C)&&Go(A,e.parse(C))},get:h=>{const C=ze.fromDom(h),A=Sa(C,Ki)||Sa(C,"style");return e.serialize(e.parse(A),Yo(C))}}};return i&&(m.href=m.src=c),m},Gr=(e,t={})=>{const o={},i=window,c={};let m=0;const h=!0,C=!0,A=e0.forElement(ze.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),F=[],K=t.schema?t.schema:Bc({}),Y=Ax({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),Q=t.ownEvents?new Pf:Pf.Event,ge=K.getBlockElements(),Se=ht=>Ce(ht)?ao(ge,ht):An(ht)&&(ao(ge,ht.nodeName)||Rf(K,ht)),pe=ht=>ht&&e&&Ce(ht)?e.getElementById(ht):ht,Oe=ht=>{const yt=pe(ht);return Ee(yt)?ze.fromDom(yt):null},Ue=(ht,yt,en="")=>{let qt;const to=Oe(ht);if(Ee(to)&&Us(to)){const er=TO[yt];er&&er.get?qt=er.get(to.dom,yt):qt=Sa(to,yt)}return Ee(qt)?qt:en},et=ht=>{const yt=pe(ht);return Xe(yt)?[]:yt.attributes},Je=(ht,yt,en)=>{Fn(ht,qt=>{if(An(qt)){const to=ze.fromDom(qt),er=en===""?null:en,Qs=Sa(to,yt),Eg=TO[yt];Eg&&Eg.set?Eg.set(to.dom,er,yt):rh(to,yt,er),Qs!==er&&t.onSetAttrib&&t.onSetAttrib({attrElm:to.dom,attrName:yt,attrValue:er})}})},dt=(ht,yt)=>ht.cloneNode(yt),Bt=()=>t.root_element||e.body,Yt=ht=>{const yt=Oc(ht);return{x:yt.x,y:yt.y,w:yt.width,h:yt.height}},pn=(ht,yt)=>fx(e.body,pe(ht),yt),Et=(ht,yt,en)=>{Fn(ht,qt=>{const to=ze.fromDom(qt);Dx(to,yt,en),t.update_styles&&f0(Y,to)})},bt=(ht,yt)=>{Fn(ht,en=>{const qt=ze.fromDom(en);ar(yt,(to,er)=>{Dx(qt,er,to)}),t.update_styles&&f0(Y,qt)})},Nt=(ht,yt,en)=>{const qt=pe(ht);if(!(Xe(qt)||!cu(qt)&&!Vv(qt)))return en?Ws(ze.fromDom(qt),Mf(yt)):(yt=yt.replace(/-(\D)/g,(to,er)=>er.toUpperCase()),yt==="float"&&(yt="cssFloat"),qt.style?qt.style[yt]:void 0)},Cn=ht=>{const yt=pe(ht);if(!yt)return{w:0,h:0};let en=Nt(yt,"width"),qt=Nt(yt,"height");return(!en||en.indexOf("px")===-1)&&(en="0"),(!qt||qt.indexOf("px")===-1)&&(qt="0"),{w:parseInt(en,10)||yt.offsetWidth||yt.clientWidth,h:parseInt(qt,10)||yt.offsetHeight||yt.clientHeight}},Hn=ht=>{const yt=pe(ht),en=pn(yt),qt=Cn(yt);return{x:en.x,y:en.y,w:qt.w,h:qt.h}},Po=(ht,yt)=>{if(!ht)return!1;const en=le(ht)?ht:[ht];return be(en,qt=>Mr(ze.fromDom(qt),yt))},$o=(ht,yt,en,qt)=>{const to=[];let er=pe(ht);qt=qt===void 0;const Qs=en||(Bt().nodeName!=="BODY"?Bt().parentNode:null);if(Ce(yt))if(yt==="*")yt=An;else{const Eg=yt;yt=DB=>Po(DB,Eg)}for(;er&&!(er===Qs||Xe(er.nodeType)||Nn(er)||Of(er));){if(!yt||yt(er))if(qt)to.push(er);else return[er];er=er.parentNode}return qt?to:null},Ir=(ht,yt,en)=>{const qt=$o(ht,yt,en,!1);return qt&&qt.length>0?qt[0]:null},Ur=(ht,yt,en)=>{let qt=yt;if(ht){Ce(yt)&&(qt=to=>Po(to,yt));for(let to=ht[en];to;to=to[en])if(Fe(qt)&&qt(to))return to}return null},ui=(ht,yt)=>Ur(ht,yt,"nextSibling"),Al=(ht,yt)=>Ur(ht,yt,"previousSibling"),Yr=ht=>Fe(ht.querySelectorAll),on=(ht,yt)=>{var en,qt;const to=(qt=(en=pe(yt))!==null&&en!==void 0?en:t.root_element)!==null&&qt!==void 0?qt:e;return Yr(to)?bo(to.querySelectorAll(ht)):[]},Fn=function(ht,yt,en){const qt=en??this;if(le(ht)){const to=[];return Ox(ht,(er,Qs)=>{const Eg=pe(er);Eg&&to.push(yt.call(qt,Eg,Qs))}),to}else{const to=pe(ht);return to?yt.call(qt,to):!1}},wr=(ht,yt)=>{Fn(ht,en=>{ar(yt,(qt,to)=>{Je(en,to,qt)})})},ln=(ht,yt)=>{Fn(ht,en=>{const qt=ze.fromDom(en);Im(qt,yt)})},Yn=(ht,yt,en,qt,to)=>Fn(ht,er=>{const Qs=Ce(yt)?e.createElement(yt):yt;return Ee(en)&&wr(Qs,en),qt&&(!Ce(qt)&&qt.nodeType?Qs.appendChild(qt):Ce(qt)&&ln(Qs,qt)),to?Qs:er.appendChild(Qs)}),Ho=(ht,yt,en)=>Yn(e.createElement(ht),ht,yt,en,!0),gn=Qg.decode,Mo=Qg.encodeAllRaw,Wo=(ht,yt,en="")=>{let qt="<"+ht;for(const to in yt)Kl(yt,to)&&(qt+=" "+to+'="'+Mo(yt[to])+'"');return Wt(en)&&ao(K.getVoidElements(),ht)?qt+" />":qt+">"+en+"</"+ht+">"},Ra=ht=>{const yt=e.createElement("div"),en=e.createDocumentFragment();en.appendChild(yt),ht&&(yt.innerHTML=ht);let qt;for(;qt=yt.firstChild;)en.appendChild(qt);return en.removeChild(yt),en},Hr=(ht,yt)=>Fn(ht,en=>{const qt=ze.fromDom(en);return yt&&he(la(qt),to=>{us(to)&&to.dom.length===0?Rr(to):Ds(qt,to)}),Rr(qt),qt.dom}),ba=ht=>Fn(ht,yt=>{const en=yt.attributes;for(let qt=en.length-1;qt>=0;qt--)yt.removeAttributeNode(en.item(qt))}),rm=ht=>Y.parse(ht),zh=(ht,yt)=>Y.serialize(ht,yt),vc=ht=>{if(uv!==Gr.DOM&&e===document){if(o[ht])return;o[ht]=!0}let yt=e.getElementById("mceDefaultStyles");if(!yt){yt=e.createElement("style"),yt.id="mceDefaultStyles",yt.type="text/css";const en=e.head;en.firstChild?en.insertBefore(yt,en.firstChild):en.appendChild(yt)}yt.styleSheet?yt.styleSheet.cssText+=ht:yt.appendChild(e.createTextNode(ht))},pd=ht=>{ht||(ht=""),he(ht.split(","),yt=>{c[yt]=!0,A.load(yt).catch(ct)})},sm=(ht,yt,en)=>{Fn(ht,qt=>{if(An(qt)){const to=ze.fromDom(qt),er=yt.split(" ");he(er,Qs=>{Ee(en)?(en?Rd:Ba)(to,Qs):sp(to,Qs)})}})},vd=(ht,yt)=>{sm(ht,yt,!0)},im=(ht,yt)=>{sm(ht,yt,!1)},Wn=(ht,yt)=>{const en=Oe(ht),qt=yt.split(" ");return Ee(en)&&Ro(qt,to=>Id(en,to))},ur=ht=>{Fn(ht,yt=>au(ze.fromDom(yt),"display"))},Js=ht=>{Fn(ht,yt=>tl(ze.fromDom(yt),"display","none"))},yi=ht=>{const yt=Oe(ht);return Ee(yt)&&gf(Fs(yt,"display"),"none")},Xi=ht=>(ht||"mce_")+m++,cl=ht=>{const yt=Oe(ht);return Ee(yt)?An(yt.dom)?yt.dom.outerHTML:jg(yt):""},Li=(ht,yt)=>{Fn(ht,en=>{An(en)&&(en.outerHTML=yt)})},Fi=(ht,yt)=>{const en=pe(yt);return Fn(ht,qt=>{const to=en==null?void 0:en.parentNode,er=en==null?void 0:en.nextSibling;return to&&(er?to.insertBefore(qt,er):to.appendChild(qt)),qt})},bc=(ht,yt,en)=>Fn(yt,qt=>{var to;const er=le(yt)?ht.cloneNode(!0):ht;return en&&Ox(d0(qt.childNodes),Qs=>{er.appendChild(Qs)}),(to=qt.parentNode)===null||to===void 0||to.replaceChild(er,qt),qt}),_g=(ht,yt)=>{if(ht.nodeName!==yt.toUpperCase()){const en=Ho(yt);return Ox(et(ht),qt=>{Je(en,qt.nodeName,Ue(ht,qt.nodeName))}),bc(en,ht,!0),en}else return ht},kg=(ht,yt)=>{let en=ht;for(;en;){let qt=yt;for(;qt&&en!==qt;)qt=qt.parentNode;if(en===qt)break;en=en.parentNode}return!en&&ht.ownerDocument?ht.ownerDocument.documentElement:en},Sg=(ht,yt,en)=>we(yt)?ac(K,ht,{...en,isContent:to=>{const er=to.nodeName.toLowerCase();return!!yt[er]}}):ac(K,ht,en),am=()=>e.createRange(),Ry=(ht,yt,en)=>{let qt=am(),to,er;if(ht&&yt&&ht.parentNode&&yt.parentNode){const Qs=ht.parentNode;return qt.setStart(Qs,$m(ht)),qt.setEnd(yt.parentNode,$m(yt)),to=qt.extractContents(),qt=am(),qt.setStart(yt.parentNode,$m(yt)+1),qt.setEnd(Qs,$m(ht)+1),er=qt.extractContents(),Qs.insertBefore(pp(uv,to,K),ht),en?Qs.insertBefore(en,ht):Qs.insertBefore(yt,ht),Qs.insertBefore(pp(uv,er,K),ht),Hr(ht),en||yt}else return},wS=(ht,yt,en,qt)=>{if(le(ht)){let to=ht.length;const er=[];for(;to--;)er[to]=wS(ht[to],yt,en,qt);return er}else return t.collect&&(ht===e||ht===i)&&F.push([ht,yt,en,qt]),Q.bind(ht,yt,en,qt||uv)},CS=(ht,yt,en)=>{if(le(ht)){let qt=ht.length;const to=[];for(;qt--;)to[qt]=CS(ht[qt],yt,en);return to}else{if(F.length>0&&(ht===e||ht===i)){let qt=F.length;for(;qt--;){const[to,er,Qs]=F[qt];ht===to&&(!yt||yt===er)&&(!en||en===Qs)&&Q.unbind(to,er,Qs)}}return Q.unbind(ht,yt,en)}},RH=(ht,yt,en)=>Q.dispatch(ht,yt,en),p1=(ht,yt,en)=>Q.dispatch(ht,yt,en),OB=ht=>{if(ht&&cu(ht)){const yt=ht.getAttribute("data-mce-contenteditable");return yt&&yt!=="inherit"?yt:ht.contentEditable!=="inherit"?ht.contentEditable:null}else return null},uv={doc:e,settings:t,win:i,files:c,stdMode:h,boxModel:C,styleSheetLoader:A,boundEvents:F,styles:Y,schema:K,events:Q,isBlock:Se,root:null,clone:dt,getRoot:Bt,getViewPort:Yt,getRect:Hn,getSize:Cn,getParent:Ir,getParents:$o,get:pe,getNext:ui,getPrev:Al,select:on,is:Po,add:Yn,create:Ho,createHTML:Wo,createFragment:Ra,remove:Hr,setStyle:Et,getStyle:Nt,setStyles:bt,removeAllAttribs:ba,setAttrib:Je,setAttribs:wr,getAttrib:Ue,getPos:pn,parseStyle:rm,serializeStyle:zh,addStyle:vc,loadCSS:pd,addClass:vd,removeClass:im,hasClass:Wn,toggleClass:sm,show:ur,hide:Js,isHidden:yi,uniqueId:Xi,setHTML:ln,getOuterHTML:cl,setOuterHTML:Li,decode:gn,encode:Mo,insertAfter:Fi,replace:bc,rename:_g,findCommonAncestor:kg,run:Fn,getAttribs:et,isEmpty:Sg,createRng:am,nodeIndex:$m,split:Ry,bind:wS,unbind:CS,fire:p1,dispatch:RH,getContentEditable:OB,getContentEditableParent:ht=>{const yt=Bt();let en=null;for(let qt=ht;qt&&qt!==yt&&(en=OB(qt),en===null);qt=qt.parentNode);return en},isEditable:ht=>{if(Ee(ht)){const yt=An(ht)?ht:ht.parentElement;return Ee(yt)&&cu(yt)&&_s(ze.fromDom(yt))}else return!1},destroy:()=>{if(F.length>0){let ht=F.length;for(;ht--;){const[yt,en,qt]=F[ht];Q.unbind(yt,en,qt)}}ar(c,(ht,yt)=>{A.unload(yt),delete c[yt]})},isChildOf:(ht,yt)=>ht===yt||yt.contains(ht),dumpRng:ht=>"startContainer: "+ht.startContainer.nodeName+", startOffset: "+ht.startOffset+", endContainer: "+ht.endContainer.nodeName+", endOffset: "+ht.endOffset},TO=Um(Y,t,tt(uv));return uv};Gr.DOM=Gr(document),Gr.nodeIndex=$m;const m0=Gr.DOM,fs=0,Qu=1,mu=2,sh=3;class xl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,i)=>{const c=m0;let m;const h=()=>{c.remove(F),m&&(m.onerror=m.onload=m=null)},C=()=>{h(),o()},A=()=>{h(),i("Failed to load script: "+t)},F=c.uniqueId();m=document.createElement("script"),m.id=F,m.type="text/javascript",m.src=Xt._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=C,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===mu}markDone(t){this.states[t]=mu}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=fs),new Promise((c,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,i=(A,F)=>{Dr(o.scriptLoadedCallbacks,F).each(K=>{he(K,Y=>Y[A](F))}),delete o.scriptLoadedCallbacks[F]},c=A=>{const F=vt(A,K=>K.status==="rejected");return F.length>0?Promise.reject(Co(F,({reason:K})=>le(K)?K:[K])):Promise.resolve()},m=A=>Promise.allSettled(Le(A,F=>o.states[F]===mu?(i("resolve",F),Promise.resolve()):o.states[F]===sh?(i("reject",F),Promise.reject(F)):(o.states[F]=Qu,o.loadScript(F).then(()=>{o.states[F]=mu,i("resolve",F);const K=o.queue;return K.length>0?(o.queue=[],m(K).then(c)):Promise.resolve()},()=>(o.states[F]=sh,i("reject",F),Promise.reject(F)))))),h=A=>(o.loading=!0,m(A).then(F=>{o.loading=!1;const K=o.queueLoadedCallbacks.shift();return J.from(K).each(zn),c(F)})),C=Lu(t);return o.loading?new Promise((A,F)=>{o.queueLoadedCallbacks.push(()=>{h(C).then(A,F)})}):h(C)}}xl.ScriptLoader=new xl;const fa=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Wm=e=>ee(e)&&ao(e,"raw"),eb=e=>le(e)&&e.length>1,ih={},tb=Ri("en"),ah=()=>Dr(ih,tb.get()),Lc={getData:()=>jl(ih,e=>({...e})),setCode:e=>{e&&tb.set(e)},getCode:()=>tb.get(),add:(e,t)=>{let o=ih[e];o||(ih[e]=o={});const i=Le(Kt(t),c=>c.toLowerCase());ar(t,(c,m)=>{const h=m.toLowerCase();h!==m&&fa(i,h)?(ao(t,h)||(o[h]=c),o[m]=c):o[h]=c})},translate:e=>{const t=ah().getOr({}),o=h=>Fe(h)?Object.prototype.toString.call(h):i(h)?"":""+h,i=h=>h===""||h===null||h===void 0,c=h=>{const C=o(h);return ao(t,C)?o(t[C]):Dr(t,C.toLowerCase()).map(o).getOr(C)},m=h=>h.replace(/{context:\w+}$/,"");if(i(e))return"";if(Wm(e))return o(e.raw);if(eb(e)){const h=e.slice(1),C=c(e[0]).replace(/\{([0-9]+)\}/g,(A,F)=>ao(h,F)?o(h[F]):A);return m(C)}return m(c(e))},isRtl:()=>ah().bind(e=>Dr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ao(ih,e)},rl=()=>{const e=[],t={},o={},i=[],c=(pe,Oe)=>{const Ue=vt(i,et=>et.name===pe&&et.state===Oe);he(Ue,et=>et.resolve())},m=pe=>ao(t,pe),h=pe=>ao(o,pe),C=pe=>{if(o[pe])return o[pe].instance},A=(pe,Oe)=>{const Ue=Lc.getCode(),et=","+(Oe||"")+",";!Ue||Oe&&et.indexOf(","+Ue+",")===-1||xl.ScriptLoader.add(t[pe]+"/langs/"+Ue+".js")},F=(pe,Oe)=>{rl.languageLoad!==!1&&(m(pe)?A(pe,Oe):Se(pe,"loaded").then(()=>A(pe,Oe)))},K=(pe,Oe)=>(e.push(Oe),o[pe]={instance:Oe},c(pe,"added"),Oe),Y=pe=>{delete t[pe],delete o[pe]},Q=(pe,Oe)=>Ce(Oe)?Ce(pe)?{prefix:"",resource:Oe,suffix:""}:{prefix:pe.prefix,resource:Oe,suffix:pe.suffix}:Oe,ge=(pe,Oe)=>{if(t[pe])return Promise.resolve();let Ue=Ce(Oe)?Oe:Oe.prefix+Oe.resource+Oe.suffix;Ue.indexOf("/")!==0&&Ue.indexOf("://")===-1&&(Ue=rl.baseURL+"/"+Ue),t[pe]=Ue.substring(0,Ue.lastIndexOf("/"));const et=()=>(c(pe,"loaded"),Promise.resolve());return o[pe]?et():xl.ScriptLoader.add(Ue).then(et)},Se=(pe,Oe="added")=>Oe==="added"&&h(pe)||Oe==="loaded"&&m(pe)?Promise.resolve():new Promise(Ue=>{i.push({name:pe,state:Oe,resolve:Ue})});return{items:e,urls:t,lookup:o,get:C,requireLangPack:F,add:K,remove:Y,createUrl:Q,load:ge,waitFor:Se}};rl.languageLoad=!0,rl.baseURL="",rl.PluginManager=rl(),rl.ThemeManager=rl(),rl.ModelManager=rl();const lh=(e,t)=>{let o=null;return{cancel:()=>{Ze(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ze(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},xp=(e,t)=>{let o=null;const i=()=>{Ze(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...m)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},NC=(e,t,o)=>iu(e,t,o).isSome(),Ns=tt("mce-annotation"),Ps=tt("data-mce-annotation"),ni=tt("data-mce-annotation-uid"),Br=tt("data-mce-annotation-active"),Es=tt("data-mce-annotation-classes"),qs=tt("data-mce-annotation-attrs"),g0=e=>t=>Xo(t,e),h0=(e,t)=>{const o=e.selection.getRng(),i=ze.fromDom(o.startContainer),c=ze.fromDom(e.getBody()),m=t.fold(()=>"."+Ns(),A=>`[${Ps()}="${A}"]`),h=Zu(i,o.startOffset).getOr(i);return Zi(h,m,g0(c)).bind(A=>tu(A,`${ni()}`).bind(F=>tu(A,`${Ps()}`).map(K=>{const Y=Px(e,F);return{uid:F,name:K,elements:Y}})))},Nx=e=>Us(e)&&Id(e,Ns()),nb=(e,t)=>Od(e,"data-mce-bogus")||NC(e,'[data-mce-bogus="all"]',g0(t)),Px=(e,t)=>{const o=ze.fromDom(e.getBody()),i=pi(o,`[${ni()}="${t}"]`);return vt(i,c=>!nb(c,o))},ch=(e,t)=>{const o=ze.fromDom(e.getBody()),i=pi(o,`[${Ps()}="${t}"]`),c={};return he(i,m=>{if(!nb(m,o)){const h=Sa(m,ni()),C=Dr(c,h).getOr([]);c[h]=C.concat([m])}}),c},p0=(e,t)=>{const o=Ri({}),i=()=>({listeners:[],previous:Ii()}),c=(Y,Q)=>{m(Y,ge=>(Q(ge),ge))},m=(Y,Q)=>{const ge=o.get(),Se=Dr(ge,Y).getOrThunk(i),pe=Q(Se);ge[Y]=pe,o.set(ge)},h=(Y,Q,ge)=>{c(Y,Se=>{he(Se.listeners,pe=>pe(!0,Y,{uid:Q,nodes:Le(ge,Oe=>Oe.dom)}))})},C=Y=>{c(Y,Q=>{he(Q.listeners,ge=>ge(!1,Y))})},A=(Y,Q)=>{he(Px(e,Y),ge=>{Q?xi(ge,Br(),"true"):Io(ge,Br())})},F=xp(()=>{const Y=mr(t.getNames());he(Y,Q=>{m(Q,ge=>{const Se=ge.previous.get();return h0(e,J.some(Q)).fold(()=>{Se.each(pe=>{C(Q),ge.previous.clear(),A(pe,!1)})},({uid:pe,name:Oe,elements:Ue})=>{gf(Se,pe)||(Se.each(et=>A(et,!1)),h(Oe,pe,Ue),ge.previous.set(pe),A(pe,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(Y,Q)=>{m(Y,ge=>({previous:ge.previous,listeners:ge.listeners.concat([Q])}))}}},v0=(e,t)=>{const o=Ps(),i=m=>J.from(m.attr(o)).bind(t.lookup),c=m=>{var h,C;m.attr(ni(),null),m.attr(Ps(),null),m.attr(Br(),null);const A=J.from(m.attr(qs())).map(Q=>Q.split(",")).getOr([]),F=J.from(m.attr(Es())).map(Q=>Q.split(",")).getOr([]);he(A,Q=>m.attr(Q,null));const K=(C=(h=m.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&C!==void 0?C:[],Y=fr(K,[Ns()].concat(F));m.attr("class",Y.length>0?Y.join(" "):null),m.attr(Es(),null),m.attr(qs(),null)};e.serializer.addTempAttr(Br()),e.serializer.addAttributeFilter(o,m=>{for(const h of m)i(h).each(C=>{C.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},Mx=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Dr(e,c).map(m=>m.settings),getNames:()=>Kt(e)}},ob=(e,t,o)=>Math.min(Math.max(e,t),o),wl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Bx=0;const Ha=e=>{const o=new Date().getTime(),i=Math.floor(wl()*1e9);return Bx++,e+"_"+i+Bx+String(o)},rb=(e,t)=>{he(t,o=>{Rd(e,o)})},uh=(e,t)=>{he(t,o=>{Ba(e,o)})},gu=(e,t)=>ze.fromDom(e.dom.cloneNode(t)),Ys=e=>gu(e,!1),jm=e=>gu(e,!0),Lx=(e,t)=>{const o=ze.fromTag(t),i=vl(e);return Ma(o,i),o},Fx=(e,t)=>{const o=Lx(e,t);it(e,o);const i=la(e);return ti(o,i),Rr(e),o},sb=(e,t,o=fn)=>{const i=new ca(e,t),c=m=>{let h;do h=i[m]();while(h&&!Ut(h)&&!o(h));return J.from(h).filter(Ut)};return{current:()=>J.from(i.current()).filter(Ut),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Hd=(e,t)=>{const o=t||(h=>e.isBlock(h)||ps(h)||fo(h)),i=(h,C,A,F)=>{if(Ut(h)){const K=F(h,C,h.data);if(K!==-1)return J.some({container:h,offset:K})}return A().bind(K=>i(K.container,K.offset,A,F))};return{backwards:(h,C,A,F)=>{const K=sb(h,F??e.getRoot(),o);return i(h,C,()=>K.prev().map(Y=>({container:Y,offset:Y.length})),A).getOrNull()},forwards:(h,C,A,F)=>{const K=sb(h,F??e.getRoot(),o);return i(h,C,()=>K.next().map(Y=>({container:Y,offset:0})),A).getOrNull()}}},ib=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return i(m).getOr("")},i=m=>e(m)?J.from(m.dom.nodeValue):J.none();return{get:o,getOption:i,set:(m,h)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=h}}})(us,"text"),Km=e=>ib.get(e),PC=e=>ib.getOption(e),ab=(e,t)=>ib.set(e,t),lb=["td","th"],b0=["thead","tbody","tfoot"],wp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],y0=["li","dd","dt"],$a=["ul","ol","dl"],Vx=["pre","script","textarea","style"],$d=e=>{let t;return o=>(t=t||as(e,kn),ao(t,Yo(o)))},cb=e=>Yo(e)==="table",ed=e=>Us(e)&&Yo(e)==="br",ub=$d(wp),db=$d($a),Gm=$d(y0),dh=$d(b0),Fc=$d(lb),fb=$d(Vx),vE=e=>{const t=[];let o=e.dom;for(;o;)t.push(ze.fromDom(o)),o=o.lastChild;return t},cc=e=>{const t=pi(e,"br"),o=vt(vE(e).slice(-1),ed);t.length===o.length&&he(o,Rr)},Ud=()=>{const e=ze.fromTag("br");return xi(e,"data-mce-bogus","1"),e},Vc=e=>{es(e),Zs(e,Ud())},zx=(e,t)=>{ju(e).each(o=>{wi(o).each(i=>{t.isBlock(Yo(e))&&ed(o)&&t.isBlock(Yo(i))&&Rr(o)})})},_i=Rs,zc=Yu,Cl=lp,bE=e=>e.insertContent(_i,{preserve_zwsp:!0}),Bf=An,Wd=Ut,Cp=e=>(Wd(e)&&(e=e.parentNode),Bf(e)&&e.hasAttribute("data-mce-caret")),qm=e=>Wd(e)&&zc(e.data),Yl=e=>Cp(e)||qm(e),x0=e=>e.firstChild!==e.lastChild||!ps(e.firstChild),w0=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i),m=e.parentNode;if(t){const h=e.previousSibling;if(Wd(h)){if(Yl(h))return h;if(Zd(h))return h.splitText(h.data.length-1)}m==null||m.insertBefore(c,e)}else{const h=e.nextSibling;if(Wd(h)){if(Yl(h))return h;if(gb(h))return h.splitText(1),h}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},mb=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset())===_i||e.isAtStart()&&qm(t.previousSibling):!1},C0=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset()-1)===_i||e.isAtEnd()&&qm(t.nextSibling):!1},MC=(e,t,o)=>{var i;const m=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(Ud().dom);const h=t.parentNode;return o?h==null||h.insertBefore(m,t):t.nextSibling?h==null||h.insertBefore(m,t.nextSibling):h==null||h.appendChild(m),m},gb=e=>Wd(e)&&e.data[0]===_i,Zd=e=>Wd(e)&&e.data[e.data.length-1]===_i,hb=e=>{var t;const o=e.getElementsByTagName("br"),i=o[o.length-1];Af(i)&&((t=i.parentNode)===null||t===void 0||t.removeChild(i))},fh=e=>e&&e.hasAttribute("data-mce-caret")?(hb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,mh=e=>Cp(e.startContainer),Lf=Math.round,Ff=e=>e?{left:Lf(e.left),top:Lf(e.top),bottom:Lf(e.bottom),right:Lf(e.right),width:Lf(e.width),height:Lf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},pb=(e,t)=>(e=Ff(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Vf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,zf=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Hf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:zf(t.top-e.bottom,e,t)},gh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:zf(t.bottom-e.top,e,t),_0=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,_p=e=>Vt(e,(t,o)=>t.fold(()=>J.some(o),i=>{const c=Math.min(o.left,i.left),m=Math.min(o.top,i.top),h=Math.max(o.right,i.right),C=Math.max(o.bottom,i.bottom);return J.some({top:m,right:h,bottom:C,left:c,width:h-c,height:C-m})}),J.none()),k0=(e,t,o)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(o-c)*(o-c))},Hx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),kp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},ki=(e,t)=>{if(An(e)&&e.hasChildNodes()){const o=e.childNodes,i=ob(t,0,o.length-1);return o[i]}else return e},$x=(e,t)=>{if(!(t<0&&An(e)&&e.hasChildNodes()))return ki(e,t)},BC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Ux=e=>Ce(e)&&e.charCodeAt(0)>=768&&BC.test(e),Wx=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},$f=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},S0=Ic,vb=fo,Zx=ps,yE=Ut,Uf=ua(["script","style","textarea"]),bb=ua(["img","input","textarea","hr","iframe","video","audio","object","embed"]),LC=ua(["table"]),FC=Yl,hu=e=>FC(e)?!1:yE(e)?!Uf(e.parentNode):bb(e)||Zx(e)||LC(e)||E0(e),jx=e=>An(e)&&e.getAttribute("unselectable")==="true",E0=e=>!jx(e)&&vb(e),VC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(E0(o))return!1;if(S0(o))return!0}return!0},hh=e=>E0(e)?!Vt(bo(e.getElementsByTagName("*")),(t,o)=>t||S0(o),!1):!1,Sp=e=>bb(e)||hh(e),yb=(e,t)=>hu(e)&&VC(e,t),zC=An,pu=hu,Ym=Dc("display","block table"),xb=Dc("float","left right"),wb=$f(zC,pu,Ye(xb)),A0=Ye(Dc("white-space","pre pre-line pre-wrap")),Cb=Ut,ga=ps,T0=Gr.nodeIndex,Xm=$x,Jm=e=>e?e.createRange():Gr.DOM.createRng(),_b=e=>Ce(e)&&/[\r\n\t ]/.test(e),O0=e=>!!e.setStart&&!!e.setEnd,ph=e=>{const t=e.startContainer,o=e.startOffset;if(_b(e.toString())&&A0(t.parentNode)&&Ut(t)){const i=t.data;if(_b(i[o-1])||_b(i[o+1]))return!0}return!1},Wf=e=>{const t=e.ownerDocument,o=Jm(t),i=t.createTextNode(Di),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const m=Ff(o.getBoundingClientRect());return c.removeChild(i),m},Kx=e=>{const t=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(t===o&&Ut(o)&&i===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),sl(m)}else return null},D0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,sl=e=>{var t;let o;const i=e.getClientRects();return i.length>0?o=Ff(i[0]):o=Ff(e.getBoundingClientRect()),!O0(e)&&ga(e)&&D0(o)?Wf(e):D0(o)&&O0(e)&&(t=Kx(e))!==null&&t!==void 0?t:o},Zf=(e,t)=>{const o=pb(e,t);return o.width=1,o.right=o.left+1,o},Gx=e=>{const t=[],o=h=>{h.height!==0&&(t.length>0&&Vf(h,t[t.length-1])||t.push(h))},i=(h,C)=>{const A=Jm(h.ownerDocument);if(C<h.data.length){if(Ux(h.data[C]))return;if(Ux(h.data[C-1])&&(A.setStart(h,C),A.setEnd(h,C+1),!ph(A))){o(Zf(sl(A),!1));return}}C>0&&(A.setStart(h,C-1),A.setEnd(h,C),ph(A)||o(Zf(sl(A),!1))),C<h.data.length&&(A.setStart(h,C),A.setEnd(h,C+1),ph(A)||o(Zf(sl(A),!0)))},c=e.container(),m=e.offset();if(Cb(c))return i(c,m),t;if(zC(c))if(e.isAtEnd()){const h=Xm(c,m);Cb(h)&&i(h,h.data.length),wb(h)&&!ga(h)&&o(Zf(sl(h),!1))}else{const h=Xm(c,m);if(Cb(h)&&i(h,0),wb(h)&&e.isAtEnd())return o(Zf(sl(h),!1)),t;const C=Xm(e.container(),e.offset()-1);wb(C)&&!ga(C)&&(Ym(C)||Ym(h)||!wb(h))&&o(Zf(sl(C),!1)),wb(h)&&o(Zf(sl(h),!0))}return t},xt=(e,t,o)=>{const i=()=>(Cb(e),t===0),c=()=>Cb(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const K=Jm(e.ownerDocument);return K.setStart(e,t),K.setEnd(e,t),K},h=()=>(o||(o=Gx(xt(e,t))),o),C=()=>h().length>0,A=K=>K&&e===K.container()&&t===K.offset(),F=K=>Xm(e,K?t-1:t);return{container:tt(e),offset:tt(t),toRange:m,getClientRects:h,isVisible:C,isAtStart:i,isAtEnd:c,isEqual:A,getNode:F}};xt.fromRangeStart=e=>xt(e.startContainer,e.startOffset),xt.fromRangeEnd=e=>xt(e.endContainer,e.endOffset),xt.after=e=>xt(e.parentNode,T0(e)+1),xt.before=e=>xt(e.parentNode,T0(e)),xt.isAbove=(e,t)=>ra(hn(t.getClientRects()),To(e.getClientRects()),Hf).getOr(!1),xt.isBelow=(e,t)=>ra(To(t.getClientRects()),hn(e.getClientRects()),gh).getOr(!1),xt.isAtStart=e=>e?e.isAtStart():!1,xt.isAtEnd=e=>e?e.isAtEnd():!1,xt.isTextPosition=e=>e?Ut(e.container()):!1,xt.isElementPosition=e=>!xt.isTextPosition(e);const Ep=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},xE=(e,t,o)=>{t.insertNode(o),Ep(e,o.previousSibling),Ep(e,o.nextSibling)},HC=(e,t,o)=>{const i=J.from(o.firstChild),c=J.from(o.lastChild);t.insertNode(o),i.each(m=>Ep(e,m.previousSibling)),c.each(m=>Ep(e,m.nextSibling))},R0=(e,t,o)=>{Of(o)?HC(e,t,o):xE(e,t,o)},vu=Ut,I0=Af,kb=Gr.nodeIndex,qx=e=>{const t=e.parentNode;return I0(t)?qx(t):t},Yx=e=>e?ml(e.childNodes,(t,o)=>(I0(o)&&o.nodeName!=="BR"?t=t.concat(Yx(o)):t.push(o),t),[]):[],wE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&vu(o);)t+=o.data.length;return t},y=e=>t=>e===t,k=e=>{let t,o;t=Yx(qx(e)),o=ls(t,y(e),e),t=t.slice(0,o+1);const i=ml(t,(c,m,h)=>(vu(m)&&vu(t[h-1])&&c++,c),0);return t=qa(t,ua([e.nodeName])),o=ls(t,y(e),e),o-i},T=e=>(vu(e)?"text()":e.nodeName.toLowerCase())+"["+k(e)+"]",B=(e,t,o)=>{const i=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},H=(e,t)=>{let o=[],i=t.container(),c=t.offset(),m;if(vu(i))m=wE(i,c);else{const C=i.childNodes;c>=C.length?(m="after",c=C.length-1):m="before",i=C[c]}o.push(T(i));let h=B(e,i);return h=qa(h,Ye(Af)),o=o.concat(wm(h,C=>T(C))),o.reverse().join("/")+","+m},U=(e,t,o)=>{let i=Yx(e);return i=qa(i,(c,m)=>!vu(c)||!vu(i[m-1])),i=qa(i,ua([t])),i[o]},ne=(e,t)=>{let o=e,i=0;for(;vu(o);){const c=o.data.length;if(t>=i&&t<=i+c){e=o,t=t-i;break}if(!vu(o.nextSibling)){e=o,t=c;break}i+=c,o=o.nextSibling}return vu(e)&&t>e.data.length&&(t=e.data.length),xt(e,t)},se=(e,t)=>{if(!t)return null;const o=t.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",m=ml(i,(h,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(h,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!vu(m)&&m.parentNode){let h;return c==="after"?h=kb(m)+1:h=kb(m),xt(m.parentNode,h)}return ne(m,parseInt(c,10))},xe=fo,Ie=(e,t,o)=>{let i=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&Ut(c);c=c.previousSibling)i+=e(c.data).length;return i},je=(e,t,o,i,c)=>{const m=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const C=[],A=e.getRoot();if(Ut(m))C.push(o?Ie(t,m,h):h);else{let F=0;const K=m.childNodes;h>=K.length&&K.length&&(F=1,h=Math.max(0,K.length-1)),C.push(e.nodeIndex(K[h],o)+F)}for(let F=m;F&&F!==A;F=F.parentNode)C.push(e.nodeIndex(F,o));return C},De=(e,t,o,i)=>{const c=t.dom,m=je(c,e,o,i,!0),h=t.isForward(),C=mh(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:h,...C};{const A=je(c,e,o,i,!1);return{start:m,end:A,forward:h,...C}}},Pe=(e,t,o)=>{let i=0;return Xt.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},He=(e,t)=>{let o=t?e.startContainer:e.endContainer,i=t?e.startOffset:e.endOffset;if(An(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?i:i-1,c.length-1)],o&&(i=t?0:o.childNodes.length,t?e.setStart(o,i):e.setEnd(o,i))}},st=e=>(He(e,!0),He(e,!1),e),at=(e,t)=>{if(An(e)&&(e=ki(e,t),xe(e)))return e;if(Yl(e)){Ut(e)&&Cp(e)&&(e=e.parentNode);let o=e.previousSibling;if(xe(o)||(o=e.nextSibling,xe(o)))return o}},Ot=e=>at(e.startContainer,e.startOffset)||at(e.endContainer,e.endOffset),It=(e,t,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||xe(i)){const h=i.nodeName;return{name:h,index:Pe(o.dom,h,i)}}const m=Ot(c);if(m){const h=m.tagName;return{name:h,index:Pe(o.dom,h,m)}}return De(e,o,t,c)},Tt=e=>{const t=e.getRng();return{start:H(e.dom.getRoot(),xt.fromRangeStart(t)),end:H(e.dom.getRoot(),xt.fromRangeEnd(t)),forward:e.isForward()}},Pt=e=>({rng:e.getRng(),forward:e.isForward()}),Gt=(e,t,o)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Qt=(e,t)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),h=e.getNode(),C=h.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Pe(o,C,h)};const F=st(i.cloneRange());if(!m){F.collapse(!1);const Y=Gt(o,c+"_end",t);R0(o,F,Y)}i=st(i),i.collapse(!0);const K=Gt(o,c+"_start",t);return R0(o,i,K),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},lt=(e,t,o=!1)=>t===2?It(Cl,o,e):t===3?Tt(e):t?Pt(e):Qt(e,!1),yn=nt(It,pt,!0),Xn=e=>{const t=m=>m(e),o=tt(e),i=()=>c,c={tag:!0,inner:e,fold:(m,h)=>h(e),isValue:kn,isError:fn,map:m=>Jn.value(m(e)),mapError:i,bind:t,exists:t,forall:t,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:m=>{m(e)},toOptional:()=>J.some(e)};return c},xo=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:fn,isError:kn,map:t,mapError:i=>Jn.error(i(e)),bind:t,exists:fn,forall:kn,getOr:pt,or:pt,getOrThunk:oo,orThunk:oo,getOrDie:Mt(String(e)),each:ct,toOptional:J.none};return o},Jn={value:Xn,error:xo,fromOption:(e,t)=>e.fold(()=>xo(t),Xn)},qo={generate:e=>{if(!le(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return he(e,(i,c)=>{const m=Kt(i);if(m.length!==1)throw new Error("one and only one name per case");const h=m[0],C=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!le(C))throw new Error("case arguments must be an array");t.push(h),o[h]=(...A)=>{const F=A.length;if(F!==C.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+C.length+" ("+C+"), got "+F);return{fold:(...Y)=>{if(Y.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Y.length);return Y[c].apply(null,A)},match:Y=>{const Q=Kt(Y);if(t.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Q.join(","));if(!Ro(t,Se=>ie(Q,Se)))throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+t.join(", "));return Y[h].apply(null,A)},log:Y=>{console.log(Y,{constructors:t,constructor:h,params:A})}}}}),o}};qo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const oi=e=>{const t=[],o=[];return he(e,i=>{i.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Ta=e=>e.type==="inline-command"||e.type==="inline-format",Gi=e=>e.type==="block-command"||e.type==="block-format",uc=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Qm=e=>{var t;const o=c=>Jn.error({message:c,pattern:e}),i=(c,m,h)=>{if(e.format!==void 0){let C;if(le(e.format)){if(!Ro(e.format,Ce))return o(c+" pattern has non-string items in the `format` array");C=e.format}else if(Ce(e.format))C=[e.format];else return o(c+" pattern has non-string `format` parameter");return Jn.value(m(C))}else return e.cmd!==void 0?Ce(e.cmd)?Jn.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!ee(e))return o("Raw pattern is not an object");if(!Ce(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Ce(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:m,format:h}),(h,C)=>({type:"inline-command",start:c,end:m,cmd:h,value:C}))}else{if(e.replacement!==void 0)return Ce(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Jn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,h)=>({type:"block-command",start:e.start,cmd:m,value:h,trigger:c}))}}},Oa=e=>vt(e,Gi),td=e=>vt(e,Ta),Ap=(e,t)=>({inlinePatterns:td(e),blockPatterns:Oa(e),dynamicPatternsLookup:t}),jf=(e,t)=>({...e,blockPatterns:vt(e.blockPatterns,o=>uc(o,t))}),Tp=e=>{const t=oi(Le(e,Qm));return he(t.errors,o=>console.error(o.message,o.pattern)),t.values},N0=e=>t=>{const o=e(t);return Tp(o)},Kf=na().deviceType,$C=Kf.isTouch(),C8=Gr.DOM,_8=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Vt(t,(o,i)=>{const c=i.split("="),m=c[0],h=c.length>1?c[1]:m;return o[Ne(m)]=Ne(h),o},{})},LD=e=>Ve(e,RegExp),xn=e=>t=>t.options.get(e),Xx=e=>Ce(e)||ee(e),CE=(e,t="")=>o=>{const i=Ce(o);if(i)if(o.indexOf("=")!==-1){const c=_8(o);return{value:Dr(c,e.id).getOr(t),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},UC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:CE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:CE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const i=Ce(o)&&Qe(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const i=ie(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>Be(o)?{valid:!0,value:o}:Ce(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const i=o===!1||Ce(o)||Ge(o,Ce);return i?Ce(o)?{value:Le(o.split(","),Ne),valid:i}:le(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Sb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const i=Ce(o)||Ge(o,Ce);return i?{value:le(o)?o:Le(o.split(","),Ne),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const i=Be(o)||Ce(o);return i?o===!1||Kf.isiPhone()||Kf.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!$C}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||Ce(o)||Fe(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const i=o===!1||Ce(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Xx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Xx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Xx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Xx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Ce(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Ge(o,ee)||o===!1?{value:Tp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Fe(o)?{value:N0(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Ge(o,LD)?{value:o,valid:!0}:LD(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const i=ie(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const i=ie(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Lc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:C8.getAttrib(e.getElement(),"placeholder")})})},_l=xn("iframe_attrs"),jd=xn("doctype"),bu=xn("document_base_url"),WC=xn("body_id"),_E=xn("body_class"),FD=xn("content_security_policy"),kE=xn("br_in_pre"),il=xn("forced_root_block"),Jx=xn("forced_root_block_attrs"),SE=xn("newline_behavior"),VD=xn("br_newline_selector"),zD=xn("no_newline_selector"),EE=xn("keep_styles"),AE=xn("end_container_on_empty_block"),qr=xn("automatic_uploads"),vh=xn("images_reuse_filename"),HD=xn("images_replace_blob_uris"),TE=xn("icons"),$D=xn("icons_url"),OE=xn("images_upload_url"),UD=xn("images_upload_base_path"),DE=xn("images_upload_credentials"),k8=xn("images_upload_handler"),WD=xn("content_css_cors"),Qx=xn("referrer_policy"),RE=xn("language"),S8=xn("language_url"),ZD=xn("indent_use_margin"),yu=xn("indentation"),Vl=xn("content_css"),P0=xn("content_style"),jD=xn("font_css"),E8=xn("directionality"),or=xn("inline_boundaries_selector"),KD=xn("object_resizing"),GD=xn("resize_img_proportional"),IE=xn("placeholder"),qD=xn("event_root"),A8=xn("service_message"),M0=xn("theme"),T8=xn("theme_url"),e2=xn("model"),NE=xn("model_url"),B0=xn("inline_boundaries"),O8=xn("formats"),D8=xn("preview_styles"),R8=xn("format_empty_lines"),so=xn("format_noneditable_selector"),YD=xn("custom_ui_selector"),Sb=xn("inline"),PE=xn("hidden_input"),XD=xn("submit_patch"),JD=xn("add_form_submit_trigger"),QD=xn("add_unload_trigger"),e5=xn("custom_undo_redo_levels"),I8=xn("disable_nodechange"),t5=xn("readonly"),Sr=xn("editable_root"),n5=xn("content_css_cors"),Kd=xn("plugins"),eg=xn("external_plugins"),ZC=xn("block_unsupported_drop"),Hc=xn("visual"),jC=xn("visual_table_class"),L0=xn("visual_anchor_class"),t2=xn("iframe_aria_text"),F0=xn("setup"),N8=xn("init_instance_callback"),P8=xn("urlconverter_callback"),M8=xn("auto_focus"),B8=xn("browser_spellcheck"),cr=xn("protect"),Gf=xn("paste_block_drop"),tg=xn("paste_data_images"),L8=xn("paste_preprocess"),n2=xn("paste_postprocess"),gr=xn("newdocument_content"),o5=xn("paste_webkit_styles"),ME=xn("paste_remove_styles_if_webkit"),F8=xn("paste_merge_formats"),Eb=xn("smart_paste"),Ab=xn("paste_as_text"),r5=xn("paste_tab_spaces"),V8=xn("allow_html_data_urls"),z8=xn("text_patterns"),o2=xn("text_patterns_lookup"),Tb=xn("noneditable_class"),H8=xn("editable_class"),s5=xn("noneditable_regexp"),$8=xn("preserve_cdata"),i5=xn("highlight_on_focus"),a5=xn("xss_sanitization"),l5=xn("init_content_sync"),BE=e=>e.options.isSet("text_patterns_lookup"),LE=e=>Xt.explode(e.options.get("font_size_style_values")),FE=e=>Xt.explode(e.options.get("font_size_classes")),c5=e=>e.options.get("encoding")==="xml",VE=e=>Xt.explode(e.options.get("images_file_types")),u5=xn("table_tab_navigation"),KC=xn("details_initial_state"),d5=xn("details_serialized_state"),zE=xn("sandbox_iframes"),GC=e=>e.options.get("sandbox_iframes_exclusions"),f5=xn("convert_unsafe_embeds"),m5=xn("license_key"),g5=xn("api_key"),U8=An,h5=Ut,r2=e=>{const t=e.parentNode;t&&t.removeChild(e)},HE=e=>{const t=Cl(e);return{count:e.length-t.length,text:t}},$E=e=>{let t;for(;(t=e.data.lastIndexOf(_i))!==-1;)e.deleteData(t,1)},UE=(e,t)=>(Op(e),t),W8=(e,t)=>{const o=HE(e.data.substr(0,t.offset())),i=HE(e.data.substr(t.offset()));return(o.text+i.text).length>0?($E(e),xt(e,t.offset()-o.count)):t},Z8=(e,t)=>{const o=t.container(),i=Ke(bo(o.childNodes),e).map(c=>c<t.offset()?xt(o,t.offset()-1):t).getOr(t);return Op(e),i},j8=(e,t)=>h5(e)&&t.container()===e?W8(e,t):UE(e,t),K8=(e,t)=>t.container()===e.parentNode?Z8(e,t):UE(e,t),G8=(e,t)=>xt.isTextPosition(t)?j8(e,t):K8(e,t),Op=e=>{U8(e)&&Yl(e)&&(x0(e)?e.removeAttribute("data-mce-caret"):r2(e)),h5(e)&&($E(e),e.data.length===0&&r2(e))},p5=fo,qC=St,q8=dp,WE="*[contentEditable=false],video,audio,embed,object",v5=(e,t,o)=>{const i=pb(t.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;c=e.scrollLeft||C.scrollLeft,m=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();c=e.scrollLeft-C.left,m=e.scrollTop-C.top}i.left+=c,i.right+=c,i.top+=m,i.bottom+=m,i.width=1;let h=t.offsetWidth-t.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},b5=e=>{var t,o;const i=pi(ze.fromDom(e),WE);for(let c=0;c<i.length;c++){const m=i[c].dom;let h=m.previousSibling;if(Zd(h)){const C=h.data;C.length===1?(t=h.parentNode)===null||t===void 0||t.removeChild(h):h.deleteData(C.length-1,1)}h=m.nextSibling,gb(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},y5=(e,t,o,i)=>{const c=Ii();let m,h;const C=il(e),A=e.dom,F=(pe,Oe)=>{let Ue;if(K(),q8(Oe))return null;if(o(Oe)){const et=MC(C,Oe,pe),Je=v5(t,Oe,pe);A.setStyle(et,"top",Je.top),A.setStyle(et,"caret-color","transparent"),h=et;const dt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(dt,{...Je}),A.add(t,dt),c.set({caret:dt,element:Oe,before:pe}),pe&&A.addClass(dt,"mce-visual-caret-before"),Y(),Ue=Oe.ownerDocument.createRange(),Ue.setStart(et,0),Ue.setEnd(et,0)}else return h=w0(Oe,pe),Ue=Oe.ownerDocument.createRange(),s2(h.nextSibling)?(Ue.setStart(h,0),Ue.setEnd(h,0)):(Ue.setStart(h,1),Ue.setEnd(h,1)),Ue;return Ue},K=()=>{b5(t),h&&(Op(h),h=null),c.on(pe=>{A.remove(pe.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},Y=()=>{m=setInterval(()=>{c.on(pe=>{i()?A.toggleClass(pe.caret,"mce-visual-caret-hidden"):A.addClass(pe.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:K,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(pe=>{const Oe=v5(t,pe.element,pe.before);A.setStyles(pe.caret,{...Oe})})},destroy:()=>clearInterval(m)}},ZE=()=>Fo.browser.isFirefox(),s2=e=>p5(e)||qC(e),i2=e=>(s2(e)||uu(e)&&ZE())&&wf(ze.fromDom(e)).exists(_s),YC=Ic,XC=fo,x5=St,jE=Dc("display","block table table-cell table-caption list-item"),KE=Yl,w5=Cp,Y8=An,JC=Ut,C5=hu,Ob=e=>e>0,Db=e=>e<0,QC=(e,t)=>{let o;for(;o=e(t);)if(!w5(o))return o;return null},a2=(e,t,o,i,c)=>{const m=new ca(e,i),h=XC(e)||w5(e);let C;if(Db(t)){if(h&&(C=QC(m.prev.bind(m),!0),o(C)))return C;for(;C=QC(m.prev.bind(m),c);)if(o(C))return C}if(Ob(t)){if(h&&(C=QC(m.next.bind(m),!0),o(C)))return C;for(;C=QC(m.next.bind(m),c);)if(o(C))return C}return null},X8=(e,t)=>{const o=c=>YC(c.dom),i=c=>c.dom===t;return el(ze.fromDom(e),o,i).map(c=>c.dom).getOr(t)},Dp=(e,t)=>{for(;e&&e!==t;){if(jE(e))return e;e=e.parentNode}return null},ng=(e,t,o)=>Dp(e.container(),o)===Dp(t.container(),o),e_=(e,t)=>{if(!t)return J.none();const o=t.container(),i=t.offset();return Y8(o)?J.from(o.childNodes[i+e]):J.none()},_5=(e,t)=>{var o;const c=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)),c},k5=(e,t,o)=>Dp(t,e)===Dp(o,e),GE=(e,t,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let m=c[i];if(m&&KE(m)&&(m=m[i]),XC(m)||x5(m)){if(k5(t,m,c))return m;break}if(C5(m))break;c=c.parentNode}return null},l2=nt(_5,!0),c2=nt(_5,!1),qE=(e,t,o)=>{let i;const c=nt(GE,!0,t),m=nt(GE,!1,t),h=o.startContainer,C=o.startOffset;if(Cp(h)){const A=JC(h)?h.parentNode:h,F=A.getAttribute("data-mce-caret");if(F==="before"&&(i=A.nextSibling,i2(i)))return l2(i);if(F==="after"&&(i=A.previousSibling,i2(i)))return c2(i)}if(!o.collapsed)return o;if(Ut(h)){if(KE(h)){if(e===1){if(i=m(h),i)return l2(i);if(i=c(h),i)return c2(i)}if(e===-1){if(i=c(h),i)return c2(i);if(i=m(h),i)return l2(i)}return o}if(Zd(h)&&C>=h.data.length-1)return e===1&&(i=m(h),i)?l2(i):o;if(gb(h)&&C<=1)return e===-1&&(i=c(h),i)?c2(i):o;if(C===h.data.length)return i=m(h),i?l2(i):o;if(C===0)return i=c(h),i?c2(i):o}return o},S5=(e,t)=>e_(e?0:-1,t).filter(XC),u2=(e,t,o)=>{const i=qE(e,t,o);return e===-1?xt.fromRangeStart(i):xt.fromRangeEnd(i)},t_=e=>J.from(e.getNode()).map(ze.fromDom),J8=e=>J.from(e.getNode(!0)).map(ze.fromDom),YE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},n_=(e,t)=>{const o=ng(e,t);return!o&&ps(e.getNode())?!0:o};var Ua;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Ua||(Ua={}));const Q8=fo,og=Ut,E5=An,Ln=ps,Rb=hu,XE=Sp,o_=yb,JE=(e,t)=>{const o=[];let i=e;for(;i&&i!==t;)o.push(i),i=i.parentNode;return o},A5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,d2=(e,t)=>{if(Ob(e)){if(Rb(t.previousSibling)&&!og(t.previousSibling))return xt.before(t);if(og(t))return xt(t,0)}if(Db(e)){if(Rb(t.nextSibling)&&!og(t.nextSibling))return xt.after(t);if(og(t))return xt(t,t.data.length)}return Db(e)?Ln(t)?xt.before(t):xt.after(t):xt.before(t)},T5=(e,t)=>{const o=t.nextSibling;return o&&Rb(o)?og(o)?xt(o,0):xt.before(o):QE(Ua.Forwards,xt.after(t),e)},QE=(e,t,o)=>{let i,c,m,h;if(!E5(o)||!t)return null;if(t.isEqual(xt.after(o))&&o.lastChild){if(h=xt.after(o.lastChild),Db(e)&&Rb(o.lastChild)&&E5(o.lastChild))return Ln(o.lastChild)?xt.before(o.lastChild):h}else h=t;const C=h.container();let A=h.offset();if(og(C)){if(Db(e)&&A>0)return xt(C,--A);if(Ob(e)&&A<C.length)return xt(C,++A);i=C}else{if(Db(e)&&A>0&&(c=A5(C,A-1),Rb(c)))return!XE(c)&&(m=a2(c,e,o_,c),m)?og(m)?xt(m,m.data.length):xt.after(m):og(c)?xt(c,c.data.length):xt.before(c);if(Ob(e)&&A<C.childNodes.length&&(c=A5(C,A),Rb(c)))return Ln(c)?T5(o,c):!XE(c)&&(m=a2(c,e,o_,c),m)?og(m)?xt(m,0):xt.before(m):og(c)?xt(c,0):xt.after(c);i=c||h.getNode()}if(i&&(Ob(e)&&h.isAtEnd()||Db(e)&&h.isAtStart())&&(i=a2(i,e,kn,o,!0),o_(i,o)))return d2(e,i);c=i&&a2(i,e,o_,o);const F=Ca(vt(JE(C,o),Q8));return F&&(!c||!F.contains(c))?(Ob(e)?h=xt.after(F):h=xt.before(F),h):c?d2(e,c):null},qn=e=>({next:t=>QE(Ua.Forwards,t,e),prev:t=>QE(Ua.Backwards,t,e)}),_o=(e,t,o)=>{const i=e?xt.before(o):xt.after(o);return xu(e,t,i)},O5=e=>ps(e)?xt.before(e):xt.after(e),D5=e=>xt.isTextPosition(e)?e.offset()===0:hu(e.getNode()),R5=e=>{if(xt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return hu(e.getNode(!0))},I5=(e,t)=>!xt.isTextPosition(e)&&!xt.isTextPosition(t)&&e.getNode()===t.getNode(!0),no=e=>!xt.isTextPosition(e)&&ps(e.getNode()),f2=(e,t,o)=>e?!I5(t,o)&&!no(t)&&R5(t)&&D5(o):!I5(o,t)&&D5(t)&&R5(o),xu=(e,t,o)=>{const i=qn(t);return J.from(e?i.next(o):i.prev(o))},Ib=(e,t,o)=>xu(e,t,o).bind(i=>ng(o,i,t)&&f2(e,o,i)?xu(e,t,i):J.some(i)),N5=(e,t,o,i)=>Ib(e,t,o).bind(c=>i(c)?N5(e,t,c,i):J.some(c)),V0=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Ut(o)?J.some(xt(o,e?0:o.data.length)):o?hu(o)?J.some(e?xt.before(o):O5(o)):_o(e,t,o):J.none()},Xl=nt(xu,!0),$c=nt(xu,!1),Qn=nt(V0,!0),nd=nt(V0,!1),z0="_mce_caret",wu=e=>An(e)&&e.id===z0,Rp=(e,t)=>{let o=t;for(;o&&o!==e;){if(wu(o))return o;o=o.parentNode}return null},P5=e=>Ce(e.start),M5=e=>ao(e,"rng"),B5=e=>ao(e,"id"),eA=e=>ao(e,"name"),L5=e=>Xt.isArray(e.start),r_=e=>!eA(e)&&Be(e.forward)?e.forward:!0,F5=(e,t)=>(An(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),eF=(e,t)=>{const o=J.from(se(e.getRoot(),t.start)),i=J.from(se(e.getRoot(),t.end));return ra(o,i,(c,m)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(m.container(),m.offset()),{range:h,forward:r_(t)}})},tF=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i);e.appendChild(c),t.setStart(c,0),t.setEnd(c,0)},tA=e=>!e.hasChildNodes(),nA=(e,t)=>nd(e).fold(fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),V5=(e,t,o)=>tA(t)&&Rp(e,t)?(tF(t,o),!0):!1,z5=(e,t,o,i)=>{const c=o[t?"start":"end"],m=e.getRoot();if(c){let h=m,C=c[0];for(let A=c.length-1;h&&A>=1;A--){const F=h.childNodes;if(V5(m,h,i))return!0;if(c[A]>F.length-1)return V5(m,h,i)?!0:nA(h,i);h=F[c[A]]}Ut(h)&&(C=Math.min(c[0],h.data.length)),An(h)&&(C=Math.min(c[0],h.childNodes.length)),t?i.setStart(h,C):i.setEnd(h,C)}return!0},oA=e=>Ut(e)&&e.data.length>0,H5=(e,t,o)=>{const i=e.get(o.id+"_"+t),c=i==null?void 0:i.parentNode,m=o.keep;if(i&&c){let h,C;if(t==="start"?m?i.hasChildNodes()?(h=i.firstChild,C=1):oA(i.nextSibling)?(h=i.nextSibling,C=0):oA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)+1):(h=c,C=e.nodeIndex(i)):m?i.hasChildNodes()?(h=i.firstChild,C=1):oA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)):(h=c,C=e.nodeIndex(i)),!m){const A=i.previousSibling,F=i.nextSibling;Xt.each(Xt.grep(i.childNodes),Y=>{Ut(Y)&&(Y.data=Y.data.replace(/\uFEFF/g,""))});let K;for(;K=e.get(o.id+"_"+t);)e.remove(K,!0);if(Ut(F)&&Ut(A)&&!Fo.browser.isOpera()){const Y=A.data.length;A.appendData(F.data),e.remove(F),h=A,C=Y}}return J.some(xt(h,C))}else return J.none()},$5=(e,t)=>{const o=e.createRng();return z5(e,!0,t,o)&&z5(e,!1,t,o)?J.some({range:o,forward:r_(t)}):J.none()},Nb=(e,t)=>{const o=H5(e,"start",t),i=H5(e,"end",t);return ra(o,i.or(o),(c,m)=>{const h=e.createRng();return h.setStart(F5(e,c.container()),c.offset()),h.setEnd(F5(e,m.container()),m.offset()),{range:h,forward:r_(t)}})},U5=(e,t)=>J.from(e.select(t.name)[t.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),W5=(e,t)=>{const o=e.dom;if(t){if(L5(t))return $5(o,t);if(P5(t))return eF(o,t);if(B5(t))return Nb(o,t);if(eA(t))return U5(o,t);if(M5(t))return J.some({range:t.rng,forward:r_(t)})}return J.none()},nF=(e,t,o)=>lt(e,t,o),oF=(e,t)=>{W5(e,t).each(({range:o,forward:i})=>{e.setRng(o,i)})},Cu=e=>An(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",al=(e=>t=>e===t)(Di),Pb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,bh=e=>!Pb(e)&&!al(e)&&!Yu(e),vs=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},od=e=>Co(e,t=>{const o=kp(t);return o?[ze.fromDom(o)]:[]}),m2=e=>vs(e).length>1,s_=e=>vt(od(e),Fc),H0=e=>pi(e,"td[data-mce-selected],th[data-mce-selected]"),Z5=(e,t)=>{const o=H0(t);return o.length>0?o:s_(e)},qf=e=>Z5(vs(e.selection.getSel()),ze.fromDom(e.getBody())),Lr=(e,t)=>iu(e,"table",t),g2=e=>{const t=e.startContainer,o=e.startOffset;return Ut(t)?o===0?J.some(ze.fromDom(t)):J.none():J.from(t.childNodes[o]).map(ze.fromDom)},j5=e=>{const t=e.endContainer,o=e.endOffset;return Ut(t)?o===t.data.length?J.some(ze.fromDom(t)):J.none():J.from(t.childNodes[o-1]).map(ze.fromDom)},rA=e=>Fl(e).fold(tt([e]),t=>[e].concat(rA(t))),h2=e=>ju(e).fold(tt([e]),t=>Yo(t)==="br"?wi(t).map(o=>[e].concat(h2(o))).getOr([]):[e].concat(h2(t))),p2=(e,t)=>ra(g2(t),j5(t),(o,i)=>{const c=cn(rA(e),nt(Xo,o)),m=cn(h2(e),nt(Xo,i));return c.isSome()&&m.isSome()}).getOr(!1),v2=(e,t,o,i)=>{const c=o,m=new ca(o,c),h=_c(e.schema.getMoveCaretBeforeOnEnterElements(),(A,F)=>!ie(["td","th","table"],F.toLowerCase()));let C=o;do{if(Ut(C)&&Xt.trim(C.data).length!==0){i?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(h[C.nodeName]){i?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=i?m.next():m.prev());c.nodeName==="BODY"&&(i?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},$0=e=>{const t=e.selection.getSel();return Ee(t)&&t.rangeCount>0},U0=(e,t)=>{const o=qf(e);o.length>0?he(o,i=>{const c=i.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),t(m,!0)}):t(e.selection.getRng(),!1)},i_=(e,t,o)=>{const i=Qt(e,t);o(i),e.moveToBookmark(i)},W0=e=>O(e==null?void 0:e.nodeType),a_=e=>An(e)&&!Cu(e)&&!wu(e)&&!Af(e),K5=(e,t)=>{if(a_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},sA=(e,t,o)=>{const{selection:i,dom:c}=e,m=i.getNode(),h=fo(m);i_(i,!0,()=>{t()}),h&&fo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(i.getStart())&&G5(c,i)},G5=(e,t)=>{var o,i;const c=t.getRng(),{startContainer:m,startOffset:h}=c,C=t.getNode();if(!K5(e,C)&&An(m)){const A=m.childNodes,F=e.getRoot();let K;if(h<A.length){const Y=A[h];K=new ca(Y,(o=e.getParent(Y,e.isBlock))!==null&&o!==void 0?o:F)}else{const Y=A[A.length-1];K=new ca(Y,(i=e.getParent(Y,e.isBlock))!==null&&i!==void 0?i:F),K.next(!0)}for(let Y=K.current();Y;Y=K.next()){if(e.getContentEditable(Y)==="false")return;if(Ut(Y)&&!iA(Y)){c.setStart(Y,0),t.setRng(c);return}}}},Mb=(e,t,o)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(An(e)||!iA(e))return e}},l_=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Rf(e,t),Ip=(e,t,o)=>e.schema.isValidChild(t,o),iA=(e,t=!1)=>{if(Ee(e)&&Ut(e)){const o=t?e.data.replace(/ /g,""):e.data;return ic(o)}else return!1},sF=e=>Ee(e)&&Ut(e)&&e.length===0,q5=(e,t)=>{const o="[data-mce-cef-wrappable]",i=so(e),c=Wt(i)?o:`${o},${i}`;return Mr(ze.fromDom(t),c)},aA=(e,t)=>{const o=e.dom;return a_(t)&&o.getContentEditable(t)==="false"&&q5(e,t)&&o.select('[contenteditable="true"]',t).length===0},yh=(e,t)=>Fe(e)?e(t):(Ee(t)&&(e=e.replace(/%(\w+)/g,(o,i)=>t[i]||o)),e),Z0=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),c_=(e,t)=>{if(Xe(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Jv(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},b2=(e,t,o)=>{const i=e.getStyle(t,o);return c_(i,o)},lA=(e,t)=>{let o;return e.getParent(t,i=>An(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},y2=(e,t,o)=>e.getParents(t,o,e.getRoot()),u_=(e,t,o)=>{const i=e.formatter.get(t);return Ee(i)&&be(i,o)},Y5=(e,t)=>u_(e,t,i=>{const c=m=>Fe(m)||m.length>1&&m.charAt(0)==="%";return be(["styles","attributes"],m=>Dr(i,m).exists(h=>{const C=le(h)?h:Bu(h);return be(C,c)}))}),X5=(e,t,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=m=>_c(m,(h,C)=>be(i,A=>A===C));return u_(e,t,m=>{const h=c(m);return u_(e,o,C=>{const A=c(C);return Ti(h,A)})})},Yf=e=>Kl(e,"block"),J5=e=>Yf(e)&&e.wrapper===!0,Q5=e=>Yf(e)&&e.wrapper!==!0,Uc=e=>Kl(e,"selector"),ha=e=>Kl(e,"inline"),eR=e=>Uc(e)&&ha(e)&&gf(Dr(e,"mixed"),!0),d_=e=>Uc(e)&&e.expand!==!1&&!ha(e),tR=e=>{const t=[];let o=e;for(;o;){if(Ut(o)&&o.data!==_i||o.childNodes.length>1)return[];An(o)&&t.push(o),o=o.firstChild}return t},cA=e=>tR(e).length>0,f_=e=>wu(e.dom)&&cA(e.dom),Np=Cu,x2=y2,m_=iA,g_=l_,nR=e=>ps(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,w2=(e,t)=>{let o=t;for(;o;){if(An(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},h_=(e,t,o,i)=>{const c=t.data;if(e){for(let m=o;m>0;m--)if(i(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(i(c.charAt(m)))return m;return-1},C2=(e,t,o)=>h_(e,t,o,i=>al(i)||Pb(i)),uA=(e,t,o)=>h_(e,t,o,bh),dA=(e,t,o,i,c,m)=>{let h;const C=e.getParent(o,e.isBlock)||t,A=(K,Y,Q)=>{const ge=Hd(e),Se=c?ge.backwards:ge.forwards;return J.from(Se(K,Y,(pe,Oe)=>Np(pe.parentNode)?-1:(h=pe,Q(c,pe,Oe)),C))};return A(o,i,C2).bind(K=>m?A(K.container,K.offset+(c?-1:0),uA):J.some(K)).orThunk(()=>h?J.some({container:h,offset:c?0:h.length}):J.none())},Bb=(e,t,o,i,c)=>{const m=i[c];Ut(i)&&Wt(i.data)&&m&&(i=m);const h=x2(e,i);for(let C=0;C<h.length;C++)for(let A=0;A<t.length;A++){const F=t[A];if(!(Ee(F.collapsed)&&F.collapsed!==o.collapsed)&&Uc(F)&&e.is(h[C],F.selector))return h[C]}return i},p_=(e,t,o,i)=>{var c;let m=o;const h=e.getRoot(),C=t[0];if(Yf(C)&&(m=C.wrapper?null:e.getParent(o,C.block,h)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;m=e.getParent(Ut(o)?o.parentNode:o,F=>F!==h&&g_(e.schema,F),A)}if(m&&Yf(C)&&C.wrapper&&(m=x2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[i]&&!e.isBlock(m[i])&&(m=m[i],!Z0(m,"br")););return m||o},v_=(e,t,o,i)=>{const c=o.parentNode;return Ee(o[i])?!1:c===t||Xe(c)||e.isBlock(c)?!0:v_(e,t,c,i)},xh=(e,t,o,i,c)=>{let m=o;const h=c?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!m_(o)&&(c?i>0:i<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let A=m[h];A;A=A[h]){const F=Ut(A)&&!v_(e,C,A,h);if(!Np(A)&&!nR(A)&&!m_(A,F))return m}if(m===C||m.parentNode===C){o=m;break}m=m.parentNode}return o},wh=e=>Np(e.parentNode)||Np(e),Pp=(e,t,o,i=!1)=>{let{startContainer:c,startOffset:m,endContainer:h,endOffset:C}=t;const A=o[0];return An(c)&&c.hasChildNodes()&&(c=ki(c,m),Ut(c)&&(m=0)),An(h)&&h.hasChildNodes()&&(h=ki(h,t.collapsed?C:C-1),Ut(h)&&(C=h.data.length)),c=w2(e,c),h=w2(e,h),wh(c)&&(c=Np(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Ut(c)&&(m=t.collapsed?c.length:0)),wh(h)&&(h=Np(h)?h:h.parentNode,t.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,Ut(h)&&(C=t.collapsed?0:h.length)),t.collapsed&&(dA(e,e.getRoot(),c,m,!0,i).each(({container:Y,offset:Q})=>{c=Y,m=Q}),dA(e,e.getRoot(),h,C,!1,i).each(({container:Y,offset:Q})=>{h=Y,C=Q})),(ha(A)||A.block_expand)&&((!ha(A)||!Ut(c)||m===0)&&(c=xh(e,o,c,m,!0)),(!ha(A)||!Ut(h)||C===h.data.length)&&(h=xh(e,o,h,C,!1))),d_(A)&&(c=Bb(e,o,t,c,"previousSibling"),h=Bb(e,o,t,h,"nextSibling")),(Yf(A)||Uc(A))&&(c=p_(e,o,c,"previousSibling"),h=p_(e,o,h,"nextSibling"),Yf(A)&&(e.isBlock(c)||(c=xh(e,o,c,m,!0),Ut(c)&&(m=0)),e.isBlock(h)||(h=xh(e,o,h,C,!1),Ut(h)&&(C=h.data.length)))),An(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),An(h)&&h.parentNode&&(C=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:c,startOffset:m,endContainer:h,endOffset:C}},_2=(e,t,o)=>{var i;const c=t.startOffset,m=ki(t.startContainer,c),h=t.endOffset,C=ki(t.endContainer,h-1),A=Oe=>{const Ue=Oe[0];Ut(Ue)&&Ue===m&&c>=Ue.data.length&&Oe.splice(0,1);const et=Oe[Oe.length-1];return h===0&&Oe.length>0&&et===C&&Ut(et)&&Oe.splice(Oe.length-1,1),Oe},F=(Oe,Ue,et)=>{const Je=[];for(;Oe&&Oe!==et;Oe=Oe[Ue])Je.push(Oe);return Je},K=(Oe,Ue)=>e.getParent(Oe,et=>et.parentNode===Ue,Ue),Y=(Oe,Ue,et)=>{const Je=et?"nextSibling":"previousSibling";for(let dt=Oe,Bt=dt.parentNode;dt&&dt!==Ue;dt=Bt){Bt=dt.parentNode;const Yt=F(dt===Oe?dt:dt[Je],Je);Yt.length&&(et||Yt.reverse(),o(A(Yt)))}};if(m===C)return o(A([m]));const Q=(i=e.findCommonAncestor(m,C))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(m,C))return Y(m,Q,!0);if(e.isChildOf(C,m))return Y(C,Q);const ge=K(m,Q)||m,Se=K(C,Q)||C;Y(m,ge,!0);const pe=F(ge===m?ge:ge.nextSibling,"nextSibling",Se===C?Se.nextSibling:Se);pe.length&&o(A(pe)),Y(C,Se)},iF=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],oR=e=>us(e)&&Km(e)===_i,rR=(e,t,o,i)=>aa(t).fold(()=>"skipping",c=>i==="br"||oR(t)?"valid":Nx(t)?"existing":wu(t.dom)?"caret":be(iF,m=>Mr(t,m))?"valid-block":!Ip(e,o,i)||!Ip(e,Yo(c),o)?"invalid-child":"valid"),Mp=(e,t)=>{const o=Pp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},Bp=(e,t,o,i,c,m)=>{const{uid:h=t,...C}=o;Rd(e,Ns()),xi(e,`${ni()}`,h),xi(e,`${Ps()}`,i);const{attributes:A={},classes:F=[]}=c(h,C);if(Ma(e,A),rb(e,F),m){F.length>0&&xi(e,`${Es()}`,F.join(","));const K=Kt(A);K.length>0&&xi(e,`${qs()}`,K.join(","))}},Wa=e=>{Ba(e,Ns()),Io(e,`${ni()}`),Io(e,`${Ps()}`),Io(e,`${Br()}`);const t=tu(e,`${qs()}`).map(i=>i.split(",")).getOr([]),o=tu(e,`${Es()}`).map(i=>i.split(",")).getOr([]);he(t,i=>Io(e,i)),uh(e,o),Io(e,`${Es()}`),Io(e,`${qs()}`)},rg=(e,t,o,i,c)=>{const m=ze.fromTag("span",e);return Bp(m,t,o,i,c,!1),m},kr=(e,t,o,i,c,m)=>{const h=[],C=rg(e.getDoc(),o,m,i,c),A=Ii(),F=()=>{A.clear()},K=()=>A.get().getOrThunk(()=>{const Se=Ys(C);return h.push(Se),A.set(Se),Se}),Y=Se=>{he(Se,Q)},Q=Se=>{switch(rR(e,Se,"span",Yo(Se))){case"invalid-child":{F();const Oe=la(Se);Y(Oe),F();break}case"valid-block":{F(),Bp(Se,o,m,i,c,!0);break}case"valid":{const Oe=K();Gl(Se,Oe);break}}},ge=Se=>{const pe=Le(Se,ze.fromDom);Y(pe)};return _2(e.dom,t,Se=>{F(),ge(Se)}),h},aF=(e,t,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),h=qf(e).length>0,C=Ha("mce-annotation");if(m.collapsed&&!h&&Mp(e,m),c.getRng().collapsed&&!h){const A=rg(e.getDoc(),C,i,t,o.decorate);Im(A,Di),c.getRng().insertNode(A.dom),c.select(A.dom)}else i_(c,!1,()=>{U0(e,A=>{kr(e,A,C,t,o.decorate,i)})})})},sR=e=>{const t=Mx();v0(e,t);const o=p0(e,t),i=yf("span"),c=m=>{he(m,h=>{i(h)?za(h):Wa(h)})};return{register:(m,h)=>{t.register(m,h)},annotate:(m,h)=>{t.lookup(m).each(C=>{aF(e,m,C,h)})},annotationChanged:(m,h)=>{o.addListener(m,h)},remove:m=>{h0(e,J.some(m)).each(({elements:h})=>{const C=e.selection.getBookmark();c(h),e.selection.moveToBookmark(C)})},removeAll:m=>{const h=e.selection.getBookmark();ar(ch(e,m),(C,A)=>{c(C)}),e.selection.moveToBookmark(h)},getAll:m=>{const h=ch(e,m);return jl(h,C=>Le(C,A=>A.dom))}}},Zr=e=>({getBookmark:nt(nF,e),moveToBookmark:nt(oF,e)});Zr.isBookmarkNode=Cu;const fA=(e,t,o)=>o.collapsed?!1:be(o.getClientRects(),i=>_0(i,e,t)),k2=(e,t)=>e.dispatch("PreProcess",t),S2=(e,t)=>e.dispatch("PostProcess",t),E2=e=>{e.dispatch("remove")},A2=e=>{e.dispatch("detach")},iR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},lF=(e,t,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:i,origin:c})},cF=(e,t,o,i,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:i,origin:c})},uF=e=>{e.dispatch("PreInit")},dF=e=>{e.dispatch("PostRender")},ri=e=>{e.dispatch("Init")},aR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},mA=(e,t,o)=>{e.dispatch(t,o)},lR=(e,t,o,i)=>{e.dispatch("FormatApply",{format:t,node:o,vars:i})},cR=(e,t,o,i)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:i})},fF=(e,t)=>e.dispatch("BeforeSetContent",t),dc=(e,t)=>e.dispatch("SetContent",t),Xf=(e,t)=>e.dispatch("BeforeGetContent",t),uR=(e,t)=>e.dispatch("GetContent",t),gA=(e,t)=>{e.dispatch("AutocompleterStart",t)},hA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},pA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},mF=e=>{e.dispatch("AutocompleterEnd")},T2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),b_=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),y_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),gF=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),dn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dn.metaKeyPressed(e),metaKeyPressed:e=>Fo.os.isMacOS()||Fo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Lb="data-mce-selected",hF="table,img,figure.image,hr,video,span.mce-preview-object,details",_u=Math.abs,Lp=Math.round,x_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Gd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,zr=(e,t)=>{const o=t.dom,i=t.getDoc(),c=document,m=t.getBody();let h,C,A,F,K,Y,Q,ge,Se,pe,Oe,Ue,et,Je,dt,Bt,Yt;const pn=gn=>Ee(gn)&&(Rc(gn)||o.is(gn,"figure.image")),Et=gn=>St(gn)||o.hasClass(gn,"mce-preview-object"),bt=(gn,Mo)=>{if(Gd(gn)){const Wo=gn.touches[0];return pn(gn.target)&&!fA(Wo.clientX,Wo.clientY,Mo)}else return pn(gn.target)&&!fA(gn.clientX,gn.clientY,Mo)},Nt=gn=>{const Mo=gn.target;bt(gn,t.selection.getRng())&&!gn.isDefaultPrevented()&&t.selection.select(Mo)},Cn=gn=>o.hasClass(gn,"mce-preview-object")&&Ee(gn.firstElementChild)?[gn,gn.firstElementChild]:o.is(gn,"figure.image")?[gn.querySelector("img")]:[gn],Hn=gn=>{const Mo=KD(t);return!Mo||gn.getAttribute("data-mce-resize")==="false"||gn===t.getBody()?!1:o.hasClass(gn,"mce-preview-object")&&Ee(gn.firstElementChild)?Mr(ze.fromDom(gn.firstElementChild),Mo):Mr(ze.fromDom(gn),Mo)},Po=(gn,Mo)=>{if(Et(Mo))return gn.create("img",{src:Fo.transparentSrc});if(uu(Mo)){const Ra=cs(F.name,"n")?hn:To,Hr=Mo.cloneNode(!0);return Ra(gn.select("tr",Hr)).each(ba=>{const rm=gn.select("td,th",ba);gn.setStyle(ba,"height",null),he(rm,zh=>gn.setStyle(zh,"height",null))}),Hr}else return Mo.cloneNode(!0)},$o=(gn,Mo,Wo)=>{if(Ee(Wo)){const Ra=Cn(gn);he(Ra,Hr=>{Hr.style[Mo]||!t.schema.isValid(Hr.nodeName.toLowerCase(),Mo)?o.setStyle(Hr,Mo,Wo):o.setAttrib(Hr,Mo,""+Wo)})}},Ir=(gn,Mo,Wo)=>{$o(gn,"width",Mo),$o(gn,"height",Wo)},Ur=gn=>{let Mo,Wo,Ra,Hr,ba;Mo=gn.screenX-Y,Wo=gn.screenY-Q,Je=Mo*F[2]+pe,dt=Wo*F[3]+Oe,Je=Je<5?5:Je,dt=dt<5?5:dt,(pn(h)||Et(h))&&GD(t)!==!1?Ra=!dn.modifierPressed(gn):Ra=dn.modifierPressed(gn),Ra&&(_u(Mo)>_u(Wo)?(dt=Lp(Je*Ue),Je=Lp(dt/Ue)):(Je=Lp(dt/Ue),dt=Lp(Je*Ue))),Ir(C,Je,dt),Hr=F.startPos.x+Mo,ba=F.startPos.y+Wo,Hr=Hr>0?Hr:0,ba=ba>0?ba:0,o.setStyles(A,{left:Hr,top:ba,display:"block"}),A.innerHTML=Je+" &times; "+dt,F[2]<0&&C.clientWidth<=Je&&o.setStyle(C,"left",ge+(pe-Je)),F[3]<0&&C.clientHeight<=dt&&o.setStyle(C,"top",Se+(Oe-dt)),Mo=m.scrollWidth-Bt,Wo=m.scrollHeight-Yt,Mo+Wo!==0&&o.setStyles(A,{left:Hr-Mo,top:ba-Wo}),et||(lF(t,h,pe,Oe,"corner-"+F.name),et=!0)},ui=()=>{const gn=et;et=!1,gn&&($o(h,"width",Je),$o(h,"height",dt)),o.unbind(i,"mousemove",Ur),o.unbind(i,"mouseup",ui),c!==i&&(o.unbind(c,"mousemove",Ur),o.unbind(c,"mouseup",ui)),o.remove(C),o.remove(A),o.remove(K),Al(h),gn&&(cF(t,h,Je,dt,"corner-"+F.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),t.nodeChanged()},Al=gn=>{ln();const Mo=o.getPos(gn,m),Wo=Mo.x,Ra=Mo.y,Hr=gn.getBoundingClientRect(),ba=Hr.width||Hr.right-Hr.left,rm=Hr.height||Hr.bottom-Hr.top;h!==gn&&(on(),h=gn,Je=dt=0);const zh=t.dispatch("ObjectSelected",{target:gn});Hn(gn)&&!zh.isDefaultPrevented()?ar(x_,(vc,pd)=>{const sm=im=>{const Wn=Cn(h)[0];Y=im.screenX,Q=im.screenY,pe=Wn.clientWidth,Oe=Wn.clientHeight,Ue=Oe/pe,F=vc,F.name=pd,F.startPos={x:ba*vc[0]+Wo,y:rm*vc[1]+Ra},Bt=m.scrollWidth,Yt=m.scrollHeight,K=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(K,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=Po(o,h),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:Wo,top:Ra,margin:0}),Ir(C,ba,rm),C.removeAttribute(Lb),m.appendChild(C),o.bind(i,"mousemove",Ur),o.bind(i,"mouseup",ui),c!==i&&(o.bind(c,"mousemove",Ur),o.bind(c,"mouseup",ui)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},pe+" &times; "+Oe)};let vd=o.get("mceResizeHandle"+pd);vd&&o.remove(vd),vd=o.add(m,"div",{id:"mceResizeHandle"+pd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+pd+"-resize; margin:0; padding:0"}),o.bind(vd,"mousedown",im=>{im.stopImmediatePropagation(),im.preventDefault(),sm(im)}),vc.elm=vd,o.setStyles(vd,{left:ba*vc[0]+Wo-vd.offsetWidth/2,top:rm*vc[1]+Ra-vd.offsetHeight/2})}):on(!1)},Yr=lh(Al,0),on=(gn=!0)=>{Yr.cancel(),ln(),h&&gn&&h.removeAttribute(Lb),ar(x_,(Mo,Wo)=>{const Ra=o.get("mceResizeHandle"+Wo);Ra&&(o.unbind(Ra),o.remove(Ra))})},Fn=(gn,Mo)=>o.isChildOf(gn,Mo),wr=gn=>{if(et||t.removed||t.composing)return;const Mo=gn.type==="mousedown"?gn.target:e.getNode(),Wo=Zi(ze.fromDom(Mo),hF).map(Hr=>Hr.dom).filter(Hr=>o.isEditable(Hr.parentElement)||Hr.nodeName==="IMG"&&o.isEditable(Hr)).getOrUndefined(),Ra=Ee(Wo)?o.getAttrib(Wo,Lb,"1"):"1";if(he(o.select(`img[${Lb}],hr[${Lb}]`),Hr=>{Hr.removeAttribute(Lb)}),Ee(Wo)&&Fn(Wo,m)&&t.hasFocus()){Yn();const Hr=e.getStart(!0);if(Fn(Hr,Wo)&&Fn(e.getEnd(!0),Wo)){o.setAttrib(Wo,Lb,Ra),Yr.throttle(Wo);return}}on()},ln=()=>{ar(x_,gn=>{gn.elm&&(o.unbind(gn.elm),delete gn.elm)})},Yn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Yn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",wr),t.on("keyup compositionend",gn=>{h&&h.nodeName==="TABLE"&&wr(gn)}),t.on("hide blur",on),t.on("contextmenu longpress",Nt,!0)}),t.on("remove",ln),{isResizable:Hn,showResizeRect:Al,hideResizeRect:on,updateResizeRect:wr,destroy:()=>{Yr.cancel(),h=C=K=null}}},j0=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},w_=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},vA=(e,t,o)=>{const i=e.document.createRange();return j0(i,t),w_(i,o),i},O2=(e,t,o,i,c)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(i.dom,c),m},Fb=qo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dR=(e,t,o)=>t(ze.fromDom(o.startContainer),o.startOffset,ze.fromDom(o.endContainer),o.endOffset),bA=(e,t)=>t.match({domRange:o=>({ltr:tt(o),rtl:J.none}),relative:(o,i)=>({ltr:Nl(()=>vA(e,o,i)),rtl:Nl(()=>J.some(vA(e,i,o)))}),exact:(o,i,c,m)=>({ltr:Nl(()=>O2(e,o,i,c,m)),rtl:Nl(()=>J.some(O2(e,c,m,o,i)))})}),pF=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Fb.rtl(ze.fromDom(c.endContainer),c.endOffset,ze.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>dR(e,Fb.ltr,o)):dR(e,Fb.ltr,o)},fR=(e,t)=>{const o=bA(e,t);return pF(e,o)};Fb.ltr,Fb.rtl;const C_={create:(e,t,o,i)=>({start:e,soffset:t,finish:o,foffset:i})},mR=(e,t,o)=>{var i;return J.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,t,o)).bind(c=>{if(c.offsetNode===null)return J.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),J.some(m)})},__=(e,t,o)=>{var i;return J.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,t,o))},bF=(e,t,o)=>e.caretPositionFromPoint?mR(e,t,o):e.caretRangeFromPoint?__(e,t,o):J.none(),yF=(e,t,o)=>{const i=e.document;return bF(i,t,o).map(c=>C_.create(ze.fromDom(c.startContainer),c.startOffset,ze.fromDom(c.endContainer),c.endOffset))},yA=qo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xF=(e,t,o,i)=>e.fold(t,o,i),wF=e=>e.fold(pt,pt,pt),gR=yA.before,CF=yA.on,_F=yA.after,sg={before:gR,on:CF,after:_F,cata:xF,getStart:wF},D2=qo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),kF=e=>D2.exact(e.start,e.soffset,e.finish,e.foffset),SF=e=>e.match({domRange:t=>ze.fromDom(t.startContainer),relative:(t,o)=>sg.getStart(t),exact:(t,o,i,c)=>t}),hR=D2.domRange,rd=D2.relative,EF=D2.exact,pR=e=>{const t=SF(e);return Uu(t)},xA=C_.create,Fp={domRange:hR,relative:rd,exact:EF,exactFromRange:kF,getWin:pR,range:xA},R2=(e,t)=>{const o=Yo(e);return o==="input"?sg.after(e):ie(["br","img"],o)?t===0?sg.before(e):sg.after(e):sg.on(e,t)},vR=(e,t)=>{const o=e.fold(sg.before,R2,sg.after),i=t.fold(sg.before,R2,sg.after);return Fp.relative(o,i)},k_=(e,t,o,i)=>{const c=R2(e,t),m=R2(o,i);return Fp.relative(c,m)},bR=e=>e.match({domRange:t=>{const o=ze.fromDom(t.startContainer),i=ze.fromDom(t.endContainer);return k_(o,t.startOffset,i,t.endOffset)},relative:vR,exact:k_}),Wc=(e,t)=>{const i=document.createDocumentFragment();return he(e,c=>{i.appendChild(c.dom)}),ze.fromDom(i)},AF=e=>{const t=Fp.getWin(e).dom,o=(c,m,h,C)=>O2(t,c,m,h,C),i=bR(e);return fR(t,i).match({ltr:o,rtl:o})},wA=(e,t,o)=>yF(e,t,o),yR=(e,t,o)=>{const i=Uu(ze.fromDom(o));return wA(i.dom,e,t).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},I2=(e,t)=>Ee(e)&&Ee(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Jf=(e,t,o)=>{let i=e;for(;i&&i!==t;){if(o(i))return i;i=i.parentNode}return null},S_=(e,t,o)=>Jf(e,t,o)!==null,E_=(e,t,o)=>S_(e,t,i=>i.nodeName===o),xR=(e,t)=>Yl(e)&&!S_(e,t,wu),wR=(e,t,o)=>{const i=t.parentNode;if(i){const c=new ca(t,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(ps(m))return!0}return!1},CR=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},_R=(e,t)=>{let o=t;for(;o&&o!==e;){if(fo(o))return!0;o=o.parentNode}return!1},N2=(e,t,o,i,c)=>{const m=e.getRoot(),h=e.schema.getNonEmptyElements(),C=c.parentNode;let A,F;if(!C)return J.none();const K=e.getParent(C,e.isBlock)||m;if(i&&ps(c)&&t&&e.isEmpty(K))return J.some(xt(C,e.nodeIndex(c)));const Y=new ca(c,K);for(;F=Y[i?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||xR(F,m))return J.none();if(Ut(F)&&F.data.length>0)return E_(F,m,"A")?J.none():J.some(xt(F,i?F.data.length:0));if(e.isBlock(F)||h[F.nodeName.toLowerCase()])return J.none();A=F}return Ao(A)?J.none():o&&A?J.some(xt(A,0)):J.none()},CA=(e,t,o,i)=>{const c=e.getRoot();let m,h=!1,C=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const F=An(C)&&A===C.childNodes.length,K=e.schema.getNonEmptyElements();let Y=o;if(Yl(C))return J.none();if(An(C)&&A>C.childNodes.length-1&&(Y=!1),Nn(C)&&(C=c,A=0),C===c){if(Y&&(m=C.childNodes[A>0?A-1:0],m&&(Yl(m)||K[m.nodeName]||uu(m))))return J.none();if(C.hasChildNodes()){if(A=Math.min(!Y&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Ut(C)&&F?C.data.length:0,!t&&C===c.lastChild&&uu(C)||_R(c,C)||Yl(C)||fp(C))return J.none();if(C.hasChildNodes()&&!uu(C)){m=C;const Q=new ca(C,c);do{if(fo(m)||Yl(m)){h=!1;break}if(Ut(m)&&m.data.length>0){A=Y?0:m.data.length,C=m,h=!0;break}if(K[m.nodeName.toLowerCase()]&&!xC(m)){A=e.nodeIndex(m),C=m.parentNode,Y||A++,h=!0;break}}while(m=Y?Q.next():Q.prev())}}}return t&&(Ut(C)&&A===0&&N2(e,F,t,!0,C).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}),An(C)&&(m=C.childNodes[A],m||(m=C.childNodes[A-1]),m&&ps(m)&&!CR(m,"A")&&!wR(e,m,!1)&&!wR(e,m,!0)&&N2(e,F,t,!0,m).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}))),Y&&!t&&Ut(C)&&A===C.data.length&&N2(e,F,t,!1,C).each(Q=>{C=Q.container(),A=Q.offset(),h=!0}),h&&C?J.some(xt(C,A)):J.none()},ig=(e,t)=>{const o=t.collapsed,i=t.cloneRange(),c=xt.fromRangeStart(t);return CA(e,o,!0,i).each(m=>{(!o||!xt.isAbove(c,m))&&i.setStart(m.container(),m.offset())}),o||CA(e,o,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),o&&i.collapse(!0),I2(t,i)?J.none():J.some(i)},P2=(e,t)=>e.splitText(t),M2=e=>{let t=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(t===i&&Ut(t)){if(o>0&&o<t.data.length)if(i=P2(t,o),t=i.previousSibling,c>o){c=c-o;const m=P2(i,c).previousSibling;t=i=m,c=m.data.length,o=0}else c=0}else if(Ut(t)&&o>0&&o<t.data.length&&(t=P2(t,o),o=0),Ut(i)&&c>0&&c<i.data.length){const m=P2(i,c).previousSibling;i=m,c=m.data.length}return{startContainer:t,startOffset:o,endContainer:i,endOffset:c}},Vp=e=>({walk:(m,h)=>_2(e,m,h),split:M2,expand:(m,h={type:"word"})=>{if(h.type==="word"){const C=Pp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return m},normalize:m=>ig(e,m).fold(fn,h=>(m.setStart(h.startContainer,h.startOffset),m.setEnd(h.endContainer,h.endOffset),!0))});Vp.compareRanges=I2,Vp.getCaretRangeFromPoint=yR,Vp.getSelectedNode=kp,Vp.getNode=ki;const _A=((e,t)=>{const o=(C,A)=>{if(!O(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const F=C.dom;Fa(F)&&(F.style[e]=A+"px")},i=C=>{const A=t(C);if(A<=0||A===null){const F=Ws(C,e);return parseFloat(F)||0}return A},c=i,m=(C,A)=>Vt(A,(F,K)=>{const Y=Ws(C,K),Q=Y===void 0?0:parseInt(Y,10);return isNaN(Q)?F:F+Q},0);return{set:o,get:i,getOuter:c,aggregate:m,max:(C,A,F)=>{const K=m(C,F);return A>K?A-K:0}}})("height",e=>{const t=e.dom;return La(e)?t.getBoundingClientRect().height:t.offsetHeight}),Vb=e=>_A.get(e),kR=()=>ze.fromDom(document),SR=(e,t)=>e.view(t).fold(tt([]),i=>{const c=e.owner(i),m=SR(e,c);return[i].concat(m)}),A_=(e,t)=>{const o=t.owner(e);return SR(t,o)};var DF=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?J.none():J.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(ze.fromDom)},owner:e=>rc(e)});const ER=e=>{const t=kR(),o=lo(t),i=A_(e,DF),c=po(e),m=Ft(i,(h,C)=>{const A=po(C);return{left:h.left+A.left,top:h.top+A.top}},{left:0,top:0});return Re(m.left+c.left+o.left,m.top+c.top+o.top)},Ch=e=>Yo(e)==="textarea",AR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),TR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},OR=(e,t)=>{const o=la(e);if(o.length===0||Ch(e))return{element:e,offset:t};if(t<o.length&&!Ch(o[t]))return{element:o[t],offset:0};{const i=o[o.length-1];return Ch(i)?{element:e,offset:t}:Yo(i)==="img"?{element:i,offset:1}:us(i)?{element:i,offset:Km(i).length}:{element:i,offset:la(i).length}}},B2=(e,t)=>{const o=Kn(e),i=Vb(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:t}},DR=(e,t)=>{const o=OR(e,t),i=ze.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+_i+"</span>");return Ds(o.element,i),B2(i,()=>Rr(i))},RR=e=>B2(ze.fromDom(e),ct),IR=(e,t,o,i)=>{PR(e,(c,m)=>NR(e,t,o,i),o)},L2=(e,t,o,i,c)=>{const m={elm:i.element.dom,alignToTop:c};if(AR(e,m))return;const h=lo(t).top;o(e,t,h,i,c),TR(e,m)},NR=(e,t,o,i)=>{const c=ze.fromDom(e.getBody()),m=ze.fromDom(e.getDoc());j1(c);const h=DR(ze.fromDom(o.startContainer),o.startOffset);L2(e,m,t,h,i),h.cleanup()},T_=(e,t,o,i)=>{const c=ze.fromDom(e.getDoc());L2(e,c,o,RR(t),i)},PR=(e,t,o)=>{const i=o.startContainer,c=o.startOffset,m=o.endContainer,h=o.endOffset;t(ze.fromDom(i),ze.fromDom(m));const C=e.dom.createRng();C.setStart(i,c),C.setEnd(m,h),e.selection.setRng(o)},F2=(e,t,o,i,c)=>{const m=t.pos;if(i)On(m.left,m.top,c);else{const h=m.top-o+t.height;On(-e.getBody().getBoundingClientRect().left,h,c)}},kA=(e,t,o,i,c,m)=>{const h=i+o,C=c.pos.top,A=c.bottom,F=A-C>=i;C<o?F2(e,c,i,m!==!1,t):C>h?F2(e,c,i,F?m!==!1:m===!0,t):A>h&&!F&&F2(e,c,i,m===!0,t)},V2=(e,t,o,i,c)=>{const m=Uu(t).dom.innerHeight;kA(e,t,o,m,i,c)},ag=(e,t,o,i,c)=>{const m=Uu(t).dom.innerHeight;kA(e,t,o,m,i,c);const h=ER(i.element),C=Oc(window);h.top<C.y?xr(i.element,c!==!1):h.top>C.bottom&&xr(i.element,c===!0)},RF=(e,t,o)=>IR(e,V2,t,o),SA=(e,t,o)=>T_(e,t,V2,o),bi=(e,t,o)=>IR(e,ag,t,o),EA=(e,t,o)=>T_(e,t,ag,o),AA=(e,t,o)=>{(e.inline?SA:EA)(e,t,o)},sd=(e,t,o)=>{(e.inline?RF:bi)(e,t,o)},TA=(e,t=!1)=>e.dom.focus({preventScroll:t}),OA=e=>{const t=su(e).dom;return e.dom===t.activeElement},zb=(e=kR())=>J.from(e.dom.activeElement).map(ze.fromDom),IF=e=>zb(su(e)).filter(t=>e.dom.contains(t.dom)),MR=(e,t)=>{const o=us(t)?Km(t).length:la(t).length+1;return e>o?o:e<0?0:e},K0=e=>Fp.range(e.start,MR(e.soffset,e.start),e.finish,MR(e.foffset,e.finish)),BR=(e,t)=>!Sf(t.dom)&&(ia(e,t)||Xo(e,t)),zp=e=>t=>BR(e,t.start)&&BR(e,t.finish),NF=e=>e.inline||Fo.browser.isFirefox(),Hp=e=>Fp.range(ze.fromDom(e.startContainer),e.startOffset,ze.fromDom(e.endContainer),e.endOffset),PF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?J.none():J.from(t.getRangeAt(0))).map(Hp)},id=e=>{const t=Uu(e);return PF(t.dom).filter(zp(e))},z2=(e,t)=>J.from(t).filter(zp(e)).map(K0),DA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),J.some(t)}catch{return J.none()}},G0=e=>{const t=NF(e)?id(ze.fromDom(e.getBody())):J.none();e.bookmark=t.isSome()?t:e.bookmark},RA=e=>(e.bookmark?e.bookmark:J.none()).bind(o=>z2(ze.fromDom(e.getBody()),o)).bind(DA),O_=e=>{RA(e).each(t=>e.selection.setRng(t))},ad={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},D_=(e,t)=>(O(t)||(t=0),setTimeout(e,t)),LR=(e,t)=>(O(t)||(t=0),setInterval(e,t)),Zc={setEditorTimeout:(e,t,o)=>D_(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const i=LR(()=>{e.removed?clearInterval(i):t()},o);return i}},IA=e=>e.type==="nodechange"&&e.selectionChange,Hb=(e,t)=>{const o=()=>{t.throttle()};Gr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Gr.DOM.unbind(document,"mouseup",o)})},NA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},FR=(e,t)=>{NA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{IA(o)||G0(e)})},MF=e=>{const t=lh(()=>{G0(e)},0);e.on("init",()=>{e.inline&&Hb(e,t),FR(e,t)}),e.on("remove",()=>{t.cancel()})};let lg;const PA=Gr.DOM,VR=e=>An(e)&&ad.isEditorUIElement(e),H2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},R_=(e,t)=>{const o=YD(e);return PA.getParent(t,c=>VR(c)||(o?e.dom.is(c,o):!1))!==null},I_=e=>{try{const t=su(ze.fromDom(e.getElement()));return zb(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},zR=(e,t)=>{const o=t.editor;MF(o);const i=(c,m)=>{if(i5(c)&&c.inline!==!0){const h=ze.fromDom(c.getContainer());m(h,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;H2(I_(o))&&i(o,Rd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Zc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!H2(I_(o))||c!==o)&&i(o,Ba),!R_(o,I_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),lg||(lg=c=>{const m=e.activeEditor;m&&Nv(c).each(h=>{const C=h;C.ownerDocument===document&&C!==document.body&&!R_(m,C)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},PA.bind(document,"focusin",lg))},BF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&lg&&(PA.unbind(document,"focusin",lg),lg=null)},LF=e=>{e.on("AddEditor",nt(zR,e)),e.on("RemoveEditor",nt(BF,e))},FF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),VF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,zF=e=>e.collapsed?J.from(ki(e.startContainer,e.startOffset)).map(ze.fromDom):J.none(),HF=(e,t)=>zF(t).bind(o=>dh(o)?J.some(o):ia(e,o)?J.none():J.some(e)),HR=(e,t)=>{HF(ze.fromDom(e.getBody()),t).bind(o=>Qn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},N_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},$F=e=>OA(e)||IF(e).isSome(),UF=e=>Ee(e.iframeElement)&&OA(ze.fromDom(e.iframeElement)),WF=e=>{const t=e.getBody();return t&&$F(ze.fromDom(t))},$R=e=>{const t=su(ze.fromDom(e.getElement()));return zb(t).filter(o=>!H2(o.dom)&&R_(e,o.dom)).isSome()},q0=e=>e.inline?WF(e):UF(e),$b=e=>q0(e)||$R(e),ZF=e=>{const t=e.selection,o=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable();const c=h=>{RA(h).each(C=>{h.selection.setRng(C),i=C})};!q0(e)&&e.hasEditableRoot()&&c(e);const m=FF(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){VF(e,m)||N_(o),N_(m),e.hasEditableRoot()||c(e),HR(e,i),MA(e);return}e.inline||(Fo.browser.isOpera()||N_(o),e.getWin().focus()),(Fo.browser.isFirefox()||e.inline)&&(N_(o),HR(e,i)),MA(e)},MA=e=>e.editorManager.setActive(e),UR=(e,t)=>{e.removed||(t?MA(e):ZF(e))},WR=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),ZR=(e,t,o,i,c)=>{const m=o?t.startContainer:t.endContainer,h=o?t.startOffset:t.endOffset;return J.from(m).map(ze.fromDom).map(C=>!i||!t.collapsed?Zu(C,c(C,h)).getOr(C):C).bind(C=>Us(C)?J.some(C):aa(C).filter(Us)).map(C=>C.dom).getOr(e)},jR=(e,t,o=!1)=>ZR(e,t,!0,o,(i,c)=>Math.min(Nd(i),c)),KR=(e,t,o=!1)=>ZR(e,t,!1,o,(i,c)=>c>0?c-1:c),GR=(e,t)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},jF=(e,t)=>{if(!t)return e;let o=t.startContainer,i=t.endContainer;const c=t.startOffset,m=t.endOffset;let h=t.commonAncestorContainer;t.collapsed||(o===i&&m-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Ut(o)&&Ut(i)&&(o.length===c?o=GR(o.nextSibling,!0):o=o.parentNode,m===0?i=GR(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const C=Ut(h)?h.parentNode:h;return cu(C)?C:e},BA=(e,t,o,i)=>{const c=[],m=e.getRoot(),h=e.getParent(o||jR(m,t,t.collapsed),e.isBlock),C=e.getParent(i||KR(m,t,t.collapsed),e.isBlock);if(h&&h!==m&&c.push(h),h&&C&&h!==C){let A;const F=new ca(h,m);for(;(A=F.next())&&A!==C;)e.isBlock(A)&&c.push(A)}return C&&h!==C&&C!==m&&c.push(C),c},$2=(e,t,o)=>J.from(t).bind(i=>J.from(i.parentNode).map(c=>{const m=e.nodeIndex(i),h=e.createRng();return h.setStart(c,m),h.setEnd(c,m+1),o&&(v2(e,h,i,!0),v2(e,h,i,!1)),h})),P_=(e,t)=>Le(t,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),KF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ub=(e,t,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==t){let m=e[c];if(m)return m;for(let h=e.parent;h&&h!==t;h=h.parent)if(m=h[c],m)return m}},qR=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!ic(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},Pi=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Da{static create(t,o){const i=new Da(t,KF[t]||1);return o&&ar(o,(c,m)=>{i.attr(m,c)}),i}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const i=this;if(!Ce(t))return Ee(t)&&ar(t,(m,h)=>{i.attr(h,m)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let m=c.length;for(;m--;)if(c[m].name===t)return c.splice(m,1),i}return i}if(t in c.map){let m=c.length;for(;m--;)if(c[m].name===t){c[m].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,i}return c.map[t]}}clone(){const t=this,o=new Da(t.name,t.type),i=t.attributes;if(i){const c=[];c.map={};for(let m=0,h=i.length;m<h;m++){const C=i[m];C.name!=="id"&&(c[c.length]={name:C.name,value:C.value},c.map[C.name]=C.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const i=o.next;t.insert(o,t,!0),o=i}t.remove()}remove(){const t=this,o=t.parent,i=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const i=o.lastChild;return i?(i.next=t,t.prev=i,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,i){t.parent&&t.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,i=[];for(let c=o.firstChild;c;c=Ub(c,o))c.name===t&&i.push(c);return i}children(){const t=this,o=[];for(let i=t.firstChild;i;i=i.next)o.push(i);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=Ub(c,t))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},i){var c;const m=this;let h=m.firstChild;if(Pi(m))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||Pi(h))return!1}if(h.type===8||h.type===3&&!qR(h)||h.type===3&&h.parent&&o[h.parent.name]&&ic((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=Ub(h,m));return!0}walk(t){return Ub(this,null,t)}}const YR=Xt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),M_=e=>Ce(e.nodeValue)&&e.nodeValue.includes(_i),U2=e=>`${e.length===0?"":`${Le(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,$p=(e,t)=>t.querySelectorAll(U2(e)),_h=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>M_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),XR=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(M_(t)){const o=t.parentNode;return o&&ao(YR,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),GF=e=>_h(e).nextNode()!==null,Y0=e=>XR(e).nextNode()!==null,X0=(e,t)=>t.querySelector(U2(e))!==null,J0=(e,t)=>{he($p(e,t),o=>{const i=ze.fromDom(o);Sa(i,"data-mce-bogus")==="all"?Rr(i):he(e,c=>{Od(i,c)&&Io(i,c)})})},B_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},LA=$t(B_,_h),JR=$t(B_,XR),FA=(e,t)=>{const o=[{condition:nt(X0,t),action:nt(J0,t)},{condition:GF,action:LA},{condition:Y0,action:JR}];let i=e,c=!1;return he(o,({condition:m,action:h})=>{m(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},QR=e=>{const t=pi(e,"[data-mce-bogus]");he(t,o=>{Sa(o,"data-mce-bogus")==="all"?Rr(o):ed(o)?(Ds(o,ze.fromText(Rs)),Rr(o)):za(o)})},eI=e=>{const t=pi(e,"input");he(t,o=>{Io(o,"name")})},tI=(e,t)=>{const o=il(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(i,"")},nI=(e,t)=>{const o=e.getDoc(),i=su(ze.fromDom(e.getBody())),c=ze.fromTag("div",o);xi(c,"data-mce-bogus","all"),Go(c,{position:"fixed",left:"-9999999px",top:"0"}),Im(c,t.innerHTML),QR(c),eI(c);const m=Z1(i);Zs(m,c);const h=Cl(c.dom.innerText);return Rr(c),h},W2=(e,t,o)=>{let i;return t.format==="raw"?i=Xt.trim(Cl(FA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?i=nI(e,o):t.format==="tree"?i=e.serializer.serialize(o,t):i=tI(e,e.serializer.serialize(o,t)),t.format!=="text"&&!fb(ze.fromDom(o))&&Ce(i)?Xt.trim(i):i},oI=(e,t)=>J.from(e.getBody()).fold(tt(t.format==="tree"?new Da("body",11):""),o=>W2(e,t,o)),VA=Xt.makeMap,zA=e=>{const t=[];e=e||{};const o=e.indent,i=VA(e.indent_before||""),c=VA(e.indent_after||""),m=Qg.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(C,A,F)=>{if(o&&i[C]&&t.length>0){const K=t[t.length-1];K.length>0&&K!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let K=0,Y=A.length;K<Y;K++){const Q=A[K];t.push(" ",Q.name,'="',m(Q.value,!0),'"')}if(!F||h?t[t.length]=">":t[t.length]=" />",F&&o&&c[C]&&t.length>0){const K=t[t.length-1];K.length>0&&K!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),o&&c[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:m(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",m(A),"?>"):t.push("<?",C,"?>"),o&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},kh=(e={},t=Bc())=>{const o=zA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,h={3:A=>{var F;o.text((F=A.value)!==null&&F!==void 0?F:"",A.raw)},8:A=>{var F;o.comment((F=A.value)!==null&&F!==void 0?F:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var F;o.doctype((F=A.value)!==null&&F!==void 0?F:"")},4:A=>{var F;o.cdata((F=A.value)!==null&&F!==void 0?F:"")},11:A=>{let F=A;if(F=F.firstChild)do C(F);while(F=F.next)}};o.reset();const C=A=>{var F;const K=h[A.type];if(K)K(A);else{const Y=A.name,Q=Y in t.getVoidElements();let ge=A.attributes;if(m&&ge&&ge.length>1){const Se=[];Se.map={};const pe=t.getElementRule(A.name);if(pe){for(let Oe=0,Ue=pe.attributesOrder.length;Oe<Ue;Oe++){const et=pe.attributesOrder[Oe];if(et in ge.map){const Je=ge.map[et];Se.map[et]=Je,Se.push({name:et,value:Je})}}for(let Oe=0,Ue=ge.length;Oe<Ue;Oe++){const et=ge[Oe].name;if(!(et in Se.map)){const Je=ge.map[et];Se.map[et]=Je,Se.push({name:et,value:Je})}}ge=Se}}if(o.start(Y,ge,Q),Lm(Y))Ce(A.value)&&o.text(A.value,!0),o.end(Y);else if(!Q){let Se=A.firstChild;if(Se){(Y==="pre"||Y==="textarea")&&Se.type===3&&((F=Se.value)===null||F===void 0?void 0:F[0])===`
`&&o.text(`
`,!0);do C(Se);while(Se=Se.next)}o.end(Y)}}};return c.type===1&&!e.inner?C(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},HA=new Set;he(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{HA.add(t)});const $A=new Set;he(["background-color"],t=>{$A.add(t)});const UA=["font","text-decoration","text-emphasis"],rI=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Wb=(e,t)=>Kt(rI(e,t)),WA=e=>HA.has(e),Z2=e=>$A.has(e),ZA=(e,t)=>be(Wb(e,t),o=>WA(o)),sI=(e,t)=>ZA(e,t)&&be(Wb(e,t),o=>Z2(o)),L_=e=>vt(e,t=>be(UA,o=>cs(t,o))),qF=(e,t,o)=>{const i=Wb(e,t),c=Wb(e,o),m=h=>{var C,A;const F=(C=e.getStyle(t,h))!==null&&C!==void 0?C:"",K=(A=e.getStyle(o,h))!==null&&A!==void 0?A:"";return Qe(F)&&Qe(K)&&F!==K};return be(i,h=>{const C=A=>be(A,F=>F===h);if(!C(c)&&C(UA)){const A=L_(c);return be(A,m)}else return m(h)})},iI=(e,t,o)=>J.from(o.container()).filter(Ut).exists(i=>{const c=e?0:-1;return t(i.data.charAt(o.offset()+c))}),Sh=nt(iI,!0,Pb),j2=nt(iI,!1,Pb),aI=e=>{const t=e.container();return Ut(t)&&(t.data.length===0||zc(t.data)&&Zr.isBookmarkNode(t.parentNode))},qd=(e,t)=>o=>e_(e?0:-1,o).filter(t).isSome(),jA=e=>Rc(e)&&Ws(ze.fromDom(e),"display")==="block",F_=e=>fo(e)&&!G1(e),lI=qd(!0,jA),cI=qd(!1,jA),Zb=qd(!0,St),Q0=qd(!1,St),uI=qd(!0,uu),ey=qd(!1,uu),Mi=qd(!0,F_),Qf=qd(!1,F_),jb=e=>e.slice(0,-1),dI=(e,t,o)=>ia(t,e)?jb(Tm(e,i=>o(i)||Xo(i,t))):[],fc=(e,t)=>dI(e,t,fn),jc=(e,t)=>[e].concat(fc(e,t)),V_=(e,t,o)=>N5(e,t,o,aI),fI=e=>t=>e.isBlock(Yo(t)),KA=(e,t,o)=>cn(jc(ze.fromDom(t.container()),e),fI(o)),ty=(e,t,o,i)=>V_(e,t.dom,o).forall(c=>KA(t,o,i).fold(()=>!ng(c,o,t.dom),m=>!ng(c,o,t.dom)&&ia(m,ze.fromDom(c.container())))),z_=(e,t,o,i)=>KA(t,o,i).fold(()=>V_(e,t.dom,o).forall(c=>!ng(c,o,t.dom)),c=>V_(e,c.dom,o).isNone()),H_=nt(z_,!1),mI=nt(z_,!0),GA=nt(ty,!1),qA=nt(ty,!0),YF=e=>t_(e).exists(ed),ld=(e,t,o,i)=>{const c=vt(jc(ze.fromDom(o.container()),t),h=>i.isBlock(Yo(h))),m=hn(c).getOr(t);return xu(e,m.dom,o).filter(YF)},K2=(e,t,o)=>t_(t).exists(ed)||ld(!0,e,t,o).isSome(),Kb=(e,t,o)=>J8(t).exists(ed)||ld(!1,e,t,o).isSome(),$_=nt(ld,!1),gI=nt(ld,!0),YA=e=>xt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),XA=(e,t,o)=>{const i=vt(jc(ze.fromDom(t.container()),e),c=>o.isBlock(Yo(c)));return hn(i).getOr(e)},hI=(e,t,o)=>YA(t)?j2(t):j2(t)||$c(XA(e,t,o).dom,t).exists(j2),pI=(e,t,o)=>YA(t)?Sh(t):Sh(t)||Xl(XA(e,t,o).dom,t).exists(Sh),vI=e=>ie(["pre","pre-wrap"],e),U_=e=>t_(e).bind(t=>hi(t,Us)).exists(t=>vI(Ws(t,"white-space"))),JA=(e,t)=>$c(e.dom,t).isNone(),QA=(e,t)=>Xl(e.dom,t).isNone(),bI=(e,t,o)=>JA(e,t)||QA(e,t)||H_(e,t,o)||mI(e,t,o)||Kb(e,t,o)||K2(e,t,o),e3=e=>Ee(e)&&fo(e)&&jE(e),t3=(e,t)=>o=>e3(new ca(o,e)[t]()),yI=(e,t)=>{const o=Xl(e.dom,t).getOr(t),i=t3(e.dom,"next");return t.isAtEnd()&&(i(t.container())||i(o.container()))},n3=(e,t)=>{const o=$c(e.dom,t).getOr(t),i=t3(e.dom,"prev");return t.isAtStart()&&(i(t.container())||i(o.container()))},o3=(e,t,o)=>U_(t)?!1:bI(e,t,o)||hI(e,t,o)||pI(e,t,o),ny=(e,t,o)=>U_(t)?!1:H_(e,t,o)||GA(e,t,o)||Kb(e,t,o)||hI(e,t,o)||n3(e,t),xI=e=>{const t=e.container(),o=e.offset();return Ut(t)&&o<t.data.length?xt(t,o+1):e},Gb=(e,t,o)=>U_(t)?!1:mI(e,t,o)||qA(e,t,o)||K2(e,t,o)||pI(e,t,o)||yI(e,t),r3=(e,t,o)=>ny(e,t,o)||Gb(e,xI(t),o),G2=(e,t)=>al(e.charAt(t)),s3=(e,t)=>Pb(e.charAt(t)),wI=e=>{const t=e.container();return Ut(t)&&Pr(t.data,Di)},XF=e=>{const t=e.split("");return Le(t,(o,i)=>al(o)&&i>0&&i<t.length-1&&bh(t[i-1])&&bh(t[i+1])?" ":o).join("")},CI=(e,t,o,i)=>{const c=t.data,m=xt(t,0);return!o&&G2(c,0)&&!r3(e,m,i)?(t.data=" "+c.slice(1),!0):o&&s3(c,0)&&ny(e,m,i)?(t.data=Di+c.slice(1),!0):!1},_I=e=>{const t=e.data,o=XF(t);return o!==t?(e.data=o,!0):!1},kI=(e,t,o,i)=>{const c=t.data,m=xt(t,c.length-1);return!o&&G2(c,c.length-1)&&!r3(e,m,i)?(t.data=c.slice(0,-1)+" ",!0):o&&s3(c,c.length-1)&&Gb(e,m,i)?(t.data=c.slice(0,-1)+Di,!0):!1},SI=(e,t,o)=>{const i=t.container();if(!Ut(i))return J.none();if(wI(t)){const c=CI(e,i,!1,o)||_I(i)||kI(e,i,!1,o);return Vg(c,t)}else if(r3(e,t,o)){const c=CI(e,i,!0,o)||kI(e,i,!0,o);return Vg(c,t)}else return J.none()},JF=e=>{const t=ze.fromDom(e.getBody());e.selection.isCollapsed()&&SI(t,xt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},EI=(e,t,o,i)=>{if(o===0)return;const c=ze.fromDom(e),m=el(c,F=>i.isBlock(Yo(F))).getOr(c),h=e.data.slice(t,t+o),C=t+o>=e.data.length&&Gb(m,xt(e,e.data.length),i),A=t===0&&ny(m,xt(e,0),i);e.replaceData(t,o,Fv(h,4,A,C))},W_=(e,t,o)=>{const i=e.data.slice(t),c=i.length-mt(i).length;EI(e,t,c,o)},zs=(e,t,o)=>{const i=e.data.slice(0,t),c=i.length-ut(i).length;EI(e,t-c,c,o)},q2=(e,t,o,i,c=!0)=>{const m=ut(e.data).length,h=c?e:t,C=c?t:e;return c?h.appendData(C.data):h.insertData(0,C.data),Rr(ze.fromDom(C)),i&&W_(h,m,o),h},QF=(e,t)=>{const o=e.container(),i=e.offset();return!xt.isTextPosition(e)&&o===t.parentNode&&i>xt.before(t).offset()},e7=(e,t)=>QF(t,e)?xt(t.container(),t.offset()-1):t,oy=e=>Ut(e)?xt(e,0):xt.before(e),Up=e=>Ut(e)?xt(e,e.data.length):xt.after(e),cg=e=>hu(e.previousSibling)?J.some(Up(e.previousSibling)):e.previousSibling?nd(e.previousSibling):J.none(),i3=e=>hu(e.nextSibling)?J.some(oy(e.nextSibling)):e.nextSibling?Qn(e.nextSibling):J.none(),AI=(e,t)=>J.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>$c(e,xt.before(o))).orThunk(()=>Xl(e,xt.after(t))),TI=(e,t)=>Xl(e,xt.after(t)).orThunk(()=>$c(e,xt.before(t))),Z_=(e,t)=>cg(t).orThunk(()=>i3(t)).orThunk(()=>AI(e,t)),t7=(e,t)=>i3(t).orThunk(()=>cg(t)).orThunk(()=>TI(e,t)),a3=(e,t,o)=>e?t7(t,o):Z_(t,o),OI=(e,t,o)=>a3(e,t,o).map(nt(e7,o)),l3=(e,t,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),t)})},c3=e=>t=>t.dom===e,DI=(e,t)=>t&&ao(e.schema.getBlockElements(),Yo(t)),u3=(e,t,o)=>{if(Ks(e,t)){const i=ze.fromHtml('<br data-mce-bogus="1">');return o?he(la(t),c=>{f_(c)||Rr(c)}):es(t),Zs(t,i),J.some(xt.before(i.dom))}else return J.none()},n7=(e,t,o,i)=>{const c=wi(e).filter(us),m=Zn(e).filter(us);return Rr(e),pf(c,m,t,(h,C,A)=>{const F=h.dom,K=C.dom,Y=F.data.length;return q2(F,K,o,i),A.container()===K?xt(F,Y):A}).orThunk(()=>(i&&(c.each(h=>zs(h.dom,h.dom.length,o)),m.each(h=>W_(h.dom,0,o))),t))},o7=(e,t)=>ao(e.schema.getTextInlineElements(),Yo(t)),kl=(e,t,o,i=!0,c=!1)=>{const m=OI(t,e.getBody(),o.dom),h=el(o,nt(DI,e),c3(e.getBody())),C=n7(o,m,e.schema,o7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(A=>u3(e.schema,A,c)).fold(()=>{i&&l3(e,t,C)},A=>{i&&l3(e,t,J.some(A))})},RI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,r7=e=>RI.test(e),qb=(e,t)=>Mr(ze.fromDom(t),or(e))&&!Rf(e.schema,t)&&e.dom.isEditable(t),Y2=e=>{var t;return Gr.DOM.getStyle(e,"direction",!0)==="rtl"||r7((t=e.textContent)!==null&&t!==void 0?t:"")},s7=(e,t,o)=>vt(Gr.DOM.getParents(o.container(),"*",t),e),Wp=(e,t,o)=>{const i=s7(e,t,o);return J.from(i[i.length-1])},II=(e,t,o)=>{const i=Dp(t,e),c=Dp(o,e);return Ee(i)&&i===c},d3=e=>mb(e)||C0(e),cd=(e,t)=>{const o=t.container(),i=t.offset();return e?qm(o)?Ut(o.nextSibling)?xt(o.nextSibling,0):xt.after(o):mb(t)?xt(o,i+1):t:qm(o)?Ut(o.previousSibling)?xt(o.previousSibling,o.previousSibling.data.length):xt.before(o):C0(t)?xt(o,i-1):t},NI=nt(cd,!0),ry=nt(cd,!1),f3=(e,t)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},PI=e=>{e.execCommand("delete")},j_=e=>f3(e,"Delete"),m3=e=>f3(e,"ForwardDelete"),X2=e=>t=>gf(aa(t),e,Xo),MI=e=>ub(e)||Gm(e),J2=(e,t)=>ia(e,t)?hi(t,MI,X2(e)):J.none(),K_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},BI=(e,t,o)=>ra(Qn(o),nd(o),(i,c)=>{const m=cd(!0,i),h=cd(!1,c),C=cd(!1,t);return e?Xl(o,C).exists(A=>A.isEqual(h)&&t.isEqual(m)):$c(o,C).exists(A=>A.isEqual(m)&&t.isEqual(h))}).getOr(!0),Yd=e=>(Ug(e)?wi(e):ju(e)).bind(Yd).orThunk(()=>J.some(e)),G_=(e,t,o,i=!0)=>{var c;t.deleteContents();const m=Yd(o).getOr(o),h=ze.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?K_(e,i):Ks(e.schema,h,{checkRootAsContent:!1})&&(Vc(h),i&&e.selection.setCursorLocation(h.dom,0)),!Xo(o,h)){const C=gf(aa(h),o)?[]:Iv(h);he(C.concat(la(o)),A=>{!Xo(A,h)&&!ia(A,h)&&Ks(e.schema,A)&&Rr(A)})}},i7=e=>t=>Xo(e,t),g3=e=>pi(e,"td,th"),Or=(e,t)=>Lr(ze.fromDom(e),t),a7=e=>ra(e.startTable,e.endTable,(t,o)=>{const i=K1(t,m=>Xo(m,o)),c=K1(o,m=>Xo(m,t));return!i&&!c?e:{...e,startTable:i?J.none():e.startTable,endTable:c?J.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Q2=e=>a7(e),l7=(e,t)=>{const o=Or(e.startContainer,t),i=Or(e.endContainer,t),c=o.isSome(),m=i.isSome(),h=ra(o,i,Xo).getOr(!1);return Q2({startTable:o,endTable:i,isStartInTable:c,isEndInTable:m,isSameTable:h,isMultiTable:!h&&c&&m})},q_=(e,t)=>({start:e,end:t}),Zp=(e,t,o)=>({rng:e,table:t,cells:o}),ll=qo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),jp=(e,t)=>Zi(ze.fromDom(e),"td,th",t),Eh=e=>!Xo(e.start,e.end),em=(e,t)=>Lr(e.start,t).bind(o=>Lr(e.end,t).bind(i=>Vg(Xo(o,i),o))),ew=(e,t)=>!Eh(e)&&em(e,t).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),h3=(e,t)=>{const o=jp(e.startContainer,t),i=jp(e.endContainer,t);return ra(o,i,q_)},p3=e=>t=>Lr(t,e).bind(o=>To(g3(o)).map(i=>q_(t,i))),LI=e=>t=>Lr(t,e).bind(o=>hn(g3(o)).map(i=>q_(i,t))),Y_=e=>t=>em(t,e).map(o=>Zp(t,o,g3(o))),FI=(e,t,o,i)=>{if(o.collapsed||!e.forall(Eh))return J.none();if(t.isSameTable){const c=e.bind(Y_(i));return J.some({start:c,end:c})}else{const c=jp(o.startContainer,i),m=jp(o.endContainer,i),h=c.bind(p3(i)).bind(Y_(i)),C=m.bind(LI(i)).bind(Y_(i));return J.some({start:h,end:C})}},VI=(e,t)=>Tn(e,o=>Xo(o,t)),X_=e=>ra(VI(e.cells,e.rng.start),VI(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),zI=(e,t,o)=>e.exists(i=>ew(i,o)&&p2(i.start,t)),v3=(e,t)=>{const{startTable:o,endTable:i}=t,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),i.each(m=>c.setEndBefore(m.dom)),c},HI=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=t,h=X_(c).getOr([]);if(m&&c.cells.length===h.length)return J.some(ll.fullTable(c.table));if(h.length>0){if(m)return J.some(ll.partialTable(h,J.none()));{const C=v3(o,t);return J.some(ll.partialTable(h,J.some({...t,rng:C})))}}else return J.none()}),b3=(e,t,o,i)=>FI(e,t,o,i).bind(({start:c,end:m})=>{const h=c.bind(X_).getOr([]),C=m.bind(X_).getOr([]);if(h.length>0&&C.length>0){const A=v3(o,t);return J.some(ll.multiTable(h,C,A))}else return J.none()}),c7=(e,t)=>{const o=i7(e),i=h3(t,o),c=l7(t,o);return zI(i,t,o)?i.map(m=>ll.singleCellTable(t,m.start)):c.isMultiTable?b3(i,c,t,o):HI(i,c,t,o)},$I=e=>he(e,t=>{Io(t,"contenteditable"),Vc(t)}),u7=(e,t)=>J.from(e.dom.getParent(t,e.dom.isBlock)).map(ze.fromDom),ug=(e,t,o)=>{o.each(i=>{t?Rr(i):(Vc(i),e.selection.setCursorLocation(i.dom,0))})},Yb=(e,t,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),w3(e,c,t,!1).each(m=>m())},y3=e=>{const t=qf(e),o=ze.fromDom(e.selection.getNode());dp(o.dom)&&Ks(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&be(t,i=>Xo(i,o))&&xi(o,"data-mce-selected","1")},x3=(e,t,o)=>J.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:h})=>{const C=u7(e,h?m.endContainer:m.startContainer);m.deleteContents(),ug(e,h,C.filter(nt(Ks,e.schema)));const A=h?t[0]:t[t.length-1];return Yb(e,A,i,h),Ks(e.schema,A)?J.none():J.some(h?t.slice(1):t.slice(0,-1))}).getOr(t);$I(c),y3(e)}),UI=(e,t,o,i)=>J.some(()=>{const c=e.selection.getRng(),m=t[0],h=o[o.length-1];Yb(e,m,c,!0),Yb(e,h,c,!1);const C=Ks(e.schema,m)?t:t.slice(1),A=Ks(e.schema,h)?o:o.slice(0,-1);$I(C.concat(A)),i.deleteContents(),y3(e)}),w3=(e,t,o,i=!0)=>J.some(()=>{G_(e,t,o,i)}),Kp=(e,t)=>J.some(()=>kl(e,!1,t)),d7=(e,t,o)=>c7(t,o).bind(i=>i.fold(nt(w3,e),nt(Kp,e),nt(x3,e),nt(UI,e))),f7=(e,t)=>J_(e,t),m7=(e,t,o,i)=>C3(t,i).fold(()=>d7(e,t,o),c=>f7(e,c)),g7=(e,t,o)=>{const i=ze.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?x3(e,o,J.none()):m7(e,i,c,t)},WI=(e,t)=>cn(jc(t,e),Fc),C3=(e,t)=>cn(jc(t,e),yf("caption")),h7=(e,t,o,i,c)=>Ib(o,e.getBody(),c).bind(m=>WI(t,ze.fromDom(m.getNode())).bind(h=>Xo(h,i)?J.none():J.some(ct))),J_=(e,t)=>J.some(()=>{Vc(t),e.selection.setCursorLocation(t.dom,0)}),p7=(e,t,o,i)=>Qn(e.dom).bind(c=>nd(e.dom).map(m=>t?o.isEqual(c)&&i.isEqual(m):o.isEqual(m)&&i.isEqual(c))).getOr(!0),Q_=(e,t)=>J_(e,t),v7=(e,t,o)=>C3(e,ze.fromDom(o.getNode())).fold(()=>J.some(ct),i=>Vg(!Xo(i,t),ct)),tw=(e,t,o,i,c)=>Ib(o,e.getBody(),c).fold(()=>J.some(ct),m=>p7(i,o,c,m)?Q_(e,i):v7(t,i,m)),_3=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return WI(o,i).bind(m=>Ks(e.schema,m,{checkRootAsContent:!1})?J_(e,m):h7(e,o,t,m,c))},Xb=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return Ks(e.schema,i)?J_(e,i):tw(e,o,t,i,c)},Gp=(e,t)=>e?uI(t):ey(t),ek=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return Gp(t,o)||xu(t,e.getBody(),o).exists(i=>Gp(t,i))},tk=(e,t,o)=>{const i=ze.fromDom(e.getBody());return C3(i,o).fold(()=>_3(e,t,i,o).orThunk(()=>Vg(ek(e,t),ct)),c=>Xb(e,t,i,c))},Ah=(e,t)=>{const o=ze.fromDom(e.selection.getStart(!0)),i=qf(e);return e.selection.isCollapsed()&&i.length===0?tk(e,t,o):g7(e,o,i)},ud=(e,t)=>{let o=t;for(;o&&o!==e;){if(Ic(o)||fo(o))return o;o=o.parentNode}return null},nk=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],ok=Xt.each,rk=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(m,h)=>{if(m.nodeName!==h.nodeName||m.nodeType!==h.nodeType)return!1;const C=F=>{const K={};return ok(t.getAttribs(F),Y=>{const Q=Y.nodeName.toLowerCase();Q!=="style"&&!c(Q)&&(K[Q]=t.getAttrib(F,Q))}),K},A=(F,K)=>{for(const Y in F)if(ao(F,Y)){const Q=K[Y];if(Me(Q)||F[Y]!==Q)return!1;delete K[Y]}for(const Y in K)if(ao(K,Y))return!1;return!0};return An(m)&&An(h)&&(!A(C(m),C(h))||!A(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(h,"style"))))?!1:!Cu(m)&&!Cu(h)},c=m=>be(nk,h=>cs(m,h))||o.has(m);return{compare:i,isAttributeInternal:c}},sk=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),k3=e=>e.name==="summary",ZI=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},S3=(e,t,o,i)=>{const c=o.name;for(let m=0,h=e.length;m<h;m++){const C=e[m];if(C.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:C,nodes:[o]}}}if(o.attributes)for(let m=0,h=t.length;m<h;m++){const C=t[m],A=C.name;if(A in o.attributes.map){const F=i.attributes[A];F?F.nodes.push(o):i.attributes[A]={filter:C,nodes:[o]}}}},sy=(e,t,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&ZI(o,c=>{S3(e,t,c,i)}),i},E3=(e,t)=>{const o=(i,c)=>{ar(i,m=>{const h=bo(m.nodes);he(m.filter.callbacks,C=>{for(let A=h.length-1;A>=0;A--){const F=h[A];(!(c?F.attr(m.filter.name)!==void 0:F.name===m.filter.name)||Xe(F.parent))&&h.splice(A,1)}h.length>0&&C(h,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},A3=(e,t,o,i={})=>{const c=sy(e,t,o);E3(c,i)},ik=(e,t,o,i)=>{if((e.pad_empty_with_br||t.insert)&&o(i)){const m=new Da("br",1);t.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new Da("#text",3)).value=Di},ak=e=>{var t;return T3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Di},T3=(e,t)=>{const o=e==null?void 0:e.firstChild;return Ee(o)&&o===e.lastChild&&o.name===t},jI=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},iy=(e,t,o,i)=>i.isEmpty(t,o,c=>jI(e,c)),KI=(e,t)=>Ee(e)&&(t(e)||e.name==="br"),Th=e=>{let t;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(t=o)}return J.from(t)},dg=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!t.isValidChild(o.name,c.name)&&dg(c,t,o);e.unwrap()}},ku=(e,t,o,i=ct)=>{const c=t.getTextBlockElements(),m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=Xt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,F=K=>K!==o&&!C[K.name];for(let K=0;K<e.length;K++){const Y=e[K];let Q,ge,Se;if(!Y.parent||A.has(Y))continue;if(c[Y.name]&&Y.parent.name==="li"){let Oe=Y.next;for(;Oe&&c[Oe.name];){Oe.name="li",A.add(Oe),Y.parent.insert(Oe,Y.parent);Oe=Oe.next}Y.unwrap();continue}const pe=[Y];for(Q=Y.parent;Q&&!t.isValidChild(Q.name,Y.name)&&F(Q);Q=Q.parent)pe.push(Q);if(Q&&pe.length>1)if(nw(t,Y,Q))dg(Y,t);else{pe.reverse(),ge=pe[0].clone(),i(ge);let Oe=ge;for(let Ue=0;Ue<pe.length-1;Ue++){t.isValidChild(Oe.name,pe[Ue].name)&&Ue>0?(Se=pe[Ue].clone(),i(Se),Oe.append(Se)):Se=Oe;for(let et=pe[Ue].firstChild;et&&et!==pe[Ue+1];){const Je=et.next;Se.append(et),et=Je}Oe=Se}iy(t,m,h,ge)?Q.insert(Y,pe[0],!0):(Q.insert(ge,pe[0],!0),Q.insert(Y,ge)),Q=pe[0],(iy(t,m,h,Q)||T3(Q,"br"))&&Q.empty().remove()}else if(Y.parent){if(Y.name==="li"){let Oe=Y.prev;if(Oe&&(Oe.name==="ul"||Oe.name==="ol")){Oe.append(Y);continue}if(Oe=Y.next,Oe&&(Oe.name==="ul"||Oe.name==="ol")&&Oe.firstChild){Oe.insert(Y,Oe.firstChild,!0);continue}const Ue=new Da("ul",1);i(Ue),Y.wrap(Ue);continue}if(t.isValidChild(Y.parent.name,"div")&&t.isValidChild("div",Y.name)){const Oe=new Da("div",1);i(Oe),Y.wrap(Oe)}else dg(Y,t)}}},O3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},nw=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&O3(o,"a")?!0:k3(o)&&sk(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,GI=(e,t,o,i)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,i),c},qI=e=>{const t=xt.fromRangeStart(e),o=xt.fromRangeEnd(e),i=e.commonAncestorContainer;return xu(!1,i,o).map(c=>!ng(t,o,i)&&ng(t,c,i)?GI(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},lk=e=>e.collapsed?e:qI(e),D3=e=>Ee(e.firstChild)&&e.firstChild===e.lastChild,YI=e=>e.name==="br"||e.value===Di,XI=(e,t)=>e.getBlockElements()[t.name]&&D3(t)&&YI(t.firstChild),R3=(e,t)=>{const o=e.getNonEmptyElements();return Ee(t)&&(t.isEmpty(o)||XI(e,t))},fg=(e,t)=>{let o=t.firstChild,i=t.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),R3(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},Xd=e=>{var t,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((t=i.parentNode)===null||t===void 0||t.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},ck=(e,t,o)=>{const i=t.serialize(o),c=e.createFragment(i);return Xd(c)},JI=e=>{var t;return vt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},uk=e=>e.data===Di||ps(e),QI=e=>Ee(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&uk(e.firstChild),eN=e=>!e.firstChild||QI(e),tN=e=>e.length>0&&eN(e[e.length-1])?e.slice(0,-1):e,dk=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},nN=(e,t)=>!!dk(e,t),oN=(e,t)=>{const o=t.cloneRange(),i=t.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},fk=(e,t)=>{const o=xt.before(e),c=qn(t).next(o);return c?c.toRange():null},mk=(e,t)=>{const o=xt.after(e),c=qn(t).prev(o);return c?c.toRange():null},rN=(e,t,o,i)=>{const c=oN(e,i),m=e.parentNode;return m&&(m.insertBefore(c[0],e),Xt.each(t,h=>{m.insertBefore(h,e)}),m.insertBefore(c[1],e),m.removeChild(e)),mk(t[t.length-1],o)},I3=(e,t,o)=>{const i=e.parentNode;return i&&Xt.each(t,c=>{i.insertBefore(c,e)}),fk(e,o)},b7=(e,t,o,i)=>(i.insertAfter(t.reverse(),e),mk(t[0],o)),y7=(e,t,o,i)=>{const c=ck(t,e,i),m=dk(t,o.startContainer),h=tN(JI(c.firstChild)),C=1,A=2,F=t.getRoot(),K=Y=>{const Q=xt.fromRangeStart(o),ge=qn(t.getRoot()),Se=Y===C?ge.prev(Q):ge.next(Q),pe=Se==null?void 0:Se.getNode();return pe?dk(t,pe)!==m:!0};return m?K(C)?I3(m,h,F):K(A)?b7(m,h,F,t):rN(m,h,F,o):null},x7=["pre"],w7=(e,t,o,i)=>{var c;const m=t.firstChild,h=t.lastChild,C=h.attr("data-mce-type")==="bookmark"?h.prev:h,A=m===C,F=ie(x7,m.name);if(A&&F){const K=m.attr("contenteditable")!=="false",Y=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,Q=J.from(ud(i,o)).forall(Ic);return K&&Y&&Q}else return!1},N3=dp,C7=(e,t,o)=>{if(Ee(o)){const i=e.getParent(t.endContainer,N3);return o===i&&p2(ze.fromDom(o),t)}else return!1},gk=(e,t,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(t),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},P3=(e,t,o)=>{J.from(e.getParent(t,"td,th")).map(ze.fromDom).each(i=>zx(i,o))},sN=(e,t)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(t){const c=e.getBody(),m=rk(e),h="*[data-mce-fragment]",C=i.select(h);Xt.each(C,A=>{const F=Q=>Ee(o[Q.nodeName.toLowerCase()]),K=Q=>Q.childNodes.length===1;if((Q=>!(ZA(i,Q)||sI(i,Q)))(A)&&F(A)&&K(A)){const Q=Wb(i,A),ge=(Ue,et)=>Ro(Ue,Je=>ie(et,Je)),Se=Ue=>K(A)&&i.is(Ue,h)&&F(Ue)&&(Ue.nodeName===A.nodeName&&ge(Q,Wb(i,Ue))||Se(Ue.children[0])),pe=Ue=>Ee(Ue)&&Ue!==c&&(m.compare(A,Ue)||pe(Ue.parentElement)),Oe=Ue=>Ee(Ue)&&Ue!==c&&i.is(Ue,h)&&(qF(i,A,Ue)||Oe(Ue.parentElement));(Se(A.children[0])||pe(A.parentElement)&&!Oe(A.parentElement))&&i.remove(A,!0)}})}},M3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},_7=e=>{Xt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},k7=e=>!!e.getAttribute("data-mce-fragment"),S7=(e,t)=>Ee(t)&&!e.schema.getVoidElements()[t.nodeName],E7=(e,t)=>{var o,i,c;let m;const h=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=ud(e.getBody(),t);if(A&&h.getContentEditable(A)==="false"){h.remove(t),C.select(A);return}let F=h.createRng();const K=t.previousSibling;if(Ut(K)){F.setStart(K,(i=(o=K.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ge=t.nextSibling;Ut(ge)&&(K.appendData(ge.data),(c=ge.parentNode)===null||c===void 0||c.removeChild(ge))}else F.setStartBefore(t),F.setEndBefore(t);const Y=ge=>{let Se=xt.fromRangeStart(ge);return Se=qn(e.getBody()).next(Se),Se==null?void 0:Se.toRange()},Q=h.getParent(t,h.isBlock);if(h.remove(t),Q&&h.isEmpty(Q)){const ge=N3(Q);es(ze.fromDom(Q)),F.setStart(Q,0),F.setEnd(Q,0),!ge&&!k7(Q)&&(m=Y(F))?(F=m,h.remove(Q)):h.add(Q,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}C.setRng(F)},A7=e=>{const t=e.dom,o=lk(e.selection.getRng());e.selection.setRng(o);const i=t.getParent(o.startContainer,N3);C7(t,o,i)?w3(e,o,ze.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},T7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return J.some(t);return J.none()},hk=(e,t,o)=>{var i;return be(o.children(),sk)&&((i=e.getParent(t,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},pk=(e,t,o)=>{var i,c;const m=e.selection,h=e.dom,C=e.parser,A=o.merge,F=kh({validate:!0},e.schema),K='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Cl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,K);let Y=m.getRng();const Q=Y.startContainer,ge=e.getBody();Q===ge&&m.isCollapsed()&&h.isBlock(ge.firstChild)&&S7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(Y=h.createRng(),Y.setStart(ge.firstChild,0),Y.setEnd(ge.firstChild,0),m.setRng(Y)),m.isCollapsed()||A7(e);const Se=m.getNode(),pe={context:Se.nodeName.toLowerCase(),data:o.data,insert:!0},Oe=C.parse(t,pe);if(o.paste===!0&&fg(e.schema,Oe)&&nN(h,Se))return Y=y7(F,h,m.getRng(),Oe),Y&&m.setRng(Y),t;o.paste===!0&&w7(h,Oe,Se,e.getBody())&&((i=Oe.firstChild)===null||i===void 0||i.unwrap()),M3(Oe);let Ue=Oe.lastChild;if(Ue&&Ue.attr("id")==="mce_marker"){const et=Ue;for(Ue=Ue.prev;Ue;Ue=Ue.walk(!0))if(Ue.type===3||!h.isBlock(Ue.name)){Ue.parent&&e.schema.isValidChild(Ue.parent.name,"span")&&Ue.parent.insert(et,Ue,Ue.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Se),!pe.invalid&&!hk(h,Se,Oe))t=F.serialize(Oe),gk(e,t,Se);else{e.selection.setContent(K);let et=m.getNode(),Je;const dt=e.getBody();for(Nn(et)?et=Je=dt:Je=et;Je&&Je!==dt;)et=Je,Je=Je.parentNode;t=et===dt?dt.innerHTML:h.getOuterHTML(et);const Bt=C.parse(t),Yt=T7(Bt),pn=Yt.bind(Th).getOr(Bt);Yt.each(Cn=>Cn.replace(Oe));const Et=Oe.children(),bt=(c=Oe.parent)!==null&&c!==void 0?c:Bt;Oe.unwrap();const Nt=vt(Et,Cn=>nw(e.schema,Cn,bt));ku(Nt,e.schema,pn),A3(C.getNodeFilters(),C.getAttributeFilters(),Bt),t=F.serialize(Bt),et===dt?h.setHTML(dt,t):h.setOuterHTML(et,t)}return sN(e,A),E7(e,h.get("mce_marker")),_7(e.getBody()),P3(h,m.getStart(),e.schema),Ld(e.schema,e.getBody(),m.getStart()),t},Jb=e=>e instanceof Da,O7=e=>{q0(e)&&Qn(e.getBody()).each(t=>{const o=t.getNode(),i=uu(o)?Qn(o).getOr(t):t;e.selection.setRng(i.toRange())})},B3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&O7(e)},D7=(e,t,o,i)=>{if(o=Cl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const m=il(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,Jx(e),o)):o||(o=c),B3(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=kh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=fb(ze.fromDom(t))?o:Xt.trim(o);return B3(e,c,i.no_selection),{content:c,html:c}}},R7=(e,t,o,i)=>{A3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=kh({validate:!1},e.schema).serialize(o),m=Cl(fb(ze.fromDom(t))?c:Xt.trim(c));return B3(e,m,i.no_selection),{content:o,html:m}},I7=(e,t,o)=>J.from(e.getBody()).map(i=>Jb(t)?R7(e,i,t,o):D7(e,i,t,o)).getOr({content:t,html:Jb(o.content)?"":o.content}),iN=e=>Fe(e)?e:fn,Jd=(e,t,o)=>{let i=e.dom;const c=iN(o);for(;i.parentNode;){i=i.parentNode;const m=ze.fromDom(i),h=t(m);if(h.isSome())return h;if(c(m))break}return J.none()},ow=(e,t,o)=>{const i=t(e),c=iN(o);return i.orThunk(()=>c(e)?J.none():Jd(e,t,c))},vk=Z0,L3=(e,t,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const m=i[c];if(Uc(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},bk=(e,t,o,i,c)=>{const m=e.dom.getRoot();if(t===m)return!1;const h=e.dom.getParent(t,C=>L3(e,C,o)?!0:C.parentNode===m||!!mg(e,C,o,i,!0));return!!mg(e,h,o,i,c)},yk=(e,t,o)=>ha(o)&&vk(t,o.inline)||Yf(o)&&vk(t,o.block)?!0:Uc(o)?An(t)&&e.is(t,o.selector):!1,F3=(e,t,o,i,c,m)=>{const h=o[i],C=i==="attributes";if(Fe(o.onmatch))return o.onmatch(t,o,i);if(h){if(sn(h)){for(let A=0;A<h.length;A++)if(C?e.getAttrib(t,h[A]):b2(e,t,h[A]))return!0}else for(const A in h)if(ao(h,A)){const F=C?e.getAttrib(t,A):b2(e,t,A),K=yh(h[A],m),Y=Xe(F)||Wt(F);if(Y&&Xe(K))continue;if(c&&Y&&!o.exact||(!c||o.exact)&&!vk(F,c_(K,A)))return!1}}return!0},mg=(e,t,o,i,c)=>{const m=e.formatter.get(o),h=e.dom;if(m&&An(t))for(let C=0;C<m.length;C++){const A=m[C];if(yk(e.dom,t,A)&&F3(h,t,A,"attributes",c,i)&&F3(h,t,A,"styles",c,i)){const F=A.classes;if(F){for(let K=0;K<F.length;K++)if(!e.dom.hasClass(t,yh(F[K],i)))return}return A}}},qp=(e,t,o,i,c)=>{if(i)return bk(e,i,t,o,c);if(i=e.selection.getNode(),bk(e,i,t,o,c))return!0;const m=e.selection.getStart();return!!(m!==i&&bk(e,m,t,o,c))},aN=(e,t,o)=>{const i=[],c={},m=e.selection.getStart();return e.dom.getParent(m,h=>{for(let C=0;C<t.length;C++){const A=t[C];!c[A]&&mg(e,h,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},lN=(e,t)=>{const o=c=>Xo(c,ze.fromDom(e.getBody())),i=(c,m)=>mg(e,c.dom,m)?J.some(m):J.none();return J.from(e.selection.getStart(!0)).bind(c=>ow(ze.fromDom(c),m=>rs(t,h=>i(m,h)),o)).getOrNull()},cN=(e,t)=>{const o=e.formatter.get(t),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=y2(i,c);for(let h=o.length-1;h>=0;h--){const C=o[h];if(!Uc(C))return!0;for(let A=m.length-1;A>=0;A--)if(i.is(m[A],C.selector))return!0}}return!1},V3=(e,t,o)=>Vt(o,(i,c)=>{const m=Y5(e,c);return e.formatter.matchNode(t,c,{},m)?i.concat([c]):i},[]),rw=_i,N7=(e,t)=>e.importNode(t,!0),uN=e=>{if(e){const t=new ca(e,e);for(let o=t.current();o;o=t.next())if(Ut(o))return o}return null},gg=e=>{const t=ze.fromTag("span");return Ma(t,{id:z0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Zs(t,ze.fromText(rw)),t},z3=e=>{const t=uN(e);return t&&t.data.charAt(0)===rw&&t.deleteData(0,1),t},H3=(e,t,o)=>{const i=e.dom,c=e.selection;if(cA(t))kl(e,!1,ze.fromDom(t),o,!0);else{const m=c.getRng(),h=i.getParent(t,i.isBlock),C=m.startContainer,A=m.startOffset,F=m.endContainer,K=m.endOffset,Y=z3(t);i.remove(t,!0),C===Y&&A>0&&m.setStart(Y,A-1),F===Y&&K>0&&m.setEnd(Y,K-1),h&&i.isEmpty(h)&&Vc(ze.fromDom(h)),c.setRng(m)}},$3=(e,t,o)=>{const i=e.dom,c=e.selection;if(t)H3(e,t,o);else if(t=Rp(e.getBody(),c.getStart()),!t)for(;t=i.get(z0);)H3(e,t,o)},Qb=(e,t,o)=>{var i,c;const m=e.dom,h=m.getParent(o,nt(l_,e.schema));h&&m.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(t,o):(cc(ze.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(t,o):m.insertAfter(t,o))},U3=(e,t)=>(e.appendChild(t),t),sw=(e,t)=>{var o;const i=Ft(e,(m,h)=>U3(m,h.cloneNode(!1)),t),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return U3(i,c.createTextNode(rw))},P7=(e,t,o,i,c,m)=>{const h=e.formatter,C=e.dom,A=vt(Kt(h.get()),Y=>Y!==i&&!Pr(Y,"removeformat")),F=V3(e,o,A);if(vt(F,Y=>!X5(e,Y,i)).length>0){const Y=o.cloneNode(!1);return C.add(t,Y),h.remove(i,c,Y,m),C.remove(Y),J.some(Y)}else return J.none()},dN=e=>ab(e,Km(e).replace(new RegExp(`${Di}$`)," ")),W3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&wi(ze.fromDom(t)).each(i=>{us(i)?dN(i):Wi(i,c=>us(c)).each(c=>{us(c)&&dN(c)})})};e.once("input",i=>{i.data&&!Pb(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},Oh=(e,t,o)=>{let i;const c=e.selection,m=e.formatter.get(t);if(!m)return;const h=c.getRng();let C=h.startOffset;const F=h.startContainer.nodeValue;i=Rp(e.getBody(),c.getStart());const K=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&C>0&&C<F.length&&K.test(F.charAt(C))&&K.test(F.charAt(C-1))){const Y=c.getBookmark();h.collapse(!0);let Q=Pp(e.dom,h,m);Q=M2(Q),e.formatter.apply(t,o,Q),c.moveToBookmark(Y)}else{let Y=i?uN(i):null;(!i||(Y==null?void 0:Y.data)!==rw)&&(i=N7(e.getDoc(),gg(!0).dom),Y=i.firstChild,h.insertNode(i),C=1,W3(e,i)),e.formatter.apply(t,o,i),c.setCursorLocation(Y,C)}},Z3=(e,t,o,i)=>{const c=e.dom,m=e.selection;let h=!1;const C=e.formatter.get(t);if(!C)return;const A=m.getRng(),F=A.startContainer,K=A.startOffset;let Y=F;Ut(F)&&(K!==F.data.length&&(h=!0),Y=Y.parentNode);const Q=[];let ge;for(;Y;){if(mg(e,Y,t,o,i)){ge=Y;break}Y.nextSibling&&(h=!0),Q.push(Y),Y=Y.parentNode}if(ge)if(h){const Se=m.getBookmark();A.collapse(!0);let pe=Pp(c,A,C,!0);pe=M2(pe),e.formatter.remove(t,o,pe,i),m.moveToBookmark(Se)}else{const Se=Rp(e.getBody(),ge),pe=Ee(Se)?c.getParents(ge.parentNode,kn,Se):[],Oe=gg(!1).dom;Qb(e,Oe,Se??ge);const Ue=P7(e,Oe,ge,t,o,i),et=sw([...Q,...Ue.toArray(),...pe],Oe);Se&&H3(e,Se,Ee(Se)),m.setCursorLocation(et,1),W3(e,Oe),c.isEmpty(ge)&&c.remove(ge)}},j3=(e,t,o)=>{const i=e.selection,c=e.getBody();$3(e,null,o),(t===8||t===46)&&i.isCollapsed()&&i.getStart().innerHTML===rw&&$3(e,Rp(c,i.getStart()),!0),(t===37||t===39)&&$3(e,Rp(c,i.getStart()),!0)},K3=e=>Ut(e)&&Te(e.data,Di),fN=e=>{e.on("mouseup keydown",t=>{j3(e,t.keyCode,K3(e.selection.getRng().endContainer))})},G3=e=>{const t=gg(!1),o=sw(e,t.dom);return{caretContainer:t,caretPosition:xt(o,0)}},q3=(e,t)=>{const{caretContainer:o,caretPosition:i}=G3(t);return Ds(ze.fromDom(e),o),Rr(ze.fromDom(e)),i},M7=(e,t)=>{const{caretContainer:o,caretPosition:i}=G3(t);return e.insertNode(o.dom),i},ay=(e,t)=>{if(wu(t.dom))return!1;const o=e.schema.getTextInlineElements();return ao(o,Yo(t))&&!wu(t.dom)&&!Af(t.dom)},Yp={},Y3=ua(["pre"]),mN=(e,t)=>{Yp[e]||(Yp[e]=[]),Yp[e].push(t)},gN=(e,t)=>{ao(Yp,e)&&he(Yp[e],o=>{o(t)})};mN("pre",e=>{const t=e.selection.getRng(),o=c=>m=>{const h=m.previousSibling;return Y3(h)&&ie(c,h)},i=(c,m)=>{const h=ze.fromDom(m),C=rc(h).dom;Rr(h),ti(ze.fromDom(c),[ze.fromTag("br",C),ze.fromTag("br",C),...la(h)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),m=vt(vt(c,Y3),o(c));he(m,h=>{i(h.previousSibling,h)})}});const X3=["fontWeight","fontStyle","color","fontSize","fontFamily"],xk=e=>ee(e.styles)&&be(Kt(e.styles),t=>ie(X3,t)),J3=e=>cn(e,t=>ha(t)&&t.inline==="span"&&xk(t)),ly=(e,t)=>{const o=e.get(t);return le(o)?J3(o):J.none()},hN=(e,t)=>$c(t,xt.fromRangeStart(e)).isNone(),Q3=(e,t)=>Xl(t,xt.fromRangeEnd(e)).exists(o=>!ps(o.getNode())||Xl(t,o).isSome())===!1,pN=e=>t=>cx(t)&&e.isEditable(t),B7=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return hN(o,t[0])&&Q3(o,t[0])?t:[];{const i=hn(t).filter(h=>hN(o,h)).toArray(),c=To(t).filter(h=>Q3(o,h)).toArray(),m=t.slice(1,-1);return i.concat(m).concat(c)}},vN=e=>vt(B7(e),pN(e.dom)),e4=e=>vt(e.getSelectedBlocks(),pN(e.dom)),t4=Xt.each,wk=e=>An(e)&&!Cu(e)&&!wu(e)&&!Af(e),Xp=(e,t)=>{for(let o=e;o;o=o[t]){if(Ut(o)&&Qe(o.data))return e;if(An(o)&&!Cu(o))return o}return e},n4=(e,t,o)=>{const i=rk(e),c=cu(t)&&e.dom.isEditable(t),m=cu(o)&&e.dom.isEditable(o);if(c&&m){const h=Xp(t,"previousSibling"),C=Xp(o,"nextSibling");if(i.compare(h,C)){for(let A=h.nextSibling;A&&A!==C;){const F=A;A=A.nextSibling,h.appendChild(F)}return e.dom.remove(C),Xt.each(Xt.grep(C.childNodes),A=>{h.appendChild(A)}),h}}return o},Ck=(e,t,o,i)=>{var c;if(i&&t.merge_siblings!==!1){const m=(c=n4(e,Mb(i),i))!==null&&c!==void 0?c:i;n4(e,m,Mb(m,!0))}},bN=(e,t,o)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";t4(e.select(i,o),c=>{wk(c)&&e.isEditable(c)&&t4(t.styles,(m,h)=>{e.setStyle(c,h,"")})})}},iw=(e,t,o)=>{t4(e.childNodes,i=>{wk(i)&&(t(i)&&o(i),i.hasChildNodes()&&iw(i,t,o))})},Jp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},o4=(e,t)=>o=>!!(o&&b2(e,o,t)),Su=(e,t,o)=>i=>{e.setStyle(i,t,o),i.getAttribute("style")===""&&i.removeAttribute("style"),Jp(e,i)},dd=qo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),r4=/^(src|href|style)$/,_k=Xt.each,kk=Z0,yN=e=>/^(TR|TH|TD)$/.test(e.nodeName),e1=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),aw=(e,t,o)=>{let i=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(An(i)){const m=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>m?m:c]}return Ut(i)&&o&&c>=i.data.length&&(i=new ca(i,e.getBody()).next()||i),Ut(i)&&!o&&c===0&&(i=new ca(i,e.getBody()).prev()||i),i},s4=(e,t)=>{const o=t?"firstChild":"lastChild",i=e[o];return yN(e)&&i?e.nodeName==="TR"&&i[o]||i:e},Sk=(e,t,o,i)=>{var c;const m=e.create(o,i);return(c=t.parentNode)===null||c===void 0||c.insertBefore(m,t),m.appendChild(t),m},Ek=(e,t,o,i,c)=>{const m=ze.fromDom(t),h=ze.fromDom(e.create(i,c)),C=o?Om(m):Wu(m);return ti(h,C),o?(Ds(m,h),Va(h,m)):(it(m,h),Zs(h,m)),h.dom},L7=(e,t)=>t.links&&e.nodeName==="A",xN=(e,t,o)=>{const i=t.parentNode;let c;const m=e.dom,h=il(e);Yf(o)&&i===m.getRoot()&&(!o.list_block||!kk(t,o.list_block))&&he(bo(t.childNodes),C=>{Ip(e,h,C.nodeName.toLowerCase())?c?c.appendChild(C):(c=Sk(m,C,h),m.setAttribs(c,Jx(e))):c=null}),!(eR(o)&&!kk(o.inline,t))&&m.remove(t,!0)},i4=(e,t,o)=>O(e)?{name:t,value:null}:{name:e,value:yh(t,o)},wN=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Kc=(e,t,o,i,c)=>{let m=!1;_k(o.styles,(h,C)=>{const{name:A,value:F}=i4(C,h,i),K=c_(F,A);(o.remove_similar||Ze(F)||!An(c)||kk(b2(e,c,A),K))&&e.setStyle(t,A,""),m=!0}),m&&wN(e,t)},a4=(e,t,o)=>{t==="removeformat"?he(e4(e.selection),i=>{he(X3,c=>e.dom.setStyle(i,c,"")),wN(e.dom,i)}):ly(e.formatter,t).each(i=>{he(e4(e.selection),c=>Kc(e.dom,c,i,o,null))})},l4=(e,t,o,i,c)=>{const m=e.dom,h=rk(e),C=e.schema;if(ha(t)&&Uv(C,t.inline)&&Rf(C,i)&&i.parentElement===e.getBody())return xN(e,i,t),dd.removed();if(!t.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!yk(m,i,t)&&!L7(i,t))return dd.keep();const A=i,F=t.preserve_attributes;if(ha(t)&&t.remove==="all"&&le(F)){const K=vt(m.getAttribs(A),Y=>ie(F,Y.name.toLowerCase()));if(m.removeAllAttribs(A),he(K,Y=>m.setAttrib(A,Y.name,Y.value)),K.length>0)return dd.rename("span")}if(t.remove!=="all"){Kc(m,A,t,o,c),_k(t.attributes,(Y,Q)=>{const{name:ge,value:Se}=i4(Q,Y,o);if(t.remove_similar||Ze(Se)||!An(c)||kk(m.getAttrib(c,ge),Se)){if(ge==="class"){const pe=m.getAttrib(A,ge);if(pe){let Oe="";if(he(pe.split(/\s+/),Ue=>{/mce\-\w+/.test(Ue)&&(Oe+=(Oe?" ":"")+Ue)}),Oe){m.setAttrib(A,ge,Oe);return}}}if(r4.test(ge)&&A.removeAttribute("data-mce-"+ge),ge==="style"&&ua(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ge),m.setStyle(A,"list-style-type","none");return}ge==="class"&&A.removeAttribute("className"),A.removeAttribute(ge)}}),_k(t.classes,Y=>{Y=yh(Y,o),(!An(c)||m.hasClass(c,Y))&&m.removeClass(A,Y)});const K=m.getAttribs(A);for(let Y=0;Y<K.length;Y++){const Q=K[Y].nodeName;if(!h.isAttributeInternal(Q))return dd.keep()}}return t.remove!=="none"?(xN(e,A,t),dd.removed()):dd.keep()},c4=(e,t,o,i,c)=>{let m;return t.parentNode&&he(y2(e.dom,t.parentNode).reverse(),h=>{if(!m&&An(h)&&h.id!=="_start"&&h.id!=="_end"){const C=mg(e,h,o,i,c);C&&C.split!==!1&&(m=h)}}),m},CN=(e,t,o,i)=>l4(e,t,o,i,i).fold(tt(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),tt(null)),lw=(e,t,o,i,c,m,h,C)=>{var A,F;let K,Y;const Q=e.dom;if(o){const ge=o.parentNode;for(let Se=i.parentNode;Se&&Se!==ge;Se=Se.parentNode){let pe=Q.clone(Se,!1);for(let Oe=0;Oe<t.length&&(pe=CN(e,t[Oe],C,pe),pe!==null);Oe++);pe&&(K&&pe.appendChild(K),Y||(Y=pe),K=pe)}(!h.mixed||!Q.isBlock(o))&&(i=(A=Q.split(o,i))!==null&&A!==void 0?A:i),K&&Y&&((F=c.parentNode)===null||F===void 0||F.insertBefore(K,c),Y.appendChild(c),ha(h)&&Ck(e,h,C,K))}return i},Dh=(e,t,o,i,c)=>{const m=e.formatter.get(t),h=m[0],C=e.dom,A=e.selection,F=pe=>{const Oe=c4(e,pe,t,o,c);return lw(e,m,Oe,pe,pe,!0,h,o)},K=pe=>Cu(pe)&&An(pe)&&(pe.id==="_start"||pe.id==="_end"),Y=pe=>be(m,Oe=>ev(e,Oe,o,pe,pe)),Q=pe=>{const Oe=bo(pe.childNodes),et=Y(pe)||be(m,Bt=>yk(C,pe,Bt)),Je=pe.parentNode;if(!et&&Ee(Je)&&d_(h)&&Y(Je),h.deep&&Oe.length)for(let Bt=0;Bt<Oe.length;Bt++)Q(Oe[Bt]);he(["underline","line-through","overline"],Bt=>{An(pe)&&e.dom.getStyle(pe,"text-decoration")===Bt&&pe.parentNode&&lA(C,pe.parentNode)===Bt&&ev(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},void 0,pe)})},ge=pe=>{const Oe=C.get(pe?"_start":"_end");if(Oe){let Ue=Oe[pe?"firstChild":"lastChild"];return K(Ue)&&(Ue=Ue[pe?"firstChild":"lastChild"]),Ut(Ue)&&Ue.data.length===0&&(Ue=pe?Oe.previousSibling||Oe.nextSibling:Oe.nextSibling||Oe.previousSibling),C.remove(Oe,!0),Ue}else return null},Se=pe=>{let Oe,Ue,et=Pp(C,pe,m,pe.collapsed);if(h.split){if(et=M2(et),Oe=aw(e,et,!0),Ue=aw(e,et),Oe!==Ue){if(Oe=s4(Oe,!0),Ue=s4(Ue,!1),e1(C,Oe,Ue)){const dt=J.from(Oe.firstChild).getOr(Oe);F(Ek(C,dt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(e1(C,Ue,Oe)){const dt=J.from(Ue.lastChild).getOr(Ue);F(Ek(C,dt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}Oe=Sk(C,Oe,"span",{id:"_start","data-mce-type":"bookmark"}),Ue=Sk(C,Ue,"span",{id:"_end","data-mce-type":"bookmark"});const Je=C.createRng();Je.setStartAfter(Oe),Je.setEndBefore(Ue),_2(C,Je,dt=>{he(dt,Bt=>{!Cu(Bt)&&!Cu(Bt.parentNode)&&F(Bt)})}),F(Oe),F(Ue),Oe=ge(!0),Ue=ge()}else Oe=Ue=F(Oe);et.startContainer=Oe.parentNode?Oe.parentNode:Oe,et.startOffset=C.nodeIndex(Oe),et.endContainer=Ue.parentNode?Ue.parentNode:Ue,et.endOffset=C.nodeIndex(Ue)+1}_2(C,et,Je=>{he(Je,Q)})};if(i){if(W0(i)){const pe=C.createRng();pe.setStartBefore(i),pe.setEndAfter(i),Se(pe)}else Se(i);cR(e,t,i,o);return}!A.isCollapsed()||!ha(h)||qf(e).length?(sA(e,()=>U0(e,Se),pe=>ha(h)&&qp(e,t,o,pe)),e.nodeChanged()):Z3(e,t,o,c),a4(e,t,o),cR(e,t,i,o)},Qp=(e,t,o,i,c)=>{(i||e.selection.isEditable())&&Dh(e,t,o,i,c)},ev=(e,t,o,i,c)=>l4(e,t,o,i,c).fold(fn,m=>(e.dom.rename(i,m),!0),kn),Ak=Xt.each,u4=(e,t,o,i)=>{const c=m=>{if(cu(m)&&An(m.parentNode)&&e.isEditable(m)){const h=lA(e,m.parentNode);e.getStyle(m,"color")&&h?e.setStyle(m,"text-decoration",h):e.getStyle(m,"text-decoration")===h&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Xt.walk(i,c,"childNodes"),c(i))},_N=(e,t,o,i)=>{if(t.styles&&t.styles.backgroundColor){const c=o4(e,"fontSize");iw(i,m=>c(m)&&e.isEditable(m),Su(e,"backgroundColor",yh(t.styles.backgroundColor,o)))}},F7=(e,t,o,i)=>{if(ha(t)&&(t.inline==="sub"||t.inline==="sup")){const c=o4(e,"fontSize");iw(i,h=>c(h)&&e.isEditable(h),Su(e,"fontSize",""));const m=vt(e.select(t.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},kN=(e,t,o,i)=>{Ak(t,c=>{ha(c)&&Ak(e.dom.select(c.inline,i),m=>{wk(m)&&ev(e,c,o,m,c.exact?m:null)}),bN(e.dom,c,i)})},SN=(e,t,o,i,c)=>{const m=c.parentNode;mg(e,m,o,i)&&ev(e,t,i,c)||t.merge_with_parents&&m&&e.dom.getParent(m,h=>mg(e,h,o,i)?(ev(e,t,i,c),!0):!1)},cw=Xt.each,EN=(e,t,o,i)=>{if(R8(e)&&ha(t)&&o.parentNode){const c=s0(e.schema),m=Bv(ze.fromDom(o),h=>wu(h.dom));return Kl(c,i)&&ac(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},AN=(e,t,o,i)=>{if(cw(o.styles,(c,m)=>{e.setStyle(t,m,yh(c,i))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},V7=(e,t,o,i)=>{const c=e.formatter.get(t),m=c[0],h=!i&&e.selection.isCollapsed(),C=e.dom,A=e.selection,F=(Se,pe=m)=>{Fe(pe.onformat)&&pe.onformat(Se,pe,o,i),AN(C,Se,pe,o),cw(pe.attributes,(Oe,Ue)=>{C.setAttrib(Se,Ue,yh(Oe,o))}),cw(pe.classes,Oe=>{const Ue=yh(Oe,o);C.hasClass(Se,Ue)||C.addClass(Se,Ue)})},K=(Se,pe)=>{let Oe=!1;return cw(Se,Ue=>Uc(Ue)?C.getContentEditable(pe)==="false"&&!Ue.ceFalseOverride||Ee(Ue.collapsed)&&Ue.collapsed!==h?!0:C.is(pe,Ue.selector)&&!wu(pe)?(F(pe,Ue),Oe=!0,!1):!0:!1),Oe},Y=Se=>{if(Ce(Se)){const pe=C.create(Se);return F(pe),pe}else return null},Q=(Se,pe,Oe)=>{const Ue=[];let et=!0;const Je=m.inline||m.block,dt=Y(Je),Bt=Et=>J5(m)&&mg(e,Et,t,o),Yt=(Et,bt,Nt)=>{const Cn=Q5(m)&&l_(e.schema,Et)&&Ip(e,bt,Je);return Nt&&Cn},pn=(Et,bt,Nt,Cn)=>{const Hn=Et.nodeName.toLowerCase(),Po=Ip(e,Je,Hn)&&Ip(e,bt,Je),$o=!Oe&&Ut(Et)&&zc(Et.data),Ir=wu(Et),Ur=!ha(m)||!Se.isBlock(Et);return(Nt||Cn)&&Po&&!$o&&!Ir&&Ur};_2(Se,pe,Et=>{let bt;const Nt=Cn=>{let Hn=!1,Po=et,$o=!1;const Ir=Cn.parentNode,Ur=Ir.nodeName.toLowerCase(),ui=Se.getContentEditable(Cn);Ee(ui)&&(Po=et,et=ui==="true",Hn=!0,$o=aA(e,Cn));const Al=et&&!Hn;if(ps(Cn)&&!EN(e,m,Cn,Ur)){bt=null,Yf(m)&&Se.remove(Cn);return}if(Bt(Cn)){bt=null;return}if(Yt(Cn,Ur,Al)){const Yr=Se.rename(Cn,Je);F(Yr),Ue.push(Yr),bt=null;return}if(Uc(m)){let Yr=K(c,Cn);if(!Yr&&Ee(Ir)&&d_(m)&&(Yr=K(c,Ir)),!ha(m)||Yr){bt=null;return}}Ee(dt)&&pn(Cn,Ur,Al,$o)?(bt||(bt=Se.clone(dt,!1),Ir.insertBefore(bt,Cn),Ue.push(bt)),$o&&Hn&&(et=Po),bt.appendChild(Cn)):(bt=null,he(bo(Cn.childNodes),Nt),Hn&&(et=Po),bt=null)};he(Et,Nt)}),m.links===!0&&he(Ue,Et=>{const bt=Nt=>{Nt.nodeName==="A"&&F(Nt,m),he(bo(Nt.childNodes),bt)};bt(Et)}),he(Ue,Et=>{const bt=Hn=>{let Po=0;return he(Hn.childNodes,$o=>{!sF($o)&&!Cu($o)&&Po++}),Po},Nt=Hn=>cn(Hn.childNodes,a_).filter($o=>Se.getContentEditable($o)!=="false"&&yk(Se,$o,m)).map($o=>{const Ir=Se.clone($o,!1);return F(Ir),Se.replace(Ir,Hn,!0),Se.remove($o,!0),Ir}).getOr(Hn),Cn=bt(Et);if((Ue.length>1||!Se.isBlock(Et))&&Cn===0){Se.remove(Et,!0);return}(ha(m)||Yf(m)&&m.wrapper)&&(!m.exact&&Cn===1&&(Et=Nt(Et)),kN(e,c,o,Et),SN(e,m,t,o,Et),_N(Se,m,o,Et),u4(Se,m,o,Et),F7(Se,m,o,Et),Ck(e,m,o,Et))})},ge=W0(i)?i:A.getNode();if(C.getContentEditable(ge)==="false"&&!aA(e,ge)){i=ge,K(c,i),lR(e,t,i,o);return}if(m){if(i)if(W0(i)){if(!K(c,i)){const Se=C.createRng();Se.setStartBefore(i),Se.setEndAfter(i),Q(C,Pp(C,Se,c),!0)}}else Q(C,i,!0);else!h||!ha(m)||qf(e).length?(A.setRng(lk(A.getRng())),sA(e,()=>{U0(e,(Se,pe)=>{const Oe=pe?Se:Pp(C,Se,c);Q(C,Oe,!1)})},kn),e.nodeChanged()):Oh(e,t,o),ly(e.formatter,t).each(Se=>{he(vN(e.selection),pe=>AN(C,pe,Se,o))});gN(t,e)}lR(e,t,i,o)},TN=(e,t,o,i)=>{(i||e.selection.isEditable())&&V7(e,t,o,i)},Jl=e=>ao(e,"vars"),ON=(e,t)=>{e.set({}),t.on("NodeChange",o=>{f4(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const i=J.from(o.node).map(c=>W0(c)?c:c.startContainer).bind(c=>An(c)?J.some(c):J.from(c.parentElement)).getOrThunk(()=>cy(t));f4(t,i,e.get())})},cy=e=>e.selection.getStart(),DN=(e,t,o,i,c)=>wn(t,C=>{const A=e.formatter.matchNode(C,o,c??{},i);return!Me(A)},C=>L3(e,C,o)?!0:i?!1:Ee(e.formatter.matchNode(C,o,c,!0))),d4=(e,t)=>{const o=t??cy(e);return vt(y2(e.dom,o),i=>An(i)&&!Af(i))},f4=(e,t,o)=>{const i=d4(e,t);ar(o,(c,m)=>{const h=C=>{const A=DN(e,i,m,C.similar,Jl(C)?C.vars:void 0),F=A.isSome();if(C.state.get()!==F){C.state.set(F);const K=A.getOr(t);Jl(C)?C.callback(F,{node:K,format:m,parents:i}):he(C.callbacks,Y=>Y(F,{node:K,format:m,parents:i}))}};he([c.withSimilar,c.withoutSimilar],h),he(c.withVars,h)})},m4=(e,t,o,i,c,m)=>{const h=t.get();he(o.split(","),C=>{const A=Dr(h,C).getOrThunk(()=>{const K={withSimilar:{state:Ri(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ri(!1),similar:!1,callbacks:[]},withVars:[]};return h[C]=K,K}),F=()=>{const K=d4(e);return DN(e,K,C,c,m).isSome()};if(Me(m)){const K=c?A.withSimilar:A.withoutSimilar;K.callbacks.push(i),K.callbacks.length===1&&K.state.set(F())}else A.withVars.push({state:Ri(F()),similar:c,vars:m,callback:i})}),t.set(h)},RN=(e,t,o)=>{const i=e.get();he(t.split(","),c=>Dr(i,c).each(m=>{i[c]={withSimilar:{...m.withSimilar,callbacks:vt(m.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:vt(m.withoutSimilar.callbacks,h=>h!==o)},withVars:vt(m.withVars,h=>h.callback!==o)}})),e.set(i)},z7=(e,t,o,i,c,m)=>(m4(e,t,o,i,c,m),{unbind:()=>RN(t,o,i)}),H7=(e,t,o,i)=>{const c=e.formatter.get(t);c&&(qp(e,t,o,i)&&(!("toggle"in c[0])||c[0].toggle)?Qp(e,t,o,i):TN(e,t,o,i))},IN=Xt.explode,Tk=()=>{const e={};return{addFilter:(c,m)=>{he(IN(c),h=>{ao(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(m)})},getFilters:()=>Bu(e),removeFilter:(c,m)=>{he(IN(c),h=>{if(ao(e,h))if(Ee(m)){const C=e[h],A=vt(C.callbacks,F=>F!==m);A.length>0?C.callbacks=A:delete e[h]}else delete e[h]})}}},$7=(e,t)=>{he(t,o=>{e.attr(o,null)})},U7=(e,t,o)=>{e.addNodeFilter("font",i=>{he(i,c=>{const m=t.parse(c.attr("style")),h=c.attr("color"),C=c.attr("face"),A=c.attr("size");h&&(m.color=h),C&&(m["font-family"]=C),A&&un(A).each(F=>{m["font-size"]=o[F-1]}),c.name="span",c.attr("style",t.serialize(m)),$7(c,["color","face","size"])})})},NN=(e,t,o)=>{e.addNodeFilter("strike",i=>{const c=t.type!=="html4";he(i,m=>{if(c)m.name="s";else{const h=o.parse(m.attr("style"));h["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(h))}})})},W7=(e,t,o)=>{var i;const c=Ax();t.convert_fonts_to_spans&&U7(e,c,Xt.explode((i=t.font_size_legacy_values)!==null&&i!==void 0?i:"")),NN(e,o,c)},Z7=(e,t,o)=>{t.inline_styles&&W7(e,t,o)},g4=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Ok=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Dk=e=>{const[t,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const m=c[2]===";base64",h=m?Ok(i):decodeURIComponent(i);return J.some({type:c[1],data:h,base64Encoded:m})}else return J.none()},h4=(e,t,o=!0)=>{let i=t;if(o)try{i=atob(t)}catch{return J.none()}const c=new Uint8Array(i.length);for(let m=0;m<c.length;m++)c[m]=i.charCodeAt(m);return J.some(new Blob([c],{type:e}))},p4=e=>new Promise((t,o)=>{Dk(e).bind(({type:i,data:c,base64Encoded:m})=>h4(i,c,m)).fold(()=>o("Invalid data URI"),t)}),j7=e=>cs(e,"blob:")?g4(e):cs(e,"data:")?p4(e):Promise.reject("Unknown URI format"),PN=e=>new Promise((t,o)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let K7=0;const t1=e=>"blobid"+K7++,MN=(e,t,o)=>Dk(e).bind(({data:i,type:c,base64Encoded:m})=>{if(t&&!m)return J.none();{const h=m?i:btoa(i);return o(h,c)}}),uw=(e,t,o)=>{const i=e.create(t1(),t,o);return e.add(i),i},BN=(e,t,o=!1)=>MN(t,o,(i,c)=>J.from(e.getByData(i,c)).orThunk(()=>h4(c,i).map(m=>uw(e,m,i)))),v4=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(cs(t,"blob:")){const i=e.getByUri(t);return Ee(i)?Promise.resolve(i):j7(t).then(c=>PN(c).then(m=>MN(m,!1,h=>J.some(uw(e,c,h))).getOrThunk(o)))}else return cs(t,"data:")?BN(e,t).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},LN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,FN=e=>J.from(e.match(LN)).bind(t=>As(t,1)).map(t=>cs(t,"www.")?t.substring(4):t),b4=(e,t)=>{J.from(e.attr("src")).bind(FN).forall(o=>!ie(t,o))&&e.attr("sandbox","")},uy=(e,t)=>cs(e,`${t}/`),G7=e=>Me(e)?"iframe":uy(e,"image")?"img":uy(e,"video")?"video":uy(e,"audio")?"audio":"iframe",q7=({type:e,src:t,width:o,height:i}={},c,m)=>{const h=G7(e),C=new Da(h,1);return C.attr(h==="audio"?{src:t}:{src:t,width:o,height:i}),(h==="audio"||h==="video")&&C.attr("controls",""),h==="iframe"&&c&&b4(C,m),C},y4=e=>Ee(e.attr("data-mce-bogus")),VN=e=>e.attr("src")===Fo.transparentSrc||Ee(e.attr("data-mce-placeholder")),Y7=(e,t)=>{const{blob_cache:o}=t;if(o){const i=c=>{const m=c.attr("src");VN(c)||y4(c)||Xe(m)||BN(o,m,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>he(c,i))}},X7=(e,t)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",A=>{let F=A.length;const K=Q=>Q.split(" ").filter(Se=>Se.length>0).concat(["noopener"]).sort().join(" "),Y=Q=>{const ge=Q?Xt.trim(Q):"";return/\b(noopener)\b/g.test(ge)?ge:K(ge)};if(!t.allow_unsafe_link_target)for(;F--;){const Q=A[F];Q.name==="a"&&Q.attr("target")==="_blank"&&Q.attr("rel",Y(Q.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let F=A.length,K,Y,Q,ge;for(;F--;)if(ge=A[F],ge.name==="a"&&ge.firstChild&&!ge.attr("href"))for(Q=ge.parent,K=ge.lastChild;K&&Q;)Y=K.prev,Q.insert(K,ge),K=Y}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let F=A.length,K,Y;for(;F--;)if(K=A[F],Y=K.parent,Y&&(Y.name==="ul"||Y.name==="ol"))if(K.prev&&K.prev.name==="li")K.prev.append(K);else{const Q=new Da("li",1);Q.attr("style","list-style-type: none"),K.wrap(Q)}});const m=c.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",A=>{var F;let K=A.length;for(;K--;){const Y=A[K],Q=(F=Y.attr("class"))!==null&&F!==void 0?F:"",ge=Xt.explode(Q," ");let Se="";for(let pe=0;pe<ge.length;pe++){const Oe=ge[pe];let Ue=!1,et=m["*"];et&&et[Oe]&&(Ue=!0),et=m[Y.name],!Ue&&et&&et[Oe]&&(Ue=!0),Ue&&(Se&&(Se+=" "),Se+=Oe)}Se.length||(Se=null),Y.attr("class",Se)}}),Y7(e,t);const h=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,C=ea((i=t.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>he(A,F=>{F.replace(q7({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},h,C))})),h&&e.addNodeFilter("iframe",A=>he(A,F=>b4(F,C)))},{entries:zN,setPrototypeOf:HN,isFrozen:x4,getPrototypeOf:$N,getOwnPropertyDescriptor:J7}=Object;let{freeze:Gc,seal:bs,create:Q7}=Object,{apply:w4,construct:Rk}=typeof Reflect<"u"&&Reflect;w4||(w4=function(t,o,i){return t.apply(o,i)}),Gc||(Gc=function(t){return t}),bs||(bs=function(t){return t}),Rk||(Rk=function(t,o){return new t(...o)});const C4=gc(Array.prototype.forEach),UN=gc(Array.prototype.pop),Qd=gc(Array.prototype.push),dy=gc(String.prototype.toLowerCase),Ik=gc(String.prototype.toString),_4=gc(String.prototype.match),fd=gc(String.prototype.replace),k4=gc(String.prototype.indexOf),WN=gc(String.prototype.trim),mc=gc(RegExp.prototype.test),tv=dw(TypeError);function gc(e){return function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return w4(e,t,i)}}function dw(e){return function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return Rk(e,o)}}function rr(e,t,o){var i;o=(i=o)!==null&&i!==void 0?i:dy,HN&&HN(e,null);let c=t.length;for(;c--;){let m=t[c];if(typeof m=="string"){const h=o(m);h!==m&&(x4(t)||(t[c]=h),m=h)}e[m]=!0}return e}function hg(e){const t=Q7(null);for(const[o,i]of zN(e))t[o]=i;return t}function fw(e,t){for(;e!==null;){const i=J7(e,t);if(i){if(i.get)return gc(i.get);if(typeof i.value=="function")return gc(i.value)}e=$N(e)}function o(i){return console.warn("fallback value for",i),null}return o}const S4=Gc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E4=Gc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nk=Gc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eV=Gc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A4=Gc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mw=Gc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZN=Gc(["#text"]),jN=Gc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),T4=Gc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KN=Gc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pk=Gc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tV=bs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nV=bs(/<%[\w\W]*|[\w\W]*%>/gm),oV=bs(/\${[\w\W]*}/gm),rV=bs(/^data-[\-\w.\u00B7-\uFFFF]/),sV=bs(/^aria-[\-\w]+$/),GN=bs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qN=bs(/^(?:\w+script|data):/i),YN=bs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),O4=bs(/^html$/i);var D4=Object.freeze({__proto__:null,MUSTACHE_EXPR:tV,ERB_EXPR:nV,TMPLIT_EXPR:oV,DATA_ATTR:rV,ARIA_ATTR:sV,IS_ALLOWED_URI:GN,IS_SCRIPT_OR_DATA:qN,ATTR_WHITESPACE:YN,DOCTYPE_NAME:O4});const XN=()=>typeof window>"u"?null:window,JN=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const m="dompurify"+(i?"#"+i:"");try{return t.createPolicy(m,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function R4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:XN();const t=Zo=>R4(Zo);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:h,Node:C,Element:A,NodeFilter:F,NamedNodeMap:K=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Y,DOMParser:Q,trustedTypes:ge}=e,Se=A.prototype,pe=fw(Se,"cloneNode"),Oe=fw(Se,"nextSibling"),Ue=fw(Se,"childNodes"),et=fw(Se,"parentNode");if(typeof h=="function"){const Zo=c.createElement("template");Zo.content&&Zo.content.ownerDocument&&(c=Zo.content.ownerDocument)}let Je,dt="";const{implementation:Bt,createNodeIterator:Yt,createDocumentFragment:pn,getElementsByTagName:Et}=c,{importNode:bt}=o;let Nt={};t.isSupported=typeof zN=="function"&&typeof et=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Cn,ERB_EXPR:Hn,TMPLIT_EXPR:Po,DATA_ATTR:$o,ARIA_ATTR:Ir,IS_SCRIPT_OR_DATA:Ur,ATTR_WHITESPACE:ui}=D4;let{IS_ALLOWED_URI:Al}=D4,Yr=null;const on=rr({},[...S4,...E4,...Nk,...A4,...ZN]);let Fn=null;const wr=rr({},[...jN,...T4,...KN,...Pk]);let ln=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Yn=null,Ho=null,gn=!0,Mo=!0,Wo=!1,Ra=!0,Hr=!1,ba=!1,rm=!1,zh=!1,vc=!1,pd=!1,sm=!1,vd=!0,im=!1;const Wn="user-content-";let ur=!0,Js=!1,yi={},Xi=null;const cl=rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Li=null;const Fi=rr({},["audio","video","img","source","image","track"]);let bc=null;const _g=rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kg="http://www.w3.org/1998/Math/MathML",Sg="http://www.w3.org/2000/svg",am="http://www.w3.org/1999/xhtml";let Ry=am,wS=!1,CS=null;const RH=rr({},[kg,Sg,am],Ik);let p1;const OB=["application/xhtml+xml","text/html"],hK="text/html";let ec,Kw=null;const pK=c.createElement("form"),IH=function(_t){return _t instanceof RegExp||_t instanceof Function},uv=function(_t){if(!(Kw&&Kw===_t)){if((!_t||typeof _t!="object")&&(_t={}),_t=hg(_t),p1=OB.indexOf(_t.PARSER_MEDIA_TYPE)===-1?p1=hK:p1=_t.PARSER_MEDIA_TYPE,ec=p1==="application/xhtml+xml"?Ik:dy,Yr="ALLOWED_TAGS"in _t?rr({},_t.ALLOWED_TAGS,ec):on,Fn="ALLOWED_ATTR"in _t?rr({},_t.ALLOWED_ATTR,ec):wr,CS="ALLOWED_NAMESPACES"in _t?rr({},_t.ALLOWED_NAMESPACES,Ik):RH,bc="ADD_URI_SAFE_ATTR"in _t?rr(hg(_g),_t.ADD_URI_SAFE_ATTR,ec):_g,Li="ADD_DATA_URI_TAGS"in _t?rr(hg(Fi),_t.ADD_DATA_URI_TAGS,ec):Fi,Xi="FORBID_CONTENTS"in _t?rr({},_t.FORBID_CONTENTS,ec):cl,Yn="FORBID_TAGS"in _t?rr({},_t.FORBID_TAGS,ec):{},Ho="FORBID_ATTR"in _t?rr({},_t.FORBID_ATTR,ec):{},yi="USE_PROFILES"in _t?_t.USE_PROFILES:!1,gn=_t.ALLOW_ARIA_ATTR!==!1,Mo=_t.ALLOW_DATA_ATTR!==!1,Wo=_t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ra=_t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hr=_t.SAFE_FOR_TEMPLATES||!1,ba=_t.WHOLE_DOCUMENT||!1,vc=_t.RETURN_DOM||!1,pd=_t.RETURN_DOM_FRAGMENT||!1,sm=_t.RETURN_TRUSTED_TYPE||!1,zh=_t.FORCE_BODY||!1,vd=_t.SANITIZE_DOM!==!1,im=_t.SANITIZE_NAMED_PROPS||!1,ur=_t.KEEP_CONTENT!==!1,Js=_t.IN_PLACE||!1,Al=_t.ALLOWED_URI_REGEXP||GN,Ry=_t.NAMESPACE||am,ln=_t.CUSTOM_ELEMENT_HANDLING||{},_t.CUSTOM_ELEMENT_HANDLING&&IH(_t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ln.tagNameCheck=_t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_t.CUSTOM_ELEMENT_HANDLING&&IH(_t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ln.attributeNameCheck=_t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_t.CUSTOM_ELEMENT_HANDLING&&typeof _t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ln.allowCustomizedBuiltInElements=_t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hr&&(Mo=!1),pd&&(vc=!0),yi&&(Yr=rr({},[...ZN]),Fn=[],yi.html===!0&&(rr(Yr,S4),rr(Fn,jN)),yi.svg===!0&&(rr(Yr,E4),rr(Fn,T4),rr(Fn,Pk)),yi.svgFilters===!0&&(rr(Yr,Nk),rr(Fn,T4),rr(Fn,Pk)),yi.mathMl===!0&&(rr(Yr,A4),rr(Fn,KN),rr(Fn,Pk))),_t.ADD_TAGS&&(Yr===on&&(Yr=hg(Yr)),rr(Yr,_t.ADD_TAGS,ec)),_t.ADD_ATTR&&(Fn===wr&&(Fn=hg(Fn)),rr(Fn,_t.ADD_ATTR,ec)),_t.ADD_URI_SAFE_ATTR&&rr(bc,_t.ADD_URI_SAFE_ATTR,ec),_t.FORBID_CONTENTS&&(Xi===cl&&(Xi=hg(Xi)),rr(Xi,_t.FORBID_CONTENTS,ec)),ur&&(Yr["#text"]=!0),ba&&rr(Yr,["html","head","body"]),Yr.table&&(rr(Yr,["tbody"]),delete Yn.tbody),_t.TRUSTED_TYPES_POLICY){if(typeof _t.TRUSTED_TYPES_POLICY.createHTML!="function")throw tv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Je=_t.TRUSTED_TYPES_POLICY,dt=Je.createHTML("")}else Je===void 0&&(Je=JN(ge,i)),Je!==null&&typeof dt=="string"&&(dt=Je.createHTML(""));Gc&&Gc(_t),Kw=_t}},TO=rr({},["mi","mo","mn","ms","mtext"]),ht=rr({},["foreignobject","desc","title","annotation-xml"]),yt=rr({},["title","style","font","a","script"]),en=rr({},E4);rr(en,Nk),rr(en,eV);const qt=rr({},A4);rr(qt,mw);const to=function(_t){let Pn=et(_t);(!Pn||!Pn.tagName)&&(Pn={namespaceURI:Ry,tagName:"template"});const go=dy(_t.tagName),Ei=dy(Pn.tagName);return CS[_t.namespaceURI]?_t.namespaceURI===Sg?Pn.namespaceURI===am?go==="svg":Pn.namespaceURI===kg?go==="svg"&&(Ei==="annotation-xml"||TO[Ei]):!!en[go]:_t.namespaceURI===kg?Pn.namespaceURI===am?go==="math":Pn.namespaceURI===Sg?go==="math"&&ht[Ei]:!!qt[go]:_t.namespaceURI===am?Pn.namespaceURI===Sg&&!ht[Ei]||Pn.namespaceURI===kg&&!TO[Ei]?!1:!qt[go]&&(yt[go]||!en[go]):!!(p1==="application/xhtml+xml"&&CS[_t.namespaceURI]):!1},er=function(_t){Qd(t.removed,{element:_t});try{_t.parentNode.removeChild(_t)}catch{_t.remove()}},Qs=function(_t,Pn){try{Qd(t.removed,{attribute:Pn.getAttributeNode(_t),from:Pn})}catch{Qd(t.removed,{attribute:null,from:Pn})}if(Pn.removeAttribute(_t),_t==="is"&&!Fn[_t])if(vc||pd)try{er(Pn)}catch{}else try{Pn.setAttribute(_t,"")}catch{}},Eg=function(_t){let Pn,go;if(zh)_t="<remove></remove>"+_t;else{const Ag=_4(_t,/^[\r\n\t ]+/);go=Ag&&Ag[0]}p1==="application/xhtml+xml"&&Ry===am&&(_t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_t+"</body></html>");const Ei=Je?Je.createHTML(_t):_t;if(Ry===am)try{Pn=new Q().parseFromString(Ei,p1)}catch{}if(!Pn||!Pn.documentElement){Pn=Bt.createDocument(Ry,"template",null);try{Pn.documentElement.innerHTML=wS?dt:Ei}catch{}}const yc=Pn.body||Pn.documentElement;return _t&&go&&yc.insertBefore(c.createTextNode(go),yc.childNodes[0]||null),Ry===am?Et.call(Pn,ba?"html":"body")[0]:ba?Pn.documentElement:yc},DB=function(_t){return Yt.call(_t.ownerDocument||_t,_t,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},lce=function(_t){return _t instanceof Y&&(typeof _t.nodeName!="string"||typeof _t.textContent!="string"||typeof _t.removeChild!="function"||!(_t.attributes instanceof K)||typeof _t.removeAttribute!="function"||typeof _t.setAttribute!="function"||typeof _t.namespaceURI!="string"||typeof _t.insertBefore!="function"||typeof _t.hasChildNodes!="function")},RB=function(_t){return typeof C=="object"?_t instanceof C:_t&&typeof _t=="object"&&typeof _t.nodeType=="number"&&typeof _t.nodeName=="string"},v1=function(_t,Pn,go){Nt[_t]&&C4(Nt[_t],Ei=>{Ei.call(t,Pn,go,Kw)})},vK=function(_t){let Pn;if(v1("beforeSanitizeElements",_t,null),lce(_t))return er(_t),!0;const go=ec(_t.nodeName);if(v1("uponSanitizeElement",_t,{tagName:go,allowedTags:Yr}),_t.hasChildNodes()&&!RB(_t.firstElementChild)&&(!RB(_t.content)||!RB(_t.content.firstElementChild))&&mc(/<[/\w]/g,_t.innerHTML)&&mc(/<[/\w]/g,_t.textContent))return er(_t),!0;if(!Yr[go]||Yn[go]){if(!Yn[go]&&yK(go)&&(ln.tagNameCheck instanceof RegExp&&mc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go)))return!1;if(ur&&!Xi[go]){const Ei=et(_t)||_t.parentNode,yc=Ue(_t)||_t.childNodes;if(yc&&Ei){const Ag=yc.length;for(let Ka=Ag-1;Ka>=0;--Ka)Ei.insertBefore(pe(yc[Ka],!0),Oe(_t))}}return er(_t),!0}return _t instanceof A&&!to(_t)||(go==="noscript"||go==="noembed"||go==="noframes")&&mc(/<\/no(script|embed|frames)/i,_t.innerHTML)?(er(_t),!0):(Hr&&_t.nodeType===3&&(Pn=_t.textContent,Pn=fd(Pn,Cn," "),Pn=fd(Pn,Hn," "),Pn=fd(Pn,Po," "),_t.textContent!==Pn&&(Qd(t.removed,{element:_t.cloneNode()}),_t.textContent=Pn)),v1("afterSanitizeElements",_t,null),!1)},bK=function(_t,Pn,go){if(vd&&(Pn==="id"||Pn==="name")&&(go in c||go in pK))return!1;if(!(Mo&&!Ho[Pn]&&mc($o,Pn))){if(!(gn&&mc(Ir,Pn))){if(!Fn[Pn]||Ho[Pn]){if(!(yK(_t)&&(ln.tagNameCheck instanceof RegExp&&mc(ln.tagNameCheck,_t)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(_t))&&(ln.attributeNameCheck instanceof RegExp&&mc(ln.attributeNameCheck,Pn)||ln.attributeNameCheck instanceof Function&&ln.attributeNameCheck(Pn))||Pn==="is"&&ln.allowCustomizedBuiltInElements&&(ln.tagNameCheck instanceof RegExp&&mc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go))))return!1}else if(!bc[Pn]){if(!mc(Al,fd(go,ui,""))){if(!((Pn==="src"||Pn==="xlink:href"||Pn==="href")&&_t!=="script"&&k4(go,"data:")===0&&Li[_t])){if(!(Wo&&!mc(Ur,fd(go,ui,"")))){if(go)return!1}}}}}}return!0},yK=function(_t){return _t.indexOf("-")>0},xK=function(_t){let Pn,go,Ei,yc;v1("beforeSanitizeAttributes",_t,null);const{attributes:Ag}=_t;if(!Ag)return;const Ka={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fn};for(yc=Ag.length;yc--;){Pn=Ag[yc];const{name:Tg,namespaceURI:NH}=Pn;go=Tg==="value"?Pn.value:WN(Pn.value);const uce=go;if(Ei=ec(Tg),Ka.attrName=Ei,Ka.attrValue=go,Ka.keepAttr=!0,Ka.forceKeepAttr=void 0,v1("uponSanitizeAttribute",_t,Ka),go=Ka.attrValue,Ka.forceKeepAttr)continue;if(!Ka.keepAttr){Qs(Tg,_t);continue}if(!Ra&&mc(/\/>/i,go)){Qs(Tg,_t);continue}Hr&&(go=fd(go,Cn," "),go=fd(go,Hn," "),go=fd(go,Po," "));const wK=ec(_t.nodeName);if(!bK(wK,Ei,go)){Qs(Tg,_t);continue}if(im&&(Ei==="id"||Ei==="name")&&(Qs(Tg,_t),go=Wn+go),Je&&typeof ge=="object"&&typeof ge.getAttributeType=="function"&&!NH)switch(ge.getAttributeType(wK,Ei)){case"TrustedHTML":{go=Je.createHTML(go);break}case"TrustedScriptURL":{go=Je.createScriptURL(go);break}}if(go!==uce)try{NH?_t.setAttributeNS(NH,Tg,go):_t.setAttribute(Tg,go)}catch{Qs(Tg,_t)}}v1("afterSanitizeAttributes",_t,null)},cce=function Zo(_t){let Pn;const go=DB(_t);for(v1("beforeSanitizeShadowDOM",_t,null);Pn=go.nextNode();)v1("uponSanitizeShadowNode",Pn,null),!vK(Pn)&&(Pn.content instanceof m&&Zo(Pn.content),xK(Pn));v1("afterSanitizeShadowDOM",_t,null)};return t.sanitize=function(Zo){let _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pn,go,Ei,yc;if(wS=!Zo,wS&&(Zo="<!-->"),typeof Zo!="string"&&!RB(Zo))if(typeof Zo.toString=="function"){if(Zo=Zo.toString(),typeof Zo!="string")throw tv("dirty is not a string, aborting")}else throw tv("toString is not a function");if(!t.isSupported)return Zo;if(rm||uv(_t),t.removed=[],typeof Zo=="string"&&(Js=!1),Js){if(Zo.nodeName){const Tg=ec(Zo.nodeName);if(!Yr[Tg]||Yn[Tg])throw tv("root node is forbidden and cannot be sanitized in-place")}}else if(Zo instanceof C)Pn=Eg("<!---->"),go=Pn.ownerDocument.importNode(Zo,!0),go.nodeType===1&&go.nodeName==="BODY"||go.nodeName==="HTML"?Pn=go:Pn.appendChild(go);else{if(!vc&&!Hr&&!ba&&Zo.indexOf("<")===-1)return Je&&sm?Je.createHTML(Zo):Zo;if(Pn=Eg(Zo),!Pn)return vc?null:sm?dt:""}Pn&&zh&&er(Pn.firstChild);const Ag=DB(Js?Zo:Pn);for(;Ei=Ag.nextNode();)vK(Ei)||(Ei.content instanceof m&&cce(Ei.content),xK(Ei));if(Js)return Zo;if(vc){if(pd)for(yc=pn.call(Pn.ownerDocument);Pn.firstChild;)yc.appendChild(Pn.firstChild);else yc=Pn;return(Fn.shadowroot||Fn.shadowrootmode)&&(yc=bt.call(o,yc,!0)),yc}let Ka=ba?Pn.outerHTML:Pn.innerHTML;return ba&&Yr["!doctype"]&&Pn.ownerDocument&&Pn.ownerDocument.doctype&&Pn.ownerDocument.doctype.name&&mc(O4,Pn.ownerDocument.doctype.name)&&(Ka="<!DOCTYPE "+Pn.ownerDocument.doctype.name+`>
`+Ka),Hr&&(Ka=fd(Ka,Cn," "),Ka=fd(Ka,Hn," "),Ka=fd(Ka,Po," ")),Je&&sm?Je.createHTML(Ka):Ka},t.setConfig=function(Zo){uv(Zo),rm=!0},t.clearConfig=function(){Kw=null,rm=!1},t.isValidAttribute=function(Zo,_t,Pn){Kw||uv({});const go=ec(Zo),Ei=ec(_t);return bK(go,Ei,Pn)},t.addHook=function(Zo,_t){typeof _t=="function"&&(Nt[Zo]=Nt[Zo]||[],Qd(Nt[Zo],_t))},t.removeHook=function(Zo){if(Nt[Zo])return UN(Nt[Zo])},t.removeHooks=function(Zo){Nt[Zo]&&(Nt[Zo]=[])},t.removeAllHooks=function(){Nt={}},t}var I4=R4();const QN=Xt.each,eP=Xt.trim,iV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],aV={ftp:21,http:80,https:443,mailto:25},tP=["img","video"],nP=(e,t)=>Ee(e)?!e:Ee(t)?!ie(tP,t):!0,lV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},N4=(e,t,o)=>{const i=lV(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?nP(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class md{static parseDataUri(t){let o;const i=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(t,o,i={}){if(i.allow_script_urls)return!0;{const c=Qg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!N4(i,c,o)}}static getDocumentBaseUrl(t){var o;let i;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?i=(o=t.href)!==null&&o!==void 0?o:"":i=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(t,o={}){this.path="",this.directory="",t=eP(t),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=i?i.path:new md(document.location.href).directory;if((i==null?void 0:i.protocol)==="")t="//mce_host"+c.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);h&&QN(iV,(C,A)=>{let F=h[A];F&&(F=F.replace(/\(mce_at\)/g,"@@")),c[C]=F}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),m&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new md(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const i=new md(t,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?aV[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let i=0,c="",m,h;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(C.length>=A.length){for(m=0,h=C.length;m<h;m++)if(m>=A.length||C[m]!==A[m]){i=m+1;break}}if(C.length<A.length){for(m=0,h=A.length;m<h;m++)if(m>=C.length||C[m]!==A[m]){i=m+1;break}}if(i===1)return o;for(m=0,h=C.length-(i-1);m<h;m++)c+="../";for(m=i-1,h=A.length;m<h;m++)m!==i-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(t,o){let i=0;const c=/\/$/.test(o)?"/":"",m=t.split("/"),h=o.split("/"),C=[];QN(m,Y=>{Y&&C.push(Y)});const A=[];for(let Y=h.length-1;Y>=0;Y--)if(!(h[Y].length===0||h[Y]===".")){if(h[Y]===".."){i++;continue}if(i>0){i--;continue}A.push(h[Y])}const F=C.length-i;let K;return F<=0?K=Uo(A).join("/"):K=C.slice(0,F).join("/")+"/"+Uo(A).join("/"),K.indexOf("/")!==0&&(K="/"+K),c&&K.lastIndexOf("/")!==K.length-1&&(K+=c),K}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const cV=Xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),P4="data-mce-type";let oP=0;const rP=(e,t,o,i,c)=>{var m,h,C,A;const F=t.validate,K=o.getSpecialElements();e.nodeType===vf&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const Y=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){Ee(c)&&(c.allowedTags[Y]=!0);return}if(e.nodeType!==pl||Y==="body")return;const Q=ze.fromDom(e),ge=Od(Q,P4),Se=Sa(Q,"data-mce-bogus");if(!ge&&Ce(Se)){Se==="all"?Rr(Q):za(Q);return}const pe=o.getElementRule(Y);if(F&&!pe){ao(K,Y)?Rr(Q):za(Q);return}else Ee(c)&&(c.allowedTags[Y]=!0);if(F&&pe&&!ge){if(he((C=pe.attributesForced)!==null&&C!==void 0?C:[],Oe=>{xi(Q,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),he((A=pe.attributesDefault)!==null&&A!==void 0?A:[],Oe=>{Od(Q,Oe.name)||xi(Q,Oe.name,Oe.value==="{$uid}"?`mce_${oP++}`:Oe.value)}),pe.attributesRequired&&!be(pe.attributesRequired,Oe=>Od(Q,Oe))){za(Q);return}if(pe.removeEmptyAttrs&&ai(Q)){za(Q);return}pe.outputName&&pe.outputName!==Y&&Fx(Q,pe.outputName)}},uV=(e,t,o,i,c)=>{const m=e.tagName.toLowerCase(),{attrName:h,attrValue:C}=c;c.keepAttr=gw(t,o,i,m,h,C),c.keepAttr?(c.allowedAttributes[h]=!0,B4(h,o)&&(c.attrValue=h),t.allow_svg_data_urls&&cs(C,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):M4(e,h)&&(c.forceKeepAttr=!0)},gw=(e,t,o,i,c,m)=>o!=="html"&&!Lm(i)?!0:!(c in cV&&N4(e,m,i))&&(!e.validate||t.isValid(i,c)||cs(c,"data-")||cs(c,"aria-")),M4=(e,t)=>e.hasAttribute(P4)&&(t==="id"||t==="class"||t==="style"),B4=(e,t)=>e in t.getBoolAttrs(),sP=(e,t,o,i)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const h=c[m],C=h.name,A=h.value;!gw(t,o,i,e.tagName.toLowerCase(),C,A)&&!M4(e,C)?e.removeAttribute(C):B4(C,o)&&e.setAttribute(C,C)}},dV=(e,t,o)=>{const i=I4();return i.addHook("uponSanitizeElement",(c,m)=>{rP(c,e,t,o.track(c),m)}),i.addHook("uponSanitizeAttribute",(c,m)=>{uV(c,e,t,o.current(),m)}),i},fV=(e,t)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=t,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},iP=e=>{const t=CC(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};I4().sanitize(e,i)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};I4().sanitize(e,o)}else throw new Error("Not a namespace element")},mV=(e,t)=>{const o=lE();if(e.sanitize){const i=dV(e,t,o);return{sanitizeHtmlElement:(m,h)=>{i.sanitize(m,fV(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:iP}}else return{sanitizeHtmlElement:(m,h)=>{const C=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const F=o.track(A);rP(A,e,t,F),An(A)&&sP(A,e,t,F)}o.reset()},sanitizeNamespaceElement:ct}},Mk=Xt.makeMap,L4=Xt.extend,aP=(e,t,o,i)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",h=t.childNodes;for(let C=0,A=h.length;C<A;C++){const F=h[C],K=new Da(F.nodeName.toLowerCase(),F.nodeType);if(An(F)){const Y=F.attributes;for(let Q=0,ge=Y.length;Q<ge;Q++){const Se=Y[Q];K.attr(Se.name,Se.value)}Lm(K.name)&&(i(F),K.value=F.innerHTML)}else Ut(F)?(K.value=F.data,m&&(K.raw=!0)):(Ao(F)||lx(F)||Tf(F))&&(K.value=F.data);Lm(K.name)||aP(K,F,o,i),e.append(K)}},pa=(e,t,o)=>{const i=[];for(let c=e,m=c;c;m=c,c=c.walk()){const h=c;he(t,C=>C(h)),Xe(h.parent)&&h!==e?c=m:i.push(h)}for(let c=i.length-1;c>=0;c--){const m=i[c];he(o,h=>h(m))}},pg=(e,t,o,i)=>{const c=o.validate,m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=L4(Mk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=s0(t),F=/[ \t\r\n]+/g,K=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/,Q=et=>{let Je=et.parent;for(;Ee(Je);){if(Je.name in h)return!0;Je=Je.parent}return!1},ge=et=>{let Je=et;for(;Ee(Je);){if(Je.name in A)return iy(t,m,h,Je);Je=Je.parent}return!1},Se=et=>et.name in C||hp(t,et)||Lm(et.name)&&et.parent===e,pe=(et,Je)=>{const dt=Je?et.prev:et.next;return Ee(dt)||Xe(et.parent)?!1:Se(et.parent)&&(et.parent!==e||i.isRootContent===!0)};return[et=>{var Je;if(et.type===3&&!Q(et)){let dt=(Je=et.value)!==null&&Je!==void 0?Je:"";dt=dt.replace(F," "),(KI(et.prev,Se)||pe(et,!0))&&(dt=dt.replace(K,"")),dt.length===0||dt===" "&&et.prev&&et.prev.type===vf&&et.next&&et.next.type===vf?et.remove():et.value=dt}},et=>{var Je;if(et.type===1){const dt=t.getElementRule(et.name);if(c&&dt){const Bt=iy(t,m,h,et);dt.paddInEmptyBlock&&Bt&&ge(et)?ik(o,i,Se,et):dt.removeEmpty&&Bt?Se(et)?et.remove():et.unwrap():dt.paddEmpty&&(Bt||ak(et))&&ik(o,i,Se,et)}}else if(et.type===3&&!Q(et)){let dt=(Je=et.value)!==null&&Je!==void 0?Je:"";(et.next&&Se(et.next)||pe(et,!1))&&(dt=dt.replace(Y,"")),dt.length===0?et.remove():et.value=dt}}]},gV=(e,t)=>{var o;const i=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},fy=(e={},t=Bc())=>{const o=Tk(),i=Tk(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,h=mV(c,t),C=(Je,dt,Bt="html")=>{const Yt=Bt==="xhtml"?"application/xhtml+xml":"text/html",pn=ao(t.getSpecialElements(),dt.toLowerCase()),Et=pn?`<${dt}>${Je}</${dt}>`:Je,bt=()=>Bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Et}</body></html>`:/^[\s]*<head/i.test(Je)||/^[\s]*<html/i.test(Je)||/^[\s]*<!DOCTYPE/i.test(Je)?`<html>${Et}</html>`:`<body>${Et}</body>`,Nt=m.parseFromString(bt(),Yt).body;return h.sanitizeHtmlElement(Nt,Yt),pn?Nt.firstChild:Nt},A=o.addFilter,F=o.getFilters,K=o.removeFilter,Y=i.addFilter,Q=i.getFilters,ge=i.removeFilter,Se=(Je,dt)=>{nw(t,Je)&&dt.push(Je)},pe=(Je,dt)=>{const Bt=Ce(dt.attr(P4)),Yt=dt.type===1&&!ao(Je,dt.name)&&!hp(t,dt)&&!Lm(dt.name);return dt.type===3||Yt&&!Bt},Oe=(Je,dt)=>{const Bt=L4(Mk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Yt=/^[ \t\r\n]+/,pn=/[ \t\r\n]+$/;let Et=Je.firstChild,bt=null;const Nt=Cn=>{var Hn,Po;Cn&&(Et=Cn.firstChild,Et&&Et.type===3&&(Et.value=(Hn=Et.value)===null||Hn===void 0?void 0:Hn.replace(Yt,"")),Et=Cn.lastChild,Et&&Et.type===3&&(Et.value=(Po=Et.value)===null||Po===void 0?void 0:Po.replace(pn,"")))};if(t.isValidChild(Je.name,dt.toLowerCase())){for(;Et;){const Cn=Et.next;pe(Bt,Et)?(bt||(bt=new Da(dt,1),bt.attr(c.forced_root_block_attrs),Je.insert(bt,Et)),bt.append(Et)):(Nt(bt),bt=null),Et=Cn}Nt(bt)}},et={schema:t,addAttributeFilter:Y,getAttributeFilters:Q,removeAttributeFilter:ge,addNodeFilter:A,getNodeFilters:F,removeNodeFilter:K,parse:(Je,dt={})=>{var Bt;const Yt=c.validate,pn=(Bt=dt.context)!==null&&Bt!==void 0?Bt:c.root_name,Et=C(Je,pn,dt.format);Gs(t,Et);const bt=new Da(pn,11);aP(bt,Et,t.getSpecialElements(),h.sanitizeNamespaceElement),Et.innerHTML="";const[Nt,Cn]=pg(bt,t,c,dt),Hn=[],Po=Yt?ui=>Se(ui,Hn):ct,$o={nodes:{},attributes:{}},Ir=ui=>S3(F(),Q(),ui,$o);if(pa(bt,[Nt,Ir],[Cn,Po]),Hn.reverse(),Yt&&Hn.length>0)if(dt.context){const{pass:ui,fail:Al}=zt(Hn,Yr=>Yr.parent===bt);ku(Al,t,bt,Ir),dt.invalid=ui.length>0}else ku(Hn,t,bt,Ir);const Ur=gV(c,dt);return Ur&&(bt.name==="body"||dt.isRootContent)&&Oe(bt,Ur),dt.invalid||E3($o,dt),bt}};return X7(et,c),Z7(et,c,t),et},hV=e=>Jb(e)?kh({validate:!1}).serialize(e):e,F4=(e,t,o)=>{const i=hV(e),c=t(i);if(c.isDefaultPrevented())return c;if(Jb(e))if(c.content!==i){const m=fy({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},n1=e=>({sanitize:a5(e),sandbox_iframes:zE(e),sandbox_iframes_exclusions:GC(e)}),lP=(e,t)=>{if(t.no_events)return Jn.value(t);{const o=Xf(e,t);return o.isDefaultPrevented()?Jn.error(uR(e,{content:"",...o}).content):Jn.value(o)}},ef=(e,t,o)=>o.no_events?t:F4(t,c=>uR(e,{...o,content:c}),n1(e)).content,V4=(e,t)=>{if(t.no_events)return Jn.value(t);{const o=F4(t.content,i=>fF(e,{...t,content:i}),n1(e));return o.isDefaultPrevented()?(dc(e,o),Jn.error(void 0)):Jn.value(o)}},z4=(e,t,o)=>{o.no_events||dc(e,{...o,content:t})},Bk=(e,t,o)=>({element:e,width:t,rows:o}),H4=(e,t)=>({element:e,cells:t}),pV=(e,t)=>({x:e,y:t}),Lk=(e,t)=>tu(e,t).bind(un).getOr(1),vg=(e,t,o,i,c)=>{const m=Lk(c,"rowspan"),h=Lk(c,"colspan"),C=e.rows;for(let A=o;A<o+m;A++){C[A]||(C[A]=H4(jm(i),[]));for(let F=t;F<t+h;F++){const K=C[A].cells;K[F]=A===o&&F===t?c:Ys(c)}}},cP=(e,t,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[t]},uP=(e,t,o)=>{for(;cP(e,t,o);)t++;return t},hw=e=>Vt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),Fk=(e,t)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let m=0;m<c.length;m++)if(Xo(c[m],t))return J.some(pV(m,i))}return J.none()},$4=(e,t,o,i,c)=>{const m=[],h=e.rows;for(let C=o;C<=c;C++){const A=h[C].cells,F=t<i?A.slice(t,i+1):A.slice(i,t+1);m.push(H4(h[C].element,F))}return m},dP=(e,t,o)=>{const i=t.x,c=t.y,m=o.x,h=o.y,C=c<h?$4(e,i,c,m,h):$4(e,i,h,m,c);return Bk(e.element,hw(C),C)},fP=(e,t)=>{const o=Ys(e.element),i=ze.fromTag("tbody");return ti(i,t),Zs(o,i),o},vV=e=>Le(e.rows,t=>{const o=Le(t.cells,c=>{const m=jm(c);return Io(m,"colspan"),Io(m,"rowspan"),m}),i=Ys(t.element);return ti(i,o),i}),bV=e=>{const t=Bk(Ys(e),0,[]);return he(pi(e,"tr"),(o,i)=>{he(pi(o,"td,th"),(c,m)=>{vg(t,uP(t,m,i),i,o,c)})}),Bk(t.element,hw(t.rows),t.rows)},yV=e=>fP(e,vV(e)),mP=(e,t,o)=>Fk(e,t).bind(i=>Fk(e,o).map(c=>dP(e,i,c))),gP=e=>cn(e,t=>Yo(t)==="ul"||Yo(t)==="ol"),xV=(e,t)=>cn(e,o=>Yo(o)==="li"&&p2(o,t)).fold(tt([]),o=>gP(e).map(i=>{const c=ze.fromTag(Yo(i)),m=_c(Zg(i),(h,C)=>cs(C,"list-style"));return Go(c,m),[ze.fromTag("li"),c]}).getOr([])),U4=(e,t)=>{const o=Vt(t,(i,c)=>(Zs(c,i),c),e);return t.length>0?Wc([o]):o},hP=e=>Gm(e)?aa(e).filter(db).fold(tt([]),t=>[e,t]):db(e)?[e]:[],wV=(e,t,o)=>{const i=ze.fromDom(t.commonAncestorContainer),c=jc(i,e),m=vt(c,A=>o.isWrapper(Yo(A))),h=xV(c,t),C=m.concat(h.length?h:hP(i));return Le(C,Ys)},W4=()=>Wc([]),CV=(e,t,o)=>U4(ze.fromDom(t.cloneContents()),wV(e,t,o)),_V=(e,t)=>iu(t,"table",nt(Xo,e)),Sl=(e,t)=>_V(e,t[0]).bind(o=>{const i=t[0],c=t[t.length-1],m=bV(o);return mP(m,i,c).map(h=>Wc([yV(h)]))}).getOrThunk(W4),kV=(e,t,o)=>t.length>0&&t[0].collapsed?W4():CV(e,t[0],o),SV=(e,t,o)=>{const i=Z5(t,e);return i.length>0?Sl(e,i):kV(e,t,o)},Vk=(e,t)=>t>=0&&t<e.length&&Pb(e.charAt(t)),pP=e=>Cl(e.innerText),zk=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),EV=e=>J.from(e.selection.getRng()).map(t=>{var o;const i=J.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=zk(i),h=ze.fromDom(t.cloneContents());QR(h),eI(h);const C=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),A=pP(C),F=Cl((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),Vk(F,0)||Vk(F,F.length-1)){const K=i.getOr(c),Y=pP(K),Q=Y.indexOf(A);if(Q===-1)return A;{const ge=Vk(Y,Q-1),Se=Vk(Y,Q+A.length);return(ge?" ":"")+A+(Se?" ":"")}}else return A}).getOr(""),Z4=(e,t)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),m=P_(e,vs(c)),h=t.contextual?SV(ze.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,t)},j4=(e,t)=>{if(t.format==="text")return EV(e);{const o=Z4(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},AV=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),TV=(e,t,o={})=>{const i=AV(o,t);return lP(e,i).fold(pt,c=>{const m=j4(e,c);return ef(e,m,c)})},gd=0,K4=1,vP=2,G4=(e,t)=>{const o=e.length+t.length+2,i=new Array(o),c=new Array(o),m=(K,Y,Q)=>({start:K,end:Y,diag:Q}),h=(K,Y,Q,ge,Se)=>{const pe=A(K,Y,Q,ge);if(pe===null||pe.start===Y&&pe.diag===Y-ge||pe.end===K&&pe.diag===K-Q){let Oe=K,Ue=Q;for(;Oe<Y||Ue<ge;)Oe<Y&&Ue<ge&&e[Oe]===t[Ue]?(Se.push([gd,e[Oe]]),++Oe,++Ue):Y-K>ge-Q?(Se.push([vP,e[Oe]]),++Oe):(Se.push([K4,t[Ue]]),++Ue)}else{h(K,pe.start,Q,pe.start-pe.diag,Se);for(let Oe=pe.start;Oe<pe.end;++Oe)Se.push([gd,e[Oe]]);h(pe.end,Y,pe.end-pe.diag,ge,Se)}},C=(K,Y,Q,ge)=>{let Se=K;for(;Se-Y<ge&&Se<Q&&e[Se]===t[Se-Y];)++Se;return m(K,Se,Y)},A=(K,Y,Q,ge)=>{const Se=Y-K,pe=ge-Q;if(Se===0||pe===0)return null;const Oe=Se-pe,Ue=pe+Se,et=(Ue%2===0?Ue:Ue+1)/2;i[1+et]=K,c[1+et]=Y+1;let Je,dt,Bt,Yt,pn;for(Je=0;Je<=et;++Je){for(dt=-Je;dt<=Je;dt+=2){for(Bt=dt+et,dt===-Je||dt!==Je&&i[Bt-1]<i[Bt+1]?i[Bt]=i[Bt+1]:i[Bt]=i[Bt-1]+1,Yt=i[Bt],pn=Yt-K+Q-dt;Yt<Y&&pn<ge&&e[Yt]===t[pn];)i[Bt]=++Yt,++pn;if(Oe%2!==0&&Oe-Je<=dt&&dt<=Oe+Je&&c[Bt-Oe]<=i[Bt])return C(c[Bt-Oe],dt+K-Q,Y,ge)}for(dt=Oe-Je;dt<=Oe+Je;dt+=2){for(Bt=dt+et-Oe,dt===Oe-Je||dt!==Oe+Je&&c[Bt+1]<=c[Bt-1]?c[Bt]=c[Bt+1]-1:c[Bt]=c[Bt-1],Yt=c[Bt]-1,pn=Yt-K+Q-dt;Yt>=K&&pn>=Q&&e[Yt]===t[pn];)c[Bt]=Yt--,pn--;if(Oe%2===0&&-Je<=dt&&dt<=Je&&c[Bt]<=i[Bt+Oe])return C(c[Bt],dt+K-Q,Y,ge)}}return null},F=[];return h(0,e.length,0,t.length,F),F},q4=e=>An(e)?e.outerHTML:Ut(e)?Qg.encodeRaw(e.data,!1):Ao(e)?"<!--"+e.data+"-->":"",Hk=e=>{let t;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)i.appendChild(t);return i},bP=(e,t,o)=>{const i=Hk(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},yP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},xP=(e,t)=>{let o=0;he(e,i=>{i[0]===gd?o++:i[0]===K4?(bP(t,i[1],o),o++):i[0]===vP&&yP(t,o)})},OV=(e,t)=>vt(Le(bo(e.childNodes),$t(Cl,q4)),o=>o.length>0),DV=(e,t)=>{const o=Le(bo(t.childNodes),q4);return xP(G4(o,e),t),t},Y4=Nl(()=>document.implementation.createHTMLDocument("undo")),RV=e=>e.querySelector("iframe")!==null,IV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),$k=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),my=e=>{const t=e.serializer.getTempAttrs(),o=FA(e.getBody(),t);return RV(o)?IV(OV(o)):$k(Cl(o.innerHTML))},pw=(e,t,o)=>{const i=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?DV(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ee(i)&&L5(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},Uk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Rh=e=>{const t=ze.fromTag("body",Y4());return Im(t,Uk(e)),he(pi(t,"*[data-mce-bogus]"),za),Pd(t)},NV=(e,t)=>Uk(e)===Uk(t),PV=(e,t)=>Rh(e)===Rh(t),gy=(e,t)=>!e||!t?!1:NV(e,t)?!0:PV(e,t),Wk=e=>e.get()===0,vw=(e,t,o)=>{Wk(o)&&(e.typing=t)},X4=(e,t)=>{e.typing&&(vw(e,!1,t),e.add())},MV=e=>{e.typing&&(e.typing=!1,e.add())},BV=(e,t,o)=>{Wk(t)&&o.set(yn(e.selection))},J4=(e,t,o,i,c,m,h)=>{const C=my(e),A=Xt.extend(m||{},C);if(!Wk(i)||e.removed)return null;const F=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:F,originalEvent:h}).isDefaultPrevented()||F&&gy(F,A))return null;t.data[o.get()]&&c.get().each(Q=>{t.data[o.get()].beforeBookmark=Q});const K=e5(e);if(K&&t.data.length>K){for(let Q=0;Q<t.data.length-1;Q++)t.data[Q]=t.data[Q+1];t.data.length--,o.set(t.data.length)}A.bookmark=yn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const Y={level:A,lastLevel:F,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Y),e.dispatch("change",Y)):e.dispatch("AddUndo",Y),A},Q4=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},eT=(e,t,o,i,c)=>{if(t.transact(i)){const m=t.data[o.get()].bookmark,h=t.data[o.get()-1];pw(e,h,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=m)}},wP=(e,t,o)=>{let i;return t.get()<o.length-1&&(t.set(t.get()+1),i=o[t.get()],pw(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},Zk=(e,t,o,i)=>{let c;return t.typing&&(t.add(),t.typing=!1,vw(t,!1,o)),i.get()>0&&(i.set(i.get()-1),c=t.data[i.get()],pw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},CP=e=>{e.clear(),e.add()},_P=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!gy(my(e),t.data[0]),LV=(e,t)=>t.get()<e.data.length-1&&!e.typing,FV=(e,t,o)=>(X4(e,t),e.beforeChange(),e.ignore(o),e.add()),tT=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},kP=(e,t)=>{const o=e.dom,i=Ee(t)?t:e.getBody();he(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const m=jC(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const C=o.getAttrib(c,"name")||c.id,A=L0(e);C&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},nT=e=>({init:{bindEvents:ct},undoManager:{beforeChange:(t,o)=>BV(e,t,o),add:(t,o,i,c,m,h)=>J4(e,t,o,i,c,m,h),undo:(t,o,i)=>Zk(e,t,o,i),redo:(t,o)=>wP(e,t,o),clear:(t,o)=>Q4(e,t,o),reset:t=>CP(t),hasUndo:(t,o)=>_P(e,t,o),hasRedo:(t,o)=>LV(t,o),transact:(t,o,i)=>FV(t,o,i),ignore:(t,o)=>tT(t,o),extra:(t,o,i,c)=>eT(e,t,o,i,c)},formatter:{match:(t,o,i,c)=>qp(e,t,o,i,c),matchAll:(t,o)=>aN(e,t,o),matchNode:(t,o,i,c)=>mg(e,t,o,i,c),canApply:t=>cN(e,t),closest:t=>lN(e,t),apply:(t,o,i)=>TN(e,t,o,i),remove:(t,o,i,c)=>Qp(e,t,o,i,c),toggle:(t,o,i)=>H7(e,t,o,i),formatChanged:(t,o,i,c,m)=>z7(e,t,o,i,c,m)},editor:{getContent:t=>oI(e,t),setContent:(t,o)=>I7(e,t,o),insertContent:(t,o)=>pk(e,t,o),addVisual:t=>kP(e,t)},selection:{getContent:(t,o)=>TV(e,t,o)},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:()=>J.none()}}),VV=e=>{const t=F=>ee(F)?F:{},{init:o,undoManager:i,formatter:c,editor:m,selection:h,autocompleter:C,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(F,K,Y)=>i.transact(Y),ignore:(F,K)=>i.ignore(K),extra:(F,K,Y,Q)=>i.extra(Y,Q)},formatter:{match:(F,K,Y,Q)=>c.match(F,t(K),Q),matchAll:c.matchAll,matchNode:c.matchNode,canApply:F=>c.canApply(F),closest:F=>c.closest(F),apply:(F,K,Y)=>c.apply(F,t(K)),remove:(F,K,Y,Q)=>c.remove(F,t(K)),toggle:(F,K,Y)=>c.toggle(F,t(K)),formatChanged:(F,K,Y,Q,ge)=>c.formatChanged(K,Y,Q,ge)},editor:{getContent:F=>m.getContent(F),setContent:(F,K)=>({content:m.setContent(F,K),html:""}),insertContent:(F,K)=>(m.insertContent(F),""),addVisual:m.addVisual},selection:{getContent:(F,K)=>h.getContent(K)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>J.some(A.getRawModel())}}},zV=()=>{const e=tt(null),t=tt("");return{init:{bindEvents:ct},undoManager:{beforeChange:ct,add:e,undo:e,redo:e,clear:ct,reset:ct,hasUndo:fn,hasRedo:fn,transact:e,ignore:ct,extra:ct},formatter:{match:fn,matchAll:tt([]),matchNode:tt(void 0),canApply:fn,closest:t,apply:ct,remove:ct,toggle:ct,formatChanged:tt({unbind:ct})},editor:{getContent:t,setContent:tt({content:"",html:""}),insertContent:tt(""),addVisual:ct},selection:{getContent:t},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:tt(J.none())}}},bg=e=>ao(e.plugins,"rtc"),SP=e=>Dr(e.plugins,"rtc").bind(t=>J.from(t.setup)),EP=e=>{const t=e;return SP(e).fold(()=>(t.rtcInstance=nT(e),J.none()),o=>(t.rtcInstance=zV(),J.some(()=>o().then(i=>(t.rtcInstance=VV(i),i.rtc.isRemote)))))},oT=e=>e.rtcInstance?e.rtcInstance:nT(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},hy=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},HV=(e,t,o,i,c,m,h)=>va(e).undoManager.add(t,o,i,c,m,h),$V=(e,t,o,i)=>va(e).undoManager.undo(t,o,i),AP=(e,t,o)=>va(e).undoManager.redo(t,o),TP=(e,t,o)=>{va(e).undoManager.clear(t,o)},jk=(e,t)=>{va(e).undoManager.reset(t)},UV=(e,t,o)=>va(e).undoManager.hasUndo(t,o),WV=(e,t,o)=>va(e).undoManager.hasRedo(t,o),ZV=(e,t,o,i)=>va(e).undoManager.transact(t,o,i),jV=(e,t,o)=>{va(e).undoManager.ignore(t,o)},KV=(e,t,o,i,c)=>{va(e).undoManager.extra(t,o,i,c)},GV=(e,t,o,i,c)=>va(e).formatter.match(t,o,i,c),qV=(e,t,o)=>va(e).formatter.matchAll(t,o),YV=(e,t,o,i,c)=>va(e).formatter.matchNode(t,o,i,c),XV=(e,t)=>va(e).formatter.canApply(t),JV=(e,t)=>va(e).formatter.closest(t),ts=(e,t,o,i)=>{va(e).formatter.apply(t,o,i)},OP=(e,t,o,i,c)=>{va(e).formatter.remove(t,o,i,c)},rT=(e,t,o,i)=>{va(e).formatter.toggle(t,o,i)},DP=(e,t,o,i,c,m)=>va(e).formatter.formatChanged(t,o,i,c,m),RP=(e,t)=>oT(e).editor.getContent(t),sT=(e,t,o)=>oT(e).editor.setContent(t,o),QV=(e,t,o)=>oT(e).editor.insertContent(t,o),ez=(e,t,o)=>va(e).selection.getContent(t,o),IP=(e,t)=>va(e).editor.addVisual(t),NP=e=>va(e).init.bindEvents(),tz=(e,t={})=>{const o=t.format?t.format:"html";return ez(e,o,t)},o1=e=>e.dom.length===0?(Rr(e),J.none()):J.some(e),nz=(e,t)=>e.filter(o=>Zr.isBookmarkNode(o.dom)).bind(t?Zn:wi),py=(e,t,o,i,c)=>{const m=e.dom,h=t.dom,C=i?m.length:h.length;i?(q2(m,h,c,!1,!i),o.setStart(h,C)):(q2(h,m,c,!1,!i),o.setEnd(h,C))},bw=(e,t,o)=>{aa(e).each(i=>{const c=e.dom;t&&ny(i,xt(c,0),o)?W_(c,0,o):!t&&Gb(i,xt(c,c.length),o)&&zs(c,c.length,o)})},r1=(e,t,o,i,c)=>{e.bind(m=>((i?zs:W_)(m.dom,i?m.dom.length:0,c),t.filter(us).map(C=>py(m,C,o,i,c)))).orThunk(()=>nz(t,i).or(t).filter(us).map(h=>bw(h,i,c)))},iT=(e,t,o)=>{const i=J.from(t.firstChild).map(ze.fromDom),c=J.from(t.lastChild).map(ze.fromDom);e.deleteContents(),e.insertNode(t);const m=i.bind(wi).filter(us).bind(o1),h=c.bind(Zn).filter(us).bind(o1);r1(m,i,e,!0,o),r1(h,c,e,!1,o),e.collapse(!1)},PP=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),MP=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return kh({validate:!1},e.schema).serialize(m)}else return t.content},aT=(e,t,o={})=>{const i=PP(o,t);V4(e,i).each(c=>{const m=MP(e,c),h=e.selection.getRng();iT(h,h.createContextualFragment(m),e.schema),e.selection.setRng(h),sd(e,h),z4(e,m,c)})},lT=(e,t,o)=>{if(ao(e,t)){const i=vt(e[t],c=>c!==o);i.length===0?delete e[t]:e[t]=i}};var BP=(e,t)=>{let o,i;const c=(C,A)=>cn(A,F=>e.is(F,C)),m=C=>e.getParents(C,void 0,e.getRoot()),h=()=>{o={},i={},t.on("NodeChange",C=>{const A=C.element,F=m(A),K={};ar(o,(Y,Q)=>{c(Q,F).each(ge=>{i[Q]||(he(Y,Se=>{Se(!0,{node:ge,selector:Q,parents:F})}),i[Q]=Y),K[Q]=Y})}),ar(i,(Y,Q)=>{K[Q]||(delete i[Q],he(Y,ge=>{ge(!1,{node:A,selector:Q,parents:F})}))})})};return{selectorChangedWithUnbind:(C,A)=>(o||h(),o[C]||(o[C]=[]),o[C].push(A),c(C,m(t.selection.getStart())).each(()=>{i[C]=o[C]}),{unbind:()=>{lT(o,C,A),lT(i,C,A)}})}};const cT=e=>!!(e&&e.ownerDocument)&&ia(ze.fromDom(e.ownerDocument),ze.fromDom(e)),uT=e=>e?cT(e.startContainer)&&cT(e.endContainer):!1,dT=(e,t,o,i)=>{let c,m;const{selectorChangedWithUnbind:h}=BP(e,i),C=(on,Fn)=>{const wr=e.createRng();Ee(on)&&Ee(Fn)?(wr.setStart(on,Fn),wr.setEnd(on,Fn),dt(wr),Ue(!1)):(v2(e,wr,i.getBody(),!0),dt(wr))},A=on=>tz(i,on),F=(on,Fn)=>aT(i,on,Fn),K=on=>jR(i.getBody(),Je(),on),Y=on=>KR(i.getBody(),Je(),on),Q=(on,Fn)=>Al.getBookmark(on,Fn),ge=on=>Al.moveToBookmark(on),Se=(on,Fn)=>($2(e,on,Fn).each(dt),on),pe=()=>{const on=Je(),Fn=et();return!on||on.item?!1:on.compareEndPoints?on.compareEndPoints("StartToEnd",on)===0:!Fn||on.collapsed},Oe=()=>{const on=Je(),Fn=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Fn.length>0?Ro(Fn,wr=>e.isEditable(wr.parentElement)):WR(e,on)},Ue=on=>{const Fn=Je();Fn.collapse(!!on),dt(Fn)},et=()=>t.getSelection?t.getSelection():t.document.selection,Je=()=>{let on;const Fn=(ln,Yn,Ho)=>{try{return Yn.compareBoundaryPoints(ln,Ho)}catch{return-1}},wr=t.document;if(Ee(i.bookmark)&&!q0(i)){const ln=RA(i);if(ln.isSome())return ln.map(Yn=>P_(i,[Yn])[0]).getOr(wr.createRange())}try{const ln=et();ln&&!Sf(ln.anchorNode)&&(ln.rangeCount>0?on=ln.getRangeAt(0):on=wr.createRange(),on=P_(i,[on])[0])}catch{}if(on||(on=wr.createRange()),Nn(on.startContainer)&&on.collapsed){const ln=e.getRoot();on.setStart(ln,0),on.setEnd(ln,0)}return c&&m&&(Fn(on.START_TO_START,on,c)===0&&Fn(on.END_TO_END,on,c)===0?on=m:(c=null,m=null)),on},dt=(on,Fn)=>{if(!uT(on))return;const wr=et();if(on=i.dispatch("SetSelectionRange",{range:on,forward:Fn}).range,wr){m=on;try{wr.removeAllRanges(),wr.addRange(on)}catch{}Fn===!1&&wr.extend&&(wr.collapse(on.endContainer,on.endOffset),wr.extend(on.startContainer,on.startOffset)),c=wr.rangeCount>0?wr.getRangeAt(0):null}if(!on.collapsed&&on.startContainer===on.endContainer&&(wr!=null&&wr.setBaseAndExtent)&&on.endOffset-on.startOffset<2&&on.startContainer.hasChildNodes()){const Yn=on.startContainer.childNodes[on.startOffset];Yn&&Yn.nodeName==="IMG"&&(wr.setBaseAndExtent(on.startContainer,on.startOffset,on.endContainer,on.endOffset),(wr.anchorNode!==on.startContainer||wr.focusNode!==on.endContainer)&&wr.setBaseAndExtent(Yn,0,Yn,1))}i.dispatch("AfterSetSelectionRange",{range:on,forward:Fn})},Bt=on=>(F(e.getOuterHTML(on)),on),Yt=()=>jF(i.getBody(),Je()),pn=(on,Fn)=>BA(e,Je(),on,Fn),Et=()=>{const on=et(),Fn=on==null?void 0:on.anchorNode,wr=on==null?void 0:on.focusNode;if(!on||!Fn||!wr||Sf(Fn)||Sf(wr))return!0;const ln=e.createRng(),Yn=e.createRng();try{ln.setStart(Fn,on.anchorOffset),ln.collapse(!0),Yn.setStart(wr,on.focusOffset),Yn.collapse(!0)}catch{return!0}return ln.compareBoundaryPoints(ln.START_TO_START,Yn)<=0},ui={dom:e,win:t,serializer:o,editor:i,expand:(on={type:"word"})=>dt(Vp(e).expand(Je(),on)),collapse:Ue,setCursorLocation:C,getContent:A,setContent:F,getBookmark:Q,moveToBookmark:ge,select:Se,isCollapsed:pe,isEditable:Oe,isForward:Et,setNode:Bt,getNode:Yt,getSel:et,setRng:dt,getRng:Je,getStart:K,getEnd:Y,getSelectedBlocks:pn,normalize:()=>{const on=Je(),Fn=et();if(!m2(Fn)&&$0(i)){const wr=ig(e,on);return wr.each(ln=>{dt(ln,Et())}),wr.getOr(on)}return on},selectorChanged:(on,Fn)=>(h(on,Fn),ui),selectorChangedWithUnbind:h,getScrollContainer:()=>{let on,Fn=e.getRoot();for(;Fn&&Fn.nodeName!=="BODY";){if(Fn.scrollHeight>Fn.clientHeight){on=Fn;break}Fn=Fn.parentNode}return on},scrollIntoView:(on,Fn)=>{Ee(on)?AA(i,on,Fn):sd(i,Je(),Fn)},placeCaretAt:(on,Fn)=>dt(yR(on,Fn,i.getDoc())),getBoundingClientRect:()=>{const on=Je();return on.collapsed?xt.fromRangeStart(on).getClientRects()[0]:on.getBoundingClientRect()},destroy:()=>{t=c=m=null,Yr.destroy()}},Al=Zr(ui),Yr=zr(ui,i);return ui.bookmarkManager=Al,ui.controlSelection=Yr,ui},LP=(e,t,o)=>{t.addNodeFilter("br",(i,c,m)=>{const h=Xt.extend({},o.getBlockElements()),C=o.getNonEmptyElements(),A=o.getWhitespaceElements();h.body=1;const F=K=>K.name in h||hp(o,K);for(let K=0,Y=i.length;K<Y;K++){let Q=i[K],ge=Q.parent;if(ge&&F(ge)&&Q===ge.lastChild){let Se=Q.prev;for(;Se;){const pe=Se.name;if(pe!=="span"||Se.attr("data-mce-type")!=="bookmark"){pe==="br"&&(Q=null);break}Se=Se.prev}if(Q&&(Q.remove(),iy(o,C,A,ge))){const pe=o.getElementRule(ge.name);pe&&(pe.removeEmpty?ge.remove():pe.paddEmpty&&ik(e,m,F,ge))}}else{let Se=Q;for(;ge&&ge.firstChild===Se&&ge.lastChild===Se&&(Se=ge,!h[ge.name]);)ge=ge.parent;if(Se===ge){const pe=new Da("#text",3);pe.value=Di,Q.replace(pe)}}}})},fT=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const m="data-mce-"+c,h=t.url_converter,C=t.url_converter_scope;let A=i.length;for(;A--;){const F=i[A];let K=F.attr(m);K!==void 0?(F.attr(c,K.length>0?K:null),F.attr(m,null)):(K=F.attr(c),c==="style"?K=o.serializeStyle(o.parseStyle(K),F.name):h&&(K=h.call(C,K,c,F.name)),F.attr(c,K.length>0?K:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const m=i[c];let h=m.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,m)=>{let h=i.length;for(;h--;){const C=i[h];C.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(J.from(C.firstChild).exists(F=>{var K;return!zc((K=F.value)!==null&&K!==void 0?K:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var m;const h=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=i.length;for(;C--;){const A=i[C],F=A.firstChild,K=(m=F==null?void 0:F.value)!==null&&m!==void 0?m:"";if(c==="script"){const Y=A.attr("type");Y&&A.attr("type",Y==="mce-no/type"?null:Y.replace(/^mce\-/,"")),t.element_format==="xhtml"&&F&&K.length>0&&(F.value=`// <![CDATA[
`+h(K)+`
// ]]>`)}else t.element_format==="xhtml"&&F&&K.length>0&&(F.value=`<!--
`+h(K)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const m=i[c],h=m.value;t.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{he(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.remove_trailing_brs&&LP(t,e,e.schema)},oz=e=>{const t=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(t(o)){const i=o.prev;t(i)&&(o.remove(),i.remove())}},FP=(e,t,o)=>{let i;const c=e.dom;let m=t.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const C=h.createHTMLDocument("");Xt.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{C.body.appendChild(C.importNode(A,!0))}),m.nodeName!=="BODY"?m=C.body.firstChild:m=C.body,i=c.doc,c.doc=C}return k2(e,{...o,node:m}),i&&(c.doc=i),m},VP=(e,t)=>Ee(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,zP=(e,t,o)=>VP(e,o)?FP(e,t,o):t,rz=(e,t,o)=>{Xt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.push(o))},sz=(e,t,o)=>!t.no_events&&e?S2(e,{...t,content:o}).content:o,Kk=(e,t,o)=>{const i=Cl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||fb(ze.fromDom(t))?i:Xt.trim(i)},HP=(e,t,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,i);return oz(c),c},$P=(e,t,o)=>kh(e,t).serialize(o),UP=(e,t,o,i,c)=>{const m=$P(t,o,i);return sz(e,c,m)},iz=(e,t)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:Gr.DOM,m=t&&t.schema?t.schema:Bc(i),h=fy(i,m);fT(h,i,c);const C=(A,F={})=>{const K={format:"html",...F},Y=zP(t,A,K),Q=Kk(c,Y,K),ge=HP(h,Q,K);return K.format==="tree"?ge:UP(t,i,m,ge,K)};return{schema:m,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:C,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:nt(rz,h,o),getTempAttrs:tt(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},WP=(e,t)=>{const o=iz(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},az="html",lz=(e,t)=>({...e,format:t,get:!0,getInner:!0}),ZP=(e,t={})=>{const o=t.format?t.format:az,i=lz(t,o);return lP(e,i).fold(pt,c=>{const m=RP(e,c);return ef(e,m,c)})},jP="html",KP=(e,t)=>({format:jP,...e,set:!0,content:t}),mT=(e,t,o={})=>{const i=KP(o,t);return V4(e,i).map(c=>{const m=sT(e,c.content,c);return z4(e,m.html,c),m.content}).getOr(t)},cz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),uz=[],dz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),yw=[],gT=(e,t)=>{const o=vt(t,i=>ao(e,i));return mr(o)},fz=e=>{const t=gT(e,cz),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),mr(t)},GP=e=>gT(e,uz),hT=(e,t)=>{const o=Xt.makeMap(e.plugins," "),c=vt(t,m=>ao(o,m));return mr(c)},pT=e=>hT(e,dz),qP=e=>hT(e,yw.map(t=>t.name)),YP=(e,t)=>{const o=fz(e),i=pT(t),c=i.length>0,m=o.length>0,h=t.theme==="mobile";if(c||m||h){const C=`
- `,A=h?`

Themes:${C}mobile`:"",F=c?`

Plugins:${C}${i.join(C)}`:"",K=m?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+F+K)}},XP=e=>cn(yw,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),mz=(e,t)=>{const o=GP(e),i=qP(t),c=i.length>0,m=o.length>0;if(c||m){const h=`
- `,C=c?`

Plugins:${h}${i.map(XP).join(h)}`:"",A=m?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},gz=(e,t)=>{YP(e,t),mz(e,t)},nv=Gr.DOM,hz=e=>{nv.setStyle(e.id,"display",e.orgDisplay)},xw=e=>J.from(e).each(t=>t.destroy()),Gk=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const i=o.dom;t.selection=o.win=o.dom=i.doc=null}},JP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),nv.unbind(t,"submit reset",e.formEventDelegate))},QP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ee(c==null?void 0:c.nextSibling)&&nv.remove(c.nextSibling),E2(e),e.editorManager.remove(e),!e.inline&&i&&hz(e),A2(e),nv.remove(e.getContainer()),xw(t),xw(o),e.destroy()}},pz=(e,t)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),xw(o),xw(i)),JP(e),Gk(e),e.destroyed=!0}},ww=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>ao(e,c)}})(),ov=rl.ModelManager,Cw=(e,t)=>t.dom[e],vT=(e,t)=>parseInt(Ws(t,e),10),bT=nt(Cw,"clientWidth"),e6=nt(Cw,"clientHeight"),vz=nt(vT,"margin-top"),t6=nt(vT,"margin-left"),bz=e=>e.dom.getBoundingClientRect(),n6=(e,t,o)=>{const i=bT(e),c=e6(e);return t>=0&&o>=0&&t<=i&&o<=c},o6=(e,t,o,i)=>{const c=bz(t),m=e?c.left+t.dom.clientLeft+t6(t):0,h=e?c.top+t.dom.clientTop+vz(t):0,C=o-m,A=i-h;return{x:C,y:A}},yz=(e,t,o)=>{const i=ze.fromDom(e.getBody()),c=e.inline?i:$u(i),m=o6(e.inline,c,t,o);return n6(c,m.x,m.y)},r6=e=>J.from(e).map(ze.fromDom),yT=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return r6(t).map(La).getOr(!1)};var s6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const xT=e=>{const t=[],o=()=>{const Q=e.theme;return Q&&Q.getNotificationManagerImpl?Q.getNotificationManagerImpl():s6()},i=()=>J.from(t[0]),c=(Q,ge)=>Q.type===ge.type&&Q.text===ge.text&&!Q.progressBar&&!Q.timeout&&!ge.progressBar&&!ge.timeout,m=()=>{i().each(Q=>{Q.reposition()})},h=Q=>{t.push(Q)},C=Q=>{Tn(t,ge=>ge===Q).each(ge=>{t.splice(ge,1)})},A=(Q,ge=!0)=>e.removed||!yT(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:Q}),cn(t,Se=>c(o().getArgs(Se),Q)).getOrThunk(()=>{e.editorManager.setActive(e);const Se=o().open(Q,()=>{C(Se)},()=>$b(e));return h(Se),m(),e.dispatch("OpenNotification",{notification:{...Se}}),Se})),F=()=>{i().each(Q=>{o().close(Q),C(Q),m()})},K=tt(t);return(Q=>{Q.on("SkinLoaded",()=>{const ge=A8(Q);ge&&A({text:ge,type:"warning",timeout:0},!1),m()}),Q.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),Q.on("remove",()=>{he(t.slice(),ge=>{o().close(ge)})}),Q.addShortcut("alt+F12","Focus to notification",()=>i().map(ge=>ze.fromDom(ge.getEl())).each(ge=>TA(ge)))})(e),{open:A,close:F,getNotifications:K}},s1=rl.PluginManager,rv=rl.ThemeManager;var xz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const i6=e=>{let t=[];const o=()=>{const pe=e.theme;return pe&&pe.getWindowManagerImpl?pe.getWindowManagerImpl():xz()},i=(pe,Oe)=>(...Ue)=>Oe?Oe.apply(pe,Ue):void 0,c=pe=>{e.dispatch("OpenWindow",{dialog:pe})},m=pe=>{e.dispatch("CloseWindow",{dialog:pe})},h=pe=>{t.push(pe),c(pe)},C=pe=>{m(pe),t=vt(t,Oe=>Oe!==pe),t.length===0&&e.focus()},A=()=>J.from(t[t.length-1]),F=pe=>{e.editorManager.setActive(e),G0(e),e.ui.show();const Oe=pe();return h(Oe),Oe},K=(pe,Oe)=>F(()=>o().open(pe,Oe,C)),Y=pe=>F(()=>o().openUrl(pe,C)),Q=(pe,Oe,Ue)=>{const et=o();et.alert(pe,i(Ue||et,Oe))},ge=(pe,Oe,Ue)=>{const et=o();et.confirm(pe,i(Ue||et,Oe))},Se=()=>{A().each(pe=>{o().close(pe),C(pe)})};return e.on("remove",()=>{he(t,pe=>{o().close(pe)})}),{open:K,openUrl:Y,alert:Q,confirm:ge,close:Se}},qk=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Yk=(e,t)=>{e._skinLoaded?qk(e,t):e.on("SkinLoaded",()=>{qk(e,t)})},a6=(e,t)=>{Yk(e,Lc.translate(["Failed to upload image: {0}",t]))},vy=(e,t,o)=>{mA(e,t,{message:o}),console.error(o)},i1=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,wT=(e,t,o)=>{vy(e,"PluginLoadError",i1("plugin",t,o))},CT=(e,t,o)=>{vy(e,"IconsLoadError",i1("icons",t,o))},wz=(e,t,o)=>{vy(e,"LanguageLoadError",i1("language",t,o))},l6=(e,t,o)=>{vy(e,"ThemeLoadError",i1("theme",t,o))},Cz=(e,t,o)=>{vy(e,"ModelLoadError",i1("model",t,o))},_z=(e,t,o)=>{const i=Lc.translate(["Failed to initialize plugin: {0}",t]);mA(e,"PluginLoadError",{message:i}),_w(i,o),Yk(e,i)},_w=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},_T=e=>/^[a-z0-9\-]+$/i.test(e),kT=e=>"content/"+e+"/content.css",Xk=e=>tinymce.Resource.has(kT(e)),kz=e=>c6(e,Vl(e)),Sz=e=>c6(e,jD(e)),c6=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Le(t,m=>Xk(m)?m:_T(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},u6=e=>{e.contentCSS=e.contentCSS.concat(kz(e),Sz(e))},d6=e=>e?bo(e.getElementsByTagName("img")):[],Ez=(e,t)=>{const o={};return{findAll:(c,m=kn)=>{const h=vt(d6(c),A=>{const F=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===Fo.transparentSrc?!1:cs(F,"blob:")?!e.isUploaded(F)&&m(A):cs(F,"data:")?m(A):!1}),C=Le(h,A=>{const F=A.src;if(ao(o,F))return o[F].then(K=>Ce(K)?K:{image:A,blobInfo:K.blobInfo});{const K=v4(t,F).then(Y=>(delete o[F],{image:A,blobInfo:Y})).catch(Y=>(delete o[F],Y));return o[F]=K,K}});return Promise.all(C)}}},ST=()=>{let o={};const i=(Q,ge)=>({status:Q,resultUri:ge}),c=Q=>Q in o;return{hasBlobUri:c,getResultUri:Q=>{const ge=o[Q];return ge?ge.resultUri:null},isPending:Q=>c(Q)?o[Q].status===1:!1,isUploaded:Q=>c(Q)?o[Q].status===2:!1,markPending:Q=>{o[Q]=i(1,null)},markUploaded:(Q,ge)=>{o[Q]=i(2,ge)},removeFailed:Q=>{delete o[Q]},destroy:()=>{o={}}}};let kw=0;const f6=()=>{const e=()=>Math.round(wl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Az=e=>e+kw+++f6(),m6=()=>{let e=[];const t=Y=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Y.toLowerCase()]||"dat",o=(Y,Q,ge,Se,pe)=>{if(Ce(Y))return i({id:Y,name:Se,filename:pe,blob:Q,base64:ge});if(ee(Y))return i(Y);throw new Error("Unknown input type")},i=Y=>{if(!Y.blob||!Y.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Q=Y.id||Az("blobid"),ge=Y.name||Q,Se=Y.blob;return{id:tt(Q),name:tt(ge),filename:tt(Y.filename||ge+"."+t(Se.type)),blob:tt(Se),base64:tt(Y.base64),blobUri:tt(Y.blobUri||URL.createObjectURL(Se)),uri:tt(Y.uri)}},c=Y=>{h(Y.id())||e.push(Y)},m=Y=>cn(e,Y).getOrUndefined(),h=Y=>m(Q=>Q.id()===Y);return{create:o,add:c,get:h,getByUri:Y=>m(Q=>Q.blobUri()===Y),getByData:(Y,Q)=>m(ge=>ge.base64()===Y&&ge.blob().type===Q),findFirst:m,removeByUri:Y=>{e=vt(e,Q=>Q.blobUri()===Y?(URL.revokeObjectURL(Q.blobUri()),!1):!0)},destroy:()=>{he(e,Y=>{URL.revokeObjectURL(Y.blobUri())}),e=[]}}},g6=(e,t)=>{const o={},i=(pe,Oe)=>pe?pe.replace(/\/$/,"")+"/"+Oe.replace(/^\//,""):Oe,c=(pe,Oe)=>new Promise((Ue,et)=>{const Je=new XMLHttpRequest;Je.open("POST",t.url),Je.withCredentials=t.credentials,Je.upload.onprogress=Bt=>{Oe(Bt.loaded/Bt.total*100)},Je.onerror=()=>{et("Image upload failed due to a XHR Transport error. Code: "+Je.status)},Je.onload=()=>{if(Je.status<200||Je.status>=300){et("HTTP Error: "+Je.status);return}const Bt=JSON.parse(Je.responseText);if(!Bt||!Ce(Bt.location)){et("Invalid JSON: "+Je.responseText);return}Ue(i(t.basePath,Bt.location))};const dt=new FormData;dt.append("file",pe.blob(),pe.filename()),Je.send(dt)}),m=Fe(t.handler)?t.handler:c,h=()=>new Promise(pe=>{pe([])}),C=(pe,Oe)=>({url:Oe,blobInfo:pe,status:!0}),A=(pe,Oe)=>({url:"",blobInfo:pe,status:!1,error:Oe}),F=(pe,Oe)=>{Xt.each(o[pe],Ue=>{Ue(Oe)}),delete o[pe]},K=(pe,Oe,Ue)=>(e.markPending(pe.blobUri()),new Promise(et=>{let Je,dt;try{const Bt=()=>{Je&&(Je.close(),dt=ct)},Yt=Et=>{Bt(),e.markUploaded(pe.blobUri(),Et),F(pe.blobUri(),C(pe,Et)),et(C(pe,Et))},pn=Et=>{Bt(),e.removeFailed(pe.blobUri()),F(pe.blobUri(),A(pe,Et)),et(A(pe,Et))};dt=Et=>{Et<0||Et>100||J.from(Je).orThunk(()=>J.from(Ue).map(oo)).each(bt=>{Je=bt,bt.progressBar.value(Et)})},Oe(pe,dt).then(Yt,Et=>{pn(Ce(Et)?{message:Et}:Et)})}catch(Bt){et(A(pe,Bt))}})),Y=pe=>pe===c,Q=pe=>{const Oe=pe.blobUri();return new Promise(Ue=>{o[Oe]=o[Oe]||[],o[Oe].push(Ue)})},ge=(pe,Oe)=>(pe=Xt.grep(pe,Ue=>!e.isUploaded(Ue.blobUri())),Promise.all(Xt.map(pe,Ue=>e.isPending(Ue.blobUri())?Q(Ue):K(Ue,m,Oe))));return{upload:(pe,Oe)=>!t.url&&Y(m)?h():ge(pe,Oe)}},h6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),p6=(e,t)=>g6(t,{url:OE(e),basePath:UD(e),credentials:DE(e),handler:k8(e)}),Tz=e=>{const t=ST(),o=p6(e,t);return{upload:(i,c=!0)=>o.upload(i,c?h6(e):void 0)}},Oz=(e,t)=>e.dom.isEmpty(t.dom)&&Ee(e.schema.getTextBlockElements()[Yo(t)]),v6=e=>t=>{Oz(e,t)&&Zs(t,ze.fromHtml('<br data-mce-bogus="1" />'))},ET=e=>{const t=m6();let o,i;const c=ST(),m=[],h=Je=>dt=>e.selection?Je(dt):[],C=Je=>Je+(Je.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Je,dt,Bt)=>{let Yt=0;do Yt=Je.indexOf(dt,Yt),Yt!==-1&&(Je=Je.substring(0,Yt)+Bt+Je.substr(Yt+dt.length),Yt+=Bt.length-dt.length+1);while(Yt!==-1);return Je},F=(Je,dt,Bt)=>{const Yt=`src="${Bt}"${Bt===Fo.transparentSrc?' data-mce-placeholder="1"':""}`;return Je=A(Je,`src="${dt}"`,Yt),Je=A(Je,'data-mce-src="'+dt+'"','data-mce-src="'+Bt+'"'),Je},K=(Je,dt)=>{he(e.undoManager.data,Bt=>{Bt.type==="fragmented"?Bt.fragments=Le(Bt.fragments,Yt=>F(Yt,Je,dt)):Bt.content=F(Bt.content,Je,dt)})},Y=(Je,dt)=>{const Bt=e.convertURL(dt,"src");K(Je.src,dt),Ma(ze.fromDom(Je),{src:vh(e)?C(dt):dt,"data-mce-src":Bt})},Q=()=>(o||(o=p6(e,c)),Oe().then(h(Je=>{const dt=Le(Je,Bt=>Bt.blobInfo);return o.upload(dt,h6(e)).then(h(Bt=>{const Yt=[];let pn=!1;const Et=Le(Bt,(bt,Nt)=>{const{blobInfo:Cn,image:Hn}=Je[Nt];let Po=!1;return bt.status&&HD(e)?(bt.url&&!Pr(Hn.src,bt.url)&&(pn=!0),t.removeByUri(Hn.src),bg(e)||Y(Hn,bt.url)):bt.error&&(bt.error.remove&&(K(Hn.src,Fo.transparentSrc),Yt.push(Hn),Po=!0),a6(e,bt.error.message)),{element:Hn,status:bt.status,uploadUri:bt.url,blobInfo:Cn,removed:Po}});return Yt.length>0&&!bg(e)?e.undoManager.transact(()=>{he(lu(Yt),bt=>{const Nt=aa(bt);Rr(bt),Nt.each(v6(e)),t.removeByUri(bt.dom.src)})}):pn&&e.undoManager.dispatchChange(),Et}))}))),ge=()=>qr(e)?Q():Promise.resolve([]),Se=Je=>Ro(m,dt=>dt(Je)),pe=Je=>{m.push(Je)},Oe=()=>(i||(i=Ez(c,t)),i.findAll(e.getBody(),Se).then(h(Je=>{const dt=vt(Je,Bt=>Ce(Bt)?(Yk(e,Bt),!1):Bt.uriType!=="blob");return bg(e)||he(dt,Bt=>{K(Bt.image.src,Bt.blobInfo.blobUri()),Bt.image.src=Bt.blobInfo.blobUri(),Bt.image.removeAttribute("data-mce-src")}),dt}))),Ue=()=>{t.destroy(),c.destroy(),i=o=null},et=Je=>Je.replace(/src="(blob:[^"]+)"/g,(dt,Bt)=>{const Yt=c.getResultUri(Bt);if(Yt)return'src="'+Yt+'"';let pn=t.getByUri(Bt);return pn||(pn=Vt(e.editorManager.get(),(Et,bt)=>Et||bt.editorUpload&&bt.editorUpload.blobCache.getByUri(Bt),void 0)),pn?'src="data:'+pn.blob().type+";base64,"+pn.base64()+'"':dt});return e.on("SetContent",()=>{qr(e)?ge():Oe()}),e.on("RawSaveContent",Je=>{Je.content=et(Je.content)}),e.on("GetContent",Je=>{Je.source_view||Je.format==="raw"||Je.format==="tree"||(Je.content=et(Je.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Je=>{he(Je,dt=>{const Bt=dt.attr("src");if(!Bt||t.getByUri(Bt))return;const Yt=c.getResultUri(Bt);Yt&&dt.attr("src",Yt)})})}),{blobCache:t,addFilter:pe,uploadImages:Q,uploadImagesAuto:ge,scanForImages:Oe,destroy:Ue}},b6=e=>{const t=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,m]:[c,h,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,h)=>An(c)&&c.hasAttribute("href"),onformat:(c,m,h)=>{Xt.each(h,(C,A)=>{t.setAttrib(c,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},AT={remove_similar:!0,inherit:!1},a1={selector:"td,th",...AT},y6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...a1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...a1},tablecellbordercolor:{styles:{borderColor:"%value"},...a1},tablecellclass:{classes:["%value"],...a1},tableclass:{selector:"table",classes:["%value"],...AT},tablecellborderstyle:{styles:{borderStyle:"%value"},...a1},tablecellborderwidth:{styles:{borderWidth:"%value"},...a1}},Dz=tt(y6),TT=e=>{const t={},o=h=>Ee(h)?t[h]:t,i=h=>ao(t,h),c=(h,C)=>{h&&(Ce(h)?(le(C)||(C=[C]),he(C,A=>{Me(A.deep)&&(A.deep=!Uc(A)),Me(A.split)&&(A.split=!Uc(A)||ha(A)),Me(A.remove)&&Uc(A)&&!ha(A)&&(A.remove="none"),Uc(A)&&ha(A)&&(A.mixed=!0,A.block_expand=!0),Ce(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[h]=C):ar(h,(A,F)=>{c(F,A)}))},m=h=>(h&&t[h]&&delete t[h],t);return c(b6(e)),c(Dz()),c(O8(e)),{get:o,has:i,register:c,unregister:m}},l1=Xt.each,hc=Gr.DOM,tm=e=>Ee(e)&&ee(e),Sw=(e,t)=>{const o=t&&t.schema||Bc({}),i=(A,F)=>{F.classes.length>0&&hc.addClass(A,F.classes.join(" ")),hc.setAttribs(A,F.attrs)},c=A=>{const F=Ce(A)?{name:A,classes:[],attrs:{}}:A,K=hc.create(F.name);return i(K,F),K},m=(A,F)=>{const K=o.getElementRule(A.nodeName.toLowerCase()),Y=K==null?void 0:K.parentsRequired;return Y&&Y.length?F&&ie(Y,F)?F:Y[0]:!1},h=(A,F,K)=>{let Y;const Q=F[0],ge=tm(Q)?Q.name:void 0,Se=m(A,ge);if(Se)ge===Se?(Y=Q,F=F.slice(1)):Y=Se;else if(Q)Y=Q,F=F.slice(1);else if(!K)return A;const pe=Y?c(Y):hc.create("div");pe.appendChild(A),K&&Xt.each(K,Ue=>{const et=c(Ue);pe.insertBefore(et,A)});const Oe=tm(Y)?Y.siblings:void 0;return h(pe,F,Oe)},C=hc.create("div");if(e.length>0){const A=e[0],F=c(A),K=tm(A)?A.siblings:void 0;C.appendChild(h(F,e.slice(1),K))}return C},by=e=>{e=Xt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,m,h,C)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":Xt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(h==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},x6=e=>Ce(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Xt.map(t.split(/(?:~\+|~|\+)/),by),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],w6=(e,t)=>{let o="",i=D8(e);if(i==="")return"";const c=Q=>Ce(Q)?Q.replace(/%(\w+)/g,""):"",m=(Q,ge)=>hc.getStyle(ge??e.getBody(),Q,!0);if(Ce(t)){const Q=e.formatter.get(t);if(!Q)return"";t=Q[0]}if("preview"in t){const Q=t.preview;if(Q===!1)return"";i=Q||i}let h=t.block||t.inline||"span",C;const A=x6(t.selector);A.length>0?(A[0].name||(A[0].name=h),h=t.selector,C=Sw(A,e)):C=Sw([h],e);const F=hc.select(h,C)[0]||C.firstChild;l1(t.styles,(Q,ge)=>{const Se=c(Q);Se&&hc.setStyle(F,ge,Se)}),l1(t.attributes,(Q,ge)=>{const Se=c(Q);Se&&hc.setAttrib(F,ge,Se)}),l1(t.classes,Q=>{const ge=c(Q);hc.hasClass(F,ge)||hc.addClass(F,ge)}),e.dispatch("PreviewFormats"),hc.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const K=m("fontSize"),Y=/px$/.test(K)?parseInt(K,10):0;return l1(i.split(" "),Q=>{let ge=m(Q,F);if(!(Q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=m(Q),Jv(ge).toLowerCase()==="#ffffff"))&&!(Q==="color"&&Jv(ge).toLowerCase()==="#000000")){if(Q==="font-size"&&/em|%$/.test(ge)){if(Y===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*Y+"px"}Q==="border"&&ge&&(o+="padding:0 2px;"),o+=Q+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),hc.remove(C),o},OT=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Ew=e=>{const t=TT(e),o=Ri({});return OT(e),fN(e),bg(e)||ON(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(i,c,m)=>{ts(e,i,c,m)},remove:(i,c,m,h)=>{OP(e,i,c,m,h)},toggle:(i,c,m)=>{rT(e,i,c,m)},match:(i,c,m,h)=>GV(e,i,c,m,h),closest:i=>JV(e,i),matchAll:(i,c)=>qV(e,i,c),matchNode:(i,c,m,h)=>YV(e,i,c,m,h),canApply:i=>XV(e,i),formatChanged:(i,c,m,h)=>DP(e,o,i,c,m,h),getCssText:nt(w6,e)}},Ih=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},c1=(e,t,o)=>{const i=Ri(!1),c=A=>{vw(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const F=A.command;Ih(F)||(X4(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const F=A.command;Ih(F)||c(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;const K=Fo.os.isMacOS()&&A.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey||K)&&(c(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),i.get()&&t.typing&&!gy(my(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){t.typing&&c(A);return}const K=A.ctrlKey&&!A.altKey||A.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!t.typing&&!K){t.beforeChange(),vw(t,!0,o),t.add({},A),i.set(!0);return}(Fo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",h=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||h(A)||C(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},C6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},_6=e=>{const t=Ii(),o=Ri(0),i=Ri(0),c={data:[],typing:!1,beforeChange:()=>{hy(e,o,t)},add:(m,h)=>HV(e,c,i,o,t,m,h),dispatchChange:()=>{e.setDirty(!0);const m=my(e);m.bookmark=yn(e.selection),e.dispatch("change",{level:m,lastLevel:As(c.data,i.get()).getOrUndefined()})},undo:()=>$V(e,c,o,i),redo:()=>AP(e,i,c.data),clear:()=>{TP(e,c,i)},reset:()=>{jk(e,c)},hasUndo:()=>UV(e,c,i),hasRedo:()=>WV(e,c,i),transact:m=>ZV(e,c,o,m),ignore:m=>{jV(e,o,m)},extra:(m,h)=>{KV(e,c,i,m,h)}};return bg(e)||c1(e,c,o),C6(e),c},k6=[9,27,dn.HOME,dn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dn.DOWN,dn.UP,dn.LEFT,dn.RIGHT].concat(Fo.browser.isFirefox()?[224]:[]),S6="data-mce-placeholder",E6=e=>e.type==="keydown"||e.type==="keyup",A6=e=>{const t=e.keyCode;return t===dn.BACKSPACE||t===dn.DELETE},DT=e=>{if(E6(e)){const t=e.keyCode;return!A6(e)&&(dn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ie(k6,t))}else return!1},T6=e=>E6(e)&&!(A6(e)||e.type==="keyup"&&e.keyCode===229),Rz=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const i=t.firstElementChild;return i?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},O6=e=>{var t;const o=e.dom,i=il(e),c=(t=IE(e))!==null&&t!==void 0?t:"",m=(h,C)=>{if(DT(h))return;const A=e.getBody(),F=T6(h)?!1:Rz(o,A,i);(o.getAttrib(A,S6)!==""!==F||C)&&(o.setAttrib(A,S6,F?c:null),aR(e,F),e.on(F?"keydown":"keyup",m),e.off(F?"keyup":"keydown",m))};Qe(c)&&e.on("init",h=>{m(h,!0),e.on("change SetContent ExecCommand",m),e.on("paste",C=>Zc.setEditorTimeout(e,()=>m(C)))})},Iz=(e,t)=>({block:e,position:t}),RT=(e,t)=>({from:e,to:t}),IT=(e,t)=>{const o=ze.fromDom(e),i=ze.fromDom(t.container());return J2(o,i).map(c=>Iz(c,t))},D6=e=>!(ia(e.to.block,e.from.block)||ia(e.from.block,e.to.block)),NT=e=>!Xo(e.from.block,e.to.block),PT=(e,t)=>hi(t,c=>Fc(c)||Ic(c.dom),c=>Xo(c,e)).filter(Us).getOr(e),MT=(e,t)=>{const o=ze.fromDom(e);return Xo(PT(o,t.from.block),PT(o,t.to.block))},Nz=e=>fo(e.from.block.dom)===!1&&fo(e.to.block.dom)===!1,R6=e=>{const t=o=>ub(o)||ji(o.dom)||Gm(o);return t(e.from.block)&&t(e.to.block)},Pz=(e,t,o,i)=>ps(i.position.getNode())&&!Ks(e,i.block)?V0(!1,i.block.dom).bind(c=>c.isEqual(i.position)?xu(o,t,c).bind(m=>IT(t,m)):J.some(i)).getOr(i):i,I6=(e,t,o,i)=>{const c=IT(t,xt.fromRangeStart(i)),m=c.bind(h=>xu(o,t,h.position).bind(C=>IT(t,C).map(A=>Pz(e,t,o,A))));return ra(c,m,RT).filter(h=>NT(h)&&MT(t,h)&&Nz(h)&&R6(h)&&D6(h))},N6=(e,t,o,i)=>i.collapsed?I6(e,t,o,i):J.none(),Mz=(e,t)=>{const o=la(e);return Tn(o,i=>t.isBlock(Yo(i))).fold(tt(o),i=>o.slice(0,i))},P6=(e,t)=>{const o=Mz(e,t);return he(o,Rr),o},M6=(e,t,o)=>{const i=jc(o,t);return cn(i.reverse(),c=>Ks(e,c)).each(Rr)},Bz=(e,t)=>vt(Wu(t),o=>!Ks(e,o)).length===0,Lz=(e,t,o,i,c)=>{if(Ks(i,o))return Vc(o),Qn(o.dom);Bz(i,c)&&Ks(i,t)&&Ds(c,ze.fromTag("br"));const m=$c(o.dom,xt.before(c.dom));return he(P6(t,i),h=>{Ds(c,h)}),M6(i,e,t),m},u1=(e,t)=>e.isInline(Yo(t)),B6=(e,t,o,i)=>{if(Ks(i,o)){if(Ks(i,t)){const h=Ft((C=>{const A=(F,K)=>Fl(F).fold(()=>K,Y=>u1(i,Y)?A(Y,K.concat(Ys(Y))):K);return A(C,[])})(o),(C,A)=>(Gl(C,A),A),Ud());es(t),Zs(t,h)}return Rr(o),Qn(t.dom)}const c=nd(o.dom);return he(P6(t,i),m=>{Zs(o,m)}),M6(i,e,t),c},L6=(e,t)=>{const o=jc(t,e);return J.from(o[o.length-1])},F6=(e,t)=>ia(t,e)?L6(t,e):J.none(),V6=(e,t)=>{V0(e,t.dom).bind(o=>J.from(o.getNode())).map(ze.fromDom).filter(ed).each(Rr)},z6=(e,t,o,i)=>(V6(!0,t),V6(!1,o),F6(t,o).fold(nt(B6,e,t,o,i),nt(Lz,e,t,o,i))),Nh=(e,t,o,i,c)=>t?z6(e,i,o,c):z6(e,o,i,c),Jk=(e,t)=>{const o=ze.fromDom(e.getBody());return N6(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{Nh(o,t,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},Qk=(e,t,o)=>{const i=t.getRng();return ra(J2(e,ze.fromDom(i.startContainer)),J2(e,ze.fromDom(i.endContainer)),(c,m)=>Xo(c,m)?J.none():J.some(()=>{i.deleteContents(),Nh(e,!0,c,m,o).each(h=>{t.setRng(h.toRange())})})).getOr(J.none())},H6=(e,t)=>{const o=ze.fromDom(t),i=nt(Xo,e);return el(o,Fc,i).isSome()},$6=(e,t)=>H6(e,t.startContainer)||H6(e,t.endContainer),Fz=(e,t)=>{const o=$c(e.dom,xt.fromRangeStart(t)).isNone(),i=Xl(e.dom,xt.fromRangeEnd(t)).isNone();return!$6(e,t)&&o&&i},Vz=e=>J.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),BT=e=>{const t=ze.fromDom(e.getBody()),o=e.selection.getRng();return Fz(t,o)?Vz(e):Qk(t,e.selection,e.schema)},LT=(e,t)=>e.selection.isCollapsed()?J.none():BT(e),Ms=(e,t,o,i,c)=>J.from(t._selectionOverrides.showCaret(e,o,i,c)),zz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Aw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?J.none():J.some(zz(t)),FT=(e,t,o)=>{const i=qE(1,e.getBody(),t),c=xt.fromRangeStart(i),m=c.getNode();if(s2(m))return Ms(1,e,m,!c.isAtEnd(),!1);const h=c.getNode(!0);if(s2(h))return Ms(1,e,h,!1,!1);const C=ud(e.dom.getRoot(),c.getNode());return s2(C)?Ms(1,e,C,!1,o):J.none()},eS=(e,t,o)=>t.collapsed?FT(e,t,o).getOr(t):t,VT=e=>Mi(e)||Zb(e),Hz=e=>Qf(e)||Q0(e),$z=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},U6=(e,t,o,i,c,m)=>{Ms(i,e,m.getNode(!c),c,!0).each(h=>{if(t.collapsed){const C=t.cloneRange();c?C.setEnd(h.startContainer,h.startOffset):C.setStart(h.endContainer,h.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(h)}),$z(e.dom,o)},Uz=(e,t)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return J.none();const i=t?Ua.Forwards:Ua.Backwards,c=qn(e.getBody()),m=nt(YE,t?c.next:c.prev),h=t?VT:Hz,C=u2(i,e.getBody(),o),A=m(C),F=A&&cd(t,A);if(!F||!n_(C,F))return J.none();if(h(F))return J.some(()=>U6(e,o,C.getNode(),i,t,F));const K=m(F);return K&&h(K)&&n_(F,K)?J.some(()=>U6(e,o,C.getNode(),i,t,K)):J.none()},zT=(e,t)=>Uz(e,t),HT=(e,t)=>{const o=e.getBody();return t?Qn(o).filter(Mi):nd(o).filter(Qf)},$T=e=>{const t=e.selection.getRng();return!t.collapsed&&(HT(e,!0).exists(o=>o.isEqual(xt.fromRangeStart(t)))||HT(e,!1).exists(o=>o.isEqual(xt.fromRangeEnd(t))))},yy=e=>Ee(e)&&(Fc(ze.fromDom(e))||Gm(ze.fromDom(e))),qi=qo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Wz=(e,t)=>{const o=t.getNode(!e),i=e?"after":"before";return An(o)&&o.getAttribute("data-mce-caret")===i},Zz=(e,t,o,i,c)=>{const m=h=>c.isInline(h.nodeName.toLowerCase())&&!ng(o,i,e);return S5(!t,o).fold(()=>S5(t,i).fold(fn,m),m)},W6=(e,t,o,i,c)=>{const m=c.getNode(!o);return J2(ze.fromDom(t),ze.fromDom(i.getNode())).map(h=>Ks(e,h)?qi.remove(h.dom):qi.moveToElement(m)).orThunk(()=>J.some(qi.moveToElement(m)))},Z6=(e,t,o,i)=>xu(t,e,o).bind(c=>yy(c.getNode())||Zz(e,t,o,c,i)?J.none():t&&fo(c.getNode())||!t&&fo(c.getNode(!0))?W6(i,e,t,o,c):t&&Qf(o)||!t&&Mi(o)?J.some(qi.moveToPosition(c)):J.none()),jz=(e,t)=>Xe(t)?J.none():e&&fo(t.nextSibling)?J.some(qi.moveToElement(t.nextSibling)):!e&&fo(t.previousSibling)?J.some(qi.moveToElement(t.previousSibling)):J.none(),Kz=(e,t,o)=>o.fold(i=>J.some(qi.remove(i)),i=>J.some(qi.moveToElement(i)),i=>ng(t,i,e)?J.none():J.some(qi.moveToPosition(i))),Gz=(e,t,o,i)=>Wz(t,o)?jz(t,o.getNode(!t)).orThunk(()=>Z6(e,t,o,i)):Z6(e,t,o,i).bind(c=>Kz(e,o,c)),qz=(e,t,o,i)=>{const c=qE(t?1:-1,e,o),m=xt.fromRangeStart(c),h=ze.fromDom(e);return!t&&Qf(m)?J.some(qi.remove(m.getNode(!0))):t&&Mi(m)?J.some(qi.remove(m.getNode())):!t&&Mi(m)&&Kb(h,m,i)?$_(h,m,i).map(C=>qi.remove(C.getNode())):t&&Qf(m)&&K2(h,m,i)?gI(h,m,i).map(C=>qi.remove(C.getNode())):Gz(e,t,m,i)},Yz=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),kl(e,t,ze.fromDom(o)),!0),Xz=(e,t)=>o=>{const i=t?xt.before(o):xt.after(o);return e.selection.setRng(i.toRange()),!0},Jz=e=>t=>(e.selection.setRng(t.toRange()),!0),j6=(e,t)=>J.from(ud(e.getBody(),t)),Qz=(e,t)=>{const o=e.selection.getNode();return j6(e,o).filter(fo).fold(()=>qz(e.getBody(),t,e.selection.getRng(),e.schema).map(i=>()=>i.fold(Yz(e,t),Xz(e,t),Jz(e))),()=>J.some(ct))},e9=e=>{he(pi(e,".mce-offscreen-selection"),Rr)},t9=(e,t)=>{const o=e.selection.getNode();return fo(o)&&!dp(o)?j6(e,o.parentNode).filter(fo).fold(()=>J.some(()=>{e9(ze.fromDom(e.getBody())),kl(e,t,ze.fromDom(e.selection.getNode())),K_(e)}),()=>J.some(ct)):$T(e)?J.some(()=>{G_(e,e.selection.getRng(),ze.fromDom(e.getBody()))}):J.none()},K6=e=>{const t=e.dom,o=e.selection,i=ud(e.getBody(),o.getNode());if(Ic(i)&&t.isBlock(i)&&t.isEmpty(i)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(c),o.setRng(xt.before(c).toRange())}return!0},UT=(e,t)=>e.selection.isCollapsed()?Qz(e,t):t9(e,t),G6=e=>e.hasOwnProperty("text"),q6=e=>e.hasOwnProperty("marker"),Y6=(e,t)=>{const o=(m,h)=>{if(Ut(m))return{text:m,offset:h};{const C=t(),A=m.childNodes;return h<A.length?(m.insertBefore(C,A[h]),{marker:C,before:!0}):(m.appendChild(C),{marker:C,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},X6=e=>{var t,o;const{start:i,end:c}=e,m=new window.Range;return G6(i)?m.setStart(i.text,i.offset):q6(i)&&(i.before?m.setStartBefore(i.marker):m.setStartAfter(i.marker),(t=i.marker.parentNode)===null||t===void 0||t.removeChild(i.marker)),G6(c)?m.setEnd(c.text,c.offset):q6(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},WT=(e,t)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),m=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===h.firstChild&&m===h.lastChild&&!i.isEmpty(h)){const A=c.cloneNode(!1),F=()=>{if(t?m3(e):j_(e),h.firstChild!==c){const K=Y6(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(Y=>A.appendChild(Y)),h.appendChild(A),e.selection.setRng(X6(K))}};return J.some(F)}return J.none()},n9=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return xu(t,e.getBody(),o).filter(i=>t?lI(i):cI(i)).bind(i=>e_(t?0:-1,i)).map(i=>()=>e.selection.select(i))},ZT=(e,t)=>e.selection.isCollapsed()?n9(e,t):J.none(),xy=Ut,J6=e=>xy(e)&&e.data[0]===_i,Q6=e=>xy(e)&&e.data[e.data.length-1]===_i,eM=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(_i)},o9=e=>{var t;if(xy(e.previousSibling))return Q6(e.previousSibling)||e.previousSibling.appendData(_i),e.previousSibling;if(xy(e))return J6(e)||e.insertData(0,_i),e;{const o=eM(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},r9=e=>{var t,o;if(xy(e.nextSibling))return J6(e.nextSibling)||e.nextSibling.insertData(0,_i),e.nextSibling;if(xy(e))return Q6(e)||e.appendData(_i),e;{const i=eM(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},tS=(e,t)=>e?o9(t):r9(t),tM=nt(tS,!0),s9=nt(tS,!1),nM=(e,t)=>Ut(e.container())?tS(t,e.container()):tS(t,e.getNode()),oM=(e,t)=>{const o=t.get();return o&&e.container()===o&&qm(o)},jT=(e,t)=>t.fold(o=>{Op(e.get());const i=tM(o);return e.set(i),J.some(xt(i,i.length-1))},o=>Qn(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,1)}else{Op(e.get());const c=nM(i,!0);return e.set(c),xt(c,1)}}),o=>nd(o).map(i=>{if(oM(i,e)){const c=e.get();return xt(c,c.length-1)}else{Op(e.get());const c=nM(i,!1);return e.set(c),xt(c,c.length-1)}}),o=>{Op(e.get());const i=s9(o);return e.set(i),J.some(xt(i,1))}),rM=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,t);if(i.isSome())return i}return J.none()},Ql=qo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),sM=(e,t)=>{const o=Dp(t,e);return o||e},i9=(e,t,o)=>{const i=NI(o),c=sM(t,i.container());return Wp(e,c,i).fold(()=>Xl(c,i).bind(nt(Wp,e,c)).map(m=>Ql.before(m)),J.none)},iM=(e,t)=>Rp(e,t)===null,aM=(e,t,o)=>Wp(e,t,o).filter(nt(iM,t)),a9=(e,t,o)=>{const i=ry(o);return aM(e,t,i).bind(c=>$c(c,i).isNone()?J.some(Ql.start(c)):J.none())},l9=(e,t,o)=>{const i=NI(o);return aM(e,t,i).bind(c=>Xl(c,i).isNone()?J.some(Ql.end(c)):J.none())},c9=(e,t,o)=>{const i=ry(o),c=sM(t,i.container());return Wp(e,c,i).fold(()=>$c(c,i).bind(nt(Wp,e,c)).map(m=>Ql.after(m)),J.none)},lM=e=>!Y2(KT(e)),yg=(e,t,o)=>rM([i9,a9,l9,c9],[e,t,o]).filter(lM),KT=e=>e.fold(pt,pt,pt,pt),cM=e=>e.fold(tt("before"),tt("start"),tt("end"),tt("after")),Tw=e=>e.fold(Ql.before,Ql.before,Ql.after,Ql.after),nS=e=>e.fold(Ql.start,Ql.start,Ql.end,Ql.end),u9=(e,t)=>cM(e)===cM(t)&&KT(e)===KT(t),uM=(e,t,o,i,c,m)=>ra(Wp(t,o,i),Wp(t,o,c),(h,C)=>h!==C&&II(o,h,C)?Ql.after(e?h:C):m).getOr(m),d9=(e,t)=>e.fold(kn,o=>!u9(o,t)),f9=(e,t,o,i,c)=>{const m=cd(e,c);return xu(e,o,m).map(nt(cd,e)).fold(()=>i.map(Tw),A=>yg(t,o,A).map(nt(uM,e,t,o,m,A)).filter(nt(d9,i))).filter(lM)},m9=(e,t)=>e?t.fold($t(J.some,Ql.start),J.none,$t(J.some,Ql.after),J.none):t.fold(J.none,$t(J.some,Ql.before),J.none,$t(J.some,Ql.end)),g9=(e,t,o,i)=>{const c=cd(e,i),m=yg(t,o,c);return yg(t,o,c).bind(nt(m9,e)).orThunk(()=>f9(e,t,o,m,i))},h9=e=>Fe(e.selection.getSel().modify),dM=(e,t,o)=>{const i=e?1:-1;return t.setRng(xt(o.container(),o.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},GT=(e,t)=>{const o=t.selection.getRng(),i=e?xt.fromRangeEnd(o):xt.fromRangeStart(o);return h9(t)?e&&mb(i)?dM(!0,t.selection,i):!e&&C0(i)?dM(!1,t.selection,i):!1:!1};var tf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(tf||(tf={}));const oS=(e,t)=>e===Ua.Backwards?Uo(t):t,fM=(e,t,o)=>e===Ua.Forwards?t.next(o):t.prev(o),p9=(e,t,o,i)=>ps(i.getNode(t===Ua.Forwards))?tf.Br:ng(o,i)===!1?tf.Block:tf.Wrap,mM=(e,t,o,i)=>{const c=qn(o);let m=i;const h=[];for(;m;){const C=fM(t,c,m);if(!C)break;if(ps(C.getNode(!1)))return t===Ua.Forwards?{positions:oS(t,h).concat([C]),breakType:tf.Br,breakAt:J.some(C)}:{positions:oS(t,h),breakType:tf.Br,breakAt:J.some(C)};if(!C.isVisible()){m=C;continue}if(e(m,C)){const A=p9(o,t,m,C);return{positions:oS(t,h),breakType:A,breakAt:J.some(C)}}h.push(C),m=C}return{positions:oS(t,h),breakType:tf.Eol,breakAt:J.none()}},gM=(e,t,o,i)=>t(o,i).breakAt.map(c=>{const m=t(o,c).positions;return e===Ua.Backwards?m.concat(c):[c].concat(m)}).getOr([]),qT=(e,t)=>Vt(e,(o,i)=>o.fold(()=>J.some(i),c=>ra(hn(c.getClientRects()),hn(i.getClientRects()),(m,h)=>{const C=Math.abs(t-m.left);return Math.abs(t-h.left)<=C?i:c}).or(o)),J.none()),rS=(e,t)=>hn(t.getClientRects()).bind(o=>qT(e,o.left)),Ow=nt(mM,xt.isAbove,-1),Dw=nt(mM,xt.isBelow,1),hM=nt(gM,-1,Ow),sS=nt(gM,1,Dw),pM=(e,t)=>Ow(e,t).breakAt.isNone(),vM=(e,t)=>Dw(e,t).breakAt.isNone(),v9=e=>Qn(e).map(t=>[t].concat(Dw(e,t).positions)).getOr([]),bM=e=>nd(e).map(t=>Ow(e,t).positions.concat(t)).getOr([]),d1=(e,t)=>rS(hM(e,t),t),b9=(e,t)=>rS(sS(e,t),t),y9=fo,yM=(e,t)=>Math.abs(e.left-t),pc=(e,t)=>Math.abs(e.right-t),xM=e=>Kl(e,"node"),wM=(e,t)=>ml(e,(o,i)=>{const c=Math.min(yM(o,t),pc(o,t)),m=Math.min(yM(i,t),pc(i,t));return m===c&&xM(i)&&y9(i.node)||m<c?i:o}),x9=e=>{const t=o=>Le(o,i=>{const c=Ff(i);return c.node=e,c});if(An(e))return t(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},CM=e=>Co(e,x9);var Rw;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Rw||(Rw={}));const w9=(e,t,o,i)=>{let c=i;for(;c=a2(c,e,yb,t);)if(o(c))return},YT=(e,t,o,i,c,m)=>{let h=0;const C=[],A=Y=>{let Q=CM([Y]);e===-1&&(Q=Q.reverse());for(let ge=0;ge<Q.length;ge++){const Se=Q[ge];if(!o(Se,F)){if(C.length>0&&t(Se,Ca(C))&&h++,Se.line=h,c(Se))return!0;C.push(Se)}}return!1},F=Ca(m.getClientRects());if(!F)return C;const K=m.getNode();return K&&(A(K),w9(e,i,A,K)),C},C9=(e,t)=>t.line>e,_9=(e,t)=>t.line===e,k9=nt(YT,Rw.Up,Hf,gh),S9=nt(YT,Rw.Down,gh,Hf),_M=e=>Ca(e.getClientRects()),wy=(e,t,o,i)=>{const c=qn(t);let m,h,C,A;const F=[];let K=0;e===1?(m=c.next,h=gh,C=Hf,A=xt.after(i)):(m=c.prev,h=Hf,C=gh,A=xt.before(i));const Y=_M(A);do{if(!A.isVisible())continue;const Q=_M(A);if(C(Q,Y))continue;F.length>0&&h(Q,Ca(F))&&K++;const ge=Ff(Q);if(ge.position=A,ge.line=K,o(ge))return F;F.push(ge)}while(A=m(A));return F},XT=e=>t=>C9(e,t),Cy=e=>t=>_9(e,t),nm=(e,t)=>{e.selection.setRng(t),sd(e,e.selection.getRng())},iS=(e,t,o)=>J.some(eS(e,t,o)),JT=(e,t,o,i,c,m)=>{const h=t===Ua.Forwards,C=qn(e.getBody()),A=nt(YE,h?C.next:C.prev),F=h?i:c;if(!o.collapsed){const Se=kp(o);if(m(Se))return Ms(t,e,Se,t===Ua.Backwards,!1);if($T(e)){const pe=o.cloneRange();return pe.collapse(t===Ua.Backwards),J.from(pe)}}const K=u2(t,e.getBody(),o);if(F(K))return Aw(e,K.getNode(!h));let Y=A(K);const Q=mh(o);if(Y)Y=cd(h,Y);else return Q?J.some(o):J.none();if(F(Y))return Ms(t,e,Y.getNode(!h),h,!1);const ge=A(Y);return ge&&F(ge)&&n_(Y,ge)?Ms(t,e,ge.getNode(!h),h,!1):Q?iS(e,Y.toRange(),!1):J.none()},kM=(e,t,o,i,c,m)=>{const h=u2(t,e.getBody(),o),C=Ca(h.getClientRects()),A=t===Rw.Down,F=e.getBody();if(!C)return J.none();if($T(e)){const Oe=A?xt.fromRangeEnd(o):xt.fromRangeStart(o);return(A?b9:d1)(F,Oe).orThunk(()=>J.from(Oe)).map(et=>et.toRange())}const Y=(A?S9:k9)(F,XT(1),h),Q=vt(Y,Cy(1)),ge=C.left,Se=wM(Q,ge);if(Se&&m(Se.node)){const Oe=Math.abs(ge-Se.left),Ue=Math.abs(ge-Se.right);return Ms(t,e,Se.node,Oe<Ue,!1)}let pe;if(i(h)?pe=h.getNode():c(h)?pe=h.getNode(!0):pe=kp(o),pe){const Oe=wy(t,F,XT(1),pe);let Ue=wM(vt(Oe,Cy(1)),ge);if(Ue||(Ue=Ca(vt(Oe,Cy(0))),Ue))return iS(e,Ue.position.toRange(),!1)}return Q.length===0?aS(e,A).filter(A?c:i).map(Oe=>eS(e,Oe.toRange(),!1)):J.none()},aS=(e,t)=>{const o=e.selection.getRng(),i=t?xt.fromRangeEnd(o):xt.fromRangeStart(o),c=X8(i.container(),e.getBody());if(t){const m=Dw(c,i);return To(m.positions)}else{const m=Ow(c,i);return hn(m.positions)}},SM=(e,t,o)=>aS(e,t).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),Iw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},QT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},eO=(e,t,o)=>jT(t,o).map(i=>(Iw(e,i),o)),EM=(e,t,o)=>{const i=xt.fromRangeStart(e);if(e.collapsed)return i;{const c=xt.fromRangeEnd(e);return o?$c(t,c).getOr(c):Xl(t,i).getOr(i)}},AM=(e,t,o)=>{const i=e.getBody(),c=EM(e.selection.getRng(),i,o),m=nt(qb,e);return g9(o,m,i,c).bind(C=>eO(e,t,C))},TM=(e,t,o)=>{const i=Le(pi(ze.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=vt(i,e),m=vt(o,e);he(fr(c,m),nt(QT,!1)),he(fr(m,c),nt(QT,!0))},tO=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=xt.fromRangeStart(e.selection.getRng());xt.isTextPosition(i)&&!d3(i)&&(Iw(e,G8(o,i)),t.set(null))}},OM=(e,t,o,i)=>{if(t.selection.isCollapsed()){const c=vt(i,e);he(c,m=>{const h=xt.fromRangeStart(t.selection.getRng());yg(e,t.getBody(),h).bind(C=>eO(t,o,C))})}},nO=(e,t,o)=>B0(e)?AM(e,t,o).isSome():!1,oO=(e,t,o)=>B0(t)?GT(e,t):!1,DM=e=>{const t=Ri(null),o=nt(qb,e);return e.on("NodeChange",i=>{B0(e)&&(TM(o,e.dom,i.parents),tO(e,t),OM(o,e,t,i.parents))}),t},RM=nt(oO,!0),IM=nt(oO,!1),Nw=(e,t,o)=>{if(B0(e)){const i=aS(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?xt.fromRangeEnd(c):xt.fromRangeStart(c)});return yg(nt(qb,e),e.getBody(),i).exists(c=>{const m=Tw(c);return jT(o,m).exists(h=>(Iw(e,h),!0))})}else return!1},rO=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},sO=e=>ra(Qn(e),nd(e),(t,o)=>{const i=cd(!0,t),c=cd(!1,o);return Xl(e,i).forall(m=>m.isEqual(c))}).getOr(!0),Pw=(e,t)=>o=>jT(t,o).map(i=>()=>Iw(e,i)),iO=(e,t,o,i)=>{const c=e.getBody(),m=nt(qb,e);e.undoManager.ignore(()=>{e.selection.setRng(rO(o,i)),j_(e),yg(m,c,xt.fromRangeStart(e.selection.getRng())).map(nS).bind(Pw(e,t)).each(zn)}),e.nodeChanged()},NM=(e,t)=>{const o=Dp(t,e);return o||e},PM=(e,t,o,i)=>{const c=NM(e.getBody(),i.container()),m=nt(qb,e),h=yg(m,c,i);return h.bind(A=>o?A.fold(tt(J.some(nS(A))),J.none,tt(J.some(Tw(A))),J.none):A.fold(J.none,tt(J.some(Tw(A))),J.none,tt(J.some(nS(A))))).map(Pw(e,t)).getOrThunk(()=>{const A=Ib(o,c,i),F=A.bind(K=>yg(m,c,K));return ra(h,F,()=>Wp(m,c,i).bind(K=>sO(K)?J.some(()=>{kl(e,o,ze.fromDom(K))}):J.none())).getOrThunk(()=>F.bind(()=>A.map(K=>()=>{o?iO(e,t,i,K):iO(e,t,K,i)})))})},Mw=(e,t,o)=>{if(e.selection.isCollapsed()&&B0(e)){const i=xt.fromRangeStart(e.selection.getRng());return PM(e,t,o,i)}return J.none()},MM=e=>Nd(e)>1,aO=(e,t)=>{const o=ze.fromDom(e.getBody()),i=ze.fromDom(e.selection.getStart()),c=jc(i,o);return Tn(c,t).fold(tt(c),m=>c.slice(0,m))},BM=e=>Nd(e)===1,E9=e=>aO(e,t=>e.schema.isBlock(Yo(t))||MM(t)),LM=e=>aO(e,t=>e.schema.isBlock(Yo(t))),lO=(e,t)=>{const o=nt(ay,e);return Co(t,i=>o(i)?[i.dom]:[])},Bw=e=>{const t=LM(e);return lO(e,t)},FM=(e,t,o,i)=>{const c=lO(t,i);if(c.length===0)kl(t,e,o);else{const m=q3(o.dom,c);t.selection.setRng(m.toRange())}},VM=(e,t)=>{const o=vt(E9(e),BM);return To(o).bind(i=>{const c=xt.fromRangeStart(e.selection.getRng());return BI(t,c,i.dom)&&!f_(i)?J.some(()=>FM(t,e,i,o)):J.none()})},cO=(e,t)=>{const o=t.parentElement;return ps(t)&&!Ze(o)&&e.dom.isEmpty(o)},A9=e=>f_(ze.fromDom(e)),uO=(e,t)=>{const o=e.selection.getStart(),i=cO(e,o)||A9(o)?q3(o,t):M7(e.selection.getRng(),t);e.selection.setRng(i.toRange())},T9=(e,t)=>{const o=fr(t,Bw(e));o.length>0&&uO(e,o)},dO=e=>Ut(e.startContainer),zM=e=>e.startOffset===0&&dO(e),O9=(e,t)=>{const o=t.startContainer.parentElement;return!Ze(o)&&ay(e,ze.fromDom(o))},D9=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ze(t)&&!Ze(o)&&t.isEqualNode(o)},r=e=>{const t=e.endContainer;return e.endOffset===(Ut(t)?t.length:t.childNodes.length)},a=e=>D9(e)&&r(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>a(e)||u(e),p=e=>{const t=e.selection.getRng();return zM(t)&&O9(e,t)&&f(t)},b=e=>{if(p(e)){const t=Bw(e);return J.some(()=>{j_(e),T9(e,t)})}else return J.none()},w=(e,t)=>e.selection.isCollapsed()?VM(e,t):b(e),S=(e,t)=>yC(e,o=>wu(o.dom),o=>t.isBlock(Yo(o))),E=e=>S(ze.fromDom(e.selection.getStart()),e.schema),D=e=>{const t=e.selection.getRng();return t.collapsed&&(dO(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(D(e)&&uO(e,[]),!0),M=(e,t,o)=>Ee(o)?J.some(()=>{e._selectionOverrides.hideFakeCaret(),kl(e,t,ze.fromDom(o))}):J.none(),z=(e,t)=>{const o=t?Zb:Q0,i=t?Ua.Forwards:Ua.Backwards,c=u2(i,e.getBody(),e.selection.getRng());return o(c)?M(e,t,c.getNode(!t)):J.from(cd(t,c)).filter(m=>o(m)&&n_(c,m)).bind(m=>M(e,t,m.getNode(!t)))},q=(e,t)=>{const o=e.selection.getNode();return St(o)?M(e,t,o):J.none()},X=(e,t)=>e.selection.isCollapsed()?z(e,t):q(e,t),ue=e=>hi(e,t=>Ic(t.dom)||fo(t.dom)).exists(t=>Ic(t.dom)),me=e=>un(e??"").getOr(0),_e=(e,t)=>{const o=e||cb(t)?"margin":"padding",i=Ws(t,"direction")==="rtl"?"-right":"-left";return o+i},fe=(e,t,o,i,c,m)=>{const h=_e(o,ze.fromDom(m)),C=me(e.getStyle(m,h));if(t==="outdent"){const A=Math.max(0,C-i);e.setStyle(m,h,A?A+c:"")}else{const A=C+i+c;e.setStyle(m,h,A)}},de=(e,t)=>Ro(t,o=>{const i=_e(ZD(e),o),c=Fs(o,i).map(me).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),ve=e=>{const t=$e(e);return!e.mode.isReadOnly()&&(t.length>1||de(e,t))},ke=e=>db(e)||Gm(e),Ae=e=>aa(e).exists(ke),$e=e=>vt(lu(e.selection.getSelectedBlocks()),t=>!ke(t)&&!Ae(t)&&ue(t)),rt=(e,t)=>{var o,i;const{dom:c}=e,m=yu(e),h=(i=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",C=me(m),A=ZD(e);he($e(e),F=>{fe(c,t,A,C,h,F.dom)})},At=e=>rt(e,"indent"),kt=e=>rt(e,"outdent"),wt=e=>{if(e.selection.isCollapsed()&&ve(e)){const t=e.dom,o=e.selection.getRng(),i=xt.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&H_(ze.fromDom(c),i,e.schema))return J.some(()=>kt(e))}return J.none()},Ht=(e,t,o)=>rs([wt,UT,zT,(i,c)=>Mw(i,t,c),Jk,Ah,ZT,X,LT,w,WT],i=>i(e,o)).filter(i=>e.selection.isEditable()),mn=(e,t)=>{Ht(e,t,!1).fold(()=>{e.selection.isEditable()&&(j_(e),K_(e))},zn)},En=(e,t)=>{Ht(e,t,!0).fold(()=>{e.selection.isEditable()&&m3(e)},zn)},$n=(e,t)=>{e.addCommand("delete",()=>{mn(e,t)}),e.addCommand("forwardDelete",()=>{En(e,t)})},io=5,zo=400,ns=e=>e.touches===void 0||e.touches.length!==1?J.none():J.some(e.touches[0]),ms=(e,t)=>{const o=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return o>io||i>io},Eo=e=>{const t=Ii(),o=Ri(!1),i=xp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},zo);e.on("touchstart",c=>{ns(c).each(m=>{i.cancel();const h={x:m.clientX,y:m.clientY,target:c.target};i.throttle(c),o.set(!1),t.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),ns(c).each(m=>{t.on(h=>{ms(m,h)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Qo=(e,t)=>ao(e,t.nodeName),Gn=(e,t)=>Ut(t)?!0:An(t)?!Qo(e.getBlockElements(),t)&&!Cu(t)&&!Rf(e,t)&&!Ni(t):!1,gs=(e,t,o)=>be(fc(ze.fromDom(o),ze.fromDom(t)),i=>Qo(e,i.dom)),Fr=(e,t)=>{if(Ut(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Qo(e,t.nextSibling)||Ni(t.nextSibling)}return!1},Za=e=>e.dom.create(il(e),Jx(e)),ja=e=>{const t=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),m=o.getStart(),h=e.getBody();let C,A,F=null;const K=il(e);if(!m||!An(m))return;const Y=h.nodeName.toLowerCase();if(!i.isValidChild(Y,K.toLowerCase())||gs(c,h,m))return;if(h.firstChild===h.lastChild&&ps(h.firstChild)){C=Za(e),C.appendChild(Ud().dom),h.replaceChild(C,h.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let Q=h.firstChild;for(;Q;)if(An(Q)&&lc(i,Q),Gn(i,Q)){if(Fr(c,Q)){A=Q,Q=Q.nextSibling,t.remove(A);continue}if(!C){if(!F&&e.hasFocus()&&(F=Y6(e.selection.getRng(),()=>document.createElement("span"))),!Q.parentNode){Q=null;break}C=Za(e),h.insertBefore(C,Q)}A=Q,Q=Q.nextSibling,C.appendChild(A)}else C=null,Q=Q.nextSibling;F&&(e.selection.setRng(X6(F)),e.nodeChanged())},Yi=(e,t,o)=>{const i=ze.fromDom(Za(e)),c=Ud();Zs(i,c),o(t,i);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},Bi=e=>{e.on("NodeChange",()=>ja(e))},Ph=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,_y=(e,t,o)=>function(i){const c=arguments,m=c[c.length-2],h=m>0?t.charAt(m-1):"";if(h==='"')return i;if(h===">"){const C=t.lastIndexOf("<",m);if(C!==-1&&t.substring(C,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},sv=(e,t,o)=>{let i=t.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(t[i],_y(e,c,Tb(e)));o.content=c}},Mh=(e,t)=>Ro(e,o=>{const i=t.match(o);return i!==null&&i[0].length===t.length}),Lw=e=>{const t="contenteditable",o=" "+Xt.trim(H8(e))+" ",i=" "+Xt.trim(Tb(e))+" ",c=Ph(o),m=Ph(i),h=s5(e);h.length>0&&e.on("BeforeSetContent",C=>{sv(e,h,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const F=C[A];c(F)?F.attr(t,"true"):m(F)&&F.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const F=C[A];if(!c(F)&&!m(F))continue;const K=F.attr("data-mce-content");h.length>0&&K?Mh(h,K)?(F.name="#text",F.type=3,F.raw=!0,F.value=K):F.remove():F.attr(t,null)}})},iv=e=>Dt(ze.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),xg=(e,t)=>{t.hasAttribute("data-mce-caret")&&(fh(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},f1=(e,t)=>{const o=iv(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),xg(e,o);return}x0(o)&&(xg(e,o),e.undoManager.add())}},m1=e=>{e.on("keyup compositionstart",nt(f1,e))},ky=fo,lS=(e,t,o)=>JT(t,e,o,Mi,Qf,ky),Fw=(e,t,o)=>kM(t,e,o,m=>Mi(m)||uI(m),m=>Qf(m)||ey(m),ky),av=e=>{const t=e.dom.create(il(e));return t.innerHTML='<br data-mce-bogus="1">',t},wg=(e,t,o)=>{const i=qn(e.getBody()),c=nt(YE,t===1?i.next:i.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(xt.fromRangeStart(o))){const C=ze.fromDom(av(e));t===1?it(ze.fromDom(m),C):Ds(ze.fromDom(m),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Bh=(e,t)=>{const o=t?Ua.Forwards:Ua.Backwards,i=e.selection.getRng();return lS(o,e,i).orThunk(()=>(wg(e,o,i),J.none()))},Vw=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return Fw(o,e,i).orThunk(()=>(wg(e,o,i),J.none()))},zw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return Y2(o)?!t:t},hr=(e,t)=>Bh(e,zw(e.selection,t)).exists(o=>(nm(e,o),!0)),Cg=(e,t)=>Vw(e,t).exists(o=>(nm(e,o),!0)),nf=(e,t)=>SM(e,t,t?Qf:Mi),g1=(e,t)=>HT(e,!t).map(o=>{const i=o.toRange(),c=e.selection.getRng();return t?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(nm(e,o),!0)),cS=e=>ie(["figcaption"],Yo(e)),Lh=(e,t,o)=>{const i=nt(Xo,t);return hi(ze.fromDom(e.container()),c=>o.isBlock(Yo(c)),i).filter(cS)},Sy=(e,t,o)=>t?vM(e.dom,o):pM(e.dom,o),fO=(e,t)=>{const o=ze.fromDom(e.getBody()),i=xt.fromRangeStart(e.selection.getRng());return Lh(i,o,e.schema).exists(()=>{if(Sy(o,t,i)){const m=Yi(e,o,t?Zs:Va);return e.selection.setRng(m),!0}else return!1})},uS=(e,t)=>e.selection.isCollapsed()?fO(e,t):!1,R9=(e,t,o)=>{const i=e.selection.getRng(),c=xt.fromRangeStart(i);return e.getBody().firstChild===t&&pM(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Ey=(e,t)=>{const o=e.selection.getRng(),i=xt.fromRangeStart(o);return e.getBody().lastChild===t&&vM(t,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},I9=(e,t)=>t?J.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Ey(e,o)).getOr(!1):J.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>J.from(e.dom.getParent(o,"details")).map(i=>R9(e,i,o))).getOr(!1),El=(e,t)=>I9(e,t),h1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},N9=e=>Le(e,t=>({...h1,...t})),HM=e=>Le(e,t=>({...h1,...t})),dS=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,$M=(e,t)=>Co(N9(e),o=>dS(o,t)?[o]:[]),UM=(e,t)=>Co(HM(e),o=>dS(o,t)?[o]:[]),uo=(e,...t)=>()=>e.apply(null,t),lv=(e,t)=>cn($M(e,t),o=>o.action()),fS=(e,t)=>rs(UM(e,t),o=>o.action()),cv=(e,t)=>{const o=t?Ua.Forwards:Ua.Backwards,i=e.selection.getRng();return JT(e,o,i,Zb,Q0,St).exists(c=>(nm(e,c),!0))},Ay=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return kM(e,o,i,Zb,Q0,St).exists(c=>(nm(e,c),!0))},mO=(e,t)=>SM(e,t,t?Q0:Zb),gO=qo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),hd={...gO,none:e=>gO.none(e)},WM=(e,t)=>pO(e,t,kn),pO=(e,t,o)=>Co(la(e),i=>Mr(i,t)?o(i)?[i]:[]:pO(i,t,o)),ZM=(e,t,o=fn)=>{if(o(t))return J.none();if(ie(e,Yo(t)))return J.some(t);const i=c=>Mr(c,"table")||o(c);return iu(t,e.join(","),i)},jM=(e,t)=>ZM(["td","th"],e,t),P9=e=>WM(e,"th,td"),ft=(e,t)=>Zi(e,"table",t),Un=(e,t,o,i,c=kn)=>{const m=i===1;if(!m&&o<=0)return hd.first(e[0]);if(m&&o>=e.length-1)return hd.last(e[e.length-1]);{const h=o+i,C=e[h];return c(C)?hd.middle(t,C):Un(e,t,h,i,c)}},mo=(e,t)=>ft(e,t).bind(o=>{const i=P9(o);return Tn(i,m=>Xo(e,m)).map(m=>({index:m,all:i}))}),os=(e,t,o)=>mo(e,o).fold(()=>hd.none(e),c=>Un(c.all,e,c.index,1,t)),Xs=(e,t,o)=>mo(e,o).fold(()=>hd.none(),c=>Un(c.all,e,c.index,-1,t)),ci=e=>PC(e).filter(t=>t.trim().length!==0||t.indexOf(Di)>-1).isSome(),si=e=>Pa(e)&&Sa(e,"contenteditable")==="false",Si=["img","br"],Ty=e=>ci(e)||ie(Si,Yo(e))||si(e),M9=e=>Wi(e,Ty),KM=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),kW=(e,t)=>Co(t,o=>{const i=KM(Ff(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),Cee=(e,t,o)=>Vt(e,(i,c)=>i.fold(()=>J.some(c),m=>{const h=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),C=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return J.some(C<h?c:m)}),J.none()),SW=(e,t,o,i,c)=>{const m=pi(ze.fromDom(o),"td,th,caption").map(C=>C.dom),h=vt(kW(e,m),C=>t(C,c));return Cee(h,i,c).map(C=>C.cell)},_ee=e=>e.bottom,kee=e=>e.top,See=(e,t)=>e.y<t,Eee=(e,t)=>e.y>t,Aee=nt(SW,_ee,See),Tee=nt(SW,kee,Eee),Oee=(e,t)=>hn(t.getClientRects()).bind(o=>Aee(e,o.left,o.top)).bind(o=>rS(bM(o),t)),Dee=(e,t)=>To(t.getClientRects()).bind(o=>Tee(e,o.left,o.top)).bind(o=>rS(v9(o),t)),Ree=(e,t,o)=>o.breakAt.exists(i=>e(t,i).breakAt.isSome()),Iee=e=>e.breakType===tf.Wrap&&e.positions.length===0,Nee=e=>e.breakType===tf.Br&&e.positions.length===1,EW=(e,t,o)=>{const i=e(t,o);return Iee(i)||!ps(o.getNode())&&Nee(i)?!Ree(e,t,i):i.breakAt.isNone()},Pee=nt(EW,Ow),Mee=nt(EW,Dw),Bee=(e,t,o)=>{const i=xt.fromRangeStart(t);return V0(!e,o).exists(c=>c.isEqual(i))},Lee=(e,t,o,i)=>{const c=e.selection.getRng(),m=t?1:-1;return ZE()&&Bee(t,c,o)?(Ms(m,e,o,!t,!1).each(h=>{nm(e,h)}),!0):!1},Fee=(e,t,o)=>Oee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>qT(hM(e,xt.before(t)),i.left))).getOr(xt.before(t)),Vee=(e,t,o)=>Dee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>qT(sS(e,xt.after(t)),i.left))).getOr(xt.after(t)),AW=(e,t)=>{const o=t.getNode(e);return uu(o)?J.some(o):J.none()},zee=(e,t,o)=>{t.undoManager.transact(()=>{const i=e?it:Ds,c=Yi(t,ze.fromDom(o),i);nm(t,c)})},TW=(e,t,o)=>{const i=AW(!!t,o),c=t===!1;i.fold(()=>nm(e,o.toRange()),m=>V0(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>nm(e,o.toRange()),h=>zee(t,e,m)))},Hee=(e,t,o,i)=>{const c=e.selection.getRng(),m=xt.fromRangeStart(c),h=e.getBody();if(!t&&Pee(i,m)){const C=Fee(h,o,m);return TW(e,t,C),!0}else if(t&&Mee(i,m)){const C=Vee(h,o,m);return TW(e,t,C),!0}else return!1},OW=(e,t,o)=>J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>J.from(e.dom.getParent(i,"table")).map(c=>o(e,t,c,i))).getOr(!1),DW=(e,t)=>OW(e,t,Lee),B9=(e,t)=>OW(e,t,Hee),$ee=e=>{const t=Fp.exact(e,0,e,0);return AF(t)},RW=(e,t,o)=>o.fold(J.none,J.none,(i,c)=>M9(c).map(m=>$ee(m)),i=>(e.execCommand("mceTableInsertRowAfter"),IW(e,t,i))),IW=(e,t,o)=>RW(e,t,os(o,_s)),Uee=(e,t,o)=>RW(e,t,Xs(o,_s)),NW=(e,t)=>{const o=["table","li","dl"],i=ze.fromDom(e.getBody()),c=C=>{const A=Yo(C);return Xo(C,i)||ie(o,A)},m=e.selection.getRng(),h=ze.fromDom(t?m.endContainer:m.startContainer);return jM(h,c).map(C=>(ft(C,c).each(K=>{e.model.table.clearSelectedCells(K.dom)}),e.selection.collapse(!t),(t?IW:Uee)(e,c,C).each(K=>{e.selection.setRng(K)}),!0)).getOr(!1)},Wee=(e,t,o)=>{const i=Fo.os.isMacOS()||Fo.os.isiOS();lv([{keyCode:dn.RIGHT,action:uo(hr,e,!0)},{keyCode:dn.LEFT,action:uo(hr,e,!1)},{keyCode:dn.UP,action:uo(Cg,e,!1)},{keyCode:dn.DOWN,action:uo(Cg,e,!0)},...i?[{keyCode:dn.UP,action:uo(g1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:dn.DOWN,action:uo(g1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:dn.RIGHT,action:uo(DW,e,!0)},{keyCode:dn.LEFT,action:uo(DW,e,!1)},{keyCode:dn.UP,action:uo(B9,e,!1)},{keyCode:dn.DOWN,action:uo(B9,e,!0)},{keyCode:dn.UP,action:uo(B9,e,!1)},{keyCode:dn.UP,action:uo(El,e,!1)},{keyCode:dn.DOWN,action:uo(El,e,!0)},{keyCode:dn.RIGHT,action:uo(cv,e,!0)},{keyCode:dn.LEFT,action:uo(cv,e,!1)},{keyCode:dn.UP,action:uo(Ay,e,!1)},{keyCode:dn.DOWN,action:uo(Ay,e,!0)},{keyCode:dn.RIGHT,action:uo(nO,e,t,!0)},{keyCode:dn.LEFT,action:uo(nO,e,t,!1)},{keyCode:dn.RIGHT,ctrlKey:!i,altKey:i,action:uo(RM,e,t)},{keyCode:dn.LEFT,ctrlKey:!i,altKey:i,action:uo(IM,e,t)},{keyCode:dn.UP,action:uo(uS,e,!1)},{keyCode:dn.DOWN,action:uo(uS,e,!0)}],o).each(c=>{o.preventDefault()})},Zee=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Wee(e,t,o)})},Fh=(e,t)=>({container:e,offset:t}),GM=Gr.DOM,qM=e=>t=>e===t?-1:0,jee=e=>t=>e.isBlock(t)||ie(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",L9=(e,t,o)=>{if(Ut(e)&&t>=0)return J.some(Fh(e,t));{const i=Hd(GM);return J.from(i.backwards(e,t,qM(e),o)).map(c=>Fh(c.container,c.container.data.length))}},Kee=(e,t,o)=>{if(Ut(e)&&t>=e.length)return J.some(Fh(e,t));{const i=Hd(GM);return J.from(i.forwards(e,t,qM(e),o)).map(c=>Fh(c.container,0))}},F9=(e,t,o)=>{if(!Ut(e))return J.none();const i=e.data;if(t>=0&&t<=i.length)return J.some(Fh(e,t));{const c=Hd(GM);return J.from(c.backwards(e,t,qM(e),o)).bind(m=>{const h=m.container.data;return F9(m.container,t+h.length,o)})}},PW=(e,t,o)=>{if(!Ut(e))return J.none();const i=e.data;if(t<=i.length)return J.some(Fh(e,t));{const c=Hd(GM);return J.from(c.forwards(e,t,qM(e),o)).bind(m=>PW(m.container,t-i.length,o))}},V9=(e,t,o,i,c)=>{const m=Hd(e,jee(e));return J.from(m.backwards(t,o,i,c))},Gee=e=>e.collapsed&&Ut(e.startContainer),qee=e=>Cl(e.toString().replace(/\u00A0/g," ")),MW=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Yee=(e,t)=>e.substring(t.length),Xee=(e,t,o,i=!1)=>{let c;const m=o.charAt(0);for(c=t-1;c>=0;c--){const h=e.charAt(c);if(!i&&MW(h))return J.none();if(m===h&&Pr(e,o,c,t))break}return J.some(c)},z9=(e,t,o,i=!1)=>{if(!Gee(t))return J.none();const c={text:"",offset:0},m=(C,A,F)=>(c.text=F+c.text,c.offset+=A,Xee(c.text,c.offset,o,i).getOr(A)),h=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return V9(e,t.startContainer,t.startOffset,m,h).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return J.none();const F=qee(A);return F.lastIndexOf(o)!==0?J.none():J.some({text:Yee(F,o),range:A,trigger:o})})},Jee=e=>e.nodeType===Hg,Qee=e=>e.nodeType===pl,BW=e=>{if(Jee(e))return Fh(e,e.data.length);{const t=e.childNodes;return t.length>0?BW(t[t.length-1]):Fh(e,t.length)}},LW=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?LW(o[t],0):o.length>0&&Qee(e)&&o.length===t?BW(o[o.length-1]):Fh(e,t)},ete=(e,t)=>{var o;const i=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return V9(e,t.container,t.offset,(c,m)=>m===0?-1:m,i).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!MW(m)}).isSome()},tte=e=>t=>{const o=LW(t.startContainer,t.startOffset);return!ete(e,o)},nte=(e,t,o)=>rs(o.triggers,i=>z9(e,t,i)),ote=(e,t)=>{const o=t(),i=e.selection.getRng();return nte(e.dom,i,o).bind(c=>FW(e,t,c))},FW=(e,t,o,i={})=>{var c;const m=t(),C=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=vt(m.lookupByTrigger(o.trigger),K=>o.text.length>=K.minChars&&K.matches.getOrThunk(()=>tte(e.dom))(o.range,C,o.text));if(A.length===0)return J.none();const F=Promise.all(Le(A,K=>K.fetch(o.text,K.maxResults,i).then(Q=>({matchText:o.text,items:Q,columns:K.columns,onAction:K.onAction,highlightOn:K.highlightOn}))));return J.some({lookupData:F,context:o})};var Vh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Vh||(Vh={}));const H9=(e,t,o)=>e.stype===Vh.Error?t(e.serror):o(e.svalue),rte=e=>{const t=[],o=[];return he(e,i=>{H9(i,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},ste=(e,t)=>e.stype===Vh.Error?{stype:Vh.Error,serror:t(e.serror)}:e,ite=(e,t)=>e.stype===Vh.Value?{stype:Vh.Value,svalue:t(e.svalue)}:e,ate=(e,t)=>e.stype===Vh.Value?t(e.svalue):e,lte=(e,t)=>e.stype===Vh.Error?t(e.serror):e,VW=e=>({stype:Vh.Value,svalue:e}),zW=e=>({stype:Vh.Error,serror:e}),zl={fromResult:e=>e.fold(zW,VW),toResult:e=>H9(e,Jn.error,Jn.value),svalue:VW,partition:rte,serror:zW,bind:ate,bindError:lte,map:ite,mapError:ste,fold:H9},$9=e=>ee(e)&&Kt(e).length>100?" removed due to size":JSON.stringify(e,null,2),cte=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:tt("... (only showing first ten failures)")}]):e;return Le(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},YM=(e,t)=>zl.serror([{path:e,getErrorInfo:t}]),ute=(e,t,o)=>YM(e,()=>'Could not find valid *required* value for "'+t+'" in '+$9(o)),dte=(e,t)=>YM(e,()=>'Choice schema did not contain choice key: "'+t+'"'),fte=(e,t,o)=>YM(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+$9(t)),mte=(e,t)=>YM(e,tt(t)),gte=(e,t,o,i)=>Dr(o,i).fold(()=>fte(e,o,i),m=>m.extract(e.concat(["branch: "+i]),t)),hte=(e,t)=>({extract:(c,m)=>Dr(m,e).fold(()=>dte(c,e),C=>gte(c,m,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Kt(t)}),pte=(e,t)=>t,vte=(e,t)=>we(e)&&we(t)?XM(e,t):t,HW=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<t.length;i++){const c=t[i];for(const m in c)ao(c,m)&&(o[m]=e(o[m],c[m]))}return o},XM=HW(vte),$W=HW(pte),UW=()=>({tag:"required",process:{}}),bte=e=>({tag:"defaultedThunk",process:e}),WW=e=>bte(tt(e)),yte=()=>({tag:"option",process:{}}),xte=(e,t)=>e.length>0?zl.svalue(XM(t,$W.apply(void 0,e))):zl.svalue(t),ZW=e=>$t(zl.serror,Dn)(e),wte={consolidateObj:(e,t)=>{const o=zl.partition(e);return o.errors.length>0?ZW(o.errors):xte(o.values,t)},consolidateArr:e=>{const t=zl.partition(e);return t.errors.length>0?ZW(t.errors):zl.svalue(t.values)}},Cte=(e,t,o,i)=>({tag:"field",key:e,newKey:t,presence:o,prop:i}),_te=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),jW=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},U9=e=>{const t=(i,c)=>zl.bindError(e(c),m=>mte(i,m)),o=tt("val");return{extract:t,toString:o}},kte=U9(zl.svalue),Ste=(e,t,o,i)=>Dr(t,o).fold(()=>ute(e,o,t),i),KW=(e,t,o,i)=>{const c=Dr(e,t).getOrThunk(()=>o(e));return i(c)},Ete=(e,t,o)=>o(Dr(e,t)),Ate=(e,t,o,i)=>{const c=Dr(e,t).map(m=>m===!0?o(e):m);return i(c)},Tte=(e,t,o,i,c)=>{const m=C=>c.extract(t.concat([i]),C),h=C=>C.fold(()=>zl.svalue(J.none()),A=>{const F=c.extract(t.concat([i]),A);return zl.map(F,J.some)});switch(e.tag){case"required":return Ste(t,o,i,m);case"defaultedThunk":return KW(o,i,e.process,m);case"option":return Ete(o,i,h);case"defaultedOptionThunk":return Ate(o,i,e.process,h);case"mergeWithThunk":return KW(o,i,tt({}),C=>{const A=XM(e.process(o),C);return m(A)})}},Ote=(e,t,o)=>{const i={},c=[];for(const m of o)jW(m,(h,C,A,F)=>{const K=Tte(A,e,t,h,F);zl.fold(K,Y=>{c.push(...Y)},Y=>{i[C]=Y})},(h,C)=>{i[h]=C(t)});return c.length>0?zl.serror(c):zl.svalue(i)},W9=e=>({extract:(i,c)=>Ote(i,c,e),toString:()=>`obj{
`+Le(e,c=>jW(c,(m,h,C,A)=>m+" -> "+A.toString(),(m,h)=>"state("+m+")")).join(`
`)+"}"}),GW=e=>({extract:(i,c)=>{const m=Le(c,(h,C)=>e.extract(i.concat(["["+C+"]"]),h));return wte.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Dte=e=>U9(t=>e(t).fold(zl.serror,zl.svalue)),Rte=(e,t,o)=>{const i=t.extract([e],o);return zl.mapError(i,c=>({input:o,errors:c}))},Ite=(e,t,o)=>zl.toResult(Rte(e,t,o)),Nte=e=>`Errors: 
`+cte(e.errors).join(`
`)+`

Input object: `+$9(e.input),qW=(e,t)=>hte(e,jl(t,W9)),Pte=tt(kte),JM=(e,t)=>U9(o=>{const i=typeof o;return e(o)?zl.svalue(o):zl.serror(`Expected type: ${t} but got: ${i}`)}),Mte=JM(O,"number"),QM=JM(Ce,"string"),Bte=JM(Be,"boolean"),Z9=JM(Fe,"function"),vO=Cte,YW=_te,Lte=e=>Dte(t=>ie(e,t)?Jn.value(t):Jn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),XW=(e,t)=>vO(e,e,UW(),t),JW=e=>XW(e,QM),QW=e=>XW(e,Z9),Fte=(e,t)=>vO(e,e,UW(),GW(t)),j9=(e,t)=>vO(e,e,yte(),t),eB=e=>j9(e,QM),Vte=e=>j9(e,Z9),zte=(e,t)=>vO(e,e,WW(t),Pte()),mS=(e,t,o)=>vO(e,e,WW(t),o),eZ=(e,t)=>mS(e,t,Mte),Hte=(e,t)=>mS(e,t,QM),tZ=(e,t,o)=>mS(e,t,Lte(o)),K9=(e,t)=>mS(e,t,Bte),G9=(e,t)=>mS(e,t,Z9),$te=(e,t,o)=>mS(e,t,GW(o)),Ute=JW("type"),Wte=QW("fetch"),q9=QW("onAction"),Zte=G9("onSetup",()=>ct),jte=eB("text"),Kte=eB("icon"),Gte=eB("tooltip"),qte=eB("label"),Yte=K9("active",!1),Xte=K9("enabled",!0),nZ=K9("primary",!1),Jte=e=>zte("columns",e),bO=e=>Hte("type",e),Qte=W9([Ute,JW("trigger"),eZ("minChars",1),Jte(1),eZ("maxResults",10),Vte("matches"),Wte,q9,$te("highlightOn",[],QM)]),ene=e=>Ite("Autocompleter",Qte,e),Y9=[Xte,Gte,Kte,jte,Zte],oZ=[Yte].concat(Y9),tne=[G9("predicate",fn),tZ("scope","node",["node","editor"]),tZ("position","selection",["node","selection","line"])],nne=Y9.concat([bO("contextformbutton"),nZ,q9,YW("original",pt)]),one=oZ.concat([bO("contextformbutton"),nZ,q9,YW("original",pt)]),rne=Y9.concat([bO("contextformbutton")]),sne=oZ.concat([bO("contextformtogglebutton")]),ine=qW("type",{contextformbutton:nne,contextformtogglebutton:one});W9([bO("contextform"),G9("initValue",tt("")),qte,Fte("commands",ine),j9("launch",qW("type",{contextformbutton:rne,contextformtogglebutton:sne}))].concat(tne));const ane=e=>{const t=e.ui.registry.getAll().popups,o=jl(t,h=>ene(h).fold(C=>{throw new Error(Nte(C))},pt)),i=Lu(fl(o,h=>h.trigger)),c=Bu(o);return{dataset:o,triggers:i,lookupByTrigger:h=>vt(c,C=>C.trigger===h)}},lne=(e,t)=>{const o=xp(t.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},cne=e=>{const t=Ii(),o=Ri(!1),i=t.isSet,c=()=>{i()&&(mF(e),o.set(!1),t.clear())},m=Y=>{i()||t.set({trigger:Y.trigger,matchLength:Y.text.length})},h=Nl(()=>ane(e)),C=Y=>t.get().map(Q=>z9(e.dom,e.selection.getRng(),Q.trigger,!0).bind(ge=>FW(e,h,ge,Y))).getOrThunk(()=>ote(e,h)),A=Y=>{C(Y).fold(c,Q=>{m(Q.context),Q.lookupData.then(ge=>{t.get().map(Se=>{const pe=Q.context;Se.trigger===pe.trigger&&(t.set({...Se,matchLength:pe.text.length}),o.get()?(pA(e,{range:pe.range}),hA(e,{lookupData:ge})):(o.set(!0),pA(e,{range:pe.range}),gA(e,{lookupData:ge})))})})})},F=(Y,Q)=>{const ge=Y.compareBoundaryPoints(window.Range.START_TO_START,Q),Se=Y.compareBoundaryPoints(window.Range.END_TO_END,Q);return ge>=0&&Se<=0},K=()=>t.get().bind(({trigger:Y})=>{const Q=e.selection.getRng();return z9(e.dom,Q,Y,o.get()).filter(({range:ge})=>F(Q,ge)).map(({range:ge})=>ge)});e.addCommand("mceAutocompleterReload",(Y,Q)=>{const ge=ee(Q)?Q.fetchOptions:{};A(ge)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{K().each(Y=>{pA(e,{range:Y})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>K().isSome()),lne(e,{cancelIfNecessary:c,load:A})},une=na().browser.isSafari(),rZ=e=>Vc(ze.fromDom(e)),sZ=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},tB=(e,t)=>J.from(e.getParent(t.container(),"details")),iZ=(e,t)=>tB(e,t).isSome(),dne=(e,t)=>{const o=J.from(e.getParent(t.startContainer,"details")),i=J.from(e.getParent(t.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(m=>J.from(e.select("summary",m)[0]));return J.some({startSummary:c,startDetails:o,endDetails:i})}else return J.none()},fne=(e,t)=>Qn(t).exists(o=>o.isEqual(e)),mne=(e,t)=>nd(t).exists(o=>ps(o.getNode())&&$c(t,o).exists(i=>i.isEqual(e))||o.isEqual(e)),gne=(e,t)=>t.startSummary.exists(o=>fne(e,o)),hne=(e,t)=>t.startSummary.exists(o=>mne(e,o)),pne=(e,t)=>t.startDetails.exists(o=>$c(o,e).forall(i=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),vne=(e,t,o)=>o.startDetails.exists(i=>Xl(e,t).forall(c=>!i.contains(c.container()))),aZ=(e,t)=>{const o=t.getNode();Me(o)||e.selection.setCursorLocation(o,t.offset())},lZ=(e,t,o)=>{const i=e.dom.getParent(t.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Qn(c):nd(c)).each(h=>aZ(e,h))}else aZ(e,t)},bne=(e,t)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=t.startSummary.exists(o),m=t.startSummary.exists(i),h=t.startDetails.forall(A=>t.endDetails.forall(F=>A!==F));return(c||m)&&!(c&&m)||h},cZ=(e,t,o)=>{const{dom:i,selection:c}=e,m=e.getBody();if(o==="character"){const h=xt.fromRangeStart(c.getRng()),C=i.getParent(h.container(),i.isBlock),A=tB(i,h),F=C&&i.isEmpty(C),K=Ze(C==null?void 0:C.previousSibling),Y=Ze(C==null?void 0:C.nextSibling);return F&&(t?Y:K)&&Ib(!t,m,h).exists(Se=>iZ(i,Se)&&!hf(A,tB(i,Se)))?!0:Ib(t,m,h).fold(fn,Q=>{const ge=tB(i,Q);if(iZ(i,Q)&&!hf(A,ge)){if(t||lZ(e,Q,!1),C&&F){if(t&&K)return!0;if(!t&&Y)return!0;lZ(e,Q,t),e.dom.remove(C)}return!0}else return!1})}else return!1},yne=(e,t,o,i)=>{const m=e.selection.getRng(),h=xt.fromRangeStart(m),C=e.getBody();return i==="selection"?bne(m,t):o?hne(h,t)||vne(C,h,t):gne(h,t)||pne(h,t)},xne=(e,t,o)=>dne(e.dom,e.selection.getRng()).fold(()=>cZ(e,t,o),i=>yne(e,i,t,o)||cZ(e,t,o)),wne=(e,t,o)=>{const i=e.selection,c=i.getNode(),m=i.getRng(),h=xt.fromRangeStart(m);return mp(c)?(o==="selection"&&sZ(m,c)||BI(t,h,c)?rZ(c):e.undoManager.transact(()=>{const C=i.getSel();let{anchorNode:A,anchorOffset:F,focusNode:K,focusOffset:Y}=C??{};const Q=()=>{Ee(A)&&Ee(F)&&Ee(K)&&Ee(Y)&&(C==null||C.setBaseAndExtent(A,F,K,Y))},ge=()=>{A=C==null?void 0:C.anchorNode,F=C==null?void 0:C.anchorOffset,K=C==null?void 0:C.focusNode,Y=C==null?void 0:C.focusOffset},Se=(Oe,Ue)=>{he(Oe.childNodes,et=>{W0(et)&&Ue.appendChild(et)})},pe=e.dom.create("span",{"data-mce-bogus":"1"});Se(c,pe),c.appendChild(pe),Q(),(o==="word"||o==="line")&&(C==null||C.modify("extend",t?"right":"left",o)),!i.isCollapsed()&&sZ(i.getRng(),pe)?rZ(c):(e.execCommand(t?"ForwardDelete":"Delete"),ge(),Se(pe,c),Q()),e.dom.remove(pe)}),!0):!1},Hw=(e,t,o)=>xne(e,t,o)||une&&wne(e,t,o)?J.some(ct):J.none(),uZ=e=>(t,o,i={})=>{const c=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:ct,inputType:o},h=Hm(new InputEvent(e));return t.dispatch(e,{...h,...m,...i})},yO=uZ("input"),nB=uZ("beforeinput"),dZ=na(),fZ=dZ.os,mZ=fZ.isMacOS()||fZ.isiOS(),Cne=dZ.browser.isFirefox(),_ne=(e,t,o)=>{const i=o.keyCode===dn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",h=C=>c?C?"word":"line":"selection";fS([{keyCode:dn.BACKSPACE,action:uo(wt,e)},{keyCode:dn.BACKSPACE,action:uo(UT,e,!1)},{keyCode:dn.DELETE,action:uo(UT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(zT,e,!1)},{keyCode:dn.DELETE,action:uo(zT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Mw,e,t,!1)},{keyCode:dn.DELETE,action:uo(Mw,e,t,!0)},{keyCode:dn.BACKSPACE,action:uo(Ah,e,!1)},{keyCode:dn.DELETE,action:uo(Ah,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Hw,e,!1,m)},{keyCode:dn.DELETE,action:uo(Hw,e,!0,m)},...mZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(Hw,e,!1,h(!0))},{keyCode:dn.DELETE,altKey:!0,action:uo(Hw,e,!0,h(!0))},{keyCode:dn.BACKSPACE,metaKey:!0,action:uo(Hw,e,!1,h(!1))}]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(Hw,e,!1,h(!0))},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(Hw,e,!0,h(!0))}],{keyCode:dn.BACKSPACE,action:uo(ZT,e,!1)},{keyCode:dn.DELETE,action:uo(ZT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(X,e,!1)},{keyCode:dn.DELETE,action:uo(X,e,!0)},{keyCode:dn.BACKSPACE,action:uo(LT,e,!1)},{keyCode:dn.DELETE,action:uo(LT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Jk,e,!1)},{keyCode:dn.DELETE,action:uo(Jk,e,!0)},{keyCode:dn.BACKSPACE,action:uo(w,e,!1)},{keyCode:dn.DELETE,action:uo(w,e,!0)},{keyCode:dn.BACKSPACE,action:uo(WT,e,!1)},{keyCode:dn.DELETE,action:uo(WT,e,!0)}],o).filter(C=>e.selection.isEditable()).each(C=>{o.preventDefault(),nB(e,i).isDefaultPrevented()||(C(),yO(e,i))})},kne=(e,t,o)=>lv([{keyCode:dn.BACKSPACE,action:uo(K6,e)},{keyCode:dn.DELETE,action:uo(K6,e)},...mZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(L,e)},{keyCode:dn.DELETE,altKey:!0,action:uo(L,e)},...o?[{keyCode:Cne?224:91,action:uo(L,e)}]:[]]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(L,e)},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(L,e)}]],t),Sne=(e,t)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===dn.BACKSPACE,i.isDefaultPrevented()||_ne(e,t,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||kne(e,i,o),o=!1})},Ene=e=>{for(;e;){if(An(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},gS=(e,t)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=Ene(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(Di),t.firstChild)}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new ca(t,t);let h=t,C;for(;C=m.current();){if(Ut(C)){c.setStart(C,0),c.setEnd(C,0);break}if(i[C.nodeName.toLowerCase()]){c.setStartBefore(C),c.setEndBefore(C);break}h=C,C=m.next()}C||(c.setStart(h,0),c.setEnd(h,0))}else ps(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),sd(e,c)},xO=(e,t)=>{const o=e.getRoot();let i,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},X9=e=>J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Ane=e=>X9(e).fold(tt(""),t=>t.nodeName.toUpperCase()),Tne=e=>X9(e).filter(t=>Gm(ze.fromDom(t))).isSome(),J9=e=>{e.innerHTML='<br data-mce-bogus="1">'},One=(e,t,o)=>{const i=e.dom;J.from(o.style).map(i.parseStyle).each(A=>{const K={...Zg(ze.fromDom(t)),...A};i.setStyles(t,K)});const c=J.from(o.class).map(A=>A.split(/\s+/)),m=J.from(t.className).map(A=>vt(A.split(/\s+/),F=>F!==""));ra(c,m,(A,F)=>{const K=vt(F,Q=>!ie(A,Q)),Y=[...A,...K];i.setAttrib(t,"class",Y.join(" "))});const h=["style","class"],C=_c(o,(A,F)=>!ie(h,F));i.setAttribs(t,C)},wO=(e,t)=>{if(il(e).toLowerCase()===t.tagName.toLowerCase()){const i=Jx(e);One(e,t,i)}},gZ=(e,t,o,i,c=!0,m,h)=>{const C=e.dom,A=e.schema,F=il(e),K=o?o.nodeName.toUpperCase():"";let Y=t;const Q=A.getTextInlineElements();let ge;m||K==="TABLE"||K==="HR"?ge=C.create(m||F,h||{}):ge=o.cloneNode(!1);let Se=ge;if(!c)C.setAttrib(ge,"style",null),C.setAttrib(ge,"class",null);else do if(Q[Y.nodeName]){if(wu(Y)||Cu(Y))continue;const pe=Y.cloneNode(!1);C.setAttrib(pe,"id",""),ge.hasChildNodes()?(pe.appendChild(ge.firstChild),ge.appendChild(pe)):(Se=pe,ge.appendChild(pe))}while((Y=Y.parentNode)&&Y!==i);return wO(e,ge),J9(Se),ge},Dne=(e,t)=>e.dom.getParent(t,fp),Rne=(e,t,o)=>{let i=t;for(;i&&i!==e&&Ze(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return fp(c);i=c}return!1},Ine=(e,t,o)=>!t&&o.nodeName.toLowerCase()===il(e)&&e.dom.isEmpty(o)&&Rne(e.getBody(),o,i=>ao(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),Nne=(e,t,o)=>{var i,c,m;const h=t(il(e)),C=Dne(e,o);C&&(e.dom.insertAfter(h,C),gS(e,h),((m=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Pne=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Mne=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},hZ=(e,t)=>{const o=e==null?void 0:e.parentNode;return Ee(o)&&o.nodeName===t},pZ=e=>Ee(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Q9=e=>Ee(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Bne=e=>pZ(e)&&pZ(e.parentNode),oB=e=>{const t=e.parentNode;return Q9(t)?t:e},rB=(e,t,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!An(i);)i=i[o?"nextSibling":"previousSibling"];return i===t},vZ=e=>Vt(fl(Zg(ze.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Lne=(e,t,o,i,c)=>{const m=e.dom,h=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Bne(o)&&(c="LI");const A=Q9(i)?vZ(i):void 0;let F=Q9(i)&&A?t(c,{style:vZ(i)}):t(c);if(rB(o,i,!0)&&rB(o,i,!1))if(hZ(o,"LI")){const K=oB(o);m.insertAfter(F,K),Mne(o)?m.remove(K):m.remove(o)}else m.replace(F,o);else if(rB(o,i,!0))hZ(o,"LI")?(m.insertAfter(F,oB(o)),F.appendChild(m.doc.createTextNode(" ")),F.appendChild(o)):C.insertBefore(F,o),m.remove(i);else if(rB(o,i,!1))m.insertAfter(F,oB(o)),m.remove(i);else{o=oB(o);const K=h.cloneRange();K.setStartAfter(i),K.setEndAfter(o);const Y=K.extractContents();if(c==="LI"&&Pne(Y,"LI")){const Q=vt(Le(F.children,ze.fromDom),Ye(yf("br")));F=Y.firstChild,m.insertAfter(Y,o),he(Q,ge=>Va(ze.fromDom(F),ge)),A&&F.setAttribute("style",A)}else m.insertAfter(Y,o),m.insertAfter(F,o);m.remove(i)}gS(e,F)},Fne=e=>{he(Pm(ze.fromDom(e),us),t=>{const o=t.dom;o.nodeValue=Cl(o.data)})},Vne=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},zne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),eH=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,tH=(e,t)=>Ee(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",Hne=(e,t,o)=>{var i;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;An(m)&&!t[m.nodeName.toLowerCase()]&&c.push(m)}let h=c.length;for(;h--;)m=c[h],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((i=m.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||zne(e,m))&&e.remove(m)},nH=(e,t,o)=>Ut(t)?e?o===1&&t.data.charAt(o-1)===_i?0:o:o===t.data.length-1&&t.data.charAt(o)===_i?t.data.length:o:o,$ne=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,nH(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,nH(!1,e.endContainer,e.endOffset)),t},Une=e=>{let t=e;do Ut(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Wne=(e,t,o,i,c)=>{var m,h;const C=e.dom,A=(m=xO(C,i))!==null&&m!==void 0?m:C.getRoot();let F=C.getParent(i,C.isBlock);if(!F||!tH(C,F)){if(F=F||A,!F.hasChildNodes()){const ge=C.create(t);return wO(e,ge),F.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let K=i;for(;K&&K.parentNode!==F;)K=K.parentNode;let Y;for(;K&&!C.isBlock(K);)Y=K,K=K.previousSibling;const Q=(h=Y==null?void 0:Y.parentElement)===null||h===void 0?void 0:h.nodeName;if(Y&&Q&&e.schema.isValidChild(Q,t.toLowerCase())){const ge=Y.parentNode,Se=C.create(t);for(wO(e,Se),ge.insertBefore(Se,Y),K=Y;K&&!C.isBlock(K);){const pe=K.nextSibling;Se.appendChild(K),K=pe}o.setStart(i,c),o.setEnd(i,c)}}return i},Zne=(e,t)=>{t.normalize();const o=t.lastChild;(!o||An(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},jne=(e,t)=>{const o=AE(e);return Xe(t)?!1:Ce(o)?ie(Xt.explode(o),t.nodeName.toLowerCase()):o},bZ={insert:(e,t)=>{let o,i,c,m,h=!1;const C=e.dom,A=e.schema,F=A.getNonEmptyElements(),K=e.selection.getRng(),Y=il(e),Q=ze.fromDom(K.startContainer),ge=Zu(Q,K.startOffset),Se=ge.exists(Nt=>Pa(Nt)&&!_s(Nt)),pe=K.collapsed&&Se,Oe=(Nt,Cn)=>gZ(e,o,Yt,Bt,EE(e),Nt,Cn),Ue=Nt=>{const Cn=nH(Nt,o,i);if(Ut(o)&&(Nt?Cn>0:Cn<o.data.length))return!1;if((o.parentNode===Yt||o===Yt)&&h&&!Nt||Nt&&An(o)&&o===Yt.firstChild)return!0;if(eH(o,"TABLE")||eH(o,"HR"))return h&&!Nt||!h&&Nt;const Hn=new ca(o,Yt);Ut(o)&&(Nt&&Cn===0?Hn.prev():!Nt&&Cn===o.data.length&&Hn.next());let Po;for(;Po=Hn.current();){if(An(Po)){if(!Po.getAttribute("data-mce-bogus")){const $o=Po.nodeName.toLowerCase();if(F[$o]&&$o!=="br")return!1}}else if(Ut(Po)&&!ic(Po.data))return!1;Nt?Hn.prev():Hn.next()}return!0},et=()=>{let Nt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&pn!=="HGROUP"?Nt=Oe(Y):Nt=Oe(),jne(e,m)&&tH(C,m)&&C.isEmpty(Yt,void 0,{includeZwsp:!0})?Nt=C.split(m,Yt):C.insertAfter(Nt,Yt),gS(e,Nt),Nt};ig(C,K).each(Nt=>{K.setStart(Nt.startContainer,Nt.startOffset),K.setEnd(Nt.endContainer,Nt.endOffset)}),o=K.startContainer,i=K.startOffset;const Je=!!(t&&t.shiftKey),dt=!!(t&&t.ctrlKey);An(o)&&o.hasChildNodes()&&!pe&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Ut(o)?i=o.data.length:i=0);const Bt=xO(C,o);if(!Bt||Vne(e,o))return;Je||(o=Wne(e,Y,K,o,i));let Yt=C.getParent(o,C.isBlock)||C.getRoot();m=Ee(Yt==null?void 0:Yt.parentNode)?C.getParent(Yt.parentNode,C.isBlock):null,c=Yt?Yt.nodeName.toUpperCase():"";const pn=m?m.nodeName.toUpperCase():"";if(pn==="LI"&&!dt){const Nt=m;Yt=Nt,m=Nt.parentNode,c=pn}if(An(m)&&Ine(e,Je,Yt))return Nne(e,Oe,Yt);if(/^(LI|DT|DD)$/.test(c)&&An(m)&&C.isEmpty(Yt)){Lne(e,Oe,m,Yt,Y);return}if(!pe&&(Yt===e.getBody()||!tH(C,Yt)))return;const Et=Yt.parentNode;let bt;if(pe)bt=Oe(Y),ge.fold(()=>{Zs(Q,ze.fromDom(bt))},Nt=>{Ds(Nt,ze.fromDom(bt))}),e.selection.setCursorLocation(bt,0);else if(Cp(Yt))bt=fh(Yt),C.isEmpty(Yt)&&J9(Yt),wO(e,bt),gS(e,bt);else if(Ue(!1))bt=et();else if(Ue(!0)&&Et){const Nt=xt.fromRangeStart(K),Cn=ey(Nt),Hn=ze.fromDom(Yt),$o=Kb(Hn,Nt,e.schema)?$_(Hn,Nt,e.schema).bind(Ur=>J.from(Ur.getNode())):J.none();bt=Et.insertBefore(Oe(),Yt);const Ir=eH(Yt,"HR")||Cn?bt:$o.getOr(Yt);gS(e,Ir)}else{const Nt=$ne(K).cloneRange();Nt.setEndAfter(Yt);const Cn=Nt.extractContents();Fne(Cn),Une(Cn),bt=Cn.firstChild,C.insertAfter(Cn,Yt),Hne(C,F,bt),Zne(C,Yt),C.isEmpty(Yt)&&J9(Yt),bt.normalize(),C.isEmpty(bt)?(C.remove(bt),et()):(wO(e,bt),gS(e,bt))}C.setAttrib(bt,"id",""),e.dispatch("NewBlock",{newBlock:bt})},fakeEventName:"insertParagraph"},Kne=(e,t,o)=>{const i=new ca(t,o);let c;const m=e.getNonEmptyElements();for(;c=i.next();)if(m[c.nodeName.toLowerCase()]||Ut(c)&&c.length>0)return!0;return!1},yZ=(e,t,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),sd(e,i)},Gne=(e,t)=>{const o=e.selection,i=e.dom,c=o.getRng();let m,h=!1;ig(i,c).each(ge=>{c.setStart(ge.startContainer,ge.startOffset),c.setEnd(ge.endContainer,ge.endOffset)});let C=c.startOffset,A=c.startContainer;if(An(A)&&A.hasChildNodes()){const ge=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ge&&Ut(A)?C=A.data.length:C=0}let F=i.getParent(A,i.isBlock);const K=F&&F.parentNode?i.getParent(F.parentNode,i.isBlock):null,Y=K?K.nodeName.toUpperCase():"",Q=!!(t&&t.ctrlKey);Y==="LI"&&!Q&&(F=K),Ut(A)&&C>=A.data.length&&(Kne(e.schema,A,F||i.getRoot())||(m=i.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),h=!0)),m=i.create("br"),R0(i,c,m),yZ(e,m,h),e.undoManager.add()},qne=(e,t)=>{const o=ze.fromTag("br");Ds(ze.fromDom(t),o),e.undoManager.add()},Yne=(e,t)=>{Jne(e.getBody(),t)||it(ze.fromDom(t),ze.fromTag("br"));const o=ze.fromTag("br");it(ze.fromDom(t),o),yZ(e,o.dom,!1),e.undoManager.add()},Xne=e=>ps(e.getNode()),Jne=(e,t)=>Xne(xt.after(t))?!0:Xl(e,xt.after(t)).map(o=>ps(o.getNode())).getOr(!1),xZ=e=>e&&e.nodeName==="A"&&"href"in e,Qne=e=>e.fold(fn,xZ,xZ,fn),eoe=e=>{const t=nt(qb,e),o=xt.fromRangeStart(e.selection.getRng());return yg(t,e.getBody(),o).filter(Qne)},toe=(e,t)=>{t.fold(ct,nt(qne,e),nt(Yne,e),ct)},wZ={insert:(e,t)=>{const o=eoe(e);o.isSome()?o.each(nt(toe,e)):Gne(e,t)},fakeEventName:"insertLineBreak"},CZ=(e,t)=>X9(e).filter(o=>t.length>0&&Mr(ze.fromDom(o),t)).isSome(),noe=e=>CZ(e,VD(e)),ooe=e=>CZ(e,zD(e)),of=qo.generate([{br:[]},{block:[]},{none:[]}]),roe=(e,t)=>ooe(e),_Z=e=>(t,o)=>Tne(t)===e,kZ=(e,t)=>(o,i)=>Ane(o)===e.toUpperCase()===t,soe=e=>{const t=xO(e.dom,e.selection.getStart());return Xe(t)},CO=e=>kZ("pre",e),ioe=()=>kZ("summary",!0),sB=e=>(t,o)=>kE(t)===e,aoe=(e,t)=>noe(e),iB=(e,t)=>t,loe=e=>{const t=il(e),o=xO(e.dom,e.selection.getStart());return Ee(o)&&e.schema.isValidChild(o.nodeName,t)},coe=e=>{const t=e.selection.getRng(),o=ze.fromDom(t.startContainer),c=Zu(o,t.startOffset).map(m=>Pa(m)&&!_s(m));return t.collapsed&&c.getOr(!0)},om=(e,t)=>(o,i)=>Vt(e,(m,h)=>m&&h(o,i),!0)?J.some(t):J.none(),uoe=(e,t)=>rM([om([roe],of.none()),om([CO(!0),soe],of.none()),om([ioe()],of.br()),om([CO(!0),sB(!1),iB],of.br()),om([CO(!0),sB(!1)],of.block()),om([CO(!0),sB(!0),iB],of.block()),om([CO(!0),sB(!0)],of.br()),om([_Z(!0),iB],of.br()),om([_Z(!0)],of.block()),om([aoe],of.br()),om([iB],of.br()),om([loe],of.block()),om([coe],of.block())],[e,!!(t&&t.shiftKey)]).getOr(of.none()),aB=(e,t,o)=>{t.selection.isCollapsed()||PI(t),!(Ee(o)&&nB(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Ee(o)&&yO(t,e.fakeEventName))},SZ=(e,t)=>{const o=()=>aB(wZ,e,t),i=()=>aB(bZ,e,t),c=uoe(e,t);switch(SE(e)){case"linebreak":c.fold(o,o,ct);break;case"block":c.fold(i,i,ct);break;case"invert":c.fold(i,o,ct);break;default:c.fold(o,i,ct);break}},EZ=na(),doe=EZ.os.isiOS()&&EZ.browser.isSafari(),AZ=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),MV(e.undoManager),e.undoManager.transact(()=>{SZ(e,t)}))},foe=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Ut(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=t.data.charAt(e.startOffset-1);return o.test(i)}else return!1},moe=e=>{let t=J.none();const o=c=>{t=J.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,m)=>{c.undoManager.undo(),t.fold(ct,h=>c.selection.moveToBookmark(h)),AZ(c,m),t=J.none()};e.on("keydown",c=>{c.keyCode===dn.ENTER&&(doe&&foe(e.selection.getRng())?o(e):AZ(e,c))}),e.on("keyup",c=>{c.keyCode===dn.ENTER&&t.each(()=>i(e,c))})},goe=(e,t,o)=>{const i=Fo.os.isMacOS()||Fo.os.isiOS();lv([{keyCode:dn.END,action:uo(nf,e,!0)},{keyCode:dn.HOME,action:uo(nf,e,!1)},...i?[]:[{keyCode:dn.HOME,action:uo(g1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:dn.END,action:uo(g1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:dn.END,action:uo(mO,e,!0)},{keyCode:dn.HOME,action:uo(mO,e,!1)},{keyCode:dn.END,action:uo(Nw,e,!0,t)},{keyCode:dn.HOME,action:uo(Nw,e,!1,t)}],o).each(c=>{o.preventDefault()})},hoe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||goe(e,t,o)})},poe=e=>{e.on("input",t=>{t.isComposing||JF(e)})},voe=na(),boe=(e,t,o)=>{lv([{keyCode:dn.PAGE_UP,action:uo(Nw,e,!1,t)},{keyCode:dn.PAGE_DOWN,action:uo(Nw,e,!0,t)}],o)},TZ=e=>e.stopImmediatePropagation(),OZ=e=>e.keyCode===dn.PAGE_UP||e.keyCode===dn.PAGE_DOWN,DZ=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",TZ,!0):!o&&e.get()&&t.off("NodeChange",TZ),e.set(o)},yoe=(e,t)=>{if(voe.os.isMacOS())return;const o=Ri(!1);e.on("keydown",i=>{OZ(i)&&DZ(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||boe(e,t,i),OZ(i)&&o.get()&&(DZ(o,e,!1),e.nodeChanged())})},xoe=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||be(t.getTargetRanges(),o=>!WR(e.dom,o)))&&t.preventDefault()})},RZ=(e,t)=>{const o=t.container(),i=t.offset();return Ut(o)?(o.insertData(i,e),J.some(xt(o,i+e.length))):t_(t).map(c=>{const m=ze.fromText(e);return t.isAtEnd()?it(c,m):Ds(c,m),xt(m.dom,e.length)})},IZ=nt(RZ,Di),NZ=nt(RZ," "),woe=(e,t,o)=>o3(e,t,o)?IZ(t):NZ(t),Coe=e=>t=>t.fold(o=>$c(e.dom,xt.before(o)),o=>Qn(o),o=>nd(o),o=>Xl(e.dom,xt.after(o))),_oe=(e,t,o)=>i=>o3(e,i,o)?IZ(t):NZ(t),PZ=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},koe=(e,t)=>e.isEditable(e.getParent(t,"summary")),Soe=e=>{const t=xt.fromRangeStart(e.selection.getRng()),o=ze.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=nt(qb,e),c=xt.fromRangeStart(e.selection.getRng());return yg(i,e.getBody(),c).bind(Coe(o)).map(m=>()=>_oe(o,t,e.schema)(m).each(PZ(e)))}else return J.none()},Eoe=e=>{const t=()=>{const o=ze.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=xt.fromRangeStart(e.selection.getRng());woe(o,i,e.schema).each(PZ(e))};return Vg(Fo.browser.isFirefox()&&e.selection.isEditable()&&koe(e.dom,e.selection.getRng().startContainer),t)},Aoe=(e,t)=>{fS([{keyCode:dn.SPACEBAR,action:uo(Soe,e)},{keyCode:dn.SPACEBAR,action:uo(Eoe,e)}],t).each(o=>{t.preventDefault(),nB(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),yO(e,"insertText",{data:" "}))})},Toe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Aoe(e,t)})},Ooe=e=>u5(e)?[{keyCode:dn.TAB,action:uo(NW,e,!0)},{keyCode:dn.TAB,shiftKey:!0,action:uo(NW,e,!1)}]:[],Doe=(e,t)=>{lv([...Ooe(e)],t).each(o=>{t.preventDefault()})},Roe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Doe(e,t)})},Ioe=e=>{if(e.addShortcut("Meta+P","","mcePrint"),cne(e),bg(e))return Ri(null);{const t=DM(e);return xoe(e),m1(e),Zee(e,t),Sne(e,t),moe(e),Toe(e),poe(e),Roe(e),hoe(e,t),yoe(e,t),t}};class Noe{constructor(t){this.lastPath=[],this.editor=t;let o;const i=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const m=t.selection.getRng(),h={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!I2(h,o))&&t.dispatch("SelectionChange"),o=h}),t.on("contextmenu",()=>{G0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&$0(t)&&!i.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&$0(t)&&(t.selection.getNode().nodeName==="IMG"?Zc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!I8(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const m=[];this.editor.dom.getParent(i,h=>h===c?!0:(m.push(h),!1)),this.editor.dispatch("NodeChange",{...t,element:i,parents:m})}}isSameElementPath(t){let o;const i=this.editor,c=Uo(i.dom.getParents(t,kn,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const MZ=Ha("image"),Poe=e=>{const t=e;return J.from(t[MZ])},Moe=(e,t)=>{const o=e;o[MZ]=t},oH=Ha("event"),Boe=e=>{const t=e;return J.from(t[oH])},lB=e=>t=>{const o=t;o[oH]=e},Loe=(e,t)=>lB(t)(e),BZ=lB(0),Foe=lB(2),Voe=lB(1),zoe=(e=>t=>{const o=t;return J.from(o[oH]).exists(i=>i===e)})(0),Hoe=()=>Object.freeze({length:0,item:e=>null}),rH=Ha("mode"),$oe=e=>{const t=e;return J.from(t[rH])},cB=e=>t=>{const o=t;o[rH]=e},LZ=(e,t)=>cB(t)(e),FZ=cB(0),sH=cB(2),Uoe=cB(1),VZ=e=>t=>{const o=t;return J.from(o[rH]).exists(i=>i===e)},hS=VZ(0),zZ=VZ(1),Woe=(e,t)=>({...t,get length(){return t.length},add:(o,i)=>{if(hS(e))if(Ce(o)){if(!Me(i))return t.add(o,i)}else return t.add(o);return null},remove:o=>{hS(e)&&t.remove(o)},clear:()=>{hS(e)&&t.clear()}}),Zoe=["none","copy","link","move"],joe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],iH=()=>{const e=new window.DataTransfer;let t="move",o="all";const i={get dropEffect(){return t},set dropEffect(c){ie(Zoe,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){zoe(i)&&ie(joe,c)&&(o=c)},get items(){return Woe(i,e.items)},get files(){return zZ(i)?Hoe():e.files},get types(){return e.types},setDragImage:(c,m,h)=>{hS(i)&&(Moe(i,{image:c,x:m,y:h}),e.setDragImage(c,m,h))},getData:c=>zZ(i)?"":e.getData(c),setData:(c,m)=>{hS(i)&&e.setData(c,m)},clearData:c=>{hS(i)&&e.clearData(c)}};return FZ(i),i},Koe=e=>{const t=iH(),o=$oe(e);return sH(e),BZ(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Poe(e).each(i=>t.setDragImage(i.image,i.x,i.y)),he(e.types,i=>{i!=="Files"&&t.setData(i,e.getData(i))}),he(e.files,i=>t.items.add(i)),Boe(e).each(i=>{Loe(t,i)}),o.each(i=>{LZ(e,i),LZ(t,i)}),t},Goe=e=>{const t=e.getData("text/html");return t===""?J.none():J.some(t)},HZ=(e,t)=>e.setData("text/html",t),$Z="x-tinymce/html",uB=tt($Z),aH="<!-- "+$Z+" -->",qoe=e=>aH+e,Yoe=e=>e.replace(aH,""),UZ=e=>e.indexOf(aH)!==-1,Xoe=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Joe=(e,t)=>{let o="<"+e;const i=fl(t,(c,m)=>m+'="'+Qg.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},Qoe=(e,t,o)=>{const i=e.split(/\n\n/),c=Joe(t,o),m="</"+t+">",h=Le(i,A=>A.split(/\n/).join("<br />")),C=A=>c+A+m;return h.length===1?h[0]:Le(h,C).join("")},WZ="%MCEPASTEBIN%",ere=(e,t)=>{const{dom:o,selection:i}=e,c=e.getBody();t.set(i.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},WZ);Fo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),m.focus(),i.select(m,!0)},tre=(e,t)=>{const o=e.dom;if(lH(e)){let i;const c=t.get();for(;i=lH(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}t.set(null)},lH=e=>e.dom.get("mcepastebin"),nre=e=>Ee(e)&&e.id==="mcepastebin",ore=e=>{const t=e.dom,o=(h,C)=>{h.appendChild(C),t.remove(C,!0)},[i,...c]=vt(e.getBody().childNodes,nre);he(c,h=>{o(i,h)});const m=t.select("div[id=mcepastebin]",i);for(let h=m.length-1;h>=0;h--){const C=t.create("div");i.insertBefore(C,m[h]),o(C,m[h])}return i?i.innerHTML:""},ZZ=e=>e===WZ,rre=e=>{const t=Ri(null);return{create:()=>ere(e,t),remove:()=>tre(e,t),getEl:()=>lH(e),getHtml:()=>ore(e),getLastRng:t.get}},jZ=(e,t)=>(Xt.each(t,o=>{Ve(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),sre=e=>{const t=Bc(),o=fy({},t);let i="";const c=t.getVoidElements(),m=Xt.makeMap("script noscript style textarea video audio iframe object"," "),h=t.getBlockElements(),C=A=>{const F=A.name,K=A;if(F==="br"){i+=`
`;return}if(F!=="wbr"){if(c[F]&&(i+=" "),m[F]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in t.getVoidElements())){let Y=A.firstChild;if(Y)do C(Y);while(Y=Y.next)}h[F]&&K.next&&(i+=`
`,F==="p"&&(i+=`
`))}};return e=jZ(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),i},KZ=e=>(e=jZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Di],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),ire=e=>{let t=0;return()=>e+t++},are=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},lre=(e,t)=>{const o=fy({sanitize:a5(e),sandbox_iframes:zE(e),sandbox_iframes_exclusions:GC(e),convert_unsafe_embeds:f5(e)},e.schema);o.addNodeFilter("meta",c=>{Xt.each(c,m=>{m.remove()})});const i=o.parse(t,{forced_root_block:!1,isRootContent:!0});return kh({validate:!0},e.schema).serialize(i)},GZ=(e,t)=>({content:e,cancelled:t}),cre=(e,t,o)=>{const i=e.dom.create("div",{style:"display:none"},t),c=b_(e,i,o);return GZ(c.node.innerHTML,c.isDefaultPrevented())},ure=(e,t,o)=>{const i=T2(e,t,o),c=lre(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?cre(e,c,o):GZ(c,i.isDefaultPrevented())},dre=(e,t,o)=>ure(e,t,o),cH=(e,t)=>(e.insertContent(t,{merge:F8(e),paste:!0}),!0),uH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),fre=(e,t)=>uH(t)&&be(VE(e),o=>Te(t.toLowerCase(),`.${o.toLowerCase()}`)),mre=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),gre=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),hre=(e,t,o)=>!e.selection.isCollapsed()&&uH(t)?gre(e,t,o):!1,pre=(e,t,o)=>fre(e,t)?mre(e,t,o):!1,vre=(e,t)=>{Xt.each([hre,pre,cH],o=>!o(e,t,cH))},bre=(e,t,o)=>{o||!Eb(e)?cH(e,t):vre(e,t)},yre=ire("mceclip"),xre=e=>{const t=iH();return HZ(t,e),sH(t),t},qZ=(e,t,o,i,c)=>{const m=dre(e,t,o);if(!m.cancelled){const h=m.content,C=()=>bre(e,h,i);c?nB(e,"insertFromPaste",{dataTransfer:xre(h)}).isDefaultPrevented()||(C(),yO(e,"insertFromPaste")):C()}},dB=(e,t,o,i)=>{const c=o||UZ(t);qZ(e,Yoe(t),c,!1,i)},dH=(e,t,o)=>{const i=e.dom.encode(t).replace(/\r\n/g,`
`),c=Fv(i,r5(e)),m=Qoe(c,il(e),Jx(e));qZ(e,m,!1,!0,o)},YZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{t[i]=e.getData(i)}catch{t[i]=""}}return t},Oy=(e,t)=>t in e&&e[t].length>0,XZ=e=>Oy(e,"text/html")||Oy(e,"text/plain"),wre=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ee(o)?e.dom.encode(o[1]):void 0},Cre=(e,t,o,i)=>{const c=yre(),m=vh(e)&&Ee(o.name),h=m?wre(e,o.name):c,C=m?o.name:void 0,A=t.create(c,o,i,h,C);return t.add(A),A},_re=(e,t)=>{Dk(t.uri).each(({data:o,type:i,base64Encoded:c})=>{const m=c?o:btoa(o),h=t.file,C=e.editorUpload.blobCache,A=C.getByData(m,i),F=A??Cre(e,C,h,m);dB(e,`<img src="${F.blobUri()}">`,!1,!0)})},kre=e=>e.type==="paste",Sre=e=>Promise.all(Le(e,t=>PN(t).then(o=>({file:t,uri:o})))),Ere=e=>{const t=VE(e);return o=>cs(o.type,"image/")&&be(t,i=>are(i)===o.type)},Are=(e,t)=>{const o=t.items?Co(bo(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=t.files?bo(t.files):[];return vt(o.length>0?o:i,Ere(e))},JZ=(e,t,o)=>{const i=kre(t)?t.clipboardData:t.dataTransfer;if(tg(e)&&i){const c=Are(e,i);if(c.length>0)return t.preventDefault(),Sre(c).then(m=>{o&&e.selection.setRng(o),he(m,h=>{_re(e,h)})}),!0}return!1},Tre=e=>{var t,o;return Fo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Ore=e=>dn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,fH=(e,t,o,i,c)=>{let m=KZ(o);const h=Oy(t,uB())||UZ(o),C=!h&&Xoe(m),A=uH(m);(ZZ(m)||!m.length||C&&!A)&&(i=!0),(i||A)&&(Oy(t,"text/plain")&&C?m=t["text/plain"]:m=sre(m)),!ZZ(m)&&(i?dH(e,m,c):dB(e,m,h,c))},Dre=(e,t,o)=>{let i;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Ore(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Tre(m))return;const h=o.get()==="text"||i;i=!1;const C=YZ(m.clipboardData);!XZ(C)&&JZ(e,m,c())||(Oy(C,"text/html")?(m.preventDefault(),fH(e,C,C["text/html"],h,!0)):Oy(C,"text/plain")&&Oy(C,"text/uri-list")?(m.preventDefault(),fH(e,C,C["text/plain"],h,!0)):(t.create(),Zc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),fH(e,C,A,h,!1)},0)))})},Rre=e=>{const t=c=>cs(c,"webkit-fake-url"),o=c=>cs(c,"data:"),i=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,h)=>{if(!tg(e)&&i(h))for(const C of c){const A=C.attr("src");Ce(A)&&!C.attr("data-mce-object")&&A!==Fo.transparentSrc&&(t(A)||!V8(e)&&o(A))&&C.remove()}})},Ire=(e,t,o)=>{Dre(e,t,o),Rre(e)},Nre=(e,t)=>{t.get()==="text"?(t.set("html"),y_(e,!1)):(t.set("text"),y_(e,!0)),e.focus()},Pre=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Nre(e,t)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&dB(e,i.html,i.internal,!1),i.text&&dH(e,i.text,!1)})},Mre=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(uB(),t),!0}catch{return!1}else return!1},QZ=(e,t,o,i)=>{Mre(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):o(t.html,i)},ej=e=>(t,o)=>{const{dom:i,selection:c}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},t);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(h),i.add(e.getBody(),m);const C=c.getRng();h.focus();const A=i.createRng();A.selectNodeContents(h),c.setRng(A),Zc.setEditorTimeout(e,()=>{c.setRng(C),i.remove(m),o()},0)},tj=e=>({html:qoe(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Bre=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),nj=e=>!e.selection.isCollapsed()||Bre(e),Lre=e=>t=>{!t.isDefaultPrevented()&&nj(e)&&e.selection.isEditable()&&QZ(t,tj(e),ej(e),()=>{if(Fo.browser.isChromium()||Fo.browser.isFirefox()){const o=e.selection.getRng();Zc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Fre=e=>t=>{!t.isDefaultPrevented()&&nj(e)&&QZ(t,tj(e),ej(e),ct)},Vre=e=>{e.on("cut",Lre(e)),e.on("copy",Fre(e))},oj=(e,t)=>{var o,i;return Vp.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(i=t.clientY)!==null&&i!==void 0?i:0,e.getDoc())},zre=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},rj=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Hre=e=>be(e.files,t=>/^image\//.test(t.type)),$re=(e,t,o,i)=>{const c=e.getParent(o,h=>Rf(t,h));if(!Ze(e.getParent(o,"summary")))return!0;if(c&&ao(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ze(h.querySelector(c.nodeName.toLowerCase()))}else return!1},Ure=e=>{e.on("input",t=>{const o=i=>Ze(i.querySelector("summary"));if(t.inputType==="deleteByDrag"){const i=vt(e.dom.select("details"),o);he(i,c=>{ps(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(Ud().dom),c.prepend(m)})}})},Wre=(e,t)=>{Gf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),tg(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&Hre(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=oj(e,o);if(Xe(i))return;const c=YZ(o.dataTransfer),m=Oy(c,uB());if((!XZ(c)||zre(c))&&JZ(e,o,i))return;const h=c[uB()],C=h||c["text/html"]||c["text/plain"],A=$re(e.dom,e.schema,i.startContainer,c),F=t.get();F&&!A||C&&(o.preventDefault(),Zc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||F&&A)&&e.execCommand("Delete"),rj(e,i);const K=KZ(C);c["text/html"]?dB(e,K,m,!0):dH(e,K,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{tg(e)&&!t.get()&&(o.preventDefault(),rj(e,oj(e,o))),o.type==="dragend"&&t.set(!1)}),Ure(e)},Zre=e=>{const t=c=>m=>{c(e,m)},o=L8(e);Fe(o)&&e.on("PastePreProcess",t(o));const i=n2(e);Fe(i)&&e.on("PastePostProcess",t(i))},jre=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},Kre=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,sj=e=>Xt.trim(e).replace(Kre,Jv).toLowerCase(),Gre=(e,t,o)=>{const i=o5(e);if(o||i==="all"||!ME(e))return t;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const m=e.dom,h=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,F,K)=>{const Y=m.parseStyle(m.decode(F)),Q={};for(let Se=0;Se<c.length;Se++){const pe=Y[c[Se]];let Oe=pe,Ue=m.getStyle(h,c[Se],!0);/color/.test(c[Se])&&(Oe=sj(Oe),Ue=sj(Ue)),Ue!==Oe&&(Q[c[Se]]=pe)}const ge=m.serializeStyle(Q,"span");return ge?A+' style="'+ge+'"'+K:A+K})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,h,C,A)=>h+' style="'+C+'"'+A),t},qre=e=>{(Fo.browser.isChromium()||Fo.browser.isSafari())&&jre(e,Gre)},Yre=e=>{const t=Ri(!1),o=Ri(Ab(e)?"text":"html"),i=rre(e);qre(e),Pre(e,o),Zre(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Vre(e),Wre(e,t),Ire(e,i,o)})},Xre=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Jre=e=>{e.parser.addNodeFilter("details",t=>{const o=KC(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=d5(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},Qre=e=>{Xre(e),Jre(e)},ese=ps,ij=Ut,tse=e=>fo(e.dom),nse=e=>Ic(e.dom),aj=e=>t=>Xo(ze.fromDom(e),t),ose=(e,t,o)=>hi(ze.fromDom(e),i=>nse(i)||o.isBlock(Yo(i)),aj(t)).getOr(ze.fromDom(t)).dom,lj=(e,t)=>hi(ze.fromDom(e),tse,aj(t)),cj=(e,t,o)=>{const i=new ca(e,t),c=o?i.next.bind(i):i.prev.bind(i);let m=e;for(let h=o?e:c();h&&!ese(h);h=c())hu(h)&&(m=h);return m},rse=(e,t,o)=>{const c=xt.fromRangeStart(e).getNode(),m=ose(c,t,o),h=cj(c,m,!1),C=cj(c,m,!0),A=document.createRange();return lj(h,m).fold(()=>{ij(h)?A.setStart(h,0):A.setStartBefore(h)},F=>A.setStartBefore(F.dom)),lj(C,m).fold(()=>{ij(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},F=>A.setEndAfter(F.dom)),A},sse=e=>{const t=rse(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(lk(t))},ise=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),sse(e))})};var pS;(function(e){e.Before="before",e.After="after"})(pS||(pS={}));const ase=(e,t)=>Math.abs(e.left-t),lse=(e,t)=>Math.abs(e.right-t),cse=(e,t)=>e>=t.top&&e<=t.bottom,use=(e,t)=>e.top<t.bottom&&e.bottom>t.top,dse=(e,t)=>{const o=Hx(e,t)/Math.min(e.height,t.height);return use(e,t)&&o>.5},fse=(e,t)=>{const o=vt(e,i=>cse(t,i));return _p(o).fold(()=>[[],e],i=>{const{pass:c,fail:m}=zt(e,h=>dse(h,i));return[c,m]})},mse=(e,t)=>({node:e.node,position:ase(e,t)<lse(e,t)?pS.Before:pS.After}),gse=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),mH=(e,t,o,i)=>{const c=Y=>hu(Y.node)?J.some(Y):An(Y.node)?mH(bo(Y.node.childNodes),t,o,!1):J.none(),m=(Y,Q,ge)=>c(Q).filter(Se=>Math.abs(ge(Y,t,o)-ge(Se,t,o))<2&&Ut(Se.node)),h=(Y,Q)=>{const ge=mr(Y,(Se,pe)=>Q(Se,t,o)-Q(pe,t,o));return rs(ge,c).map(Se=>i&&!Ut(Se.node)&&ge.length>1?m(Se,ge[1],Q).getOr(Se):Se)},[C,A]=fse(CM(e),o),{pass:F,fail:K}=zt(A,Y=>Y.top<o);return h(C,gse).orThunk(()=>h(K,k0)).orThunk(()=>h(F,k0))},hse=(e,t,o,i)=>{const c=(m,h)=>{const C=F=>An(F)&&F.classList.contains("mce-drag-container"),A=vt(m.dom.childNodes,Ye(C));return h.fold(()=>mH(A,o,i,!0),F=>{const K=vt(A,Y=>Y!==F.dom);return mH(K,o,i,!0)}).orThunk(()=>(Xo(m,e)?J.none():wf(m)).bind(K=>c(K,J.some(m))))};return c(t,J.none())},pse=(e,t,o)=>{const i=ze.fromDom(e),c=rc(i),h=ze.fromPoint(c,t,o).filter(C=>ia(i,C)).getOr(i);return hse(i,h,t,o)},uj=(e,t,o)=>pse(e,t,o).filter(i=>i2(i.node)).map(i=>mse(i,t)),dj=e=>{var t,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,h=c.defaultView;return{top:i.top+((t=h==null?void 0:h.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},vse=e=>e.inline?dj(e.getBody()):{left:0,top:0},bse=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},yse=e=>{const t=e.getBody(),o=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?i:c},xse=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=dj(e.getContentAreaContainer()),i=yse(e);return{left:t.pageX-o.left+i.left,top:t.pageY-o.top+i.top}}return{left:t.pageX,top:t.pageY}},wse=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),Cse=(e,t)=>wse(vse(e),bse(e),xse(e,t)),fj=e=>({target:e,srcElement:e}),_se=(e,t,o,i)=>({...t,dataTransfer:i,type:e,...fj(o)}),kse=(e,t,o)=>{const i=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:ct,stopImmediatePropagation:ct,stopPropagation:ct,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...fj(t)}},Sse=(e,t)=>{const o=Koe(e);return t==="dragstart"?(BZ(o),FZ(o)):t==="drop"?(Foe(o),sH(o)):(Voe(o),Uoe(o)),o},Ese=(e,t,o,i)=>{const c=Sse(o,e);return Me(i)?kse(e,t,c):_se(e,i,t,c)},fB=32,Ase=100,mB=8,gB=16,mj=fo,Tse=Wx(mj,Ic),Ose=(e,t,o)=>mj(o)&&o!==t&&e.isEditable(o.parentElement),Dse=(e,t,o)=>Xe(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Rse=(e,t,o,i)=>{const c=e.dom,m=t.cloneNode(!0);c.setStyles(m,{width:o,height:i}),c.setAttrib(m,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),h.appendChild(m),h},Ise=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},hB=(e,t)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+t,behavior:"smooth"})},gj=hB("left",-fB),hj=hB("left",fB),pj=hB("top",-fB),vj=hB("top",fB),Nse=(e,t,o,i,c,m,h,C,A,F,K,Y)=>{let Q=0,ge=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(Q=t.pageX+o-c),t.pageY+i>m&&(ge=t.pageY+i-m),e.style.width=o-Q+"px",e.style.height=i-ge+"px";const Se=A.clientHeight,pe=A.clientWidth,Oe=h+A.getBoundingClientRect().top,Ue=C+A.getBoundingClientRect().left;K.on(et=>{et.intervalId.clear(),et.dragging&&Y&&(h+mB>=Se?et.intervalId.set(vj(F)):h-mB<=0?et.intervalId.set(pj(F)):C+mB>=pe?et.intervalId.set(hj(F)):C-mB<=0?et.intervalId.set(gj(F)):Oe+gB>=window.innerHeight?et.intervalId.set(vj(window)):Oe-gB<=0?et.intervalId.set(pj(window)):Ue+gB>=window.innerWidth?et.intervalId.set(hj(window)):Ue-gB<=0&&et.intervalId.set(gj(window)))})},bj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Pse=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);bj(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Vc(ze.fromDom(o))},Mse=e=>e.button===0,Bse=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Lse=(e,t)=>o=>{if(Mse(o)){const i=cn(t.dom.getParents(o.target),Tse).getOr(null);if(Ee(i)&&Ose(t.dom,t.getBody(),i)){const c=t.dom.getPos(i),m=t.getBody(),h=t.getDoc().documentElement;e.set({element:i,dataTransfer:iH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:h.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Rse(t,i,i.offsetWidth,i.offsetHeight),intervalId:Nc(Ase)})}}},Fse=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),uj(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===pS.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},_O=(e,t,o,i,c)=>{t==="dragstart"&&HZ(i,e.dom.getOuterHTML(o));const m=Ese(t,o,i,c);return e.dispatch(t,m)},Vse=(e,t)=>{const o=lh((c,m)=>Fse(t,c,m),0);t.on("remove",o.cancel);const i=e;return c=>e.on(m=>{const h=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&h>10){const C=_O(t,"dragstart",m.element,m.dataTransfer,c);if(Ee(C.dataTransfer)&&(m.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const C=c.currentTarget===t.getDoc().documentElement,A=Bse(m,Cse(t,c));Ise(m.ghost,t.getBody()),Nse(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),i,C),o.throttle(c.clientX,c.clientY)}})},zse=e=>{const t=e.getSel();if(Ee(t)){const i=t.getRangeAt(0).startContainer;return Ut(i)?i.parentNode:i}else return null},Hse=(e,t)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Dse(t,zse(t.selection),i.element)){const m=(c=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:t.getBody();_O(t,"drop",m,i.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Pse(t.dom,i.element),Goe(i.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}_O(t,"dragend",t.getBody(),i.dataTransfer,o)}}),xj(e)},yj=(e,t,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>_O(t,"dragend",i.element,i.dataTransfer),c=>_O(t,"dragend",i.element,i.dataTransfer,c))}),xj(e)},$se=(e,t)=>o=>yj(e,t,J.some(o)),xj=e=>{e.on(t=>{t.intervalId.clear(),bj(t.ghost)}),e.clear()},Use=e=>{const t=Ii(),o=Gr.DOM,i=document,c=Lse(t,e),m=Vse(t,e),h=Hse(t,e),C=$se(t,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",h),o.bind(i,"mousemove",m),o.bind(i,"mouseup",C),e.on("remove",()=>{o.unbind(i,"mousemove",m),o.unbind(i,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===dn.ESC&&yj(t,e,J.none())})},Wse=e=>{const t=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(ie(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Yk(e,"Dropped file type is not supported"))}},o=c=>{R_(e,c.target)&&t(c)},i=()=>{const c=Gr.DOM,m=e.dom,h=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];he(A,F=>{c.bind(h,F,o),m.bind(C,F,t)}),e.on("remove",()=>{he(A,F=>{c.unbind(h,F,o),m.unbind(C,F,t)})})};e.on("init",()=>{Zc.setEditorTimeout(e,i,0)})},Zse=e=>{Use(e),ZC(e)&&Wse(e)},jse=e=>{const t=lh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=eS(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Kse=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(St(o)){const i=ud(e.getBody(),o),c=fo(i)?i:o;e.selection.getNode()!==c&&Aw(e,c).each(m=>e.selection.setRng(m))}})})},kO=fo,wj=(e,t)=>ud(e.getBody(),t),Gse=e=>{const t=e.selection,o=e.dom,i=e.getBody(),c=y5(e,i,o.isBlock,()=>q0(e)),m="sel-"+o.uniqueId(),h="data-mce-selected";let C;const A=pn=>Ee(pn)&&o.hasClass(pn,"mce-offscreen-selection"),F=pn=>pn!==i&&(kO(pn)||St(pn))&&o.isChildOf(pn,i)&&o.isEditable(pn.parentNode),K=pn=>{pn&&t.setRng(pn)},Y=(pn,Et,bt,Nt=!0)=>e.dispatch("ShowCaret",{target:Et,direction:pn,before:bt}).isDefaultPrevented()?null:(Nt&&t.scrollIntoView(Et,pn===-1),c.show(bt,Et)),Q=pn=>{pn.hasAttribute("data-mce-caret")&&(fh(pn),t.scrollIntoView(pn))},ge=()=>{e.on("click",Et=>{o.isEditable(Et.target)||(Et.preventDefault(),e.focus())}),e.on("blur NewBlock",dt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Et=>{const bt=Et.target,Nt=wj(e,bt);kO(Nt)?(Et.preventDefault(),Aw(e,Nt).each(Je)):F(bt)&&Aw(e,bt).each(Je)},!0),e.on("mousedown",Et=>{const bt=Et.target;if(bt!==i&&bt.nodeName!=="HTML"&&!o.isChildOf(bt,i)||!yz(e,Et.clientX,Et.clientY))return;dt(),Yt();const Nt=wj(e,bt);kO(Nt)?(Et.preventDefault(),Aw(e,Nt).each(Je)):uj(i,Et.clientX,Et.clientY).each(Cn=>{Et.preventDefault();const Hn=Y(1,Cn.node,Cn.position===pS.Before,!1);K(Hn),cu(Nt)?Nt.focus():e.getBody().focus()})}),e.on("keypress",Et=>{dn.modifierPressed(Et)||kO(t.getNode())&&Et.preventDefault()}),e.on("GetSelectionRange",Et=>{let bt=Et.range;if(C){if(!C.parentNode){C=null;return}bt=bt.cloneRange(),bt.selectNode(C),Et.range=bt}}),e.on("SetSelectionRange",Et=>{Et.range=Oe(Et.range);const bt=Je(Et.range,Et.forward);bt&&(Et.range=bt)});const pn=Et=>An(Et)&&Et.id==="mcepastebin";e.on("AfterSetSelectionRange",Et=>{const bt=Et.range,Nt=bt.startContainer.parentElement;!pe(bt)&&!pn(Nt)&&Yt(),A(Nt)||dt()}),Zse(e),jse(e),Kse(e)},Se=pn=>Yl(pn)||gb(pn)||Zd(pn),pe=pn=>Se(pn.startContainer)||Se(pn.endContainer),Oe=pn=>{const Et=e.schema.getVoidElements(),bt=o.createRng(),Nt=pn.startContainer,Cn=pn.startOffset,Hn=pn.endContainer,Po=pn.endOffset;return ao(Et,Nt.nodeName.toLowerCase())?Cn===0?bt.setStartBefore(Nt):bt.setStartAfter(Nt):bt.setStart(Nt,Cn),ao(Et,Hn.nodeName.toLowerCase())?Po===0?bt.setEndBefore(Hn):bt.setEndAfter(Hn):bt.setEnd(Hn,Po),bt},Ue=(pn,Et)=>{const bt=ze.fromDom(e.getBody()),Nt=e.getDoc(),Cn=Dt(bt,"#"+m).getOrThunk(()=>{const $o=ze.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nt);return xi($o,"id",m),Zs(bt,$o),$o}),Hn=o.createRng();es(Cn),ti(Cn,[ze.fromText(Di,Nt),ze.fromDom(Et),ze.fromText(Di,Nt)]),Hn.setStart(Cn.dom.firstChild,1),Hn.setEnd(Cn.dom.lastChild,0),Go(Cn,{top:o.getPos(pn,e.getBody()).y+"px"}),TA(Cn);const Po=t.getSel();return Po&&(Po.removeAllRanges(),Po.addRange(Hn)),Hn},et=pn=>{const Et=pn.cloneNode(!0),bt=e.dispatch("ObjectSelected",{target:pn,targetClone:Et});if(bt.isDefaultPrevented())return null;const Nt=Ue(pn,bt.targetClone),Cn=ze.fromDom(pn);return he(pi(ze.fromDom(e.getBody()),`*[${h}]`),Hn=>{Xo(Cn,Hn)||Io(Hn,h)}),o.getAttrib(pn,h)||pn.setAttribute(h,"1"),C=pn,Yt(),Nt},Je=(pn,Et)=>{if(!pn)return null;if(pn.collapsed){if(!pe(pn)){const Hn=Et?1:-1,Po=u2(Hn,i,pn),$o=Po.getNode(!Et);if(Ee($o)){if(i2($o))return Y(Hn,$o,Et?!Po.isAtEnd():!1,!1);if(qm($o)&&fo($o.nextSibling)){const Ur=o.createRng();return Ur.setStart($o,0),Ur.setEnd($o,0),Ur}}const Ir=Po.getNode(Et);if(Ee(Ir)){if(i2(Ir))return Y(Hn,Ir,Et?!1:!Po.isAtEnd(),!1);if(qm(Ir)&&fo(Ir.previousSibling)){const Ur=o.createRng();return Ur.setStart(Ir,1),Ur.setEnd(Ir,1),Ur}}}return null}let bt=pn.startContainer,Nt=pn.startOffset;const Cn=pn.endOffset;if(Ut(bt)&&Nt===0&&kO(bt.parentNode)&&(bt=bt.parentNode,Nt=o.nodeIndex(bt),bt=bt.parentNode),!An(bt))return null;if(Cn===Nt+1&&bt===pn.endContainer){const Hn=bt.childNodes[Nt];if(F(Hn))return et(Hn)}return null},dt=()=>{C&&C.removeAttribute(h),Dt(ze.fromDom(e.getBody()),"#"+m).each(Rr),C=null},Bt=()=>{c.destroy(),C=null},Yt=()=>{c.hide()};return bg(e)||ge(),{showCaret:Y,showBlockCaretContainer:Q,hideFakeCaret:Yt,destroy:Bt}},qse=(e,t)=>{let o=t;for(let i=e.previousSibling;Ut(i);i=i.previousSibling)o+=i.data.length;return o},Cj=(e,t,o,i,c)=>{if(Ut(o)&&(i<0||i>o.data.length))return[];const m=c&&Ut(o)?[qse(o,i)]:[i];let h=o;for(;h!==t&&h.parentNode;)m.push(e.nodeIndex(h,c)),h=h.parentNode;return h===t?m.reverse():[]},gH=(e,t,o,i,c,m,h=!1)=>{const C=Cj(e,t,o,i,h),A=Cj(e,t,c,m,h);return{start:C,end:A}},_j=(e,t)=>{const o=t.slice(),i=o.pop();return O(i)?Vt(o,(m,h)=>m.bind(C=>J.from(C.childNodes[h])),J.some(e)).bind(m=>Ut(m)&&(i<0||i>m.data.length)?J.none():J.some({node:m,offset:i})):J.none()},kj=(e,t)=>_j(e,t.start).bind(({node:o,offset:i})=>_j(e,t.end).map(({node:c,offset:m})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,m),h})),Yse=(e,t,o,i=!1)=>gH(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),vS=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const i=t.parentNode;e.remove(t,Ut(t.firstChild)&&ic(t.firstChild.data)),vS(e,i,o)}},pB=(e,t,o,i=!0)=>{const c=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),i&&!o(t.startContainer)&&(Ut(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ut(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),vS(e,c,o),c!==m&&vS(e,m,o))},vB=(e,t)=>J.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),hH=(e,t,o)=>{const i=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Oa(i).concat(e.blockPatterns),inlinePatterns:td(i).concat(e.inlinePatterns)}},pH=(e,t,o,i)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,i),c.toString()},Sj=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),bB=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},Ej=(e,t,o)=>{const i=kj(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,m=i.endContainer,h=i.endOffset===0?m:m.splitText(i.endOffset),C=i.startOffset===0?c:c.splitText(i.startOffset),A=C.parentNode,F=h.parentNode;return{prefix:t,end:F.insertBefore(Sj(e,t+"-end"),h),start:A.insertBefore(Sj(e,t+"-start"),C)}},Aj=(e,t,o)=>{vS(e,e.get(t.prefix+"-end"),o),vS(e,e.get(t.prefix+"-start"),o)},vH=e=>e.start.length===0,Xse=e=>(t,o)=>{const c=t.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:m!==-1?m+1:-1},Tj=(e,t,o,i)=>{const c=t.start;return V9(e,i.container,i.offset,Xse(c),o).bind(h=>{var C,A;const F=(A=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(c))!==null&&A!==void 0?A:-1;if(F!==-1&&h.offset>=F+c.length){const Y=e.createRng();return Y.setStart(h.container,h.offset-c.length),Y.setEnd(h.container,h.offset),J.some(Y)}else{const Y=h.offset-c.length;return F9(h.container,Y,o).map(Q=>{const ge=e.createRng();return ge.setStart(Q.container,Q.offset),ge.setEnd(h.container,h.offset),ge}).filter(Q=>Q.toString()===c).orThunk(()=>Tj(e,t,o,Fh(h.container,0)))}})},Jse=(e,t,o,i,c,m=!1)=>{if(t.start.length===0&&!m){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),J.some(h)}return L9(o,i,c).bind(h=>Tj(e,t,c,h).bind(A=>{var F;if(m){if(A.endContainer===h.container&&A.endOffset===h.offset)return J.none();if(h.offset===0&&((F=A.endContainer.textContent)===null||F===void 0?void 0:F.length)===A.endOffset)return J.none()}return J.some(A)}))},Qse=(e,t,o,i)=>{const c=e.dom,m=c.getRoot(),h=o.pattern,C=o.position.container,A=o.position.offset;return F9(C,A-o.pattern.end.length,t).bind(F=>{const K=gH(c,m,F.container,F.offset,C,A,i);if(vH(h))return J.some({matches:[{pattern:h,startRng:K,endRng:K}],position:F});{const Y=yB(e,o.remainingPatterns,F.container,F.offset,t,i),Q=Y.getOr({matches:[],position:F}),ge=Q.position;return Jse(c,h,ge.container,ge.offset,t,Y.isNone()).map(pe=>{const Oe=Yse(c,m,pe,i);return{matches:Q.matches.concat([{pattern:h,startRng:Oe,endRng:K}]),position:Fh(pe.startContainer,pe.startOffset)}})}})},yB=(e,t,o,i,c,m)=>{const h=e.dom;return L9(o,i,h.getRoot()).bind(C=>{const A=pH(h,c,o,i);for(let F=0;F<t.length;F++){const K=t[F];if(!Te(A,K.end))continue;const Y=t.slice();Y.splice(F,1);const Q=Qse(e,c,{pattern:K,remainingPatterns:Y,position:C},m);if(Q.isNone()&&i>0)return yB(e,t,o,i-1,c,m);if(Q.isSome())return Q}return J.none()})},Oj=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?he(t.format,i=>{e.formatter.apply(i)}):e.execCommand(t.cmd,!1,t.value)},eie=(e,t,o,i)=>{const c=bB(e.dom,o);pB(e.dom,c,i),Oj(e,t,c)},tie=(e,t,o,i,c)=>{const m=e.dom,h=bB(m,i),C=bB(m,o);pB(m,C,c),pB(m,h,c);const A={prefix:o.prefix,start:o.end,end:i.start},F=bB(m,A);Oj(e,t,F)},nie=(e,t)=>{const o=Ha("mce_textpattern"),i=Ft(t,(c,m)=>{const h=Ej(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:h}])},[]);return Ft(i,(c,m)=>{const h=i.length-c.length-1,C=vH(m.pattern)?m.endMarker:Ej(e,o+`_start${h}`,m.startRng);return c.concat([{...m,startMarker:C}])},[])},oie=e=>mr(e,(t,o)=>o.end.length-t.end.length),rie=(e,t)=>{const o=Ro(e,i=>be(t,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},Dj=(e,t,o,i,c,m)=>{const h=yB(e,c.inlinePatterns,o,i,t,m).fold(()=>[],A=>A.matches),C=yB(e,oie(c.inlinePatterns),o,i,t,m).fold(()=>[],A=>A.matches);return rie(h,C)},Rj=(e,t)=>{if(t.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=nie(o,t);he(c,m=>{const h=o.getParent(m.startMarker.start,o.isBlock),C=A=>A===h;vH(m.pattern)?eie(e,m.pattern,m.endMarker,C):tie(e,m.pattern,m.startMarker,m.endMarker,C),Aj(o,m.endMarker,C),Aj(o,m.startMarker,C)}),e.selection.moveToBookmark(i)},Ij=(e,t,o)=>Kee(t,0,t).map(i=>{const c=i.container;return PW(c,o.start.length,t).each(m=>{const h=e.createRng();h.setStart(c,0),h.setEnd(m.container,m.offset),pB(e,h,C=>C===t)}),c}),Nj=e=>(t,o)=>{const i=t.dom,c=o.pattern,m=kj(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(C,A)=>{const F=A.get(C);return le(F)&&hn(F).exists(K=>ao(K,"block"))};return vB(t,m).each(C=>{c.type==="block-format"?h(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,c),t.execCommand(c.cmd,!1,c.value)})}),!0},sie=e=>mr(e,(t,o)=>o.start.length-t.start.length),Pj=e=>(t,o)=>{const i=sie(t),c=o.replace(Di," ");return cn(i,m=>e(m,o,c))},Mj=(e,t)=>(o,i,c,m,h)=>{var C;h===void 0&&(h=(C=i.textContent)!==null&&C!==void 0?C:"");const A=o.dom,F=il(o);return A.is(i,F)?e(c.blockPatterns,h).map(K=>t&&Xt.trim(h).length===K.start.length?[]:[{pattern:K,range:gH(A,A.getRoot(),i,0,i,0,m)}]).getOr([]):[]},iie=e=>/^\s[^\s]/.test(e),aie=Nj((e,t,o)=>{Ij(e,t,o).each(i=>{const c=ze.fromDom(i),m=Km(c);iie(m)&&ab(c,m.slice(1))})}),lie=Pj((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),cie=Mj(lie,!0),uie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{var c;const m=Math.max(0,o.startOffset),h=hH(t,i,(c=i.textContent)!==null&&c!==void 0?c:""),C=Dj(e,i,o.startContainer,m,h,!0),A=cie(e,i,h,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},die=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();he(t,i=>aie(e,i)),e.selection.moveToBookmark(o)},fie=Nj(Ij),mie=Pj((e,t,o)=>t===e.start||o===e.start),gie=Mj(mie,!1),hie=(e,t)=>{const o=e.selection.getRng();return vB(e,o).map(i=>{const c=Math.max(0,o.startOffset),m=pH(e.dom,i,o.startContainer,c),h=hH(t,i,m);return gie(e,i,h,!1,m)}).filter(i=>i.length>0)},pie=(e,t)=>{he(t,o=>fie(e,o))},vie=(e,t)=>uie(e,t).fold(fn,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{bE(e),Rj(e,o),die(e,i);const c=e.selection.getRng(),m=L9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(h=>{const C=h.container;C.data.charAt(h.offset-1)===Rs&&(C.deleteData(h.offset-1,1),vS(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),bie=(e,t)=>{const o=e.selection.getRng();vB(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),m=pH(e.dom,i,o.startContainer,c),h=hH(t,i,m),C=Dj(e,i,o.startContainer,c,h,!1);C.length>0&&e.undoManager.transact(()=>{Rj(e,C)})})},yie=(e,t)=>hie(e,t).fold(fn,o=>(e.undoManager.transact(()=>{pie(e,o)}),!0)),Bj=(e,t,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1},xie=(e,t)=>Bj(e,t,(o,i)=>o===i.keyCode&&!dn.modifierPressed(i)),wie=(e,t)=>Bj(e,t,(o,i)=>o.charCodeAt(0)===i.charCode),Cie=e=>{const t=[",",".",";",":","!","?"],o=[32],i=()=>Ap(z8(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),o2(e)),c=()=>BE(e);e.on("keydown",h=>{if(h.keyCode===13&&!dn.modifierPressed(h)&&e.selection.isCollapsed()){const C=jf(i(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||c())&&vie(e,C)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()){const C=jf(i(),"space");(C.blockPatterns.length>0||c())&&yie(e,C)&&h.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const h=jf(i(),"space");(h.inlinePatterns.length>0||c())&&bie(e,h)}};e.on("keyup",h=>{xie(o,h)&&m()}),e.on("keypress",h=>{wie(t,h)&&Zc.setEditorTimeout(e,m)})},_ie=e=>{Cie(e)},kie=e=>{const t=Xt.each,o=dn.BACKSPACE,i=dn.DELETE,c=e.dom,m=e.selection,h=e.parser,C=Fo.browser,A=C.isFirefox(),F=C.isChromium()||C.isSafari(),K=Fo.deviceType.isiPhone()||Fo.deviceType.isiPad(),Y=Fo.os.isMacOS()||Fo.os.isiOS(),Q=(ln,Yn)=>{try{e.getDoc().execCommand(ln,!1,String(Yn))}catch{}},ge=ln=>ln.isDefaultPrevented(),Se=()=>{const ln=Ho=>{const gn=c.create("body"),Mo=Ho.cloneContents();return gn.appendChild(Mo),m.serializer.serialize(gn,{format:"html"})},Yn=Ho=>{const gn=ln(Ho),Mo=c.createRng();Mo.selectNode(e.getBody());const Wo=ln(Mo);return gn===Wo};e.on("keydown",Ho=>{const gn=Ho.keyCode;if(!ge(Ho)&&(gn===i||gn===o)&&e.selection.isEditable()){const Mo=e.selection.isCollapsed(),Wo=e.getBody();if(Mo&&!ac(e.schema,Wo)||!Mo&&!Yn(e.selection.getRng()))return;Ho.preventDefault(),e.setContent(""),Wo.firstChild&&c.isBlock(Wo.firstChild)?e.selection.setCursorLocation(Wo.firstChild,0):e.selection.setCursorLocation(Wo,0),e.nodeChanged()}})},pe=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Oe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",ln=>{let Yn;if(ln.target===e.getDoc().documentElement)if(Yn=m.getRng(),e.getBody().focus(),ln.type==="mousedown"){if(Yl(Yn.startContainer))return;m.placeCaretAt(ln.clientX,ln.clientY)}else m.setRng(Yn)})},Ue=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Yn=m.getNode(),Ho=Yn.previousSibling;if(Yn.nodeName==="HR"){c.remove(Yn),ln.preventDefault();return}Ho&&Ho.nodeName&&Ho.nodeName.toLowerCase()==="hr"&&(c.remove(Ho),ln.preventDefault())}}})},et=()=>{Range.prototype.getClientRects||e.on("mousedown",ln=>{if(!ge(ln)&&ln.target.nodeName==="HTML"){const Yn=e.getBody();Yn.blur(),Zc.setEditorTimeout(e,()=>{Yn.focus()})}})},Je=()=>{const ln=L0(e);e.on("click",Yn=>{const Ho=Yn.target;/^(IMG|HR)$/.test(Ho.nodeName)&&c.isEditable(Ho)&&(Yn.preventDefault(),e.selection.select(Ho),e.nodeChanged()),Ho.nodeName==="A"&&c.hasClass(Ho,ln)&&Ho.childNodes.length===0&&c.isEditable(Ho.parentNode)&&(Yn.preventDefault(),m.select(Ho))})},dt=()=>{const ln=()=>{const Ho=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const gn=m.getStart();gn!==e.getBody()&&(c.setAttrib(gn,"style",null),t(Ho,Mo=>{gn.setAttributeNode(Mo.cloneNode(!0))}))}},Yn=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Ho=>{let gn;return!ge(Ho)&&(Ho.keyCode===8||Ho.keyCode===46)&&Yn()?(gn=ln(),e.getDoc().execCommand("delete",!1),gn(),Ho.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Ho=>{if(!ge(Ho)&&Yn()){const gn=ln();Zc.setEditorTimeout(e,()=>{gn()})}})},Bt=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Yn=m.getNode().previousSibling;if(Yn&&Yn.nodeName&&Yn.nodeName.toLowerCase()==="table")return ln.preventDefault(),!1}return!0})},Yt=()=>{e.on("keydown",ln=>{if(ge(ln)||ln.keyCode!==dn.BACKSPACE)return;let Yn=m.getRng();const Ho=Yn.startContainer,gn=Yn.startOffset,Mo=c.getRoot();let Wo=Ho;if(!(!Yn.collapsed||gn!==0)){for(;Wo.parentNode&&Wo.parentNode.firstChild===Wo&&Wo.parentNode!==Mo;)Wo=Wo.parentNode;Wo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Wo),Yn=c.createRng(),Yn.setStart(Ho,0),Yn.setEnd(Ho,0),m.setRng(Yn))}})},pn=()=>{const ln=()=>{Q("StyleWithCSS",!1),Q("enableInlineTableEditing",!1),KD(e)||Q("enableObjectResizing",!1)};t5(e)||e.on("BeforeExecCommand mousedown",ln)},Et=()=>{const ln=()=>{t(c.select("a:not([data-mce-block])"),Yn=>{var Ho;let gn=Yn.parentNode;const Mo=c.getRoot();if((gn==null?void 0:gn.lastChild)===Yn){for(;gn&&!c.isBlock(gn);){if(((Ho=gn.parentNode)===null||Ho===void 0?void 0:Ho.lastChild)!==gn||gn===Mo)return;gn=gn.parentNode}c.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Yn=>{(Yn.type==="setcontent"||Yn.command==="mceInsertLink")&&ln()})},bt=()=>{e.on("init",()=>{Q("DefaultParagraphSeparator",il(e))})},Nt=ln=>{const Yn=ln.getBody(),Ho=ln.selection.getRng();return Ho.startContainer===Ho.endContainer&&Ho.startContainer===Yn&&Ho.startOffset===0&&Ho.endOffset===Yn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",ln=>{!dn.modifierPressed(ln)&&!Nt(e)&&m.normalize()},!0)},Hn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Po=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},$o=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ln=>{let Yn;ln.target.nodeName==="HTML"&&(Yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Yn),e.selection.normalize(),e.nodeChanged())}))},Ir=()=>{Y&&e.on("keydown",ln=>{dn.metaKeyPressed(ln)&&!ln.shiftKey&&(ln.keyCode===37||ln.keyCode===39)&&(ln.preventDefault(),e.selection.getSel().modify("move",ln.keyCode===37?"backward":"forward","lineboundary"))})},Ur=()=>{e.on("click",ln=>{let Yn=ln.target;do if(Yn.tagName==="A"){ln.preventDefault();return}while(Yn=Yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ui=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ln=>{ln.preventDefault()})})},Al=()=>{h.addNodeFilter("br",ln=>{let Yn=ln.length;for(;Yn--;)ln[Yn].attr("class")==="Apple-interchange-newline"&&ln[Yn].remove()})},Yr=ct,on=()=>{if(!A||e.removed)return!1;const ln=e.selection.getSel();return!ln||!ln.rangeCount||ln.rangeCount===0},Fn=()=>{F&&(Oe(),Je(),ui(),pe(),K&&(Po(),$o(),Ur())),A&&(et(),pn(),Hn(),Ir())},wr=()=>{Yt(),Se(),Fo.windowsPhone||Cn(),F&&(Oe(),Je(),bt(),ui(),Bt(),Al(),K?(Po(),$o(),Ur()):pe()),A&&(Ue(),et(),dt(),pn(),Et(),Hn(),Ir(),Bt())};return bg(e)?Fn():wr(),{refreshContentEditable:Yr,isHidden:on}},Sie=e=>e.toLowerCase()==="gpl",Eie=e=>e.length>=64&&e.length<=255,Aie=e=>Sie(e)||Eie(e)?"VALID":"INVALID",Tie=e=>{const t=m5(e);!Ce(g5(e))&&(Me(t)||Aie(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},bH=Gr.DOM,Oie=(e,t)=>{const o=ze.fromDom(e.getBody()),i=Dm(su(o)),c=ze.fromTag("style");xi(c,"type","text/css"),Zs(c,ze.fromText(t)),Zs(i,c),e.on("remove",()=>{Rr(c)})},Die=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,yH=e=>_c(e,t=>Me(t)===!1),Lj=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return yH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Die(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:GC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Fj=e=>{const t=e.options.get;return yH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Rie=e=>{const t=e.options.get;return{...Lj(e),...Fj(e),...yH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Iie=e=>{const t=fy(Lj(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,m="data-mce-"+i;let h=o.length;for(;h--;){const C=o[h];let A=C.attr(i);if(A&&!C.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),C.name),A.length||(A=null),C.attr(m,A),C.attr(i,A)):i==="tabindex"?(C.attr(m,A),C.attr(i,null)):C.attr(m,e.convertURL(A,i,C.name))}}}),t.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),$8(e)&&t.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((i=m.value)!==null&&i!==void 0?i:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const m=o[i];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Da("br",1))}}),t},Nie=e=>{const t=M8(e);t&&Zc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Pie=e=>{const t=e.dom.getRoot();!e.inline&&(!$0(e)||e.selection.getStart(!0)===t)&&Qn(t).each(o=>{const i=o.getNode(),c=uu(i)?Qn(i).getOr(o):o;e.selection.setRng(c.toRange())})},Mie=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ri(e),e.focus(!0),Pie(e),e.nodeChanged({initial:!0});const t=N8(e);Fe(t)&&t.call(e,e),Nie(e)},xH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Bie=(e,t,o)=>{const{pass:i,fail:c}=zt(t,C=>tinymce.Resource.has(kT(C))),h=[...i.map(C=>{const A=tinymce.Resource.get(kT(C));return Ce(A)?Promise.resolve(xH(e).loadRawCss(C,A)):Promise.resolve()}),xH(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},Vj=e=>{const t=xH(e),o=jD(e),i=e.contentCSS,c=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";Xt.each(e.contentStyles,F=>{A+=F+`\r
`}),e.dom.addStyle(A)}const h=Promise.all(Bie(e,i,o)).then(m).catch(m),C=P0(e);return C&&Oie(e,C),h},Lie=e=>{const t=e.getDoc(),o=e.getBody();uF(e),B8(e)||(t.body.spellcheck=!1,bH.setAttrib(o,"spellcheck","false")),e.quirks=kie(e),dF(e);const i=E8(e);i!==void 0&&(o.dir=i);const c=cr(e);c&&e.on("BeforeSetContent",m=>{Xt.each(c,h=>{m.content=m.content.replace(h,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Fie=e=>{bg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},wH=e=>{e.removed!==!0&&(Fie(e),Mie(e))},Vie=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},zj=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(bH.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=t5(e),e._editableRoot=Sr(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&bH.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=ET(e),e.schema=Bc(Fj(e)),e.dom=Gr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:WD(e),referrerPolicy:Qx(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=Iie(e),e.serializer=WP(Rie(e),e),e.selection=dT(e.dom,e.getWin(),e.serializer,e),e.annotator=sR(e),e.formatter=Ew(e),e.undoManager=_6(e),e._nodeChangeDispatcher=new Noe(e),e._selectionOverrides=Gse(e),Eo(e),Qre(e),Lw(e),bg(e)||(ise(e),_ie(e));const c=Ioe(e);$n(e,c),Bi(e),O6(e),Yre(e);const m=EP(e);Lie(e),Tie(e),m.fold(()=>{const h=Vie(e);Vj(e).then(()=>{wH(e),h()})},h=>{e.setProgressState(!0),Vj(e).then(()=>{h().then(C=>{e.setProgressState(!1),wH(e),NP(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),wH(e),NP(e)})})})},zie=kn,Hie=(e,t,o)=>P(e,t,zie,o),CH=Gr.DOM,$ie=(e,t,o,i)=>{const c=ze.fromTag("iframe");return i.each(m=>xi(c,"tabindex",m)),Ma(c,o),Ma(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Rd(c,"tox-edit-area__iframe"),c},Uie=e=>{let t=jd(e)+"<html><head>";bu(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=WC(e),i=_E(e),c=e.translate(t2(e));return FD(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+FD(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,t},Wie=(e,t)=>{const o=Fo.browser.isFirefox()?t2(e):"Rich Text Area",i=e.translate(o),c=tu(ze.fromDom(e.getElement()),"tabindex").bind(un),m=$ie(e.id,i,_l(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=Uie(e),CH.add(t.iframeContainer,m)},Zie=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,zj(e)};if(l5(e)||Fo.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Hie(ze.fromDom(t),"load",()=>{i.unbind(),o()});t.srcdoc=e.iframeHTML}},jie=(e,t)=>{Wie(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=CH.isHidden(t.editorContainer)),e.getElement().style.display="none",CH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Zie(e)},Hj=Gr.DOM,Kie=(e,t,o)=>{const i=s1.get(o),c=s1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Xt.trim(o),i&&Xt.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=i(e,c)||{};e.plugins[o]=m,Fe(m.init)&&(m.init(e,c),t.push(o))}catch(m){_z(e,o,m)}}},Gie=e=>e.replace(/^\-/,""),qie=e=>{const t=[];he(Kd(e),o=>{Kie(e,t,Gie(o))})},Yie=e=>{const t=Xt.trim(TE(e)),o=e.ui.registry.getAll().icons,i={...ww.get("default").icons,...ww.get(t).icons};ar(i,(c,m)=>{ao(o,m)||e.ui.registry.addIcon(m,c)})},Xie=e=>{const t=M0(e);if(Ce(t)){const o=rv.get(t);e.theme=o(e,rv.urls[t])||{},Fe(e.theme.init)&&e.theme.init(e,rv.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Jie=e=>{const t=e2(e),o=ov.get(t);e.model=o(e,ov.urls[t])},Qie=e=>{const t=e.theme.renderUI;return t?t():Uj(e)},eae=e=>{const t=e.getElement(),i=M0(e)(e,t);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:t.offsetHeight,i},$j=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),tae=e=>{const t=Hj.create("div");return Hj.insertAfter(t,e),$j(t,t)},Uj=e=>{const t=e.getElement();return e.inline?$j(null):tae(t)},nae=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Ce(M0(e))?Qie(e):Fe(M0(e))?eae(e):Uj(e)},oae=(e,t)=>{const o={show:J.from(t.show).getOr(ct),hide:J.from(t.hide).getOr(ct),isEnabled:J.from(t.isEnabled).getOr(kn),setEnabled:i=>{e.mode.isReadOnly()||J.from(t.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},rae=async e=>{e.dispatch("ScriptsLoaded"),Yie(e),Xie(e),Jie(e),qie(e);const t=await nae(e);oae(e,J.from(t.api).getOr({})),e.editorContainer=t.editorContainer,u6(e),e.inline?zj(e):jie(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},$w=Gr.DOM,Wj=e=>e.charAt(0)==="-",sae=(e,t)=>{const o=RE(t),i=S8(t);if(!Lc.hasCode(o)&&o!=="en"){const c=Qe(i)?i:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{wz(t,c,o)})}},iae=(e,t)=>{const o=M0(e);if(Ce(o)&&!Wj(o)&&!ao(rv.urls,o)){const i=T8(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${t}.js`;rv.load(o,c).catch(()=>{l6(e,c,o)})}},aae=(e,t)=>{const o=e2(e);if(o!=="plugin"&&!ao(ov.urls,o)){const i=NE(e),c=Ce(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${t}.js`;ov.load(o,c).catch(()=>{Cz(e,c,o)})}},lae=e=>J.from($D(e)).filter(Qe).map(t=>({url:t,name:J.none()})),Zj=(e,t,o)=>J.from(t).filter(i=>Qe(i)&&!ww.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:J.some(i)})),cae=(e,t,o)=>{const i=Zj(t,"default",o),c=lae(t).orThunk(()=>Zj(t,TE(t),""));he($1([i,c]),m=>{e.add(m.url).catch(()=>{CT(t,m.url,m.name.getOrUndefined())})})},uae=(e,t)=>{const o=(i,c)=>{s1.load(i,c).catch(()=>{wT(e,c,i)})};ar(eg(e),(i,c)=>{o(c,i),e.options.set("plugins",Kd(e).concat(c))}),he(Kd(e),i=>{i=Xt.trim(i),i&&!s1.urls[i]&&!Wj(i)&&o(i,`plugins/${i}/plugin${t}.js`)})},dae=e=>{const t=M0(e);return!Ce(t)||Ee(rv.get(t))},fae=e=>{const t=e2(e);return Ee(ov.get(t))},mae=(e,t)=>{const o=xl.ScriptLoader,i=()=>{!e.removed&&dae(e)&&fae(e)&&rae(e)};iae(e,t),aae(e,t),sae(o,e),cae(o,e,t),uae(e,t),o.loadQueue().then(i,i)},gae=(e,t)=>e0.forElement(e,{contentCssCors:n5(t),referrerPolicy:Qx(t)}),hae=e=>{const t=e.id;Lc.setCode(RE(e));const o=()=>{$w.unbind(window,"ready",o),e.render()};if(!Pf.Event.domLoaded){$w.bind(window,"ready",o);return}if(!e.getElement())return;const i=ze.fromDom(e.getElement()),c=vl(i);e.on("remove",()=>{gt(i.dom.attributes,h=>Io(i,h.name)),Ma(i,c)}),e.ui.styleSheetLoader=gae(i,e),Sb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||$w.getParent(t,"form");m&&(e.formElement=m,PE(e)&&!up(e.getElement())&&($w.insertAfter($w.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},$w.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),XD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=i6(e),e.notificationManager=xT(e),c5(e)&&e.on("GetContent",h=>{h.save&&(h.content=$w.encode(h.content))}),JD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),QD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),mae(e,e.suffix)},pae=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),gF(e,t))},vae=e=>e._editableRoot,bae=(e,t)=>({sections:tt(e),options:tt(t)}),jj=na().deviceType,Kj=jj.isPhone(),yae=jj.isTablet(),SO=e=>{if(Xe(e))return[];{const t=le(e)?e:e.split(/[ ,]/),o=Le(t,Ne);return vt(o,Qe)}},xae=(e,t)=>{const o=Mu(t,(i,c)=>ie(e,c));return bae(o.t,o.f)},wae=(e,t,o={})=>{const i=e.sections(),c=Dr(i,t).getOr({});return Xt.extend({},o,c)},_H=(e,t)=>ao(e.sections(),t),Cae=(e,t)=>_H(e,t)?e.sections()[t]:{},_ae=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Dr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),kae=(e,t)=>{var o;const i=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Xt.extend({},e.external_plugins,i):i},Sae=(e,t)=>[...SO(e),...SO(t)],Eae=(e,t,o,i)=>e&&_H(t,"mobile")?i:o,Aae=(e,t,o,i)=>{const c=SO(o.forced_plugins),m=SO(i.plugins),h=Cae(t,"mobile"),C=h.plugins?SO(h.plugins):m,A=Eae(e,t,m,C),F=Sae(c,A);return Xt.extend(i,{forced_plugins:c,plugins:F})},Tae=(e,t)=>e&&_H(t,"mobile"),Oae=(e,t,o,i,c)=>{var m;const h=e?{mobile:_ae((m=c.mobile)!==null&&m!==void 0?m:{},t)}:{},C=xae(["mobile"],XM(h,c)),A=Xt.extend(o,i,C.options(),Tae(e,C)?wae(C,"mobile"):{},{external_plugins:kae(i,C.options())});return Aae(e,C,i,A)},Dae=(e,t)=>{const o=$W(t);return Oae(Kj||yae,Kj,o,e,o)},Rae=(e,t)=>IP(e,t),Iae=e=>{const t=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{he("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&t("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Nae=e=>{const t=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return be(c,m=>Ee(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Pae=e=>{Iae(e),Nae(e)},Mae=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let i;try{o.execCommand(t)}catch{i=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(i=!0),i||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Fo.os.isMacOS()||Fo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Bae=(e,t,o,i)=>{const c=ze.fromDom(e.getRoot());return ny(c,xt.fromRangeStart(t),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Gb(c,xt.fromRangeEnd(t),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Lae=e=>{if(typeof e!="string"){const t=Xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Fae=(e,t)=>{const o=e.selection,i=e.dom;return/^ | $/.test(t)?Bae(i,o.getRng(),t,e.schema):t},xB=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:i}=Lae(t);V4(e,{...i,content:Fae(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=QV(e,c.content,i);z4(e,m,c),e.addVisual()})}},Vae=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,i)=>{xB(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,i)=>{xB(e,e.dom.encode(i))},insertHTML:(t,o,i)=>{xB(e,i)},mceInsertContent:(t,o,i)=>{xB(e,i)},mceSetContent:(t,o,i)=>{e.setContent(i)},mceReplaceContent:(t,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(gr(e))}})},zae={"font-size":"size","font-family":"face"},Hae=yf("font"),$ae=(e,t,o)=>{const i=m=>Fs(m,e).orThunk(()=>Hae(m)?Dr(zae,e).bind(h=>tu(m,h)):J.none()),c=m=>Xo(ze.fromDom(t),m);return ow(ze.fromDom(o),m=>i(m),c)},Uae=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Wae=(e,t)=>J.from(Gr.DOM.getStyle(t,e,!0)),Gj=e=>(t,o)=>J.from(o).map(ze.fromDom).filter(Us).bind(i=>$ae(e,t,i.dom).or(Wae(e,i.dom))).getOr(""),Zae=Gj("font-size"),jae=$t(Uae,Gj("font-family")),Kae=e=>Qn(e.getBody()).bind(t=>{const o=t.container();return J.from(Ut(o)?o.parentNode:o)}),Gae=e=>J.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?J.none():J.from(e.selection.getStart(!0))}),qae=(e,t)=>Gae(e).orThunk(nt(Kae,e)).map(ze.fromDom).filter(Us).bind(t),kH=(e,t)=>qae(e,Jt(J.some,t)),qj=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const i=LE(e),c=FE(e);return c.length>0?c[o-1]||t:i[o-1]||t}else return t}else return t},Yae=e=>{const t=e.split(/\s*,\s*/);return Le(t,o=>o.indexOf(" ")!==-1&&!(cs(o,'"')||cs(o,"'"))?`'${o}'`:o).join(",")},Xae=(e,t)=>{const o=qj(e,t);e.formatter.toggle("fontname",{value:Yae(o)}),e.nodeChanged()},Jae=e=>kH(e,t=>jae(e.getBody(),t.dom)).getOr(""),Qae=(e,t)=>{e.formatter.toggle("fontsize",{value:qj(e,t)}),e.nodeChanged()},ele=e=>kH(e,t=>Zae(e.getBody(),t.dom)).getOr(""),tle=e=>kH(e,t=>{const o=ze.fromDom(e.getBody()),i=ow(t,m=>Fs(m,"line-height"),nt(Xo,o)),c=()=>{const m=parseFloat(Ws(t,"line-height")),h=parseFloat(Ws(t,"font-size"));return String(m/h)};return i.getOrThunk(c)}).getOr(""),nle=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},ole=e=>{const t=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,i,c)=>{t(o,{value:c})},BackColor:(o,i,c)=>{t("hilitecolor",{value:c})},FontName:(o,i,c)=>{Xae(e,c)},FontSize:(o,i,c)=>{Qae(e,c)},LineHeight:(o,i,c)=>{nle(e,c)},Lang:(o,i,c)=>{var m;t(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,i,c)=>{t(Ce(c)?c:"p")},mceToggleFormat:(o,i,c)=>{t(c)}})},rle=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Jae(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>ele(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>tle(e))},sle=e=>{ole(e),rle(e)},ile=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ale=e=>{e.editorCommands.addCommands({Indent:()=>{At(e)},Outdent:()=>{kt(e)}}),e.editorCommands.addCommands({Outdent:()=>ve(e)},"state")},lle=e=>{const t=(o,i,c)=>{const m=Ce(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");ee(m)&&Ce(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!h||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},cle=(e,t,o,i)=>{const c=e.dom,m=C=>c.isBlock(C)&&C.parentElement===o,h=m(t)?t:c.getParent(i,m,o);return J.from(h).map(ze.fromDom)},Yj=(e,t)=>{const o=e.dom,i=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),m=t?i.startContainer:i.endContainer,h=xO(o,m);if(!h||!h.isContentEditable)return;const C=t?Ds:it,A=il(e);cle(e,c,h,m).each(F=>{const K=gZ(e,m,F.dom,h,!1,A);C(F,ze.fromDom(K)),e.selection.setCursorLocation(K,0),e.dispatch("NewBlock",{newBlock:K}),yO(e,"insertParagraph")})},ule=e=>Yj(e,!0),dle=e=>Yj(e,!1),fle=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ule(e)},InsertNewBlockAfter:()=>{dle(e)}})},mle=e=>{e.editorCommands.addCommands({insertParagraph:()=>{aB(bZ,e)},mceInsertNewLine:(t,o,i)=>{SZ(e,i)},InsertLineBreak:(t,o,i)=>{aB(wZ,e)}})},gle=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>An(m)&&c++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ic);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},hle=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,i)=>{UR(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},ple=e=>{Pae(e),Mae(e),ile(e),gle(e),Vae(e),lle(e),ale(e),fle(e),mle(e),sle(e),hle(e)},vle=["toggleview"],Xj=e=>ie(vle,e.toLowerCase());class Jj{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,i,c){const m=this.editor,h=t.toLowerCase(),C=c==null?void 0:c.skip_focus;if(m.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!C?m.focus():O_(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:i}).isDefaultPrevented()))return!1;const F=this.commands.exec[h];return Fe(F)?(F(h,o,i),m.dispatch("ExecCommand",{command:t,ui:o,value:i}),!0):!1}queryCommandState(t){if(!Xj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),i=this.commands.state[o];return Fe(i)?i(o):!1}queryCommandValue(t){if(!Xj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),i=this.commands.value[o];return Fe(i)?i(o):""}addCommands(t,o="exec"){const i=this.commands;ar(t,(c,m)=>{he(m.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(t,o,i){const c=t.toLowerCase();this.commands.exec[c]=(m,h,C)=>o.call(i??this.editor,h,C)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,i){this.commands.state[t.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(t,o,i){this.commands.value[t.toLowerCase()]=()=>o.call(i??this.editor)}}const Uw="data-mce-contenteditable",ble=(e,t,o)=>{Id(e,t)&&!o?Ba(e,t):o&&Rd(e,t)},SH=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},wB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},yle=e=>{he(pi(e,'*[contenteditable="true"]'),t=>{xi(t,Uw,"true"),wB(t,!1)})},xle=e=>{he(pi(e,`*[${Uw}="true"]`),t=>{Io(t,Uw),wB(t,!0)})},wle=e=>{J.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Cle=e=>{e.selection.setRng(e.selection.getRng())},_le=(e,t)=>{const o=ze.fromDom(e.getBody());ble(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),wle(e),e.readonly=!0,wB(o,!1),yle(o)):(e.readonly=!1,e.hasEditableRoot()&&wB(o,!0),xle(o),SH(e,"StyleWithCSS",!1),SH(e,"enableInlineTableEditing",!1),SH(e,"enableObjectResizing",!1),$b(e)&&e.focus(),Cle(e),e.nodeChanged())},Ww=e=>e.readonly,Qj=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ww(e)&&he(t,o=>{o.attr(Uw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Uw,t=>{Ww(e)&&he(t,o=>{o.attr("contenteditable",o.attr(Uw))})}),e.serializer.addTempAttr(Uw)},kle=e=>{e.serializer?Qj(e):e.on("PreInit",()=>{Qj(e)})},Sle=e=>e.type==="click",Ele=["copy"],Ale=e=>ie(Ele,e.type),Tle=(e,t)=>Zi(t,"a",i=>Xo(i,ze.fromDom(e.getBody()))).bind(i=>tu(i,"href")),Ole=(e,t)=>{if(Sle(t)&&!dn.metaKeyPressed(t)){const o=ze.fromDom(t.target);Tle(e,o).each(i=>{if(t.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Qc(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Ale(t)&&e.dispatch(t.type,t)},Dle=e=>{e.on("ShowCaret",t=>{Ww(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Ww(e)&&t.preventDefault()})},Rle=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class EH{static isNative(t){return!!Rle[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const i=t.toLowerCase(),c=c0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[i];if(m)for(let h=0,C=m.length;h<C;h++){const A=m[h];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,i,c){if(o===!1&&(o=fn),o){const m={func:o,removed:!1};c&&Xt.extend(m,c);const h=t.toLowerCase().split(" ");let C=h.length;for(;C--;){const A=h[C];let F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),i?F=[m,...F]:F=[...F,m],this.bindings[A]=F}}return this}off(t,o){if(t){const i=t.toLowerCase().split(" ");let c=i.length;for(;c--;){const m=i[c];let h=this.bindings[m];if(!m)return ar(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(h){if(!o)h.length=0;else{const C=zt(h,A=>A.func===o);h=C.fail,this.bindings[m]=h,he(C.pass,A=>{A.removed=!0})}h.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else ar(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,i){return this.on(t,o,i,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const EO=e=>(e._eventDispatcher||(e._eventDispatcher=new EH({scope:e,toggleEvent:(t,o)=>{EH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),AH={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return c0(e.toLowerCase(),t??{},i);const c=EO(i).dispatch(e,t);if(o!==!1&&i.parent){let m=i.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,t,o){return EO(this).on(e,t,o)},off(e,t){return EO(this).off(e,t)},once(e,t){return EO(this).once(e,t)},hasEventListeners(e){return EO(this).has(e)}},CB=Gr.DOM;let Zw;const _B=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=qD(e);return o?(e.eventRoot||(e.eventRoot=CB.select(o)[0]),e.eventRoot):e.getBody()},Ile=e=>!e.hidden&&!Ww(e),eK=(e,t,o)=>{Ile(e)?e.dispatch(t,o):Ww(e)&&Ole(e,o)},tK=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=_B(e,t);if(qD(e)){if(Zw||(Zw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Zw&&(ar(Zw,(c,m)=>{e.dom.unbind(_B(e,m))}),Zw=null)})),Zw[t])return;const i=c=>{const m=c.target,h=e.editorManager.get();let C=h.length;for(;C--;){const A=h[C].getBody();(A===m||CB.isChildOf(m,A))&&eK(h[C],t,c)}};Zw[t]=i,CB.bind(o,t,i)}else{const i=c=>{eK(e,t,c)};CB.bind(o,t,i),e.delegates[t]=i}},nK={...AH,bindPendingEventDelegates(){const e=this;Xt.each(e._pendingNativeEvents,t=>{tK(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?tK(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(_B(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(ar(e.delegates,(i,c)=>{e.dom.unbind(_B(e,c),c,i)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Nle=e=>Ce(e)?{value:e.split(/[ ,]/),valid:!0}:Ge(e,Ce)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ple=e=>{const t=(()=>{switch(e){case"array":return le;case"boolean":return Be;case"function":return Fe;case"number":return O;case"object":return ee;case"string":return Ce;case"string[]":return Nle;case"object[]":return o=>Ge(o,ee);case"regexp":return o=>Ve(o,RegExp);default:return kn}})();return o=>TH(o,t,`The value must be a ${e}.`)},Mle=e=>Ce(e.processor),oK=(e,t)=>{const o=Wt(t.message)?"":`. ${t.message}`;return e+o},rK=e=>e.valid,TH=(e,t,o="")=>{const i=t(e);return Be(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},Ble=(e,t,o)=>{if(!Me(t)){const i=TH(t,o);if(rK(i))return i.value;console.error(oK(`Invalid default value passed for the "${e}" option`,i))}},Lle=(e,t,o=t)=>{const i={},c={},m=(ge,Se,pe)=>{const Oe=TH(Se,pe);return rK(Oe)?(c[ge]=Oe.value,!0):(console.warn(oK(`Invalid value passed for the ${ge} option`,Oe)),!1)},h=(ge,Se)=>{const pe=Mle(Se)?Ple(Se.processor):Se.processor,Oe=Ble(ge,Se.default,pe);i[ge]={...Se,default:Oe,processor:pe},Dr(c,ge).orThunk(()=>Dr(t,ge)).each(et=>m(ge,et,pe))},C=ge=>ao(i,ge);return{register:h,isRegistered:C,get:ge=>Dr(c,ge).orThunk(()=>Dr(i,ge).map(Se=>Se.default)).getOrUndefined(),set:(ge,Se)=>{if(C(ge)){const pe=i[ge];return pe.immutable?(console.error(`"${ge}" is an immutable option and cannot be updated`),!1):m(ge,Se,pe.processor)}else return console.warn(`"${ge}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ge=>{const Se=C(ge);return Se&&delete c[ge],Se},isSet:ge=>ao(c,ge),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ge,Se)=>Be(Se)||O(Se)||Ce(Se)||Ze(Se)||le(Se)||we(Se)?Se:Object.prototype.toString.call(Se))))}catch(ge){console.error(ge)}}}},Fle=["design","readonly"],sK=(e,t,o,i)=>{const c=o[t.get()],m=o[i];try{m.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&_le(e,m.editorReadOnly),t.set(i),iR(e,i)},Vle=(e,t,o,i)=>{if(i!==o.get()){if(!ao(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?sK(e,o,t,i):e.on("init",()=>sK(e,o,t,i))}},zle=(e,t,o)=>{if(ie(Fle,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${t}:`,i)}}}}},Hle=e=>{const t=Ri("design"),o=Ri({design:{activate:ct,deactivate:ct,editorReadOnly:!1},readonly:{activate:ct,deactivate:ct,editorReadOnly:!0}});return kle(e),Dle(e),{isReadOnly:()=>Ww(e),set:i=>Vle(e,o.get(),t,i),get:()=>t.get(),register:(i,c)=>{o.set(zle(o.get(),i,c))}}},OH=Xt.each,DH=Xt.explode,$le={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},iK=Xt.makeMap("alt,ctrl,shift,meta,access"),Ule=e=>e in iK,Wle=e=>{const t={},o=Fo.os.isMacOS()||Fo.os.isiOS();OH(DH(e.toLowerCase(),"+"),m=>{Ule(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=$le[m]||m.toUpperCase().charCodeAt(0))});const i=[t.keyCode];let c;for(c in iK)t[c]?i.push(c):t[c]=!1;return t.id=i.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class aK{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(OH(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,i,c){const m=this,h=m.normalizeCommandFunc(i);return OH(DH(Xt.trim(t)),C=>{const A=m.createShortcut(C,o,h,c);m.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,i=t;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Xt.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(t,o,i,c){const m=Xt.map(DH(t,">"),Wle);return m[m.length-1]=Xt.extend(m[m.length-1],{func:i,scope:c||this.editor}),Xt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Zle=()=>{const e={},t={},o={},i={},c={},m={},h={},C={},A=(K,Y)=>(Q,ge)=>{K[Q.toLowerCase()]={...ge,type:Y}},F=(K,Y)=>i[K.toLowerCase()]=Y;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(h,"sidebar"),addView:A(C,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:o,contextMenus:c,contextToolbars:m,sidebars:h,views:C})}},jle=()=>{const e=Zle();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},jw=Gr.DOM,lK=Xt.extend,Kle=Xt.each;class kB{constructor(t,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,lK(this,nK);const c=this;this.id=t,this.hidden=!1;const m=Dae(i.defaultOptions,o);this.options=Lle(c,m,o),UC(c);const h=this.options.get;h("deprecation_warnings")&&gz(o,m);const C=h("suffix");C&&(i.suffix=C),this.suffix=i.suffix;const A=h("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const F=Qx(c);F&&(xl.ScriptLoader._setReferrerPolicy(F),Gr.DOM.styleSheetLoader._setReferrerPolicy(F));const K=n5(c);Ee(K)&&Gr.DOM.styleSheetLoader._setContentCssCors(K),rl.languageLoad=h("language_load"),rl.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new md(bu(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Sb(c),this.hasVisual=Hc(c),this.shortcuts=new aK(this),this.editorCommands=new Jj(this),ple(this);const Y=h("cache_suffix");Y&&(Fo.cacheSuffix=Y.replace(/^[\?\&]+/,"")),this.ui={registry:jle(),styleSheetLoader:void 0,show:ct,hide:ct,setEnabled:ct,isEnabled:kn},this.mode=Hle(c),i.dispatch("SetupEditor",{editor:this});const Q=F0(c);Fe(Q)&&Q.call(c,c)}render(){hae(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return q0(this)}translate(t){return Lc.translate(t)}getParam(t,o,i){const c=this.options;return c.isRegistered(t)||(Ee(i)?c.register(t,{processor:i,default:o}):c.register(t,{processor:kn,default:o})),!c.isSet(t)&&!Me(o)?o:c.get(t)}hasPlugin(t,o){return ie(Kd(this),t)?o?s1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,i){this.editorCommands.addCommand(t,o,i)}addQueryStateHandler(t,o,i){this.editorCommands.addQueryStateHandler(t,o,i)}addQueryValueHandler(t,o,i){this.editorCommands.addQueryValueHandler(t,o,i)}addShortcut(t,o,i,c){this.shortcuts.add(t,o,i,c)}execCommand(t,o,i,c){return this.editorCommands.execCommand(t,o,i,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(jw.show(t.getContainer()),jw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(jw.hide(t.getContainer()),jw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...t,load:!0},m=up(i)?i.value:i.innerHTML,h=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),h}else return""}save(t={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...t,save:!0,element:i};let m=o.getContent(c);const h={...c,content:m};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),m=h.content,up(i))i.value=m;else{(t.is_removing||!o.inline)&&(i.innerHTML=m);const C=jw.getParent(o.id,"form");C&&Kle(C.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return mT(this,t,o)}getContent(t){return ZP(this,t)}insertContent(t,o){o&&(t=lK({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?mT(this,this.startContent,{format:"raw"}):mT(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||jw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=jw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const i=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(t,o,i){const c=this,m=c.options.get,h=P8(c);if(Fe(h))return h.call(c,t,i,!0,o);if(!m("convert_urls")||i==="link"||ee(i)&&i.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new md(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:m("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Rae(this,t)}setEditableRoot(t){pae(this,t)}hasEditableRoot(){return vae(this)}remove(){QP(this)}destroy(t){pz(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const bS=Gr.DOM,SB=Xt.each;let cK=!1,EB,Eu=[];const AB=e=>{const t=e.type;SB(Dy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},uK=e=>{if(e!==cK){const t=Gr.DOM;e?(t.bind(window,"resize",AB),t.bind(window,"scroll",AB)):(t.unbind(window,"resize",AB),t.unbind(window,"scroll",AB)),cK=e}},dK=e=>{const t=Eu;return Eu=vt(Eu,o=>e!==o),Dy.activeEditor===e&&(Dy.activeEditor=Eu.length>0?Eu[0]:null),Dy.focusedEditor===e&&(Dy.focusedEditor=null),t.length!==Eu.length},Gle=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(dK(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},qle=document.compatMode!=="CSS1Compat",Dy={...AH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Lc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",i=md.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let h=0;h<m.length;h++){const C=m[h].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(o=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),t=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new md(i).toAbsolute(t),e.documentBaseURL=i,e.baseURI=new md(e.baseURL),e.suffix=o,LF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&ar(i,(c,m)=>{rl.PluginManager.urls[m]=c})},init(e){const t=this;let o;const i=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(K,Y)=>K.inline&&Y.tagName.toLowerCase()in i,m=K=>{let Y=K.id;return Y||(Y=Dr(K,"name").filter(Q=>!bS.get(Q)).getOrThunk(bS.uniqueId),K.setAttribute("id",Y)),Y},h=K=>{const Y=e[K];if(Y)return Y.apply(t,[])},C=K=>Fo.browser.isIE()||Fo.browser.isEdge()?(_w("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):qle?(_w("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ce(K.selector)?bS.select(K.selector):Ee(K.target)?[K.target]:[];let A=K=>{o=K};const F=()=>{let K=0;const Y=[];let Q;const ge=(Se,pe,Oe)=>{const Ue=new kB(Se,pe,t);Y.push(Ue),Ue.on("init",()=>{++K===Q.length&&A(Y)}),Ue.targetElm=Ue.targetElm||Oe,Ue.render()};bS.unbind(window,"ready",F),h("onpageload"),Q=ea(C(e)),Xt.each(Q,Se=>{Gle(t.get(Se.id))}),Q=Xt.grep(Q,Se=>!t.get(Se.id)),Q.length===0?A([]):SB(Q,Se=>{c(e,Se)?_w("Could not initialize inline editor on invalid inline target element",Se):ge(m(Se),e,Se)})};return bS.bind(window,"ready",F),new Promise(K=>{o?K(o):A=Y=>{K(Y)}})},get(e){return arguments.length===0?Eu.slice(0):Ce(e)?cn(Eu,t=>t.id===e).getOr(null):O(e)&&Eu[e]?Eu[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Eu.push(e),uK(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),EB||(EB=i=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",EB))),e},createEditor(e,t){return this.add(new kB(e,t,this))},remove(e){const t=this;let o;if(!e){for(let i=Eu.length-1;i>=0;i--)t.remove(Eu[i]);return}if(Ce(e)){SB(bS.select(e),i=>{o=t.get(i.id),o&&t.remove(o)});return}return o=e,Ze(t.get(o.id))?null:(dK(o)&&t.dispatch("RemoveEditor",{editor:o}),Eu.length===0&&window.removeEventListener("beforeunload",EB),o.remove(),uK(Eu.length>0),o)},execCommand(e,t,o){var i;const c=this,m=ee(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const h=o.options;new kB(m,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(m);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(m);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{SB(Eu,e=>{e.save()})},addI18n:(e,t)=>{Lc.add(e,t)},translate:e=>Lc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new md(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new md(this.baseURL)}};Dy.setup();const Yle=(()=>{const e=Ii(),t=m=>({items:m,types:Kt(m),getType:h=>Dr(m,h).getOrUndefined()}),o=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:i,clear:c}})(),fK=Math.min,yS=Math.max,TB=Math.round,mK=(e,t,o)=>{let i=t.x,c=t.y;const m=e.w,h=e.h,C=t.w,A=t.h,F=(o||"").split("");return F[0]==="b"&&(c+=A),F[1]==="r"&&(i+=C),F[0]==="c"&&(c+=TB(A/2)),F[1]==="c"&&(i+=TB(C/2)),F[3]==="b"&&(c-=h),F[4]==="r"&&(i-=m),F[3]==="c"&&(c-=TB(h/2)),F[4]==="c"&&(i-=TB(m/2)),xS(i,c,m,h)},Xle=(e,t,o,i)=>{for(let c=0;c<i.length;c++){const m=mK(e,t,i[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return i[c]}return null},Jle=(e,t,o)=>xS(e.x-t,e.y-o,e.w+t*2,e.h+o*2),Qle=(e,t)=>{const o=yS(e.x,t.x),i=yS(e.y,t.y),c=fK(e.x+e.w,t.x+t.w),m=fK(e.y+e.h,t.y+t.h);return c-o<0||m-i<0?null:xS(o,i,c-o,m-i)},ece=(e,t,o)=>{let i=e.x,c=e.y,m=e.x+e.w,h=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,F=yS(0,t.x-i),K=yS(0,t.y-c),Y=yS(0,m-C),Q=yS(0,h-A);return i+=F,c+=K,o&&(m+=F,h+=K,i-=Y,c-=Q),m-=Y,h-=Q,xS(i,c,m-i,h-c)},xS=(e,t,o,i)=>({x:e,y:t,w:o,h:i}),tce={inflate:Jle,relativePosition:mK,findBestRelativePosition:Xle,intersect:Qle,clamp:ece,create:xS,fromClientRect:e=>xS(e.left,e.top,e.width,e.height)},nce=(e,t,o=1e3)=>{let i=!1,c=null;const m=F=>(...K)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),F.apply(null,K))},h=m(e),C=m(t);return{start:(...F)=>{!i&&c===null&&(c=setTimeout(()=>C.apply(null,F),o))},resolve:h,reject:C}},oce=(()=>{const e={},t={},o={};return{load:(A,F)=>{const K=`Script at URL "${F}" failed to load`,Y=`Script at URL "${F}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const Q=new Promise((ge,Se)=>{const pe=nce(ge,Se);t[A]=pe.resolve,xl.ScriptLoader.loadScript(F).then(()=>pe.start(Y),()=>pe.reject(K))});return e[A]=Q,Q}},add:(A,F)=>{t[A]!==void 0&&(t[A](F),delete t[A]),e[A]=Promise.resolve(F),o[A]=F},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),rce=()=>(()=>{let e={},t=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{t.push(i),e[i]=String(c)},key:i=>t[i],removeItem:i=>{t=t.filter(c=>c===i),delete e[i]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let AO;try{const e="__storage_test__";AO=window.localStorage,AO.setItem(e,e),AO.removeItem(e)}catch{AO=rce()}var sce=AO;const ice={geom:{Rect:tce},util:{Delay:Zc,Tools:Xt,VK:dn,URI:md,EventDispatcher:EH,Observable:AH,I18n:Lc,LocalStorage:sce,ImageUploader:Tz},dom:{EventUtils:Pf,TreeWalker:ca,TextSeeker:Hd,DOMUtils:Gr,ScriptLoader:xl,RangeUtils:Vp,Serializer:WP,StyleSheetLoader:Fm,ControlSelection:zr,BookmarkManager:Zr,Selection:dT,Event:Pf.Event},html:{Styles:Ax,Entities:Qg,Node:Da,Schema:Bc,DomParser:fy,Writer:zA,Serializer:kh},Env:Fo,AddOnManager:rl,Annotator:sR,Formatter:Ew,UndoManager:_6,EditorCommands:Jj,WindowManager:i6,NotificationManager:xT,EditorObservable:nK,Shortcuts:aK,Editor:kB,FocusManager:ad,EditorManager:Dy,DOM:Gr.DOM,ScriptLoader:xl.ScriptLoader,PluginManager:s1,ThemeManager:rv,ModelManager:ov,IconManager:ww,Resource:oce,FakeClipboard:Yle,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,walk:Xt.walk,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix},gK=Xt.extend(Dy,ice),ace=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(gK),ace(gK)})()})(vee);var lye=vee.exports;const Fq=VU(lye);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,s=(r,a,u)=>{var f;return!!u(r,a.prototype)||((f=r.constructor)===null||f===void 0?void 0:f.name)===a.name},l=r=>a=>(u=>{const f=typeof u;return u===null?"null":f==="object"&&Array.isArray(u)?"array":f==="object"&&s(u,String,(p,b)=>b.isPrototypeOf(p))?"string":f})(a)===r,d=r=>a=>typeof a===r,g=r=>a=>r===a,v=l("string"),x=l("object"),_=r=>((a,u)=>x(a)&&s(a,u,(f,p)=>n(f)===p))(r,Object),N=l("array"),R=g(null),I=d("boolean"),V=g(void 0),$=r=>r==null,G=r=>!$(r),W=d("function"),te=d("number"),ae=(r,a)=>{if(N(r)){for(let u=0,f=r.length;u<f;++u)if(!a(r[u]))return!1;return!0}return!1},ce=()=>{},Ve=r=>()=>r(),Ce=(r,a)=>(...u)=>r(a.apply(null,u)),ee=r=>()=>r,we=r=>r,le=(r,a)=>r===a;function Ze(r,...a){return(...u)=>{const f=a.concat(u);return r.apply(null,f)}}const Be=r=>a=>!r(a),Me=r=>()=>{throw new Error(r)},Xe=r=>r(),Ee=ee(!1),Fe=ee(!0);class O{constructor(a,u){this.tag=a,this.value=u}static some(a){return new O(!0,a)}static none(){return O.singletonNone}fold(a,u){return this.tag?u(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?O.some(a(this.value)):O.none()}bind(a){return this.tag?a(this.value):O.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:O.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return G(a)?O.some(a):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const Ge=Array.prototype.slice,ct=Array.prototype.indexOf,$t=Array.prototype.push,Jt=(r,a)=>ct.call(r,a),tt=(r,a)=>Jt(r,a)>-1,pt=(r,a)=>{for(let u=0,f=r.length;u<f;u++)if(a(r[u],u))return!0;return!1},Lt=(r,a)=>{const u=[];for(let f=0;f<r;f++)u.push(a(f));return u},nt=(r,a)=>{const u=[];for(let f=0;f<r.length;f+=a){const p=Ge.call(r,f,f+a);u.push(p)}return u},Ye=(r,a)=>{const u=r.length,f=new Array(u);for(let p=0;p<u;p++){const b=r[p];f[p]=a(b,p)}return f},Mt=(r,a)=>{for(let u=0,f=r.length;u<f;u++)a(r[u],u)},oo=(r,a)=>{const u=[],f=[];for(let p=0,b=r.length;p<b;p++){const w=r[p];(a(w,p)?u:f).push(w)}return{pass:u,fail:f}},zn=(r,a)=>{const u=[];for(let f=0,p=r.length;f<p;f++){const b=r[f];a(b,f)&&u.push(b)}return u},fn=(r,a,u)=>(((f,p)=>{for(let b=f.length-1;b>=0;b--)p(f[b],b)})(r,(f,p)=>{u=a(u,f,p)}),u),kn=(r,a,u)=>(Mt(r,(f,p)=>{u=a(u,f,p)}),u),J=(r,a)=>((u,f,p)=>{for(let b=0,w=u.length;b<w;b++){const S=u[b];if(f(S,b))return O.some(S);if(p(S,b))break}return O.none()})(r,a,Ee),Cr=(r,a)=>{for(let u=0,f=r.length;u<f;u++)if(a(r[u],u))return O.some(u);return O.none()},eo=r=>{const a=[];for(let u=0,f=r.length;u<f;++u){if(!N(r[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+r);$t.apply(a,r[u])}return a},tn=(r,a)=>eo(Ye(r,a)),Do=(r,a)=>{for(let u=0,f=r.length;u<f;++u)if(a(r[u],u)!==!0)return!1;return!0},Ke=r=>{const a=Ge.call(r,0);return a.reverse(),a},ie=(r,a)=>zn(r,u=>!tt(a,u)),be=(r,a)=>{const u={};for(let f=0,p=r.length;f<p;f++){const b=r[f];u[String(b)]=a(b,f)}return u},Le=r=>[r],he=(r,a)=>{const u=Ge.call(r,0);return u.sort(a),u},gt=(r,a)=>a>=0&&a<r.length?O.some(r[a]):O.none(),zt=r=>gt(r,0),vt=r=>gt(r,r.length-1),Ft=W(Array.from)?Array.from:r=>Ge.call(r),Vt=(r,a)=>{for(let u=0;u<r.length;u++){const f=a(r[u],u);if(f.isSome())return f}return O.none()},wn=Object.keys,cn=Object.hasOwnProperty,Tn=(r,a)=>{const u=wn(r);for(let f=0,p=u.length;f<p;f++){const b=u[f];a(r[b],b)}},Dn=(r,a)=>Co(r,(u,f)=>({k:f,v:a(u,f)})),Co=(r,a)=>{const u={};return Tn(r,(f,p)=>{const b=a(f,p);u[b.k]=b.v}),u},Ro=r=>(a,u)=>{r[u]=a},Uo=(r,a,u,f)=>{Tn(r,(p,b)=>{(a(p,b)?u:f)(p,b)})},fr=(r,a)=>{const u={};return Uo(r,a,Ro(u),ce),u},as=(r,a)=>{const u=[];return Tn(r,(f,p)=>{u.push(a(f,p))}),u},mr=(r,a)=>{const u=wn(r);for(let f=0,p=u.length;f<p;f++){const b=u[f],w=r[b];if(a(w,b,r))return O.some(w)}return O.none()},As=r=>as(r,we),hn=(r,a)=>To(r,a)?O.from(r[a]):O.none(),To=(r,a)=>cn.call(r,a),bo=(r,a)=>To(r,a)&&r[a]!==void 0&&r[a]!==null,rs=(r,a,u=le)=>r.exists(f=>u(f,a)),ea=r=>{const a=[],u=f=>{a.push(f)};for(let f=0;f<r.length;f++)r[f].each(u);return a},Kt=(r,a,u)=>r.isSome()&&a.isSome()?O.some(u(r.getOrDie(),a.getOrDie())):O.none(),gi=(r,a)=>r!=null?O.some(a(r)):O.none(),ar=(r,a)=>r?O.some(a):O.none(),jl=(r,a,u)=>a===""||r.length>=a.length&&r.substr(u,u+a.length)===a,$r=(r,a)=>ym(r,a)?((u,f)=>u.substring(f))(r,a.length):r,ei=(r,a,u=0,f)=>{const p=r.indexOf(a,u);return p!==-1&&(!!V(f)||p+a.length<=f)},ym=(r,a)=>jl(r,a,0),Mu=(r,a)=>jl(r,a,r.length-a.length),_c=(vf=/^\s+|\s+$/g,r=>r.replace(vf,"")),fl=r=>r.length>0,Bu=r=>!fl(r),Dr=r=>r.style!==void 0&&W(r.style.getPropertyValue),ao=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},Kl=(r,a)=>{const u=document.createElement("div");if(u.innerHTML=r,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,r),new Error(f)}return ao(u.childNodes[0])},Ti=(r,a)=>{const u=document.createElement(r);return ao(u)},Lu=(r,a)=>{const u=document.createTextNode(r);return ao(u)},sn=ao,Fu=typeof window<"u"?window:Function("return this;")(),xm=(r,a)=>((u,f)=>{let p=f??Fu;for(let b=0;b<u.length&&p!=null;++b)p=p[u[b]];return p})(r.split("."),a),hs=Object.getPrototypeOf,wm=r=>{const a=xm("ownerDocument.defaultView",r);return x(r)&&((u=>((f,p)=>{const b=((w,S)=>xm(w,S))(f,p);if(b==null)throw new Error(f+" not available on this browser");return b})("HTMLElement",u))(a).prototype.isPrototypeOf(r)||/^HTML\w*Element$/.test(hs(r).constructor.name))},qa=r=>r.dom.nodeName.toLowerCase(),Il=r=>a=>(u=>u.dom.nodeType)(a)===r,ml=r=>ls(r)&&wm(r.dom),ls=Il(1),Ca=Il(3),Nl=Il(9),Cm=Il(11),Yc=r=>a=>ls(a)&&qa(a)===r,Xc=(r,a)=>{const u=r.dom;if(u.nodeType!==1)return!1;{const f=u;if(f.matches!==void 0)return f.matches(a);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(a);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(a);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},ff=r=>r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11||r.childElementCount===0,Sd=(r,a)=>{const u=a===void 0?document:a.dom;return ff(u)?O.none():O.from(u.querySelector(r)).map(sn)},lr=(r,a)=>r.dom===a.dom,Ls=(r,a)=>{const u=r.dom,f=a.dom;return u!==f&&u.contains(f)},ii=r=>sn(r.dom.ownerDocument),_m=r=>Nl(r)?r:ii(r),Ya=r=>sn(_m(r).dom.documentElement),Jc=r=>sn(_m(r).dom.defaultView),_a=r=>O.from(r.dom.parentNode).map(sn),ka=r=>O.from(r.dom.parentElement).map(sn),Qc=r=>O.from(r.dom.offsetParent).map(sn),Pr=r=>Ye(r.dom.childNodes,sn),cs=(r,a)=>{const u=r.dom.childNodes;return O.from(u[a]).map(sn)},Te=r=>cs(r,0),ot=(r,a)=>({element:r,offset:a}),Ne=(r,a)=>{const u=Pr(r);return u.length>0&&a<u.length?ot(u[a],0):ot(r,a)},mt=r=>Cm(r)&&G(r.dom.host),ut=r=>sn(r.dom.getRootNode()),Qe=r=>mt(r)?r:sn(_m(r).dom.body),Wt=r=>{const a=ut(r);return mt(a)?O.some(a):O.none()},nn=r=>sn(r.dom.host),un=r=>{const a=Ca(r)?r.dom.parentNode:r.dom;if(a==null||a.ownerDocument===null)return!1;const u=a.ownerDocument;return Wt(sn(a)).fold(()=>u.body.contains(a),(f=un,p=nn,b=>f(p(b))));var f,p},vn=()=>an(sn(document)),an=r=>{const a=r.dom.body;if(a==null)throw new Error("Body is not available yet");return sn(a)},ho=(r,a,u)=>{if(!(v(u)||I(u)||te(u)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",u,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(a,u+"")},rn=(r,a,u)=>{ho(r.dom,a,u)},Ar=(r,a)=>{const u=r.dom;Tn(a,(f,p)=>{ho(u,p,f)})},Lo=(r,a)=>{const u=r.dom.getAttribute(a);return u===null?void 0:u},Ko=(r,a)=>O.from(Lo(r,a)),Ts=(r,a)=>{const u=r.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(a)},So=(r,a)=>{r.dom.removeAttribute(a)},Pl=(r,a,u)=>{if(!v(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",r),new Error("CSS value must be a string: "+u);Dr(r)&&r.style.setProperty(a,u)},ta=(r,a)=>{Dr(r)&&r.style.removeProperty(a)},co=(r,a,u)=>{const f=r.dom;Pl(f,a,u)},Xa=(r,a)=>{const u=r.dom;Tn(a,(f,p)=>{Pl(u,p,f)})},gl=(r,a)=>{const u=r.dom;Tn(a,(f,p)=>{f.fold(()=>{ta(u,p)},b=>{Pl(u,p,b)})})},ws=(r,a)=>{const u=r.dom,f=window.getComputedStyle(u).getPropertyValue(a);return f!==""||un(r)?f:Ed(u,a)},Ed=(r,a)=>Dr(r)?r.style.getPropertyValue(a):"",$s=(r,a)=>{const u=r.dom,f=Ed(u,a);return O.from(f).filter(p=>p.length>0)},mf=r=>{const a={},u=r.dom;if(Dr(u))for(let f=0;f<u.style.length;f++){const p=u.style.item(f);a[p]=u.style[p]}return a},Ml=(r,a,u)=>{const f=Ti(r);return co(f,a,u),$s(f,a).isSome()},_r=(r,a)=>{const u=r.dom;ta(u,a),rs(Ko(r,"style").map(_c),"")&&So(r,"style")},Vu=r=>r.dom.offsetWidth,km=(r,a)=>{const u=p=>{const b=a(p);if(b<=0||b===null){const w=ws(p,r);return parseFloat(w)||0}return b},f=(p,b)=>kn(b,(w,S)=>{const E=ws(p,S),D=E===void 0?0:parseInt(E,10);return isNaN(D)?w:w+D},0);return{set:(p,b)=>{if(!te(b)&&!b.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+b);const w=p.dom;Dr(w)&&(w.style[r]=b+"px")},get:u,getOuter:u,aggregate:f,max:(p,b,w)=>{const S=f(p,w);return b>S?b-S:0}}},tp=km("height",r=>{const a=r.dom;return un(r)?a.getBoundingClientRect().height:a.offsetHeight}),Os=r=>tp.get(r),kc=r=>tp.getOuter(r),hl=(r,a)=>({left:r,top:a,translate:(u,f)=>hl(r+u,a+f)}),Jr=hl,Sm=(r,a)=>r!==void 0?r:a!==void 0?a:0,Bl=r=>{const a=r.dom.ownerDocument,u=a.body,f=a.defaultView,p=a.documentElement;if(u===r.dom)return Jr(u.offsetLeft,u.offsetTop);const b=Sm(f==null?void 0:f.pageYOffset,p.scrollTop),w=Sm(f==null?void 0:f.pageXOffset,p.scrollLeft),S=Sm(p.clientTop,u.clientTop),E=Sm(p.clientLeft,u.clientLeft);return na(r).translate(w-E,b-S)},na=r=>{const a=r.dom,u=a.ownerDocument.body;return u===a?Jr(u.offsetLeft,u.offsetTop):un(r)?(f=>{const p=f.getBoundingClientRect();return Jr(p.left,p.top)})(a):Jr(0,0)},Fg=km("width",r=>r.dom.offsetWidth),Oi=r=>Fg.get(r),Ja=r=>Fg.getOuter(r),oa=r=>{let a,u=!1;return(...f)=>(u||(u=!0,a=r.apply(null,f)),a)},Ll=()=>np(0,0),np=(r,a)=>({major:r,minor:a}),Fo={nu:np,detect:(r,a)=>{const u=String(a).toLowerCase();return r.length===0?Ll():((f,p)=>{const b=((S,E)=>{for(let D=0;D<S.length;D++){const L=S[D];if(L.test(E))return L}})(f,p);if(!b)return{major:0,minor:0};const w=S=>Number(p.replace(b,"$"+S));return np(w(1),w(2))})(r,u)},unknown:Ll},eu=(r,a)=>{const u=String(a).toLowerCase();return J(r,f=>f.search(u))},Ad=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zu=r=>a=>ei(a,r),Av=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>ei(r,"edge/")&&ei(r,"chrome")&&ei(r,"safari")&&ei(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ad],search:r=>ei(r,"chrome")&&!ei(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>ei(r,"msie")||ei(r,"trident")},{name:"Opera",versionRegexes:[Ad,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zu("firefox")},{name:"Safari",versionRegexes:[Ad,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(ei(r,"safari")||ei(r,"mobile/"))&&ei(r,"applewebkit")}],nx=[{name:"Windows",search:zu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>ei(r,"iphone")||ei(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:zu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zu("linux"),versionRegexes:[]},{name:"Solaris",search:zu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],V1={browsers:ee(Av),oses:ee(nx)},z1="Edge",bC="Chromium",op="Opera",H1="Firefox",Xt="Safari",gf=r=>{const a=r.current,u=r.version,f=p=>()=>a===p;return{current:a,version:u,isEdge:f(z1),isChromium:f(bC),isIE:f("IE"),isOpera:f(op),isFirefox:f(H1),isSafari:f(Xt)}},hf=()=>gf({current:void 0,version:Fo.unknown()}),$1=gf,ra="Windows",pf="Android",Vg="Linux",ox="macOS",rx="Solaris",Tv="FreeBSD",sx="ChromeOS",U1=r=>{const a=r.current,u=r.version,f=p=>()=>a===p;return{current:a,version:u,isWindows:f(ra),isiOS:f("iOS"),isAndroid:f(pf),isMacOS:f(ox),isLinux:f(Vg),isSolaris:f(rx),isFreeBSD:f(Tv),isChromeOS:f(sx)}},ix=()=>U1({current:void 0,version:Fo.unknown()}),zg=U1,W1=r=>window.matchMedia(r).matches;var vf;let bf=oa(()=>((r,a,u)=>{const f=V1.browsers(),p=V1.oses(),b=a.bind(E=>((D,L)=>Vt(L.brands,M=>{const z=M.brand.toLowerCase();return J(D,q=>{var X;return z===((X=q.brand)===null||X===void 0?void 0:X.toLowerCase())}).map(q=>({current:q.name,version:Fo.nu(parseInt(M.version,10),0)}))}))(f,E)).orThunk(()=>((E,D)=>eu(E,D).map(L=>{const M=Fo.detect(L.versionRegexes,D);return{current:L.name,version:M}}))(f,r)).fold(hf,$1),w=((E,D)=>eu(E,D).map(L=>{const M=Fo.detect(L.versionRegexes,D);return{current:L.name,version:M}}))(p,r).fold(ix,zg),S=((E,D,L,M)=>{const z=E.isiOS()&&/ipad/i.test(L)===!0,q=E.isiOS()&&!z,X=E.isiOS()||E.isAndroid(),ue=X||M("(pointer:coarse)"),me=z||!q&&X&&M("(min-device-width:768px)"),_e=q||X&&!me,fe=D.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,de=!_e&&!me&&!fe;return{isiPad:ee(z),isiPhone:ee(q),isTablet:ee(me),isPhone:ee(_e),isTouch:ee(ue),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:ee(fe),isDesktop:ee(de)}})(w,b,r,u);return{browser:b,os:w,deviceType:S}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),W1));const sa=()=>bf(),pl=r=>{const a=sn((b=>{if(G(b.target)){const w=sn(b.target);if(ls(w)&&(S=>G(S.dom.shadowRoot))(w)&&b.composed&&b.composedPath){const S=b.composedPath();if(S)return zt(S)}}return O.from(b.target)})(r).getOr(r.target)),u=()=>r.stopPropagation(),f=()=>r.preventDefault(),p=Ce(f,u);return((b,w,S,E,D,L,M)=>({target:b,x:w,y:S,stop:E,prevent:D,kill:L,raw:M}))(a,r.clientX,r.clientY,u,f,p,r)},Hg=(r,a,u,f,p)=>{const b=((w,S)=>E=>{w(E)&&S(pl(E))})(u,f);return r.dom.addEventListener(a,b,p),{unbind:Ze(Yo,r,a,b,p)}},Yo=(r,a,u,f)=>{r.dom.removeEventListener(a,u,f)},Td=(r,a)=>{_a(r).each(u=>{u.dom.insertBefore(a.dom,r.dom)})},$g=(r,a)=>{(f=>O.from(f.dom.nextSibling).map(sn))(r).fold(()=>{_a(r).each(f=>{Pa(f,a)})},f=>{Td(f,a)})},Ug=(r,a)=>{Te(r).fold(()=>{Pa(r,a)},u=>{r.dom.insertBefore(a.dom,u.dom)})},Pa=(r,a)=>{r.dom.appendChild(a.dom)},Us=(r,a)=>{Mt(a,u=>{Pa(r,u)})},us=r=>{r.dom.textContent="",Mt(Pr(r),a=>{$i(a)})},$i=r=>{const a=r.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Qr=r=>{const a=r!==void 0?r.dom:document,u=a.body.scrollLeft||a.documentElement.scrollLeft,f=a.body.scrollTop||a.documentElement.scrollTop;return Jr(u,f)},yf=(r,a,u)=>{const f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(r,a)},Em=(r,a,u,f)=>({x:r,y:a,width:u,height:f,right:r+u,bottom:a+f}),xi=r=>{const a=r===void 0?window:r,u=a.document,f=Qr(sn(u));return(p=>{const b=p===void 0?window:p;return sa().browser.isFirefox()?O.none():O.from(b.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,b=p.clientWidth,w=p.clientHeight;return Em(f.left,f.top,b,w)},p=>Em(Math.max(p.pageLeft,f.left),Math.max(p.pageTop,f.top),p.width,p.height))},Ma=()=>sn(document),Sa=(r,a)=>r.view(a).fold(ee([]),u=>{const f=r.owner(u),p=Sa(r,f);return[u].concat(p)});var tu=Object.freeze({__proto__:null,view:r=>{var a;return(r.dom===document?O.none():O.from((a=r.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(sn)},owner:r=>ii(r)});const Od=r=>{const a=Ma(),u=Qr(a);return((p,b)=>{const w=b.owner(p),S=Sa(b,w);return O.some(S)})(r,tu).fold(Ze(Bl,r),p=>{const b=na(r),w=fn(p,(S,E)=>{const D=na(E);return{left:S.left+D.left,top:S.top+D.top}},{left:0,top:0});return Jr(w.left+b.left+u.left,w.top+b.top+u.top)})},Io=(r,a,u,f)=>({x:r,y:a,width:u,height:f,right:r+u,bottom:a+f}),ai=r=>{const a=Bl(r),u=Ja(r),f=kc(r);return Io(a.left,a.top,u,f)},vl=r=>{const a=Od(r),u=Ja(r),f=kc(r);return Io(a.left,a.top,u,f)},Dd=(r,a)=>{const u=Math.max(r.x,a.x),f=Math.max(r.y,a.y),p=Math.min(r.right,a.right),b=Math.min(r.bottom,a.bottom);return Io(u,f,p-u,b-f)},Ui=()=>xi(window),Vn=r=>{let a=r;return{get:()=>a,set:u=>{a=u}}},Sc=r=>{const a=Vn(O.none()),u=()=>a.get().each(r);return{clear:()=>{u(),a.set(O.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:f=>{u(),a.set(O.some(f))}}},Ec=()=>Sc(r=>r.unbind()),Tr=()=>{const r=Sc(ce);return{...r,on:a=>r.get().each(a)}};var rp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ov=r=>{const a=b=>b(r),u=ee(r),f=()=>p,p={tag:!0,inner:r,fold:(b,w)=>w(r),isValue:Fe,isError:Ee,map:b=>Vo.value(b(r)),mapError:f,bind:a,exists:a,forall:a,getOr:u,or:f,getOrThunk:u,orThunk:f,getOrDie:u,each:b=>{b(r)},toOptional:()=>O.some(r)};return p},Rd=r=>{const a=()=>u,u={tag:!1,inner:r,fold:(f,p)=>f(r),isValue:Ee,isError:Fe,map:a,mapError:f=>Vo.error(f(r)),bind:a,exists:Ee,forall:Fe,getOr:we,or:we,getOrThunk:Xe,orThunk:Xe,getOrDie:Me(String(r)),each:ce,toOptional:O.none};return u},Vo={value:Ov,error:Rd,fromOption:(r,a)=>r.fold(()=>Rd(a),Ov)};var Ba;(function(r){r[r.Error=0]="Error",r[r.Value=1]="Value"})(Ba||(Ba={}));const sp=(r,a,u)=>r.stype===Ba.Error?a(r.serror):u(r.svalue),Id=r=>({stype:Ba.Value,svalue:r}),Dv=r=>({stype:Ba.Error,serror:r}),nu=Id,Qa=Dv,ou=sp,xf=(r,a,u,f)=>({tag:"field",key:r,newKey:a,presence:u,prop:f}),ze=(r,a,u)=>{switch(r.tag){case"field":return a(r.key,r.newKey,r.presence,r.prop);case"custom":return u(r.newKey,r.instantiator)}},Am=r=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const u={};for(let f=0;f<a.length;f++){const p=a[f];for(const b in p)To(p,b)&&(u[b]=r(u[b],p[b]))}return u},Mr=Am((r,a)=>_(r)&&_(a)?Mr(r,a):a),Rv=Am((r,a)=>a),Wg=r=>({tag:"defaultedThunk",process:r}),ru=r=>Wg(ee(r)),Xo=r=>({tag:"mergeWithThunk",process:r}),ia=r=>{const a=(f=>{const p=[],b=[];return Mt(f,w=>{sp(w,S=>b.push(S),S=>p.push(S))}),{values:p,errors:b}})(r);return a.errors.length>0?(u=a.errors,Ce(Qa,eo)(u)):nu(a.values);var u},Hu=r=>x(r)&&wn(r).length>100?" removed due to size":JSON.stringify(r,null,2),rc=(r,a)=>Qa([{path:r,getErrorInfo:a}]),$u=r=>({extract:(a,u)=>((f,p)=>f.stype===Ba.Error?p(f.serror):f)(r(u),f=>((p,b)=>rc(p,ee(b)))(a,f)),toString:ee("val")}),Uu=$u(nu),aa=(r,a,u,f)=>f(hn(r,a).getOrThunk(()=>u(r))),wf=(r,a,u,f,p)=>{const b=S=>p.extract(a.concat([f]),S),w=S=>S.fold(()=>nu(O.none()),E=>((D,L)=>D.stype===Ba.Value?{stype:Ba.Value,svalue:L(D.svalue)}:D)(p.extract(a.concat([f]),E),O.some));switch(r.tag){case"required":return((S,E,D,L)=>hn(E,D).fold(()=>((M,z,q)=>rc(M,()=>'Could not find valid *required* value for "'+z+'" in '+Hu(q)))(S,D,E),L))(a,u,f,b);case"defaultedThunk":return aa(u,f,r.process,b);case"option":return((S,E,D)=>D(hn(S,E)))(u,f,w);case"defaultedOptionThunk":return((S,E,D,L)=>L(hn(S,E).map(M=>M===!0?D(S):M)))(u,f,r.process,w);case"mergeWithThunk":return aa(u,f,ee({}),S=>{const E=Mr(r.process(u),S);return b(E)})}},Tm=r=>({extract:(a,u)=>r().extract(a,u),toString:()=>r().toString()}),Iv=r=>wn(fr(r,G)),wi=r=>{const a=Zn(r),u=fn(r,(f,p)=>ze(p,b=>Mr(f,{[b]:!0}),ee(f)),{});return{extract:(f,p)=>{const b=I(p)?[]:Iv(p),w=zn(b,S=>!bo(u,S));return w.length===0?a.extract(f,p):((S,E)=>rc(S,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,w)},toString:a.toString}},Zn=r=>({extract:(a,u)=>((f,p,b)=>{const w={},S=[];for(const E of b)ze(E,(D,L,M,z)=>{const q=wf(M,f,p,D,z);ou(q,X=>{S.push(...X)},X=>{w[L]=X})},(D,L)=>{w[D]=L(p)});return S.length>0?Qa(S):nu(w)})(a,u,r),toString:()=>`obj{
`+Ye(r,u=>ze(u,(f,p,b,w)=>f+" -> "+w.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),Wu=r=>({extract:(a,u)=>{const f=Ye(u,(p,b)=>r.extract(a.concat(["["+b+"]"]),p));return ia(f)},toString:()=>"array("+r.toString()+")"}),Om=(r,a)=>{const u=a!==void 0?a:we;return{extract:(f,p)=>{const b=[];for(const w of r){const S=w.extract(f,p);if(S.stype===Ba.Value)return{stype:Ba.Value,svalue:u(S.svalue)};b.push(S)}return ia(b)},toString:()=>"oneOf("+Ye(r,f=>f.toString()).join(", ")+")"}},la=(r,a)=>({extract:(u,f)=>{const p=wn(f),b=((w,S)=>Wu($u(r)).extract(w,S))(u,p);return((w,S)=>w.stype===Ba.Value?S(w.svalue):w)(b,w=>{const S=Ye(w,E=>xf(E,E,{tag:"required",process:{}},a));return Zn(S).extract(u,f)})},toString:()=>"setOf("+a.toString()+")"}),Zu=Ce(Wu,Zn),Fl=ee(Uu),ju=(r,a)=>$u(u=>{const f=typeof u;return r(u)?nu(u):Qa(`Expected type: ${a} but got: ${f}`)}),Nd=ju(te,"number"),Ci=ju(v,"string"),sc=ju(I,"boolean"),su=ju(W,"function"),Dm=r=>{if(Object(r)!==r)return!0;switch({}.toString.call(r).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(r).every(a=>Dm(r[a]));default:return!1}},Z1=$u(r=>Dm(r)?nu(r):Qa("Expected value to be acceptable for sending via postMessage")),Ku=(r,a)=>({extract:(u,f)=>hn(f,r).fold(()=>((p,b)=>rc(p,()=>'Choice schema did not contain choice key: "'+b+'"'))(u,r),p=>((b,w,S,E)=>hn(S,E).fold(()=>((D,L,M)=>rc(D,()=>'The chosen schema: "'+M+'" did not exist in branches: '+Hu(L)))(b,S,E),D=>D.extract(b.concat(["branch: "+E]),w)))(u,f,a,p)),toString:()=>"chooseOn("+r+"). Possible values: "+wn(a)}),Cf=r=>$u(a=>r(a).fold(Qa,nu)),Nv=(r,a)=>la(u=>r(u).fold(Dv,Id),a),Cs=(r,a,u)=>{return f=((p,b,w)=>((S,E)=>S.stype===Ba.Error?{stype:Ba.Error,serror:E(S.serror)}:S)(b.extract([p],w),S=>({input:w,errors:S})))(r,a,u),sp(f,Vo.error,Vo.value);var f},La=r=>r.fold(a=>{throw new Error(el(a))},we),Ea=(r,a,u)=>La(Cs(r,a,u)),el=r=>`Errors: 
`+(a=>{const u=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:ee("... (only showing first ten failures)")}]):a;return Ye(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(r.errors).join(`
`)+`

Input object: `+Hu(r.input),hi=(r,a)=>Ku(r,Dn(a,Zn)),ip=(r,a)=>((u,f)=>{const p=oa(f);return{extract:(b,w)=>p().extract(b,w),toString:()=>p().toString()}})(0,a),li=xf,Wi=(r,a)=>({tag:"custom",newKey:r,instantiator:a}),iu=r=>Cf(a=>tt(r,a)?Vo.value(a):Vo.error(`Unsupported value: "${a}", choose one of "${r.join(", ")}".`)),Dt=r=>li(r,r,{tag:"required",process:{}},Fl()),Zi=(r,a)=>li(r,r,{tag:"required",process:{}},a),ap=r=>Zi(r,Nd),_s=r=>Zi(r,Ci),Gu=(r,a)=>li(r,r,{tag:"required",process:{}},iu(a)),Fa=r=>Zi(r,su),Ac=(r,a)=>li(r,r,{tag:"required",process:{}},Zn(a)),Rm=(r,a)=>li(r,r,{tag:"required",process:{}},Zu(a)),tl=(r,a)=>li(r,r,{tag:"required",process:{}},Wu(a)),Go=r=>li(r,r,{tag:"option",process:{}},Fl()),Ws=(r,a)=>li(r,r,{tag:"option",process:{}},a),_f=r=>Ws(r,Nd),Fs=r=>Ws(r,Ci),Zg=(r,a)=>Ws(r,iu(a)),au=r=>Ws(r,su),j1=(r,a)=>Ws(r,Wu(a)),Ds=(r,a)=>Ws(r,Zn(a)),it=(r,a)=>li(r,r,ru(a),Fl()),Va=(r,a,u)=>li(r,r,ru(a),u),Zs=(r,a)=>Va(r,a,Nd),Gl=(r,a)=>Va(r,a,Ci),Tc=(r,a,u)=>Va(r,a,iu(u)),ti=(r,a)=>Va(r,a,sc),es=(r,a)=>Va(r,a,su),Rr=(r,a,u)=>Va(r,a,Wu(u)),za=(r,a,u)=>Va(r,a,Zn(u)),ql=r=>{if(!N(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const a=[],u={};return Mt(r,(f,p)=>{const b=wn(f);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],S=f[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!N(S))throw new Error("case arguments must be an array");a.push(w),u[w]=(...E)=>{const D=E.length;if(D!==S.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+S.length+" ("+S+"), got "+D);return{fold:(...L)=>{if(L.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+L.length);return L[p].apply(null,E)},match:L=>{const M=wn(L);if(a.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+M.join(","));if(!Do(a,z=>tt(M,z)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),u};ql([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const lu=(r,a)=>((u,f)=>({[u]:f}))(r,a),Pd=r=>(a=>{const u={};return Mt(a,f=>{u[f.key]=f.value}),u})(r),Im=r=>W(r)?r:Ee,jg=(r,a,u)=>{let f=r.dom;const p=Im(u);for(;f.parentNode;){f=f.parentNode;const b=sn(f),w=a(b);if(w.isSome())return w;if(p(b))break}return O.none()},Kg=(r,a,u)=>{const f=a(r),p=Im(u);return f.orThunk(()=>p(r)?O.none():jg(r,a,p))},Pv=(r,a)=>lr(r.element,a.event.target),Mv={can:Fe,abort:Ee,run:ce},qu=r=>{if(!bo(r,"can")&&!bo(r,"abort")&&!bo(r,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(r,null,2)+" does not have can, abort, or run!");return{...Mv,...r}},P=ee,Z=P("touchstart"),re=P("touchmove"),Re=P("touchend"),We=P("touchcancel"),Rt=P("mousedown"),Kn=P("mousemove"),po=P("mouseout"),lo=P("mouseup"),On=P("mouseover"),xr=P("focusin"),js=P("focusout"),ks=P("keydown"),Oc=P("keyup"),Nm=P("input"),Pm=P("change"),pi=P("click"),yC=P("transitioncancel"),Bv=P("transitionend"),K1=P("transitionstart"),ca=P("selectstart"),Rs=r=>ee("alloy."+r),Di={tap:Rs("tap")},Yu=Rs("focus"),lp=Rs("blur.post"),ax=Rs("paste.post"),ic=Rs("receive"),bl=Rs("execute"),Lv=Rs("focus.item"),kf=Di.tap,aE=Rs("longpress"),Fv=Rs("sandbox.close"),Md=Rs("typeahead.cancel"),Sf=Rs("system.init"),An=Rs("system.touchmove"),cu=Rs("system.touchend"),Vv=Rs("system.scroll"),Ef=Rs("system.resize"),ua=Rs("system.attached"),Dc=Rs("system.detached"),Gg=Rs("system.dismissRequested"),Af=Rs("system.repositionRequested"),G1=Rs("focusmanager.shifted"),uu=Rs("slotcontainer.visibility"),cp=Rs("system.external.element.scroll"),up=Rs("change.tab"),Ut=Rs("dismiss.tab"),lx=Rs("highlight"),Tf=Rs("dehighlight"),Ao=(r,a)=>{Rc(r,r.element,a,{})},Nn=(r,a,u)=>{Rc(r,r.element,a,u)},Of=r=>{Ao(r,bl())},ps=(r,a,u)=>{Rc(r,a,u,{})},Rc=(r,a,u,f)=>{const p={target:a,...f};r.getSystem().triggerEvent(u,a,p)},Ic=(r,a,u,f)=>{r.getSystem().triggerEvent(u,a,f.event)},fo=r=>Pd(r),dp=(r,a)=>({key:r,value:qu({abort:a})}),xC=r=>({key:r,value:qu({run:(a,u)=>{u.event.prevent()}})}),St=(r,a)=>({key:r,value:qu({run:a})}),cx=(r,a,u)=>({key:r,value:qu({run:(f,p)=>{a.apply(void 0,[f,p].concat(u))}})}),fp=r=>a=>({key:r,value:qu({run:(u,f)=>{Pv(u,f)&&a(u,f)}})}),mp=(r,a,u)=>((f,p)=>St(f,(b,w)=>{b.getSystem().getByUid(p).each(S=>{Ic(S,S.element,f,w)})}))(r,a.partUids[u]),qg=(r,a)=>St(r,(u,f)=>{const p=f.event,b=u.getSystem().getByDom(p.target).getOrThunk(()=>Kg(p.target,w=>u.getSystem().getByDom(w).toOptional(),Ee).getOr(u));a(u,b,f)}),Mm=r=>St(r,(a,u)=>{u.cut()}),wC=r=>St(r,(a,u)=>{u.stop()}),Df=(r,a)=>fp(r)(a),ss=fp(ua()),Xu=fp(Dc()),q1=fp(Sf()),du=(Vm=bl(),r=>St(Vm,r)),Bm=r=>Ye(r,a=>Mu(a,"/*")?a.substring(0,a.length-2):a),ac=(r,a)=>{const u=r.toString(),f=u.indexOf(")")+1,p=u.indexOf("("),b=u.substring(p+1,f-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:a,parameters:Bm(b)}),r},Ks=r=>({classes:V(r.classes)?[]:r.classes,attributes:V(r.attributes)?{}:r.attributes,styles:V(r.styles)?{}:r.styles}),zv=(r,a,u)=>q1((f,p)=>{u(f,r,a)}),Ri=r=>({key:r,value:void 0}),Y1=(r,a,u,f,p,b,w)=>{const S=L=>bo(L,u)?L[u]():O.none(),E=Dn(p,(L,M)=>((z,q,X)=>((ue,me,_e)=>{const fe=_e.toString(),de=fe.indexOf(")")+1,ve=fe.indexOf("("),ke=fe.substring(ve+1,de-1).split(/,\s*/);return ue.toFunctionAnnotation=()=>({name:me,parameters:Bm(ke.slice(0,1).concat(ke.slice(3)))}),ue})((ue,...me)=>{const _e=[ue].concat(me);return ue.config({name:ee(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+X)},fe=>{const de=Array.prototype.slice.call(_e,1);return q.apply(void 0,[ue,fe.config,fe.state].concat(de))})},X,q))(u,L,M)),D={...Dn(b,(L,M)=>ac(L,M)),...E,revoke:Ze(Ri,u),config:L=>{const M=Ea(u+"-config",r,L);return{key:u,value:{config:M,me:D,configAsRaw:oa(()=>Ea(u+"-config",r,L)),initialConfig:L,state:w}}},schema:ee(a),exhibit:(L,M)=>Kt(S(L),hn(f,"exhibit"),(z,q)=>q(M,z.config,z.state)).getOrThunk(()=>Ks({})),name:ee(u),handlers:L=>S(L).map(M=>hn(f,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return D},Nc={init:()=>Ii({readState:ee("No State required")})},Ii=r=>r,Zt=r=>Pd(r),Lm=wi([Dt("fields"),Dt("name"),it("active",{}),it("apis",{}),it("state",Nc),it("extra",{})]),Ni=r=>{const a=Ea("Creating behaviour: "+r.name,Lm,r);return((u,f,p,b,w,S)=>{const E=wi(u),D=Ds(f,[(L=u,Ws("config",wi(L)))]);var L;return Y1(E,D,f,p,b,w,S)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},CC=wi([Dt("branchKey"),Dt("branches"),Dt("name"),it("active",{}),it("apis",{}),it("state",Nc),it("extra",{})]),_C=r=>{const a=Ea("Creating behaviour: "+r.name,CC,r);return((u,f,p,b,w,S)=>{const E=u,D=Ds(f,[Ws("config",u)]);return Y1(E,D,f,p,b,w,S)})(hi(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},lE=ee(void 0),Bd=(r,a)=>{const u=Lo(r,a);return u===void 0||u===""?[]:u.split(" ")},Yg=r=>r.dom.classList!==void 0,Hv=r=>Bd(r,"class"),X1=(r,a)=>((u,f,p)=>{const b=Bd(u,f).concat([p]);return rn(u,f,b.join(" ")),!0})(r,"class",a),ux=(r,a)=>((u,f,p)=>{const b=zn(Bd(u,f),w=>w!==p);return b.length>0?rn(u,f,b.join(" ")):So(u,f),!1})(r,"class",a),Ss=(r,a)=>{Yg(r)?r.dom.classList.add(a):X1(r,a)},$v=r=>{(Yg(r)?r.dom.classList:Hv(r)).length===0&&So(r,"class")},Is=(r,a)=>{Yg(r)?r.dom.classList.remove(a):ux(r,a),$v(r)},nl=(r,a)=>Yg(r)&&r.dom.classList.contains(a),Gs=(r,a)=>{Mt(a,u=>{Ss(r,u)})},lc=(r,a)=>{Mt(a,u=>{Is(r,u)})},Ld=r=>Yg(r)?(a=>{const u=a.dom.classList,f=new Array(u.length);for(let p=0;p<u.length;p++){const b=u.item(p);b!==null&&(f[p]=b)}return f})(r):Hv(r),ji=(r,a,u,f,p)=>{const b=w=>w+"px";return{position:r,left:a.map(b),top:u.map(b),right:f.map(b),bottom:p.map(b)}},Uv=(r,a)=>{gl(r,(u=>({...u,position:O.some(u.position)}))(a))},gp=r=>(rs($s(r,"position"),"fixed")?O.none():Qc(r)).orThunk(()=>{const a=Ti("span");return _a(r).bind(u=>{Pa(u,a);const f=Qc(a);return $i(a),f})}),Rf=r=>gp(r).map(Bl).getOrThunk(()=>Jr(0,0)),kC=(r,a)=>{const u=r.element;Ss(u,a.transitionClass),Is(u,a.fadeOutClass),Ss(u,a.fadeInClass),a.onShow(r)},hp=(r,a)=>{const u=r.element;Ss(u,a.transitionClass),Is(u,a.fadeInClass),Ss(u,a.fadeOutClass),a.onHide(r)},dx=(r,a)=>r.y>=a.y,J1=(r,a)=>r.bottom<=a.bottom,Wv=(r,a,u)=>({location:"top",leftX:a,topY:u.bounds.y-r.y}),Q1=(r,a,u)=>({location:"bottom",leftX:a,bottomY:r.bottom-u.bounds.bottom}),fx=r=>r.box.x-r.win.x,Fm=(r,a,u)=>u.getInitialPos().map(f=>{const p=((b,w)=>{const S=w.optScrollEnv.fold(ee(b.bounds.y),E=>E.scrollElmTop+(b.bounds.y-E.currentScrollTop));return Jr(b.bounds.x,S)})(f,a);return{box:Io(p.left,p.top,Oi(r),Os(r)),location:f.location}}),cE=(r,a,u,f,p)=>{const b=((S,E)=>{const D=E.optScrollEnv.fold(ee(S.y),L=>S.y+L.currentScrollTop-L.scrollElmTop);return Jr(S.x,D)})(a,u),w=Io(b.left,b.top,a.width,a.height);f.setInitialPos({style:mf(r),position:ws(r,"position")||"static",bounds:w,location:p.location})},e0=(r,a,u)=>u.getInitialPos().bind(f=>{var p;switch(u.clearInitialPos(),f.position){case"static":return O.some({morph:"static"});case"absolute":const b=gp(r).getOr(vn()),w=ai(b),S=(p=b.dom.scrollTop)!==null&&p!==void 0?p:0;return O.some({morph:"absolute",positionCss:ji("absolute",hn(f.style,"left").map(E=>a.x-w.x),hn(f.style,"top").map(E=>a.y-w.y+S),hn(f.style,"right").map(E=>w.right-a.right),hn(f.style,"bottom").map(E=>w.bottom-a.bottom))});default:return O.none()}}),t0=r=>{switch(r.location){case"top":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(r.leftX),O.some(r.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:ji("fixed",O.some(r.leftX),O.none(),O.none(),O.some(r.bottomY))});default:return O.none()}},mx=(r,a,u)=>{const f=r.element;return rs($s(f,"position"),"fixed")?((p,b,w)=>((S,E,D)=>Fm(S,E,D).filter(({box:L})=>((M,z,q)=>Do(M,X=>{switch(X){case"bottom":return J1(z,q.bounds);case"top":return dx(z,q.bounds)}}))(D.getModes(),L,E)).bind(({box:L})=>e0(S,L,D)))(p,b,w).orThunk(()=>b.optScrollEnv.bind(S=>Fm(p,b,w)).bind(({box:S,location:E})=>{const D=Ui(),L=fx({win:D,box:S}),M=E==="top"?Wv(D,L,b):Q1(D,L,b);return t0(M)})))(f,a,u):((p,b,w)=>{const S=ai(p),E=Ui(),D=((L,M,z)=>{const q=M.win,X=M.box,ue=fx(M);return Vt(L,me=>{switch(me){case"bottom":return J1(X,z.bounds)?O.none():O.some(Q1(q,ue,z));case"top":return dx(X,z.bounds)?O.none():O.some(Wv(q,ue,z));default:return O.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:S},b);return D.location==="top"||D.location==="bottom"?(cE(p,S,b,w,D),t0(D)):O.none()})(f,a,u)},gx=(r,a,u)=>{u.setDocked(!1),Mt(["left","right","top","bottom","position"],f=>_r(r.element,f)),a.onUndocked(r)},Zv=(r,a,u,f)=>{const p=f.position==="fixed";u.setDocked(p),Uv(r.element,f),(p?a.onDocked:a.onUndocked)(r)},hx=(r,a,u,f,p=!1)=>{a.contextual.each(b=>{b.lazyContext(r).each(w=>{const S=((E,D)=>E.y<D.bottom&&E.bottom>D.y)(w,f.bounds);S!==u.isVisible()&&(u.setVisible(S),p&&!S?(Gs(r.element,[b.fadeOutClass]),b.onHide(r)):(S?kC:hp)(r,b))})})},px=(r,a,u,f,p)=>{hx(r,a,u,f,!0),Zv(r,a,u,p.positionCss)},jv=(r,a,u)=>{r.getSystem().isConnected()&&((f,p,b)=>{const w=p.lazyViewport(f);hx(f,p,b,w),mx(f,w,b).each(S=>{((E,D,L,M,z)=>{switch(z.morph){case"static":return gx(E,D,L);case"absolute":return Zv(E,D,L,z.positionCss);case"fixed":px(E,D,L,M,z)}})(f,p,b,w,S)})})(r,a,u)},pp=(r,a,u)=>{u.isDocked()&&((f,p,b)=>{const w=f.element;b.setDocked(!1);const S=p.lazyViewport(f);((E,D,L)=>{const M=E.element;return Fm(M,D,L).bind(({box:z})=>e0(M,z,L))})(f,S,b).each(E=>{switch(E.morph){case"static":gx(f,p,b);break;case"absolute":Zv(f,p,b,E.positionCss)}}),b.setVisible(!0),p.contextual.each(E=>{lc(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),jv(f,p,b)})(r,a,u)},vx=r=>(a,u,f)=>{const p=u.lazyViewport(a);((b,w,S,E)=>{const D=ai(b),L=Ui(),M=E(L,fx({win:L,box:D}),w);return M.location==="bottom"||M.location==="top"?(((z,q,X,ue,me)=>{ue.getInitialPos().fold(()=>cE(z,q,X,ue,me),()=>ce)})(b,D,w,S,M),t0(M)):O.none()})(a.element,p,f,r).each(b=>{px(a,u,f,p,b)})},Kv=vx(Wv),Gv=vx(Q1);var Vm,vp=Object.freeze({__proto__:null,refresh:jv,reset:pp,isDocked:(r,a,u)=>u.isDocked(),getModes:(r,a,u)=>u.getModes(),setModes:(r,a,u,f)=>u.setModes(f),forceDockToTop:Kv,forceDockToBottom:Gv}),bx=Object.freeze({__proto__:null,events:(r,a)=>fo([Df(Bv(),(u,f)=>{r.contextual.each(p=>{nl(u.element,p.transitionClass)&&(lc(u.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(u)),f.stop()})}),St(Vv(),(u,f)=>{jv(u,r,a)}),St(cp(),(u,f)=>{jv(u,r,a)}),St(Ef(),(u,f)=>{pp(u,r,a)})])});const Fd=r=>r.dom.innerHTML,Xg=(r,a)=>{const u=ii(r).dom,f=sn(u.createDocumentFragment()),p=((b,w)=>{const S=(w||document).createElement("div");return S.innerHTML=b,Pr(sn(S))})(a,u);Us(f,p),us(r),Pa(r,f)},Jg=(r,a)=>sn(r.dom.cloneNode(a)),Vd=r=>(a=>{if(mt(a))return"#shadow-root";{const u=(f=>Jg(f,!1))(a);return(f=>{const p=Ti("div"),b=sn(f.dom.cloneNode(!0));return Pa(p,b),Fd(p)})(u)}})(r);var If;(function(r){r[r.STOP=0]="STOP",r[r.NORMAL=1]="NORMAL",r[r.LOGGING=2]="LOGGING"})(If||(If={}));const qv=Vn({}),uE=["alloy/data/Fields","alloy/debugging/Debugging"],Yv=(r,a,u)=>((f,p,b)=>{switch(hn(qv.get(),f).orThunk(()=>{const w=wn(qv.get());return Vt(w,S=>f.indexOf(S)>-1?O.some(qv.get()[S]):O.none())}).getOr(If.NORMAL)){case If.NORMAL:return b(Pc());case If.LOGGING:{const w=((E,D)=>{const L=[],M=new Date().getTime();return{logEventCut:(z,q,X)=>{L.push({outcome:"cut",target:q,purpose:X})},logEventStopped:(z,q,X)=>{L.push({outcome:"stopped",target:q,purpose:X})},logNoParent:(z,q,X)=>{L.push({outcome:"no-parent",target:q,purpose:X})},logEventNoHandlers:(z,q)=>{L.push({outcome:"no-handlers-left",target:q})},logEventResponse:(z,q,X)=>{L.push({outcome:"response",purpose:X,target:q})},write:()=>{const z=new Date().getTime();tt(["mousemove","mouseover","mouseout",Sf()],E)||console.log(E,{event:E,time:z-M,target:D.dom,sequence:Ye(L,q=>tt(["cut","stopped","response"],q.outcome)?"{"+q.purpose+"} "+q.outcome+" at ("+Vd(q.target)+")":q.outcome)})}}})(f,p),S=b(w);return w.write(),S}case If.STOP:return!0}})(r,a,u),Pc=ee({logEventCut:ce,logEventStopped:ce,logNoParent:ce,logEventNoHandlers:ce,logEventResponse:ce,write:ce}),SC=ee([Dt("menu"),Dt("selectedMenu")]),yx=ee([Dt("item"),Dt("selectedItem")]);ee(Zn(yx().concat(SC())));const Qg=ee(Zn(yx())),da=Ac("initSize",[Dt("numColumns"),Dt("numRows")]),eh=()=>Ac("markers",[Dt("backgroundMenu")].concat(SC()).concat(yx())),th=r=>Ac("markers",Ye(r,Dt)),n0=(r,a,u)=>((()=>{const f=new Error;if(f.stack!==void 0){const p=f.stack.split(`
`);J(p,b=>b.indexOf("alloy")>0&&!pt(uE,w=>b.indexOf(w)>-1)).getOr("unknown")}})(),li(a,a,u,Cf(f=>Vo.value((...p)=>f.apply(void 0,p))))),Jo=r=>n0(0,r,ru(ce)),yl=r=>n0(0,r,ru(O.none)),Ju=r=>n0(0,r,{tag:"required",process:{}}),Aa=r=>n0(0,r,{tag:"required",process:{}}),Kr=(r,a)=>Wi(r,ee(a)),Xv=r=>Wi(r,we),EC=ee(da);var dE=[Ds("contextual",[_s("fadeInClass"),_s("fadeOutClass"),_s("transitionClass"),Fa("lazyContext"),Jo("onShow"),Jo("onShown"),Jo("onHide"),Jo("onHidden")]),es("lazyViewport",()=>({bounds:Ui(),optScrollEnv:O.none()})),Rr("modes",["top","bottom"],Ci),Jo("onDocked"),Jo("onUndocked")];const ds=Ni({fields:dE,name:"docking",active:bx,apis:vp,state:Object.freeze({__proto__:null,init:r=>{const a=Vn(!1),u=Vn(!0),f=Tr(),p=Vn(r.modes);return Ii({isDocked:a.get,setDocked:a.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${u.get()}, modes: ${p.get().join(",")}`})}})}),o0=fo([((r,a)=>({key:r,value:qu({can:(u,f)=>{const p=f.event,b=p.originator,w=p.target;return!((S,E,D)=>lr(E,S.element)&&!lr(E,D))(u,b,w)||(console.warn(Yu()+` did not get interpreted by the desired target. 
Originator: `+Vd(b)+`
Target: `+Vd(w)+`
Check the `+Yu()+" event handlers"),!1)}})}))(Yu())]);var xx=Object.freeze({__proto__:null,events:o0});const zm=(r,a,u,f)=>{const p=r+a;return p>f?u:p<u?f:p},Mc=(r,a,u)=>Math.min(Math.max(r,a),u);let bp=0;const bn=r=>{const a=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return bp++,r+"_"+u+bp+String(a)},fu=ee("alloy-id-"),wx=ee("data-alloy-id"),r0=fu(),yp=wx(),s0=(r,a)=>{Object.defineProperty(r.dom,yp,{value:a,writable:!0})},nh=r=>{const a=ls(r)?r.dom[yp]:null;return O.from(a)},Bc=r=>bn(r),fE=we,i0=r=>{const a=p=>`The component must be in a context to execute: ${p}`+(r?`
`+Vd(r().element)+" is not in context.":""),u=p=>()=>{throw new Error(a(p))},f=p=>()=>{console.warn(a(p))};return{debugInfo:ee("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Ee}},Cx=i0(),a0=bn("alloy-premade"),_x=r=>(Object.defineProperty(r.element.dom,a0,{value:r.uid,writable:!0}),lu(a0,r)),kx=r=>hn(r,a0),l0=r=>((a,u)=>{const f=u.toString(),p=f.indexOf(")")+1,b=f.indexOf("("),w=f.substring(b+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Bm(w.slice(1))}),a})((a,...u)=>r(a.getApis(),a,...u),r),Sx=(r,a)=>{const u={};return Tn(r,(f,p)=>{Tn(f,(b,w)=>{const S=hn(u,w).getOr([]);u[w]=S.concat([a(p,b)])})}),u},Ex=r=>r.cHandler,AC=(r,a)=>({name:r,handler:a}),mE=(r,a)=>{const u={};return Mt(r,f=>{u[f.name()]=f.handlers(a)}),u},Jv=(r,a,u)=>{const f=a[u];return f?((p,b,w,S)=>{try{const E=he(w,(D,L)=>{const M=D[b],z=L[b],q=S.indexOf(M),X=S.indexOf(z);if(q===-1)throw new Error("The ordering for "+p+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(S,null,2));if(X===-1)throw new Error("The ordering for "+p+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(S,null,2));return q<X?-1:X<q?1:0});return Vo.value(E)}catch(E){return Vo.error([E])}})("Event: "+u,"name",r,f).map(p=>(b=>({can:((E,D)=>(...L)=>kn(E,(M,z)=>M&&(q=>q.can)(z).apply(void 0,L),!0))(b),abort:((E,D)=>(...L)=>kn(E,(M,z)=>M||(q=>q.abort)(z).apply(void 0,L),!1))(b),run:(...E)=>{Mt(b,D=>{D.run.apply(void 0,E)})}}))(Ye(p,b=>b.handler))):((p,b)=>Vo.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ye(b,w=>w.name),null,2)]))(u,r)},Ax=(r,a)=>((u,f)=>{const p=(w=>{const S=[],E=[];return Mt(w,D=>{D.fold(L=>{S.push(L)},L=>{E.push(L)})}),{errors:S,values:E}})(u);return p.errors.length>0?(b=p.errors,Vo.error(eo(b))):((w,S)=>w.length===0?Vo.value(S):Vo.value(Mr(S,Rv.apply(void 0,w))))(p.values,f);var b})(as(r,(u,f)=>(u.length===1?Vo.value(u[0].handler):Jv(u,a,f)).map(p=>{const b=(S=>{const E=(D=>W(D)?{can:Fe,abort:Ee,run:D}:D)(S);return(D,L,...M)=>{const z=[D,L].concat(M);E.abort.apply(void 0,z)?L.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(p),w=u.length>1?zn(a[f],S=>pt(u,E=>E.name===S)).join(" > "):u[0].name;return lu(f,((S,E)=>({handler:S,purpose:E}))(b,w))})),{}),oh="alloy.base.behaviour",gE=Zn([li("dom","dom",{tag:"required",process:{}},Zn([Dt("tag"),it("styles",{}),it("classes",[]),it("attributes",{}),Go("value"),Go("innerHtml")])),Dt("components"),Dt("uid"),it("events",{}),it("apis",{}),li("eventOrder","eventOrder",(rh={[bl()]:["disabling",oh,"toggling","typeaheadevents"],[Yu()]:[oh,"focusing","keying"],[Sf()]:[oh,"disabling","toggling","representing","tooltipping"],[Nm()]:[oh,"representing","streaming","invalidating"],[Dc()]:[oh,"representing","item-events","toolbar-button-events","tooltipping"],[Rt()]:["focusing",oh,"item-type-events"],[Z()]:["focusing",oh,"item-type-events"],[On()]:["item-type-events","tooltipping"],[ic()]:["receiving","reflecting","tooltipping"]},Xo(ee(rh))),Fl()),Go("domModification")]),hE=r=>r.events,Nf=r=>r.dom.value,Hm=(r,a)=>{if(a===void 0)throw new Error("Value.set was undefined");r.dom.value=a},c0=(r,a,u)=>{u.fold(()=>Pa(r,a),f=>{lr(f,a)||(Td(f,a),$i(f))})},TC=(r,a,u)=>{const f=Ye(a,u),p=Pr(r);return Mt(p.slice(f.length),$i),f},Tx=(r,a,u,f)=>{const p=cs(r,a),b=f(u,p),w=((S,E,D)=>cs(S,E).map(L=>{if(D.exists(M=>!lr(M,L))){const M=D.map(qa).getOr("span"),z=Ti(M);return Td(L,z),z}return L}))(r,a,p);return c0(r,b.element,w),b},Qv=(r,a)=>{const u=wn(r),f=wn(a),p=ie(f,u),b=((w,S)=>{const E={},D={};return Uo(w,(L,M)=>!To(a,M)||L!==a[M],Ro(E),Ro(D)),{t:E,f:D}})(r).t;return{toRemove:p,toSet:b}},zd=(r,a)=>{const u=a.filter(f=>qa(f)===r.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(r)&&!(p=>To(p.dom,a0))(f)).bind(f=>((p,b)=>{try{const w=((S,E)=>{const{class:D,style:L,...M}=(ve=>kn(ve.dom.attributes,(ke,Ae)=>(ke[Ae.name]=Ae.value,ke),{}))(E),{toSet:z,toRemove:q}=Qv(S.attributes,M),X=mf(E),{toSet:ue,toRemove:me}=Qv(S.styles,X),_e=Ld(E),fe=ie(_e,S.classes),de=ie(S.classes,_e);return Mt(q,ve=>So(E,ve)),Ar(E,z),Gs(E,de),lc(E,fe),Mt(me,ve=>_r(E,ve)),Xa(E,ue),S.innerHtml.fold(()=>{const ve=S.domChildren;((ke,Ae)=>{TC(ke,Ae,($e,rt)=>{const At=cs(ke,rt);return c0(ke,$e,At),$e})})(E,ve)},ve=>{Xg(E,ve)}),(()=>{const ve=E,ke=S.value.getOrUndefined();ke!==Nf(ve)&&Hm(ve,ke??"")})(),E})(p,b);return O.some(w)}catch{return O.none()}})(r,f)).getOrThunk(()=>(f=>{const p=Ti(f.tag);Ar(p,f.attributes),Gs(p,f.classes),Xa(p,f.styles),f.innerHtml.each(w=>Xg(p,w));const b=f.domChildren;return Us(p,b),f.value.each(w=>{Hm(p,w)}),p})(r));return s0(u,r.uid),u},u0=r=>{const a=(u=>{const f=hn(u,"behaviours").getOr({});return tn(wn(f),p=>{const b=f[p];return G(b)?[b.me]:[]})})(r);return((u,f)=>((p,b)=>{const w=Ye(b,E=>Ds(E.name(),[Dt("config"),it("state",Nc)])),S=Cs("component.behaviours",Zn(w),p.behaviours).fold(E=>{throw new Error(el(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},we);return{list:b,data:Dn(S,E=>{const D=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return ee(D)})}})(u,f))(r,a)},vi=(r,a)=>{const u=()=>z,f=Vn(Cx),p=La((q=>Cs("custom.definition",gE,q))(r)),b=u0(r),w=(q=>q.list)(b),S=(q=>q.data)(b),E=((q,X,ue)=>{const me={...(_e=q).dom,uid:_e.uid,domChildren:Ye(_e.components,$e=>$e.element)};var _e;const fe=($e=>$e.domModification.fold(()=>Ks({}),Ks))(q),de={"alloy.base.modification":fe},ve=X.length>0?(($e,rt,At,kt)=>{const wt={...rt};Mt(At,zo=>{wt[zo.name()]=zo.exhibit($e,kt)});const Ht=Sx(wt,(zo,ns)=>({name:zo,modification:ns})),mn=zo=>fn(zo,(ns,ms)=>({...ms.modification,...ns}),{}),En=fn(Ht.classes,(zo,ns)=>ns.modification.concat(zo),[]),$n=mn(Ht.attributes),io=mn(Ht.styles);return Ks({classes:En,attributes:$n,styles:io})})(ue,de,X,me):fe;return ke=me,Ae=ve,{...ke,attributes:{...ke.attributes,...Ae.attributes},styles:{...ke.styles,...Ae.styles},classes:ke.classes.concat(Ae.classes)};var ke,Ae})(p,w,S),D=zd(E,a),L=((q,X,ue)=>{const me={"alloy.base.behaviour":hE(q)};return((_e,fe,de,ve)=>{const ke=((Ae,$e,rt)=>{const At={...rt,...mE($e,Ae)};return Sx(At,AC)})(_e,de,ve);return Ax(ke,fe)})(ue,q.eventOrder,X,me).getOrDie()})(p,w,S),M=Vn(p.components),z={uid:r.uid,getSystem:f.get,config:q=>{const X=S;return(W(X[q.name()])?X[q.name()]:()=>{throw new Error("Could not find "+q.name()+" in "+JSON.stringify(r,null,2))})()},hasConfigured:q=>W(S[q.name()]),spec:r,readState:q=>S[q]().map(X=>X.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:q=>{f.set(q)},disconnect:()=>{f.set(i0(u))},element:D,syncComponents:()=>{const q=Pr(D),X=tn(q,ue=>f.get().getByDom(ue).fold(()=>[],Le));M.set(X)},components:M.get,events:L};return z},Vs=r=>{const a=Lu(r);return Pf({element:a})},Pf=r=>{const a=Ea("external.component",wi([Dt("element"),Go("uid")]),r),u=Vn(i0()),f=a.uid.getOrThunk(()=>Bc("external"));s0(a.element,f);const p={uid:f,getSystem:u.get,config:O.none,hasConfigured:Ee,connect:b=>{u.set(b)},disconnect:()=>{u.set(i0(()=>p))},getApis:()=>({}),element:a.element,spec:r,readState:ee("No state"),syncComponents:ce,components:ee([]),events:{}};return _x(p)},Ox=Bc,d0=(r,a)=>kx(r).getOrThunk(()=>((u,f)=>{const{events:p,...b}=fE(u),w=((E,D)=>{const L=hn(E,"components").getOr([]);return D.fold(()=>Ye(L,Ki),M=>Ye(L,(z,q)=>d0(z,cs(M,q))))})(b,f),S={...b,events:{...xx,...p},components:w};return Vo.value(vi(S,f))})((u=>To(u,"uid"))(r)?r:{uid:Ox(""),...r},a).getOrDie()),Ki=r=>d0(r,O.none()),ol=_x;var rh,Mf=(r,a,u,f,p)=>r(u,f)?O.some(u):W(p)&&p(u)?O.none():a(u,f,p);const $m=(r,a,u)=>{let f=r.dom;const p=W(u)?u:Ee;for(;f.parentNode;){f=f.parentNode;const b=sn(f);if(a(b))return O.some(b);if(p(b))break}return O.none()},f0=(r,a,u)=>Mf((f,p)=>p(f),$m,r,a,u),OC=(r,a)=>J(r.dom.childNodes,u=>a(sn(u))).map(sn),Dx=(r,a,u)=>f0(r,a,u).isSome(),Um=(r,a,u)=>$m(r,f=>Xc(f,a),u),Gr=(r,a)=>((u,f)=>{const p=u.dom;return p.parentNode?OC(sn(p.parentNode),b=>!lr(u,b)&&Xc(b,a)):O.none()})(r),m0=(r,a)=>OC(r,u=>Xc(u,a)),fs=(r,a)=>Sd(a,r),Qu=(r,a,u)=>Mf((f,p)=>Xc(f,p),Um,r,a,u),mu="aria-controls",sh=()=>{const r=bn(mu);return{id:r,link:a=>{rn(a,mu,r)},unlink:a=>{So(a,mu)}}},xl=(r,a)=>Dx(a,u=>lr(u,r.element),Ee)||((u,f)=>(p=>f0(p,b=>{if(!ls(b))return!1;const w=Lo(b,"id");return w!==void 0&&w.indexOf(mu)>-1}).bind(b=>{const w=Lo(b,"id"),S=ut(b);return fs(S,`[${mu}="${w}"]`)}))(f).exists(p=>xl(u,p)))(r,a),fa=(r,a,u,f,p,b,w,S=!1)=>({x:r,y:a,bubble:u,direction:f,placement:p,restriction:b,label:`${w}-${p}`,alwaysFit:S}),Wm=ql([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),eb=Wm.southeast,ih=Wm.southwest,tb=Wm.northeast,ah=Wm.northwest,DC=Wm.south,Rx=Wm.north,Ix=Wm.east,RC=Wm.west,ma=(r,a)=>be(["left","right","top","bottom"],u=>hn(a,u).map(f=>((p,b)=>{switch(b){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(r,f))),Zm="layout",IC=r=>r.x,Lc=(r,a)=>r.x+r.width/2-a.width/2,rl=(r,a)=>r.x+r.width-a.width,lh=(r,a)=>r.y-a.height,xp=r=>r.y+r.height,NC=(r,a)=>r.y+r.height/2-a.height/2,Ns=(r,a,u)=>fa(IC(r),xp(r),u.southeast(),eb(),"southeast",ma(r,{left:1,top:3}),Zm),Ps=(r,a,u)=>fa(rl(r,a),xp(r),u.southwest(),ih(),"southwest",ma(r,{right:0,top:3}),Zm),ni=(r,a,u)=>fa(IC(r),lh(r,a),u.northeast(),tb(),"northeast",ma(r,{left:1,bottom:2}),Zm),Br=(r,a,u)=>fa(rl(r,a),lh(r,a),u.northwest(),ah(),"northwest",ma(r,{right:0,bottom:2}),Zm),Es=(r,a,u)=>fa(Lc(r,a),lh(r,a),u.north(),Rx(),"north",ma(r,{bottom:2}),Zm),qs=(r,a,u)=>fa(Lc(r,a),xp(r),u.south(),DC(),"south",ma(r,{top:3}),Zm),g0=(r,a,u)=>fa((f=>f.x+f.width)(r),NC(r,a),u.east(),Ix(),"east",ma(r,{left:0}),Zm),h0=(r,a,u)=>fa(((f,p)=>f.x-p.width)(r,a),NC(r,a),u.west(),RC(),"west",ma(r,{right:1}),Zm),Nx=()=>[Ns,Ps,ni,Br,qs,Es,g0,h0],nb=()=>[Ps,Ns,Br,ni,qs,Es,g0,h0],Px=()=>[ni,Br,Ns,Ps,Es,qs],ch=()=>[Br,ni,Ps,Ns,Es,qs],p0=()=>[Ns,Ps,ni,Br,qs,Es],v0=()=>[Ps,Ns,Br,ni,qs,Es];var Mx=Object.freeze({__proto__:null,events:r=>fo([St(ic(),(a,u)=>{const f=r.channels,p=wn(f),b=u,w=((S,E)=>E.universal?S:zn(S,D=>tt(E.channels,D)))(p,b);Mt(w,S=>{const E=f[S],D=E.schema,L=Ea("channel["+S+`] data
Receiver: `+Vd(a.element),D,b.data);E.onReceive(a,L)})})])}),ob=[Zi("channels",Nv(Vo.value,wi([Ju("onReceive"),it("schema",Fl())])))];const wl=Ni({fields:ob,name:"receiving",active:Mx});var Bx=Object.freeze({__proto__:null,exhibit:(r,a)=>Ks({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const Ha=(r,a=!1)=>r.dom.focus({preventScroll:a}),rb=r=>r.dom.blur(),uh=r=>{const a=ut(r).dom;return r.dom===a.activeElement},gu=(r=Ma())=>O.from(r.dom.activeElement).map(sn),Ys=r=>gu(ut(r)).filter(a=>r.dom.contains(a.dom)),jm=(r,a)=>{const u=ut(a),f=gu(u).bind(b=>{const w=S=>lr(b,S);return w(a)?O.some(a):((S,E)=>{const D=L=>{for(let M=0;M<L.childNodes.length;M++){const z=sn(L.childNodes[M]);if(E(z))return O.some(z);const q=D(L.childNodes[M]);if(q.isSome())return q}return O.none()};return D(S.dom)})(a,w)}),p=r(a);return f.each(b=>{gu(u).filter(w=>lr(w,b)).fold(()=>{Ha(b)},ce)}),p},Lx=ql([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Fx=(r,a,u,f,p,b)=>{const w=a.rect,S=w.x-u,E=w.y-f,D=p-(S+w.width),L=b-(E+w.height),M=O.some(S),z=O.some(E),q=O.some(D),X=O.some(L),ue=O.none();return a.direction.fold(()=>ji(r,M,z,ue,ue),()=>ji(r,ue,z,q,ue),()=>ji(r,M,ue,ue,X),()=>ji(r,ue,ue,q,X),()=>ji(r,M,z,ue,ue),()=>ji(r,M,ue,ue,X),()=>ji(r,M,z,ue,ue),()=>ji(r,ue,z,q,ue))},sb=(r,a)=>r.fold(()=>{const u=a.rect;return ji("absolute",O.some(u.x),O.some(u.y),O.none(),O.none())},(u,f,p,b)=>Fx("absolute",a,u,f,p,b),(u,f,p,b)=>Fx("fixed",a,u,f,p,b)),Hd=(r,a)=>{const u=Ze(Od,a),f=r.fold(u,u,()=>{const w=Qr();return Od(a).translate(-w.left,-w.top)}),p=Ja(a),b=kc(a);return Io(f.left,f.top,p,b)},pE=(r,a)=>a.fold(()=>r.fold(Ui,Ui,Io),u=>r.fold(ee(u),ee(u),()=>{const f=ib(r,u.x,u.y);return Io(f.left,f.top,u.width,u.height)})),ib=(r,a,u)=>{const f=Jr(a,u);return r.fold(ee(f),ee(f),()=>{const p=Qr();return f.translate(-p.left,-p.top)})};Lx.none;const Km=Lx.relative,PC=Lx.fixed,ab="data-alloy-placement",lb=r=>Ko(r,ab),b0=ql([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),wp=(r,a,u,f)=>{const p=r.bubble,b=p.offset,w=((ve,ke,Ae)=>{const $e=(Ht,mn)=>ke[Ht].map(En=>{const $n=Ht==="top"||Ht==="bottom",io=$n?Ae.top:Ae.left,zo=(Ht==="left"||Ht==="top"?Math.max:Math.min)(En,mn)+io;return $n?Mc(zo,ve.y,ve.bottom):Mc(zo,ve.x,ve.right)}).getOr(mn),rt=$e("left",ve.x),At=$e("top",ve.y),kt=$e("right",ve.right),wt=$e("bottom",ve.bottom);return Io(rt,At,kt-rt,wt-At)})(f,r.restriction,b),S=r.x+b.left,E=r.y+b.top,D=Io(S,E,a,u),{originInBounds:L,sizeInBounds:M,visibleW:z,visibleH:q}=((ve,ke)=>{const{x:Ae,y:$e,right:rt,bottom:At}=ke,{x:kt,y:wt,right:Ht,bottom:mn,width:En,height:$n}=ve;return{originInBounds:kt>=Ae&&kt<=rt&&wt>=$e&&wt<=At,sizeInBounds:Ht<=rt&&Ht>=Ae&&mn<=At&&mn>=$e,visibleW:Math.min(En,kt>=Ae?rt-kt:Ht-Ae),visibleH:Math.min($n,wt>=$e?At-wt:mn-$e)}})(D,w),X=L&&M,ue=X?D:((ve,ke)=>{const{x:Ae,y:$e,right:rt,bottom:At}=ke,{x:kt,y:wt,width:Ht,height:mn}=ve,En=Math.max(Ae,rt-Ht),$n=Math.max($e,At-mn),io=Mc(kt,Ae,En),zo=Mc(wt,$e,$n),ns=Math.min(io+Ht,rt)-io,ms=Math.min(zo+mn,At)-zo;return Io(io,zo,ns,ms)})(D,w),me=ue.width>0&&ue.height>0,{maxWidth:_e,maxHeight:fe}=((ve,ke,Ae)=>{const $e=ee(ke.bottom-Ae.y),rt=ee(Ae.bottom-ke.y),At=((mn,En,$n,io)=>mn.fold(En,En,io,io,En,io,$n,$n))(ve,rt,rt,$e),kt=ee(ke.right-Ae.x),wt=ee(Ae.right-ke.x);return{maxWidth:((mn,En,$n,io)=>mn.fold(En,io,En,io,$n,$n,En,io))(ve,wt,wt,kt),maxHeight:At}})(r.direction,ue,f),de={rect:ue,maxHeight:fe,maxWidth:_e,direction:r.direction,placement:r.placement,classes:{on:p.classesOn,off:p.classesOff},layout:r.label,testY:E};return X||r.alwaysFit?b0.fit(de):b0.nofit(de,z,q,me)},y0=Fe,$a=(r,a,u)=>((f,p,b,w)=>Hg(f,p,b,w,!1))(r,a,y0,u),Vx=(r,a,u)=>((f,p,b,w)=>Hg(f,p,b,w,!0))(r,a,y0,u),$d=pl,cb=["top","bottom","right","left"],ed="data-alloy-transition-timer",ub=(r,a,u,f,p,b)=>{const w=((S,E,D)=>D.exists(L=>{const M=S.mode;return M==="all"||L[M]!==E[M]}))(f,p,b);if(w||((S,E)=>((D,L)=>Do(L,M=>nl(D,M)))(S,E.classes))(r,f)){co(r,"position",u.position);const S=Hd(a,r),E=sb(a,{...p,rect:S}),D=be(cb,L=>E[L]);((L,M)=>{const z=q=>parseFloat(q).toFixed(3);return mr(M,(q,X)=>!((ue,me,_e=le)=>Kt(ue,me,_e).getOr(ue.isNone()&&me.isNone()))(L[X].map(z),q.map(z))).isSome()})(u,D)&&(gl(r,D),w&&((L,M)=>{Gs(L,M.classes),Ko(L,ed).each(z=>{clearTimeout(parseInt(z,10)),So(L,ed)}),((z,q)=>{const X=Ec(),ue=Ec();let me;const _e=ke=>{var Ae;const $e=(Ae=ke.raw.pseudoElement)!==null&&Ae!==void 0?Ae:"";return lr(ke.target,z)&&Bu($e)&&tt(cb,ke.raw.propertyName)},fe=ke=>{if($(ke)||_e(ke)){X.clear(),ue.clear();const Ae=ke==null?void 0:ke.raw.type;($(Ae)||Ae===Bv())&&(clearTimeout(me),So(z,ed),lc(z,q.classes))}},de=$a(z,K1(),ke=>{_e(ke)&&(de.unbind(),X.set($a(z,Bv(),fe)),ue.set($a(z,yC(),fe)))}),ve=(ke=>{const Ae=kt=>{const wt=ws(ke,kt).split(/\s*,\s*/);return zn(wt,fl)},$e=kt=>{if(v(kt)&&/^[\d.]+/.test(kt)){const wt=parseFloat(kt);return Mu(kt,"ms")?wt:1e3*wt}return 0},rt=Ae("transition-delay"),At=Ae("transition-duration");return kn(At,(kt,wt,Ht)=>{const mn=$e(rt[Ht])+$e(wt);return Math.max(kt,mn)},0)})(z);requestAnimationFrame(()=>{me=setTimeout(fe,ve+17),rn(z,ed,me)})})(L,M)})(r,f),Vu(r))}else lc(r,f.classes)},db=(r,a)=>{((u,f)=>{const p=tp.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);co(u,"max-height",p+"px")})(r,Math.floor(a))},Gm=ee((r,a)=>{db(r,a),Xa(r,{"overflow-x":"hidden","overflow-y":"auto"})}),dh=ee((r,a)=>{db(r,a)}),Fc=(r,a,u)=>r[a]===void 0?u:r[a],fb=(r,a,u,f)=>{const p=((b,w,S,E)=>{_r(w,"max-height"),_r(w,"max-width");const D={width:Ja(L=w),height:kc(L)};var L;return((M,z,q,X,ue,me)=>{const _e=X.width,fe=X.height,de=(ve,ke,Ae,$e,rt)=>{const At=ve(q,X,ue,M,me),kt=wp(At,_e,fe,me);return kt.fold(ee(kt),(wt,Ht,mn,En)=>(rt===En?mn>$e||Ht>Ae:!rt&&En)?kt:b0.nofit(ke,Ae,$e,rt))};return kn(z,(ve,ke)=>{const Ae=Ze(de,ke);return ve.fold(ee(ve),Ae)},b0.nofit({rect:q,maxHeight:X.height,maxWidth:X.width,direction:eb(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:q.y},-1,-1,!1)).fold(we,we)})(w,E.preference,b,D,S,E.bounds)})(r,a,u,f);return((b,w,S)=>{const E=sb(S.origin,w);S.transition.each(D=>{ub(b,S.origin,E,D,w,S.lastPlacement)}),Uv(b,E)})(a,p,f),((b,w)=>{((S,E)=>{rn(S,ab,E)})(b,w.placement)})(a,p),((b,w)=>{const S=w.classes;lc(b,S.off),Gs(b,S.on)})(a,p),((b,w,S)=>{(0,S.maxHeightFunction)(b,w.maxHeight)})(a,p,f),((b,w,S)=>{(0,S.maxWidthFunction)(b,w.maxWidth)})(a,p,f),{layout:p.layout,placement:p.placement}},vE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],cc=(r,a,u,f=1)=>{const p=r*f,b=a*f,w=E=>hn(u,E).getOr([]),S=(E,D,L)=>{const M=ie(vE,L);return{offset:Jr(E,D),classesOn:tn(L,w),classesOff:tn(M,w)}};return{southeast:()=>S(-r,a,["top","alignLeft"]),southwest:()=>S(r,a,["top","alignRight"]),south:()=>S(-r/2,a,["top","alignCentre"]),northeast:()=>S(-r,-a,["bottom","alignLeft"]),northwest:()=>S(r,-a,["bottom","alignRight"]),north:()=>S(-r/2,-a,["bottom","alignCentre"]),east:()=>S(r,-a/2,["valignCentre","left"]),west:()=>S(-r,-a/2,["valignCentre","right"]),insetNortheast:()=>S(p,b,["top","alignLeft","inset"]),insetNorthwest:()=>S(-p,b,["top","alignRight","inset"]),insetNorth:()=>S(-p/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>S(p,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>S(-p,-b,["bottom","alignRight","inset"]),insetSouth:()=>S(-p/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>S(-p,-b/2,["valignCentre","right","inset"]),insetWest:()=>S(p,-b/2,["valignCentre","left","inset"])}},Ud=()=>cc(0,0,{}),Vc=we,zx=(r,a)=>u=>_i(u)==="rtl"?a:r,_i=r=>ws(r,"direction")==="rtl"?"rtl":"ltr";var zc;(function(r){r.TopToBottom="toptobottom",r.BottomToTop="bottomtotop"})(zc||(zc={}));const Cl="data-alloy-vertical-dir",bE=r=>Dx(r,a=>ls(a)&&Lo(a,"data-alloy-vertical-dir")===zc.BottomToTop),Bf=()=>Ds("layouts",[Dt("onLtr"),Dt("onRtl"),Go("onBottomLtr"),Go("onBottomRtl")]),Wd=(r,a,u,f,p,b,w)=>{const S=w.map(bE).getOr(!1),E=a.layouts.map(z=>z.onLtr(r)),D=a.layouts.map(z=>z.onRtl(r)),L=S?a.layouts.bind(z=>z.onBottomLtr.map(q=>q(r))).or(E).getOr(p):E.getOr(u),M=S?a.layouts.bind(z=>z.onBottomRtl.map(q=>q(r))).or(D).getOr(b):D.getOr(f);return zx(L,M)(r)};var Cp=[Dt("hotspot"),Go("bubble"),it("overrides",{}),Bf(),Kr("placement",(r,a,u)=>{const f=a.hotspot,p=Hd(u,f.element),b=Wd(r.element,a,p0(),v0(),Px(),ch(),O.some(a.hotspot.element));return O.some(Vc({anchorBox:p,bubble:a.bubble.getOr(Ud()),overrides:a.overrides,layouts:b}))})],qm=[Dt("x"),Dt("y"),it("height",0),it("width",0),it("bubble",Ud()),it("overrides",{}),Bf(),Kr("placement",(r,a,u)=>{const f=ib(u,a.x,a.y),p=Io(f.left,f.top,a.width,a.height),b=Wd(r.element,a,Nx(),nb(),Nx(),nb(),O.none());return O.some(Vc({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:b}))})];const Yl=ql([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),x0=r=>r.fold(we,(a,u,f)=>a.translate(-u,-f)),w0=r=>r.fold(we,we),mb=r=>kn(r,(a,u)=>a.translate(u.left,u.top),Jr(0,0)),C0=r=>{const a=Ye(r,w0);return mb(a)},MC=Yl.screen,gb=Yl.absolute,Zd=(r,a,u)=>{const f=ii(r.element),p=Qr(f),b=((w,S,E)=>{const D=Jc(E.root).dom;return O.from(D.frameElement).map(sn).filter(L=>{const M=ii(L),z=ii(w.element);return lr(M,z)}).map(Bl)})(r,0,u).getOr(p);return gb(b,p.left,p.top)},hb=(r,a,u,f)=>{const p=MC(Jr(r,a));return O.some(((b,w,S)=>({point:b,width:w,height:S}))(p,u,f))},fh=(r,a,u,f,p)=>r.map(b=>{const w=[a,b.point],S=(E=()=>C0(w),D=()=>C0(w),L=()=>(de=>{const ve=Ye(de,x0);return mb(ve)})(w),f.fold(E,D,L));var E,D,L;const M=(ue=S.left,me=S.top,_e=b.width,fe=b.height,{x:ue,y:me,width:_e,height:fe}),z=u.showAbove?Px():p0(),q=u.showAbove?ch():v0(),X=Wd(p,u,z,q,z,q,O.none());var ue,me,_e,fe;return Vc({anchorBox:M,bubble:u.bubble.getOr(Ud()),overrides:u.overrides,layouts:X})});var mh=[Dt("node"),Dt("root"),Go("bubble"),Bf(),it("overrides",{}),it("showAbove",!1),Kr("placement",(r,a,u)=>{const f=Zd(r,0,a);return a.node.filter(un).bind(p=>{const b=p.dom.getBoundingClientRect(),w=hb(b.left,b.top,b.width,b.height),S=a.node.getOr(r.element);return fh(w,f,a,u,S)})})];const Lf=(r,a,u,f)=>({start:r,soffset:a,finish:u,foffset:f}),Ff=ql([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),pb=(Ff.before,Ff.on,Ff.after,r=>r.fold(we,we,we)),Vf=ql([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),zf={domRange:Vf.domRange,relative:Vf.relative,exact:Vf.exact,exactFromRange:r=>Vf.exact(r.start,r.soffset,r.finish,r.foffset),getWin:r=>{const a=(u=>u.match({domRange:f=>sn(f.startContainer),relative:(f,p)=>pb(f),exact:(f,p,b,w)=>f}))(r);return Jc(a)},range:Lf},Hf=(r,a,u)=>{const f=r.document.createRange();var p;return p=f,a.fold(b=>{p.setStartBefore(b.dom)},(b,w)=>{p.setStart(b.dom,w)},b=>{p.setStartAfter(b.dom)}),((b,w)=>{w.fold(S=>{b.setEndBefore(S.dom)},(S,E)=>{b.setEnd(S.dom,E)},S=>{b.setEndAfter(S.dom)})})(f,u),f},gh=(r,a,u,f,p)=>{const b=r.document.createRange();return b.setStart(a.dom,u),b.setEnd(f.dom,p),b},_0=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),_p=ql([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),k0=(r,a,u)=>a(sn(u.startContainer),u.startOffset,sn(u.endContainer),u.endOffset),Hx=(r,a)=>((u,f)=>{const p=((b,w)=>w.match({domRange:S=>({ltr:ee(S),rtl:O.none}),relative:(S,E)=>({ltr:oa(()=>Hf(b,S,E)),rtl:oa(()=>O.some(Hf(b,E,S)))}),exact:(S,E,D,L)=>({ltr:oa(()=>gh(b,S,E,D,L)),rtl:oa(()=>O.some(gh(b,D,L,S,E)))})}))(u,f);return((b,w)=>{const S=w.ltr();return S.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>_p.rtl(sn(E.endContainer),E.endOffset,sn(E.startContainer),E.startOffset)).getOrThunk(()=>k0(0,_p.ltr,S)):k0(0,_p.ltr,S)})(0,p)})(r,a).match({ltr:(u,f,p,b)=>{const w=r.document.createRange();return w.setStart(u.dom,f),w.setEnd(p.dom,b),w},rtl:(u,f,p,b)=>{const w=r.document.createRange();return w.setStart(p.dom,b),w.setEnd(u.dom,f),w}});_p.ltr,_p.rtl;const kp=(r,a,u)=>zn(((f,p)=>{const b=W(p)?p:Ee;let w=f.dom;const S=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,D=sn(E);if(S.push(D),b(D)===!0)break;w=E}return S})(r,u),a),ki=(r,a)=>((u,f)=>{const p=f===void 0?document:f.dom;return ff(p)?[]:Ye(p.querySelectorAll(u),sn)})(a,r),$x=r=>{if(r.rangeCount>0){const a=r.getRangeAt(0),u=r.getRangeAt(r.rangeCount-1);return O.some(Lf(sn(a.startContainer),a.startOffset,sn(u.endContainer),u.endOffset))}return O.none()},BC=r=>{if(r.anchorNode===null||r.focusNode===null)return $x(r);{const a=sn(r.anchorNode),u=sn(r.focusNode);return((f,p,b,w)=>{const S=((D,L,M,z)=>{const q=ii(D).dom.createRange();return q.setStart(D.dom,L),q.setEnd(M.dom,z),q})(f,p,b,w),E=lr(f,b)&&p===w;return S.collapsed&&!E})(a,r.anchorOffset,u,r.focusOffset)?O.some(Lf(a,r.anchorOffset,u,r.focusOffset)):$x(r)}},Ux=(r,a)=>(u=>{const f=u.getClientRects(),p=f.length>0?f[0]:u.getBoundingClientRect();return p.width>0||p.height>0?O.some(p).map(_0):O.none()})(Hx(r,a)),Wx=((r,a)=>{const u=f=>r(f)?O.from(f.dom.nodeValue):O.none();return{get:f=>{if(!r(f))throw new Error("Can only get text value of a text node");return u(f).getOr("")},getOption:u,set:(f,p)=>{if(!r(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=p}}})(Ca),$f=(r,a)=>({element:r,offset:a}),S0=(r,a)=>Ca(r)?$f(r,a):((u,f)=>{const p=Pr(u);if(p.length===0)return $f(u,f);if(f<p.length)return $f(p[f],0);{const b=p[p.length-1],w=Ca(b)?(S=>Wx.get(S))(b).length:Pr(b).length;return $f(b,w)}})(r,a),vb=r=>r.foffset!==void 0,Zx=(r,a)=>a.getSelection.getOrThunk(()=>()=>(u=>(f=>O.from(f.getSelection()))(u).filter(f=>f.rangeCount>0).bind(BC))(r))().map(u=>{if(vb(u)){const f=S0(u.start,u.soffset),p=S0(u.finish,u.foffset);return zf.range(f.element,f.offset,p.element,p.offset)}return u});var yE=[Go("getSelection"),Dt("root"),Go("bubble"),Bf(),it("overrides",{}),it("showAbove",!1),Kr("placement",(r,a,u)=>{const f=Jc(a.root).dom,p=Zd(r,0,a),b=Zx(f,a).bind(S=>{if(vb(S))return((D,L)=>(M=>{const z=M.getBoundingClientRect();return z.width>0||z.height>0?O.some(z).map(_0):O.none()})(Hx(D,L)))(f,zf.exactFromRange(S)).orThunk(()=>{const D=Lu("\uFEFF");Td(S.start,D);const L=Ux(f,zf.exact(D,0,D,1));return $i(D),L}).bind(D=>hb(D.left,D.top,D.width,D.height));{const E=Dn(S,L=>L.dom.getBoundingClientRect()),D={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return hb(D.left,D.top,D.right-D.left,D.bottom-D.top)}}),w=Zx(f,a).bind(S=>vb(S)?ls(S.start)?O.some(S.start):ka(S.start):O.some(S.firstCell)).getOr(r.element);return fh(b,p,a,u,w)})];const Uf="link-layout",bb=r=>r.x+r.width,LC=(r,a)=>r.x-a.width,FC=(r,a)=>r.y-a.height+r.height,hu=r=>r.y,jx=(r,a,u)=>fa(bb(r),hu(r),u.southeast(),eb(),"southeast",ma(r,{left:0,top:2}),Uf),E0=(r,a,u)=>fa(LC(r,a),hu(r),u.southwest(),ih(),"southwest",ma(r,{right:1,top:2}),Uf),VC=(r,a,u)=>fa(bb(r),FC(r,a),u.northeast(),tb(),"northeast",ma(r,{left:0,bottom:3}),Uf),hh=(r,a,u)=>fa(LC(r,a),FC(r,a),u.northwest(),ah(),"northwest",ma(r,{right:1,bottom:3}),Uf),Sp=()=>[jx,E0,VC,hh],yb=()=>[E0,jx,hh,VC];var zC=[Dt("item"),Bf(),it("overrides",{}),Kr("placement",(r,a,u)=>{const f=Hd(u,a.item.element),p=Wd(r.element,a,Sp(),yb(),Sp(),yb(),O.none());return O.some(Vc({anchorBox:f,bubble:Ud(),overrides:a.overrides,layouts:p}))})],pu=hi("type",{selection:yE,node:mh,hotspot:Cp,submenu:zC,makeshift:qm});const Ym=[tl("classes",Ci),Tc("mode","all",["all","layout","placement"])],xb=[it("useFixed",Ee),Go("getBounds")],wb=[Zi("anchor",pu),Ds("transition",Ym)],A0=(r,a,u,f,p,b)=>{const w=Ea("placement.info",Zn(wb),p),S=w.anchor,E=f.element,D=u.get(f.uid);jm(()=>{co(E,"position","fixed");const L=$s(E,"visibility");co(E,"visibility","hidden");const M=a.useFixed()?(()=>{const z=document.documentElement;return PC(0,0,z.clientWidth,z.clientHeight)})():(z=>{const q=Bl(z.element),X=z.element.dom.getBoundingClientRect();return Km(q.left,q.top,X.width,X.height)})(r);S.placement(r,S,M).each(z=>{const q=b.orThunk(()=>a.getBounds.map(Xe)),X=((ue,me,_e,fe,de,ve)=>((ke,Ae,$e,rt,At,kt,wt,Ht)=>{const mn=Fc(wt,"maxHeightFunction",Gm()),En=Fc(wt,"maxWidthFunction",ce),$n=ke.anchorBox,io=ke.origin,zo={bounds:pE(io,kt),origin:io,preference:rt,maxHeightFunction:mn,maxWidthFunction:En,lastPlacement:At,transition:Ht};return fb($n,Ae,$e,zo)})(((ke,Ae)=>(($e,rt)=>({anchorBox:$e,origin:rt}))(ke,Ae))(me.anchorBox,ue),fe.element,me.bubble,me.layouts,de,_e,me.overrides,ve))(M,z,q,f,D,w.transition);u.set(f.uid,X)}),L.fold(()=>{_r(E,"visibility")},z=>{co(E,"visibility",z)}),$s(E,"left").isNone()&&$s(E,"top").isNone()&&$s(E,"right").isNone()&&$s(E,"bottom").isNone()&&rs($s(E,"position"),"fixed")&&_r(E,"position")},E)};var Cb=Object.freeze({__proto__:null,position:(r,a,u,f,p)=>{const b=O.none();A0(r,a,u,f,p,b)},positionWithinBounds:A0,getMode:(r,a,u)=>a.useFixed()?"fixed":"absolute",reset:(r,a,u,f)=>{const p=f.element;Mt(["position","left","right","top","bottom"],b=>_r(p,b)),(b=>{So(b,ab)})(p),u.clear(f.uid)}});const ga=Ni({fields:xb,name:"positioning",active:Bx,apis:Cb,state:Object.freeze({__proto__:null,init:()=>{let r={};return Ii({readState:()=>r,clear:a=>{G(a)?delete r[a]:r={}},set:(a,u)=>{r[a]=u},get:a=>hn(r,a)})}})}),T0=r=>r.getSystem().isConnected(),Xm=r=>{Ao(r,Dc());const a=r.components();Mt(a,Xm)},Jm=r=>{const a=r.components();Mt(a,Jm),Ao(r,ua())},_b=(r,a)=>{r.getSystem().addToWorld(a),un(r.element)&&Jm(a)},O0=r=>{Xm(r),r.getSystem().removeFromWorld(r)},ph=(r,a)=>{Pa(r.element,a.element)},Wf=(r,a)=>{Kx(r,a,Pa)},Kx=(r,a,u)=>{r.getSystem().addToWorld(a),u(r.element,a.element),un(r.element)&&Jm(a),r.syncComponents()},D0=r=>{Xm(r),$i(r.element),r.getSystem().removeFromWorld(r)},sl=r=>{const a=_a(r.element).bind(u=>r.getSystem().getByDom(u).toOptional());D0(r),a.each(u=>{u.syncComponents()})},Zf=r=>{const a=r.components();Mt(a,D0),us(r.element),r.syncComponents()},Gx=(r,a)=>{Ep(r,a,Pa)},xt=(r,a)=>{Ep(r,a,$g)},Ep=(r,a,u)=>{u(r,a.element);const f=Pr(a.element);Mt(f,p=>{a.getByDom(p).each(Jm)})},xE=r=>{const a=Pr(r.element);Mt(a,u=>{r.getByDom(u).each(Xm)}),$i(r.element)},HC=(r,a,u,f)=>{u.get().each(w=>{Zf(r)});const p=a.getAttachPoint(r);Wf(p,r);const b=r.getSystem().build(f);return Wf(r,b),u.set(b),b},R0=(r,a,u,f)=>{const p=HC(r,a,u,f);return a.onOpen(r,p),p},vu=(r,a,u)=>{u.get().each(f=>{Zf(r),sl(r),a.onClose(r,f),u.clear()})},I0=(r,a,u)=>u.isOpen(),kb=(r,a,u)=>{const f=a.getAttachPoint(r);co(r.element,"position",ga.getMode(f)),((p,b,w,S)=>{$s(p.element,b).fold(()=>{So(p.element,w)},E=>{rn(p.element,w,E)}),co(p.element,b,"hidden")})(r,"visibility",a.cloakVisibilityAttr)},qx=(r,a,u)=>{(f=>pt(["top","left","right","bottom"],p=>$s(f,p).isSome()))(r.element)||_r(r.element,"position"),((f,p,b)=>{Ko(f.element,b).fold(()=>_r(f.element,p),w=>co(f.element,p,w))})(r,"visibility",a.cloakVisibilityAttr)};var Yx=Object.freeze({__proto__:null,cloak:kb,decloak:qx,open:R0,openWhileCloaked:(r,a,u,f,p)=>{kb(r,a),R0(r,a,u,f),p(),qx(r,a)},close:vu,isOpen:I0,isPartOf:(r,a,u,f)=>I0(0,0,u)&&u.get().exists(p=>a.isPartOf(r,p,f)),getState:(r,a,u)=>u.get(),setContent:(r,a,u,f)=>u.get().map(()=>HC(r,a,u,f))}),wE=Object.freeze({__proto__:null,events:(r,a)=>fo([St(Fv(),(u,f)=>{vu(u,r,a)})])}),y=[Jo("onOpen"),Jo("onClose"),Dt("isPartOf"),Dt("getAttachPoint"),it("cloakVisibilityAttr","data-precloak-visibility")],k=Object.freeze({__proto__:null,init:()=>{const r=Tr(),a=ee("not-implemented");return Ii({readState:a,isOpen:r.isSet,clear:r.clear,set:r.set,get:r.get})}});const T=Ni({fields:y,name:"sandboxing",active:wE,apis:Yx,state:k}),B=ee("dismiss.popups"),H=ee("reposition.popups"),U=ee("mouse.released"),ne=wi([it("isExtraPart",Ee),Ds("fireEventInstead",[it("event",Gg())])]),se=r=>{const a=Ea("Dismissal",ne,r);return{[B()]:{schema:wi([Dt("target")]),onReceive:(u,f)=>{T.isOpen(u)&&(T.isPartOf(u,f.target)||a.isExtraPart(u,f.target)||a.fireEventInstead.fold(()=>T.close(u),p=>Ao(u,p.event)))}}}},xe=wi([Ds("fireEventInstead",[it("event",Af())]),Fa("doReposition")]),Ie=r=>{const a=Ea("Reposition",xe,r);return{[H()]:{onReceive:u=>{T.isOpen(u)&&a.fireEventInstead.fold(()=>a.doReposition(u),f=>Ao(u,f.event))}}}},je=(r,a,u)=>{a.store.manager.onLoad(r,a,u)},De=(r,a,u)=>{a.store.manager.onUnload(r,a,u)};var Pe=Object.freeze({__proto__:null,onLoad:je,onUnload:De,setValue:(r,a,u,f)=>{a.store.manager.setValue(r,a,u,f)},getValue:(r,a,u)=>a.store.manager.getValue(r,a,u),getState:(r,a,u)=>u}),He=Object.freeze({__proto__:null,events:(r,a)=>{const u=r.resetOnDom?[ss((f,p)=>{je(f,r,a)}),Xu((f,p)=>{De(f,r,a)})]:[zv(r,a,je)];return fo(u)}});const st=()=>{const r=Vn(null);return Ii({set:r.set,get:r.get,isNotSet:()=>r.get()===null,clear:()=>{r.set(null)},readState:()=>({mode:"memory",value:r.get()})})},at=()=>{const r=Vn({}),a=Vn({});return Ii({readState:()=>({mode:"dataset",dataByValue:r.get(),dataByText:a.get()}),lookup:u=>hn(r.get(),u).orThunk(()=>hn(a.get(),u)),update:u=>{const f=r.get(),p=a.get(),b={},w={};Mt(u,S=>{b[S.value]=S,hn(S,"meta").each(E=>{hn(E,"text").each(D=>{w[D]=S})})}),r.set({...f,...b}),a.set({...p,...w})},clear:()=>{r.set({}),a.set({})}})};var Ot=Object.freeze({__proto__:null,memory:st,dataset:at,manual:()=>Ii({readState:ce}),init:r=>r.store.manager.state(r)});const It=(r,a,u,f)=>{const p=a.store;u.update([f]),p.setValue(r,f),a.onSetValue(r,f)};var Tt=[Go("initialValue"),Dt("getFallbackEntry"),Dt("getDataKey"),Dt("setValue"),Kr("manager",{setValue:It,getValue:(r,a,u)=>{const f=a.store,p=f.getDataKey(r);return u.lookup(p).getOrThunk(()=>f.getFallbackEntry(p))},onLoad:(r,a,u)=>{a.store.initialValue.each(f=>{It(r,a,u,f)})},onUnload:(r,a,u)=>{u.clear()},state:at})],Pt=[Dt("getValue"),it("setValue",ce),Go("initialValue"),Kr("manager",{setValue:(r,a,u,f)=>{a.store.setValue(r,f),a.onSetValue(r,f)},getValue:(r,a,u)=>a.store.getValue(r),onLoad:(r,a,u)=>{a.store.initialValue.each(f=>{a.store.setValue(r,f)})},onUnload:ce,state:Nc.init})],Gt=[Go("initialValue"),Kr("manager",{setValue:(r,a,u,f)=>{u.set(f),a.onSetValue(r,f)},getValue:(r,a,u)=>u.get(),onLoad:(r,a,u)=>{a.store.initialValue.each(f=>{u.isNotSet()&&u.set(f)})},onUnload:(r,a,u)=>{u.clear()},state:st})],Qt=[Va("store",{mode:"memory"},hi("mode",{memory:Gt,manual:Pt,dataset:Tt})),Jo("onSetValue"),it("resetOnDom",!1)];const lt=Ni({fields:Qt,name:"representing",active:He,apis:Pe,extra:{setValueFrom:(r,a)=>{const u=lt.getValue(a);lt.setValue(r,u)}},state:Ot}),yn=(r,a)=>za(r,{},Ye(a,u=>{return f=u.name(),p="Cannot configure "+u.name()+" for "+r,li(f,f,{tag:"option",process:{}},$u(b=>Qa("The field: "+f+" is forbidden. "+p)));var f,p}).concat([Wi("dump",we)])),Xn=r=>r.dump,xo=(r,a)=>({...Zt(a),...r.dump}),ro=yn,Jn=xo,yo="placeholder",qo=ql([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),oi=r=>To(r,"uiType"),Ta=(r,a,u,f)=>((p,b,w,S)=>oi(w)&&w.uiType===yo?((E,D,L,M)=>E.exists(z=>z!==L.owner)?qo.single(!0,ee(L)):hn(M,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+wn(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},z=>z.replace()))(p,0,w,S):qo.single(!1,ee(w)))(r,0,u,f).fold((p,b)=>{const w=oi(u)?b(a,u.config,u.validated):b(a),S=hn(w,"components").getOr([]),E=tn(S,D=>Ta(r,a,D,f));return[{...w,components:E}]},(p,b)=>{if(oi(u)){const w=b(a,u.config,u.validated);return u.validated.preprocess.getOr(we)(w)}return b(a)}),Gi=qo.single,uc=qo.multiple,Qm=ee(yo),Oa=ql([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),td=it("factory",{sketch:we}),Ap=it("schema",[]),jf=Dt("name"),Tp=li("pname","pname",Wg(r=>"<alloy."+bn(r.name)+">"),Fl()),N0=Wi("schema",()=>[Go("preprocess")]),Kf=it("defaults",ee({})),$C=it("overrides",ee({})),C8=Zn([td,Ap,jf,Tp,Kf,$C]),_8=Zn([td,Ap,jf,Kf,$C]),LD=Zn([td,Ap,jf,Tp,Kf,$C]),xn=Zn([td,N0,jf,Dt("unit"),Tp,Kf,$C]),Xx=r=>r.fold(O.some,O.none,O.some,O.some),CE=r=>{const a=u=>u.name;return r.fold(a,a,a,a)},UC=(r,a)=>u=>{const f=Ea("Converting part type",a,u);return r(f)},_l=UC(Oa.required,C8),jd=UC(Oa.external,_8),bu=UC(Oa.optional,LD),WC=UC(Oa.group,xn),_E=ee("entirety");var FD=Object.freeze({__proto__:null,required:_l,external:jd,optional:bu,group:WC,asNamedPart:Xx,name:CE,asCommon:r=>r.fold(we,we,we,we),original:_E});const kE=(r,a,u,f)=>Mr(a.defaults(r,u,f),u,{uid:r.partUids[a.name]},a.overrides(r,u,f)),il=(r,a)=>{const u={};return Mt(a,f=>{Xx(f).each(p=>{const b=Jx(r,p.pname);u[p.name]=w=>{const S=Ea("Part: "+p.name+" in "+r,Zn(p.schema),w);return{...b,config:w,validated:S}}})}),u},Jx=(r,a)=>({uiType:Qm(),owner:r,name:a}),SE=(r,a,u)=>({uiType:Qm(),owner:r,name:a,config:u,validated:{}}),VD=r=>tn(r,a=>a.fold(O.none,O.some,O.none,O.none).map(u=>Ac(u.name,u.schema.concat([Xv(_E())]))).toArray()),zD=r=>Ye(r,CE),EE=(r,a,u)=>((f,p,b)=>{const w={},S={};return Mt(b,E=>{E.fold(D=>{w[D.pname]=Gi(!0,(L,M,z)=>D.factory.sketch(kE(L,D,M,z)))},D=>{const L=p.parts[D.name];S[D.name]=ee(D.factory.sketch(kE(p,D,L[_E()]),L))},D=>{w[D.pname]=Gi(!1,(L,M,z)=>D.factory.sketch(kE(L,D,M,z)))},D=>{w[D.pname]=uc(!0,(L,M,z)=>{const q=L[D.name];return Ye(q,X=>D.factory.sketch(Mr(D.defaults(L,X,z),X,D.overrides(L,X))))})})}),{internals:ee(w),externals:ee(S)}})(0,a,u),AE=(r,a,u)=>((f,p,b,w)=>{const S=Dn(w,(D,L)=>((M,z)=>{let q=!1;return{name:ee(M),required:()=>z.fold((X,ue)=>X,(X,ue)=>X),used:()=>q,replace:()=>{if(q)throw new Error("Trying to use the same placeholder more than once: "+M);return q=!0,z}}})(L,D)),E=((D,L,M,z)=>tn(M,q=>Ta(D,L,q,z)))(f,p,b,S);return Tn(S,D=>{if(D.used()===!1&&D.required())throw new Error("Placeholder: "+D.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(O.some(r),a,a.components,u),qr=(r,a,u)=>{const f=a.partUids[u];return r.getSystem().getByUid(f).toOptional()},vh=(r,a,u)=>qr(r,a,u).getOrDie("Could not find part: "+u),HD=(r,a,u)=>{const f={},p=a.partUids,b=r.getSystem();return Mt(u,w=>{f[w]=ee(b.getByUid(p[w]))}),f},TE=(r,a)=>{const u=r.getSystem();return Dn(a.partUids,(f,p)=>ee(u.getByUid(f)))},$D=r=>wn(r.partUids),OE=(r,a,u)=>{const f={},p=a.partUids,b=r.getSystem();return Mt(u,w=>{f[w]=ee(b.getByUid(p[w]).getOrDie())}),f},UD=(r,a)=>{const u=zD(a);return Pd(Ye(u,f=>({key:f,value:r+"-"+f})))},DE=r=>li("partUids","partUids",Xo(a=>UD(a.uid,r)),Fl());var k8=Object.freeze({__proto__:null,generate:il,generateOne:SE,schemas:VD,names:zD,substitutes:EE,components:AE,defaultUids:UD,defaultUidsSchema:DE,getAllParts:TE,getAllPartNames:$D,getPart:qr,getPartOrDie:vh,getParts:HD,getPartsOrDie:OE});const WD=(r,a,u,f,p)=>{const b=((w,S)=>(w.length>0?[Ac("parts",w)]:[]).concat([Dt("uid"),it("dom",{}),it("components",[]),Xv("originalSpec"),it("debug.sketcher",{})]).concat(S))(f,p);return Ea(r+" [SpecSchema]",wi(b.concat(a)),u)},Qx=(r,a,u,f,p)=>{const b=RE(p),w=VD(u),S=DE(u),E=WD(r,a,b,w,[S]),D=EE(0,E,u);return f(E,AE(r,E,D.internals()),b,D.externals())},RE=r=>(a=>To(a,"uid"))(r)?r:{...r,uid:Bc("uid")},S8=wi([Dt("name"),Dt("factory"),Dt("configFields"),it("apis",{}),it("extraApis",{})]),ZD=wi([Dt("name"),Dt("factory"),Dt("configFields"),Dt("partFields"),it("apis",{}),it("extraApis",{})]),yu=r=>{const a=Ea("Sketcher for "+r.name,S8,r),u=Dn(a.apis,l0),f=Dn(a.extraApis,(p,b)=>ac(p,b));return{name:a.name,configFields:a.configFields,sketch:p=>((b,w,S,E)=>{const D=RE(E);return S(WD(b,w,D,[],[]),D)})(a.name,a.configFields,a.factory,p),...u,...f}},Vl=r=>{const a=Ea("Sketcher for "+r.name,ZD,r),u=il(a.name,a.partFields),f=Dn(a.apis,l0),p=Dn(a.extraApis,(b,w)=>ac(b,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:b=>Qx(a.name,a.configFields,a.partFields,a.factory,b),parts:u,...f,...p}},P0=r=>Yc("input")(r)&&Lo(r,"type")!=="radio"||Yc("textarea")(r);var jD=Object.freeze({__proto__:null,getCurrent:(r,a,u)=>a.find(r)});const E8=[Dt("find")],or=Ni({fields:E8,name:"composing",apis:jD}),KD=["input","button","textarea","select"],GD=(r,a,u)=>{(a.disabled()?e2:NE)(r,a)},IE=(r,a)=>a.useNative===!0&&tt(KD,qa(r.element)),qD=r=>{rn(r.element,"disabled","disabled")},A8=r=>{So(r.element,"disabled")},M0=r=>{rn(r.element,"aria-disabled","true")},T8=r=>{rn(r.element,"aria-disabled","false")},e2=(r,a,u)=>{a.disableClass.each(f=>{Ss(r.element,f)}),(IE(r,a)?qD:M0)(r),a.onDisabled(r)},NE=(r,a,u)=>{a.disableClass.each(f=>{Is(r.element,f)}),(IE(r,a)?A8:T8)(r),a.onEnabled(r)},B0=(r,a)=>IE(r,a)?(u=>Ts(u.element,"disabled"))(r):(u=>Lo(u.element,"aria-disabled")==="true")(r);var O8=Object.freeze({__proto__:null,enable:NE,disable:e2,isDisabled:B0,onLoad:GD,set:(r,a,u,f)=>{(f?e2:NE)(r,a)}}),D8=Object.freeze({__proto__:null,exhibit:(r,a)=>Ks({classes:a.disabled()?a.disableClass.toArray():[]}),events:(r,a)=>fo([dp(bl(),(u,f)=>B0(u,r)),zv(r,a,GD)])}),R8=[es("disabled",Ee),it("useNative",!0),Go("disableClass"),Jo("onDisabled"),Jo("onEnabled")];const so=Ni({fields:R8,name:"disabling",active:D8,apis:O8}),YD=(r,a,u,f)=>{const p=ki(r.element,"."+a.highlightClass);Mt(p,b=>{pt(f,w=>lr(w.element,b))||(Is(b,a.highlightClass),r.getSystem().getByDom(b).each(w=>{a.onDehighlight(r,w),Ao(w,Tf())}))})},Sb=(r,a,u,f)=>{YD(r,a,0,[f]),PE(r,a,u,f)||(Ss(f.element,a.highlightClass),a.onHighlight(r,f),Ao(f,lx()))},PE=(r,a,u,f)=>nl(f.element,a.highlightClass),XD=(r,a,u)=>fs(r.element,"."+a.itemClass).bind(f=>r.getSystem().getByDom(f).toOptional()),JD=(r,a,u)=>{const f=ki(r.element,"."+a.itemClass);return(f.length>0?O.some(f[f.length-1]):O.none()).bind(p=>r.getSystem().getByDom(p).toOptional())},QD=(r,a,u,f)=>{const p=ki(r.element,"."+a.itemClass);return Cr(p,b=>nl(b,a.highlightClass)).bind(b=>{const w=zm(b,f,0,p.length-1);return r.getSystem().getByDom(p[w]).toOptional()})},e5=(r,a,u)=>{const f=ki(r.element,"."+a.itemClass);return ea(Ye(f,p=>r.getSystem().getByDom(p).toOptional()))};var I8=Object.freeze({__proto__:null,dehighlightAll:(r,a,u)=>YD(r,a,0,[]),dehighlight:(r,a,u,f)=>{PE(r,a,u,f)&&(Is(f.element,a.highlightClass),a.onDehighlight(r,f),Ao(f,Tf()))},highlight:Sb,highlightFirst:(r,a,u)=>{XD(r,a).each(f=>{Sb(r,a,u,f)})},highlightLast:(r,a,u)=>{JD(r,a).each(f=>{Sb(r,a,u,f)})},highlightAt:(r,a,u,f)=>{((p,b,w,S)=>{const E=ki(p.element,"."+b.itemClass);return O.from(E[S]).fold(()=>Vo.error(new Error("No element found with index "+S)),p.getSystem().getByDom)})(r,a,0,f).fold(p=>{throw p},p=>{Sb(r,a,u,p)})},highlightBy:(r,a,u,f)=>{const p=e5(r,a);J(p,f).each(b=>{Sb(r,a,u,b)})},isHighlighted:PE,getHighlighted:(r,a,u)=>fs(r.element,"."+a.highlightClass).bind(f=>r.getSystem().getByDom(f).toOptional()),getFirst:XD,getLast:JD,getPrevious:(r,a,u)=>QD(r,a,0,-1),getNext:(r,a,u)=>QD(r,a,0,1),getCandidates:e5}),t5=[Dt("highlightClass"),Dt("itemClass"),Jo("onHighlight"),Jo("onDehighlight")];const Sr=Ni({fields:t5,name:"highlighting",apis:I8}),n5=[8],Kd=[9],eg=[13],ZC=[27],Hc=[32],jC=[37],L0=[38],t2=[39],F0=[40],N8=(r,a,u)=>{const f=Ke(r.slice(0,a)),p=Ke(r.slice(a+1));return J(f.concat(p),u)},P8=(r,a,u)=>{const f=Ke(r.slice(0,a));return J(f,u)},M8=(r,a,u)=>{const f=r.slice(0,a),p=r.slice(a+1);return J(p.concat(f),u)},B8=(r,a,u)=>{const f=r.slice(a+1);return J(f,u)},cr=r=>a=>{const u=a.raw;return tt(r,u.which)},Gf=r=>a=>Do(r,u=>u(a)),tg=r=>r.raw.shiftKey===!0,L8=r=>r.raw.ctrlKey===!0,n2=Be(tg),gr=(r,a)=>({matches:r,classification:a}),o5=(r,a,u)=>{a.exists(f=>u.exists(p=>lr(p,f)))||Nn(r,G1(),{prevFocus:a,newFocus:u})},ME=()=>{const r=a=>Ys(a.element);return{get:r,set:(a,u)=>{const f=r(a);a.getSystem().triggerFocus(u,a.element);const p=r(a);o5(a,f,p)}}},F8=()=>{const r=a=>Sr.getHighlighted(a).map(u=>u.element);return{get:r,set:(a,u)=>{const f=r(a);a.getSystem().getByDom(u).fold(ce,b=>{Sr.highlight(a,b)});const p=r(a);o5(a,f,p)}}};var Eb;(function(r){r.OnFocusMode="onFocus",r.OnEnterOrSpaceMode="onEnterOrSpace",r.OnApiMode="onApi"})(Eb||(Eb={}));const Ab=(r,a,u,f,p)=>{const b=(S,E,D,L,M)=>{return(z=D(S,E,L,M),q=E.event,J(z,X=>X.matches(q)).map(X=>X.classification)).bind(X=>X(S,E,L,M));var z,q},w={schema:()=>r.concat([it("focusManager",ME()),Va("focusInside","onFocus",Cf(S=>tt(["onFocus","onEnterOrSpace","onApi"],S)?Vo.value(S):Vo.error("Invalid value for focusInside"))),Kr("handler",w),Kr("state",a),Kr("sendFocusIn",p)]),processKey:b,toEvents:(S,E)=>{const D=S.focusInside!==Eb.OnFocusMode?O.none():p(S).map(M=>St(Yu(),(z,q)=>{M(z,S,E),q.stop()})),L=[St(ks(),(M,z)=>{b(M,z,u,S,E).fold(()=>{((q,X)=>{const ue=cr(Hc.concat(eg))(X.event);S.focusInside===Eb.OnEnterOrSpaceMode&&ue&&Pv(q,X)&&p(S).each(me=>{me(q,S,E),X.stop()})})(M,z)},q=>{z.stop()})}),St(Oc(),(M,z)=>{b(M,z,f,S,E).each(q=>{z.stop()})})];return fo(D.toArray().concat(L))}};return w},r5=r=>{const a=[Go("onEscape"),Go("onEnter"),it("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),it("firstTabstop",0),it("useTabstopAt",Fe),Go("visibilitySelector")].concat([r]),u=(L,M)=>{const z=L.visibilitySelector.bind(q=>Qu(M,q)).getOr(M);return Os(z)>0},f=(L,M)=>M.focusManager.get(L).bind(z=>Qu(z,M.selector)),p=(L,M,z)=>{((q,X)=>{const ue=ki(q.element,X.selector),me=zn(ue,_e=>u(X,_e));return O.from(me[X.firstTabstop])})(L,M).each(q=>{M.focusManager.set(L,q)})},b=(L,M,z,q)=>{const X=ki(L.element,z.selector);return f(L,z).bind(ue=>Cr(X,Ze(lr,ue)).bind(me=>((_e,fe,de,ve,ke)=>ke(fe,de,Ae=>(($e,rt)=>u($e,rt)&&$e.useTabstopAt(rt))(ve,Ae)).fold(()=>ve.cyclic?O.some(!0):O.none(),Ae=>(ve.focusManager.set(_e,Ae),O.some(!0))))(L,X,me,z,q)))},w=(L,M,z)=>{const q=z.cyclic?N8:P8;return b(L,0,z,q)},S=(L,M,z)=>{const q=z.cyclic?M8:B8;return b(L,0,z,q)},E=ee([gr(Gf([tg,cr(Kd)]),w),gr(cr(Kd),S),gr(Gf([n2,cr(eg)]),(L,M,z)=>z.onEnter.bind(q=>q(L,M)))]),D=ee([gr(cr(ZC),(L,M,z)=>z.onEscape.bind(q=>q(L,M))),gr(cr(Kd),(L,M,z)=>f(L,z).filter(q=>!z.useTabstopAt(q)).bind(q=>((X=>(ue=>_a(ue))(X).bind(Te).exists(ue=>lr(ue,X)))(q)?w:S)(L,M,z)))]);return Ab(a,Nc.init,E,D,()=>O.some(p))};var V8=r5(Wi("cyclic",Ee)),z8=r5(Wi("cyclic",Fe));const o2=(r,a,u)=>P0(u)&&cr(Hc)(a.event)?O.none():((f,p,b)=>(ps(f,b,bl()),O.some(!0)))(r,0,u),Tb=(r,a)=>O.some(!0),H8=[it("execute",o2),it("useSpace",!1),it("useEnter",!0),it("useControlEnter",!1),it("useDown",!1)],s5=(r,a,u)=>u.execute(r,a,r.element);var $8=Ab(H8,Nc.init,(r,a,u,f)=>{const p=u.useSpace&&!P0(r.element)?Hc:[],b=u.useEnter?eg:[],w=u.useDown?F0:[],S=p.concat(b).concat(w);return[gr(cr(S),s5)].concat(u.useControlEnter?[gr(Gf([L8,cr(eg)]),s5)]:[])},(r,a,u,f)=>u.useSpace&&!P0(r.element)?[gr(cr(Hc),Tb)]:[],()=>O.none());const i5=()=>{const r=Tr();return Ii({readState:()=>r.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,u)=>{r.set({numRows:a,numColumns:u})},getNumRows:()=>r.get().map(a=>a.numRows),getNumColumns:()=>r.get().map(a=>a.numColumns)})};var a5=Object.freeze({__proto__:null,flatgrid:i5,init:r=>r.state(r)});const l5=r=>(a,u,f,p)=>{const b=r(a.element);return c5(b,a,u,f,p)},BE=(r,a)=>{const u=zx(r,a);return l5(u)},LE=(r,a)=>{const u=zx(a,r);return l5(u)},FE=r=>(a,u,f,p)=>c5(r,a,u,f,p),c5=(r,a,u,f,p)=>f.focusManager.get(a).bind(b=>r(a.element,b,f,p)).map(b=>(f.focusManager.set(a,b),!0)),VE=FE,u5=FE,KC=FE,d5=r=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(r.dom),zE=(r,a,u)=>{const f=ki(r,u);return((p,b)=>Cr(p,w=>lr(w,a)).map(w=>({index:w,candidates:p})))(zn(f,d5))},GC=(r,a)=>Cr(r,u=>lr(a,u)),f5=(r,a,u,f)=>f(Math.floor(a/u),a%u).bind(p=>{const b=p.row*u+p.column;return b>=0&&b<r.length?O.some(r[b]):O.none()}),m5=(r,a,u,f,p)=>f5(r,a,f,(b,w)=>{const S=b===u-1?r.length-b*f:f,E=zm(w,p,0,S-1);return O.some({row:b,column:E})}),g5=(r,a,u,f,p)=>f5(r,a,f,(b,w)=>{const S=zm(b,p,0,u-1),E=S===u-1?r.length-S*f:f,D=Mc(w,0,E-1);return O.some({row:S,column:D})}),U8=[Dt("selector"),it("execute",o2),yl("onEscape"),it("captureTab",!1),EC()],h5=(r,a,u)=>{fs(r.element,a.selector).each(f=>{a.focusManager.set(r,f)})},r2=r=>(a,u,f,p)=>zE(a,u,f.selector).bind(b=>r(b.candidates,b.index,p.getNumRows().getOr(f.initSize.numRows),p.getNumColumns().getOr(f.initSize.numColumns))),HE=(r,a,u)=>u.captureTab?O.some(!0):O.none(),$E=r2((r,a,u,f)=>m5(r,a,u,f,-1)),UE=r2((r,a,u,f)=>m5(r,a,u,f,1)),W8=r2((r,a,u,f)=>g5(r,a,u,f,-1)),Z8=r2((r,a,u,f)=>g5(r,a,u,f,1)),j8=ee([gr(cr(jC),BE($E,UE)),gr(cr(t2),LE($E,UE)),gr(cr(L0),VE(W8)),gr(cr(F0),u5(Z8)),gr(Gf([tg,cr(Kd)]),HE),gr(Gf([n2,cr(Kd)]),HE),gr(cr(Hc.concat(eg)),(r,a,u,f)=>((p,b)=>b.focusManager.get(p).bind(w=>Qu(w,b.selector)))(r,u).bind(p=>u.execute(r,a,p)))]),K8=ee([gr(cr(ZC),(r,a,u)=>u.onEscape(r,a)),gr(cr(Hc),Tb)]);var G8=Ab(U8,i5,j8,K8,()=>O.some(h5));const Op=(r,a,u,f,p)=>{const b=(w,S,E)=>p(w,S,f,0,E.length-1,E[S],D=>{return L=E[D],qa(L)==="button"&&Lo(L,"disabled")==="disabled"?b(w,D,E):O.from(E[D]);var L});return zE(r,u,a).bind(w=>{const S=w.index,E=w.candidates;return b(S,S,E)})},p5=(r,a,u,f)=>Op(r,a,u,f,(p,b,w,S,E,D,L)=>{const M=Mc(b+w,S,E);return M===p?O.from(D):L(M)}),qC=(r,a,u,f)=>Op(r,a,u,f,(p,b,w,S,E,D,L)=>{const M=zm(b,w,S,E);return M===p?O.none():L(M)}),q8=[Dt("selector"),it("getInitial",O.none),it("execute",o2),yl("onEscape"),it("executeOnMove",!1),it("allowVertical",!0),it("allowHorizontal",!0),it("cycles",!0)],WE=(r,a,u)=>((f,p)=>p.focusManager.get(f).bind(b=>Qu(b,p.selector)))(r,u).bind(f=>u.execute(r,a,f)),v5=(r,a,u)=>{a.getInitial(r).orThunk(()=>fs(r.element,a.selector)).each(f=>{a.focusManager.set(r,f)})},b5=(r,a,u)=>(u.cycles?qC:p5)(r,u.selector,a,-1),y5=(r,a,u)=>(u.cycles?qC:p5)(r,u.selector,a,1),ZE=r=>(a,u,f,p)=>r(a,u,f,p).bind(()=>f.executeOnMove?WE(a,u,f):O.some(!0)),s2=ee([gr(cr(Hc),Tb),gr(cr(ZC),(r,a,u)=>u.onEscape(r,a))]);var i2=Ab(q8,Nc.init,(r,a,u,f)=>{const p=[...u.allowHorizontal?jC:[]].concat(u.allowVertical?L0:[]),b=[...u.allowHorizontal?t2:[]].concat(u.allowVertical?F0:[]);return[gr(cr(p),ZE(BE(b5,y5))),gr(cr(b),ZE(LE(b5,y5))),gr(cr(eg),WE),gr(cr(Hc),WE)]},s2,()=>O.some(v5));const YC=(r,a,u)=>O.from(r[a]).bind(f=>O.from(f[u]).map(p=>({rowIndex:a,columnIndex:u,cell:p}))),XC=(r,a,u,f)=>{const p=r[a].length,b=zm(u,f,0,p-1);return YC(r,a,b)},x5=(r,a,u,f)=>{const p=zm(u,f,0,r.length-1),b=r[p].length,w=Mc(a,0,b-1);return YC(r,p,w)},jE=(r,a,u,f)=>{const p=r[a].length,b=Mc(u+f,0,p-1);return YC(r,a,b)},KE=(r,a,u,f)=>{const p=Mc(u+f,0,r.length-1),b=r[p].length,w=Mc(a,0,b-1);return YC(r,p,w)},w5=[Ac("selectors",[Dt("row"),Dt("cell")]),it("cycles",!0),it("previousSelector",O.none),it("execute",o2)],Y8=(r,a,u)=>{a.previousSelector(r).orThunk(()=>{const f=a.selectors;return fs(r.element,f.cell)}).each(f=>{a.focusManager.set(r,f)})},JC=(r,a)=>(u,f,p)=>{const b=p.cycles?r:a;return Qu(f,p.selectors.row).bind(w=>{const S=ki(w,p.selectors.cell);return GC(S,f).bind(E=>{const D=ki(u,p.selectors.row);return GC(D,w).bind(L=>{const M=((z,q)=>Ye(z,X=>ki(X,q.selectors.cell)))(D,p);return b(M,L,E).map(z=>z.cell)})})})},C5=JC((r,a,u)=>XC(r,a,u,-1),(r,a,u)=>jE(r,a,u,-1)),Ob=JC((r,a,u)=>XC(r,a,u,1),(r,a,u)=>jE(r,a,u,1)),Db=JC((r,a,u)=>x5(r,u,a,-1),(r,a,u)=>KE(r,u,a,-1)),QC=JC((r,a,u)=>x5(r,u,a,1),(r,a,u)=>KE(r,u,a,1)),a2=ee([gr(cr(jC),BE(C5,Ob)),gr(cr(t2),LE(C5,Ob)),gr(cr(L0),VE(Db)),gr(cr(F0),u5(QC)),gr(cr(Hc.concat(eg)),(r,a,u)=>Ys(r.element).bind(f=>u.execute(r,a,f)))]),X8=ee([gr(cr(Hc),Tb)]);var Dp=Ab(w5,Nc.init,a2,X8,()=>O.some(Y8));const ng=[Dt("selector"),it("execute",o2),it("moveOnTab",!1)],e_=(r,a,u)=>u.focusManager.get(r).bind(f=>u.execute(r,a,f)),_5=(r,a,u)=>{fs(r.element,a.selector).each(f=>{a.focusManager.set(r,f)})},k5=(r,a,u)=>qC(r,u.selector,a,-1),GE=(r,a,u)=>qC(r,u.selector,a,1),l2=ee([gr(cr(L0),KC(k5)),gr(cr(F0),KC(GE)),gr(Gf([tg,cr(Kd)]),(r,a,u,f)=>u.moveOnTab?KC(k5)(r,a,u,f):O.none()),gr(Gf([n2,cr(Kd)]),(r,a,u,f)=>u.moveOnTab?KC(GE)(r,a,u,f):O.none()),gr(cr(eg),e_),gr(cr(Hc),e_)]),c2=ee([gr(cr(Hc),Tb)]);var qE=Ab(ng,Nc.init,l2,c2,()=>O.some(_5));const S5=[yl("onSpace"),yl("onEnter"),yl("onShiftEnter"),yl("onLeft"),yl("onRight"),yl("onTab"),yl("onShiftTab"),yl("onUp"),yl("onDown"),yl("onEscape"),it("stopSpaceKeyup",!1),Go("focusIn")];var u2=Ab(S5,Nc.init,(r,a,u)=>[gr(cr(Hc),u.onSpace),gr(Gf([n2,cr(eg)]),u.onEnter),gr(Gf([tg,cr(eg)]),u.onShiftEnter),gr(Gf([tg,cr(Kd)]),u.onShiftTab),gr(Gf([n2,cr(Kd)]),u.onTab),gr(cr(L0),u.onUp),gr(cr(F0),u.onDown),gr(cr(jC),u.onLeft),gr(cr(t2),u.onRight),gr(cr(Hc),u.onSpace)],(r,a,u)=>[...u.stopSpaceKeyup?[gr(cr(Hc),Tb)]:[],gr(cr(ZC),u.onEscape)],r=>r.focusIn);const t_=V8.schema(),J8=z8.schema(),YE=i2.schema(),n_=G8.schema(),Ua=Dp.schema(),Q8=$8.schema(),og=qE.schema(),E5=u2.schema(),Ln=_C({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:t_,cyclic:J8,flow:YE,flatgrid:n_,matrix:Ua,execution:Q8,menu:og,special:E5}),name:"keying",active:{events:(r,a)=>r.handler.toEvents(r,a)},apis:{focusIn:(r,a,u)=>{a.sendFocusIn(a).fold(()=>{r.getSystem().triggerFocus(r.element,r.element)},f=>{f(r,a,u)})},setGridSize:(r,a,u,f,p)=>{(b=>bo(b,"setGridSize"))(u)?u.setGridSize(f,p):console.error("Layout does not support setGridSize")}},state:a5}),Rb=(r,a)=>{jm(()=>{((u,f,p)=>{const b=u.components();(E=>{Mt(E.components(),D=>$i(D.element)),us(E.element),E.syncComponents()})(u);const w=p(f),S=ie(b,w);Mt(S,E=>{Xm(E),u.getSystem().removeFromWorld(E)}),Mt(w,E=>{T0(E)?ph(u,E):(u.getSystem().addToWorld(E),ph(u,E),un(u.element)&&Jm(E))}),u.syncComponents()})(r,a,()=>Ye(a,r.getSystem().build))},r.element)},XE=(r,a)=>{jm(()=>{((u,f,p)=>{const b=u.components(),w=tn(f,D=>kx(D).toArray());Mt(b,D=>{tt(w,D)||O0(D)});const S=((D,L,M)=>TC(D,L,(z,q)=>Tx(D,q,z,M)))(r.element,a,r.getSystem().buildOrPatch),E=ie(b,S);Mt(E,D=>{T0(D)&&O0(D)}),Mt(S,D=>{T0(D)||_b(u,D)}),u.syncComponents()})(r,a)},r.element)},o_=(r,a,u,f)=>{O0(a);const p=Tx(r.element,u,f,r.getSystem().buildOrPatch);_b(r,p),r.syncComponents()},JE=(r,a,u)=>{const f=r.getSystem().build(u);Kx(r,f,a)},A5=(r,a,u,f)=>{sl(a),JE(r,(p,b)=>((w,S,E)=>{cs(w,E).fold(()=>{Pa(w,S)},D=>{Td(D,S)})})(p,b,u),f)},d2=(r,a)=>r.components(),T5=(r,a,u,f,p)=>{const b=d2(r);return O.from(b[f]).map(w=>(p.fold(()=>sl(w),S=>{(a.reuseDom?o_:A5)(r,w,f,S)}),w))};var QE=Object.freeze({__proto__:null,append:(r,a,u,f)=>{JE(r,Pa,f)},prepend:(r,a,u,f)=>{JE(r,Ug,f)},remove:(r,a,u,f)=>{const p=d2(r);J(p,w=>lr(f.element,w.element)).each(sl)},replaceAt:T5,replaceBy:(r,a,u,f,p)=>{const b=d2(r);return Cr(b,f).bind(w=>T5(r,a,0,w,p))},set:(r,a,u,f)=>(a.reuseDom?XE:Rb)(r,f),contents:d2});const qn=Ni({fields:[ti("reuseDom",!0)],name:"replacing",apis:QE}),_o=(r,a)=>{const u=((f,p)=>{const b=fo(p);return Ni({fields:[Dt("enabled")],name:f,active:{events:ee(b)}})})(r,a);return{key:r,value:{config:{},me:u,configAsRaw:ee({}),initialConfig:{},state:Nc}}},O5=(r,a)=>{a.ignore||(Ha(r.element),a.onFocus(r))};var D5=Object.freeze({__proto__:null,focus:O5,blur:(r,a)=>{a.ignore||rb(r.element)},isFocused:r=>uh(r.element)}),R5=Object.freeze({__proto__:null,exhibit:(r,a)=>{const u=a.ignore?{}:{attributes:{tabindex:"-1"}};return Ks(u)},events:r=>fo([St(Yu(),(a,u)=>{O5(a,r),u.stop()})].concat(r.stopMousedown?[St(Rt(),(a,u)=>{u.event.prevent()})]:[]))}),I5=[Jo("onFocus"),it("stopMousedown",!1),it("ignore",!1)];const no=Ni({fields:I5,name:"focusing",active:R5,apis:D5}),f2=(r,a,u,f)=>{const p=u.get();u.set(f),((b,w,S)=>{w.toggleClass.each(E=>{S.get()?Ss(b.element,E):Is(b.element,E)})})(r,a,u),((b,w,S)=>{const E=w.aria;E.update(b,E,S.get())})(r,a,u),p!==f&&a.onToggled(r,f)},xu=(r,a,u)=>{f2(r,a,u,!u.get())},Ib=(r,a,u)=>{f2(r,a,u,a.selected)};var N5=Object.freeze({__proto__:null,onLoad:Ib,toggle:xu,isOn:(r,a,u)=>u.get(),on:(r,a,u)=>{f2(r,a,u,!0)},off:(r,a,u)=>{f2(r,a,u,!1)},set:f2}),V0=Object.freeze({__proto__:null,exhibit:()=>Ks({}),events:(r,a)=>{const u=(f=r,p=a,b=xu,du(S=>{b(S,f,p)}));var f,p,b;const w=zv(r,a,Ib);return fo(eo([r.toggleOnExecute?[u]:[],[w]]))}});const Xl=(r,a,u)=>{rn(r.element,"aria-expanded",u)};var $c=[it("selected",!1),Go("toggleClass"),it("toggleOnExecute",!0),Jo("onToggled"),Va("aria",{mode:"none"},hi("mode",{pressed:[it("syncWithExpanded",!1),Kr("update",(r,a,u)=>{rn(r.element,"aria-pressed",u),a.syncWithExpanded&&Xl(r,0,u)})],checked:[Kr("update",(r,a,u)=>{rn(r.element,"aria-checked",u)})],expanded:[Kr("update",Xl)],selected:[Kr("update",(r,a,u)=>{rn(r.element,"aria-selected",u)})],none:[Kr("update",ce)]}))];const Qn=Ni({fields:$c,name:"toggling",active:V0,apis:N5,state:{init:()=>{const r=Vn(!1);return{get:()=>r.get(),set:a=>r.set(a),clear:()=>r.set(!1),readState:()=>r.get()}}}}),nd=()=>{const r=(a,u)=>{u.stop(),Of(a)};return[St(pi(),r),St(kf(),r),Mm(Z()),Mm(Rt())]},z0=r=>fo(eo([r.map(a=>du((u,f)=>{a(u),f.stop()})).toArray(),nd()])),wu="alloy.item-hover",Rp="alloy.item-focus",P5="alloy.item-toggled",M5=r=>{(Ys(r.element).isNone()||no.isFocused(r))&&(no.isFocused(r)||no.focus(r),Nn(r,wu,{item:r}))},B5=r=>{Nn(r,Rp,{item:r})},eA=ee(wu),L5=ee(Rp),r_=ee(P5),F5=r=>r.role.fold(()=>r.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),we),eF=[Dt("data"),Dt("components"),Dt("dom"),it("hasSubmenu",!1),Go("toggling"),Go("role"),ro("itemBehaviours",[Qn,no,Ln,lt]),it("ignoreFocus",!1),it("domModification",{}),Kr("builder",r=>({dom:r.dom,domModification:{...r.domModification,attributes:{role:F5(r),...r.domModification.attributes,"aria-haspopup":r.hasSubmenu,...r.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Jn(r.itemBehaviours,[r.toggling.fold(Qn.revoke,a=>Qn.config(((u,f)=>({aria:{mode:f?"selected":"checked"},...fr(u,(p,b)=>b!=="exclusive"),onToggled:(p,b)=>{W(u.onToggled)&&u.onToggled(p,b),((w,S)=>{Nn(w,P5,{item:w,state:S})})(p,b)}}))(a,r.role.exists(u=>u==="option")))),no.config({ignore:r.ignoreFocus,stopMousedown:r.ignoreFocus,onFocus:a=>{B5(a)}}),Ln.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:r.data}}),_o("item-type-events",[...nd(),St(On(),M5),St(Lv(),no.focus)])]),components:r.components,eventOrder:r.eventOrder})),it("eventOrder",{})],tF=[Dt("dom"),Dt("components"),Kr("builder",r=>({dom:r.dom,components:r.components,events:fo([wC(Lv())])}))],tA=ee("item-widget"),nA=ee([_l({name:"widget",overrides:r=>({behaviours:Zt([lt.config({store:{mode:"manual",getValue:a=>r.data,setValue:ce}})])})})]),V5=[Dt("uid"),Dt("data"),Dt("components"),Dt("dom"),it("autofocus",!1),it("ignoreFocus",!1),ro("widgetBehaviours",[lt,no,Ln]),it("domModification",{}),DE(nA()),Kr("builder",r=>{const a=EE(tA(),r,nA()),u=AE(tA(),r,a.internals()),f=b=>qr(b,r,"widget").map(w=>(Ln.focusIn(w),w)),p=(b,w)=>(P0(w.event.target)||r.autofocus&&w.setSource(b.element),O.none());return{dom:r.dom,components:u,domModification:r.domModification,events:fo([du((b,w)=>{f(b).each(S=>{w.stop()})}),St(On(),M5),St(Lv(),(b,w)=>{r.autofocus?f(b):no.focus(b)})]),behaviours:Jn(r.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:r.data}}),no.config({ignore:r.ignoreFocus,onFocus:b=>{B5(b)}}),Ln.config({mode:"special",focusIn:r.autofocus?b=>{f(b)}:lE(),onLeft:p,onRight:p,onEscape:(b,w)=>no.isFocused(b)||r.autofocus?(r.autofocus&&w.setSource(b.element),O.none()):(no.focus(b),O.some(!0))})])}})],z5=hi("type",{widget:V5,item:eF,separator:tF}),oA=ee([WC({factory:{sketch:r=>{const a=Ea("menu.spec item",z5,r);return a.builder(a)}},name:"items",unit:"item",defaults:(r,a)=>To(a,"uid")?a:{...a,uid:Bc("item")},overrides:(r,a)=>({type:a.type,ignoreFocus:r.fakeFocus,domModification:{classes:[r.markers.item]}})})]),H5=ee([Fs("role"),Dt("value"),Dt("items"),Dt("dom"),Dt("components"),it("eventOrder",{}),yn("menuBehaviours",[Sr,lt,or,Ln]),Va("movement",{mode:"menu",moveOnTab:!0},hi("mode",{grid:[EC(),Kr("config",(r,a)=>({mode:"flatgrid",selector:"."+r.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:r.focusManager}))],matrix:[Kr("config",(r,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+r.markers.item},previousSelector:a.previousSelector,focusManager:r.focusManager})),Dt("rowSelector"),it("previousSelector",O.none)],menu:[it("moveOnTab",!0),Kr("config",(r,a)=>({mode:"menu",selector:"."+r.markers.item,moveOnTab:a.moveOnTab,focusManager:r.focusManager}))]})),Zi("markers",Qg()),it("fakeFocus",!1),it("focusManager",ME()),Jo("onHighlight"),Jo("onDehighlight"),it("showMenuRole",!0)]),$5=ee("alloy.menu-focus"),Nb=Vl({name:"Menu",configFields:H5(),partFields:oA(),factory:(r,a,u,f)=>({uid:r.uid,dom:r.dom,markers:r.markers,behaviours:xo(r.menuBehaviours,[Sr.config({highlightClass:r.markers.selectedItem,itemClass:r.markers.item,onHighlight:r.onHighlight,onDehighlight:r.onDehighlight}),lt.config({store:{mode:"memory",initialValue:r.value}}),or.config({find:O.some}),Ln.config(r.movement.config(r,r.movement))]),events:fo([St(L5(),(p,b)=>{const w=b.event;p.getSystem().getByDom(w.target).each(S=>{Sr.highlight(p,S),b.stop(),Nn(p,$5(),{menu:p,item:S})})}),St(eA(),(p,b)=>{const w=b.event.item;Sr.highlight(p,w)}),St(r_(),(p,b)=>{const{item:w,state:S}=b.event;S&&Lo(w.element,"role")==="menuitemradio"&&((E,D)=>{const L=ki(E.element,'[role="menuitemradio"][aria-checked="true"]');Mt(L,M=>{lr(M,D.element)||E.getSystem().getByDom(M).each(z=>{Qn.off(z)})})})(p,w)})]),components:a,eventOrder:r.eventOrder,...r.showMenuRole?{domModification:{attributes:{role:r.role.getOr("menu")}}}:{}})}),U5=(r,a,u,f)=>hn(u,f).bind(p=>hn(r,p).bind(b=>{const w=U5(r,a,u,b);return O.some([b].concat(w))})).getOr([]),W5=r=>r.type==="prepared"?O.some(r.menu):O.none(),nF=()=>{const r=Vn({}),a=Vn({}),u=Vn({}),f=Tr(),p=Vn({}),b=E=>w(E).bind(W5),w=E=>hn(a.get(),E),S=E=>hn(r.get(),E);return{setMenuBuilt:(E,D)=>{a.set({...a.get(),[E]:{type:"prepared",menu:D}})},setContents:(E,D,L,M)=>{f.set(E),r.set(L),a.set(D),p.set(M);const z=((q,X)=>{const ue={};Tn(q,(de,ve)=>{Mt(de,ke=>{ue[ke]=ve})});const me=X,_e=Co(X,(de,ve)=>({k:de,v:ve})),fe=Dn(_e,(de,ve)=>[ve].concat(U5(ue,me,_e,ve)));return Dn(ue,de=>hn(fe,de).getOr([de]))})(M,L);u.set(z)},expand:E=>hn(r.get(),E).map(D=>{const L=hn(u.get(),E).getOr([]);return[D].concat(L)}),refresh:E=>hn(u.get(),E),collapse:E=>hn(u.get(),E).bind(D=>D.length>1?O.some(D.slice(1)):O.none()),lookupMenu:w,lookupItem:S,otherMenus:E=>{const D=p.get();return ie(wn(D),E)},getPrimary:()=>f.get().bind(b),getMenus:()=>a.get(),clear:()=>{r.set({}),a.set({}),u.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,D)=>{const L=zn(S(E).toArray(),M=>b(M).isSome());return hn(u.get(),E).bind(M=>{const z=Ke(L.concat(M));return(q=>{const X=[];for(let ue=0;ue<q.length;ue++){const me=q[ue];if(!me.isSome())return O.none();X.push(me.getOrDie())}return O.some(X)})(tn(z,(q,X)=>((ue,me,_e)=>b(ue).bind(fe=>(de=>mr(r.get(),(ve,ke)=>ve===de))(ue).bind(de=>me(de).map(ve=>({triggeredMenu:fe,triggeringItem:ve,triggeringPath:_e})))))(q,D,z.slice(0,X+1)).fold(()=>rs(f.get(),q)?[]:[O.none()],ue=>[O.some(ue)])))})}}},oF=W5,Cu=bn("tiered-menu-item-highlight"),rF=bn("tiered-menu-item-dehighlight");var al;(function(r){r[r.HighlightMenuAndItem=0]="HighlightMenuAndItem",r[r.HighlightJustMenu=1]="HighlightJustMenu",r[r.HighlightNone=2]="HighlightNone"})(al||(al={}));const Pb=ee("collapse-item"),bh=yu({name:"TieredMenu",configFields:[Aa("onExecute"),Aa("onEscape"),Ju("onOpenMenu"),Ju("onOpenSubmenu"),Jo("onRepositionMenu"),Jo("onCollapseMenu"),it("highlightOnOpen",al.HighlightMenuAndItem),Ac("data",[Dt("primary"),Dt("menus"),Dt("expansions")]),it("fakeFocus",!1),Jo("onHighlightItem"),Jo("onDehighlightItem"),Jo("onHover"),eh(),Dt("dom"),it("navigateOnHover",!0),it("stayInDom",!1),yn("tmenuBehaviours",[Ln,Sr,or,qn]),it("eventOrder",{})],apis:{collapseMenu:(r,a)=>{r.collapseMenu(a)},highlightPrimary:(r,a)=>{r.highlightPrimary(a)},repositionMenus:(r,a)=>{r.repositionMenus(a)}},factory:(r,a)=>{const u=Tr(),f=nF(),p=de=>lt.getValue(de).value,b=de=>Dn(r.data.menus,(ve,ke)=>tn(ve.items,Ae=>Ae.type==="separator"?[]:[Ae.data.value])),w=Sr.highlight,S=(de,ve)=>{w(de,ve),Sr.getHighlighted(ve).orThunk(()=>Sr.getFirst(ve)).each(ke=>{r.fakeFocus?Sr.highlight(ve,ke):ps(de,ke.element,Lv())})},E=(de,ve)=>ea(Ye(ve,ke=>de.lookupMenu(ke).bind(Ae=>Ae.type==="prepared"?O.some(Ae.menu):O.none()))),D=(de,ve,ke)=>{const Ae=E(ve,ve.otherMenus(ke));Mt(Ae,$e=>{lc($e.element,[r.markers.backgroundMenu]),r.stayInDom||qn.remove(de,$e)})},L=(de,ve)=>{const ke=(Ae=>u.get().getOrThunk(()=>{const $e={},rt=ki(Ae.element,`.${r.markers.item}`),At=zn(rt,kt=>Lo(kt,"aria-haspopup")==="true");return Mt(At,kt=>{Ae.getSystem().getByDom(kt).each(wt=>{const Ht=p(wt);$e[Ht]=wt})}),u.set($e),$e}))(de);Tn(ke,(Ae,$e)=>{const rt=tt(ve,$e);rn(Ae.element,"aria-expanded",rt)})},M=(de,ve,ke)=>O.from(ke[0]).bind(Ae=>ve.lookupMenu(Ae).bind($e=>{if($e.type==="notbuilt")return O.none();{const rt=$e.menu,At=E(ve,ke.slice(1));return Mt(At,kt=>{Ss(kt.element,r.markers.backgroundMenu)}),un(rt.element)||qn.append(de,ol(rt)),lc(rt.element,[r.markers.backgroundMenu]),S(de,rt),D(de,ve,ke),O.some(rt)}}));let z;(function(de){de[de.HighlightSubmenu=0]="HighlightSubmenu",de[de.HighlightParent=1]="HighlightParent"})(z||(z={}));const q=(de,ve,ke=z.HighlightSubmenu)=>{if(ve.hasConfigured(so)&&so.isDisabled(ve))return O.some(ve);{const Ae=p(ve);return f.expand(Ae).bind($e=>(L(de,$e),O.from($e[0]).bind(rt=>f.lookupMenu(rt).bind(At=>{const kt=((wt,Ht,mn)=>{if(mn.type==="notbuilt"){const En=wt.getSystem().build(mn.nbMenu());return f.setMenuBuilt(Ht,En),En}return mn.menu})(de,rt,At);return un(kt.element)||qn.append(de,ol(kt)),r.onOpenSubmenu(de,ve,kt,Ke($e)),ke===z.HighlightSubmenu?(Sr.highlightFirst(kt),M(de,f,$e)):(Sr.dehighlightAll(kt),O.some(ve))}))))}},X=(de,ve)=>{const ke=p(ve);return f.collapse(ke).bind(Ae=>(L(de,Ae),M(de,f,Ae).map($e=>(r.onCollapseMenu(de,ve,$e),$e))))},ue=de=>(ve,ke)=>Qu(ke.getSource(),`.${r.markers.item}`).bind(Ae=>ve.getSystem().getByDom(Ae).toOptional().bind($e=>de(ve,$e).map(Fe))),me=fo([St($5(),(de,ve)=>{const ke=ve.event.item;f.lookupItem(p(ke)).each(()=>{const Ae=ve.event.menu;Sr.highlight(de,Ae);const $e=p(ve.event.item);f.refresh($e).each(rt=>D(de,f,rt))})}),du((de,ve)=>{const ke=ve.event.target;de.getSystem().getByDom(ke).each(Ae=>{p(Ae).indexOf("collapse-item")===0&&X(de,Ae),q(de,Ae,z.HighlightSubmenu).fold(()=>{r.onExecute(de,Ae)},ce)})}),ss((de,ve)=>{(ke=>{const Ae=((rt,At,kt)=>Dn(kt,(wt,Ht)=>{const mn=()=>Nb.sketch({...wt,value:Ht,markers:r.markers,fakeFocus:r.fakeFocus,onHighlight:(En,$n)=>{Nn(En,Cu,{menuComp:En,itemComp:$n})},onDehighlight:(En,$n)=>{Nn(En,rF,{menuComp:En,itemComp:$n})},focusManager:r.fakeFocus?F8():ME()});return Ht===At?{type:"prepared",menu:rt.getSystem().build(mn())}:{type:"notbuilt",nbMenu:mn}}))(ke,r.data.primary,r.data.menus),$e=b();return f.setContents(r.data.primary,Ae,r.data.expansions,$e),f.getPrimary()})(de).each(ke=>{qn.append(de,ol(ke)),r.onOpenMenu(de,ke),r.highlightOnOpen===al.HighlightMenuAndItem?S(de,ke):r.highlightOnOpen===al.HighlightJustMenu&&w(de,ke)})}),St(Cu,(de,ve)=>{r.onHighlightItem(de,ve.event.menuComp,ve.event.itemComp)}),St(rF,(de,ve)=>{r.onDehighlightItem(de,ve.event.menuComp,ve.event.itemComp)}),...r.navigateOnHover?[St(eA(),(de,ve)=>{const ke=ve.event.item;((Ae,$e)=>{const rt=p($e);f.refresh(rt).bind(At=>(L(Ae,At),M(Ae,f,At)))})(de,ke),q(de,ke,z.HighlightParent),r.onHover(de,ke)})]:[]]),_e=de=>Sr.getHighlighted(de).bind(Sr.getHighlighted),fe={collapseMenu:de=>{_e(de).each(ve=>{X(de,ve)})},highlightPrimary:de=>{f.getPrimary().each(ve=>{S(de,ve)})},repositionMenus:de=>{f.getPrimary().bind(ke=>_e(de).bind(Ae=>{const $e=p(Ae),rt=As(f.getMenus()),At=ea(Ye(rt,oF));return f.getTriggeringPath($e,kt=>((wt,Ht,mn)=>Vt(Ht,En=>{if(!En.getSystem().isConnected())return O.none();const $n=Sr.getCandidates(En);return J($n,io=>p(io)===mn)}))(0,At,kt))}).map(Ae=>({primary:ke,triggeringPath:Ae}))).fold(()=>{(ke=>O.from(ke.components()[0]).filter(Ae=>Lo(Ae.element,"role")==="menu"))(de).each(ke=>{r.onRepositionMenu(de,ke,[])})},({primary:ke,triggeringPath:Ae})=>{r.onRepositionMenu(de,ke,Ae)})}};return{uid:r.uid,dom:r.dom,markers:r.markers,behaviours:xo(r.tmenuBehaviours,[Ln.config({mode:"special",onRight:ue((de,ve)=>P0(ve.element)?O.none():q(de,ve,z.HighlightSubmenu)),onLeft:ue((de,ve)=>P0(ve.element)?O.none():X(de,ve)),onEscape:ue((de,ve)=>X(de,ve).orThunk(()=>r.onEscape(de,ve).map(()=>de))),focusIn:(de,ve)=>{f.getPrimary().each(ke=>{ps(de,ke.element,Lv())})}}),Sr.config({highlightClass:r.markers.selectedMenu,itemClass:r.markers.menu}),or.config({find:de=>Sr.getHighlighted(de)}),qn.config({})]),eventOrder:r.eventOrder,apis:fe,events:me}},extraApis:{tieredData:(r,a,u)=>({primary:r,menus:a,expansions:u}),singleData:(r,a)=>({primary:r,menus:lu(r,a),expansions:{}}),collapseItem:r=>({value:bn(Pb()),meta:{text:r}})}}),vs=yu({name:"InlineView",configFields:[Dt("lazySink"),Jo("onShow"),Jo("onHide"),au("onEscape"),yn("inlineBehaviours",[T,lt,wl]),Ds("fireDismissalEventInstead",[it("event",Gg())]),Ds("fireRepositionEventInstead",[it("event",Af())]),it("getRelated",O.none),it("isExtraPart",Ee),it("eventOrder",O.none)],factory:(r,a)=>{const u=(w,S,E,D)=>{const L=r.lazySink(w).getOrDie();T.openWhileCloaked(w,S,()=>ga.positionWithinBounds(L,w,E,D())),lt.setValue(w,O.some({mode:"position",config:E,getBounds:D}))},f=(w,S,E,D)=>{const L=((M,z,q,X,ue)=>{const me=()=>M.lazySink(z),_e=X.type==="horizontal"?{layouts:{onLtr:()=>p0(),onRtl:()=>v0()}}:{},fe=de=>(ve=>ve.length===2)(de)?_e:{};return bh.sketch({dom:{tag:"div"},data:X.data,markers:X.menu.markers,highlightOnOpen:X.menu.highlightOnOpen,fakeFocus:X.menu.fakeFocus,onEscape:()=>(T.close(z),M.onEscape.map(de=>de(z)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(de,ve)=>{ga.positionWithinBounds(me().getOrDie(),ve,q,ue())},onOpenSubmenu:(de,ve,ke,Ae)=>{const $e=me().getOrDie();ga.position($e,ke,{anchor:{type:"submenu",item:ve,...fe(Ae)}})},onRepositionMenu:(de,ve,ke)=>{const Ae=me().getOrDie();ga.positionWithinBounds(Ae,ve,q,ue()),Mt(ke,$e=>{const rt=fe($e.triggeringPath);ga.position(Ae,$e.triggeredMenu,{anchor:{type:"submenu",item:$e.triggeringItem,...rt}})})}})})(r,w,S,E,D);T.open(w,L),lt.setValue(w,O.some({mode:"menu",menu:L}))},p=w=>{T.isOpen(w)&&lt.getValue(w).each(S=>{switch(S.mode){case"menu":T.getState(w).each(bh.repositionMenus);break;case"position":const E=r.lazySink(w).getOrDie();ga.positionWithinBounds(E,w,S.config,S.getBounds())}})},b={setContent:(w,S)=>{T.setContent(w,S)},showAt:(w,S,E)=>{const D=O.none;u(w,S,E,D)},showWithinBounds:u,showMenuAt:(w,S,E)=>{f(w,S,E,O.none)},showMenuWithinBounds:f,hide:w=>{T.isOpen(w)&&(lt.setValue(w,O.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:r.uid,dom:r.dom,behaviours:xo(r.inlineBehaviours,[T.config({isPartOf:(w,S,E)=>xl(S,E)||((D,L)=>r.getRelated(D).exists(M=>xl(M,L)))(w,E),getAttachPoint:w=>r.lazySink(w).getOrDie(),onOpen:w=>{r.onShow(w)},onClose:w=>{r.onHide(w)}}),lt.config({store:{mode:"memory",initialValue:O.none()}}),wl.config({channels:{...se({isExtraPart:a.isExtraPart,...r.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...Ie({...r.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:r.eventOrder,apis:b}},apis:{showAt:(r,a,u,f)=>{r.showAt(a,u,f)},showWithinBounds:(r,a,u,f,p)=>{r.showWithinBounds(a,u,f,p)},showMenuAt:(r,a,u,f)=>{r.showMenuAt(a,u,f)},showMenuWithinBounds:(r,a,u,f,p)=>{r.showMenuWithinBounds(a,u,f,p)},hide:(r,a)=>{r.hide(a)},isOpen:(r,a)=>r.isOpen(a),getContent:(r,a)=>r.getContent(a),setContent:(r,a,u)=>{r.setContent(a,u)},reposition:(r,a)=>{r.reposition(a)}}});var od,m2,s_=tinymce.util.Tools.resolve("tinymce.util.Delay"),H0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Z5=tinymce.util.Tools.resolve("tinymce.EditorManager"),qf=tinymce.util.Tools.resolve("tinymce.Env");(function(r){r.default="wrap",r.floating="floating",r.sliding="sliding",r.scrolling="scrolling"})(od||(od={})),function(r){r.auto="auto",r.top="top",r.bottom="bottom"}(m2||(m2={}));const Lr=r=>a=>a.options.get(r),g2=r=>a=>O.from(r(a)),j5=r=>{const a=qf.deviceType.isPhone(),u=qf.deviceType.isTablet()||a,f=r.options.register,p=w=>v(w)||w===!1,b=w=>v(w)||te(w);f("skin",{processor:w=>v(w)||w===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:b,default:Math.max(r.getElement().offsetHeight,400)}),f("width",{processor:b,default:H0.DOM.getStyle(r.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:w=>v(w)||I(w),default:!a}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:w=>I(w)||v(w)||N(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Lt(9,w=>{f("toolbar"+(w+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:m2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:r.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:p,default:"#top"}),f("anchor_bottom",{processor:p,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:w=>w==="both"||I(w),default:!qf.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:r.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},rA=Lr("readonly"),h2=Lr("height"),p2=Lr("width"),v2=g2(Lr("min_width")),$0=g2(Lr("min_height")),U0=g2(Lr("max_width")),i_=g2(Lr("max_height")),W0=g2(Lr("style_formats")),a_=Lr("style_formats_merge"),K5=Lr("style_formats_autohide"),sA=Lr("content_langs"),G5=Lr("removed_menuitems"),Mb=Lr("toolbar_mode"),l_=Lr("toolbar_groups"),Ip=Lr("toolbar_location"),iA=Lr("fixed_toolbar_container"),sF=Lr("fixed_toolbar_container_target"),q5=Lr("toolbar_persist"),aA=Lr("toolbar_sticky_offset"),yh=Lr("menubar"),Z0=Lr("toolbar"),c_=Lr("file_picker_callback"),b2=Lr("file_picker_validator_handler"),lA=Lr("font_size_input_default_unit"),y2=Lr("file_picker_types"),u_=Lr("typeahead_urls"),Y5=Lr("anchor_top"),X5=Lr("anchor_bottom"),Yf=Lr("draggable_modal"),J5=Lr("statusbar"),Q5=Lr("elementpath"),Uc=Lr("branding"),ha=Lr("resize"),eR=Lr("paste_as_text"),d_=Lr("sidebar_show"),tR=Lr("promotion"),cA=Lr("help_accessibility"),f_=Lr("default_font_stack"),Np=r=>r.options.get("skin")===!1,x2=r=>r.options.get("menubar")!==!1,m_=r=>{const a=r.options.get("skin_url");if(Np(r))return a;if(a)return r.documentBaseURI.toAbsolute(a);{const u=r.options.get("skin");return Z5.baseURL+"/skins/ui/"+u}},g_=r=>O.from(r.options.get("skin_url")),nR=r=>r.options.get("line_height_formats").split(" "),w2=r=>{const a=Z0(r),u=v(a),f=N(a)&&a.length>0;return!C2(r)&&(f||u||a===!0)},h_=r=>{const a=Lt(9,f=>r.options.get("toolbar"+(f+1))),u=zn(a,v);return ar(u.length>0,u)},C2=r=>h_(r).fold(()=>{const a=Z0(r);return ae(a,v)&&a.length>0},Fe),uA=r=>Ip(r)===m2.bottom,dA=r=>{var a;if(!r.inline)return O.none();const u=(a=iA(r))!==null&&a!==void 0?a:"";if(u.length>0)return fs(vn(),u);const f=sF(r);return G(f)?O.some(sn(f)):O.none()},Bb=r=>r.inline&&dA(r).isSome(),p_=r=>dA(r).getOrThunk(()=>Qe(ut(sn(r.getElement())))),v_=r=>r.inline&&!x2(r)&&!w2(r)&&!C2(r),xh=r=>(r.options.get("toolbar_sticky")||r.inline)&&!Bb(r)&&!v_(r),wh=r=>!Bb(r)&&r.options.get("ui_mode")==="split",Pp=r=>{const a=r.options.get("menu");return Dn(a,u=>({...u,items:u.items}))};var _2=Object.freeze({__proto__:null,get ToolbarMode(){return od},get ToolbarLocation(){return m2},register:j5,getSkinUrl:m_,getSkinUrlOption:g_,isReadOnly:rA,isSkinDisabled:Np,getHeightOption:h2,getWidthOption:p2,getMinWidthOption:v2,getMinHeightOption:$0,getMaxWidthOption:U0,getMaxHeightOption:i_,getUserStyleFormats:W0,shouldMergeStyleFormats:a_,shouldAutoHideStyleFormats:K5,getLineHeightFormats:nR,getContentLanguages:sA,getRemovedMenuItems:G5,isMenubarEnabled:x2,isMultipleToolbars:C2,isToolbarEnabled:w2,isToolbarPersist:q5,getMultipleToolbarsOption:h_,getUiContainer:p_,useFixedContainer:Bb,isSplitUiMode:wh,getToolbarMode:Mb,isDraggableModal:Yf,isDistractionFree:v_,isStickyToolbar:xh,getStickyToolbarOffset:aA,getToolbarLocation:Ip,isToolbarLocationBottom:uA,getToolbarGroups:l_,getMenus:Pp,getMenubar:yh,getToolbar:Z0,getFilePickerCallback:c_,getFilePickerTypes:y2,useTypeaheadUrls:u_,getAnchorTop:Y5,getAnchorBottom:X5,getFilePickerValidatorHandler:b2,getFontSizeInputDefaultUnit:lA,useStatusBar:J5,useElementPath:Q5,promotionEnabled:tR,useBranding:Uc,getResize:ha,getPasteAsText:eR,getSidebarShow:d_,useHelpAccessibility:cA,getDefaultFontStack:f_});const iF=["visible","hidden","clip"],oR=r=>_c(r).length>0&&!tt(iF,r),rR=r=>{if(ml(r)){const a=ws(r,"overflow-x"),u=ws(r,"overflow-y");return oR(a)||oR(u)}return!1},Mp=(r,a)=>wh(r)?((u,f)=>{const p=kp(f,rR),b=p.length===0?Wt(f).map(nn).map(w=>kp(w,rR)).getOr([]):p;return zt(b).map(w=>({element:w,others:b.slice(1),isFullscreen:()=>(S=>S.plugins.fullscreen&&S.plugins.fullscreen.isFullscreen())(u)}))})(r,a):O.none(),Bp=r=>{const a=[...Ye(r.others,ai),Ui()];return r.isFullscreen()?Ui():((u,f)=>kn(f,(p,b)=>Dd(p,b),u))(ai(r.element),a)},Wa=yu({name:"Button",factory:r=>{const a=z0(r.action),u=r.dom.tag,f=p=>hn(r.dom,"attributes").bind(b=>hn(b,p));return{uid:r.uid,dom:r.dom,components:r.components,events:a,behaviours:Jn(r.buttonBehaviours,[no.config({}),Ln.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:f("type").getOr("button"),...f("role").map(p=>({role:p})).getOr({})}:{role:r.role.getOr(f("role").getOr("button"))}},eventOrder:r.eventOrder}},configFields:[it("uid",void 0),Dt("dom"),it("components",[]),ro("buttonBehaviours",[no,Ln]),Go("action"),Go("role"),it("eventOrder",{})]}),rg=r=>{const a=Kl(r),u=Pr(a),f=(w=>{const S=w.dom.attributes!==void 0?w.dom.attributes:[];return kn(S,(E,D)=>D.name==="class"?E:{...E,[D.name]:D.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),b=u.length===0?{}:{innerHtml:Fd(a)};return{tag:qa(a),classes:p,attributes:f,...b}},kr=r=>{const a=(u=>u.uid!==void 0)(r)&&bo(r,"uid")?r.uid:Bc("memento");return{get:u=>u.getSystem().getByUid(a).getOrDie(),getOpt:u=>u.getSystem().getByUid(a).toOptional(),asSpec:()=>({...r,uid:a})}};var aF=Object.freeze({__proto__:null,exhibit:(r,a)=>Ks({attributes:Pd([{key:a.tabAttr,value:"true"}])})}),sR=[it("tabAttr","data-alloy-tabstop")];const Zr=Ni({fields:sR,name:"tabstopping",active:aF}),fA=bn("tooltip.exclusive"),k2=bn("tooltip.show"),S2=bn("tooltip.hide"),E2=bn("tooltip.immediateHide"),A2=bn("tooltip.immediateShow"),iR=(r,a,u)=>{r.getSystem().broadcastOn([fA],{})};var lF=Object.freeze({__proto__:null,hideAllExclusive:iR,immediateOpenClose:(r,a,u,f)=>Ao(r,f?A2:E2),isEnabled:(r,a,u)=>u.isEnabled(),setComponents:(r,a,u,f)=>{u.getTooltip().each(p=>{p.getSystem().isConnected()&&qn.set(p,f)})},setEnabled:(r,a,u,f)=>u.setEnabled(f)}),cF=Object.freeze({__proto__:null,events:(r,a)=>{const u=b=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(sl(w),r.onHide(b,w),a.clearTooltip())}),a.clearTimer()},f=b=>{if(!a.isShowing()&&a.isEnabled()){iR(b);const w=r.lazySink(b).getOrDie(),S=b.getSystem().build({dom:r.tooltipDom,components:r.tooltipComponents,events:fo(r.mode==="normal"?[St(On(),E=>{Ao(b,k2)}),St(po(),E=>{Ao(b,S2)})]:[]),behaviours:Zt([qn.config({})])});a.setTooltip(S),Wf(w,S),r.onShow(b,S),ga.position(w,S,{anchor:r.anchor(b)})}},p=b=>{a.getTooltip().each(w=>{const S=r.lazySink(b).getOrDie();ga.position(S,w,{anchor:r.anchor(b)})})};return fo(eo([[q1(b=>{r.onSetup(b)}),St(k2,b=>{a.resetTimer(()=>{f(b)},r.delayForShow())}),St(S2,b=>{a.resetTimer(()=>{u(b)},r.delayForHide())}),St(A2,b=>{a.resetTimer(()=>{f(b)},0)}),St(E2,b=>{a.resetTimer(()=>{u(b)},0)}),St(ic(),(b,w)=>{const S=w;S.universal||tt(S.channels,fA)&&u(b)}),Xu(b=>{u(b)})],(()=>{switch(r.mode){case"normal":return[St(xr(),b=>{Ao(b,A2)}),St(lp(),b=>{Ao(b,E2)}),St(On(),b=>{Ao(b,k2)}),St(po(),b=>{Ao(b,S2)})];case"follow-highlight":return[St(lx(),(b,w)=>{Ao(b,k2)}),St(Tf(),b=>{Ao(b,S2)})];case"children-normal":return[St(xr(),(b,w)=>{Ys(b.element).each(S=>{Xc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{Ao(b,A2)},E=>{a.isShowing()&&(r.onShow(b,E),p(b))})})}),St(lp(),b=>{Ys(b.element).fold(()=>{Ao(b,E2)},ce)}),St(On(),b=>{fs(b.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{Ao(b,k2)},S=>{a.isShowing()&&(r.onShow(b,S),p(b))})})}),St(po(),b=>{fs(b.element,"[data-mce-tooltip]:hover").fold(()=>{Ao(b,S2)},ce)})];default:return[St(xr(),(b,w)=>{Ys(b.element).each(S=>{Xc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{Ao(b,A2)},E=>{a.isShowing()&&(r.onShow(b,E),p(b))})})}),St(lp(),b=>{Ys(b.element).fold(()=>{Ao(b,E2)},ce)})]}})()]))}}),uF=[Dt("lazySink"),Dt("tooltipDom"),it("exclusive",!0),it("tooltipComponents",[]),es("delayForShow",ee(300)),es("delayForHide",ee(300)),es("onSetup",ce),Tc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),it("anchor",r=>({type:"hotspot",hotspot:r,layouts:{onLtr:ee([qs,Es,Ns,ni,Ps,Br]),onRtl:ee([qs,Es,Ns,ni,Ps,Br])},bubble:cc(0,-2,{})})),Jo("onHide"),Jo("onShow")],dF=Object.freeze({__proto__:null,init:()=>{const r=Vn(!0),a=Tr(),u=Tr(),f=()=>{a.on(clearTimeout)},p=ee("not-implemented");return Ii({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:f,resetTimer:(b,w)=>{f(),a.set(setTimeout(b,w))},readState:p,isEnabled:()=>r.get(),setEnabled:b=>r.set(b)})}});const ri=Ni({fields:uF,name:"tooltipping",active:cF,state:dF,apis:lF}),{entries:aR,setPrototypeOf:mA,isFrozen:lR,getPrototypeOf:cR,getOwnPropertyDescriptor:fF}=Object;let{freeze:dc,seal:Xf,create:uR}=Object,{apply:gA,construct:hA}=typeof Reflect<"u"&&Reflect;gA||(gA=function(r,a,u){return r.apply(a,u)}),dc||(dc=function(r){return r}),Xf||(Xf=function(r){return r}),hA||(hA=function(r,a){return new r(...a)});const pA=Gd(Array.prototype.forEach),mF=Gd(Array.prototype.pop),T2=Gd(Array.prototype.push),b_=Gd(String.prototype.toLowerCase),y_=Gd(String.prototype.toString),gF=Gd(String.prototype.match),dn=Gd(String.prototype.replace),Lb=Gd(String.prototype.indexOf),hF=Gd(String.prototype.trim),_u=Gd(RegExp.prototype.test),Lp=(x_=TypeError,function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return hA(x_,a)});var x_;function Gd(r){return function(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return gA(r,a,f)}}function zr(r,a,u){var f;u=(f=u)!==null&&f!==void 0?f:b_,mA&&mA(r,null);let p=a.length;for(;p--;){let b=a[p];if(typeof b=="string"){const w=u(b);w!==b&&(lR(a)||(a[p]=w),b=w)}r[b]=!0}return r}function j0(r){const a=uR(null);for(const[u,f]of aR(r))a[u]=f;return a}function w_(r,a){for(;r!==null;){const u=fF(r,a);if(u){if(u.get)return Gd(u.get);if(typeof u.value=="function")return Gd(u.value)}r=cR(r)}return function(u){return console.warn("fallback value for",u),null}}const vA=dc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O2=dc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fb=dc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dR=dc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bA=dc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pF=dc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fR=dc(["#text"]),vF=dc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C_=dc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mR=dc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),__=dc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bF=Xf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yF=Xf(/<%[\w\W]*|[\w\W]*%>/gm),yA=Xf(/\${[\w\W]*}/gm),xF=Xf(/^data-[\-\w.\u00B7-\uFFFF]/),wF=Xf(/^aria-[\-\w]+$/),gR=Xf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CF=Xf(/^(?:\w+script|data):/i),_F=Xf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sg=Xf(/^html$/i);var D2=Object.freeze({__proto__:null,MUSTACHE_EXPR:bF,ERB_EXPR:yF,TMPLIT_EXPR:yA,DATA_ATTR:xF,ARIA_ATTR:wF,IS_ALLOWED_URI:gR,IS_SCRIPT_OR_DATA:CF,ATTR_WHITESPACE:_F,DOCTYPE_NAME:sg});const kF=()=>typeof window>"u"?null:window;var SF=function r(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kF();const u=ft=>r(ft);if(u.version="3.0.5",u.removed=[],!a||!a.document||a.document.nodeType!==9)return u.isSupported=!1,u;const f=a.document,p=f.currentScript;let{document:b}=a;const{DocumentFragment:w,HTMLTemplateElement:S,Node:E,Element:D,NodeFilter:L,NamedNodeMap:M=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:z,DOMParser:q,trustedTypes:X}=a,ue=D.prototype,me=w_(ue,"cloneNode"),_e=w_(ue,"nextSibling"),fe=w_(ue,"childNodes"),de=w_(ue,"parentNode");if(typeof S=="function"){const ft=b.createElement("template");ft.content&&ft.content.ownerDocument&&(b=ft.content.ownerDocument)}let ve,ke="";const{implementation:Ae,createNodeIterator:$e,createDocumentFragment:rt,getElementsByTagName:At}=b,{importNode:kt}=f;let wt={};u.isSupported=typeof aR=="function"&&typeof de=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ht,ERB_EXPR:mn,TMPLIT_EXPR:En,DATA_ATTR:$n,ARIA_ATTR:io,IS_SCRIPT_OR_DATA:zo,ATTR_WHITESPACE:ns}=D2;let{IS_ALLOWED_URI:ms}=D2,Eo=null;const Qo=zr({},[...vA,...O2,...Fb,...bA,...fR]);let Gn=null;const gs=zr({},[...vF,...C_,...mR,...__]);let Fr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Za=null,ja=null,Yi=!0,Bi=!0,Ph=!1,_y=!0,sv=!1,Mh=!1,Lw=!1,iv=!1,xg=!1,f1=!1,m1=!1,ky=!0,lS=!1,Fw=!0,av=!1,wg={},Bh=null;const Vw=zr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zw=null;const hr=zr({},["audio","video","img","source","image","track"]);let Cg=null;const nf=zr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),g1="http://www.w3.org/1998/Math/MathML",cS="http://www.w3.org/2000/svg",Lh="http://www.w3.org/1999/xhtml";let Sy=Lh,fO=!1,uS=null;const R9=zr({},[g1,cS,Lh],y_);let Ey;const I9=["application/xhtml+xml","text/html"];let El,h1=null;const N9=b.createElement("form"),HM=function(ft){return ft instanceof RegExp||ft instanceof Function},dS=function(ft){if(!h1||h1!==ft){if(ft&&typeof ft=="object"||(ft={}),ft=j0(ft),Ey=Ey=I9.indexOf(ft.PARSER_MEDIA_TYPE)===-1?"text/html":ft.PARSER_MEDIA_TYPE,El=Ey==="application/xhtml+xml"?y_:b_,Eo="ALLOWED_TAGS"in ft?zr({},ft.ALLOWED_TAGS,El):Qo,Gn="ALLOWED_ATTR"in ft?zr({},ft.ALLOWED_ATTR,El):gs,uS="ALLOWED_NAMESPACES"in ft?zr({},ft.ALLOWED_NAMESPACES,y_):R9,Cg="ADD_URI_SAFE_ATTR"in ft?zr(j0(nf),ft.ADD_URI_SAFE_ATTR,El):nf,zw="ADD_DATA_URI_TAGS"in ft?zr(j0(hr),ft.ADD_DATA_URI_TAGS,El):hr,Bh="FORBID_CONTENTS"in ft?zr({},ft.FORBID_CONTENTS,El):Vw,Za="FORBID_TAGS"in ft?zr({},ft.FORBID_TAGS,El):{},ja="FORBID_ATTR"in ft?zr({},ft.FORBID_ATTR,El):{},wg="USE_PROFILES"in ft&&ft.USE_PROFILES,Yi=ft.ALLOW_ARIA_ATTR!==!1,Bi=ft.ALLOW_DATA_ATTR!==!1,Ph=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,_y=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,sv=ft.SAFE_FOR_TEMPLATES||!1,Mh=ft.WHOLE_DOCUMENT||!1,xg=ft.RETURN_DOM||!1,f1=ft.RETURN_DOM_FRAGMENT||!1,m1=ft.RETURN_TRUSTED_TYPE||!1,iv=ft.FORCE_BODY||!1,ky=ft.SANITIZE_DOM!==!1,lS=ft.SANITIZE_NAMED_PROPS||!1,Fw=ft.KEEP_CONTENT!==!1,av=ft.IN_PLACE||!1,ms=ft.ALLOWED_URI_REGEXP||gR,Sy=ft.NAMESPACE||Lh,Fr=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fr.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&HM(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fr.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fr.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),sv&&(Bi=!1),f1&&(xg=!0),wg&&(Eo=zr({},[...fR]),Gn=[],wg.html===!0&&(zr(Eo,vA),zr(Gn,vF)),wg.svg===!0&&(zr(Eo,O2),zr(Gn,C_),zr(Gn,__)),wg.svgFilters===!0&&(zr(Eo,Fb),zr(Gn,C_),zr(Gn,__)),wg.mathMl===!0&&(zr(Eo,bA),zr(Gn,mR),zr(Gn,__))),ft.ADD_TAGS&&(Eo===Qo&&(Eo=j0(Eo)),zr(Eo,ft.ADD_TAGS,El)),ft.ADD_ATTR&&(Gn===gs&&(Gn=j0(Gn)),zr(Gn,ft.ADD_ATTR,El)),ft.ADD_URI_SAFE_ATTR&&zr(Cg,ft.ADD_URI_SAFE_ATTR,El),ft.FORBID_CONTENTS&&(Bh===Vw&&(Bh=j0(Bh)),zr(Bh,ft.FORBID_CONTENTS,El)),Fw&&(Eo["#text"]=!0),Mh&&zr(Eo,["html","head","body"]),Eo.table&&(zr(Eo,["tbody"]),delete Za.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=ft.TRUSTED_TYPES_POLICY,ke=ve.createHTML("")}else ve===void 0&&(ve=function(Un,mo){if(typeof Un!="object"||typeof Un.createPolicy!="function")return null;let os=null;const Xs="data-tt-policy-suffix";mo&&mo.hasAttribute(Xs)&&(os=mo.getAttribute(Xs));const ci="dompurify"+(os?"#"+os:"");try{return Un.createPolicy(ci,{createHTML:si=>si,createScriptURL:si=>si})}catch{return console.warn("TrustedTypes policy "+ci+" could not be created."),null}}(X,p)),ve!==null&&typeof ke=="string"&&(ke=ve.createHTML(""));dc&&dc(ft),h1=ft}},$M=zr({},["mi","mo","mn","ms","mtext"]),UM=zr({},["foreignobject","desc","title","annotation-xml"]),uo=zr({},["title","style","font","a","script"]),lv=zr({},O2);zr(lv,Fb),zr(lv,dR);const fS=zr({},bA);zr(fS,pF);const cv=function(ft){T2(u.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{ft.remove()}},Ay=function(ft,Un){try{T2(u.removed,{attribute:Un.getAttributeNode(ft),from:Un})}catch{T2(u.removed,{attribute:null,from:Un})}if(Un.removeAttribute(ft),ft==="is"&&!Gn[ft])if(xg||f1)try{cv(Un)}catch{}else try{Un.setAttribute(ft,"")}catch{}},mO=function(ft){let Un,mo;if(iv)ft="<remove></remove>"+ft;else{const ci=gF(ft,/^[\r\n\t ]+/);mo=ci&&ci[0]}Ey==="application/xhtml+xml"&&Sy===Lh&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const os=ve?ve.createHTML(ft):ft;if(Sy===Lh)try{Un=new q().parseFromString(os,Ey)}catch{}if(!Un||!Un.documentElement){Un=Ae.createDocument(Sy,"template",null);try{Un.documentElement.innerHTML=fO?ke:os}catch{}}const Xs=Un.body||Un.documentElement;return ft&&mo&&Xs.insertBefore(b.createTextNode(mo),Xs.childNodes[0]||null),Sy===Lh?At.call(Un,Mh?"html":"body")[0]:Mh?Un.documentElement:Xs},gO=function(ft){return $e.call(ft.ownerDocument||ft,ft,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},hO=function(ft){return typeof E=="object"?ft instanceof E:ft&&typeof ft=="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},hd=function(ft,Un,mo){wt[ft]&&pA(wt[ft],os=>{os.call(u,Un,mo,h1)})},WM=function(ft){let Un;if(hd("beforeSanitizeElements",ft,null),(mo=ft)instanceof z&&(typeof mo.nodeName!="string"||typeof mo.textContent!="string"||typeof mo.removeChild!="function"||!(mo.attributes instanceof M)||typeof mo.removeAttribute!="function"||typeof mo.setAttribute!="function"||typeof mo.namespaceURI!="string"||typeof mo.insertBefore!="function"||typeof mo.hasChildNodes!="function"))return cv(ft),!0;var mo;const os=El(ft.nodeName);if(hd("uponSanitizeElement",ft,{tagName:os,allowedTags:Eo}),ft.hasChildNodes()&&!hO(ft.firstElementChild)&&(!hO(ft.content)||!hO(ft.content.firstElementChild))&&_u(/<[/\w]/g,ft.innerHTML)&&_u(/<[/\w]/g,ft.textContent))return cv(ft),!0;if(!Eo[os]||Za[os]){if(!Za[os]&&ZM(os)&&(Fr.tagNameCheck instanceof RegExp&&_u(Fr.tagNameCheck,os)||Fr.tagNameCheck instanceof Function&&Fr.tagNameCheck(os)))return!1;if(Fw&&!Bh[os]){const Xs=de(ft)||ft.parentNode,ci=fe(ft)||ft.childNodes;if(ci&&Xs)for(let si=ci.length-1;si>=0;--si)Xs.insertBefore(me(ci[si],!0),_e(ft))}return cv(ft),!0}return ft instanceof D&&!function(Xs){let ci=de(Xs);ci&&ci.tagName||(ci={namespaceURI:Sy,tagName:"template"});const si=b_(Xs.tagName),Si=b_(ci.tagName);return!!uS[Xs.namespaceURI]&&(Xs.namespaceURI===cS?ci.namespaceURI===Lh?si==="svg":ci.namespaceURI===g1?si==="svg"&&(Si==="annotation-xml"||$M[Si]):!!lv[si]:Xs.namespaceURI===g1?ci.namespaceURI===Lh?si==="math":ci.namespaceURI===cS?si==="math"&&UM[Si]:!!fS[si]:Xs.namespaceURI===Lh?!(ci.namespaceURI===cS&&!UM[Si])&&!(ci.namespaceURI===g1&&!$M[Si])&&!fS[si]&&(uo[si]||!lv[si]):!(Ey!=="application/xhtml+xml"||!uS[Xs.namespaceURI]))}(ft)?(cv(ft),!0):os!=="noscript"&&os!=="noembed"&&os!=="noframes"||!_u(/<\/no(script|embed|frames)/i,ft.innerHTML)?(sv&&ft.nodeType===3&&(Un=ft.textContent,Un=dn(Un,Ht," "),Un=dn(Un,mn," "),Un=dn(Un,En," "),ft.textContent!==Un&&(T2(u.removed,{element:ft.cloneNode()}),ft.textContent=Un)),hd("afterSanitizeElements",ft,null),!1):(cv(ft),!0)},pO=function(ft,Un,mo){if(ky&&(Un==="id"||Un==="name")&&(mo in b||mo in N9))return!1;if(!(Bi&&!ja[Un]&&_u($n,Un))){if(!(Yi&&_u(io,Un))){if(!Gn[Un]||ja[Un]){if(!(ZM(ft)&&(Fr.tagNameCheck instanceof RegExp&&_u(Fr.tagNameCheck,ft)||Fr.tagNameCheck instanceof Function&&Fr.tagNameCheck(ft))&&(Fr.attributeNameCheck instanceof RegExp&&_u(Fr.attributeNameCheck,Un)||Fr.attributeNameCheck instanceof Function&&Fr.attributeNameCheck(Un))||Un==="is"&&Fr.allowCustomizedBuiltInElements&&(Fr.tagNameCheck instanceof RegExp&&_u(Fr.tagNameCheck,mo)||Fr.tagNameCheck instanceof Function&&Fr.tagNameCheck(mo))))return!1}else if(!Cg[Un]){if(!_u(ms,dn(mo,ns,""))){if((Un!=="src"&&Un!=="xlink:href"&&Un!=="href"||ft==="script"||Lb(mo,"data:")!==0||!zw[ft])&&!(Ph&&!_u(zo,dn(mo,ns,"")))){if(mo)return!1}}}}}return!0},ZM=function(ft){return ft.indexOf("-")>0},jM=function(ft){let Un,mo,os,Xs;hd("beforeSanitizeAttributes",ft,null);const{attributes:ci}=ft;if(!ci)return;const si={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gn};for(Xs=ci.length;Xs--;){Un=ci[Xs];const{name:Si,namespaceURI:Ty}=Un;mo=Si==="value"?Un.value:hF(Un.value);const M9=mo;if(os=El(Si),si.attrName=os,si.attrValue=mo,si.keepAttr=!0,si.forceKeepAttr=void 0,hd("uponSanitizeAttribute",ft,si),mo=si.attrValue,si.forceKeepAttr)continue;if(!si.keepAttr){Ay(Si,ft);continue}if(!_y&&_u(/\/>/i,mo)){Ay(Si,ft);continue}sv&&(mo=dn(mo,Ht," "),mo=dn(mo,mn," "),mo=dn(mo,En," "));const KM=El(ft.nodeName);if(pO(KM,os,mo)){if(!lS||os!=="id"&&os!=="name"||(Ay(Si,ft),mo="user-content-"+mo),ve&&typeof X=="object"&&typeof X.getAttributeType=="function"&&!Ty)switch(X.getAttributeType(KM,os)){case"TrustedHTML":mo=ve.createHTML(mo);break;case"TrustedScriptURL":mo=ve.createScriptURL(mo)}if(mo!==M9)try{Ty?ft.setAttributeNS(Ty,Si,mo):ft.setAttribute(Si,mo)}catch{Ay(Si,ft)}}else Ay(Si,ft)}hd("afterSanitizeAttributes",ft,null)},P9=function ft(Un){let mo;const os=gO(Un);for(hd("beforeSanitizeShadowDOM",Un,null);mo=os.nextNode();)hd("uponSanitizeShadowNode",mo,null),WM(mo)||(mo.content instanceof w&&ft(mo.content),jM(mo));hd("afterSanitizeShadowDOM",Un,null)};return u.sanitize=function(ft){let Un,mo,os,Xs,ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fO=!ft,fO&&(ft="<!-->"),typeof ft!="string"&&!hO(ft)){if(typeof ft.toString!="function")throw Lp("toString is not a function");if(typeof(ft=ft.toString())!="string")throw Lp("dirty is not a string, aborting")}if(!u.isSupported)return ft;if(Lw||dS(ci),u.removed=[],typeof ft=="string"&&(av=!1),av){if(ft.nodeName){const Ty=El(ft.nodeName);if(!Eo[Ty]||Za[Ty])throw Lp("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof E)Un=mO("<!---->"),mo=Un.ownerDocument.importNode(ft,!0),mo.nodeType===1&&mo.nodeName==="BODY"||mo.nodeName==="HTML"?Un=mo:Un.appendChild(mo);else{if(!xg&&!sv&&!Mh&&ft.indexOf("<")===-1)return ve&&m1?ve.createHTML(ft):ft;if(Un=mO(ft),!Un)return xg?null:m1?ke:""}Un&&iv&&cv(Un.firstChild);const si=gO(av?ft:Un);for(;os=si.nextNode();)WM(os)||(os.content instanceof w&&P9(os.content),jM(os));if(av)return ft;if(xg){if(f1)for(Xs=rt.call(Un.ownerDocument);Un.firstChild;)Xs.appendChild(Un.firstChild);else Xs=Un;return(Gn.shadowroot||Gn.shadowrootmode)&&(Xs=kt.call(f,Xs,!0)),Xs}let Si=Mh?Un.outerHTML:Un.innerHTML;return Mh&&Eo["!doctype"]&&Un.ownerDocument&&Un.ownerDocument.doctype&&Un.ownerDocument.doctype.name&&_u(sg,Un.ownerDocument.doctype.name)&&(Si="<!DOCTYPE "+Un.ownerDocument.doctype.name+`>
`+Si),sv&&(Si=dn(Si,Ht," "),Si=dn(Si,mn," "),Si=dn(Si,En," ")),ve&&m1?ve.createHTML(Si):Si},u.setConfig=function(ft){dS(ft),Lw=!0},u.clearConfig=function(){h1=null,Lw=!1},u.isValidAttribute=function(ft,Un,mo){h1||dS({});const os=El(ft),Xs=El(Un);return pO(os,Xs,mo)},u.addHook=function(ft,Un){typeof Un=="function"&&(wt[ft]=wt[ft]||[],T2(wt[ft],Un))},u.removeHook=function(ft){if(wt[ft])return mF(wt[ft])},u.removeHooks=function(ft){wt[ft]&&(wt[ft]=[])},u.removeAllHooks=function(){wt={}},u}();const hR=r=>SF().sanitize(r);var rd=tinymce.util.Tools.resolve("tinymce.util.I18n");const EF={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pR="temporary-placeholder",xA=r=>()=>hn(r,pR).getOr("!not found!"),Fp=(r,a)=>{const u=r.toLowerCase();if(rd.isRtl()){const f=((p,b)=>Mu(p,b)?p:((w,S)=>w+S)(p,b))(u,"-rtl");return To(a,f)?f:u}return u},R2=(r,a)=>hn(a,Fp(r,a)),vR=(r,a)=>{const u=a();return R2(r,u).getOrThunk(xA(u))},k_=()=>_o("add-focusable",[ss(r=>{m0(r.element,"svg").each(a=>rn(a,"focusable","false"))})]),bR=(r,a,u,f)=>{var p,b;const w=(E=>!!rd.isRtl()&&To(EF,E))(a)?["tox-icon--flip"]:[],S=hn(u,Fp(a,u)).or(f).getOrThunk(xA(u));return{dom:{tag:r.tag,attributes:(p=r.attributes)!==null&&p!==void 0?p:{},classes:r.classes.concat(w),innerHtml:S},behaviours:Zt([...(b=r.behaviours)!==null&&b!==void 0?b:[],k_()])}},Wc=(r,a,u,f=O.none())=>bR(a,r,u(),f),AF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},wA=yu({name:"Notification",factory:r=>{const a=bn("notification-text"),u=kr({dom:rg(`<p id=${a}>${hR(r.backstageProvider.translate(r.text))}</p>`),behaviours:Zt([qn.config({})])}),f=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),p=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),b=kr({dom:{tag:"div",classes:r.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},p(0)],behaviours:Zt([qn.config({})])}),w={updateProgress:(M,z)=>{M.getSystem().isConnected()&&b.getOpt(M).each(q=>{qn.set(q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(z)]},p(z)])})},updateText:(M,z)=>{if(M.getSystem().isConnected()){const q=u.get(M);qn.set(q,[Vs(z)])}}},S=eo([r.icon.toArray(),r.level.toArray(),r.level.bind(M=>O.from(AF[M])).toArray()]),E=kr(Wa.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":r.backstageProvider.translate("Close")}},components:[Wc("close",{tag:"span",classes:["tox-icon"]},r.iconProvider)],buttonBehaviours:Zt([Zr.config({}),ri.config({...r.backstageProvider.tooltips.getConfig({tooltipText:r.backstageProvider.translate("Close")})})]),action:M=>{r.onAction(M)}})),D=((M,z,q)=>{const X=q(),ue=J(M,me=>To(X,Fp(me,X)));return bR({tag:"div",classes:["tox-notification__icon"]},ue.getOr(pR),X,O.none())})(S,0,r.iconProvider),L=[D,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:Zt([qn.config({})])}];return{uid:r.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:r.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([Zr.config({}),no.config({}),Ln.config({mode:"special",onEscape:M=>(r.onAction(M),O.some(!0))})]),components:L.concat(r.progress?[b.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[Go("level"),Dt("progress"),Go("icon"),Dt("onAction"),Dt("text"),Dt("iconProvider"),Dt("backstageProvider")],apis:{updateProgress:(r,a,u)=>{r.updateProgress(a,u)},updateText:(r,a,u)=>{r.updateText(a,u)}}});var yR=(r,a,u,f)=>{const p=a.backstage.shared,b=()=>sn(r.queryCommandValue("ToggleView")===""?r.getContentAreaContainer():r.getContainer()),w=()=>{const E=ai(b());return O.some(E)},S=E=>{w().each(D=>{Mt(E,L=>{_r(L.element,"width"),Oi(L.element)>D.width&&co(L.element,"width",D.width+"px")})})};return{open:(E,D,L)=>{const M=()=>{f.on(X=>{D();const ue=L();(me=>{qn.remove(me,z),q()})(X),((me,_e)=>{Pr(me.element).length===0?((fe,de)=>{vs.hide(fe),f.clear(),de&&r.focus()})(me,_e):((fe,de)=>{de&&Ln.focusIn(fe)})(me,_e)})(X,ue)})},z=Ki(wA.sketch({text:E.text,level:tt(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(f.isSet()){const X=ol(z);f.on(ue=>{qn.append(ue,X),vs.reposition(ue),ds.refresh(ue),S(ue.components())})}else{const X=Ki(vs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Ln.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),qn.config({}),...xh(r)&&!p.header.isPositionedAtTop()?[]:[ds.config({contextual:{lazyContext:()=>O.some(ai(b())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:fe=>Mp(r,fe.element).map(de=>({bounds:Bp(de),optScrollEnv:O.some({currentScrollTop:de.element.dom.scrollTop,scrollElmTop:Bl(de.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]])})),ue=ol(z),me={maxHeightFunction:dh()},_e={...p.anchors.banner(),overrides:me};f.set(X),u.add(X),vs.showWithinBounds(X,ue,{anchor:_e},w)}te(E.timeout)&&E.timeout>0&&s_.setEditorTimeout(r,()=>{M()},E.timeout);const q=()=>{f.on(X=>{vs.reposition(X),ds.refresh(X),S(X.components())})};return{close:M,reposition:q,text:X=>{wA.updateText(z,X)},settings:E,getEl:()=>z.element.dom,progressBar:{value:X=>{wA.updateProgress(z,X)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},I2;(function(r){r[r.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",r[r.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(I2||(I2={}));var Jf=I2;const S_="tox-menu-nav__js",E_="tox-collection__item",xR="tox-swatch",wR={normal:S_,color:xR},CR="tox-collection__item--enabled",_R="tox-collection__item-icon",N2="tox-collection__item-label",CA="tox-collection__item-caret",ig="tox-collection__item--active",P2="tox-collection__item-container",M2="tox-collection__item-container--row",Vp=r=>hn(wR,r).getOr(S_),wW=r=>r==="color"?"tox-swatches":"tox-menu",_A=r=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:wW(r),tieredMenu:"tox-tiered-menu"}),Vb=r=>{const a=_A(r);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:Vp(r)}},kR=(r,a,u)=>{const f=_A(u);return{tag:"div",classes:eo([[f.menu,`tox-menu-${a}-column`],r?[f.hasIcons]:[]])}},SR=[Nb.parts.items({})],A_=(r,a,u)=>{const f=_A(u);return{dom:{tag:"div",classes:eo([[f.tieredMenu]])},markers:Vb(u)}},TF=ee([Go("data"),it("inputAttributes",{}),it("inputStyles",{}),it("tag","input"),it("inputClasses",[]),Jo("onSetValue"),it("styles",{}),it("eventOrder",{}),yn("inputBehaviours",[lt,no]),it("selectOnFocus",!0)]),OF=r=>Zt([no.config({onFocus:r.selectOnFocus?a=>{const u=a.element,f=Nf(u);u.dom.setSelectionRange(0,f.length)}:ce})]),DF=r=>({...OF(r),...xo(r.inputBehaviours,[lt.config({store:{mode:"manual",...r.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>Nf(a.element),setValue:(a,u)=>{Nf(a.element)!==u&&Hm(a.element,u)}},onSetValue:r.onSetValue})])}),ER=r=>({tag:r.tag,attributes:{type:"text",...r.inputAttributes},styles:r.inputStyles,classes:r.inputClasses}),Ch=yu({name:"Input",configFields:TF(),factory:(r,a)=>({uid:r.uid,dom:ER(r),components:[],behaviours:DF(r),eventOrder:r.eventOrder})}),AR=bn("refetch-trigger-event"),TR=bn("redirect-menu-item-interaction"),OR="tox-menu__searcher",B2=r=>fs(r.element,`.${OR}`).bind(a=>r.getSystem().getByDom(a).toOptional()),DR=B2,RR=r=>({fetchPattern:lt.getValue(r),selectionStart:r.element.dom.selectionStart,selectionEnd:r.element.dom.selectionEnd}),IR=r=>{const a=(p,b)=>(b.cut(),O.none()),u=(p,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Nn(p,TR,w),O.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[E_]},components:[Ch.sketch({inputClasses:[OR,"tox-textfield"],inputAttributes:{...r.placeholder.map(p=>({placeholder:r.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Zt([_o(f,[St(Nm(),p=>{Ao(p,AR)}),St(ks(),(p,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Ln.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[f,Ln.name()]}})]}},L2="tox-collection--results__js",NR=r=>{var a;return r.dom?{...r,dom:{...r.dom,attributes:{...(a=r.dom.attributes)!==null&&a!==void 0?a:{},id:bn("aria-item-search-result-id"),"aria-selected":"false"}}}:r},T_=(r,a)=>u=>{const f=nt(u,a);return Ye(f,p=>({dom:r,components:p}))},PR=(r,a)=>{const u=[];let f=[];return Mt(r,(p,b)=>{a(p,b)?(f.length>0&&u.push(f),f=[],(To(p.dom,"innerHtml")||p.components&&p.components.length>0)&&f.push(p)):f.push(p)}),f.length>0&&u.push(f),Ye(u,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},F2=(r,a,u)=>Nb.parts.items({preprocess:f=>{const p=Ye(f,u);return r!=="auto"&&r>1?T_({tag:"div",classes:["tox-collection__group"]},r)(p):PR(p,(b,w)=>a[w].type==="separator")}}),kA=(r,a,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(r===1?["tox-collection--list"]:["tox-collection--grid"])},components:[F2(r,a,we)]}),V2=r=>pt(r,a=>"icon"in a&&a.icon!==void 0),ag=r=>(console.error(el(r)),console.log(r),O.none()),RF=(r,a,u,f,p)=>{const b=(w=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Nb.parts.items({preprocess:S=>PR(S,(E,D)=>w[D].type==="separator")})]});var w;return{value:r,dom:b.dom,components:b.components,items:u}},SA=(r,a,u,f,p)=>{if(p.menuType==="color"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Nb.parts.items({preprocess:w!=="auto"?T_({tag:"div",classes:["tox-swatches__row"]},w):we})]}]}))(f);return{value:r,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"&&f==="auto"){const b=kA(f,u);return{value:r,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"||p.menuType==="searchable"){const b=p.menuType!=="searchable"?kA(f,u):p.searchMode.searchMode==="search-with-field"?((w,S,E)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[IR({i18n:rd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],L2],attributes:{id:D}},components:[F2(w,S,NR)]}]}})(f,u,p.searchMode):((w,S,E=!0)=>{const D=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",L2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:D}},components:[F2(w,S,NR)]}})(f,u);return{value:r,dom:b.dom,components:b.components,items:u}}if(p.menuType==="listpreview"&&f!=="auto"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Nb.parts.items({preprocess:T_({tag:"div",classes:["tox-collection__group"]},w)})]}))(f);return{value:r,dom:b.dom,components:b.components,items:u}}return{value:r,dom:kR(a,f,p.menuType),components:SR,items:u}},bi=_s("type"),EA=_s("name"),AA=_s("label"),sd=_s("text"),TA=_s("title"),OA=_s("icon"),zb=_s("value"),IF=Fa("fetch"),MR=Fa("getSubmenuItems"),K0=Fa("onAction"),BR=Fa("onItemAction"),zp=es("onSetup",()=>ce),NF=Fs("name"),Hp=Fs("text"),PF=Fs("role"),id=Fs("icon"),z2=Fs("tooltip"),DA=Fs("label"),G0=Fs("shortcut"),RA=au("select"),O_=ti("active",!1),CW=ti("borderless",!1),ad=ti("enabled",!0),D_=ti("primary",!1),LR=r=>it("columns",r),Zc=it("meta",{}),IA=es("onAction",ce),Hb=r=>Gl("type",r),NA=r=>li("name","name",Wg(()=>bn(`${r}-name`)),Ci),FR=Zn([bi,Hp]),MF=Zn([Hb("autocompleteitem"),O_,ad,Zc,zb,Hp,id]),lg=[ad,z2,id,Hp,zp],PA=Zn([bi,K0,G0].concat(lg)),VR=r=>Cs("toolbarbutton",PA,r),H2=[O_].concat(lg),R_=Zn(H2.concat([bi,K0,G0])),I_=r=>Cs("ToggleButton",R_,r),zR=[es("predicate",Ee),Tc("scope","node",["node","editor"]),Tc("position","selection",["node","selection","line"])],BF=lg.concat([Hb("contextformbutton"),D_,K0,Wi("original",we)]),LF=H2.concat([Hb("contextformbutton"),D_,K0,Wi("original",we)]),FF=lg.concat([Hb("contextformbutton")]),VF=H2.concat([Hb("contextformtogglebutton")]),zF=hi("type",{contextformbutton:BF,contextformtogglebutton:LF}),HF=Zn([Hb("contextform"),es("initValue",ee("")),DA,tl("commands",zF),Ws("launch",hi("type",{contextformbutton:FF,contextformtogglebutton:VF}))].concat(zR)),HR=Zn([Hb("contexttoolbar"),_s("items")].concat(zR)),N_=[bi,_s("src"),Fs("alt"),Rr("classes",[],Ci)],$F=Zn(N_),UF=[bi,sd,NF,Rr("classes",["tox-collection__item-label"],Ci)],WF=Zn(UF),$R=Tm(()=>Ku("type",{cardimage:$F,cardtext:WF,cardcontainer:q0})),q0=Zn([bi,Gl("direction","horizontal"),Gl("align","left"),Gl("valign","middle"),tl("items",$R)]),$b=[ad,Hp,PF,G0,li("value","value",Wg(()=>bn("menuitem-value")),Fl()),Zc],ZF=Zn([bi,DA,tl("items",$R),zp,IA].concat($b)),MA=Zn([bi,O_,id].concat($b)),UR=[bi,_s("fancytype"),IA],WR=[it("initData",{})].concat(UR),ZR=[au("select"),za("initData",{},[ti("allowCustomColors",!0),Gl("storageKey","default"),j1("colors",Fl())])].concat(UR),jR=hi("fancytype",{inserttable:WR,colorswatch:ZR}),KR=Zn([bi,zp,IA,id].concat($b)),GR=Zn([bi,MR,zp,id].concat($b)),jF=Zn([bi,id,O_,zp,K0].concat($b)),BA=(r,a,u)=>{const f=ki(r.element,"."+u);if(f.length>0){const p=Cr(f,b=>{const w=b.dom.getBoundingClientRect().top,S=f[0].dom.getBoundingClientRect().top;return Math.abs(w-S)>a}).getOr(f.length);return O.some({numColumns:p,numRows:Math.ceil(f.length/p)})}return O.none()},$2=r=>((a,u)=>Zt([_o(a,u)]))(bn("unnamed-events"),r),P_="silver.readonly",KF=Zn([Zi("readonly",sc)]),Ub=(r,a)=>{const u=r.mainUi.outerContainer.element,f=[r.mainUi.mothership,...r.uiMotherships];a&&Mt(f,p=>{p.broadcastOn([B()],{target:u})}),Mt(f,p=>{p.broadcastOn([P_],{readonly:a})})},qR=(r,a)=>{r.on("init",()=>{r.mode.isReadOnly()&&Ub(a,!0)}),r.on("SwitchMode",()=>Ub(a,r.mode.isReadOnly())),rA(r)&&r.mode.set("readonly")},Pi=()=>wl.config({channels:{[P_]:{schema:KF,onReceive:(r,a)=>{so.set(r,a.readonly)}}}}),Da=r=>so.config({disabled:r}),YR=r=>so.config({disabled:r,disableClass:"tox-tbtn--disabled"}),M_=r=>so.config({disabled:r,disableClass:"tox-tbtn--disabled",useNative:!1}),U2=(r,a)=>{const u=r.getApi(a);return f=>{f(u)}},$p=(r,a)=>ss(u=>{U2(r,u)(f=>{const p=r.onSetup(f);W(p)&&a.set(p)})}),_h=(r,a)=>Xu(u=>U2(r,u)(a.get())),XR=(r,a)=>du((u,f)=>{U2(r,u)(r.onAction),r.triggersSubmenu||a!==Jf.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&Ao(u,Fv()),f.stop())}),GF={[bl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Y0=ea,X0=(r,a,u,f)=>{const p=Vn(ce);return{type:"item",dom:a.dom,components:Y0(a.optComponents),data:r.data,eventOrder:GF,hasSubmenu:r.triggersSubmenu,itemBehaviours:Zt([_o("item-events",[XR(r,u),$p(r,p),_h(r,p)]),(b=()=>!r.enabled||f.isDisabled(),so.config({disabled:b,disableClass:"tox-collection__item--state-disabled"})),Pi(),qn.config({})].concat(r.itemBehaviours))};var b},J0=r=>({value:r.value,meta:{text:r.text.getOr(""),...r.meta}}),B_=r=>{const a=qf.os.isMacOS()||qf.os.isiOS(),u=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=r.split("+"),p=Ye(f,b=>{const w=b.toLowerCase().trim();return To(u,w)?u[w]:b});return a?p.join(""):p.join("+")},LA=(r,a,u=[_R])=>Wc(r,{tag:"div",classes:u},a),JR=r=>({dom:{tag:"div",classes:[N2]},components:[Vs(rd.translate(r))]}),FA=(r,a)=>({dom:{tag:"div",classes:a,innerHtml:r}}),QR=(r,a)=>({dom:{tag:"div",classes:[N2]},components:[{dom:{tag:r.tag,styles:r.styles},components:[Vs(rd.translate(a))]}]}),eI=r=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Vs(B_(r))]}),tI=r=>LA("checkmark",r,["tox-collection__item-checkmark"]),nI=r=>{const a=r.map(u=>({attributes:{id:bn("menu-item"),"aria-label":rd.translate(u)}})).getOr({});return{tag:"div",classes:[S_,E_],...a}},W2=(r,a,u,f=O.none())=>r.presets==="color"?((p,b,w)=>{const S=p.value,E=p.iconContent.map(L=>((M,z,q)=>{const X=z();return R2(M,X).or(q).getOrThunk(xA(X))})(L,b.icons,w)),D=p.ariaLabel.map(L=>({"aria-label":b.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=xR,M=E.getOr(""),z={tag:"div",attributes:D,classes:[L]};return S==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:M}:S==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:M}:G(S)?{...z,attributes:{...z.attributes,"data-mce-color":S},styles:{"background-color":S},innerHtml:M}:z})(),optComponents:[]}})(r,a,f):((p,b,w,S)=>{const E={tag:"div",classes:[_R]},D=w?p.iconContent.map(q=>Wc(q,E,b.icons,S)).orThunk(()=>O.some({dom:E})):O.none(),L=p.checkMark,M=O.from(p.meta).fold(()=>JR,q=>To(q,"style")?Ze(QR,q.style):JR),z=p.htmlContent.fold(()=>p.textContent.map(M),q=>O.some(FA(q,[N2])));return{dom:nI(p.ariaLabel),optComponents:[D,z,p.shortcutContent.map(eI),L,p.caret]}})(r,a,u,f),oI=(r,a,u)=>hn(r,"tooltipWorker").map(f=>[ri.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:dh}}),mode:"follow-highlight",onShow:(p,b)=>{f(w=>{ri.setComponents(p,[Pf({element:sn(w)})])})}})]).getOrThunk(()=>u.map(f=>[ri.config({...a.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),VA=(r,a)=>{const u=(f=>H0.DOM.encode(f))(rd.translate(r));if(a.length>0){const f=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return u.replace(f,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return u},zA=(r,a)=>Ye(r,u=>{switch(u.type){case"cardcontainer":return((b,w)=>{const S=b.direction==="vertical"?"tox-collection__item-container--column":M2,E=b.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[P2,S,E,(()=>{switch(b.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(u,zA(u.items,a));case"cardimage":return((b,w,S)=>({dom:{tag:"img",classes:w,attributes:{src:b,alt:S.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const f=u.name.exists(b=>tt(a.cardText.highlightOn,b)),p=f?O.from(a.cardText.matchText).getOr(""):"";return FA(VA(u.text,p),u.classes)}}),kh=il(tA(),nA()),HA=r=>({value:Wb(r)}),$A=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,UA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rI=r=>$A.test(r)||UA.test(r),Wb=r=>$r(r,"#").toUpperCase(),WA=r=>{const a=r.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},Z2=r=>{const a=WA(r.red)+WA(r.green)+WA(r.blue);return HA(a)},ZA=Math.min,sI=Math.max,L_=Math.round,qF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,iI=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Sh=(r,a,u,f)=>({red:r,green:a,blue:u,alpha:f}),j2=r=>{const a=parseInt(r,10);return a.toString()===r&&a>=0&&a<=255},aI=r=>{let a,u,f;const p=(r.hue||0)%360;let b=r.saturation/100,w=r.value/100;if(b=sI(0,ZA(b,1)),w=sI(0,ZA(w,1)),b===0)return a=u=f=L_(255*w),Sh(a,u,f,1);const S=p/60,E=w*b,D=E*(1-Math.abs(S%2-1)),L=w-E;switch(Math.floor(S)){case 0:a=E,u=D,f=0;break;case 1:a=D,u=E,f=0;break;case 2:a=0,u=E,f=D;break;case 3:a=0,u=D,f=E;break;case 4:a=D,u=0,f=E;break;case 5:a=E,u=0,f=D;break;default:a=u=f=0}return a=L_(255*(a+L)),u=L_(255*(u+L)),f=L_(255*(f+L)),Sh(a,u,f,1)},qd=r=>{const a=(b=>{const w=(E=>({value:E.value.replace($A,(L,M,z,q)=>M+M+z+z+q+q)}))(b),S=UA.exec(w.value);return S===null?["FFFFFF","FF","FF","FF"]:S})(r),u=parseInt(a[1],16),f=parseInt(a[2],16),p=parseInt(a[3],16);return Sh(u,f,p,1)},jA=(r,a,u,f)=>{const p=parseInt(r,10),b=parseInt(a,10),w=parseInt(u,10),S=parseFloat(f);return Sh(p,b,w,S)},F_=r=>{const a=qF.exec(r);if(a!==null)return O.some(jA(a[1],a[2],a[3],"1"));const u=iI.exec(r);return u!==null?O.some(jA(u[1],u[2],u[3],u[4])):O.none()},lI=r=>`rgba(${r.red},${r.green},${r.blue},${r.alpha})`,cI=Sh(255,0,0,1),Zb=(r,a)=>{r.dispatch("ResizeContent",a)},Q0=(r,a)=>{r.dispatch("TextColorChange",a)},uI=(r,a)=>r.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),ey=(r,a)=>()=>{r(),a()},Mi=r=>jb(r,"NodeChange",a=>{a.setEnabled(r.selection.isEditable())}),Qf=(r,a)=>u=>{const f=Mi(r)(u),p=((b,w)=>S=>{const E=Ec(),D=()=>{S.setActive(b.formatter.match(w));const L=b.formatter.formatChanged(w,S.setActive);E.set(L)};return b.initialized?D():b.once("init",D),()=>{b.off("init",D),E.clear()}})(r,a)(u);return()=>{f(),p()}},jb=(r,a,u)=>f=>{const p=()=>u(f),b=()=>{u(f),r.on(a,p)};return r.initialized?b():r.once("init",b),()=>{r.off("init",b),r.off(a,p)}},dI=r=>a=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("mceToggleFormat",!1,a.format)})},fc=(r,a)=>()=>r.execCommand(a);var jc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const V_={},fI=r=>hn(V_,r).getOrThunk(()=>{const a=`tinymce-custom-colors-${r}`,u=jc.getItem(a);if($(u)){const p=jc.getItem("tinymce-custom-colors");jc.setItem(a,G(p)?p:"[]")}const f=((p,b=10)=>{const w=jc.getItem(p),S=v(w)?JSON.parse(w):[],E=b-(D=S).length<0?D.slice(0,b):D;var D;const L=M=>{E.splice(M,1)};return{add:M=>{((z,q)=>{const X=Jt(z,q);return X===-1?O.none():O.some(X)})(E,M).each(L),E.unshift(M),E.length>b&&E.pop(),jc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return V_[r]=f,f}),KA=(r,a)=>{fI(r).add(a)},ty=(r,a,u)=>({hue:r,saturation:a,value:u}),z_=r=>{let a=0,u=0,f=0;const p=r.red/255,b=r.green/255,w=r.blue/255,S=Math.min(p,Math.min(b,w)),E=Math.max(p,Math.max(b,w));return S===E?(f=S,ty(0,0,100*f)):(a=p===S?3:w===S?1:5,a=60*(a-(p===S?b-w:w===S?p-b:w-p)/(E-S)),u=(E-S)/E,f=E,ty(Math.round(a),Math.round(100*u),Math.round(100*f)))},H_=r=>Z2(aI(r)),mI=r=>{return(a=r,rI(a)?O.some({value:Wb(a)}):O.none()).orThunk(()=>F_(r).map(Z2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const f=u.getContext("2d");f.clearRect(0,0,u.width,u.height),f.fillStyle="#FFFFFF",f.fillStyle=r,f.fillRect(0,0,1,1);const p=f.getImageData(0,0,1,1).data,b=p[0],w=p[1],S=p[2],E=p[3];return Z2(Sh(b,w,S,E))});var a},GA="forecolor",qA="hilitecolor",YF=r=>{const a=[];for(let u=0;u<r.length;u+=2)a.push({text:r[u+1],value:"#"+mI(r[u]).value,icon:"checkmark",type:"choiceitem"});return a},ld=r=>a=>a.options.get(r),K2="#000000",Kb=(r,a)=>a===GA&&r.options.isSet("color_map_foreground")?ld("color_map_foreground")(r):a===qA&&r.options.isSet("color_map_background")?ld("color_map_background")(r):ld("color_map")(r),$_=(r,a="default")=>Math.max(5,Math.ceil(Math.sqrt(Kb(r,a).length))),gI=(r,a)=>{const u=ld("color_cols")(r),f=$_(r,a);return u===$_(r)?f:u},YA=(r,a="default")=>Math.round(a===GA?ld("color_cols_foreground")(r):a===qA?ld("color_cols_background")(r):ld("color_cols")(r)),XA=ld("custom_colors"),hI=ld("color_default_foreground"),pI=ld("color_default_background"),vI=(r,a)=>{const u=sn(r.selection.getStart()),f=a==="hilitecolor"?Kg(u,p=>{if(ls(p)){const b=ws(p,"background-color");return ar(F_(b).exists(w=>w.alpha!==0),b)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):ws(u,"color");return F_(f).map(p=>"#"+Z2(p).value)},U_=r=>{const a="choiceitem",u={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return r?[u,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},JA=(r,a,u,f)=>{u==="custom"?xI(r)(p=>{p.each(b=>{KA(a,b),r.execCommand("mceApplyTextcolor",a,b),f(b)})},vI(r,a).getOr(K2)):u==="remove"?(f(""),r.execCommand("mceRemoveTextcolor",a)):(f(u),r.execCommand("mceApplyTextcolor",a,u))},QA=(r,a,u)=>r.concat((f=>Ye(fI(f).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat(U_(u))),bI=(r,a,u)=>f=>{f(QA(r,a,u))},e3=(r,a,u)=>{const f=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r.setIconFill(f,u)},t3=(r,a)=>{r.setTooltip(a)},yI=(r,a)=>u=>{const f=vI(r,a);return rs(f,u.toUpperCase())},n3=(r,a,u)=>{if(Bu(u))return a==="forecolor"?"Text color":"Background color";const f=a==="forecolor"?"Text color {0}":"Background color {0}",p=QA(Kb(r,a),a,!1),b=J(p,w=>w.value===u).getOr({text:""}).text;return r.translate([f,r.translate(b)])},o3=(r,a,u,f)=>{r.ui.registry.addSplitButton(a,{tooltip:n3(r,u,f.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:yI(r,u),columns:YA(r,u),fetch:bI(Kb(r,u),u,XA(r)),onAction:p=>{JA(r,u,f.get(),ce)},onItemAction:(p,b)=>{JA(r,u,b,w=>{f.set(w),Q0(r,{name:a,color:w})})},onSetup:p=>{e3(p,a,f.get());const b=w=>{w.name===a&&(e3(p,w.name,w.color),t3(p,n3(r,u,w.color)))};return r.on("TextColorChange",b),ey(Mi(r)(p),()=>{r.off("TextColorChange",b)})}})},ny=(r,a,u,f,p)=>{r.ui.registry.addNestedMenuItem(a,{text:f,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(t3(b,n3(r,u,p.get())),e3(b,a,p.get()),Mi(r)(b)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:yI(r,u),initData:{storageKey:u},onAction:b=>{JA(r,u,b.value,w=>{p.set(w),Q0(r,{name:a,color:w})})}}]})},xI=r=>(a,u)=>{let f=!1;const p={colorpicker:u};r.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(b,w)=>{w.name==="hex-valid"&&(f=w.value)},onSubmit:b=>{const w=b.getData().colorpicker;f?(a(O.from(w)),b.close()):r.windowManager.alert(r.translate(["Invalid hex color code: {0}",w]))},onClose:ce,onCancel:()=>{a(O.none())}})},Gb=(r,a,u,f,p,b,w,S)=>{const E=V2(a),D=r3(a,u,f,p!=="color"?"normal":"color",b,w,S);return SA(r,E,D,f,{menuType:p})},r3=(r,a,u,f,p,b,w)=>ea(Ye(r,S=>{return S.type==="choiceitem"?(E=S,Cs("choicemenuitem",MA,E)).fold(ag,D=>O.some(((L,M,z,q,X,ue,me,_e=!0)=>{const fe=W2({presets:z,textContent:M?L.text:O.none(),htmlContent:O.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:M?L.shortcut:O.none(),checkMark:M?O.some(tI(me.icons)):O.none(),caret:O.none(),value:L.value},me,_e),de=L.text.filter(ee(!M)).map(ve=>ri.config(me.tooltips.getConfig({tooltipText:me.translate(ve)})));return Mr(X0({data:J0(L),enabled:L.enabled,getApi:ve=>({setActive:ke=>{Qn.set(ve,ke)},isActive:()=>Qn.isOn(ve),isEnabled:()=>!so.isDisabled(ve),setEnabled:ke=>so.set(ve,!ke)}),onAction:ve=>q(L.value),onSetup:ve=>(ve.setActive(X),ce),triggersSubmenu:!1,itemBehaviours:[...de.toArray()]},fe,ue,me),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(D,u===1,f,a,b(D.value),p,w,V2(r)))):O.none();var E})),G2=(r,a)=>{const u=Vb(a);return r===1?{mode:"menu",moveOnTab:!0}:r==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>a==="color"?fs(f.element,"[aria-checked=true]"):O.none()}},s3=bn("cell-over"),wI=bn("cell-execute"),XF=(r,a,u)=>{const f=b=>Nn(b,wI,{row:r,col:a}),p=(b,w)=>{w.stop(),f(b)};return Ki({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:Zt([_o("insert-table-picker-cell",[St(On(),no.focus),St(bl(),f),St(pi(),p),St(kf(),p)]),Qn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),no.config({onFocus:b=>Nn(b,s3,{row:r,col:a})})])})},CI=r=>tn(r,a=>Ye(a,ol)),_I=(r,a)=>Vs(`${a}x${r}`),kI={inserttable:(r,a)=>{const u=(w=>(S,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,S]))(a),f=((w,S,E)=>{const D=[];for(let L=0;L<10;L++){const M=[];for(let z=0;z<10;z++){const q=w(L+1,z+1);M.push(XF(L,z,q))}D.push(M)}return D})(u),p=_I(0,0),b=kr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Zt([qn.config({})])});return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[kh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:CI(f).concat(b.asSpec()),behaviours:Zt([_o("insert-table-picker",[ss(w=>{qn.set(b.get(w),[p])}),qg(s3,(w,S,E)=>{const{row:D,col:L}=E.event;((M,z,q,X,ue)=>{for(let me=0;me<10;me++)for(let _e=0;_e<10;_e++)Qn.set(M[me][_e],me<=z&&_e<=q)})(f,D,L),qn.set(b.get(w),[_I(D+1,L+1)])}),qg(wI,(w,S,E)=>{const{row:D,col:L}=E.event;Ao(w,Fv()),r.onAction({numRows:D+1,numColumns:L+1})})]),Ln.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(r,a)=>{const u=((w,S)=>{const E=w.initData.allowCustomColors&&S.colorinput.hasCustomColors();return w.initData.colors.fold(()=>QA(S.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),D=>D.concat(U_(E)))})(r,a),f=a.colorinput.getColorCols(r.initData.storageKey),p="color",b={...Gb(bn("menu-value"),u,w=>{r.onAction({value:w})},f,p,Jf.CLOSE_ON_EXECUTE,r.select.getOr(Ee),a.shared.providers),markers:Vb(p),movement:G2(f,p),showMenuRole:!1};return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[kh.widget(Nb.sketch(b))]}}},SI=r=>({type:"separator",dom:{tag:"div",classes:[E_,"tox-collection__group-heading"]},components:r.text.map(Vs).toArray()});var JF=Object.freeze({__proto__:null,getCoupled:(r,a,u,f)=>u.getOrCreate(r,a,f),getExistingCoupled:(r,a,u,f)=>u.getExisting(r,a,f)}),EI=[Zi("others",Nv(Vo.value,Fl()))],W_=Object.freeze({__proto__:null,init:()=>{const r={},a=(f,p)=>{if(wn(f.others).length===0)throw new Error("Cannot find any known coupled components");return hn(r,p)},u=ee({});return Ii({readState:u,getExisting:(f,p,b)=>a(p,b).orThunk(()=>(hn(p.others,b).getOrDie("No information found for coupled component: "+b),O.none())),getOrCreate:(f,p,b)=>a(p,b).getOrThunk(()=>{const w=hn(p.others,b).getOrDie("No information found for coupled component: "+b)(f),S=f.getSystem().build(w);return r[b]=S,S})})}});const zs=Ni({fields:EI,name:"coupling",apis:JF,state:W_}),q2=r=>{let a=O.none(),u=[];const f=w=>{p()?b(w):u.push(w)},p=()=>a.isSome(),b=w=>{a.each(S=>{setTimeout(()=>{w(S)},0)})};return r(w=>{p()||(a=O.some(w),Mt(u,b),u=[])}),{get:f,map:w=>q2(S=>{f(E=>{S(w(E))})}),isReady:p}},QF={nu:q2,pure:r=>q2(a=>{a(r)})},e7=r=>{setTimeout(()=>{throw r},0)},oy=r=>{const a=u=>{r().then(u,e7)};return{map:u=>oy(()=>r().then(u)),bind:u=>oy(()=>r().then(f=>u(f).toPromise())),anonBind:u=>oy(()=>r().then(()=>u.toPromise())),toLazy:()=>QF.nu(a),toCached:()=>{let u=null;return oy(()=>(u===null&&(u=r()),u))},toPromise:r,get:a}},Up=r=>oy(()=>new Promise(r)),cg=r=>oy(()=>Promise.resolve(r)),i3=ee("sink"),AI=ee(bu({name:i3(),overrides:ee({dom:{tag:"div"},behaviours:Zt([ga.config({useFixed:Fe})]),events:fo([Mm(ks()),Mm(Rt()),Mm(pi())])})})),TI=(r,a)=>{const u=r.getHotspot(a).getOr(a),f="hotspot",p=r.getAnchorOverrides();return r.layouts.fold(()=>({type:f,hotspot:u,overrides:p}),b=>({type:f,hotspot:u,overrides:p,layouts:b}))},Z_=(r,a,u,f,p,b,w)=>((E,D,L,M,z,q,X)=>{const ue=((_e,fe,de)=>(0,_e.fetch)(de).map(fe))(E,D,M),me=OI(M,E);return ue.map(_e=>_e.bind(fe=>{const de=fe.menus[fe.primary];return O.from(de).each(ve=>{E.listRole.each(ke=>{ve.role=ke})}),O.from(bh.sketch({...q.menu(),uid:Bc(""),data:fe,highlightOnOpen:X,onOpenMenu:(ve,ke)=>{const Ae=me().getOrDie();ga.position(Ae,ke,{anchor:L}),T.decloak(z)},onOpenSubmenu:(ve,ke,Ae)=>{const $e=me().getOrDie();ga.position($e,Ae,{anchor:{type:"submenu",item:ke}}),T.decloak(z)},onRepositionMenu:(ve,ke,Ae)=>{const $e=me().getOrDie();ga.position($e,ke,{anchor:L}),Mt(Ae,rt=>{ga.position($e,rt.triggeredMenu,{anchor:{type:"submenu",item:rt.triggeringItem}})})},onEscape:()=>(no.focus(M),T.close(z),O.some(!0))}))}))})(r,a,TI(r,u),u,f,p,w).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},D=>{T.cloak(f),T.open(f,D),b(f)}),f)),t7=(r,a,u,f,p,b,w)=>(T.close(f),cg(f)),a3=(r,a,u,f,p,b)=>{const w=zs.getCoupled(u,"sandbox");return(T.isOpen(w)?t7:Z_)(r,a,u,w,f,p,b)},OI=(r,a)=>r.getSystem().getByUid(a.uid+"-"+i3()).map(u=>()=>Vo.value(u)).getOrThunk(()=>a.lazySink.fold(()=>()=>Vo.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(r))),l3=r=>{T.getState(r).each(a=>{bh.repositionMenus(a)})},c3=(r,a,u)=>{const f=sh(),p=OI(a,r);return{dom:{tag:"div",classes:r.sandboxClasses,attributes:{id:f.id}},behaviours:Jn(r.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(b,w)=>{const S=TI(r,a);f.link(a.element),r.matchWidth&&((E,D,L)=>{const M=or.getCurrent(D).getOr(D),z=Oi(E.element);L?co(M.element,"min-width",z+"px"):((q,X)=>{Fg.set(q,X)})(M.element,z)})(S.hotspot,w,r.useMinWidth),r.onOpen(S,b,w),u!==void 0&&u.onOpen!==void 0&&u.onOpen(b,w)},onClose:(b,w)=>{f.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(b,w)},isPartOf:(b,w,S)=>xl(w,S)||xl(a,S),getAttachPoint:()=>p().getOrDie()}),or.config({find:b=>T.getState(b).bind(w=>or.getCurrent(w))}),wl.config({channels:{...se({isExtraPart:Ee}),...Ie({doReposition:l3})}})])}},DI=r=>{const a=zs.getCoupled(r,"sandbox");l3(a)},u3=()=>[it("sandboxClasses",[]),ro("sandboxBehaviours",[or,wl,T,lt])],n7=ee([Dt("dom"),Dt("fetch"),Jo("onOpen"),yl("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),Bf(),yn("dropdownBehaviours",[Qn,zs,Ln,no]),Dt("toggleClass"),it("eventOrder",{}),Go("lazySink"),it("matchWidth",!1),it("useMinWidth",!1),Go("role"),Go("listRole")].concat(u3())),o7=ee([jd({schema:[eh(),it("fakeFocus",!1)],name:"menu",defaults:r=>({onExecute:r.onExecute})}),AI()]),kl=Vl({name:"Dropdown",configFields:n7(),partFields:o7(),factory:(r,a,u,f)=>{const p=E=>{T.getState(E).each(D=>{bh.highlightPrimary(D)})},b=(E,D,L)=>a3(r,we,E,f,D,L),w={expand:E=>{Qn.isOn(E)||b(E,ce,al.HighlightNone).get(ce)},open:E=>{Qn.isOn(E)||b(E,ce,al.HighlightMenuAndItem).get(ce)},refetch:E=>zs.getExistingCoupled(E,"sandbox").fold(()=>b(E,ce,al.HighlightMenuAndItem).map(ce),D=>Z_(r,we,E,D,f,ce,al.HighlightMenuAndItem).map(ce)),isOpen:Qn.isOn,close:E=>{Qn.isOn(E)&&b(E,ce,al.HighlightMenuAndItem).get(ce)},repositionMenus:E=>{Qn.isOn(E)&&DI(E)}},S=(E,D)=>(Of(E),O.some(!0));return{uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.dropdownBehaviours,[Qn.config({toggleClass:r.toggleClass,aria:{mode:"expanded"}}),zs.config({others:{sandbox:E=>c3(r,E,{onOpen:()=>Qn.on(E),onClose:()=>Qn.off(E)})}}),Ln.config({mode:"special",onSpace:S,onEnter:S,onDown:(E,D)=>{if(kl.isOpen(E)){const L=zs.getCoupled(E,"sandbox");p(L)}else kl.open(E);return O.some(!0)},onEscape:(E,D)=>kl.isOpen(E)?(kl.close(E),O.some(!0)):O.none()}),no.config({})]),events:z0(O.some(E=>{b(E,p,al.HighlightMenuAndItem).get(ce)})),eventOrder:{...r.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":r.listRole.getOr("true"),...r.role.fold(()=>({}),E=>({role:E})),...r.dom.tag==="button"?{type:hn(r.dom,"attributes").bind(E=>hn(E,"type")).getOr("button")}:{}}}}},apis:{open:(r,a)=>r.open(a),refetch:(r,a)=>r.refetch(a),expand:(r,a)=>r.expand(a),close:(r,a)=>r.close(a),isOpen:(r,a)=>r.isOpen(a),repositionMenus:(r,a)=>r.repositionMenus(a)}}),RI=(r,a,u)=>{DR(r).each(f=>{var p;((b,w)=>{Ko(w.element,"id").each(S=>rn(b.element,"aria-activedescendant",S))})(f,u),(nl((p=a).element,L2)?O.some(p.element):fs(p.element,"."+L2)).each(b=>{Ko(b,"id").each(w=>rn(f.element,"aria-controls",w))})}),rn(u.element,"aria-selected","true")},r7=(r,a,u)=>{rn(u.element,"aria-selected","false")},qb=r=>zs.getExistingCoupled(r,"sandbox").bind(B2).map(RR).map(a=>a.fetchPattern).getOr("");var Y2;(function(r){r[r.ContentFocus=0]="ContentFocus",r[r.UiFocus=1]="UiFocus"})(Y2||(Y2={}));const s7=(r,a,u,f,p)=>{const b=u.shared.providers,w=E=>p?{...E,shortcut:O.none(),icon:E.text.isSome()?O.none():E.icon}:E;switch(r.type){case"menuitem":return(S=r,Cs("menuitem",KR,S)).fold(ag,E=>O.some(((D,L,M,z=!0)=>{const q=W2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.none(),checkMark:O.none(),shortcutContent:D.shortcut},M,z);return X0({data:J0(D),getApi:X=>({isEnabled:()=>!so.isDisabled(X),setEnabled:ue=>so.set(X,!ue)}),enabled:D.enabled,onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M)})(w(E),a,b,f)));case"nestedmenuitem":return(E=>Cs("nestedmenuitem",GR,E))(r).fold(ag,E=>O.some(((D,L,M,z=!0,q=!1)=>{const X=q?(ue=M.icons,LA("chevron-down",ue,[CA])):(_e=>LA("chevron-right",_e,[CA]))(M.icons);var ue;const me=W2({presets:"normal",iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,caret:O.some(X),checkMark:O.none(),shortcutContent:D.shortcut},M,z);return X0({data:J0(D),getApi:_e=>({isEnabled:()=>!so.isDisabled(_e),setEnabled:fe=>so.set(_e,!fe),setIconFill:(fe,de)=>{fs(_e.element,`svg path[class="${fe}"], rect[class="${fe}"]`).each(ve=>{rn(ve,"fill",de)})},setTooltip:fe=>{const de=M.translate(fe);rn(_e.element,"aria-label",de)}}),enabled:D.enabled,onAction:ce,onSetup:D.onSetup,triggersSubmenu:!0,itemBehaviours:[]},me,L,M)})(w(E),a,b,f,p)));case"togglemenuitem":return(E=>Cs("togglemenuitem",jF,E))(r).fold(ag,E=>O.some(((D,L,M,z=!0)=>{const q=W2({iconContent:D.icon,textContent:D.text,htmlContent:O.none(),ariaLabel:D.text,checkMark:O.some(tI(M.icons)),caret:O.none(),shortcutContent:D.shortcut,presets:"normal",meta:D.meta},M,z);return Mr(X0({data:J0(D),enabled:D.enabled,getApi:X=>({setActive:ue=>{Qn.set(X,ue)},isActive:()=>Qn.isOn(X),isEnabled:()=>!so.isDisabled(X),setEnabled:ue=>so.set(X,!ue)}),onAction:D.onAction,onSetup:D.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,M),{toggling:{toggleClass:CR,toggleOnExecute:!1,selected:D.active},role:D.role.getOrUndefined()})})(w(E),a,b,f)));case"separator":return(E=>Cs("separatormenuitem",FR,E))(r).fold(ag,E=>O.some(SI(E)));case"fancymenuitem":return(E=>Cs("fancymenuitem",jR,E))(r).fold(ag,E=>((D,L)=>hn(kI,D.fancytype).map(M=>M(D,L)))(E,u));default:return console.error("Unknown item in general menu",r),O.none()}var S},Wp=(r,a,u,f,p,b,w)=>{const S=f===1,E=!S||V2(r);return ea(Ye(r,D=>{switch(D.type){case"separator":return(L=D,Cs("Autocompleter.Separator",FR,L)).fold(ag,M=>O.some(SI(M)));case"cardmenuitem":return(M=>Cs("cardmenuitem",ZF,M))(D).fold(ag,M=>O.some(((z,q,X,ue)=>{const me={dom:nI(z.label),optComponents:[O.some({dom:{tag:"div",classes:[P2,M2]},components:zA(z.items,ue)})]};return X0({data:J0({text:O.none(),...z}),enabled:z.enabled,getApi:_e=>({isEnabled:()=>!so.isDisabled(_e),setEnabled:fe=>{so.set(_e,!fe),Mt(ki(_e.element,"*"),de=>{_e.getSystem().getByDom(de).each(ve=>{ve.hasConfigured(so)&&so.set(ve,!fe)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(ue.itemBehaviours).getOr([])},me,q,X.providers)})({...M,onAction:z=>{M.onAction(z),u(M.value,M.meta)}},p,b,{itemBehaviours:oI(M.meta,b,O.none()),cardText:{matchText:a,highlightOn:w}})));default:return(M=>Cs("Autocompleter.Item",MF,M))(D).fold(ag,M=>O.some(((z,q,X,ue,me,_e,fe,de=!0)=>{const ve=W2({presets:ue,textContent:O.none(),htmlContent:X?z.text.map(Ae=>VA(Ae,q)):O.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:z.value},fe.providers,de,z.icon),ke=z.text.filter(Ae=>!X&&Ae!=="");return X0({data:J0(z),enabled:z.enabled,getApi:ee({}),onAction:Ae=>me(z.value,z.meta),onSetup:ee(ce),triggersSubmenu:!1,itemBehaviours:oI(z,fe,ke)},ve,_e,fe.providers)})(M,a,S,"normal",u,p,b,E)))}var L}))},II=(r,a,u,f,p,b)=>{const w=V2(a),S=ea(Ye(a,D=>{const L=M=>s7(M,u,f,(z=>p?!To(z,"text"):w)(M),p);return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?L({...D,enabled:!1}):L(D)})),E=(D=>D.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:D})(b);return(p?RF:SA)(r,w,S,1,E)},d3=r=>bh.singleData(r.value,r),cd=r=>Lf(sn(r.startContainer),r.startOffset,sn(r.endContainer),r.endOffset),NI=(r,a)=>{const u=bn("autocompleter"),f=Vn(!1),p=Vn(!1),b=Tr(),w=Ki(vs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([_o("dismissAutocompleter",[St(Gg(),()=>M()),St(lx(),(X,ue)=>{Ko(ue.event.target,"id").each(me=>rn(sn(r.getBody()),"aria-activedescendant",me))})])]),lazySink:a.getSink})),S=()=>vs.isOpen(w),E=p.get,D=()=>{if(S()){vs.hide(w),r.dom.remove(u,!1);const X=sn(r.getBody());Ko(X,"aria-owns").filter(ue=>ue===u).each(()=>{So(X,"aria-owns"),So(X,"aria-activedescendant")})}},L=()=>vs.getContent(w).bind(X=>gt(X.components(),0)),M=()=>r.execCommand("mceAutocompleterClose"),z=X=>{const ue=(me=>{const _e=Vt(me,fe=>O.from(fe.columns)).getOr(1);return tn(me,fe=>{const de=fe.items;return Wp(de,fe.matchText,(ve,ke)=>{const Ae={hide:()=>M(),reload:$e=>{D(),r.execCommand("mceAutocompleterReload",!1,{fetchOptions:$e})}};r.execCommand("mceAutocompleterRefreshActiveRange"),b.get().each($e=>{f.set(!0),fe.onAction(Ae,$e,ve,ke),f.set(!1)})},_e,Jf.BUBBLE_TO_SANDBOX,a,fe.highlightOn)})})(X);ue.length>0?(((me,_e)=>{const fe=Vt(me,de=>O.from(de.columns)).getOr(1);vs.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>b.get().map(cd),root:sn(r.getBody())}},((de,ve,ke,Ae)=>{const $e=G2(ve,Ae),rt=Vb(Ae);return{data:d3({...de,movement:$e,menuBehaviours:$2(ve!=="auto"?[]:[ss((At,kt)=>{BA(At,4,rt.item).each(({numColumns:wt,numRows:Ht})=>{Ln.setGridSize(At,Ht,wt)})})])}),menu:{markers:Vb(Ae),fakeFocus:ke===Y2.ContentFocus}}})(SA("autocompleter-value",!0,_e,fe,{menuType:"normal"}),fe,Y2.ContentFocus,"normal")),L().each(Sr.highlightFirst)})(X,ue),rn(sn(r.getBody()),"aria-owns",u),r.inline||q()):D()},q=()=>{r.dom.get(u)&&r.dom.remove(u,!1);const X=r.getDoc().documentElement,ue=r.selection.getNode(),me=(_e=>Jg(_e,!0))(w.element);Xa(me,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),r.dom.add(X,me.dom),fs(me,'[role="menu"]').each(_e=>{_r(_e,"position"),_r(_e,"max-height")})};r.on("AutocompleterStart",({lookupData:X})=>{p.set(!0),f.set(!1),z(X)}),r.on("AutocompleterUpdate",({lookupData:X})=>z(X)),r.on("AutocompleterUpdateActiveRange",({range:X})=>b.set(X)),r.on("AutocompleterEnd",()=>{D(),p.set(!1),f.set(!1),b.clear()}),((X,ue)=>{const me=(fe,de)=>{Nn(fe,ks(),{raw:de})},_e=()=>X.getMenu().bind(Sr.getHighlighted);ue.on("keydown",fe=>{const de=fe.which;X.isActive()&&(X.isMenuOpen()?de===13?(_e().each(Of),fe.preventDefault()):de===40?(_e().fold(()=>{X.getMenu().each(Sr.highlightFirst)},ve=>{me(ve,fe)}),fe.preventDefault(),fe.stopImmediatePropagation()):de!==37&&de!==38&&de!==39||_e().each(ve=>{me(ve,fe),fe.preventDefault(),fe.stopImmediatePropagation()}):de!==13&&de!==38&&de!==40||X.cancelIfNecessary())}),ue.on("NodeChange",()=>{!X.isActive()||X.isProcessingAction()||ue.queryCommandState("mceAutoCompleterInRange")||X.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:S,isActive:E,isProcessingAction:f.get,getMenu:L},r)},ry=(r,a,u)=>Qu(r,a,u).isSome(),f3=(r,a)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...f)=>{u=setTimeout(()=>{r.apply(null,f),u=null},a)}}},PI=r=>{const a=r.raw;return a.touches===void 0||a.touches.length!==1?O.none():O.some(a.touches[0])},j_=(r,a)=>{const u={stopBackspace:!0,...a},f=(M=>{const z=Tr(),q=Vn(!1),X=f3(me=>{M.triggerEvent(aE(),me),q.set(!0)},400),ue=Pd([{key:Z(),value:me=>(PI(me).each(_e=>{X.cancel();const fe={x:_e.clientX,y:_e.clientY,target:me.target};X.schedule(me),q.set(!1),z.set(fe)}),O.none())},{key:re(),value:me=>(X.cancel(),PI(me).each(_e=>{z.on(fe=>{((de,ve)=>{const ke=Math.abs(de.clientX-ve.x),Ae=Math.abs(de.clientY-ve.y);return ke>5||Ae>5})(_e,fe)&&z.clear()})}),O.none())},{key:Re(),value:me=>(X.cancel(),z.get().filter(_e=>lr(_e.target,me.target)).map(_e=>q.get()?(me.prevent(),!1):M.triggerEvent(kf(),me)))}]);return{fireIfReady:(me,_e)=>hn(ue,_e).bind(fe=>fe(me))}})(u),p=Ye(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>$a(r,M,z=>{f.fireIfReady(z,M).each(q=>{q&&z.kill()}),u.triggerEvent(M,z)&&z.kill()})),b=Tr(),w=$a(r,"paste",M=>{f.fireIfReady(M,"paste").each(z=>{z&&M.kill()}),u.triggerEvent("paste",M)&&M.kill(),b.set(setTimeout(()=>{u.triggerEvent(ax(),M)},0))}),S=$a(r,"keydown",M=>{u.triggerEvent("keydown",M)?M.kill():u.stopBackspace&&(z=>z.raw.which===n5[0]&&!tt(["input","textarea"],qa(z.target))&&!ry(z.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=$a(r,"focusin",M=>{u.triggerEvent("focusin",M)&&M.kill()}),D=Tr(),L=$a(r,"focusout",M=>{u.triggerEvent("focusout",M)&&M.kill(),D.set(setTimeout(()=>{u.triggerEvent(lp(),M)},0))});return{unbind:()=>{Mt(p,M=>{M.unbind()}),S.unbind(),E.unbind(),L.unbind(),w.unbind(),b.on(clearTimeout),D.on(clearTimeout)}}},m3=(r,a)=>{const u=hn(r,"target").getOr(a);return Vn(u)},X2=ql([{stopped:[]},{resume:["element"]},{complete:[]}]),MI=(r,a,u,f,p,b)=>{const w=r(a,f),S=((E,D)=>{const L=Vn(!1),M=Vn(!1);return{stop:()=>{L.set(!0)},cut:()=>{M.set(!0)},isStopped:L.get,isCut:M.get,event:E,setSource:D.set,getSource:D.get}})(u,p);return w.fold(()=>(b.logEventNoHandlers(a,f),X2.complete()),E=>{const D=E.descHandler;return Ex(D)(S),S.isStopped()?(b.logEventStopped(a,E.element,D.purpose),X2.stopped()):S.isCut()?(b.logEventCut(a,E.element,D.purpose),X2.complete()):_a(E.element).fold(()=>(b.logNoParent(a,E.element,D.purpose),X2.complete()),L=>(b.logEventResponse(a,E.element,D.purpose),X2.resume(L)))})},J2=(r,a,u,f,p,b)=>MI(r,a,u,f,p,b).fold(Fe,w=>J2(r,a,u,w,p,b),Ee),K_=(r,a,u,f,p)=>{const b=m3(u,f);return J2(r,a,u,f,b,p)},BI=()=>{const r=(()=>{const f={};return{registerId:(p,b,w)=>{Tn(w,(S,E)=>{const D=f[E]!==void 0?f[E]:{};D[b]=((L,M)=>({cHandler:Ze.apply(void 0,[L.handler].concat(M)),purpose:L.purpose}))(S,p),f[E]=D})},unregisterId:p=>{Tn(f,(b,w)=>{To(b,p)&&delete b[p]})},filterByType:p=>hn(f,p).map(b=>as(b,(w,S)=>((E,D)=>({id:E,descHandler:D}))(S,w))).getOr([]),find:(p,b,w)=>hn(f,b).bind(S=>Kg(w,E=>((D,L)=>nh(L).bind(M=>hn(D,M)).map(M=>((z,q)=>({element:z,descHandler:q}))(L,M)))(S,E),p))}})(),a={},u=f=>{nh(f.element).each(p=>{delete a[p],r.unregisterId(p)})};return{find:(f,p,b)=>r.find(f,p,b),filter:f=>r.filterByType(f),register:f=>{const p=(w=>{const S=w.element;return nh(S).getOrThunk(()=>((E,D)=>{const L=bn(r0+"uid-");return s0(D,L),L})(0,w.element))})(f);bo(a,p)&&((w,S)=>{const E=a[S];if(E!==w)throw new Error('The tagId "'+S+'" is already used by: '+Vd(E.element)+`
Cannot use it for: `+Vd(w.element)+`
The conflicting element is`+(un(E.element)?" ":" not ")+"already in the DOM");u(w)})(f,p);const b=[f];r.registerId(b,p,f.events),a[p]=f},unregister:u,getById:f=>hn(a,f)}},Yd=yu({name:"Container",factory:r=>{const{attributes:a,...u}=r.dom;return{uid:r.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...u},components:r.components,behaviours:Xn(r.containerBehaviours),events:r.events,domModification:r.domModification,eventOrder:r.eventOrder}},configFields:[it("components",[]),yn("containerBehaviours",[]),it("events",{}),it("domModification",{}),it("eventOrder",{})]}),G_=r=>{const a=me=>_a(r.element).fold(Fe,_e=>lr(me,_e)),u=BI(),f=(me,_e)=>u.find(a,me,_e),p=j_(r.element,{triggerEvent:(me,_e)=>Yv(me,_e.target,fe=>((de,ve,ke,Ae)=>K_(de,ve,ke,ke.target,Ae))(f,me,_e,fe))}),b={debugInfo:ee("real"),triggerEvent:(me,_e,fe)=>{Yv(me,_e,de=>K_(f,me,fe,_e,de))},triggerFocus:(me,_e)=>{nh(me).fold(()=>{Ha(me)},fe=>{Yv(Yu(),me,de=>(((ve,ke,Ae,$e,rt)=>{const At=m3(Ae,$e);MI(ve,ke,Ae,$e,At,rt)})(f,Yu(),{originator:_e,kill:ce,prevent:ce,target:me},me,de),!1))})},triggerEscape:(me,_e)=>{b.triggerEvent("keydown",me.element,_e.event)},getByUid:me=>X(me),getByDom:me=>ue(me),build:Ki,buildOrPatch:d0,addToGui:me=>{E(me)},removeFromGui:me=>{D(me)},addToWorld:me=>{w(me)},removeFromWorld:me=>{S(me)},broadcast:me=>{M(me)},broadcastOn:(me,_e)=>{z(me,_e)},broadcastEvent:(me,_e)=>{q(me,_e)},isConnected:Fe},w=me=>{me.connect(b),Ca(me.element)||(u.register(me),Mt(me.components(),w),b.triggerEvent(Sf(),me.element,{target:me.element}))},S=me=>{Ca(me.element)||(Mt(me.components(),S),u.unregister(me)),me.disconnect()},E=me=>{Wf(r,me)},D=me=>{sl(me)},L=me=>{const _e=u.filter(ic());Mt(_e,fe=>{const de=fe.descHandler;Ex(de)(me)})},M=me=>{L({universal:!0,data:me})},z=(me,_e)=>{L({universal:!1,channels:me,data:_e})},q=(me,_e)=>((fe,de,ve)=>{const ke=(Ae=>{const $e=Vn(!1);return{stop:()=>{$e.set(!0)},cut:ce,isStopped:$e.get,isCut:Ee,event:Ae,setSource:Me("Cannot set source of a broadcasted event"),getSource:Me("Cannot get source of a broadcasted event")}})(de);return Mt(fe,Ae=>{const $e=Ae.descHandler;Ex($e)(ke)}),ke.isStopped()})(u.filter(me),_e),X=me=>u.getById(me).fold(()=>Vo.error(new Error('Could not find component with uid: "'+me+'" in system.')),Vo.value),ue=me=>{const _e=nh(me).getOr("not found");return X(_e)};return w(r),{root:r,element:r.element,destroy:()=>{p.unbind(),$i(r.element)},add:E,remove:D,getByUid:X,getByDom:ue,addToWorld:w,removeFromWorld:S,broadcast:M,broadcastOn:z,broadcastEvent:q}},i7=ee([it("prefix","form-field"),yn("fieldBehaviours",[or,lt])]),g3=ee([bu({schema:[Dt("dom")],name:"label"}),bu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Dt("text")],name:"aria-descriptor"}),_l({factory:{sketch:r=>{const a=((u,f)=>{const p={};return Tn(u,(b,w)=>{tt(f,w)||(p[w]=b)}),p})(r,["factory"]);return r.factory.sketch(a)}},schema:[Dt("factory")],name:"field"})]),Or=Vl({name:"FormField",configFields:i7(),partFields:g3(),factory:(r,a,u,f)=>{const p=xo(r.fieldBehaviours,[or.config({find:S=>qr(S,r,"field")}),lt.config({store:{mode:"manual",getValue:S=>or.getCurrent(S).bind(lt.getValue),setValue:(S,E)=>{or.getCurrent(S).each(D=>{lt.setValue(D,E)})}}})]),b=fo([ss((S,E)=>{const D=HD(S,r,["label","field","aria-descriptor"]);D.field().each(L=>{const M=bn(r.prefix);D.label().each(z=>{rn(z.element,"for",M),rn(L.element,"id",M)}),D["aria-descriptor"]().each(z=>{const q=bn(r.prefix);rn(z.element,"id",q),rn(L.element,"aria-describedby",q)})})})]),w={getField:S=>qr(S,r,"field"),getLabel:S=>qr(S,r,"label")};return{uid:r.uid,dom:r.dom,components:a,behaviours:p,events:b,apis:w}},apis:{getField:(r,a)=>r.getField(a),getLabel:(r,a)=>r.getLabel(a)}});var a7=tinymce.util.Tools.resolve("tinymce.html.Entities");const Q2=(r,a,u,f)=>{const p=l7(r,a,u,f);return Or.sketch(p)},l7=(r,a,u,f)=>({dom:q_(u),components:r.toArray().concat([a]),fieldBehaviours:Zt(f)}),q_=r=>({tag:"div",classes:["tox-form__group"].concat(r)}),Zp=(r,a)=>Or.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vs(a.translate(r))]}),ll=bn("form-component-change"),jp=bn("form-close"),Eh=bn("form-cancel"),em=bn("form-action"),ew=bn("form-submit"),h3=bn("form-block"),p3=bn("form-unblock"),LI=bn("form-tabchange"),Y_=bn("form-resize"),FI=(r,a,u)=>{const f=r.label.map(M=>Zp(M,a)),p=a.icons(),b=M=>(z,q)=>{Qu(q.event.target,"[data-collection-item-value]").each(X=>{M(z,q,X,Lo(X,"data-collection-item-value"))})},w=b((M,z,q,X)=>{z.stop(),a.isDisabled()||Nn(M,em,{name:r.name,value:X})}),S=[St(On(),b((M,z,q)=>{Ha(q)})),St(pi(),w),St(kf(),w),St(xr(),b((M,z,q)=>{fs(M.element,"."+ig).each(X=>{Is(X,ig)}),Ss(q,ig)})),St(js(),b(M=>{fs(M.element,"."+ig).each(z=>{Is(z,ig),rb(z)})})),du(b((M,z,q,X)=>{Nn(M,em,{name:r.name,value:X})}))],E=(M,z)=>Ye(ki(M.element,".tox-collection__item"),z),D=Or.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(r.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:we},behaviours:Zt([so.config({disabled:a.isDisabled,onDisabled:M=>{E(M,z=>{Ss(z,"tox-collection__item--state-disabled"),rn(z,"aria-disabled",!0)})},onEnabled:M=>{E(M,z=>{Is(z,"tox-collection__item--state-disabled"),So(z,"aria-disabled")})}}),Pi(),qn.config({}),ri.config({...a.tooltips.getConfig({tooltipText:"",onShow:M=>{fs(M.element,"."+ig+"[data-mce-tooltip]").each(z=>{Ko(z,"data-mce-tooltip").each(q=>{ri.setComponents(M,a.tooltips.getComponents({tooltipText:q}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:fs(M.element,"."+ig).orThunk(()=>Sd(".tox-collection__item")),root:M.element,layouts:{onLtr:ee([qs,Es,Ns,ni,Ps,Br]),onRtl:ee([qs,Es,Ns,ni,Ps,Br])},bubble:cc(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(M,z)=>{((q,X)=>{const ue=Ye(X,fe=>{const de=rd.translate(fe.text),ve=r.columns===1?`<div class="tox-collection__item-label">${de}</div>`:"",ke=`<div class="tox-collection__item-icon">${(rt=>{var At;return(At=p[rt])!==null&&At!==void 0?At:rt})(fe.icon)}</div>`,Ae={_:" "," - ":" ","-":" "},$e=de.replace(/\_| \- |\-/g,rt=>Ae[rt]);return`<div data-mce-tooltip="${$e}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${a7.encodeAllRaw(fe.value)}" aria-label="${$e}">${ke}${ve}</div>`}),me=r.columns!=="auto"&&r.columns>1?nt(ue,r.columns):[ue],_e=Ye(me,fe=>`<div class="tox-collection__group">${fe.join("")}</div>`);Xg(q.element,_e.join(""))})(M,z),r.columns==="auto"&&BA(M,5,"tox-collection__item").each(({numRows:q,numColumns:X})=>{Ln.setGridSize(M,q,X)}),Ao(M,Y_)}}),Zr.config({}),Ln.config((L=r.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${E_}`}})),_o("collection-events",S)]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","collection-events"],[xr()]:["collection-events","tooltipping"]}});var L;return Q2(f,D,["tox-form__group--collection"],[])},VI=["input","textarea"],X_=r=>{const a=qa(r);return tt(VI,a)},zI=(r,a)=>{const u=a.getRoot(r).getOr(r.element);Is(u,a.invalidClass),a.notify.each(f=>{X_(r.element)&&rn(r.element,"aria-invalid",!1),f.getContainer(r).each(p=>{Xg(p,f.validHtml)}),f.onValid(r)})},v3=(r,a,u,f)=>{const p=a.getRoot(r).getOr(r.element);Ss(p,a.invalidClass),a.notify.each(b=>{X_(r.element)&&rn(r.element,"aria-invalid",!0),b.getContainer(r).each(w=>{Xg(w,f)}),b.onInvalid(r,f)})},HI=(r,a,u)=>a.validator.fold(()=>cg(Vo.value(!0)),f=>f.validate(r)),b3=(r,a,u)=>(a.notify.each(f=>{f.onValidate(r)}),HI(r,a).map(f=>r.getSystem().isConnected()?f.fold(p=>(v3(r,a,0,p),Vo.error(p)),p=>(zI(r,a),Vo.value(p))):Vo.error("No longer in system")));var c7=Object.freeze({__proto__:null,markValid:zI,markInvalid:v3,query:HI,run:b3,isInvalid:(r,a)=>{const u=a.getRoot(r).getOr(r.element);return nl(u,a.invalidClass)}}),$I=Object.freeze({__proto__:null,events:(r,a)=>r.validator.map(u=>fo([St(u.onEvent,f=>{b3(f,r).get(we)})].concat(u.validateOnLoad?[ss(f=>{b3(f,r).get(ce)})]:[]))).getOr({})}),u7=[Dt("invalidClass"),it("getRoot",O.none),Ds("notify",[it("aria","alert"),it("getContainer",O.none),it("validHtml",""),Jo("onValid"),Jo("onInvalid"),Jo("onValidate")]),Ds("validator",[Dt("validate"),it("onEvent","input"),it("validateOnLoad",!0)])];const ug=Ni({fields:u7,name:"invalidating",active:$I,apis:c7,extra:{validation:r=>a=>{const u=lt.getValue(a);return cg(r(u))}}}),Yb=Ni({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>fo([dp(ca(),Fe)]),exhibit:()=>Ks({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),y3=bn("color-input-change"),x3=bn("color-swatch-change"),UI=bn("color-picker-cancel"),w3=bu({schema:[Dt("dom")],name:"label"}),Kp=r=>bu({name:r+"-edge",overrides:a=>a.model.manager.edgeActions[r].fold(()=>({}),u=>({events:fo([cx(Z(),(f,p,b)=>u(f,b),[a]),cx(Rt(),(f,p,b)=>u(f,b),[a]),cx(Kn(),(f,p,b)=>{b.mouseIsDown.get()&&u(f,b)},[a])])}))}),d7=Kp("top-left"),f7=Kp("top"),m7=Kp("top-right"),g7=Kp("right"),WI=Kp("bottom-right"),C3=Kp("bottom"),h7=Kp("bottom-left"),J_=Kp("left"),p7=_l({name:"thumb",defaults:ee({dom:{styles:{position:"absolute"}}}),overrides:r=>({events:fo([mp(Z(),r,"spectrum"),mp(re(),r,"spectrum"),mp(Re(),r,"spectrum"),mp(Rt(),r,"spectrum"),mp(Kn(),r,"spectrum"),mp(lo(),r,"spectrum")])})}),Q_=r=>tg(r.event);var v7=[w3,J_,g7,f7,C3,d7,m7,h7,WI,p7,_l({schema:[Wi("mouseIsDown",()=>Vn(!1))],name:"spectrum",overrides:r=>{const a=r.model.manager,u=(f,p)=>a.getValueFromEvent(p).map(b=>a.setValueFrom(f,r,b));return{behaviours:Zt([Ln.config({mode:"special",onLeft:(f,p)=>a.onLeft(f,r,Q_(p)),onRight:(f,p)=>a.onRight(f,r,Q_(p)),onUp:(f,p)=>a.onUp(f,r,Q_(p)),onDown:(f,p)=>a.onDown(f,r,Q_(p))}),Zr.config({}),no.config({})]),events:fo([St(Z(),u),St(re(),u),St(Rt(),u),St(Kn(),(f,p)=>{r.mouseIsDown.get()&&u(f,p)})])}}})];const tw=ee("slider.change.value"),_3=r=>{const a=r.event.raw;if((u=>u.type.indexOf("touch")!==-1)(a)){const u=a;return u.touches!==void 0&&u.touches.length===1?O.some(u.touches[0]).map(f=>Jr(f.clientX,f.clientY)):O.none()}{const u=a;return u.clientX!==void 0?O.some(u).map(f=>Jr(f.clientX,f.clientY)):O.none()}},Xb=r=>r.model.minX,Gp=r=>r.model.minY,ek=r=>r.model.minX-1,tk=r=>r.model.minY-1,Ah=r=>r.model.maxX,ud=r=>r.model.maxY,nk=r=>r.model.maxX+1,ok=r=>r.model.maxY+1,rk=(r,a,u)=>a(r)-u(r),sk=r=>rk(r,Ah,Xb),k3=r=>rk(r,ud,Gp),ZI=r=>sk(r)/2,S3=r=>k3(r)/2,sy=(r,a)=>a?r.stepSize*r.speedMultiplier:r.stepSize,E3=r=>r.snapToGrid,A3=r=>r.snapStart,ik=r=>r.rounded,ak=(r,a)=>r[a+"-edge"]!==void 0,T3=r=>ak(r,"left"),jI=r=>ak(r,"right"),iy=r=>ak(r,"top"),KI=r=>ak(r,"bottom"),Th=r=>r.model.value.get(),dg=(r,a)=>({x:r,y:a}),ku=(r,a)=>{Nn(r,tw(),{value:a})},O3=(r,a,u,f)=>r<a?r:r>u?u:r===a?a-1:Math.max(a,r-f),nw=(r,a,u,f)=>r>u?r:r<a?a:r===u?u+1:Math.min(u,r+f),GI=(r,a,u)=>Math.max(a,Math.min(u,r)),qI=r=>{const{min:a,max:u,range:f,value:p,step:b,snap:w,snapStart:S,rounded:E,hasMinEdge:D,hasMaxEdge:L,minBound:M,maxBound:z,screenRange:q}=r,X=D?a-1:a,ue=L?u+1:u;if(p<M)return X;if(p>z)return ue;{const me=((fe,de,ve)=>Math.min(ve,Math.max(fe,de))-de)(p,M,z),_e=GI(me/q*f+a,X,ue);return w&&_e>=a&&_e<=u?((fe,de,ve,ke,Ae)=>Ae.fold(()=>{const $e=fe-de,rt=Math.round($e/ke)*ke;return GI(de+rt,de-1,ve+1)},$e=>{const rt=(fe-$e)%ke,At=Math.round(rt/ke),kt=Math.floor((fe-$e)/ke),wt=Math.floor((ve-$e)/ke),Ht=$e+Math.min(wt,kt+At)*ke;return Math.max($e,Ht)}))(_e,a,u,b,S):E?Math.round(_e):_e}},lk=r=>{const{min:a,max:u,range:f,value:p,hasMinEdge:b,hasMaxEdge:w,maxBound:S,maxOffset:E,centerMinEdge:D,centerMaxEdge:L}=r;return p<a?b?0:D:p>u?w?S:L:(p-a)/f*E},D3="top",YI="right",XI="bottom",R3="left",fg=r=>r.element.dom.getBoundingClientRect(),Xd=(r,a)=>r[a],ck=r=>{const a=fg(r);return Xd(a,R3)},JI=r=>{const a=fg(r);return Xd(a,YI)},uk=r=>{const a=fg(r);return Xd(a,D3)},QI=r=>{const a=fg(r);return Xd(a,XI)},eN=r=>{const a=fg(r);return Xd(a,"width")},tN=r=>{const a=fg(r);return Xd(a,"height")},dk=(r,a,u)=>(r+a)/2-u,nN=(r,a)=>{const u=fg(r),f=fg(a),p=Xd(u,R3),b=Xd(u,YI),w=Xd(f,R3);return dk(p,b,w)},oN=(r,a)=>{const u=fg(r),f=fg(a),p=Xd(u,D3),b=Xd(u,XI),w=Xd(f,D3);return dk(p,b,w)},fk=(r,a)=>{Nn(r,tw(),{value:a})},mk=(r,a,u)=>{const f={min:Xb(a),max:Ah(a),range:sk(a),value:u,step:sy(a),snap:E3(a),snapStart:A3(a),rounded:ik(a),hasMinEdge:T3(a),hasMaxEdge:jI(a),minBound:ck(r),maxBound:JI(r),screenRange:eN(r)};return qI(f)},rN=r=>(a,u,f)=>((p,b,w,S)=>{const E=(p>0?nw:O3)(Th(w),Xb(w),Ah(w),sy(w,S));return fk(b,E),O.some(E)})(r,a,u,f).map(Fe),I3=(r,a,u,f,p,b)=>{const w=((S,E,D,L,M)=>{const z=eN(S),q=L.bind(me=>O.some(nN(me,S))).getOr(0),X=M.bind(me=>O.some(nN(me,S))).getOr(z),ue={min:Xb(E),max:Ah(E),range:sk(E),value:D,hasMinEdge:T3(E),hasMaxEdge:jI(E),minBound:ck(S),minOffset:0,maxBound:JI(S),maxOffset:z,centerMinEdge:q,centerMaxEdge:X};return lk(ue)})(a,b,u,f,p);return ck(a)-ck(r)+w},b7=rN(-1),y7=rN(1),x7=O.none,w7=O.none,N3={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((r,a)=>{ku(r,nk(a))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((r,a)=>{ku(r,ek(a))})};var C7=Object.freeze({__proto__:null,setValueFrom:(r,a,u)=>{const f=mk(r,a,u);return fk(r,f),f},setToMin:(r,a)=>{const u=Xb(a);fk(r,u)},setToMax:(r,a)=>{const u=Ah(a);fk(r,u)},findValueOfOffset:mk,getValueFromEvent:r=>_3(r).map(a=>a.left),findPositionOfValue:I3,setPositionFromValue:(r,a,u,f)=>{const p=Th(u),b=I3(r,f.getSpectrum(r),p,f.getLeftEdge(r),f.getRightEdge(r),u),w=Oi(a.element)/2;co(a.element,"left",b-w+"px")},onLeft:b7,onRight:y7,onUp:x7,onDown:w7,edgeActions:N3});const gk=(r,a)=>{Nn(r,tw(),{value:a})},P3=(r,a,u)=>{const f={min:Gp(a),max:ud(a),range:k3(a),value:u,step:sy(a),snap:E3(a),snapStart:A3(a),rounded:ik(a),hasMinEdge:iy(a),hasMaxEdge:KI(a),minBound:uk(r),maxBound:QI(r),screenRange:tN(r)};return qI(f)},sN=r=>(a,u,f)=>((p,b,w,S)=>{const E=(p>0?nw:O3)(Th(w),Gp(w),ud(w),sy(w,S));return gk(b,E),O.some(E)})(r,a,u,f).map(Fe),M3=(r,a,u,f,p,b)=>{const w=((S,E,D,L,M)=>{const z=tN(S),q=L.bind(me=>O.some(oN(me,S))).getOr(0),X=M.bind(me=>O.some(oN(me,S))).getOr(z),ue={min:Gp(E),max:ud(E),range:k3(E),value:D,hasMinEdge:iy(E),hasMaxEdge:KI(E),minBound:uk(S),minOffset:0,maxBound:QI(S),maxOffset:z,centerMinEdge:q,centerMaxEdge:X};return lk(ue)})(a,b,u,f,p);return uk(a)-uk(r)+w},_7=O.none,k7=O.none,S7=sN(-1),E7=sN(1),A7={"top-left":O.none(),top:O.some((r,a)=>{ku(r,tk(a))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((r,a)=>{ku(r,ok(a))}),"bottom-left":O.none(),left:O.none()};var T7=Object.freeze({__proto__:null,setValueFrom:(r,a,u)=>{const f=P3(r,a,u);return gk(r,f),f},setToMin:(r,a)=>{const u=Gp(a);gk(r,u)},setToMax:(r,a)=>{const u=ud(a);gk(r,u)},findValueOfOffset:P3,getValueFromEvent:r=>_3(r).map(a=>a.top),findPositionOfValue:M3,setPositionFromValue:(r,a,u,f)=>{const p=Th(u),b=M3(r,f.getSpectrum(r),p,f.getTopEdge(r),f.getBottomEdge(r),u),w=Os(a.element)/2;co(a.element,"top",b-w+"px")},onLeft:_7,onRight:k7,onUp:S7,onDown:E7,edgeActions:A7});const hk=(r,a)=>{Nn(r,tw(),{value:a})},pk=(r,a)=>({x:r,y:a}),Jb=(r,a)=>(u,f,p)=>((b,w,S,E,D)=>{const L=b>0?nw:O3,M=w?Th(E).x:L(Th(E).x,Xb(E),Ah(E),sy(E,D)),z=w?L(Th(E).y,Gp(E),ud(E),sy(E,D)):Th(E).y;return hk(S,pk(M,z)),O.some(M)})(r,a,u,f,p).map(Fe),O7=Jb(-1,!1),B3=Jb(1,!1),D7=Jb(-1,!0),R7=Jb(1,!0),I7={"top-left":O.some((r,a)=>{ku(r,dg(ek(a),tk(a)))}),top:O.some((r,a)=>{ku(r,dg(ZI(a),tk(a)))}),"top-right":O.some((r,a)=>{ku(r,dg(nk(a),tk(a)))}),right:O.some((r,a)=>{ku(r,dg(nk(a),S3(a)))}),"bottom-right":O.some((r,a)=>{ku(r,dg(nk(a),ok(a)))}),bottom:O.some((r,a)=>{ku(r,dg(ZI(a),ok(a)))}),"bottom-left":O.some((r,a)=>{ku(r,dg(ek(a),ok(a)))}),left:O.some((r,a)=>{ku(r,dg(ek(a),S3(a)))})};var iN=Object.freeze({__proto__:null,setValueFrom:(r,a,u)=>{const f=mk(r,a,u.left),p=P3(r,a,u.top),b=pk(f,p);return hk(r,b),b},setToMin:(r,a)=>{const u=Xb(a),f=Gp(a);hk(r,pk(u,f))},setToMax:(r,a)=>{const u=Ah(a),f=ud(a);hk(r,pk(u,f))},getValueFromEvent:r=>_3(r),setPositionFromValue:(r,a,u,f)=>{const p=Th(u),b=I3(r,f.getSpectrum(r),p.x,f.getLeftEdge(r),f.getRightEdge(r),u),w=M3(r,f.getSpectrum(r),p.y,f.getTopEdge(r),f.getBottomEdge(r),u),S=Oi(a.element)/2,E=Os(a.element)/2;co(a.element,"left",b-S+"px"),co(a.element,"top",w-E+"px")},onLeft:O7,onRight:B3,onUp:D7,onDown:R7,edgeActions:I7});const Jd=Vl({name:"Slider",configFields:[it("stepSize",1),it("speedMultiplier",10),it("onChange",ce),it("onChoose",ce),it("onInit",ce),it("onDragStart",ce),it("onDragEnd",ce),it("snapToGrid",!1),it("rounded",!0),Go("snapStart"),Zi("model",hi("mode",{x:[it("minX",0),it("maxX",100),Wi("value",r=>Vn(r.mode.minX)),Dt("getInitialValue"),Kr("manager",C7)],y:[it("minY",0),it("maxY",100),Wi("value",r=>Vn(r.mode.minY)),Dt("getInitialValue"),Kr("manager",T7)],xy:[it("minX",0),it("maxX",100),it("minY",0),it("maxY",100),Wi("value",r=>Vn({x:r.mode.minX,y:r.mode.minY})),Dt("getInitialValue"),Kr("manager",iN)]})),yn("sliderBehaviours",[Ln,lt]),Wi("mouseIsDown",()=>Vn(!1))],partFields:v7,factory:(r,a,u,f)=>{const p=fe=>vh(fe,r,"thumb"),b=fe=>vh(fe,r,"spectrum"),w=fe=>qr(fe,r,"left-edge"),S=fe=>qr(fe,r,"right-edge"),E=fe=>qr(fe,r,"top-edge"),D=fe=>qr(fe,r,"bottom-edge"),L=r.model,M=L.manager,z=(fe,de)=>{M.setPositionFromValue(fe,de,r,{getLeftEdge:w,getRightEdge:S,getTopEdge:E,getBottomEdge:D,getSpectrum:b})},q=(fe,de)=>{L.value.set(de);const ve=p(fe);z(fe,ve)},X=fe=>{const de=r.mouseIsDown.get();r.mouseIsDown.set(!1),de&&qr(fe,r,"thumb").each(ve=>{const ke=L.value.get();r.onChoose(fe,ve,ke)})},ue=(fe,de)=>{de.stop(),r.mouseIsDown.set(!0),r.onDragStart(fe,p(fe))},me=(fe,de)=>{de.stop(),r.onDragEnd(fe,p(fe)),X(fe)},_e=fe=>{qr(fe,r,"spectrum").map(Ln.focusIn)};return{uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.sliderBehaviours,[Ln.config({mode:"special",focusIn:_e}),lt.config({store:{mode:"manual",getValue:fe=>L.value.get(),setValue:q}}),wl.config({channels:{[U()]:{onReceive:X}}})]),events:fo([St(tw(),(fe,de)=>{((ve,ke)=>{q(ve,ke);const Ae=p(ve);r.onChange(ve,Ae,ke)})(fe,de.event.value)}),ss((fe,de)=>{const ve=L.getInitialValue();L.value.set(ve);const ke=p(fe);z(fe,ke);const Ae=b(fe);r.onInit(fe,ke,Ae,L.value.get())}),St(Z(),ue),St(Re(),me),St(Rt(),(fe,de)=>{_e(fe),ue(fe,de)}),St(lo(),me)]),apis:{resetToMin:fe=>{M.setToMin(fe,r)},resetToMax:fe=>{M.setToMax(fe,r)},setValue:q,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(r,a,u)=>{r.setValue(a,u)},resetToMin:(r,a)=>{r.resetToMin(a)},resetToMax:(r,a)=>{r.resetToMax(a)},refresh:(r,a)=>{r.refresh(a)}}}),ow=bn("rgb-hex-update"),vk=bn("slider-update"),L3=bn("palette-update"),bk="form",yk=[yn("formBehaviours",[lt])],F3=r=>"<alloy.field."+r+">",mg=(r,a)=>({uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.formBehaviours,[lt.config({store:{mode:"manual",getValue:u=>{const f=TE(u,r);return Dn(f,(p,b)=>p().bind(w=>{return S=or.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Vd(w.element)),S.fold(()=>Vo.error(E),Vo.value);var S,E}).map(lt.getValue))},setValue:(u,f)=>{Tn(f,(p,b)=>{qr(u,r,b).each(w=>{or.getCurrent(w).each(S=>{lt.setValue(S,p)})})})}}})]),apis:{getField:(u,f)=>qr(u,r,f).bind(or.getCurrent)}}),qp={getField:l0((r,a,u)=>r.getField(a,u)),sketch:r=>{const a=(()=>{const b=[];return{field:(w,S)=>(b.push(w),SE(bk,F3(w),S)),record:ee(b)}})(),u=r(a),f=a.record(),p=Ye(f,b=>_l({name:b,pname:F3(b)}));return Qx(bk,yk,p,mg,u)}},aN=bn("valid-input"),lN=bn("invalid-input"),cN=bn("validating-input"),V3="colorcustom.rgb.",rw={isEnabled:Fe,setEnabled:ce,immediatelyShow:ce,immediatelyHide:ce},N7=(r,a,u,f,p,b)=>{const w=(q,X)=>{const ue=X.get();q!==ue.isEnabled()&&(ue.setEnabled(q),q?ue.immediatelyShow():ue.immediatelyHide())},S=(q,X,ue)=>ug.config({invalidClass:a("invalid"),notify:{onValidate:me=>{Nn(me,cN,{type:q})},onValid:me=>{w(!1,ue),Nn(me,aN,{type:q,value:lt.getValue(me)})},onInvalid:me=>{w(!0,ue),Nn(me,lN,{type:q,value:lt.getValue(me)})}},validator:{validate:me=>{const _e=lt.getValue(me),fe=X(_e)?Vo.value(!0):Vo.error(r("aria.input.invalid"));return cg(fe)},validateOnLoad:!1}}),E=(q,X,ue,me,_e)=>{const fe=Vn(rw),de=r(V3+"range"),ve=Or.parts.label({dom:{tag:"label",attributes:{"aria-label":me}},components:[Vs(ue)]}),ke=Or.parts.field({data:_e,factory:Ch,inputAttributes:{type:"text",...X==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Zt([S(X,q,fe),Zr.config({}),ri.config({...p({tooltipText:"",onSetup:wt=>{fe.set({isEnabled:()=>ri.isEnabled(wt),setEnabled:Ht=>ri.setEnabled(wt,Ht),immediatelyShow:()=>ri.immediateOpenClose(wt,!0),immediatelyHide:()=>ri.immediateOpenClose(wt,!1)}),ri.setEnabled(wt,!1)},onShow:(wt,Ht)=>{ri.setComponents(wt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Vs(r(X==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:wt=>{ug.isInvalid(wt)&&ug.run(wt).get(ce)}}),Ae=bn("aria-invalid"),$e=kr(b("invalid",O.some(Ae),"warning")),rt=[ve,ke,kr({dom:{tag:"div",classes:[a("invalid-icon")]},components:[$e.asSpec()]}).asSpec()],At=X!=="hex"?[Or.parts["aria-descriptor"]({text:de})]:[],kt=rt.concat(At);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:kt}},D=(q,X)=>{const ue=X.red,me=X.green,_e=X.blue;lt.setValue(q,{red:ue,green:me,blue:_e})},L=kr({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(q,X)=>{L.getOpt(q).each(ue=>{co(ue.element,"background-color","#"+X.value)})};return yu({factory:()=>{const q={red:Vn(O.some(255)),green:Vn(O.some(255)),blue:Vn(O.some(255)),hex:Vn(O.some("ffffff"))},X=rt=>q[rt].get(),ue=(rt,At)=>{q[rt].set(At)},me=rt=>{const At=rt.red,kt=rt.green,wt=rt.blue;ue("red",O.some(At)),ue("green",O.some(kt)),ue("blue",O.some(wt))},_e=(rt,At)=>{const kt=At.event;kt.type!=="hex"?ue(kt.type,O.none()):f(rt)},fe=(rt,At)=>{const kt=At.event;(wt=>wt.type==="hex")(kt)?((wt,Ht)=>{u(wt);const mn=HA(Ht);ue("hex",O.some(mn.value));const En=qd(mn);D(wt,En),me(En),Nn(wt,ow,{hex:mn}),M(wt,mn)})(rt,kt.value):((wt,Ht,mn)=>{const En=parseInt(mn,10);ue(Ht,O.some(En)),X("red").bind($n=>X("green").bind(io=>X("blue").map(zo=>Sh($n,io,zo,1)))).each($n=>{const io=((zo,ns)=>{const ms=Z2(ns);return qp.getField(zo,"hex").each(Eo=>{no.isFocused(Eo)||lt.setValue(zo,{hex:ms.value})}),ms})(wt,$n);Nn(wt,ow,{hex:io}),M(wt,io)})})(rt,kt.type,kt.value)},de=rt=>({label:r(V3+rt+".label"),description:r(V3+rt+".description")}),ve=de("red"),ke=de("green"),Ae=de("blue"),$e=de("hex");return Mr(qp.sketch(rt=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":r("aria.color.picker")}},components:[rt.field("red",Or.sketch(E(j2,"red",ve.label,ve.description,255))),rt.field("green",Or.sketch(E(j2,"green",ke.label,ke.description,255))),rt.field("blue",Or.sketch(E(j2,"blue",Ae.label,Ae.description,255))),rt.field("hex",Or.sketch(E(rI,"hex",$e.label,$e.description,"ffffff"))),L.asSpec()],formBehaviours:Zt([ug.config({invalidClass:a("form-invalid")}),_o("rgb-form-events",[St(aN,fe),St(lN,_e),St(cN,_e)])])})),{apis:{updateHex:(rt,At)=>{lt.setValue(rt,{hex:At.value}),((kt,wt)=>{const Ht=qd(wt);D(kt,Ht),me(Ht)})(rt,At),M(rt,At)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,X,ue)=>{q.updateHex(X,ue)}},extraApis:{}})},uN=(r,a,u,f)=>yu({name:"ColourPicker",configFields:[Dt("dom"),it("onValidHex",ce),it("onInvalidHex",ce)],factory:b=>{const w=N7(r,a,b.onValidHex,b.onInvalidHex,u,f),S=((_e,fe)=>{const de=Jd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[fe("sv-palette-spectrum")]}}),ve=Jd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[fe("sv-palette-thumb")],innerHtml:`<div class=${fe("sv-palette-inner-thumb")} role="presentation"></div>`}}),ke=(Ae,$e)=>{const{width:rt,height:At}=Ae,kt=Ae.getContext("2d");if(kt===null)return;kt.fillStyle=$e,kt.fillRect(0,0,rt,At);const wt=kt.createLinearGradient(0,0,rt,0);wt.addColorStop(0,"rgba(255,255,255,1)"),wt.addColorStop(1,"rgba(255,255,255,0)"),kt.fillStyle=wt,kt.fillRect(0,0,rt,At);const Ht=kt.createLinearGradient(0,0,0,At);Ht.addColorStop(0,"rgba(0,0,0,0)"),Ht.addColorStop(1,"rgba(0,0,0,1)"),kt.fillStyle=Ht,kt.fillRect(0,0,rt,At)};return yu({factory:Ae=>{const $e=ee({x:0,y:0}),rt=Zt([or.config({find:O.some}),no.config({})]);return Jd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":_e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[fe("sv-palette")]},model:{mode:"xy",getInitialValue:$e},rounded:!1,components:[de,ve],onChange:(At,kt,wt)=>{te(wt)||rn(At.element,"aria-valuetext",_e(["Saturation {0}%, Brightness {1}%",Math.floor(wt.x),Math.floor(100-wt.y)])),Nn(At,L3,{value:wt})},onInit:(At,kt,wt,Ht)=>{ke(wt.element.dom,lI(cI))},sliderBehaviours:rt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ae,$e,rt)=>{((At,kt)=>{const wt=At.components()[0].element.dom,Ht=ty(kt,100,100),mn=aI(Ht);ke(wt,lI(mn))})($e,rt)},setThumb:(Ae,$e,rt)=>{((At,kt)=>{const wt=z_(qd(kt));Jd.setValue(At,{x:wt.saturation,y:100-wt.value}),rn(At.element,"aria-valuetext",_e(["Saturation {0}%, Brightness {1}%",wt.saturation,wt.value]))})($e,rt)}},extraApis:{}})})(r,a),E={paletteRgba:Vn(cI),paletteHue:Vn(0)},D=kr(((_e,fe)=>{const de=Jd.parts.spectrum({dom:{tag:"div",classes:[fe("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ve=Jd.parts.thumb({dom:{tag:"div",classes:[fe("hue-slider-thumb")],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:[fe("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ee(0)},components:[de,ve],sliderBehaviours:Zt([no.config({})]),onChange:(ke,Ae,$e)=>{rn(ke.element,"aria-valuenow",Math.floor(360-3.6*$e)),Nn(ke,vk,{value:$e})}})})(0,a)),L=kr(S.sketch({})),M=kr(w.sketch({})),z=(_e,fe,de)=>{L.getOpt(_e).each(ve=>{S.setHue(ve,de)})},q=(_e,fe)=>{M.getOpt(_e).each(de=>{w.updateHex(de,fe)})},X=(_e,fe,de)=>{D.getOpt(_e).each(ve=>{Jd.setValue(ve,(ke=>100-ke/360*100)(de))})},ue=(_e,fe)=>{L.getOpt(_e).each(de=>{S.setThumb(de,fe)})},me=(_e,fe,de,ve)=>{((ke,Ae)=>{const $e=qd(ke);E.paletteRgba.set($e),E.paletteHue.set(Ae)})(fe,de),Mt(ve,ke=>{ke(_e,fe,de)})};return{uid:b.uid,dom:b.dom,components:[L.asSpec(),D.asSpec(),M.asSpec()],behaviours:Zt([_o("colour-picker-events",[St(ow,(()=>{const _e=[z,X,ue];return(fe,de)=>{const ve=de.event.hex,ke=(Ae=>z_(qd(Ae)))(ve);me(fe,ve,ke.hue,_e)}})()),St(L3,(()=>{const _e=[q];return(fe,de)=>{const ve=de.event.value,ke=E.paletteHue.get(),Ae=ty(ke,ve.x,100-ve.y),$e=H_(Ae);me(fe,$e,ke,_e)}})()),St(vk,(()=>{const _e=[z,q];return(fe,de)=>{const ve=(At=>(100-At)/100*360)(de.event.value),ke=E.paletteRgba.get(),Ae=z_(ke),$e=ty(ve,Ae.saturation,Ae.value),rt=H_($e);me(fe,rt,ve,_e)}})())]),or.config({find:_e=>M.getOpt(_e)}),Ln.config({mode:"acyclic"})])}}}),gg=()=>or.config({find:O.some}),z3=r=>or.config({find:a=>cs(a.element,r).bind(u=>a.getSystem().getByDom(u).toOptional())}),H3=Zn([it("preprocess",we),it("postprocess",we)]),$3=(r,a)=>{const u=Ea("RepresentingConfigs.memento processors",H3,a);return lt.config({store:{mode:"manual",getValue:f=>{const p=r.get(f),b=lt.getValue(p);return u.postprocess(b)},setValue:(f,p)=>{const b=u.preprocess(p),w=r.get(f);lt.setValue(w,b)}}})},Qb=(r,a,u)=>lt.config({store:{mode:"manual",...r.map(f=>({initialValue:f})).getOr({}),getValue:a,setValue:u}}),U3=(r,a,u)=>Qb(r,f=>a(f.element),(f,p)=>u(f.element,p)),sw=r=>lt.config({store:{mode:"memory",initialValue:r}}),P7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var dN=tinymce.util.Tools.resolve("tinymce.Resource");const W3=r=>To(r,"init");var Oh=tinymce.util.Tools.resolve("tinymce.util.Tools");const Z3=(r,a)=>{let u=null;const f=()=>{R(u)||(clearTimeout(u),u=null)};return{cancel:f,throttle:(...p)=>{f(),u=setTimeout(()=>{u=null,r.apply(null,p)},a)}}},j3=bn("alloy-fake-before-tabstop"),K3=bn("alloy-fake-after-tabstop"),fN=r=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:r},behaviours:Zt([no.config({ignore:!0}),Zr.config({})])}),G3=(r,a)=>({dom:{tag:"div",classes:["tox-navobj",...r.getOr([])]},components:[fN([j3]),a,fN([K3])],behaviours:Zt([z3(1)])}),q3=(r,a)=>{Nn(r,ks(),{raw:{which:9,shiftKey:a}})},M7=(r,a)=>{const u=a.element;nl(u,j3)?q3(r,!0):nl(u,K3)&&q3(r,!1)},ay=r=>ry(r,["."+j3,"."+K3].join(","),Ee),Yp=bn("update-dialog"),Y3=bn("update-title"),mN=bn("update-body"),gN=bn("update-footer"),X3=bn("body-send-message"),xk=bn("dialog-focus-shifted"),J3=sa().browser,ly=J3.isSafari(),hN=J3.isFirefox(),Q3=ly||hN,pN=J3.isChromium(),B7=({scrollTop:r,scrollHeight:a,clientHeight:u})=>Math.ceil(r)+u>=a,vN=(r,a)=>r.scrollTo(0,a==="bottom"?99999999:a),e4=(r,a,u)=>{const f=r.dom;O.from(f.contentDocument).fold(u,p=>{let b=0;const w=((E,D)=>{const L=E.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(D)&&(!pN&&!ly||G(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(p,a).map(E=>(b=E.scrollTop,E)).forall(B7),S=()=>{const E=f.contentWindow;G(E)&&(w?vN(E,"bottom"):!w&&Q3&&b!==0&&vN(E,b))};ly&&f.addEventListener("load",S,{once:!0}),p.open(),p.write(a),p.close(),ly||S()})},t4=ar(Q3,ly?500:200).map(r=>((a,u)=>{let f=null,p=null;return{cancel:()=>{R(f)||(clearTimeout(f),f=null,p=null)},throttle:(...b)=>{p=b,R(f)&&(f=setTimeout(()=>{const w=p;f=null,p=null,a.apply(null,w)},u))}}})(e4,r)),wk=bn("toolbar.button.execute"),Xp=bn("common-button-display-events"),n4={[bl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ua()]:["toolbar-button-events",Xp],[Dc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Rt()]:["focusing","alloy.base.behaviour",Xp]},Ck=r=>co(r.element,"width",ws(r.element,"width")),bN=(r,a,u)=>Wc(r,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},a),iw=(r,a)=>bN(r,a,[]),Jp=(r,a)=>bN(r,a,[qn.config({})]),o4=(r,a,u)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Vs(u.translate(r))],behaviours:Zt([qn.config({})])}),Su=bn("update-menu-text"),dd=bn("update-menu-icon"),r4=(r,a,u,f)=>{const p=Vn(ce),b=r.text.map(ue=>kr(o4(ue,a,u.providers))),w=r.icon.map(ue=>kr(Jp(ue,u.providers.icons))),S=(ue,me)=>{const _e=lt.getValue(ue);return no.focus(_e),Nn(_e,"keydown",{raw:me.event.raw}),kl.close(_e),O.some(!0)},E=r.role.fold(()=>({}),ue=>({role:ue})),D=O.from(r.listRole).map(ue=>({listRole:ue})).getOr({}),L=r.ariaLabel.fold(()=>({}),ue=>({"aria-label":u.providers.translate(ue)})),M=Wc("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},u.providers.icons),z=bn("common-button-display-events"),q="dropdown-events";return kr(kl.sketch({...r.uid?{uid:r.uid}:{},...E,...D,dom:{tag:"button",classes:[a,`${a}--select`].concat(Ye(r.classes,ue=>`${a}--${ue}`)),attributes:{...L,...G(f)?{"data-mce-name":f}:{}}},components:Y0([w.map(ue=>ue.asSpec()),b.map(ue=>ue.asSpec()),O.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(ue,me,_e)=>{r.searchable&&(fe=>{DR(fe).each(de=>no.focus(de))})(_e)},dropdownBehaviours:Zt([...r.dropdownBehaviours,Da(()=>r.disabled||u.providers.isDisabled()),Pi(),Yb.config({}),qn.config({}),...r.tooltip.map(ue=>ri.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(ue)}))).toArray(),_o(q,[$p(r,p),_h(r,p)]),_o(z,[ss((ue,me)=>r.listRole==="listbox"?ce:Ck(ue))]),_o("menubutton-update-display-text",[St(Su,(ue,me)=>{b.bind(_e=>_e.getOpt(ue)).each(_e=>{qn.set(_e,[Vs(u.providers.translate(me.event.text))])})}),St(dd,(ue,me)=>{w.bind(_e=>_e.getOpt(ue)).each(_e=>{qn.set(_e,[Jp(me.event.icon,u.providers.icons)])})})])]),eventOrder:Mr(n4,{[Rt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ua()]:["toolbar-button-events",ri.name(),q,z]}),sandboxBehaviours:Zt([Ln.config({mode:"special",onLeft:S,onRight:S}),_o("dropdown-sandbox-events",[St(AR,(ue,me)=>{(_e=>{const fe=lt.getValue(_e),de=B2(_e).map(RR);kl.refetch(fe).get(()=>{const ve=zs.getCoupled(fe,"sandbox");de.each(ke=>B2(ve).each(Ae=>(($e,rt)=>{lt.setValue($e,rt.fetchPattern),$e.element.dom.selectionStart=rt.selectionStart,$e.element.dom.selectionEnd=rt.selectionEnd})(Ae,ke)))})})(ue),me.stop()}),St(TR,(ue,me)=>{((_e,fe)=>{(de=>T.getState(de).bind(Sr.getHighlighted).bind(Sr.getHighlighted))(_e).each(de=>{((ve,ke,Ae,$e)=>{const rt={...$e,target:ke};ve.getSystem().triggerEvent(Ae,ke,rt)})(_e,de.element,fe.event.eventType,fe.event.interactionEvent)})})(ue,me),me.stop()})])]),lazySink:u.getSink,toggleClass:`${a}--active`,parts:{menu:{...A_(0,r.columns,r.presets),fakeFocus:r.searchable,...r.listRole==="listbox"?{}:{onHighlightItem:RI,onCollapseMenu:(ue,me,_e)=>{Sr.getHighlighted(_e).each(fe=>{RI(ue,_e,fe)})},onDehighlightItem:r7}}},getAnchorOverrides:()=>({maxHeightFunction:(ue,me)=>{Gm()(ue,me-10)}}),fetch:ue=>Up(Ze(r.fetch,ue))})).asSpec()},_k=r=>r.type==="separator",kk={type:"separator"},yN=(r,a)=>{const u=((f,p)=>{const b=kn(f,(w,S)=>(E=>v(E))(S)?S===""?w:S==="|"?w.length>0&&!_k(w[w.length-1])?w.concat([kk]):w:To(p,S.toLowerCase())?w.concat([p[S.toLowerCase()]]):w:w.concat([S]),[]);return b.length>0&&_k(b[b.length-1])&&b.pop(),b})(v(r)?r.split(" "):r,a);return fn(u,(f,p)=>{if((b=>To(b,"getSubmenuItems"))(p)){const b=(S=>{const E=hn(S,"value").getOrThunk(()=>bn("generated-menu-item"));return Mr({value:E},S)})(p),w=((S,E)=>{const D=S.getSubmenuItems(),L=yN(D,E);return{item:S,menus:Mr(L.menus,{[S.value]:L.items}),expansions:Mr(L.expansions,{[S.value]:S.value})}})(b,a);return{menus:Mr(f.menus,w.menus),items:[w.item,...f.items],expansions:Mr(f.expansions,w.expansions)}}return{...f,items:[p,...f.items]}},{menus:{},expansions:{},items:[]})},e1=(r,a,u,f)=>{const p=bn("primary-menu"),b=yN(r,u.shared.providers.menuItems());if(b.items.length===0)return O.none();const w=(M=>M.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(f),S=II(p,b.items,a,u,f.isHorizontalMenu,w),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(f),D=Dn(b.menus,(M,z)=>II(z,M,a,u,!1,E)),L=Mr(D,lu(p,S));return O.from(bh.tieredData(p,L,b.expansions))},aw=r=>!To(r,"items"),s4="data-value",Sk=(r,a,u,f,p)=>Ye(u,b=>aw(b)?{type:"togglemenuitem",...p?{}:{role:"option"},text:b.text,value:b.value,active:b.value===f,onAction:()=>{lt.setValue(r,b.value),Nn(r,ll,{name:a}),no.focus(r)}}:{type:"nestedmenuitem",text:b.text,getSubmenuItems:()=>Sk(r,a,b.items,f,p)}),Ek=(r,a)=>Vt(r,u=>aw(u)?ar(u.value===a,u):Ek(u.items,a)),L7=yu({name:"HtmlSelect",configFields:[Dt("options"),yn("selectBehaviours",[no,lt]),it("selectClasses",[]),it("selectAttributes",{}),Go("data")],factory:(r,a)=>{const u=Ye(r.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),f=r.data.map(p=>lu("initialValue",p)).getOr({});return{uid:r.uid,dom:{tag:"select",classes:r.selectClasses,attributes:r.selectAttributes},components:u,behaviours:xo(r.selectBehaviours,[no.config({}),lt.config({store:{mode:"manual",getValue:p=>Nf(p.element),setValue:(p,b)=>{const w=zt(r.options);J(r.options,S=>S.value===b).isSome()?Hm(p.element,b):p.element.dom.selectedIndex===-1&&b===""&&w.each(S=>Hm(p.element,S.value))},...f}})])}}}),xN=ee([it("field1Name","field1"),it("field2Name","field2"),Ju("onLockedChange"),th(["lockClass"]),it("locked",!1),ro("coupledFieldBehaviours",[or,lt])]),i4=(r,a)=>_l({factory:Or,name:r,overrides:u=>({fieldBehaviours:Zt([_o("coupled-input-behaviour",[St(Nm(),f=>{((p,b,w)=>qr(p,b,w).bind(or.getCurrent))(f,u,a).each(p=>{qr(f,u,"lock").each(b=>{Qn.isOn(b)&&u.onLockedChange(f,p,b)})})})])])})}),wN=ee([i4("field1","field2"),i4("field2","field1"),_l({factory:Wa,schema:[Dt("dom")],name:"lock",overrides:r=>({buttonBehaviours:Zt([Qn.config({selected:r.locked,toggleClass:r.markers.lockClass,aria:{mode:"pressed"}})])})})]),Kc=Vl({name:"FormCoupledInputs",configFields:xN(),partFields:wN(),factory:(r,a,u,f)=>({uid:r.uid,dom:r.dom,components:a,behaviours:Jn(r.coupledFieldBehaviours,[or.config({find:O.some}),lt.config({store:{mode:"manual",getValue:p=>{const b=OE(p,r,["field1","field2"]);return{[r.field1Name]:lt.getValue(b.field1()),[r.field2Name]:lt.getValue(b.field2())}},setValue:(p,b)=>{const w=OE(p,r,["field1","field2"]);bo(b,r.field1Name)&&lt.setValue(w.field1(),b[r.field1Name]),bo(b,r.field2Name)&&lt.setValue(w.field2(),b[r.field2Name])}}})]),apis:{getField1:p=>qr(p,r,"field1"),getField2:p=>qr(p,r,"field2"),getLock:p=>qr(p,r,"lock")}}),apis:{getField1:(r,a)=>r.getField1(a),getField2:(r,a)=>r.getField2(a),getLock:(r,a)=>r.getLock(a)}}),a4=r=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(r);if(a!==null){const u=parseFloat(a[1]),f=a[2];return Vo.value({value:u,unit:f})}return Vo.error(r)},l4=(r,a)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=p=>To(u,p);return r.unit===a?O.some(r.value):f(r.unit)&&f(a)?u[r.unit]===u[a]?O.some(r.value):O.some(r.value/u[r.unit]*u[a]):O.none()},c4=r=>O.none(),CN=(r,a)=>{const u=r.label.map(L=>Zp(L,a)),f=[so.config({disabled:()=>r.disabled||a.isDisabled()}),Pi(),Ln.config({mode:"execution",useEnter:r.multiline!==!0,useControlEnter:r.multiline===!0,execute:L=>(Ao(L,ew),O.some(!0))}),_o("textfield-change",[St(Nm(),(L,M)=>{Nn(L,ll,{name:r.name})}),St(ax(),(L,M)=>{Nn(L,ll,{name:r.name})})]),Zr.config({})],p=r.validation.map(L=>ug.config({getRoot:M=>ka(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const z=lt.getValue(M),q=L.validator(z);return cg(q===!0?Vo.value(z):Vo.error(q))},validateOnLoad:L.validateOnLoad}})).toArray(),b={...r.placeholder.fold(ee({}),L=>({placeholder:a.translate(L)})),...r.inputMode.fold(ee({}),L=>({inputmode:L})),"data-mce-name":r.name},w=Or.parts.field({tag:r.multiline===!0?"textarea":"input",...r.data.map(L=>({data:L})).getOr({}),inputAttributes:b,inputClasses:[r.classname],inputBehaviours:Zt(eo([f,p])),selectOnFocus:!1,factory:Ch}),S=r.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(r.flex?["tox-form__group--stretched"]:[]).concat(r.maximized?["tox-form-group--maximize"]:[]),D=[so.config({disabled:()=>r.disabled||a.isDisabled(),onDisabled:L=>{Or.getField(L).each(so.disable)},onEnabled:L=>{Or.getField(L).each(so.enable)}}),Pi()];return Q2(u,S,E,D)},lw=(r,a)=>a.getAnimationRoot.fold(()=>r.element,u=>u(r)),Dh=r=>r.dimension.property,Qp=(r,a)=>r.dimension.getDimension(a),ev=(r,a)=>{const u=lw(r,a);lc(u,[a.shrinkingClass,a.growingClass])},Ak=(r,a)=>{Is(r.element,a.openClass),Ss(r.element,a.closedClass),co(r.element,Dh(a),"0px"),Vu(r.element)},u4=(r,a)=>{Is(r.element,a.closedClass),Ss(r.element,a.openClass),_r(r.element,Dh(a))},_N=(r,a,u,f)=>{u.setCollapsed(),co(r.element,Dh(a),Qp(a,r.element)),ev(r,a),Ak(r,a),a.onStartShrink(r),a.onShrunk(r)},F7=(r,a,u,f)=>{const p=f.getOrThunk(()=>Qp(a,r.element));u.setCollapsed(),co(r.element,Dh(a),p),Vu(r.element);const b=lw(r,a);Is(b,a.growingClass),Ss(b,a.shrinkingClass),Ak(r,a),a.onStartShrink(r)},kN=(r,a,u)=>{const f=Qp(a,r.element);(f==="0px"?_N:F7)(r,a,u,O.some(f))},SN=(r,a,u)=>{const f=lw(r,a),p=nl(f,a.shrinkingClass),b=Qp(a,r.element);u4(r,a);const w=Qp(a,r.element);(p?()=>{co(r.element,Dh(a),b),Vu(r.element)}:()=>{Ak(r,a)})(),Is(f,a.shrinkingClass),Ss(f,a.growingClass),u4(r,a),co(r.element,Dh(a),w),u.setExpanded(),a.onStartGrow(r)},cw=(r,a,u)=>{const f=lw(r,a);return nl(f,a.growingClass)===!0},EN=(r,a,u)=>{const f=lw(r,a);return nl(f,a.shrinkingClass)===!0};var AN=Object.freeze({__proto__:null,refresh:(r,a,u)=>{if(u.isExpanded()){_r(r.element,Dh(a));const f=Qp(a,r.element);co(r.element,Dh(a),f)}},grow:(r,a,u)=>{u.isExpanded()||SN(r,a,u)},shrink:(r,a,u)=>{u.isExpanded()&&kN(r,a,u)},immediateShrink:(r,a,u)=>{u.isExpanded()&&_N(r,a,u)},hasGrown:(r,a,u)=>u.isExpanded(),hasShrunk:(r,a,u)=>u.isCollapsed(),isGrowing:cw,isShrinking:EN,isTransitioning:(r,a,u)=>cw(r,a)||EN(r,a),toggleGrow:(r,a,u)=>{(u.isExpanded()?kN:SN)(r,a,u)},disableTransitions:ev,immediateGrow:(r,a,u)=>{u.isExpanded()||(u4(r,a),co(r.element,Dh(a),Qp(a,r.element)),ev(r,a),u.setExpanded(),a.onStartGrow(r),a.onGrown(r))}}),V7=Object.freeze({__proto__:null,exhibit:(r,a,u)=>{const f=a.expanded;return Ks(f?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:lu(a.dimension.property,"0px")})},events:(r,a)=>fo([Df(Bv(),(u,f)=>{f.event.raw.propertyName===r.dimension.property&&(ev(u,r),a.isExpanded()&&_r(u.element,r.dimension.property),(a.isExpanded()?r.onGrown:r.onShrunk)(u))})])}),TN=[Dt("closedClass"),Dt("openClass"),Dt("shrinkingClass"),Dt("growingClass"),Go("getAnimationRoot"),Jo("onShrunk"),Jo("onStartShrink"),Jo("onGrown"),Jo("onStartGrow"),it("expanded",!1),Zi("dimension",hi("property",{width:[Kr("property","width"),Kr("getDimension",r=>Oi(r)+"px")],height:[Kr("property","height"),Kr("getDimension",r=>Os(r)+"px")]}))];const Jl=Ni({fields:TN,name:"sliding",active:V7,apis:AN,state:Object.freeze({__proto__:null,init:r=>{const a=Vn(r.expanded);return Ii({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ze(a.set,!1),setExpanded:Ze(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),ON=r=>({isEnabled:()=>!so.isDisabled(r),setEnabled:a=>so.set(r,!a),setActive:a=>{const u=r.element;a?(Ss(u,"tox-tbtn--enabled"),rn(u,"aria-pressed",!0)):(Is(u,"tox-tbtn--enabled"),So(u,"aria-pressed"))},isActive:()=>nl(r.element,"tox-tbtn--enabled"),setText:a=>{Nn(r,Su,{text:a})},setIcon:a=>Nn(r,dd,{icon:a})}),cy=(r,a,u,f,p=!0,b)=>r4({text:r.text,icon:r.icon,tooltip:r.tooltip,ariaLabel:r.tooltip,searchable:r.search.isSome(),role:f,fetch:(w,S)=>{const E={pattern:r.search.isSome()?qb(w):""};r.fetch(D=>{S(e1(D,Jf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:r.search}))},E,ON(w))},onSetup:r.onSetup,getApi:ON,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Zr.config({})]:[]]},a,u.shared,b),DN=(r,a,u)=>{const f=b=>w=>{const S=!w.isActive();w.setActive(S),b.storage.set(S),u.shared.getSink().each(E=>{a().getOpt(E).each(D=>{Ha(D.element),Nn(D,em,{name:b.name,value:b.storage.get()})})})},p=b=>w=>{w.setActive(b.storage.get())};return b=>{b(Ye(r,w=>{const S=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...S,onAction:f(w),onSetup:p(w)}}))}},d4=r=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":r}},components:[Vs(r)]}),f4=bn("leaf-label-event-id"),m4=({leaf:r,onLeafAction:a,visible:u,treeId:f,selectedId:p,backstage:b})=>{const w=r.menu.map(E=>cy(E,"tox-mbtn",b,O.none(),u)),S=[d4(r.title)];return w.each(E=>S.push(E)),Wa.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:S,role:"treeitem",action:E=>{a(r.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:r.id})},eventOrder:{[ks()]:[f4,"keying"]},buttonBehaviours:Zt([...u?[Zr.config({})]:[],Qn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),wl.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,D)=>{(D.value===r.id?Qn.on:Qn.off)(E)}}}}),_o(f4,[ss((E,D)=>{p.each(L=>{(L===r.id?Qn.on:Qn.off)(E)})}),St(ks(),(E,D)=>{const L=D.event.raw.code==="ArrowLeft",M=D.event.raw.code==="ArrowRight";L?(Um(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(q=>{m0(z,".tox-tree--directory__label").each(X=>{q.getSystem().getByDom(X).each(no.focus)})})}),D.stop()):M&&D.stop()})])])})},RN=bn("directory-label-event-id"),z7=({directory:r,visible:a,noChildren:u,backstage:f})=>{const p=r.menu.map(D=>cy(D,"tox-mbtn",f,O.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",S=f.shared.providers.icons,((D,L,M)=>Wc(D,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,S))]},d4(r.title)];var w,S;p.each(D=>{b.push(D)});const E=D=>{Um(D.element,".tox-tree--directory").each(L=>{D.getSystem().getByDom(L).each(M=>{const z=!Qn.isOn(M);Qn.toggle(M),Nn(D,"expand-tree-node",{expanded:z,node:r.id})})})};return Wa.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:b,action:E,eventOrder:{[ks()]:[RN,"keying"]},buttonBehaviours:Zt([...a?[Zr.config({})]:[],_o(RN,[St(ks(),(D,L)=>{const M=L.event.raw.code==="ArrowRight",z=L.event.raw.code==="ArrowLeft";M&&u&&L.stop(),(M||z)&&Um(D.element,".tox-tree--directory").each(q=>{D.getSystem().getByDom(q).each(X=>{!Qn.isOn(X)&&M||Qn.isOn(X)&&z?(E(D),L.stop()):z&&!Qn.isOn(X)&&(Um(X.element,".tox-tree--directory").each(ue=>{m0(ue,".tox-tree--directory__label").each(me=>{X.getSystem().getByDom(me).each(no.focus)})}),L.stop())})})})])])})},H7=({children:r,onLeafAction:a,visible:u,treeId:f,expandedIds:p,selectedId:b,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:r.map(S=>S.type==="leaf"?m4({leaf:S,selectedId:b,onLeafAction:a,visible:u,treeId:f,backstage:w}):Tk({directory:S,expandedIds:p,selectedId:b,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:w})),behaviours:Zt([Jl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),qn.config({})])}),IN=bn("directory-event-id"),Tk=({directory:r,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:p,expandedIds:b,selectedId:w})=>{const{children:S}=r,E=Vn(b),D=b.includes(r.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[z7({directory:r,visible:u,noChildren:r.children.length===0,backstage:p}),H7({children:S,expandedIds:b,selectedId:w,onLeafAction:a,visible:D,treeId:f,backstage:p})],behaviours:Zt([_o(IN,[ss((L,M)=>{Qn.set(L,D)}),St("expand-tree-node",(L,M)=>{const{expanded:z,node:q}=M.event;E.set(z?[...E.get(),q]:E.get().filter(X=>X!==q))})]),Qn.config({...r.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,M)=>{const z=L.components()[1],q=(X=M,S.map(ue=>ue.type==="leaf"?m4({leaf:ue,selectedId:w,onLeafAction:a,visible:X,treeId:f,backstage:p}):Tk({directory:ue,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:X,treeId:f,backstage:p})));var X;M?Jl.grow(z):Jl.shrink(z),qn.set(z,q)}})])}},$7=bn("tree-event-id");var U7=Object.freeze({__proto__:null,events:(r,a)=>{const u=r.stream.streams.setup(r,a);return fo([St(r.event,u),Xu(()=>a.cancel())].concat(r.cancelEvent.map(f=>[St(f,()=>a.cancel())]).getOr([])))}});const NN=r=>{const a=Vn(null);return Ii({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:u=>{a.set(u)},cancel:()=>{const u=a.get();u!==null&&u.cancel()}})};var W7=Object.freeze({__proto__:null,throttle:NN,init:r=>r.stream.streams.state(r)}),Z7=[Zi("stream",hi("mode",{throttle:[Dt("delay"),it("stopEvent",!0),Kr("streams",{setup:(r,a)=>{const u=r.stream,f=Z3(r.onStream,u.delay);return a.setTimer(f),(p,b)=>{f.throttle(p,b),u.stopEvent&&b.stop()}},state:NN})]})),it("event","input"),Go("cancelEvent"),Ju("onStream")];const g4=Ni({fields:Z7,name:"streaming",active:U7,state:W7}),Ok=(r,a,u)=>{const f=lt.getValue(u);lt.setValue(a,f),h4(a)},Dk=(r,a)=>{const u=r.element,f=Nf(u),p=u.dom;Lo(u,"type")!=="number"&&a(p,f)},h4=r=>{Dk(r,(a,u)=>a.setSelectionRange(u.length,u.length))},p4=ee("alloy.typeahead.itemexecute"),j7=ee([Go("lazySink"),Dt("fetch"),it("minChars",5),it("responseTime",1e3),Jo("onOpen"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),it("layouts",O.none()),it("eventOrder",{}),za("model",{},[it("getDisplayText",r=>r.meta!==void 0&&r.meta.text!==void 0?r.meta.text:r.value),it("selectsOver",!0),it("populateFromBrowse",!0)]),Jo("onSetValue"),yl("onExecute"),Jo("onItemExecute"),it("inputClasses",[]),it("inputAttributes",{}),it("inputStyles",{}),it("matchWidth",!0),it("useMinWidth",!1),it("dismissOnBlur",!0),th(["openClass"]),Go("initialData"),Go("listRole"),yn("typeaheadBehaviours",[no,lt,g4,Ln,Qn,zs]),Wi("lazyTypeaheadComp",()=>Vn(O.none)),Wi("previewing",()=>Vn(!0))].concat(TF()).concat(u3())),PN=ee([jd({schema:[eh()],name:"menu",overrides:r=>({fakeFocus:!0,onHighlightItem:(a,u,f)=>{r.previewing.get()?r.lazyTypeaheadComp.get().each(p=>{((b,w,S)=>{if(b.selectsOver){const E=lt.getValue(w),D=b.getDisplayText(E),L=lt.getValue(S);return b.getDisplayText(L).indexOf(D)===0?O.some(()=>{Ok(0,w,S),((M,z)=>{Dk(M,(q,X)=>q.setSelectionRange(z,X.length))})(w,D.length)}):O.none()}return O.none()})(r.model,p,f).fold(()=>{r.model.selectsOver?(Sr.dehighlight(u,f),r.previewing.set(!0)):r.previewing.set(!1)},b=>{b(),r.previewing.set(!1)})}):r.lazyTypeaheadComp.get().each(p=>{r.model.populateFromBrowse&&Ok(r.model,p,f),Ko(f.element,"id").each(b=>rn(p.element,"aria-activedescendant",b))})},onExecute:(a,u)=>r.lazyTypeaheadComp.get().map(f=>(Nn(f,p4(),{item:u}),!0)),onHover:(a,u)=>{r.previewing.set(!1),r.lazyTypeaheadComp.get().each(f=>{r.model.populateFromBrowse&&Ok(r.model,f,u)})}})})]),K7=Vl({name:"Typeahead",configFields:j7(),partFields:PN(),factory:(r,a,u,f)=>{const p=(M,z,q)=>{r.previewing.set(!1);const X=zs.getCoupled(M,"sandbox");if(T.isOpen(X))or.getCurrent(X).each(ue=>{Sr.getHighlighted(ue).fold(()=>{q(ue)},()=>{Ic(X,ue.element,"keydown",z)})});else{const ue=me=>{or.getCurrent(me).each(q)};Z_(r,w(M),M,X,f,ue,al.HighlightMenuAndItem).get(ce)}},b=OF(r),w=M=>z=>z.map(q=>{const X=As(q.menus),ue=tn(X,me=>zn(me.items,_e=>_e.type==="item"));return lt.getState(M).update(Ye(ue,me=>me.data)),q}),S=M=>or.getCurrent(M),E="typeaheadevents",D=[no.config({}),lt.config({onSetValue:r.onSetValue,store:{mode:"dataset",getDataKey:M=>Nf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,z)=>{Hm(M.element,r.model.getDisplayText(z))},...r.initialData.map(M=>lu("initialValue",M)).getOr({})}}),g4.config({stream:{mode:"throttle",delay:r.responseTime,stopEvent:!1},onStream:(M,z)=>{const q=zs.getCoupled(M,"sandbox");if(no.isFocused(M)&&Nf(M.element).length>=r.minChars){const X=S(q).bind(me=>Sr.getHighlighted(me).map(lt.getValue));r.previewing.set(!0);const ue=me=>{S(q).each(_e=>{X.fold(()=>{r.model.selectsOver&&Sr.highlightFirst(_e)},fe=>{Sr.highlightBy(_e,de=>lt.getValue(de).value===fe.value),Sr.getHighlighted(_e).orThunk(()=>(Sr.highlightFirst(_e),O.none()))})})};Z_(r,w(M),M,q,f,ue,al.HighlightJustMenu).get(ce)}},cancelEvent:Md()}),Ln.config({mode:"special",onDown:(M,z)=>(p(M,z,Sr.highlightFirst),O.some(!0)),onEscape:M=>{const z=zs.getCoupled(M,"sandbox");return T.isOpen(z)?(T.close(z),O.some(!0)):O.none()},onUp:(M,z)=>(p(M,z,Sr.highlightLast),O.some(!0)),onEnter:M=>{const z=zs.getCoupled(M,"sandbox"),q=T.isOpen(z);if(q&&!r.previewing.get())return S(z).bind(X=>Sr.getHighlighted(X)).map(X=>(Nn(M,p4(),{item:X}),!0));{const X=lt.getValue(M);return Ao(M,Md()),r.onExecute(z,M,X),q&&T.close(z),O.some(!0)}}}),Qn.config({toggleClass:r.markers.openClass,aria:{mode:"expanded"}}),zs.config({others:{sandbox:M=>c3(r,M,{onOpen:()=>Qn.on(M),onClose:()=>{r.lazyTypeaheadComp.get().each(z=>So(z.element,"aria-activedescendant")),Qn.off(M)}})}}),_o(E,[ss(M=>{r.lazyTypeaheadComp.set(O.some(M))}),Xu(M=>{r.lazyTypeaheadComp.set(O.none())}),du(M=>{const z=ce;a3(r,w(M),M,f,z,al.HighlightMenuAndItem).get(ce)}),St(p4(),(M,z)=>{const q=zs.getCoupled(M,"sandbox");Ok(r.model,M,z.event.item),Ao(M,Md()),r.onItemExecute(M,q,z.event.item,lt.getValue(M)),T.close(q),h4(M)})].concat(r.dismissOnBlur?[St(lp(),M=>{const z=zs.getCoupled(M,"sandbox");Ys(z.element).isNone()&&T.close(z)})]:[]))],L={[Dc()]:[lt.name(),g4.name(),E],...r.eventOrder};return{uid:r.uid,dom:ER(Mr(r,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...xo(r.typeaheadBehaviours,D)},eventOrder:L}}}),t1=r=>({...r,toCached:()=>t1(r.toCached()),bindFuture:a=>t1(r.bind(u=>u.fold(f=>cg(Vo.error(f)),f=>a(f)))),bindResult:a=>t1(r.map(u=>u.bind(a))),mapResult:a=>t1(r.map(u=>u.map(a))),mapError:a=>t1(r.map(u=>u.mapError(a))),foldResult:(a,u)=>r.map(f=>f.fold(a,u)),withTimeout:(a,u)=>t1(Up(f=>{let p=!1;const b=setTimeout(()=>{p=!0,f(Vo.error(u()))},a);r.get(w=>{p||(clearTimeout(b),f(w))})}))}),MN=r=>t1(Up(r)),uw=(r,a,u=[],f,p,b,w)=>{const S=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Zt([Da(()=>!r.enabled||w.isDisabled()),Pi(),Zr.config({}),...b.map(L=>ri.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),_o("button press",[xC("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...S},D=Mr(E,{dom:f});return Mr(D,{components:p})},BN=(r,a,u,f=[],p)=>{const b={tag:"button",classes:["tox-tbtn"],attributes:{...r.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":p}},w=r.icon.map(E=>iw(E,u.icons)),S=Y0([w]);return uw(r,a,f,b,S,r.tooltip,u)},v4=r=>{switch(r){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},LN=(r,a,u,f=[],p=[])=>{const b=u.translate(r.text),w=r.icon.map(M=>iw(M,u.icons)),S=[w.getOrThunk(()=>Vs(b))],E=r.buttonType.getOr(r.primary||r.borderless?"primary":"secondary"),D={tag:"button",classes:[...v4(E),...w.isSome()?["tox-button--icon"]:[],...r.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":b,"data-mce-name":r.text}},L=r.icon.map(ee(b));return uw(r,a,f,D,S,L,u)},FN=(r,a,u,f=[],p=[])=>{const b=LN(r,O.some(a),u,f,p);return Wa.sketch(b)},b4=(r,a)=>u=>{a==="custom"?Nn(u,em,{name:r,value:{}}):a==="submit"?Ao(u,ew):a==="cancel"?Ao(u,Eh):console.error("Unknown button type: ",a)},uy=(r,a,u)=>{if(((f,p)=>p==="menu")(0,a)){const f=()=>w,p=r,b={...r,type:"menubutton",search:O.none(),onSetup:S=>(S.setEnabled(r.enabled),ce),fetch:DN(p.items,f,u)},w=kr(cy(b,"tox-tbtn",u,O.none(),!0,r.text.or(r.tooltip).getOrUndefined()));return w.asSpec()}if(((f,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const f=b4(r.name,a),p={...r,borderless:!1};return FN(p,f,u.shared.providers,[])}if(((f,p)=>p==="togglebutton")(0,a))return((f,p,b)=>{var w,S;const E=f.icon.map(de=>Jp(de,p.icons)).map(kr),D=f.buttonType.getOr(f.primary?"primary":"secondary"),L={...f,name:(w=f.name)!==null&&w!==void 0?w:"",primary:D==="primary",tooltip:f.tooltip,enabled:(S=f.enabled)!==null&&S!==void 0&&S,borderless:!1},M=L.tooltip.or(f.text).map(de=>({"aria-label":p.translate(de)})).getOr({}),z=v4(D??"secondary"),q=f.icon.isSome()&&f.text.isSome(),X={tag:"button",classes:[...z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...q?["tox-button--icon-and-text"]:[]],attributes:{...M,...G(b)?{"data-mce-name":b}:{}}},ue=p.translate(f.text.getOr("")),me=Vs(ue),_e=[...Y0([E.map(de=>de.asSpec())]),...f.text.isSome()?[me]:[]],fe=uw(L,O.some(de=>{Nn(de,em,{name:f.name,value:{setIcon:ve=>{E.map(ke=>ke.getOpt(de).each(Ae=>{qn.set(Ae,[Jp(ve,p.icons)])}))}}})}),[],X,_e,f.tooltip,p);return Wa.sketch(fe)})(r,u.shared.providers,r.text.or(r.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},G7={type:"separator"},q7=r=>({type:"menuitem",value:r.url,text:r.title,meta:{attach:r.attach},onAction:ce}),y4=(r,a)=>({type:"menuitem",value:a,text:r,meta:{attach:void 0},onAction:ce}),VN=(r,a)=>(u=>Ye(u,q7))(((u,f)=>zn(f,p=>p.type===u))(r,a)),Y7=r=>VN("header",r.targets),X7=r=>VN("anchor",r.targets),zN=r=>O.from(r.anchorTop).map(a=>y4("<top>",a)).toArray(),HN=r=>O.from(r.anchorBottom).map(a=>y4("<bottom>",a)).toArray(),x4=(r,a)=>{const u=r.toLowerCase();return zn(a,f=>{var p;const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=(p=f.value)!==null&&p!==void 0?p:"";return ei(b.toLowerCase(),u)||ei(w.toLowerCase(),u)})},$N=bn("aria-invalid"),J7=(r,a)=>{r.dom.checked=a},Gc=r=>r.dom.checked,bs=r=>(a,u,f,p,b)=>hn(u,"name").fold(()=>r(u,p,O.none(),b),w=>a.field(w,r(u,p,hn(f,w),b))),Q7={bar:bs((r,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ye(u.items,f.interpreter)}))(r,a.shared)),collection:bs((r,a,u)=>FI(r,a.shared.providers,u)),alertbanner:bs((r,a)=>((u,f)=>{const p=vR(u.icon,f.icons);return Yd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:p},components:u.url?[Wa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:f.translate(u.iconTooltip)}},action:b=>Nn(b,em,{name:"alert-banner",value:u.url}),buttonBehaviours:Zt([k_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]})})(r,a.shared.providers)),input:bs((r,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:O.none(),maximized:f.maximized,data:b},p))(r,a.shared.providers,u)),textarea:bs((r,a,u)=>((f,p,b)=>CN({name:f.name,multiline:!0,label:f.label,inputMode:O.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:O.none(),maximized:f.maximized,data:b},p))(r,a.shared.providers,u)),label:bs((r,a,u,f)=>((p,b,w)=>{const S="tox-label",E=p.align==="center"?[`${S}--center`]:[],D=p.align==="end"?[`${S}--end`]:[],L=kr({dom:{tag:"label",classes:[S,...E,...D]},components:[Vs(b.providers.translate(p.label))]}),M=Ye(p.items,b.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...M],behaviours:Zt([gg(),qn.config({}),(z=O.none(),U3(z,Fd,Xg)),Ln.config({mode:"acyclic"}),_o("label",[ss(q=>{p.for.each(X=>{w(X).each(ue=>{L.getOpt(q).each(me=>{var _e;const fe=(_e=Lo(ue.element,"id"))!==null&&_e!==void 0?_e:bn("form-field");rn(ue.element,"id",fe),rn(me.element,"for",fe)})})})})])])};var z})(r,a.shared,f)),iframe:(H4=(r,a,u)=>((f,p,b)=>{const w="tox-dialog__iframe",S=f.transparent?[]:[`${w}--opaque`],E=f.border?["tox-navobj-bordered"]:[],D={...f.label.map(q=>({title:q})).getOr({}),...b.map(q=>({srcdoc:q})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((q,X)=>{const ue=Vn(q.getOr(""));return{getValue:me=>ue.get(),setValue:(me,_e)=>{if(ue.get()!==_e){const fe=me.element,de=()=>rn(fe,"srcdoc",_e);X?t4.fold(ee(e4),ve=>ve.throttle)(fe,_e,de):de()}ue.set(_e)}}})(b,f.streamContent),M=f.label.map(q=>Zp(q,p)),z=Or.parts.field({factory:{sketch:q=>G3(O.from(E),{uid:q.uid,dom:{tag:"iframe",attributes:D,classes:[w,...S]},behaviours:Zt([Zr.config({}),no.config({}),Qb(b,L.getValue,L.setValue),wl.config({channels:{[xk]:{onReceive:(X,ue)=>{ue.newFocus.each(me=>{ka(X.element).each(_e=>{(lr(X.element,me)?Ss:Is)(_e,"tox-navobj-bordered-focus")})})}}}})])})}});return Q2(M,z,["tox-form__group--stretched"],[])})(r,a.shared.providers,u),(r,a,u,f,p)=>{const b=Mr(a,{source:"dynamic"});return bs(H4)(r,b,u,f,p)}),button:bs((r,a)=>((u,f)=>{const p=b4(u.name,"custom");return b=O.none(),w=Or.parts.field({factory:Wa,...LN(u,O.some(p),f,[sw(""),gg()])}),Q2(b,w,[],[]);var b,w})(r,a.shared.providers)),checkbox:bs((r,a,u)=>((f,p,b)=>{const w=M=>(M.element.dom.click(),O.some(!0)),S=Or.parts.field({factory:{sketch:we},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([gg(),so.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:M=>{ka(M.element).each(z=>Ss(z,"tox-checkbox--disabled"))},onEnabled:M=>{ka(M.element).each(z=>Is(z,"tox-checkbox--disabled"))}}),Zr.config({}),no.config({}),U3(b,Gc,J7),Ln.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),_o("checkbox-events",[St(Pm(),(M,z)=>{Nn(M,ll,{name:f.name})})])])}),E=Or.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Vs(p.translate(f.label))],behaviours:Zt([Yb.config({})])}),D=M=>Wc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},p.icons),L=kr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[D("checked"),D("unchecked")]});return Or.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[S,L.asSpec(),E],fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled()}),Pi()])})})(r,a.shared.providers,u)),colorinput:bs((r,a,u)=>((f,p,b,w)=>{const S=Or.parts.field({factory:Ch,inputClasses:["tox-textfield"],data:w,onSetValue:M=>ug.run(M).get(ce),inputBehaviours:Zt([so.config({disabled:p.providers.isDisabled}),Pi(),Zr.config({}),ug.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>ka(M.element),notify:{onValid:M=>{const z=lt.getValue(M);Nn(M,y3,{color:z})}},validator:{validateOnLoad:!1,validate:M=>{const z=lt.getValue(M);if(z.length===0)return cg(Vo.value(!0));{const q=Ti("span");co(q,"background-color",z);const X=$s(q,"background-color").fold(()=>Vo.error("blah"),ue=>Vo.value(z));return cg(X)}}}})]),selectOnFocus:!1}),E=f.label.map(M=>Zp(M,p.providers)),D=(M,z)=>{Nn(M,x3,{value:z})},L=kr(((M,z)=>kl.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:Zt([Da(z.providers.isDisabled),Pi(),Yb.config({}),Zr.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:q=>Up(X=>M.fetch(X)).map(X=>O.from(d3(Mr(Gb(bn("menu-value"),X,ue=>{M.onItemAction(q,ue)},M.columns,M.presets,Jf.CLOSE_ON_EXECUTE,Ee,z.providers),{movement:G2(M.columns,M.presets)})))),parts:{menu:A_(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ps,Ns,qs],onLtr:()=>[Ns,Ps,qs]},components:[],fetch:bI(b.getColors(f.storageKey),f.storageKey,b.hasCustomColors()),columns:b.getColorCols(f.storageKey),presets:"color",onItemAction:(M,z)=>{L.getOpt(M).each(q=>{z==="custom"?b.colorPicker(X=>{X.fold(()=>Ao(q,UI),ue=>{D(q,ue),KA(f.storageKey,ue)})},"#ffffff"):D(q,z==="remove"?"":z)})}},p));return Or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[S,L.asSpec()]}]),fieldBehaviours:Zt([_o("form-field-events",[St(y3,(M,z)=>{L.getOpt(M).each(q=>{co(q.element,"background-color",z.event.color)}),Nn(M,ll,{name:f.name})}),St(x3,(M,z)=>{Or.getField(M).each(q=>{lt.setValue(q,z.event.value),or.getCurrent(M).each(no.focus)})}),St(UI,(M,z)=>{Or.getField(M).each(q=>{or.getCurrent(M).each(no.focus)})})])])})})(r,a.shared,a.colorinput,u)),colorpicker:bs((r,a,u)=>((f,p,b)=>{const w=D=>"tox-"+D,S=uN((D=>L=>v(L)?D.translate(P7[L]):D.translate(L))(p),w,p.tooltips.getConfig,(D,L,M=D,z=D)=>Wc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+D],attributes:{title:p.translate(z),"aria-live":"polite",...L.fold(()=>({}),q=>({id:q}))}},p.icons)),E=kr(S.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:D=>{Nn(D,em,{name:"hex-valid",value:!0})},onInvalidHex:D=>{Nn(D,em,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Zt([Qb(b,D=>{const L=E.get(D);return or.getCurrent(L).bind(M=>lt.getValue(M).hex).map(M=>"#"+$r(M,"#")).getOr("")},(D,L)=>{const M=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(q=>gt(q,1)),z=E.get(D);or.getCurrent(z).fold(()=>{console.log("Can not find form")},q=>{lt.setValue(q,{hex:M.getOr("")}),qp.getField(q,"hex").each(X=>{Ao(X,Nm())})})}),gg()])}})(0,a.shared.providers,u)),dropzone:bs((r,a,u)=>((f,p,b)=>{const w=(X,ue)=>{ue.stop()},S=X=>(ue,me)=>{Mt(X,_e=>{_e(ue,me)})},E=(X,ue)=>{var me;if(!so.isDisabled(X)){const _e=ue.event.raw;L(X,(me=_e.dataTransfer)===null||me===void 0?void 0:me.files)}},D=(X,ue)=>{const me=ue.event.raw.target;L(X,me.files)},L=(X,ue)=>{ue&&(lt.setValue(X,((me,_e)=>{const fe=Oh.explode(_e.getOption("images_file_types"));return zn(Ft(me),de=>pt(fe,ve=>Mu(de.name.toLowerCase(),`.${ve.toLowerCase()}`)))})(ue,p)),Nn(X,ll,{name:f.name}))},M=kr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([_o("input-file-events",[Mm(pi()),Mm(kf())])])}),z=f.label.map(X=>Zp(X,p)),q=Or.parts.field({factory:{sketch:X=>({uid:X.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([sw(b.getOr([])),gg(),so.config({}),Qn.config({toggleClass:"dragenter",toggleOnExecute:!1}),_o("dropzone-events",[St("dragenter",S([w,Qn.toggle])),St("dragleave",S([w,Qn.toggle])),St("dragover",w),St("drop",S([w,E])),St(Pm(),D)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Vs(p.translate("Drop an image here"))]},Wa.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Vs(p.translate("Browse for an image")),M.asSpec()],action:ue=>{M.get(ue).element.dom.click()},buttonBehaviours:Zt([Zr.config({}),Da(p.isDisabled),Pi()])})]}]})}});return Q2(z,q,["tox-form__group--stretched"],[])})(r,a.shared.providers,u)),grid:bs((r,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:Ye(u.items,f.interpreter)}))(r,a.shared)),listbox:bs((r,a,u)=>((f,p,b)=>{const w=pt(f.items,z=>!aw(z)),S=p.shared.providers,E=b.bind(z=>Ek(f.items,z)).orThunk(()=>zt(f.items).filter(aw)),D=f.label.map(z=>Zp(z,S)),L=Or.parts.field({dom:{},factory:{sketch:z=>r4({uid:z.uid,text:E.map(q=>q.text),icon:O.none(),tooltip:O.none(),role:ar(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(q,X)=>{const ue=Sk(q,f.name,f.items,lt.getValue(q),w);X(e1(ue,Jf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ee(ce),getApi:ee({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Zr.config({}),Qb(E.map(q=>q.value),q=>Lo(q.element,s4),(q,X)=>{Ek(f.items,X).each(ue=>{rn(q.element,s4,ue.value),Nn(q,Su,{text:ue.text})})})]},"tox-listbox",p.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return Or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([D.toArray(),[M]]),fieldBehaviours:Zt([so.config({disabled:ee(!f.enabled),onDisabled:z=>{Or.getField(z).each(so.disable)},onEnabled:z=>{Or.getField(z).each(so.enable)}})])})})(r,a,u)),selectbox:bs((r,a,u)=>((f,p,b)=>{const w=Ye(f.items,M=>({text:p.translate(M.text),value:M.value})),S=f.label.map(M=>Zp(M,p)),E=Or.parts.field({dom:{},...b.map(M=>({data:M})).getOr({}),selectAttributes:{size:f.size},options:w,factory:L7,selectBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled()}),Zr.config({}),_o("selectbox-change",[St(Pm(),(M,z)=>{Nn(M,ll,{name:f.name})})])])}),D=f.size>1?O.none():O.some(Wc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:eo([[E],D.toArray()])};return Or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:eo([S.toArray(),[L]]),fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:M=>{Or.getField(M).each(so.disable)},onEnabled:M=>{Or.getField(M).each(so.enable)}}),Pi()])})})(r,a.shared.providers,u)),sizeinput:bs((r,a)=>((u,f)=>{let p=c4;const b=bn("ratio-event"),w=ue=>Wc(ue,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ue]},f.icons),S=u.label.getOr("Constrain proportions"),E=f.translate(S),D=Kc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":S}},components:[w("lock"),w("unlock")],buttonBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zr.config({}),ri.config(f.tooltips.getConfig({tooltipText:E}))])}),L=ue=>({dom:{tag:"div",classes:["tox-form__group"]},components:ue}),M=ue=>Or.parts.field({factory:Ch,inputClasses:["tox-textfield"],inputBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Zr.config({}),_o("size-input-events",[St(xr(),(me,_e)=>{Nn(me,b,{isField1:ue})}),St(Pm(),(me,_e)=>{Nn(me,ll,{name:u.name})})])]),selectOnFocus:!1}),z=ue=>({dom:{tag:"label",classes:["tox-label"]},components:[Vs(f.translate(ue))]}),q=Kc.parts.field1(L([Or.parts.label(z("Width")),M(!0)])),X=Kc.parts.field2(L([Or.parts.label(z("Height")),M(!1)]));return Kc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,X,L([z(""),D])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ue,me,_e)=>{a4(lt.getValue(ue)).each(fe=>{p(fe).each(de=>{lt.setValue(me,(ve=>{const ke={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ae=ve.value.toFixed(($e=ve.unit)in ke?ke[$e]:1);var $e;return Ae.indexOf(".")!==-1&&(Ae=Ae.replace(/\.?0*$/,"")),Ae+ve.unit})(de))})})},coupledFieldBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled(),onDisabled:ue=>{Kc.getField1(ue).bind(Or.getField).each(so.disable),Kc.getField2(ue).bind(Or.getField).each(so.disable),Kc.getLock(ue).each(so.disable)},onEnabled:ue=>{Kc.getField1(ue).bind(Or.getField).each(so.enable),Kc.getField2(ue).bind(Or.getField).each(so.enable),Kc.getLock(ue).each(so.enable)}}),Pi(),_o("size-input-events2",[St(b,(ue,me)=>{const _e=me.event.isField1,fe=_e?Kc.getField1(ue):Kc.getField2(ue),de=_e?Kc.getField2(ue):Kc.getField1(ue),ve=fe.map(lt.getValue).getOr(""),ke=de.map(lt.getValue).getOr("");p=((Ae,$e)=>{const rt=a4(Ae).toOptional(),At=a4($e).toOptional();return Kt(rt,At,(kt,wt)=>l4(kt,wt.unit).map(Ht=>wt.value/Ht).map(Ht=>{return mn=Ht,En=wt.unit,$n=>l4($n,En).map(io=>({value:io*mn,unit:En}));var mn,En}).getOr(c4)).getOr(c4)})(ve,ke)})])])})})(r,a.shared.providers)),slider:bs((r,a,u)=>((f,p,b)=>{const w=Jd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vs(p.translate(f.label))]}),S=Jd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Jd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:ee(b.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[w,S,E],sliderBehaviours:Zt([gg(),no.config({})]),onChoose:(D,L,M)=>{Nn(D,ll,{name:f.name,value:M})},onChange:(D,L,M)=>{Nn(D,ll,{name:f.name,value:M})}})})(r,a.shared.providers,u)),urlinput:bs((r,a,u)=>((f,p,b,w)=>{const S=p.shared.providers,E=fe=>{const de=lt.getValue(fe);b.addToHistory(de.value,f.filetype)},D={...w.map(fe=>({initialData:fe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":$N,type:"url"},minChars:0,responseTime:0,fetch:fe=>{const de=((ke,Ae,$e)=>{var rt,At;const kt=lt.getValue(Ae),wt=(At=(rt=kt==null?void 0:kt.meta)===null||rt===void 0?void 0:rt.text)!==null&&At!==void 0?At:kt.value;return $e.getLinkInformation().fold(()=>[],Ht=>{const mn=x4(wt,($n=>Ye($n,io=>y4(io,io)))($e.getHistory(ke)));return ke==="file"?(En=[mn,x4(wt,Y7(Ht)),x4(wt,eo([zN(Ht),X7(Ht),HN(Ht)]))],kn(En,($n,io)=>$n.length===0||io.length===0?$n.concat(io):$n.concat(G7,io),[])):mn;var En})})(f.filetype,fe,b),ve=e1(de,Jf.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:O.none()});return cg(ve)},getHotspot:fe=>me.getOpt(fe),onSetValue:(fe,de)=>{fe.hasConfigured(ug)&&ug.run(fe).get(ce)},typeaheadBehaviours:Zt([...b.getValidationHandler().map(fe=>ug.config({getRoot:de=>ka(de.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(de,ve)=>{z.getOpt(de).each(ke=>{rn(ke.element,"title",S.translate(ve))})}},validator:{validate:de=>{const ve=lt.getValue(de);return MN(ke=>{fe({type:f.filetype,url:ve.value},Ae=>{if(Ae.status==="invalid"){const $e=Vo.error(Ae.message);ke($e)}else{const $e=Vo.value(Ae.message);ke($e)}})})},validateOnLoad:!1}})).toArray(),so.config({disabled:()=>!f.enabled||S.isDisabled()}),Zr.config({}),_o("urlinput-events",[St(Nm(),fe=>{const de=Nf(fe.element),ve=de.trim();ve!==de&&Hm(fe.element,ve),f.filetype==="file"&&Nn(fe,ll,{name:f.name})}),St(Pm(),fe=>{Nn(fe,ll,{name:f.name}),E(fe)}),St(ax(),fe=>{Nn(fe,ll,{name:f.name}),E(fe)})])]),eventOrder:{[Nm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:fe=>fe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:A_(0,0,"normal")},onExecute:(fe,de,ve)=>{Nn(de,ew,{})},onItemExecute:(fe,de,ve,ke)=>{E(fe),Nn(fe,ll,{name:f.name})}},L=Or.parts.field({...D,factory:K7}),M=f.label.map(fe=>Zp(fe,S)),z=kr(((fe,de,ve=fe,ke=fe)=>Wc(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+fe],attributes:{title:S.translate(ke),"aria-live":"polite",...de.fold(()=>({}),Ae=>({id:Ae}))}},S.icons))("invalid",O.some($N),"warning")),q=kr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),X=b.getUrlPicker(f.filetype),ue=bn("browser.url.event"),me=kr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,q.asSpec()],behaviours:Zt([so.config({disabled:()=>!f.enabled||S.isDisabled()})])}),_e=kr(FN({name:f.name,icon:O.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:O.none(),borderless:!0},fe=>Ao(fe,ue),S,[],["tox-browse-url"]));return Or.sketch({dom:q_([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:eo([[me.asSpec()],X.map(()=>_e.asSpec()).toArray()])}]),fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||S.isDisabled(),onDisabled:fe=>{Or.getField(fe).each(so.disable),_e.getOpt(fe).each(so.disable)},onEnabled:fe=>{Or.getField(fe).each(so.enable),_e.getOpt(fe).each(so.enable)}}),Pi(),_o("url-input-events",[St(ue,fe=>{or.getCurrent(fe).each(de=>{const ve=lt.getValue(de),ke={fieldname:f.name,...ve};X.each(Ae=>{Ae(ke).get($e=>{lt.setValue(de,$e),Nn(fe,ll,{name:f.name})})})})})])])})})(r,a,a.urlinput,u)),customeditor:bs(r=>{const a=Tr(),u=kr({dom:{tag:r.tag}}),f=Tr(),p=!W3(r)&&r.onFocus.isSome()?[no.config({onFocus:b=>{r.onFocus.each(w=>{w(b.element.dom)})}}),Zr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([_o("custom-editor-events",[ss(b=>{u.getOpt(b).each(w=>{(W3(r)?r.init(w.element.dom):dN.load(r.scriptId,r.scriptUrl).then(S=>S(w.element.dom,r.settings))).then(S=>{f.on(E=>{S.setValue(E)}),f.clear(),a.set(S)})})})]),Qb(O.none(),()=>a.get().fold(()=>f.get().getOr(""),b=>b.getValue()),(b,w)=>{a.get().fold(()=>f.set(w),S=>S.setValue(w))}),gg()].concat(p)),components:[u.asSpec()]}}),htmlpanel:bs((r,a)=>((u,f)=>{const p=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],b=_o("htmlpanel",[ss(w=>{u.onInit(w.element.dom)})]);return u.presets==="presentation"?Yd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html},containerBehaviours:Zt([ri.config({...f.tooltips.getConfig({tooltipText:"",onShow:w=>{fs(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ys(w.element)).each(S=>{Ko(S,"data-mce-tooltip").each(E=>{ri.setComponents(w,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:fs(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Ys(w.element).filter(S=>Ko(S,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:ee([qs,Es,Ns,ni,Ps,Br]),onRtl:ee([qs,Es,Ns,ni,Ps,Br])},bubble:cc(0,-2,{})})}),b])}):Yd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:Zt([Zr.config({}),no.config({}),b])})})(r,a.shared.providers)),imagepreview:bs((r,a,u)=>((f,p)=>{const b=Vn(p.getOr({url:""})),w=kr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(L=>({src:L.url})).getOr({})}}),S=kr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};f.height.each(L=>E.height=L);const D=p.map(L=>({url:L.url,zoom:O.from(L.zoom),cachedWidth:O.from(L.cachedWidth),cachedHeight:O.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[S.asSpec()],behaviours:Zt([gg(),Qb(D,()=>b.get(),(L,M)=>{const z={url:M.url};M.zoom.each(X=>z.zoom=X),M.cachedWidth.each(X=>z.cachedWidth=X),M.cachedHeight.each(X=>z.cachedHeight=X),b.set(z);const q=()=>{const{cachedWidth:X,cachedHeight:ue,zoom:me}=z;if(!V(X)&&!V(ue)){if(V(me)){const fe=((de,ve,ke)=>{const Ae=Oi(de),$e=Os(de);return Math.min(Ae/ve,$e/ke,1)})(L.element,X,ue);z.zoom=fe}const _e=((fe,de,ve,ke,Ae)=>{const $e=ve*Ae,rt=ke*Ae,At=Math.max(0,fe/2-$e/2),kt=Math.max(0,de/2-rt/2);return{left:At.toString()+"px",top:kt.toString()+"px",width:$e.toString()+"px",height:rt.toString()+"px"}})(Oi(L.element),Os(L.element),X,ue,z.zoom);S.getOpt(L).each(fe=>{Xa(fe.element,_e)})}};w.getOpt(L).each(X=>{const ue=X.element;var me;M.url!==Lo(ue,"src")&&(rn(ue,"src",M.url),Is(L.element,"tox-imagepreview__loaded")),q(),(me=ue,new Promise((_e,fe)=>{const de=()=>{ke(),_e(me)},ve=[$a(me,"load",de),$a(me,"error",()=>{ke(),fe("Unable to load data from image: "+me.dom.src)})],ke=()=>Mt(ve,Ae=>Ae.unbind());me.dom.complete&&de()})).then(_e=>{L.getSystem().isConnected()&&(Ss(L.element,"tox-imagepreview__loaded"),z.cachedWidth=_e.dom.naturalWidth,z.cachedHeight=_e.dom.naturalHeight,q())})})})])}})(r,u)),table:bs((r,a)=>((u,f)=>{const p=S=>({dom:{tag:"td",innerHtml:f.translate(S)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ye(w,S=>({dom:{tag:"th",innerHtml:f.translate(S)}}))}]}),(b=u.cells,{dom:{tag:"tbody"},components:Ye(b,S=>({dom:{tag:"tr"},components:Ye(S,p)}))})],behaviours:Zt([Zr.config({}),no.config({})])};var b,w})(r,a.shared.providers)),tree:bs((r,a)=>((u,f)=>{const p=u.onLeafAction.getOr(ce),b=u.onToggleExpand.getOr(ce),w=u.defaultExpandedIds,S=Vn(w),E=Vn(u.defaultSelectedId),D=bn("tree-id"),L=(M,z)=>u.items.map(q=>q.type==="leaf"?m4({leaf:q,selectedId:M,onLeafAction:p,visible:!0,treeId:D,backstage:f}):Tk({directory:q,selectedId:M,onLeafAction:p,expandedIds:z,labelTabstopping:!0,treeId:D,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),S.get()),behaviours:Zt([Ln.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),_o($7,[St("expand-tree-node",(M,z)=>{const{expanded:q,node:X}=z.event;S.set(q?[...S.get(),X]:S.get().filter(ue=>ue!==X)),b(S.get(),{expanded:q,node:X})})]),wl.config({channels:{[`update-active-item-${D}`]:{onReceive:(M,z)=>{E.set(O.some(z.value)),qn.set(M,L(O.some(z.value),S.get()))}}}}),qn.config({})])}})(r,a)),panel:bs((r,a)=>((u,f)=>({dom:{tag:"div",classes:u.classes},components:Ye(u.items,f.shared.interpreter)}))(r,a))},w4={field:(r,a)=>a,record:ee([])},Rk=(r,a,u,f,p)=>{const b=Mr(f,{shared:{interpreter:w=>C4(r,w,u,b,p)}});return C4(r,a,u,b,p)},C4=(r,a,u,f,p)=>hn(Q7,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),b=>b(r,a,u,f,p)),UN=(r,a,u,f)=>C4(w4,r,a,u,f),Qd="layout-inset",dy=r=>r.x,Ik=(r,a)=>r.x+r.width/2-a.width/2,_4=(r,a)=>r.x+r.width-a.width,fd=r=>r.y,k4=(r,a)=>r.y+r.height-a.height,WN=(r,a)=>r.y+r.height/2-a.height/2,mc=(r,a,u)=>fa(_4(r,a),k4(r,a),u.insetSouthwest(),ah(),"southwest",ma(r,{right:0,bottom:3}),Qd),tv=(r,a,u)=>fa(dy(r),k4(r,a),u.insetSoutheast(),tb(),"southeast",ma(r,{left:1,bottom:3}),Qd),gc=(r,a,u)=>fa(_4(r,a),fd(r),u.insetNorthwest(),ih(),"northwest",ma(r,{right:0,top:2}),Qd),dw=(r,a,u)=>fa(dy(r),fd(r),u.insetNortheast(),eb(),"northeast",ma(r,{left:1,top:2}),Qd),rr=(r,a,u)=>fa(Ik(r,a),fd(r),u.insetNorth(),DC(),"north",ma(r,{top:2}),Qd),hg=(r,a,u)=>fa(Ik(r,a),k4(r,a),u.insetSouth(),Rx(),"south",ma(r,{bottom:3}),Qd),fw=(r,a,u)=>fa(_4(r,a),WN(r,a),u.insetEast(),RC(),"east",ma(r,{right:0}),Qd),S4=(r,a,u)=>fa(dy(r),WN(r,a),u.insetWest(),Ix(),"west",ma(r,{left:1}),Qd),E4=r=>{switch(r){case"north":return rr;case"northeast":return dw;case"northwest":return gc;case"south":return hg;case"southeast":return tv;case"southwest":return mc;case"east":return fw;case"west":return S4}},Nk=(r,a,u,f,p)=>lb(f).map(E4).getOr(rr)(r,a,u,f,p),eV=r=>{switch(r){case"north":return hg;case"northeast":return tv;case"northwest":return mc;case"south":return rr;case"southeast":return dw;case"southwest":return gc;case"east":return S4;case"west":return fw}},A4=(r,a,u,f,p)=>lb(f).map(eV).getOr(rr)(r,a,u,f,p),mw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ZN=(r,a,u)=>{const f={maxHeightFunction:dh()};return()=>u()?{type:"node",root:Qe(ut(r())),node:O.from(r()),bubble:cc(12,12,mw),layouts:{onRtl:()=>[dw],onLtr:()=>[gc]},overrides:f}:{type:"hotspot",hotspot:a(),bubble:cc(-12,12,mw),layouts:{onRtl:()=>[Ns,Ps,qs],onLtr:()=>[Ps,Ns,qs]},overrides:f}},jN=(r,a,u,f)=>{const p={maxHeightFunction:dh()};return()=>f()?{type:"node",root:Qe(ut(a())),node:O.from(a()),bubble:cc(12,12,mw),layouts:{onRtl:()=>[rr],onLtr:()=>[rr]},overrides:p}:r?{type:"node",root:Qe(ut(a())),node:O.from(a()),bubble:cc(0,-kc(a()),mw),layouts:{onRtl:()=>[Es],onLtr:()=>[Es]},overrides:p}:{type:"hotspot",hotspot:u(),bubble:cc(0,0,mw),layouts:{onRtl:()=>[Es],onLtr:()=>[Es]},overrides:p}},T4=(r,a,u)=>()=>u()?{type:"node",root:Qe(ut(r())),node:O.from(r()),layouts:{onRtl:()=>[rr],onLtr:()=>[rr]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[qs],onLtr:()=>[qs]}},KN=(r,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const u=r.selection.getRng(),f=r.model.table.getSelectedCells();if(f.length>1){const p=f[0],b=f[f.length-1],w={firstCell:sn(p),lastCell:sn(b)};return O.some(w)}return O.some(zf.range(sn(u.startContainer),u.startOffset,sn(u.endContainer),u.endOffset))}}),Pk=r=>a=>({type:"node",root:r(),node:a}),tV=(r,a,u,f)=>{const p=Bb(r),b=()=>sn(r.getBody()),w=()=>sn(r.getContentAreaContainer()),S=()=>p||!f();return{inlineDialog:ZN(w,a,S),inlineBottomDialog:jN(r.inline,w,u,S),banner:T4(w,a,S),cursor:KN(r,b),node:Pk(b)}},nV=r=>(a,u)=>{xI(r)(a,u)},oV=r=>()=>XA(r),rV=r=>a=>Kb(r,a),sV=r=>a=>YA(r,a),GN=r=>()=>Yf(r),qN=r=>bo(r,"items"),YN=r=>bo(r,"format"),O4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],D4=r=>kn(r,(a,u)=>{if(To(u,"items")){const f=D4(u.items);return{customFormats:a.customFormats.concat(f.customFormats),formats:a.formats.concat([{title:u.title,items:f.formats}])}}if(To(u,"inline")||(f=>To(f,"block"))(u)||(f=>To(f,"selector"))(u)){const f=`custom-${v(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:f,format:u}]),formats:a.formats.concat([{title:u.title,format:f,icon:u.icon}])}}return{...a,formats:a.formats.concat(u)}},{customFormats:[],formats:[]}),XN=r=>W0(r).map(a=>{const u=((f,p)=>{const b=D4(p),w=S=>{Mt(S,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?w(b.customFormats):f.on("init",()=>{w(b.customFormats)}),b.formats})(r,a);return a_(r)?O4.concat(u):u}).getOr(O4),JN=(r,a,u)=>({...r,type:"formatter",isSelected:a(r.format),getStylePreview:u(r.format)}),R4=(r,a,u,f)=>{const p=b=>Ye(b,w=>qN(w)?(S=>{const E=p(S.items);return{...S,type:"submenu",getStyleItems:ee(E)}})(w):YN(w)?(S=>JN(S,u,f))(w):(S=>{const E=wn(S);return E.length===1&&tt(E,"title")})(w)?{...w,type:"separator"}:(S=>{const E=v(S.name)?S.name:bn(S.title),D=`custom-${E}`,L={...S,type:"formatter",format:D,isSelected:u(D),getStylePreview:f(D)};return r.formatter.register(E,L),L})(w));return p(a)},I4=r=>{let a=0;const u=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Vs(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>a>0?60:300,delayForHide:ee(300),exclusive:!0,lazySink:r,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(f),onShow:(p,b)=>{a++,f.onShow&&f.onShow(p,b)},onHide:(p,b)=>{a--,f.onHide&&f.onHide(p,b)},onSetup:f.onSetup}),getComponents:u}},QN=Oh.trim,eP=r=>a=>!!((u=>G(u)&&u.nodeType===1)(a)&&(a.contentEditable===r||a.getAttribute("data-mce-contenteditable")===r)),iV=eP("true"),aV=eP("false"),tP=(r,a,u,f,p)=>({type:r,title:a,url:u,level:f,attach:p}),nP=r=>r.innerText||r.textContent,lV=r=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(r)&&md(r),N4=r=>r&&/^(H[1-6])$/.test(r.nodeName),md=r=>(a=>{let u=a;for(;u=u.parentNode;){const f=u.contentEditable;if(f&&f!=="inherit")return iV(u)}return!1})(r)&&!aV(r),cV=r=>N4(r)&&md(r),P4=r=>{var a;const u=(f=>f.id?f.id:bn("h"))(r);return tP("header",(a=nP(r))!==null&&a!==void 0?a:"","#"+u,(f=>N4(f)?parseInt(f.nodeName.substr(1),10):0)(r),()=>{r.id=u})},oP=r=>{const a=r.id||r.name,u=nP(r);return tP("anchor",u||"#"+a,"#"+a,0,ce)},rP=r=>QN(r.title).length>0,uV=r=>{const a=(u=>Ye(ki(sn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(r);return zn((u=>Ye(zn(u,cV),P4))(a).concat((u=>Ye(zn(u,lV),oP))(a)),rP)},gw="tinymce-url-history",M4=r=>v(r)&&/^https?/.test(r),B4=r=>x(r)&&mr(r,a=>{return!(N(u=a)&&u.length<=5&&Do(u,M4));var u}).isNone(),sP=()=>{const r=jc.getItem(gw);if(r===null)return{};let a;try{a=JSON.parse(r)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+gw+" was not valid JSON",u),{};throw u}return B4(a)?a:(console.log("Local storage "+gw+" was not valid format",a),{})},dV=r=>{const a=sP();return hn(a,r).getOr([])},fV=(r,a)=>{if(!M4(r))return;const u=sP(),f=hn(u,a).getOr([]),p=zn(f,b=>b!==r);u[a]=[r].concat(p).slice(0,5),(b=>{if(!B4(b))throw new Error(`Bad format for history:
`+JSON.stringify(b));jc.setItem(gw,JSON.stringify(b))})(u)},iP=r=>!!r,mV=r=>Dn(Oh.makeMap(r,/[, ]/),iP),Mk=r=>O.from(c_(r)),L4=r=>O.from(r).filter(v).getOrUndefined(),aP=r=>({getHistory:dV,addToHistory:fV,getLinkInformation:()=>(a=>u_(a)?O.some({targets:uV(a.getBody()),anchorTop:L4(Y5(a)),anchorBottom:L4(X5(a))}):O.none())(r),getValidationHandler:()=>(a=>O.from(b2(a)))(r),getUrlPicker:a=>((u,f)=>((p,b)=>{const w=(S=>{const E=O.from(y2(S)).filter(iP).map(mV);return Mk(S).fold(Ee,D=>E.fold(Fe,L=>wn(L).length>0&&L))})(p);return I(w)?w?Mk(p):O.none():w[b]?Mk(p):O.none()})(u,f).map(p=>b=>Up(w=>{const S={filetype:f,fieldname:b.fieldname,...O.from(b.meta).getOr({})};p.call(u,(E,D)=>{if(!v(E))throw new Error("Expected value to be string");if(D!==void 0&&!x(D))throw new Error("Expected meta to be a object");w({value:E,meta:D})},b.value,S)})))(r,a)}),pa=k8,pg=FD,gV=ee([it("shell",!1),Dt("makeItem"),it("setupItem",ce),ro("listBehaviours",[qn])]),fy=bu({name:"items",overrides:()=>({behaviours:Zt([qn.config({})])})}),hV=ee([fy]),F4=Vl({name:ee("CustomList")(),configFields:gV(),partFields:hV(),factory:(r,a,u,f)=>{const p=r.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:a};return{uid:r.uid,dom:r.dom,components:p.components,behaviours:xo(r.listBehaviours,p.behaviours),apis:{setItems:(b,w)=>{var S;(S=b,r.shell?O.some(S):qr(S,r,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const D=qn.contents(E),L=w.length,M=L-D.length,z=M>0?Lt(M,()=>r.makeItem()):[],q=D.slice(L);Mt(q,ue=>qn.remove(E,ue)),Mt(z,ue=>qn.append(E,ue));const X=qn.contents(E);Mt(X,(ue,me)=>{r.setupItem(b,ue,w[me],me)})})}}}},apis:{setItems:(r,a,u)=>{r.setItems(a,u)}}}),n1=ee([Dt("dom"),it("shell",!0),yn("toolbarBehaviours",[qn])]),lP=ee([bu({name:"groups",overrides:()=>({behaviours:Zt([qn.config({})])})})]),ef=Vl({name:"Toolbar",configFields:n1(),partFields:lP(),factory:(r,a,u,f)=>{const p=r.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:a};return{uid:r.uid,dom:r.dom,components:p.components,behaviours:xo(r.toolbarBehaviours,p.behaviours),apis:{setGroups:(b,w)=>{var S;(S=b,r.shell?O.some(S):qr(S,r,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{qn.set(E,w)})},refresh:ce},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,a,u)=>{r.setGroups(a,u)}}}),V4=ce,z4=Ee,Bk=ee([]);var H4,pV=Object.freeze({__proto__:null,setup:V4,isDocked:z4,getBehaviours:Bk});const Lk=ee(bn("toolbar-height-change")),vg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},cP="tox-tinymce--toolbar-sticky-on",uP="tox-tinymce--toolbar-sticky-off",hw=(r,a)=>tt(ds.getModes(r),a),Fk=r=>{const a=r.element;ka(a).each(u=>{const f="padding-"+ds.getModes(r)[0];if(ds.isDocked(r)){const p=Oi(u);co(a,"width",p+"px"),co(u,f,(b=>kc(b)+(parseInt(ws(b,"margin-top"),10)||0)+(parseInt(ws(b,"margin-bottom"),10)||0))(a)+"px")}else _r(a,"width"),_r(u,f)})},$4=(r,a)=>{a?(Is(r,vg.fadeOutClass),Gs(r,[vg.transitionClass,vg.fadeInClass])):(Is(r,vg.fadeInClass),Gs(r,[vg.fadeOutClass,vg.transitionClass]))},dP=(r,a)=>{const u=sn(r.getContainer());a?(Ss(u,cP),Is(u,uP)):(Ss(u,uP),Is(u,cP))},fP=(r,a)=>{const u=Tr(),f=a.getSink,p=S=>{f().each(E=>S(E.element))},b=S=>{r.inline||Fk(S),dP(r,ds.isDocked(S)),S.getSystem().broadcastOn([H()],{}),f().each(E=>E.getSystem().broadcastOn([H()],{}))},w=r.inline?[]:[wl.config({channels:{[Lk()]:{onReceive:Fk}}})];return[no.config({}),ds.config({contextual:{lazyContext:S=>{const E=kc(S.element),D=r.inline?r.getContentAreaContainer():r.getContainer();return O.from(D).map(L=>{const M=ai(sn(L));return Mp(r,S.element).fold(()=>{const z=M.height-E,q=M.y+(hw(S,"top")?0:E);return Io(M.x,q,M.width,z)},z=>{const q=Dd(M,Bp(z)),X=hw(S,"top")?q.y:q.y+E;return Io(q.x,X,q.width,q.height-E)})})},onShow:()=>{p(S=>$4(S,!0))},onShown:S=>{p(E=>lc(E,[vg.transitionClass,vg.fadeInClass])),u.get().each(E=>{((D,L)=>{const M=ii(L);gu(M).filter(z=>!lr(L,z)).filter(z=>lr(z,sn(M.dom.body))||Ls(D,z)).each(()=>Ha(L))})(S.element,E),u.clear()})},onHide:S=>{((E,D)=>Ys(E).orThunk(()=>D().toOptional().bind(L=>Ys(L.element))))(S.element,f).fold(u.clear,u.set),p(E=>$4(E,!1))},onHidden:()=>{p(S=>lc(S,[vg.transitionClass]))},...vg},lazyViewport:S=>Mp(r,S.element).fold(()=>{const E=Ui(),D=aA(r),L=E.y+(hw(S,"top")?D:0),M=E.height-(hw(S,"bottom")?D:0);return{bounds:Io(E.x,L,E.width,M),optScrollEnv:O.none()}},E=>({bounds:Bp(E),optScrollEnv:O.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Bl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var vV=Object.freeze({__proto__:null,setup:(r,a,u)=>{r.inline||(a.header.isPositionedAtTop()||r.on("ResizeEditor",()=>{u().each(ds.reset)}),r.on("ResizeWindow ResizeEditor",()=>{u().each(Fk)}),r.on("SkinLoaded",()=>{u().each(f=>{ds.isDocked(f)?ds.reset(f):ds.refresh(f)})}),r.on("FullscreenStateChanged",()=>{u().each(ds.reset)})),r.on("AfterScrollIntoView",f=>{u().each(p=>{ds.refresh(p);const b=p.element;d5(b)&&((w,S)=>{const E=ii(S),D=Jc(S).dom.innerHeight,L=Qr(E),M=sn(w.elm),z=vl(M),q=Os(M),X=z.y,ue=X+q,me=Bl(S),_e=Os(S),fe=me.top,de=fe+_e,ve=Math.abs(fe-L.top)<2,ke=Math.abs(de-(L.top+D))<2;if(ve&&X<de)yf(L.left,X-_e,E);else if(ke&&ue>fe){const Ae=X-D+q+_e;yf(L.left,Ae,E)}})(f,b)})}),r.on("PostRender",()=>{dP(r,!1)})},isDocked:r=>r().map(ds.isDocked).getOr(!1),getBehaviours:fP});const bV=Zn([bi,Zi("items",Om([Zu([EA,tl("items",Ci)]),Ci]))].concat(lg)),yV=[Fs("text"),Fs("tooltip"),Fs("icon"),Va("search",!1,Om([sc,Zn([Fs("placeholder")])],r=>I(r)?r?O.some({placeholder:O.none()}):O.none():O.some(r))),Fa("fetch"),es("onSetup",()=>ce)],mP=Zn([bi,...yV]),gP=r=>Cs("menubutton",mP,r),xV=Zn([bi,z2,id,Hp,RA,IF,zp,Tc("presets","normal",["normal","color","listpreview"]),LR(1),K0,BR]);var U4=yu({factory:(r,a)=>{const u={focus:Ln.focusIn,setMenus:(f,p)=>{const b=Ye(p,w=>{const S={type:"menubutton",text:w.text,fetch:D=>{D(w.getItems())}},E=gP(S).mapError(D=>el(D)).getOrDie();return cy(E,"tox-mbtn",a.backstage,O.some("menuitem"))});qn.set(f,b)}};return{uid:r.uid,dom:r.dom,components:[],behaviours:Zt([qn.config({}),_o("menubar-events",[ss(f=>{r.onSetup(f)}),St(On(),(f,p)=>{fs(f.element,".tox-mbtn--active").each(b=>{Qu(p.event.target,".tox-mbtn").each(w=>{lr(b,w)||f.getSystem().getByDom(b).each(S=>{f.getSystem().getByDom(w).each(E=>{kl.expand(E),kl.close(S),no.focus(E)})})})})}),St(G1(),(f,p)=>{p.event.prevFocus.bind(b=>f.getSystem().getByDom(b).toOptional()).each(b=>{p.event.newFocus.bind(w=>f.getSystem().getByDom(w).toOptional()).each(w=>{kl.isOpen(b)&&(kl.expand(w),kl.close(b))})})})]),Ln.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(r.onEscape(f),O.some(!0))}),Zr.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Dt("dom"),Dt("uid"),Dt("onEscape"),Dt("backstage"),it("onSetup",ce)],apis:{focus:(r,a)=>{r.focus(a)},setMenus:(r,a,u)=>{r.setMenus(a,u)}}});const hP="container",wV=[yn("slotBehaviours",[])],W4=r=>"<alloy.field."+r+">",CV=(r,a)=>{const u=L=>$D(r),f=(L,M)=>(z,q)=>qr(z,r,q).map(X=>L(X,q)).getOr(M),p=(L,M)=>Lo(L.element,"aria-hidden")!=="true",b=f(p,!1),w=f((L,M)=>{if(p(L)){const z=L.element;co(z,"display","none"),rn(z,"aria-hidden","true"),Nn(L,uu(),{name:M,visible:!1})}}),S=(L=>(M,z)=>{Mt(z,q=>L(M,q))})(w),E=f((L,M)=>{if(!p(L)){const z=L.element;_r(z,"display"),So(z,"aria-hidden"),Nn(L,uu(),{name:M,visible:!0})}}),D={getSlotNames:u,getSlot:(L,M)=>qr(L,r,M),isShowing:b,hideSlot:w,hideAllSlots:L=>S(L,u()),showSlot:E};return{uid:r.uid,dom:r.dom,components:a,behaviours:Xn(r.slotBehaviours),apis:D}},_V=Dn({getSlotNames:(r,a)=>r.getSlotNames(a),getSlot:(r,a,u)=>r.getSlot(a,u),isShowing:(r,a,u)=>r.isShowing(a,u),hideSlot:(r,a,u)=>r.hideSlot(a,u),hideAllSlots:(r,a)=>r.hideAllSlots(a),showSlot:(r,a,u)=>r.showSlot(a,u)},r=>l0(r)),Sl={..._V,sketch:r=>{const a=(()=>{const b=[];return{slot:(w,S)=>(b.push(w),SE(hP,W4(w),S)),record:ee(b)}})(),u=r(a),f=a.record(),p=Ye(f,b=>_l({name:b,pname:W4(b)}));return Qx(hP,wV,p,CV,u)}},kV=Zn([id,z2,es("onShow",ce),es("onHide",ce),zp]),SV=r=>({element:()=>r.element.dom}),Vk=(r,a)=>{const u=Ye(wn(a),f=>{const p=a[f],b=La((w=>Cs("sidebar",kV,w))(p));return{name:f,getApi:SV,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return Ye(u,f=>{const p=Vn(ce);return r.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:$2([$p(f,p),_h(f,p),St(uu(),(b,w)=>{const S=w.event;J(u,D=>D.name===S.name).each(D=>{(S.visible?D.onShow:D.onHide)(D.getApi(b))})})])})})},pP=r=>Sl.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Vk(a,r),slotBehaviours:$2([ss(u=>Sl.hideAllSlots(u))])})),zk=(r,a)=>{rn(r,"role",a)},EV=r=>or.getCurrent(r).bind(a=>Jl.isGrowing(a)||Jl.hasGrown(a)?or.getCurrent(a).bind(u=>J(Sl.getSlotNames(u),f=>Sl.isShowing(u,f))):O.none()),Z4=bn("FixSizeEvent"),j4=bn("AutoSizeEvent");var AV=Object.freeze({__proto__:null,block:(r,a,u,f)=>{rn(r.element,"aria-busy",!0);const p=a.getRoot(r).getOr(r),b=Zt([Ln.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),no.config({})]),w=f(p,b),S=p.getSystem().build(w);qn.append(p,ol(S)),S.hasConfigured(Ln)&&a.focus&&Ln.focusIn(S),u.isBlocked()||a.onBlock(r),u.blockWith(()=>qn.remove(p,S))},unblock:(r,a,u)=>{So(r.element,"aria-busy"),u.isBlocked()&&a.onUnblock(r),u.clear()},isBlocked:(r,a,u)=>u.isBlocked()}),TV=[es("getRoot",O.none),ti("focus",!0),Jo("onBlock"),Jo("onUnblock")];const gd=Ni({fields:TV,name:"blocking",apis:AV,state:Object.freeze({__proto__:null,init:()=>{const r=Sc(a=>a.destroy());return Ii({readState:r.isSet,blockWith:a=>{r.set({destroy:a})},clear:r.clear,isBlocked:r.isSet})}})}),K4=r=>or.getCurrent(r).each(a=>Ha(a.element,!0)),vP=(r,a,u)=>{const f=Vn(!1),p=Tr(),b=S=>{var E;f.get()&&(!(D=>D.type==="focusin")(E=S)||!(E.composed?zt(E.composedPath()):O.from(E.target)).map(sn).filter(ls).exists(D=>nl(D,"mce-pastebin")))&&(S.preventDefault(),K4(a()),r.editorManager.setActive(r))};r.inline||r.on("PreInit",()=>{r.dom.bind(r.getWin(),"focusin",b),r.on("BeforeExecCommand",S=>{S.command.toLowerCase()==="mcefocus"&&S.value!==!0&&b(S)})});const w=S=>{S!==f.get()&&(f.set(S),((E,D,L,M)=>{const z=D.element;if(((q,X)=>{const ue="tabindex",me=`data-mce-${ue}`;O.from(q.iframeElement).map(sn).each(_e=>{X?(Ko(_e,ue).each(fe=>rn(_e,me,fe)),rn(_e,ue,-1)):(So(_e,ue),Ko(_e,me).each(fe=>{rn(_e,ue,fe),So(_e,me)}))})})(E,L),L)gd.block(D,(q=>(X,ue)=>({dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:rg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),_r(z,"display"),So(z,"aria-hidden"),E.hasFocus()&&K4(D);else{const q=or.getCurrent(D).exists(X=>uh(X.element));gd.unblock(D),co(z,"display","none"),rn(z,"aria-hidden","true"),q&&E.focus()}})(r,a(),S,u.providers),((E,D)=>{E.dispatch("AfterProgressState",{state:D})})(r,S))};r.on("ProgressState",S=>{if(p.on(clearTimeout),te(S.time)){const E=s_.setEditorTimeout(r,()=>w(S.state),S.time);p.set(E)}else w(S.state),p.clear()})},G4=(r,a,u)=>({within:r,extra:a,withinWidth:u}),q4=(r,a,u)=>{const f=kn(r,(w,S)=>((E,D)=>{const L=u(E);return O.some({element:E,start:D,finish:D+L,width:L})})(S,w.len).fold(ee(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=zn(f,w=>w.finish<=a),b=fn(p,(w,S)=>w+S.width,0);return{within:p,extra:f.slice(p.length),withinWidth:b}},Hk=r=>Ye(r,a=>a.element),bP=(r,a)=>{const u=Ye(a,f=>ol(f));ef.setGroups(r,u)},yP=(r,a,u)=>{const f=a.builtGroups.get();if(f.length===0)return;const p=vh(r,a,"primary"),b=zs.getCoupled(r,"overflowGroup");co(p.element,"visibility","hidden");const w=f.concat([b]),S=Vt(w,D=>Ys(D.element).bind(L=>D.getSystem().getByDom(L).toOptional()));u([]),bP(p,w);const E=((D,L,M,z)=>{const q=((_e,fe,de)=>{const ve=q4(fe,_e,de);return ve.extra.length===0?O.some(ve):O.none()})(D,L,M).getOrThunk(()=>q4(L,D-M(z),M)),X=q.within,ue=q.extra,me=q.withinWidth;return ue.length===1&&ue[0].width<=M(z)?((_e,fe,de)=>{const ve=Hk(_e.concat(fe));return G4(ve,[],de)})(X,ue,me):ue.length>=1?((_e,fe,de,ve)=>{const ke=Hk(_e).concat([de]);return G4(ke,Hk(fe),ve)})(X,ue,z,me):((_e,fe,de)=>G4(Hk(_e),[],de))(X,0,me)})(Oi(p.element),a.builtGroups.get(),D=>Math.ceil(D.element.dom.getBoundingClientRect().width),b);E.extra.length===0?(qn.remove(p,b),u([])):(bP(p,E.within),u(E.extra)),_r(p.element,"visibility"),Vu(p.element),S.each(no.focus)},xP=ee([yn("splitToolbarBehaviours",[zs]),Wi("builtGroups",()=>Vn([]))]),OV=ee([th(["overflowToggledClass"]),au("getOverflowBounds"),Dt("lazySink"),Wi("overflowGroups",()=>Vn([])),Jo("onOpened"),Jo("onClosed")].concat(xP())),DV=ee([_l({factory:ef,schema:n1(),name:"primary"}),jd({schema:n1(),name:"overflow"}),jd({name:"overflow-button"}),jd({name:"overflow-group"})]),Y4=ee((r,a)=>{((u,f)=>{const p=Fg.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);co(u,"max-width",p+"px")})(r,Math.floor(a))}),RV=ee([th(["toggledClass"]),Dt("lazySink"),Fa("fetch"),au("getBounds"),Ds("fireDismissalEventInstead",[it("event",Gg())]),Bf(),Jo("onToggled")]),IV=ee([jd({name:"button",overrides:r=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Qn.config({toggleClass:r.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:r.onToggled})])})}),jd({factory:ef,schema:n1(),name:"toolbar",overrides:r=>({toolbarBehaviours:Zt([Ln.config({mode:"cyclic",onEscape:a=>(qr(a,r,"button").each(no.focus),O.none())})])})})]),$k=Tr(),my=(r,a)=>{const u=zs.getCoupled(r,"toolbarSandbox");T.isOpen(u)?T.close(u):T.open(u,a.toolbar())},pw=(r,a,u,f)=>{const p=u.getBounds.map(w=>w()),b=u.lazySink(r).getOrDie();ga.positionWithinBounds(b,a,{anchor:{type:"hotspot",hotspot:r,layouts:f,overrides:{maxWidthFunction:Y4()}}},p)},Uk=(r,a,u,f,p)=>{ef.setGroups(a,p),pw(r,a,u,f),Qn.on(r)},Rh=Vl({name:"FloatingToolbarButton",factory:(r,a,u,f)=>({...Wa.sketch({...f.button(),action:p=>{my(p,f)},buttonBehaviours:Jn({dump:f.button().buttonBehaviours},[zs.config({others:{toolbarSandbox:p=>((b,w,S)=>{const E=sh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Zt([Ln.config({mode:"special",onEscape:D=>(T.close(D),O.some(!0))}),T.config({onOpen:(D,L)=>{const M=$k.get().getOr(!1);S.fetch().get(z=>{Uk(b,L,S,w.layouts,z),E.link(b.element),M||Ln.focusIn(L)})},onClose:()=>{Qn.off(b),$k.get().getOr(!1)||no.focus(b),E.unlink(b.element)},isPartOf:(D,L,M)=>xl(L,M)||xl(b,M),getAttachPoint:()=>S.lazySink(b).getOrDie()}),wl.config({channels:{...se({isExtraPart:Ee,...S.fireDismissalEventInstead.map(D=>({fireEventInstead:{event:D.event}})).getOr({})}),...Ie({doReposition:()=>{T.getState(zs.getCoupled(b,"toolbarSandbox")).each(D=>{pw(b,D,S,w.layouts)})}})}})])}})(p,u,r)}})])}),apis:{setGroups:(p,b)=>{T.getState(zs.getCoupled(p,"toolbarSandbox")).each(w=>{Uk(p,w,r,u.layouts,b)})},reposition:p=>{T.getState(zs.getCoupled(p,"toolbarSandbox")).each(b=>{pw(p,b,r,u.layouts)})},toggle:p=>{my(p,f)},toggleWithoutFocusing:p=>{((b,w)=>{$k.set(!0),my(b,w),$k.clear()})(p,f)},getToolbar:p=>T.getState(zs.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(zs.getCoupled(p,"toolbarSandbox"))}}),configFields:RV(),partFields:IV(),apis:{setGroups:(r,a,u)=>{r.setGroups(a,u)},reposition:(r,a)=>{r.reposition(a)},toggle:(r,a)=>{r.toggle(a)},toggleWithoutFocusing:(r,a)=>{r.toggleWithoutFocusing(a)},getToolbar:(r,a)=>r.getToolbar(a),isOpen:(r,a)=>r.isOpen(a)}}),NV=ee([Dt("items"),th(["itemSelector"]),yn("tgroupBehaviours",[Ln])]),PV=ee([WC({name:"items",unit:"item"})]),gy=Vl({name:"ToolbarGroup",configFields:NV(),partFields:PV(),factory:(r,a,u,f)=>({uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.tgroupBehaviours,[Ln.config({mode:"flow",selector:r.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),Wk=r=>Ye(r,a=>ol(a)),vw=(r,a,u)=>{yP(r,u,f=>{u.overflowGroups.set(f),a.getOpt(r).each(p=>{Rh.setGroups(p,Wk(f))})})},X4=Vl({name:"SplitFloatingToolbar",configFields:OV(),partFields:DV(),factory:(r,a,u,f)=>{const p=kr(Rh.sketch({fetch:()=>Up(b=>{b(Wk(r.overflowGroups.get()))}),layouts:{onLtr:()=>[Ps,Ns],onRtl:()=>[Ns,Ps],onBottomLtr:()=>[Br,ni],onBottomRtl:()=>[ni,Br]},getBounds:u.getOverflowBounds,lazySink:r.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:r.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(b,w)=>r[w?"onOpened":"onClosed"](b)}));return{uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.splitToolbarBehaviours,[zs.config({others:{overflowGroup:()=>gy.sketch({...f["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(b,w)=>{r.builtGroups.set(Ye(w,b.getSystem().build)),vw(b,p,r)},refresh:b=>vw(b,p,r),toggle:b=>{p.getOpt(b).each(w=>{Rh.toggle(w)})},toggleWithoutFocusing:b=>{p.getOpt(b).each(Rh.toggleWithoutFocusing)},isOpen:b=>p.getOpt(b).map(Rh.isOpen).getOr(!1),reposition:b=>{p.getOpt(b).each(w=>{Rh.reposition(w)})},getOverflow:b=>p.getOpt(b).bind(Rh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,a,u)=>{r.setGroups(a,u)},refresh:(r,a)=>{r.refresh(a)},reposition:(r,a)=>{r.reposition(a)},toggle:(r,a)=>{r.toggle(a)},toggleWithoutFocusing:(r,a)=>{r.toggle(a)},isOpen:(r,a)=>r.isOpen(a),getOverflow:(r,a)=>r.getOverflow(a)}}),MV=ee([th(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Jo("onOpened"),Jo("onClosed")].concat(xP())),BV=ee([_l({factory:ef,schema:n1(),name:"primary"}),_l({factory:ef,schema:n1(),name:"overflow",overrides:r=>({toolbarBehaviours:Zt([Jl.config({dimension:{property:"height"},closedClass:r.markers.closedClass,openClass:r.markers.openClass,shrinkingClass:r.markers.shrinkingClass,growingClass:r.markers.growingClass,onShrunk:a=>{qr(a,r,"overflow-button").each(u=>{Qn.off(u)}),r.onClosed(a)},onGrown:a=>{r.onOpened(a)},onStartGrow:a=>{qr(a,r,"overflow-button").each(Qn.on)}}),Ln.config({mode:"acyclic",onEscape:a=>(qr(a,r,"overflow-button").each(no.focus),O.some(!0))})])})}),jd({name:"overflow-button",overrides:r=>({buttonBehaviours:Zt([Qn.config({toggleClass:r.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),jd({name:"overflow-group"})]),J4=(r,a,u)=>{qr(r,a,"overflow-button").each(f=>{qr(r,a,"overflow").each(p=>{if(Q4(r,a),Jl.hasShrunk(p)){const b=a.onOpened;a.onOpened=w=>{u||Ln.focusIn(p),b(w),a.onOpened=b}}else{const b=a.onClosed;a.onClosed=w=>{u||no.focus(f),b(w),a.onClosed=b}}Jl.toggleGrow(p)})})},Q4=(r,a)=>{qr(r,a,"overflow").each(u=>{yP(r,a,f=>{const p=Ye(f,b=>ol(b));ef.setGroups(u,p)}),qr(r,a,"overflow-button").each(f=>{Jl.hasGrown(u)&&Qn.on(f)}),Jl.refresh(u)})},eT=Vl({name:"SplitSlidingToolbar",configFields:MV(),partFields:BV(),factory:(r,a,u,f)=>{const p="alloy.toolbar.toggle";return{uid:r.uid,dom:r.dom,components:a,behaviours:xo(r.splitToolbarBehaviours,[zs.config({others:{overflowGroup:b=>gy.sketch({...f["overflow-group"](),items:[Wa.sketch({...f["overflow-button"](),action:w=>{Ao(b,p)}})]})}}),_o("toolbar-toggle-events",[St(p,b=>{J4(b,r,!1)})])]),apis:{setGroups:(b,w)=>{((S,E)=>{const D=Ye(E,S.getSystem().build);r.builtGroups.set(D)})(b,w),Q4(b,r)},refresh:b=>Q4(b,r),toggle:b=>{J4(b,r,!1)},toggleWithoutFocusing:b=>{J4(b,r,!0)},isOpen:b=>((w,S)=>qr(w,S,"overflow").map(Jl.hasGrown).getOr(!1))(b,r)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,a,u)=>{r.setGroups(a,u)},refresh:(r,a)=>{r.refresh(a)},toggle:(r,a)=>{r.toggle(a)},isOpen:(r,a)=>r.isOpen(a)}}),wP=r=>{const a=r.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[gy.parts.items({})],items:r.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Zt([Zr.config({}),no.config({})])}},Zk=r=>gy.sketch(wP(r)),CP=(r,a)=>{const u=ss(f=>{const p=Ye(r.initGroups,Zk);ef.setGroups(f,p)});return Zt([M_(r.providers.isDisabled),Pi(),Ln.config({mode:a,onEscape:r.onEscape,selector:".tox-toolbar__group"}),_o("toolbar-events",[u])])},_P=r=>{const a=r.cyclicKeying?"cyclic":"acyclic";return{uid:r.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":wP({title:O.none(),items:[]}),"overflow-button":BN({name:"more",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:O.none(),borderless:!1},O.none(),r.providers,[],"overflow-button")},splitToolbarBehaviours:CP(r,a)}},LV=r=>{const a=_P(r),u=X4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return X4.sketch({...a,lazySink:r.getSink,getOverflowBounds:()=>{const f=r.moreDrawerData.lazyHeader().element,p=vl(f),b=Ya(f),w=vl(b),S=Math.max(b.dom.scrollHeight,w.height);return Io(p.x+4,w.y,p.width-8,S)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>r.onToggled(f,!0),onClosed:f=>r.onToggled(f,!1)})},FV=r=>{const a=eT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=eT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=_P(r);return eT.sketch({...f,components:[a,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([Lk()],{type:"opened"}),r.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([Lk()],{type:"closed"}),r.onToggled(p,!1)}})},tT=r=>{const a=r.cyclicKeying?"cyclic":"acyclic";return ef.sketch({uid:r.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(r.type===od.scrolling?["tox-toolbar--scrolling"]:[])},components:[ef.parts.groups({})],toolbarBehaviours:CP(r,a)})},kP=[Hp,id,Fs("tooltip"),Tc("buttonType","secondary",["primary","secondary"]),ti("borderless",!1),Fa("onAction")],nT={button:[...kP,sd,Gu("type",["button"])],togglebutton:[...kP,ti("active",!1),Gu("type",["togglebutton"])]},VV=[Gu("type",["group"]),Rr("buttons",[],hi("type",nT))],zV=hi("type",{...nT,group:VV}),bg=Zn([Rr("buttons",[],zV),Fa("onShow"),Fa("onHide")]),SP=(r,a)=>((u,f)=>{var p,b;const w=u.type==="togglebutton",S=u.icon.map(fe=>Jp(fe,f.icons)).map(kr),E={...u,name:w?u.text.getOr(u.icon.getOr("")):(p=u.text)!==null&&p!==void 0?p:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:O.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},D=v4((b=u.buttonType)!==null&&b!==void 0?b:"secondary"),L=w?u.text.map(f.translate):O.some(f.translate(u.text)),M=L.map(Vs),z=E.tooltip.or(L).map(fe=>({"aria-label":f.translate(fe)})).getOr({}),q=S.map(fe=>fe.asSpec()),X=Y0([q,M]),ue=u.icon.isSome()&&M.isSome(),me={tag:"button",classes:D.concat(...u.icon.isSome()&&!ue?["tox-button--icon"]:[]).concat(...ue?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:z},_e=uw(E,O.some(fe=>{const de=ve=>{S.map(ke=>ke.getOpt(fe).each(Ae=>{qn.set(Ae,[Jp(ve,f.icons)])}))};return w?u.onAction({setIcon:de,setActive:ve=>{const ke=fe.element;ve?(Ss(ke,"tox-button--enabled"),rn(ke,"aria-pressed",!0)):(Is(ke,"tox-button--enabled"),So(ke,"aria-pressed"))},isActive:()=>nl(fe.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:de}):void 0}),[],me,X,u.tooltip,f);return Wa.sketch(_e)})(r,a),EP=sa().deviceType,oT=EP.isPhone(),va=EP.isTablet();var hy=Vl({name:"silver.View",configFields:[Dt("viewConfig")],partFields:[bu({factory:{sketch:r=>{let a=!1;const u=Ye(r.buttons,f=>f.type==="group"?(a=!0,((p,b)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ye(p.buttons,w=>SP(w,b))}))(f,r.providers)):SP(f,r.providers));return{uid:r.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...oT||va?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Zt([no.config({}),Ln.config({mode:"flow",selector:"button, .tox-button",focusInside:Eb.OnEnterOrSpaceMode})]),components:a?u:[Yd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Yd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Dt("buttons"),Dt("providers")],name:"header"}),bu({factory:{sketch:r=>({uid:r.uid,behaviours:Zt([no.config({}),Zr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(r,a,u,f)=>{const p={getPane:b=>pa.getPart(b,r,"pane"),getOnShow:b=>r.viewConfig.onShow,getOnHide:b=>r.viewConfig.onHide};return{uid:r.uid,dom:r.dom,components:a,behaviours:Zt([no.config({}),Ln.config({mode:"cyclic",focusInside:Eb.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(r,a)=>r.getPane(a),getOnShow:(r,a)=>r.getOnShow(a),getOnHide:(r,a)=>r.getOnHide(a)}});const HV=(r,a,u)=>as(a,(f,p)=>{const b=La(Cs("view",bg,f));return r.slot(p,hy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[hy.parts.header({buttons:b.buttons,providers:u})]:[],hy.parts.pane({})]}))}),$V=(r,a)=>Sl.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:HV(u,r,a),slotBehaviours:$2([ss(f=>Sl.hideAllSlots(f))])})),AP=r=>J(Sl.getSlotNames(r),a=>Sl.isShowing(r,a)),TP=(r,a,u)=>{Sl.getSlot(r,a).each(f=>{hy.getPane(f).each(p=>{var b;u(f)((b=p.element.dom,{getContainer:ee(b)}))})})};var jk=yu({factory:(r,a)=>{const u={setViews:(f,p)=>{qn.set(f,[$V(p,a.backstage.shared.providers)])},whichView:f=>or.getCurrent(f).bind(AP),toggleView:(f,p,b,w)=>or.getCurrent(f).exists(S=>{const E=AP(S),D=E.exists(M=>w===M),L=Sl.getSlot(S,w).isSome();return L&&(Sl.hideAllSlots(S),D?((M=>{const z=M.element;co(z,"display","none"),rn(z,"aria-hidden","true")})(f),p()):(b(),(M=>{const z=M.element;_r(z,"display"),So(z,"aria-hidden")})(f),Sl.showSlot(S,w),((M,z)=>{TP(M,z,hy.getOnShow)})(S,w)),E.each(M=>((z,q)=>TP(z,q,hy.getOnHide))(S,M))),L})};return{uid:r.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Zt([qn.config({}),or.config({find:f=>{const p=qn.contents(f);return zt(p)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Dt("backstage")],apis:{setViews:(r,a,u)=>r.setViews(a,u),toggleView:(r,a,u,f,p)=>r.toggleView(a,u,f,p),whichView:(r,a)=>r.whichView(a)}});const UV=pg.optional({factory:U4,name:"menubar",schema:[Dt("backstage")]}),WV=pg.optional({factory:{sketch:r=>F4.sketch({uid:r.uid,dom:r.dom,listBehaviours:Zt([Ln.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>tT({type:r.type,uid:bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:r.providers,onEscape:()=>(r.onEscape(),O.some(!0))}),setupItem:(a,u,f,p)=>{ef.setGroups(u,f)},shell:!0})},name:"multiple-toolbar",schema:[Dt("dom"),Dt("onEscape")]}),ZV=pg.optional({factory:{sketch:r=>(u=>u.type===od.sliding?FV:u.type===od.floating?LV:tT)(r)({type:r.type,uid:r.uid,onEscape:()=>(r.onEscape(),O.some(!0)),onToggled:(u,f)=>r.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:r.getSink,providers:r.providers,moreDrawerData:{lazyToolbar:r.lazyToolbar,lazyMoreButton:r.lazyMoreButton,lazyHeader:r.lazyHeader},attributes:r.attributes})},name:"toolbar",schema:[Dt("dom"),Dt("onEscape"),Dt("getSink")]}),jV=pg.optional({factory:{sketch:r=>{const a=r.editor,u=r.sticky?fP:Bk;return{uid:r.uid,dom:r.dom,components:r.components,behaviours:Zt(u(a,r.sharedBackstage))}}},name:"header",schema:[Dt("dom")]}),KV=pg.optional({factory:{sketch:r=>({uid:r.uid,dom:r.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Dt("dom")]}),GV=pg.optional({name:"socket",schema:[Dt("dom")]}),qV=pg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([Zr.config({}),no.config({}),Jl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{or.getCurrent(a).each(Sl.hideAllSlots),Ao(a,j4)},onGrown:a=>{Ao(a,j4)},onStartGrow:a=>{Nn(a,Z4,{width:$s(a.element,"width").getOr("")})},onStartShrink:a=>{Nn(a,Z4,{width:Oi(a.element)+"px"})}}),qn.config({}),or.config({find:a=>{const u=qn.contents(a);return zt(u)}})])}],behaviours:Zt([z3(0),_o("sidebar-sliding-events",[St(Z4,(a,u)=>{co(a.element,"width",u.event.width)}),St(j4,(a,u)=>{_r(a.element,"width")})])])})},name:"sidebar",schema:[Dt("dom")]}),YV=pg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([qn.config({}),gd.config({focus:!1}),or.config({find:a=>zt(a.components())})]),components:[]})},name:"throbber",schema:[Dt("dom")]}),XV=pg.optional({factory:jk,name:"viewWrapper",schema:[Dt("backstage")]}),JV=pg.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:r.components})},name:"editorContainer",schema:[]});var ts=Vl({name:"OuterContainer",factory:(r,a,u)=>{let f=!1;const p=w=>{Gr(w,".tox-statusbar").each(S=>{ws(S,"display")==="none"&&Lo(S,"aria-hidden")==="true"?(_r(S,"display"),So(S,"aria-hidden")):(co(S,"display","none"),rn(S,"aria-hidden","true"))})},b={getSocket:w=>pa.getPart(w,r,"socket"),setSidebar:(w,S,E)=>{pa.getPart(w,r,"sidebar").each(D=>((L,M,z)=>{or.getCurrent(L).each(q=>{qn.set(q,[pP(M)]);const X=z==null?void 0:z.toLowerCase();v(X)&&To(M,X)&&or.getCurrent(q).each(ue=>{Sl.showSlot(ue,X),Jl.immediateGrow(q),_r(q.element,"width"),zk(L.element,"region")})})})(D,S,E))},toggleSidebar:(w,S)=>{pa.getPart(w,r,"sidebar").each(E=>((D,L)=>{or.getCurrent(D).each(M=>{or.getCurrent(M).each(z=>{Jl.hasGrown(M)?Sl.isShowing(z,L)?(Jl.shrink(M),zk(D.element,"presentation")):(Sl.hideAllSlots(z),Sl.showSlot(z,L),zk(D.element,"region")):(Sl.hideAllSlots(z),Sl.showSlot(z,L),Jl.grow(M),zk(D.element,"region"))})})})(E,S))},whichSidebar:w=>pa.getPart(w,r,"sidebar").bind(EV).getOrNull(),getHeader:w=>pa.getPart(w,r,"header"),getToolbar:w=>pa.getPart(w,r,"toolbar"),setToolbar:(w,S)=>{pa.getPart(w,r,"toolbar").each(E=>{const D=Ye(S,Zk);E.getApis().setGroups(E,D)})},setToolbars:(w,S)=>{pa.getPart(w,r,"multiple-toolbar").each(E=>{const D=Ye(S,L=>Ye(L,Zk));F4.setItems(E,D)})},refreshToolbar:w=>{pa.getPart(w,r,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:w=>{pa.getPart(w,r,"toolbar").each(S=>{gi(S.getApis().toggle,E=>E(S))})},toggleToolbarDrawerWithoutFocusing:w=>{pa.getPart(w,r,"toolbar").each(S=>{gi(S.getApis().toggleWithoutFocusing,E=>E(S))})},isToolbarDrawerToggled:w=>pa.getPart(w,r,"toolbar").bind(S=>O.from(S.getApis().isOpen).map(E=>E(S))).getOr(!1),getThrobber:w=>pa.getPart(w,r,"throbber"),focusToolbar:w=>{pa.getPart(w,r,"toolbar").orThunk(()=>pa.getPart(w,r,"multiple-toolbar")).each(S=>{Ln.focusIn(S)})},setMenubar:(w,S)=>{pa.getPart(w,r,"menubar").each(E=>{U4.setMenus(E,S)})},focusMenubar:w=>{pa.getPart(w,r,"menubar").each(S=>{U4.focus(S)})},setViews:(w,S)=>{pa.getPart(w,r,"viewWrapper").each(E=>{jk.setViews(E,S)})},toggleView:(w,S)=>pa.getPart(w,r,"viewWrapper").exists(E=>jk.toggleView(E,()=>b.showMainView(w),()=>b.hideMainView(w),S)),whichView:w=>pa.getPart(w,r,"viewWrapper").bind(jk.whichView).getOrNull(),hideMainView:w=>{f=b.isToolbarDrawerToggled(w),f&&b.toggleToolbarDrawer(w),pa.getPart(w,r,"editorContainer").each(S=>{const E=S.element;p(E),co(E,"display","none"),rn(E,"aria-hidden","true")})},showMainView:w=>{f&&b.toggleToolbarDrawer(w),pa.getPart(w,r,"editorContainer").each(S=>{const E=S.element;p(E),_r(E,"display"),So(E,"aria-hidden")})}};return{uid:r.uid,dom:r.dom,components:a,apis:b,behaviours:r.behaviours}},configFields:[Dt("dom"),Dt("behaviours")],partFields:[jV,UV,ZV,WV,GV,qV,KV,YV,XV,JV],apis:{getSocket:(r,a)=>r.getSocket(a),setSidebar:(r,a,u,f)=>{r.setSidebar(a,u,f)},toggleSidebar:(r,a,u)=>{r.toggleSidebar(a,u)},whichSidebar:(r,a)=>r.whichSidebar(a),getHeader:(r,a)=>r.getHeader(a),getToolbar:(r,a)=>r.getToolbar(a),setToolbar:(r,a,u)=>{r.setToolbar(a,u)},setToolbars:(r,a,u)=>{r.setToolbars(a,u)},refreshToolbar:(r,a)=>r.refreshToolbar(a),toggleToolbarDrawer:(r,a)=>{r.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(r,a)=>{r.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(r,a)=>r.isToolbarDrawerToggled(a),getThrobber:(r,a)=>r.getThrobber(a),setMenubar:(r,a,u)=>{r.setMenubar(a,u)},focusMenubar:(r,a)=>{r.focusMenubar(a)},focusToolbar:(r,a)=>{r.focusToolbar(a)},setViews:(r,a,u)=>{r.setViews(a,u)},toggleView:(r,a,u)=>r.toggleView(a,u),whichView:(r,a)=>r.whichView(a)}});const OP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},rT=r=>r.split(" "),DP=(r,a)=>{const u={...OP,...a.menus},f=wn(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?rT("file edit view insert format tools table help"):rT(a.menubar===!1?"":a.menubar),b=zn(p,S=>{const E=To(OP,S);return f?E||hn(a.menus,S).exists(D=>To(D,"items")):E}),w=Ye(b,S=>{const E=u[S];return((D,L,M)=>{const z=G5(M).split(/[ ,]/);return{text:D.title,getItems:()=>tn(D.items,q=>{const X=q.toLowerCase();return X.trim().length===0||pt(z,ue=>ue===X)?[]:X==="separator"||X==="|"?[{type:"separator"}]:L.menuItems[X]?[L.menuItems[X]]:[]})}})({title:E.title,items:rT(E.items)},a,r)});return zn(w,S=>S.getItems().length>0&&pt(S.getItems(),E=>v(E)||E.type!=="separator"))},RP=(r,a,u)=>(r.on("remove",()=>u.unload(a)),u.load(a)),sT=(r,a,u,f)=>(r.on("remove",()=>f.unloadRawCss(a)),f.loadRawCss(a,u)),QV=async(r,a)=>{const u="ui/"+g_(r).getOr("default")+"/skin.css",f=tinymce.Resource.get(u);if(!v(f)){const p=r.editorManager.suffix;return RP(r,a+`/skin${p}.css`,r.ui.styleSheetLoader)}sT(r,u,f,r.ui.styleSheetLoader)},ez=async(r,a)=>{var u;if(u=sn(r.getElement()),Wt(u).isSome()){const f="ui/"+g_(r).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(f);if(!v(p)){const b=r.editorManager.suffix;return RP(r,a+`/skin.shadowdom${b}.css`,H0.DOM.styleSheetLoader)}sT(r,f,p,H0.DOM.styleSheetLoader)}},IP=(r,a)=>(async(u,f)=>{const p=()=>{const w=m_(f),S=f.editorManager.suffix;w&&f.contentCSS.push(w+(u?"/content.inline":"/content")+`${S}.css`)};g_(f).fold(p,w=>{const S="ui/"+w+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(S);v(E)?sT(f,S,E,f.ui.styleSheetLoader):p()});const b=m_(f);if(!Np(f)&&v(b))return Promise.all([QV(f,b),ez(f,b)]).then()})(r,a).then((u=>{const f=()=>{u._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?f():u.on("init",f)}})(a),((u,f)=>()=>((p,b)=>{p.dispatch("SkinLoadError",b)})(u,{message:"Skin could not be loaded"}))(a)),NP=Ze(IP,!1),tz=Ze(IP,!0),o1=(r,a,u)=>Bu(u)?r.translate(a):r.translate([a,r.translate(u)]),nz=(r,a)=>{const u=(b,w,S,E)=>{const D=r.shared.providers.translate(b.title);if(b.type==="separator")return O.some({type:"separator",text:D});if(b.type==="submenu"){const L=tn(b.getStyleItems(),M=>f(M,w,E));return w===0&&L.length<=0?O.none():O.some({type:"nestedmenuitem",text:D,enabled:L.length>0,getSubmenuItems:()=>tn(b.getStyleItems(),M=>f(M,w,E))})}return O.some({type:"togglemenuitem",text:D,icon:b.icon,active:b.isSelected(E),enabled:!S,onAction:a.onAction(b),...b.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},f=(b,w,S)=>{const E=b.type==="formatter"&&a.isInvalid(b);return w===0?E?[]:u(b,w,!1,S).toArray():u(b,w,E,S).toArray()},p=b=>{const w=a.getCurrentValue(),S=a.shouldHide?0:1;return tn(b,E=>f(E,S,w))};return{validateItems:p,getFetch:(b,w)=>(S,E)=>{const D=w(),L=p(D);E(e1(L,Jf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:O.none()}))}}},py=(r,a)=>{const u=a.dataset,f=u.type==="basic"?()=>Ye(u.data,p=>JN(p,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:nz(r,a),getStyleItems:f}},bw=(r,a,u,f,p,b)=>{const{items:w,getStyleItems:S}=py(a,u),E=Vn(u.tooltip);return r4({text:u.icon.isSome()?O.none():u.text,icon:u.icon,ariaLabel:O.some(u.tooltip),tooltip:O.none(),role:O.none(),fetch:w.getFetch(a,S),onSetup:D=>{const L=M=>D.setTooltip(o1(r,f(M.value),M.value));return r.on(p,L),ey(jb(r,"NodeChange",M=>{const z=M.getComponent();u.updateText(z),so.set(M.getComponent(),!r.selection.isEditable())})(D),()=>r.off(p,L))},getApi:D=>({getComponent:ee(D),setTooltip:L=>{const M=a.shared.providers.translate(L);rn(D.element,"aria-label",M),E.set(L)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ri.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(u.tooltip),onShow:D=>{if(u.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());ri.setComponents(D,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,b)};var r1;(function(r){r[r.SemiColon=0]="SemiColon",r[r.Space=1]="Space"})(r1||(r1={}));const iT=(r,a,u)=>{const f=(p=((b,w)=>w===r1.SemiColon?b.replace(/;$/,"").split(";"):b.split(" "))(r.options.get(a),u),Ye(p,b=>{let w=b,S=b;const E=b.split("=");return E.length>1&&(w=E[0],S=E[1]),{title:w,format:S}}));var p;return{type:"basic",data:f}},PP=ee("Alignment {0}"),MP="left",aT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],lT=r=>{const a={type:"basic",data:aT};return{tooltip:o1(r,PP(),MP),text:O.none(),icon:O.some("align-left"),isSelectedFor:u=>()=>r.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>O.none,onAction:u=>()=>J(aT,f=>f.format===u.format).each(f=>r.execCommand(f.command)),updateText:u=>{const f=J(aT,p=>r.formatter.match(p.format)).fold(ee(MP),p=>p.title.toLowerCase());Nn(u,dd,{icon:`align-${f}`}),((p,b)=>{p.dispatch("AlignTextUpdate",b)})(r,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!r.formatter.canApply(u.format)}},BP=(r,a)=>{const u=a(),f=Ye(u,p=>p.format);return O.from(r.formatter.closest(f)).bind(p=>J(u,b=>b.format===p))},cT=ee("Block {0}"),uT="Paragraph",dT=r=>{const a=iT(r,"block_formats",r1.SemiColon);return{tooltip:o1(r,cT(),uT),text:O.some(uT),icon:O.none(),isSelectedFor:u=>()=>r.formatter.match(u),getCurrentValue:O.none,getPreviewFor:u=>()=>{const f=r.formatter.get(u);return f?O.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(u))}):O.none()},onAction:dI(r),updateText:u=>{const f=BP(r,()=>a.data).fold(ee(uT),p=>p.title);Nn(u,Su,{text:f}),((p,b)=>{p.dispatch("BlocksTextUpdate",b)})(r,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!r.formatter.canApply(u.format)}},LP=ee("Font {0}"),fT="System Font",oz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],FP=r=>{const a=r.split(/\s*,\s*/);return Ye(a,u=>u.replace(/^['"]+|['"]+$/g,""))},VP=(r,a)=>a.length>0&&Do(a,u=>r.indexOf(u.toLowerCase())>-1),zP=r=>{const a=()=>{const f=D=>D?FP(D)[0]:"",p=r.queryCommandValue("FontName"),b=u.data,w=p?p.toLowerCase():"",S=f_(r);return{matchOpt:J(b,D=>{const L=D.format;return L.toLowerCase()===w||f(L).toLowerCase()===f(w).toLowerCase()}).orThunk(()=>ar(((D,L)=>{if(D.indexOf("-apple-system")===0||L.length>0){const M=FP(D.toLowerCase());return VP(M,oz)||VP(M,L)}return!1})(w,S),{title:fT,format:w})),font:p}},u=iT(r,"font_family_formats",r1.SemiColon);return{tooltip:o1(r,LP(),fT),text:O.some(fT),icon:O.none(),isSelectedFor:f=>p=>p.exists(b=>b.format===f),getCurrentValue:()=>{const{matchOpt:f}=a();return f},getPreviewFor:f=>()=>O.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:p,font:b}=a(),w=p.fold(ee(b),S=>S.title);Nn(f,Su,{text:w}),((S,E)=>{S.dispatch("FontFamilyTextUpdate",E)})(r,{value:w})},dataset:u,shouldHide:!1,isInvalid:Ee}},rz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},sz=(()=>{const r="[0-9]+",a="[eE][+-]?"+r,u=p=>`(?:${p})?`,f=["Infinity",r+"\\."+u(r)+u(a),"\\."+r+u(a),r+u(a)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),Kk=(r,a)=>O.from(sz.exec(r)).bind(u=>{const f=Number(u[1]),p=u[2];return((b,w)=>pt(w,S=>pt(rz[S],E=>b===E)))(p,a)?O.some({value:f,unit:p}):O.none()}),HP={tab:ee(9),escape:ee(27),enter:ee(13),backspace:ee(8),delete:ee(46),left:ee(37),up:ee(38),right:ee(39),down:ee(40),space:ee(32),home:ee(36),end:ee(35),pageUp:ee(33),pageDown:ee(34)},$P=ee("Font size {0}"),UP="12pt",iz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},WP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},az=(r,a)=>/[0-9.]+px$/.test(r)?((u,f)=>{const p=Math.pow(10,f);return Math.round(u*p)/p})(72*parseInt(r,10)/96,a||0)+"pt":hn(WP,r).getOr(r),lz=r=>hn(iz,r).getOr(""),ZP=r=>{const a=()=>{let p=O.none();const b=f.data,w=r.queryCommandValue("FontSize");if(w)for(let S=3;p.isNone()&&S>=0;S--){const E=az(w,S),D=lz(E);p=J(b,L=>L.format===w||L.format===E||L.format===D)}return{matchOpt:p,size:w}},u=ee(O.none),f=iT(r,"font_size_formats",r1.Space);return{tooltip:o1(r,$P(),UP),text:O.some(UP),icon:O.none(),isSelectedFor:p=>b=>b.exists(w=>w.format===p),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:b,size:w}=a(),S=b.fold(ee(w),E=>E.title);Nn(p,Su,{text:S}),((E,D)=>{E.dispatch("FontSizeTextUpdate",D)})(r,{value:S})},dataset:f,shouldHide:!1,isInvalid:Ee}},jP=r=>Bu(r)?"Formats":"Format {0}",KP=(r,a)=>{const u="Formats";return{tooltip:o1(r,jP(""),""),text:O.some(u),icon:O.none(),isSelectedFor:f=>()=>r.formatter.match(f),getCurrentValue:O.none,getPreviewFor:f=>()=>{const p=r.formatter.get(f);return p!==void 0?O.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(f))}):O.none()},onAction:dI(r),updateText:f=>{const p=S=>qN(S)?tn(S.items,p):YN(S)?[{title:S.title,format:S.format}]:[],b=tn(XN(r),p),w=BP(r,ee(b)).fold(ee({title:u,tooltipLabel:""}),S=>({title:S.title,tooltipLabel:S.title}));Nn(f,Su,{text:w.title}),((S,E)=>{S.dispatch("StylesTextUpdate",E)})(r,{value:w.tooltipLabel})},shouldHide:K5(r),isInvalid:f=>!r.formatter.canApply(f.format),dataset:a}},mT=ee([Dt("toggleClass"),Dt("fetch"),Ju("onExecute"),it("getHotspot",O.some),it("getAnchorOverrides",ee({})),Bf(),Ju("onItemExecute"),Go("lazySink"),Dt("dom"),Jo("onOpen"),yn("splitDropdownBehaviours",[zs,Ln,no]),it("matchWidth",!1),it("useMinWidth",!1),it("eventOrder",{}),Go("role"),Go("listRole")].concat(u3())),cz=_l({factory:Wa,schema:[Dt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(r.uid).each(Of)},buttonBehaviours:Zt([Qn.config({toggleOnExecute:!1,toggleClass:r.toggleClass})])})}),uz=_l({factory:Wa,schema:[Dt("dom")],name:"button",defaults:()=>({buttonBehaviours:Zt([no.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(r.uid).each(u=>{r.onExecute(u,a)})}})}),dz=ee([cz,uz,bu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Dt("text")],name:"aria-descriptor"}),jd({schema:[eh()],name:"menu",defaults:r=>({onExecute:(a,u)=>{a.getSystem().getByUid(r.uid).each(f=>{r.onItemExecute(f,a,u)})}})}),AI()]),yw=Vl({name:"SplitDropdown",configFields:mT(),partFields:dz(),factory:(r,a,u,f)=>{const p=D=>{or.getCurrent(D).each(L=>{Sr.highlightFirst(L),Ln.focusIn(L)})},b=D=>{a3(r,we,D,f,p,al.HighlightMenuAndItem).get(ce)},w=D=>{const L=vh(D,r,"button");return Of(L),O.some(!0)},S={...fo([ss((D,L)=>{qr(D,r,"aria-descriptor").each(M=>{const z=bn("aria");rn(M.element,"id",z),rn(D.element,"aria-describedby",z)})})]),...z0(O.some(b))},E={repositionMenus:D=>{Qn.isOn(D)&&DI(D)}};return{uid:r.uid,dom:r.dom,components:a,apis:E,eventOrder:{...r.eventOrder,[bl()]:["disabling","toggling","alloy.base.behaviour"]},events:S,behaviours:xo(r.splitDropdownBehaviours,[zs.config({others:{sandbox:D=>{const L=vh(D,r,"arrow");return c3(r,D,{onOpen:()=>{Qn.on(L),Qn.on(D)},onClose:()=>{Qn.off(L),Qn.off(D)}})}}}),Ln.config({mode:"special",onSpace:w,onEnter:w,onDown:D=>(b(D),O.some(!0))}),no.config({}),Qn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:r.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(r,a)=>r.repositionMenus(a)}}),gT=r=>({isEnabled:()=>!so.isDisabled(r),setEnabled:a=>so.set(r,!a),setText:a=>Nn(r,Su,{text:a}),setIcon:a=>Nn(r,dd,{icon:a})}),fz=r=>({setActive:a=>{Qn.set(r,a)},isActive:()=>Qn.isOn(r),isEnabled:()=>!so.isDisabled(r),setEnabled:a=>so.set(r,!a),setText:a=>Nn(r,Su,{text:a}),setIcon:a=>Nn(r,dd,{icon:a})}),GP=(r,a)=>r.map(u=>({"aria-label":a.translate(u)})).getOr({}),hT=bn("focus-button"),pT=(r,a,u,f,p,b)=>{const w=a.map(E=>kr(o4(E,"tox-tbtn",p))),S=r.map(E=>kr(Jp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...GP(u,p),...G(b)?{"data-mce-name":b}:{}}},components:Y0([S.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Rt()]:["focusing","alloy.base.behaviour",Xp],[ua()]:[Xp,"toolbar-group-button-events"]},buttonBehaviours:Zt([M_(p.isDisabled),Pi(),_o(Xp,[ss((E,D)=>Ck(E)),St(Su,(E,D)=>{w.bind(L=>L.getOpt(E)).each(L=>{qn.set(L,[Vs(p.translate(D.event.text))])})}),St(dd,(E,D)=>{S.bind(L=>L.getOpt(E)).each(L=>{qn.set(L,[Jp(D.event.icon,p.icons)])})}),St(Rt(),(E,D)=>{D.event.prevent(),Ao(E,hT)})])].concat(f.getOr([])))}},qP=(r,a,u,f)=>{var p;const b=Vn(ce),w=pT(r.icon,r.text,r.tooltip,O.none(),u,f);return Wa.sketch({dom:w.dom,components:w.components,eventOrder:n4,buttonBehaviours:{...Zt([_o("toolbar-button-events",[(S={onAction:r.onAction,getApi:a.getApi},du((E,D)=>{U2(S,E)(L=>{Nn(E,wk,{buttonApi:L}),S.onAction(L)})})),$p(a,b),_h(a,b)]),...r.tooltip.map(E=>ri.config(u.tooltips.getConfig({tooltipText:u.translate(E)+r.shortcut.map(D=>` (${B_(D)})`).getOr("")}))).toArray(),M_(()=>!r.enabled||u.isDisabled()),Pi()].concat(a.toolbarButtonBehaviours)),[Xp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[Xp]}});var S},YP=(r,a,u,f)=>qP(r,{toolbarButtonBehaviours:u.length>0?[_o("toolbarButtonWith",u)]:[],getApi:gT,onSetup:r.onSetup},a,f),XP=(r,a,u,f)=>qP(r,{toolbarButtonBehaviours:[qn.config({}),Qn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[_o("toolbarToggleButtonWith",u)]:[]),getApi:fz,onSetup:r.onSetup},a,f),mz=(r,a,u)=>f=>Up(p=>a.fetch(p)).map(p=>O.from(d3(Mr(Gb(bn("menu-value"),p,b=>{a.onItemAction(r(f),b)},a.columns,a.presets,Jf.CLOSE_ON_EXECUTE,a.select.getOr(Ee),u),{movement:G2(a.columns,a.presets),menuBehaviours:$2(a.columns!=="auto"?[]:[ss((b,w)=>{BA(b,4,Vp(a.presets)).each(({numRows:S,numColumns:E})=>{Ln.setGridSize(b,S,E)})})])})))),gz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],nv=(r,a)=>(u,f,p,b)=>{const w=r(u).mapError(S=>el(S)).getOrDie();return a(w,f,p,b)},hz={button:nv(VR,(r,a,u,f)=>((p,b,w)=>YP(p,b,[],w))(r,a.shared.providers,f)),togglebutton:nv(I_,(r,a,u,f)=>((p,b,w)=>XP(p,b,[],w))(r,a.shared.providers,f)),menubutton:nv(gP,(r,a,u,f)=>cy(r,"tox-tbtn",a,O.none(),!1,f)),splitbutton:nv(r=>Cs("SplitButton",xV,r),(r,a,u,f)=>((p,b,w)=>{const S=Vn(p.tooltip.getOr("")),E=M=>({isEnabled:()=>!so.isDisabled(M),setEnabled:z=>so.set(M,!z),setIconFill:(z,q)=>{fs(M.element,`svg path[class="${z}"], rect[class="${z}"]`).each(X=>{rn(X,"fill",q)})},setActive:z=>{rn(M.element,"aria-pressed",z),fs(M.element,"span").each(q=>{M.getSystem().getByDom(q).each(X=>Qn.set(X,z))})},isActive:()=>fs(M.element,"span").exists(z=>M.getSystem().getByDom(z).exists(Qn.isOn)),setText:z=>fs(M.element,"span").each(q=>M.getSystem().getByDom(q).each(X=>Nn(X,Su,{text:z}))),setIcon:z=>fs(M.element,"span").each(q=>M.getSystem().getByDom(q).each(X=>Nn(X,dd,{icon:z}))),setTooltip:z=>{const q=b.providers.translate(z);rn(M.element,"aria-label",q),S.set(z)}}),D=Vn(ce),L={getApi:E,onSetup:p.onSetup};return yw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...GP(p.tooltip,b.providers),...G(w)?{"data-mce-name":w}:{}}},onExecute:M=>{const z=E(M);z.isEnabled()&&p.onAction(z)},onItemExecute:(M,z,q)=>{},splitDropdownBehaviours:Zt([YR(b.providers.isDisabled),Pi(),_o("split-dropdown-events",[ss((M,z)=>Ck(M)),St(hT,no.focus),$p(L,D),_h(L,D)]),Yb.config({}),...p.tooltip.map(M=>ri.config({...b.providers.tooltips.getConfig({tooltipText:b.providers.translate(M),onShow:z=>{if(S.get()!==M){const q=b.providers.translate(S.get());ri.setComponents(z,b.providers.tooltips.getComponents({tooltipText:q}))}}})})).toArray()]),eventOrder:{[ua()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Dc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:b.getSink,fetch:mz(E,p,b.providers),parts:{menu:A_(0,p.columns,p.presets)},components:[yw.parts.button(pT(p.icon,p.text,O.none(),O.some([Qn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),b.providers)),yw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:vR("chevron-down",b.providers.icons)},buttonBehaviours:Zt([YR(b.providers.isDisabled),Pi(),k_()])}),yw.parts["aria-descriptor"]({text:b.providers.translate("To open the popup, press Shift+Enter")})]})})(r,a.shared,f)),grouptoolbarbutton:nv(r=>Cs("GroupToolbarButton",bV,r),(r,a,u,f)=>{const p=u.ui.registry.getAll().buttons,b={[Cl]:a.shared.header.isPositionedAtTop()?zc.TopToBottom:zc.BottomToTop};if(Mb(u)===od.floating)return((w,S,E,D,L)=>{const M=S.shared,z=Vn(ce),q={toolbarButtonBehaviours:[],getApi:gT,onSetup:w.onSetup},X=[_o("toolbar-group-button-events",[$p(q,z),_h(q,z)])];return Rh.sketch({lazySink:M.getSink,fetch:()=>Up(ue=>{ue(Ye(E(w.items),Zk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:pT(w.icon,w.text,w.tooltip,O.some(X),M.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:D}}}})})(r,a,w=>Gk(u,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,O.none()),b,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},xw={styles:(r,a)=>{const u={type:"advanced",...a.styles};return bw(r,a,KP(r,u),jP,"StylesTextUpdate","styles")},fontsize:(r,a)=>bw(r,a,ZP(r),$P,"FontSizeTextUpdate","fontsize"),fontsizeinput:(r,a)=>((u,f,p,b)=>{let w=O.none();const S=jb(u,"NodeChange SwitchMode",ve=>{const ke=ve.getComponent();w=O.some(ke),p.updateInputValue(ke),so.set(ke,!u.selection.isEditable())}),E=ve=>({getComponent:ee(ve)}),D=Vn(ce),L=bn("custom-number-input-events"),M=(ve,ke,Ae)=>{const $e=w.map(Ht=>lt.getValue(Ht)).getOr(""),rt=p.getNewValue($e,ve),At=$e.length-`${rt}`.length,kt=w.map(Ht=>Ht.element.dom.selectionStart-At),wt=w.map(Ht=>Ht.element.dom.selectionEnd-At);p.onAction(rt,Ae),w.each(Ht=>{lt.setValue(Ht,rt),ke&&(kt.each(mn=>Ht.element.dom.selectionStart=mn),wt.each(mn=>Ht.element.dom.selectionEnd=mn))})},z=(ve,ke)=>M((Ae,$e)=>Ae-$e,ve,ke),q=(ve,ke)=>M((Ae,$e)=>Ae+$e,ve,ke),X=ve=>ka(ve.element).fold(O.none,ke=>(Ha(ke),O.some(!0))),ue=ve=>uh(ve.element)?(Te(ve.element).each(ke=>Ha(ke)),O.some(!0)):O.none(),me=(ve,ke,Ae,$e)=>{const rt=Vn(ce),At=f.shared.providers.translate(Ae),kt=bn("altExecuting"),wt=jb(u,"NodeChange SwitchMode",mn=>{so.set(mn.getComponent(),!u.selection.isEditable())}),Ht=mn=>{so.isDisabled(mn)||ve(!0)};return Wa.sketch({dom:{tag:"button",attributes:{"aria-label":At,"data-mce-name":ke},classes:$e.concat(ke)},components:[iw(ke,f.shared.providers.icons)],buttonBehaviours:Zt([so.config({}),ri.config(f.shared.providers.tooltips.getConfig({tooltipText:At})),_o(kt,[$p({onSetup:wt,getApi:E},rt),_h({getApi:E},rt),St(ks(),(mn,En)=>{En.event.raw.keyCode!==HP.space()&&En.event.raw.keyCode!==HP.enter()||so.isDisabled(mn)||ve(!1)}),St(pi(),Ht),St(Re(),Ht)])]),eventOrder:{[ks()]:[kt,"keying"],[pi()]:[kt,"alloy.base.behaviour"],[Re()]:[kt,"alloy.base.behaviour"],[ua()]:["alloy.base.behaviour",kt,"tooltipping"],[Dc()]:[kt,"tooltipping"]}})},_e=kr(me(ve=>z(!1,ve),"minus","Decrease font size",[])),fe=kr(me(ve=>q(!1,ve),"plus","Increase font size",[])),de=kr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Ch.sketch({inputBehaviours:Zt([so.config({}),_o(L,[$p({onSetup:S,getApi:E},D),_h({getApi:E},D)]),_o("input-update-display-text",[St(Su,(ve,ke)=>{lt.setValue(ve,ke.event.text)}),St(js(),ve=>{p.onAction(lt.getValue(ve))}),St(Pm(),ve=>{p.onAction(lt.getValue(ve))})]),Ln.config({mode:"special",onEnter:ve=>(M(we,!0,!0),O.some(!0)),onEscape:X,onUp:ve=>(q(!0,!1),O.some(!0)),onDown:ve=>(z(!0,!1),O.some(!0)),onLeft:(ve,ke)=>(ke.cut(),O.none()),onRight:(ve,ke)=>(ke.cut(),O.none())})])})],behaviours:Zt([no.config({}),Ln.config({mode:"special",onEnter:ue,onSpace:ue,onEscape:X}),_o("input-wrapper-events",[St(On(),ve=>{Mt([_e,fe],ke=>{const Ae=sn(ke.get(ve).element.dom);uh(Ae)&&rb(Ae)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...G(b)?{"data-mce-name":b}:{}}},components:[_e.asSpec(),de.asSpec(),fe.asSpec()],behaviours:Zt([no.config({}),Ln.config({mode:"flow",focusInside:Eb.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ve=>uh(ve.element)?O.none():(Ha(ve.element),O.some(!0))})])}})(r,a,(u=>{const f=()=>u.queryCommandValue("FontSize");return{updateInputValue:p=>Nn(p,Su,{text:f()}),onAction:(p,b)=>u.execCommand("FontSize",!1,p,{skip_focus:!b}),getNewValue:(p,b)=>{Kk(p,["unsupportedLength","empty"]);const w=f(),S=Kk(p,["unsupportedLength","empty"]).or(Kk(w,["unsupportedLength","empty"])),E=S.map(q=>q.value).getOr(16),D=lA(u),L=S.map(q=>q.unit).filter(q=>q!=="").getOr(D),M=b(E,(q=>{var X;return(X={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[q])!==null&&X!==void 0?X:{step:1}})(L).step),z=`${(q=>q>=0)(M)?M:E}${L}`;return z!==w&&((q,X)=>{q.dispatch("FontSizeInputTextUpdate",X)})(u,{value:z}),z}}})(r),"fontsizeinput"),fontfamily:(r,a)=>bw(r,a,zP(r),LP,"FontFamilyTextUpdate","fontfamily"),blocks:(r,a)=>bw(r,a,dT(r),cT,"BlocksTextUpdate","blocks"),align:(r,a)=>bw(r,a,lT(r),PP,"AlignTextUpdate","align")},Gk=(r,a,u,f)=>{const p=(w=>{const S=w.toolbar,E=w.buttons;return S===!1?[]:S===void 0||S===!0?(D=>{const L=Ye(gz,M=>{const z=zn(M.items,q=>To(D,q)||To(xw,q));return{name:M.name,items:z}});return zn(L,M=>M.items.length>0)})(E):v(S)?(D=>{const L=D.split("|");return Ye(L,M=>({items:M.trim().split(" ")}))})(S):(D=>ae(D,L=>To(L,"name")&&To(L,"items")))(S)?S:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),b=Ye(p,w=>{const S=tn(w.items,E=>E.trim().length===0?[]:((D,L,M,z,q,X)=>hn(L,M.toLowerCase()).orThunk(()=>X.bind(ue=>Vt(ue,me=>hn(L,me+M.toLowerCase())))).fold(()=>hn(xw,M.toLowerCase()).map(ue=>ue(D,q)),ue=>ue.type!=="grouptoolbarbutton"||z?((me,_e,fe,de)=>hn(hz,me.type).fold(()=>(console.error("skipping button defined by",me),O.none()),ve=>O.some(ve(me,_e,fe,de))))(ue,q,D,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(r,a.buttons,E,a.allowToolbarGroups,u,f).toArray());return{title:O.from(r.translate(w.name)),items:S}});return zn(b,w=>w.items.length>0)},JP=(r,a,u,f)=>{const p=a.mainUi.outerContainer,b=u.toolbar,w=u.buttons;if(ae(b,v)){const S=b.map(E=>{const D={toolbar:E,buttons:w,allowToolbarGroups:u.allowToolbarGroups};return Gk(r,D,f,O.none())});ts.setToolbars(p,S)}else ts.setToolbar(p,Gk(r,u,f,O.none()))},QP=sa(),pz=QP.os.isiOS()&&QP.os.version.major<=12;var _W=Object.freeze({__proto__:null,render:(r,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=a,S=Vn(0),E=b.outerContainer;NP(r);const D=sn(p.targetNode),L=Qe(ut(D));xt(D,b.mothership),((X,ue,me)=>{wh(X)&&xt(me.mainUi.mothership.element,me.popupUi.mothership),Gx(ue,me.dialogUi.mothership)})(r,L,a),r.on("SkinLoaded",()=>{ts.setSidebar(E,u.sidebar,d_(r)),JP(r,a,u,f),S.set(r.getWin().innerWidth),ts.setMenubar(E,DP(r,u)),ts.setViews(E,u.views),((X,ue)=>{const{uiMotherships:me}=ue,_e=X.dom;let fe=X.getWin();const de=X.getDoc().documentElement,ve=Vn(Jr(fe.innerWidth,fe.innerHeight)),ke=Vn(Jr(de.offsetWidth,de.offsetHeight)),Ae=()=>{const kt=ve.get();kt.left===fe.innerWidth&&kt.top===fe.innerHeight||(ve.set(Jr(fe.innerWidth,fe.innerHeight)),Zb(X))},$e=()=>{const kt=X.getDoc().documentElement,wt=ke.get();wt.left===kt.offsetWidth&&wt.top===kt.offsetHeight||(ke.set(Jr(kt.offsetWidth,kt.offsetHeight)),Zb(X))},rt=kt=>{((wt,Ht)=>{wt.dispatch("ScrollContent",Ht)})(X,kt)};_e.bind(fe,"resize",Ae),_e.bind(fe,"scroll",rt);const At=Vx(sn(X.getBody()),"load",$e);X.on("hide",()=>{Mt(me,kt=>{co(kt.element,"display","none")})}),X.on("show",()=>{Mt(me,kt=>{_r(kt.element,"display")})}),X.on("NodeChange",$e),X.on("remove",()=>{At.unbind(),_e.unbind(fe,"resize",Ae),_e.unbind(fe,"scroll",rt),fe=null})})(r,a)});const M=ts.getSocket(E).getOrDie("Could not find expected socket element");if(pz){Xa(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const X=((me,_e)=>{let fe=null;return{cancel:()=>{R(fe)||(clearTimeout(fe),fe=null)},throttle:(...de)=>{R(fe)&&(fe=setTimeout(()=>{fe=null,me.apply(null,de)},20))}}})(()=>{r.dispatch("ScrollContent")}),ue=$a(M.element,"scroll",X.throttle);r.on("remove",ue.unbind)}qR(r,a),r.addCommand("ToggleSidebar",(X,ue)=>{ts.toggleSidebar(E,ue),(me=>{me.dispatch("ToggleSidebar")})(r)}),r.addQueryValueHandler("ToggleSidebar",()=>{var X;return(X=ts.whichSidebar(E))!==null&&X!==void 0?X:""}),r.addCommand("ToggleView",(X,ue)=>{if(ts.toggleView(E,ue)){const me=E.element;b.mothership.broadcastOn([B()],{target:me}),Mt(w,_e=>{_e.broadcastOn([B()],{target:me})}),R(ts.whichView(E))&&(r.focus(),r.nodeChanged(),ts.refreshToolbar(E)),(_e=>{_e.dispatch("ToggleView")})(r)}}),r.addQueryValueHandler("ToggleView",()=>{var X;return(X=ts.whichView(E))!==null&&X!==void 0?X:""});const z=Mb(r);z!==od.sliding&&z!==od.floating||r.on("ResizeWindow ResizeEditor ResizeContent",()=>{const X=r.getWin().innerWidth;X!==S.get()&&(ts.refreshToolbar(a.mainUi.outerContainer),S.set(X))});const q={setEnabled:X=>{Ub(a,!X)},isEnabled:()=>!so.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:q}}});const ww=r=>/^[0-9\.]+(|px)$/i.test(""+r)?O.some(parseInt(""+r,10)):O.none(),ov=r=>te(r)?r+"px":r,Cw=(r,a,u)=>{const f=a.filter(b=>r<b),p=u.filter(b=>r>b);return f.or(p).getOr(r)},vT=r=>{const a=p2(r),u=v2(r),f=U0(r);return ww(a).map(p=>Cw(p,u,f))},{ToolbarLocation:bT,ToolbarMode:e6}=_2,vz=(r,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=u,S=H0.DOM,E=Bb(r),D=xh(r),L=U0(r).or(vT(r)),M=f.shared.header,z=M.isPositionedAtTop,q=Mb(r),X=q===e6.sliding||q===e6.floating,ue=Vn(!1),me=()=>ue.get()&&!r.removed,_e=ke=>X?ke.fold(ee(0),Ae=>Ae.components().length>1?Os(Ae.components()[1].element):0):0,fe=()=>{Mt(w,ke=>{ke.broadcastOn([H()],{})})},de=ke=>{if(!me())return;E||p.on(rt=>{const At=L.getOrThunk(()=>xi().width-na(a).left-10);co(rt.element,"max-width",At+"px")});const Ae=Qr(),$e=!(E||E||!(Bl(b.outerContainer.element).left+Ja(b.outerContainer.element)>=window.innerWidth-40||$s(b.outerContainer.element,"width").isSome())||(co(b.outerContainer.element,"position","absolute"),co(b.outerContainer.element,"left","0px"),_r(b.outerContainer.element,"width"),0));if(X&&ts.refreshToolbar(b.outerContainer),!E){const rt=Qr(),At=ar(Ae.left!==rt.left,Ae);((kt,wt)=>{p.on(Ht=>{const mn=ts.getToolbar(b.outerContainer),En=_e(mn),$n=ai(a),io=((Eo,Qo)=>wh(Eo)?gp(Qo):O.none())(r,b.outerContainer.element),zo=io.fold(()=>$n.x,Eo=>{const Qo=ai(Eo);return lr(Eo,vn())?$n.x:$n.x-Qo.x}),ns=ar(kt,Math.ceil(b.outerContainer.element.dom.getBoundingClientRect().width)).filter(Eo=>Eo>150).map(Eo=>{const Qo=wt.getOr(Qr()),Gn=window.innerWidth-(zo-Qo.left),gs=Math.max(Math.min(Eo,Gn),150);return Gn<Eo&&co(b.outerContainer.element,"width",gs+"px"),{width:gs+"px"}}).getOr({width:"max-content"}),ms={position:"absolute",left:Math.round(zo)+"px",top:io.fold(()=>z()?Math.max($n.y-Os(Ht.element)+En,0):$n.bottom,Eo=>{var Qo;const Gn=ai(Eo),gs=(Qo=Eo.dom.scrollTop)!==null&&Qo!==void 0?Qo:0,Fr=lr(Eo,vn())?Math.max($n.y-Os(Ht.element)+En,0):$n.y-Gn.y+gs-Os(Ht.element)+En;return z()?Fr:$n.bottom})+"px"};Xa(b.outerContainer.element,{...ms,...ns})})})($e,At),At.each(kt=>{yf(kt.left,rt.top)})}D&&p.on(ke),fe()},ve=()=>!(E||!D||!me())&&p.get().exists(ke=>{const Ae=M.getDockingMode(),$e=(At=>{switch(Ip(r)){case bT.auto:const kt=ts.getToolbar(b.outerContainer),wt=_e(kt),Ht=Os(At.element)-wt,mn=ai(a);if(mn.y>Ht)return"top";{const En=Ya(a),$n=Math.max(En.dom.scrollHeight,Os(En));return mn.bottom<$n-Ht||Ui().bottom<mn.bottom-Ht?"bottom":"top"}case bT.bottom:return"bottom";case bT.top:default:return"top"}})(ke);return $e!==Ae&&(rt=$e,p.on(At=>{ds.setModes(At,[rt]),M.setDockingMode(rt);const kt=z()?zc.TopToBottom:zc.BottomToTop;rn(At.element,Cl,kt)}),!0);var rt});return{isVisible:me,isPositionedAtTop:z,show:()=>{ue.set(!0),co(b.outerContainer.element,"display","flex"),S.addClass(r.getBody(),"mce-edit-focus"),Mt(w,ke=>{_r(ke.element,"display")}),ve(),wh(r)?de(ke=>ds.isDocked(ke)?ds.reset(ke):ds.refresh(ke)):de(ds.refresh)},hide:()=>{ue.set(!1),co(b.outerContainer.element,"display","none"),S.removeClass(r.getBody(),"mce-edit-focus"),Mt(w,ke=>{co(ke.element,"display","none")})},update:de,updateMode:()=>{ve()&&de(ds.reset)},repositionPopups:fe}},t6=(r,a)=>{const u=ai(r);return{pos:a?u.y:u.bottom,bounds:u}};var bz=Object.freeze({__proto__:null,render:(r,a,u,f,p)=>{const{mainUi:b}=a,w=Tr(),S=sn(p.targetNode),E=vz(r,S,a,f,w),D=q5(r);tz(r);const L=()=>{if(w.isSet())return void E.show();w.set(ts.getHeader(b.outerContainer).getOrDie());const z=p_(r);wh(r)?(xt(S,b.mothership),xt(S,a.popupUi.mothership)):Gx(z,b.mothership),Gx(z,a.dialogUi.mothership);const q=()=>{JP(r,a,u,f),ts.setMenubar(b.outerContainer,DP(r,u)),E.show(),((X,ue,me,_e)=>{const fe=Vn(t6(ue,me.isPositionedAtTop())),de=$e=>{const{pos:rt,bounds:At}=t6(ue,me.isPositionedAtTop()),{pos:kt,bounds:wt}=fe.get(),Ht=At.height!==wt.height||At.width!==wt.width;fe.set({pos:rt,bounds:At}),Ht&&Zb(X,$e),me.isVisible()&&(kt!==rt?me.update(ds.reset):Ht&&(me.updateMode(),me.repositionPopups()))};_e||(X.on("activate",me.show),X.on("deactivate",me.hide)),X.on("SkinLoaded ResizeWindow",()=>me.update(ds.reset)),X.on("NodeChange keydown",$e=>{requestAnimationFrame(()=>de($e))});let ve=0;const ke=Z3(()=>me.update(ds.refresh),33);X.on("ScrollWindow",()=>{const $e=Qr().left;$e!==ve&&(ve=$e,ke.throttle()),me.updateMode()}),wh(X)&&X.on("ElementScroll",$e=>{me.update(ds.refresh)});const Ae=Ec();Ae.set(Vx(sn(X.getBody()),"load",$e=>de($e.raw))),X.on("remove",()=>{Ae.clear()})})(r,S,E,D),r.nodeChanged()};D?r.once("SkinLoaded",q):q()};r.on("show",L),r.on("hide",E.hide),D||(r.on("focus",L),r.on("blur",E.hide)),r.on("init",()=>{(r.hasFocus()||D)&&L()}),qR(r,a);const M={show:L,hide:E.hide,setEnabled:z=>{Ub(a,!z)},isEnabled:()=>!so.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:M}}});const n6="contexttoolbar-hide",o6=(r,a)=>St(wk,(u,f)=>{const p=(b=>({hide:()=>Ao(b,Fv()),getValue:()=>lt.getValue(b)}))(r.get(u));a.onAction(p,f.event.buttonApi)}),yz=(r,a)=>{const u=r.label.fold(()=>({}),b=>({"aria-label":b})),f=kr(Ch.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:r.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:Zt([Ln.config({mode:"special",onEnter:b=>p.findPrimary(b).map(w=>(Of(w),!0)),onLeft:(b,w)=>(w.cut(),O.none()),onRight:(b,w)=>(w.cut(),O.none())})])})),p=((b,w,S)=>{const E=Ye(w,D=>kr(((L,M,z)=>(q=>q.type==="contextformtogglebutton")(M)?((q,X,ue)=>{const{primary:me,..._e}=X.original,fe=La(I_({..._e,type:"togglebutton",onAction:ce}));return XP(fe,ue,[o6(q,X)])})(L,M,z):((q,X,ue)=>{const{primary:me,..._e}=X.original,fe=La(VR({..._e,type:"button",onAction:ce}));return YP(fe,ue,[o6(q,X)])})(L,M,z))(b,D,S)));return{asSpecs:()=>Ye(E,D=>D.asSpec()),findPrimary:D=>Vt(w,(L,M)=>L.primary?O.from(E[M]).bind(z=>z.getOpt(D)).filter(Be(so.isDisabled)):O.none())}})(f,r.commands,a);return[{title:O.none(),items:[f.asSpec()]},{title:O.none(),items:p.asSpecs()}]},r6=(r,a,u)=>a.bottom-r.y>=u&&r.bottom-a.y>=u,yT=r=>{const a=(u=>{const f=u.getBoundingClientRect();if(f.height<=0&&f.width<=0){const p=Ne(sn(u.startContainer),u.startOffset).element;return(Ca(p)?_a(p):O.some(p)).filter(ls).map(b=>b.dom.getBoundingClientRect()).getOr(f)}return f})(r.selection.getRng());if(r.inline){const u=Qr();return Io(u.left+a.left,u.top+a.top,a.width,a.height)}{const u=vl(sn(r.getBody()));return Io(u.x+a.left,u.y+a.top,a.width,a.height)}},s6=(r,a,u,f=0)=>{const p=xi(window),b=ai(sn(r.getContentAreaContainer())),w=x2(r)||w2(r)||C2(r),{x:S,width:E}=((D,L,M)=>{const z=Math.max(D.x+M,L.x);return{x:z,width:Math.min(D.right-M,L.right)-z}})(b,p,f);if(r.inline&&!w)return Io(S,p.y,E,p.height);{const D=a.header.isPositionedAtTop(),{y:L,bottom:M}=((z,q,X,ue,me,_e)=>{const fe=sn(z.getContainer()),de=fs(fe,".tox-editor-header").getOr(fe),ve=ai(de),ke=ve.y>=q.bottom,Ae=ue&&!ke;if(z.inline&&Ae)return{y:Math.max(ve.bottom+_e,X.y),bottom:X.bottom};if(z.inline&&!Ae)return{y:X.y,bottom:Math.min(ve.y-_e,X.bottom)};const $e=me==="line"?ai(fe):q;return Ae?{y:Math.max(ve.bottom+_e,X.y),bottom:Math.min($e.bottom-_e,X.bottom)}:{y:Math.max($e.y+_e,X.y),bottom:Math.min(ve.y-_e,X.bottom)}})(r,b,p,D,u,f);return Io(S,L,E,M-L)}},xT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},s1={maxHeightFunction:dh(),maxWidthFunction:Y4()},rv=r=>r==="node",xz=(r,a,u,f,p)=>{const b=yT(r),w=f.lastElement().exists(S=>lr(u,S));return((S,E)=>{const D=S.selection.getRng(),L=Ne(sn(D.startContainer),D.startOffset);return D.startContainer===D.endContainer&&D.startOffset===D.endOffset-1&&lr(L.element,E)})(r,u)?w?Nk:rr:w?((S,E,D)=>{const L=$s(S,"position");co(S,"position",E);const M=r6(b,ai(a),-20)&&!f.isReposition()?A4:Nk;return L.each(z=>co(S,"position",z)),M})(a,f.getMode()):(f.getMode()==="fixed"?p.y+Qr().top:p.y)+(Os(a)+12)<=b.y?rr:hg},i6=(r,a,u,f)=>{const p=w=>(S,E,D,L,M)=>({...xz(r,L,w,u,M)({...S,y:M.y,height:M.height},E,D,L,M),alwaysFit:!0}),b=w=>rv(f)?[p(w)]:[];return a?{onLtr:w=>[qs,Ns,Ps,ni,Br,Es].concat(b(w)),onRtl:w=>[qs,Ps,Ns,Br,ni,Es].concat(b(w))}:{onLtr:w=>[Es,qs,ni,Ns,Br,Ps].concat(b(w)),onRtl:w=>[Es,qs,Br,Ps,ni,Ns].concat(b(w))}},qk=(r,a)=>{const u=zn(a,b=>b.predicate(r.dom)),{pass:f,fail:p}=oo(u,b=>b.type==="contexttoolbar");return{contextToolbars:f,contextForms:p}},Yk=(r,a)=>{const u={},f=[],p=[],b={},w={},S=wn(r);return Mt(S,E=>{const D=r[E];D.type==="contextform"?((L,M)=>{const z=La(Cs("ContextForm",HF,M));u[L]=z,z.launch.map(q=>{b["form:"+L]={...M.launch,type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(z)}}}),z.scope==="editor"?p.push(z):f.push(z),w[L]=z})(E,D):D.type==="contexttoolbar"&&((L,M)=>{var z;(z=M,Cs("ContextToolbar",HR,z)).each(q=>{M.scope==="editor"?p.push(q):f.push(q),w[L]=q})})(E,D)}),{forms:u,inNodeScope:f,inEditorScope:p,lookupTable:w,formNavigators:b}},a6=bn("forward-slide"),vy=bn("backward-slide"),i1=bn("change-slide-event"),wT="tox-pop--resizing",CT="tox-pop--transition",wz=(r,a,u,f)=>{const p=f.backstage,b=p.shared,w=sa().deviceType.isTouch,S=Tr(),E=Tr(),D=Tr(),L=Ki((Ae=>{const $e=Vn([]);return vs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:rt=>{$e.set([]),vs.getContent(rt).each(At=>{_r(At.element,"visibility")}),Is(rt.element,wT),_r(rt.element,"width")},inlineBehaviours:Zt([_o("context-toolbar-events",[Df(Bv(),(rt,At)=>{At.event.raw.propertyName==="width"&&(Is(rt.element,wT),_r(rt.element,"width"))}),St(i1,(rt,At)=>{const kt=rt.element;_r(kt,"width");const wt=Oi(kt);vs.setContent(rt,At.event.contents),Ss(kt,wT);const Ht=Oi(kt);co(kt,"width",wt+"px"),vs.getContent(rt).each(mn=>{At.event.focus.bind(En=>(Ha(En),Ys(kt))).orThunk(()=>(Ln.focusIn(mn),gu(ut(kt))))}),setTimeout(()=>{co(rt.element,"width",Ht+"px")},0)}),St(a6,(rt,At)=>{vs.getContent(rt).each(kt=>{$e.set($e.get().concat([{bar:kt,focus:gu(ut(rt.element))}]))}),Nn(rt,i1,{contents:At.event.forwardContents,focus:O.none()})}),St(vy,(rt,At)=>{vt($e.get()).each(kt=>{$e.set($e.get().slice(0,$e.get().length-1)),Nn(rt,i1,{contents:ol(kt.bar),focus:kt.focus})})})]),Ln.config({mode:"special",onEscape:rt=>vt($e.get()).fold(()=>Ae.onEscape(),At=>(Ao(rt,vy),O.some(!0)))})]),lazySink:()=>Vo.value(Ae.sink)})})({sink:u,onEscape:()=>(r.focus(),O.some(!0))})),M=()=>{const Ae=D.get().getOr("node"),$e=rv(Ae)?1:0;return s6(r,b,Ae,$e)},z=()=>!(r.removed||w()&&p.isContextMenuOpen()),q=()=>{if(z()){const Ae=M(),$e=rs(D.get(),"node")?((rt,At)=>At.filter(kt=>un(kt)&&ml(kt)).map(vl).getOrThunk(()=>yT(rt)))(r,S.get()):yT(r);return Ae.height<=0||!r6($e,Ae,.01)}return!0},X=()=>{S.clear(),E.clear(),D.clear(),vs.hide(L)},ue=()=>{if(vs.isOpen(L)){const Ae=L.element;_r(Ae,"display"),q()?co(Ae,"display","none"):(E.set(0),vs.reposition(L))}},me=Ae=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Ae],behaviours:Zt([Ln.config({mode:"acyclic"}),_o("pop-dialog-wrap-events",[ss($e=>{r.shortcuts.add("ctrl+F9","focus statusbar",()=>Ln.focusIn($e))}),Xu($e=>{r.shortcuts.remove("ctrl+F9")})])])}),_e=oa(()=>Yk(a,Ae=>{const $e=fe([Ae]);Nn(L,a6,{forwardContents:me($e)})})),fe=Ae=>{const{buttons:$e}=r.ui.registry.getAll(),rt={...$e,..._e().formNavigators},At=Mb(r)===od.scrolling?od.scrolling:od.default,kt=eo(Ye(Ae,wt=>wt.type==="contexttoolbar"?((Ht,mn)=>Gk(r,{buttons:Ht,toolbar:mn.items,allowToolbarGroups:!1},f.backstage,O.some(["form:"])))(rt,wt):((Ht,mn)=>yz(Ht,mn))(wt,b.providers)));return tT({type:At,uid:bn("context-toolbar"),initGroups:kt,onEscape:O.none,cyclicKeying:!0,providers:b.providers})},de=(Ae,$e)=>{if(ke.cancel(),!z())return;const rt=fe(Ae),At=Ae[0].position,kt=((Ht,mn)=>{const En=Ht==="node"?b.anchors.node(mn):b.anchors.cursor(),$n=((io,zo,ns,ms)=>zo==="line"?{bubble:cc(12,0,xT),layouts:{onLtr:()=>[g0],onRtl:()=>[h0]},overrides:s1}:{bubble:cc(0,12,xT,1/12),layouts:i6(io,ns,ms,zo),overrides:s1})(r,Ht,w(),{lastElement:S.get,isReposition:()=>rs(E.get(),0),getMode:()=>ga.getMode(u)});return Mr(En,$n)})(At,$e);D.set(At),E.set(1);const wt=L.element;_r(wt,"display"),(Ht=>rs(Kt(Ht,S.get(),lr),!0))($e)||(Is(wt,CT),ga.reset(u,L)),vs.showWithinBounds(L,me(rt),{anchor:kt,transition:{classes:[CT],mode:"placement"}},()=>O.some(M())),$e.fold(S.clear,S.set),q()&&co(wt,"display","none")};let ve=!1;const ke=Z3(()=>{!r.hasFocus()||r.removed||ve||(nl(L.element,CT)?ke.throttle():((Ae,$e)=>{const rt=sn($e.getBody()),At=wt=>lr(wt,rt),kt=sn($e.selection.getNode());return(wt=>!At(wt)&&!Ls(rt,wt))(kt)?O.none():((wt,Ht,mn)=>{const En=qk(wt,Ht);if(En.contextForms.length>0)return O.some({elem:wt,toolbars:[En.contextForms[0]]});{const $n=qk(wt,mn);if($n.contextForms.length>0)return O.some({elem:wt,toolbars:[$n.contextForms[0]]});if(En.contextToolbars.length>0||$n.contextToolbars.length>0){const io=(zo=>{if(zo.length<=1)return zo;{const ns=Gn=>pt(zo,gs=>gs.position===Gn),ms=Gn=>zn(zo,gs=>gs.position===Gn),Eo=ns("selection"),Qo=ns("node");if(Eo||Qo){if(Qo&&Eo){const Gn=ms("node"),gs=Ye(ms("selection"),Fr=>({...Fr,position:"node"}));return Gn.concat(gs)}return ms(Eo?"selection":"node")}return ms("line")}})(En.contextToolbars.concat($n.contextToolbars));return O.some({elem:wt,toolbars:io})}return O.none()}})(kt,Ae.inNodeScope,Ae.inEditorScope).orThunk(()=>((wt,Ht,mn)=>wt(Ht)?O.none():jg(Ht,En=>{if(ls(En)){const{contextToolbars:$n,contextForms:io}=qk(En,mn.inNodeScope),zo=io.length>0?io:(ns=>{if(ns.length<=1)return ns;{const ms=Eo=>J(ns,Qo=>Qo.position===Eo);return ms("selection").orThunk(()=>ms("node")).orThunk(()=>ms("line")).map(Eo=>Eo.position).fold(()=>[],Eo=>zn(ns,Qo=>Qo.position===Eo))}})($n);return zo.length>0?O.some({elem:En,toolbars:zo}):O.none()}return O.none()},wt))(At,kt,Ae))})(_e(),r).fold(X,Ae=>{de(Ae.toolbars,O.some(Ae.elem))}))},17);r.on("init",()=>{r.on("remove",X),r.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ue),r.on("click keyup focus SetContent",ke.throttle),r.on(n6,X),r.on("contexttoolbar-show",Ae=>{const $e=_e();hn($e.lookupTable,Ae.toolbarKey).each(rt=>{de([rt],ar(Ae.target!==r,Ae.target)),vs.getContent(L).each(Ln.focusIn)})}),r.on("focusout",Ae=>{s_.setEditorTimeout(r,()=>{Ys(u.element).isNone()&&Ys(L.element).isNone()&&X()},0)}),r.on("SwitchMode",()=>{r.mode.isReadOnly()&&X()}),r.on("ExecCommand",({command:Ae})=>{Ae.toLowerCase()==="toggleview"&&X()}),r.on("AfterProgressState",Ae=>{Ae.state?X():r.hasFocus()&&ke.throttle()}),r.on("dragstart",()=>{ve=!0}),r.on("dragend drop",()=>{ve=!1}),r.on("NodeChange",Ae=>{Ys(L.element).fold(ke.throttle,ce)})})},l6=(r,a)=>{const u=()=>{const f=a.getOptions(r),p=a.getCurrent(r).map(a.hash),b=Tr();return Ye(f,w=>({type:"togglemenuitem",text:a.display(w),onSetup:S=>{const E=L=>{L&&(b.on(M=>M.setActive(!1)),b.set(S)),S.setActive(L)};E(rs(p,a.hash(w)));const D=a.watcher(r,w,E);return()=>{b.clear(),D()}},onAction:()=>a.setCurrent(r,w)}))};r.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:f=>f(u()),onSetup:a.onToolbarSetup}),r.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:u,onSetup:a.onMenuSetup})},Cz=r=>{l6(r,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:nR,hash:u=>((f,p)=>Kk(f,["fixed","relative","empty"]).map(({value:b,unit:w})=>b+w))(u).getOr(u),display:we,watcher:(u,f,p)=>u.formatter.formatChanged("lineheight",p,!1,{value:f}).unbind,getCurrent:u=>O.from(u.queryCommandValue("LineHeight")),setCurrent:(u,f)=>u.execCommand("LineHeight",!1,f),onToolbarSetup:Mi(a),onMenuSetup:Mi(a)}))(r)),(a=>O.from(sA(a)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:ee(u),hash:f=>V(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,p,b)=>{var w;return f.formatter.formatChanged("lang",b,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:f=>{const p=sn(f.selection.getNode());return Kg(p,b=>O.some(b).filter(ls).bind(w=>Ko(w,"lang").map(S=>({code:S,customCode:Ko(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,p)=>f.execCommand("Lang",!1,p),onToolbarSetup:f=>{const p=Ec();return f.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",f.setActive,!0)),ey(p.clear,Mi(a)(f))},onMenuSetup:Mi(a)})))(r).each(a=>l6(r,a))},_z=r=>jb(r,"NodeChange",a=>{a.setEnabled(r.queryCommandState("outdent")&&r.selection.isEditable())}),_w=(r,a)=>u=>{u.setActive(a.get());const f=p=>{a.set(p.state),u.setActive(p.state)};return r.on("PastePlainTextToggle",f),ey(()=>r.off("PastePlainTextToggle",f),Mi(r)(u))},_T=(r,a)=>()=>{r.execCommand("mceToggleFormat",!1,a)},kT=r=>{(a=>{(u=>{Oh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,p)=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Qf(u,f.name),onAction:_T(u,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const p="h"+f,b=`Access+${f}`;u.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+f,onSetup:Qf(u,p),onAction:_T(u,p),shortcut:b})}})(a),(u=>{Oh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:fc(u,f.action),shortcut:f.shortcut})}),Oh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Mi(u),onAction:fc(u,f.action)})})})(a),(u=>{Oh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:fc(u,f.action),onSetup:Qf(u,f.name)})})})(a)})(r),(a=>{Oh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:fc(a,u.action)})}),Oh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Mi(a),onAction:fc(a,u.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Mi(a),onAction:_T(a,"code")})})(r)},Xk=(r,a)=>jb(r,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!r.mode.isReadOnly()&&r.undoManager[a]())}),kz=r=>jb(r,"VisualAid",a=>{a.setActive(r.hasVisual)}),Sz=(r,a)=>{(u=>{Mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:fc(u,f.cmd),onSetup:Qf(u,f.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Mi(u),onAction:fc(u,"JustifyNone")})})(r),kT(r),((u,f)=>{((p,b)=>{const w=py(b,lT(p));p.ui.registry.addNestedMenuItem("align",{text:b.shared.providers.translate("Align"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=py(b,zP(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:b.shared.providers.translate("Fonts"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w={type:"advanced",...b.styles},S=py(b,KP(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Mi(p),getSubmenuItems:()=>S.items.validateItems(S.getStyleItems())})})(u,f),((p,b)=>{const w=py(b,dT(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=py(b,ZP(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f)})(r,a),(u=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Xk(f,"hasUndo"),onAction:fc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Xk(f,"hasRedo"),onAction:fc(f,"redo")})})(u),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Xk(f,"hasUndo"),onAction:fc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Xk(f,"hasRedo"),onAction:fc(f,"redo"),shortcut:"Meta+Y"})})(u)})(r),(u=>{(S=>{S.addCommand("mceApplyTextcolor",(E,D)=>{((L,M,z)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(M,{value:z}),L.nodeChanged()})})(S,E,D)}),S.addCommand("mceRemoveTextcolor",E=>{((D,L)=>{D.undoManager.transact(()=>{D.focus(),D.formatter.remove(L,{value:null},void 0,!0),D.nodeChanged()})})(S,E)})})(u);const f=hI(u),p=pI(u),b=Vn(f),w=Vn(p);o3(u,"forecolor","forecolor",b),o3(u,"backcolor","hilitecolor",w),ny(u,"forecolor","forecolor","Text color",b),ny(u,"backcolor","hilitecolor","Background color",w)})(r),(u=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:fc(f,"mceToggleVisualAid")})})(u),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:kz(f),onAction:fc(f,"mceToggleVisualAid")})})(u)})(r),(u=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_z(f),onAction:fc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Mi(f),onAction:fc(f,"indent")})})(u)})(r),Cz(r),(u=>{const f=Vn(eR(u)),p=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:_w(u,f)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:_w(u,f)})})(r)},c6=r=>v(r)?r.split(/[ ,]/):r,u6=r=>a=>a.options.get(r),d6=u6("contextmenu_never_use_native"),Ez=u6("contextmenu_avoid_overlap"),ST=r=>{const a=r.ui.registry.getAll().contextMenus,u=r.options.get("contextmenu");return r.options.isSet("contextmenu")?u:zn(u,f=>To(a,f))},kw=(r,a)=>({type:"makeshift",x:r,y:a}),f6=r=>r.type==="longpress"||r.type.indexOf("touch")===0,Az=(r,a)=>a.type==="contextmenu"||a.type==="longpress"?r.inline?(u=>{if(f6(u)){const f=u.touches[0];return kw(f.pageX,f.pageY)}return kw(u.pageX,u.pageY)})(a):((u,f)=>{const p=H0.DOM.getPos(u);return((b,w,S)=>kw(b.x+w,b.y+S))(f,p.x,p.y)})(r.getContentAreaContainer(),(u=>{if(f6(u)){const f=u.touches[0];return kw(f.clientX,f.clientY)}return kw(u.clientX,u.clientY)})(a)):m6(r),m6=r=>({type:"selection",root:sn(r.selection.getNode())}),g6=(r,a,u)=>{switch(u){case"node":return(f=>({type:"node",node:O.some(sn(f.selection.getNode())),root:sn(f.getBody())}))(r);case"point":return Az(r,a);case"selection":return m6(r)}},h6=(r,a,u,f,p,b)=>{const w=u(),S=g6(r,a,b);e1(w,Jf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}).map(E=>{a.preventDefault(),vs.showMenuAt(p,{anchor:S},{menu:{markers:Vb("normal")},data:E})})},p6={onLtr:()=>[qs,Ns,Ps,ni,Br,Es,rr,hg,dw,tv,gc,mc],onRtl:()=>[qs,Ps,Ns,Br,ni,Es,rr,hg,gc,mc,dw,tv]},Tz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Oz=(r,a,u,f,p,b)=>{const w=sa(),S=w.os.isiOS(),E=w.os.isMacOS(),D=w.os.isAndroid(),L=w.deviceType.isTouch(),M=()=>{const z=u();((q,X,ue,me,_e,fe,de)=>{const ve=((ke,Ae,$e)=>{const rt=g6(ke,Ae,$e);return{bubble:cc(0,$e==="point"?12:0,Tz),layouts:p6,overrides:{maxWidthFunction:Y4(),maxHeightFunction:dh()},...rt}})(q,X,fe);e1(ue,Jf.CLOSE_ON_EXECUTE,me,{isHorizontalMenu:!0,search:O.none()}).map(ke=>{X.preventDefault();const Ae=de?al.HighlightMenuAndItem:al.HighlightNone;vs.showMenuWithinBounds(_e,{anchor:ve},{menu:{markers:Vb("normal"),highlightOnOpen:Ae},data:ke,type:"horizontal"},()=>O.some(s6(q,me.shared,fe==="node"?"node":"selection"))),q.dispatch(n6)})})(r,a,z,f,p,b,!(D||S||E&&L))};if((E||S)&&b!=="node"){const z=()=>{(q=>{const X=q.selection.getRng(),ue=()=>{s_.setEditorTimeout(q,()=>{q.selection.setRng(X)},10),fe()};q.once("touchend",ue);const me=de=>{de.preventDefault(),de.stopImmediatePropagation()};q.on("mousedown",me,!0);const _e=()=>fe();q.once("longpresscancel",_e);const fe=()=>{q.off("touchend",ue),q.off("longpresscancel",_e),q.off("mousedown",me)}})(r),M()};((q,X)=>{const ue=q.selection;if(ue.isCollapsed()||X.touches.length<1)return!1;{const me=X.touches[0],_e=ue.getRng();return Ux(q.getWin(),zf.domRange(_e)).exists(fe=>fe.left<=me.clientX&&fe.right>=me.clientX&&fe.top<=me.clientY&&fe.bottom>=me.clientY)}})(r,a)?z():(r.once("selectionchange",z),r.once("touchend",()=>r.off("selectionchange",z)))}else M()},v6=r=>v(r)?r==="|":r.type==="separator",ET={type:"separator"},b6=r=>{const a=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(v(r))return r;switch(r.type){case"separator":return ET;case"submenu":return{type:"nestedmenuitem",...a(r),getSubmenuItems:()=>{const f=r.getSubmenuItems();return v(f)?f:Ye(f,b6)}};default:const u=r;return{type:"menuitem",...a(u),onAction:Ve(u.onAction)}}},AT=(r,a)=>{if(a.length===0)return r;const u=vt(r).filter(f=>!v6(f)).fold(()=>[],f=>[ET]);return r.concat(u).concat(a).concat([ET])},a1=(r,a)=>!(u=>u.type==="longpress"||To(u,"touches"))(a)&&(a.button!==2||a.target===r.getBody()&&a.pointerType===""),y6=(r,a)=>a1(r,a)?r.selection.getStart(!0):a.target,Dz=(r,a,u)=>{const f=sa().deviceType.isTouch,p=Ki(vs.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>r.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Zt([_o("dismissContextMenu",[St(Gg(),(S,E)=>{T.close(S),r.focus()})])])})),b=()=>vs.hide(p),w=S=>{if(d6(r)&&S.preventDefault(),((D,L)=>L.ctrlKey&&!d6(D))(r,S)||(D=>ST(D).length===0)(r))return;const E=((D,L)=>{const M=Ez(D),z=a1(D,L)?"selection":"point";if(fl(M)){const q=y6(D,L);return ry(sn(q),M)?"node":z}return z})(r,S);(f()?Oz:h6)(r,S,()=>{const D=y6(r,S),L=r.ui.registry.getAll(),M=ST(r);return((z,q,X)=>{const ue=kn(q,(me,_e)=>hn(z,_e.toLowerCase()).map(fe=>{const de=fe.update(X);if(v(de)&&fl(_c(de)))return AT(me,de.split(" "));if(N(de)&&de.length>0){const ve=Ye(de,b6);return AT(me,ve)}return me}).getOrThunk(()=>me.concat([_e])),[]);return ue.length>0&&v6(ue[ue.length-1])&&ue.pop(),ue})(L.contextMenus,M,D)},u,p,E)};r.on("init",()=>{const S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");r.on(S,b),r.on("longpress contextmenu",w)})},TT=ql([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),l1=r=>a=>a.translate(-r.left,-r.top),hc=r=>a=>a.translate(r.left,r.top),tm=r=>(a,u)=>kn(r,(f,p)=>p(f),Jr(a,u)),Sw=(r,a,u)=>r.fold(tm([hc(u),l1(a)]),tm([l1(a)]),tm([])),by=(r,a,u)=>r.fold(tm([hc(u)]),tm([]),tm([hc(a)])),x6=(r,a,u)=>r.fold(tm([]),tm([l1(u)]),tm([hc(a),l1(u)])),w6=(r,a,u)=>{const f=r.fold((p,b)=>({position:O.some("absolute"),left:O.some(p+"px"),top:O.some(b+"px")}),(p,b)=>({position:O.some("absolute"),left:O.some(p-u.left+"px"),top:O.some(b-u.top+"px")}),(p,b)=>({position:O.some("fixed"),left:O.some(p+"px"),top:O.some(b+"px")}));return{right:O.none(),bottom:O.none(),...f}},OT=(r,a,u,f)=>{const p=(b,w)=>(S,E)=>{const D=b(a,u,f);return w(S.getOr(D.left),E.getOr(D.top))};return r.fold(p(x6,Ew),p(by,Ih),p(Sw,c1))},Ew=TT.offset,Ih=TT.absolute,c1=TT.fixed,C6=(r,a)=>{const u=Lo(r,a);return V(u)?NaN:parseInt(u,10)},_6=(r,a,u,f,p,b)=>{const w=((D,L,M,z)=>((q,X)=>{const ue=q.element,me=C6(ue,X.leftAttr),_e=C6(ue,X.topAttr);return isNaN(me)||isNaN(_e)?O.none():O.some(Jr(me,_e))})(D,L).fold(()=>M,q=>c1(q.left+z.left,q.top+z.top)))(r,a,u,f),S=a.mustSnap?S6(r,a,w,p,b):E6(r,a,w,p,b),E=Sw(w,p,b);return((D,L,M)=>{const z=D.element;rn(z,L.leftAttr,M.left+"px"),rn(z,L.topAttr,M.top+"px")})(r,a,E),S.fold(()=>({coord:c1(E.left,E.top),extra:O.none()}),D=>({coord:D.output,extra:D.extra}))},k6=(r,a,u,f)=>Vt(r,p=>{const b=p.sensor;return((S,E,D,L,M,z)=>{const q=by(S,M,z),X=by(E,M,z);return Math.abs(q.left-X.left)<=D&&Math.abs(q.top-X.top)<=L})(a,b,p.range.left,p.range.top,u,f)?O.some({output:OT(p.output,a,u,f),extra:p.extra}):O.none()}),S6=(r,a,u,f,p)=>{const b=a.getSnapPoints(r);return k6(b,u,f,p).orThunk(()=>kn(b,(S,E)=>{const D=E.sensor,L=((M,z,q,X,ue,me)=>{const _e=by(M,ue,me),fe=by(z,ue,me),de=Math.abs(_e.left-fe.left),ve=Math.abs(_e.top-fe.top);return Jr(de,ve)})(u,D,E.range.left,E.range.top,f,p);return S.deltas.fold(()=>({deltas:O.some(L),snap:O.some(E)}),M=>(L.left+L.top)/2<=(M.left+M.top)/2?{deltas:O.some(L),snap:O.some(E)}:S)},{deltas:O.none(),snap:O.none()}).snap.map(S=>({output:OT(S.output,u,f,p),extra:S.extra})))},E6=(r,a,u,f,p)=>{const b=a.getSnapPoints(r);return k6(b,u,f,p)};var A6=Object.freeze({__proto__:null,snapTo:(r,a,u,f)=>{const p=a.getTarget(r.element);if(a.repositionTarget){const b=ii(r.element),w=Qr(b),S=Rf(p),E=((L,M,z)=>({coord:OT(L.output,L.output,M,z),extra:L.extra}))(f,w,S),D=w6(E.coord,0,S);gl(p,D)}}});const DT="data-initial-z-index",T6=(r,a)=>{r.getSystem().addToGui(a),(u=>{_a(u.element).filter(ls).each(f=>{$s(f,"z-index").each(p=>{rn(f,DT,p)}),co(f,"z-index",ws(u.element,"z-index"))})})(a)},Rz=r=>{(a=>{_a(a.element).filter(ls).each(u=>{Ko(u,DT).fold(()=>_r(u,"z-index"),f=>co(u,"z-index",f)),So(u,DT)})})(r),r.getSystem().removeFromGui(r)},O6=(r,a,u)=>r.getSystem().build(Yd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:u}));var Iz=Ds("snaps",[Dt("getSnapPoints"),Jo("onSensor"),Dt("leftAttr"),Dt("topAttr"),it("lazyViewport",Ui),it("mustSnap",!1)]);const RT=[it("useFixed",Ee),Dt("blockerClass"),it("getTarget",we),it("onDrag",ce),it("repositionTarget",!0),it("onDrop",ce),es("getBounds",Ui),Iz],IT=r=>{return(a=$s(r,"left"),u=$s(r,"top"),f=$s(r,"position"),a.isSome()&&u.isSome()&&f.isSome()?O.some(((p,b,w)=>(w==="fixed"?c1:Ew)(parseInt(p,10),parseInt(b,10)))(a.getOrDie(),u.getOrDie(),f.getOrDie())):O.none()).getOrThunk(()=>{const p=Bl(r);return Ih(p.left,p.top)});var a,u,f},D6=(r,a)=>({bounds:r.getBounds(),height:kc(a.element),width:Ja(a.element)}),NT=(r,a,u,f,p)=>{const b=u.update(f,p),w=u.getStartData().getOrThunk(()=>D6(a,r));b.each(S=>{((E,D,L,M)=>{const z=D.getTarget(E.element);if(D.repositionTarget){const q=ii(E.element),X=Qr(q),ue=Rf(z),me=IT(z),_e=((de,ve,ke,Ae,$e,rt,At)=>((kt,wt,Ht,mn,En)=>{const $n=En.bounds,io=by(wt,Ht,mn),zo=Mc(io.left,$n.x,$n.x+$n.width-En.width),ns=Mc(io.top,$n.y,$n.y+$n.height-En.height),ms=Ih(zo,ns);return wt.fold(()=>{const Eo=x6(ms,Ht,mn);return Ew(Eo.left,Eo.top)},ee(ms),()=>{const Eo=Sw(ms,Ht,mn);return c1(Eo.left,Eo.top)})})(0,ve.fold(()=>{const kt=(wt=ke,Ht=rt.left,mn=rt.top,wt.fold(($n,io)=>Ew($n+Ht,io+mn),($n,io)=>Ih($n+Ht,io+mn),($n,io)=>c1($n+Ht,io+mn)));var wt,Ht,mn;const En=Sw(kt,Ae,$e);return c1(En.left,En.top)},kt=>{const wt=_6(de,kt,ke,rt,Ae,$e);return wt.extra.each(Ht=>{kt.onSensor(de,Ht)}),wt.coord}),Ae,$e,At))(E,D.snaps,me,X,ue,M,L),fe=w6(_e,0,ue);gl(z,fe)}D.onDrag(E,z,M)})(r,a,w,S)})},PT=(r,a,u,f)=>{a.each(Rz),u.snaps.each(b=>{((w,S)=>{((E,D)=>{const L=E.element;So(L,D.leftAttr),So(L,D.topAttr)})(w,S)})(r,b)});const p=u.getTarget(r.element);f.reset(),u.onDrop(r,p)},MT=r=>(a,u)=>{const f=p=>{u.setStartData(D6(a,p))};return fo([St(Vv(),p=>{u.getStartData().each(()=>f(p))}),...r(a,u,f)])};var Nz=Object.freeze({__proto__:null,getData:r=>O.from(Jr(r.x,r.y)),getDelta:(r,a)=>Jr(a.left-r.left,a.top-r.top)});const R6=(r,a,u)=>[St(Rt(),(f,p)=>{if(p.event.raw.button!==0)return;p.stop();const b=()=>PT(f,O.some(E),r,a),w=f3(b,200),S={drop:b,delayDrop:w.schedule,forceDrop:b,move:D=>{w.cancel(),NT(f,r,a,Nz,D)}},E=O6(f,r.blockerClass,(D=>fo([St(Rt(),D.forceDrop),St(lo(),D.drop),St(Kn(),(L,M)=>{D.move(M.event)}),St(po(),D.delayDrop)]))(S));u(f),T6(f,E)})],Pz=[...RT,Kr("dragger",{handlers:MT(R6)})];var I6=Object.freeze({__proto__:null,getData:r=>{const a=r.raw.touches;return a.length===1?(u=>{const f=u[0];return O.some(Jr(f.clientX,f.clientY))})(a):O.none()},getDelta:(r,a)=>Jr(a.left-r.left,a.top-r.top)});const N6=(r,a,u)=>{const f=Tr(),p=b=>{PT(b,f.get(),r,a),f.clear()};return[St(Z(),(b,w)=>{w.stop();const S=()=>p(b),E={drop:S,delayDrop:ce,forceDrop:S,move:L=>{NT(b,r,a,I6,L)}},D=O6(b,r.blockerClass,(L=>fo([St(Z(),L.forceDrop),St(Re(),L.drop),St(We(),L.drop),St(re(),(M,z)=>{L.move(z.event)})]))(E));f.set(D),u(b),T6(b,D)}),St(re(),(b,w)=>{w.stop(),NT(b,r,a,I6,w.event)}),St(Re(),(b,w)=>{w.stop(),p(b)}),St(We(),p)]},Mz=Pz,P6=[...RT,Kr("dragger",{handlers:MT(N6)})],M6=[...RT,Kr("dragger",{handlers:MT((r,a,u)=>[...R6(r,a,u),...N6(r,a,u)])})];var Bz=Object.freeze({__proto__:null,mouse:Mz,touch:P6,mouseOrTouch:M6}),Lz=Object.freeze({__proto__:null,init:()=>{let r=O.none(),a=O.none();const u=ee({});return Ii({readState:u,reset:()=>{r=O.none(),a=O.none()},update:(f,p)=>f.getData(p).bind(b=>((w,S)=>{const E=r.map(D=>w.getDelta(D,S));return r=O.some(S),E})(f,b)),getStartData:()=>a,setStartData:f=>{a=O.some(f)}})}});const u1=_C({branchKey:"mode",branches:Bz,name:"dragging",active:{events:(r,a)=>r.dragger.handlers(r,a)},extra:{snap:r=>({sensor:r.sensor,range:r.range,output:r.output,extra:O.from(r.extra)})},state:Lz,apis:A6}),B6=(r,a,u,f,p,b)=>r.fold(()=>u1.snap({sensor:Ih(u-20,f-20),range:Jr(p,b),output:Ih(O.some(u),O.some(f)),extra:{td:a}}),w=>{const S=u-20,E=f-20,D=w.element.dom.getBoundingClientRect();return u1.snap({sensor:Ih(S,E),range:Jr(40,40),output:Ih(O.some(u-D.width/2),O.some(f-D.height/2)),extra:{td:a}})}),L6=(r,a,u)=>({getSnapPoints:r,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,p)=>{const b=p.td;((w,S)=>w.exists(E=>lr(E,S)))(a.get(),b)||(a.set(b),u(b))},mustSnap:!0}),F6=r=>kr(Wa.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([u1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:r}),Yb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),V6=(r,a)=>{const u=Vn([]),f=Vn([]),p=Vn(!1),b=Tr(),w=Tr(),S=fe=>{const de=vl(fe);return B6(M.getOpt(a),fe,de.x,de.y,de.width,de.height)},E=fe=>{const de=vl(fe);return B6(z.getOpt(a),fe,de.right,de.bottom,de.width,de.height)},D=L6(()=>Ye(u.get(),fe=>S(fe)),b,fe=>{w.get().each(de=>{r.dispatch("TableSelectorChange",{start:fe,finish:de})})}),L=L6(()=>Ye(f.get(),fe=>E(fe)),w,fe=>{b.get().each(de=>{r.dispatch("TableSelectorChange",{start:de,finish:fe})})}),M=F6(D),z=F6(L),q=Ki(M.asSpec()),X=Ki(z.asSpec()),ue=(fe,de,ve,ke)=>{const Ae=ve(de);u1.snapTo(fe,Ae),(($e,rt,At,kt)=>{const wt=rt.dom.getBoundingClientRect();_r($e.element,"display");const Ht=Jc(sn(r.getBody())).dom.innerHeight,mn=wt[ke]<0,En=(($n,io)=>$n[ke]>io)(wt,Ht);(mn||En)&&co($e.element,"display","none")})(fe,de)},me=fe=>ue(q,fe,S,"top"),_e=fe=>ue(X,fe,E,"bottom");if(sa().deviceType.isTouch()){const fe=de=>Ye(de,sn);r.on("TableSelectionChange",de=>{p.get()||(Wf(a,q),Wf(a,X),p.set(!0));const ve=sn(de.start),ke=sn(de.finish);b.set(ve),w.set(ke),O.from(de.otherCells).each(Ae=>{u.set(fe(Ae.upOrLeftCells)),f.set(fe(Ae.downOrRightCells)),me(ve),_e(ke)})}),r.on("ResizeEditor ResizeWindow ScrollContent",()=>{b.get().each(me),w.get().each(_e)}),r.on("TableSelectionClear",()=>{p.get()&&(sl(q),sl(X),p.set(!1)),b.clear(),w.clear()})}},z6=(r,a,u)=>{var f;const p=(f=a.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Ln.config({mode:"flow",selector:"div[role=button]"}),so.config({disabled:u.isDisabled}),Pi(),Zr.config({}),qn.config({}),_o("elementPathEvents",[ss((b,w)=>{r.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Ln.focusIn(b)),r.on("NodeChange",S=>{const E=(L=>{const M=[];let z=L.length;for(;z-- >0;){const X=L[z];if(X.nodeType===1&&(q=X).nodeName!=="BR"&&!q.getAttribute("data-mce-bogus")&&q.getAttribute("data-mce-type")!=="bookmark"){const ue=uI(r,X);if(ue.isDefaultPrevented()||M.push({name:ue.name,element:X}),ue.isPropagationStopped())break}}var q;return M})(S.parents),D=E.length>0?kn(E,(L,M,z)=>{const q=((X,ue,me)=>Wa.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":me}},components:[Vs(X)],action:_e=>{r.focus(),r.selection.select(ue),r.nodeChanged()},buttonBehaviours:Zt([ri.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",ue.nodeName.toLowerCase()]),onShow:(_e,fe)=>{((de,ve)=>{const ke=O.from(Lo(de,"id")).getOrThunk(()=>{const Ae=bn("aria");return rn(ve,"id",Ae),Ae});rn(de,"aria-describedby",ke)})(_e.element,fe.element)},onHide:_e=>{var fe;fe=_e.element,So(fe,"aria-describedby")}})}),Da(u.isDisabled),Pi()])}))(M.name,M.element,z);return z===0?L.concat([q]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Vs(` ${p} `)]},q])},[]):[];qn.set(b,D)})})])]),components:[]}};var Nh;(function(r){r[r.None=0]="None",r[r.Both=1]="Both",r[r.Vertical=2]="Vertical"})(Nh||(Nh={}));const Jk=(r,a,u)=>{const f=sn(r.getContainer()),p=((b,w,S,E,D)=>{const L={height:Cw(E+w.top,$0(b),i_(b))};return S===Nh.Both&&(L.width=Cw(D+w.left,v2(b),U0(b))),L})(r,a,u,Os(f),Oi(f));Tn(p,(b,w)=>{te(b)&&co(f,w,ov(b))}),(b=>{b.dispatch("ResizeEditor")})(r)},Qk=(r,a,u,f)=>{const p=Jr(20*u,20*f);return Jk(r,p,a),O.some(!0)},H6=(r,a)=>{const u=()=>{const f=[],p=cA(r),b=Q5(r),w=Uc(r)||r.hasPlugin("wordcount");return b&&f.push(z6(r,{},a)),p&&f.push((()=>{const S=B_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Vs(rd.translate(["Press {0} for help",S]))]}})()),w&&f.push((()=>{const S=[];return r.hasPlugin("wordcount")&&S.push(((E,D)=>{const L=(M,z,q)=>qn.set(M,[Vs(D.translate(["{0} "+q,z[q]]))]);return Wa.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([Da(D.isDisabled),Pi(),Zr.config({}),qn.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),_o("wordcount-events",[du(M=>{const z=lt.getValue(M),q=z.mode==="words"?"characters":"words";lt.setValue(M,{mode:q,count:z.count}),L(M,z.count,q)}),ss(M=>{E.on("wordCountUpdate",z=>{const{mode:q}=lt.getValue(M);lt.setValue(M,{mode:q,count:z.wordCount}),L(M,z.wordCount,q)})})])]),eventOrder:{[bl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(r,a)),Uc(r)&&S.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":r.translate(["Build with {0}","TinyMCE"])},innerHtml:r.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Zt([no.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:S}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const S="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const D="tox-statusbar__text-container-3-cols";return w||b?w&&!b?[D,E]:[D,S]:[D,"tox-statusbar__text-container--space-around"]}return[w&&!b?E:S]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=u(),p=((b,w)=>{const S=(D=>{const L=ha(D);return L===!1?Nh.None:L==="both"?Nh.Both:Nh.Vertical})(b);if(S===Nh.None)return O.none();const E=S===Nh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(Wc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[u1.config({mode:"mouse",repositionTarget:!1,onDrag:(D,L,M)=>Jk(b,M,S),blockerClass:"tox-blocker"}),Ln.config({mode:"special",onLeft:()=>Qk(b,S,-1,0),onRight:()=>Qk(b,S,1,0),onUp:()=>Qk(b,S,0,-1),onDown:()=>Qk(b,S,0,1)}),Zr.config({}),no.config({}),ri.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(r,a);return f.concat(p.toArray())})()}},$6=(r,a)=>a.get().getOrDie(`UI for ${r} has not been rendered`),Fz=(r,a)=>{const u=r.inline,f=u?bz:_W,p=xh(r)?vV:pV,b=(()=>{const Ae=Tr(),$e=Tr(),rt=Tr();return{dialogUi:Ae,popupUi:$e,mainUi:rt,getUiMotherships:()=>{const At=Ae.get().map(wt=>wt.mothership),kt=$e.get().map(wt=>wt.mothership);return At.fold(()=>kt.toArray(),wt=>kt.fold(()=>[wt],Ht=>lr(wt.element,Ht.element)?[wt]:[wt,Ht]))},lazyGetInOuterOrDie:(At,kt)=>()=>rt.get().bind(wt=>kt(wt.outerContainer)).getOrDie(`Could not find ${At} element in OuterContainer`)}})(),w=Tr(),S=Tr(),E=Tr(),D=sa().deviceType.isTouch()?["tox-platform-touch"]:[],L=uA(r),M=Mb(r),z=kr({dom:{tag:"div",classes:["tox-anchorbar"]}}),q=kr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),X=()=>b.mainUi.get().map(Ae=>Ae.outerContainer).bind(ts.getHeader),ue=b.lazyGetInOuterOrDie("anchor bar",z.getOpt),me=b.lazyGetInOuterOrDie("bottom anchor bar",q.getOpt),_e=b.lazyGetInOuterOrDie("toolbar",ts.getToolbar),fe=b.lazyGetInOuterOrDie("throbber",ts.getThrobber),de=((Ae,$e,rt,At)=>{const kt=Vn(!1),wt=(Qo=>{const Gn=Vn(uA(Qo)?"bottom":"top");return{isPositionedAtTop:()=>Gn.get()==="top",getDockingMode:Gn.get,setDockingMode:Gn.set}})($e),Ht={icons:()=>$e.ui.registry.getAll().icons,menuItems:()=>$e.ui.registry.getAll().menuItems,translate:rd.translate,isDisabled:()=>$e.mode.isReadOnly()||!$e.ui.isEnabled(),getOption:$e.options.get,tooltips:I4(Ae.dialog)},mn=aP($e),En=(Qo=>{const Gn=Yi=>()=>Qo.formatter.match(Yi),gs=Yi=>()=>{const Bi=Qo.formatter.get(Yi);return Bi!==void 0?O.some({tag:Bi.length>0&&(Bi[0].inline||Bi[0].block)||"div",styles:Qo.dom.parseStyle(Qo.formatter.getCssText(Yi))}):O.none()},Fr=Vn([]),Za=Vn([]),ja=Vn(!1);return Qo.on("PreInit",Yi=>{const Bi=XN(Qo),Ph=R4(Qo,Bi,Gn,gs);Fr.set(Ph)}),Qo.on("addStyleModifications",Yi=>{const Bi=R4(Qo,Yi.items,Gn,gs);Za.set(Bi),ja.set(Yi.replace)}),{getData:()=>{const Yi=ja.get()?[]:Fr.get(),Bi=Za.get();return Yi.concat(Bi)}}})($e),$n=(Qo=>({colorPicker:nV(Qo),hasCustomColors:oV(Qo),getColors:rV(Qo),getColorCols:sV(Qo)}))($e),io=(Qo=>({isDraggableModal:GN(Qo)}))($e),zo={shared:{providers:Ht,anchors:tV($e,rt,At,wt.isPositionedAtTop),header:wt},urlinput:mn,styles:En,colorinput:$n,dialog:io,isContextMenuOpen:()=>kt.get(),setContextMenuState:Qo=>kt.set(Qo)},ns=Qo=>O.none(),ms={...zo,shared:{...zo.shared,interpreter:Qo=>UN(Qo,{},ms,ns),getSink:Ae.popup}},Eo={...zo,shared:{...zo.shared,interpreter:Qo=>UN(Qo,{},Eo,ns),getSink:Ae.dialog}};return{popup:ms,dialog:Eo}})({popup:()=>Vo.fromOption(b.popupUi.get().map(Ae=>Ae.sink),"(popup) UI has not been rendered"),dialog:()=>Vo.fromOption(b.dialogUi.get().map(Ae=>Ae.sink),"UI has not been rendered")},r,ue,me),ve=()=>{const Ae=(()=>{const zo={attributes:{[Cl]:L?zc.BottomToTop:zc.TopToBottom}},ns=ts.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:de.popup,onEscape:()=>{r.focus()}}),ms=ts.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:de.popup.shared.getSink,providers:de.popup.shared.providers,onEscape:()=>{r.focus()},onToolbarToggled:Bi=>{((Ph,_y)=>{Ph.dispatch("ToggleToolbarDrawer",{state:_y})})(r,Bi)},type:M,lazyToolbar:_e,lazyHeader:()=>X().getOrDie("Could not find header element"),...zo}),Eo=ts.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:de.popup.shared.providers,onEscape:()=>{r.focus()},type:M}),Qo=C2(r),Gn=w2(r),gs=x2(r),Fr=tR(r),Za=ts.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),ja=Qo||Gn||gs,Yi=Fr?[Za,ns]:[ns];return ts.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ja?[]:["tox-editor-header--empty"]),...zo},components:eo([gs?Yi:[],Qo?[Eo]:Gn?[ms]:[],Bb(r)?[]:[z.asSpec()]]),sticky:xh(r),editor:r,sharedBackstage:de.popup.shared})})(),$e={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ts.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ts.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},rt=ts.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:de.popup}),At=ts.parts.viewWrapper({backstage:de.popup}),kt=J5(r)&&!u?O.some(H6(r,de.popup.shared.providers)):O.none(),wt=eo([L?[]:[Ae],u?[]:[$e],L?[Ae]:[]]),Ht=ts.parts.editorContainer({components:eo([wt,u?[]:[q.asSpec()]])}),mn=v_(r),En={role:"application",...rd.isRtl()?{dir:"rtl"}:{},...mn?{"aria-hidden":"true"}:{}},$n=Ki(ts.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(D),styles:{visibility:"hidden",...mn?{opacity:"0",border:"0"}:{}},attributes:En},components:[Ht,...u?[]:[At,...kt.toArray()],rt],behaviours:Zt([Pi(),so.config({disableClass:"tox-tinymce--disabled"}),Ln.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),io=G_($n);return w.set(io),{mothership:io,outerContainer:$n}},ke=Ae=>{const $e=ov((At=>(wt=>{const Ht=h2(wt),mn=$0(wt),En=i_(wt);return ww(Ht).map($n=>Cw($n,mn,En))})(At).getOr(h2(At)))(r)),rt=ov((At=>vT(At).getOr(p2(At)))(r));return r.inline||(Ml("div","width",rt)&&co(Ae.element,"width",rt),Ml("div","height",$e)?co(Ae.element,"height",$e):co(Ae.element,"height","400px")),$e};return{popups:{backstage:de.popup,getMothership:()=>$6("popups",E)},dialogs:{backstage:de.dialog,getMothership:()=>$6("dialogs",S)},renderUI:()=>{const Ae=ve(),$e=(()=>{const At=p_(r),kt=lr(vn(),At)&&ws(At,"display")==="grid",wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D),attributes:{...rd.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(X)})])},Ht={dom:{styles:{width:document.body.clientWidth+"px"}},events:fo([St(Ef(),$n=>{co($n.element,"width",document.body.clientWidth+"px")})])},mn=Ki(Mr(wt,kt?Ht:{})),En=G_(mn);return S.set(En),{sink:mn,mothership:En}})(),rt=wh(r)?(()=>{const At={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(D),attributes:{...rd.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(X),getBounds:()=>a.getPopupSinkBounds()})])},kt=Ki(At),wt=G_(kt);return E.set(wt),{sink:kt,mothership:wt}})():(At=>(E.set(At.mothership),At))($e);return b.dialogUi.set($e),b.popupUi.set(rt),b.mainUi.set(Ae),(At=>{const{mainUi:kt,popupUi:wt,uiMotherships:Ht}=At;Dn(l_(r),(Gn,gs)=>{r.ui.registry.addGroupToolbarButton(gs,Gn)});const{buttons:mn,menuItems:En,contextToolbars:$n,sidebars:io,views:zo}=r.ui.registry.getAll(),ns=h_(r),ms={menuItems:En,menus:Pp(r),menubar:yh(r),toolbar:ns.getOrThunk(()=>Z0(r)),allowToolbarGroups:M===od.floating,buttons:mn,sidebar:io,views:zo};var Eo;Eo=kt.outerContainer,r.addShortcut("alt+F9","focus menubar",()=>{ts.focusMenubar(Eo)}),r.addShortcut("alt+F10","focus toolbar",()=>{ts.focusToolbar(Eo)}),r.addCommand("ToggleToolbarDrawer",(Gn,gs)=>{gs!=null&&gs.skipFocus?ts.toggleToolbarDrawerWithoutFocusing(Eo):ts.toggleToolbarDrawer(Eo)}),r.addQueryStateHandler("ToggleToolbarDrawer",()=>ts.isToolbarDrawerToggled(Eo)),((Gn,gs,Fr)=>{const Za=(hr,Cg)=>{Mt([gs,...Fr],nf=>{nf.broadcastEvent(hr,Cg)})},ja=(hr,Cg)=>{Mt([gs,...Fr],nf=>{nf.broadcastOn([hr],Cg)})},Yi=hr=>ja(B(),{target:hr.target}),Bi=Ma(),Ph=$a(Bi,"touchstart",Yi),_y=$a(Bi,"touchmove",hr=>Za(An(),hr)),sv=$a(Bi,"touchend",hr=>Za(cu(),hr)),Mh=$a(Bi,"mousedown",Yi),Lw=$a(Bi,"mouseup",hr=>{hr.raw.button===0&&ja(U(),{target:hr.target})}),iv=hr=>ja(B(),{target:sn(hr.target)}),xg=hr=>{hr.button===0&&ja(U(),{target:sn(hr.target)})},f1=()=>{Mt(Gn.editorManager.get(),hr=>{Gn!==hr&&hr.dispatch("DismissPopups",{relatedTarget:Gn})})},m1=hr=>Za(Vv(),$d(hr)),ky=hr=>{ja(H(),{}),Za(Ef(),$d(hr))},lS=ut(sn(Gn.getElement())),Fw=Vx(lS,"scroll",hr=>{requestAnimationFrame(()=>{if(Gn.getContainer()!=null){const Cg=Mp(Gn,gs.element).map(nf=>[nf.element,...nf.others]).getOr([]);pt(Cg,nf=>lr(nf,hr.target))&&(Gn.dispatch("ElementScroll",{target:hr.target.dom}),Za(cp(),hr))}})}),av=()=>ja(H(),{}),wg=hr=>{hr.state&&ja(B(),{target:sn(Gn.getContainer())})},Bh=hr=>{ja(B(),{target:sn(hr.relatedTarget.getContainer())})},Vw=hr=>Gn.dispatch("focusin",hr),zw=hr=>Gn.dispatch("focusout",hr);Gn.on("PostRender",()=>{Gn.on("click",iv),Gn.on("tap",iv),Gn.on("mouseup",xg),Gn.on("mousedown",f1),Gn.on("ScrollWindow",m1),Gn.on("ResizeWindow",ky),Gn.on("ResizeEditor",av),Gn.on("AfterProgressState",wg),Gn.on("DismissPopups",Bh),Mt([gs,...Fr],hr=>{hr.element.dom.addEventListener("focusin",Vw),hr.element.dom.addEventListener("focusout",zw)})}),Gn.on("remove",()=>{Gn.off("click",iv),Gn.off("tap",iv),Gn.off("mouseup",xg),Gn.off("mousedown",f1),Gn.off("ScrollWindow",m1),Gn.off("ResizeWindow",ky),Gn.off("ResizeEditor",av),Gn.off("AfterProgressState",wg),Gn.off("DismissPopups",Bh),Mt([gs,...Fr],hr=>{hr.element.dom.removeEventListener("focusin",Vw),hr.element.dom.removeEventListener("focusout",zw)}),Mh.unbind(),Ph.unbind(),_y.unbind(),sv.unbind(),Lw.unbind(),Fw.unbind()}),Gn.on("detach",()=>{Mt([gs,...Fr],xE),Mt([gs,...Fr],hr=>hr.destroy())})})(r,kt.mothership,Ht),p.setup(r,de.popup.shared,X),Sz(r,de.popup),Dz(r,de.popup.shared.getSink,de.popup),(Gn=>{const{sidebars:gs}=Gn.ui.registry.getAll();Mt(wn(gs),Fr=>{const Za=gs[Fr],ja=()=>rs(O.from(Gn.queryCommandValue("ToggleSidebar")),Fr);Gn.ui.registry.addToggleButton(Fr,{icon:Za.icon,tooltip:Za.tooltip,onAction:Yi=>{Gn.execCommand("ToggleSidebar",!1,Fr),Yi.setActive(ja())},onSetup:Yi=>{Yi.setActive(ja());const Bi=()=>Yi.setActive(ja());return Gn.on("ToggleSidebar",Bi),()=>{Gn.off("ToggleSidebar",Bi)}}})})})(r),vP(r,fe,de.popup.shared),wz(r,$n,wt.sink,{backstage:de.popup}),V6(r,wt.sink);const Qo={targetNode:r.getElement(),height:ke(kt.outerContainer)};return f.render(r,At,ms,de.popup,Qo)})({popupUi:rt,dialogUi:$e,mainUi:Ae,uiMotherships:b.getUiMotherships()})}}},Vz=ee([Dt("lazySink"),Go("dragBlockClass"),es("getBounds",Ui),it("useTabstopAt",Fe),it("firstTabstop",0),it("eventOrder",{}),yn("modalBehaviours",[Ln]),yl("onExecute"),Aa("onEscape")]),BT={sketch:we},LT=ee([bu({name:"draghandle",overrides:(r,a)=>({behaviours:Zt([u1.config({mode:"mouse",getTarget:u=>Um(u,'[role="dialog"]').getOr(u),blockerClass:r.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:r.getDragBounds})])})}),_l({schema:[Dt("dom")],name:"title"}),_l({factory:BT,schema:[Dt("dom")],name:"close"}),_l({factory:BT,schema:[Dt("dom")],name:"body"}),bu({factory:BT,schema:[Dt("dom")],name:"footer"}),jd({factory:{sketch:(r,a)=>({...r,dom:a.dom,components:a.components})},schema:[it("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),it("components",[])],name:"blocker"})]),Ms=Vl({name:"ModalDialog",configFields:Vz(),partFields:LT(),factory:(r,a,u,f)=>{const p=Tr(),b=bn("modal-events"),w={...r.eventOrder,[ua()]:[b].concat(r.eventOrder["alloy.system.attached"]||[])},S=sa();return{uid:r.uid,dom:r.dom,components:a,apis:{show:E=>{p.set(E);const D=r.lazySink(E).getOrDie(),L=f.blocker(),M=D.getSystem().build({...L,components:L.components.concat([ol(E)]),behaviours:Zt([no.config({}),_o("dialog-blocker-events",[Df(xr(),()=>{gd.isBlocked(E)||Ln.focusIn(E)})])])});Wf(D,M),Ln.focusIn(E)},hide:E=>{p.clear(),_a(E.element).each(D=>{E.getSystem().getByDom(D).each(L=>{sl(L)})})},getBody:E=>vh(E,r,"body"),getFooter:E=>qr(E,r,"footer"),setIdle:E=>{gd.unblock(E)},setBusy:(E,D)=>{gd.block(E,D)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:xo(r.modalBehaviours,[qn.config({}),Ln.config({mode:"cyclic",onEnter:r.onExecute,onEscape:r.onEscape,useTabstopAt:r.useTabstopAt,firstTabstop:r.firstTabstop}),gd.config({getRoot:p.get}),_o(b,[ss(E=>{const D=vh(E,r,"title").element,L=(M=>M.dom.textContent)(D);S.os.isMacOS()&&G(L)?rn(E.element,"aria-label",L):((M,z)=>{const q=Ko(M,"id").fold(()=>{const X=bn("dialog-label");return rn(z,"id",X),X},we);rn(M,"aria-labelledby",q)})(E.element,D)})])])}},apis:{show:(r,a)=>{r.show(a)},hide:(r,a)=>{r.hide(a)},getBody:(r,a)=>r.getBody(a),getFooter:(r,a)=>r.getFooter(a),setBusy:(r,a,u)=>{r.setBusy(a,u)},setIdle:(r,a)=>{r.setIdle(a)}}}),zz=Zn([bi,EA].concat($b)),Aw=sc,FT=[NA("button"),id,Tc("align","end",["start","end"]),D_,ad,Zg("buttonType",["primary","secondary"])],eS=[...FT,sd],VT=[Gu("type",["submit","cancel","custom"]),...eS],Hz=[Gu("type",["menu"]),Hp,z2,id,tl("items",zz),...FT],$z=[...FT,Gu("type",["togglebutton"]),z2,id,Hp,ti("active",!1)],U6=hi("type",{submit:VT,cancel:VT,custom:VT,menu:Hz,togglebutton:$z}),Uz=[bi,sd,Gu("level",["info","warn","error","success"]),OA,it("url","")],zT=Zn(Uz),HT=[bi,sd,ad,NA("button"),id,CW,Zg("buttonType",["primary","secondary","toolbar"]),D_],$T=Zn(HT),yy=[bi,EA],qi=yy.concat([DA]),Wz=yy.concat([AA,ad]),Zz=Zn(Wz),W6=sc,Z6=qi.concat([LR("auto")]),jz=Zn(Z6),Kz=Zu([zb,sd,OA]),Gz=qi.concat([Gl("storageKey","default")]),qz=Zn(Gz),Yz=Ci,Xz=Zn(qi),Jz=Ci,j6=yy.concat([Gl("tag","textarea"),_s("scriptId"),_s("scriptUrl"),au("onFocus"),Va("settings",void 0,Z1)]),Qz=yy.concat([Gl("tag","textarea"),Fa("init")]),e9=Cf(r=>Cs("customeditor.old",wi(Qz),r).orThunk(()=>Cs("customeditor.new",wi(j6),r))),t9=Ci,K6=Zn(qi),UT=Wu(Uu),G6=r=>[bi,ap("columns"),r],q6=[bi,_s("html"),Tc("presets","presentation",["presentation","document"]),es("onInit",ce),ti("stretched",!1)],Y6=Zn(q6),X6=qi.concat([ti("border",!1),ti("sandboxed",!0),ti("streamContent",!1),ti("transparent",!0)]),WT=Zn(X6),n9=Ci,ZT=Zn(yy.concat([Fs("height")])),xy=Zn([_s("url"),_f("zoom"),_f("cachedWidth"),_f("cachedHeight")]),J6=qi.concat([Fs("inputMode"),Fs("placeholder"),ti("maximized",!1),ad]),Q6=Zn(J6),eM=Ci,o9=r=>[bi,AA,r,Tc("align","start",["start","center","end"]),Fs("for")],r9=[sd,zb],tS=[sd,tl("items",ip(0,()=>tM))],tM=Om([Zn(r9),Zn(tS)]),s9=qi.concat([tl("items",tM),ad]),nM=Zn(s9),oM=Ci,jT=qi.concat([Rm("items",[sd,zb]),Zs("size",1),ad]),rM=Zn(jT),Ql=Ci,sM=qi.concat([ti("constrain",!0),ad]),i9=Zn(sM),iM=Zn([_s("width"),_s("height")]),aM=yy.concat([AA,Zs("min",0),Zs("max",0)]),a9=Zn(aM),l9=Nd,c9=[bi,tl("header",Ci),tl("cells",Wu(Ci))],lM=Zn(c9),yg=qi.concat([Fs("placeholder"),ti("maximized",!1),ad]),KT=Zn(yg),cM=Ci,Tw=[Gu("type",["directory","leaf"]),TA,_s("id"),Ws("menu",mP)],nS=Zn(Tw),u9=Tw.concat([tl("children",ip(0,()=>Ku("type",{directory:uM,leaf:nS})))]),uM=Zn(u9),d9=Ku("type",{directory:uM,leaf:nS}),f9=[bi,tl("items",d9),au("onLeafAction"),au("onToggleExpand"),Rr("defaultExpandedIds",[],Ci),Fs("defaultSelectedId")],m9=Zn(f9),g9=qi.concat([Tc("filetype","file",["image","media","file"]),ad,Fs("picker_text")]),h9=Zn(g9),dM=Zn([zb,Zc]),GT=r=>li("items","items",{tag:"required",process:{}},Wu(Cf(a=>Cs(`Checking item of ${r}`,tf,a).fold(u=>Vo.error(el(u)),u=>Vo.value(u))))),tf=Tm(()=>{return Ku("type",{alertbanner:zT,bar:Zn((r=GT("bar"),[bi,r])),button:$T,checkbox:Zz,colorinput:qz,colorpicker:Xz,dropzone:K6,grid:Zn(G6(GT("grid"))),iframe:WT,input:Q6,listbox:nM,selectbox:rM,sizeinput:i9,slider:a9,textarea:KT,urlinput:h9,customeditor:e9,htmlpanel:Y6,imagepreview:ZT,collection:jz,label:Zn(o9(GT("label"))),table:lM,tree:m9,panel:fM});var r}),oS=[bi,it("classes",[]),tl("items",tf)],fM=Zn(oS),p9=[NA("tab"),TA,tl("items",tf)],mM=[bi,Rm("tabs",p9)],gM=Zn(mM),qT=eS,rS=U6,Ow=Zn([_s("title"),Zi("body",Ku("type",{panel:fM,tabpanel:gM})),Gl("size","normal"),Rr("buttons",[],rS),it("initialData",{}),es("onAction",ce),es("onChange",ce),es("onSubmit",ce),es("onClose",ce),es("onCancel",ce),es("onTabChange",ce)]),Dw=Zn([Gu("type",["cancel","custom"]),...qT]),hM=Zn([_s("title"),_s("url"),_f("height"),_f("width"),j1("buttons",Dw),es("onAction",ce),es("onCancel",ce),es("onClose",ce),es("onMessage",ce)]),sS=r=>x(r)?[r].concat(tn(As(r),sS)):N(r)?tn(r,sS):[],pM=r=>v(r.type)&&v(r.name),vM={checkbox:W6,colorinput:Yz,colorpicker:Jz,dropzone:UT,input:eM,iframe:n9,imagepreview:xy,selectbox:Ql,sizeinput:iM,slider:l9,listbox:oM,size:iM,textarea:cM,urlinput:dM,customeditor:t9,collection:Kz,togglemenuitem:Aw},v9=r=>{const a=(f=>zn(sS(f),pM))(r),u=tn(a,f=>(p=>O.from(vM[p.type]))(f).fold(()=>[],p=>[Zi(f.name,p)]));return Zn(u)},bM=r=>{var a;return{internalDialog:La(Cs("dialog",Ow,r)),dataValidator:v9(r),initialData:(a=r.initialData)!==null&&a!==void 0?a:{}}},d1={open:(r,a)=>{const u=bM(a);return r(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(r,a)=>r(La(Cs("dialog",hM,a))),redial:r=>bM(r)};var b9=Object.freeze({__proto__:null,events:(r,a)=>{const u=(f,p)=>{r.updateState.each(b=>{const w=b(f,p);a.set(w)}),r.renderComponents.each(b=>{const w=b(p,a.get());(r.reuseDom?XE:Rb)(f,w)})};return fo([St(ic(),(f,p)=>{const b=p;if(!b.universal){const w=r.channel;tt(b.channels,w)&&u(f,b.data)}}),ss((f,p)=>{r.initialData.each(b=>{u(f,b)})})])}}),y9=Object.freeze({__proto__:null,getState:(r,a,u)=>u}),yM=[Dt("channel"),Go("renderComponents"),Go("updateState"),Go("initialData"),ti("reuseDom",!0)];const pc=Ni({fields:yM,name:"reflecting",active:b9,apis:y9,state:Object.freeze({__proto__:null,init:()=>{const r=Vn(O.none());return{readState:()=>r.get().getOr("none"),get:r.get,set:r.set,clear:()=>r.set(O.none())}}})}),xM=r=>{const a=[],u={};return Tn(r,(f,p)=>{f.fold(()=>{a.push(p)},b=>{u[p]=b})}),a.length>0?Vo.error(a):Vo.value(u)},wM=(r,a,u,f)=>{const p=kr(qp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(r.classes)},components:Ye(r.items,S=>Rk(w,S,a,u,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Zt([Ln.config({mode:"acyclic",useTabstopAt:Be(ay)}),(b=p,or.config({find:b.getOpt})),$3(p,{postprocess:w=>xM(w).fold(S=>(console.error(S),{}),we)}),_o("dialog-body-panel",[St(xr(),(w,S)=>{w.getSystem().broadcastOn([xk],{newFocus:O.some(S.event.target)})})])])};var b},x9=yu({name:"TabButton",configFields:[it("uid",void 0),Dt("value"),li("dom","dom",Xo(()=>({attributes:{role:"tab",id:bn("aria"),"aria-selected":"false"}})),Fl()),Go("action"),it("domModification",{}),yn("tabButtonBehaviours",[no,Ln,lt]),Dt("view")],factory:(r,a)=>({uid:r.uid,dom:r.dom,components:r.components,events:z0(r.action),behaviours:xo(r.tabButtonBehaviours,[no.config({}),Ln.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:r.value}})]),domModification:r.domModification})}),CM=ee([Dt("tabs"),Dt("dom"),it("clickToDismiss",!1),yn("tabbarBehaviours",[Sr,Ln]),th(["tabClass","selectedClass"])]),Rw=WC({factory:x9,name:"tabs",unit:"tab",overrides:r=>{const a=(f,p)=>{Sr.dehighlight(f,p),Nn(f,Ut(),{tabbar:f,button:p})},u=(f,p)=>{Sr.highlight(f,p),Nn(f,up(),{tabbar:f,button:p})};return{action:f=>{const p=f.getSystem().getByUid(r.uid).getOrDie(),b=Sr.isHighlighted(p,f);(b&&r.clickToDismiss?a:b?ce:u)(p,f)},domModification:{classes:[r.markers.tabClass]}}}}),w9=ee([Rw]),YT=Vl({name:"Tabbar",configFields:CM(),partFields:w9(),factory:(r,a,u,f)=>({uid:r.uid,dom:r.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:xo(r.tabbarBehaviours,[Sr.config({highlightClass:r.markers.selectedClass,itemClass:r.markers.tabClass,onHighlight:(p,b)=>{rn(b.element,"aria-selected","true")},onDehighlight:(p,b)=>{rn(b.element,"aria-selected","false")}}),Ln.config({mode:"flow",getInitial:p=>Sr.getHighlighted(p).map(b=>b.element),selector:"."+r.markers.tabClass,executeOnMove:!0})])})}),C9=yu({name:"Tabview",configFields:[yn("tabviewBehaviours",[qn])],factory:(r,a)=>({uid:r.uid,dom:r.dom,behaviours:xo(r.tabviewBehaviours,[qn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),_9=ee([it("selectFirst",!0),Jo("onChangeTab"),Jo("onDismissTab"),it("tabs",[]),yn("tabSectionBehaviours",[])]),k9=_l({factory:YT,schema:[Dt("dom"),Ac("markers",[Dt("tabClass"),Dt("selectedClass")])],name:"tabbar",defaults:r=>({tabs:r.tabs})}),S9=_l({factory:C9,name:"tabview"}),_M=ee([k9,S9]),wy=Vl({name:"TabSection",configFields:_9(),partFields:_M(),factory:(r,a,u,f)=>{const p=(b,w)=>{qr(b,r,"tabbar").each(S=>{w(S).each(Of)})};return{uid:r.uid,dom:r.dom,components:a,behaviours:Xn(r.tabSectionBehaviours),events:fo(eo([r.selectFirst?[ss((b,w)=>{p(b,Sr.getFirst)})]:[],[St(up(),(b,w)=>{(S=>{const E=lt.getValue(S);qr(S,r,"tabview").each(D=>{J(r.tabs,L=>L.value===E).each(L=>{const M=L.view();Ko(S.element,"id").each(z=>{rn(D.element,"aria-labelledby",z)}),qn.set(D,M),r.onChangeTab(D,S,M)})})})(w.event.button)}),St(Ut(),(b,w)=>{const S=w.event.button;r.onDismissTab(b,S)})]])),apis:{getViewItems:b=>qr(b,r,"tabview").map(w=>qn.contents(w)).getOr([]),showTab:(b,w)=>{p(b,S=>{const E=Sr.getCandidates(S);return J(E,D=>lt.getValue(D)===w).filter(D=>!Sr.isHighlighted(S,D))})}}}},apis:{getViewItems:(r,a)=>r.getViewItems(a),showTab:(r,a,u)=>{r.showTab(a,u)}}}),XT=(r,a)=>{co(r,"height",a+"px"),co(r,"flex-basis",a+"px")},Cy=(r,a,u)=>{Um(r,'[role="dialog"]').each(f=>{fs(f,'[role="tablist"]').each(p=>{u.get().map(b=>(co(a,"height","0"),co(a,"flex-basis","0"),Math.min(b,((w,S,E)=>{const D=Ya(w).dom,L=Um(w,".tox-dialog-wrap").getOr(w);let M;M=ws(L,"position")==="fixed"?Math.max(D.clientHeight,window.innerHeight):Math.max(D.offsetHeight,D.scrollHeight);const z=Os(S),q=S.dom.offsetLeft>=E.dom.offsetLeft+Oi(E)?Math.max(Os(E),z):z,X=parseInt(ws(w,"margin-top"),10)||0,ue=parseInt(ws(w,"margin-bottom"),10)||0;return M-(Os(w)+X+ue-q)})(f,a,p)))).each(b=>{XT(a,b)})})})},nm=r=>fs(r,'[role="tabpanel"]'),iS="send-data-to-section",JT="send-data-to-view",kM=(r,a,u,f)=>{const p=Vn({}),b=L=>{const M=lt.getValue(L),z=xM(M).getOr({}),q=p.get(),X=Mr(q,z);p.set(X)},w=L=>{const M=p.get();lt.setValue(L,M)},S=Vn(null),E=Ye(r.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Vs(u.shared.providers.translate(L.title))],view:()=>[qp.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:Ye(L.items,z=>Rk(M,z,a,u,f)),formBehaviours:Zt([Ln.config({mode:"acyclic",useTabstopAt:Be(ay)}),_o("TabView.form.events",[ss(w),Xu(b)]),wl.config({channels:Pd([{key:iS,value:{onReceive:b}},{key:JT,value:{onReceive:w}}])})])}))]})),D=(L=>{const M=Tr();return{extraEvents:[ss(q=>{const X=q.element;nm(X).each(ue=>{co(ue,"visibility","hidden"),q.getSystem().getByDom(ue).toOptional().each(me=>{const _e=((de,ve,ke)=>Ye(de,(Ae,$e)=>{qn.set(ke,de[$e].view());const rt=ve.dom.getBoundingClientRect();return qn.set(ke,[]),rt.height}))(L,ue,me);(de=>zt(he(de,(ve,ke)=>ve>ke?-1:ve<ke?1:0)))(_e).fold(M.clear,M.set)}),Cy(X,ue,M),_r(ue,"visibility"),((me,_e)=>{zt(me).each(fe=>wy.showTab(_e,fe.value))})(L,q),requestAnimationFrame(()=>{Cy(X,ue,M)})})}),St(Ef(),q=>{const X=q.element;nm(X).each(ue=>{Cy(X,ue,M)})}),St(Y_,(q,X)=>{const ue=q.element;nm(ue).each(me=>{const _e=gu(ut(me));co(me,"visibility","hidden");const fe=$s(me,"height").map(ve=>parseInt(ve,10));_r(me,"height"),_r(me,"flex-basis");const de=me.dom.getBoundingClientRect().height;fe.forall(ve=>de>ve)?(M.set(de),Cy(ue,me,M)):fe.each(ve=>{XT(me,ve)}),_r(me,"visibility"),_e.each(Ha)})})],selectFirst:!1}})(E);return wy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,M,z)=>{const q=lt.getValue(M);Nn(L,LI,{name:q,oldName:S.get()}),S.set(q)},tabs:E,components:[wy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[YT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([Zr.config({})])}),wy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:D.selectFirst,tabSectionBehaviours:Zt([_o("tabpanel",D.extraEvents),Ln.config({mode:"acyclic"}),or.config({find:L=>zt(wy.getViewItems(L))}),Qb(O.none(),L=>(L.getSystem().broadcastOn([iS],{}),p.get()),(L,M)=>{p.set(M),L.getSystem().broadcastOn([JT],{})})])})},aS=(r,a,u,f,p,b)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Zt([z3(0),pc.config({channel:`${mN}-${a}`,updateState:(w,S)=>O.some({isTabPanel:()=>S.body.type==="tabpanel"}),renderComponents:w=>{const S=w.body;return S.type==="tabpanel"?[kM(S,w.initialData,f,b)]:[wM(S,w.initialData,f,b)]},initialData:r})])}),SM=qf.deviceType.isTouch(),Iw=(r,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[r,a]}),QT=(r,a)=>Ms.parts.close(Wa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:r,buttonBehaviours:Zt([Zr.config({})])})),eO=()=>Ms.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),EM=(r,a)=>Ms.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:rg(`<p>${hR(a.translate(r))}</p>`)}]}]}),AM=r=>Ms.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:r}),TM=(r,a)=>[Yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:r}),Yd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],tO=r=>{const a="tox-dialog",u=a+"-wrap",f=u+"__backdrop",p=a+"__disable-scroll";return Ms.sketch({lazySink:r.lazySink,onEscape:b=>(r.onEscape(b),O.some(!0)),useTabstopAt:b=>!ay(b),firstTabstop:r.firstTabstop,dom:{tag:"div",classes:[a].concat(r.extraClasses),styles:{position:"relative",...r.extraStyles}},components:[r.header,r.body,...r.footer.toArray()],parts:{blocker:{dom:rg(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:SM?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:Zt([no.config({}),_o("dialog-events",r.dialogEvents.concat([Df(xr(),(b,w)=>{gd.isBlocked(b)||Ln.focusIn(b)}),St(G1(),(b,w)=>{b.getSystem().broadcastOn([xk],{newFocus:w.event.newFocus})})])),_o("scroll-lock",[ss(()=>{Ss(vn(),p)}),Xu(()=>{Is(vn(),p)})]),...r.extraBehaviours]),eventOrder:{[bl()]:["dialog-events"],[ua()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Dc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...r.eventOrder}})},OM=r=>Wa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Zt([Zr.config({}),ri.config(r.tooltips.getConfig({tooltipText:r.translate("Close")}))]),components:[Wc("close",{tag:"span",classes:["tox-icon"]},r.icons)],action:a=>{Ao(a,Eh)}}),nO=(r,a,u,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(p=>({id:p})).getOr({})}},components:[],behaviours:Zt([pc.config({channel:`${Y3}-${a}`,initialData:r,renderComponents:p=>[Vs(f.translate(p.title))]})])}),oO=()=>({dom:rg('<div class="tox-dialog__draghandle"></div>')}),DM=(r,a,u)=>((f,p,b)=>{const w=Ms.parts.title(nO(f,p,O.none(),b)),S=Ms.parts.draghandle(oO()),E=Ms.parts.close(OM(b)),D=[w].concat(f.draggable?[S]:[]).concat([E]);return Yd.sketch({dom:rg('<div class="tox-dialog__header"></div>'),components:D})})({title:u.shared.providers.translate(r),draggable:u.dialog.isDraggableModal()},a,u.shared.providers),RM=(r,a,u,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(r)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:rg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),IM=(r,a,u)=>({onClose:()=>u.closeWindow(),onBlock:f=>{const p=fs(r().element,".tox-dialog__header").map(b=>Os(b));Ms.setBusy(r(),(b,w)=>RM(f.message,w,a,p))},onUnblock:()=>{Ms.setIdle(r())}}),Nw="tox-dialog--fullscreen",rO="tox-dialog--width-lg",sO="tox-dialog--width-md",Pw=r=>{switch(r){case"large":return O.some(rO);case"medium":return O.some(sO);default:return O.none()}},iO=(r,a)=>{const u=sn(a.element.dom);nl(u,Nw)||(lc(u,[rO,sO]),Pw(r).each(f=>Ss(u,f)))},NM=(r,a)=>{const u=sn(r.element.dom),f=Ld(u),p=J(f,b=>b===rO||b===sO).or(Pw(a));((b,w)=>{Mt(w,S=>{((E,D)=>{Yg(E)?E.dom.classList.toggle(D):((L,M)=>tt(Hv(L),M)?ux(L,M):X1(L,M))(E,D),$v(E)})(b,S)})})(u,[Nw,...p.toArray()])},PM=(r,a,u)=>Ki(tO({...r,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[sw({}),...r.extraBehaviours],onEscape:f=>{Ao(f,Eh)},dialogEvents:a,eventOrder:{[ic()]:[pc.name(),wl.name()],[ua()]:["scroll-lock",pc.name(),"messages","dialog-events","alloy.base.behaviour"],[Dc()]:["alloy.base.behaviour","dialog-events","messages",pc.name(),"scroll-lock"]}})),Mw=(r,a={})=>Ye(r,u=>u.type==="menu"?(f=>{const p=Ye(f.items,b=>{const w=hn(a,b.name).getOr(Vn(!1));return{...b,storage:w}});return{...f,items:p}})(u):u),MM=r=>kn(r,(a,u)=>u.type==="menu"?kn(u.items,(f,p)=>(f[p.name]=p.storage,f),a):a,{}),aO=(r,a)=>[qg(xr(),M7),r(jp,(u,f,p,b)=>{gu(ut(b.element)).fold(ce,rb),a.onClose(),f.onClose()}),r(Eh,(u,f,p,b)=>{f.onCancel(u),Ao(b,jp)}),St(p3,(u,f)=>a.onUnblock()),St(h3,(u,f)=>a.onBlock(f.event))],BM=(r,a,u)=>{const f=(b,w)=>St(b,(S,E)=>{p(S,(D,L)=>{w(r(),D,E.event,S)})}),p=(b,w)=>{pc.getState(b).get().each(S=>{w(S.internalDialog,b)})};return[...aO(f,a),f(ew,(b,w)=>w.onSubmit(b)),f(ll,(b,w,S)=>{w.onChange(b,{name:S.name})}),f(em,(b,w,S,E)=>{const D=()=>E.getSystem().isConnected()?Ln.focusIn(E):void 0,L=q=>Ts(q,"disabled")||Ko(q,"aria-disabled").exists(X=>X==="true"),M=ut(E.element),z=gu(M);w.onAction(b,{name:S.name,value:S.value}),gu(M).fold(D,q=>{L(q)||z.exists(X=>Ls(q,X)&&L(X))?D():u().toOptional().filter(X=>!Ls(X.element,q)).each(D)})}),f(LI,(b,w,S)=>{w.onTabChange(b,{newTabName:S.name,oldTabName:S.oldName})}),Xu(b=>{const w=r();lt.setValue(b,w.getData())})]},E9=(r,a)=>{const u=a.map(b=>b.footerButtons).getOr([]),f=oo(u,b=>b.align==="start"),p=(b,w)=>Yd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:Ye(w,S=>S.memento.asSpec())});return[p("start",f.pass),p("end",f.fail)]},LM=(r,a,u)=>({dom:rg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([pc.config({channel:`${gN}-${a}`,initialData:r,updateState:(f,p)=>{const b=Ye(p.buttons,w=>{const S=kr(((E,D)=>uy(E,E.type,D))(w,u));return{name:w.name,align:w.align,memento:S}});return O.some({lookupByName:w=>((S,E,D)=>J(E,L=>L.name===D).bind(L=>L.memento.getOpt(S)))(f,b,w),footerButtons:b})},renderComponents:E9})])}),lO=(r,a,u)=>Ms.parts.footer(LM(r,a,u)),Bw=(r,a)=>{if(r.getRoot().getSystem().isConnected()){const u=or.getCurrent(r.getFormWrapper()).getOr(r.getFormWrapper());return qp.getField(u,a).orThunk(()=>r.getFooter().bind(p=>pc.getState(p).get()).bind(p=>p.lookupByName(a)))}return O.none()},FM=(r,a,u)=>{const f=b=>{const w=r.getRoot();w.getSystem().isConnected()&&b(w)},p={getData:()=>{const b=r.getRoot(),w=b.getSystem().isConnected()?r.getFormWrapper():b;return{...lt.getValue(w),...Dn(u,S=>S.get())}},setData:b=>{f(w=>{const S=p.getData(),E=Mr(S,b),D=((M,z)=>{const q=M.getRoot();return pc.getState(q).get().map(X=>La(Cs("data",X.dataValidator,z))).getOr(z)})(r,E),L=r.getFormWrapper();lt.setValue(L,D),Tn(u,(M,z)=>{To(E,z)&&M.set(E[z])})})},setEnabled:(b,w)=>{Bw(r,b).each(w?so.enable:so.disable)},focus:b=>{Bw(r,b).each(no.focus)},block:b=>{if(!v(b))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(w=>{Nn(w,h3,{message:b})})},unblock:()=>{f(b=>{Ao(b,p3)})},showTab:b=>{f(w=>{const S=r.getBody();pc.getState(S).get().exists(E=>E.isTabPanel())&&or.getCurrent(S).each(E=>{wy.showTab(E,b)})})},redial:b=>{f(w=>{const S=r.getId(),E=a(b),D=Mw(E.internalDialog.buttons,u);w.getSystem().broadcastOn([`${Yp}-${S}`],E),w.getSystem().broadcastOn([`${Y3}-${S}`],E.internalDialog),w.getSystem().broadcastOn([`${mN}-${S}`],E.internalDialog),w.getSystem().broadcastOn([`${gN}-${S}`],{...E.internalDialog,buttons:D}),p.setData(E.initialData)})},close:()=>{f(b=>{Ao(b,jp)})},toggleFullscreen:r.toggleFullscreen};return p},VM=(r,a,u,f=!1,p)=>{const b=bn("dialog"),w=bn("dialog-label"),S=bn("dialog-content"),E=r.internalDialog,D=Vn(E.size),L=Pw(D.get()).toArray(),M=kr(((ke,Ae,$e,rt)=>Yd.sketch({dom:rg('<div class="tox-dialog__header"></div>'),components:[nO(ke,Ae,O.some($e),rt),oO(),OM(rt)],containerBehaviours:Zt([u1.config({mode:"mouse",blockerClass:"blocker",getTarget:At=>Qu(At,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},b,w,u.shared.providers)),z=kr(((ke,Ae,$e,rt,At,kt)=>aS(ke,Ae,O.some($e),rt,At,kt))({body:E.body,initialData:E.initialData},b,S,u,f,ke=>Bw(de,ke))),q=Mw(E.buttons),X=MM(q),ue=ar(q.length!==0,kr(((ke,Ae,$e)=>LM(ke,Ae,$e))({buttons:q},b,u))),me=BM(()=>ve,{onBlock:ke=>{gd.block(fe,(Ae,$e)=>{const rt=M.getOpt(fe).map(At=>Os(At.element));return RM(ke.message,$e,u.shared.providers,rt)})},onUnblock:()=>{gd.unblock(fe)},onClose:()=>a.closeWindow()},u.shared.getSink),_e=sa().os,fe=Ki({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",..._e.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[ic()]:[pc.name(),wl.name()],[bl()]:["execute-on-form"],[ua()]:["reflecting","execute-on-form"]},behaviours:Zt([Ln.config({mode:"cyclic",onEscape:ke=>(Ao(ke,jp),O.some(!0)),useTabstopAt:ke=>!ay(ke)&&(qa(ke)!=="button"||Lo(ke,"disabled")!=="disabled"),firstTabstop:1}),pc.config({channel:`${Yp}-${b}`,updateState:(ke,Ae)=>(D.set(Ae.internalDialog.size),iO(Ae.internalDialog.size,ke),p(),O.some(Ae)),initialData:r}),no.config({}),_o("execute-on-form",me.concat([Df(xr(),(ke,Ae)=>{Ln.focusIn(ke)}),St(G1(),(ke,Ae)=>{ke.getSystem().broadcastOn([xk],{newFocus:Ae.event.newFocus})})])),gd.config({getRoot:()=>O.some(fe)}),qn.config({}),sw({})]),components:[M.asSpec(),z.asSpec(),...ue.map(ke=>ke.asSpec()).toArray()]}),de={getId:ee(b),getRoot:ee(fe),getFooter:()=>ue.map(ke=>ke.get(fe)),getBody:()=>z.get(fe),getFormWrapper:()=>{const ke=z.get(fe);return or.getCurrent(ke).getOr(ke)},toggleFullscreen:()=>{NM(fe,D.get())}},ve=FM(de,a.redial,X);return{dialog:fe,instanceApi:ve}};var cO=tinymce.util.Tools.resolve("tinymce.util.URI");const A9=["insertContent","setContent","execCommand","close","block","unblock"],uO=r=>x(r)&&A9.indexOf(r.mceAction)!==-1,T9=(r,a,u,f)=>{const p=bn("dialog"),b=DM(r.title,p,f),w=(_e=>{const fe={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[G3(O.none(),{dom:{tag:"iframe",attributes:{src:_e.url}},behaviours:Zt([Zr.config({}),no.config({})])})]}],behaviours:Zt([Ln.config({mode:"acyclic",useTabstopAt:Be(ay)})])};return Ms.parts.body(fe)})(r),S=r.buttons.bind(_e=>_e.length===0?O.none():O.some(lO({buttons:_e},p,f))),E=((_e,fe)=>{const de=(ke,Ae)=>St(ke,($e,rt)=>{ve($e,(At,kt)=>{Ae(me,At,rt.event,$e)})}),ve=(ke,Ae)=>{pc.getState(ke).get().each($e=>{Ae($e,ke)})};return[...aO(de,fe),de(em,(ke,Ae,$e)=>{Ae.onAction(ke,{name:$e.name})})]})(0,IM(()=>ue,f.shared.providers,a)),D={...r.height.fold(()=>({}),_e=>({height:_e+"px","max-height":_e+"px"})),...r.width.fold(()=>({}),_e=>({width:_e+"px","max-width":_e+"px"}))},L=r.width.isNone()&&r.height.isNone()?["tox-dialog--width-lg"]:[],M=new cO(r.url,{base_uri:new cO(window.location.href)}),z=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,q=Ec(),X=[pc.config({channel:`${Yp}-${p}`,updateState:(_e,fe)=>O.some(fe),initialData:r}),_o("messages",[ss(()=>{const _e=$a(sn(window),"message",fe=>{if(M.isSameOrigin(new cO(fe.raw.origin))){const de=fe.raw.data;uO(de)?((ve,ke,Ae)=>{switch(Ae.mceAction){case"insertContent":ve.insertContent(Ae.content);break;case"setContent":ve.setContent(Ae.content);break;case"execCommand":const $e=!!I(Ae.ui)&&Ae.ui;ve.execCommand(Ae.cmd,$e,Ae.value);break;case"close":ke.close();break;case"block":ke.block(Ae.message);break;case"unblock":ke.unblock()}})(u,me,de):(ve=>!uO(ve)&&x(ve)&&To(ve,"mceAction"))(de)&&r.onMessage(me,de)}});q.set(_e)}),Xu(q.clear)]),wl.config({channels:{[X3]:{onReceive:(_e,fe)=>{fs(_e.element,"iframe").each(de=>{const ve=de.dom.contentWindow;G(ve)&&ve.postMessage(fe,z)})}}}})],ue=PM({id:p,header:b,body:w,footer:S,extraClasses:L,extraBehaviours:X,extraStyles:D},E,f),me=(_e=>{const fe=de=>{_e.getSystem().isConnected()&&de(_e)};return{block:de=>{if(!v(de))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");fe(ve=>{Nn(ve,h3,{message:de})})},unblock:()=>{fe(de=>{Ao(de,p3)})},close:()=>{fe(de=>{Ao(de,jp)})},sendMessage:de=>{fe(ve=>{ve.getSystem().broadcastOn([X3],de)})}}})(ue);return{dialog:ue,instanceApi:me}},dO=(r,a)=>La(Cs("data",a,r)),zM=r=>ry(r,".tox-alert-dialog")||ry(r,".tox-confirm-dialog"),O9=(r,a,u)=>a&&u?[]:[ds.config({contextual:{lazyContext:()=>O.some(ai(sn(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Mp(r,f.element).map(p=>({bounds:Bp(p),optScrollEnv:O.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:Bl(p.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})],D9=r=>{const a=r.editor,u=xh(a),f=(E=>{const D=E.shared;return{open:(L,M)=>{const z=()=>{Ms.hide(me),M()},q=kr(uy({name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",E)),X=eO(),ue=QT(z,D.providers),me=Ki(tO({lazySink:()=>D.getSink(),header:Iw(X,ue),body:EM(L,D.providers),footer:O.some(AM(TM([],[q.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Eh,z)],eventOrder:{}}));Ms.show(me);const _e=q.get(me);no.focus(_e)}}})(r.backstages.dialog),p=(E=>{const D=E.shared;return{open:(L,M)=>{const z=de=>{Ms.hide(_e),M(de)},q=kr(uy({name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",E)),X=uy({name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",E),ue=eO(),me=QT(()=>z(!1),D.providers),_e=Ki(tO({lazySink:()=>D.getSink(),header:Iw(ue,me),body:EM(L,D.providers),footer:O.some(AM(TM([],[X,q.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(Eh,()=>z(!1)),St(ew,()=>z(!0))],eventOrder:{}}));Ms.show(_e);const fe=q.get(_e);no.focus(fe)}}})(r.backstages.dialog),b=(E,D)=>d1.open((L,M,z)=>{const q=M,X=((ue,me,_e)=>{const fe=bn("dialog"),de=ue.internalDialog,ve=DM(de.title,fe,_e),ke=Vn(de.size),Ae=Pw(ke.get()).toArray(),$e=((io,zo,ns,ms)=>{const Eo=aS(io,zo,O.none(),ns,!1,ms);return Ms.parts.body(Eo)})({body:de.body,initialData:de.initialData},fe,_e,io=>Bw(En,io)),rt=Mw(de.buttons),At=MM(rt),kt=ar(rt.length!==0,lO({buttons:rt},fe,_e)),wt=BM(()=>$n,IM(()=>mn,_e.shared.providers,me),_e.shared.getSink),Ht={id:fe,header:ve,body:$e,footer:kt,extraClasses:Ae,extraBehaviours:[pc.config({channel:`${Yp}-${fe}`,updateState:(io,zo)=>(ke.set(zo.internalDialog.size),iO(zo.internalDialog.size,io),O.some(zo)),initialData:ue})],extraStyles:{}},mn=PM(Ht,wt,_e),En={getId:ee(fe),getRoot:ee(mn),getBody:()=>Ms.getBody(mn),getFooter:()=>Ms.getFooter(mn),getFormWrapper:()=>{const io=Ms.getBody(mn);return or.getCurrent(io).getOr(io)},toggleFullscreen:()=>{NM(mn,ke.get())}},$n=FM(En,me.redial,At);return{dialog:mn,instanceApi:$n}})({dataValidator:z,initialData:q,internalDialog:L},{redial:d1.redial,closeWindow:()=>{Ms.hide(X.dialog),D(X.instanceApi)}},r.backstages.dialog);return Ms.show(X.dialog),X.instanceApi.setData(q),X.instanceApi},E),w=(E,D,L,M)=>d1.open((z,q,X)=>{const ue=dO(q,X),me=Tr(),_e=r.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(ke=>{vs.reposition(ke),u&&_e||ds.refresh(ke)}),de=VM({dataValidator:X,initialData:ue,internalDialog:z},{redial:d1.redial,closeWindow:()=>{me.on(vs.hide),a.off("ResizeEditor",fe),me.clear(),L(de.instanceApi)}},r.backstages.popup,M.ariaAttrs,fe),ve=Ki(vs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},..._e?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([_o("window-manager-inline-events",[St(Gg(),(ke,Ae)=>{Ao(de.dialog,Eh)})]),...O9(a,u,_e)]),isExtraPart:(ke,Ae)=>zM(Ae)}));return me.set(ve),vs.showWithinBounds(ve,ol(de.dialog),{anchor:D},()=>{const ke=a.inline?vn():sn(a.getContainer()),Ae=ai(ke);return O.some(Ae)}),u&&_e||(ds.refresh(ve),a.on("ResizeEditor",fe)),de.instanceApi.setData(ue),Ln.focusIn(de.dialog),de.instanceApi},E),S=(E,D,L,M)=>d1.open((z,q,X)=>{const ue=dO(q,X),me=Tr(),_e=r.backstages.popup.shared.header.isPositionedAtTop(),fe=()=>me.on(ke=>{vs.reposition(ke),ds.refresh(ke)}),de=VM({dataValidator:X,initialData:ue,internalDialog:z},{redial:d1.redial,closeWindow:()=>{me.on(vs.hide),a.off("ResizeEditor ScrollWindow ElementScroll",fe),me.clear(),L(de.instanceApi)}},r.backstages.popup,M.ariaAttrs,fe),ve=Ki(vs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},..._e?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([_o("window-manager-inline-events",[St(Gg(),(ke,Ae)=>{Ao(de.dialog,Eh)})]),ds.config({contextual:{lazyContext:()=>O.some(ai(sn(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ke=>Mp(a,ke.element).map(Ae=>({bounds:Bp(Ae),optScrollEnv:O.some({currentScrollTop:Ae.element.dom.scrollTop,scrollElmTop:Bl(Ae.element).top})})).getOrThunk(()=>({bounds:Ui(),optScrollEnv:O.none()}))})]),isExtraPart:(ke,Ae)=>zM(Ae)}));return me.set(ve),vs.showWithinBounds(ve,ol(de.dialog),{anchor:D},()=>r.backstages.popup.shared.getSink().toOptional().bind(ke=>{const Ae=Mp(a,ke.element).map(At=>Bp(At)).getOr(Ui()),$e=ai(sn(a.getContentAreaContainer())),rt=Dd($e,Ae);return O.some(Io(rt.x,rt.y,rt.width,rt.height-15))})),ds.refresh(ve),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",fe),de.instanceApi.setData(ue),Ln.focusIn(de.dialog),de.instanceApi},E);return{open:(E,D,L)=>{if(!V(D)){if(D.inline==="toolbar")return w(E,r.backstages.popup.shared.anchors.inlineDialog(),L,D);if(D.inline==="bottom")return S(E,r.backstages.popup.shared.anchors.inlineBottomDialog(),L,D);if(D.inline==="cursor")return w(E,r.backstages.popup.shared.anchors.cursor(),L,D)}return b(E,L)},openUrl:(E,D)=>((L,M)=>d1.openUrl(z=>{const q=T9(z,{closeWindow:()=>{Ms.hide(q.dialog),M(q.instanceApi)}},a,r.backstages.dialog);return Ms.show(q.dialog),q.instanceApi},L))(E,D),alert:(E,D)=>{f.open(E,D)},close:E=>{E.close()},confirm:(E,D)=>{p.open(E,D)}}};rp.add("silver",r=>{(S=>{j5(S),(E=>{const D=E.options.register,L=z=>ae(z,v)?{value:YF(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=z=>te(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};D("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),D("color_map_background",{processor:L}),D("color_map_foreground",{processor:L}),D("color_cols",{processor:M,default:$_(E)}),D("color_cols_foreground",{processor:M,default:gI(E,GA)}),D("color_cols_background",{processor:M,default:gI(E,qA)}),D("custom_colors",{processor:"boolean",default:!0}),D("color_default_foreground",{processor:"string",default:K2}),D("color_default_background",{processor:"string",default:K2})})(S),(E=>{const D=E.options.register;D("contextmenu_avoid_overlap",{processor:"string",default:""}),D("contextmenu_never_use_native",{processor:"boolean",default:!1}),D("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:v(L)||ae(L,v)?{value:c6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(S)})(r);let a=()=>Ui();const{dialogs:u,popups:f,renderUI:p}=Fz(r,{getPopupSinkBounds:()=>a()});NI(r,f.backstage.shared);const b=D9({editor:r,backstages:{popup:f.backstage,dialog:u.backstage}}),w=Tr();return{renderUI:()=>{const S=p();return Mp(r,f.getMothership().element).each(E=>{a=()=>Bp(E)}),S},getWindowManagerImpl:ee(b),getNotificationManagerImpl:()=>yR(r,{backstage:f.backstage},f.getMothership(),w)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const s=y=>k=>(T=>{const B=typeof T;return T===null?"null":B==="object"&&Array.isArray(T)?"array":B==="object"&&(H=U=T,(ne=String).prototype.isPrototypeOf(H)||((se=U.constructor)===null||se===void 0?void 0:se.name)===ne.name)?"string":B;var H,U,ne,se})(k)===y,l=y=>k=>typeof k===y,d=y=>k=>y===k,g=s("string"),v=s("object"),x=s("array"),_=d(null),N=l("boolean"),R=d(void 0),I=y=>!(k=>k==null)(y),V=l("function"),$=l("number"),G=()=>{},W=y=>()=>y,te=y=>y,ae=(y,k)=>y===k;function ce(y,...k){return(...T)=>{const B=k.concat(T);return y.apply(null,B)}}const Ve=y=>k=>!y(k),Ce=y=>y(),ee=W(!1),we=W(!0);class le{constructor(k,T){this.tag=k,this.value=T}static some(k){return new le(!0,k)}static none(){return le.singletonNone}fold(k,T){return this.tag?T(this.value):k()}isSome(){return this.tag}isNone(){return!this.tag}map(k){return this.tag?le.some(k(this.value)):le.none()}bind(k){return this.tag?k(this.value):le.none()}exists(k){return this.tag&&k(this.value)}forall(k){return!this.tag||k(this.value)}filter(k){return!this.tag||k(this.value)?this:le.none()}getOr(k){return this.tag?this.value:k}or(k){return this.tag?this:k}getOrThunk(k){return this.tag?this.value:k()}orThunk(k){return this.tag?this:k()}getOrDie(k){if(this.tag)return this.value;throw new Error(k??"Called getOrDie on None")}static from(k){return I(k)?le.some(k):le.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(k){this.tag&&k(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}le.singletonNone=new le(!1);const Ze=Array.prototype.slice,Be=Array.prototype.indexOf,Me=Array.prototype.push,Xe=(y,k)=>{return T=y,B=k,Be.call(T,B)>-1;var T,B},Ee=(y,k)=>{for(let T=0,B=y.length;T<B;T++)if(k(y[T],T))return!0;return!1},Fe=(y,k)=>{const T=[];for(let B=0;B<y;B++)T.push(k(B));return T},O=(y,k)=>{const T=y.length,B=new Array(T);for(let H=0;H<T;H++){const U=y[H];B[H]=k(U,H)}return B},Ge=(y,k)=>{for(let T=0,B=y.length;T<B;T++)k(y[T],T)},ct=(y,k)=>{const T=[],B=[];for(let H=0,U=y.length;H<U;H++){const ne=y[H];(k(ne,H)?T:B).push(ne)}return{pass:T,fail:B}},$t=(y,k)=>{const T=[];for(let B=0,H=y.length;B<H;B++){const U=y[B];k(U,B)&&T.push(U)}return T},Jt=(y,k,T)=>(((B,H)=>{for(let U=B.length-1;U>=0;U--)H(B[U],U)})(y,(B,H)=>{T=k(T,B,H)}),T),tt=(y,k,T)=>(Ge(y,(B,H)=>{T=k(T,B,H)}),T),pt=(y,k)=>((T,B,H)=>{for(let U=0,ne=T.length;U<ne;U++){const se=T[U];if(B(se,U))return le.some(se);if(H(se,U))break}return le.none()})(y,k,ee),Lt=(y,k)=>{for(let T=0,B=y.length;T<B;T++)if(k(y[T],T))return le.some(T);return le.none()},nt=y=>{const k=[];for(let T=0,B=y.length;T<B;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);Me.apply(k,y[T])}return k},Ye=(y,k)=>nt(O(y,k)),Mt=(y,k)=>{for(let T=0,B=y.length;T<B;++T)if(k(y[T],T)!==!0)return!1;return!0},oo=(y,k)=>{const T={};for(let B=0,H=y.length;B<H;B++){const U=y[B];T[String(U)]=k(U,B)}return T},zn=(y,k)=>k>=0&&k<y.length?le.some(y[k]):le.none(),fn=y=>zn(y,0),kn=y=>zn(y,y.length-1),J=(y,k)=>{for(let T=0;T<y.length;T++){const B=k(y[T],T);if(B.isSome())return B}return le.none()},Cr=Object.keys,eo=Object.hasOwnProperty,tn=(y,k)=>{const T=Cr(y);for(let B=0,H=T.length;B<H;B++){const U=T[B];k(y[U],U)}},Do=(y,k)=>Ke(y,(T,B)=>({k:B,v:k(T,B)})),Ke=(y,k)=>{const T={};return tn(y,(B,H)=>{const U=k(B,H);T[U.k]=U.v}),T},ie=(y,k)=>{const T=[];return tn(y,(B,H)=>{T.push(k(B,H))}),T},be=y=>ie(y,te),Le=(y,k)=>eo.call(y,k),he=typeof window<"u"?window:Function("return this;")(),gt=(y,k)=>((T,B)=>{let H=B??he;for(let U=0;U<T.length&&H!=null;++U)H=H[T[U]];return H})(y.split("."),k),zt=Object.getPrototypeOf,vt=y=>{const k=gt("ownerDocument.defaultView",y);return v(y)&&((T=>((B,H)=>{const U=((ne,se)=>gt(ne,se))(B,H);if(U==null)throw new Error(B+" not available on this browser");return U})("HTMLElement",T))(k).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(zt(y).constructor.name))},Ft=y=>y.dom.nodeName.toLowerCase(),Vt=y=>y.dom.nodeType,wn=y=>k=>Vt(k)===y,cn=y=>Vt(y)===8||Ft(y)==="#comment",Tn=y=>Dn(y)&&vt(y.dom),Dn=wn(1),Co=wn(3),Ro=wn(9),Uo=wn(11),fr=y=>k=>Dn(k)&&Ft(k)===y,as=(y,k,T)=>{if(!(g(T)||N(T)||$(T)))throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(k,T+"")},mr=(y,k,T)=>{as(y.dom,k,T)},As=(y,k)=>{const T=y.dom;tn(k,(B,H)=>{as(T,H,B)})},hn=(y,k)=>{const T=y.dom.getAttribute(k);return T===null?void 0:T},To=(y,k)=>le.from(hn(y,k)),bo=(y,k)=>{y.dom.removeAttribute(k)},rs=y=>tt(y.dom.attributes,(k,T)=>(k[T.name]=T.value,k),{}),ea=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Kt={fromHtml:(y,k)=>{const T=(k||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return ea(T.childNodes[0])},fromTag:(y,k)=>{const T=(k||document).createElement(y);return ea(T)},fromText:(y,k)=>{const T=(k||document).createTextNode(y);return ea(T)},fromDom:ea,fromPoint:(y,k,T)=>le.from(y.dom.elementFromPoint(k,T)).map(ea)},gi=(y,k)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const B=T;if(B.matches!==void 0)return B.matches(k);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(k);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(k);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(k);throw new Error("Browser lacks native selectors")}},ar=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,jl=(y,k)=>{const T=k===void 0?document:k.dom;return ar(T)?le.none():le.from(T.querySelector(y)).map(Kt.fromDom)},$r=(y,k)=>y.dom===k.dom,ei=(y,k)=>{const T=y.dom,B=k.dom;return T!==B&&T.contains(B)},ym=gi,Mu=y=>Kt.fromDom(y.dom.ownerDocument),_c=y=>Ro(y)?y:Mu(y),fl=y=>le.from(y.dom.parentNode).map(Kt.fromDom),Bu=y=>le.from(y.dom.parentElement).map(Kt.fromDom),Dr=(y,k)=>{const T=V(k)?k:ee;let B=y.dom;const H=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const U=B.parentNode,ne=Kt.fromDom(U);if(H.push(ne),T(ne)===!0)break;B=U}return H},ao=y=>le.from(y.dom.previousSibling).map(Kt.fromDom),Kl=y=>le.from(y.dom.nextSibling).map(Kt.fromDom),Ti=y=>O(y.dom.childNodes,Kt.fromDom),Lu=(y,k)=>{const T=y.dom.childNodes;return le.from(T[k]).map(Kt.fromDom)},sn=(y,k)=>{fl(y).each(T=>{T.dom.insertBefore(k.dom,y.dom)})},Fu=(y,k)=>{Kl(y).fold(()=>{fl(y).each(T=>{hs(T,k)})},T=>{sn(T,k)})},xm=(y,k)=>{(B=>Lu(B,0))(y).fold(()=>{hs(y,k)},B=>{y.dom.insertBefore(k.dom,B.dom)})},hs=(y,k)=>{y.dom.appendChild(k.dom)},wm=(y,k)=>{sn(y,k),hs(k,y)},qa=(y,k)=>{Ge(k,(T,B)=>{const H=B===0?y:k[B-1];Fu(H,T)})},Il=(y,k)=>{Ge(k,T=>{hs(y,T)})},ml=y=>{y.dom.textContent="",Ge(Ti(y),k=>{ls(k)})},ls=y=>{const k=y.dom;k.parentNode!==null&&k.parentNode.removeChild(k)},Ca=y=>{const k=Ti(y);k.length>0&&qa(y,k),ls(y)},Nl=(y,k)=>Kt.fromDom(y.dom.cloneNode(k)),Cm=y=>Nl(y,!1),Yc=y=>Nl(y,!0),Xc=(y,k)=>{const T=Kt.fromTag(k),B=rs(y);return As(T,B),T},ff=["tfoot","thead","tbody","colgroup"],Sd=(y,k,T)=>({element:y,rowspan:k,colspan:T}),lr=(y,k,T)=>({element:y,cells:k,section:T}),Ls=(y,k,T)=>({element:y,isNew:k,isLocked:T}),ii=(y,k,T,B)=>({element:y,cells:k,section:T,isNew:B}),_m=y=>Kt.fromDom(y.dom.host),Ya=y=>{const k=Co(y)?y.dom.parentNode:y.dom;if(k==null||k.ownerDocument===null)return!1;const T=k.ownerDocument;return(U=>{const ne=(xe=>Kt.fromDom(xe.dom.getRootNode()))(U);return Uo(se=ne)&&I(se.dom.host)?le.some(ne):le.none();var se})(Kt.fromDom(k)).fold(()=>T.body.contains(k),(B=Ya,H=_m,U=>B(H(U))));var B,H},Jc=y=>{const k=y.dom.body;if(k==null)throw new Error("Body is not available yet");return Kt.fromDom(k)},_a=(y,k)=>{let T=[];return Ge(Ti(y),B=>{k(B)&&(T=T.concat([B])),T=T.concat(_a(B,k))}),T},ka=(y,k,T)=>((B,H,U)=>$t(Dr(B,U),ne=>gi(ne,k)))(y,0,T),Qc=(y,k)=>((T,B)=>$t(Ti(T),H=>gi(H,k)))(y),Pr=(y,k)=>((T,B)=>{const H=B===void 0?document:B.dom;return ar(H)?[]:O(H.querySelectorAll(T),Kt.fromDom)})(k,y);var cs=(y,k,T,B,H)=>y(T,B)?le.some(T):V(H)&&H(T)?le.none():k(T,B,H);const Te=(y,k,T)=>{let B=y.dom;const H=V(T)?T:ee;for(;B.parentNode;){B=B.parentNode;const U=Kt.fromDom(B);if(k(U))return le.some(U);if(H(U))break}return le.none()},ot=(y,k,T)=>cs((B,H)=>H(B),Te,y,k,T),Ne=(y,k,T)=>Te(y,B=>gi(B,k),T),mt=(y,k)=>((T,B)=>pt(T.dom.childNodes,H=>{return U=Kt.fromDom(H),gi(U,k);var U}).map(Kt.fromDom))(y),ut=(y,k)=>jl(k,y),Qe=(y,k,T)=>cs((B,H)=>gi(B,H),Ne,y,k,T),Wt=(y,k,T=ae)=>y.exists(B=>T(B,k)),nn=y=>{const k=[],T=B=>{k.push(B)};for(let B=0;B<y.length;B++)y[B].each(T);return k},un=(y,k)=>y?le.some(k):le.none(),vn=(y,k,T)=>k===""||y.length>=k.length&&y.substr(T,T+k.length)===k,an=(y,k,T=0,B)=>{const H=y.indexOf(k,T);return H!==-1&&(!!R(B)||H+k.length<=B)},ho=(y,k)=>vn(y,k,0),rn=(y,k)=>vn(y,k,y.length-k.length),Ar=(y=>k=>k.replace(y,""))(/^\s+|\s+$/g),Lo=y=>y.length>0,Ko=y=>y.style!==void 0&&V(y.style.getPropertyValue),Ts=(y,k,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",k,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Ko(y)&&y.style.setProperty(k,T)},So=(y,k,T)=>{const B=y.dom;Ts(B,k,T)},Pl=(y,k)=>{const T=y.dom;tn(k,(B,H)=>{Ts(T,H,B)})},ta=(y,k)=>{const T=y.dom,B=window.getComputedStyle(T).getPropertyValue(k);return B!==""||Ya(y)?B:co(T,k)},co=(y,k)=>Ko(y)?y.style.getPropertyValue(k):"",Xa=(y,k)=>{const T=y.dom,B=co(T,k);return le.from(B).filter(H=>H.length>0)},gl=(y,k)=>{((T,B)=>{Ko(T)&&T.style.removeProperty(B)})(y.dom,k),Wt(To(y,"style").map(Ar),"")&&bo(y,"style")},ws=(y,k,T=0)=>To(y,k).map(B=>parseInt(B,10)).getOr(T),Ed=(y,k)=>ws(y,k,1),$s=y=>fr("col")(y)?ws(y,"span",1)>1:Ed(y,"colspan")>1,mf=(y,k)=>parseInt(ta(y,k),10),Ml=W(10),_r=W(10),Vu=(y,k)=>km(y,k,we),km=(y,k,T)=>Ye(Ti(y),B=>gi(B,k)?T(B)?[B]:[]:km(B,k,T)),tp=(y,k)=>((T,B,H=ee)=>H(B)?le.none():Xe(T,Ft(B))?le.some(B):Ne(B,T.join(","),U=>gi(U,"table")||H(U)))(["td","th"],y,k),Os=y=>Vu(y,"th,td"),kc=y=>gi(y,"colgroup")?Qc(y,"col"):Ye(Sm(y),k=>Qc(k,"col")),hl=(y,k)=>Qe(y,"table",k),Jr=y=>Vu(y,"tr"),Sm=y=>hl(y).fold(W([]),k=>Qc(k,"colgroup")),Bl=(y,k)=>O(y,T=>{if(Ft(T)==="colgroup"){const B=O(kc(T),H=>{const U=ws(H,"span",1);return Sd(H,1,U)});return lr(T,B,"colgroup")}{const B=O(Os(T),H=>{const U=ws(H,"rowspan",1),ne=ws(H,"colspan",1);return Sd(H,U,ne)});return lr(T,B,k(T))}}),na=y=>fl(y).map(k=>{const T=Ft(k);return(B=>Xe(ff,B))(T)?T:"tbody"}).getOr("tbody"),Fg=y=>{const k=Jr(y),T=[...Sm(y),...k];return Bl(T,na)},Oi=y=>{let k,T=!1;return(...B)=>(T||(T=!0,k=y.apply(null,B)),k)},Ja=()=>oa(0,0),oa=(y,k)=>({major:y,minor:k}),Ll={nu:oa,detect:(y,k)=>{const T=String(k).toLowerCase();return y.length===0?Ja():((B,H)=>{const U=((se,xe)=>{for(let Ie=0;Ie<se.length;Ie++){const je=se[Ie];if(je.test(xe))return je}})(B,H);if(!U)return{major:0,minor:0};const ne=se=>Number(H.replace(U,"$"+se));return oa(ne(1),ne(2))})(y,T)},unknown:Ja},np=(y,k)=>{const T=String(k).toLowerCase();return pt(y,B=>B.search(T))},Fo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,eu=y=>k=>an(k,y),Ad=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>an(y,"edge/")&&an(y,"chrome")&&an(y,"safari")&&an(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fo],search:y=>an(y,"chrome")&&!an(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>an(y,"msie")||an(y,"trident")},{name:"Opera",versionRegexes:[Fo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:eu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:eu("firefox")},{name:"Safari",versionRegexes:[Fo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(an(y,"safari")||an(y,"mobile/"))&&an(y,"applewebkit")}],zu=[{name:"Windows",search:eu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>an(y,"iphone")||an(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:eu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:eu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:eu("linux"),versionRegexes:[]},{name:"Solaris",search:eu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:eu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:eu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Av={browsers:W(Ad),oses:W(zu)},nx="Edge",V1="Chromium",z1="Opera",bC="Firefox",op="Safari",H1=y=>{const k=y.current,T=y.version,B=H=>()=>k===H;return{current:k,version:T,isEdge:B(nx),isChromium:B(V1),isIE:B("IE"),isOpera:B(z1),isFirefox:B(bC),isSafari:B(op)}},Xt=()=>H1({current:void 0,version:Ll.unknown()}),gf=H1,hf="Windows",$1="Android",ra="Linux",pf="macOS",Vg="Solaris",ox="FreeBSD",rx="ChromeOS",Tv=y=>{const k=y.current,T=y.version,B=H=>()=>k===H;return{current:k,version:T,isWindows:B(hf),isiOS:B("iOS"),isAndroid:B($1),isMacOS:B(pf),isLinux:B(ra),isSolaris:B(Vg),isFreeBSD:B(ox),isChromeOS:B(rx)}},sx=()=>Tv({current:void 0,version:Ll.unknown()}),U1=Tv,ix=y=>window.matchMedia(y).matches;let zg=Oi(()=>((y,k,T)=>{const B=Av.browsers(),H=Av.oses(),U=k.bind(xe=>((Ie,je)=>J(je.brands,De=>{const Pe=De.brand.toLowerCase();return pt(Ie,He=>{var st;return Pe===((st=He.brand)===null||st===void 0?void 0:st.toLowerCase())}).map(He=>({current:He.name,version:Ll.nu(parseInt(De.version,10),0)}))}))(B,xe)).orThunk(()=>((xe,Ie)=>np(xe,Ie).map(je=>{const De=Ll.detect(je.versionRegexes,Ie);return{current:je.name,version:De}}))(B,y)).fold(Xt,gf),ne=((xe,Ie)=>np(xe,Ie).map(je=>{const De=Ll.detect(je.versionRegexes,Ie);return{current:je.name,version:De}}))(H,y).fold(sx,U1),se=((xe,Ie,je,De)=>{const Pe=xe.isiOS()&&/ipad/i.test(je)===!0,He=xe.isiOS()&&!Pe,st=xe.isiOS()||xe.isAndroid(),at=st||De("(pointer:coarse)"),Ot=Pe||!He&&st&&De("(min-device-width:768px)"),It=He||st&&!Ot,Tt=Ie.isSafari()&&xe.isiOS()&&/safari/i.test(je)===!1,Pt=!It&&!Ot&&!Tt;return{isiPad:W(Pe),isiPhone:W(He),isTablet:W(Ot),isPhone:W(It),isTouch:W(at),isAndroid:xe.isAndroid,isiOS:xe.isiOS,isWebView:W(Tt),isDesktop:W(Pt)}})(ne,U,y,T);return{browser:U,os:ne,deviceType:se}})(window.navigator.userAgent,le.from(window.navigator.userAgentData),ix));const W1=()=>zg(),vf=(y,k)=>{const T=H=>{const U=k(H);if(U<=0||U===null){const ne=ta(H,y);return parseFloat(ne)||0}return U},B=(H,U)=>tt(U,(ne,se)=>{const xe=ta(H,se),Ie=xe===void 0?0:parseInt(xe,10);return isNaN(Ie)?ne:ne+Ie},0);return{set:(H,U)=>{if(!$(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const ne=H.dom;Ko(ne)&&(ne.style[y]=U+"px")},get:T,getOuter:T,aggregate:B,max:(H,U,ne)=>{const se=B(H,ne);return U>se?U-se:0}}},bf=(y,k,T)=>((B,H)=>(U=>{const ne=parseFloat(U);return isNaN(ne)?le.none():le.some(ne)})(B).getOr(H))(ta(y,k),T),sa=vf("width",y=>y.dom.offsetWidth),pl=y=>sa.get(y),Hg=y=>sa.getOuter(y),Yo=y=>((k,T)=>{const B=k.dom,H=B.getBoundingClientRect().width||B.offsetWidth;return T==="border-box"?H:((U,ne,se,xe)=>ne-bf(U,`padding-${se}`,0)-bf(U,`padding-${xe}`,0)-bf(U,`border-${se}-width`,0)-bf(U,`border-${xe}-width`,0))(k,H,"left","right")})(y,"content-box"),Td=(y,k,T)=>{const B=y.cells,H=B.slice(0,k),U=B.slice(k),ne=H.concat(T).concat(U);return Pa(y,ne)},$g=(y,k,T)=>Td(y,k,[T]),Ug=(y,k,T)=>{y.cells[k]=T},Pa=(y,k)=>ii(y.element,k,y.section,y.isNew),Us=(y,k)=>y.cells[k],us=(y,k)=>Us(y,k).element,$i=y=>y.cells.length,Qr=y=>{const k=ct(y,T=>T.section==="colgroup");return{rows:k.fail,cols:k.pass}},yf=(y,k,T)=>{const B=O(y.cells,T);return ii(k(y.element),B,y.section,!0)},Em="data-snooker-locked-cols",xi=y=>To(y,Em).bind(k=>le.from(k.match(/\d+/g))).map(k=>oo(k,we)),Ma=y=>{const k=tt(Qr(y).rows,(B,H)=>(Ge(H.cells,(U,ne)=>{U.isLocked&&(B[ne]=!0)}),B),{}),T=ie(k,(B,H)=>parseInt(H,10));return((B,H)=>{const U=Ze.call(B,0);return U.sort(void 0),U})(T)},Sa=(y,k)=>y+","+k,tu=(y,k)=>{const T=Ye(y.all,B=>B.cells);return $t(T,k)},Od=y=>{const k={},T=[],B=fn(y).map(Pe=>Pe.element).bind(hl).bind(xi).getOr({});let H=0,U=0,ne=0;const{pass:se,fail:xe}=ct(y,Pe=>Pe.section==="colgroup");Ge(xe,Pe=>{const He=[];Ge(Pe.cells,st=>{let at=0;for(;k[Sa(ne,at)]!==void 0;)at++;const Ot=((Tt,Pt)=>Le(Tt,Pt)&&Tt[Pt]!==void 0&&Tt[Pt]!==null)(B,at.toString()),It=((Tt,Pt,Gt,Qt,lt,yn)=>({element:Tt,rowspan:Pt,colspan:Gt,row:Qt,column:lt,isLocked:yn}))(st.element,st.rowspan,st.colspan,ne,at,Ot);for(let Tt=0;Tt<st.colspan;Tt++)for(let Pt=0;Pt<st.rowspan;Pt++){const Gt=at+Tt,Qt=Sa(ne+Pt,Gt);k[Qt]=It,U=Math.max(U,Gt+1)}He.push(It)}),H++,T.push(lr(Pe.element,He,Pe.section)),ne++});const{columns:Ie,colgroups:je}=kn(se).map(Pe=>{const He=(at=>{const Ot={};let It=0;return Ge(at.cells,Tt=>{const Pt=Tt.colspan;Fe(Pt,Gt=>{const Qt=It+Gt;Ot[Qt]=((lt,yn,Xn)=>({element:lt,colspan:yn,column:Xn}))(Tt.element,Pt,Qt)}),It+=Pt}),Ot})(Pe);return{colgroups:[((at,Ot)=>({element:at,columns:Ot}))(Pe.element,be(He))],columns:He}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Pe,He)=>({rows:Pe,columns:He}))(H,U),access:k,all:T,columns:Ie,colgroups:je}},Io=y=>{const k=Fg(y);return Od(k)},ai=Od,vl=(y,k,T)=>le.from(y.access[Sa(k,T)]),Dd=(y,k,T)=>{const B=tu(y,H=>T(k,H.element));return B.length>0?le.some(B[0]):le.none()},Ui=tu,Vn=y=>Ye(y.all,k=>k.cells),Sc=y=>be(y.columns),Ec=y=>Cr(y.columns).length>0,Tr=(y,k)=>le.from(y.columns[k]),rp=(y,k=we)=>{const T=y.grid,B=Fe(T.columns,te),H=Fe(T.rows,te);return O(B,U=>Ov(()=>Ye(H,ne=>vl(y,ne,U).filter(se=>se.column===U).toArray()),ne=>ne.colspan===1&&k(ne.element),()=>vl(y,0,U)))},Ov=(y,k,T)=>{const B=y();return pt(B,k).orThunk(()=>le.from(B[0]).orThunk(T)).map(H=>H.element)},Rd=y=>{const k=y.grid,T=Fe(k.rows,te),B=Fe(k.columns,te);return O(T,H=>Ov(()=>Ye(B,U=>vl(y,H,U).filter(ne=>ne.row===H).fold(W([]),ne=>[ne])),U=>U.rowspan===1,()=>vl(y,H,0)))},Vo=(y,k)=>T=>Ba(T)==="rtl"?k:y,Ba=y=>ta(y,"direction")==="rtl"?"rtl":"ltr",sp=vf("height",y=>{const k=y.dom;return Ya(y)?k.getBoundingClientRect().height:k.offsetHeight}),Id=y=>sp.get(y),Dv=y=>sp.getOuter(y),nu=(y,k)=>({left:y,top:k,translate:(T,B)=>nu(y+T,k+B)}),Qa=nu,ou=(y,k)=>y!==void 0?y:k!==void 0?k:0,xf=y=>{const k=y.dom.ownerDocument,T=k.body,B=k.defaultView,H=k.documentElement;if(T===y.dom)return Qa(T.offsetLeft,T.offsetTop);const U=ou(B==null?void 0:B.pageYOffset,H.scrollTop),ne=ou(B==null?void 0:B.pageXOffset,H.scrollLeft),se=ou(H.clientTop,T.clientTop),xe=ou(H.clientLeft,T.clientLeft);return ze(y).translate(ne-xe,U-se)},ze=y=>{const k=y.dom,T=k.ownerDocument.body;return T===k?Qa(T.offsetLeft,T.offsetTop):Ya(y)?(B=>{const H=B.getBoundingClientRect();return Qa(H.left,H.top)})(k):Qa(0,0)},Am=(y,k)=>({row:y,y:k}),Mr=(y,k)=>({col:y,x:k}),Rv=y=>xf(y).left+Hg(y),Wg=y=>xf(y).left,ru=(y,k)=>Mr(y,Wg(k)),Xo=(y,k)=>Mr(y,Rv(k)),ia=y=>xf(y).top,Hu=(y,k)=>Am(y,ia(k)),rc=(y,k)=>Am(y,ia(k)+Dv(k)),$u=(y,k,T)=>{if(T.length===0)return[];const B=O(T.slice(1),(U,ne)=>U.map(se=>y(ne,se))),H=T[T.length-1].map(U=>k(T.length-1,U));return B.concat([H])},Uu={delta:te,positions:y=>$u(Hu,rc,y),edge:ia},aa=Vo({delta:te,edge:Wg,positions:y=>$u(ru,Xo,y)},{delta:y=>-y,edge:Rv,positions:y=>$u(Xo,ru,y)}),wf={delta:(y,k)=>aa(k).delta(y,k),positions:(y,k)=>aa(k).positions(y,k),edge:y=>aa(y).edge(y)},Tm={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Iv=(()=>{const y="[0-9]+",k="[eE][+-]?"+y,T=H=>`(?:${H})?`,B=["Infinity",y+"\\."+T(y)+T(k),"\\."+y+T(k),y+T(k)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),wi=/(\d+(\.\d+)?)%/,Zn=/(\d+(\.\d+)?)px|em/,Wu=fr("col"),Om=fr("tr"),la=(y,k,T)=>{const B=Bu(y).getOrThunk(()=>Jc(Mu(y)));return k(y)/T(B)*100},Zu=(y,k)=>{So(y,"width",k+"px")},Fl=(y,k)=>{So(y,"width",k+"%")},ju=(y,k)=>{So(y,"height",k+"px")},Nd=y=>{const k=(T=>{return bf(B=T,"height",B.dom.offsetHeight)+"px";var B})(y);return k?((T,B,H,U)=>{const ne=parseFloat(T);return rn(T,"%")&&Ft(B)!=="table"?((se,xe,Ie,je)=>{const De=hl(se).map(Pe=>{const He=Ie(Pe);return Math.floor(xe/100*He)}).getOr(xe);return je(se,De),De})(B,ne,H,U):ne})(k,y,Id,ju):Id(y)},Ci=(y,k)=>Xa(y,k).orThunk(()=>To(y,k).map(T=>T+"px")),sc=y=>Ci(y,"width"),su=y=>la(y,pl,Yo),Dm=y=>{return Wu(y)?pl(y):bf(k=y,"width",k.dom.offsetWidth);var k},Z1=y=>Om(y)?Id(y):((k,T,B)=>B(k)/Ed(k,"rowspan"))(y,0,Nd),Ku=(y,k,T)=>{So(y,"width",k+T)},Cf=y=>la(y,pl,Yo)+"%",Nv=W(wi),Cs=fr("col"),La=y=>sc(y).getOrThunk(()=>Dm(y)+"px"),Ea=y=>{return(k=y,Ci(k,"height")).getOrThunk(()=>Z1(y)+"px");var k},el=(y,k,T,B,H,U)=>y.filter(B).fold(()=>U(((ne,se)=>{if(se<0||se>=ne.length-1)return le.none();const xe=ne[se].fold(()=>{const je=(De=>{const Pe=Ze.call(De,0);return Pe.reverse(),Pe})(ne.slice(0,se));return J(je,(De,Pe)=>De.map(He=>({value:He,delta:Pe+1})))},je=>le.some({value:je,delta:0})),Ie=ne[se+1].fold(()=>{const je=ne.slice(se+1);return J(je,(De,Pe)=>De.map(He=>({value:He,delta:Pe+1})))},je=>le.some({value:je,delta:1}));return xe.bind(je=>Ie.map(De=>{const Pe=De.delta+je.delta;return Math.abs(De.value-je.value)/Pe}))})(T,k)),ne=>H(ne)),hi=(y,k,T,B)=>{const H=rp(y),U=Ec(y)?(xe=>O(Sc(xe),Ie=>le.from(Ie.element)))(y):H,ne=[le.some(wf.edge(k))].concat(O(wf.positions(H,k),xe=>xe.map(Ie=>Ie.x))),se=Ve($s);return O(U,(xe,Ie)=>el(xe,Ie,ne,se,je=>{if((Pe=>{const He=W1().browser,st=He.isChromium()||He.isFirefox();return!Cs(Pe)||st})(je))return T(je);{const Pe=(De=H[Ie])!=null?te(De):le.none();return el(Pe,Ie,ne,se,He=>B(le.some(pl(He))),B)}var De},B))},ip=y=>y.map(k=>k+"px").getOr(""),li=(y,k,T)=>hi(y,k,Dm,B=>B.getOrThunk(T.minCellWidth)),Wi=(y,k,T,B)=>{const H=Rd(y),U=O(y.all,se=>le.some(se.element)),ne=[le.some(Uu.edge(k))].concat(O(Uu.positions(H,k),se=>se.map(xe=>xe.y)));return O(U,(se,xe)=>el(se,xe,ne,we,T,B))},iu=(y,k)=>()=>Ya(y)?k(y):parseFloat(Xa(y,"width").getOr("0")),Dt=y=>{const k=iu(y,B=>parseFloat(Cf(B))),T=iu(y,pl);return{width:k,pixelWidth:T,getWidths:(B,H)=>((U,ne,se)=>hi(U,ne,su,xe=>xe.fold(()=>se.minCellWidth(),Ie=>Ie/se.pixelWidth()*100)))(B,y,H),getCellDelta:B=>B/T()*100,singleColumnWidth:(B,H)=>[100-B],minCellWidth:()=>Ml()/T()*100,setElementWidth:Fl,adjustTableWidth:B=>{const H=k();Fl(y,H+B/100*H)},isRelative:!0,label:"percent"}},Zi=y=>{const k=iu(y,pl);return{width:k,pixelWidth:k,getWidths:(T,B)=>li(T,y,B),getCellDelta:te,singleColumnWidth:(T,B)=>[Math.max(Ml(),T+B)-T],minCellWidth:Ml,setElementWidth:Zu,adjustTableWidth:T=>{const B=k()+T;Zu(y,B)},isRelative:!1,label:"pixel"}},ap=y=>sc(y).fold(()=>(k=>{const T=iu(k,pl),B=W(0);return{width:T,pixelWidth:T,getWidths:(H,U)=>li(H,k,U),getCellDelta:B,singleColumnWidth:W([0]),minCellWidth:B,setElementWidth:G,adjustTableWidth:G,isRelative:!0,label:"none"}})(y),k=>((T,B)=>Nv().exec(B)!==null?Dt(T):Zi(T))(y,k)),_s=Zi,Gu=Dt,Fa=(y,k,T)=>{const B=y[T].element,H=Kt.fromTag("td");hs(H,Kt.fromTag("br")),(k?hs:xm)(B,H)},Ac=((y,k)=>{const T=B=>y(B)?le.from(B.dom.nodeValue):le.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return T(B).getOr("")},getOption:T,set:(B,H)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=H}}})(Co),Rm=y=>Ac.get(y),tl=y=>Ac.getOption(y),Go=(y,k)=>Ac.set(y,k),Ws=y=>Ft(y)==="img"?1:tl(y).fold(()=>Ti(y).length,k=>k.length),_f=["img","br"],Fs=y=>tl(y).filter(k=>k.trim().length!==0||k.indexOf("")>-1).isSome()||Xe(_f,Ft(y))||(k=>Tn(k)&&hn(k,"contenteditable")==="false")(y),Zg=y=>((k,T)=>{const B=H=>{for(let U=0;U<H.childNodes.length;U++){const ne=Kt.fromDom(H.childNodes[U]);if(T(ne))return le.some(ne);const se=B(H.childNodes[U]);if(se.isSome())return se}return le.none()};return B(k.dom)})(y,Fs),au=y=>j1(y,Fs),j1=(y,k)=>{const T=B=>{const H=Ti(B);for(let U=H.length-1;U>=0;U--){const ne=H[U];if(k(ne))return le.some(ne);const se=T(ne);if(se.isSome())return se}return le.none()};return T(y)},Ds={scope:["row","col"]},it=y=>()=>{const k=Kt.fromTag("td",y.dom);return hs(k,Kt.fromTag("br",y.dom)),k},Va=y=>()=>Kt.fromTag("col",y.dom),Zs=y=>()=>Kt.fromTag("colgroup",y.dom),Gl=y=>()=>Kt.fromTag("tr",y.dom),Tc=(y,k,T)=>{const B=((H,U)=>{const ne=Xc(H,U),se=Ti(Yc(H));return Il(ne,se),ne})(y,k);return tn(T,(H,U)=>{H===null?bo(B,U):mr(B,U,H)}),B},ti=y=>y,es=(y,k,T)=>{const B=(H,U)=>{((ne,se)=>{const xe=ne.dom,Ie=se.dom;Ko(xe)&&Ko(Ie)&&(Ie.style.cssText=xe.style.cssText)})(H.element,U),gl(U,"height"),H.colspan!==1&&gl(U,"width")};return{col:H=>{const U=Kt.fromTag(Ft(H.element),k.dom);return B(H,U),y(H.element,U),U},colgroup:Zs(k),row:Gl(k),cell:H=>{const U=Kt.fromTag(Ft(H.element),k.dom),ne=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),se=ne.length>0?((xe,Ie,je)=>Zg(xe).map(De=>{const Pe=je.join(","),He=ka(De,Pe,st=>$r(st,xe));return Jt(He,(st,at)=>{const Ot=Cm(at);return hs(st,Ot),Ot},Ie)}).getOr(Ie))(H.element,U,ne):U;return hs(se,Kt.fromTag("br")),B(H,U),((xe,Ie)=>{tn(Ds,(je,De)=>To(xe,De).filter(Pe=>Xe(je,Pe)).each(Pe=>mr(Ie,De,Pe)))})(H.element,U),y(H.element,U),U},replace:Tc,colGap:Va(k),gap:it(k)}},Rr=y=>({col:Va(y),colgroup:Zs(y),row:Gl(y),cell:it(y),replace:ti,colGap:Va(y),gap:it(y)}),za=y=>k=>k.options.get(y),ql="100%",lu=y=>{var k;const T=y.dom,B=(k=T.getParent(y.selection.getStart(),T.isBlock))!==null&&k!==void 0?k:y.getBody();return Yo(Kt.fromDom(B))+"px"},Pd=y=>le.from(y.options.get("table_clone_elements")),Im=za("table_header_type"),jg=za("table_column_resizing"),Kg=y=>jg(y)==="preservetable",Pv=y=>jg(y)==="resizetable",Mv=za("table_sizing_mode"),qu=y=>Mv(y)==="relative",P=y=>Mv(y)==="fixed",Z=y=>Mv(y)==="responsive",re=za("table_resize_bars"),Re=za("table_style_by_css"),We=za("table_merge_content_on_paste"),Rt=y=>{const k=y.options,T=k.get("table_default_attributes");return k.isSet("table_default_attributes")?T:((B,H)=>Z(B)||Re(B)?H:P(B)?{...H,width:lu(B)}:{...H,width:ql})(y,T)},Kn=za("table_use_colgroups"),po=y=>Qe(y,"[contenteditable]"),lo=(y,k=!1)=>Ya(y)?y.dom.isContentEditable:po(y).fold(W(k),T=>On(T)==="true"),On=y=>y.dom.contentEditable,xr=y=>Kt.fromDom(y.getBody()),js=y=>k=>$r(k,xr(y)),ks=y=>{bo(y,"data-mce-style");const k=T=>bo(T,"data-mce-style");Ge(Os(y),k),Ge(kc(y),k),Ge(Jr(y),k)},Oc=y=>Kt.fromDom(y.selection.getStart()),Nm=y=>y.getBoundingClientRect().width,Pm=y=>y.getBoundingClientRect().height,pi=y=>(k,T)=>{const B=k.dom.getStyle(T,y)||k.dom.getAttrib(T,y);return le.from(B).filter(Lo)},yC=pi("width"),Bv=pi("height"),K1=y=>ot(y,fr("table")).exists(lo),ca=(y,k)=>{const T=k.column,B=k.column+k.colspan-1,H=k.row,U=k.row+k.rowspan-1;return T<=y.finishCol&&B>=y.startCol&&H<=y.finishRow&&U>=y.startRow},Rs=(y,k)=>k.column>=y.startCol&&k.column+k.colspan-1<=y.finishCol&&k.row>=y.startRow&&k.row+k.rowspan-1<=y.finishRow,Di=(y,k,T)=>{const B=Dd(y,k,$r),H=Dd(y,T,$r);return B.bind(U=>H.map(ne=>{return se=U,xe=ne,{startRow:Math.min(se.row,xe.row),startCol:Math.min(se.column,xe.column),finishRow:Math.max(se.row+se.rowspan-1,xe.row+xe.rowspan-1),finishCol:Math.max(se.column+se.colspan-1,xe.column+xe.colspan-1)};var se,xe}))},Yu=(y,k,T)=>Di(y,k,T).map(B=>{const H=Ui(y,ce(ca,B));return O(H,U=>U.element)}),lp=(y,k)=>Dd(y,k,(T,B)=>ei(B,T)).map(T=>T.element),ax=(y,k,T)=>{const B=bl(y);return Yu(B,k,T)},ic=(y,k,T,B,H)=>{const U=bl(y),ne=$r(y,T)?le.some(k):lp(U,k),se=$r(y,H)?le.some(B):lp(U,B);return ne.bind(xe=>se.bind(Ie=>Yu(U,xe,Ie)))},bl=Io;var Lv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],kf=()=>({up:W({selector:Ne,closest:Qe,predicate:Te,all:Dr}),down:W({selector:Pr,predicate:_a}),styles:W({get:ta,getRaw:Xa,set:So,remove:gl}),attrs:W({get:hn,set:mr,remove:bo,copyTo:(y,k)=>{const T=rs(y);As(k,T)}}),insert:W({before:sn,after:Fu,afterAll:qa,append:hs,appendAll:Il,prepend:xm,wrap:wm}),remove:W({unwrap:Ca,remove:ls}),create:W({nu:Kt.fromTag,clone:y=>Kt.fromDom(y.dom.cloneNode(!1)),text:Kt.fromText}),query:W({comparePosition:(y,k)=>y.dom.compareDocumentPosition(k.dom),prevSibling:ao,nextSibling:Kl}),property:W({children:Ti,name:Ft,parent:fl,document:y=>_c(y).dom,isText:Co,isComment:cn,isElement:Dn,isSpecial:y=>{const k=Ft(y);return Xe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],k)},getLanguage:y=>Dn(y)?To(y,"lang"):le.none(),getText:Rm,setText:Go,isBoundary:y=>!!Dn(y)&&(Ft(y)==="body"||Xe(Lv,Ft(y))),isEmptyTag:y=>!!Dn(y)&&Xe(["br","img","hr","input"],Ft(y)),isNonEditable:y=>Dn(y)&&hn(y,"contenteditable")==="false"}),eq:$r,is:ym});const aE=(y,k,T,B)=>{const H=k(y,T);return Jt(B,(U,ne)=>{const se=k(y,ne);return Fv(y,U,se)},H)},Fv=(y,k,T)=>k.bind(B=>T.filter(ce(y.eq,B))),Md=kf(),Sf=(y,k)=>((T,B,H)=>H.length>0?((U,ne,se,xe)=>xe(U,ne,se[0],se.slice(1)))(T,B,H,aE):le.none())(Md,(T,B)=>y(B),k),An=y=>Ne(y,"table"),cu=(y,k,T)=>{const B=H=>U=>T!==void 0&&T(U)||$r(U,H);return $r(y,k)?le.some({boxes:le.some([y]),start:y,finish:k}):An(y).bind(H=>An(k).bind(U=>{if($r(H,U))return le.some({boxes:ax(H,y,k),start:y,finish:k});if(ei(H,U)){const ne=ka(k,"td,th",B(H)),se=ne.length>0?ne[ne.length-1]:k;return le.some({boxes:ic(H,y,H,k,U),start:y,finish:se})}if(ei(U,H)){const ne=ka(y,"td,th",B(U)),se=ne.length>0?ne[ne.length-1]:y;return le.some({boxes:ic(U,y,H,k,U),start:y,finish:se})}return((ne,se,xe)=>((Ie,je,De,Pe=ee)=>{const He=[je].concat(Ie.up().all(je)),st=[De].concat(Ie.up().all(De)),at=Pt=>Lt(Pt,Pe).fold(()=>Pt,Gt=>Pt.slice(0,Gt+1)),Ot=at(He),It=at(st),Tt=pt(Ot,Pt=>Ee(It,((Gt,Qt)=>ce(Gt.eq,Qt))(Ie,Pt)));return{firstpath:Ot,secondpath:It,shared:Tt}})(Md,ne,se,void 0))(y,k).shared.bind(ne=>Qe(ne,"table",T).bind(se=>{const xe=ka(k,"td,th",B(se)),Ie=xe.length>0?xe[xe.length-1]:k,je=ka(y,"td,th",B(se)),De=je.length>0?je[je.length-1]:y;return le.some({boxes:ic(se,y,H,k,U),start:De,finish:Ie})}))}))},Vv=(y,k)=>{const T=Pr(y,k);return T.length>0?le.some(T):le.none()},Ef=(y,k,T)=>ut(y,k).bind(B=>ut(y,T).bind(H=>Sf(An,[B,H]).map(U=>({first:B,last:H,table:U})))),ua=(y,k,T,B,H)=>((U,ne)=>pt(U,se=>gi(se,ne)))(y,H).bind(U=>((ne,se,xe)=>hl(ne).bind(Ie=>((je,De,Pe,He)=>Dd(je,De,$r).bind(st=>{const at=Pe>0?st.row+st.rowspan-1:st.row,Ot=He>0?st.column+st.colspan-1:st.column;return vl(je,at+Pe,Ot+He).map(It=>It.element)}))(bl(Ie),ne,se,xe)))(U,k,T).bind(ne=>((se,xe)=>Ne(se,"table").bind(Ie=>ut(Ie,xe).bind(je=>cu(je,se).bind(De=>De.boxes.map(Pe=>({boxes:Pe,start:De.start,finish:De.finish}))))))(ne,B))),Dc=(y,k)=>Vv(y,k),Gg=(y,k,T)=>Ef(y,k,T).bind(B=>{const H=xe=>$r(y,xe),U="thead,tfoot,tbody,table",ne=Ne(B.first,U,H),se=Ne(B.last,U,H);return ne.bind(xe=>se.bind(Ie=>$r(xe,Ie)?((je,De,Pe)=>((He,st,at)=>Di(He,st,at).bind(Ot=>((It,Tt)=>{let Pt=!0;const Gt=ce(Rs,Tt);for(let Qt=Tt.startRow;Qt<=Tt.finishRow;Qt++)for(let lt=Tt.startCol;lt<=Tt.finishCol;lt++)Pt=Pt&&vl(It,Qt,lt).exists(Gt);return Pt?le.some(Tt):le.none()})(He,Ot)))(bl(je),De,Pe))(B.table,B.first,B.last):le.none()))}),Af=te,G1=y=>{const k=(T,B)=>To(T,B).exists(H=>parseInt(H,10)>1);return y.length>0&&Mt(y,T=>k(T,"rowspan")||k(T,"colspan"))?le.some(y):le.none()},uu=(y,k,T)=>k.length<=1?le.none():Gg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(B=>({bounds:B,cells:k})),cp="data-mce-selected",up="data-mce-first-selected",Ut="data-mce-last-selected",lx="["+cp+"]",Tf={selected:cp,selectedSelector:"td["+cp+"],th["+cp+"]",firstSelected:up,firstSelectedSelector:"td["+up+"],th["+up+"]",lastSelected:Ut,lastSelectedSelector:"td["+Ut+"],th["+Ut+"]"},Ao=(y,k,T)=>({element:T,mergable:uu(k,y,Tf),unmergable:G1(y),selection:Af(y)}),Nn=y=>(k,T)=>{const B=Ft(k),H=B==="col"||B==="colgroup"?hl(U=k).bind(ne=>Dc(ne,Tf.firstSelectedSelector)).fold(W(U),ne=>ne[0]):k;var U;return Qe(H,y,T)},Of=Nn("th,td,caption"),ps=Nn("th,td"),Rc=y=>{return k=y.model.table.getSelectedCells(),O(k,Kt.fromDom);var k},Ic=(y,k)=>{y.on("BeforeGetContent",T=>{const B=H=>{T.preventDefault(),(U=>hl(U[0]).map(ne=>{const se=((xe,Ie)=>{const je=Pt=>gi(Pt.element,Ie),De=Yc(xe),Pe=Fg(De),He=ap(xe),st=ai(Pe),at=((Pt,Gt)=>{const Qt=Pt.grid.columns;let lt=Pt.grid.rows,yn=Qt,Xn=0,xo=0;const ro=[],Jn=[];return tn(Pt.access,yo=>{if(ro.push(yo),Gt(yo)){Jn.push(yo);const qo=yo.row,oi=qo+yo.rowspan-1,Ta=yo.column,Gi=Ta+yo.colspan-1;qo<lt?lt=qo:oi>Xn&&(Xn=oi),Ta<yn?yn=Ta:Gi>xo&&(xo=Gi)}}),((yo,qo,oi,Ta,Gi,uc)=>({minRow:yo,minCol:qo,maxRow:oi,maxCol:Ta,allCells:Gi,selectedCells:uc}))(lt,yn,Xn,xo,ro,Jn)})(st,je),Ot="th:not("+Ie+"),td:not("+Ie+")",It=km(De,"th,td",Pt=>gi(Pt,Ot));Ge(It,ls),((Pt,Gt,Qt,lt)=>{const yn=$t(Pt,ro=>ro.section!=="colgroup"),Xn=Gt.grid.columns,xo=Gt.grid.rows;for(let ro=0;ro<xo;ro++){let Jn=!1;for(let yo=0;yo<Xn;yo++)ro<Qt.minRow||ro>Qt.maxRow||yo<Qt.minCol||yo>Qt.maxCol||(vl(Gt,ro,yo).filter(lt).isNone()?Fa(yn,Jn,ro):Jn=!0)}})(Pe,st,at,je);const Tt=((Pt,Gt,Qt,lt)=>{if(lt.minCol===0&&Gt.grid.columns===lt.maxCol+1)return 0;const yn=li(Gt,Pt,Qt),Xn=tt(yn,(Jn,yo)=>Jn+yo,0),xo=tt(yn.slice(lt.minCol,lt.maxCol+1),(Jn,yo)=>Jn+yo,0),ro=xo/Xn*Qt.pixelWidth()-Qt.pixelWidth();return Qt.getCellDelta(ro)})(xe,Io(xe),He,at);return((Pt,Gt,Qt,lt)=>{tn(Qt.columns,Xn=>{(Xn.column<Gt.minCol||Xn.column>Gt.maxCol)&&ls(Xn.element)});const yn=$t(Vu(Pt,"tr"),Xn=>Xn.dom.childElementCount===0);Ge(yn,ls),Gt.minCol!==Gt.maxCol&&Gt.minRow!==Gt.maxRow||Ge(Vu(Pt,"th,td"),Xn=>{bo(Xn,"rowspan"),bo(Xn,"colspan")}),bo(Pt,Em),bo(Pt,"data-snooker-col-series"),ap(Pt).adjustTableWidth(lt)})(De,at,st,Tt),De})(ne,lx);return ks(se),[se]}))(H).each(U=>{T.content=T.format==="text"?(ne=>O(ne,se=>se.dom.innerText).join(""))(U):((ne,se)=>O(se,xe=>ne.selection.serializer.serialize(xe.dom,{})).join(""))(y,U)})};if(T.selection===!0){const H=(U=>$t(Rc(U),ne=>gi(ne,Tf.selectedSelector)))(y);H.length>=1&&B(H)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const B=Rc(y);fn(B).each(H=>{hl(H).each(U=>{const ne=$t(((xe,Ie)=>{const je=document.createElement("div");return je.innerHTML=xe,Ti(Kt.fromDom(je))})(T.content),xe=>Ft(xe)!=="meta"),se=fr("table");if(We(y)&&ne.length===1&&se(ne[0])){T.preventDefault();const xe=Kt.fromDom(y.getDoc()),Ie=Rr(xe),je=((De,Pe,He)=>({element:De,clipboard:Pe,generators:He}))(H,ne[0],Ie);k.pasteCells(U,je).each(()=>{y.focus()})}})})}})},fo=(y,k)=>({element:y,offset:k}),dp=(y,k,T)=>y.property().isText(k)&&y.property().getText(k).trim().length===0||y.property().isComment(k)?T(k).bind(B=>dp(y,B,T).orThunk(()=>le.some(B))):le.none(),xC=(y,k)=>y.property().isText(k)?y.property().getText(k).length:y.property().children(k).length,St=(y,k)=>{const T=dp(y,k,y.query().prevSibling).getOr(k);if(y.property().isText(T))return fo(T,xC(y,T));const B=y.property().children(T);return B.length>0?St(y,B[B.length-1]):fo(T,xC(y,T))},cx=St,fp=kf(),mp=(y,k)=>{$s(y)||(B=>sc(B).bind(H=>{return U=H,ne=["fixed","relative","empty"],le.from(Iv.exec(U)).bind(se=>{const xe=Number(se[1]),Ie=se[2];return((je,De)=>Ee(De,Pe=>Ee(Tm[Pe],He=>je===He)))(Ie,ne)?le.some({value:xe,unit:Ie}):le.none()});var U,ne}))(y).each(B=>{const H=B.value/2;Ku(y,H,B.unit),Ku(k,H,B.unit)})},qg=y=>O(y,W(0)),Mm=(y,k,T,B,H)=>H(y.slice(0,k)).concat(B).concat(H(y.slice(T))),wC=y=>(k,T,B,H)=>{if(y(B)){const U=Math.max(H,k[T]-Math.abs(B)),ne=Math.abs(U-k[T]);return B>=0?ne:-ne}return B},Df=wC(y=>y<0),ss=wC(we),Xu=()=>{const y=(T,B,H,U)=>{const ne=(100+H)/100,se=Math.max(U,(T[B]+H)/ne);return O(T,(xe,Ie)=>(Ie===B?se:xe/ne)-xe)},k=(T,B,H,U,ne,se)=>se?y(T,B,U,ne):((xe,Ie,je,De,Pe)=>{const He=Df(xe,Ie,De,Pe);return Mm(xe,Ie,je+1,[He,0],qg)})(T,B,H,U,ne);return{resizeTable:(T,B)=>T(B),clampTableDelta:Df,calcLeftEdgeDeltas:k,calcMiddleDeltas:(T,B,H,U,ne,se,xe)=>k(T,H,U,ne,se,xe),calcRightEdgeDeltas:(T,B,H,U,ne,se)=>{if(se)return y(T,H,U,ne);{const xe=Df(T,H,U,ne);return qg(T.slice(0,H)).concat([xe])}},calcRedestributedWidths:(T,B,H,U)=>{if(U){const ne=(B+H)/B,se=O(T,xe=>xe/ne);return{delta:100*ne-100,newSizes:se}}return{delta:H,newSizes:T}}}},q1=()=>{const y=(k,T,B,H,U)=>{const ne=ss(k,H>=0?B:T,H,U);return Mm(k,T,B+1,[ne,-ne],qg)};return{resizeTable:(k,T,B)=>{B&&k(T)},clampTableDelta:(k,T,B,H,U)=>{if(U){if(B>=0)return B;{const ne=tt(k,(se,xe)=>se+xe-H,0);return Math.max(-ne,B)}}return Df(k,T,B,H)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(k,T,B,H,U,ne)=>y(k,B,H,U,ne),calcRightEdgeDeltas:(k,T,B,H,U,ne)=>{if(ne)return qg(k);{const se=H/k.length;return O(k,W(se))}},calcRedestributedWidths:(k,T,B,H)=>({delta:0,newSizes:k})}},du=y=>Io(y).grid,Bm=fr("th"),ac=y=>Mt(y,k=>Bm(k.element)),Ks=(y,k)=>y&&k?"sectionCells":y?"section":"cells",zv=y=>{const k=y.section==="thead",T=Wt(Ri(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:k||T?{type:"header",subType:Ks(k,T)}:{type:"body"}},Ri=y=>{const k=$t(y,T=>Bm(T.element));return k.length===0?le.some("td"):k.length===y.length?le.some("th"):le.none()},Y1=(y,k,T)=>Ls(T(y.element,k),!0,y.isLocked),Nc=(y,k)=>y.section!==k?ii(y.element,y.cells,k,y.isNew):y,Ii=()=>({transformRow:Nc,transformCell:(y,k,T)=>{const B=T(y.element,k),H=Ft(B)!=="td"?((U,ne)=>{const se=Xc(U,"td");Fu(U,se);const xe=Ti(U);return Il(se,xe),ls(U),se})(B):B;return Ls(H,y.isNew,y.isLocked)}}),Zt=()=>({transformRow:Nc,transformCell:Y1}),Lm=()=>({transformRow:(y,k)=>Nc(y,k==="thead"?"tbody":k),transformCell:Y1}),Ni=Ii,CC=Zt,_C=Lm,lE=()=>({transformRow:te,transformCell:Y1}),Bd=(y,k,T,B)=>{T===B?bo(y,k):mr(y,k,T)},Yg=(y,k,T)=>{kn(Qc(y,k)).fold(()=>xm(y,T),B=>Fu(B,T))},Hv=(y,k)=>{const T=[],B=[],H=Pe=>O(Pe,He=>{He.isNew&&T.push(He.element);const st=He.element;return ml(st),Ge(He.cells,at=>{at.isNew&&B.push(at.element),Bd(at.element,"colspan",at.colspan,1),Bd(at.element,"rowspan",at.rowspan,1),hs(st,at.element)}),st}),U=Pe=>Ye(Pe,He=>O(He.cells,st=>(Bd(st.element,"span",st.colspan,1),st.element))),ne=(Pe,He)=>{const st=((Ot,It)=>{const Tt=mt(Ot,It).getOrThunk(()=>{const Pt=Kt.fromTag(It,Mu(Ot).dom);return It==="thead"?Yg(Ot,"caption,colgroup",Pt):It==="colgroup"?Yg(Ot,"caption",Pt):hs(Ot,Pt),Pt});return ml(Tt),Tt})(y,He),at=(He==="colgroup"?U:H)(Pe);Il(st,at)},se=(Pe,He)=>{Pe.length>0?ne(Pe,He):(st=>{mt(y,st).each(ls)})(He)},xe=[],Ie=[],je=[],De=[];return Ge(k,Pe=>{switch(Pe.section){case"thead":xe.push(Pe);break;case"tbody":Ie.push(Pe);break;case"tfoot":je.push(Pe);break;case"colgroup":De.push(Pe)}}),se(De,"colgroup"),se(xe,"thead"),se(Ie,"tbody"),se(je,"tfoot"),{newRows:T,newCells:B}},X1=(y,k)=>{if(y.length===0)return 0;const T=y[0];return Lt(y,B=>!k(T.element,B.element)).getOr(y.length)},ux=(y,k)=>{const T=O(y,B=>O(B.cells,ee));return O(y,(B,H)=>{const U=Ye(B.cells,(ne,se)=>{if(T[H][se]===!1){const Pe=((He,st,at,Ot)=>{const It=((Qt,lt)=>Qt[lt])(He,st),Tt=It.section==="colgroup",Pt=X1(It.cells.slice(at),Ot),Gt=Tt?1:X1(((Qt,lt)=>O(Qt,yn=>Us(yn,lt)))(He.slice(st),at),Ot);return{colspan:Pt,rowspan:Gt}})(y,H,se,k);return((He,st,at,Ot)=>{for(let It=He;It<He+at;It++)for(let Tt=st;Tt<st+Ot;Tt++)T[It][Tt]=!0})(H,se,Pe.rowspan,Pe.colspan),[(xe=ne.element,Ie=Pe.rowspan,je=Pe.colspan,De=ne.isNew,{element:xe,rowspan:Ie,colspan:je,isNew:De})]}return[];var xe,Ie,je,De});return((ne,se,xe,Ie)=>({element:ne,cells:se,section:xe,isNew:Ie}))(B.element,U,B.section,B.isNew)})},Ss=(y,k,T)=>{const B=[];Ge(y.colgroups,H=>{const U=[];for(let ne=0;ne<y.grid.columns;ne++){const se=Tr(y,ne).map(xe=>Ls(xe.element,T,!1)).getOrThunk(()=>Ls(k.colGap(),!0,!1));U.push(se)}B.push(ii(H.element,U,"colgroup",T))});for(let H=0;H<y.grid.rows;H++){const U=[];for(let xe=0;xe<y.grid.columns;xe++){const Ie=vl(y,H,xe).map(je=>Ls(je.element,T,je.isLocked)).getOrThunk(()=>Ls(k.gap(),!0,!1));U.push(Ie)}const ne=y.all[H],se=ii(ne.element,U,ne.section,T);B.push(se)}return B},$v=y=>ux(y,$r),Is=(y,k)=>J(y.all,T=>pt(T.cells,B=>$r(k,B.element))),nl=(y,k,T)=>{const B=O(k.selection,U=>tp(U).bind(ne=>Is(y,ne)).filter(T)),H=nn(B);return un(H.length>0,H)},Gs=(y,k,T,B,H)=>(U,ne,se,xe)=>{const Ie=Io(U),je=le.from(xe==null?void 0:xe.section).getOrThunk(lE);return k(Ie,ne).map(De=>{const Pe=((at,Ot)=>Ss(at,Ot,!1))(Ie,se),He=y(Pe,De,$r,H(se),je),st=Ma(He.grid);return{info:De,grid:$v(He.grid),cursor:He.cursor,lockedColumns:st}}).bind(De=>{const Pe=Hv(U,De.grid),He=le.from(xe==null?void 0:xe.sizing).getOrThunk(()=>ap(U)),st=le.from(xe==null?void 0:xe.resize).getOrThunk(q1);return T(U,De.grid,De.info,{sizing:He,resize:st,section:je}),B(U),bo(U,Em),De.lockedColumns.length>0&&mr(U,Em,De.lockedColumns.join(",")),le.some({cursor:De.cursor,newRows:Pe.newRows,newCells:Pe.newCells})})},lc=(y,k)=>nl(y,k,we).map(T=>({cells:T,generators:k.generators,clipboard:k.clipboard})),Ld=(y,k)=>nl(y,k,we),ji=(y,k)=>nl(y,k,T=>!T.isLocked),Uv=(y,k)=>Mt(k,T=>((B,H)=>Is(B,H).exists(U=>!U.isLocked))(y,T)),gp=(y,k,T,B)=>{const H=Qr(y).rows;let U=!0;for(let ne=0;ne<H.length;ne++)for(let se=0;se<$i(H[0]);se++){const xe=H[ne],Ie=Us(xe,se),je=T(Ie.element,k);je&&!U?Ug(xe,se,Ls(B(),!0,Ie.isLocked)):je&&(U=!1)}return y},Rf=y=>{const k=U=>U(y),T=W(y),B=()=>H,H={tag:!0,inner:y,fold:(U,ne)=>ne(y),isValue:we,isError:ee,map:U=>hp.value(U(y)),mapError:B,bind:k,exists:k,forall:k,getOr:T,or:B,getOrThunk:T,orThunk:B,getOrDie:T,each:U=>{U(y)},toOptional:()=>le.some(y)};return H},kC=y=>{const k=()=>T,T={tag:!1,inner:y,fold:(H,U)=>H(y),isValue:ee,isError:we,map:k,mapError:H=>hp.error(H(y)),bind:k,exists:ee,forall:we,getOr:te,or:te,getOrThunk:Ce,orThunk:Ce,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:G,toOptional:le.none};var B;return T},hp={value:Rf,error:kC,fromOption:(y,k)=>y.fold(()=>kC(k),Rf)},dx=(y,k)=>({rowDelta:0,colDelta:$i(y[0])-$i(k[0])}),J1=(y,k)=>({rowDelta:y.length-k.length,colDelta:0}),Wv=(y,k,T,B)=>{const H=k.section==="colgroup"?T.col:T.cell;return Fe(y,U=>Ls(H(),!0,B(U)))},Q1=(y,k,T,B)=>{const H=y[y.length-1];return y.concat(Fe(k,()=>{const U=H.section==="colgroup"?T.colgroup:T.row,ne=yf(H,U,te),se=Wv(ne.cells.length,ne,T,xe=>Le(B,xe.toString()));return Pa(ne,se)}))},fx=(y,k,T,B)=>O(y,H=>{const U=Wv(k,H,T,ee);return Td(H,B,U)}),Fm=(y,k,T)=>{const B=k.colDelta<0?fx:te,H=k.rowDelta<0?Q1:te,U=Ma(y),ne=$i(y[0]),se=Ee(U,je=>je===ne-1),xe=B(y,Math.abs(k.colDelta),T,se?ne-1:ne),Ie=Ma(xe);return H(xe,Math.abs(k.rowDelta),T,oo(Ie,we))},cE=(y,k,T,B)=>{const H=ce(B,Us(y[k],T).element),U=y[k];return y.length>1&&$i(U)>1&&(T>0&&H(us(U,T-1))||T<U.cells.length-1&&H(us(U,T+1))||k>0&&H(us(y[k-1],T))||k<y.length-1&&H(us(y[k+1],T)))},e0=(y,k,T)=>$t(T,B=>B>=y.column&&B<=$i(k[0])+y.column),t0=(y,k,T,B,H)=>{((Ie,je,De,Pe)=>{je>0&&je<Ie[0].cells.length&&Ge(Ie,He=>{const st=He.cells[je-1];let at=0;const Ot=Pe();for(;He.cells.length>je+at&&De(st.element,He.cells[je+at].element);)Ug(He,je+at,Ls(Ot,!0,He.cells[je+at].isLocked)),at++})})(k,y,H,B.cell);const U=J1(T,k),ne=Fm(T,U,B),se=J1(k,ne),xe=Fm(k,se,B);return O(xe,(Ie,je)=>Td(Ie,y,ne[je].cells))},mx=(y,k,T,B,H)=>{((Tt,Pt,Gt,Qt)=>{const lt=Qr(Tt).rows;if(Pt>0&&Pt<lt.length){const yn=((Xn,xo)=>tt(Xn,(ro,Jn)=>Ee(ro,yo=>xo(yo.element,Jn.element))?ro:ro.concat([Jn]),[]))(lt[Pt-1].cells,Gt);Ge(yn,Xn=>{let xo=le.none();for(let ro=Pt;ro<lt.length;ro++)for(let Jn=0;Jn<$i(lt[0]);Jn++){const yo=lt[ro],qo=Us(yo,Jn);Gt(qo.element,Xn.element)&&(xo.isNone()&&(xo=le.some(Qt())),xo.each(oi=>{Ug(yo,Jn,Ls(oi,!0,qo.isLocked))}))}})}})(k,y,H,B.cell);const U=Ma(k),ne=dx(k,T),se={...ne,colDelta:ne.colDelta-U.length},xe=Fm(k,se,B),{cols:Ie,rows:je}=Qr(xe),De=Ma(xe),Pe=dx(T,k),He={...Pe,colDelta:Pe.colDelta+De.length},st=(Ot=B,It=De,O(T,Tt=>tt(It,(Pt,Gt)=>{const Qt=Wv(1,Tt,Ot,we)[0];return $g(Pt,Gt,Qt)},Tt))),at=Fm(st,He,B);var Ot,It;return[...Ie,...je.slice(0,y),...at,...je.slice(y,je.length)]},gx=(y,k,T,B,H)=>{const{rows:U,cols:ne}=Qr(y),se=U.slice(0,k),xe=U.slice(k);return[...ne,...se,((Ie,je,De,Pe)=>yf(Ie,He=>Pe(He,De),je))(U[T],(Ie,je)=>k>0&&k<U.length&&B(us(U[k-1],je),us(U[k],je))?Us(U[k],je):Ls(H(Ie.element,B),!0,Ie.isLocked),B,H),...xe]},Zv=(y,k,T,B,H)=>O(y,U=>{const ne=k>0&&k<$i(U)&&B(us(U,k-1),us(U,k)),se=((xe,Ie,je,De,Pe,He,st)=>{if(je!=="colgroup"&&De)return Us(xe,Ie);{const at=Us(xe,Pe);return Ls(st(at.element,He),!0,!1)}})(U,k,U.section,ne,T,B,H);return $g(U,k,se)}),hx=(y,k,T,B)=>((H,U,ne,se)=>us(H[U],ne)!==void 0&&U>0&&se(us(H[U-1],ne),us(H[U],ne)))(y,k,T,B)||((H,U,ne)=>U>0&&ne(us(H,U-1),us(H,U)))(y[k],T,B),px=(y,k,T,B)=>{const H=U=>(ne=>ne==="row"?(se=>Ed(se,"rowspan")>1)(k):$s(k))(U)?`${U}group`:U;return y?Bm(k)?H(T):null:B&&Bm(k)?H(T==="row"?"col":"row"):null},jv=(y,k,T)=>Ls(T(y.element,k),!0,y.isLocked),pp=(y,k,T,B,H,U,ne)=>O(y,(se,xe)=>((Ie,je)=>{const De=Ie.cells,Pe=O(De,(He,st)=>{if((at=>Ee(k,Ot=>T(at.element,Ot.element)))(He)){const at=ne(He,xe,st)?H(He,T,B):He;return U(at,xe,st).each(Ot=>{var It,Tt;It=at.element,Tt={scope:le.from(Ot)},tn(Tt,(Pt,Gt)=>{Pt.fold(()=>{bo(It,Gt)},Qt=>{as(It.dom,Gt,Qt)})})}),at}return He});return ii(Ie.element,Pe,Ie.section,Ie.isNew)})(se)),vx=(y,k,T)=>Ye(y,(B,H)=>hx(y,H,k,T)?[]:[Us(B,k)]),Kv=(y,k,T,B,H)=>{const U=Qr(y).rows,ne=Ye(k,je=>vx(U,je,B)),se=O(U,je=>ac(je.cells)),xe=((je,De)=>Mt(De,te)&&ac(je)?we:(Pe,He,st)=>!(Ft(Pe.element)==="th"&&De[He]))(ne,se);return pp(y,ne,B,H,jv,((je,De)=>(Pe,He)=>le.some(px(je,Pe.element,"row",De[He])))(T,se),xe)},Gv=(y,k,T,B)=>{const H=Qr(y).rows,U=O(k,ne=>Us(H[ne.row],ne.column));return pp(y,U,T,B,jv,le.none,we)},Vm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const k=[],T={};return Ge(y,(B,H)=>{const U=Cr(B);if(U.length!==1)throw new Error("one and only one name per case");const ne=U[0],se=B[ne];if(T[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(se))throw new Error("case arguments must be an array");k.push(ne),T[ne]=(...xe)=>{const Ie=xe.length;if(Ie!==se.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+se.length+" ("+se+"), got "+Ie);return{fold:(...je)=>{if(je.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+je.length);return je[H].apply(null,xe)},match:je=>{const De=Cr(je);if(k.length!==De.length)throw new Error("Wrong number of arguments to match. Expected: "+k.join(",")+`
Actual: `+De.join(","));if(!Mt(k,Pe=>Xe(De,Pe)))throw new Error("Not all branches were specified when using match. Specified: "+De.join(", ")+`
Required: `+k.join(", "));return je[ne].apply(null,xe)},log:je=>{console.log(je,{constructors:k,constructor:ne,params:xe})}}}}),T},vp={...Vm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},bx=(y,k,T)=>{const B=((H,U)=>Ec(H)?((ne,se)=>{const xe=Sc(ne);return O(xe,(Ie,je)=>({element:Ie.element,width:se[je],colspan:Ie.colspan}))})(H,U):((ne,se)=>{const xe=Vn(ne);return O(xe,Ie=>{const je=((De,Pe,He)=>{let st=0;for(let at=De;at<Pe;at++)st+=He[at]!==void 0?He[at]:0;return st})(Ie.column,Ie.column+Ie.colspan,se);return{element:Ie.element,width:je,colspan:Ie.colspan}})})(H,U))(y,k);Ge(B,H=>{T.setElementWidth(H.element,H.width)})},Fd=(y,k,T,B,H)=>{const U=Io(y),ne=H.getCellDelta(k),se=H.getWidths(U,H),xe=T===U.grid.columns-1,Ie=B.clampTableDelta(se,T,ne,H.minCellWidth(),xe),je=((Pe,He,st,at,Ot)=>{const It=Pe.slice(0),Tt=((Gt,Qt)=>Gt.length===0?vp.none():Gt.length===1?vp.only(0):Qt===0?vp.left(0,1):Qt===Gt.length-1?vp.right(Qt-1,Qt):Qt>0&&Qt<Gt.length-1?vp.middle(Qt-1,Qt,Qt+1):vp.none())(Pe,He),Pt=W(O(It,W(0)));return Tt.fold(Pt,Gt=>at.singleColumnWidth(It[Gt],st),(Gt,Qt)=>Ot.calcLeftEdgeDeltas(It,Gt,Qt,st,at.minCellWidth(),at.isRelative),(Gt,Qt,lt)=>Ot.calcMiddleDeltas(It,Gt,Qt,lt,st,at.minCellWidth(),at.isRelative),(Gt,Qt)=>Ot.calcRightEdgeDeltas(It,Gt,Qt,st,at.minCellWidth(),at.isRelative))})(se,T,Ie,H,B),De=O(je,(Pe,He)=>Pe+se[He]);bx(U,De,H),B.resizeTable(H.adjustTableWidth,Ie,xe)},Xg=(y,k,T)=>{const B=Io(y),H=((xe,Ie)=>Wi(xe,Ie,Z1,je=>je.getOrThunk(_r)))(B,y),U=O(H,(xe,Ie)=>T===Ie?Math.max(k+xe,_r()):xe),ne=((xe,Ie)=>O(xe.all,(je,De)=>({element:je.element,height:Ie[De]})))(B,U);Ge(ne,xe=>{ju(xe.element,xe.height)}),Ge(Vn(B),xe=>{(Ie=>{gl(Ie,"height")})(xe.element)});const se=Jt(U,(xe,Ie)=>xe+Ie,0);ju(y,se)},Jg=y=>tt(y,(k,T)=>Ee(k,B=>B.column===T.column)?k:k.concat([T]),[]).sort((k,T)=>k.column-T.column),Vd=fr("col"),If=fr("colgroup"),qv=y=>Ft(y)==="tr"||If(y),uE=y=>({element:y,colspan:ws(y,"colspan",1),rowspan:ws(y,"rowspan",1)}),Yv=y=>To(y,"scope").map(k=>k.substr(0,3)),Pc=(y,k=uE)=>{const T=H=>{if(qv(H))return If((U={element:H}).element)?y.colgroup(U):y.row(U);{const ne=H,se=(xe=>Vd(xe.element)?y.col(xe):y.cell(xe))(k(ne));return B=le.some({item:ne,replacement:se}),se}var U};let B=le.none();return{getOrInit:(H,U)=>B.fold(()=>T(H),ne=>U(H,ne.item)?ne.replacement:T(H))}},SC=y=>k=>{const T=[],B=H=>{const U=y==="td"?{scope:null}:{},ne=k.replace(H,y,U);return T.push({item:H,sub:ne}),ne};return{replaceOrInit:(H,U)=>{if(qv(H)||Vd(H))return H;{const ne=H;return((se,xe)=>pt(T,Ie=>xe(Ie.item,se)))(ne,U).fold(()=>B(ne),se=>U(H,se.item)?se.sub:B(ne))}}}},yx=y=>({unmerge:k=>{const T=Yv(k);return T.each(B=>mr(k,"scope",B)),()=>{const B=y.cell({element:k,colspan:1,rowspan:1});return gl(B,"width"),gl(k,"width"),T.each(H=>mr(B,"scope",H)),B}},merge:k=>(gl(k[0],"width"),(()=>{const T=nn(O(k,Yv));if(T.length===0)return le.none();{const B=T[0],H=["row","col"];return Ee(T,U=>U!==B&&Xe(H,U))?le.none():le.from(B)}})().fold(()=>bo(k[0],"scope"),T=>mr(k[0],"scope",T+"group")),W(k[0]))}),Qg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],da=kf(),eh=y=>((k,T)=>{const B=k.property().name(T);return Xe(Qg,B)})(da,y),th=y=>((k,T)=>{const B=k.property().name(T);return Xe(["ol","ul"],B)})(da,y),n0=y=>{const k=fr("br"),T=H=>au(H).bind(U=>{const ne=Kl(U).map(se=>!!eh(se)||!!((xe,Ie)=>Xe(["br","img","hr","input"],xe.property().name(Ie)))(da,se)&&Ft(se)!=="img").getOr(!1);return fl(U).map(se=>{return ne===!0||Ft(xe=se)==="li"||Te(xe,th).isSome()||k(U)||eh(se)&&!$r(H,se)?[]:[Kt.fromTag("br")];var xe})}).getOr([]),B=(()=>{const H=Ye(y,U=>{const ne=Ti(U);return(se=>Mt(se,xe=>k(xe)||Co(xe)&&Rm(xe).trim().length===0))(ne)?[]:ne.concat(T(U))});return H.length===0?[Kt.fromTag("br")]:H})();ml(y[0]),Il(y[0],B)},Jo=y=>lo(y,!0),yl=y=>{Os(y).length===0&&ls(y)},Ju=(y,k)=>({grid:y,cursor:k}),Aa=(y,k,T)=>{const B=((H,U,ne)=>{var se,xe;const Ie=Qr(H).rows;return le.from((xe=(se=Ie[U])===null||se===void 0?void 0:se.cells[ne])===null||xe===void 0?void 0:xe.element).filter(Jo).orThunk(()=>(je=>J(je,De=>J(De.cells,Pe=>{const He=Pe.element;return un(Jo(He),He)})))(Ie))})(y,k,T);return Ju(y,B)},Kr=y=>tt(y,(k,T)=>Ee(k,B=>B.row===T.row)?k:k.concat([T]),[]).sort((k,T)=>k.row-T.row),Xv=(y,k)=>(T,B,H,U,ne)=>{const se=Kr(B),xe=O(se,je=>je.row),Ie=((je,De,Pe,He,st,at,Ot)=>{const{cols:It,rows:Tt}=Qr(je),Pt=Tt[De[0]],Gt=Ye(De,ro=>((Jn,yo,qo)=>{const oi=Jn[yo];return Ye(oi.cells,(Ta,Gi)=>hx(Jn,yo,Gi,qo)?[]:[Ta])})(Tt,ro,st)),Qt=O(Pt.cells,(ro,Jn)=>ac(vx(Tt,Jn,st))),lt=[...Tt];Ge(De,ro=>{lt[ro]=Ot.transformRow(Tt[ro],Pe)});const yn=[...It,...lt],Xn=((ro,Jn)=>Mt(Jn,te)&&ac(ro.cells)?we:(yo,qo,oi)=>!(Ft(yo.element)==="th"&&Jn[oi]))(Pt,Qt),xo=((ro,Jn)=>(yo,qo,oi)=>le.some(px(ro,yo.element,"col",Jn[oi])))(He,Qt);return pp(yn,Gt,st,at,Ot.transformCell,xo,Xn)})(T,xe,y,k,H,U.replaceOrInit,ne);return Aa(Ie,B[0].row,B[0].column)},EC=Xv("thead",!0),dE=Xv("tbody",!1),ds=Xv("tfoot",!1),o0=(y,k,T)=>{const B=((U,ne)=>Bl(U,()=>ne))(y,T.section),H=ai(B);return Ss(H,k,!0)},xx=(y,k,T,B)=>((H,U,ne,se)=>{const xe=ai(U),Ie=se.getWidths(xe,se);bx(xe,Ie,se)})(0,k,0,B.sizing),zm=(y,k,T,B)=>((H,U,ne,se,xe)=>{const Ie=ai(U),je=se.getWidths(Ie,se),De=se.pixelWidth(),{newSizes:Pe,delta:He}=xe.calcRedestributedWidths(je,De,ne.pixelDelta,se.isRelative);bx(Ie,Pe,se),se.adjustTableWidth(He)})(0,k,T,B.sizing,B.resize),Mc=(y,k)=>Ee(k,T=>T.column===0&&T.isLocked),bp=(y,k)=>Ee(k,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),bn=(y,k)=>{const T=rp(y),B=Jg(k);return tt(B,(H,U)=>H+T[U.column].map(Hg).getOr(0),0)},fu=y=>(k,T)=>Ld(k,T).filter(B=>!(y?Mc:bp)(k,B)).map(B=>({details:B,pixelDelta:bn(k,B)})),wx=y=>(k,T)=>lc(k,T).filter(B=>!(y?Mc:bp)(k,B.cells)),r0=SC("th"),yp=SC("td"),s0=Gs((y,k,T,B)=>{const H=k[0].row,U=Kr(k),ne=Jt(U,(se,xe)=>({grid:gx(se.grid,H,xe.row+se.delta,T,B.getOrInit),delta:se.delta+1}),{grid:y,delta:0}).grid;return Aa(ne,H,k[0].column)},Ld,G,G,Pc),nh=Gs((y,k,T,B)=>{const H=Kr(k),U=H[H.length-1],ne=U.row+U.rowspan,se=Jt(H,(xe,Ie)=>gx(xe,ne,Ie.row,T,B.getOrInit),y);return Aa(se,ne,k[0].column)},Ld,G,G,Pc),Bc=Gs((y,k,T,B)=>{const H=k.details,U=Jg(H),ne=U[0].column,se=Jt(U,(xe,Ie)=>({grid:Zv(xe.grid,ne,Ie.column+xe.delta,T,B.getOrInit),delta:xe.delta+1}),{grid:y,delta:0}).grid;return Aa(se,H[0].row,ne)},fu(!0),zm,G,Pc),fE=Gs((y,k,T,B)=>{const H=k.details,U=H[H.length-1],ne=U.column+U.colspan,se=Jg(H),xe=Jt(se,(Ie,je)=>Zv(Ie,ne,je.column,T,B.getOrInit),y);return Aa(xe,H[0].row,ne)},fu(!1),zm,G,Pc),i0=Gs((y,k,T,B)=>{const H=Jg(k.details),U=((se,xe)=>Ye(se,Ie=>{const je=Ie.cells,De=Jt(xe,(Pe,He)=>He>=0&&He<Pe.length?Pe.slice(0,He).concat(Pe.slice(He+1)):Pe,je);return De.length>0?[ii(Ie.element,De,Ie.section,Ie.isNew)]:[]}))(y,O(H,se=>se.column)),ne=U.length>0?U[0].cells.length-1:0;return Aa(U,H[0].row,Math.min(H[0].column,ne))},(y,k)=>ji(y,k).map(T=>({details:T,pixelDelta:-bn(y,T)})),zm,yl,Pc),Cx=Gs((y,k,T,B)=>{const H=Kr(k),U=((se,xe,Ie)=>{const{rows:je,cols:De}=Qr(se);return[...De,...je.slice(0,xe),...je.slice(Ie+1)]})(y,H[0].row,H[H.length-1].row),ne=Math.max(Qr(U).rows.length-1,0);return Aa(U,Math.min(k[0].row,ne),k[0].column)},Ld,G,yl,Pc),a0=Gs((y,k,T,B)=>{const H=Jg(k),U=O(H,se=>se.column),ne=Kv(y,U,!0,T,B.replaceOrInit);return Aa(ne,k[0].row,k[0].column)},ji,G,G,r0),_x=Gs((y,k,T,B)=>{const H=Jg(k),U=O(H,se=>se.column),ne=Kv(y,U,!1,T,B.replaceOrInit);return Aa(ne,k[0].row,k[0].column)},ji,G,G,yp),kx=Gs(EC,ji,G,G,r0),l0=Gs(dE,ji,G,G,yp),Sx=Gs(ds,ji,G,G,yp),Ex=Gs((y,k,T,B)=>{const H=Gv(y,k,T,B.replaceOrInit);return Aa(H,k[0].row,k[0].column)},ji,G,G,r0),AC=Gs((y,k,T,B)=>{const H=Gv(y,k,T,B.replaceOrInit);return Aa(H,k[0].row,k[0].column)},ji,G,G,yp),mE=Gs((y,k,T,B)=>{const H=k.cells;n0(H);const U=((ne,se,xe,Ie)=>{const je=Qr(ne).rows;if(je.length===0)return ne;for(let De=se.startRow;De<=se.finishRow;De++)for(let Pe=se.startCol;Pe<=se.finishCol;Pe++){const He=je[De],st=Us(He,Pe).isLocked;Ug(He,Pe,Ls(Ie(),!1,st))}return ne})(y,k.bounds,0,B.merge(H));return Ju(U,le.from(H[0]))},(y,k)=>((T,B)=>B.mergable)(0,k).filter(T=>Uv(y,T.cells)),xx,G,yx),Jv=Gs((y,k,T,B)=>{const H=Jt(k,(U,ne)=>gp(U,ne,T,B.unmerge(ne)),y);return Ju(H,le.from(k[0]))},(y,k)=>((T,B)=>B.unmergable)(0,k).filter(T=>Uv(y,T)),xx,G,yx),Ax=Gs((y,k,T,B)=>{const H=((se,xe)=>{const Ie=Io(se);return Ss(Ie,xe,!0)})(k.clipboard,k.generators);var U,ne;return((se,xe,Ie,je,De)=>{const Pe=Ma(xe),He=((It,Tt,Pt)=>{const Gt=$i(Tt[0]),Qt=Qr(Tt).cols.length+It.row,lt=Fe(Gt-It.column,yn=>yn+It.column);return{row:Qt,column:pt(lt,yn=>Mt(Pt,Xn=>Xn!==yn)).getOr(Gt-1)}})(se,xe,Pe),st=Qr(Ie).rows,at=e0(He,st,Pe);return((It,Tt,Pt)=>{if(It.row>=Tt.length||It.column>$i(Tt[0]))return hp.error("invalid start address out of table bounds, row: "+It.row+", column: "+It.column);const Gt=Tt.slice(It.row),Qt=Gt[0].cells.slice(It.column),lt=$i(Pt[0]),yn=Pt.length;return hp.value({rowDelta:Gt.length-yn,colDelta:Qt.length-lt})})(He,xe,st).map(It=>{const Tt={...It,colDelta:It.colDelta-at.length},Pt=Fm(xe,Tt,je),Gt=Ma(Pt),Qt=e0(He,st,Gt);return((lt,yn,Xn,xo,ro,Jn)=>{const yo=lt.row,qo=lt.column,oi=yo+Xn.length,Ta=qo+$i(Xn[0])+Jn.length,Gi=oo(Jn,we);for(let uc=yo;uc<oi;uc++){let Qm=0;for(let Oa=qo;Oa<Ta;Oa++){if(Gi[Oa]){Qm++;continue}cE(yn,uc,Oa,ro)&&gp(yn,us(yn[uc],Oa),ro,xo.cell);const td=Oa-qo-Qm,Ap=Us(Xn[uc-yo],td),jf=Ap.element,Tp=xo.replace(jf);Ug(yn[uc],Oa,Ls(Tp,!0,Ap.isLocked))}}return yn})(He,Pt,st,je,De,Qt)})})((U=k.row,ne=k.column,{row:U,column:ne}),y,H,k.generators,T).fold(()=>Ju(y,le.some(k.element)),se=>Aa(se,k.row,k.column))},(y,k)=>tp(k.element).bind(T=>Is(y,T).map(B=>({...B,generators:k.generators,clipboard:k.clipboard}))),xx,G,Pc),oh=Gs((y,k,T,B)=>{const H=Qr(y).rows,U=k.cells[0].column,ne=H[k.cells[0].row],se=o0(k.clipboard,k.generators,ne),xe=t0(U,y,se,k.generators,T);return Aa(xe,k.cells[0].row,k.cells[0].column)},wx(!0),G,G,Pc),gE=Gs((y,k,T,B)=>{const H=Qr(y).rows,U=k.cells[k.cells.length-1].column+k.cells[k.cells.length-1].colspan,ne=H[k.cells[0].row],se=o0(k.clipboard,k.generators,ne),xe=t0(U,y,se,k.generators,T);return Aa(xe,k.cells[0].row,U)},wx(!1),G,G,Pc),hE=Gs((y,k,T,B)=>{const H=Qr(y).rows,U=k.cells[0].row,ne=H[U],se=o0(k.clipboard,k.generators,ne),xe=mx(U,y,se,k.generators,T);return Aa(xe,k.cells[0].row,k.cells[0].column)},lc,G,G,Pc),Nf=Gs((y,k,T,B)=>{const H=Qr(y).rows,U=k.cells[k.cells.length-1].row+k.cells[k.cells.length-1].rowspan,ne=H[k.cells[0].row],se=o0(k.clipboard,k.generators,ne),xe=mx(U,y,se,k.generators,T);return Aa(xe,U,k.cells[0].column)},lc,G,G,Pc),Hm=(y,k)=>{const T=Io(y);return Ld(T,k).bind(B=>{const H=B[B.length-1],U=B[0].column,ne=H.column+H.colspan,se=nt(O(T.all,xe=>$t(xe.cells,Ie=>Ie.column>=U&&Ie.column<ne)));return Ri(se)}).getOr("")},c0=(y,k)=>{const T=Io(y);return Ld(T,k).bind(Ri).getOr("")},TC=(y,k)=>{const T=Io(y);return Ld(T,k).bind(B=>{const H=B[B.length-1],U=B[0].row,ne=H.row+H.rowspan;return(se=>{const xe=O(se,De=>zv(De).type),Ie=Xe(xe,"header"),je=Xe(xe,"footer");if(Ie||je){const De=Xe(xe,"body");return!Ie||De||je?Ie||De||!je?le.none():le.some("footer"):le.some("header")}return le.some("body")})(T.all.slice(U,ne))}).getOr("")},Tx=(y,k)=>y.dispatch("NewRow",{node:k}),Qv=(y,k)=>y.dispatch("NewCell",{node:k}),zd=(y,k,T)=>{y.dispatch("TableModified",{...T,table:k})},u0={structure:!1,style:!0},vi={structure:!0,style:!1},Vs={structure:!0,style:!0},Pf=(y,k)=>qu(y)?Gu(k):P(y)?_s(k):ap(k),Ox=(y,k,T)=>{const B=je=>Ft(xr(je))==="table",H=Pd(y),U=Pv(y)?G:mp,ne=je=>{switch(Im(y)){case"section":return Ni();case"sectionCells":return CC();case"cells":return _C();default:return((De,Pe)=>{var He;switch((He=Io(De),J(He.all,st=>{const at=zv(st);return at.type==="header"?le.from(at.subType):le.none()})).getOr(Pe)){case"section":return Ii();case"sectionCells":return Zt();case"cells":return Lm()}})(je,"section")}},se=(je,De,Pe,He)=>(st,at,Ot=!1)=>{ks(st);const It=Kt.fromDom(y.getDoc()),Tt=es(Pe,It,H),Pt={sizing:Pf(y,st),resize:Pv(y)?Xu():q1(),section:ne(st)};return De(st)?je(st,at,Tt,Pt).bind(Gt=>{k.refresh(st.dom),Ge(Gt.newRows,lt=>{Tx(y,lt.dom)}),Ge(Gt.newCells,lt=>{Qv(y,lt.dom)});const Qt=((lt,yn)=>yn.cursor.fold(()=>{const Xn=Os(lt);return fn(Xn).filter(Ya).map(xo=>{T.clearSelectedCells(lt.dom);const ro=y.dom.createRng();return ro.selectNode(xo.dom),y.selection.setRng(ro),mr(xo,"data-mce-selected","1"),ro})},Xn=>{const xo=cx(fp,Xn),ro=y.dom.createRng();return ro.setStart(xo.element.dom,xo.offset),ro.setEnd(xo.element.dom,xo.offset),y.selection.setRng(ro),T.clearSelectedCells(lt.dom),le.some(ro)}))(st,Gt);return Ya(st)&&(ks(st),Ot||zd(y,st.dom,He)),Qt.map(lt=>({rng:lt,effect:He}))}):le.none()},xe=se(Cx,je=>!B(y)||du(je).rows>1,G,vi),Ie=se(i0,je=>!B(y)||du(je).columns>1,G,vi);return{deleteRow:xe,deleteColumn:Ie,insertRowsBefore:se(s0,we,G,vi),insertRowsAfter:se(nh,we,G,vi),insertColumnsBefore:se(Bc,we,U,vi),insertColumnsAfter:se(fE,we,U,vi),mergeCells:se(mE,we,G,vi),unmergeCells:se(Jv,we,G,vi),pasteColsBefore:se(oh,we,G,vi),pasteColsAfter:se(gE,we,G,vi),pasteRowsBefore:se(hE,we,G,vi),pasteRowsAfter:se(Nf,we,G,vi),pasteCells:se(Ax,we,G,Vs),makeCellsHeader:se(Ex,we,G,vi),unmakeCellsHeader:se(AC,we,G,vi),makeColumnsHeader:se(a0,we,G,vi),unmakeColumnsHeader:se(_x,we,G,vi),makeRowsHeader:se(kx,we,G,vi),makeRowsBody:se(l0,we,G,vi),makeRowsFooter:se(Sx,we,G,vi),getTableRowType:TC,getTableCellType:c0,getTableColType:Hm}},d0=(y,k,T)=>{const B=ws(y,k,1);T===1||B<=1?bo(y,k):mr(y,k,Math.min(T,B))},Ki=(y,k)=>T=>{const B=T.column+T.colspan-1,H=T.column;return B>=y&&H<k},ol=Vm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),rh=(y,k,T)=>{const B=T.substring(0,T.length-y.length),H=parseFloat(B);return B===H.toString()?k(H):ol.invalid(T)},Mf={...ol,from:y=>rn(y,"%")?rh("%",ol.percent,y):rn(y,"px")?rh("px",ol.pixels,y):ol.invalid(y)},$m=(y,k,T)=>{const B=Mf.from(T),H=Mt(y,U=>U==="0px")?((U,ne)=>{const se=U.fold(()=>W(""),xe=>W(xe/ne+"px"),()=>W(100/ne+"%"));return Fe(ne,se)})(B,y.length):((U,ne,se)=>U.fold(()=>ne,xe=>((Ie,je,De)=>{const Pe=De/je;return O(Ie,He=>Mf.from(He).fold(()=>He,st=>st*Pe+"px",st=>st/100*De+"px"))})(ne,se,xe),xe=>((Ie,je)=>O(Ie,De=>Mf.from(De).fold(()=>De,Pe=>Pe/je*100+"%",Pe=>Pe+"%")))(ne,se)))(B,y,k);return Dx(H)},f0=(y,k)=>y.length===0?k:Jt(y,(T,B)=>Mf.from(B).fold(W(0),te,te)+T,0),OC=(y,k)=>Mf.from(y).fold(W(y),T=>T+k+"px",T=>T+k+"%"),Dx=y=>{if(y.length===0)return y;const k=Jt(y,(B,H)=>{const U=Mf.from(H).fold(()=>({value:H,remainder:0}),ne=>((se,xe)=>{const Ie=Math.floor(se);return{value:Ie+"px",remainder:se-Ie}})(ne),ne=>({value:ne+"%",remainder:0}));return{output:[U.value].concat(B.output),remainder:B.remainder+U.remainder}},{output:[],remainder:0}),T=k.output;return T.slice(0,T.length-1).concat([OC(T[T.length-1],Math.round(k.remainder))])},Um=Mf.from,Gr=(y,k,T)=>{const B=Io(y),H=B.all,U=Vn(B),ne=Sc(B);k.each(se=>{const xe=Um(se).fold(W("px"),W("px"),W("%")),Ie=pl(y),je=((Pe,He)=>hi(Pe,He,La,ip))(B,y),De=$m(je,Ie,se);Ec(B)?((Pe,He,st)=>{Ge(He,(at,Ot)=>{const It=f0([Pe[Ot]],Ml());So(at.element,"width",It+st)})})(De,ne,xe):((Pe,He,st)=>{Ge(He,at=>{const Ot=Pe.slice(at.column,at.colspan+at.column),It=f0(Ot,Ml());So(at.element,"width",It+st)})})(De,U,xe),So(y,"width",se)}),T.each(se=>{const xe=Id(y),Ie=((je,De)=>Wi(je,De,Ea,ip))(B,y);((je,De,Pe)=>{Ge(Pe,He=>{gl(He.element,"height")}),Ge(De,(He,st)=>{So(He.element,"height",je[st])})})($m(Ie,xe,se),H,U),So(y,"height",se)})},m0=y=>sc(y).exists(k=>wi.test(k)),fs=y=>sc(y).exists(k=>Zn.test(k)),Qu=y=>sc(y).isNone(),mu=y=>{bo(y,"width"),bo(y,"height")},sh=y=>{const k=Cf(y);Gr(y,le.some(k),le.none()),mu(y)},xl=y=>{const k=(T=>pl(T)+"px")(y);Gr(y,le.some(k),le.none()),mu(y)},fa=y=>{gl(y,"width");const k=kc(y),T=k.length>0?k:Os(y);Ge(T,B=>{gl(B,"width"),mu(B)}),mu(y)},Wm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},eb=(y,k,T,B)=>Fe(y,H=>((U,ne,se,xe)=>{const Ie=Kt.fromTag("tr");for(let je=0;je<U;je++){const De=Kt.fromTag(xe<ne||je<se?"th":"td");je<se&&mr(De,"scope","row"),xe<ne&&mr(De,"scope","col"),hs(De,Kt.fromTag("br")),hs(Ie,De)}return Ie})(k,T,B,H)),ih=(y,k)=>{y.selection.select(k.dom,!0),y.selection.collapse(!0)},tb=(y,k,T,B,H)=>{const U=(se=>{const xe=se.options,Ie=xe.get("table_default_styles");return xe.isSet("table_default_styles")?Ie:((je,De)=>Z(je)||!Re(je)?De:P(je)?{...De,width:lu(je)}:{...De,width:ql})(se,Ie)})(y),ne={styles:U,attributes:Rt(y),colGroups:Kn(y)};return y.undoManager.ignore(()=>{const se=((Ie,je,De,Pe,He,st=Wm)=>{const at=Kt.fromTag("table"),Ot=He!=="cells";Pl(at,st.styles),As(at,st.attributes),st.colGroups&&hs(at,(Gt=>{const Qt=Kt.fromTag("colgroup");return Fe(Gt,()=>hs(Qt,Kt.fromTag("col"))),Qt})(je));const It=Math.min(Ie,De);if(Ot&&De>0){const Gt=Kt.fromTag("thead");hs(at,Gt);const Qt=eb(De,je,He==="sectionCells"?It:0,Pe);Il(Gt,Qt)}const Tt=Kt.fromTag("tbody");hs(at,Tt);const Pt=eb(Ot?Ie-It:Ie,je,Ot?0:De,Pe);return Il(Tt,Pt),at})(T,k,H,B,Im(y),ne);mr(se,"data-mce-id","__mce");const xe=(Ie=>{const je=Kt.fromTag("div"),De=Kt.fromDom(Ie.dom.cloneNode(!0));return hs(je,De),(Pe=>Pe.dom.innerHTML)(je)})(se);y.insertContent(xe),y.addVisual()}),ut(xr(y),'table[data-mce-id="__mce"]').map(se=>(P(y)?xl(se):Z(y)?fa(se):(qu(y)||(xe=>g(xe)&&xe.indexOf("%")!==-1)(U.width))&&sh(se),ks(se),bo(se,"data-mce-id"),((xe,Ie)=>{Ge(Pr(Ie,"tr"),je=>{Tx(xe,je.dom),Ge(Pr(je,"th,td"),De=>{Qv(xe,De.dom)})})})(y,se),((xe,Ie)=>{ut(Ie,"td,th").each(ce(ih,xe))})(y,se),se.dom)).getOrNull()};var ah=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const DC="x-tinymce/dom-table-",Rx=DC+"rows",Ix=DC+"columns",RC=y=>{const k=ah.FakeClipboardItem(y);ah.write([k])},ma=y=>{var k;const T=(k=ah.read())!==null&&k!==void 0?k:[];return J(T,B=>le.from(B.getType(y)))},Zm=y=>{ma(y).isSome()&&ah.clear()},IC=y=>{y.fold(rl,k=>RC({[Rx]:k}))},Lc=()=>ma(Rx),rl=()=>Zm(Rx),lh=y=>{y.fold(NC,k=>RC({[Ix]:k}))},xp=()=>ma(Ix),NC=()=>Zm(Ix),Ns=y=>Of(Oc(y),js(y)).filter(K1),Ps=(y,k)=>{const T=js(y),B=De=>hl(De,T),H=De=>(Pe=>ps(Oc(Pe),js(Pe)).filter(K1))(y).bind(Pe=>B(Pe).map(He=>De(He,Pe))),U=De=>{y.focus()},ne=(De,Pe=!1)=>H((He,st)=>{const at=Ao(Rc(y),He,st);De(He,at,Pe).each(U)}),se=()=>H((De,Pe)=>((He,st,at)=>{const Ot=Io(He);return Ld(Ot,st).bind(It=>{const Tt=Ss(Ot,at,!1),Pt=Qr(Tt).rows.slice(It[0].row,It[It.length-1].row+It[It.length-1].rowspan),Gt=Ye(Pt,lt=>{const yn=$t(lt.cells,Xn=>!Xn.isLocked);return yn.length>0?[{...lt,cells:yn}]:[]}),Qt=$v(Gt);return un(Qt.length>0,Qt)}).map(It=>O(It,Tt=>{const Pt=Cm(Tt.element);return Ge(Tt.cells,Gt=>{const Qt=Yc(Gt.element);Bd(Qt,"colspan",Gt.colspan,1),Bd(Qt,"rowspan",Gt.rowspan,1),hs(Pt,Qt)}),Pt}))})(De,Ao(Rc(y),De,Pe),es(G,Kt.fromDom(y.getDoc()),le.none()))),xe=()=>H((De,Pe)=>((He,st)=>{const at=Io(He);return ji(at,st).map(Ot=>{const It=Ot[Ot.length-1],Tt=Ot[0].column,Pt=It.column+It.colspan,Gt=((lt,yn,Xn)=>{if(Ec(lt)){const xo=$t(Sc(lt),Ki(yn,Xn)),ro=O(xo,yo=>{const qo=Yc(yo.element);return d0(qo,"span",Xn-yn),qo}),Jn=Kt.fromTag("colgroup");return Il(Jn,ro),[Jn]}return[]})(at,Tt,Pt),Qt=((lt,yn,Xn)=>O(lt.all,xo=>{const ro=$t(xo.cells,Ki(yn,Xn)),Jn=O(ro,qo=>{const oi=Yc(qo.element);return d0(oi,"colspan",Xn-yn),oi}),yo=Kt.fromTag("tr");return Il(yo,Jn),yo}))(at,Tt,Pt);return[...Gt,...Qt]})})(De,Ao(Rc(y),De,Pe))),Ie=(De,Pe)=>Pe().each(He=>{const st=O(He,at=>Yc(at));H((at,Ot)=>{const It=Rr(Kt.fromDom(y.getDoc())),Tt=((Pt,Gt,Qt,lt)=>({selection:Af(Pt),clipboard:Qt,generators:lt}))(Rc(y),0,st,It);De(at,Tt).each(U)})}),je=De=>(Pe,He)=>((st,at)=>Le(st,at)?le.from(st[at]):le.none())(He,"type").each(st=>{ne(De(st),He.no_events)});tn({mceTableSplitCells:()=>ne(k.unmergeCells),mceTableMergeCells:()=>ne(k.mergeCells),mceTableInsertRowBefore:()=>ne(k.insertRowsBefore),mceTableInsertRowAfter:()=>ne(k.insertRowsAfter),mceTableInsertColBefore:()=>ne(k.insertColumnsBefore),mceTableInsertColAfter:()=>ne(k.insertColumnsAfter),mceTableDeleteCol:()=>ne(k.deleteColumn),mceTableDeleteRow:()=>ne(k.deleteRow),mceTableCutCol:()=>xe().each(De=>{lh(De),ne(k.deleteColumn)}),mceTableCutRow:()=>se().each(De=>{IC(De),ne(k.deleteRow)}),mceTableCopyCol:()=>xe().each(De=>lh(De)),mceTableCopyRow:()=>se().each(De=>IC(De)),mceTablePasteColBefore:()=>Ie(k.pasteColsBefore,xp),mceTablePasteColAfter:()=>Ie(k.pasteColsAfter,xp),mceTablePasteRowBefore:()=>Ie(k.pasteRowsBefore,Lc),mceTablePasteRowAfter:()=>Ie(k.pasteRowsAfter,Lc),mceTableDelete:()=>Ns(y).each(De=>{hl(De,T).filter(Ve(T)).each(Pe=>{const He=Kt.fromText("");if(Fu(Pe,He),ls(Pe),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const st=y.dom.createRng();st.setStart(He.dom,0),st.setEnd(He.dom,0),y.selection.setRng(st),y.nodeChanged()}})}),mceTableCellToggleClass:(De,Pe)=>{H(He=>{const st=Rc(y),at=Mt(st,It=>y.formatter.match("tablecellclass",{value:Pe},It.dom)),Ot=at?y.formatter.remove:y.formatter.apply;Ge(st,It=>Ot("tablecellclass",{value:Pe},It.dom)),zd(y,He.dom,u0)})},mceTableToggleClass:(De,Pe)=>{H(He=>{y.formatter.toggle("tableclass",{value:Pe},He.dom),zd(y,He.dom,u0)})},mceTableToggleCaption:()=>{Ns(y).each(De=>{hl(De,T).each(Pe=>{mt(Pe,"caption").fold(()=>{const He=Kt.fromTag("caption");hs(He,Kt.fromText("Caption")),((st,at,Ot)=>{Lu(st,0).fold(()=>{hs(st,at)},It=>{sn(It,at)})})(Pe,He),y.selection.setCursorLocation(He.dom,0)},He=>{fr("caption")(De)&&jl("td",Pe).each(st=>y.selection.setCursorLocation(st.dom,0)),ls(He)}),zd(y,Pe.dom,vi)})})},mceTableSizingMode:(De,Pe)=>(He=>Ns(y).each(st=>{Z(y)||P(y)||qu(y)||hl(st,T).each(at=>{He!=="relative"||m0(at)?He!=="fixed"||fs(at)?He!=="responsive"||Qu(at)||fa(at):xl(at):sh(at),ks(at),zd(y,at.dom,vi)})}))(Pe),mceTableCellType:je(De=>De==="th"?k.makeCellsHeader:k.unmakeCellsHeader),mceTableColType:je(De=>De==="th"?k.makeColumnsHeader:k.unmakeColumnsHeader),mceTableRowType:je(De=>{switch(De){case"header":return k.makeRowsHeader;case"footer":return k.makeRowsFooter;default:return k.makeRowsBody}})},(De,Pe)=>y.addCommand(Pe,De)),y.addCommand("mceInsertTable",(De,Pe)=>{((He,st,at,Ot={})=>{const It=Tt=>$(Tt)&&Tt>0;if(It(st)&&It(at)){const Tt=Ot.headerRows||0,Pt=Ot.headerColumns||0;return tb(He,at,st,Pt,Tt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Pe.rows,Pe.columns,Pe.options)}),y.addCommand("mceTableApplyCellStyle",(De,Pe)=>{const He=Ot=>"tablecell"+Ot.toLowerCase().replace("-","");if(!v(Pe))return;const st=$t(Rc(y),K1);if(st.length===0)return;const at=((Ot,It)=>{const Tt={};return((Pt,Gt,Qt,lt)=>{tn(Pt,(yn,Xn)=>{(Gt(yn,Xn)?Qt:lt)(yn,Xn)})})(Ot,It,(Pt=>(Gt,Qt)=>{Pt[Qt]=Gt})(Tt),G),Tt})(Pe,(Ot,It)=>y.formatter.has(He(It))&&g(Ot));(Ot=>{for(const It in Ot)if(eo.call(Ot,It))return!1;return!0})(at)||(tn(at,(Ot,It)=>{const Tt=He(It);Ge(st,Pt=>{Ot===""?y.formatter.remove(Tt,{value:null},Pt.dom,!0):y.formatter.apply(Tt,{value:Ot},Pt.dom)})}),B(st[0]).each(Ot=>zd(y,Ot.dom,u0)))})},ni=Vm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Br={before:ni.before,on:ni.on,after:ni.after,cata:(y,k,T,B)=>y.fold(k,T,B),getStart:y=>y.fold(te,te,te)},Es=(y,k)=>({selection:y,kill:k}),qs=(y,k)=>{const T=y.document.createRange();return T.selectNode(k.dom),T},g0=(y,k)=>{const T=y.document.createRange();return h0(T,k),T},h0=(y,k)=>y.selectNodeContents(k.dom),Nx=(y,k,T)=>{const B=y.document.createRange();var H;return H=B,k.fold(U=>{H.setStartBefore(U.dom)},(U,ne)=>{H.setStart(U.dom,ne)},U=>{H.setStartAfter(U.dom)}),((U,ne)=>{ne.fold(se=>{U.setEndBefore(se.dom)},(se,xe)=>{U.setEnd(se.dom,xe)},se=>{U.setEndAfter(se.dom)})})(B,T),B},nb=(y,k,T,B,H)=>{const U=y.document.createRange();return U.setStart(k.dom,T),U.setEnd(B.dom,H),U},Px=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),ch=Vm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),p0=(y,k,T)=>k(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset),v0=(y,k)=>{const T=((B,H)=>H.match({domRange:U=>({ltr:W(U),rtl:le.none}),relative:(U,ne)=>({ltr:Oi(()=>Nx(B,U,ne)),rtl:Oi(()=>le.some(Nx(B,ne,U)))}),exact:(U,ne,se,xe)=>({ltr:Oi(()=>nb(B,U,ne,se,xe)),rtl:Oi(()=>le.some(nb(B,se,xe,U,ne)))})}))(y,k);return((B,H)=>{const U=H.ltr();return U.collapsed?H.rtl().filter(ne=>ne.collapsed===!1).map(ne=>ch.rtl(Kt.fromDom(ne.endContainer),ne.endOffset,Kt.fromDom(ne.startContainer),ne.startOffset)).getOrThunk(()=>p0(0,ch.ltr,U)):p0(0,ch.ltr,U)})(0,T)},Mx=(y,k)=>v0(y,k).match({ltr:(T,B,H,U)=>{const ne=y.document.createRange();return ne.setStart(T.dom,B),ne.setEnd(H.dom,U),ne},rtl:(T,B,H,U)=>{const ne=y.document.createRange();return ne.setStart(H.dom,U),ne.setEnd(T.dom,B),ne}});ch.ltr,ch.rtl;const ob=(y,k,T,B)=>({start:y,soffset:k,finish:T,foffset:B}),wl=(y,k,T,B)=>({start:Br.on(y,k),finish:Br.on(T,B)}),Bx=(y,k)=>{const T=Mx(y,k);return ob(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset)},Ha=wl,rb=(y,k,T,B,H)=>$r(T,B)?le.none():cu(T,B,k).bind(U=>{const ne=U.boxes.getOr([]);return ne.length>1?(H(y,ne,U.start,U.finish),le.some(Es(le.some(Ha(T,0,T,Ws(T))),!0))):le.none()}),uh=(y,k)=>({item:y,mode:k}),gu=(y,k,T,B=Ys)=>y.property().parent(k).map(H=>uh(H,B)),Ys=(y,k,T,B=jm)=>T.sibling(y,k).map(H=>uh(H,B)),jm=(y,k,T,B=jm)=>{const H=y.property().children(k);return T.first(H).map(U=>uh(U,B))},Lx=[{current:gu,next:Ys,fallback:le.none()},{current:Ys,next:jm,fallback:le.some(gu)},{current:jm,next:jm,fallback:le.some(Ys)}],Fx=(y,k,T,B,H=Lx)=>pt(H,U=>U.current===T).bind(U=>U.current(y,k,B,U.next).orThunk(()=>U.fallback.bind(ne=>Fx(y,k,ne,B)))),sb=(y,k,T,B,H,U)=>Fx(y,k,B,H).bind(ne=>U(ne.item)?le.none():T(ne.item)?le.some(ne.item):sb(y,ne.item,T,ne.mode,H,U)),Hd=y=>k=>y.property().children(k).length===0,pE=(y,k,T,B)=>sb(y,k,T,Ys,{sibling:(H,U)=>H.query().prevSibling(U),first:H=>H.length>0?le.some(H[H.length-1]):le.none()},B),ib=(y,k,T,B)=>sb(y,k,T,Ys,{sibling:(H,U)=>H.query().nextSibling(U),first:H=>H.length>0?le.some(H[0]):le.none()},B),Km=kf(),PC=(y,k)=>((T,B,H)=>pE(T,B,Hd(T),H))(Km,y,k),ab=(y,k)=>((T,B,H)=>ib(T,B,Hd(T),H))(Km,y,k),lb=Vm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),b0=y=>Qe(y,"tr"),wp={...lb,verify:(y,k,T,B,H,U,ne)=>Qe(B,"td,th",ne).bind(se=>Qe(k,"td,th",ne).map(xe=>$r(se,xe)?$r(B,se)&&Ws(se)===H?U(xe):lb.none("in same cell"):Sf(b0,[se,xe]).fold(()=>((Ie,je,De)=>{const Pe=Ie.getRect(je),He=Ie.getRect(De);return He.right>Pe.left&&He.left<Pe.right})(y,xe,se)?lb.success():U(xe),Ie=>U(xe)))).getOr(lb.none("default")),cata:(y,k,T,B,H)=>y.fold(k,T,B,H)},y0=fr("br"),$a=(y,k,T)=>k(y,T).bind(B=>Co(B)&&Rm(B).trim().length===0?$a(B,k,T):le.some(B)),Vx=(y,k,T,B)=>((H,U)=>Lu(H,U).filter(y0).orThunk(()=>Lu(H,U-1).filter(y0)))(k,T).bind(H=>B.traverse(H).fold(()=>$a(H,B.gather,y).map(B.relative),U=>(ne=>fl(ne).bind(se=>{const xe=Ti(se);return((Ie,je)=>Lt(Ie,ce($r,je)))(xe,ne).map(Ie=>((je,De,Pe,He)=>({parent:je,children:De,element:Pe,index:He}))(se,xe,ne,Ie))}))(U).map(ne=>Br.on(ne.parent,ne.index)))),$d=(y,k)=>({left:y.left,top:y.top+k,right:y.right,bottom:y.bottom+k}),cb=(y,k)=>({left:y.left,top:y.top-k,right:y.right,bottom:y.bottom-k}),ed=(y,k,T)=>({left:y.left+k,top:y.top+T,right:y.right+k,bottom:y.bottom+T}),ub=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),db=(y,k)=>le.some(y.getRect(k)),Gm=(y,k,T)=>Dn(k)?db(y,k).map(ub):Co(k)?((B,H,U)=>U>=0&&U<Ws(H)?B.getRangedRect(H,U,H,U+1):U>0?B.getRangedRect(H,U-1,H,U):le.none())(y,k,T).map(ub):le.none(),dh=(y,k)=>Dn(k)?db(y,k).map(ub):Co(k)?y.getRangedRect(k,0,k,Ws(k)).map(ub):le.none(),Fc=Vm([{none:[]},{retry:["caret"]}]),fb=(y,k,T)=>ot(k,eh).fold(ee,B=>dh(y,B).exists(H=>((U,ne)=>U.left<ne.left||Math.abs(ne.right-U.left)<1||U.left>ne.right)(T,H))),vE={point:y=>y.bottom,adjuster:(y,k,T,B,H)=>{const U=$d(H,5);return Math.abs(T.bottom-B.bottom)<1||T.top>H.bottom?Fc.retry(U):T.top===H.bottom?Fc.retry($d(H,1)):fb(y,k,H)?Fc.retry(ed(U,5,0)):Fc.none()},move:$d,gather:ab},cc=(y,k,T,B,H)=>H===0?le.some(B):((U,ne,se)=>U.elementFromPoint(ne,se).filter(xe=>Ft(xe)==="table").isSome())(y,B.left,k.point(B))?((U,ne,se,xe,Ie)=>cc(U,ne,se,ne.move(xe,5),Ie))(y,k,T,B,H-1):y.situsFromPoint(B.left,k.point(B)).bind(U=>U.start.fold(le.none,ne=>dh(y,ne).bind(se=>k.adjuster(y,ne,se,T,B).fold(le.none,xe=>cc(y,k,T,xe,H-1))).orThunk(()=>le.some(B)),le.none)),Ud=(y,k,T)=>{const B=y.move(T,5),H=cc(k,y,T,B,100).getOr(B);return((U,ne,se)=>U.point(ne)>se.getInnerHeight()?le.some(U.point(ne)-se.getInnerHeight()):U.point(ne)<0?le.some(-U.point(ne)):le.none())(y,H,k).fold(()=>k.situsFromPoint(H.left,y.point(H)),U=>(k.scrollBy(0,U),k.situsFromPoint(H.left,y.point(H)-U)))},Vc={tryUp:ce(Ud,{point:y=>y.top,adjuster:(y,k,T,B,H)=>{const U=cb(H,5);return Math.abs(T.top-B.top)<1||T.bottom<H.top?Fc.retry(U):T.bottom===H.top?Fc.retry(cb(H,1)):fb(y,k,H)?Fc.retry(ed(U,5,0)):Fc.none()},move:cb,gather:PC}),tryDown:ce(Ud,vE),getJumpSize:W(5)},zx=(y,k,T)=>y.getSelection().bind(B=>((H,U,ne,se)=>(y0(U)?((Ie,je,De)=>De.traverse(je).orThunk(()=>$a(je,De.gather,Ie)).map(De.relative))(H,U,se):Vx(H,U,ne,se)).map(Ie=>({start:Ie,finish:Ie})))(k,B.finish,B.foffset,T).fold(()=>le.some(fo(B.finish,B.foffset)),H=>{const U=y.fromSitus(H);return ne=wp.verify(y,B.finish,B.foffset,U.finish,U.foffset,T.failure,k),wp.cata(ne,se=>le.none(),()=>le.none(),se=>le.some(fo(se,0)),se=>le.some(fo(se,Ws(se))));var ne})),_i=(y,k,T,B,H,U)=>U===0?le.none():bE(y,k,T,B,H).bind(ne=>{const se=y.fromSitus(ne),xe=wp.verify(y,T,B,se.finish,se.foffset,H.failure,k);return wp.cata(xe,()=>le.none(),()=>le.some(ne),Ie=>$r(T,Ie)&&B===0?zc(y,T,B,cb,H):_i(y,k,Ie,0,H,U-1),Ie=>$r(T,Ie)&&B===Ws(Ie)?zc(y,T,B,$d,H):_i(y,k,Ie,Ws(Ie),H,U-1))}),zc=(y,k,T,B,H)=>Gm(y,k,T).bind(U=>Cl(y,H,B(U,Vc.getJumpSize()))),Cl=(y,k,T)=>{const B=W1().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?k.retry(y,T):le.none()},bE=(y,k,T,B,H)=>Gm(y,T,B).bind(U=>Cl(y,H,U)),Bf=(y,k,T,B,H)=>Qe(B,"td,th",k).bind(U=>Qe(U,"table",k).bind(ne=>((se,xe)=>Te(se,Ie=>fl(Ie).exists(je=>$r(je,xe)),void 0).isSome())(H,ne)?((se,xe,Ie)=>zx(se,xe,Ie).bind(je=>_i(se,xe,je.element,je.offset,Ie,20).map(se.fromSitus)))(y,k,T).bind(se=>Qe(se.finish,"td,th",k).map(xe=>({start:U,finish:xe,range:se}))):le.none())),Wd=(y,k,T,B,H,U)=>U(B,k).orThunk(()=>Bf(y,k,T,B,H).map(ne=>{const se=ne.range;return Es(le.some(Ha(se.start,se.soffset,se.finish,se.foffset)),!0)})),Cp=(y,k)=>Qe(y,"tr",k).bind(T=>Qe(T,"table",k).bind(B=>{const H=Pr(B,"tr");return $r(T,H[0])?((U,ne,se)=>pE(Km,U,xe=>au(xe).isSome(),se))(B,0,k).map(U=>{const ne=Ws(U);return Es(le.some(Ha(U,ne,U,ne)),!0)}):le.none()})),qm=(y,k)=>Qe(y,"tr",k).bind(T=>Qe(T,"table",k).bind(B=>{const H=Pr(B,"tr");return $r(T,H[H.length-1])?((U,ne,se)=>ib(Km,U,xe=>Zg(xe).isSome(),se))(B,0,k).map(U=>Es(le.some(Ha(U,0,U,0)),!0)):le.none()})),Yl=(y,k,T,B,H,U,ne)=>Bf(y,T,B,H,U).bind(se=>rb(k,T,se.start,se.finish,ne)),x0=y=>{let k=y;return{get:()=>k,set:T=>{k=T}}},w0=()=>{const y=(k=>{const T=x0(le.none()),B=()=>T.get().each(k);return{clear:()=>{B(),T.set(le.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:H=>{B(),T.set(le.some(H))}}})(G);return{...y,on:k=>y.get().each(k)}},mb=(y,k)=>Qe(y,"td,th",k),C0=y=>Bu(y).exists(lo),MC={traverse:Kl,gather:ab,relative:Br.before,retry:Vc.tryDown,failure:wp.failedDown},gb={traverse:ao,gather:PC,relative:Br.before,retry:Vc.tryUp,failure:wp.failedUp},Zd=y=>k=>k===y,hb=Zd(38),fh=Zd(40),mh=y=>y>=37&&y<=40,Lf={isBackward:Zd(37),isForward:Zd(39)},Ff={isBackward:Zd(39),isForward:Zd(37)},pb=Vm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vf={domRange:pb.domRange,relative:pb.relative,exact:pb.exact,exactFromRange:y=>pb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const k=(T=>T.match({domRange:B=>Kt.fromDom(B.startContainer),relative:(B,H)=>Br.getStart(B),exact:(B,H,U,ne)=>B}))(y);return Kt.fromDom(_c(k).dom.defaultView)},range:ob},zf=(y,k)=>{const T=Ft(y);return T==="input"?Br.after(y):Xe(["br","img"],T)?k===0?Br.before(y):Br.after(y):Br.on(y,k)},Hf=y=>le.from(y.getSelection()),gh=(y,k)=>{Hf(y).each(T=>{T.removeAllRanges(),T.addRange(k)})},_0=(y,k,T,B,H)=>{const U=nb(y,k,T,B,H);gh(y,U)},_p=(y,k)=>v0(y,k).match({ltr:(T,B,H,U)=>{_0(y,T,B,H,U)},rtl:(T,B,H,U)=>{Hf(y).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(T.dom,B,H.dom,U);else if(ne.extend)try{((se,xe,Ie,je,De,Pe)=>{xe.collapse(Ie.dom,je),xe.extend(De.dom,Pe)})(0,ne,T,B,H,U)}catch{_0(y,H,U,T,B)}else _0(y,H,U,T,B)})}}),k0=(y,k,T,B,H)=>{const U=((ne,se,xe,Ie)=>{const je=zf(ne,se),De=zf(xe,Ie);return Vf.relative(je,De)})(k,T,B,H);_p(y,U)},Hx=(y,k,T)=>{const B=((H,U)=>{const ne=H.fold(Br.before,zf,Br.after),se=U.fold(Br.before,zf,Br.after);return Vf.relative(ne,se)})(k,T);_p(y,B)},kp=y=>{if(y.rangeCount>0){const k=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return le.some(ob(Kt.fromDom(k.startContainer),k.startOffset,Kt.fromDom(T.endContainer),T.endOffset))}return le.none()},ki=y=>{if(y.anchorNode===null||y.focusNode===null)return kp(y);{const k=Kt.fromDom(y.anchorNode),T=Kt.fromDom(y.focusNode);return((B,H,U,ne)=>{const se=((Ie,je,De,Pe)=>{const He=Mu(Ie).dom.createRange();return He.setStart(Ie.dom,je),He.setEnd(De.dom,Pe),He})(B,H,U,ne),xe=$r(B,U)&&H===ne;return se.collapsed&&!xe})(k,y.anchorOffset,T,y.focusOffset)?le.some(ob(k,y.anchorOffset,T,y.focusOffset)):kp(y)}},$x=(y,k,T=!0)=>{const B=(T?g0:qs)(y,k);gh(y,B)},BC=y=>(k=>Hf(k).filter(T=>T.rangeCount>0).bind(ki))(y).map(k=>Vf.exact(k.start,k.soffset,k.finish,k.foffset)),Ux=(y,k,T)=>((B,H,U)=>((ne,se,xe)=>ne.caretPositionFromPoint?((Ie,je,De)=>{var Pe;return le.from((Pe=Ie.caretPositionFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,je,De)).bind(He=>{if(He.offsetNode===null)return le.none();const st=Ie.createRange();return st.setStart(He.offsetNode,He.offset),st.collapse(),le.some(st)})})(ne,se,xe):ne.caretRangeFromPoint?((Ie,je,De)=>{var Pe;return le.from((Pe=Ie.caretRangeFromPoint)===null||Pe===void 0?void 0:Pe.call(Ie,je,De))})(ne,se,xe):le.none())(B.document,H,U).map(ne=>ob(Kt.fromDom(ne.startContainer),ne.startOffset,Kt.fromDom(ne.endContainer),ne.endOffset)))(y,k,T),Wx=y=>({elementFromPoint:(k,T)=>Kt.fromPoint(Kt.fromDom(y.document),k,T),getRect:k=>k.dom.getBoundingClientRect(),getRangedRect:(k,T,B,H)=>{const U=Vf.exact(k,T,B,H);return((ne,se)=>(xe=>{const Ie=xe.getClientRects(),je=Ie.length>0?Ie[0]:xe.getBoundingClientRect();return je.width>0||je.height>0?le.some(je).map(Px):le.none()})(Mx(ne,se)))(y,U)},getSelection:()=>BC(y).map(k=>Bx(y,k)),fromSitus:k=>{const T=Vf.relative(k.start,k.finish);return Bx(y,T)},situsFromPoint:(k,T)=>Ux(y,k,T).map(B=>wl(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(k=>{Hf(k).each(T=>T.removeAllRanges())})(y)},collapseSelection:(k=!1)=>{BC(y).each(T=>T.fold(B=>B.collapse(k),(B,H)=>{const U=k?B:H;Hx(y,U,U)},(B,H,U,ne)=>{const se=k?B:U,xe=k?H:ne;k0(y,se,xe,se,xe)}))},setSelection:k=>{k0(y,k.start,k.soffset,k.finish,k.foffset)},setRelativeSelection:(k,T)=>{Hx(y,k,T)},selectNode:k=>{$x(y,k,!1)},selectContents:k=>{$x(y,k)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(k=>{const T=k!==void 0?k.dom:document,B=T.body.scrollLeft||T.documentElement.scrollLeft,H=T.body.scrollTop||T.documentElement.scrollTop;return Qa(B,H)})(Kt.fromDom(y.document)).top,scrollBy:(k,T)=>{((B,H,U)=>{const ne=(U!==void 0?U.dom:document).defaultView;ne&&ne.scrollBy(B,H)})(k,T,Kt.fromDom(y.document))}}),$f=(y,k)=>({rows:y,cols:k}),S0=y=>ot(y,Tn).exists(lo),vb=(y,k)=>S0(y)||S0(k),Zx=y=>y.dom.classList!==void 0,yE=(y,k)=>((T,B,H)=>{const U=((ne,se)=>{const xe=hn(ne,se);return xe===void 0||xe===""?[]:xe.split(" ")})(T,B).concat([H]);return mr(T,B,U.join(" ")),!0})(y,"class",k),Uf=(y,k)=>{Zx(y)?y.dom.classList.add(k):yE(y,k)},bb=(y,k)=>Zx(y)&&y.dom.classList.contains(k),LC=()=>({tag:"none"}),FC=y=>({tag:"multiple",elements:y}),hu=y=>({tag:"single",element:y}),jx=y=>{const k=Kt.fromDom((se=>{if(I(se.target)){const xe=Kt.fromDom(se.target);if(Dn(xe)&&I(xe.dom.shadowRoot)&&se.composed&&se.composedPath){const Ie=se.composedPath();if(Ie)return fn(Ie)}}return le.from(se.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),B=()=>y.preventDefault(),H=(U=B,ne=T,(...se)=>U(ne.apply(null,se)));var U,ne;return((se,xe,Ie,je,De,Pe,He)=>({target:se,x:xe,y:Ie,stop:je,prevent:De,kill:Pe,raw:He}))(k,y.clientX,y.clientY,T,B,H,y)},E0=(y,k,T,B)=>{y.dom.removeEventListener(k,T,B)},VC=we,hh=(y,k,T)=>((B,H,U,ne)=>((se,xe,Ie,je,De)=>{const Pe=((He,st)=>at=>{He(at)&&st(jx(at))})(Ie,je);return se.dom.addEventListener(xe,Pe,De),{unbind:ce(E0,se,xe,Pe,De)}})(B,H,U,ne,!1))(y,k,VC,T),Sp=jx,yb=y=>!bb(Kt.fromDom(y.target),"ephox-snooker-resizer-bar"),zC=(y,k)=>{const T=(H=Tf.selectedSelector,{get:()=>Dc(Kt.fromDom(y.getBody()),H).fold(()=>ps(Oc(y),js(y)).fold(LC,hu),FC)}),B=((U,ne,se)=>{const xe=Pe=>{bo(Pe,U.selected),bo(Pe,U.firstSelected),bo(Pe,U.lastSelected)},Ie=Pe=>{mr(Pe,U.selected,"1")},je=Pe=>{De(Pe),se()},De=Pe=>{const He=Pr(Pe,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);Ge(He,xe)};return{clearBeforeUpdate:De,clear:je,selectRange:(Pe,He,st,at)=>{je(Pe),Ge(He,Ie),mr(st,U.firstSelected,"1"),mr(at,U.lastSelected,"1"),ne(He,st,at)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(Tf,(U,ne,se)=>{hl(ne).each(xe=>{const Ie=O(U,He=>He.dom),je=Pd(y),De=es(G,Kt.fromDom(y.getDoc()),je),Pe=((He,st,at)=>{const Ot=Io(He);return Ld(Ot,st).map(It=>{const Tt=Ss(Ot,at,!1),{rows:Pt}=Qr(Tt),Gt=((lt,yn)=>{const Xn=lt.slice(0,yn[yn.length-1].row+1),xo=$v(Xn);return Ye(xo,ro=>{const Jn=ro.cells.slice(0,yn[yn.length-1].column+1);return O(Jn,yo=>yo.element)})})(Pt,It),Qt=((lt,yn)=>{const Xn=lt.slice(yn[0].row+yn[0].rowspan-1,lt.length),xo=$v(Xn);return Ye(xo,ro=>{const Jn=ro.cells.slice(yn[0].column+yn[0].colspan-1,ro.cells.length);return O(Jn,yo=>yo.element)})})(Pt,It);return{upOrLeftCells:Gt,downOrRightCells:Qt}})})(xe,{selection:Rc(y)},De).map(He=>Do(He,st=>O(st,at=>at.dom))).getOrUndefined();((He,st,at,Ot,It)=>{He.dispatch("TableSelectionChange",{cells:st,start:at,finish:Ot,otherCells:It})})(y,Ie,ne.dom,se.dom,Pe)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var H;return y.on("init",U=>{const ne=y.getWin(),se=xr(y),xe=js(y),Ie=((at,Ot,It,Tt)=>{const Pt=((Gt,Qt,lt,yn)=>{const Xn=w0(),xo=Xn.clear,ro=Jn=>{Xn.on(yo=>{yn.clearBeforeUpdate(Qt),mb(Jn.target,lt).each(qo=>{cu(yo,qo,lt).each(oi=>{const Ta=oi.boxes.getOr([]);if(Ta.length===1){const Gi=Ta[0],uc=On(Gi)==="false",Qm=Wt(po(Jn.target),Gi,$r);uc&&Qm&&yn.selectRange(Qt,Ta,Gi,Gi)}else Ta.length>1&&(yn.selectRange(Qt,Ta,oi.start,oi.finish),Gt.selectContents(qo))})})})};return{clearstate:xo,mousedown:Jn=>{yn.clear(Qt),mb(Jn.target,lt).filter(C0).each(Xn.set)},mouseover:Jn=>{ro(Jn)},mouseup:Jn=>{ro(Jn),xo()}}})(Wx(at),Ot,It,Tt);return{clearstate:Pt.clearstate,mousedown:Pt.mousedown,mouseover:Pt.mouseover,mouseup:Pt.mouseup}})(ne,se,xe,B),je=((at,Ot,It,Tt)=>{const Pt=Wx(at),Gt=()=>(Tt.clear(Ot),le.none());return{keydown:(Qt,lt,yn,Xn,xo,ro)=>{const Jn=Qt.raw,yo=Jn.which,qo=Jn.shiftKey===!0;return Vv(Ot,Tt.selectedSelector).fold(()=>(mh(yo)&&!qo&&Tt.clearBeforeUpdate(Ot),mh(yo)&&qo&&!vb(lt,Xn)?le.none:fh(yo)&&qo?ce(Yl,Pt,Ot,It,MC,Xn,lt,Tt.selectRange):hb(yo)&&qo?ce(Yl,Pt,Ot,It,gb,Xn,lt,Tt.selectRange):fh(yo)?ce(Wd,Pt,It,MC,Xn,lt,qm):hb(yo)?ce(Wd,Pt,It,gb,Xn,lt,Cp):le.none),Ta=>{const Gi=uc=>()=>J(uc,Oa=>((td,Ap,jf,Tp,N0)=>ua(Tp,td,Ap,N0.firstSelectedSelector,N0.lastSelectedSelector).map(Kf=>(N0.clearBeforeUpdate(jf),N0.selectRange(jf,Kf.boxes,Kf.start,Kf.finish),Kf.boxes)))(Oa.rows,Oa.cols,Ot,Ta,Tt)).fold(()=>Ef(Ot,Tt.firstSelectedSelector,Tt.lastSelectedSelector).map(Oa=>{const td=fh(yo)||ro.isForward(yo)?Br.after:Br.before;return Pt.setRelativeSelection(Br.on(Oa.first,0),td(Oa.table)),Tt.clear(Ot),Es(le.none(),!0)}),Oa=>le.some(Es(le.none(),!0)));return mh(yo)&&qo&&!vb(lt,Xn)?le.none:fh(yo)&&qo?Gi([$f(1,0)]):hb(yo)&&qo?Gi([$f(-1,0)]):ro.isBackward(yo)&&qo?Gi([$f(0,-1),$f(-1,0)]):ro.isForward(yo)&&qo?Gi([$f(0,1),$f(1,0)]):mh(yo)&&!qo?Gt:le.none})()},keyup:(Qt,lt,yn,Xn,xo)=>Vv(Ot,Tt.selectedSelector).fold(()=>{const ro=Qt.raw,Jn=ro.which;return ro.shiftKey===!0&&mh(Jn)&&vb(lt,Xn)?((yo,qo,oi,Ta,Gi,uc,Qm)=>$r(oi,Gi)&&Ta===uc?le.none():Qe(oi,"td,th",qo).bind(Oa=>Qe(Gi,"td,th",qo).bind(td=>rb(yo,qo,Oa,td,Qm))))(Ot,It,lt,yn,Xn,xo,Tt.selectRange):le.none()},le.none)}})(ne,se,xe,B),De=((at,Ot,It,Tt)=>{const Pt=Wx(at);return(Gt,Qt)=>{Tt.clearBeforeUpdate(Ot),cu(Gt,Qt,It).each(lt=>{const yn=lt.boxes.getOr([]);Tt.selectRange(Ot,yn,lt.start,lt.finish),Pt.selectContents(Qt),Pt.collapseSelection()})}})(ne,se,xe,B);y.on("TableSelectorChange",at=>De(at.start,at.finish));const Pe=(at,Ot)=>{(It=>It.raw.shiftKey===!0)(at)&&(Ot.kill&&at.kill(),Ot.selection.each(It=>{const Tt=Vf.relative(It.start,It.finish),Pt=Mx(ne,Tt);y.selection.setRng(Pt)}))},He=at=>at.button===0,st=(()=>{const at=x0(Kt.fromDom(se)),Ot=x0(0);return{touchEnd:It=>{const Tt=Kt.fromDom(It.target);if(fr("td")(Tt)||fr("th")(Tt)){const Pt=at.get(),Gt=Ot.get();$r(Pt,Tt)&&It.timeStamp-Gt<300&&(It.preventDefault(),De(Tt,Tt))}at.set(Tt),Ot.set(It.timeStamp)}}})();y.on("dragstart",at=>{Ie.clearstate()}),y.on("mousedown",at=>{He(at)&&yb(at)&&Ie.mousedown(Sp(at))}),y.on("mouseover",at=>{var Ot;(Ot=at).buttons!==void 0&&!(1&Ot.buttons)||!yb(at)||Ie.mouseover(Sp(at))}),y.on("mouseup",at=>{He(at)&&yb(at)&&Ie.mouseup(Sp(at))}),y.on("touchend",st.touchEnd),y.on("keyup",at=>{const Ot=Sp(at);if(Ot.raw.shiftKey&&mh(Ot.raw.which)){const It=y.selection.getRng(),Tt=Kt.fromDom(It.startContainer),Pt=Kt.fromDom(It.endContainer);je.keyup(Ot,Tt,It.startOffset,Pt,It.endOffset).each(Gt=>{Pe(Ot,Gt)})}}),y.on("keydown",at=>{const Ot=Sp(at);k.hide();const It=y.selection.getRng(),Tt=Kt.fromDom(It.startContainer),Pt=Kt.fromDom(It.endContainer),Gt=Vo(Lf,Ff)(Kt.fromDom(y.selection.getStart()));je.keydown(Ot,Tt,It.startOffset,Pt,It.endOffset,Gt).each(Qt=>{Pe(Ot,Qt)}),k.show()}),y.on("NodeChange",()=>{const at=y.selection,Ot=Kt.fromDom(at.getStart()),It=Kt.fromDom(at.getEnd());Sf(hl,[Ot,It]).fold(()=>B.clear(se),G)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Tf.firstSelected),y.serializer.addTempAttr(Tf.lastSelected)}),{getSelectedCells:()=>((U,ne,se,xe)=>{switch(U.tag){case"none":return ne();case"single":return(Ie=>[Ie.dom])(U.element);case"multiple":return(Ie=>O(Ie,je=>je.dom))(U.elements)}})(T.get(),W([])),clearSelectedCells:U=>B.clear(Kt.fromDom(U))}},pu=y=>{let k=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");k.push(T)},unbind:T=>{k=$t(k,B=>B!==T)},trigger:(...T)=>{const B={};Ge(y,(H,U)=>{B[H]=T[U]}),Ge(k,H=>{H(B)})}}},Ym=y=>({registry:Do(y,k=>({bind:k.bind,unbind:k.unbind})),trigger:Do(y,k=>k.trigger)}),xb=y=>y.slice(0).sort(),wb=(y,k)=>{const T=$t(k,B=>!Xe(y,B));T.length>0&&(B=>{throw new Error("Unsupported keys for object: "+xb(B).join(", "))})(T)},A0=y=>((k,T)=>((B,H,U)=>{if(H.length===0)throw new Error("You must specify at least one required field.");return((ne,se)=>{if(!x(se))throw new Error("The "+ne+" fields must be an array. Was: "+se+".");Ge(se,xe=>{if(!g(xe))throw new Error("The value "+xe+" in the "+ne+" fields was not a string.")})})("required",H),(ne=>{const se=xb(ne);pt(se,(xe,Ie)=>Ie<se.length-1&&xe===se[Ie+1]).each(xe=>{throw new Error("The field: "+xe+" occurs more than once in the combined fields: ["+se.join(", ")+"].")})})(H),ne=>{const se=Cr(ne);Mt(H,Ie=>Xe(se,Ie))||((Ie,je)=>{throw new Error("All required keys ("+xb(Ie).join(", ")+") were not specified. Specified keys were: "+xb(je).join(", ")+".")})(H,se),B(H,se);const xe=$t(H,Ie=>!U.validate(ne[Ie],Ie));return xe.length>0&&((Ie,je)=>{throw new Error("All values need to be of type: "+je+". Keys ("+xb(Ie).join(", ")+") were not.")})(xe,U.label),ne}})(k,T,{validate:V,label:"function"}))(wb,y),Cb=A0(["compare","extract","mutate","sink"]),ga=A0(["element","start","stop","destroy"]),T0=A0(["forceDrop","drop","move","delayDrop"]),Xm=()=>{const y=(()=>{const B=Ym({move:pu(["info"])});return{onEvent:G,reset:G,events:B.registry}})(),k=(()=>{let B=le.none();const H=Ym({move:pu(["info"])});return{onEvent:(U,ne)=>{ne.extract(U).each(se=>{((Ie,je)=>{const De=B.map(Pe=>Ie.compare(Pe,je));return B=le.some(je),De})(ne,se).each(Ie=>{H.trigger.move(Ie)})})},reset:()=>{B=le.none()},events:H.registry}})();let T=y;return{on:()=>{T.reset(),T=k},off:()=>{T.reset(),T=y},isOn:()=>T===k,onEvent:(B,H)=>{T.onEvent(B,H)},events:k.events}},Jm=y=>{const k=y.replace(/\./g,"-");return{resolve:T=>k+"-"+T}},_b=Jm("ephox-dragster").resolve;var O0=Cb({compare:(y,k)=>Qa(k.left-y.left,k.top-y.top),extract:y=>le.some(Qa(y.x,y.y)),sink:(y,k)=>{const T=(se=>{const xe={layerClass:_b("blocker"),...se},Ie=Kt.fromTag("div");return mr(Ie,"role","presentation"),Pl(Ie,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Uf(Ie,_b("blocker")),Uf(Ie,xe.layerClass),{element:W(Ie),destroy:()=>{ls(Ie)}}})(k),B=hh(T.element(),"mousedown",y.forceDrop),H=hh(T.element(),"mouseup",y.drop),U=hh(T.element(),"mousemove",y.move),ne=hh(T.element(),"mouseout",y.delayDrop);return ga({element:T.element,start:se=>{hs(se,T.element())},stop:()=>{ls(T.element())},destroy:()=>{T.destroy(),H.unbind(),U.unbind(),ne.unbind(),B.unbind()}})},mutate:(y,k)=>{y.mutate(k.left,k.top)}});const ph=Jm("ephox-snooker").resolve,Wf=ph("resizer-bar"),Kx=ph("resizer-rows"),D0=ph("resizer-cols"),sl=y=>{const k=Pr(y.parent(),"."+Wf);Ge(k,ls)},Zf=(y,k,T)=>{const B=y.origin();Ge(k,H=>{H.each(U=>{const ne=T(B,U);Uf(ne,Wf),hs(y.parent(),ne)})})},Gx=(y,k,T,B,H)=>{const U=xf(T),ne=k.isResizable,se=B.length>0?Uu.positions(B,T):[],xe=se.length>0?((De,Pe)=>Ye(De.all,(He,st)=>Pe(He.element)?[st]:[]))(y,ne):[];((De,Pe,He,st)=>{Zf(De,Pe,(at,Ot)=>{const It=((Tt,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Pl(yn,{position:"absolute",left:Pt+"px",top:Gt-3.5+"px",height:"7px",width:Qt+"px"}),As(yn,{"data-row":Tt,role:"presentation"}),yn})(Ot.row,He.left-at.left,Ot.y-at.top,st);return Uf(It,Kx),It})})(k,$t(se,(De,Pe)=>Ee(xe,He=>Pe===He)),U,Hg(T));const Ie=H.length>0?wf.positions(H,T):[],je=Ie.length>0?((De,Pe)=>{const He=[];return Fe(De.grid.columns,st=>{Tr(De,st).map(at=>at.element).forall(Pe)&&He.push(st)}),$t(He,st=>{const at=Ui(De,Ot=>Ot.column===st);return Mt(at,Ot=>Pe(Ot.element))})})(y,ne):[];((De,Pe,He,st)=>{Zf(De,Pe,(at,Ot)=>{const It=((Tt,Pt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Pl(yn,{position:"absolute",left:Pt-3.5+"px",top:Gt+"px",height:lt+"px",width:"7px"}),As(yn,{"data-column":Tt,role:"presentation"}),yn})(Ot.col,Ot.x-at.left,He.top-at.top,0,st);return Uf(It,D0),It})})(k,$t(Ie,(De,Pe)=>Ee(je,He=>Pe===He)),U,Dv(T))},xt=(y,k)=>{if(sl(y),y.isResizable(k)){const T=Io(k),B=Rd(T),H=rp(T);Gx(T,y,k,B,H)}},Ep=(y,k)=>{const T=Pr(y.parent(),"."+Wf);Ge(T,k)},xE=y=>{Ep(y,k=>{So(k,"display","none")})},HC=y=>{Ep(y,k=>{So(k,"display","block")})},R0=ph("resizer-bar-dragging"),vu=y=>{const k=(()=>{const De=Ym({drag:pu(["xDelta","yDelta","target"])});let Pe=le.none();const He=(()=>{const st=Ym({drag:pu(["xDelta","yDelta"])});return{mutate:(at,Ot)=>{st.trigger.drag(at,Ot)},events:st.registry}})();return He.events.drag.bind(st=>{Pe.each(at=>{De.trigger.drag(st.xDelta,st.yDelta,at)})}),{assign:st=>{Pe=le.some(st)},get:()=>Pe,mutate:He.mutate,events:De.registry}})(),T=((De,Pe={})=>{var He;return((st,at,Ot)=>{let It=!1;const Tt=Ym({start:pu([]),stop:pu([])}),Pt=Xm(),Gt=()=>{yn.stop(),Pt.isOn()&&(Pt.off(),Tt.trigger.stop())},Qt=((Xn,xo)=>{let ro=null;const Jn=()=>{_(ro)||(clearTimeout(ro),ro=null)};return{cancel:Jn,throttle:(...yo)=>{Jn(),ro=setTimeout(()=>{ro=null,Xn.apply(null,yo)},200)}}})(Gt);Pt.events.move.bind(Xn=>{at.mutate(st,Xn.info)});const lt=Xn=>(...xo)=>{It&&Xn.apply(null,xo)},yn=at.sink(T0({forceDrop:Gt,drop:lt(Gt),move:lt(Xn=>{Qt.cancel(),Pt.onEvent(Xn,at)}),delayDrop:lt(Qt.throttle)}),Ot);return{element:yn.element,go:Xn=>{yn.start(Xn),Pt.on(),Tt.trigger.start()},on:()=>{It=!0},off:()=>{It=!1},isActive:()=>It,destroy:()=>{yn.destroy()},events:Tt.registry}})(De,(He=Pe.mode)!==null&&He!==void 0?He:O0,Pe)})(k,{});let B=le.none();const H=(De,Pe)=>le.from(hn(De,Pe));k.events.drag.bind(De=>{H(De.target,"data-row").each(Pe=>{const He=mf(De.target,"top");So(De.target,"top",He+De.yDelta+"px")}),H(De.target,"data-column").each(Pe=>{const He=mf(De.target,"left");So(De.target,"left",He+De.xDelta+"px")})});const U=(De,Pe)=>mf(De,Pe)-ws(De,"data-initial-"+Pe,0);T.events.stop.bind(()=>{k.get().each(De=>{B.each(Pe=>{H(De,"data-row").each(He=>{const st=U(De,"top");bo(De,"data-initial-top"),je.trigger.adjustHeight(Pe,st,parseInt(He,10))}),H(De,"data-column").each(He=>{const st=U(De,"left");bo(De,"data-initial-left"),je.trigger.adjustWidth(Pe,st,parseInt(He,10))}),xt(y,Pe)})})});const ne=(De,Pe)=>{je.trigger.startAdjust(),k.assign(De),mr(De,"data-initial-"+Pe,mf(De,Pe)),Uf(De,R0),So(De,"opacity","0.2"),T.go(y.parent())},se=hh(y.parent(),"mousedown",De=>{var Pe;Pe=De.target,bb(Pe,Kx)&&ne(De.target,"top"),(He=>bb(He,D0))(De.target)&&ne(De.target,"left")}),xe=De=>$r(De,y.view()),Ie=hh(y.view(),"mouseover",De=>{var Pe;(Pe=De.target,Qe(Pe,"table",xe).filter(lo)).fold(()=>{Ya(De.target)&&sl(y)},He=>{T.isActive()&&(B=le.some(He),xt(y,He))})}),je=Ym({adjustHeight:pu(["table","delta","row"]),adjustWidth:pu(["table","delta","column"]),startAdjust:pu([])});return{destroy:()=>{se.unbind(),Ie.unbind(),T.destroy(),sl(y)},refresh:De=>{xt(y,De)},on:T.on,off:T.off,hideBars:ce(xE,y),showBars:ce(HC,y),events:je.registry}},I0=y=>I(y)&&y.nodeName==="TABLE",kb="bar-",qx=y=>hn(y,"data-mce-resize")!=="false",Yx=y=>{const k=w0(),T=w0(),B=w0();let H,U,ne,se;const xe=De=>Pf(y,De),Ie=()=>Kg(y)?q1():Xu(),je=(De,Pe,He,st)=>{const at=(Tt=>{return ho(Pt=Tt,"corner-")?((Gt,Qt)=>Gt.substring(7))(Pt):Pt;var Pt})(Pe),Ot=rn(at,"e"),It=ho(at,"n");if(U===""&&sh(De),se===""&&(Tt=>{const Pt=(Gt=>Id(Gt)+"px")(Tt);Gr(Tt,le.none(),le.some(Pt)),mu(Tt)})(De),He!==H&&U!==""){So(De,"width",U);const Tt=Ie(),Pt=xe(De),Gt=Kg(y)||Ot?(Qt=>du(Qt).columns)(De)-1:0;Fd(De,He-H,Gt,Tt,Pt)}else if((Tt=>/^(\d+(\.\d+)?)%$/.test(Tt))(U)){const Tt=parseFloat(U.replace("%",""));So(De,"width",He*Tt/H+"%")}if((Tt=>/^(\d+(\.\d+)?)px$/.test(Tt))(U)&&(Tt=>{const Pt=Io(Tt);Ec(Pt)||Ge(Os(Tt),Gt=>{const Qt=ta(Gt,"width");So(Gt,"width",Qt),bo(Gt,"width")})})(De),st!==ne&&se!==""){So(De,"height",se);const Tt=It?0:(Pt=>du(Pt).rows)(De)-1;Xg(De,st-ne,Tt)}};return y.on("init",()=>{const De=((Pe,He)=>Pe.inline?((st,at,Ot)=>({parent:W(at),view:W(st),origin:W(Qa(0,0)),isResizable:Ot}))(Kt.fromDom(Pe.getBody()),(()=>{const st=Kt.fromTag("div");return Pl(st,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hs(Jc(Kt.fromDom(document)),st),st})(),He):((st,at)=>{const Ot=Ro(st)?(It=>Kt.fromDom(_c(It).dom.documentElement))(st):st;return{parent:W(Ot),view:W(st),origin:W(Qa(0,0)),isResizable:at}})(Kt.fromDom(Pe.getDoc()),He))(y,qx);if(B.set(De),(Pe=>{const He=Pe.options.get("object_resizing");return Xe(He.split(","),"table")})(y)&&re(y)){const Pe=((He,st,at)=>{const Ot=Uu,It=wf,Tt=vu(He),Pt=Ym({beforeResize:pu(["table","type"]),afterResize:pu(["table","type"]),startDrag:pu([])});return Tt.events.adjustHeight.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"row");const lt=Ot.delta(Gt.delta,Qt);Xg(Qt,lt,Gt.row),Pt.trigger.afterResize(Qt,"row")}),Tt.events.startAdjust.bind(Gt=>{Pt.trigger.startDrag()}),Tt.events.adjustWidth.bind(Gt=>{const Qt=Gt.table;Pt.trigger.beforeResize(Qt,"col");const lt=It.delta(Gt.delta,Qt),yn=at(Qt);Fd(Qt,lt,Gt.column,st,yn),Pt.trigger.afterResize(Qt,"col")}),{on:Tt.on,off:Tt.off,refreshBars:Tt.refresh,hideBars:Tt.hideBars,showBars:Tt.showBars,destroy:Tt.destroy,events:Pt.registry}})(De,Ie(),xe);Pe.on(),Pe.events.startDrag.bind(He=>{k.set(y.selection.getRng())}),Pe.events.beforeResize.bind(He=>{const st=He.table.dom;((at,Ot,It,Tt,Pt)=>{at.dispatch("ObjectResizeStart",{target:Ot,width:It,height:Tt,origin:Pt})})(y,st,Nm(st),Pm(st),kb+He.type)}),Pe.events.afterResize.bind(He=>{const st=He.table,at=st.dom;ks(st),k.on(Ot=>{y.selection.setRng(Ot),y.focus()}),((Ot,It,Tt,Pt,Gt)=>{Ot.dispatch("ObjectResized",{target:It,width:Tt,height:Pt,origin:Gt})})(y,at,Nm(at),Pm(at),kb+He.type),y.undoManager.add()}),T.set(Pe)}}),y.on("ObjectResizeStart",De=>{const Pe=De.target;if(I0(Pe)){const He=Kt.fromDom(Pe);Ge(y.dom.select(".mce-clonedresizable"),st=>{y.dom.addClass(st,"mce-"+jg(y)+"-columns")}),!fs(He)&&P(y)?xl(He):!m0(He)&&qu(y)&&sh(He),Qu(He)&&ho(De.origin,kb)&&sh(He),H=De.width,U=Z(y)?"":yC(y,Pe).getOr(""),ne=De.height,se=Bv(y,Pe).getOr("")}}),y.on("ObjectResized",De=>{const Pe=De.target;if(I0(Pe)){const He=Kt.fromDom(Pe),st=De.origin;(at=>ho(at,"corner-"))(st)&&je(He,st,De.width,De.height),ks(He),zd(y,He.dom,u0)}}),y.on("SwitchMode",()=>{T.on(De=>{y.mode.isReadOnly()?De.hideBars():De.showBars()})}),y.on("dragstart dragend",De=>{T.on(Pe=>{De.type==="dragstart"?(Pe.hideBars(),Pe.off()):(Pe.on(),Pe.showBars())})}),y.on("remove",()=>{T.on(De=>{De.destroy()}),B.on(De=>{((Pe,He)=>{Pe.inline&&ls(He.parent())})(y,De)})}),{refresh:De=>{T.on(Pe=>Pe.refreshBars(Kt.fromDom(De)))},hide:()=>{T.on(De=>De.hideBars())},show:()=>{T.on(De=>De.showBars())}}},wE=y=>{(H=>{const U=H.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:ne=>{const se=Xe(["section","cells","sectionCells","auto"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:ne=>{const se=Xe(["preservetable","resizetable"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const k=Yx(y),T=zC(y,k),B=Ox(y,k,T);return Ps(y,B),((H,U)=>{const ne=js(H),se=xe=>ps(Oc(H)).bind(Ie=>hl(Ie,ne).map(je=>{const De=Ao(Rc(H),je,Ie);return xe(je,De)})).getOr("");tn({mceTableRowType:()=>se(U.getTableRowType),mceTableCellType:()=>se(U.getTableCellType),mceTableColType:()=>se(U.getTableColType)},(xe,Ie)=>H.addQueryValueHandler(Ie,xe))})(y,B),Ic(y,B),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};n.add("dom",y=>({table:wE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(P,Z,re)=>{var Re;return re(P,Z.prototype)?!0:((Re=P.constructor)===null||Re===void 0?void 0:Re.name)===Z.name},l=P=>{const Z=typeof P;return P===null?"null":Z==="object"&&Array.isArray(P)?"array":Z==="object"&&s(P,String,(re,Re)=>Re.isPrototypeOf(re))?"string":Z},d=P=>Z=>l(Z)===P,g=P=>Z=>typeof Z===P,v=d("string"),x=d("object"),_=d("array"),N=g("boolean"),R=P=>P==null,I=P=>!R(P),V=g("function"),$=g("number"),G=()=>{},W=(P,Z)=>re=>P(Z(re)),te=P=>()=>P,ae=(P,Z)=>P===Z;function ce(P,...Z){return(...re)=>{const Re=Z.concat(re);return P.apply(null,Re)}}const Ve=P=>Z=>!P(Z),Ce=te(!1);class ee{constructor(Z,re){this.tag=Z,this.value=re}static some(Z){return new ee(!0,Z)}static none(){return ee.singletonNone}fold(Z,re){return this.tag?re(this.value):Z()}isSome(){return this.tag}isNone(){return!this.tag}map(Z){return this.tag?ee.some(Z(this.value)):ee.none()}bind(Z){return this.tag?Z(this.value):ee.none()}exists(Z){return this.tag&&Z(this.value)}forall(Z){return!this.tag||Z(this.value)}filter(Z){return!this.tag||Z(this.value)?this:ee.none()}getOr(Z){return this.tag?this.value:Z}or(Z){return this.tag?this:Z}getOrThunk(Z){return this.tag?this.value:Z()}orThunk(Z){return this.tag?this:Z()}getOrDie(Z){if(this.tag)return this.value;throw new Error(Z??"Called getOrDie on None")}static from(Z){return I(Z)?ee.some(Z):ee.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Z){this.tag&&Z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ee.singletonNone=new ee(!1);const we=Array.prototype.slice,le=Array.prototype.indexOf,Ze=Array.prototype.push,Be=(P,Z)=>le.call(P,Z),Me=(P,Z)=>Be(P,Z)>-1,Xe=(P,Z)=>{for(let re=0,Re=P.length;re<Re;re++){const We=P[re];if(Z(We,re))return!0}return!1},Ee=(P,Z)=>{const re=P.length,Re=new Array(re);for(let We=0;We<re;We++){const Rt=P[We];Re[We]=Z(Rt,We)}return Re},Fe=(P,Z)=>{for(let re=0,Re=P.length;re<Re;re++){const We=P[re];Z(We,re)}},O=(P,Z)=>{const re=[];for(let Re=0,We=P.length;Re<We;Re++){const Rt=P[Re];Z(Rt,Re)&&re.push(Rt)}return re},Ge=(P,Z)=>{if(P.length===0)return[];{let re=Z(P[0]);const Re=[];let We=[];for(let Rt=0,Kn=P.length;Rt<Kn;Rt++){const po=P[Rt],lo=Z(po);lo!==re&&(Re.push(We),We=[]),re=lo,We.push(po)}return We.length!==0&&Re.push(We),Re}},ct=(P,Z,re)=>(Fe(P,(Re,We)=>{re=Z(re,Re,We)}),re),$t=(P,Z,re)=>{for(let Re=0,We=P.length;Re<We;Re++){const Rt=P[Re];if(Z(Rt,Re))return ee.some(Rt);if(re(Rt,Re))break}return ee.none()},Jt=(P,Z)=>$t(P,Z,Ce),tt=P=>{const Z=[];for(let re=0,Re=P.length;re<Re;++re){if(!_(P[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+P);Ze.apply(Z,P[re])}return Z},pt=(P,Z)=>tt(Ee(P,Z)),Lt=P=>{const Z=we.call(P,0);return Z.reverse(),Z},nt=(P,Z)=>Z>=0&&Z<P.length?ee.some(P[Z]):ee.none(),Ye=P=>nt(P,0),Mt=P=>nt(P,P.length-1),oo=(P,Z)=>{const re=[],Re=V(Z)?We=>Xe(re,Rt=>Z(Rt,We)):We=>Me(re,We);for(let We=0,Rt=P.length;We<Rt;We++){const Kn=P[We];Re(Kn)||re.push(Kn)}return re},zn=(P,Z,re=ae)=>P.exists(Re=>re(Re,Z)),fn=(P,Z,re=ae)=>kn(P,Z,re).getOr(P.isNone()&&Z.isNone()),kn=(P,Z,re)=>P.isSome()&&Z.isSome()?ee.some(re(P.getOrDie(),Z.getOrDie())):ee.none(),J=8,Cr=11,eo=1,tn=3,Do=(P,Z)=>{const Re=(Z||document).createElement("div");if(Re.innerHTML=P,!Re.hasChildNodes()||Re.childNodes.length>1){const We="HTML does not have a single root node";throw console.error(We,P),new Error(We)}return be(Re.childNodes[0])},Ke=(P,Z)=>{const Re=(Z||document).createElement(P);return be(Re)},ie=(P,Z)=>{const Re=(Z||document).createTextNode(P);return be(Re)},be=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},he={fromHtml:Do,fromTag:Ke,fromText:ie,fromDom:be,fromPoint:(P,Z,re)=>ee.from(P.dom.elementFromPoint(Z,re)).map(be)},gt=(P,Z)=>{const re=P.dom;if(re.nodeType!==eo)return!1;{const Re=re;if(Re.matches!==void 0)return Re.matches(Z);if(Re.msMatchesSelector!==void 0)return Re.msMatchesSelector(Z);if(Re.webkitMatchesSelector!==void 0)return Re.webkitMatchesSelector(Z);if(Re.mozMatchesSelector!==void 0)return Re.mozMatchesSelector(Z);throw new Error("Browser lacks native selectors")}},zt=(P,Z)=>P.dom===Z.dom,vt=(P,Z)=>{const re=P.dom,Re=Z.dom;return re===Re?!1:re.contains(Re)},Ft=gt,Vt=typeof window<"u"?window:Function("return this;")(),wn=(P,Z)=>{let re=Z??Vt;for(let Re=0;Re<P.length&&re!==void 0&&re!==null;++Re)re=re[P[Re]];return re},cn=(P,Z)=>{const re=P.split(".");return wn(re,Z)},Tn=(P,Z)=>cn(P,Z),Dn=(P,Z)=>{const re=Tn(P,Z);if(re==null)throw new Error(P+" not available on this browser");return re},Co=Object.getPrototypeOf,Ro=P=>Dn("HTMLElement",P),Uo=P=>{const Z=cn("ownerDocument.defaultView",P);return x(P)&&(Ro(Z).prototype.isPrototypeOf(P)||/^HTML\w*Element$/.test(Co(P).constructor.name))},fr=P=>P.dom.nodeName.toLowerCase(),as=P=>P.dom.nodeType,mr=P=>Z=>as(Z)===P,As=P=>as(P)===J||fr(P)==="#comment",hn=P=>To(P)&&Uo(P.dom),To=mr(eo),bo=mr(tn),rs=mr(Cr),ea=P=>Z=>To(Z)&&fr(Z)===P,Kt=P=>ee.from(P.dom.parentNode).map(he.fromDom),gi=P=>ee.from(P.dom.parentElement).map(he.fromDom),ar=P=>ee.from(P.dom.nextSibling).map(he.fromDom),jl=P=>Ee(P.dom.childNodes,he.fromDom),$r=(P,Z)=>{const re=P.dom.childNodes;return ee.from(re[Z]).map(he.fromDom)},ei=P=>$r(P,0),ym=P=>$r(P,P.dom.childNodes.length-1),Mu=P=>rs(P)&&I(P.dom.host),_c=P=>he.fromDom(P.dom.getRootNode()),fl=P=>{const Z=_c(P);return Mu(Z)?ee.some(Z):ee.none()},Bu=P=>he.fromDom(P.dom.host),Dr=P=>{const Z=bo(P)?P.dom.parentNode:P.dom;if(Z==null||Z.ownerDocument===null)return!1;const re=Z.ownerDocument;return fl(he.fromDom(Z)).fold(()=>re.body.contains(Z),W(Dr,Bu))};var ao=(P,Z,re,Re,We)=>P(re,Re)?ee.some(re):V(We)&&We(re)?ee.none():Z(re,Re,We);const Kl=(P,Z,re)=>{let Re=P.dom;const We=V(re)?re:Ce;for(;Re.parentNode;){Re=Re.parentNode;const Rt=he.fromDom(Re);if(Z(Rt))return ee.some(Rt);if(We(Rt))break}return ee.none()},Ti=(P,Z,re)=>ao((We,Rt)=>Rt(We),Kl,P,Z,re),Lu=(P,Z,re)=>Kl(P,Re=>gt(Re,Z),re),sn=(P,Z,re)=>ao((We,Rt)=>gt(We,Rt),Lu,P,Z,re),Fu=P=>sn(P,"[contenteditable]"),xm=(P,Z=!1)=>Dr(P)?P.dom.isContentEditable:Fu(P).fold(te(Z),re=>hs(re)==="true"),hs=P=>P.dom.contentEditable,wm=(P,Z)=>{Kt(P).each(Re=>{Re.dom.insertBefore(Z.dom,P.dom)})},qa=(P,Z)=>{ar(P).fold(()=>{Kt(P).each(We=>{ml(We,Z)})},Re=>{wm(Re,Z)})},Il=(P,Z)=>{ei(P).fold(()=>{ml(P,Z)},Re=>{P.dom.insertBefore(Z.dom,Re.dom)})},ml=(P,Z)=>{P.dom.appendChild(Z.dom)},ls=(P,Z)=>{Fe(Z,re=>{wm(P,re)})},Ca=(P,Z)=>{Fe(Z,re=>{ml(P,re)})},Nl=P=>{P.dom.textContent="",Fe(jl(P),Z=>{Cm(Z)})},Cm=P=>{const Z=P.dom;Z.parentNode!==null&&Z.parentNode.removeChild(Z)};var Yc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Xc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ff=tinymce.util.Tools.resolve("tinymce.util.VK");const Sd=P=>Ee(P,he.fromDom),lr=Object.keys,Ls=(P,Z)=>{const re=lr(P);for(let Re=0,We=re.length;Re<We;Re++){const Rt=re[Re],Kn=P[Rt];Z(Kn,Rt)}},ii=P=>(Z,re)=>{P[re]=Z},_m=(P,Z,re,Re)=>{Ls(P,(We,Rt)=>{(Z(We,Rt)?re:Re)(We,Rt)})},Ya=(P,Z)=>{const re={};return _m(P,Z,ii(re),G),re},Jc=(P,Z,re)=>{if(v(re)||N(re)||$(re))P.setAttribute(Z,re+"");else throw console.error("Invalid call to Attribute.set. Key ",Z,":: Value ",re,":: Element ",P),new Error("Attribute value was not simple")},_a=(P,Z)=>{const re=P.dom;Ls(Z,(Re,We)=>{Jc(re,We,Re)})},ka=P=>ct(P.dom.attributes,(Z,re)=>(Z[re.name]=re.value,Z),{}),Qc=(P,Z)=>he.fromDom(P.dom.cloneNode(Z)),Pr=P=>Qc(P,!0),cs=(P,Z)=>{const re=he.fromTag(Z),Re=ka(P);return _a(re,Re),re},Te=(P,Z)=>{const re=cs(P,Z);qa(P,re);const Re=jl(P);return Ca(re,Re),Cm(P),re};var ot=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ne=tinymce.util.Tools.resolve("tinymce.util.Tools");const mt=P=>Z=>I(Z)&&Z.nodeName.toLowerCase()===P,ut=P=>Z=>I(Z)&&P.test(Z.nodeName),Qe=P=>I(P)&&P.nodeType===3,Wt=P=>I(P)&&P.nodeType===1,nn=ut(/^(OL|UL|DL)$/),un=ut(/^(OL|UL)$/),vn=mt("ol"),an=ut(/^(LI|DT|DD)$/),ho=ut(/^(DT|DD)$/),rn=ut(/^(TH|TD)$/),Ar=mt("br"),Lo=P=>{var Z;return((Z=P.parentNode)===null||Z===void 0?void 0:Z.firstChild)===P},Ko=(P,Z)=>I(Z)&&Z.nodeName in P.schema.getTextBlockElements(),Ts=(P,Z)=>I(P)&&P.nodeName in Z,So=(P,Z)=>I(Z)&&Z.nodeName in P.schema.getVoidElements(),Pl=(P,Z)=>Ar(Z)?P.isBlock(Z.nextSibling)&&!Ar(Z.previousSibling):!1,ta=(P,Z,re)=>{const Re=P.isEmpty(Z);return re&&P.select("span[data-mce-type=bookmark]",Z).length>0?!1:Re},co=(P,Z)=>P.isChildOf(Z,P.getRoot()),Xa=P=>Z=>Z.options.get(P),gl=P=>{const Z=P.options.register;Z("lists_indent_on_tab",{processor:"boolean",default:!0})},ws=Xa("lists_indent_on_tab"),Ed=Xa("forced_root_block"),$s=Xa("forced_root_block_attrs"),mf=(P,Z,re={})=>{const Re=P.dom,We=P.schema.getBlockElements(),Rt=Re.createFragment(),Kn=Ed(P),po=$s(P);let lo,On,xr=!1;for(On=Re.create(Kn,{...po,...re.style?{style:re.style}:{}}),Ts(Z.firstChild,We)||Rt.appendChild(On);lo=Z.firstChild;){const js=lo.nodeName;!xr&&(js!=="SPAN"||lo.getAttribute("data-mce-type")!=="bookmark")&&(xr=!0),Ts(lo,We)?(Rt.appendChild(lo),On=null):(On||(On=Re.create(Kn,po),Rt.appendChild(On)),On.appendChild(lo))}return!xr&&On&&On.appendChild(Re.create("br",{"data-mce-bogus":"1"})),Rt},Ml=ot.DOM,_r=(P,Z,re)=>{const Re=On=>{const xr=On.parentNode;xr&&Ne.each(We,js=>{xr.insertBefore(js,re.parentNode)}),Ml.remove(On)},We=Ml.select('span[data-mce-type="bookmark"]',Z),Rt=mf(P,re),Kn=Ml.createRng();Kn.setStartAfter(re),Kn.setEndAfter(Z);const po=Kn.extractContents();for(let On=po.firstChild;On;On=On.firstChild)if(On.nodeName==="LI"&&P.dom.isEmpty(On)){Ml.remove(On);break}P.dom.isEmpty(po)||Ml.insertAfter(po,Z),Ml.insertAfter(Rt,Z);const lo=re.parentElement;lo&&ta(P.dom,lo)&&Re(lo),Ml.remove(re),ta(P.dom,Z)&&Ml.remove(Z)},Vu=ea("dd"),km=ea("dt"),tp=(P,Z)=>{Vu(Z)?Te(Z,"dt"):km(Z)&&gi(Z).each(re=>_r(P,re.dom,Z.dom))},Os=P=>{km(P)&&Te(P,"dd")},kc=(P,Z,re)=>{Z==="Indent"?Fe(re,Os):Fe(re,Re=>tp(P,Re))},hl=(P,Z)=>{if(Qe(P))return{container:P,offset:Z};const re=Yc.getNode(P,Z);return Qe(re)?{container:re,offset:Z>=P.childNodes.length?re.data.length:0}:re.previousSibling&&Qe(re.previousSibling)?{container:re.previousSibling,offset:re.previousSibling.data.length}:re.nextSibling&&Qe(re.nextSibling)?{container:re.nextSibling,offset:0}:{container:P,offset:Z}},Jr=P=>{const Z=P.cloneRange(),re=hl(P.startContainer,P.startOffset);Z.setStart(re.container,re.offset);const Re=hl(P.endContainer,P.endOffset);return Z.setEnd(Re.container,Re.offset),Z},Sm=["OL","UL","DL"],Bl=Sm.join(","),na=(P,Z)=>{const re=Z||P.selection.getStart(!0);return P.dom.getParent(re,Bl,Ad(P,re))},Fg=(P,Z)=>I(P)&&Z.length===1&&Z[0]===P,Oi=P=>O(P.querySelectorAll(Bl),nn),Ja=P=>{const Z=na(P),re=P.selection.getSelectedBlocks();return Fg(Z,re)?Oi(Z):O(re,Re=>nn(Re)&&Z!==Re)},oa=(P,Z)=>{const re=Ne.map(Z,Re=>{const We=P.dom.getParent(Re,"li,dd,dt",Ad(P,Re));return We||Re});return oo(re)},Ll=P=>{const Z=P.selection.getSelectedBlocks();return O(oa(P,Z),an)},np=P=>O(Ll(P),ho),Fo=(P,Z)=>{const re=P.dom.getParents(Z,"TD,TH");return re.length>0?re[0]:P.getBody()},eu=(P,Z)=>!nn(Z)&&!an(Z)&&Xe(Sm,re=>P.isValidChild(Z.nodeName,re)),Ad=(P,Z)=>{const re=P.dom.getParents(Z,P.dom.isBlock),Re=Rt=>Rt.nodeName.toLowerCase()!==Ed(P);return Jt(re,Rt=>Re(Rt)&&eu(P.schema,Rt)).getOr(P.getBody())},zu=P=>Kt(P).exists(Z=>an(Z.dom)&&ei(Z).exists(re=>!nn(re.dom))&&ym(Z).exists(re=>!nn(re.dom))),Av=(P,Z)=>{const re=P.dom.getParents(Z,"ol,ul",Ad(P,Z));return Mt(re)},nx=P=>{const Z=Av(P,P.selection.getStart()),re=O(P.selection.getSelectedBlocks(),un);return Z.toArray().concat(re)},V1=P=>{const Z=P.selection.getStart();return P.dom.getParents(Z,"ol,ul",Ad(P,Z))},z1=P=>{const Z=nx(P),re=V1(P);return Jt(re,Re=>zu(he.fromDom(Re))).fold(()=>bC(P,Z),Re=>[Re])},bC=(P,Z)=>{const re=Ee(Z,Re=>Av(P,Re).getOr(Re));return oo(re)},op=P=>/\btox\-/.test(P.className),H1=(P,Z)=>$t(P,nn,rn).exists(re=>re.nodeName===Z&&!op(re)),Xt=(P,Z)=>Z!==null&&!P.dom.isEditable(Z),gf=P=>{const Z=na(P);return Xt(P,Z)},hf=(P,Z)=>{const re=P.dom.getParent(Z,"ol,ul,dl");return Xt(P,re)},$1=(P,Z)=>{const re=P.selection.getNode();return Z({parents:P.dom.getParents(re),element:re}),P.on("NodeChange",Z),()=>P.off("NodeChange",Z)},ra=(P,Z)=>{const Re=document.createDocumentFragment();return Fe(P,We=>{Re.appendChild(We.dom)}),he.fromDom(Re)},pf=(P,Z,re)=>P.dispatch("ListMutation",{action:Z,element:re}),ox=(P=>Z=>Z.replace(P,""))(/^\s+|\s+$/g),rx=P=>P.length>0,Tv=P=>!rx(P),sx=P=>P.style!==void 0&&V(P.style.getPropertyValue),U1=(P,Z,re)=>{if(!v(re))throw console.error("Invalid call to CSS.set. Property ",Z,":: Value ",re,":: Element ",P),new Error("CSS value must be a string: "+re);sx(P)&&P.style.setProperty(Z,re)},ix=(P,Z,re)=>{const Re=P.dom;U1(Re,Z,re)},zg=P=>Ft(P,"OL,UL"),W1=P=>Ft(P,"LI"),vf=P=>ei(P).exists(zg),bf=P=>ym(P).exists(zg),sa=P=>"listAttributes"in P,pl=P=>"isComment"in P,Hg=P=>"isFragment"in P,Yo=P=>P.depth>0,Td=P=>P.isSelected,$g=P=>{const Z=jl(P),re=bf(P)?Z.slice(0,-1):Z;return Ee(re,Pr)},Ug=(P,Z,re)=>Kt(P).filter(To).map(Re=>({depth:Z,dirty:!1,isSelected:re,content:$g(P),itemAttributes:ka(P),listAttributes:ka(Re),listType:fr(Re),isInPreviousLi:!1})),Pa=(P,Z)=>{ml(P.item,Z.list)},Us=P=>{for(let Z=1;Z<P.length;Z++)Pa(P[Z-1],P[Z])},us=(P,Z)=>{kn(Mt(P),Ye(Z),Pa)},$i=(P,Z)=>{const re={list:he.fromTag(Z,P),item:he.fromTag("li",P)};return ml(re.list,re.item),re},Qr=(P,Z,re)=>{const Re=[];for(let We=0;We<re;We++)Re.push($i(P,sa(Z)?Z.listType:Z.parentListType));return Re},yf=(P,Z)=>{for(let re=0;re<P.length-1;re++)ix(P[re].item,"list-style-type","none");Mt(P).each(re=>{sa(Z)&&(_a(re.list,Z.listAttributes),_a(re.item,Z.itemAttributes)),Ca(re.item,Z.content)})},Em=(P,Z)=>{fr(P.list)!==Z.listType&&(P.list=Te(P.list,Z.listType)),_a(P.list,Z.listAttributes)},xi=(P,Z,re)=>{const Re=he.fromTag("li",P);return _a(Re,Z),Ca(Re,re),Re},Ma=(P,Z)=>{ml(P.list,Z),P.item=Z},Sa=(P,Z,re)=>{const Re=Z.slice(0,re.depth);return Mt(Re).each(We=>{if(sa(re)){const Rt=xi(P,re.itemAttributes,re.content);Ma(We,Rt),Em(We,re)}else if(Hg(re))Ca(We.item,re.content);else{const Rt=he.fromHtml(`<!--${re.content}-->`);ml(We.list,Rt)}}),Re},tu=(P,Z,re)=>{const Re=Qr(P,re,re.depth-Z.length);return Us(Re),yf(Re,re),us(Z,Re),Z.concat(Re)},Od=(P,Z)=>{let re=ee.none();const Re=ct(Z,(We,Rt,Kn)=>pl(Rt)?Kn===0?(re=ee.some(Rt),We):Sa(P,We,Rt):Rt.depth>We.length?tu(P,We,Rt):Sa(P,We,Rt),[]);return re.each(We=>{const Rt=he.fromHtml(`<!--${We.content}-->`);Ye(Re).each(Kn=>{Il(Kn.list,Rt)})}),Ye(Re).map(We=>We.list)},Io=(P,Z)=>{switch(P){case"Indent":Z.depth++;break;case"Outdent":Z.depth--;break;case"Flatten":Z.depth=0}Z.dirty=!0},ai=(P,Z)=>{sa(P)&&sa(Z)&&(P.listType=Z.listType,P.listAttributes={...Z.listAttributes})},vl=P=>{P.listAttributes=Ya(P.listAttributes,(Z,re)=>re!=="start")},Dd=(P,Z)=>{const re=P[Z].depth,Re=Rt=>Rt.depth===re&&!Rt.dirty,We=Rt=>Rt.depth<re;return $t(Lt(P.slice(0,Z)),Re,We).orThunk(()=>$t(P.slice(Z+1),Re,We))},Ui=P=>(Fe(P,(Z,re)=>{Dd(P,re).fold(()=>{Z.dirty&&sa(Z)&&vl(Z)},Re=>ai(Z,Re))}),P),Vn=P=>{let Z=P;return{get:()=>Z,set:We=>{Z=We}}},Sc=(P,Z,re,Re)=>{var We;if(As(Re))return[{depth:P+1,content:(We=Re.dom.nodeValue)!==null&&We!==void 0?We:"",dirty:!1,isSelected:!1,isComment:!0}];Z.each(po=>{zt(po.start,Re)&&re.set(!0)});const Rt=Ug(Re,P,re.get());Z.each(po=>{zt(po.end,Re)&&re.set(!1)});const Kn=ym(Re).filter(zg).map(po=>Tr(P,Z,re,po)).getOr([]);return Rt.toArray().concat(Kn)},Ec=(P,Z,re,Re)=>ei(Re).filter(zg).fold(()=>Sc(P,Z,re,Re),We=>{const Rt=ct(jl(Re),(Kn,po,lo)=>{if(lo===0)return Kn;if(W1(po))return Kn.concat(Sc(P,Z,re,po));{const On={isFragment:!0,depth:P,content:[po],isSelected:!1,dirty:!1,parentListType:fr(We)};return Kn.concat(On)}},[]);return Tr(P,Z,re,We).concat(Rt)}),Tr=(P,Z,re,Re)=>pt(jl(Re),We=>{const Rt=zg(We)?Tr:Ec,Kn=P+1;return Rt(Kn,Z,re,We)}),rp=(P,Z)=>{const re=Vn(!1),Re=0;return Ee(P,We=>({sourceList:We,entries:Tr(Re,Z,re,We)}))},Ov=(P,Z)=>{const re=Ui(Z);return Ee(re,Re=>{const We=pl(Re)?ra([he.fromHtml(`<!--${Re.content}-->`)]):ra(Re.content),Rt=sa(Re)?Re.itemAttributes:{};return he.fromDom(mf(P,We.dom,Rt))})},Rd=(P,Z)=>{const re=Ui(Z);return Od(P.contentDocument,re).toArray()},Vo=(P,Z)=>pt(Ge(Z,Yo),re=>Ye(re).exists(Yo)?Rd(P,re):Ov(P,re)),Ba=(P,Z)=>{Fe(O(P,Td),re=>Io(Z,re))},sp=P=>{const Z=Ee(Ll(P),he.fromDom);return kn(Jt(Z,Ve(vf)),Jt(Lt(Z),Ve(vf)),(re,Re)=>({start:re,end:Re}))},Id=(P,Z,re)=>{const Re=rp(Z,sp(P));Fe(Re,We=>{Ba(We.entries,re);const Rt=Vo(P,We.entries);Fe(Rt,Kn=>{pf(P,re==="Indent"?"IndentList":"OutdentList",Kn.dom)}),ls(We.sourceList,Rt),Cm(We.sourceList)})},Dv=(P,Z)=>{const re=Sd(z1(P)),Re=Sd(np(P));let We=!1;if(re.length||Re.length){const Rt=P.selection.getBookmark();Id(P,re,Z),kc(P,Z,Re),P.selection.moveToBookmark(Rt),P.selection.setRng(Jr(P.selection.getRng())),P.nodeChanged(),We=!0}return We},nu=(P,Z)=>!gf(P)&&Dv(P,Z),Qa=P=>nu(P,"Indent"),ou=P=>nu(P,"Outdent"),xf=P=>nu(P,"Flatten"),ze="\uFEFF",Am=P=>P===ze,Mr=(P,Z,re)=>Kl(P,Z,re).isSome(),Rv=(P,Z)=>Mr(P,ce(zt,Z));var Wg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ru=ot.DOM,Xo=P=>{const Z={},re=Re=>{let We=P[Re?"startContainer":"endContainer"],Rt=P[Re?"startOffset":"endOffset"];if(Wt(We)){const Kn=ru.create("span",{"data-mce-type":"bookmark"});We.hasChildNodes()?(Rt=Math.min(Rt,We.childNodes.length-1),Re?We.insertBefore(Kn,We.childNodes[Rt]):ru.insertAfter(Kn,We.childNodes[Rt])):We.appendChild(Kn),We=Kn,Rt=0}Z[Re?"startContainer":"endContainer"]=We,Z[Re?"startOffset":"endOffset"]=Rt};return re(!0),P.collapsed||re(),Z},ia=P=>{const Z=Re=>{const We=po=>{var lo;let On=(lo=po.parentNode)===null||lo===void 0?void 0:lo.firstChild,xr=0;for(;On;){if(On===po)return xr;(!Wt(On)||On.getAttribute("data-mce-type")!=="bookmark")&&xr++,On=On.nextSibling}return-1};let Rt=P[Re?"startContainer":"endContainer"],Kn=P[Re?"startOffset":"endOffset"];if(Rt){if(Wt(Rt)&&Rt.parentNode){const po=Rt;Kn=We(Rt),Rt=Rt.parentNode,ru.remove(po),!Rt.hasChildNodes()&&ru.isBlock(Rt)&&Rt.appendChild(ru.create("br"))}P[Re?"startContainer":"endContainer"]=Rt,P[Re?"startOffset":"endOffset"]=Kn}};Z(!0),Z();const re=ru.createRng();return re.setStart(P.startContainer,P.startOffset),P.endContainer&&re.setEnd(P.endContainer,P.endOffset),Jr(re)},Hu=P=>{switch(P){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rc=(P,Z,re)=>{const Re=re["list-style-type"]?re["list-style-type"]:null;P.setStyle(Z,"list-style-type",Re)},$u=(P,Z)=>{Ne.each(Z,(re,Re)=>{P.setAttribute(Re,re)})},Uu=(P,Z,re)=>{$u(Z,re["list-attributes"]),Ne.each(P.select("li",Z),Re=>{$u(Re,re["list-item-attributes"])})},aa=(P,Z,re)=>{rc(P,Z,re),Uu(P,Z,re)},wf=(P,Z,re)=>{Ne.each(re,Re=>P.setStyle(Z,Re,""))},Tm=(P,Z)=>I(Z)&&!Ts(Z,P.schema.getBlockElements()),Iv=(P,Z,re,Re)=>{let We=Z[re?"startContainer":"endContainer"];const Rt=Z[re?"startOffset":"endOffset"];Wt(We)&&(We=We.childNodes[Math.min(Rt,We.childNodes.length-1)]||We),!re&&Ar(We.nextSibling)&&(We=We.nextSibling);const Kn=lo=>{for(;!P.dom.isBlock(lo)&&lo.parentNode&&Re!==lo;)lo=lo.parentNode;return lo},po=(lo,On)=>{var xr;const js=new Xc(lo,Kn(lo)),ks=On?"next":"prev";let Oc;for(;Oc=js[ks]();)if(!(So(P,Oc)||Am(Oc.textContent)||((xr=Oc.textContent)===null||xr===void 0?void 0:xr.length)===0))return ee.some(Oc);return ee.none()};if(re&&Qe(We))if(Am(We.textContent))We=po(We,!1).getOr(We);else for(We.parentNode!==null&&Tm(P,We.parentNode)&&(We=We.parentNode);We.previousSibling!==null&&(Tm(P,We.previousSibling)||Qe(We.previousSibling));)We=We.previousSibling;if(!re&&Qe(We))if(Am(We.textContent))We=po(We,!0).getOr(We);else for(We.parentNode!==null&&Tm(P,We.parentNode)&&(We=We.parentNode);We.nextSibling!==null&&(Tm(P,We.nextSibling)||Qe(We.nextSibling));)We=We.nextSibling;for(;We.parentNode!==Re;){const lo=We.parentNode;if(Ko(P,We)||/^(TD|TH)$/.test(lo.nodeName))return We;We=lo}return We},wi=(P,Z,re)=>{const Re=[],We=P.dom,Rt=Iv(P,Z,!0,re),Kn=Iv(P,Z,!1,re);let po;const lo=[];for(let On=Rt;On&&(lo.push(On),On!==Kn);On=On.nextSibling);return Ne.each(lo,On=>{var xr;if(Ko(P,On)){Re.push(On),po=null;return}if(We.isBlock(On)||Ar(On)){Ar(On)&&We.remove(On),po=null;return}const js=On.nextSibling;if(Wg.isBookmarkNode(On)&&(nn(js)||Ko(P,js)||!js&&On.parentNode===re)){po=null;return}po||(po=We.create("p"),(xr=On.parentNode)===null||xr===void 0||xr.insertBefore(po,On),Re.push(po)),po.appendChild(On)}),Re},Zn=(P,Z,re)=>{const Re=P.getStyle(Z,"list-style-type");let We=re?re["list-style-type"]:"";return We=We===null?"":We,Re===We},Wu=(P,Z)=>{const re=P.selection.getStart(!0),Re=Iv(P,Z,!0,P.getBody());return Rv(he.fromDom(Re),he.fromDom(Z.commonAncestorContainer))?Z.commonAncestorContainer:re},Om=(P,Z,re)=>{const Re=P.selection.getRng();let We="LI";const Rt=Ad(P,Wu(P,Re)),Kn=P.dom;if(Kn.getContentEditable(P.selection.getNode())==="false")return;Z=Z.toUpperCase(),Z==="DL"&&(We="DT");const po=Xo(Re),lo=O(wi(P,Re,Rt),P.dom.isEditable);Ne.each(lo,On=>{let xr;const js=On.previousSibling,ks=On.parentNode;an(ks)||(js&&nn(js)&&js.nodeName===Z&&Zn(Kn,js,re)?(xr=js,On=Kn.rename(On,We),js.appendChild(On)):(xr=Kn.create(Z),ks.insertBefore(xr,On),xr.appendChild(On),On=Kn.rename(On,We)),wf(Kn,On,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),aa(Kn,xr,re),Nd(P.dom,xr))}),P.selection.setRng(ia(po))},la=(P,Z)=>nn(P)&&P.nodeName===(Z==null?void 0:Z.nodeName),Zu=(P,Z,re)=>{const Re=P.getStyle(Z,"list-style-type",!0),We=P.getStyle(re,"list-style-type",!0);return Re===We},Fl=(P,Z)=>P.className===Z.className,ju=(P,Z,re)=>la(Z,re)&&Zu(P,Z,re)&&Fl(Z,re),Nd=(P,Z)=>{let re,Re=Z.nextSibling;if(ju(P,Z,Re)){const We=Re;for(;re=We.firstChild;)Z.appendChild(re);P.remove(We)}if(Re=Z.previousSibling,ju(P,Z,Re)){const We=Re;for(;re=We.lastChild;)Z.insertBefore(re,Z.firstChild);P.remove(We)}},Ci=(P,Z,re,Re)=>{if(Z.nodeName!==re){const We=P.dom.rename(Z,re);aa(P.dom,We,Re),pf(P,Hu(re),We)}else aa(P.dom,Z,Re),pf(P,Hu(re),Z)},sc=(P,Z,re,Re)=>{if(Z.classList.forEach((We,Rt,Kn)=>{We.startsWith("tox-")&&(Kn.remove(We),Kn.length===0&&Z.removeAttribute("class"))}),Z.nodeName!==re){const We=P.dom.rename(Z,re);aa(P.dom,We,Re),pf(P,Hu(re),We)}else aa(P.dom,Z,Re),pf(P,Hu(re),Z)},su=(P,Z,re,Re,We)=>{const Rt=nn(Z);if(Rt&&Z.nodeName===Re&&!Dm(We)&&!op(Z))xf(P);else{Om(P,Re,We);const Kn=Xo(P.selection.getRng()),po=Rt?[Z,...re]:re,lo=Rt&&op(Z)?sc:Ci;Ne.each(po,On=>{lo(P,On,Re,We)}),P.selection.setRng(ia(Kn))}},Dm=P=>"list-style-type"in P,Z1=(P,Z,re,Re)=>{if(Z!==P.getBody())if(Z)if(Z.nodeName===re&&!Dm(Re)&&!op(Z))xf(P);else{const We=Xo(P.selection.getRng());op(Z)&&Z.classList.forEach((Kn,po,lo)=>{Kn.startsWith("tox-")&&(lo.remove(Kn),lo.length===0&&Z.removeAttribute("class"))}),aa(P.dom,Z,Re);const Rt=P.dom.rename(Z,re);Nd(P.dom,Rt),P.selection.setRng(ia(We)),Om(P,re,Re),pf(P,Hu(re),Rt)}else Om(P,re,Re),pf(P,Hu(re),Z)},Ku=(P,Z,re)=>{const Re=na(P);if(hf(P,Re))return;const We=Ja(P),Rt=x(re)?re:{};We.length>0?su(P,Re,We,Z,Rt):Z1(P,Re,Z,Rt)},Cf=ot.DOM,Nv=(P,Z)=>{const re=Z.parentElement;if(re&&re.nodeName==="LI"&&re.firstChild===Z){const Re=re.previousSibling;Re&&Re.nodeName==="LI"?(Re.appendChild(Z),ta(P,re)&&Cf.remove(re)):Cf.setStyle(re,"listStyleType","none")}if(nn(re)){const Re=re.previousSibling;Re&&Re.nodeName==="LI"&&Re.appendChild(Z)}},Cs=(P,Z)=>{const re=Ne.grep(P.select("ol,ul",Z));Ne.each(re,Re=>{Nv(P,Re)})},La=(P,Z,re,Re)=>{let We=Z.startContainer;const Rt=Z.startOffset;if(Qe(We)&&(re?Rt<We.data.length:Rt>0))return We;const Kn=P.schema.getNonEmptyElements();Wt(We)&&(We=Yc.getNode(We,Rt));const po=new Xc(We,Re);re&&Pl(P.dom,We)&&po.next();const lo=re?po.next.bind(po):po.prev2.bind(po);for(;We=lo();)if(We.nodeName==="LI"&&!We.hasChildNodes()||Kn[We.nodeName]||Qe(We)&&We.data.length>0)return We;return null},Ea=(P,Z)=>{const re=Z.childNodes;return re.length===1&&!nn(re[0])&&P.isBlock(re[0])},el=P=>ee.from(P).map(he.fromDom).filter(hn).exists(Z=>xm(Z)&&!Me(["details"],fr(Z))),hi=(P,Z)=>{Ea(P,Z)&&el(Z.firstChild)&&P.remove(Z.firstChild,!0)},ip=(P,Z,re)=>{let Re;const We=Ea(P,re)?re.firstChild:re;if(hi(P,Z),!ta(P,Z,!0))for(;Re=Z.firstChild;)We.appendChild(Re)},li=(P,Z,re)=>{let Re;const We=Z.parentNode;if(!co(P,Z)||!co(P,re))return;nn(re.lastChild)&&(Re=re.lastChild),We===re.lastChild&&Ar(We.previousSibling)&&P.remove(We.previousSibling);const Rt=re.lastChild;Rt&&Ar(Rt)&&Z.hasChildNodes()&&P.remove(Rt),ta(P,re,!0)&&Nl(he.fromDom(re)),ip(P,Z,re),Re&&re.appendChild(Re);const po=vt(he.fromDom(re),he.fromDom(Z))?P.getParents(Z,nn,re):[];P.remove(Z),Fe(po,lo=>{ta(P,lo)&&lo!==P.getRoot()&&P.remove(lo)})},Wi=(P,Z,re)=>{Nl(he.fromDom(re)),li(P.dom,Z,re),P.selection.setCursorLocation(re,0)},iu=(P,Z,re,Re)=>{const We=P.dom;if(We.isEmpty(Re))Wi(P,re,Re);else{const Rt=Xo(Z);li(We,re,Re),P.selection.setRng(ia(Rt))}},Dt=(P,Z,re,Re)=>{const We=Xo(Z);li(P.dom,re,Re);const Rt=ia(We);P.selection.setRng(Rt)},Zi=(P,Z)=>{const re=P.dom,Re=P.selection,We=Re.getStart(),Rt=Fo(P,We),Kn=re.getParent(Re.getStart(),"LI",Rt);if(Kn){const po=Kn.parentElement;if(po===P.getBody()&&ta(re,po))return!0;const lo=Jr(Re.getRng()),On=re.getParent(La(P,lo,Z,Rt),"LI",Rt),xr=On&&(Z?re.isChildOf(Kn,On):re.isChildOf(On,Kn));if(On&&On!==Kn&&!xr)return P.undoManager.transact(()=>{Z?iu(P,lo,On,Kn):Lo(Kn)?ou(P):Dt(P,lo,Kn,On)}),!0;if(xr&&!Z&&On!==Kn)return P.undoManager.transact(()=>{if(lo.commonAncestorContainer.parentElement){const js=Xo(lo),ks=lo.commonAncestorContainer.parentElement;ip(re,lo.commonAncestorContainer.parentElement,On),ks.remove();const Oc=ia(js);P.selection.setRng(Oc)}}),!0;if(!On&&!Z&&lo.startOffset===0&&lo.endOffset===0)return P.undoManager.transact(()=>{xf(P)}),!0}return!1},ap=(P,Z,re)=>{const Re=P.getParent(Z.parentNode,P.isBlock,re);P.remove(Z),Re&&P.isEmpty(Re)&&P.remove(Re)},_s=(P,Z)=>{const re=P.dom,Re=P.selection.getStart(),We=Fo(P,Re),Rt=re.getParent(Re,re.isBlock,We);if(Rt&&re.isEmpty(Rt,void 0,{checkRootAsContent:!0})){const Kn=Jr(P.selection.getRng()),po=re.getParent(La(P,Kn,Z,We),"LI",We);if(po){const lo=ks=>Me(["td","th","caption"],fr(ks)),On=ks=>ks.dom===We,xr=Ti(he.fromDom(po),lo,On),js=Ti(he.fromDom(Kn.startContainer),lo,On);return fn(xr,js,zt)?(P.undoManager.transact(()=>{const ks=po.parentNode;ap(re,Rt,We),Nd(re,ks),P.selection.select(po,!0),P.selection.collapse(Z)}),!0):!1}}return!1},Gu=(P,Z)=>Zi(P,Z)||_s(P,Z),Fa=P=>{const Z=P.selection.getStart(),re=Fo(P,Z);return P.dom.getParent(Z,"LI,DT,DD",re)||Ll(P).length>0},Ac=P=>Fa(P)?(P.undoManager.transact(()=>{P.execCommand("Delete"),Cs(P.dom,P.getBody())}),!0):!1,Rm=(P,Z)=>{const re=P.selection;return!hf(P,re.getNode())&&(re.isCollapsed()?Gu(P,Z):Ac(P))},tl=P=>{P.on("ExecCommand",Z=>{const re=Z.command.toLowerCase();(re==="delete"||re==="forwarddelete")&&Fa(P)&&Cs(P.dom,P.getBody())}),P.on("keydown",Z=>{Z.keyCode===ff.BACKSPACE?Rm(P,!1)&&Z.preventDefault():Z.keyCode===ff.DELETE&&Rm(P,!0)&&Z.preventDefault()})},Go=P=>({backspaceDelete:Z=>{Rm(P,Z)}}),Ws=(P,Z)=>{const re=na(P);re===null||hf(P,re)||P.undoManager.transact(()=>{x(Z.styles)&&P.dom.setStyles(re,Z.styles),x(Z.attrs)&&Ls(Z.attrs,(Re,We)=>P.dom.setAttrib(re,We,Re))})},_f=P=>{const Z=Lt(ox(P).split("")),re=Ee(Z,(Re,We)=>{const Rt=Re.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,We)*Rt});return ct(re,(Re,We)=>Re+We,0)},Fs=P=>{if(P--,P<0)return"";{const Z=P%26,re=Math.floor(P/26),Re=Fs(re),We=String.fromCharCode(65+Z);return Re+We}},Zg=P=>/^[A-Z]+$/.test(P),au=P=>/^[a-z]+$/.test(P),j1=P=>/^[0-9]+$/.test(P),Ds=P=>j1(P)?2:Zg(P)?0:au(P)?1:Tv(P)?3:4,it=P=>{switch(Ds(P)){case 2:return ee.some({listStyleType:ee.none(),start:P});case 0:return ee.some({listStyleType:ee.some("upper-alpha"),start:_f(P).toString()});case 1:return ee.some({listStyleType:ee.some("lower-alpha"),start:_f(P).toString()});case 3:return ee.some({listStyleType:ee.none(),start:""});case 4:return ee.none()}},Va=P=>{const Z=parseInt(P.start,10);return zn(P.listStyleType,"upper-alpha")?Fs(Z):zn(P.listStyleType,"lower-alpha")?Fs(Z).toLowerCase():P.start},Zs=P=>{const Z=na(P);!vn(Z)||hf(P,Z)||P.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Va({start:P.dom.getAttrib(Z,"start","1"),listStyleType:ee.from(P.dom.getStyle(Z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:re=>{const Re=re.getData();it(Re.start).each(We=>{P.execCommand("mceListUpdate",!1,{attrs:{start:We.start==="1"?"":We.start},styles:{"list-style-type":We.listStyleType.getOr("")}})}),re.close()}})},Gl=(P,Z)=>()=>{const re=na(P);return I(re)&&re.nodeName===Z},Tc=P=>{P.addCommand("mceListProps",()=>{Zs(P)})},ti=P=>{P.on("BeforeExecCommand",Z=>{const re=Z.command.toLowerCase();re==="indent"?Qa(P):re==="outdent"&&ou(P)}),P.addCommand("InsertUnorderedList",(Z,re)=>{Ku(P,"UL",re)}),P.addCommand("InsertOrderedList",(Z,re)=>{Ku(P,"OL",re)}),P.addCommand("InsertDefinitionList",(Z,re)=>{Ku(P,"DL",re)}),P.addCommand("RemoveList",()=>{xf(P)}),Tc(P),P.addCommand("mceListUpdate",(Z,re)=>{x(re)&&Ws(P,re)}),P.addQueryStateHandler("InsertUnorderedList",Gl(P,"UL")),P.addQueryStateHandler("InsertOrderedList",Gl(P,"OL")),P.addQueryStateHandler("InsertDefinitionList",Gl(P,"DL"))};var es=tinymce.util.Tools.resolve("tinymce.html.Node");const Rr=P=>P.type===3,za=P=>P.length===0,ql=P=>{const Z=(We,Rt)=>{const Kn=es.create("li");Fe(We,po=>Kn.append(po)),Rt?P.insert(Kn,Rt,!0):P.append(Kn)},re=(We,Rt)=>Rr(Rt)?[...We,Rt]:!za(We)&&!Rr(Rt)?(Z(We,Rt),[]):We,Re=ct(P.children(),re,[]);za(Re)||Z(Re)},lu=P=>{P.on("PreInit",()=>{const{parser:Z}=P;Z.addNodeFilter("ul,ol",re=>Fe(re,ql))})},Pd=P=>{P.on("keydown",Z=>{Z.keyCode!==ff.TAB||ff.metaKeyPressed(Z)||P.undoManager.transact(()=>{(Z.shiftKey?ou(P):Qa(P))&&Z.preventDefault()})})},Im=P=>{ws(P)&&Pd(P),tl(P)},jg=(P,Z)=>re=>{const Re=We=>{re.setActive(H1(We.parents,Z)),re.setEnabled(!hf(P,We.element)&&P.selection.isEditable())};return re.setEnabled(P.selection.isEditable()),$1(P,Re)},Kg=P=>{const Z=re=>()=>P.execCommand(re);P.hasPlugin("advlist")||(P.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:Z("InsertOrderedList"),onSetup:jg(P,"OL")}),P.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:Z("InsertUnorderedList"),onSetup:jg(P,"UL")}))},Pv=(P,Z)=>re=>$1(P,We=>re.setEnabled(H1(We.parents,Z)&&!hf(P,We.element))),Mv=P=>{const Z={text:"List properties...",icon:"ordered-list",onAction:()=>P.execCommand("mceListProps"),onSetup:Pv(P,"OL")};P.ui.registry.addMenuItem("listprops",Z),P.ui.registry.addContextMenu("lists",{update:re=>{const Re=na(P,re);return vn(Re)?["listprops"]:[]}})};var qu=()=>{n.add("lists",P=>(gl(P),lu(P),P.hasPlugin("rtc",!0)?Tc(P):(Im(P),ti(P)),Kg(P),Mv(P),Go(P)))};qu()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(ie,be)=>ie.dispatch("insertCustomChar",{chr:be}),l=(ie,be)=>{const Le=s(ie,be).chr;ie.execCommand("mceInsertContent",!1,Le)},d=(ie,be,Le)=>{var he;return Le(ie,be.prototype)?!0:((he=ie.constructor)===null||he===void 0?void 0:he.name)===be.name},g=ie=>{const be=typeof ie;return ie===null?"null":be==="object"&&Array.isArray(ie)?"array":be==="object"&&d(ie,String,(Le,he)=>he.isPrototypeOf(Le))?"string":be},v=ie=>be=>g(be)===ie,x=ie=>be=>typeof be===ie,_=ie=>be=>ie===be,N=v("array"),R=_(null),I=_(void 0),V=ie=>ie==null,$=ie=>!V(ie),G=x("function"),te=(ie=>()=>ie)(!1);class ae{constructor(be,Le){this.tag=be,this.value=Le}static some(be){return new ae(!0,be)}static none(){return ae.singletonNone}fold(be,Le){return this.tag?Le(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?ae.some(be(this.value)):ae.none()}bind(be){return this.tag?be(this.value):ae.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:ae.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return $(be)?ae.some(be):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const ce=Array.prototype.push,Ve=(ie,be)=>{const Le=ie.length,he=new Array(Le);for(let gt=0;gt<Le;gt++){const zt=ie[gt];he[gt]=be(zt,gt)}return he},Ce=(ie,be)=>{for(let Le=0,he=ie.length;Le<he;Le++){const gt=ie[Le];be(gt,Le)}},ee=(ie,be,Le)=>{for(let he=0,gt=ie.length;he<gt;he++){const zt=ie[he];if(be(zt,he))return ae.some(zt);if(Le(zt,he))break}return ae.none()},we=(ie,be)=>ee(ie,be,te),le=ie=>{const be=[];for(let Le=0,he=ie.length;Le<he;++Le){if(!N(ie[Le]))throw new Error("Arr.flatten item "+Le+" was not an array, input: "+ie);ce.apply(be,ie[Le])}return be},Ze=(ie,be)=>le(Ve(ie,be));var Be=tinymce.util.Tools.resolve("tinymce.util.Tools");const Me=ie=>be=>be.options.get(ie),Xe=ie=>{const be=ie.options.register,Le=he=>G(he)||N(he);be("charmap",{processor:Le}),be("charmap_append",{processor:Le})},Ee=Me("charmap"),Fe=Me("charmap_append"),O=Be.isArray,Ge="User Defined",ct=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],$t=ie=>Be.grep(ie,be=>O(be)&&be.length===2),Jt=ie=>O(ie)?$t(ie):typeof ie=="function"?ie():[],tt=(ie,be)=>{const Le=Ee(ie);Le&&(be=[{name:Ge,characters:Jt(Le)}]);const he=Fe(ie);if(he){const gt=Be.grep(be,zt=>zt.name===Ge);return gt.length?(gt[0].characters=[...gt[0].characters,...Jt(he)],be):be.concat({name:Ge,characters:Jt(he)})}return be},pt=ie=>{const be=tt(ie,ct());return be.length>1?[{name:"All",characters:Ze(be,Le=>Le.characters)}].concat(be):be},Lt=ie=>({getCharMap:()=>pt(ie),insertChar:he=>{l(ie,he)}}),nt=ie=>{let be=ie;return{get:()=>be,set:gt=>{be=gt}}},Ye=(ie,be)=>{let Le=null;const he=()=>{R(Le)||(clearTimeout(Le),Le=null)};return{cancel:he,throttle:(...zt)=>{he(),Le=setTimeout(()=>{Le=null,ie.apply(null,zt)},be)}}},Mt=(ie,be,Le=0,he)=>{const gt=ie.indexOf(be,Le);return gt!==-1?I(he)?!0:gt+be.length<=he:!1},oo=String.fromCodePoint,zn=(ie,be,Le)=>Mt(oo(ie).toLowerCase(),Le)?!0:Mt(be.toLowerCase(),Le)||Mt(be.toLowerCase().replace(/\s+/g,""),Le),fn=(ie,be)=>{const Le=[],he=be.toLowerCase();return Ce(ie.characters,gt=>{zn(gt[0],gt[1],he)&&Le.push(gt)}),Ve(Le,gt=>({text:gt[1],value:oo(gt[0]),icon:oo(gt[0])}))},kn="pattern",J=(ie,be)=>{const Le=()=>[{label:"Search",type:"input",name:kn},{type:"collection",name:"results"}],he=()=>Ve(be,Ro=>({title:Ro.name,name:Ro.name,items:Le()})),gt=()=>({type:"panel",items:Le()}),zt=()=>({type:"tabpanel",tabs:he()}),vt=be.length===1?nt(Ge):nt("All"),Ft=(Ro,Uo)=>{we(be,fr=>fr.name===vt.get()).each(fr=>{const as=fn(fr,Uo);Ro.setData({results:as})})},wn=Ye(Ro=>{const Uo=Ro.getData().pattern;Ft(Ro,Uo)},40),cn=be.length===1?gt():zt(),Tn={pattern:"",results:fn(be[0],"")},Dn={title:"Special Character",size:"normal",body:cn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Tn,onAction:(Ro,Uo)=>{Uo.name==="results"&&(l(ie,Uo.value),Ro.close())},onTabChange:(Ro,Uo)=>{vt.set(Uo.newTabName),wn.throttle(Ro)},onChange:(Ro,Uo)=>{Uo.name===kn&&wn.throttle(Ro)}};ie.windowManager.open(Dn).focus(kn)},Cr=(ie,be)=>{ie.addCommand("mceShowCharmap",()=>{J(ie,be)})},eo=(ie,be)=>{ie.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Le,he)=>new Promise((gt,zt)=>{gt(fn(be,Le))}),onAction:(Le,he,gt)=>{ie.selection.setRng(he),ie.insertContent(gt),Le.hide()}})},tn=ie=>be=>{const Le=()=>{be.setEnabled(ie.selection.isEditable())};return ie.on("NodeChange",Le),Le(),()=>{ie.off("NodeChange",Le)}},Do=ie=>{const be=()=>ie.execCommand("mceShowCharmap");ie.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:be,onSetup:tn(ie)}),ie.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:be,onSetup:tn(ie)})};var Ke=()=>{n.add("charmap",ie=>{Xe(ie);const be=pt(ie);return Cr(ie,be),Do(ie),eo(ie,be[0]),Lt(ie)})};Ke()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(ie=>be=>ie===be)(null),d=ie=>ie,g=(ie,be)=>{const Le=ie.length,he=new Array(Le);for(let gt=0;gt<Le;gt++){const zt=ie[gt];he[gt]=be(zt,gt)}return he},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},_={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},N=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],R="",I=new RegExp("^"+x.punctuation+"$"),V=/^\s+$/,$=N,G=_.OTHER,W=ie=>{let be=G;const Le=$.length;for(let he=0;he<Le;++he){const gt=$[he];if(gt&&gt.test(ie)){be=he;break}}return be},te=ie=>{const be={};return Le=>{if(be[Le])return be[Le];{const he=ie(Le);return be[Le]=he,he}}},ae=ie=>{const be=te(W);return g(ie,be)},ce=(ie,be)=>{const Le=ie[be],he=ie[be+1];if(be<0||be>ie.length-1&&be!==0||Le===_.ALETTER&&he===_.ALETTER)return!1;const gt=ie[be+2];if(Le===_.ALETTER&&(he===_.MIDLETTER||he===_.MIDNUMLET||he===_.AT)&&gt===_.ALETTER)return!1;const zt=ie[be-1];return(Le===_.MIDLETTER||Le===_.MIDNUMLET||he===_.AT)&&he===_.ALETTER&&zt===_.ALETTER||(Le===_.NUMERIC||Le===_.ALETTER)&&(he===_.NUMERIC||he===_.ALETTER)||(Le===_.MIDNUM||Le===_.MIDNUMLET)&&he===_.NUMERIC&&zt===_.NUMERIC||Le===_.NUMERIC&&(he===_.MIDNUM||he===_.MIDNUMLET)&&gt===_.NUMERIC||(Le===_.EXTEND||Le===_.FORMAT)&&(he===_.ALETTER||he===_.NUMERIC||he===_.KATAKANA||he===_.EXTEND||he===_.FORMAT)||(he===_.EXTEND||he===_.FORMAT&&(gt===_.ALETTER||gt===_.NUMERIC||gt===_.KATAKANA||gt===_.EXTEND||gt===_.FORMAT))&&(Le===_.ALETTER||Le===_.NUMERIC||Le===_.KATAKANA||Le===_.EXTEND||Le===_.FORMAT)||Le===_.CR&&he===_.LF?!1:Le===_.NEWLINE||Le===_.CR||Le===_.LF||he===_.NEWLINE||he===_.CR||he===_.LF?!0:!(Le===_.KATAKANA&&he===_.KATAKANA||he===_.EXTENDNUMLET&&(Le===_.ALETTER||Le===_.NUMERIC||Le===_.KATAKANA||Le===_.EXTENDNUMLET)||Le===_.EXTENDNUMLET&&(he===_.ALETTER||he===_.NUMERIC||he===_.KATAKANA)||Le===_.AT)},Ve=R,Ce=V,ee=I,we=ie=>ie==="http"||ie==="https",le=(ie,be)=>{let Le;for(Le=be;Le<ie.length&&!Ce.test(ie[Le]);Le++);return Le},Ze=(ie,be)=>{const Le=le(ie,be+1);return ie.slice(be+1,Le).join(Ve).substr(0,3)==="://"?Le:be},Be=(ie,be,Le,he)=>{const gt=[],zt=[];let vt=[];for(let Ft=0;Ft<Le.length;++Ft)if(vt.push(ie[Ft]),ce(Le,Ft)){const Vt=be[Ft];if((he.includeWhitespace||!Ce.test(Vt))&&(he.includePunctuation||!ee.test(Vt))){const wn=Ft-vt.length+1,cn=Ft+1,Tn=be.slice(wn,cn).join(Ve);if(we(Tn)){const Dn=Ze(be,Ft),Co=ie.slice(cn,Dn);Array.prototype.push.apply(vt,Co),Ft=Dn}be[Ft+1]==="."&&/^([a-zA-Z]\.)+$/.test(Tn+".")?(vt.push(ie[Ft+1]),zt.push({start:wn,end:cn+1})):zt.push({start:wn,end:cn}),gt.push(vt)}vt=[]}return{words:gt,indices:zt}},Me=()=>({includeWhitespace:!1,includePunctuation:!1}),Xe=(ie,be,Le)=>{Le={...Me(),...Le};const he=g(ie,be),gt=ae(he);return Be(ie,he,gt,Le)},Fe=(ie,be,Le)=>Xe(ie,be,Le).words,O=ie=>ie.replace(/\uFEFF/g,"");var Ge=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ct=(ie,be)=>{const Le=be.getBlockElements(),he=be.getVoidElements(),gt=wn=>Le[wn.nodeName]||he[wn.nodeName],zt=[];let vt="";const Ft=new Ge(ie,ie);let Vt;for(;Vt=Ft.next();)Vt.nodeType===3?vt+=O(Vt.data):gt(Vt)&&vt.length&&(zt.push(vt),vt="");return vt.length&&zt.push(vt),zt},$t=ie=>ie.replace(/\u200B/g,""),Jt=ie=>ie.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,tt=(ie,be)=>{const Le=$t(ct(ie,be).join(`
`));return Fe(Le.split(""),d).length},pt=(ie,be)=>{const Le=ct(ie,be).join("");return Jt(Le)},Lt=(ie,be)=>{const Le=ct(ie,be).join("").replace(/\s/g,"");return Jt(Le)},nt=(ie,be)=>()=>be(ie.getBody(),ie.schema),Ye=(ie,be)=>()=>be(ie.selection.getRng().cloneContents(),ie.schema),Mt=ie=>nt(ie,tt),oo=ie=>({body:{getWordCount:Mt(ie),getCharacterCount:nt(ie,pt),getCharacterCountWithoutSpaces:nt(ie,Lt)},selection:{getWordCount:Ye(ie,tt),getCharacterCount:Ye(ie,pt),getCharacterCountWithoutSpaces:Ye(ie,Lt)},getCount:Mt(ie)}),zn=(ie,be)=>{ie.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(be.body.getWordCount()),String(be.selection.getWordCount())],["Characters (no spaces)",String(be.body.getCharacterCountWithoutSpaces()),String(be.selection.getCharacterCountWithoutSpaces())],["Characters",String(be.body.getCharacterCount()),String(be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},fn=(ie,be)=>{ie.addCommand("mceWordCount",()=>zn(ie,be))},kn=(ie,be)=>{let Le=null;return{cancel:()=>{l(Le)||(clearTimeout(Le),Le=null)},throttle:(...zt)=>{l(Le)&&(Le=setTimeout(()=>{Le=null,ie.apply(null,zt)},be))}}};var J=tinymce.util.Tools.resolve("tinymce.util.Delay");const Cr=(ie,be)=>{ie.dispatch("wordCountUpdate",{wordCount:{words:be.body.getWordCount(),characters:be.body.getCharacterCount(),charactersWithoutSpaces:be.body.getCharacterCountWithoutSpaces()}})},eo=(ie,be)=>{Cr(ie,be)},tn=(ie,be,Le)=>{const he=kn(()=>eo(ie,be),Le);ie.on("init",()=>{eo(ie,be),J.setEditorTimeout(ie,()=>{ie.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",he.throttle)},0),ie.on("remove",he.cancel)})},Do=ie=>{const be=()=>ie.execCommand("mceWordCount");ie.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:be}),ie.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:be})};var Ke=(ie=300)=>{n.add("wordcount",be=>{const Le=oo(be);return fn(be,Le),Do(be),tn(be,Le,ie),Le})};Ke()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var cye=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],uye=function(n){return cye.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())!==-1},dye=function(n,s,l){Object.keys(s).filter(uye).forEach(function(d){var g=s[d];typeof g=="function"&&(d==="onInit"?g(n,l):l.on(d.substring(2),function(v){return g(v,l)}))})},fye=function(n,s,l,d){var g=n.modelEvents?n.modelEvents:null,v=Array.isArray(g)?g.join(" "):g;Rn(d,function(x,_){l&&typeof x=="string"&&x!==_&&x!==l.getContent({format:n.outputFormat})&&l.setContent(x)}),l.on(v||"change input undo redo",function(){s.emit("update:modelValue",l.getContent({format:n.outputFormat}))})},mye=function(n,s,l,d,g,v){d.setContent(v()),l.attrs["onUpdate:modelValue"]&&fye(s,l,d,g),dye(n,l.attrs,d)},Vq=0,bee=function(n){var s=Date.now(),l=Math.floor(Math.random()*1e9);return Vq++,n+"_"+l+Vq+String(s)},gye=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},zq=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},hye=function(n,s){return zq(n).concat(zq(s))},pye=function(n){return n==null},Hq=function(){return{listeners:[],scriptId:bee("tiny-script"),scriptLoaded:!1}},vye=function(){var n=Hq(),s=function(g,v,x,_){var N=v.createElement("script");N.referrerPolicy="origin",N.type="application/javascript",N.id=g,N.src=x;var R=function(){N.removeEventListener("load",R),_()};N.addEventListener("load",R),v.head&&v.head.appendChild(N)},l=function(g,v,x){n.scriptLoaded?x():(n.listeners.push(x),g.getElementById(n.scriptId)||s(n.scriptId,g,v,function(){n.listeners.forEach(function(_){return _()}),n.scriptLoaded=!0}))},d=function(){n=Hq()};return{load:l,reinitialize:d}},bye=vye(),yye=function(){return typeof window<"u"?window:global},Qw=function(){var n=yye();return n&&n.tinymce?n.tinymce:null},xye={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},mv=function(){return mv=Object.assign||function(n){for(var s,l=1,d=arguments.length;l<d;l++){s=arguments[l];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(n[g]=s[g])}return n},mv.apply(this,arguments)},wye=function(n,s,l,d){return n(d||"div",{id:s,ref:l})},Cye=function(n,s,l){return n("textarea",{id:s,visibility:"hidden",ref:l})},p$={selector:void 0,target:void 0},_ye=OY({props:xye,setup:function(n,s){var l=n.init?mv(mv({},n.init),p$):mv({},p$),d=kD(n),g=d.disabled,v=d.modelValue,x=d.tagName,_=Bn(null),N=null,R=n.id||bee("tiny-vue"),I=n.init&&n.init.inline||n.inline,V=!!s.attrs["onUpdate:modelValue"],$=!0,G=n.initialValue?n.initialValue:"",W="",te=function(Ve){return V?function(){return v!=null&&v.value?v.value:""}:function(){return Ve?G:W}},ae=function(){var Ve=te($),Ce=mv(mv({},l),{readonly:n.disabled,target:_.value,plugins:hye(l.plugins,n.plugins),toolbar:n.toolbar||l.toolbar,inline:I,setup:function(ee){N=ee,ee.on("init",function(we){return mye(we,n,s,ee,v,Ve)}),typeof l.setup=="function"&&l.setup(ee)}});gye(_.value)&&(_.value.style.visibility=""),Qw().init(Ce),$=!1};Rn(g,function(Ve){var Ce;N!==null&&(typeof((Ce=N.mode)===null||Ce===void 0?void 0:Ce.set)=="function"?N.mode.set(Ve?"readonly":"design"):N.setMode(Ve?"readonly":"design"))}),Rn(x,function(Ve){var Ce;V||(W=N.getContent()),(Ce=Qw())===null||Ce===void 0||Ce.remove(N),Er(function(){return ae()})}),Nu(function(){if(Qw()!==null)ae();else if(_.value&&_.value.ownerDocument){var Ve=n.cloudChannel?n.cloudChannel:"7",Ce=n.apiKey?n.apiKey:"no-api-key",ee=pye(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Ce,"/tinymce/").concat(Ve,"/tinymce.min.js"):n.tinymceScriptSrc;bye.load(_.value.ownerDocument,ee,ae)}}),Cc(function(){Qw()!==null&&Qw().remove(N)}),I||(xU(function(){$||ae()}),UL(function(){var Ve;V||(W=N.getContent()),(Ve=Qw())===null||Ve===void 0||Ve.remove(N)}));var ce=function(Ve){var Ce;W=N.getContent(),(Ce=Qw())===null||Ce===void 0||Ce.remove(N),l=mv(mv(mv({},l),Ve),p$),Er(function(){return ae()})};return s.expose({rerender:ce,getEditor:function(){return N}}),function(){return I?wye(_v,R,_,n.tagName):Cye(_v,R,_)}}});const kye=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",Sye=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",Eye={class:"app-own-summary-text-wrapper"},Aye=["for"],Tye=["innerHTML"],yee={__name:"OwnSummaryText",props:["editorId"],setup(n){const s=oc(),l=Zy(),d=Dl(),g=n;function v(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap"}function x(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}function _(){return{underline:{inline:"u",remove:"all"}}}function N(){return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}function R(){te(),ae(),I()}async function I(){if(d.focusTarget=="ownSummary"){await Er();const ce=Fq.get(g.editorId);ce&&(console.log("editor found"),ce.focus())}}Rn(()=>d.focusChange,I);function V(){s.updateContent(!0),te()}function $(){s.updateContent(!0)}function G(){l.zoomSummaryTextIn(),te()}function W(){l.zoomSummaryTextOut(),te()}function te(){try{const ce=Fq.get(g.editorId);ce&&(ce.dom.setStyle(ce.dom.doc.body,"font-size",l.summary_text_zoom+"rem"),ce.dom.setStyle(ce.dom.select("h1"),"font-size",l.summary_text_zoom*1.3+"rem"),ce.dom.setStyle(ce.dom.select("h2"),"font-size",l.summary_text_zoom*1.15+"rem"),ce.dom.setStyle(ce.dom.select("h3"),"font-size",l.summary_text_zoom+"rem"),ce.dom.setStyle(ce.dom.select("h4"),"font-size",l.summary_text_zoom+"rem"),ce.dom.setStyle(ce.dom.select("h5"),"font-size",l.summary_text_zoom+"rem"),ce.dom.setStyle(ce.dom.select("h6"),"font-size",l.summary_text_zoom+"rem"))}catch{}}function ae(){for(const ce of document.getElementsByClassName("tox-tinymce-aux"))ce.classList.add("headlines-three")}return(ce,Ve)=>(_n(),Bo("div",Eye,[ye("label",{for:g.editorId,class:"hidden"},"Verborgenes Feld zum Gutachten",8,Aye),oe(s).isOwnDisabled?vr("",!0):(_n(),Xr(oe(_ye),{key:0,id:g.editorId,modelValue:oe(s).editSummary.text,"onUpdate:modelValue":Ve[0]||(Ve[0]=Ce=>oe(s).editSummary.text=Ce),onChange:V,onKeydown:oe(d).handleKeyDown,onKeyup:$,onInit:R,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!0,elementpath:!1,branding:!1,plugins:"lists charmap wordcount",toolbar:v(),valid_elements:x(),formats:_(),style_formats:N(),custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:oe(kye).toString()+`
`+oe(Sye).toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:"Editor Gutachten",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:function(Ce){Ce.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:W}),Ce.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:G})}}},null,8,["id","modelValue","onKeydown","init"])),oe(s).isOwnDisabled?(_n(),Bo("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:oe(s).editSummary.text},null,8,Tye)):vr("",!0)]))}},Oye={id:"app-own-summary-wrapper"},Dye={id:"app-own-summary-points"},Rye={__name:"OwnSummary",props:["showCriteria","showText"],setup(n){const s=dr(),l=n;function d(){switch((l.showCriteria?1:0)+(l.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(_n(),Bo("div",Oye,[l.showCriteria?(_n(),Bo("div",{key:0,class:qc(d())},[v[0]||(v[0]=ye("h2",{class:"headline"},"bersicht",-1)),j(pee,{class:"content",corrector_key:oe(s).correctorKey},null,8,["corrector_key"])],2)):vr("",!0),l.showText?(_n(),Bo("div",{key:1,class:qc(d())},[v[1]||(v[1]=ye("h2",{class:"headline"},"Gutachten",-1)),j(yee,{class:"content",editorId:"summary"})],2)):vr("",!0),ye("div",Dye,[v[2]||(v[2]=ye("h2",{class:"headline"},"Gesamtbewertung",-1)),j(aye,{class:"content"})])]))}},Iye=dl(Rye,[["__scopeId","data-v-30aca80f"]]),Nye={id:"app-summary-points-wrapper"},Pye=["max"],Mye={__name:"SummaryPoints",props:["corrector_key"],setup(n){const s=Du(),l=qy(),d=oc(),g=n,v=Bn(0),x=Bn(""),_=Bn(""),N=d.getForCorrector(g.corrector_key);if(N){v.value=N.points;const R=l.getLevel(N.grade_key);R&&(x.value=R.title),_.value=d.getInclusionText(N)}return(R,I)=>(_n(),Bo("div",Nye,[I[2]||(I[2]=ye("label",{for:"appSummaryPoints"},[ye("strong",null,"Wertung:")],-1)),Mn(ye("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:oe(s).max_points,"onUpdate:modelValue":I[0]||(I[0]=V=>v.value=V)},null,8,Pye),[[D1,v.value]]),I[3]||(I[3]=Hs(" Punkte  ")),I[4]||(I[4]=ye("strong",null,"Notenstufe:",-1)),Hs(" "+ko(x.value)+" ",1),ye("p",null,[I[1]||(I[1]=ye("strong",null,"Einbeziehen:",-1)),Hs(" "+ko(_.value),1)])]))}},Bye=dl(Mye,[["__scopeId","data-v-5ce9c5c8"]]),Lye={class:"app-summary-text-wrapper"},Fye=["innerHTML"],Vye={__name:"SummaryText",props:["corrector_key"],setup(n){const s=oc(),l=n;function d(){let g=s.getForCorrector(l.corrector_key);if(g)return g.text}return(g,v)=>(_n(),Bo("div",Lye,[ye("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:d()},null,8,Fye)]))}},zye=dl(Vye,[["__scopeId","data-v-089a3707"]]),Hye={id:"app-other-summary-wrapper"},$ye={key:2},Uye={key:3},Wye={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(n){const s=n,l=oc();function d(){switch((s.showCriteria?1:0)+(s.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(_n(),Bo("div",Hye,[s.showCriteria&&oe(l).getAuthorizationForCorrector(s.corrector_key)?(_n(),Bo("div",{key:0,class:qc(d())},[v[0]||(v[0]=ye("div",{class:"headline"},"bersicht",-1)),j(pee,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):vr("",!0),s.showText&&oe(l).getAuthorizationForCorrector(s.corrector_key)?(_n(),Bo("div",{key:1,class:qc(d())},[v[1]||(v[1]=ye("div",{class:"headline"},"Gutachten",-1)),j(zye,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):vr("",!0),oe(l).getAuthorizationForCorrector(s.corrector_key)?(_n(),Bo("div",$ye,[v[2]||(v[2]=ye("div",{class:"headline"},"Gesamtbewertung",-1)),j(Bye,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])])):vr("",!0),oe(l).getAuthorizationForCorrector(s.corrector_key)?vr("",!0):(_n(),Bo("div",Uye," Diese Korrektur ist noch nicht autorisiert. "))]))}},$q=dl(Wye,[["__scopeId","data-v-1f4a6ccd"]]),Zye=In({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...m8(),...rW()},"VTextarea"),jye=No()({name:"VTextarea",directives:{Intersect:JU},inheritAttrs:!1,props:Zye(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,s){let{attrs:l,emit:d,slots:g}=s;const v=Hi(n,"modelValue"),{isFocused:x,focus:_,blur:N}=f8(n),R=qe(()=>typeof n.counterValue=="function"?n.counterValue(v.value):(v.value||"").toString().length),I=qe(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function V(Ee,Fe){var O,Ge;!n.autofocus||!Ee||(Ge=(O=Fe[0].target)==null?void 0:O.focus)==null||Ge.call(O)}const $=Bn(),G=Bn(),W=Oo(""),te=Bn(),ae=qe(()=>n.persistentPlaceholder||x.value||n.active);function ce(){var Ee;te.value!==document.activeElement&&((Ee=te.value)==null||Ee.focus()),x.value||_()}function Ve(Ee){ce(),d("click:control",Ee)}function Ce(Ee){d("mousedown:control",Ee)}function ee(Ee){Ee.stopPropagation(),ce(),Er(()=>{v.value="",bX(n["onClick:clear"],Ee)})}function we(Ee){var O;const Fe=Ee.target;if(v.value=Fe.value,(O=n.modelModifiers)!=null&&O.trim){const Ge=[Fe.selectionStart,Fe.selectionEnd];Er(()=>{Fe.selectionStart=Ge[0],Fe.selectionEnd=Ge[1]})}}const le=Bn(),Ze=Bn(+n.rows),Be=qe(()=>["plain","underlined"].includes(n.variant));df(()=>{n.autoGrow||(Ze.value=+n.rows)});function Me(){n.autoGrow&&Er(()=>{if(!le.value||!G.value)return;const Ee=getComputedStyle(le.value),Fe=getComputedStyle(G.value.$el),O=parseFloat(Ee.getPropertyValue("--v-field-padding-top"))+parseFloat(Ee.getPropertyValue("--v-input-padding-top"))+parseFloat(Ee.getPropertyValue("--v-field-padding-bottom")),Ge=le.value.scrollHeight,ct=parseFloat(Ee.lineHeight),$t=Math.max(parseFloat(n.rows)*ct+O,parseFloat(Fe.getPropertyValue("--v-input-control-height"))),Jt=parseFloat(n.maxRows)*ct+O||1/0,tt=jh(Ge??0,$t,Jt);Ze.value=Math.floor((tt-O)/ct),W.value=br(tt)})}Nu(Me),Rn(v,Me),Rn(()=>n.rows,Me),Rn(()=>n.maxRows,Me),Rn(()=>n.density,Me);let Xe;return Rn(le,Ee=>{Ee?(Xe=new ResizeObserver(Me),Xe.observe(le.value)):Xe==null||Xe.disconnect()}),Cc(()=>{Xe==null||Xe.disconnect()}),yr(()=>{const Ee=!!(g.counter||n.counter||n.counterValue),Fe=!!(Ee||g.details),[O,Ge]=GL(l),{modelValue:ct,...$t}=GS.filterProps(n),Jt=kQ(n);return j(GS,jo({ref:$,modelValue:v.value,"onUpdate:modelValue":tt=>v.value=tt,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":Be.value},n.class],style:n.style},O,$t,{centerAffix:Ze.value===1&&!Be.value,focused:x.value}),{...g,default:tt=>{let{id:pt,isDisabled:Lt,isDirty:nt,isReadonly:Ye,isValid:Mt}=tt;return j(sW,jo({ref:G,style:{"--v-textarea-control-height":W.value},onClick:Ve,onMousedown:Ce,"onClick:clear":ee,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},Jt,{id:pt.value,active:ae.value||nt.value,centerAffix:Ze.value===1&&!Be.value,dirty:nt.value||n.dirty,disabled:Lt.value,focused:x.value,error:Mt.value===!1}),{...g,default:oo=>{let{props:{class:zn,...fn}}=oo;return j(ir,null,[n.prefix&&j("span",{class:"v-text-field__prefix"},[n.prefix]),Mn(j("textarea",jo({ref:te,class:zn,value:v.value,onInput:we,autofocus:n.autofocus,readonly:Ye.value,disabled:Lt.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:ce,onBlur:N},fn,Ge),null),[[Qy("intersect"),{handler:V},null,{once:!0}]]),n.autoGrow&&Mn(j("textarea",{class:[zn,"v-textarea__sizer"],id:`${fn.id}-sizer`,"onUpdate:modelValue":kn=>v.value=kn,ref:le,readonly:!0,"aria-hidden":"true"},null),[[D1,v.value]]),n.suffix&&j("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Fe?tt=>{var pt;return j(ir,null,[(pt=g.details)==null?void 0:pt.call(g,tt),Ee&&j(ir,null,[j("span",null,null),j(_Q,{active:n.persistentCounter||x.value,value:R.value,max:I.value,disabled:n.disabled},g.counter)])])}:void 0})}),sE({},$,G,te)}}),Kye={key:0},Gye=["id"],qye={class:"pointsInput"},Yye={key:1},Xye=["id","max","disabled"],Jye=["for"],Qye=["id","disabled"],exe=["for"],txe=["id","disabled"],nxe=["for"],oxe={class:"pointsInput"},rxe={__name:"MarkingComment",props:["comment"],setup(n){const s=dr(),l=sf(),d=oc(),g=Du(),v=hm(),x=Pg(),_=Dl(),R=n.comment;let I=Bn(0);const V=x.getObjectByData(R.corrector_key,R.key,"");I.value=V?V.points:0;function $(Be){return Be.key==l.selectedKey}function G(Be){return Be.corrector_key==s.correctorKey&&!d.isOwnDisabled}function W(Be){return Be.rating_excellent||Be.rating_cardinal||x.getSumOfPointsForComment(Be.key)>0}Nu(()=>{const Be=document.getElementById("appCommentContainer"+R.key);for(const Me of Be.getElementsByTagName("label"))Me.getAttribute("for").includes("app-comment-")&&(Me.classList.add("sr-only"),Me.getAttribute("aria-hidden")=="true"?Me.getAttribute("for").includes("-sizer")||Me.setAttribute("for",Me.getAttribute("for")+"-sizer"):Me.setAttribute("id","app-comment-"+R.key+"-messages"));for(const Me of Be.getElementsByTagName("textarea"))Me.style.marginTop="-15px",Me.style.fontSize="0.9rem";for(const Me of Be.getElementsByClassName("v-input__details"))Me.style.display="none"});function te(Be){return Be.key==l.selectedKey?Be.rating_excellent?"#BBEBA5":Be.rating_cardinal?"#FCB494":"#94C3FC":Be.prefix=="own"?Be.rating_excellent?"#E3EFDD":Be.rating_cardinal?"#FBDED1":"#D8E5F4":Be.rating_excellent?"#F7F9F7":Be.rating_cardinal?"#FCF6F4":"#F5F7FB"}function ae(Be){return x.getSumOfPointsForCorrector(Be.corrector_key)>g.max_points?"color: red;":""}function ce(Be){return x.getSumOfPointsForComment(Be.key)}function Ve(Be){return ce(Be)==1?"Punkt":"Punkte"}async function Ce(Be){Be.rating_excellent&&(Be.rating_cardinal=!1),l.setMarkerChange(),l.updateComment(Be)}async function ee(Be){Be.rating_cardinal&&(Be.rating_excellent=!1),l.setMarkerChange(),l.updateComment(Be)}async function we(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),_.showEssay(),await Er(),l.setCaretRequest();break;case"Delete":event.preventDefault(),l.deleteComment(l.selectedKey);break}}async function le(){switch(we(),event.key){case"Enter":event.preventDefault(),_.focusMarkingCommentCriteria();break}}async function Ze(){_.focusTarget=="markingCommentCriteriaSum"&&(await Er(),R.key==l.selectedKey&&(console.log("pointsInput"+R.key),document.getElementById("pointsInput"+R.key).focus()))}return Rn(()=>_.focusChange,Ze),(Be,Me)=>(_n(),Xr(PL,{id:"appCommentContainer"+oe(R).key,key:oe(R).key,class:"commentContainer"},{default:Ct(()=>[j(Rg,{dense:"",onClick:Me[16]||(Me[16]=Xe=>oe(l).selectComment(oe(R).key))},{default:Ct(()=>[j(Ia,{cols:"2"},{default:Ct(()=>[j(jn,{size:"small",icon:oe(R).getMarkIcon()},null,8,["icon"]),Me[17]||(Me[17]=Hs("  ")),ye("button",{tabindex:"0",class:qc("v-btn commentLabel "+(oe(R).key==oe(l).selectedKey?"selected":""))},ko(oe(R).label),3)]),_:1}),j(Ia,{cols:"9"},{default:Ct(()=>[j(PL,null,{default:Ct(()=>[Mn(j(Rg,{dense:""},{default:Ct(()=>[j(Ia,{cols:"12"},{default:Ct(()=>[j(jye,{class:"commentInput","bg-color":te(oe(R)),rounded:"0",density:"compact",variant:"solo",id:"app-comment-"+oe(R).key,label:"Anmerkung zu Markierung "+oe(R).label,rows:"1","auto-grow":"",readonly:oe(d).isOwnDisabled||oe(R).corrector_key!=oe(s).correctorKey,onChange:Me[0]||(Me[0]=Xe=>oe(l).updateComment(oe(R))),onKeyup:Me[1]||(Me[1]=Xe=>oe(l).updateComment(oe(R))),onKeydown:Me[2]||(Me[2]=Xe=>we()),modelValue:oe(R).comment,"onUpdate:modelValue":Me[3]||(Me[3]=Xe=>oe(R).comment=Xe)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[wo,$(oe(R))]]),Mn(j(Rg,{dense:""},{default:Ct(()=>[j(Ia,{cols:"4"},{default:Ct(()=>[oe(v).getCorrectorHasCommentCriteria(oe(R).corrector_key)?Mn((_n(),Bo("span",Kye,[ye("span",{tabindex:"0",id:"pointsInput"+oe(R).key,onKeydown:Me[4]||(Me[4]=Xe=>le())},[ye("span",qye,ko(ce(oe(R))),1),Hs(""+ko(Ve(oe(R))),1)],40,Gye)],512)),[[wo,oe(R).key==oe(l).selectedKey||oe(x).getCommentHasPoints(oe(R).key)]]):vr("",!0),oe(v).getCorrectorHasCommentCriteria(oe(R).corrector_key)?vr("",!0):Mn((_n(),Bo("span",Yye,[Mn(ye("input",{class:"pointsInput",type:"number",min:"0",style:KO(ae(oe(R))),id:"pointsInput"+oe(R).key,max:oe(g).max_points,disabled:oe(d).isOwnDisabled||oe(R).corrector_key!=oe(s).correctorKey,onChange:Me[5]||(Me[5]=Xe=>oe(x).setValueByCommentOrCriterion(oe(R).key,"",oe(I))),onKeydown:Me[6]||(Me[6]=Xe=>we()),"onUpdate:modelValue":Me[7]||(Me[7]=Xe=>Bs(I)?I.value=Xe:I=Xe)},null,44,Xye),[[D1,oe(I)]]),ye("label",{for:"pointsInput"+oe(R).key},""+ko(Ve(oe(R))),9,Jye)],512)),[[wo,oe(R).key==oe(l).selectedKey||oe(R).points>0]])]),_:1}),j(Ia,{cols:"4"},{default:Ct(()=>[Mn(ye("span",null,[Mn(ye("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Me[8]||(Me[8]=Xe=>oe(R).rating_excellent=Xe),id:"ratingExcellent"+oe(R).key,disabled:oe(d).isOwnDisabled||oe(R).corrector_key!=oe(s).correctorKey,onChange:Me[9]||(Me[9]=Xe=>Ce(oe(R))),onKeydown:Me[10]||(Me[10]=Xe=>we())},null,40,Qye),[[lG,oe(R).rating_excellent]]),ye("label",{for:"ratingExcellent"+oe(R).key},""+ko(oe(g).positive_rating),9,exe)],512),[[wo,oe(R).rating_excellent||oe(R).key==oe(l).selectedKey]])]),_:1}),j(Ia,{cols:"4"},{default:Ct(()=>[Mn(ye("span",null,[Mn(ye("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":Me[11]||(Me[11]=Xe=>oe(R).rating_cardinal=Xe),id:"ratingCardinal"+oe(R).key,disabled:oe(d).isOwnDisabled||oe(R).corrector_key!=oe(s).correctorKey,onChange:Me[12]||(Me[12]=Xe=>ee(oe(R))),onKeydown:Me[13]||(Me[13]=Xe=>we())},null,40,txe),[[lG,oe(R).rating_cardinal]]),ye("label",{for:"ratingCardinal"+oe(R).key},""+ko(oe(g).negative_rating),9,nxe)],512),[[wo,oe(R).rating_cardinal||oe(R).key==oe(l).selectedKey]])]),_:1})]),_:1},512),[[wo,$(oe(R))]]),j(Rg,{dense:"",onClick:Me[14]||(Me[14]=Xe=>oe(l).selectComment(oe(R).key))},{default:Ct(()=>[Mn(j(Ia,{cols:"12"},{default:Ct(()=>[Mn(ye("div",{class:"commentDisplay",style:KO("background-color: "+te(oe(R))+";")},ko(oe(R).comment),5),[[wo,oe(R).comment]])]),_:1},512),[[wo,!$(oe(R))]])]),_:1}),Mn(j(Rg,{dense:"",class:"detailsDisplay"},{default:Ct(()=>[j(Ia,{cols:"4"},{default:Ct(()=>[Mn(ye("span",null,[ye("span",oxe,ko(ce(oe(R))),1),Hs(""+ko(Ve(oe(R))),1)],512),[[wo,ce(oe(R))>0]])]),_:1}),j(Ia,{cols:"4"},{default:Ct(()=>[Mn(ye("span",null,[j(jn,{icon:"mdi-checkbox-outline"}),Hs(" "+ko(oe(g).positive_rating),1)],512),[[wo,oe(R).rating_excellent]])]),_:1}),j(Ia,{cols:"4"},{default:Ct(()=>[Mn(ye("span",null,[j(jn,{icon:"mdi-checkbox-outline"}),Hs(" "+ko(oe(g).negative_rating),1)],512),[[wo,oe(R).rating_cardinal]])]),_:1})]),_:1},512),[[wo,!$(oe(R))&&W(oe(R))]])]),_:1})]),_:1}),j(Ia,{cols:"1",class:"trashColumn"},{default:Ct(()=>[Mn(j(vo,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:$(oe(R))?0:-1,onKeydown:Me[15]||(Me[15]=Xe=>we())},{default:Ct(()=>Me[18]||(Me[18]=[ye("span",{class:"sr-only"},"Anmerkung lschen",-1)])),_:1},8,["tabindex"]),[[wo,G(oe(R))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},sxe=dl(rxe,[["__scopeId","data-v-8c308956"]]),ixe={id:"appMarkingComments"},axe={__name:"MarkingComments",setup(n){const s=sf();async function l(){await Er();let g=document.getElementById("appCommentContainer"+s.selectedKey);if(g){let v=g.querySelector("textarea");v&&v.focus()}}Rn(()=>s.selectionChange,l);async function d(){await Er();let g=document.getElementById("appCommentContainer"+s.firstVisibleKey);g&&g.scrollIntoView()}return Rn(()=>s.firstVisibleKey,d),(g,v)=>(_n(),Bo("div",ixe,[(_n(!0),Bo(ir,null,T1(oe(s).activeComments,x=>(_n(),Xr(sxe,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},lxe={key:0,class:"info"},cxe={class:"col-left"},uxe={class:"col-left"},dxe=["for"],fxe={class:"col-mid text-right"},mxe=["onUpdate:modelValue","id","disabled","max","onChange"],gxe={__name:"MarkingCommentCriteria",setup(n){const s=hm(),l=sf(),d=Pg(),g=dr();Du();const v=oc(),x=Dl();let _=Bn(""),N=Bn(""),R=Bn({});async function I(){const W=l.getComment(l.selectedKey);_.value=W?W.key:"",N.value=W?W.corrector_key:g.correctorKey,R.value={};for(const te of s.getCorrectorCommentCriteria(N.value)){const ae=d.getObjectByData(N.value,_.value,te.key);R.value[te.key]=ae?ae.points:0}}I(),Rn(()=>l.selectionChange,I);function V(W){d.setValueByCommentOrCriterion(l.selectedKey,W,R.value[W])}async function $(){x.focusTarget=="markingCommentCriteria"&&(await Er(),document.getElementById("appMarkingCommentCriteriaStart").focus())}Rn(()=>x.focusChange,$);async function G(W){switch(W.key){case"Escape":W.preventDefault(),x.focusMarkingCommentCriteriaSum();break}}return(W,te)=>(_n(),Bo("div",null,[oe(_)==""?(_n(),Bo("p",lxe," Bitte whlen Sie eine Anmerkung aus. ")):vr("",!0),oe(_)!=""?(_n(),Xr($h,{key:1,density:"compact"},{default:Ct(()=>[ye("thead",null,[ye("tr",null,[ye("th",cxe,[ye("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:G},"Kriterium",32)]),te[0]||(te[0]=ye("th",{class:"col-mid text-right"}," Punkte ",-1)),te[1]||(te[1]=ye("th",{class:"col-right text-right"}," Summe / max. ",-1))])]),ye("tbody",null,[(_n(!0),Bo(ir,null,T1(oe(s).getCorrectorCommentCriteria(oe(N)),ae=>(_n(),Bo("tr",{key:ae.key},[ye("td",uxe,[ye("label",{tabindex:"0",onKeydown:G,for:"app-points-input-"+ae.key},ko(ae.title),41,dxe)]),ye("td",fxe,[Mn(ye("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":ce=>oe(R)[ae.key]=ce,id:"app-points-input-"+ae.key,disabled:oe(v).isOwnDisabled||oe(_)==""||oe(N)!=oe(g).correctorKey,max:ae.points,onChange:ce=>V(ae.key),onKeydown:G},null,40,mxe),[[D1,oe(R)[ae.key]]])]),ye("td",{class:qc("col-right text-right "+(oe(d).getPointsOfCriterionExceeded(ae,oe(N))?"red":""))},ko(oe(d).getSumOfPointsForCriterion(ae,oe(N)))+" / "+ko(ae.points),3)]))),128))])]),_:1})):vr("",!0)]))}},hxe=dl(gxe,[["__scopeId","data-v-a1ee27a9"]]),pxe={class:"col-left"},vxe={class:"col-left"},bxe=["for"],yxe={class:"col-mid text-right"},xxe=["onUpdate:modelValue","id","disabled","max","onChange"],wxe={class:"col-right text-right"},Cxe={__name:"MarkingGeneralCriteria",setup(n){const s=hm();sf();const l=Pg(),d=dr();Du();const g=oc(),v=Dl();let x=Bn(""),_=Bn({});async function N(){x.value=d.correctorKey,_.value={};for(const $ of s.getCorrectorGeneralCriteria(x.value)){const G=l.getObjectByData(x.value,"",$.key);_.value[$.key]=G?G.points:0}}N();function R($){l.setValueByCommentOrCriterion("",$,_.value[$])}async function I(){v.focusTarget=="markingGeneralCriteria"&&(await Er(),document.getElementById("appMarkingGeneralCriteriaStart").focus())}Rn(()=>v.focusChange,I);async function V($){switch($.key){case"Escape":$.preventDefault(),v.focusMarkingCommentCriteriaSum();break}}return($,G)=>(_n(),Bo("div",null,[j($h,{density:"compact"},{default:Ct(()=>[ye("thead",null,[ye("tr",null,[ye("th",pxe,[ye("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:V},"Kriterium",32)]),G[0]||(G[0]=ye("th",{class:"col-mid text-right"}," Punkte ",-1)),G[1]||(G[1]=ye("th",{class:"col-right text-right"}," max. ",-1))])]),ye("tbody",null,[(_n(!0),Bo(ir,null,T1(oe(s).getCorrectorGeneralCriteria(oe(x)),W=>(_n(),Bo("tr",{key:W.key},[ye("td",vxe,[ye("label",{tabindex:"0",onKeydown:V,for:"app-points-input-"+W.key},ko(W.title),41,bxe)]),ye("td",yxe,[Mn(ye("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":te=>oe(_)[W.key]=te,id:"app-points-input-"+W.key,disabled:oe(g).isOwnDisabled||oe(x)!=oe(d).correctorKey,max:W.points,onChange:te=>R(W.key),onKeydown:V},null,40,xxe),[[D1,oe(_)[W.key]]])]),ye("td",wxe,ko(W.points),1)]))),128))])]),_:1})]))}},_xe=dl(Cxe,[["__scopeId","data-v-1efb290d"]]),kxe={id:"app-marking-wrapper"},Sxe={class:"headline"},Exe={key:4},Axe={__name:"Marking",setup(n){const s=dr(),l=Dl(),d=sf(),g=hm(),v=oc();function x(){return l.showMarkingComments&&(!s.isForReviewOrStitch||v.isOneAuthorized)}function _(){return l.showMarkingGeneralCriteria&&g.hasOwnGeneralCriteria&&(!s.isForReviewOrStitch||v.isOneAuthorized)}function N(){return l.showMarkingCommentCriteria&&g.hasCommentCriteria&&(!s.isForReviewOrStitch||v.isOneAuthorized)}function R(){return l.showMarkingText&&(!s.isForReviewOrStitch||v.isOneAuthorized)}function I(){switch((x()?1:0)+(_()?1:0)+(N()?1:0)+(R()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(V,$)=>(_n(),Bo("div",kxe,[x()?(_n(),Bo("div",{key:0,class:qc(I())},[$[0]||($[0]=ye("h2",{class:"headline"},"Anmerkungen",-1)),j(axe,{class:"content"})],2)):vr("",!0),N()?(_n(),Bo("div",{key:1,class:qc(I())},[ye("h2",Sxe,[$[1]||($[1]=Hs("Teilpunkte zur Anmerkung ")),Mn(ye("span",{class:"commentLabel"},ko(oe(d).selectedLabel),513),[[wo,oe(d).selectedKey!=""]])]),j(hxe,{class:"content"})],2)):vr("",!0),_()?(_n(),Bo("div",{key:2,class:qc(I())},[$[2]||($[2]=ye("h2",{class:"headline"},"Allgemeine Punkte (Kopfnoten)",-1)),j(_xe,{class:"content"})],2)):vr("",!0),R()?(_n(),Bo("div",{key:3,class:qc(I())},[$[3]||($[3]=ye("h2",{class:"headline"},"Gutachten",-1)),j(yee,{class:"content",editorId:"marking"})],2)):vr("",!0),oe(s).isForReviewOrStitch&&!oe(v).isOneAuthorized?(_n(),Bo("div",Exe," Fr diese Abgabe ist noch keine Korrektur autorisiert. ")):vr("",!0),j(uW,{class:"sumOfPoints",corrector_key:oe(s).correctorKey},null,8,["corrector_key"])]))}},Txe=dl(Axe,[["__scopeId","data-v-2ef18711"]]),Oxe=In({scrollable:Boolean,...Vr(),...Qh(),...Qi({tag:"main"})},"VMain"),xee=No()({name:"VMain",props:Oxe(),setup(n,s){let{slots:l}=s;const{dimensionStyles:d}=ep(n),{mainStyles:g}=zme(),{ssrBootStyles:v}=g8();return yr(()=>j(n.tag,{class:["v-main",{"v-main--scrollable":n.scrollable},n.class],style:[g.value,v.value,d.value,n.style]},{default:()=>{var x,_;return[n.scrollable?j("div",{class:"v-main__scroller"},[(x=l.default)==null?void 0:x.call(l)]):(_=l.default)==null?void 0:_.call(l)]}})),{}}}),Dxe={id:"app-main-container"},Rxe={class:"col-header"},Ixe={id:"appHeadLeft",tabindex:"0",class:"headline"},Nxe={class:"col-content"},Pxe={class:"col-header"},Mxe={id:"appHeadRight",tabindex:"0",class:"headline"},Bxe={class:"sr-only"},Lxe={class:"sr-only"},Fxe={class:"sr-only"},Vxe={class:"sr-only"},zxe={class:"sr-only"},Hxe={class:"sr-only"},$xe={class:"sr-only"},Uxe={class:"sr-only"},Wxe={class:"col-content"},Zxe={__name:"MainContent",setup(n){const s=dr(),l=Dl(),d=fC(),g=sf(),v=hm(),x=OL();async function _(){l.focusTarget=="appHeadLeft"&&(await Er(),document.getElementById("appHeadLeft").focus()),l.focusTarget=="appHeadRight"&&(await Er(),document.getElementById("appHeadRight").focus())}return Rn(()=>l.focusChange,_),document.addEventListener("keydown",l.handleKeyDown),(N,R)=>(_n(),Bo(ir,null,[j(xee,{"fill-height":""},{default:Ct(()=>[ye("div",Dxe,[Mn(ye("section",{class:qc(["column",{colExpanded:oe(l).isLeftExpanded,colNormal:!oe(l).isLeftExpanded}])},[ye("div",Rxe,[ye("h1",Ixe,ko(oe(l).isInstructionsVisible?"Aufgabenstellung":oe(l).isInstructionsPdfVisible?"Aufgabenstellung (PDF)":oe(l).isSolutionVisible?"Lsungshinweise":oe(l).isSolutionPdfVisible?"Lsungshinweise (PDF)":oe(l).isEssayVisible?"Abgegebener Text":oe(l).isResourcesVisible?oe(d).activeTitle:oe(l).isLeftCorrectorVisible?oe(l).leftCorrectorTitle:"Linke Spalte"),1),j(k1,{density:"comfortable"},{default:Ct(()=>[Mn(j(vo,{size:"small",onClick:R[0]||(R[0]=I=>oe(l).toggleLeftSummaryCriteria())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showLeftSummaryCriteria]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showLeftSummaryCriteria]]),R[16]||(R[16]=ye("span",null,"bersicht",-1))]),_:1},512),[[wo,oe(l).isLeftCorrectorVisible]]),Mn(j(vo,{size:"small",onClick:R[1]||(R[1]=I=>oe(l).toggleLeftSummaryText())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showLeftSummaryText]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showLeftSummaryText]]),R[17]||(R[17]=ye("span",null,"Gutachten",-1))]),_:1},512),[[wo,oe(l).isLeftCorrectorVisible]]),Mn(j(vo,{size:"small",onClick:R[2]||(R[2]=I=>oe(l).setLeftExpanded(!1))},{default:Ct(()=>[j(jn,{icon:"mdi-chevron-left"}),ye("span",null,ko(oe(l).isMarkingSelected?"Korrektur":oe(l).isSummarySelected?"Gesamteindruck":oe(l).isRightCorrectorSelected?oe(l).rightCorrectorTitle:"Rechte Spalte erweitern"),1)]),_:1},512),[[wo,oe(l).isLeftExpanded]]),Mn(j(vo,{size:"small",onClick:R[3]||(R[3]=I=>oe(l).setLeftExpanded(!0))},{default:Ct(()=>[R[18]||(R[18]=ye("span",{"aria-hidden":"true"},"Erweitern",-1)),R[19]||(R[19]=ye("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),j(jn,{icon:"mdi-chevron-right"})]),_:1},512),[[wo,!oe(l).isLeftExpanded]])]),_:1})]),ye("div",Nxe,[oe(l).isInstructionsVisible?(_n(),Xr(c1e,{key:0})):vr("",!0),oe(l).isInstructionsPdfVisible?(_n(),Xr(f1e,{key:1})):vr("",!0),oe(l).isSolutionVisible?(_n(),Xr(h1e,{key:2})):vr("",!0),oe(l).isSolutionPdfVisible?(_n(),Xr(b1e,{key:3})):vr("",!0),oe(l).isEssayVisible&&!oe(x).hasPages?(_n(),Xr(D1e,{key:4})):vr("",!0),oe(l).isEssayVisible&&oe(x).hasPages?(_n(),Xr(W0e,{key:5})):vr("",!0),oe(l).isResourcesVisible?(_n(),Xr(S1e,{key:6})):vr("",!0),oe(l).isLeftCorrectorVisible?(_n(),Xr($q,{key:7,corrector_key:oe(l).leftCorrectorKey,showCriteria:oe(l).showLeftSummaryCriteria,showText:oe(l).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):vr("",!0)])],2),[[wo,oe(l).isLeftVisible]]),Mn(ye("section",{class:qc(["column",{colExpanded:oe(l).isRightExpanded,colNormal:!oe(l).isRightExpanded}])},[ye("div",Pxe,[ye("h1",Mxe,ko(oe(l).isMarkingVisible?"Korrektur":oe(l).isSummaryVisible?"Eigener Gesamteindruck":oe(l).isRightCorrectorVisible?oe(l).rightCorrectorTitle:"Rechte Spalte"),1),j(k1,{density:"comfortable"},{default:Ct(()=>[oe(l).isMarkingVisible?(_n(),Xr(vo,{key:0,size:"small",variant:"plain",onClick:R[4]||(R[4]=I=>oe(g).setShowOtherCorrectors(!oe(g).isOtherCorrectorsShown))},{default:Ct(()=>[j(jn,{icon:oe(g).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),ye("span",Bxe,ko("Andere Korrektoren zeigen"+(oe(g).isOtherCorrectorsShown?", ist ausgewhlt":"")),1)]),_:1})):vr("",!0),oe(l).isMarkingVisible?(_n(),Xr(vo,{key:1,size:"small",variant:"plain",disabled:!oe(g).isFilterActive,onClick:R[5]||(R[5]=I=>oe(g).resetFilter())},{default:Ct(()=>[j(jn,{icon:oe(g).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),ye("span",Lxe,ko("Filter aktiv"+(oe(g).isFilterActive?", ist ausgewhlt":"")),1)]),_:1},8,["disabled"])):vr("",!0),Mn(j(vo,{size:"small",onClick:R[6]||(R[6]=I=>oe(l).toggleMarkingComments())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showMarkingComments]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showMarkingComments]]),R[20]||(R[20]=ye("span",null,"Anmerkungen",-1)),ye("span",Fxe,ko("anzeigen"+(oe(l).showMarkingComments?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,oe(l).isMarkingVisible]]),Mn(j(vo,{size:"small",onClick:R[7]||(R[7]=I=>oe(l).toggleMarkingCommentCriteria())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showMarkingCommentCriteria]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showMarkingCommentCriteria]]),R[21]||(R[21]=ye("span",null,"Teilpunkte",-1)),ye("span",Vxe,ko("anzeigen"+(oe(l).showMarkingCommentCriteria?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,oe(v).hasCommentCriteria&&oe(l).isMarkingVisible]]),Mn(j(vo,{size:"small",onClick:R[8]||(R[8]=I=>oe(l).toggleMarkingGeneralCriteria())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showMarkingGeneralCriteria]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showMarkingGeneralCriteria]]),R[22]||(R[22]=ye("span",null,"Kopfnoten",-1)),ye("span",zxe,ko("anzeigen"+(oe(l).showMarkingGeneralCriteria?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,oe(v).hasOwnGeneralCriteria&&oe(l).isMarkingVisible]]),Mn(j(vo,{size:"small",onClick:R[9]||(R[9]=I=>oe(l).toggleMarkingText())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showMarkingText]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showMarkingText]]),R[23]||(R[23]=ye("span",null,"Gutachten",-1)),ye("span",Hxe,ko("anzeigen"+(oe(l).showMarkingText?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,!oe(s).isForReviewOrStitch&&oe(l).isMarkingVisible]]),Mn(j(vo,{size:"small",onClick:R[10]||(R[10]=I=>oe(l).toggleRightSummaryCriteria())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showRightSummaryCriteria]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showRightSummaryCriteria]]),R[24]||(R[24]=ye("span",null,"bersicht",-1)),ye("span",$xe,ko("anzeigen"+(oe(l).showRightSummaryCriteria?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,oe(l).isSummaryVisible||oe(l).isRightCorrectorVisible]]),Mn(j(vo,{size:"small",onClick:R[11]||(R[11]=I=>oe(l).toggleRightSummaryText())},{default:Ct(()=>[Mn(j(jn,{icon:"mdi-checkbox-outline"},null,512),[[wo,oe(l).showRightSummaryText]]),Mn(j(jn,{icon:"mdi-checkbox-blank-outline"},null,512),[[wo,!oe(l).showRightSummaryText]]),R[25]||(R[25]=ye("span",null,"Gutachten",-1)),ye("span",Uxe,ko("anzeigen"+(oe(l).showRightSummaryText?", ist ausgewhlt":"")),1)]),_:1},512),[[wo,oe(l).isSummaryVisible||oe(l).isRightCorrectorVisible]]),Mn(j(vo,{size:"small",onClick:R[12]||(R[12]=I=>oe(l).setRightExpanded(!1))},{default:Ct(()=>[ye("span",null,ko(oe(l).isInstructionsSelected?"Aufgabenstellung":oe(l).isEssaySelected?"Abgegebener Text":oe(l).isResourcesSelected?oe(d).activeTitle:oe(l).isLeftCorrectorSelected?oe(l).leftCorrectorTitle:"Linke Spalte erweitern"),1),j(jn,{icon:"mdi-chevron-right"})]),_:1},512),[[wo,oe(l).isRightExpanded]]),Mn(j(vo,{size:"small",onClick:R[13]||(R[13]=I=>oe(l).setRightExpanded(!0))},{default:Ct(()=>[j(jn,{icon:"mdi-chevron-left"}),R[26]||(R[26]=ye("span",{"aria-hidden":"true"},"Erweitern",-1)),R[27]||(R[27]=ye("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1))]),_:1},512),[[wo,!oe(l).isRightExpanded]])]),_:1})]),ye("div",Wxe,[oe(l).isSummaryVisible?(_n(),Xr(Iye,{key:0,showCriteria:oe(l).showRightSummaryCriteria,showText:oe(l).showRightSummaryText},null,8,["showCriteria","showText"])):vr("",!0),oe(l).isRightCorrectorVisible?(_n(),Xr($q,{key:1,corrector_key:oe(l).rightCorrectorKey,showCriteria:oe(l).showRightSummaryCriteria,showText:oe(l).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):vr("",!0),oe(l).isMarkingVisible?(_n(),Xr(Txe,{key:2})):vr("",!0)])],2),[[wo,oe(l).isRightVisible]])])]),_:1}),j(yv,{persistent:"",modelValue:oe(s).showSendFailure,"onUpdate:modelValue":R[15]||(R[15]=I=>oe(s).showSendFailure=I)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>R[28]||(R[28]=[ye("p",null,"Ihre letzen nderungen zu dieser Korrektur konnten nicht bertragen werden, sind aber lokal gespeichert.",-1),ye("p",null,"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu).",-1),ye("p",null,"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern.",-1)])),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:R[14]||(R[14]=I=>oe(s).setShowSendFailure(!1))},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-close"}),R[29]||(R[29]=ye("span",null,"Meldung schlieen",-1))]),_:1}),j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),R[30]||(R[30]=ye("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},jxe=dl(Zxe,[["__scopeId","data-v-bd98ab6e"]]),Kxe={__name:"StartupContent",setup(n){const s=dr(),l=Gy(),d=pv();return(g,v)=>(_n(),Xr(xee,{"fill-height":""},{default:Ct(()=>[j($Q,{elevation:"1",color:"white",density:"compact"},{default:Ct(()=>[v[5]||(v[5]=ye("p",null,"Lade Daten...",-1)),j(cW),j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),v[4]||(v[4]=ye("span",null,"Meine Korrekturen",-1))]),_:1},8,["href"])]),_:1}),j(yv,{persistent:"",modelValue:oe(s).showInitFailure,"onUpdate:modelValue":v[0]||(v[0]=x=>oe(s).showInitFailure=x)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>v[6]||(v[6]=[ye("p",null,"Beim Laden der Basisdaten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),v[7]||(v[7]=ye("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(yv,{persistent:"",modelValue:oe(s).showItemLoadFailure,"onUpdate:modelValue":v[1]||(v[1]=x=>oe(s).showItemLoadFailure=x)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>v[8]||(v[8]=[ye("p",null,"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),v[9]||(v[9]=ye("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(yv,{persistent:"",modelValue:oe(s).showDataReplaceConfirmation,"onUpdate:modelValue":v[2]||(v[2]=x=>oe(s).showDataReplaceConfirmation=x)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>[v[10]||(v[10]=ye("p",null,"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:",-1)),ye("p",null,[ye("strong",null,ko(oe(l).title)+": "+ko(oe(d).getItem(oe(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[11]||(v[11]=ye("p",null,"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?",-1))]),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:oe(s).initAfterReplaceDataConfirmed},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-reload"}),v[12]||(v[12]=ye("span",null,"Verwerfen und Laden",-1))]),_:1},8,["onClick"]),j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),v[13]||(v[13]=ye("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(yv,{persistent:"",modelValue:oe(s).showItemReplaceConfirmation,"onUpdate:modelValue":v[3]||(v[3]=x=>oe(s).showItemReplaceConfirmation=x)},{default:Ct(()=>[j(bv,null,{default:Ct(()=>[j(Wh,null,{default:Ct(()=>[v[14]||(v[14]=ye("p",null,"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:",-1)),ye("p",null,[ye("strong",null,ko(oe(l).title)+": "+ko(oe(d).getItem(oe(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[15]||(v[15]=ye("p",null,"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen.",-1))]),_:1}),j(Uh,null,{default:Ct(()=>[j(vo,{onClick:oe(s).initAfterKeepDataConfirmed},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-pencil-outline"}),v[16]||(v[16]=ye("span",null,"Mit lokalen Daten weiter arbeiten",-1))]),_:1},8,["onClick"]),j(vo,{onClick:oe(s).initAfterReplaceDataConfirmed},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-trash-can-outline"}),v[17]||(v[17]=ye("span",null,"Lokale Daten verwerfen",-1))]),_:1},8,["onClick"]),j(vo,{href:oe(s).returnUrl},{default:Ct(()=>[j(jn,{left:"",icon:"mdi-logout-variant"}),v[18]||(v[18]=ye("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Gxe=In({...Vr(),...Vme({fullHeight:!0}),...ul()},"VApp"),qxe=No()({name:"VApp",props:Gxe(),setup(n,s){let{slots:l}=s;const d=Zl(n),{layoutClasses:g,getLayoutItem:v,items:x,layoutRef:_}=$me(n),{rtlClasses:N}=Bg();return yr(()=>{var R;return j("div",{ref:_,class:["v-application",d.themeClasses.value,g.value,N.value,n.class],style:[n.style]},[j("div",{class:"v-application__wrap"},[(R=l.default)==null?void 0:R.call(l)])])}),{getLayoutItem:v,items:x,theme:d}}}),Yxe={__name:"App",setup(n){const s=dr();return s.init(),(l,d)=>(_n(),Xr(qxe,{"fill-height":""},{default:Ct(()=>[oe(s).initialized?vr("",!0):(_n(),Xr(Kxe,{key:0})),oe(s).initialized?(_n(),Xr(qbe,{key:1})):vr("",!0),oe(s).initialized?(_n(),Xr(i1e,{key:2})):vr("",!0),oe(s).initialized?(_n(),Xr(jxe,{key:3})):vr("",!0)]),_:1}))}},wee=Vde(Yxe);Qme(wee);wee.mount("#app");
