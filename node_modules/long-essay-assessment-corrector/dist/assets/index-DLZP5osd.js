var lce=Object.defineProperty;var cce=(n,r,l)=>r in n?lce(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l;var Sn=(n,r,l)=>cce(n,typeof r!="symbol"?r+"":r,l);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function l(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=l(g);fetch(g.href,v)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function eU(n){const r=Object.create(null);for(const l of n.split(","))r[l]=1;return l=>l in r}const Vi={},Vk=[],vv=()=>{},uce=()=>!1,I8=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),tU=n=>n.startsWith("onUpdate:"),Hl=Object.assign,nU=(n,r)=>{const l=n.indexOf(r);l>-1&&n.splice(l,1)},dce=Object.prototype.hasOwnProperty,di=(n,r)=>dce.call(n,r),os=Array.isArray,zk=n=>vD(n)==="[object Map]",N8=n=>vD(n)==="[object Set]",bK=n=>vD(n)==="[object Date]",Rs=n=>typeof n=="function",Ka=n=>typeof n=="string",yv=n=>typeof n=="symbol",Ai=n=>n!==null&&typeof n=="object",Fq=n=>(Ai(n)||Rs(n))&&Rs(n.then)&&Rs(n.catch),Vq=Object.prototype.toString,vD=n=>Vq.call(n),fce=n=>vD(n).slice(8,-1),zq=n=>vD(n)==="[object Object]",oU=n=>Ka(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,LO=eU(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P8=n=>{const r=Object.create(null);return l=>r[l]||(r[l]=n(l))},mce=/-(\w)/g,lf=P8(n=>n.replace(mce,(r,l)=>l?l.toUpperCase():"")),gce=/\B([A-Z])/g,fC=P8(n=>n.replace(gce,"-$1").toLowerCase()),A1=P8(n=>n.charAt(0).toUpperCase()+n.slice(1)),RH=P8(n=>n?`on${A1(n)}`:""),zy=(n,r)=>!Object.is(n,r),YB=(n,...r)=>{for(let l=0;l<n.length;l++)n[l](...r)},Hq=(n,r,l,d=!1)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,writable:d,value:l})},g$=n=>{const r=parseFloat(n);return isNaN(r)?n:r},hce=n=>{const r=Ka(n)?Number(n):NaN;return isNaN(r)?n:r};let yK;const $q=()=>yK||(yK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bD(n){if(os(n)){const r={};for(let l=0;l<n.length;l++){const d=n[l],g=Ka(d)?yce(d):bD(d);if(g)for(const v in g)r[v]=g[v]}return r}else if(Ka(n)||Ai(n))return n}const pce=/;(?![^(]*\))/g,vce=/:([^]+)/,bce=/\/\*[^]*?\*\//g;function yce(n){const r={};return n.replace(bce,"").split(pce).forEach(l=>{if(l){const d=l.split(vce);d.length>1&&(r[d[0].trim()]=d[1].trim())}}),r}function xd(n){let r="";if(Ka(n))r=n;else if(os(n))for(let l=0;l<n.length;l++){const d=xd(n[l]);d&&(r+=d+" ")}else if(Ai(n))for(const l in n)n[l]&&(r+=l+" ");return r.trim()}const xce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wce=eU(xce);function Uq(n){return!!n||n===""}function Cce(n,r){if(n.length!==r.length)return!1;let l=!0;for(let d=0;l&&d<n.length;d++)l=M8(n[d],r[d]);return l}function M8(n,r){if(n===r)return!0;let l=bK(n),d=bK(r);if(l||d)return l&&d?n.getTime()===r.getTime():!1;if(l=yv(n),d=yv(r),l||d)return n===r;if(l=os(n),d=os(r),l||d)return l&&d?Cce(n,r):!1;if(l=Ai(n),d=Ai(r),l||d){if(!l||!d)return!1;const g=Object.keys(n).length,v=Object.keys(r).length;if(g!==v)return!1;for(const x in n){const S=n.hasOwnProperty(x),O=r.hasOwnProperty(x);if(S&&!O||!S&&O||!M8(n[x],r[x]))return!1}}return String(n)===String(r)}function Wq(n,r){return n.findIndex(l=>M8(l,r))}const Zq=n=>!!(n&&n.__v_isRef===!0),ls=n=>Ka(n)?n:n==null?"":os(n)||Ai(n)&&(n.toString===Vq||!Rs(n.toString))?Zq(n)?ls(n.value):JSON.stringify(n,jq,2):String(n),jq=(n,r)=>Zq(r)?jq(n,r.value):zk(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[d,g],v)=>(l[IH(d,v)+" =>"]=g,l),{})}:N8(r)?{[`Set(${r.size})`]:[...r.values()].map(l=>IH(l))}:yv(r)?IH(r):Ai(r)&&!os(r)&&!zq(r)?String(r):r,IH=(n,r="")=>{var l;return yv(n)?`Symbol(${(l=n.description)!=null?l:r})`:n};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pd;class Kq{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pd,!r&&pd&&(this.index=(pd.scopes||(pd.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=pd;try{return pd=this,r()}finally{pd=l}}}on(){pd=this}off(){pd=this.parent}stop(r){if(this._active){let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.scopes)for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0,this._active=!1}}}function yD(n){return new Kq(n)}function Gq(){return pd}function Ou(n,r=!1){pd&&pd.cleanups.push(n)}let Xi;const NH=new WeakSet;class qq{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pd&&pd.active&&pd.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,NH.has(this)&&(NH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xq(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xK(this),Jq(this);const r=Xi,l=Hh;Xi=this,Hh=!0;try{return this.fn()}finally{Qq(this),Xi=r,Hh=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)iU(r);this.deps=this.depsTail=void 0,xK(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?NH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){h$(this)&&this.run()}get dirty(){return h$(this)}}let Yq=0,Nk;function Xq(n){n.flags|=8,n.next=Nk,Nk=n}function sU(){Yq++}function rU(){if(--Yq>0)return;let n;for(;Nk;){let r=Nk,l;for(;r;)r.flags&1||(r.flags&=-9),r=r.next;for(r=Nk,Nk=void 0;r;){if(l=r.next,r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(d){n||(n=d)}r=l}}if(n)throw n}function Jq(n){for(let r=n.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function Qq(n){let r,l=n.depsTail,d=l;for(;d;){const g=d.prevDep;d.version===-1?(d===l&&(l=g),iU(d),_ce(d)):r=d,d.dep.activeLink=d.prevActiveLink,d.prevActiveLink=void 0,d=g}n.deps=r,n.depsTail=l}function h$(n){for(let r=n.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(eY(r.dep.computed)||r.dep.version!==r.version))return!0;return!!n._dirty}function eY(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ZO))return;n.globalVersion=ZO;const r=n.dep;if(n.flags|=2,r.version>0&&!n.isSSR&&n.deps&&!h$(n)){n.flags&=-3;return}const l=Xi,d=Hh;Xi=n,Hh=!0;try{Jq(n);const g=n.fn(n._value);(r.version===0||zy(g,n._value))&&(n._value=g,r.version++)}catch(g){throw r.version++,g}finally{Xi=l,Hh=d,Qq(n),n.flags&=-3}}function iU(n,r=!1){const{dep:l,prevSub:d,nextSub:g}=n;if(d&&(d.nextSub=g,n.prevSub=void 0),g&&(g.prevSub=d,n.nextSub=void 0),l.subs===n&&(l.subs=d),!l.subs&&l.computed){l.computed.flags&=-5;for(let v=l.computed.deps;v;v=v.nextDep)iU(v,!0)}!r&&!--l.sc&&l.map&&l.map.delete(l.key)}function _ce(n){const{prevDep:r,nextDep:l}=n;r&&(r.nextDep=l,n.prevDep=void 0),l&&(l.prevDep=r,n.nextDep=void 0)}let Hh=!0;const tY=[];function jy(){tY.push(Hh),Hh=!1}function Ky(){const n=tY.pop();Hh=n===void 0?!0:n}function xK(n){const{cleanup:r}=n;if(n.cleanup=void 0,r){const l=Xi;Xi=void 0;try{r()}finally{Xi=l}}}let ZO=0;class Sce{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class aU{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!Xi||!Hh||Xi===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==Xi)l=this.activeLink=new Sce(Xi,this),Xi.deps?(l.prevDep=Xi.depsTail,Xi.depsTail.nextDep=l,Xi.depsTail=l):Xi.deps=Xi.depsTail=l,nY(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const d=l.nextDep;d.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=d),l.prevDep=Xi.depsTail,l.nextDep=void 0,Xi.depsTail.nextDep=l,Xi.depsTail=l,Xi.deps===l&&(Xi.deps=d)}return l}trigger(r){this.version++,ZO++,this.notify(r)}notify(r){sU();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{rU()}}}function nY(n){if(n.dep.sc++,n.sub.flags&4){const r=n.dep.computed;if(r&&!n.dep.subs){r.flags|=20;for(let d=r.deps;d;d=d.nextDep)nY(d)}const l=n.dep.subs;l!==n&&(n.prevSub=l,l&&(l.nextSub=n)),n.dep.subs=n}}const a8=new WeakMap,eC=Symbol(""),p$=Symbol(""),jO=Symbol("");function Tu(n,r,l){if(Hh&&Xi){let d=a8.get(n);d||a8.set(n,d=new Map);let g=d.get(l);g||(d.set(l,g=new aU),g.target=n,g.map=d,g.key=l),g.track()}}function C1(n,r,l,d,g,v){const x=a8.get(n);if(!x){ZO++;return}const S=O=>{O&&O.trigger()};if(sU(),r==="clear")x.forEach(S);else{const O=os(n),V=O&&oU(l);if(O&&l==="length"){const P=Number(d);x.forEach((B,$)=>{($==="length"||$===jO||!yv($)&&$>=P)&&S(B)})}else switch(l!==void 0&&S(x.get(l)),V&&S(x.get(jO)),r){case"add":O?V&&S(x.get("length")):(S(x.get(eC)),zk(n)&&S(x.get(p$)));break;case"delete":O||(S(x.get(eC)),zk(n)&&S(x.get(p$)));break;case"set":zk(n)&&S(x.get(eC));break}}rU()}function kce(n,r){const l=a8.get(n);return l&&l.get(r)}function wk(n){const r=ns(n);return r===n?r:(Tu(r,"iterate",jO),Dg(n)?r:r.map(Su))}function B8(n){return Tu(n=ns(n),"iterate",jO),n}const Ece={__proto__:null,[Symbol.iterator](){return PH(this,Symbol.iterator,Su)},concat(...n){return wk(this).concat(...n.map(r=>os(r)?wk(r):r))},entries(){return PH(this,"entries",n=>(n[1]=Su(n[1]),n))},every(n,r){return h1(this,"every",n,r,void 0,arguments)},filter(n,r){return h1(this,"filter",n,r,l=>l.map(Su),arguments)},find(n,r){return h1(this,"find",n,r,Su,arguments)},findIndex(n,r){return h1(this,"findIndex",n,r,void 0,arguments)},findLast(n,r){return h1(this,"findLast",n,r,Su,arguments)},findLastIndex(n,r){return h1(this,"findLastIndex",n,r,void 0,arguments)},forEach(n,r){return h1(this,"forEach",n,r,void 0,arguments)},includes(...n){return MH(this,"includes",n)},indexOf(...n){return MH(this,"indexOf",n)},join(n){return wk(this).join(n)},lastIndexOf(...n){return MH(this,"lastIndexOf",n)},map(n,r){return h1(this,"map",n,r,void 0,arguments)},pop(){return TO(this,"pop")},push(...n){return TO(this,"push",n)},reduce(n,...r){return wK(this,"reduce",n,r)},reduceRight(n,...r){return wK(this,"reduceRight",n,r)},shift(){return TO(this,"shift")},some(n,r){return h1(this,"some",n,r,void 0,arguments)},splice(...n){return TO(this,"splice",n)},toReversed(){return wk(this).toReversed()},toSorted(n){return wk(this).toSorted(n)},toSpliced(...n){return wk(this).toSpliced(...n)},unshift(...n){return TO(this,"unshift",n)},values(){return PH(this,"values",Su)}};function PH(n,r,l){const d=B8(n),g=d[r]();return d!==n&&!Dg(n)&&(g._next=g.next,g.next=()=>{const v=g._next();return v.value&&(v.value=l(v.value)),v}),g}const Ace=Array.prototype;function h1(n,r,l,d,g,v){const x=B8(n),S=x!==n&&!Dg(n),O=x[r];if(O!==Ace[r]){const B=O.apply(n,v);return S?Su(B):B}let V=l;x!==n&&(S?V=function(B,$){return l.call(this,Su(B),$,n)}:l.length>2&&(V=function(B,$){return l.call(this,B,$,n)}));const P=O.call(x,V,d);return S&&g?g(P):P}function wK(n,r,l,d){const g=B8(n);let v=l;return g!==n&&(Dg(n)?l.length>3&&(v=function(x,S,O){return l.call(this,x,S,O,n)}):v=function(x,S,O){return l.call(this,x,Su(S),O,n)}),g[r](v,...d)}function MH(n,r,l){const d=ns(n);Tu(d,"iterate",jO);const g=d[r](...l);return(g===-1||g===!1)&&dU(l[0])?(l[0]=ns(l[0]),d[r](...l)):g}function TO(n,r,l=[]){jy(),sU();const d=ns(n)[r].apply(n,l);return rU(),Ky(),d}const Tce=eU("__proto__,__v_isRef,__isVue"),oY=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(yv));function Oce(n){yv(n)||(n=String(n));const r=ns(this);return Tu(r,"has",n),r.hasOwnProperty(n)}class sY{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,d){const g=this._isReadonly,v=this._isShallow;if(l==="__v_isReactive")return!g;if(l==="__v_isReadonly")return g;if(l==="__v_isShallow")return v;if(l==="__v_raw")return d===(g?v?$ce:lY:v?aY:iY).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(d)?r:void 0;const x=os(r);if(!g){let O;if(x&&(O=Ece[l]))return O;if(l==="hasOwnProperty")return Oce}const S=Reflect.get(r,l,Hr(r)?r:d);return(yv(l)?oY.has(l):Tce(l))||(g||Tu(r,"get",l),v)?S:Hr(S)?x&&oU(l)?S:S.value:Ai(S)?g?xD(S):Ql(S):S}}class rY extends sY{constructor(r=!1){super(!1,r)}set(r,l,d,g){let v=r[l];if(!this._isShallow){const O=iC(v);if(!Dg(d)&&!iC(d)&&(v=ns(v),d=ns(d)),!os(r)&&Hr(v)&&!Hr(d))return O?!1:(v.value=d,!0)}const x=os(r)&&oU(l)?Number(l)<r.length:di(r,l),S=Reflect.set(r,l,d,Hr(r)?r:g);return r===ns(g)&&(x?zy(d,v)&&C1(r,"set",l,d):C1(r,"add",l,d)),S}deleteProperty(r,l){const d=di(r,l);r[l];const g=Reflect.deleteProperty(r,l);return g&&d&&C1(r,"delete",l,void 0),g}has(r,l){const d=Reflect.has(r,l);return(!yv(l)||!oY.has(l))&&Tu(r,"has",l),d}ownKeys(r){return Tu(r,"iterate",os(r)?"length":eC),Reflect.ownKeys(r)}}class Dce extends sY{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const Rce=new rY,Ice=new Dce,Nce=new rY(!0);const lU=n=>n,L8=n=>Reflect.getPrototypeOf(n);function OB(n,r,l=!1,d=!1){n=n.__v_raw;const g=ns(n),v=ns(r);l||(zy(r,v)&&Tu(g,"get",r),Tu(g,"get",v));const{has:x}=L8(g),S=d?lU:l?mU:Su;if(x.call(g,r))return S(n.get(r));if(x.call(g,v))return S(n.get(v));n!==g&&n.get(r)}function DB(n,r=!1){const l=this.__v_raw,d=ns(l),g=ns(n);return r||(zy(n,g)&&Tu(d,"has",n),Tu(d,"has",g)),n===g?l.has(n):l.has(n)||l.has(g)}function RB(n,r=!1){return n=n.__v_raw,!r&&Tu(ns(n),"iterate",eC),Reflect.get(n,"size",n)}function CK(n,r=!1){!r&&!Dg(n)&&!iC(n)&&(n=ns(n));const l=ns(this);return L8(l).has.call(l,n)||(l.add(n),C1(l,"add",n,n)),this}function _K(n,r,l=!1){!l&&!Dg(r)&&!iC(r)&&(r=ns(r));const d=ns(this),{has:g,get:v}=L8(d);let x=g.call(d,n);x||(n=ns(n),x=g.call(d,n));const S=v.call(d,n);return d.set(n,r),x?zy(r,S)&&C1(d,"set",n,r):C1(d,"add",n,r),this}function SK(n){const r=ns(this),{has:l,get:d}=L8(r);let g=l.call(r,n);g||(n=ns(n),g=l.call(r,n)),d&&d.call(r,n);const v=r.delete(n);return g&&C1(r,"delete",n,void 0),v}function kK(){const n=ns(this),r=n.size!==0,l=n.clear();return r&&C1(n,"clear",void 0,void 0),l}function IB(n,r){return function(d,g){const v=this,x=v.__v_raw,S=ns(x),O=r?lU:n?mU:Su;return!n&&Tu(S,"iterate",eC),x.forEach((V,P)=>d.call(g,O(V),O(P),v))}}function NB(n,r,l){return function(...d){const g=this.__v_raw,v=ns(g),x=zk(v),S=n==="entries"||n===Symbol.iterator&&x,O=n==="keys"&&x,V=g[n](...d),P=l?lU:r?mU:Su;return!r&&Tu(v,"iterate",O?p$:eC),{next(){const{value:B,done:$}=V.next();return $?{value:B,done:$}:{value:S?[P(B[0]),P(B[1])]:P(B),done:$}},[Symbol.iterator](){return this}}}}function Ay(n){return function(...r){return n==="delete"?!1:n==="clear"?void 0:this}}function Pce(){const n={get(v){return OB(this,v)},get size(){return RB(this)},has:DB,add:CK,set:_K,delete:SK,clear:kK,forEach:IB(!1,!1)},r={get(v){return OB(this,v,!1,!0)},get size(){return RB(this)},has:DB,add(v){return CK.call(this,v,!0)},set(v,x){return _K.call(this,v,x,!0)},delete:SK,clear:kK,forEach:IB(!1,!0)},l={get(v){return OB(this,v,!0)},get size(){return RB(this,!0)},has(v){return DB.call(this,v,!0)},add:Ay("add"),set:Ay("set"),delete:Ay("delete"),clear:Ay("clear"),forEach:IB(!0,!1)},d={get(v){return OB(this,v,!0,!0)},get size(){return RB(this,!0)},has(v){return DB.call(this,v,!0)},add:Ay("add"),set:Ay("set"),delete:Ay("delete"),clear:Ay("clear"),forEach:IB(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(v=>{n[v]=NB(v,!1,!1),l[v]=NB(v,!0,!1),r[v]=NB(v,!1,!0),d[v]=NB(v,!0,!0)}),[n,l,r,d]}const[Mce,Bce,Lce,Fce]=Pce();function cU(n,r){const l=r?n?Fce:Lce:n?Bce:Mce;return(d,g,v)=>g==="__v_isReactive"?!n:g==="__v_isReadonly"?n:g==="__v_raw"?d:Reflect.get(di(l,g)&&g in d?l:d,g,v)}const Vce={get:cU(!1,!1)},zce={get:cU(!1,!0)},Hce={get:cU(!0,!1)};const iY=new WeakMap,aY=new WeakMap,lY=new WeakMap,$ce=new WeakMap;function Uce(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wce(n){return n.__v_skip||!Object.isExtensible(n)?0:Uce(fce(n))}function Ql(n){return iC(n)?n:uU(n,!1,Rce,Vce,iY)}function Zce(n){return uU(n,!1,Nce,zce,aY)}function xD(n){return uU(n,!0,Ice,Hce,lY)}function uU(n,r,l,d,g){if(!Ai(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const v=g.get(n);if(v)return v;const x=Wce(n);if(x===0)return n;const S=new Proxy(n,x===2?d:l);return g.set(n,S),S}function Fy(n){return iC(n)?Fy(n.__v_raw):!!(n&&n.__v_isReactive)}function iC(n){return!!(n&&n.__v_isReadonly)}function Dg(n){return!!(n&&n.__v_isShallow)}function dU(n){return n?!!n.__v_raw:!1}function ns(n){const r=n&&n.__v_raw;return r?ns(r):n}function fU(n){return!di(n,"__v_skip")&&Object.isExtensible(n)&&Hq(n,"__v_skip",!0),n}const Su=n=>Ai(n)?Ql(n):n,mU=n=>Ai(n)?xD(n):n;function Hr(n){return n?n.__v_isRef===!0:!1}function Mn(n){return cY(n,!1)}function Ao(n){return cY(n,!0)}function cY(n,r){return Hr(n)?n:new jce(n,r)}class jce{constructor(r,l){this.dep=new aU,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:ns(r),this._value=l?r:Su(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,d=this.__v_isShallow||Dg(r)||iC(r);r=d?r:ns(r),zy(r,l)&&(this._rawValue=r,this._value=d?r:Su(r),this.dep.trigger())}}function le(n){return Hr(n)?n.value:n}const Kce={get:(n,r,l)=>r==="__v_raw"?n:le(Reflect.get(n,r,l)),set:(n,r,l,d)=>{const g=n[r];return Hr(g)&&!Hr(l)?(g.value=l,!0):Reflect.set(n,r,l,d)}};function uY(n){return Fy(n)?n:new Proxy(n,Kce)}function wD(n){const r=os(n)?new Array(n.length):{};for(const l in n)r[l]=dY(n,l);return r}class Gce{constructor(r,l,d){this._object=r,this._key=l,this._defaultValue=d,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return kce(ns(this._object),this._key)}}class qce{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Qo(n,r,l){return Hr(n)?n:Rs(n)?new qce(n):Ai(n)&&arguments.length>1?dY(n,r,l):Mn(n)}function dY(n,r,l){const d=n[r];return Hr(d)?d:new Gce(n,r,l)}class Yce{constructor(r,l,d){this.fn=r,this.setter=l,this._value=void 0,this.dep=new aU(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ZO-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=d}notify(){if(this.flags|=16,!(this.flags&8)&&Xi!==this)return Xq(this),!0}get value(){const r=this.dep.track();return eY(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function Xce(n,r,l=!1){let d,g;return Rs(n)?d=n:(d=n.get,g=n.set),new Yce(d,g,l)}const PB={},l8=new WeakMap;let qw;function Jce(n,r=!1,l=qw){if(l){let d=l8.get(l);d||l8.set(l,d=[]),d.push(n)}}function Qce(n,r,l=Vi){const{immediate:d,deep:g,once:v,scheduler:x,augmentJob:S,call:O}=l,V=te=>g?te:Dg(te)||g===!1||g===0?x1(te,1):x1(te);let P,B,$,Z,K=!1,X=!1;if(Hr(n)?(B=()=>n.value,K=Dg(n)):Fy(n)?(B=()=>V(n),K=!0):os(n)?(X=!0,K=n.some(te=>Fy(te)||Dg(te)),B=()=>n.map(te=>{if(Hr(te))return te.value;if(Fy(te))return V(te);if(Rs(te))return O?O(te,2):te()})):Rs(n)?r?B=O?()=>O(n,2):n:B=()=>{if($){jy();try{$()}finally{Ky()}}const te=qw;qw=P;try{return O?O(n,3,[Z]):n(Z)}finally{qw=te}}:B=vv,r&&g){const te=B,Ce=g===!0?1/0:g;B=()=>x1(te(),Ce)}const ae=Gq(),fe=()=>{P.stop(),ae&&nU(ae.effects,P)};if(v&&r){const te=r;r=(...Ce)=>{te(...Ce),fe()}}let Le=X?new Array(n.length).fill(PB):PB;const Re=te=>{if(!(!(P.flags&1)||!P.dirty&&!te))if(r){const Ce=P.run();if(g||K||(X?Ce.some((ie,Ue)=>zy(ie,Le[Ue])):zy(Ce,Le))){$&&$();const ie=qw;qw=P;try{const Ue=[Ce,Le===PB?void 0:X&&Le[0]===PB?[]:Le,Z];O?O(r,3,Ue):r(...Ue),Le=Ce}finally{qw=ie}}}else P.run()};return S&&S(Re),P=new qq(B),P.scheduler=x?()=>x(Re,!1):Re,Z=te=>Jce(te,!1,P),$=P.onStop=()=>{const te=l8.get(P);if(te){if(O)O(te,4);else for(const Ce of te)Ce();l8.delete(P)}},r?d?Re(!0):Le=P.run():x?x(Re.bind(null,!0),!0):P.run(),fe.pause=P.pause.bind(P),fe.resume=P.resume.bind(P),fe.stop=fe,fe}function x1(n,r=1/0,l){if(r<=0||!Ai(n)||n.__v_skip||(l=l||new Set,l.has(n)))return n;if(l.add(n),r--,Hr(n))x1(n.value,r,l);else if(os(n))for(let d=0;d<n.length;d++)x1(n[d],r,l);else if(N8(n)||zk(n))n.forEach(d=>{x1(d,r,l)});else if(zq(n)){for(const d in n)x1(n[d],r,l);for(const d of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,d)&&x1(n[d],r,l)}return n}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function CD(n,r,l,d){try{return d?n(...d):n()}catch(g){F8(g,r,l)}}function jh(n,r,l,d){if(Rs(n)){const g=CD(n,r,l,d);return g&&Fq(g)&&g.catch(v=>{F8(v,r,l)}),g}if(os(n)){const g=[];for(let v=0;v<n.length;v++)g.push(jh(n[v],r,l,d));return g}}function F8(n,r,l,d=!0){const g=r?r.vnode:null,{errorHandler:v,throwUnhandledErrorInProduction:x}=r&&r.appContext.config||Vi;if(r){let S=r.parent;const O=r.proxy,V=`https://vuejs.org/error-reference/#runtime-${l}`;for(;S;){const P=S.ec;if(P){for(let B=0;B<P.length;B++)if(P[B](n,O,V)===!1)return}S=S.parent}if(v){jy(),CD(v,null,10,[n,O,V]),Ky();return}}eue(n,l,g,d,x)}function eue(n,r,l,d=!0,g=!1){if(g)throw n;console.error(n)}let KO=!1,v$=!1;const vd=[];let cv=0;const Hk=[];let Ny=null,Ik=0;const fY=Promise.resolve();let gU=null;function Ar(n){const r=gU||fY;return n?r.then(this?n.bind(this):n):r}function tue(n){let r=KO?cv+1:0,l=vd.length;for(;r<l;){const d=r+l>>>1,g=vd[d],v=GO(g);v<n||v===n&&g.flags&2?r=d+1:l=d}return r}function hU(n){if(!(n.flags&1)){const r=GO(n),l=vd[vd.length-1];!l||!(n.flags&2)&&r>=GO(l)?vd.push(n):vd.splice(tue(r),0,n),n.flags|=1,mY()}}function mY(){!KO&&!v$&&(v$=!0,gU=fY.then(hY))}function nue(n){os(n)?Hk.push(...n):Ny&&n.id===-1?Ny.splice(Ik+1,0,n):n.flags&1||(Hk.push(n),n.flags|=1),mY()}function EK(n,r,l=KO?cv+1:0){for(;l<vd.length;l++){const d=vd[l];if(d&&d.flags&2){if(n&&d.id!==n.uid)continue;vd.splice(l,1),l--,d.flags&4&&(d.flags&=-2),d(),d.flags&4||(d.flags&=-2)}}}function gY(n){if(Hk.length){const r=[...new Set(Hk)].sort((l,d)=>GO(l)-GO(d));if(Hk.length=0,Ny){Ny.push(...r);return}for(Ny=r,Ik=0;Ik<Ny.length;Ik++){const l=Ny[Ik];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}Ny=null,Ik=0}}const GO=n=>n.id==null?n.flags&2?-1:1/0:n.id;function hY(n){v$=!1,KO=!0;try{for(cv=0;cv<vd.length;cv++){const r=vd[cv];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),CD(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;cv<vd.length;cv++){const r=vd[cv];r&&(r.flags&=-2)}cv=0,vd.length=0,gY(),KO=!1,gU=null,(vd.length||Hk.length)&&hY()}}let yd=null,pY=null;function c8(n){const r=yd;return yd=n,pY=n&&n.type.__scopeId||null,r}function Pt(n,r=yd,l){if(!r||n._n)return n;const d=(...g)=>{d._d&&FK(-1);const v=c8(r);let x;try{x=n(...g)}finally{c8(v),d._d&&FK(1)}return x};return d._n=!0,d._c=!0,d._d=!0,d}function lo(n,r){if(yd===null)return n;const l=W8(yd),d=n.dirs||(n.dirs=[]);for(let g=0;g<r.length;g++){let[v,x,S,O=Vi]=r[g];v&&(Rs(v)&&(v={mounted:v,updated:v}),v.deep&&x1(x),d.push({dir:v,instance:l,value:x,oldValue:void 0,arg:S,modifiers:O}))}return n}function Uw(n,r,l,d){const g=n.dirs,v=r&&r.dirs;for(let x=0;x<g.length;x++){const S=g[x];v&&(S.oldValue=v[x].value);let O=S.dir[d];O&&(jy(),jh(O,l,8,[n.el,S,n,r]),Ky())}}const vY=Symbol("_vte"),bY=n=>n.__isTeleport,FO=n=>n&&(n.disabled||n.disabled===""),oue=n=>n&&(n.defer||n.defer===""),AK=n=>typeof SVGElement<"u"&&n instanceof SVGElement,TK=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,b$=(n,r)=>{const l=n&&n.to;return Ka(l)?r?r(l):null:l},sue={name:"Teleport",__isTeleport:!0,process(n,r,l,d,g,v,x,S,O,V){const{mc:P,pc:B,pbc:$,o:{insert:Z,querySelector:K,createText:X,createComment:ae}}=V,fe=FO(r.props);let{shapeFlag:Le,children:Re,dynamicChildren:te}=r;if(n==null){const Ce=r.el=X(""),ie=r.anchor=X("");Z(Ce,l,d),Z(ie,l,d);const Ue=(qe,st)=>{Le&16&&(g&&g.isCE&&(g.ce._teleportTarget=qe),P(Re,qe,st,g,v,x,S,O))},We=()=>{const qe=r.target=b$(r.props,K),st=yY(qe,r,X,Z);qe&&(x!=="svg"&&AK(qe)?x="svg":x!=="mathml"&&TK(qe)&&(x="mathml"),fe||(Ue(qe,st),XB(r)))};fe&&(Ue(l,ie),XB(r)),oue(r.props)?nf(We,v):We()}else{r.el=n.el,r.targetStart=n.targetStart;const Ce=r.anchor=n.anchor,ie=r.target=n.target,Ue=r.targetAnchor=n.targetAnchor,We=FO(n.props),qe=We?l:ie,st=We?Ce:Ue;if(x==="svg"||AK(ie)?x="svg":(x==="mathml"||TK(ie))&&(x="mathml"),te?($(n.dynamicChildren,te,qe,g,v,x,S),CU(n,r,!0)):O||B(n,r,qe,st,g,v,x,S,!1),fe)We?r.props&&n.props&&r.props.to!==n.props.to&&(r.props.to=n.props.to):MB(r,l,Ce,V,1);else if((r.props&&r.props.to)!==(n.props&&n.props.to)){const Se=r.target=b$(r.props,K);Se&&MB(r,Se,null,V,0)}else We&&MB(r,ie,Ue,V,1);XB(r)}},remove(n,r,l,{um:d,o:{remove:g}},v){const{shapeFlag:x,children:S,anchor:O,targetStart:V,targetAnchor:P,target:B,props:$}=n;if(B&&(g(V),g(P)),v&&g(O),x&16){const Z=v||!FO($);for(let K=0;K<S.length;K++){const X=S[K];d(X,r,l,Z,!!X.dynamicChildren)}}},move:MB,hydrate:rue};function MB(n,r,l,{o:{insert:d},m:g},v=2){v===0&&d(n.targetAnchor,r,l);const{el:x,anchor:S,shapeFlag:O,children:V,props:P}=n,B=v===2;if(B&&d(x,r,l),(!B||FO(P))&&O&16)for(let $=0;$<V.length;$++)g(V[$],r,l,2);B&&d(S,r,l)}function rue(n,r,l,d,g,v,{o:{nextSibling:x,parentNode:S,querySelector:O,insert:V,createText:P}},B){const $=r.target=b$(r.props,O);if($){const Z=$._lpa||$.firstChild;if(r.shapeFlag&16)if(FO(r.props))r.anchor=B(x(n),r,S(n),l,d,g,v),r.targetStart=Z,r.targetAnchor=Z&&x(Z);else{r.anchor=x(n);let K=Z;for(;K;){if(K&&K.nodeType===8){if(K.data==="teleport start anchor")r.targetStart=K;else if(K.data==="teleport anchor"){r.targetAnchor=K,$._lpa=r.targetAnchor&&x(r.targetAnchor);break}}K=x(K)}r.targetAnchor||yY($,r,P,V),B(Z&&x(Z),r,$,l,d,g,v)}XB(r)}return r.anchor&&x(r.anchor)}const iue=sue;function XB(n){const r=n.ctx;if(r&&r.ut){let l=n.targetStart;for(;l&&l!==n.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",r.uid),l=l.nextSibling;r.ut()}}function yY(n,r,l,d){const g=r.targetStart=l(""),v=r.targetAnchor=l("");return g[vY]=v,n&&(d(g,n),d(v,n)),v}const Py=Symbol("_leaveCb"),BB=Symbol("_enterCb");function xY(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Du(()=>{n.isMounted=!0}),xc(()=>{n.isUnmounting=!0}),n}const Tg=[Function,Array],wY={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tg,onEnter:Tg,onAfterEnter:Tg,onEnterCancelled:Tg,onBeforeLeave:Tg,onLeave:Tg,onAfterLeave:Tg,onLeaveCancelled:Tg,onBeforeAppear:Tg,onAppear:Tg,onAfterAppear:Tg,onAppearCancelled:Tg},CY=n=>{const r=n.subTree;return r.component?CY(r.component):r},aue={name:"BaseTransition",props:wY,setup(n,{slots:r}){const l=kU(),d=xY();return()=>{const g=r.default&&pU(r.default(),!0);if(!g||!g.length)return;const v=_Y(g),x=ns(n),{mode:S}=x;if(d.isLeaving)return BH(v);const O=OK(v);if(!O)return BH(v);let V=qO(O,x,d,l,$=>V=$);O.type!==bd&&aC(O,V);const P=l.subTree,B=P&&OK(P);if(B&&B.type!==bd&&!Yw(O,B)&&CY(l).type!==bd){const $=qO(B,x,d,l);if(aC(B,$),S==="out-in"&&O.type!==bd)return d.isLeaving=!0,$.afterLeave=()=>{d.isLeaving=!1,l.job.flags&8||l.update(),delete $.afterLeave},BH(v);S==="in-out"&&O.type!==bd&&($.delayLeave=(Z,K,X)=>{const ae=SY(d,B);ae[String(B.key)]=B,Z[Py]=()=>{K(),Z[Py]=void 0,delete V.delayedLeave},V.delayedLeave=X})}return v}}};function _Y(n){let r=n[0];if(n.length>1){for(const l of n)if(l.type!==bd){r=l;break}}return r}const lue=aue;function SY(n,r){const{leavingVNodes:l}=n;let d=l.get(r.type);return d||(d=Object.create(null),l.set(r.type,d)),d}function qO(n,r,l,d,g){const{appear:v,mode:x,persisted:S=!1,onBeforeEnter:O,onEnter:V,onAfterEnter:P,onEnterCancelled:B,onBeforeLeave:$,onLeave:Z,onAfterLeave:K,onLeaveCancelled:X,onBeforeAppear:ae,onAppear:fe,onAfterAppear:Le,onAppearCancelled:Re}=r,te=String(n.key),Ce=SY(l,n),ie=(qe,st)=>{qe&&jh(qe,d,9,st)},Ue=(qe,st)=>{const Se=st[1];ie(qe,st),os(qe)?qe.every(Me=>Me.length<=1)&&Se():qe.length<=1&&Se()},We={mode:x,persisted:S,beforeEnter(qe){let st=O;if(!l.isMounted)if(v)st=ae||O;else return;qe[Py]&&qe[Py](!0);const Se=Ce[te];Se&&Yw(n,Se)&&Se.el[Py]&&Se.el[Py](),ie(st,[qe])},enter(qe){let st=V,Se=P,Me=B;if(!l.isMounted)if(v)st=fe||V,Se=Le||P,Me=Re||B;else return;let D=!1;const Ke=qe[BB]=ct=>{D||(D=!0,ct?ie(Me,[qe]):ie(Se,[qe]),We.delayedLeave&&We.delayedLeave(),qe[BB]=void 0)};st?Ue(st,[qe,Ke]):Ke()},leave(qe,st){const Se=String(n.key);if(qe[BB]&&qe[BB](!0),l.isUnmounting)return st();ie($,[qe]);let Me=!1;const D=qe[Py]=Ke=>{Me||(Me=!0,st(),Ke?ie(X,[qe]):ie(K,[qe]),qe[Py]=void 0,Ce[Se]===n&&delete Ce[Se])};Ce[Se]=n,Z?Ue(Z,[qe,D]):D()},clone(qe){const st=qO(qe,r,l,d,g);return g&&g(st),st}};return We}function BH(n){if(V8(n))return n=k1(n),n.children=null,n}function OK(n){if(!V8(n))return bY(n.type)&&n.children?_Y(n.children):n;const{shapeFlag:r,children:l}=n;if(l){if(r&16)return l[0];if(r&32&&Rs(l.default))return l.default()}}function aC(n,r){n.shapeFlag&6&&n.component?(n.transition=r,aC(n.component.subTree,r)):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r}function pU(n,r=!1,l){let d=[],g=0;for(let v=0;v<n.length;v++){let x=n[v];const S=l==null?x.key:String(l)+String(x.key!=null?x.key:v);x.type===us?(x.patchFlag&128&&g++,d=d.concat(pU(x.children,r,S))):(r||x.type!==bd)&&d.push(S!=null?k1(x,{key:S}):x)}if(g>1)for(let v=0;v<d.length;v++)d[v].patchFlag=-2;return d}/*! #__NO_SIDE_EFFECTS__ */function kY(n,r){return Rs(n)?Hl({name:n.name},r,{setup:n}):n}function EY(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function y$(n,r,l,d,g=!1){if(os(n)){n.forEach((K,X)=>y$(K,r&&(os(r)?r[X]:r),l,d,g));return}if(VO(d)&&!g)return;const v=d.shapeFlag&4?W8(d.component):d.el,x=g?null:v,{i:S,r:O}=n,V=r&&r.r,P=S.refs===Vi?S.refs={}:S.refs,B=S.setupState,$=ns(B),Z=B===Vi?()=>!1:K=>di($,K);if(V!=null&&V!==O&&(Ka(V)?(P[V]=null,Z(V)&&(B[V]=null)):Hr(V)&&(V.value=null)),Rs(O))CD(O,S,12,[x,P]);else{const K=Ka(O),X=Hr(O);if(K||X){const ae=()=>{if(n.f){const fe=K?Z(O)?B[O]:P[O]:O.value;g?os(fe)&&nU(fe,v):os(fe)?fe.includes(v)||fe.push(v):K?(P[O]=[v],Z(O)&&(B[O]=P[O])):(O.value=[v],n.k&&(P[n.k]=O.value))}else K?(P[O]=x,Z(O)&&(B[O]=x)):X&&(O.value=x,n.k&&(P[n.k]=x))};x?(ae.id=-1,nf(ae,l)):ae()}}}const VO=n=>!!n.type.__asyncLoader,V8=n=>n.type.__isKeepAlive;function vU(n,r){AY(n,"a",r)}function z8(n,r){AY(n,"da",r)}function AY(n,r,l=bc){const d=n.__wdc||(n.__wdc=()=>{let g=l;for(;g;){if(g.isDeactivated)return;g=g.parent}return n()});if(H8(r,d,l),l){let g=l.parent;for(;g&&g.parent;)V8(g.parent.vnode)&&cue(d,r,l,g),g=g.parent}}function cue(n,r,l,d){const g=H8(r,n,d,!0);TY(()=>{nU(d[r],g)},l)}function H8(n,r,l=bc,d=!1){if(l){const g=l[n]||(l[n]=[]),v=r.__weh||(r.__weh=(...x)=>{jy();const S=SD(l),O=jh(r,l,n,x);return S(),Ky(),O});return d?g.unshift(v):g.push(v),v}}const T1=n=>(r,l=bc)=>{(!U8||n==="sp")&&H8(n,(...d)=>r(...d),l)},bU=T1("bm"),Du=T1("m"),uue=T1("bu"),yU=T1("u"),xc=T1("bum"),TY=T1("um"),due=T1("sp"),fue=T1("rtg"),mue=T1("rtc");function gue(n,r=bc){H8("ec",n,r)}const OY="components",hue="directives",pue=Symbol.for("v-ndc");function vue(n){return Ka(n)&&DY(OY,n,!1)||n}function Gy(n){return DY(hue,n)}function DY(n,r,l=!0,d=!1){const g=yd||bc;if(g){const v=g.type;if(n===OY){const S=ode(v,!1);if(S&&(S===r||S===lf(r)||S===A1(lf(r))))return v}const x=DK(g[n]||v[n],r)||DK(g.appContext[n],r);return!x&&d?v:x}}function DK(n,r){return n&&(n[r]||n[lf(r)]||n[A1(lf(r))])}function lC(n,r,l,d){let g;const v=l,x=os(n);if(x||Ka(n)){const S=x&&Fy(n);let O=!1;S&&(O=!Dg(n),n=B8(n)),g=new Array(n.length);for(let V=0,P=n.length;V<P;V++)g[V]=r(O?Su(n[V]):n[V],V,void 0,v)}else if(typeof n=="number"){g=new Array(n);for(let S=0;S<n;S++)g[S]=r(S+1,S,void 0,v)}else if(Ai(n))if(n[Symbol.iterator])g=Array.from(n,(S,O)=>r(S,O,void 0,v));else{const S=Object.keys(n);g=new Array(S.length);for(let O=0,V=S.length;O<V;O++){const P=S[O];g[O]=r(n[P],P,O,v)}}else g=[];return g}const x$=n=>n?GY(n)?W8(n):x$(n.parent):null,zO=Hl(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>x$(n.parent),$root:n=>x$(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>xU(n),$forceUpdate:n=>n.f||(n.f=()=>{hU(n.update)}),$nextTick:n=>n.n||(n.n=Ar.bind(n.proxy)),$watch:n=>Vue.bind(n)}),LH=(n,r)=>n!==Vi&&!n.__isScriptSetup&&di(n,r),bue={get({_:n},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:d,data:g,props:v,accessCache:x,type:S,appContext:O}=n;let V;if(r[0]!=="$"){const Z=x[r];if(Z!==void 0)switch(Z){case 1:return d[r];case 2:return g[r];case 4:return l[r];case 3:return v[r]}else{if(LH(d,r))return x[r]=1,d[r];if(g!==Vi&&di(g,r))return x[r]=2,g[r];if((V=n.propsOptions[0])&&di(V,r))return x[r]=3,v[r];if(l!==Vi&&di(l,r))return x[r]=4,l[r];w$&&(x[r]=0)}}const P=zO[r];let B,$;if(P)return r==="$attrs"&&Tu(n.attrs,"get",""),P(n);if((B=S.__cssModules)&&(B=B[r]))return B;if(l!==Vi&&di(l,r))return x[r]=4,l[r];if($=O.config.globalProperties,di($,r))return $[r]},set({_:n},r,l){const{data:d,setupState:g,ctx:v}=n;return LH(g,r)?(g[r]=l,!0):d!==Vi&&di(d,r)?(d[r]=l,!0):di(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(v[r]=l,!0)},has({_:{data:n,setupState:r,accessCache:l,ctx:d,appContext:g,propsOptions:v}},x){let S;return!!l[x]||n!==Vi&&di(n,x)||LH(r,x)||(S=v[0])&&di(S,x)||di(d,x)||di(zO,x)||di(g.config.globalProperties,x)},defineProperty(n,r,l){return l.get!=null?n._.accessCache[r]=0:di(l,"value")&&this.set(n,r,l.value,null),Reflect.defineProperty(n,r,l)}};function RK(n){return os(n)?n.reduce((r,l)=>(r[l]=null,r),{}):n}let w$=!0;function yue(n){const r=xU(n),l=n.proxy,d=n.ctx;w$=!1,r.beforeCreate&&IK(r.beforeCreate,n,"bc");const{data:g,computed:v,methods:x,watch:S,provide:O,inject:V,created:P,beforeMount:B,mounted:$,beforeUpdate:Z,updated:K,activated:X,deactivated:ae,beforeDestroy:fe,beforeUnmount:Le,destroyed:Re,unmounted:te,render:Ce,renderTracked:ie,renderTriggered:Ue,errorCaptured:We,serverPrefetch:qe,expose:st,inheritAttrs:Se,components:Me,directives:D,filters:Ke}=r;if(V&&xue(V,d,null),x)for(const Jt in x){const et=x[Jt];Rs(et)&&(d[Jt]=et.bind(l))}if(g){const Jt=g.call(l,l);Ai(Jt)&&(n.data=Ql(Jt))}if(w$=!0,v)for(const Jt in v){const et=v[Jt],pt=Rs(et)?et.bind(l,l):Rs(et.get)?et.get.bind(l,l):vv,Lt=!Rs(et)&&Rs(et.set)?et.set.bind(l):vv,tt=Ge({get:pt,set:Lt});Object.defineProperty(d,Jt,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Ye=>tt.value=Ye})}if(S)for(const Jt in S)RY(S[Jt],d,l,Jt);if(O){const Jt=Rs(O)?O.call(l):O;Reflect.ownKeys(Jt).forEach(et=>{wd(et,Jt[et])})}P&&IK(P,n,"c");function $t(Jt,et){os(et)?et.forEach(pt=>Jt(pt.bind(l))):et&&Jt(et.bind(l))}if($t(bU,B),$t(Du,$),$t(uue,Z),$t(yU,K),$t(vU,X),$t(z8,ae),$t(gue,We),$t(mue,ie),$t(fue,Ue),$t(xc,Le),$t(TY,te),$t(due,qe),os(st))if(st.length){const Jt=n.exposed||(n.exposed={});st.forEach(et=>{Object.defineProperty(Jt,et,{get:()=>l[et],set:pt=>l[et]=pt})})}else n.exposed||(n.exposed={});Ce&&n.render===vv&&(n.render=Ce),Se!=null&&(n.inheritAttrs=Se),Me&&(n.components=Me),D&&(n.directives=D),qe&&EY(n)}function xue(n,r,l=vv){os(n)&&(n=C$(n));for(const d in n){const g=n[d];let v;Ai(g)?"default"in g?v=wa(g.from||d,g.default,!0):v=wa(g.from||d):v=wa(g),Hr(v)?Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>v.value,set:x=>v.value=x}):r[d]=v}}function IK(n,r,l){jh(os(n)?n.map(d=>d.bind(r.proxy)):n.bind(r.proxy),r,l)}function RY(n,r,l,d){let g=d.includes(".")?UY(l,d):()=>l[d];if(Ka(n)){const v=r[n];Rs(v)&&Gn(g,v)}else if(Rs(n))Gn(g,n.bind(l));else if(Ai(n))if(os(n))n.forEach(v=>RY(v,r,l,d));else{const v=Rs(n.handler)?n.handler.bind(l):r[n.handler];Rs(v)&&Gn(g,v,n)}}function xU(n){const r=n.type,{mixins:l,extends:d}=r,{mixins:g,optionsCache:v,config:{optionMergeStrategies:x}}=n.appContext,S=v.get(r);let O;return S?O=S:!g.length&&!l&&!d?O=r:(O={},g.length&&g.forEach(V=>u8(O,V,x,!0)),u8(O,r,x)),Ai(r)&&v.set(r,O),O}function u8(n,r,l,d=!1){const{mixins:g,extends:v}=r;v&&u8(n,v,l,!0),g&&g.forEach(x=>u8(n,x,l,!0));for(const x in r)if(!(d&&x==="expose")){const S=wue[x]||l&&l[x];n[x]=S?S(n[x],r[x]):r[x]}return n}const wue={data:NK,props:PK,emits:PK,methods:MO,computed:MO,beforeCreate:hd,created:hd,beforeMount:hd,mounted:hd,beforeUpdate:hd,updated:hd,beforeDestroy:hd,beforeUnmount:hd,destroyed:hd,unmounted:hd,activated:hd,deactivated:hd,errorCaptured:hd,serverPrefetch:hd,components:MO,directives:MO,watch:_ue,provide:NK,inject:Cue};function NK(n,r){return r?n?function(){return Hl(Rs(n)?n.call(this,this):n,Rs(r)?r.call(this,this):r)}:r:n}function Cue(n,r){return MO(C$(n),C$(r))}function C$(n){if(os(n)){const r={};for(let l=0;l<n.length;l++)r[n[l]]=n[l];return r}return n}function hd(n,r){return n?[...new Set([].concat(n,r))]:r}function MO(n,r){return n?Hl(Object.create(null),n,r):r}function PK(n,r){return n?os(n)&&os(r)?[...new Set([...n,...r])]:Hl(Object.create(null),RK(n),RK(r??{})):r}function _ue(n,r){if(!n)return r;if(!r)return n;const l=Hl(Object.create(null),n);for(const d in r)l[d]=hd(n[d],r[d]);return l}function IY(){return{app:null,config:{isNativeTag:uce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sue=0;function kue(n,r){return function(d,g=null){Rs(d)||(d=Hl({},d)),g!=null&&!Ai(g)&&(g=null);const v=IY(),x=new WeakSet,S=[];let O=!1;const V=v.app={_uid:Sue++,_component:d,_props:g,_container:null,_context:v,_instance:null,version:rde,get config(){return v.config},set config(P){},use(P,...B){return x.has(P)||(P&&Rs(P.install)?(x.add(P),P.install(V,...B)):Rs(P)&&(x.add(P),P(V,...B))),V},mixin(P){return v.mixins.includes(P)||v.mixins.push(P),V},component(P,B){return B?(v.components[P]=B,V):v.components[P]},directive(P,B){return B?(v.directives[P]=B,V):v.directives[P]},mount(P,B,$){if(!O){const Z=V._ceVNode||G(d,g);return Z.appContext=v,$===!0?$="svg":$===!1&&($=void 0),B&&r?r(Z,P):n(Z,P,$),O=!0,V._container=P,P.__vue_app__=V,W8(Z.component)}},onUnmount(P){S.push(P)},unmount(){O&&(jh(S,V._instance,16),n(null,V._container),delete V._container.__vue_app__)},provide(P,B){return v.provides[P]=B,V},runWithContext(P){const B=tC;tC=V;try{return P()}finally{tC=B}}};return V}}let tC=null;function wd(n,r){if(bc){let l=bc.provides;const d=bc.parent&&bc.parent.provides;d===l&&(l=bc.provides=Object.create(d)),l[n]=r}}function wa(n,r,l=!1){const d=bc||yd;if(d||tC){const g=tC?tC._context.provides:d?d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides:void 0;if(g&&n in g)return g[n];if(arguments.length>1)return l&&Rs(r)?r.call(d&&d.proxy):r}}function Eue(){return!!(bc||yd||tC)}const NY={},PY=()=>Object.create(NY),MY=n=>Object.getPrototypeOf(n)===NY;function Aue(n,r,l,d=!1){const g={},v=PY();n.propsDefaults=Object.create(null),BY(n,r,g,v);for(const x in n.propsOptions[0])x in g||(g[x]=void 0);l?n.props=d?g:Zce(g):n.type.props?n.props=g:n.props=v,n.attrs=v}function Tue(n,r,l,d){const{props:g,attrs:v,vnode:{patchFlag:x}}=n,S=ns(g),[O]=n.propsOptions;let V=!1;if((d||x>0)&&!(x&16)){if(x&8){const P=n.vnode.dynamicProps;for(let B=0;B<P.length;B++){let $=P[B];if($8(n.emitsOptions,$))continue;const Z=r[$];if(O)if(di(v,$))Z!==v[$]&&(v[$]=Z,V=!0);else{const K=lf($);g[K]=_$(O,S,K,Z,n,!1)}else Z!==v[$]&&(v[$]=Z,V=!0)}}}else{BY(n,r,g,v)&&(V=!0);let P;for(const B in S)(!r||!di(r,B)&&((P=fC(B))===B||!di(r,P)))&&(O?l&&(l[B]!==void 0||l[P]!==void 0)&&(g[B]=_$(O,S,B,void 0,n,!0)):delete g[B]);if(v!==S)for(const B in v)(!r||!di(r,B))&&(delete v[B],V=!0)}V&&C1(n.attrs,"set","")}function BY(n,r,l,d){const[g,v]=n.propsOptions;let x=!1,S;if(r)for(let O in r){if(LO(O))continue;const V=r[O];let P;g&&di(g,P=lf(O))?!v||!v.includes(P)?l[P]=V:(S||(S={}))[P]=V:$8(n.emitsOptions,O)||(!(O in d)||V!==d[O])&&(d[O]=V,x=!0)}if(v){const O=ns(l),V=S||Vi;for(let P=0;P<v.length;P++){const B=v[P];l[B]=_$(g,O,B,V[B],n,!di(V,B))}}return x}function _$(n,r,l,d,g,v){const x=n[l];if(x!=null){const S=di(x,"default");if(S&&d===void 0){const O=x.default;if(x.type!==Function&&!x.skipFactory&&Rs(O)){const{propsDefaults:V}=g;if(l in V)d=V[l];else{const P=SD(g);d=V[l]=O.call(null,r),P()}}else d=O;g.ce&&g.ce._setProp(l,d)}x[0]&&(v&&!S?d=!1:x[1]&&(d===""||d===fC(l))&&(d=!0))}return d}const Oue=new WeakMap;function LY(n,r,l=!1){const d=l?Oue:r.propsCache,g=d.get(n);if(g)return g;const v=n.props,x={},S=[];let O=!1;if(!Rs(n)){const P=B=>{O=!0;const[$,Z]=LY(B,r,!0);Hl(x,$),Z&&S.push(...Z)};!l&&r.mixins.length&&r.mixins.forEach(P),n.extends&&P(n.extends),n.mixins&&n.mixins.forEach(P)}if(!v&&!O)return Ai(n)&&d.set(n,Vk),Vk;if(os(v))for(let P=0;P<v.length;P++){const B=lf(v[P]);MK(B)&&(x[B]=Vi)}else if(v)for(const P in v){const B=lf(P);if(MK(B)){const $=v[P],Z=x[B]=os($)||Rs($)?{type:$}:Hl({},$),K=Z.type;let X=!1,ae=!0;if(os(K))for(let fe=0;fe<K.length;++fe){const Le=K[fe],Re=Rs(Le)&&Le.name;if(Re==="Boolean"){X=!0;break}else Re==="String"&&(ae=!1)}else X=Rs(K)&&K.name==="Boolean";Z[0]=X,Z[1]=ae,(X||di(Z,"default"))&&S.push(B)}}const V=[x,S];return Ai(n)&&d.set(n,V),V}function MK(n){return n[0]!=="$"&&!LO(n)}const FY=n=>n[0]==="_"||n==="$stable",wU=n=>os(n)?n.map(dv):[dv(n)],Due=(n,r,l)=>{if(r._n)return r;const d=Pt((...g)=>wU(r(...g)),l);return d._c=!1,d},VY=(n,r,l)=>{const d=n._ctx;for(const g in n){if(FY(g))continue;const v=n[g];if(Rs(v))r[g]=Due(g,v,d);else if(v!=null){const x=wU(v);r[g]=()=>x}}},zY=(n,r)=>{const l=wU(r);n.slots.default=()=>l},HY=(n,r,l)=>{for(const d in r)(l||d!=="_")&&(n[d]=r[d])},Rue=(n,r,l)=>{const d=n.slots=PY();if(n.vnode.shapeFlag&32){const g=r._;g?(HY(d,r,l),l&&Hq(d,"_",g,!0)):VY(r,d)}else r&&zY(n,r)},Iue=(n,r,l)=>{const{vnode:d,slots:g}=n;let v=!0,x=Vi;if(d.shapeFlag&32){const S=r._;S?l&&S===1?v=!1:HY(g,r,l):(v=!r.$stable,VY(r,g)),x=r}else r&&(zY(n,r),x={default:1});if(v)for(const S in g)!FY(S)&&x[S]==null&&delete g[S]},nf=jue;function Nue(n){return Pue(n)}function Pue(n,r){const l=$q();l.__VUE__=!0;const{insert:d,remove:g,patchProp:v,createElement:x,createText:S,createComment:O,setText:V,setElementText:P,parentNode:B,nextSibling:$,setScopeId:Z=vv,insertStaticContent:K}=n,X=(je,re,be,Pe=null,he=null,gt=null,zt=void 0,vt=null,Ft=!!re.dynamicChildren)=>{if(je===re)return;je&&!Yw(je,re)&&(Pe=_n(je),Ye(je,he,gt,!0),je=null),re.patchFlag===-2&&(Ft=!1,re.dynamicChildren=null);const{type:Vt,ref:wn,shapeFlag:cn}=re;switch(Vt){case _D:ae(je,re,be,Pe);break;case bd:fe(je,re,be,Pe);break;case zH:je==null&&Le(re,be,Pe,zt);break;case us:Me(je,re,be,Pe,he,gt,zt,vt,Ft);break;default:cn&1?Ce(je,re,be,Pe,he,gt,zt,vt,Ft):cn&6?D(je,re,be,Pe,he,gt,zt,vt,Ft):(cn&64||cn&128)&&Vt.process(je,re,be,Pe,he,gt,zt,vt,Ft,Qn)}wn!=null&&he&&y$(wn,je&&je.ref,gt,re||je,!re)},ae=(je,re,be,Pe)=>{if(je==null)d(re.el=S(re.children),be,Pe);else{const he=re.el=je.el;re.children!==je.children&&V(he,re.children)}},fe=(je,re,be,Pe)=>{je==null?d(re.el=O(re.children||""),be,Pe):re.el=je.el},Le=(je,re,be,Pe)=>{[je.el,je.anchor]=K(je.children,re,be,Pe,je.el,je.anchor)},Re=({el:je,anchor:re},be,Pe)=>{let he;for(;je&&je!==re;)he=$(je),d(je,be,Pe),je=he;d(re,be,Pe)},te=({el:je,anchor:re})=>{let be;for(;je&&je!==re;)be=$(je),g(je),je=be;g(re)},Ce=(je,re,be,Pe,he,gt,zt,vt,Ft)=>{re.type==="svg"?zt="svg":re.type==="math"&&(zt="mathml"),je==null?ie(re,be,Pe,he,gt,zt,vt,Ft):qe(je,re,he,gt,zt,vt,Ft)},ie=(je,re,be,Pe,he,gt,zt,vt)=>{let Ft,Vt;const{props:wn,shapeFlag:cn,transition:An,dirs:On}=je;if(Ft=je.el=x(je.type,gt,wn&&wn.is,wn),cn&8?P(Ft,je.children):cn&16&&We(je.children,Ft,null,Pe,he,FH(je,gt),zt,vt),On&&Uw(je,null,Pe,"created"),Ue(Ft,je,je.scopeId,zt,Pe),wn){for(const Oo in wn)Oo!=="value"&&!LO(Oo)&&v(Ft,Oo,null,wn[Oo],gt,Pe);"value"in wn&&v(Ft,"value",null,wn.value,gt),(Vt=wn.onVnodeBeforeMount)&&lv(Vt,Pe,je)}On&&Uw(je,null,Pe,"beforeMount");const wo=Mue(he,An);wo&&An.beforeEnter(Ft),d(Ft,re,be),((Vt=wn&&wn.onVnodeMounted)||wo||On)&&nf(()=>{Vt&&lv(Vt,Pe,je),wo&&An.enter(Ft),On&&Uw(je,null,Pe,"mounted")},he)},Ue=(je,re,be,Pe,he)=>{if(be&&Z(je,be),Pe)for(let gt=0;gt<Pe.length;gt++)Z(je,Pe[gt]);if(he){let gt=he.subTree;if(re===gt||ZY(gt.type)&&(gt.ssContent===re||gt.ssFallback===re)){const zt=he.vnode;Ue(je,zt,zt.scopeId,zt.slotScopeIds,he.parent)}}},We=(je,re,be,Pe,he,gt,zt,vt,Ft=0)=>{for(let Vt=Ft;Vt<je.length;Vt++){const wn=je[Vt]=vt?My(je[Vt]):dv(je[Vt]);X(null,wn,re,be,Pe,he,gt,zt,vt)}},qe=(je,re,be,Pe,he,gt,zt)=>{const vt=re.el=je.el;let{patchFlag:Ft,dynamicChildren:Vt,dirs:wn}=re;Ft|=je.patchFlag&16;const cn=je.props||Vi,An=re.props||Vi;let On;if(be&&Ww(be,!1),(On=An.onVnodeBeforeUpdate)&&lv(On,be,re,je),wn&&Uw(re,je,be,"beforeUpdate"),be&&Ww(be,!0),(cn.innerHTML&&An.innerHTML==null||cn.textContent&&An.textContent==null)&&P(vt,""),Vt?st(je.dynamicChildren,Vt,vt,be,Pe,FH(re,he),gt):zt||et(je,re,vt,null,be,Pe,FH(re,he),gt,!1),Ft>0){if(Ft&16)Se(vt,cn,An,be,he);else if(Ft&2&&cn.class!==An.class&&v(vt,"class",null,An.class,he),Ft&4&&v(vt,"style",cn.style,An.style,he),Ft&8){const wo=re.dynamicProps;for(let Oo=0;Oo<wo.length;Oo++){const Ho=wo[Oo],cs=cn[Ho],rr=An[Ho];(rr!==cs||Ho==="value")&&v(vt,Ho,cs,rr,he,be)}}Ft&1&&je.children!==re.children&&P(vt,re.children)}else!zt&&Vt==null&&Se(vt,cn,An,be,he);((On=An.onVnodeUpdated)||wn)&&nf(()=>{On&&lv(On,be,re,je),wn&&Uw(re,je,be,"updated")},Pe)},st=(je,re,be,Pe,he,gt,zt)=>{for(let vt=0;vt<re.length;vt++){const Ft=je[vt],Vt=re[vt],wn=Ft.el&&(Ft.type===us||!Yw(Ft,Vt)||Ft.shapeFlag&70)?B(Ft.el):be;X(Ft,Vt,wn,null,Pe,he,gt,zt,!0)}},Se=(je,re,be,Pe,he)=>{if(re!==be){if(re!==Vi)for(const gt in re)!LO(gt)&&!(gt in be)&&v(je,gt,re[gt],null,he,Pe);for(const gt in be){if(LO(gt))continue;const zt=be[gt],vt=re[gt];zt!==vt&&gt!=="value"&&v(je,gt,vt,zt,he,Pe)}"value"in be&&v(je,"value",re.value,be.value,he)}},Me=(je,re,be,Pe,he,gt,zt,vt,Ft)=>{const Vt=re.el=je?je.el:S(""),wn=re.anchor=je?je.anchor:S("");let{patchFlag:cn,dynamicChildren:An,slotScopeIds:On}=re;On&&(vt=vt?vt.concat(On):On),je==null?(d(Vt,be,Pe),d(wn,be,Pe),We(re.children||[],be,wn,he,gt,zt,vt,Ft)):cn>0&&cn&64&&An&&je.dynamicChildren?(st(je.dynamicChildren,An,be,he,gt,zt,vt),(re.key!=null||he&&re===he.subTree)&&CU(je,re,!0)):et(je,re,be,wn,he,gt,zt,vt,Ft)},D=(je,re,be,Pe,he,gt,zt,vt,Ft)=>{re.slotScopeIds=vt,je==null?re.shapeFlag&512?he.ctx.activate(re,be,Pe,zt,Ft):Ke(re,be,Pe,he,gt,zt,Ft):ct(je,re,Ft)},Ke=(je,re,be,Pe,he,gt,zt)=>{const vt=je.component=Jue(je,Pe,he);if(V8(je)&&(vt.ctx.renderer=Qn),Que(vt,!1,zt),vt.asyncDep){if(he&&he.registerDep(vt,$t,zt),!je.el){const Ft=vt.subTree=G(bd);fe(null,Ft,re,be)}}else $t(vt,je,re,be,he,gt,zt)},ct=(je,re,be)=>{const Pe=re.component=je.component;if(Wue(je,re,be))if(Pe.asyncDep&&!Pe.asyncResolved){Jt(Pe,re,be);return}else Pe.next=re,Pe.update();else re.el=je.el,Pe.vnode=re},$t=(je,re,be,Pe,he,gt,zt)=>{const vt=()=>{if(je.isMounted){let{next:cn,bu:An,u:On,parent:wo,vnode:Oo}=je;{const Tr=$Y(je);if(Tr){cn&&(cn.el=Oo.el,Jt(je,cn,zt)),Tr.asyncDep.then(()=>{je.isUnmounted||vt()});return}}let Ho=cn,cs;Ww(je,!1),cn?(cn.el=Oo.el,Jt(je,cn,zt)):cn=Oo,An&&YB(An),(cs=cn.props&&cn.props.onVnodeBeforeUpdate)&&lv(cs,wo,cn,Oo),Ww(je,!0);const rr=VH(je),fs=je.subTree;je.subTree=rr,X(fs,rr,B(fs.el),_n(fs),je,he,gt),cn.el=rr.el,Ho===null&&Zue(je,rr.el),On&&nf(On,he),(cs=cn.props&&cn.props.onVnodeUpdated)&&nf(()=>lv(cs,wo,cn,Oo),he)}else{let cn;const{el:An,props:On}=re,{bm:wo,m:Oo,parent:Ho,root:cs,type:rr}=je,fs=VO(re);if(Ww(je,!1),wo&&YB(wo),!fs&&(cn=On&&On.onVnodeBeforeMount)&&lv(cn,Ho,re),Ww(je,!0),An&&To){const Tr=()=>{je.subTree=VH(je),To(An,je.subTree,je,he,null)};fs&&rr.__asyncHydrate?rr.__asyncHydrate(An,je,Tr):Tr()}else{cs.ce&&cs.ce._injectChildStyle(rr);const Tr=je.subTree=VH(je);X(null,Tr,be,Pe,je,he,gt),re.el=Tr.el}if(Oo&&nf(Oo,he),!fs&&(cn=On&&On.onVnodeMounted)){const Tr=re;nf(()=>lv(cn,Ho,Tr),he)}(re.shapeFlag&256||Ho&&VO(Ho.vnode)&&Ho.vnode.shapeFlag&256)&&je.a&&nf(je.a,he),je.isMounted=!0,re=be=Pe=null}};je.scope.on();const Ft=je.effect=new qq(vt);je.scope.off();const Vt=je.update=Ft.run.bind(Ft),wn=je.job=Ft.runIfDirty.bind(Ft);wn.i=je,wn.id=je.uid,Ft.scheduler=()=>hU(wn),Ww(je,!0),Vt()},Jt=(je,re,be)=>{re.component=je;const Pe=je.vnode.props;je.vnode=re,je.next=null,Tue(je,re.props,Pe,be),Iue(je,re.children,be),jy(),EK(je),Ky()},et=(je,re,be,Pe,he,gt,zt,vt,Ft=!1)=>{const Vt=je&&je.children,wn=je?je.shapeFlag:0,cn=re.children,{patchFlag:An,shapeFlag:On}=re;if(An>0){if(An&128){Lt(Vt,cn,be,Pe,he,gt,zt,vt,Ft);return}else if(An&256){pt(Vt,cn,be,Pe,he,gt,zt,vt,Ft);return}}On&8?(wn&16&&fn(Vt,he,gt),cn!==Vt&&P(be,cn)):wn&16?On&16?Lt(Vt,cn,be,Pe,he,gt,zt,vt,Ft):fn(Vt,he,gt,!0):(wn&8&&P(be,""),On&16&&We(cn,be,Pe,he,gt,zt,vt,Ft))},pt=(je,re,be,Pe,he,gt,zt,vt,Ft)=>{je=je||Vk,re=re||Vk;const Vt=je.length,wn=re.length,cn=Math.min(Vt,wn);let An;for(An=0;An<cn;An++){const On=re[An]=Ft?My(re[An]):dv(re[An]);X(je[An],On,be,null,he,gt,zt,vt,Ft)}Vt>wn?fn(je,he,gt,!0,!1,cn):We(re,be,Pe,he,gt,zt,vt,Ft,cn)},Lt=(je,re,be,Pe,he,gt,zt,vt,Ft)=>{let Vt=0;const wn=re.length;let cn=je.length-1,An=wn-1;for(;Vt<=cn&&Vt<=An;){const On=je[Vt],wo=re[Vt]=Ft?My(re[Vt]):dv(re[Vt]);if(Yw(On,wo))X(On,wo,be,null,he,gt,zt,vt,Ft);else break;Vt++}for(;Vt<=cn&&Vt<=An;){const On=je[cn],wo=re[An]=Ft?My(re[An]):dv(re[An]);if(Yw(On,wo))X(On,wo,be,null,he,gt,zt,vt,Ft);else break;cn--,An--}if(Vt>cn){if(Vt<=An){const On=An+1,wo=On<wn?re[On].el:Pe;for(;Vt<=An;)X(null,re[Vt]=Ft?My(re[Vt]):dv(re[Vt]),be,wo,he,gt,zt,vt,Ft),Vt++}}else if(Vt>An)for(;Vt<=cn;)Ye(je[Vt],he,gt,!0),Vt++;else{const On=Vt,wo=Vt,Oo=new Map;for(Vt=wo;Vt<=An;Vt++){const vo=re[Vt]=Ft?My(re[Vt]):dv(re[Vt]);vo.key!=null&&Oo.set(vo.key,Vt)}let Ho,cs=0;const rr=An-wo+1;let fs=!1,Tr=0;const hn=new Array(rr);for(Vt=0;Vt<rr;Vt++)hn[Vt]=0;for(Vt=On;Vt<=cn;Vt++){const vo=je[Vt];if(cs>=rr){Ye(vo,he,gt,!0);continue}let tr;if(vo.key!=null)tr=Oo.get(vo.key);else for(Ho=wo;Ho<=An;Ho++)if(hn[Ho-wo]===0&&Yw(vo,re[Ho])){tr=Ho;break}tr===void 0?Ye(vo,he,gt,!0):(hn[tr-wo]=Vt+1,tr>=Tr?Tr=tr:fs=!0,X(vo,re[tr],be,null,he,gt,zt,vt,Ft),cs++)}const Eo=fs?Bue(hn):Vk;for(Ho=Eo.length-1,Vt=rr-1;Vt>=0;Vt--){const vo=wo+Vt,tr=re[vo],ea=vo+1<wn?re[vo+1].el:Pe;hn[Vt]===0?X(null,tr,be,ea,he,gt,zt,vt,Ft):fs&&(Ho<0||Vt!==Eo[Ho]?tt(tr,be,ea,2):Ho--)}}},tt=(je,re,be,Pe,he=null)=>{const{el:gt,type:zt,transition:vt,children:Ft,shapeFlag:Vt}=je;if(Vt&6){tt(je.component.subTree,re,be,Pe);return}if(Vt&128){je.suspense.move(re,be,Pe);return}if(Vt&64){zt.move(je,re,be,Qn);return}if(zt===us){d(gt,re,be);for(let cn=0;cn<Ft.length;cn++)tt(Ft[cn],re,be,Pe);d(je.anchor,re,be);return}if(zt===zH){Re(je,re,be);return}if(Pe!==2&&Vt&1&&vt)if(Pe===0)vt.beforeEnter(gt),d(gt,re,be),nf(()=>vt.enter(gt),he);else{const{leave:cn,delayLeave:An,afterLeave:On}=vt,wo=()=>d(gt,re,be),Oo=()=>{cn(gt,()=>{wo(),On&&On()})};An?An(gt,wo,Oo):Oo()}else d(gt,re,be)},Ye=(je,re,be,Pe=!1,he=!1)=>{const{type:gt,props:zt,ref:vt,children:Ft,dynamicChildren:Vt,shapeFlag:wn,patchFlag:cn,dirs:An,cacheIndex:On}=je;if(cn===-2&&(he=!1),vt!=null&&y$(vt,null,be,je,!0),On!=null&&(re.renderCache[On]=void 0),wn&256){re.ctx.deactivate(je);return}const wo=wn&1&&An,Oo=!VO(je);let Ho;if(Oo&&(Ho=zt&&zt.onVnodeBeforeUnmount)&&lv(Ho,re,je),wn&6)Fn(je.component,be,Pe);else{if(wn&128){je.suspense.unmount(be,Pe);return}wo&&Uw(je,null,re,"beforeUnmount"),wn&64?je.type.remove(je,re,be,Qn,Pe):Vt&&!Vt.hasOnce&&(gt!==us||cn>0&&cn&64)?fn(Vt,re,be,!1,!0):(gt===us&&cn&384||!he&&wn&16)&&fn(Ft,re,be),Pe&&Mt(je)}(Oo&&(Ho=zt&&zt.onVnodeUnmounted)||wo)&&nf(()=>{Ho&&lv(Ho,re,je),wo&&Uw(je,null,re,"unmounted")},be)},Mt=je=>{const{type:re,el:be,anchor:Pe,transition:he}=je;if(re===us){no(be,Pe);return}if(re===zH){te(je);return}const gt=()=>{g(be),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(je.shapeFlag&1&&he&&!he.persisted){const{leave:zt,delayLeave:vt}=he,Ft=()=>zt(be,gt);vt?vt(je.el,gt,Ft):Ft()}else gt()},no=(je,re)=>{let be;for(;je!==re;)be=$(je),g(je),je=be;g(re)},Fn=(je,re,be)=>{const{bum:Pe,scope:he,job:gt,subTree:zt,um:vt,m:Ft,a:Vt}=je;BK(Ft),BK(Vt),Pe&&YB(Pe),he.stop(),gt&&(gt.flags|=8,Ye(zt,je,re,be)),vt&&nf(vt,re),nf(()=>{je.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},fn=(je,re,be,Pe=!1,he=!1,gt=0)=>{for(let zt=gt;zt<je.length;zt++)Ye(je[zt],re,be,Pe,he)},_n=je=>{if(je.shapeFlag&6)return _n(je.component.subTree);if(je.shapeFlag&128)return je.suspense.next();const re=$(je.anchor||je.el),be=re&&re[vY];return be?$(be):re};let Q=!1;const xs=(je,re,be)=>{je==null?re._vnode&&Ye(re._vnode,null,null,!0):X(re._vnode||null,je,re,null,null,null,be),re._vnode=je,Q||(Q=!0,EK(),gY(),Q=!1)},Qn={p:X,um:Ye,m:tt,r:Mt,mt:Ke,mc:We,pc:et,pbc:st,n:_n,o:n};let tn,To;return{render:xs,hydrate:tn,createApp:kue(xs,tn)}}function FH({type:n,props:r},l){return l==="svg"&&n==="foreignObject"||l==="mathml"&&n==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function Ww({effect:n,job:r},l){l?(n.flags|=32,r.flags|=4):(n.flags&=-33,r.flags&=-5)}function Mue(n,r){return(!n||n&&!n.pendingBranch)&&r&&!r.persisted}function CU(n,r,l=!1){const d=n.children,g=r.children;if(os(d)&&os(g))for(let v=0;v<d.length;v++){const x=d[v];let S=g[v];S.shapeFlag&1&&!S.dynamicChildren&&((S.patchFlag<=0||S.patchFlag===32)&&(S=g[v]=My(g[v]),S.el=x.el),!l&&S.patchFlag!==-2&&CU(x,S)),S.type===_D&&(S.el=x.el)}}function Bue(n){const r=n.slice(),l=[0];let d,g,v,x,S;const O=n.length;for(d=0;d<O;d++){const V=n[d];if(V!==0){if(g=l[l.length-1],n[g]<V){r[d]=g,l.push(d);continue}for(v=0,x=l.length-1;v<x;)S=v+x>>1,n[l[S]]<V?v=S+1:x=S;V<n[l[v]]&&(v>0&&(r[d]=l[v-1]),l[v]=d)}}for(v=l.length,x=l[v-1];v-- >0;)l[v]=x,x=r[x];return l}function $Y(n){const r=n.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:$Y(r)}function BK(n){if(n)for(let r=0;r<n.length;r++)n[r].flags|=8}const Lue=Symbol.for("v-scx"),Fue=()=>wa(Lue);function cf(n,r){return _U(n,null,r)}function Gn(n,r,l){return _U(n,r,l)}function _U(n,r,l=Vi){const{immediate:d,deep:g,flush:v,once:x}=l,S=Hl({},l);let O;if(U8)if(v==="sync"){const $=Fue();O=$.__watcherHandles||($.__watcherHandles=[])}else if(!r||d)S.once=!0;else{const $=()=>{};return $.stop=vv,$.resume=vv,$.pause=vv,$}const V=bc;S.call=($,Z,K)=>jh($,V,Z,K);let P=!1;v==="post"?S.scheduler=$=>{nf($,V&&V.suspense)}:v!=="sync"&&(P=!0,S.scheduler=($,Z)=>{Z?$():hU($)}),S.augmentJob=$=>{r&&($.flags|=4),P&&($.flags|=2,V&&($.id=V.uid,$.i=V))};const B=Qce(n,r,S);return O&&O.push(B),B}function Vue(n,r,l){const d=this.proxy,g=Ka(n)?n.includes(".")?UY(d,n):()=>d[n]:n.bind(d,d);let v;Rs(r)?v=r:(v=r.handler,l=r);const x=SD(this),S=_U(g,v.bind(d),l);return x(),S}function UY(n,r){const l=r.split(".");return()=>{let d=n;for(let g=0;g<l.length&&d;g++)d=d[l[g]];return d}}const zue=(n,r)=>r==="modelValue"||r==="model-value"?n.modelModifiers:n[`${r}Modifiers`]||n[`${lf(r)}Modifiers`]||n[`${fC(r)}Modifiers`];function Hue(n,r,...l){if(n.isUnmounted)return;const d=n.vnode.props||Vi;let g=l;const v=r.startsWith("update:"),x=v&&zue(d,r.slice(7));x&&(x.trim&&(g=l.map(P=>Ka(P)?P.trim():P)),x.number&&(g=l.map(g$)));let S,O=d[S=RH(r)]||d[S=RH(lf(r))];!O&&v&&(O=d[S=RH(fC(r))]),O&&jh(O,n,6,g);const V=d[S+"Once"];if(V){if(!n.emitted)n.emitted={};else if(n.emitted[S])return;n.emitted[S]=!0,jh(V,n,6,g)}}function WY(n,r,l=!1){const d=r.emitsCache,g=d.get(n);if(g!==void 0)return g;const v=n.emits;let x={},S=!1;if(!Rs(n)){const O=V=>{const P=WY(V,r,!0);P&&(S=!0,Hl(x,P))};!l&&r.mixins.length&&r.mixins.forEach(O),n.extends&&O(n.extends),n.mixins&&n.mixins.forEach(O)}return!v&&!S?(Ai(n)&&d.set(n,null),null):(os(v)?v.forEach(O=>x[O]=null):Hl(x,v),Ai(n)&&d.set(n,x),x)}function $8(n,r){return!n||!I8(r)?!1:(r=r.slice(2).replace(/Once$/,""),di(n,r[0].toLowerCase()+r.slice(1))||di(n,fC(r))||di(n,r))}function VH(n){const{type:r,vnode:l,proxy:d,withProxy:g,propsOptions:[v],slots:x,attrs:S,emit:O,render:V,renderCache:P,props:B,data:$,setupState:Z,ctx:K,inheritAttrs:X}=n,ae=c8(n);let fe,Le;try{if(l.shapeFlag&4){const te=g||d,Ce=te;fe=dv(V.call(Ce,te,P,B,Z,$,K)),Le=S}else{const te=r;fe=dv(te.length>1?te(B,{attrs:S,slots:x,emit:O}):te(B,null)),Le=r.props?S:$ue(S)}}catch(te){HO.length=0,F8(te,n,1),fe=G(bd)}let Re=fe;if(Le&&X!==!1){const te=Object.keys(Le),{shapeFlag:Ce}=Re;te.length&&Ce&7&&(v&&te.some(tU)&&(Le=Uue(Le,v)),Re=k1(Re,Le,!1,!0))}return l.dirs&&(Re=k1(Re,null,!1,!0),Re.dirs=Re.dirs?Re.dirs.concat(l.dirs):l.dirs),l.transition&&aC(Re,l.transition),fe=Re,c8(ae),fe}const $ue=n=>{let r;for(const l in n)(l==="class"||l==="style"||I8(l))&&((r||(r={}))[l]=n[l]);return r},Uue=(n,r)=>{const l={};for(const d in n)(!tU(d)||!(d.slice(9)in r))&&(l[d]=n[d]);return l};function Wue(n,r,l){const{props:d,children:g,component:v}=n,{props:x,children:S,patchFlag:O}=r,V=v.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&O>=0){if(O&1024)return!0;if(O&16)return d?LK(d,x,V):!!x;if(O&8){const P=r.dynamicProps;for(let B=0;B<P.length;B++){const $=P[B];if(x[$]!==d[$]&&!$8(V,$))return!0}}}else return(g||S)&&(!S||!S.$stable)?!0:d===x?!1:d?x?LK(d,x,V):!0:!!x;return!1}function LK(n,r,l){const d=Object.keys(r);if(d.length!==Object.keys(n).length)return!0;for(let g=0;g<d.length;g++){const v=d[g];if(r[v]!==n[v]&&!$8(l,v))return!0}return!1}function Zue({vnode:n,parent:r},l){for(;r;){const d=r.subTree;if(d.suspense&&d.suspense.activeBranch===n&&(d.el=n.el),d===n)(n=r.vnode).el=l,r=r.parent;else break}}const ZY=n=>n.__isSuspense;function jue(n,r){r&&r.pendingBranch?os(n)?r.effects.push(...n):r.effects.push(n):nue(n)}const us=Symbol.for("v-fgt"),_D=Symbol.for("v-txt"),bd=Symbol.for("v-cmt"),zH=Symbol.for("v-stc"),HO=[];let cm=null;function Ln(n=!1){HO.push(cm=n?null:[])}function Kue(){HO.pop(),cm=HO[HO.length-1]||null}let YO=1;function FK(n){YO+=n,n<0&&cm&&(cm.hasOnce=!0)}function jY(n){return n.dynamicChildren=YO>0?cm||Vk:null,Kue(),YO>0&&cm&&cm.push(n),n}function ds(n,r,l,d,g,v){return jY(Ve(n,r,l,d,g,v,!0))}function or(n,r,l,d,g){return jY(G(n,r,l,d,g,!0))}function XO(n){return n?n.__v_isVNode===!0:!1}function Yw(n,r){return n.type===r.type&&n.key===r.key}const KY=({key:n})=>n??null,JB=({ref:n,ref_key:r,ref_for:l})=>(typeof n=="number"&&(n=""+n),n!=null?Ka(n)||Hr(n)||Rs(n)?{i:yd,r:n,k:r,f:!!l}:n:null);function Ve(n,r=null,l=null,d=0,g=null,v=n===us?0:1,x=!1,S=!1){const O={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&KY(r),ref:r&&JB(r),scopeId:pY,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:d,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:yd};return S?(SU(O,l),v&128&&n.normalize(O)):l&&(O.shapeFlag|=Ka(l)?8:16),YO>0&&!x&&cm&&(O.patchFlag>0||v&6)&&O.patchFlag!==32&&cm.push(O),O}const G=Gue;function Gue(n,r=null,l=null,d=0,g=null,v=!1){if((!n||n===pue)&&(n=bd),XO(n)){const S=k1(n,r,!0);return l&&SU(S,l),YO>0&&!v&&cm&&(S.shapeFlag&6?cm[cm.indexOf(n)]=S:cm.push(S)),S.patchFlag=-2,S}if(sde(n)&&(n=n.__vccOpts),r){r=que(r);let{class:S,style:O}=r;S&&!Ka(S)&&(r.class=xd(S)),Ai(O)&&(dU(O)&&!os(O)&&(O=Hl({},O)),r.style=bD(O))}const x=Ka(n)?1:ZY(n)?128:bY(n)?64:Ai(n)?4:Rs(n)?2:0;return Ve(n,r,l,d,g,x,v,!0)}function que(n){return n?dU(n)||MY(n)?Hl({},n):n:null}function k1(n,r,l=!1,d=!1){const{props:g,ref:v,patchFlag:x,children:S,transition:O}=n,V=r?Wo(g||{},r):g,P={__v_isVNode:!0,__v_skip:!0,type:n.type,props:V,key:V&&KY(V),ref:r&&r.ref?l&&v?os(v)?v.concat(JB(r)):[v,JB(r)]:JB(r):v,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:S,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==us?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:O,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&k1(n.ssContent),ssFallback:n.ssFallback&&k1(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return O&&d&&aC(P,O.clone(P)),P}function yr(n=" ",r=0){return G(_D,null,n,r)}function As(n="",r=!1){return r?(Ln(),or(bd,null,n)):G(bd,null,n)}function dv(n){return n==null||typeof n=="boolean"?G(bd):os(n)?G(us,null,n.slice()):XO(n)?My(n):G(_D,null,String(n))}function My(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:k1(n)}function SU(n,r){let l=0;const{shapeFlag:d}=n;if(r==null)r=null;else if(os(r))l=16;else if(typeof r=="object")if(d&65){const g=r.default;g&&(g._c&&(g._d=!1),SU(n,g()),g._c&&(g._d=!0));return}else{l=32;const g=r._;!g&&!MY(r)?r._ctx=yd:g===3&&yd&&(yd.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Rs(r)?(r={default:r,_ctx:yd},l=32):(r=String(r),d&64?(l=16,r=[yr(r)]):l=8);n.children=r,n.shapeFlag|=l}function Wo(...n){const r={};for(let l=0;l<n.length;l++){const d=n[l];for(const g in d)if(g==="class")r.class!==d.class&&(r.class=xd([r.class,d.class]));else if(g==="style")r.style=bD([r.style,d.style]);else if(I8(g)){const v=r[g],x=d[g];x&&v!==x&&!(os(v)&&v.includes(x))&&(r[g]=v?[].concat(v,x):x)}else g!==""&&(r[g]=d[g])}return r}function lv(n,r,l,d=null){jh(n,r,7,[l,d])}const Yue=IY();let Xue=0;function Jue(n,r,l){const d=n.type,g=(r?r.appContext:n.appContext)||Yue,v={uid:Xue++,vnode:n,type:d,parent:r,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Kq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(g.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LY(d,g),emitsOptions:WY(d,g),emit:null,emitted:null,propsDefaults:Vi,inheritAttrs:d.inheritAttrs,ctx:Vi,data:Vi,props:Vi,attrs:Vi,slots:Vi,refs:Vi,setupState:Vi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=r?r.root:v,v.emit=Hue.bind(null,v),n.ce&&n.ce(v),v}let bc=null;const kU=()=>bc||yd;let d8,S$;{const n=$q(),r=(l,d)=>{let g;return(g=n[l])||(g=n[l]=[]),g.push(d),v=>{g.length>1?g.forEach(x=>x(v)):g[0](v)}};d8=r("__VUE_INSTANCE_SETTERS__",l=>bc=l),S$=r("__VUE_SSR_SETTERS__",l=>U8=l)}const SD=n=>{const r=bc;return d8(n),n.scope.on(),()=>{n.scope.off(),d8(r)}},VK=()=>{bc&&bc.scope.off(),d8(null)};function GY(n){return n.vnode.shapeFlag&4}let U8=!1;function Que(n,r=!1,l=!1){r&&S$(r);const{props:d,children:g}=n.vnode,v=GY(n);Aue(n,d,v,r),Rue(n,g,l);const x=v?ede(n,r):void 0;return r&&S$(!1),x}function ede(n,r){const l=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,bue);const{setup:d}=l;if(d){const g=n.setupContext=d.length>1?nde(n):null,v=SD(n);jy();const x=CD(d,n,0,[n.props,g]);if(Ky(),v(),Fq(x)){if(VO(n)||EY(n),x.then(VK,VK),r)return x.then(S=>{zK(n,S,r)}).catch(S=>{F8(S,n,0)});n.asyncDep=x}else zK(n,x,r)}else qY(n,r)}function zK(n,r,l){Rs(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Ai(r)&&(n.setupState=uY(r)),qY(n,l)}let HK;function qY(n,r,l){const d=n.type;if(!n.render){if(!r&&HK&&!d.render){const g=d.template||xU(n).template;if(g){const{isCustomElement:v,compilerOptions:x}=n.appContext.config,{delimiters:S,compilerOptions:O}=d,V=Hl(Hl({isCustomElement:v,delimiters:S},x),O);d.render=HK(g,V)}}n.render=d.render||vv}{const g=SD(n);jy();try{yue(n)}finally{Ky(),g()}}}const tde={get(n,r){return Tu(n,"get",""),n[r]}};function nde(n){const r=l=>{n.exposed=l||{}};return{attrs:new Proxy(n.attrs,tde),slots:n.slots,emit:n.emit,expose:r}}function W8(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(uY(fU(n.exposed)),{get(r,l){if(l in r)return r[l];if(l in zO)return zO[l](n)},has(r,l){return l in r||l in zO}})):n.proxy}function ode(n,r=!0){return Rs(n)?n.displayName||n.name:n.name||r&&n.__name}function sde(n){return Rs(n)&&"__vccOpts"in n}const Ge=(n,r)=>Xce(n,r,U8);function xv(n,r,l){const d=arguments.length;return d===2?Ai(r)&&!os(r)?XO(r)?G(n,null,[r]):G(n,r):G(n,null,r):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&XO(l)&&(l=[l]),G(n,r,l))}const rde="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let k$;const $K=typeof window<"u"&&window.trustedTypes;if($K)try{k$=$K.createPolicy("vue",{createHTML:n=>n})}catch{}const YY=k$?n=>k$.createHTML(n):n=>n,ide="http://www.w3.org/2000/svg",ade="http://www.w3.org/1998/Math/MathML",y1=typeof document<"u"?document:null,UK=y1&&y1.createElement("template"),lde={insert:(n,r,l)=>{r.insertBefore(n,l||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,l,d)=>{const g=r==="svg"?y1.createElementNS(ide,n):r==="mathml"?y1.createElementNS(ade,n):l?y1.createElement(n,{is:l}):y1.createElement(n);return n==="select"&&d&&d.multiple!=null&&g.setAttribute("multiple",d.multiple),g},createText:n=>y1.createTextNode(n),createComment:n=>y1.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>y1.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,l,d,g,v){const x=l?l.previousSibling:r.lastChild;if(g&&(g===v||g.nextSibling))for(;r.insertBefore(g.cloneNode(!0),l),!(g===v||!(g=g.nextSibling)););else{UK.innerHTML=YY(d==="svg"?`<svg>${n}</svg>`:d==="mathml"?`<math>${n}</math>`:n);const S=UK.content;if(d==="svg"||d==="mathml"){const O=S.firstChild;for(;O.firstChild;)S.appendChild(O.firstChild);S.removeChild(O)}r.insertBefore(S,l)}return[x?x.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},Ty="transition",OO="animation",Wk=Symbol("_vtc"),XY={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JY=Hl({},wY,XY),cde=n=>(n.displayName="Transition",n.props=JY,n),Hy=cde((n,{slots:r})=>xv(lue,QY(n),r)),Zw=(n,r=[])=>{os(n)?n.forEach(l=>l(...r)):n&&n(...r)},WK=n=>n?os(n)?n.some(r=>r.length>1):n.length>1:!1;function QY(n){const r={};for(const Me in n)Me in XY||(r[Me]=n[Me]);if(n.css===!1)return r;const{name:l="v",type:d,duration:g,enterFromClass:v=`${l}-enter-from`,enterActiveClass:x=`${l}-enter-active`,enterToClass:S=`${l}-enter-to`,appearFromClass:O=v,appearActiveClass:V=x,appearToClass:P=S,leaveFromClass:B=`${l}-leave-from`,leaveActiveClass:$=`${l}-leave-active`,leaveToClass:Z=`${l}-leave-to`}=n,K=ude(g),X=K&&K[0],ae=K&&K[1],{onBeforeEnter:fe,onEnter:Le,onEnterCancelled:Re,onLeave:te,onLeaveCancelled:Ce,onBeforeAppear:ie=fe,onAppear:Ue=Le,onAppearCancelled:We=Re}=r,qe=(Me,D,Ke)=>{Ry(Me,D?P:S),Ry(Me,D?V:x),Ke&&Ke()},st=(Me,D)=>{Me._isLeaving=!1,Ry(Me,B),Ry(Me,Z),Ry(Me,$),D&&D()},Se=Me=>(D,Ke)=>{const ct=Me?Ue:Le,$t=()=>qe(D,Me,Ke);Zw(ct,[D,$t]),ZK(()=>{Ry(D,Me?O:v),b1(D,Me?P:S),WK(ct)||jK(D,d,X,$t)})};return Hl(r,{onBeforeEnter(Me){Zw(fe,[Me]),b1(Me,v),b1(Me,x)},onBeforeAppear(Me){Zw(ie,[Me]),b1(Me,O),b1(Me,V)},onEnter:Se(!1),onAppear:Se(!0),onLeave(Me,D){Me._isLeaving=!0;const Ke=()=>st(Me,D);b1(Me,B),b1(Me,$),tX(),ZK(()=>{Me._isLeaving&&(Ry(Me,B),b1(Me,Z),WK(te)||jK(Me,d,ae,Ke))}),Zw(te,[Me,Ke])},onEnterCancelled(Me){qe(Me,!1),Zw(Re,[Me])},onAppearCancelled(Me){qe(Me,!0),Zw(We,[Me])},onLeaveCancelled(Me){st(Me),Zw(Ce,[Me])}})}function ude(n){if(n==null)return null;if(Ai(n))return[HH(n.enter),HH(n.leave)];{const r=HH(n);return[r,r]}}function HH(n){return hce(n)}function b1(n,r){r.split(/\s+/).forEach(l=>l&&n.classList.add(l)),(n[Wk]||(n[Wk]=new Set)).add(r)}function Ry(n,r){r.split(/\s+/).forEach(d=>d&&n.classList.remove(d));const l=n[Wk];l&&(l.delete(r),l.size||(n[Wk]=void 0))}function ZK(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let dde=0;function jK(n,r,l,d){const g=n._endId=++dde,v=()=>{g===n._endId&&d()};if(l!=null)return setTimeout(v,l);const{type:x,timeout:S,propCount:O}=eX(n,r);if(!x)return d();const V=x+"end";let P=0;const B=()=>{n.removeEventListener(V,$),v()},$=Z=>{Z.target===n&&++P>=O&&B()};setTimeout(()=>{P<O&&B()},S+1),n.addEventListener(V,$)}function eX(n,r){const l=window.getComputedStyle(n),d=K=>(l[K]||"").split(", "),g=d(`${Ty}Delay`),v=d(`${Ty}Duration`),x=KK(g,v),S=d(`${OO}Delay`),O=d(`${OO}Duration`),V=KK(S,O);let P=null,B=0,$=0;r===Ty?x>0&&(P=Ty,B=x,$=v.length):r===OO?V>0&&(P=OO,B=V,$=O.length):(B=Math.max(x,V),P=B>0?x>V?Ty:OO:null,$=P?P===Ty?v.length:O.length:0);const Z=P===Ty&&/\b(transform|all)(,|$)/.test(d(`${Ty}Property`).toString());return{type:P,timeout:B,propCount:$,hasTransform:Z}}function KK(n,r){for(;n.length<r.length;)n=n.concat(n);return Math.max(...r.map((l,d)=>GK(l)+GK(n[d])))}function GK(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function tX(){return document.body.offsetHeight}function fde(n,r,l){const d=n[Wk];d&&(r=(r?[r,...d]:[...d]).join(" ")),r==null?n.removeAttribute("class"):l?n.setAttribute("class",r):n.className=r}const f8=Symbol("_vod"),nX=Symbol("_vsh"),zo={beforeMount(n,{value:r},{transition:l}){n[f8]=n.style.display==="none"?"":n.style.display,l&&r?l.beforeEnter(n):DO(n,r)},mounted(n,{value:r},{transition:l}){l&&r&&l.enter(n)},updated(n,{value:r,oldValue:l},{transition:d}){!r!=!l&&(d?r?(d.beforeEnter(n),DO(n,!0),d.enter(n)):d.leave(n,()=>{DO(n,!1)}):DO(n,r))},beforeUnmount(n,{value:r}){DO(n,r)}};function DO(n,r){n.style.display=r?n[f8]:"none",n[nX]=!r}const mde=Symbol(""),gde=/(^|;)\s*display\s*:/;function hde(n,r,l){const d=n.style,g=Ka(l);let v=!1;if(l&&!g){if(r)if(Ka(r))for(const x of r.split(";")){const S=x.slice(0,x.indexOf(":")).trim();l[S]==null&&QB(d,S,"")}else for(const x in r)l[x]==null&&QB(d,x,"");for(const x in l)x==="display"&&(v=!0),QB(d,x,l[x])}else if(g){if(r!==l){const x=d[mde];x&&(l+=";"+x),d.cssText=l,v=gde.test(l)}}else r&&n.removeAttribute("style");f8 in n&&(n[f8]=v?d.display:"",n[nX]&&(d.display="none"))}const qK=/\s*!important$/;function QB(n,r,l){if(os(l))l.forEach(d=>QB(n,r,d));else if(l==null&&(l=""),r.startsWith("--"))n.setProperty(r,l);else{const d=pde(n,r);qK.test(l)?n.setProperty(fC(d),l.replace(qK,""),"important"):n[d]=l}}const YK=["Webkit","Moz","ms"],$H={};function pde(n,r){const l=$H[r];if(l)return l;let d=lf(r);if(d!=="filter"&&d in n)return $H[r]=d;d=A1(d);for(let g=0;g<YK.length;g++){const v=YK[g]+d;if(v in n)return $H[r]=v}return r}const XK="http://www.w3.org/1999/xlink";function JK(n,r,l,d,g,v=wce(r)){d&&r.startsWith("xlink:")?l==null?n.removeAttributeNS(XK,r.slice(6,r.length)):n.setAttributeNS(XK,r,l):l==null||v&&!Uq(l)?n.removeAttribute(r):n.setAttribute(r,v?"":yv(l)?String(l):l)}function QK(n,r,l,d){if(r==="innerHTML"||r==="textContent"){l!=null&&(n[r]=r==="innerHTML"?YY(l):l);return}const g=n.tagName;if(r==="value"&&g!=="PROGRESS"&&!g.includes("-")){const x=g==="OPTION"?n.getAttribute("value")||"":n.value,S=l==null?n.type==="checkbox"?"on":"":String(l);(x!==S||!("_value"in n))&&(n.value=S),l==null&&n.removeAttribute(r),n._value=l;return}let v=!1;if(l===""||l==null){const x=typeof n[r];x==="boolean"?l=Uq(l):l==null&&x==="string"?(l="",v=!0):x==="number"&&(l=0,v=!0)}try{n[r]=l}catch{}v&&n.removeAttribute(r)}function Xw(n,r,l,d){n.addEventListener(r,l,d)}function vde(n,r,l,d){n.removeEventListener(r,l,d)}const eG=Symbol("_vei");function bde(n,r,l,d,g=null){const v=n[eG]||(n[eG]={}),x=v[r];if(d&&x)x.value=d;else{const[S,O]=yde(r);if(d){const V=v[r]=Cde(d,g);Xw(n,S,V,O)}else x&&(vde(n,S,x,O),v[r]=void 0)}}const tG=/(?:Once|Passive|Capture)$/;function yde(n){let r;if(tG.test(n)){r={};let d;for(;d=n.match(tG);)n=n.slice(0,n.length-d[0].length),r[d[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):fC(n.slice(2)),r]}let UH=0;const xde=Promise.resolve(),wde=()=>UH||(xde.then(()=>UH=0),UH=Date.now());function Cde(n,r){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;jh(_de(d,l.value),r,5,[d])};return l.value=n,l.attached=wde(),l}function _de(n,r){if(os(r)){const l=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{l.call(n),n._stopped=!0},r.map(d=>g=>!g._stopped&&d&&d(g))}else return r}const nG=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Sde=(n,r,l,d,g,v)=>{const x=g==="svg";r==="class"?fde(n,d,x):r==="style"?hde(n,l,d):I8(r)?tU(r)||bde(n,r,l,d,v):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):kde(n,r,d,x))?(QK(n,r,d),!n.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&JK(n,r,d,x,v,r!=="value")):n._isVueCE&&(/[A-Z]/.test(r)||!Ka(d))?QK(n,lf(r),d):(r==="true-value"?n._trueValue=d:r==="false-value"&&(n._falseValue=d),JK(n,r,d,x))};function kde(n,r,l,d){if(d)return!!(r==="innerHTML"||r==="textContent"||r in n&&nG(r)&&Rs(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const g=n.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return nG(r)&&Ka(l)?!1:r in n}const oX=new WeakMap,sX=new WeakMap,m8=Symbol("_moveCb"),oG=Symbol("_enterCb"),Ede=n=>(delete n.props.mode,n),Ade=Ede({name:"TransitionGroup",props:Hl({},JY,{tag:String,moveClass:String}),setup(n,{slots:r}){const l=kU(),d=xY();let g,v;return yU(()=>{if(!g.length)return;const x=n.moveClass||`${n.name||"v"}-move`;if(!Rde(g[0].el,l.vnode.el,x))return;g.forEach(Tde),g.forEach(Ode);const S=g.filter(Dde);tX(),S.forEach(O=>{const V=O.el,P=V.style;b1(V,x),P.transform=P.webkitTransform=P.transitionDuration="";const B=V[m8]=$=>{$&&$.target!==V||(!$||/transform$/.test($.propertyName))&&(V.removeEventListener("transitionend",B),V[m8]=null,Ry(V,x))};V.addEventListener("transitionend",B)})}),()=>{const x=ns(n),S=QY(x);let O=x.tag||us;if(g=[],v)for(let V=0;V<v.length;V++){const P=v[V];P.el&&P.el instanceof Element&&(g.push(P),aC(P,qO(P,S,d,l)),oX.set(P,P.el.getBoundingClientRect()))}v=r.default?pU(r.default()):[];for(let V=0;V<v.length;V++){const P=v[V];P.key!=null&&aC(P,qO(P,S,d,l))}return G(O,null,v)}}}),EU=Ade;function Tde(n){const r=n.el;r[m8]&&r[m8](),r[oG]&&r[oG]()}function Ode(n){sX.set(n,n.el.getBoundingClientRect())}function Dde(n){const r=oX.get(n),l=sX.get(n),d=r.left-l.left,g=r.top-l.top;if(d||g){const v=n.el.style;return v.transform=v.webkitTransform=`translate(${d}px,${g}px)`,v.transitionDuration="0s",n}}function Rde(n,r,l){const d=n.cloneNode(),g=n[Wk];g&&g.forEach(S=>{S.split(/\s+/).forEach(O=>O&&d.classList.remove(O))}),l.split(/\s+/).forEach(S=>S&&d.classList.add(S)),d.style.display="none";const v=r.nodeType===1?r:r.parentNode;v.appendChild(d);const{hasTransform:x}=eX(d);return v.removeChild(d),x}const g8=n=>{const r=n.props["onUpdate:modelValue"]||!1;return os(r)?l=>YB(r,l):r};function Ide(n){n.target.composing=!0}function sG(n){const r=n.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const $k=Symbol("_assign"),$y={created(n,{modifiers:{lazy:r,trim:l,number:d}},g){n[$k]=g8(g);const v=d||g.props&&g.props.type==="number";Xw(n,r?"change":"input",x=>{if(x.target.composing)return;let S=n.value;l&&(S=S.trim()),v&&(S=g$(S)),n[$k](S)}),l&&Xw(n,"change",()=>{n.value=n.value.trim()}),r||(Xw(n,"compositionstart",Ide),Xw(n,"compositionend",sG),Xw(n,"change",sG))},mounted(n,{value:r}){n.value=r??""},beforeUpdate(n,{value:r,oldValue:l,modifiers:{lazy:d,trim:g,number:v}},x){if(n[$k]=g8(x),n.composing)return;const S=(v||n.type==="number")&&!/^0\d/.test(n.value)?g$(n.value):n.value,O=r??"";S!==O&&(document.activeElement===n&&n.type!=="range"&&(d&&r===l||g&&n.value.trim()===O)||(n.value=O))}},rG={deep:!0,created(n,r,l){n[$k]=g8(l),Xw(n,"change",()=>{const d=n._modelValue,g=Nde(n),v=n.checked,x=n[$k];if(os(d)){const S=Wq(d,g),O=S!==-1;if(v&&!O)x(d.concat(g));else if(!v&&O){const V=[...d];V.splice(S,1),x(V)}}else if(N8(d)){const S=new Set(d);v?S.add(g):S.delete(g),x(S)}else x(rX(n,v))})},mounted:iG,beforeUpdate(n,r,l){n[$k]=g8(l),iG(n,r,l)}};function iG(n,{value:r},l){n._modelValue=r;let d;os(r)?d=Wq(r,l.props.value)>-1:N8(r)?d=r.has(l.props.value):d=M8(r,rX(n,!0)),n.checked!==d&&(n.checked=d)}function Nde(n){return"_value"in n?n._value:n.value}function rX(n,r){const l=r?"_trueValue":"_falseValue";return l in n?n[l]:r}const Pde=Hl({patchProp:Sde},lde);let aG;function Mde(){return aG||(aG=Nue(Pde))}const Bde=(...n)=>{const r=Mde().createApp(...n),{mount:l}=r;return r.mount=d=>{const g=Fde(d);if(!g)return;const v=r._component;!Rs(v)&&!v.render&&!v.template&&(v.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=l(g,!1,Lde(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},r};function Lde(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Fde(n){return Ka(n)?document.querySelector(n):n}function Rg(n,r){let l;function d(){l=yD(),l.run(()=>r.length?r(()=>{l==null||l.stop(),d()}):r())}Gn(n,g=>{g&&!l?d():g||(l==null||l.stop(),l=void 0)},{immediate:!0}),Ou(()=>{l==null||l.stop()})}const fi=typeof window<"u",AU=fi&&"IntersectionObserver"in window,Vde=fi&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function lG(n,r,l){zde(n,r),r.set(n,l)}function zde(n,r){if(r.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hde(n,r,l){return n.set(iX(n,r),l),l}function jw(n,r){return n.get(iX(n,r))}function iX(n,r,l){if(typeof n=="function"?n===r:n.has(r))return arguments.length<3?r:l;throw new TypeError("Private element is not present on this object")}function aX(n,r,l){const d=r.length-1;if(d<0)return n===void 0?l:n;for(let g=0;g<d;g++){if(n==null)return l;n=n[r[g]]}return n==null||n[r[d]]===void 0?l:n[r[d]]}function Xk(n,r){if(n===r)return!0;if(n instanceof Date&&r instanceof Date&&n.getTime()!==r.getTime()||n!==Object(n)||r!==Object(r))return!1;const l=Object.keys(n);return l.length!==Object.keys(r).length?!1:l.every(d=>Xk(n[d],r[d]))}function E$(n,r,l){return n==null||!r||typeof r!="string"?l:n[r]!==void 0?n[r]:(r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,""),aX(n,r.split("."),l))}function fv(n,r,l){if(r===!0)return n===void 0?l:n;if(r==null||typeof r=="boolean")return l;if(n!==Object(n)){if(typeof r!="function")return l;const g=r(n,l);return typeof g>"u"?l:g}if(typeof r=="string")return E$(n,r,l);if(Array.isArray(r))return aX(n,r,l);if(typeof r!="function")return l;const d=r(n,l);return typeof d>"u"?l:d}function lX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(l,d)=>r+d)}function hs(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(n==null||n===""))return isNaN(+n)?String(n):isFinite(+n)?`${Number(n)}${r}`:void 0}function $de(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function cG(n){let r;return n!==null&&typeof n=="object"&&((r=Object.getPrototypeOf(n))===Object.prototype||r===null)}function cX(n){if(n&&"$el"in n){const r=n.$el;return(r==null?void 0:r.nodeType)===Node.TEXT_NODE?r.nextElementSibling:r}return n}const uG=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function WH(n,r){return r.every(l=>n.hasOwnProperty(l))}function uX(n,r){const l={},d=new Set(Object.keys(n));for(const g of r)d.has(g)&&(l[g]=n[g]);return l}function dG(n,r,l){const d=Object.create(null),g=Object.create(null);for(const v in n)r.some(x=>x instanceof RegExp?x.test(v):x===v)&&!(l!=null&&l.some(x=>x===v))?d[v]=n[v]:g[v]=n[v];return[d,g]}function qy(n,r){const l={...n};return r.forEach(d=>delete l[d]),l}function Ude(n,r){const l={};return r.forEach(d=>l[d]=n[d]),l}const dX=/^on[^a-z]/,TU=n=>dX.test(n),Wde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Z8(n){const[r,l]=dG(n,[dX]),d=qy(r,Wde),[g,v]=dG(l,["class","style","id",/^data-/]);return Object.assign(g,r),Object.assign(v,d),[g,v]}function of(n){return n==null?[]:Array.isArray(n)?n:[n]}function Zde(n,r){let l=0;const d=function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];clearTimeout(l),l=setTimeout(()=>n(...v),le(r))};return d.clear=()=>{clearTimeout(l)},d.immediate=n,d}function $h(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(r,Math.min(l,n))}function fG(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+l.repeat(Math.max(0,r-n.length))}function mG(n,r){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,r-n.length))+n}function jde(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const l=[];let d=0;for(;d<n.length;)l.push(n.substr(d,r)),d+=r;return l}function Eu(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const d={};for(const g in n)d[g]=n[g];for(const g in r){const v=n[g],x=r[g];if(cG(v)&&cG(x)){d[g]=Eu(v,x,l);continue}if(l&&Array.isArray(v)&&Array.isArray(x)){d[g]=l(v,x);continue}d[g]=x}return d}function fX(n){return n.map(r=>r.type===us?fX(r.children):r).flat()}function nC(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(nC.cache.has(n))return nC.cache.get(n);const r=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return nC.cache.set(n,r),r}nC.cache=new Map;function Pk(n,r){if(!r||typeof r!="object")return[];if(Array.isArray(r))return r.map(l=>Pk(n,l)).flat(1);if(r.suspense)return Pk(n,r.ssContent);if(Array.isArray(r.children))return r.children.map(l=>Pk(n,l)).flat(1);if(r.component){if(Object.getOwnPropertySymbols(r.component.provides).includes(n))return[r.component];if(r.component.subTree)return Pk(n,r.component.subTree).flat(1)}return[]}var LB=new WeakMap,Ck=new WeakMap;class Kde{constructor(r){lG(this,LB,[]),lG(this,Ck,0),this.size=r}push(r){jw(LB,this)[jw(Ck,this)]=r,Hde(Ck,this,(jw(Ck,this)+1)%this.size)}values(){return jw(LB,this).slice(jw(Ck,this)).concat(jw(LB,this).slice(0,jw(Ck,this)))}}function OU(n){const r=Ql({}),l=Ge(n);return cf(()=>{for(const d in l.value)r[d]=l.value[d]},{flush:"sync"}),wD(r)}function h8(n,r){return n.includes(r)}function mX(n){return n[2].toLowerCase()+n.slice(3)}const sf=()=>[Function,Array];function gG(n,r){return r="on"+A1(r),!!(n[r]||n[`${r}Once`]||n[`${r}Capture`]||n[`${r}OnceCapture`]||n[`${r}CaptureOnce`])}function gX(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];if(Array.isArray(n))for(const g of n)g(...l);else typeof n=="function"&&n(...l)}function JO(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(d=>`${d}${r?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...n.querySelectorAll(l)]}function hX(n,r,l){let d,g=n.indexOf(document.activeElement);const v=r==="next"?1:-1;do g+=v,d=n[g];while((!d||d.offsetParent==null||!((l==null?void 0:l(d))??!0))&&g<n.length&&g>=0);return d}function $O(n,r){var d,g,v,x;const l=JO(n);if(!r)(n===document.activeElement||!n.contains(document.activeElement))&&((d=l[0])==null||d.focus());else if(r==="first")(g=l[0])==null||g.focus();else if(r==="last")(v=l.at(-1))==null||v.focus();else if(typeof r=="number")(x=l[r])==null||x.focus();else{const S=hX(l,r);S?S.focus():$O(n,r==="next"?"first":"last")}}function Gde(){}function Zk(n,r){if(!(fi&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${r})`)))return null;try{return!!n&&n.matches(r)}catch{return null}}function DU(n){return n.some(r=>XO(r)?r.type===bd?!1:r.type!==us||DU(r.children):!0)?n:null}function qde(n,r){if(!fi||n===0)return r(),()=>{};const l=window.setTimeout(r,n);return()=>window.clearTimeout(l)}function Yde(n,r){const l=n.clientX,d=n.clientY,g=r.getBoundingClientRect(),v=g.left,x=g.top,S=g.right,O=g.bottom;return l>=v&&l<=S&&d>=x&&d<=O}function A$(){const n=Ao(),r=l=>{n.value=l};return Object.defineProperty(r,"value",{enumerable:!0,get:()=>n.value,set:l=>n.value=l}),Object.defineProperty(r,"el",{enumerable:!0,get:()=>cX(n.value)}),r}function T$(n){const r=n.key.length===1,l=!n.ctrlKey&&!n.metaKey&&!n.altKey;return r&&l}const pX=["top","bottom"],Xde=["start","end","left","right"];function O$(n,r){let[l,d]=n.split(" ");return d||(d=h8(pX,l)?"start":h8(Xde,l)?"top":"center"),{side:D$(l,r),align:D$(d,r)}}function D$(n,r){return n==="start"?r?"right":"left":n==="end"?r?"left":"right":n}function ZH(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function jH(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function hG(n){return{side:n.align,align:n.side}}function pG(n){return h8(pX,n.side)?"y":"x"}class oC{constructor(r){let{x:l,y:d,width:g,height:v}=r;this.x=l,this.y=d,this.width=g,this.height=v}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function vG(n,r){return{x:{before:Math.max(0,r.left-n.left),after:Math.max(0,n.right-r.right)},y:{before:Math.max(0,r.top-n.top),after:Math.max(0,n.bottom-r.bottom)}}}function vX(n){return Array.isArray(n)?new oC({x:n[0],y:n[1],width:0,height:0}):n.getBoundingClientRect()}function RU(n){const r=n.getBoundingClientRect(),l=getComputedStyle(n),d=l.transform;if(d){let g,v,x,S,O;if(d.startsWith("matrix3d("))g=d.slice(9,-1).split(/, /),v=+g[0],x=+g[5],S=+g[12],O=+g[13];else if(d.startsWith("matrix("))g=d.slice(7,-1).split(/, /),v=+g[0],x=+g[3],S=+g[4],O=+g[5];else return new oC(r);const V=l.transformOrigin,P=r.x-S-(1-v)*parseFloat(V),B=r.y-O-(1-x)*parseFloat(V.slice(V.indexOf(" ")+1)),$=v?r.width/v:n.offsetWidth+1,Z=x?r.height/x:n.offsetHeight+1;return new oC({x:P,y:B,width:$,height:Z})}else return new oC(r)}function Mk(n,r,l){if(typeof n.animate>"u")return{finished:Promise.resolve()};let d;try{d=n.animate(r,l)}catch{return{finished:Promise.resolve()}}return typeof d.finished>"u"&&(d.finished=new Promise(g=>{d.onfinish=()=>{g(d)}})),d}const e8=new WeakMap;function Jde(n,r){Object.keys(r).forEach(l=>{if(TU(l)){const d=mX(l),g=e8.get(n);if(r[l]==null)g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))});else if(!g||![...g].some(v=>v[0]===d&&v[1]===r[l])){n.addEventListener(d,r[l]);const v=g||new Set;v.add([d,r[l]]),e8.has(n)||e8.set(n,v)}}else r[l]==null?n.removeAttribute(l):n.setAttribute(l,r[l])})}function Qde(n,r){Object.keys(r).forEach(l=>{if(TU(l)){const d=mX(l),g=e8.get(n);g==null||g.forEach(v=>{const[x,S]=v;x===d&&(n.removeEventListener(d,S),g.delete(v))})}else n.removeAttribute(l)})}const _k=2.4,bG=.2126729,yG=.7151522,xG=.072175,efe=.55,tfe=.58,nfe=.57,ofe=.62,FB=.03,wG=1.45,sfe=5e-4,rfe=1.25,ife=1.25,CG=.078,_G=12.82051282051282,VB=.06,SG=.001;function kG(n,r){const l=(n.r/255)**_k,d=(n.g/255)**_k,g=(n.b/255)**_k,v=(r.r/255)**_k,x=(r.g/255)**_k,S=(r.b/255)**_k;let O=l*bG+d*yG+g*xG,V=v*bG+x*yG+S*xG;if(O<=FB&&(O+=(FB-O)**wG),V<=FB&&(V+=(FB-V)**wG),Math.abs(V-O)<sfe)return 0;let P;if(V>O){const B=(V**efe-O**tfe)*rfe;P=B<SG?0:B<CG?B-B*_G*VB:B-VB}else{const B=(V**ofe-O**nfe)*ife;P=B>-SG?0:B>-CG?B-B*_G*VB:B+VB}return P*100}function afe(n,r){r=Array.isArray(r)?r.slice(0,-1).map(l=>`'${l}'`).join(", ")+` or '${r.at(-1)}'`:`'${r}'`}const p8=.20689655172413793,lfe=n=>n>p8**3?Math.cbrt(n):n/(3*p8**2)+4/29,cfe=n=>n>p8?n**3:3*p8**2*(n-4/29);function bX(n){const r=lfe,l=r(n[1]);return[116*l-16,500*(r(n[0]/.95047)-l),200*(l-r(n[2]/1.08883))]}function yX(n){const r=cfe,l=(n[0]+16)/116;return[r(l+n[1]/500)*.95047,r(l),r(l-n[2]/200)*1.08883]}const ufe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],dfe=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,ffe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],mfe=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function xX(n){const r=Array(3),l=dfe,d=ufe;for(let g=0;g<3;++g)r[g]=Math.round($h(l(d[g][0]*n[0]+d[g][1]*n[1]+d[g][2]*n[2]))*255);return{r:r[0],g:r[1],b:r[2]}}function IU(n){let{r,g:l,b:d}=n;const g=[0,0,0],v=mfe,x=ffe;r=v(r/255),l=v(l/255),d=v(d/255);for(let S=0;S<3;++S)g[S]=x[S][0]*r+x[S][1]*l+x[S][2]*d;return g}function R$(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function gfe(n){return R$(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const EG=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,hfe={rgb:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),rgba:(n,r,l,d)=>({r:n,g:r,b:l,a:d}),hsl:(n,r,l,d)=>AG({h:n,s:r,l,a:d}),hsla:(n,r,l,d)=>AG({h:n,s:r,l,a:d}),hsv:(n,r,l,d)=>QO({h:n,s:r,v:l,a:d}),hsva:(n,r,l,d)=>QO({h:n,s:r,v:l,a:d})};function gv(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&EG.test(n)){const{groups:r}=n.match(EG),{fn:l,values:d}=r,g=d.split(/,\s*/).map(v=>v.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(l)?parseFloat(v)/100:parseFloat(v));return hfe[l](...g)}else if(typeof n=="string"){let r=n.startsWith("#")?n.slice(1):n;return[3,4].includes(r.length)?r=r.split("").map(l=>l+l).join(""):[6,8].includes(r.length),vfe(r)}else if(typeof n=="object"){if(WH(n,["r","g","b"]))return n;if(WH(n,["h","s","l"]))return QO(wX(n));if(WH(n,["h","s","v"]))return QO(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function QO(n){const{h:r,s:l,v:d,a:g}=n,v=S=>{const O=(S+r/60)%6;return d-d*l*Math.max(Math.min(O,4-O,1),0)},x=[v(5),v(3),v(1)].map(S=>Math.round(S*255));return{r:x[0],g:x[1],b:x[2],a:g}}function AG(n){return QO(wX(n))}function wX(n){const{h:r,s:l,l:d,a:g}=n,v=d+l*Math.min(d,1-d),x=v===0?0:2-2*d/v;return{h:r,s:x,v,a:g}}function zB(n){const r=Math.round(n).toString(16);return("00".substr(0,2-r.length)+r).toUpperCase()}function pfe(n){let{r,g:l,b:d,a:g}=n;return`#${[zB(r),zB(l),zB(d),g!==void 0?zB(Math.round(g*255)):""].join("")}`}function vfe(n){n=bfe(n);let[r,l,d,g]=jde(n,2).map(v=>parseInt(v,16));return g=g===void 0?g:g/255,{r,g:l,b:d,a:g}}function bfe(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(r=>r+r).join("")),n.length!==6&&(n=fG(fG(n,6),8,"F")),n}function yfe(n,r){const l=bX(IU(n));return l[0]=l[0]+r*10,xX(yX(l))}function xfe(n,r){const l=bX(IU(n));return l[0]=l[0]-r*10,xX(yX(l))}function wfe(n){const r=gv(n);return IU(r)[1]}function CX(n){const r=Math.abs(kG(gv(0),gv(n)));return Math.abs(kG(gv(16777215),gv(n)))>Math.min(r,50)?"#fff":"#000"}function Dn(n,r){return l=>Object.keys(n).reduce((d,g)=>{const x=typeof n[g]=="object"&&n[g]!=null&&!Array.isArray(n[g])?n[g]:{type:n[g]};return l&&g in l?d[g]={...x,default:l[g]}:d[g]=x,r&&!d[g].source&&(d[g].source=r),d},{})}const Ls=Dn({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Tl(n,r){const l=kU();if(!l)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return l}function Cv(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const r=Tl(n).type;return nC((r==null?void 0:r.aliasName)||(r==null?void 0:r.name))}let _X=0,t8=new WeakMap;function Ig(){const n=Tl("getUid");if(t8.has(n))return t8.get(n);{const r=_X++;return t8.set(n,r),r}}Ig.reset=()=>{_X=0,t8=new WeakMap};function Cfe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tl("injectSelf");const{provides:l}=r;if(l&&n in l)return l[n]}const jk=Symbol.for("vuetify:defaults");function _fe(n){return Mn(n)}function NU(){const n=wa(jk);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function Yy(n,r){const l=NU(),d=Mn(n),g=Ge(()=>{if(le(r==null?void 0:r.disabled))return l.value;const x=le(r==null?void 0:r.scoped),S=le(r==null?void 0:r.reset),O=le(r==null?void 0:r.root);if(d.value==null&&!(x||S||O))return l.value;let V=Eu(d.value,{prev:l.value});if(x)return V;if(S||O){const P=Number(S||1/0);for(let B=0;B<=P&&!(!V||!("prev"in V));B++)V=V.prev;return V&&typeof O=="string"&&O in V&&(V=Eu(Eu(V,{prev:V}),V[O])),V}return V.prev?Eu(V.prev,V):V});return wd(jk,g),g}function Sfe(n,r){var l,d;return typeof((l=n.props)==null?void 0:l[r])<"u"||typeof((d=n.props)==null?void 0:d[nC(r)])<"u"}function kfe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NU();const d=Tl("useDefaults");if(r=r??d.type.name??d.type.__name,!r)throw new Error("[Vuetify] Could not determine component name");const g=Ge(()=>{var O;return(O=l.value)==null?void 0:O[n._as??r]}),v=new Proxy(n,{get(O,V){var B,$,Z,K,X,ae,fe;const P=Reflect.get(O,V);return V==="class"||V==="style"?[(B=g.value)==null?void 0:B[V],P].filter(Le=>Le!=null):typeof V=="string"&&!Sfe(d.vnode,V)?(($=g.value)==null?void 0:$[V])!==void 0?(Z=g.value)==null?void 0:Z[V]:((X=(K=l.value)==null?void 0:K.global)==null?void 0:X[V])!==void 0?(fe=(ae=l.value)==null?void 0:ae.global)==null?void 0:fe[V]:P:P}}),x=Ao();cf(()=>{if(g.value){const O=Object.entries(g.value).filter(V=>{let[P]=V;return P.startsWith(P[0].toUpperCase())});x.value=O.length?Object.fromEntries(O):void 0}else x.value=void 0});function S(){const O=Cfe(jk,d);wd(jk,Ge(()=>x.value?Eu((O==null?void 0:O.value)??{},x.value):O==null?void 0:O.value))}return{props:v,provideSubDefaults:S}}function Jk(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=Dn(n.props??{},n.name)();const r=Object.keys(n.props).filter(l=>l!=="class"&&l!=="style");n.filterProps=function(d){return uX(d,r)},n.props._as=String,n.setup=function(d,g){const v=NU();if(!v.value)return n._setup(d,g);const{props:x,provideSubDefaults:S}=kfe(d,d._as??n.name,v),O=n._setup(x,g);return S(),O}}return n}function Ro(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r=>(n?Jk:kY)(r)}function j8(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return Ro()({name:l??A1(lf(n.replace(/__/g,"-"))),props:{tag:{type:String,default:r},...Ls()},setup(d,g){let{slots:v}=g;return()=>{var x;return xv(d.tag,{class:[n,d.class],style:d.style},(x=v.default)==null?void 0:x.call(v))}}})}function SX(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const r=n.getRootNode();return r!==document&&r.getRootNode({composed:!0})!==document?null:r}const v8="cubic-bezier(0.4, 0, 0.2, 1)",Efe="cubic-bezier(0.0, 0, 0.2, 1)",Afe="cubic-bezier(0.4, 0, 1, 1)";function kX(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(r?Tfe(n):PU(n))return n;n=n.parentElement}return document.scrollingElement}function b8(n,r){const l=[];if(r&&n&&!r.contains(n))return l;for(;n&&(PU(n)&&l.push(n),n!==r);)n=n.parentElement;return l}function PU(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return r.overflowY==="scroll"||r.overflowY==="auto"&&n.scrollHeight>n.clientHeight}function Tfe(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const r=window.getComputedStyle(n);return["scroll","auto"].includes(r.overflowY)}function Ofe(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function vs(n){const r=Tl("useRender");r.render=n}function zi(n,r,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B=>B,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:B=>B;const v=Tl("useProxiedModel"),x=Mn(n[r]!==void 0?n[r]:l),S=nC(r),V=Ge(S!==r?()=>{var B,$,Z,K;return n[r],!!(((B=v.vnode.props)!=null&&B.hasOwnProperty(r)||($=v.vnode.props)!=null&&$.hasOwnProperty(S))&&((Z=v.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${r}`)||(K=v.vnode.props)!=null&&K.hasOwnProperty(`onUpdate:${S}`)))}:()=>{var B,$;return n[r],!!((B=v.vnode.props)!=null&&B.hasOwnProperty(r)&&(($=v.vnode.props)!=null&&$.hasOwnProperty(`onUpdate:${r}`)))});Rg(()=>!V.value,()=>{Gn(()=>n[r],B=>{x.value=B})});const P=Ge({get(){const B=n[r];return d(V.value?B:x.value)},set(B){const $=g(B),Z=ns(V.value?n[r]:x.value);Z===$||d(Z)===B||(x.value=$,v==null||v.emit(`update:${r}`,$))}});return Object.defineProperty(P,"externalValue",{get:()=>V.value?n[r]:x.value}),P}const Dfe={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},TG="$vuetify.",OG=(n,r)=>n.replace(/\{(\d+)\}/g,(l,d)=>String(r[+d])),EX=(n,r,l)=>function(d){for(var g=arguments.length,v=new Array(g>1?g-1:0),x=1;x<g;x++)v[x-1]=arguments[x];if(!d.startsWith(TG))return OG(d,v);const S=d.replace(TG,""),O=n.value&&l.value[n.value],V=r.value&&l.value[r.value];let P=E$(O,S,null);return P||(`${d}${n.value}`,P=E$(V,S,null)),P||(P=d),typeof P!="string"&&(P=d),OG(P,v)};function AX(n,r){return(l,d)=>new Intl.NumberFormat([n.value,r.value],d).format(l)}function KH(n,r,l){const d=zi(n,r,n[r]??l.value);return d.value=n[r]??l.value,Gn(l,g=>{n[r]==null&&(d.value=l.value)}),d}function TX(n){return r=>{const l=KH(r,"locale",n.current),d=KH(r,"fallback",n.fallback),g=KH(r,"messages",n.messages);return{name:"vuetify",current:l,fallback:d,messages:g,t:EX(l,d,g),n:AX(l,d),provide:TX({current:l,fallback:d,messages:g})}}}function Rfe(n){const r=Ao((n==null?void 0:n.locale)??"en"),l=Ao((n==null?void 0:n.fallback)??"en"),d=Mn({en:Dfe,...n==null?void 0:n.messages});return{name:"vuetify",current:r,fallback:l,messages:d,t:EX(r,l,d),n:AX(r,l),provide:TX({current:r,fallback:l,messages:d})}}const y8=Symbol.for("vuetify:locale");function Ife(n){return n.name!=null}function Nfe(n){const r=n!=null&&n.adapter&&Ife(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:Rfe(n),l=Mfe(r,n);return{...r,...l}}function kD(){const n=wa(y8);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Pfe(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Mfe(n,r){const l=Mn((r==null?void 0:r.rtl)??Pfe()),d=Ge(()=>l.value[n.current.value]??!1);return{isRtl:d,rtl:l,rtlClasses:Ge(()=>`v-locale--is-${d.value?"rtl":"ltr"}`)}}function Ng(){const n=wa(y8);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}const K8={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Bfe(n,r,l){const d=[];let g=[];const v=OX(n),x=DX(n),S=l??K8[r.slice(-2).toUpperCase()]??0,O=(v.getDay()-S+7)%7,V=(x.getDay()-S+7)%7;for(let P=0;P<O;P++){const B=new Date(v);B.setDate(B.getDate()-(O-P)),g.push(B)}for(let P=1;P<=x.getDate();P++){const B=new Date(n.getFullYear(),n.getMonth(),P);g.push(B),g.length===7&&(d.push(g),g=[])}for(let P=1;P<7-V;P++){const B=new Date(x);B.setDate(B.getDate()+P),g.push(B)}return g.length>0&&d.push(g),d}function Lfe(n,r,l){const d=l??K8[r.slice(-2).toUpperCase()]??0,g=new Date(n);for(;g.getDay()!==d;)g.setDate(g.getDate()-1);return g}function Ffe(n,r){const l=new Date(n),d=((K8[r.slice(-2).toUpperCase()]??0)+6)%7;for(;l.getDay()!==d;)l.setDate(l.getDate()+1);return l}function OX(n){return new Date(n.getFullYear(),n.getMonth(),1)}function DX(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function Vfe(n){const r=n.split("-").map(Number);return new Date(r[0],r[1]-1,r[2])}const zfe=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function RX(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let r;if(zfe.test(n))return Vfe(n);if(r=Date.parse(n),!isNaN(r))return new Date(r)}return null}const DG=new Date(2e3,0,2);function Hfe(n,r){const l=r??K8[n.slice(-2).toUpperCase()]??0;return lX(7).map(d=>{const g=new Date(DG);return g.setDate(DG.getDate()+l+d),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(g)})}function $fe(n,r,l,d){const g=RX(n)??new Date,v=d==null?void 0:d[r];if(typeof v=="function")return v(g,r,l);let x={};switch(r){case"fullDate":x={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const S=g.getDate(),O=new Intl.DateTimeFormat(l,{month:"long"}).format(g);return`${S} ${O}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(l).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:x=v??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(l,x).format(g)}function Ufe(n,r){const l=n.toJsDate(r),d=l.getFullYear(),g=mG(String(l.getMonth()+1),2,"0"),v=mG(String(l.getDate()),2,"0");return`${d}-${g}-${v}`}function Wfe(n){const[r,l,d]=n.split("-").map(Number);return new Date(r,l-1,d)}function Zfe(n,r){const l=new Date(n);return l.setMinutes(l.getMinutes()+r),l}function jfe(n,r){const l=new Date(n);return l.setHours(l.getHours()+r),l}function Kfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r),l}function Gfe(n,r){const l=new Date(n);return l.setDate(l.getDate()+r*7),l}function qfe(n,r){const l=new Date(n);return l.setDate(1),l.setMonth(l.getMonth()+r),l}function Yfe(n){return n.getFullYear()}function Xfe(n){return n.getMonth()}function Jfe(n){return n.getDate()}function Qfe(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function eme(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function tme(n){return n.getHours()}function nme(n){return n.getMinutes()}function ome(n){return new Date(n.getFullYear(),0,1)}function sme(n){return new Date(n.getFullYear(),11,31)}function rme(n,r){return x8(n,r[0])&&lme(n,r[1])}function ime(n){const r=new Date(n);return r instanceof Date&&!isNaN(r.getTime())}function x8(n,r){return n.getTime()>r.getTime()}function ame(n,r){return x8(I$(n),I$(r))}function lme(n,r){return n.getTime()<r.getTime()}function RG(n,r){return n.getTime()===r.getTime()}function cme(n,r){return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function ume(n,r){return n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function dme(n,r){return n.getFullYear()===r.getFullYear()}function fme(n,r,l){const d=new Date(n),g=new Date(r);switch(l){case"years":return d.getFullYear()-g.getFullYear();case"quarters":return Math.floor((d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12)/4);case"months":return d.getMonth()-g.getMonth()+(d.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((d.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((d.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((d.getTime()-g.getTime())/1e3);default:return d.getTime()-g.getTime()}}function mme(n,r){const l=new Date(n);return l.setHours(r),l}function gme(n,r){const l=new Date(n);return l.setMinutes(r),l}function hme(n,r){const l=new Date(n);return l.setMonth(r),l}function pme(n,r){const l=new Date(n);return l.setDate(r),l}function vme(n,r){const l=new Date(n);return l.setFullYear(r),l}function I$(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function bme(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class yme{constructor(r){this.locale=r.locale,this.formats=r.formats}date(r){return RX(r)}toJsDate(r){return r}toISO(r){return Ufe(this,r)}parseISO(r){return Wfe(r)}addMinutes(r,l){return Zfe(r,l)}addHours(r,l){return jfe(r,l)}addDays(r,l){return Kfe(r,l)}addWeeks(r,l){return Gfe(r,l)}addMonths(r,l){return qfe(r,l)}getWeekArray(r,l){return Bfe(r,this.locale,l?Number(l):void 0)}startOfWeek(r,l){return Lfe(r,this.locale,l?Number(l):void 0)}endOfWeek(r){return Ffe(r,this.locale)}startOfMonth(r){return OX(r)}endOfMonth(r){return DX(r)}format(r,l){return $fe(r,l,this.locale,this.formats)}isEqual(r,l){return RG(r,l)}isValid(r){return ime(r)}isWithinRange(r,l){return rme(r,l)}isAfter(r,l){return x8(r,l)}isAfterDay(r,l){return ame(r,l)}isBefore(r,l){return!x8(r,l)&&!RG(r,l)}isSameDay(r,l){return cme(r,l)}isSameMonth(r,l){return ume(r,l)}isSameYear(r,l){return dme(r,l)}setMinutes(r,l){return gme(r,l)}setHours(r,l){return mme(r,l)}setMonth(r,l){return hme(r,l)}setDate(r,l){return pme(r,l)}setYear(r,l){return vme(r,l)}getDiff(r,l,d){return fme(r,l,d)}getWeekdays(r){return Hfe(this.locale,r?Number(r):void 0)}getYear(r){return Yfe(r)}getMonth(r){return Xfe(r)}getDate(r){return Jfe(r)}getNextMonth(r){return Qfe(r)}getPreviousMonth(r){return eme(r)}getHours(r){return tme(r)}getMinutes(r){return nme(r)}startOfDay(r){return I$(r)}endOfDay(r){return bme(r)}startOfYear(r){return ome(r)}endOfYear(r){return sme(r)}}const xme=Symbol.for("vuetify:date-options"),IG=Symbol.for("vuetify:date-adapter");function wme(n,r){const l=Eu({adapter:yme,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:l,instance:Cme(l,r)}}function Cme(n,r){const l=Ql(typeof n.adapter=="function"?new n.adapter({locale:n.locale[r.current.value]??r.current.value,formats:n.formats}):n.adapter);return Gn(r.current,d=>{l.locale=n.locale[d]??d??l.locale}),l}const G8=["sm","md","lg","xl","xxl"],N$=Symbol.for("vuetify:display"),NG={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},_me=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NG;return Eu(NG,n)};function PG(n){return fi&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function MG(n){return fi&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function BG(n){const r=fi&&!n?window.navigator.userAgent:"ssr";function l(K){return!!r.match(K)}const d=l(/android/i),g=l(/iphone|ipad|ipod/i),v=l(/cordova/i),x=l(/electron/i),S=l(/chrome/i),O=l(/edge/i),V=l(/firefox/i),P=l(/opera/i),B=l(/win/i),$=l(/mac/i),Z=l(/linux/i);return{android:d,ios:g,cordova:v,electron:x,chrome:S,edge:O,firefox:V,opera:P,win:B,mac:$,linux:Z,touch:Vde,ssr:r==="ssr"}}function Sme(n,r){const{thresholds:l,mobileBreakpoint:d}=_me(n),g=Ao(MG(r)),v=Ao(BG(r)),x=Ql({}),S=Ao(PG(r));function O(){g.value=MG(),S.value=PG()}function V(){O(),v.value=BG()}return cf(()=>{const P=S.value<l.sm,B=S.value<l.md&&!P,$=S.value<l.lg&&!(B||P),Z=S.value<l.xl&&!($||B||P),K=S.value<l.xxl&&!(Z||$||B||P),X=S.value>=l.xxl,ae=P?"xs":B?"sm":$?"md":Z?"lg":K?"xl":"xxl",fe=typeof d=="number"?d:l[d],Le=S.value<fe;x.xs=P,x.sm=B,x.md=$,x.lg=Z,x.xl=K,x.xxl=X,x.smAndUp=!P,x.mdAndUp=!(P||B),x.lgAndUp=!(P||B||$),x.xlAndUp=!(P||B||$||Z),x.smAndDown=!($||Z||K||X),x.mdAndDown=!(Z||K||X),x.lgAndDown=!(K||X),x.xlAndDown=!X,x.name=ae,x.height=g.value,x.width=S.value,x.mobile=Le,x.mobileBreakpoint=d,x.platform=v.value,x.thresholds=l}),fi&&window.addEventListener("resize",O,{passive:!0}),{...wD(x),update:V,ssr:!!r}}const IX=Dn({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function q8(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=wa(N$);if(!l)throw new Error("Could not find Vuetify display injection");const d=Ge(()=>{if(n.mobile!=null)return n.mobile;if(!n.mobileBreakpoint)return l.mobile.value;const v=typeof n.mobileBreakpoint=="number"?n.mobileBreakpoint:l.thresholds.value[n.mobileBreakpoint];return l.width.value<v}),g=Ge(()=>r?{[`${r}--mobile`]:d.value}:{});return{...l,displayClasses:g,mobile:d}}const NX=Symbol.for("vuetify:goto");function PX(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5}}}function kme(n){return MU(n)??(document.scrollingElement||document.body)}function MU(n){return typeof n=="string"?document.querySelector(n):cX(n)}function GH(n,r,l){if(typeof n=="number")return r&&l?-n:n;let d=MU(n),g=0;for(;d;)g+=r?d.offsetLeft:d.offsetTop,d=d.offsetParent;return g}function Eme(n,r){return{rtl:r.isRtl,options:Eu(PX(),n)}}async function LG(n,r,l,d){const g=l?"scrollLeft":"scrollTop",v=Eu((d==null?void 0:d.options)??PX(),r),x=d==null?void 0:d.rtl.value,S=(typeof n=="number"?n:MU(n))??0,O=v.container==="parent"&&S instanceof HTMLElement?S.parentElement:kme(v.container),V=typeof v.easing=="function"?v.easing:v.patterns[v.easing];if(!V)throw new TypeError(`Easing function "${v.easing}" not found.`);let P;if(typeof S=="number")P=GH(S,l,x);else if(P=GH(S,l,x)-GH(O,l,x),v.layout){const K=window.getComputedStyle(S).getPropertyValue("--v-layout-top");K&&(P-=parseInt(K,10))}P+=v.offset,P=Tme(O,P,!!x,!!l);const B=O[g]??0;if(P===B)return Promise.resolve(P);const $=performance.now();return new Promise(Z=>requestAnimationFrame(function K(X){const fe=(X-$)/v.duration,Le=Math.floor(B+(P-B)*V($h(fe,0,1)));if(O[g]=Le,fe>=1&&Math.abs(Le-O[g])<10)return Z(P);if(fe>2)return Z(O[g]);requestAnimationFrame(K)}))}function Ame(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=wa(NX),{isRtl:l}=Ng();if(!r)throw new Error("[Vuetify] Could not find injected goto instance");const d={...r,rtl:Ge(()=>r.rtl.value||l.value)};async function g(v,x){return LG(v,Eu(n,x),!1,d)}return g.horizontal=async(v,x)=>LG(v,Eu(n,x),!0,d),g}function Tme(n,r,l,d){const{scrollWidth:g,scrollHeight:v}=n,[x,S]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let O,V;return d?l?(O=-(g-x),V=0):(O=0,V=g-x):(O=0,V=v+-S),Math.max(Math.min(r,V),O)}const Ome={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Dme={component:n=>xv(BX,{...n,class:"mdi"})},mi=[String,Function,Object,Array],P$=Symbol.for("vuetify:icons"),Y8=Dn({icon:{type:mi},tag:{type:String,required:!0}},"icon"),FG=Ro()({name:"VComponentIcon",props:Y8(),setup(n,r){let{slots:l}=r;return()=>{const d=n.icon;return G(n.tag,null,{default:()=>{var g;return[n.icon?G(d,null,null):(g=l.default)==null?void 0:g.call(l)]}})}}}),MX=Jk({name:"VSvgIcon",inheritAttrs:!1,props:Y8(),setup(n,r){let{attrs:l}=r;return()=>G(n.tag,Wo(l,{style:null}),{default:()=>[G("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(d=>Array.isArray(d)?G("path",{d:d[0],"fill-opacity":d[1]},null):G("path",{d},null)):G("path",{d:n.icon},null)])]})}});Jk({name:"VLigatureIcon",props:Y8(),setup(n){return()=>G(n.tag,null,{default:()=>[n.icon]})}});const BX=Jk({name:"VClassIcon",props:Y8(),setup(n){return()=>G(n.tag,{class:n.icon},null)}});function Rme(){return{svg:{component:MX},class:{component:BX}}}function Ime(n){const r=Rme(),l=(n==null?void 0:n.defaultSet)??"mdi";return l==="mdi"&&!r.mdi&&(r.mdi=Dme),Eu({defaultSet:l,sets:r,aliases:{...Ome,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}const Nme=n=>{const r=wa(P$);if(!r)throw new Error("Missing Vuetify Icons provide!");return{iconData:Ge(()=>{var O;const d=le(n);if(!d)return{component:FG};let g=d;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(O=r.aliases)==null?void 0:O[g.slice(1)])),Array.isArray(g))return{component:MX,icon:g};if(typeof g!="string")return{component:FG,icon:g};const v=Object.keys(r.sets).find(V=>typeof g=="string"&&g.startsWith(`${V}:`)),x=v?g.slice(v.length+1):g;return{component:r.sets[v??r.defaultSet].component,icon:x}})}},w8=Symbol.for("vuetify:theme"),cl=Dn({theme:String},"theme");function VG(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Pme(){var d,g;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VG();const r=VG();if(!n)return{...r,isDisabled:!0};const l={};for(const[v,x]of Object.entries(n.themes??{})){const S=x.dark||v==="dark"?(d=r.themes)==null?void 0:d.dark:(g=r.themes)==null?void 0:g.light;l[v]=Eu(S,x)}return Eu(r,{...n,themes:l})}function Mme(n){const r=Pme(n),l=Mn(r.defaultTheme),d=Mn(r.themes),g=Ge(()=>{const P={};for(const[B,$]of Object.entries(d.value)){const Z=P[B]={...$,colors:{...$.colors}};if(r.variations)for(const K of r.variations.colors){const X=Z.colors[K];if(X)for(const ae of["lighten","darken"]){const fe=ae==="lighten"?yfe:xfe;for(const Le of lX(r.variations[ae],1))Z.colors[`${K}-${ae}-${Le}`]=pfe(fe(gv(X),Le))}}for(const K of Object.keys(Z.colors)){if(/^on-[a-z]/.test(K)||Z.colors[`on-${K}`])continue;const X=`on-${K}`,ae=gv(Z.colors[K]);Z.colors[X]=CX(ae)}}return P}),v=Ge(()=>g.value[l.value]),x=Ge(()=>{var K;const P=[];(K=v.value)!=null&&K.dark&&Kw(P,":root",["color-scheme: dark"]),Kw(P,":root",zG(v.value));for(const[X,ae]of Object.entries(g.value))Kw(P,`.v-theme--${X}`,[`color-scheme: ${ae.dark?"dark":"normal"}`,...zG(ae)]);const B=[],$=[],Z=new Set(Object.values(g.value).flatMap(X=>Object.keys(X.colors)));for(const X of Z)/^on-[a-z]/.test(X)?Kw($,`.${X}`,[`color: rgb(var(--v-theme-${X})) !important`]):(Kw(B,`.bg-${X}`,[`--v-theme-overlay-multiplier: var(--v-theme-${X}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${X})) !important`,`color: rgb(var(--v-theme-on-${X})) !important`]),Kw($,`.text-${X}`,[`color: rgb(var(--v-theme-${X})) !important`]),Kw($,`.border-${X}`,[`--v-border-color: var(--v-theme-${X})`]));return P.push(...B,...$),P.map((X,ae)=>ae===0?X:`    ${X}`).join("")});function S(){return{style:[{children:x.value,id:"vuetify-theme-stylesheet",nonce:r.cspNonce||!1}]}}function O(P){if(r.isDisabled)return;const B=P._context.provides.usehead;if(B)if(B.push){const Z=B.push(S);fi&&Gn(x,()=>{Z.patch(S)})}else fi?(B.addHeadObjs(Ge(S)),cf(()=>B.updateDOM())):B.addHeadObjs(S());else{let K=function(){if(typeof document<"u"&&!Z){const X=document.createElement("style");X.type="text/css",X.id="vuetify-theme-stylesheet",r.cspNonce&&X.setAttribute("nonce",r.cspNonce),Z=X,document.head.appendChild(Z)}Z&&(Z.innerHTML=x.value)};var $=K;let Z=fi?document.getElementById("vuetify-theme-stylesheet"):null;fi?Gn(x,K,{immediate:!0}):K()}}const V=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`);return{install:O,isDisabled:r.isDisabled,name:l,themes:d,current:v,computedThemes:g,themeClasses:V,styles:x,global:{name:l,current:v}}}function $l(n){Tl("provideTheme");const r=wa(w8,null);if(!r)throw new Error("Could not find Vuetify theme injection");const l=Ge(()=>n.theme??r.name.value),d=Ge(()=>r.themes.value[l.value]),g=Ge(()=>r.isDisabled?void 0:`v-theme--${l.value}`),v={...r,name:l,current:d,themeClasses:g};return wd(w8,v),v}function Kw(n,r,l){n.push(`${r} {
`,...l.map(d=>`  ${d};
`),`}
`)}function zG(n){const r=n.dark?2:1,l=n.dark?1:2,d=[];for(const[g,v]of Object.entries(n.colors)){const x=gv(v);d.push(`--v-theme-${g}: ${x.r},${x.g},${x.b}`),g.startsWith("on-")||d.push(`--v-theme-${g}-overlay-multiplier: ${wfe(v)>.18?r:l}`)}for(const[g,v]of Object.entries(n.variables)){const x=typeof v=="string"&&v.startsWith("#")?gv(v):void 0,S=x?`${x.r}, ${x.g}, ${x.b}`:void 0;d.push(`--v-${g}: ${S??v}`)}return d}function Kk(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=A$(),d=Mn();if(fi){const g=new ResizeObserver(v=>{v.length&&(r==="content"?d.value=v[0].contentRect:d.value=v[0].target.getBoundingClientRect())});xc(()=>{g.disconnect()}),Gn(()=>l.el,(v,x)=>{x&&(g.unobserve(x),d.value=void 0),v&&g.observe(v)},{flush:"post"})}return{resizeRef:l,contentRect:xD(d)}}const C8=Symbol.for("vuetify:layout"),LX=Symbol.for("vuetify:layout-item"),HG=1e3,Bme=Dn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),FX=Dn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Lme(){const n=wa(C8);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function VX(n){const r=wa(C8);if(!r)throw new Error("[Vuetify] Could not find injected layout");const l=n.id??`layout-item-${Ig()}`,d=Tl("useLayoutItem");wd(LX,{id:l});const g=Ao(!1);z8(()=>g.value=!0),vU(()=>g.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:x}=r.register(d,{...n,active:Ge(()=>g.value?!1:n.active.value),id:l});return xc(()=>r.unregister(l)),{layoutItemStyles:v,layoutRect:r.layoutRect,layoutItemScrimStyles:x}}const Fme=(n,r,l,d)=>{let g={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...g}}];for(const x of n){const S=r.get(x),O=l.get(x),V=d.get(x);if(!S||!O||!V)continue;const P={...g,[S.value]:parseInt(g[S.value],10)+(V.value?parseInt(O.value,10):0)};v.push({id:x,layer:P}),g=P}return v};function Vme(n){const r=wa(C8,null),l=Ge(()=>r?r.rootZIndex.value-100:HG),d=Mn([]),g=Ql(new Map),v=Ql(new Map),x=Ql(new Map),S=Ql(new Map),O=Ql(new Map),{resizeRef:V,contentRect:P}=Kk(),B=Ge(()=>{const ie=new Map,Ue=n.overlaps??[];for(const We of Ue.filter(qe=>qe.includes(":"))){const[qe,st]=We.split(":");if(!d.value.includes(qe)||!d.value.includes(st))continue;const Se=g.get(qe),Me=g.get(st),D=v.get(qe),Ke=v.get(st);!Se||!Me||!D||!Ke||(ie.set(st,{position:Se.value,amount:parseInt(D.value,10)}),ie.set(qe,{position:Me.value,amount:-parseInt(Ke.value,10)}))}return ie}),$=Ge(()=>{const ie=[...new Set([...x.values()].map(We=>We.value))].sort((We,qe)=>We-qe),Ue=[];for(const We of ie){const qe=d.value.filter(st=>{var Se;return((Se=x.get(st))==null?void 0:Se.value)===We});Ue.push(...qe)}return Fme(Ue,g,v,S)}),Z=Ge(()=>!Array.from(O.values()).some(ie=>ie.value)),K=Ge(()=>$.value[$.value.length-1].layer),X=Ge(()=>({"--v-layout-left":hs(K.value.left),"--v-layout-right":hs(K.value.right),"--v-layout-top":hs(K.value.top),"--v-layout-bottom":hs(K.value.bottom),...Z.value?void 0:{transition:"none"}})),ae=Ge(()=>$.value.slice(1).map((ie,Ue)=>{let{id:We}=ie;const{layer:qe}=$.value[Ue],st=v.get(We),Se=g.get(We);return{id:We,...qe,size:Number(st.value),position:Se.value}})),fe=ie=>ae.value.find(Ue=>Ue.id===ie),Le=Tl("createLayout"),Re=Ao(!1);Du(()=>{Re.value=!0}),wd(C8,{register:(ie,Ue)=>{let{id:We,order:qe,position:st,layoutSize:Se,elementSize:Me,active:D,disableTransitions:Ke,absolute:ct}=Ue;x.set(We,qe),g.set(We,st),v.set(We,Se),S.set(We,D),Ke&&O.set(We,Ke);const Jt=Pk(LX,Le==null?void 0:Le.vnode).indexOf(ie);Jt>-1?d.value.splice(Jt,0,We):d.value.push(We);const et=Ge(()=>ae.value.findIndex(Ye=>Ye.id===We)),pt=Ge(()=>l.value+$.value.length*2-et.value*2),Lt=Ge(()=>{const Ye=st.value==="left"||st.value==="right",Mt=st.value==="right",no=st.value==="bottom",Fn=Me.value??Se.value,fn=Fn===0?"%":"px",_n={[st.value]:0,zIndex:pt.value,transform:`translate${Ye?"X":"Y"}(${(D.value?0:-(Fn===0?100:Fn))*(Mt||no?-1:1)}${fn})`,position:ct.value||l.value!==HG?"absolute":"fixed",...Z.value?void 0:{transition:"none"}};if(!Re.value)return _n;const Q=ae.value[et.value];if(!Q)throw new Error(`[Vuetify] Could not find layout item "${We}"`);const xs=B.value.get(We);return xs&&(Q[xs.position]+=xs.amount),{..._n,height:Ye?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:Me.value?`${Me.value}px`:void 0,left:Mt?void 0:`${Q.left}px`,right:Mt?`${Q.right}px`:void 0,top:st.value!=="bottom"?`${Q.top}px`:void 0,bottom:st.value!=="top"?`${Q.bottom}px`:void 0,width:Ye?Me.value?`${Me.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),tt=Ge(()=>({zIndex:pt.value-1}));return{layoutItemStyles:Lt,layoutItemScrimStyles:tt,zIndex:pt}},unregister:ie=>{x.delete(ie),g.delete(ie),v.delete(ie),S.delete(ie),O.delete(ie),d.value=d.value.filter(Ue=>Ue!==ie)},mainRect:K,mainStyles:X,getLayoutItem:fe,items:ae,layoutRect:P,rootZIndex:l});const te=Ge(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),Ce=Ge(()=>({zIndex:r?l.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:te,layoutStyles:Ce,getLayoutItem:fe,items:ae,layoutRect:P,layoutRef:V}}function zX(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:r,...l}=n,d=Eu(r,l),{aliases:g={},components:v={},directives:x={}}=d,S=_fe(d.defaults),O=Sme(d.display,d.ssr),V=Mme(d.theme),P=Ime(d.icons),B=Nfe(d.locale),$=wme(d.date,B),Z=Eme(d.goTo,B);return{install:X=>{for(const ae in x)X.directive(ae,x[ae]);for(const ae in v)X.component(ae,v[ae]);for(const ae in g)X.component(ae,Jk({...g[ae],name:ae,aliasName:g[ae].name}));if(V.install(X),X.provide(jk,S),X.provide(N$,O),X.provide(w8,V),X.provide(P$,P),X.provide(y8,B),X.provide(xme,$.options),X.provide(IG,$.instance),X.provide(NX,Z),fi&&d.ssr)if(X.$nuxt)X.$nuxt.hook("app:suspense:resolve",()=>{O.update()});else{const{mount:ae}=X;X.mount=function(){const fe=ae(...arguments);return Ar(()=>O.update()),X.mount=ae,fe}}Ig.reset(),X.mixin({computed:{$vuetify(){return Ql({defaults:Sk.call(this,jk),display:Sk.call(this,N$),theme:Sk.call(this,w8),icons:Sk.call(this,P$),locale:Sk.call(this,y8),date:Sk.call(this,IG)})}}})},defaults:S,display:O,theme:V,icons:P,locale:B,date:$,goTo:Z}}const zme="3.7.2";zX.version=zme;function Sk(n){var d,g;const r=this.$,l=((d=r.parent)==null?void 0:d.provides)??((g=r.vnode.appContext)==null?void 0:g.provides);if(l&&n in l)return l[n]}const Hme=zX({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});var $me=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let HX;const X8=n=>HX=n,$X=Symbol();function M$(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var UO;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(UO||(UO={}));function Ume(){const n=yD(!0),r=n.run(()=>Mn({}));let l=[],d=[];const g=fU({install(v){X8(g),g._a=v,v.provide($X,g),v.config.globalProperties.$pinia=g,d.forEach(x=>l.push(x)),d=[]},use(v){return!this._a&&!$me?d.push(v):l.push(v),this},_p:l,_a:null,_e:n,_s:new Map,state:r});return g}const UX=()=>{};function $G(n,r,l,d=UX){n.push(r);const g=()=>{const v=n.indexOf(r);v>-1&&(n.splice(v,1),d())};return!l&&Gq()&&Ou(g),g}function kk(n,...r){n.slice().forEach(l=>{l(...r)})}const Wme=n=>n(),UG=Symbol(),qH=Symbol();function B$(n,r){n instanceof Map&&r instanceof Map?r.forEach((l,d)=>n.set(d,l)):n instanceof Set&&r instanceof Set&&r.forEach(n.add,n);for(const l in r){if(!r.hasOwnProperty(l))continue;const d=r[l],g=n[l];M$(g)&&M$(d)&&n.hasOwnProperty(l)&&!Hr(d)&&!Fy(d)?n[l]=B$(g,d):n[l]=d}return n}const Zme=Symbol();function jme(n){return!M$(n)||!n.hasOwnProperty(Zme)}const{assign:Iy}=Object;function Kme(n){return!!(Hr(n)&&n.effect)}function Gme(n,r,l,d){const{state:g,actions:v,getters:x}=r,S=l.state.value[n];let O;function V(){S||(l.state.value[n]=g?g():{});const P=wD(l.state.value[n]);return Iy(P,v,Object.keys(x||{}).reduce((B,$)=>(B[$]=fU(Ge(()=>{X8(l);const Z=l._s.get(n);return x[$].call(Z,Z)})),B),{}))}return O=WX(n,V,r,l,d,!0),O}function WX(n,r,l={},d,g,v){let x;const S=Iy({actions:{}},l),O={deep:!0};let V,P,B=[],$=[],Z;const K=d.state.value[n];!v&&!K&&(d.state.value[n]={}),Mn({});let X;function ae(We){let qe;V=P=!1,typeof We=="function"?(We(d.state.value[n]),qe={type:UO.patchFunction,storeId:n,events:Z}):(B$(d.state.value[n],We),qe={type:UO.patchObject,payload:We,storeId:n,events:Z});const st=X=Symbol();Ar().then(()=>{X===st&&(V=!0)}),P=!0,kk(B,qe,d.state.value[n])}const fe=v?function(){const{state:qe}=l,st=qe?qe():{};this.$patch(Se=>{Iy(Se,st)})}:UX;function Le(){x.stop(),B=[],$=[],d._s.delete(n)}const Re=(We,qe="")=>{if(UG in We)return We[qH]=qe,We;const st=function(){X8(d);const Se=Array.from(arguments),Me=[],D=[];function Ke(Jt){Me.push(Jt)}function ct(Jt){D.push(Jt)}kk($,{args:Se,name:st[qH],store:Ce,after:Ke,onError:ct});let $t;try{$t=We.apply(this&&this.$id===n?this:Ce,Se)}catch(Jt){throw kk(D,Jt),Jt}return $t instanceof Promise?$t.then(Jt=>(kk(Me,Jt),Jt)).catch(Jt=>(kk(D,Jt),Promise.reject(Jt))):(kk(Me,$t),$t)};return st[UG]=!0,st[qH]=qe,st},te={_p:d,$id:n,$onAction:$G.bind(null,$),$patch:ae,$reset:fe,$subscribe(We,qe={}){const st=$G(B,We,qe.detached,()=>Se()),Se=x.run(()=>Gn(()=>d.state.value[n],Me=>{(qe.flush==="sync"?P:V)&&We({storeId:n,type:UO.direct,events:Z},Me)},Iy({},O,qe)));return st},$dispose:Le},Ce=Ql(te);d._s.set(n,Ce);const Ue=(d._a&&d._a.runWithContext||Wme)(()=>d._e.run(()=>(x=yD()).run(()=>r({action:Re}))));for(const We in Ue){const qe=Ue[We];if(Hr(qe)&&!Kme(qe)||Fy(qe))v||(K&&jme(qe)&&(Hr(qe)?qe.value=K[We]:B$(qe,K[We])),d.state.value[n][We]=qe);else if(typeof qe=="function"){const st=Re(qe,We);Ue[We]=st,S.actions[We]=qe}}return Iy(Ce,Ue),Iy(ns(Ce),Ue),Object.defineProperty(Ce,"$state",{get:()=>d.state.value[n],set:We=>{ae(qe=>{Iy(qe,We)})}}),d._p.forEach(We=>{Iy(Ce,x.run(()=>We({store:Ce,app:d._a,pinia:d,options:S})))}),K&&v&&l.hydrate&&l.hydrate(Ce.$state,K),V=!0,P=!0,Ce}function Ru(n,r,l){let d,g;const v=typeof r=="function";typeof n=="string"?(d=n,g=v?l:r):(g=n,d=n.id);function x(S,O){const V=Eue();return S=S||(V?wa($X,null):null),S&&X8(S),S=HX,S._s.has(d)||(v?WX(d,r,g,S):Gme(d,g,S)),S._s.get(d)}return x.$id=d,x}const qme=Ume();function Yme(n){n.use(Hme).use(qme)}var HB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BU(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $B(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ZX={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,r){(function(l){n.exports=l()})(function(){return function l(d,g,v){function x(V,P){if(!g[V]){if(!d[V]){var B=typeof $B=="function"&&$B;if(!P&&B)return B(V,!0);if(S)return S(V,!0);var $=new Error("Cannot find module '"+V+"'");throw $.code="MODULE_NOT_FOUND",$}var Z=g[V]={exports:{}};d[V][0].call(Z.exports,function(K){var X=d[V][1][K];return x(X||K)},Z,Z.exports,l,d,g,v)}return g[V].exports}for(var S=typeof $B=="function"&&$B,O=0;O<v.length;O++)x(v[O]);return x}({1:[function(l,d,g){(function(v){var x=v.MutationObserver||v.WebKitMutationObserver,S;if(x){var O=0,V=new x(K),P=v.document.createTextNode("");V.observe(P,{characterData:!0}),S=function(){P.data=O=++O%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var B=new v.MessageChannel;B.port1.onmessage=K,S=function(){B.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?S=function(){var ae=v.document.createElement("script");ae.onreadystatechange=function(){K(),ae.onreadystatechange=null,ae.parentNode.removeChild(ae),ae=null},v.document.documentElement.appendChild(ae)}:S=function(){setTimeout(K,0)};var $,Z=[];function K(){$=!0;for(var ae,fe,Le=Z.length;Le;){for(fe=Z,Z=[],ae=-1;++ae<Le;)fe[ae]();Le=Z.length}$=!1}d.exports=X;function X(ae){Z.push(ae)===1&&!$&&S()}}).call(this,typeof HB<"u"?HB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(l,d,g){var v=l(1);function x(){}var S={},O=["REJECTED"],V=["FULFILLED"],P=["PENDING"];d.exports=B;function B(Ce){if(typeof Ce!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,Ce!==x&&X(this,Ce)}B.prototype.catch=function(Ce){return this.then(null,Ce)},B.prototype.then=function(Ce,ie){if(typeof Ce!="function"&&this.state===V||typeof ie!="function"&&this.state===O)return this;var Ue=new this.constructor(x);if(this.state!==P){var We=this.state===V?Ce:ie;Z(Ue,We,this.outcome)}else this.queue.push(new $(Ue,Ce,ie));return Ue};function $(Ce,ie,Ue){this.promise=Ce,typeof ie=="function"&&(this.onFulfilled=ie,this.callFulfilled=this.otherCallFulfilled),typeof Ue=="function"&&(this.onRejected=Ue,this.callRejected=this.otherCallRejected)}$.prototype.callFulfilled=function(Ce){S.resolve(this.promise,Ce)},$.prototype.otherCallFulfilled=function(Ce){Z(this.promise,this.onFulfilled,Ce)},$.prototype.callRejected=function(Ce){S.reject(this.promise,Ce)},$.prototype.otherCallRejected=function(Ce){Z(this.promise,this.onRejected,Ce)};function Z(Ce,ie,Ue){v(function(){var We;try{We=ie(Ue)}catch(qe){return S.reject(Ce,qe)}We===Ce?S.reject(Ce,new TypeError("Cannot resolve promise with itself")):S.resolve(Ce,We)})}S.resolve=function(Ce,ie){var Ue=ae(K,ie);if(Ue.status==="error")return S.reject(Ce,Ue.value);var We=Ue.value;if(We)X(Ce,We);else{Ce.state=V,Ce.outcome=ie;for(var qe=-1,st=Ce.queue.length;++qe<st;)Ce.queue[qe].callFulfilled(ie)}return Ce},S.reject=function(Ce,ie){Ce.state=O,Ce.outcome=ie;for(var Ue=-1,We=Ce.queue.length;++Ue<We;)Ce.queue[Ue].callRejected(ie);return Ce};function K(Ce){var ie=Ce&&Ce.then;if(Ce&&(typeof Ce=="object"||typeof Ce=="function")&&typeof ie=="function")return function(){ie.apply(Ce,arguments)}}function X(Ce,ie){var Ue=!1;function We(Me){Ue||(Ue=!0,S.reject(Ce,Me))}function qe(Me){Ue||(Ue=!0,S.resolve(Ce,Me))}function st(){ie(qe,We)}var Se=ae(st);Se.status==="error"&&We(Se.value)}function ae(Ce,ie){var Ue={};try{Ue.value=Ce(ie),Ue.status="success"}catch(We){Ue.status="error",Ue.value=We}return Ue}B.resolve=fe;function fe(Ce){return Ce instanceof this?Ce:S.resolve(new this(x),Ce)}B.reject=Le;function Le(Ce){var ie=new this(x);return S.reject(ie,Ce)}B.all=Re;function Re(Ce){var ie=this;if(Object.prototype.toString.call(Ce)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=Ce.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=new Array(Ue),st=0,Se=-1,Me=new this(x);++Se<Ue;)D(Ce[Se],Se);return Me;function D(Ke,ct){ie.resolve(Ke).then($t,function(Jt){We||(We=!0,S.reject(Me,Jt))});function $t(Jt){qe[ct]=Jt,++st===Ue&&!We&&(We=!0,S.resolve(Me,qe))}}}B.race=te;function te(Ce){var ie=this;if(Object.prototype.toString.call(Ce)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ue=Ce.length,We=!1;if(!Ue)return this.resolve([]);for(var qe=-1,st=new this(x);++qe<Ue;)Se(Ce[qe]);return st;function Se(Me){ie.resolve(Me).then(function(D){We||(We=!0,S.resolve(st,D))},function(D){We||(We=!0,S.reject(st,D))})}}},{1:1}],3:[function(l,d,g){(function(v){typeof v.Promise!="function"&&(v.Promise=l(2))}).call(this,typeof HB<"u"?HB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(l,d,g){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee};function x(Ee,nt){if(!(Ee instanceof nt))throw new TypeError("Cannot call a class as a function")}function S(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var O=S();function V(){try{if(!O||!O.open)return!1;var Ee=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),nt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Ee||nt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(Ee,nt){Ee=Ee||[],nt=nt||{};try{return new Blob(Ee,nt)}catch(Je){if(Je.name!=="TypeError")throw Je;for(var Ie=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,mt=new Ie,ut=0;ut<Ee.length;ut+=1)mt.append(Ee[ut]);return mt.getBlob(nt.type)}}typeof Promise>"u"&&l(3);var B=Promise;function $(Ee,nt){nt&&Ee.then(function(Ie){nt(null,Ie)},function(Ie){nt(Ie)})}function Z(Ee,nt,Ie){typeof nt=="function"&&Ee.then(nt),typeof Ie=="function"&&Ee.catch(Ie)}function K(Ee){return typeof Ee!="string"&&(console.warn(Ee+" used as a key, but it is not a string."),Ee=String(Ee)),Ee}function X(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ae="local-forage-detect-blob-support",fe=void 0,Le={},Re=Object.prototype.toString,te="readonly",Ce="readwrite";function ie(Ee){for(var nt=Ee.length,Ie=new ArrayBuffer(nt),mt=new Uint8Array(Ie),ut=0;ut<nt;ut++)mt[ut]=Ee.charCodeAt(ut);return Ie}function Ue(Ee){return new B(function(nt){var Ie=Ee.transaction(ae,Ce),mt=P([""]);Ie.objectStore(ae).put(mt,"key"),Ie.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),nt(!1)},Ie.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Je=navigator.userAgent.match(/Edge\//);nt(Je||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function We(Ee){return typeof fe=="boolean"?B.resolve(fe):Ue(Ee).then(function(nt){return fe=nt,fe})}function qe(Ee){var nt=Le[Ee.name],Ie={};Ie.promise=new B(function(mt,ut){Ie.resolve=mt,Ie.reject=ut}),nt.deferredOperations.push(Ie),nt.dbReady?nt.dbReady=nt.dbReady.then(function(){return Ie.promise}):nt.dbReady=Ie.promise}function st(Ee){var nt=Le[Ee.name],Ie=nt.deferredOperations.pop();if(Ie)return Ie.resolve(),Ie.promise}function Se(Ee,nt){var Ie=Le[Ee.name],mt=Ie.deferredOperations.pop();if(mt)return mt.reject(nt),mt.promise}function Me(Ee,nt){return new B(function(Ie,mt){if(Le[Ee.name]=Le[Ee.name]||Ye(),Ee.db)if(nt)qe(Ee),Ee.db.close();else return Ie(Ee.db);var ut=[Ee.name];nt&&ut.push(Ee.version);var Je=O.open.apply(O,ut);nt&&(Je.onupgradeneeded=function(Wt){var nn=Je.result;try{nn.createObjectStore(Ee.storeName),Wt.oldVersion<=1&&nn.createObjectStore(ae)}catch(un){if(un.name==="ConstraintError")console.warn('The database "'+Ee.name+'" has been upgraded from version '+Wt.oldVersion+" to version "+Wt.newVersion+', but the storage "'+Ee.storeName+'" already exists.');else throw un}}),Je.onerror=function(Wt){Wt.preventDefault(),mt(Je.error)},Je.onsuccess=function(){var Wt=Je.result;Wt.onversionchange=function(nn){nn.target.close()},Ie(Wt),st(Ee)}})}function D(Ee){return Me(Ee,!1)}function Ke(Ee){return Me(Ee,!0)}function ct(Ee,nt){if(!Ee.db)return!0;var Ie=!Ee.db.objectStoreNames.contains(Ee.storeName),mt=Ee.version<Ee.db.version,ut=Ee.version>Ee.db.version;if(mt&&(Ee.version!==nt&&console.warn('The database "'+Ee.name+`" can't be downgraded from version `+Ee.db.version+" to version "+Ee.version+"."),Ee.version=Ee.db.version),ut||Ie){if(Ie){var Je=Ee.db.version+1;Je>Ee.version&&(Ee.version=Je)}return!0}return!1}function $t(Ee){return new B(function(nt,Ie){var mt=new FileReader;mt.onerror=Ie,mt.onloadend=function(ut){var Je=btoa(ut.target.result||"");nt({__local_forage_encoded_blob:!0,data:Je,type:Ee.type})},mt.readAsBinaryString(Ee)})}function Jt(Ee){var nt=ie(atob(Ee.data));return P([nt],{type:Ee.type})}function et(Ee){return Ee&&Ee.__local_forage_encoded_blob}function pt(Ee){var nt=this,Ie=nt._initReady().then(function(){var mt=Le[nt._dbInfo.name];if(mt&&mt.dbReady)return mt.dbReady});return Z(Ie,Ee,Ee),Ie}function Lt(Ee){qe(Ee);for(var nt=Le[Ee.name],Ie=nt.forages,mt=0;mt<Ie.length;mt++){var ut=Ie[mt];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return Ee.db=null,D(Ee).then(function(Je){return Ee.db=Je,ct(Ee)?Ke(Ee):Je}).then(function(Je){Ee.db=nt.db=Je;for(var Wt=0;Wt<Ie.length;Wt++)Ie[Wt]._dbInfo.db=Je}).catch(function(Je){throw Se(Ee,Je),Je})}function tt(Ee,nt,Ie,mt){mt===void 0&&(mt=1);try{var ut=Ee.db.transaction(Ee.storeName,nt);Ie(null,ut)}catch(Je){if(mt>0&&(!Ee.db||Je.name==="InvalidStateError"||Je.name==="NotFoundError"))return B.resolve().then(function(){if(!Ee.db||Je.name==="NotFoundError"&&!Ee.db.objectStoreNames.contains(Ee.storeName)&&Ee.version<=Ee.db.version)return Ee.db&&(Ee.version=Ee.db.version+1),Ke(Ee)}).then(function(){return Lt(Ee).then(function(){tt(Ee,nt,Ie,mt-1)})}).catch(Ie);Ie(Je)}}function Ye(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Mt(Ee){var nt=this,Ie={db:null};if(Ee)for(var mt in Ee)Ie[mt]=Ee[mt];var ut=Le[Ie.name];ut||(ut=Ye(),Le[Ie.name]=ut),ut.forages.push(nt),nt._initReady||(nt._initReady=nt.ready,nt.ready=pt);var Je=[];function Wt(){return B.resolve()}for(var nn=0;nn<ut.forages.length;nn++){var un=ut.forages[nn];un!==nt&&Je.push(un._initReady().catch(Wt))}var vn=ut.forages.slice(0);return B.all(Je).then(function(){return Ie.db=ut.db,D(Ie)}).then(function(an){return Ie.db=an,ct(Ie,nt._defaultConfig.version)?Ke(Ie):an}).then(function(an){Ie.db=ut.db=an,nt._dbInfo=Ie;for(var ho=0;ho<vn.length;ho++){var sn=vn[ho];sn!==nt&&(sn._dbInfo.db=Ie.db,sn._dbInfo.version=Ie.version)}})}function no(Ee,nt){var Ie=this;Ee=K(Ee);var mt=new B(function(ut,Je){Ie.ready().then(function(){tt(Ie._dbInfo,te,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ie._dbInfo.storeName),vn=un.get(Ee);vn.onsuccess=function(){var an=vn.result;an===void 0&&(an=null),et(an)&&(an=Jt(an)),ut(an)},vn.onerror=function(){Je(vn.error)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function Fn(Ee,nt){var Ie=this,mt=new B(function(ut,Je){Ie.ready().then(function(){tt(Ie._dbInfo,te,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ie._dbInfo.storeName),vn=un.openCursor(),an=1;vn.onsuccess=function(){var ho=vn.result;if(ho){var sn=ho.value;et(sn)&&(sn=Jt(sn));var Ss=Ee(sn,ho.key,an++);Ss!==void 0?ut(Ss):ho.continue()}else ut()},vn.onerror=function(){Je(vn.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function fn(Ee,nt,Ie){var mt=this;Ee=K(Ee);var ut=new B(function(Je,Wt){var nn;mt.ready().then(function(){return nn=mt._dbInfo,Re.call(nt)==="[object Blob]"?We(nn.db).then(function(un){return un?nt:$t(nt)}):nt}).then(function(un){tt(mt._dbInfo,Ce,function(vn,an){if(vn)return Wt(vn);try{var ho=an.objectStore(mt._dbInfo.storeName);un===null&&(un=void 0);var sn=ho.put(un,Ee);an.oncomplete=function(){un===void 0&&(un=null),Je(un)},an.onabort=an.onerror=function(){var Ss=sn.error?sn.error:sn.transaction.error;Wt(Ss)}}catch(Ss){Wt(Ss)}})}).catch(Wt)});return $(ut,Ie),ut}function _n(Ee,nt){var Ie=this;Ee=K(Ee);var mt=new B(function(ut,Je){Ie.ready().then(function(){tt(Ie._dbInfo,Ce,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ie._dbInfo.storeName),vn=un.delete(Ee);nn.oncomplete=function(){ut()},nn.onerror=function(){Je(vn.error)},nn.onabort=function(){var an=vn.error?vn.error:vn.transaction.error;Je(an)}}catch(an){Je(an)}})}).catch(Je)});return $(mt,nt),mt}function Q(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,Ce,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.clear();Wt.oncomplete=function(){mt()},Wt.onabort=Wt.onerror=function(){var vn=un.error?un.error:un.transaction.error;ut(vn)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ie,Ee),Ie}function xs(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,te,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.count();un.onsuccess=function(){mt(un.result)},un.onerror=function(){ut(un.error)}}catch(vn){ut(vn)}})}).catch(ut)});return $(Ie,Ee),Ie}function Qn(Ee,nt){var Ie=this,mt=new B(function(ut,Je){if(Ee<0){ut(null);return}Ie.ready().then(function(){tt(Ie._dbInfo,te,function(Wt,nn){if(Wt)return Je(Wt);try{var un=nn.objectStore(Ie._dbInfo.storeName),vn=!1,an=un.openKeyCursor();an.onsuccess=function(){var ho=an.result;if(!ho){ut(null);return}Ee===0||vn?ut(ho.key):(vn=!0,ho.advance(Ee))},an.onerror=function(){Je(an.error)}}catch(ho){Je(ho)}})}).catch(Je)});return $(mt,nt),mt}function tn(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){tt(nt._dbInfo,te,function(Je,Wt){if(Je)return ut(Je);try{var nn=Wt.objectStore(nt._dbInfo.storeName),un=nn.openKeyCursor(),vn=[];un.onsuccess=function(){var an=un.result;if(!an){mt(vn);return}vn.push(an.key),an.continue()},un.onerror=function(){ut(un.error)}}catch(an){ut(an)}})}).catch(ut)});return $(Ie,Ee),Ie}function To(Ee,nt){nt=X.apply(this,arguments);var Ie=this.config();Ee=typeof Ee!="function"&&Ee||{},Ee.name||(Ee.name=Ee.name||Ie.name,Ee.storeName=Ee.storeName||Ie.storeName);var mt=this,ut;if(!Ee.name)ut=B.reject("Invalid arguments");else{var Je=Ee.name===Ie.name&&mt._dbInfo.db,Wt=Je?B.resolve(mt._dbInfo.db):D(Ee).then(function(nn){var un=Le[Ee.name],vn=un.forages;un.db=nn;for(var an=0;an<vn.length;an++)vn[an]._dbInfo.db=nn;return nn});Ee.storeName?ut=Wt.then(function(nn){if(nn.objectStoreNames.contains(Ee.storeName)){var un=nn.version+1;qe(Ee);var vn=Le[Ee.name],an=vn.forages;nn.close();for(var ho=0;ho<an.length;ho++){var sn=an[ho];sn._dbInfo.db=null,sn._dbInfo.version=un}var Ss=new B(function(Po,Zo){var Or=O.open(Ee.name,un);Or.onerror=function(_o){var Il=Or.result;Il.close(),Zo(_o)},Or.onupgradeneeded=function(){var _o=Or.result;_o.deleteObjectStore(Ee.storeName)},Or.onsuccess=function(){var _o=Or.result;_o.close(),Po(_o)}});return Ss.then(function(Po){vn.db=Po;for(var Zo=0;Zo<an.length;Zo++){var Or=an[Zo];Or._dbInfo.db=Po,st(Or._dbInfo)}}).catch(function(Po){throw(Se(Ee,Po)||B.resolve()).catch(function(){}),Po})}}):ut=Wt.then(function(nn){qe(Ee);var un=Le[Ee.name],vn=un.forages;nn.close();for(var an=0;an<vn.length;an++){var ho=vn[an];ho._dbInfo.db=null}var sn=new B(function(Ss,Po){var Zo=O.deleteDatabase(Ee.name);Zo.onerror=function(){var Or=Zo.result;Or&&Or.close(),Po(Zo.error)},Zo.onblocked=function(){console.warn('dropInstance blocked for database "'+Ee.name+'" until all open connections are closed')},Zo.onsuccess=function(){var Or=Zo.result;Or&&Or.close(),Ss(Or)}});return sn.then(function(Ss){un.db=Ss;for(var Po=0;Po<vn.length;Po++){var Zo=vn[Po];st(Zo._dbInfo)}}).catch(function(Ss){throw(Se(Ee,Ss)||B.resolve()).catch(function(){}),Ss})})}return $(ut,nt),ut}var je={_driver:"asyncStorage",_initStorage:Mt,_support:V(),iterate:Fn,getItem:no,setItem:fn,removeItem:_n,clear:Q,length:xs,key:Qn,keys:tn,dropInstance:To};function re(){return typeof openDatabase=="function"}var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pe="~~local_forage_type~",he=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",zt=gt.length,vt="arbf",Ft="blob",Vt="si08",wn="ui08",cn="uic8",An="si16",On="si32",wo="ur16",Oo="ui32",Ho="fl32",cs="fl64",rr=zt+vt.length,fs=Object.prototype.toString;function Tr(Ee){var nt=Ee.length*.75,Ie=Ee.length,mt,ut=0,Je,Wt,nn,un;Ee[Ee.length-1]==="="&&(nt--,Ee[Ee.length-2]==="="&&nt--);var vn=new ArrayBuffer(nt),an=new Uint8Array(vn);for(mt=0;mt<Ie;mt+=4)Je=be.indexOf(Ee[mt]),Wt=be.indexOf(Ee[mt+1]),nn=be.indexOf(Ee[mt+2]),un=be.indexOf(Ee[mt+3]),an[ut++]=Je<<2|Wt>>4,an[ut++]=(Wt&15)<<4|nn>>2,an[ut++]=(nn&3)<<6|un&63;return vn}function hn(Ee){var nt=new Uint8Array(Ee),Ie="",mt;for(mt=0;mt<nt.length;mt+=3)Ie+=be[nt[mt]>>2],Ie+=be[(nt[mt]&3)<<4|nt[mt+1]>>4],Ie+=be[(nt[mt+1]&15)<<2|nt[mt+2]>>6],Ie+=be[nt[mt+2]&63];return nt.length%3===2?Ie=Ie.substring(0,Ie.length-1)+"=":nt.length%3===1&&(Ie=Ie.substring(0,Ie.length-2)+"=="),Ie}function Eo(Ee,nt){var Ie="";if(Ee&&(Ie=fs.call(Ee)),Ee&&(Ie==="[object ArrayBuffer]"||Ee.buffer&&fs.call(Ee.buffer)==="[object ArrayBuffer]")){var mt,ut=gt;Ee instanceof ArrayBuffer?(mt=Ee,ut+=vt):(mt=Ee.buffer,Ie==="[object Int8Array]"?ut+=Vt:Ie==="[object Uint8Array]"?ut+=wn:Ie==="[object Uint8ClampedArray]"?ut+=cn:Ie==="[object Int16Array]"?ut+=An:Ie==="[object Uint16Array]"?ut+=wo:Ie==="[object Int32Array]"?ut+=On:Ie==="[object Uint32Array]"?ut+=Oo:Ie==="[object Float32Array]"?ut+=Ho:Ie==="[object Float64Array]"?ut+=cs:nt(new Error("Failed to get type for BinaryArray"))),nt(ut+hn(mt))}else if(Ie==="[object Blob]"){var Je=new FileReader;Je.onload=function(){var Wt=Pe+Ee.type+"~"+hn(this.result);nt(gt+Ft+Wt)},Je.readAsArrayBuffer(Ee)}else try{nt(JSON.stringify(Ee))}catch(Wt){console.error("Couldn't convert value into a JSON string: ",Ee),nt(null,Wt)}}function vo(Ee){if(Ee.substring(0,zt)!==gt)return JSON.parse(Ee);var nt=Ee.substring(rr),Ie=Ee.substring(zt,rr),mt;if(Ie===Ft&&he.test(nt)){var ut=nt.match(he);mt=ut[1],nt=nt.substring(ut[0].length)}var Je=Tr(nt);switch(Ie){case vt:return Je;case Ft:return P([Je],{type:mt});case Vt:return new Int8Array(Je);case wn:return new Uint8Array(Je);case cn:return new Uint8ClampedArray(Je);case An:return new Int16Array(Je);case wo:return new Uint16Array(Je);case On:return new Int32Array(Je);case Oo:return new Uint32Array(Je);case Ho:return new Float32Array(Je);case cs:return new Float64Array(Je);default:throw new Error("Unkown type: "+Ie)}}var tr={serialize:Eo,deserialize:vo,stringToBuffer:Tr,bufferToString:hn};function ea(Ee,nt,Ie,mt){Ee.executeSql("CREATE TABLE IF NOT EXISTS "+nt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ie,mt)}function Kt(Ee){var nt=this,Ie={db:null};if(Ee)for(var mt in Ee)Ie[mt]=typeof Ee[mt]!="string"?Ee[mt].toString():Ee[mt];var ut=new B(function(Je,Wt){try{Ie.db=openDatabase(Ie.name,String(Ie.version),Ie.description,Ie.size)}catch(nn){return Wt(nn)}Ie.db.transaction(function(nn){ea(nn,Ie,function(){nt._dbInfo=Ie,Je()},function(un,vn){Wt(vn)})},Wt)});return Ie.serializer=tr,ut}function gi(Ee,nt,Ie,mt,ut,Je){Ee.executeSql(Ie,mt,ut,function(Wt,nn){nn.code===nn.SYNTAX_ERR?Wt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[nt.storeName],function(un,vn){vn.rows.length?Je(un,nn):ea(un,nt,function(){un.executeSql(Ie,mt,ut,Je)},Je)},Je):Je(Wt,nn)},Je)}function ss(Ee,nt){var Ie=this;Ee=K(Ee);var mt=new B(function(ut,Je){Ie.ready().then(function(){var Wt=Ie._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName+" WHERE key = ? LIMIT 1",[Ee],function(un,vn){var an=vn.rows.length?vn.rows.item(0).value:null;an&&(an=Wt.serializer.deserialize(an)),ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Ul(Ee,nt){var Ie=this,mt=new B(function(ut,Je){Ie.ready().then(function(){var Wt=Ie._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT * FROM "+Wt.storeName,[],function(un,vn){for(var an=vn.rows,ho=an.length,sn=0;sn<ho;sn++){var Ss=an.item(sn),Po=Ss.value;if(Po&&(Po=Wt.serializer.deserialize(Po)),Po=Ee(Po,Ss.key,sn+1),Po!==void 0){ut(Po);return}}ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function zs(Ee,nt,Ie,mt){var ut=this;Ee=K(Ee);var Je=new B(function(Wt,nn){ut.ready().then(function(){nt===void 0&&(nt=null);var un=nt,vn=ut._dbInfo;vn.serializer.serialize(nt,function(an,ho){ho?nn(ho):vn.db.transaction(function(sn){gi(sn,vn,"INSERT OR REPLACE INTO "+vn.storeName+" (key, value) VALUES (?, ?)",[Ee,an],function(){Wt(un)},function(Ss,Po){nn(Po)})},function(sn){if(sn.code===sn.QUOTA_ERR){if(mt>0){Wt(zs.apply(ut,[Ee,un,Ie,mt-1]));return}nn(sn)}})})}).catch(nn)});return $(Je,Ie),Je}function ei(Ee,nt,Ie){return zs.apply(this,[Ee,nt,Ie,1])}function bm(Ee,nt){var Ie=this;Ee=K(Ee);var mt=new B(function(ut,Je){Ie.ready().then(function(){var Wt=Ie._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"DELETE FROM "+Wt.storeName+" WHERE key = ?",[Ee],function(){ut()},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Iu(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"DELETE FROM "+Je.storeName,[],function(){mt()},function(nn,un){ut(un)})})}).catch(ut)});return $(Ie,Ee),Ie}function wc(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"SELECT COUNT(key) as c FROM "+Je.storeName,[],function(nn,un){var vn=un.rows.item(0).c;mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ie,Ee),Ie}function ul(Ee,nt){var Ie=this,mt=new B(function(ut,Je){Ie.ready().then(function(){var Wt=Ie._dbInfo;Wt.db.transaction(function(nn){gi(nn,Wt,"SELECT key FROM "+Wt.storeName+" WHERE id = ? LIMIT 1",[Ee+1],function(un,vn){var an=vn.rows.length?vn.rows.item(0).key:null;ut(an)},function(un,vn){Je(vn)})})}).catch(Je)});return $(mt,nt),mt}function Nu(Ee){var nt=this,Ie=new B(function(mt,ut){nt.ready().then(function(){var Je=nt._dbInfo;Je.db.transaction(function(Wt){gi(Wt,Je,"SELECT key FROM "+Je.storeName,[],function(nn,un){for(var vn=[],an=0;an<un.rows.length;an++)vn.push(un.rows.item(an).key);mt(vn)},function(nn,un){ut(un)})})}).catch(ut)});return $(Ie,Ee),Ie}function Ts(Ee){return new B(function(nt,Ie){Ee.transaction(function(mt){mt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Je){for(var Wt=[],nn=0;nn<Je.rows.length;nn++)Wt.push(Je.rows.item(nn).name);nt({db:Ee,storeNames:Wt})},function(ut,Je){Ie(Je)})},function(mt){Ie(mt)})})}function io(Ee,nt){nt=X.apply(this,arguments);var Ie=this.config();Ee=typeof Ee!="function"&&Ee||{},Ee.name||(Ee.name=Ee.name||Ie.name,Ee.storeName=Ee.storeName||Ie.storeName);var mt=this,ut;return Ee.name?ut=new B(function(Je){var Wt;Ee.name===Ie.name?Wt=mt._dbInfo.db:Wt=openDatabase(Ee.name,"","",0),Ee.storeName?Je({db:Wt,storeNames:[Ee.storeName]}):Je(Ts(Wt))}).then(function(Je){return new B(function(Wt,nn){Je.db.transaction(function(un){function vn(Ss){return new B(function(Po,Zo){un.executeSql("DROP TABLE IF EXISTS "+Ss,[],function(){Po()},function(Or,_o){Zo(_o)})})}for(var an=[],ho=0,sn=Je.storeNames.length;ho<sn;ho++)an.push(vn(Je.storeNames[ho]));B.all(an).then(function(){Wt()}).catch(function(Ss){nn(Ss)})},function(un){nn(un)})})}):ut=B.reject("Invalid arguments"),$(ut,nt),ut}var Wl={_driver:"webSQLStorage",_initStorage:Kt,_support:re(),iterate:Ul,getItem:ss,setItem:ei,removeItem:bm,clear:Iu,length:wc,key:ul,keys:Nu,dropInstance:io};function Ti(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Pu(Ee,nt){var Ie=Ee.name+"/";return Ee.storeName!==nt.storeName&&(Ie+=Ee.storeName+"/"),Ie}function rn(){var Ee="_localforage_support_test";try{return localStorage.setItem(Ee,!0),localStorage.removeItem(Ee),!1}catch{return!0}}function Mu(){return!rn()||localStorage.length>0}function ym(Ee){var nt=this,Ie={};if(Ee)for(var mt in Ee)Ie[mt]=Ee[mt];return Ie.keyPrefix=Pu(Ee,nt._defaultConfig),Mu()?(nt._dbInfo=Ie,Ie.serializer=tr,B.resolve()):B.reject()}function mr(Ee){var nt=this,Ie=nt.ready().then(function(){for(var mt=nt._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Je=localStorage.key(ut);Je.indexOf(mt)===0&&localStorage.removeItem(Je)}});return $(Ie,Ee),Ie}function xm(Ee,nt){var Ie=this;Ee=K(Ee);var mt=Ie.ready().then(function(){var ut=Ie._dbInfo,Je=localStorage.getItem(ut.keyPrefix+Ee);return Je&&(Je=ut.serializer.deserialize(Je)),Je});return $(mt,nt),mt}function Ga(Ee,nt){var Ie=this,mt=Ie.ready().then(function(){for(var ut=Ie._dbInfo,Je=ut.keyPrefix,Wt=Je.length,nn=localStorage.length,un=1,vn=0;vn<nn;vn++){var an=localStorage.key(vn);if(an.indexOf(Je)===0){var ho=localStorage.getItem(an);if(ho&&(ho=ut.serializer.deserialize(ho)),ho=Ee(ho,an.substring(Wt),un++),ho!==void 0)return ho}}});return $(mt,nt),mt}function Dl(Ee,nt){var Ie=this,mt=Ie.ready().then(function(){var ut=Ie._dbInfo,Je;try{Je=localStorage.key(Ee)}catch{Je=null}return Je&&(Je=Je.substring(ut.keyPrefix.length)),Je});return $(mt,nt),mt}function dl(Ee){var nt=this,Ie=nt.ready().then(function(){for(var mt=nt._dbInfo,ut=localStorage.length,Je=[],Wt=0;Wt<ut;Wt++){var nn=localStorage.key(Wt);nn.indexOf(mt.keyPrefix)===0&&Je.push(nn.substring(mt.keyPrefix.length))}return Je});return $(Ie,Ee),Ie}function ir(Ee){var nt=this,Ie=nt.keys().then(function(mt){return mt.length});return $(Ie,Ee),Ie}function Ca(Ee,nt){var Ie=this;Ee=K(Ee);var mt=Ie.ready().then(function(){var ut=Ie._dbInfo;localStorage.removeItem(ut.keyPrefix+Ee)});return $(mt,nt),mt}function Rl(Ee,nt,Ie){var mt=this;Ee=K(Ee);var ut=mt.ready().then(function(){nt===void 0&&(nt=null);var Je=nt;return new B(function(Wt,nn){var un=mt._dbInfo;un.serializer.serialize(nt,function(vn,an){if(an)nn(an);else try{localStorage.setItem(un.keyPrefix+Ee,vn),Wt(Je)}catch(ho){(ho.name==="QuotaExceededError"||ho.name==="NS_ERROR_DOM_QUOTA_REACHED")&&nn(ho),nn(ho)}})})});return $(ut,Ie),ut}function wm(Ee,nt){if(nt=X.apply(this,arguments),Ee=typeof Ee!="function"&&Ee||{},!Ee.name){var Ie=this.config();Ee.name=Ee.name||Ie.name,Ee.storeName=Ee.storeName||Ie.storeName}var mt=this,ut;return Ee.name?ut=new B(function(Je){Ee.storeName?Je(Pu(Ee,mt._defaultConfig)):Je(Ee.name+"/")}).then(function(Je){for(var Wt=localStorage.length-1;Wt>=0;Wt--){var nn=localStorage.key(Wt);nn.indexOf(Je)===0&&localStorage.removeItem(nn)}}):ut=B.reject("Invalid arguments"),$(ut,nt),ut}var Kc={_driver:"localStorageWrapper",_initStorage:ym,_support:Ti(),iterate:Ga,getItem:xm,setItem:Rl,removeItem:Ca,clear:mr,length:ir,key:Dl,keys:dl,dropInstance:wm},Gc=function(nt,Ie){return nt===Ie||typeof nt=="number"&&typeof Ie=="number"&&isNaN(nt)&&isNaN(Ie)},uf=function(nt,Ie){for(var mt=nt.length,ut=0;ut<mt;){if(Gc(nt[ut],Ie))return!0;ut++}return!1},_d=Array.isArray||function(Ee){return Object.prototype.toString.call(Ee)==="[object Array]"},rs={},Lr={},ii={INDEXEDDB:je,WEBSQL:Wl,LOCALSTORAGE:Kc},Cm=[ii.INDEXEDDB._driver,ii.WEBSQL._driver,ii.LOCALSTORAGE._driver],qa=["dropInstance"],qc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(qa),_a={description:"",driver:Cm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Sa(Ee,nt){Ee[nt]=function(){var Ie=arguments;return Ee.ready().then(function(){return Ee[nt].apply(Ee,Ie)})}}function Yc(){for(var Ee=1;Ee<arguments.length;Ee++){var nt=arguments[Ee];if(nt)for(var Ie in nt)nt.hasOwnProperty(Ie)&&(_d(nt[Ie])?arguments[0][Ie]=nt[Ie].slice():arguments[0][Ie]=nt[Ie])}return arguments[0]}var Is=function(){function Ee(nt){x(this,Ee);for(var Ie in ii)if(ii.hasOwnProperty(Ie)){var mt=ii[Ie],ut=mt._driver;this[Ie]=ut,rs[ut]||this.defineDriver(mt)}this._defaultConfig=Yc({},_a),this._config=Yc({},this._defaultConfig,nt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ee.prototype.config=function(Ie){if((typeof Ie>"u"?"undefined":v(Ie))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var mt in Ie){if(mt==="storeName"&&(Ie[mt]=Ie[mt].replace(/\W/g,"_")),mt==="version"&&typeof Ie[mt]!="number")return new Error("Database version must be a number.");this._config[mt]=Ie[mt]}return"driver"in Ie&&Ie.driver?this.setDriver(this._config.driver):!0}else return typeof Ie=="string"?this._config[Ie]:this._config},Ee.prototype.defineDriver=function(Ie,mt,ut){var Je=new B(function(Wt,nn){try{var un=Ie._driver,vn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ie._driver){nn(vn);return}for(var an=qc.concat("_initStorage"),ho=0,sn=an.length;ho<sn;ho++){var Ss=an[ho],Po=!uf(qa,Ss);if((Po||Ie[Ss])&&typeof Ie[Ss]!="function"){nn(vn);return}}var Zo=function(){for(var Il=function(wr){return function(){var Sd=new Error("Method "+wr+" is not implemented by the current driver"),$r=B.reject(Sd);return $($r,arguments[arguments.length-1]),$r}},ta=0,co=qa.length;ta<co;ta++){var Ya=qa[ta];Ie[Ya]||(Ie[Ya]=Il(Ya))}};Zo();var Or=function(Il){rs[un]&&console.info("Redefining LocalForage driver: "+un),rs[un]=Ie,Lr[un]=Il,Wt()};"_support"in Ie?Ie._support&&typeof Ie._support=="function"?Ie._support().then(Or,nn):Or(!!Ie._support):Or(!0)}catch(_o){nn(_o)}});return Z(Je,mt,ut),Je},Ee.prototype.driver=function(){return this._driver||null},Ee.prototype.getDriver=function(Ie,mt,ut){var Je=rs[Ie]?B.resolve(rs[Ie]):B.reject(new Error("Driver not found."));return Z(Je,mt,ut),Je},Ee.prototype.getSerializer=function(Ie){var mt=B.resolve(tr);return Z(mt,Ie),mt},Ee.prototype.ready=function(Ie){var mt=this,ut=mt._driverSet.then(function(){return mt._ready===null&&(mt._ready=mt._initDriver()),mt._ready});return Z(ut,Ie,Ie),ut},Ee.prototype.setDriver=function(Ie,mt,ut){var Je=this;_d(Ie)||(Ie=[Ie]);var Wt=this._getSupportedDrivers(Ie);function nn(){Je._config.driver=Je.driver()}function un(ho){return Je._extend(ho),nn(),Je._ready=Je._initStorage(Je._config),Je._ready}function vn(ho){return function(){var sn=0;function Ss(){for(;sn<ho.length;){var Po=ho[sn];return sn++,Je._dbInfo=null,Je._ready=null,Je.getDriver(Po).then(un).catch(Ss)}nn();var Zo=new Error("No available storage method found.");return Je._driverSet=B.reject(Zo),Je._driverSet}return Ss()}}var an=this._driverSet!==null?this._driverSet.catch(function(){return B.resolve()}):B.resolve();return this._driverSet=an.then(function(){var ho=Wt[0];return Je._dbInfo=null,Je._ready=null,Je.getDriver(ho).then(function(sn){Je._driver=sn._driver,nn(),Je._wrapLibraryMethodsWithReady(),Je._initDriver=vn(Wt)})}).catch(function(){nn();var ho=new Error("No available storage method found.");return Je._driverSet=B.reject(ho),Je._driverSet}),Z(this._driverSet,mt,ut),this._driverSet},Ee.prototype.supports=function(Ie){return!!Lr[Ie]},Ee.prototype._extend=function(Ie){Yc(this,Ie)},Ee.prototype._getSupportedDrivers=function(Ie){for(var mt=[],ut=0,Je=Ie.length;ut<Je;ut++){var Wt=Ie[ut];this.supports(Wt)&&mt.push(Wt)}return mt},Ee.prototype._wrapLibraryMethodsWithReady=function(){for(var Ie=0,mt=qc.length;Ie<mt;Ie++)Sa(this,qc[Ie])},Ee.prototype.createInstance=function(Ie){return new Ee(Ie)},Ee}(),ar=new Is;d.exports=ar},{3:3}]},{},[4])(4)})})(ZX);var Xme=ZX.exports;const Cd=BU(Xme);function jX(n,r){return function(){return n.apply(r,arguments)}}const{toString:Jme}=Object.prototype,{getPrototypeOf:LU}=Object,J8=(n=>r=>{const l=Jme.call(r);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Gh=n=>(n=n.toLowerCase(),r=>J8(r)===n),Q8=n=>r=>typeof r===n,{isArray:Qk}=Array,eD=Q8("undefined");function Qme(n){return n!==null&&!eD(n)&&n.constructor!==null&&!eD(n.constructor)&&fm(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const KX=Gh("ArrayBuffer");function ege(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&KX(n.buffer),r}const tge=Q8("string"),fm=Q8("function"),GX=Q8("number"),eL=n=>n!==null&&typeof n=="object",nge=n=>n===!0||n===!1,n8=n=>{if(J8(n)!=="object")return!1;const r=LU(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},oge=Gh("Date"),sge=Gh("File"),rge=Gh("Blob"),ige=Gh("FileList"),age=n=>eL(n)&&fm(n.pipe),lge=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||fm(n.append)&&((r=J8(n))==="formdata"||r==="object"&&fm(n.toString)&&n.toString()==="[object FormData]"))},cge=Gh("URLSearchParams"),[uge,dge,fge,mge]=["ReadableStream","Request","Response","Headers"].map(Gh),gge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ED(n,r,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let d,g;if(typeof n!="object"&&(n=[n]),Qk(n))for(d=0,g=n.length;d<g;d++)r.call(null,n[d],d,n);else{const v=l?Object.getOwnPropertyNames(n):Object.keys(n),x=v.length;let S;for(d=0;d<x;d++)S=v[d],r.call(null,n[S],S,n)}}function qX(n,r){r=r.toLowerCase();const l=Object.keys(n);let d=l.length,g;for(;d-- >0;)if(g=l[d],r===g.toLowerCase())return g;return null}const Jw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YX=n=>!eD(n)&&n!==Jw;function L$(){const{caseless:n}=YX(this)&&this||{},r={},l=(d,g)=>{const v=n&&qX(r,g)||g;n8(r[v])&&n8(d)?r[v]=L$(r[v],d):n8(d)?r[v]=L$({},d):Qk(d)?r[v]=d.slice():r[v]=d};for(let d=0,g=arguments.length;d<g;d++)arguments[d]&&ED(arguments[d],l);return r}const hge=(n,r,l,{allOwnKeys:d}={})=>(ED(r,(g,v)=>{l&&fm(g)?n[v]=jX(g,l):n[v]=g},{allOwnKeys:d}),n),pge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),vge=(n,r,l,d)=>{n.prototype=Object.create(r.prototype,d),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),l&&Object.assign(n.prototype,l)},bge=(n,r,l,d)=>{let g,v,x;const S={};if(r=r||{},n==null)return r;do{for(g=Object.getOwnPropertyNames(n),v=g.length;v-- >0;)x=g[v],(!d||d(x,n,r))&&!S[x]&&(r[x]=n[x],S[x]=!0);n=l!==!1&&LU(n)}while(n&&(!l||l(n,r))&&n!==Object.prototype);return r},yge=(n,r,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=r.length;const d=n.indexOf(r,l);return d!==-1&&d===l},xge=n=>{if(!n)return null;if(Qk(n))return n;let r=n.length;if(!GX(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=n[r];return l},wge=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&LU(Uint8Array)),Cge=(n,r)=>{const d=(n&&n[Symbol.iterator]).call(n);let g;for(;(g=d.next())&&!g.done;){const v=g.value;r.call(n,v[0],v[1])}},_ge=(n,r)=>{let l;const d=[];for(;(l=n.exec(r))!==null;)d.push(l);return d},Sge=Gh("HTMLFormElement"),kge=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,d,g){return d.toUpperCase()+g}),WG=(({hasOwnProperty:n})=>(r,l)=>n.call(r,l))(Object.prototype),Ege=Gh("RegExp"),XX=(n,r)=>{const l=Object.getOwnPropertyDescriptors(n),d={};ED(l,(g,v)=>{let x;(x=r(g,v,n))!==!1&&(d[v]=x||g)}),Object.defineProperties(n,d)},Age=n=>{XX(n,(r,l)=>{if(fm(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const d=n[l];if(fm(d)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Tge=(n,r)=>{const l={},d=g=>{g.forEach(v=>{l[v]=!0})};return Qk(n)?d(n):d(String(n).split(r)),l},Oge=()=>{},Dge=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r,YH="abcdefghijklmnopqrstuvwxyz",ZG="0123456789",JX={DIGIT:ZG,ALPHA:YH,ALPHA_DIGIT:YH+YH.toUpperCase()+ZG},Rge=(n=16,r=JX.ALPHA_DIGIT)=>{let l="";const{length:d}=r;for(;n--;)l+=r[Math.random()*d|0];return l};function Ige(n){return!!(n&&fm(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Nge=n=>{const r=new Array(10),l=(d,g)=>{if(eL(d)){if(r.indexOf(d)>=0)return;if(!("toJSON"in d)){r[g]=d;const v=Qk(d)?[]:{};return ED(d,(x,S)=>{const O=l(x,g+1);!eD(O)&&(v[S]=O)}),r[g]=void 0,v}}return d};return l(n,0)},Pge=Gh("AsyncFunction"),Mge=n=>n&&(eL(n)||fm(n))&&fm(n.then)&&fm(n.catch),QX=((n,r)=>n?setImmediate:r?((l,d)=>(Jw.addEventListener("message",({source:g,data:v})=>{g===Jw&&v===l&&d.length&&d.shift()()},!1),g=>{d.push(g),Jw.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",fm(Jw.postMessage)),Bge=typeof queueMicrotask<"u"?queueMicrotask.bind(Jw):typeof process<"u"&&process.nextTick||QX,jt={isArray:Qk,isArrayBuffer:KX,isBuffer:Qme,isFormData:lge,isArrayBufferView:ege,isString:tge,isNumber:GX,isBoolean:nge,isObject:eL,isPlainObject:n8,isReadableStream:uge,isRequest:dge,isResponse:fge,isHeaders:mge,isUndefined:eD,isDate:oge,isFile:sge,isBlob:rge,isRegExp:Ege,isFunction:fm,isStream:age,isURLSearchParams:cge,isTypedArray:wge,isFileList:ige,forEach:ED,merge:L$,extend:hge,trim:gge,stripBOM:pge,inherits:vge,toFlatObject:bge,kindOf:J8,kindOfTest:Gh,endsWith:yge,toArray:xge,forEachEntry:Cge,matchAll:_ge,isHTMLForm:Sge,hasOwnProperty:WG,hasOwnProp:WG,reduceDescriptors:XX,freezeMethods:Age,toObjectSet:Tge,toCamelCase:kge,noop:Oge,toFiniteNumber:Dge,findKey:qX,global:Jw,isContextDefined:YX,ALPHABET:JX,generateString:Rge,isSpecCompliantForm:Ige,toJSONObject:Nge,isAsyncFn:Pge,isThenable:Mge,setImmediate:QX,asap:Bge};function $s(n,r,l,d,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),d&&(this.request=d),g&&(this.response=g,this.status=g.status?g.status:null)}jt.inherits($s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jt.toJSONObject(this.config),code:this.code,status:this.status}}});const eJ=$s.prototype,tJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{tJ[n]={value:n}});Object.defineProperties($s,tJ);Object.defineProperty(eJ,"isAxiosError",{value:!0});$s.from=(n,r,l,d,g,v)=>{const x=Object.create(eJ);return jt.toFlatObject(n,x,function(O){return O!==Error.prototype},S=>S!=="isAxiosError"),$s.call(x,n.message,r,l,d,g),x.cause=n,x.name=n.name,v&&Object.assign(x,v),x};const Lge=null;function F$(n){return jt.isPlainObject(n)||jt.isArray(n)}function nJ(n){return jt.endsWith(n,"[]")?n.slice(0,-2):n}function jG(n,r,l){return n?n.concat(r).map(function(g,v){return g=nJ(g),!l&&v?"["+g+"]":g}).join(l?".":""):r}function Fge(n){return jt.isArray(n)&&!n.some(F$)}const Vge=jt.toFlatObject(jt,{},null,function(r){return/^is[A-Z]/.test(r)});function tL(n,r,l){if(!jt.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,l=jt.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,ae){return!jt.isUndefined(ae[X])});const d=l.metaTokens,g=l.visitor||P,v=l.dots,x=l.indexes,O=(l.Blob||typeof Blob<"u"&&Blob)&&jt.isSpecCompliantForm(r);if(!jt.isFunction(g))throw new TypeError("visitor must be a function");function V(K){if(K===null)return"";if(jt.isDate(K))return K.toISOString();if(!O&&jt.isBlob(K))throw new $s("Blob is not supported. Use a Buffer instead.");return jt.isArrayBuffer(K)||jt.isTypedArray(K)?O&&typeof Blob=="function"?new Blob([K]):Buffer.from(K):K}function P(K,X,ae){let fe=K;if(K&&!ae&&typeof K=="object"){if(jt.endsWith(X,"{}"))X=d?X:X.slice(0,-2),K=JSON.stringify(K);else if(jt.isArray(K)&&Fge(K)||(jt.isFileList(K)||jt.endsWith(X,"[]"))&&(fe=jt.toArray(K)))return X=nJ(X),fe.forEach(function(Re,te){!(jt.isUndefined(Re)||Re===null)&&r.append(x===!0?jG([X],te,v):x===null?X:X+"[]",V(Re))}),!1}return F$(K)?!0:(r.append(jG(ae,X,v),V(K)),!1)}const B=[],$=Object.assign(Vge,{defaultVisitor:P,convertValue:V,isVisitable:F$});function Z(K,X){if(!jt.isUndefined(K)){if(B.indexOf(K)!==-1)throw Error("Circular reference detected in "+X.join("."));B.push(K),jt.forEach(K,function(fe,Le){(!(jt.isUndefined(fe)||fe===null)&&g.call(r,fe,jt.isString(Le)?Le.trim():Le,X,$))===!0&&Z(fe,X?X.concat(Le):[Le])}),B.pop()}}if(!jt.isObject(n))throw new TypeError("data must be an object");return Z(n),r}function KG(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(d){return r[d]})}function FU(n,r){this._pairs=[],n&&tL(n,this,r)}const oJ=FU.prototype;oJ.append=function(r,l){this._pairs.push([r,l])};oJ.toString=function(r){const l=r?function(d){return r.call(this,d,KG)}:KG;return this._pairs.map(function(g){return l(g[0])+"="+l(g[1])},"").join("&")};function zge(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sJ(n,r,l){if(!r)return n;const d=l&&l.encode||zge,g=l&&l.serialize;let v;if(g?v=g(r,l):v=jt.isURLSearchParams(r)?r.toString():new FU(r,l).toString(d),v){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+v}return n}class GG{constructor(){this.handlers=[]}use(r,l,d){return this.handlers.push({fulfilled:r,rejected:l,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){jt.forEach(this.handlers,function(d){d!==null&&r(d)})}}const rJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hge=typeof URLSearchParams<"u"?URLSearchParams:FU,$ge=typeof FormData<"u"?FormData:null,Uge=typeof Blob<"u"?Blob:null,Wge={isBrowser:!0,classes:{URLSearchParams:Hge,FormData:$ge,Blob:Uge},protocols:["http","https","file","blob","url","data"]},VU=typeof window<"u"&&typeof document<"u",V$=typeof navigator=="object"&&navigator||void 0,Zge=VU&&(!V$||["ReactNative","NativeScript","NS"].indexOf(V$.product)<0),jge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kge=VU&&window.location.href||"http://localhost",Gge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VU,hasStandardBrowserEnv:Zge,hasStandardBrowserWebWorkerEnv:jge,navigator:V$,origin:Kge},Symbol.toStringTag,{value:"Module"})),rf={...Gge,...Wge};function qge(n,r){return tL(n,new rf.classes.URLSearchParams,Object.assign({visitor:function(l,d,g,v){return rf.isNode&&jt.isBuffer(l)?(this.append(d,l.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},r))}function Yge(n){return jt.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Xge(n){const r={},l=Object.keys(n);let d;const g=l.length;let v;for(d=0;d<g;d++)v=l[d],r[v]=n[v];return r}function iJ(n){function r(l,d,g,v){let x=l[v++];if(x==="__proto__")return!0;const S=Number.isFinite(+x),O=v>=l.length;return x=!x&&jt.isArray(g)?g.length:x,O?(jt.hasOwnProp(g,x)?g[x]=[g[x],d]:g[x]=d,!S):((!g[x]||!jt.isObject(g[x]))&&(g[x]=[]),r(l,d,g[x],v)&&jt.isArray(g[x])&&(g[x]=Xge(g[x])),!S)}if(jt.isFormData(n)&&jt.isFunction(n.entries)){const l={};return jt.forEachEntry(n,(d,g)=>{r(Yge(d),g,l,0)}),l}return null}function Jge(n,r,l){if(jt.isString(n))try{return(r||JSON.parse)(n),jt.trim(n)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(n)}const AD={transitional:rJ,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const d=l.getContentType()||"",g=d.indexOf("application/json")>-1,v=jt.isObject(r);if(v&&jt.isHTMLForm(r)&&(r=new FormData(r)),jt.isFormData(r))return g?JSON.stringify(iJ(r)):r;if(jt.isArrayBuffer(r)||jt.isBuffer(r)||jt.isStream(r)||jt.isFile(r)||jt.isBlob(r)||jt.isReadableStream(r))return r;if(jt.isArrayBufferView(r))return r.buffer;if(jt.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let S;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return qge(r,this.formSerializer).toString();if((S=jt.isFileList(r))||d.indexOf("multipart/form-data")>-1){const O=this.env&&this.env.FormData;return tL(S?{"files[]":r}:r,O&&new O,this.formSerializer)}}return v||g?(l.setContentType("application/json",!1),Jge(r)):r}],transformResponse:[function(r){const l=this.transitional||AD.transitional,d=l&&l.forcedJSONParsing,g=this.responseType==="json";if(jt.isResponse(r)||jt.isReadableStream(r))return r;if(r&&jt.isString(r)&&(d&&!this.responseType||g)){const x=!(l&&l.silentJSONParsing)&&g;try{return JSON.parse(r)}catch(S){if(x)throw S.name==="SyntaxError"?$s.from(S,$s.ERR_BAD_RESPONSE,this,null,this.response):S}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rf.classes.FormData,Blob:rf.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jt.forEach(["delete","get","head","post","put","patch"],n=>{AD.headers[n]={}});const Qge=jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ehe=n=>{const r={};let l,d,g;return n&&n.split(`
`).forEach(function(x){g=x.indexOf(":"),l=x.substring(0,g).trim().toLowerCase(),d=x.substring(g+1).trim(),!(!l||r[l]&&Qge[l])&&(l==="set-cookie"?r[l]?r[l].push(d):r[l]=[d]:r[l]=r[l]?r[l]+", "+d:d)}),r},qG=Symbol("internals");function RO(n){return n&&String(n).trim().toLowerCase()}function o8(n){return n===!1||n==null?n:jt.isArray(n)?n.map(o8):String(n)}function the(n){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=l.exec(n);)r[d[1]]=d[2];return r}const nhe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function XH(n,r,l,d,g){if(jt.isFunction(d))return d.call(this,r,l);if(g&&(r=l),!!jt.isString(r)){if(jt.isString(d))return r.indexOf(d)!==-1;if(jt.isRegExp(d))return d.test(r)}}function ohe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,d)=>l.toUpperCase()+d)}function she(n,r){const l=jt.toCamelCase(" "+r);["get","set","has"].forEach(d=>{Object.defineProperty(n,d+l,{value:function(g,v,x){return this[d].call(this,r,g,v,x)},configurable:!0})})}class af{constructor(r){r&&this.set(r)}set(r,l,d){const g=this;function v(S,O,V){const P=RO(O);if(!P)throw new Error("header name must be a non-empty string");const B=jt.findKey(g,P);(!B||g[B]===void 0||V===!0||V===void 0&&g[B]!==!1)&&(g[B||O]=o8(S))}const x=(S,O)=>jt.forEach(S,(V,P)=>v(V,P,O));if(jt.isPlainObject(r)||r instanceof this.constructor)x(r,l);else if(jt.isString(r)&&(r=r.trim())&&!nhe(r))x(ehe(r),l);else if(jt.isHeaders(r))for(const[S,O]of r.entries())v(O,S,d);else r!=null&&v(l,r,d);return this}get(r,l){if(r=RO(r),r){const d=jt.findKey(this,r);if(d){const g=this[d];if(!l)return g;if(l===!0)return the(g);if(jt.isFunction(l))return l.call(this,g,d);if(jt.isRegExp(l))return l.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=RO(r),r){const d=jt.findKey(this,r);return!!(d&&this[d]!==void 0&&(!l||XH(this,this[d],d,l)))}return!1}delete(r,l){const d=this;let g=!1;function v(x){if(x=RO(x),x){const S=jt.findKey(d,x);S&&(!l||XH(d,d[S],S,l))&&(delete d[S],g=!0)}}return jt.isArray(r)?r.forEach(v):v(r),g}clear(r){const l=Object.keys(this);let d=l.length,g=!1;for(;d--;){const v=l[d];(!r||XH(this,this[v],v,r,!0))&&(delete this[v],g=!0)}return g}normalize(r){const l=this,d={};return jt.forEach(this,(g,v)=>{const x=jt.findKey(d,v);if(x){l[x]=o8(g),delete l[v];return}const S=r?ohe(v):String(v).trim();S!==v&&delete l[v],l[S]=o8(g),d[S]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return jt.forEach(this,(d,g)=>{d!=null&&d!==!1&&(l[g]=r&&jt.isArray(d)?d.join(", "):d)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const d=new this(r);return l.forEach(g=>d.set(g)),d}static accessor(r){const d=(this[qG]=this[qG]={accessors:{}}).accessors,g=this.prototype;function v(x){const S=RO(x);d[S]||(she(g,x),d[S]=!0)}return jt.isArray(r)?r.forEach(v):v(r),this}}af.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);jt.reduceDescriptors(af.prototype,({value:n},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(d){this[l]=d}}});jt.freezeMethods(af);function JH(n,r){const l=this||AD,d=r||l,g=af.from(d.headers);let v=d.data;return jt.forEach(n,function(S){v=S.call(l,v,g.normalize(),r?r.status:void 0)}),g.normalize(),v}function aJ(n){return!!(n&&n.__CANCEL__)}function eE(n,r,l){$s.call(this,n??"canceled",$s.ERR_CANCELED,r,l),this.name="CanceledError"}jt.inherits(eE,$s,{__CANCEL__:!0});function lJ(n,r,l){const d=l.config.validateStatus;!l.status||!d||d(l.status)?n(l):r(new $s("Request failed with status code "+l.status,[$s.ERR_BAD_REQUEST,$s.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function rhe(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function ihe(n,r){n=n||10;const l=new Array(n),d=new Array(n);let g=0,v=0,x;return r=r!==void 0?r:1e3,function(O){const V=Date.now(),P=d[v];x||(x=V),l[g]=O,d[g]=V;let B=v,$=0;for(;B!==g;)$+=l[B++],B=B%n;if(g=(g+1)%n,g===v&&(v=(v+1)%n),V-x<r)return;const Z=P&&V-P;return Z?Math.round($*1e3/Z):void 0}}function ahe(n,r){let l=0,d=1e3/r,g,v;const x=(V,P=Date.now())=>{l=P,g=null,v&&(clearTimeout(v),v=null),n.apply(null,V)};return[(...V)=>{const P=Date.now(),B=P-l;B>=d?x(V,P):(g=V,v||(v=setTimeout(()=>{v=null,x(g)},d-B)))},()=>g&&x(g)]}const _8=(n,r,l=3)=>{let d=0;const g=ihe(50,250);return ahe(v=>{const x=v.loaded,S=v.lengthComputable?v.total:void 0,O=x-d,V=g(O),P=x<=S;d=x;const B={loaded:x,total:S,progress:S?x/S:void 0,bytes:O,rate:V||void 0,estimated:V&&S&&P?(S-x)/V:void 0,event:v,lengthComputable:S!=null,[r?"download":"upload"]:!0};n(B)},l)},YG=(n,r)=>{const l=n!=null;return[d=>r[0]({lengthComputable:l,total:n,loaded:d}),r[1]]},XG=n=>(...r)=>jt.asap(()=>n(...r)),lhe=rf.hasStandardBrowserEnv?function(){const r=rf.navigator&&/(msie|trident)/i.test(rf.navigator.userAgent),l=document.createElement("a");let d;function g(v){let x=v;return r&&(l.setAttribute("href",x),x=l.href),l.setAttribute("href",x),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return d=g(window.location.href),function(x){const S=jt.isString(x)?g(x):x;return S.protocol===d.protocol&&S.host===d.host}}():function(){return function(){return!0}}(),che=rf.hasStandardBrowserEnv?{write(n,r,l,d,g,v){const x=[n+"="+encodeURIComponent(r)];jt.isNumber(l)&&x.push("expires="+new Date(l).toGMTString()),jt.isString(d)&&x.push("path="+d),jt.isString(g)&&x.push("domain="+g),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uhe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function dhe(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function cJ(n,r){return n&&!uhe(r)?dhe(n,r):r}const JG=n=>n instanceof af?{...n}:n;function cC(n,r){r=r||{};const l={};function d(V,P,B){return jt.isPlainObject(V)&&jt.isPlainObject(P)?jt.merge.call({caseless:B},V,P):jt.isPlainObject(P)?jt.merge({},P):jt.isArray(P)?P.slice():P}function g(V,P,B){if(jt.isUndefined(P)){if(!jt.isUndefined(V))return d(void 0,V,B)}else return d(V,P,B)}function v(V,P){if(!jt.isUndefined(P))return d(void 0,P)}function x(V,P){if(jt.isUndefined(P)){if(!jt.isUndefined(V))return d(void 0,V)}else return d(void 0,P)}function S(V,P,B){if(B in r)return d(V,P);if(B in n)return d(void 0,V)}const O={url:v,method:v,data:v,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:S,headers:(V,P)=>g(JG(V),JG(P),!0)};return jt.forEach(Object.keys(Object.assign({},n,r)),function(P){const B=O[P]||g,$=B(n[P],r[P],P);jt.isUndefined($)&&B!==S||(l[P]=$)}),l}const uJ=n=>{const r=cC({},n);let{data:l,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:x,auth:S}=r;r.headers=x=af.from(x),r.url=sJ(cJ(r.baseURL,r.url),n.params,n.paramsSerializer),S&&x.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):"")));let O;if(jt.isFormData(l)){if(rf.hasStandardBrowserEnv||rf.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((O=x.getContentType())!==!1){const[V,...P]=O?O.split(";").map(B=>B.trim()).filter(Boolean):[];x.setContentType([V||"multipart/form-data",...P].join("; "))}}if(rf.hasStandardBrowserEnv&&(d&&jt.isFunction(d)&&(d=d(r)),d||d!==!1&&lhe(r.url))){const V=g&&v&&che.read(v);V&&x.set(g,V)}return r},fhe=typeof XMLHttpRequest<"u",mhe=fhe&&function(n){return new Promise(function(l,d){const g=uJ(n);let v=g.data;const x=af.from(g.headers).normalize();let{responseType:S,onUploadProgress:O,onDownloadProgress:V}=g,P,B,$,Z,K;function X(){Z&&Z(),K&&K(),g.cancelToken&&g.cancelToken.unsubscribe(P),g.signal&&g.signal.removeEventListener("abort",P)}let ae=new XMLHttpRequest;ae.open(g.method.toUpperCase(),g.url,!0),ae.timeout=g.timeout;function fe(){if(!ae)return;const Re=af.from("getAllResponseHeaders"in ae&&ae.getAllResponseHeaders()),Ce={data:!S||S==="text"||S==="json"?ae.responseText:ae.response,status:ae.status,statusText:ae.statusText,headers:Re,config:n,request:ae};lJ(function(Ue){l(Ue),X()},function(Ue){d(Ue),X()},Ce),ae=null}"onloadend"in ae?ae.onloadend=fe:ae.onreadystatechange=function(){!ae||ae.readyState!==4||ae.status===0&&!(ae.responseURL&&ae.responseURL.indexOf("file:")===0)||setTimeout(fe)},ae.onabort=function(){ae&&(d(new $s("Request aborted",$s.ECONNABORTED,n,ae)),ae=null)},ae.onerror=function(){d(new $s("Network Error",$s.ERR_NETWORK,n,ae)),ae=null},ae.ontimeout=function(){let te=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const Ce=g.transitional||rJ;g.timeoutErrorMessage&&(te=g.timeoutErrorMessage),d(new $s(te,Ce.clarifyTimeoutError?$s.ETIMEDOUT:$s.ECONNABORTED,n,ae)),ae=null},v===void 0&&x.setContentType(null),"setRequestHeader"in ae&&jt.forEach(x.toJSON(),function(te,Ce){ae.setRequestHeader(Ce,te)}),jt.isUndefined(g.withCredentials)||(ae.withCredentials=!!g.withCredentials),S&&S!=="json"&&(ae.responseType=g.responseType),V&&([$,K]=_8(V,!0),ae.addEventListener("progress",$)),O&&ae.upload&&([B,Z]=_8(O),ae.upload.addEventListener("progress",B),ae.upload.addEventListener("loadend",Z)),(g.cancelToken||g.signal)&&(P=Re=>{ae&&(d(!Re||Re.type?new eE(null,n,ae):Re),ae.abort(),ae=null)},g.cancelToken&&g.cancelToken.subscribe(P),g.signal&&(g.signal.aborted?P():g.signal.addEventListener("abort",P)));const Le=rhe(g.url);if(Le&&rf.protocols.indexOf(Le)===-1){d(new $s("Unsupported protocol "+Le+":",$s.ERR_BAD_REQUEST,n));return}ae.send(v||null)})},ghe=(n,r)=>{const{length:l}=n=n?n.filter(Boolean):[];if(r||l){let d=new AbortController,g;const v=function(V){if(!g){g=!0,S();const P=V instanceof Error?V:this.reason;d.abort(P instanceof $s?P:new eE(P instanceof Error?P.message:P))}};let x=r&&setTimeout(()=>{x=null,v(new $s(`timeout ${r} of ms exceeded`,$s.ETIMEDOUT))},r);const S=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(V=>{V.unsubscribe?V.unsubscribe(v):V.removeEventListener("abort",v)}),n=null)};n.forEach(V=>V.addEventListener("abort",v));const{signal:O}=d;return O.unsubscribe=()=>jt.asap(S),O}},hhe=function*(n,r){let l=n.byteLength;if(l<r){yield n;return}let d=0,g;for(;d<l;)g=d+r,yield n.slice(d,g),d=g},phe=async function*(n,r){for await(const l of vhe(n))yield*hhe(l,r)},vhe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:l,value:d}=await r.read();if(l)break;yield d}}finally{await r.cancel()}},QG=(n,r,l,d)=>{const g=phe(n,r);let v=0,x,S=O=>{x||(x=!0,d&&d(O))};return new ReadableStream({async pull(O){try{const{done:V,value:P}=await g.next();if(V){S(),O.close();return}let B=P.byteLength;if(l){let $=v+=B;l($)}O.enqueue(new Uint8Array(P))}catch(V){throw S(V),V}},cancel(O){return S(O),g.return()}},{highWaterMark:2})},nL=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dJ=nL&&typeof ReadableStream=="function",bhe=nL&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),fJ=(n,...r)=>{try{return!!n(...r)}catch{return!1}},yhe=dJ&&fJ(()=>{let n=!1;const r=new Request(rf.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),eq=64*1024,z$=dJ&&fJ(()=>jt.isReadableStream(new Response("").body)),S8={stream:z$&&(n=>n.body)};nL&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!S8[r]&&(S8[r]=jt.isFunction(n[r])?l=>l[r]():(l,d)=>{throw new $s(`Response type '${r}' is not supported`,$s.ERR_NOT_SUPPORT,d)})})})(new Response);const xhe=async n=>{if(n==null)return 0;if(jt.isBlob(n))return n.size;if(jt.isSpecCompliantForm(n))return(await new Request(rf.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(jt.isArrayBufferView(n)||jt.isArrayBuffer(n))return n.byteLength;if(jt.isURLSearchParams(n)&&(n=n+""),jt.isString(n))return(await bhe(n)).byteLength},whe=async(n,r)=>{const l=jt.toFiniteNumber(n.getContentLength());return l??xhe(r)},Che=nL&&(async n=>{let{url:r,method:l,data:d,signal:g,cancelToken:v,timeout:x,onDownloadProgress:S,onUploadProgress:O,responseType:V,headers:P,withCredentials:B="same-origin",fetchOptions:$}=uJ(n);V=V?(V+"").toLowerCase():"text";let Z=ghe([g,v&&v.toAbortSignal()],x),K;const X=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let ae;try{if(O&&yhe&&l!=="get"&&l!=="head"&&(ae=await whe(P,d))!==0){let Ce=new Request(r,{method:"POST",body:d,duplex:"half"}),ie;if(jt.isFormData(d)&&(ie=Ce.headers.get("content-type"))&&P.setContentType(ie),Ce.body){const[Ue,We]=YG(ae,_8(XG(O)));d=QG(Ce.body,eq,Ue,We)}}jt.isString(B)||(B=B?"include":"omit");const fe="credentials"in Request.prototype;K=new Request(r,{...$,signal:Z,method:l.toUpperCase(),headers:P.normalize().toJSON(),body:d,duplex:"half",credentials:fe?B:void 0});let Le=await fetch(K);const Re=z$&&(V==="stream"||V==="response");if(z$&&(S||Re&&X)){const Ce={};["status","statusText","headers"].forEach(qe=>{Ce[qe]=Le[qe]});const ie=jt.toFiniteNumber(Le.headers.get("content-length")),[Ue,We]=S&&YG(ie,_8(XG(S),!0))||[];Le=new Response(QG(Le.body,eq,Ue,()=>{We&&We(),X&&X()}),Ce)}V=V||"text";let te=await S8[jt.findKey(S8,V)||"text"](Le,n);return!Re&&X&&X(),await new Promise((Ce,ie)=>{lJ(Ce,ie,{data:te,headers:af.from(Le.headers),status:Le.status,statusText:Le.statusText,config:n,request:K})})}catch(fe){throw X&&X(),fe&&fe.name==="TypeError"&&/fetch/i.test(fe.message)?Object.assign(new $s("Network Error",$s.ERR_NETWORK,n,K),{cause:fe.cause||fe}):$s.from(fe,fe&&fe.code,n,K)}}),H$={http:Lge,xhr:mhe,fetch:Che};jt.forEach(H$,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const tq=n=>`- ${n}`,_he=n=>jt.isFunction(n)||n===null||n===!1,mJ={getAdapter:n=>{n=jt.isArray(n)?n:[n];const{length:r}=n;let l,d;const g={};for(let v=0;v<r;v++){l=n[v];let x;if(d=l,!_he(l)&&(d=H$[(x=String(l)).toLowerCase()],d===void 0))throw new $s(`Unknown adapter '${x}'`);if(d)break;g[x||"#"+v]=d}if(!d){const v=Object.entries(g).map(([S,O])=>`adapter ${S} `+(O===!1?"is not supported by the environment":"is not available in the build"));let x=r?v.length>1?`since :
`+v.map(tq).join(`
`):" "+tq(v[0]):"as no adapter specified";throw new $s("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return d},adapters:H$};function QH(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new eE(null,n)}function nq(n){return QH(n),n.headers=af.from(n.headers),n.data=JH.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mJ.getAdapter(n.adapter||AD.adapter)(n).then(function(d){return QH(n),d.data=JH.call(n,n.transformResponse,d),d.headers=af.from(d.headers),d},function(d){return aJ(d)||(QH(n),d&&d.response&&(d.response.data=JH.call(n,n.transformResponse,d.response),d.response.headers=af.from(d.response.headers))),Promise.reject(d)})}const gJ="1.7.7",zU={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{zU[n]=function(d){return typeof d===n||"a"+(r<1?"n ":" ")+n}});const oq={};zU.transitional=function(r,l,d){function g(v,x){return"[Axios v"+gJ+"] Transitional option '"+v+"'"+x+(d?". "+d:"")}return(v,x,S)=>{if(r===!1)throw new $s(g(x," has been removed"+(l?" in "+l:"")),$s.ERR_DEPRECATED);return l&&!oq[x]&&(oq[x]=!0,console.warn(g(x," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(v,x,S):!0}};function She(n,r,l){if(typeof n!="object")throw new $s("options must be an object",$s.ERR_BAD_OPTION_VALUE);const d=Object.keys(n);let g=d.length;for(;g-- >0;){const v=d[g],x=r[v];if(x){const S=n[v],O=S===void 0||x(S,v,n);if(O!==!0)throw new $s("option "+v+" must be "+O,$s.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new $s("Unknown option "+v,$s.ERR_BAD_OPTION)}}const $$={assertOptions:She,validators:zU},Oy=$$.validators;class sC{constructor(r){this.defaults=r,this.interceptors={request:new GG,response:new GG}}async request(r,l){try{return await this._request(r,l)}catch(d){if(d instanceof Error){let g;Error.captureStackTrace?Error.captureStackTrace(g={}):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=cC(this.defaults,l);const{transitional:d,paramsSerializer:g,headers:v}=l;d!==void 0&&$$.assertOptions(d,{silentJSONParsing:Oy.transitional(Oy.boolean),forcedJSONParsing:Oy.transitional(Oy.boolean),clarifyTimeoutError:Oy.transitional(Oy.boolean)},!1),g!=null&&(jt.isFunction(g)?l.paramsSerializer={serialize:g}:$$.assertOptions(g,{encode:Oy.function,serialize:Oy.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let x=v&&jt.merge(v.common,v[l.method]);v&&jt.forEach(["delete","get","head","post","put","patch","common"],K=>{delete v[K]}),l.headers=af.concat(x,v);const S=[];let O=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(l)===!1||(O=O&&X.synchronous,S.unshift(X.fulfilled,X.rejected))});const V=[];this.interceptors.response.forEach(function(X){V.push(X.fulfilled,X.rejected)});let P,B=0,$;if(!O){const K=[nq.bind(this),void 0];for(K.unshift.apply(K,S),K.push.apply(K,V),$=K.length,P=Promise.resolve(l);B<$;)P=P.then(K[B++],K[B++]);return P}$=S.length;let Z=l;for(B=0;B<$;){const K=S[B++],X=S[B++];try{Z=K(Z)}catch(ae){X.call(this,ae);break}}try{P=nq.call(this,Z)}catch(K){return Promise.reject(K)}for(B=0,$=V.length;B<$;)P=P.then(V[B++],V[B++]);return P}getUri(r){r=cC(this.defaults,r);const l=cJ(r.baseURL,r.url);return sJ(l,r.params,r.paramsSerializer)}}jt.forEach(["delete","get","head","options"],function(r){sC.prototype[r]=function(l,d){return this.request(cC(d||{},{method:r,url:l,data:(d||{}).data}))}});jt.forEach(["post","put","patch"],function(r){function l(d){return function(v,x,S){return this.request(cC(S||{},{method:r,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:x}))}}sC.prototype[r]=l(),sC.prototype[r+"Form"]=l(!0)});class HU{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(v){l=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const x=new Promise(S=>{d.subscribe(S),v=S}).then(g);return x.cancel=function(){d.unsubscribe(v)},x},r(function(v,x,S){d.reason||(d.reason=new eE(v,x,S),l(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=d=>{r.abort(d)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new HU(function(g){r=g}),cancel:r}}}function khe(n){return function(l){return n.apply(null,l)}}function Ehe(n){return jt.isObject(n)&&n.isAxiosError===!0}const U$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U$).forEach(([n,r])=>{U$[r]=n});function hJ(n){const r=new sC(n),l=jX(sC.prototype.request,r);return jt.extend(l,sC.prototype,r,{allOwnKeys:!0}),jt.extend(l,r,null,{allOwnKeys:!0}),l.create=function(g){return hJ(cC(n,g))},l}const Ji=hJ(AD);Ji.Axios=sC;Ji.CanceledError=eE;Ji.CancelToken=HU;Ji.isCancel=aJ;Ji.VERSION=gJ;Ji.toFormData=tL;Ji.AxiosError=$s;Ji.Cancel=Ji.CanceledError;Ji.all=function(r){return Promise.all(r)};Ji.spread=khe;Ji.isAxiosError=Ehe;Ji.mergeConfig=cC;Ji.AxiosHeaders=af;Ji.formToJSON=n=>iJ(jt.isHTMLForm(n)?new FormData(n):n);Ji.getAdapter=mJ.getAdapter;Ji.HttpStatusCode=U$;Ji.default=Ji;/*! js-cookie v3.0.5 | MIT */function UB(n){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var d in l)n[d]=l[d]}return n}var Ahe={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function W$(n,r){function l(g,v,x){if(!(typeof document>"u")){x=UB({},r,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var S="";for(var O in x)x[O]&&(S+="; "+O,x[O]!==!0&&(S+="="+x[O].split(";")[0]));return document.cookie=g+"="+n.write(v,g)+S}}function d(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var v=document.cookie?document.cookie.split("; "):[],x={},S=0;S<v.length;S++){var O=v[S].split("="),V=O.slice(1).join("=");try{var P=decodeURIComponent(O[0]);if(x[P]=n.read(V,P),g===P)break}catch{}}return g?x[g]:x}}return Object.create({set:l,get:d,remove:function(g,v){l(g,"",UB({},v,{expires:-1}))},withAttributes:function(g){return W$(this.converter,UB({},this.attributes,g))},withConverter:function(g){return W$(UB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}var vr=W$(Ahe,{path:"/"});const Vl=class Vl{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"text","");Sn(this,"points",null);Sn(this,"grade_key","");Sn(this,"last_change",null);Sn(this,"is_authorized",!1);Sn(this,"include_comments",null);Sn(this,"include_comment_ratings",null);Sn(this,"include_comment_points",null);Sn(this,"include_criteria_points",null);this.setData(r)}setData(r){r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.text!==void 0&&r.text!==null&&(this.text=r.text.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.grade_key!==void 0&&r.grade_key!==null&&(this.grade_key=r.grade_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change)),r.is_authorized!==void 0&&r.is_authorized!==null&&(this.is_authorized=!!r.is_authorized),r.include_comments!==void 0&&r.include_comments!==null&&(this.include_comments=this.transformInclusion(r.include_comments)),r.include_comment_ratings!==void 0&&r.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(r.include_comment_ratings)),r.include_comment_points!==void 0&&r.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(r.include_comment_points)),r.include_criteria_points!==void 0&&r.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(r.include_criteria_points))}transformInclusion(r){if(r===null)return null;if(r=parseInt(r),r<=Vl.INCLUDE_NOT)return Vl.INCLUDE_NOT;if(r==Vl.INCLUDE_INFO)return Vl.INCLUDE_INFO;if(r>=Vl.INCLUDE_RELEVANT)return Vl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(r={}){return{include_comments:this.include_comments??r.include_comments??Vl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??r.include_comment_ratings??Vl.INCLUDE_INFO,include_comment_points:this.include_comment_points??r.include_comment_points??Vl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??r.include_criteria_points??Vl.INCLUDE_INFO}}getPartialPointsVisible(){this.getInclusionSettings()}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Vl(this.getData())}isEqual(r){for(const l in this)if(this[l]!==r[l])return!1;return!0}};Sn(Vl,"INCLUDE_NOT",0),Sn(Vl,"INCLUDE_INFO",1),Sn(Vl,"INCLUDE_RELEVANT",2),Sn(Vl,"ALLOWED_INCLUSIONS",[Vl.INCLUDE_NOT,Vl.INCLUDE_INFO,Vl.INCLUDE_RELEVANT]);let br=Vl;const e$=Cd.createInstance({storeName:"corrector-settings",description:"Settings data"}),um=Ru("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:"Exzellent",negative_rating:"Kardinal",headline_scheme:null,fixed_inclusions:!1,include_comments:br.INCLUDE_INFO,include_comment_ratings:br.INCLUDE_INFO,include_comment_points:br.INCLUDE_INFO,include_criteria_points:br.INCLUDE_INFO}),getters:{ratingLabels:n=>'"'+n.positive_rating+'" und "'+n.negative_rating+'"',headlineClass:n=>n.headline_scheme==="three"?"headlines-three":"",summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),inclusionsChangeable:n=>n.fixed_inclusions==!1,inclusionsPossible:n=>n.fixed_inclusions==!1||n.include_comments!=br.INCLUDE_NOT||n.include_comment_ratings!=br.INCLUDE_NOT||n.include_comment_points!=br.INCLUDE_NOT||n.include_criteria_points!=br.INCLUDE_NOT},actions:{async clearStorage(){try{await e$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await e$.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await e$.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}}}}),t$=Cd.createInstance({storeName:"corrector-task",description:"Task data"}),Uy=Ru("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:n=>!!n.instructions,hasSolution:n=>!!n.solution,hasCorrectionEnd:n=>!!n.correction_end,correctionEndReached:n=>n.remaining_time===0},actions:{async clearStorage(){try{await t$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{const r=await t$.getItem("task");this.$patch(r)}catch(r){console.log(r)}this.updateRemainingTime(),n.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},async loadFromData(n){const r=ps();try{await t$.setItem("task",n),this.$patch(n)}catch(l){console.log(l)}this.updateRemainingTime(),r.setInterval("taskStore.updateRemainingTime",this.updateRemainingTime,1e3)},updateRemainingTime(){const n=ps();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-n.getServerTime(Date.now())):this.remaining_time=null}}}),p1=Cd.createInstance({storeName:"corrector-resources",description:"Resource data"}),uC=Ru("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:n=>n.resources.length>0,hasInstruction:n=>!!n.resources.find(l=>l.type=="instruct"),hasSolution:n=>!!n.resources.find(l=>l.type=="solution"),instruction:n=>n.resources.find(r=>r.type=="instruct"),solution:n=>n.resources.find(r=>r.type=="solution"),hasFileOrUrlResources:n=>!!n.resources.find(l=>l.type=="file"||l.type=="url"),fileOrUrlResources:n=>n.resources.filter(r=>r.type=="file"||r.type=="url"),activeTitle:n=>{const r=n.resources.find(l=>l.key==n.activeKey);return r?r.title:""},getResource:n=>function(l){return n.resources.find(d=>d.key==l)},getResourceIsActive:n=>function(l){return n.activeKey==l.key}},actions:{async clearStorage(){try{await p1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await p1.getItem("resourceKeys");n&&(this.keys=JSON.parse(n)),this.activeKey=await p1.getItem("activeKey")??"";for(const r of this.keys){const l=await p1.getItem(r);this.resources.push(l)}this.loadFiles()}catch(n){console.log(n)}},async loadFromData(n){const r=ps();try{await p1.clear(),this.$reset();for(const l of n)l.url=r.getResourceUrl(l.key),this.resources.push(l),this.keys.push(l.key),await p1.setItem(l.key,l);await p1.setItem("resourceKeys",JSON.stringify(this.keys)),await p1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(l){console.log(l)}},async selectResource(n){this.activeKey=n.key,await p1.setItem("activeKey",this.activeKey)},async loadFiles(){for(const n of this.keys){let r=this.getResource(n),l=null;if(r.type!="url")try{console.log("preload "+r.title+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),console.log("finished. ")}catch(d){console.error(d)}}}}});class Z${constructor(r={}){Sn(this,"key","");Sn(this,"title","");Sn(this,"correction_allowed",!1);Sn(this,"authorization_allowed",!1);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.correction_allowed!==void 0&&r.correction_allowed!==null&&(this.correction_allowed=!!r.correction_allowed),r.authorization_allowed!==void 0&&r.authorization_allowed!==null&&(this.authorization_allowed=!!r.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const v1=Cd.createInstance({storeName:"corrector-items",description:"Items data"}),mv=Ru("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:n=>n.keys.length>0,firstKey:n=>n.keys.length>0?n.keys[0]:"",lastKey:n=>n.keys.length>0?n.keys[n.keys.length-1]:"",correctionAllowed:n=>n.currentItem.correction_allowed,authorizationAllowed:n=>n.currentItem.authorization_allowed,currentItem:n=>{const r=ps();return n.items.find(l=>l.key==r.itemKey)},getPreviousKey:n=>function(l){for(let d=1;d<n.keys.length;d++)if(n.keys[d]==l)return n.keys[d-1];return""},getNextKey:n=>function(l){for(let d=0;d<n.keys.length-1;d++)if(n.keys[d]==l)return n.keys[d+1];return""},getItem:n=>function(l,d=null){for(const g of n.items)if(g.key==l)return g;return d}},actions:{async clearStorage(){try{await v1.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await v1.getItem("itemKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=new Z$(JSON.parse(await v1.getItem(r)));this.items.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await v1.clear(),this.$reset();for(const r of n){const l=new Z$(r);this.items.push(l),this.keys.push(l.key),await v1.setItem(l.key,JSON.stringify(l.getData()))}await v1.setItem("itemKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}},async addItem(n){try{this.keys.includes(n.key)||(this.items.unshift(n),this.keys.unshift(n.key),await v1.setItem(n.key,JSON.stringify(n.getData())),await v1.setItem("itemKeys",JSON.stringify(this.keys)))}catch(r){console.log(r)}},async updateItem(n){const r=this.items.findIndex(l=>l.key===n.key);if(r!==-1){this.items[r]=n,await v1.setItem(n.key,JSON.stringify(n.getData()));return}}}}),Ek=Cd.createInstance({storeName:"corrector-levels",description:"Grade level data"}),Wy=Ru("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:n=>n.levels.length>0,getLevel:n=>function(l){return n.levels.find(d=>d.key==l)},getLevelForPoints:n=>function(l){if(l===null)return null;let d=null,g=0;for(let v=0;v<n.levels.length;v++)n.levels[v].min_points<=l&&n.levels[v].min_points>=g&&(d=n.levels[v],g=d.points);return d}},actions:{async clearStorage(){try{await Ek.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Ek.getItem("levelKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Ek.getItem(r);this.levels.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Ek.clear(),this.$reset();for(const r of n)this.levels.push(r),this.keys.push(r.key),await Ek.setItem(r.key,r);await Ek.setItem("levelKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),WB=Cd.createInstance({storeName:"corrector-essay",description:"Essay data"}),tD=Ru("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:n=>n.correction_finalized,grade:n=>{let l=Wy().getLevelForPoints(n.final_points);return l!==null?l.title:""},gradeKey:n=>{let l=Wy().getLevelForPoints(n.final_points);return l!==null?l.key:""}},actions:{async clearStorage(){try{await WB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await WB.getItem("settings");this.$patch(n)}catch(n){console.log(n)}},async loadFromData(n){try{await WB.setItem("settings",n),this.$patch(n)}catch(r){console.log(r)}},async saveStitchDecision(){const n=ps(),r=n.getServerTime(Date.now()),l={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:r};await n.saveStitchDecisionToBackend(l)&&(this.correction_finalized=r,await WB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class sq{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"page_no",0);Sn(this,"width",0);Sn(this,"height",0);Sn(this,"url",null);Sn(this,"thumb_width",null);Sn(this,"thumb_height",null);Sn(this,"thumb_url",null);Sn(this,"objectUrl",null);Sn(this,"thumbObjectUrl",null);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.page_no!==void 0&&r.page_no!==null&&(this.page_no=parseInt(r.page_no)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.url!==void 0&&r.url!==null&&(this.url=r.url.toString()),r.thumb_width!==void 0&&r.thumb_width!==null&&(this.thumb_width=parseInt(r.thumb_width)),r.thumb_height!==void 0&&r.thumb_height!==null&&(this.thumb_height=parseInt(r.thumb_height)),r.thumb_url!==void 0&&r.thumb_url!==null&&(this.thumb_url=r.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const Ak=Cd.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),k8=Ru("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:n=>Object.keys(n.pages).length>0,selectedPage:n=>n.pages[n.selectedKey]??null,selectedPageNo:n=>n.selectedPage?n.selectedPage.page_no:null,currentPages:n=>{let r=[];for(const l in n.pages)r.push(n.pages[l]);return r},getPage:n=>function(l){return n.pages[l]??null},getPageByPageNo:n=>function(l){for(const d in n.pages)if(n.pages[d].page_no==l)return n.pages[d];return null}},actions:{selectPage(n){this.selectedKey!=n&&(this.selectedKey=n)},selectByPageNo(n){for(const r in this.pages)if(this.pages[r].page_no==n)return this.selectedKey=r,!0;return!1},calculateMinMaxPage(){let n=null,r=null;for(const l in this.pages)(n===null||this.pages[l].page_no<n)&&(n=this.pages[l].page_no),(r===null||this.pages[l].page_no>r)&&(r=this.pages[l].page_no);n!==null&&(this.minPage=n),r!==null&&(this.maxPage=r)},async clearStorage(){try{await Ak.clear()}catch(n){console.log(n)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const n=ps();try{this.purgeFiles(),this.$reset();const r=await Ak.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new sq(JSON.parse(await Ak.getItem(l)));d.item_key==n.itemKey&&(this.pages[l]=d)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Ak.clear(),this.purgeFiles(),this.$reset();for(const l of n){const d=new sq(l);d.url=r.getImageUrl(d.key,d.item_key),d.thumb_url=r.getThumbUrl(d.key,d.item_key),this.keys.push(d.key),await Ak.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.pages[d.key]=d)}await Ak.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(l){console.log(l)}},async loadFiles(){try{for(const n in this.pages){const r=this.pages[n];let l;r&&(console.log("preload page "+r.page_no+"..."),l=await Ji(r.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,console.log("preload thumbnail "+r.page_no+"..."),l=await Ji(r.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(n){console.error(n)}},purgeFiles(){for(const n in this.pages){const r=this.pages[n];r&&(r.thumbObjectUrl!==null&&(r.thumbObjectUrl=null),r.objectUrl!==null&&(r.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class The{constructor(r={}){Sn(this,"key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"description","");Sn(this,"points",0);r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.description!==void 0&&r.description!==null&&(this.description=r.description.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points}}}const Tk=Cd.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),Uh=Ru("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasAnyCriteria:n=>{const l=bv().correctorKeys;return!!n.criteria.find(d=>d.corrector_key==""||l.includes(d.corrector_key))},hasOwnCriteria:n=>{const r=ps();return!!n.criteria.find(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},ownCriteria:n=>{const r=ps();return n.criteria.filter(l=>l.corrector_key==""||l.corrector_key==r.correctorKey)},sumOfMaxPoints:n=>{let r=0;return n.criteria.forEach(l=>r+=l.points),r},getCriterion:n=>function(l){return n.criteria.find(d=>d.key==l)},getCorrectorHasCriteria:n=>function(l){return!!n.criteria.find(d=>d.corrector_key==""||d.corrector_key==l)},getCorrectorCriteria:n=>function(l){return n.criteria.filter(d=>d.corrector_key==""||d.corrector_key==l)}},actions:{async clearStorage(){try{await Tk.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await Tk.getItem("criterionKeys");n&&(this.keys=JSON.parse(n));for(const r of this.keys){const l=await Tk.getItem(r);this.criteria.push(l)}}catch(n){console.log(n)}},async loadFromData(n){try{await Tk.clear(),this.$reset();for(const r of n){const l=new The(r);this.criteria.push(l),this.keys.push(l.key),await Tk.setItem(l.key,l.getData())}await Tk.setItem("criterionKeys",JSON.stringify(this.keys))}catch(r){console.log(r)}}}}),zl=class zl{constructor(r={}){Sn(this,"action",null);Sn(this,"type",null);Sn(this,"key","");Sn(this,"item_key","");Sn(this,"last_change",0);this.setData(r),this.last_change==0&&(this.last_change=Date.now())}setData(r){r.action!==void 0&&zl.ALLOWED_ACTIONS.includes(r.action)&&(this.action=r.action.toString()),r.type!==void 0&&zl.ALLOWED_TYPES.includes(r.type)&&(this.type=r.type.toString()),r.key!==void 0&&r.key!==null&&(this.key=r.key.toString()),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.last_change!==void 0&&r.last_change!==null&&(this.last_change=parseInt(r.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return zl.ALLOWED_TYPES.includes(this.type)&&zl.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&this.item_key!=""}};Sn(zl,"ACTION_SAVE","save"),Sn(zl,"ACTION_DELETE","delete"),Sn(zl,"ALLOWED_ACTIONS",[zl.ACTION_SAVE,zl.ACTION_DELETE]),Sn(zl,"TYPE_COMMENT","comment"),Sn(zl,"TYPE_POINTS","points"),Sn(zl,"TYPE_SUMMARY","summary"),Sn(zl,"TYPE_PREFERENCES","preferences"),Sn(zl,"ALLOWED_TYPES",[zl.TYPE_COMMENT,zl.TYPE_POINTS,zl.TYPE_SUMMARY,zl.TYPE_PREFERENCES]);let sr=zl;const ZB=Cd.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function rq(){const n={changes:{}};for(const r of sr.ALLOWED_TYPES)n.changes[r]={};return n}const ec=Ru("changes",{state:()=>rq(),getters:{countChanges:n=>{let r=0;for(const l in n.changes)r+=Object.keys(n.changes[l]).length;return r},getCountOfChangesFor:n=>function(l){return sr.ALLOWED_TYPES.includes(l)?Object.keys(n.changes[l]).length:(console.log("wrong type"+l),0)},getChangesFor:n=>function(l,d=0){if(!sr.ALLOWED_TYPES.includes(l))return[];const g=[];for(const v in n.changes[l]){const x=n.changes[l][v];(d==0||x.last_change<=d)&&g.push(x)}return g}},actions:{async clearStorage(){try{await ZB.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=rq();try{for(const r in n.changes){const l=await ZB.getItem(r);if(l){const d=JSON.parse(l);if(typeof d=="object"&&d!==null)for(const g in d)n.changes[r][g]=new sr(d[g])}}}catch(r){console.log(r)}this.$patch(n)},async saveChangesOfTypeToStorage(n){const r={};for(const l in this.changes[n]){const d=this.changes[n][l];r[l]=d.getData()}await ZB.setItem(n,JSON.stringify(r))},async hasChangesInStorage(){for(const n in this.changes){const r=await ZB.getItem(n);if(r){const l=JSON.parse(r);if(Object.keys(l).length>0)return!0}}return!1},async setChange(n){n.isValid()&&(this.changes[n.type][n.key]=n,await this.saveChangesOfTypeToStorage(n.type))},async unsetChange(n){n.isValid()&&(delete this.changes[n.type][n.key],await this.saveChangesOfTypeToStorage(n.type))},async setChangesSent(n,r,l){const d=this.changes[n];let g=!1;for(const v in r){const x=r[v],S=d[v];S&&(S.last_change<=l?(delete d[v],g=!0):(x==null||x!=v)&&(S.key=x,d[x]=S,delete d[v],g=!0))}g&&await this.saveChangesOfTypeToStorage(n)}}});class IO{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"comment_key","");Sn(this,"criterion_key","");Sn(this,"points",0);r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.comment_key!==void 0&&r.comment_key!==null&&(this.comment_key=r.comment_key.toString()),r.criterion_key!==void 0&&r.criterion_key!==null&&(this.criterion_key=r.criterion_key.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points))}setPoints(r){this.points=parseInt(r)}getData(){return{key:this.key,item_key:this.item_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const El=Cd.createInstance({storeName:"corrector-points",description:"Corrector points data"}),_1=Ru("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{hasPoints:n=>n.points.length>0,ownCriteriaPoints:n=>{const l=Au().ownCommentKeys;let d=0;return n.points.filter(g=>l.includes(g.comment_key)).forEach(g=>d+=g.points),d},getCommentHasPoints(n){return function(l){return n.points.find(d=>d.comment_key==l)!==void 0}},getCommentHasPointsForCriterion:n=>function(l,d){for(const g of n.points)if(g.comment_key==l&&g.criterion_key==d&&g.points>0)return!0;return!1},getObjectByKey:n=>function(l){return n.points.find(d=>d.key==l)},getObjectsByCommentKeys:n=>function(l){return n.points.filter(d=>l.includes(d.comment_key))},getSumOfPointsForComment:n=>function(l){let d=0;for(const g of n.points)g.comment_key==l&&g.points>0&&(d+=g.points);return d},getSumOfPointsForCriterion:n=>function(l,d){const v=Au().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x},getPointsOfCriterionExceeded:n=>function(l,d){const v=Au().getKeysOfCorrector(d);let x=0;return n.points.filter(S=>S.criterion_key==l.key&&v.includes(S.comment_key)).forEach(S=>x+=S.points),x>l.points},getSumOfPointsForCorrector:n=>function(l){const g=Au().getKeysOfCorrector(l);let v=0;return n.points.filter(x=>g.includes(x.comment_key)).forEach(x=>v+=x.points),v},getObjectByRelation:n=>function(l,d){return n.points.find(g=>g.comment_key==l&&g.criterion_key==d)},getValueByRelation:n=>(l,d)=>{let g=n.getObjectByRelation(l,d);return g?g.points:0}},actions:{async setValueByRelation(n,r,l){let d=this.getObjectByRelation(n,r);d?l?(d.setPoints(l),this.updatePoints(d)):this.deletePoints(d.key):n&&r&&l&&this.createPoints(n,r,l)},async createPoints(n,r,l){const d=ps(),g=new IO({comment_key:n,criterion_key:r,item_key:d.itemKey,points:l});this.keys.push(g.key),this.points.push(g),await El.setItem(g.key,JSON.stringify(g.getData())),await El.setItem("keys",JSON.stringify(this.keys)),await ec().setChange(new sr({type:sr.TYPE_POINTS,action:sr.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(n){this.keys.includes(n.key)&&(await El.setItem(n.key,JSON.stringify(n.getData())),await ec().setChange(new sr({type:sr.TYPE_POINTS,action:sr.ACTION_SAVE,key:n.key,item_key:n.item_key})))},async deletePoints(n){const r=this.points.find(g=>g.key==n);this.points=this.points.filter(g=>g.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(g=>g!=n),await El.setItem("keys",JSON.stringify(this.keys)),await El.removeItem(n));const l=ec(),d=new sr({type:sr.TYPE_POINTS,action:sr.ACTION_DELETE,key:r.key,item_key:r.item_key});n.substr(0,4)=="temp"?await l.unsetChange(d):await l.setChange(d)},async deletePointsOfComment(n){this.points.filter(r=>r.comment_key==n).forEach(r=>{this.deletePoints(r.key)})},async clearStorage(){try{await El.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await El.getItem("keys");r&&(this.keys=JSON.parse(r)),this.points=[];for(const l of this.keys){let d=JSON.parse(await El.getItem(l)),g=new IO(d);g.item_key==n.itemKey&&this.points.push(g)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await El.clear(),this.$reset();for(const l of n){const d=new IO(l);this.keys.push(d.key),await El.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.points.push(d)}await El.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(sr.TYPE_POINTS,n)){const v=await El.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const g of this.keys)if(g in n){if(n[g]==null)r.push(g);else if(g!=n[g]){let v=new IO(await El.getItem(g));v.key=n[g],l.push(g),d.push(v)}}this.selectedKey="",this.points=this.points.filter(g=>!r.includes(g.key));for(const g of this.points)l.includes(g.key)&&(g.key=n[g.key]);this.keys=this.keys.filter(g=>!r.includes(g)&&!l.includes(g));for(const g of r)await El.removeItem(g);for(const g of l)this.keys.push(n[g]),await El.removeItem(g);for(const g of d)await El.setItem(g.key,JSON.stringify(g.getData()));await El.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(n){let r=[],l=[];for(const d of this.keys){let g=new IO(await El.getItem(d));g.comment_key in n&&(n[g.comment_key]==null?r.push(d):g.comment_key!=n[g.comment_key]&&(g.comment_key=n[g.comment_key],l.push(g)))}this.points=this.points.filter(d=>!r.includes(d.key));for(const d of this.points)d.comment_key in n&&(d.comment_key=n[d.comment_key]);for(const d of r)await El.removeItem(d);for(const d of l)await El.setItem(d.key,JSON.stringify(d.getData()));this.keys=this.keys.filter(d=>!r.includes(d)),await El.setItem("keys",JSON.stringify(this.keys))}}});class NO{constructor(r={}){Sn(this,"x",0);Sn(this,"y",0);r.x!==void 0&&r.x!==null&&(this.x=parseInt(r.x)),r.y!==void 0&&r.y!==null&&(this.y=parseInt(r.y))}getData(){return{x:this.x,y:this.y}}}const ya=class ya{constructor(r={}){Sn(this,"key","");Sn(this,"shape","");Sn(this,"pos",new NO(0,0));Sn(this,"end",new NO(0,0));Sn(this,"width",0);Sn(this,"height",0);Sn(this,"polygon",[]);Sn(this,"symbol","");this.setData(r)}setData(r){if(r.key!==void 0&&r.key!==null&&(this.key=r.key),r.shape!==void 0&&ya.ALLOWED_SHAPES.includes(r.shape)&&(this.shape=r.shape.toString()),r.pos!==void 0&&r.pos!==null&&(this.pos=new NO(r.pos)),r.end!==void 0&&r.end!==null&&(this.end=new NO(r.end)),r.width!==void 0&&r.width!==null&&(this.width=parseInt(r.width)),r.height!==void 0&&r.height!==null&&(this.height=parseInt(r.height)),r.polygon!==void 0&&Array.isArray(r.polygon))for(const l of r.polygon)this.polygon.push(new NO(l));r.symbol!==void 0&&r.symbol!==null&&(this.symbol=r.symbol.toString())}getData(){let r=[];for(const l of this.polygon)r.push(l.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:r,symbol:this.symbol}}getIcon(){switch(this.shape){case ya.SHAPE_LINE:return"mdi-minus";case ya.SHAPE_WAVE:return"mdi-wave";case ya.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case ya.SHAPE_POLYGON:return"mdi-vector-triangle";case ya.SHAPE_CIRCLE:switch(this.symbol){case ya.SYMBOL_CHECK:return"mdi-check";case ya.SYMBOL_CROSS:return"mdi-close";case ya.SYMBOL_QUESTION:return"mdi-help"}}return""}};Sn(ya,"SHAPE_CIRCLE","circle"),Sn(ya,"SHAPE_RECTANGLE","rectangle"),Sn(ya,"SHAPE_POLYGON","polygon"),Sn(ya,"SHAPE_LINE","line"),Sn(ya,"SHAPE_WAVE","wave"),Sn(ya,"ALLOWED_SHAPES",[ya.SHAPE_CIRCLE,ya.SHAPE_RECTANGLE,ya.SHAPE_POLYGON,ya.SHAPE_LINE,ya.SHAPE_WAVE]),Sn(ya,"SYMBOL_CHECK",""),Sn(ya,"SYMBOL_CROSS",""),Sn(ya,"SYMBOL_QUESTION","?");let am=ya;const Fh=class Fh{constructor(r={}){Sn(this,"key","");Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"start_position",0);Sn(this,"end_position",0);Sn(this,"parent_number",0);Sn(this,"comment","");Sn(this,"points",0);Sn(this,"rating_excellent",!1);Sn(this,"rating_cardinal",!1);Sn(this,"label","");Sn(this,"prefix","");Sn(this,"marks",[]);Sn(this,"deleted",!1);if(r.key!==void 0&&r.key!==null?this.key=r.key.toString():this.key="temp"+Math.random().toString(),r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.start_position!==void 0&&r.start_position!==null&&(this.start_position=parseInt(r.start_position)),r.end_position!==void 0&&r.end_position!==null&&(this.end_position=parseInt(r.end_position)),r.parent_number!==void 0&&r.parent_number!==null&&(this.parent_number=parseInt(r.parent_number)),r.comment!==void 0&&r.comment!==null&&(this.comment=r.comment.toString()),r.points!==void 0&&r.points!==null&&(this.points=parseInt(r.points)),r.rating==Fh.RAITNG_EXCELLENT?this.rating_excellent=!0:r.rating==Fh.RATING_CARDINAL&&(this.rating_cardinal=!0),r.marks!==void 0&&Array.isArray(r.marks))for(const l of r.marks)this.addMarkData(l)}addMarkData(r){this.marks.push(new am(r)),this.calculateStartPositon()}updateMarkData(r){for(const l of this.marks)l.key==r.key&&l.setData(r);this.calculateStartPositon()}getMarkIcon(){for(const r of this.marks)return r.getIcon();return null}getMarkByKey(r){for(const l of this.marks)if(l.key==r)return l;return null}getMarkColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?l?"#E3EFDD80":"#19e62e":this.rating_cardinal?l?"#FBDED180":"#bc4710":l?"#D8E5F480":"#3365ff":this.rating_excellent?l?"#F7F9F780":"#19e62e":this.rating_cardinal?l?"#FCF6F480":"#bc4710":l?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(r){const l=r.shape==am.SHAPE_CIRCLE||r.shape==am.SHAPE_POLYGON||r.shape==am.SHAPE_RECTANGLE;return this.rating_excellent?l?"#BBEBA5A0":"#19e62e":this.rating_cardinal?l?"#FCB494A0":"#bc4710":l?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let r=null;for(const l of this.marks)(r===null||l.pos.y>r)&&(r=l.pos.y);r!==null&&(this.start_position=r)}hasMarkKey(r){for(const l of this.marks)if(l.key==r)return!0;return!1}getData(){let r=[];for(const l of this.marks)r.push(l.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,points:this.points,rating:this.rating_excellent?Fh.RAITNG_EXCELLENT:this.rating_cardinal?Fh.RATING_CARDINAL:"",marks:r}}};Sn(Fh,"RATING_CARDINAL","cardinal"),Sn(Fh,"RAITNG_EXCELLENT","excellent"),Sn(Fh,"ALLOWED_RATING",[Fh.RATING_CARDINAL,Fh.RAITNG_EXCELLENT]);let Qw=Fh;const Al=Cd.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),Au=Ru("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(n){return n.getComment(n.selectedKey)},selectedLabel(n){let r=n.getComment(n.selectedKey);return r?r.label:""},activeComments:n=>{const r=ps();return n.comments.filter(l=>(n.showOtherCorrectors||l.corrector_key==r.correctorKey)&&(n.filterKeys.length==0||n.filterKeys.includes(l.key)))},ownCommentPoints:n=>{const r=ps();let l=0;return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l+=d.points),l},ownCommentKeys:n=>{const r=ps();let l=[];return n.comments.filter(d=>d.corrector_key==r.correctorKey).forEach(d=>l.push(d.key)),l},currentCommentKeys:n=>{let r=[];return n.comments.forEach(l=>r.push(l.key)),r},isOtherCorrectorsShown:n=>n.showOtherCorrectors,isFilterActive:n=>n.filterKeys.length>0,getComment:n=>function(l){return n.comments.find(d=>d.key==l)},getCommentByMarkKey:n=>function(l){return n.comments.find(d=>d.hasMarkKey(l))},getActiveCommentsInRange:n=>function(l,d){return n.activeComments.filter(g=>g.start_position<=d&&g.end_position>=l)},getActiveCommentsByStartPosition:n=>function(l){return n.activeComments.filter(d=>d.start_position==l)},getActiveCommentsByParentNumber:n=>function(l){return n.activeComments.filter(d=>d.parent_number==l)},getKeysOfCorrector:n=>function(l){let d=[];return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d.push(g.key)),d},getPointsOfCorrector:n=>function(l){let d=0;return n.comments.filter(g=>g.corrector_key==l).forEach(g=>d+=g.points),d},getCountOfExcellent:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_excellent).length},getCountOfCardinal:n=>function(l){return n.comments.filter(d=>d.corrector_key==l&&d.rating_cardinal).length}},actions:{setFirstVisibleComment(n){this.firstVisibleKey=n},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},selectComment(n,r=!0){this.selectedKey=n,r&&(this.selectionChange=Date.now())},async createComment(n,r,l){let d=new Qw({start_position:n,end_position:r,parent_number:l});return await this.addComment(d),d.key},async addComment(n){const r=ps(),l=ec();return n.item_key=r.itemKey,n.corrector_key=r.correctorKey,this.keys.push(n.key),this.filterKeys.length>0&&(this.filterKeys.push(n.key),this.setFilterChange()),this.comments.push(n),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(n.key,!0),await Al.setItem(n.key,JSON.stringify(n.getData())),await Al.setItem("keys",JSON.stringify(this.keys)),await l.setChange(new sr({type:sr.TYPE_COMMENT,action:sr.ACTION_SAVE,key:n.key,item_key:n.item_key})),n.key},async updateComment(n,r=!1){const l=ps(),d=yc(),g=ec();this.keys.includes(n.key)&&n.corrector_key==l.correctorKey&&!d.isOwnDisabled&&(await Al.setItem(n.key,JSON.stringify(n.getData())),await g.setChange(new sr({type:sr.TYPE_COMMENT,action:sr.ACTION_SAVE,key:n.key,item_key:n.item_key})),r&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(n){await this.removeComment(n),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(n){const r=ec();await _1().deletePointsOfComment(n),this.selectedKey==n&&this.selectComment("",!0);const d=this.comments.find(v=>v.key==n);this.comments=this.comments.filter(v=>v.key!=n),this.keys.includes(n)&&(this.keys=this.keys.filter(v=>v!=n),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.removeItem(n));const g=new sr({type:sr.TYPE_COMMENT,action:sr.ACTION_DELETE,key:d.key,item_key:d.item_key});n.substr(0,4)=="temp"?await r.unsetChange(g):await r.setChange(g)},async sortAndLabelComments(){const n=ps(),r=bv();this.comments=this.comments.sort(Ohe);let l=0,d={};for(const g of this.comments){const v=r.getCorrector(g.corrector_key),x=v?v.initials:"??";if(g.parent_number>l){l=g.parent_number;for(const S of r.correctorKeys)d[S]=0;d[g.corrector_key]=1}else d[g.corrector_key]++;g.label=x+" "+l.toString()+"."+d[g.corrector_key].toString(),g.prefix=g.corrector_key==n.correctorKey?"own":"other"}},setFilterByRating(n,r,l){this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&d.rating_excellent==r&&d.rating_cardinal==l&&this.filterKeys.push(d.key);this.setFilterChange()},setFilterByPoints(n){this.filterKeys=[];for(const r of this.comments)r.corrector_key==n&&r.points>0&&this.filterKeys.push(r.key);this.setFilterChange()},setFilterByCriterion(n,r){const l=_1();this.filterKeys=[];for(const d of this.comments)d.corrector_key==n&&l.getCommentHasPointsForCriterion(d.key,r)&&this.filterKeys.push(d.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(n){this.showOtherCorrectors=!!n,this.markerChange=Date.now(),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Al.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Al.getItem("keys");r&&(this.keys=JSON.parse(r)),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors"));for(const l of this.keys){const d=new Qw(JSON.parse(await Al.getItem(l)));d.item_key==n.itemKey&&this.comments.push(d)}await this.sortAndLabelComments()}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Al.getItem("showOtherCorrectors")),await Al.clear();for(const l of n){const d=new Qw(l);this.keys.push(d.key),await Al.setItem(d.key,JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.comments.push(d)}await this.sortAndLabelComments(),await Al.setItem("keys",JSON.stringify(this.keys)),await Al.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(l){console.log(l)}},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(sr.TYPE_COMMENT,n)){const v=await Al.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async updateKeys(n={}){let r=[],l=[],d=[];for(const v of this.keys)if(v in n){if(n[v]==null)r.push(v);else if(v!=n[v]){let x=new Qw(JSON.parse(await Al.getItem(v)));x.key=n[v],l.push(v),d.push(x)}}l.includes(this.selectedKey)&&this.selectComment(n[this.selectedKey],!1),this.comments=this.comments.filter(v=>!r.includes(v.key));for(const v of this.comments)l.includes(v.key)&&(v.key=n[v.key]);let g=[];for(const v of this.filterKeys)l.includes(v)?g.push(n[v]):g.push(v);this.filterKeys=g,this.keys=this.keys.filter(v=>!r.includes(v)&&!l.includes(v));for(const v of r)await Al.removeItem(v);for(const v of l)this.keys.push(n[v]),await Al.removeItem(v);for(const v of d)await Al.setItem(v.key,JSON.stringify(v.getData()));await Al.setItem("keys",JSON.stringify(this.keys))}}}),Ohe=function(n,r){return n.parent_number<r.parent_number?-1:n.parent_number>r.parent_number?1:n.start_position<r.start_position?-1:n.start_position>r.start_position?1:0},n$=Cd.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),Vy=Ru("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:br.INCLUDE_INFO,include_comment_ratings:br.INCLUDE_INFO,include_comment_points:br.INCLUDE_INFO,include_criteria_points:br.INCLUDE_INFO}),getters:{allData:n=>({essay_page_zoom:n.essay_page_zoom,essay_text_zoom:n.essay_text_zoom,summary_text_zoom:n.summary_text_zoom,include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points}),summaryInclusions:n=>({include_comments:n.include_comments,include_comment_ratings:n.include_comment_ratings,include_comment_points:n.include_comment_points,include_criteria_points:n.include_criteria_points})},actions:{async clearStorage(){try{await n$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{const n=await n$.getItem("preferences");n&&this.$patch(n)}catch(n){console.log(n)}},async saveToStorage(){try{await n$.setItem("preferences",this.allData)}catch(n){console.log(n)}},async loadFromData(n){try{this.$patch(n),this.sent=!0,await this.saveToStorage()}catch(r){console.log(r)}},async update(){const n=ec(),r=ps();await this.saveToStorage(),r.correctorKey&&await n.setChange(new sr({type:sr.TYPE_PREFERENCES,action:sr.ACTION_SAVE,key:"preferences",item_key:r.itemKey}))},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(sr.TYPE_PREFERENCES,n))d.push(r.getChangeDataToSend(g,this.allData));return d},setSummaryInclusions(n){this.include_comments=n.include_comments,this.include_comment_ratings=n.include_comment_ratings,this.include_comment_points=n.include_comment_points,this.include_criteria_points=n.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),Dy=Cd.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),o$=200;function Dhe(){return{keys:[],summaries:{},editSummary:new br,lastCheck:0}}let jB=0;const yc=Ru("summaries",{state:()=>Dhe(),getters:{isOwnDisabled:n=>n.editSummary.corrector_key==""||n.editSummary.is_authorized,isOwnAuthorized:n=>n.editSummary.is_authorized,isOneAuthorized:n=>{for(const r in n.summaries)if(n.summaries[r].is_authorized)return!0;return!1},areOthersAuthorized:n=>{for(const r in n.summaries){const l=n.summaries[r];if(l.getKey()!=n.editSummary.getKey()&&!l.is_authorized)return!1}return!0},currentPartialPoints:n=>{const r=Uh(),l=Au(),d=_1();return r.hasOwnCriteria?d.ownCriteriaPoints:l.ownCommentPoints},currentPartialPointsAreIncluded:n=>Uh().hasOwnCriteria?n.currentInclusionSettings.include_criteria_points>br.INCLUDE_NOT:n.currentInclusionSettings.include_comment_points>br.INCLUDE_NOT,currentGradeTitle(n){if(n.editSummary.grade_key){let l=Wy().getLevel(n.editSummary.grade_key);if(l)return l.title}return"ohne Notenstufe"},currentInclusionSettings:n=>{const r=um(),l=Vy();return r.fixed_inclusions?r.summaryInclusions:n.editSummary.getInclusionSettings(l.summaryInclusions)},getAuthorizationForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g.is_authorized}return!1},getForCorrector:n=>function(l){for(const d in n.summaries){const g=n.summaries[d];if(g.corrector_key==l)return g}return null},getInclusionText:n=>{const r=um(),l=Uh();return function(g){let v="",x={};return g.corrector_key==n.editSummary.corrector_key?x=n.currentInclusionSettings:x=g.getInclusionSettings(),x.include_comments==br.INCLUDE_INFO?v=(v?v+", ":"")+"Kommentare (i)":x.include_comments==br.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Kommentare (r)"),x.include_comment_ratings==br.INCLUDE_INFO?v=(v?v+", ":"")+r.ratingLabels+" (i)":x.include_comment_ratings==br.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+r.ratingLabels+" (r)"),x.include_comment_points==br.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte zu Kommentaren (i)":x.include_comment_points==br.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte zu Kommentaren (r)"),l.hasOwnCriteria&&(x.include_criteria_points==br.INCLUDE_INFO?v=(v?v+", ":"")+"Punkte im Bewertungsschema (i)":x.include_criteria_points==br.INCLUDE_RELEVANT&&(v=(v?v+", ":"")+"Punkte im Bewertungsschema (r)")),v==""&&(v="keine Detail-Informationen"),v}},stitchReasonText:n=>{let r=null,l=null,d=0,g=0;for(const x in n.summaries){const S=n.summaries[x].points;S!==null&&(d+=S,g++,(r===null||S<r)&&(r=S),(l===null||S>l)&&(l=S))}if(g==0)return"";const v=um();if(v.stitch_when_distance&&l-r>v.max_auto_distance)return"Der Punkteunterschied bersteigt "+v.max_auto_distance+" Punkte!";if(v.stitch_when_decimals){let x=d/g;if(Math.floor(x)<x)return"Der Punktedurchschnitt "+x+" ist keine ganze Zahl!"}return""},minPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d<r)&&(r=d)}return r},maxPoints:n=>{let r=null;for(const l in n.summaries){const d=n.summaries[l].points;(r===null||d>r)&&(r=d)}return r}},actions:{async clearStorage(){try{await Dy.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Dy.getItem("keys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new br(JSON.parse(await Dy.getItem(l)));d.item_key==n.itemKey&&(this.summaries[l]=d),d.corrector_key==n.correctorKey&&(this.editSummary=d.getClone())}}catch(r){console.log(r)}jB=0,n.setInterval("summariesStore.updateContent",this.updateContent,o$)},async loadFromData(n){const r=ps();try{await Dy.clear(),this.$reset();for(const l of n){const d=new br(l);this.keys.push(d.getKey()),await Dy.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&(this.summaries[d.getKey()]=d),d.corrector_key==r.correctorKey&&(this.editSummary=d.getClone())}await Dy.setItem("keys",JSON.stringify(this.keys))}catch(l){console.log(l)}jB=0,r.setInterval("summariesStore.updateContent",this.updateContent,o$)},async updateContent(n=!1,r=!1){const l=this.summaries[this.editSummary.getKey()]??new br;if(l.is_authorized)return;const d=Date.now();if(d-this.lastCheck<o$&&!r||jB++&&!r||Uy().correctionEndReached)return;const v=um();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>v.max_points&&(this.editSummary.points=v.max_points);let S=Wy().getLevelForPoints(this.editSummary.points);S?this.editSummary.grade_key=S.key:this.editSummary.grade_key="";try{const O=this.editSummary.getClone();if(!O.isEqual(l)&&this.keys.includes(O.getKey())){const V=ps(),P=ec();O.last_change=V.getServerTime(Date.now()),this.editSummary.setData(O.getData()),this.summaries[O.getKey()]=O,await Dy.setItem(l.getKey(),JSON.stringify(O.getData())),await P.setChange(new sr({type:sr.TYPE_SUMMARY,action:sr.ACTION_SAVE,key:O.getKey(),item_key:O.item_key})),console.log("Save Change ","| Editor: ",n,"| Duration:",Date.now()-d,"ms")}this.lastCheck=d}catch(O){console.error(O)}jB=0},async getChangedData(n=0){const r=ps(),l=ec(),d=[];for(const g of l.getChangesFor(sr.TYPE_SUMMARY,n)){const v=await Dy.getItem(g.key);v?d.push(r.getChangeDataToSend(g,JSON.parse(v))):d.push(r.getChangeDataToSend(g))}return d},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}});var pJ={exports:{}},vJ={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(l,d){return l<<d|l>>>32-d},rotr:function(l,d){return l<<32-d|l>>>d},endian:function(l){if(l.constructor==Number)return r.rotl(l,8)&16711935|r.rotl(l,24)&4278255360;for(var d=0;d<l.length;d++)l[d]=r.endian(l[d]);return l},randomBytes:function(l){for(var d=[];l>0;l--)d.push(Math.floor(Math.random()*256));return d},bytesToWords:function(l){for(var d=[],g=0,v=0;g<l.length;g++,v+=8)d[v>>>5]|=l[g]<<24-v%32;return d},wordsToBytes:function(l){for(var d=[],g=0;g<l.length*32;g+=8)d.push(l[g>>>5]>>>24-g%32&255);return d},bytesToHex:function(l){for(var d=[],g=0;g<l.length;g++)d.push((l[g]>>>4).toString(16)),d.push((l[g]&15).toString(16));return d.join("")},hexToBytes:function(l){for(var d=[],g=0;g<l.length;g+=2)d.push(parseInt(l.substr(g,2),16));return d},bytesToBase64:function(l){for(var d=[],g=0;g<l.length;g+=3)for(var v=l[g]<<16|l[g+1]<<8|l[g+2],x=0;x<4;x++)g*8+x*6<=l.length*8?d.push(n.charAt(v>>>6*(3-x)&63)):d.push("=");return d.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/ig,"");for(var d=[],g=0,v=0;g<l.length;v=++g%4)v!=0&&d.push((n.indexOf(l.charAt(g-1))&Math.pow(2,-2*v+8)-1)<<v*2|n.indexOf(l.charAt(g))>>>6-v*2);return d}};vJ.exports=r})();var Rhe=vJ.exports,j$={utf8:{stringToBytes:function(n){return j$.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(j$.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],l=0;l<n.length;l++)r.push(n.charCodeAt(l)&255);return r},bytesToString:function(n){for(var r=[],l=0;l<n.length;l++)r.push(String.fromCharCode(n[l]));return r.join("")}}},iq=j$;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ihe=function(n){return n!=null&&(bJ(n)||Nhe(n)||!!n._isBuffer)};function bJ(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Nhe(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&bJ(n.slice(0,0))}(function(){var n=Rhe,r=iq.utf8,l=Ihe,d=iq.bin,g=function(v,x){v.constructor==String?x&&x.encoding==="binary"?v=d.stringToBytes(v):v=r.stringToBytes(v):l(v)?v=Array.prototype.slice.call(v,0):!Array.isArray(v)&&v.constructor!==Uint8Array&&(v=v.toString());for(var S=n.bytesToWords(v),O=v.length*8,V=1732584193,P=-271733879,B=-1732584194,$=271733878,Z=0;Z<S.length;Z++)S[Z]=(S[Z]<<8|S[Z]>>>24)&16711935|(S[Z]<<24|S[Z]>>>8)&4278255360;S[O>>>5]|=128<<O%32,S[(O+64>>>9<<4)+14]=O;for(var K=g._ff,X=g._gg,ae=g._hh,fe=g._ii,Z=0;Z<S.length;Z+=16){var Le=V,Re=P,te=B,Ce=$;V=K(V,P,B,$,S[Z+0],7,-680876936),$=K($,V,P,B,S[Z+1],12,-389564586),B=K(B,$,V,P,S[Z+2],17,606105819),P=K(P,B,$,V,S[Z+3],22,-1044525330),V=K(V,P,B,$,S[Z+4],7,-176418897),$=K($,V,P,B,S[Z+5],12,1200080426),B=K(B,$,V,P,S[Z+6],17,-1473231341),P=K(P,B,$,V,S[Z+7],22,-45705983),V=K(V,P,B,$,S[Z+8],7,1770035416),$=K($,V,P,B,S[Z+9],12,-1958414417),B=K(B,$,V,P,S[Z+10],17,-42063),P=K(P,B,$,V,S[Z+11],22,-1990404162),V=K(V,P,B,$,S[Z+12],7,1804603682),$=K($,V,P,B,S[Z+13],12,-40341101),B=K(B,$,V,P,S[Z+14],17,-1502002290),P=K(P,B,$,V,S[Z+15],22,1236535329),V=X(V,P,B,$,S[Z+1],5,-165796510),$=X($,V,P,B,S[Z+6],9,-1069501632),B=X(B,$,V,P,S[Z+11],14,643717713),P=X(P,B,$,V,S[Z+0],20,-373897302),V=X(V,P,B,$,S[Z+5],5,-701558691),$=X($,V,P,B,S[Z+10],9,38016083),B=X(B,$,V,P,S[Z+15],14,-660478335),P=X(P,B,$,V,S[Z+4],20,-405537848),V=X(V,P,B,$,S[Z+9],5,568446438),$=X($,V,P,B,S[Z+14],9,-1019803690),B=X(B,$,V,P,S[Z+3],14,-187363961),P=X(P,B,$,V,S[Z+8],20,1163531501),V=X(V,P,B,$,S[Z+13],5,-1444681467),$=X($,V,P,B,S[Z+2],9,-51403784),B=X(B,$,V,P,S[Z+7],14,1735328473),P=X(P,B,$,V,S[Z+12],20,-1926607734),V=ae(V,P,B,$,S[Z+5],4,-378558),$=ae($,V,P,B,S[Z+8],11,-2022574463),B=ae(B,$,V,P,S[Z+11],16,1839030562),P=ae(P,B,$,V,S[Z+14],23,-35309556),V=ae(V,P,B,$,S[Z+1],4,-1530992060),$=ae($,V,P,B,S[Z+4],11,1272893353),B=ae(B,$,V,P,S[Z+7],16,-155497632),P=ae(P,B,$,V,S[Z+10],23,-1094730640),V=ae(V,P,B,$,S[Z+13],4,681279174),$=ae($,V,P,B,S[Z+0],11,-358537222),B=ae(B,$,V,P,S[Z+3],16,-722521979),P=ae(P,B,$,V,S[Z+6],23,76029189),V=ae(V,P,B,$,S[Z+9],4,-640364487),$=ae($,V,P,B,S[Z+12],11,-421815835),B=ae(B,$,V,P,S[Z+15],16,530742520),P=ae(P,B,$,V,S[Z+2],23,-995338651),V=fe(V,P,B,$,S[Z+0],6,-198630844),$=fe($,V,P,B,S[Z+7],10,1126891415),B=fe(B,$,V,P,S[Z+14],15,-1416354905),P=fe(P,B,$,V,S[Z+5],21,-57434055),V=fe(V,P,B,$,S[Z+12],6,1700485571),$=fe($,V,P,B,S[Z+3],10,-1894986606),B=fe(B,$,V,P,S[Z+10],15,-1051523),P=fe(P,B,$,V,S[Z+1],21,-2054922799),V=fe(V,P,B,$,S[Z+8],6,1873313359),$=fe($,V,P,B,S[Z+15],10,-30611744),B=fe(B,$,V,P,S[Z+6],15,-1560198380),P=fe(P,B,$,V,S[Z+13],21,1309151649),V=fe(V,P,B,$,S[Z+4],6,-145523070),$=fe($,V,P,B,S[Z+11],10,-1120210379),B=fe(B,$,V,P,S[Z+2],15,718787259),P=fe(P,B,$,V,S[Z+9],21,-343485551),V=V+Le>>>0,P=P+Re>>>0,B=B+te>>>0,$=$+Ce>>>0}return n.endian([V,P,B,$])};g._ff=function(v,x,S,O,V,P,B){var $=v+(x&S|~x&O)+(V>>>0)+B;return($<<P|$>>>32-P)+x},g._gg=function(v,x,S,O,V,P,B){var $=v+(x&O|S&~O)+(V>>>0)+B;return($<<P|$>>>32-P)+x},g._hh=function(v,x,S,O,V,P,B){var $=v+(x^S^O)+(V>>>0)+B;return($<<P|$>>>32-P)+x},g._ii=function(v,x,S,O,V,P,B){var $=v+(S^(x|~O))+(V>>>0)+B;return($<<P|$>>>32-P)+x},g._blocksize=16,g._digestsize=16,pJ.exports=function(v,x){if(v==null)throw new Error("Illegal argument "+v);var S=n.wordsToBytes(g(v,x));return x&&x.asBytes?S:x&&x.asString?d.bytesToString(S):n.bytesToHex(S)}})();var Phe=pJ.exports;const Mhe=BU(Phe),aq=5e3,ps=Ru("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:n=>n.lastLoadingTry>0,isForReviewOrStitch:n=>n.isReview||n.isStitchDecision,storedItemKey:n=>localStorage.getItem("correctorItemKey"),getRequestConfig:n=>function(l){let d=n.backendUrl,g=new URLSearchParams,v=d.search(/\?+/);return v!=-1&&(g=new URLSearchParams(d.substr(v)),d=d.substr(0,v)),g.append("LongEssayUser",n.userKey),g.append("LongEssayEnvironment",n.environmentKey),g.append("LongEssayIsReview",n.isReview?"1":"0"),g.append("LongEssayIsStitchDecision",n.isStitchDecision?"1":"0"),g.append("LongEssaySignature",Mhe(n.userKey+n.environmentKey+l)),{baseURL:d,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:n=>function(l){const d=this.getRequestConfig(this.fileToken);return d.baseURL+"/file/"+l+"?"+d.params.toString()},getImageUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/image/"+d+"/"+l+"?"+g.params.toString()},getThumbUrl:n=>function(l,d){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/thumb/"+d+"/"+l+"?"+g.params.toString()},getServerTime:n=>function(l){return Math.floor((l-n.timeOffset)/1e3)},getChangeDataToSend:n=>function(l,d=null){const g=l.getData();return d&&(g.payload=d),g.server_time=n.getServerTime(l.last_change),g}},actions:{async init(){let n=!1,r=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),vr.get("LongEssayUser")!=null&&vr.get("LongEssayUser")!==this.userKey&&(this.userKey=vr.get("LongEssayUser"),n=!0),vr.get("LongEssayEnvironment")!=null&&vr.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=vr.get("LongEssayEnvironment"),n=!0),vr.get("LongEssayCorrector")!=null&&vr.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=vr.get("LongEssayCorrector"),n=!0),vr.get("LongEssayIsReview")!=null&&vr.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=vr.get("LongEssayIsReview")=="1",n=!0),vr.get("LongEssayIsReview")!=null&&vr.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=vr.get("LongEssayIsStitchDecision")=="1",n=!0),this.isForReviewOrStitch&&(this.correctorKey=""),vr.get("LongEssayItem")!=null&&vr.get("LongEssayItem")!==this.itemKey&&(this.itemKey=vr.get("LongEssayItem"),r=!0),vr.get("LongEssayBackend")!=null&&vr.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=vr.get("LongEssayBackend")),vr.get("LongEssayReturn")!=null&&vr.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=vr.get("LongEssayReturn")),vr.get("LongEssayToken")!=null&&vr.get("LongEssayToken")!==this.dataToken&&(this.dataToken=vr.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await ec().hasChangesInStorage()?n?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):r?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const n=mv();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey");const r=n.getItem(this.itemKey);await this.loadDataFromBackend()&&(await n.addItem(r),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const n=Au(),r=mm(),l=bv();if(this.isForReviewOrStitch&&n.setShowOtherCorrectors(!0),this.isStitchDecision){let d=0;for(const g of l.correctors)if(r.selectCorrector(g.corrector_key),d++,d==2)break}this.initialized=!0},updateConfig(){vr.remove("LongEssayBackend"),vr.remove("LongEssayReturn"),vr.remove("LongEssayUser"),vr.remove("LongEssayEnvironment"),vr.remove("LongEssayCorrector"),vr.remove("LongEssayItem"),vr.remove("LongEssayToken"),vr.remove("LongEssayIsReview"),vr.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const n=Uh(),r=mv(),l=mm(),d=Wy(),g=Vy(),v=uC(),x=um(),S=Uy();return await n.loadFromStorage(),await r.loadFromStorage(),await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(n){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey),this.itemKey=n,localStorage.setItem("itemKey",this.itemKey);const l=ec(),d=Au(),g=bv(),v=tD(),x=k8(),S=_1(),O=yc();return await l.loadFromStorage(),await d.loadFromStorage(),await g.loadFromStorage(),await v.loadFromStorage(),await x.loadFromStorage(),await S.loadFromStorage(),await O.loadFromStorage(),d.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,aq),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let n={};try{n=await Ji.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(n),this.refreshToken(n)}catch(V){return console.error(V),this.showInitFailure=!0,this.setLoading(!1),!1}const r=Uh(),l=mv(),d=mm(),g=Wy(),v=Vy(),x=uC(),S=um(),O=Uy();return await r.loadFromData(n.data.criteria),await l.loadFromData(n.data.items),await d.clearStorage(),await g.loadFromData(n.data.levels),await v.loadFromData(n.data.preferences),await x.loadFromData(n.data.resources),await S.loadFromData(n.data.settings),await O.loadFromData(n.data.task),this.setLoading(!1),!0},async loadItemFromBackend(n){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const r=mv();(n==""||r.getItem(n)==null)&&(n=r.firstKey);let l={};try{l=await Ji.get("/item/"+n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(l),this.refreshToken(l)}catch(P){return console.error(P),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=n,localStorage.setItem("itemKey",this.itemKey),r.updateItem(new Z$(l.data.item));const d=ec(),g=bv(),v=Au(),x=tD(),S=k8(),O=_1(),V=yc();return await d.clearStorage(),await g.loadFromData(l.data.correctors),await v.loadFromData(l.data.comments),await x.loadFromData(l.data.essay),await S.loadFromData(l.data.pages),await O.loadFromData(l.data.points),await V.loadFromData(l.data.summaries),v.setMarkerChange(),this.setLoading(!1),r.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,aq),!0},async saveChangesToBackend(n=!1){const r=ec(),l=Au(),d=_1(),g=yc(),v=Vy();if(!await this.isSending(!0)){this.setSending(!0);try{const x={comments:await l.getChangedData(this.lastSendingTry),points:await d.getChangedData(this.lastSendingTry),summaries:await g.getChangedData(this.lastSendingTry),preferences:await v.getChangedData(this.lastSendingTry)},S=await Ji.put("/changes/"+this.itemKey,x,this.getRequestConfig(this.dataToken));this.setTimeOffset(S),this.refreshToken(S),await l.updateKeys(S.data.comments),await d.changeCommentKeys(S.data.comments),await d.updateKeys(S.data.points),await r.setChangesSent(sr.TYPE_COMMENT,S.data.comments,this.lastSendingTry),await r.setChangesSent(sr.TYPE_POINTS,S.data.points,this.lastSendingTry),await r.setChangesSent(sr.TYPE_SUMMARY,S.data.summaries,this.lastSendingTry),await r.setChangesSent(sr.TYPE_PREFERENCES,S.data.preferences,this.lastSendingTry)}catch(x){return console.error(x),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(n){let r={};try{return r=await Ji.put("/stitch/"+this.itemKey,n,this.getRequestConfig(this.dataToken)),this.setTimeOffset(r),this.refreshToken(r),!0}catch(l){return console.error(l),!1}},setTimeOffset(n){if(n.headers.longessaytime){const r=n.headers.longessaytime*1e3,l=Date.now();this.timeOffset=l-r,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(n){n.headers.longessaydatatoken&&(this.dataToken=n.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),n.headers.longessayfiletoken&&(this.fileToken=n.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(n=!1){if(n){let r=0;for(;r<5&&this.lastSendingTry>0;)r++,await new Promise(l=>setTimeout(l,1e3))}return this.lastSendingTry>0},setSending(n){n?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(n){n?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(n){this.showAuthorization=n},setShowSendFailure(n){this.showSendFailure=n},setInterval(n,r,l){n in this.intervals&&(console.log("clear interval "+n),clearInterval(this.intervals[n])),console.log("set interval "+n),this.intervals[n]=setInterval(r,l)},clearAllIntervals(){console.log("clear all intervals ");for(const n in this.intervals)console.log("clear interval "+n),clearInterval(this.intervals[n]),delete this.intervals[n]}}});class lq{constructor(r={}){Sn(this,"item_key","");Sn(this,"corrector_key","");Sn(this,"title","");Sn(this,"initials","");Sn(this,"position",0);r.item_key!==void 0&&r.item_key!==null&&(this.item_key=r.item_key.toString()),r.corrector_key!==void 0&&r.corrector_key!==null&&(this.corrector_key=r.corrector_key.toString()),r.title!==void 0&&r.title!==null&&(this.title=r.title.toString()),r.initials!==void 0&&r.initials!==null&&(this.initials=r.initials.toString()),r.position!==void 0&&r.position!==null&&(this.position=parseInt(r.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const Ok=Cd.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),bv=Ru("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:n=>n.correctors.length,correctorKeys:n=>{let r=[];for(const l of n.correctors)r.push(l.corrector_key);return r},otherCorrectors:n=>{const r=ps();return n.correctors.filter(l=>l.corrector_key!=r.correctorKey).sort((l,d)=>l.position-d.position)},getPositionText:n=>function(l){if(n.correctors.length<=1)return"";const d=n.correctors.find(g=>g.corrector_key==l);return d?d.position==0?"(Erstkorrektur)":d.position==1?"(Zweitkorrektur)":d.position==n.correctors.length-1?"(Endkorrektur)":"("+(d.position+1)+". Korrektur)":""},getCorrector:n=>function(l){return n.correctors.find(d=>d.corrector_key==l)}},actions:{async clearStorage(){try{await Ok.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){const n=ps();try{this.$reset();const r=await Ok.getItem("correctorKeys");r&&(this.keys=JSON.parse(r));for(const l of this.keys){const d=new lq(JSON.parse(await Ok.getItem(l)));d.item_key==n.itemKey&&this.correctors.push(d)}}catch(r){console.log(r)}},async loadFromData(n){const r=ps();try{await Ok.clear(),this.$reset();for(const l of n){const d=new lq(l);this.keys.push(d.getKey()),await Ok.setItem(d.getKey(),JSON.stringify(d.getData())),d.item_key==r.itemKey&&this.correctors.push(d)}await Ok.setItem("correctorKeys",JSON.stringify(this.keys))}catch(l){console.log(l)}}}}),s$=Cd.createInstance({storeName:"corrector-layout",description:"Layout data"}),mm=Ru("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingPoints:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",focusTarget:"",focusChange:0}),getters:{isLeftExpanded:n=>n.expandedColumn=="left",isRightExpanded:n=>n.expandedColumn=="right",isInstructionsSelected:n=>n.leftContent=="instructions",isInstructionsPdfSelected:n=>n.leftContent=="instructionsPdf",isSolutionSelected:n=>n.leftContent=="solution",isSolutionPdfSelected:n=>n.leftContent=="solutionPdf",isResourcesSelected:n=>n.leftContent=="resources",isEssaySelected:n=>n.leftContent=="essay",isSummarySelected:n=>n.rightContent=="summary",isMarkingSelected:n=>n.rightContent=="marking",isLeftCorrectorSelected:n=>n.leftContent=="corrector",isRightCorrectorSelected:n=>n.rightContent=="corrector",isInstructionsVisible:n=>n.isInstructionsSelected&&n.isLeftVisible,isInstructionsPdfVisible:n=>n.isInstructionsPdfSelected&&n.isLeftVisible,isSolutionVisible:n=>n.isSolutionSelected&&n.isLeftVisible,isSolutionPdfVisible:n=>n.isSolutionPdfSelected&&n.isLeftVisible,isResourcesVisible:n=>n.isResourcesSelected&&n.isLeftVisible,isEssayVisible:n=>n.isEssaySelected&&n.isLeftVisible,isSummaryVisible:n=>n.isSummarySelected&&n.isRightVisible,isMarkingVisible:n=>n.isMarkingSelected&&n.isRightVisible,isLeftCorrectorVisible:n=>n.isLeftCorrectorSelected&&n.isLeftVisible,isRightCorrectorVisible:n=>n.isRightCorrectorSelected&&n.isRightVisible,isLeftVisible:n=>!ps().isLoading&&n.expandedColumn!="right",isRightVisible:n=>!ps().isLoading&&n.expandedColumn!="left",leftCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.leftCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},rightCorrectorTitle:n=>{const r=bv(),l=r.getCorrector(n.rightCorrectorKey);return l?"Korrektur von "+l.title+" "+r.getPositionText(l.corrector_key):""},getCorrectorIsVisible:n=>function(l){return n.leftCorrectorKey==l&&n.isLeftCorrectorVisible||n.rightCorrectorKey==l&&n.isRightCorrectorVisible}},actions:{async clearStorage(){try{await s$.clear()}catch(n){console.log(n)}this.$reset()},async loadFromStorage(){try{this.$reset();const n=await s$.getItem("layout");n&&(this.expandedColumn=n.expandedColumn,this.rightContent=n.rightContent,this.showMarkingComments=!!n.showMarkingComments,this.showMarkingPoints=!!n.showMarkingPoints,this.showMarkingText=!!n.showMarkingText,this.showLeftSummaryCriteria=!!n.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!n.showRightSummaryCriteria,this.showLeftSummaryText=!!n.showLeftSummaryText,this.showRightSummaryText=!!n.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingPoints&&!this.showMarkingPoints&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(n){console.log(n)}},async saveToStorage(){try{await s$.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingPoints:this.showMarkingPoints,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(n){console.log(n)}},showInstructions(){this.setLeftVisible(),this.leftContent="instructions",this.saveToStorage()},showInstructionsPdf(){this.setLeftVisible(),this.leftContent="instructionsPdf",this.saveToStorage()},showSolution(){this.setLeftVisible(),this.leftContent="solution",this.saveToStorage()},showSolutionPdf(){this.setLeftVisible(),this.leftContent="solutionPdf",this.saveToStorage()},showResources(){this.setLeftVisible(),this.leftContent="resources",this.saveToStorage()},showLeftCorrector(){this.setLeftVisible(),this.leftContent="corrector",this.saveToStorage()},showRightCorrector(){this.setRightVisible(),this.rightContent="corrector",this.saveToStorage()},showEssay(){this.setLeftVisible(),this.leftContent="essay",this.saveToStorage()},showMarking(){this.setRightVisible(),this.rightContent="marking",this.showMarkingComments=!0,this.showMarkingPoints=!0,this.showMarkingText=!1,this.saveToStorage()},showSummary(){this.setRightVisible(),this.rightContent="summary",this.showRightSummaryText=!0,this.showRightSummaryCriteria=!1,this.saveToStorage()},setLeftVisible(){this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage(),this.setFocusChange("left"))},setRightVisible(){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange("right")},setLeftExpanded(n){this.expandedColumn=n?"left":"none",this.saveToStorage()},setRightExpanded(n){this.expandedColumn=n?"right":"none",this.saveToStorage()},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingPoints(){this.showMarkingPoints=!this.showMarkingPoints,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(n){const r=ps(),l=bv();this.leftCorrectorKey==n?this.showLeftCorrector():this.rightCorrectorKey==n?this.showRightCorrector():r.isForReviewOrStitch?l.countCorrectors==1?(this.rightCorrectorKey=n,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=n,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=n,this.showRightCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector()):(this.leftCorrectorKey=n,this.showLeftCorrector())},setFocusChange(n){this.focusTarget=n,this.focusChange=Date.now()},handleKeyDown(n){if(n.altKey)switch(n.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),Ol=(n,r)=>{const l=n.__vccOpts||n;for(const[d,g]of r)l[d]=g;return l},O1=Dn({border:[Boolean,Number,String]},"border");function D1(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{borderClasses:Ge(()=>{const d=Hr(n)?n.value:n.border,g=[];if(d===!0||d==="")g.push(`${r}--border`);else if(typeof d=="string"||d===0)for(const v of String(d).split(" "))g.push(`border-${v}`);return g})}}const Bhe=[null,"default","comfortable","compact"],Pg=Dn({density:{type:String,default:"default",validator:n=>Bhe.includes(n)}},"density");function qh(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{densityClasses:Ge(()=>`${r}--density-${n.density}`)}}const R1=Dn({elevation:{type:[Number,String],validator(n){const r=parseInt(n);return!isNaN(r)&&r>=0&&r<=24}}},"elevation");function I1(n){return{elevationClasses:Ge(()=>{const l=Hr(n)?n.value:n.elevation,d=[];return l==null||d.push(`elevation-${l}`),d})}}const hm=Dn({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function pm(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{roundedClasses:Ge(()=>{const d=Hr(n)?n.value:n.rounded,g=Hr(n)?n.value:n.tile,v=[];if(d===!0||d==="")v.push(`${r}--rounded`);else if(typeof d=="string"||d===0)for(const x of String(d).split(" "))v.push(`rounded-${x}`);else(g||d===!1)&&v.push("rounded-0");return v})}}const Qi=Dn({tag:{type:String,default:"div"}},"tag");function $U(n){return OU(()=>{const r=[],l={};if(n.value.background)if(R$(n.value.background)){if(l.backgroundColor=n.value.background,!n.value.text&&gfe(n.value.background)){const d=gv(n.value.background);if(d.a==null||d.a===1){const g=CX(d);l.color=g,l.caretColor=g}}}else r.push(`bg-${n.value.background}`);return n.value.text&&(R$(n.value.text)?(l.color=n.value.text,l.caretColor=n.value.text):r.push(`text-${n.value.text}`)),{colorClasses:r,colorStyles:l}})}function Kh(n,r){const l=Ge(()=>({text:Hr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=$U(l);return{textColorClasses:d,textColorStyles:g}}function Wh(n,r){const l=Ge(()=>({background:Hr(n)?n.value:r?n[r]:null})),{colorClasses:d,colorStyles:g}=$U(l);return{backgroundColorClasses:d,backgroundColorStyles:g}}const Lhe=["elevated","flat","tonal","outlined","text","plain"];function tE(n,r){return G(us,null,[n&&G("span",{key:"overlay",class:`${r}__overlay`},null),G("span",{key:"underlay",class:`${r}__underlay`},null)])}const N1=Dn({color:String,variant:{type:String,default:"elevated",validator:n=>Lhe.includes(n)}},"variant");function nE(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=Ge(()=>{const{variant:v}=le(n);return`${r}--variant-${v}`}),{colorClasses:d,colorStyles:g}=$U(Ge(()=>{const{variant:v,color:x}=le(n);return{[["elevated","flat"].includes(v)?"background":"text"]:x}}));return{colorClasses:d,colorStyles:g,variantClasses:l}}const yJ=Dn({baseColor:String,divided:Boolean,...O1(),...Ls(),...Pg(),...R1(),...hm(),...Qi(),...cl(),...N1()},"VBtnGroup"),w1=Ro()({name:"VBtnGroup",props:yJ(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=$l(n),{densityClasses:g}=qh(n),{borderClasses:v}=D1(n),{elevationClasses:x}=I1(n),{roundedClasses:S}=pm(n);Yy({VBtn:{height:"auto",baseColor:Qo(n,"baseColor"),color:Qo(n,"color"),density:Qo(n,"density"),flat:!0,variant:Qo(n,"variant")}}),vs(()=>G(n.tag,{class:["v-btn-group",{"v-btn-group--divided":n.divided},d.value,v.value,g.value,x.value,S.value,n.class],style:n.style},l))}}),UU=Dn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),xJ=Dn({value:null,disabled:Boolean,selectedClass:String},"group-item");function wJ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const d=Tl("useGroupItem");if(!d)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=Ig();wd(Symbol.for(`${r.description}:id`),g);const v=wa(r,null);if(!v){if(!l)return v;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${r.description}`)}const x=Qo(n,"value"),S=Ge(()=>!!(v.disabled.value||n.disabled));v.register({id:g,value:x,disabled:S},d),xc(()=>{v.unregister(g)});const O=Ge(()=>v.isSelected(g)),V=Ge(()=>v.items.value[0].id===g),P=Ge(()=>v.items.value[v.items.value.length-1].id===g),B=Ge(()=>O.value&&[v.selectedClass.value,n.selectedClass]);return Gn(O,$=>{d.emit("group:selected",{value:$})},{flush:"sync"}),{id:g,isSelected:O,isFirst:V,isLast:P,toggle:()=>v.select(g,!O.value),select:$=>v.select(g,$),selectedClass:B,value:x,disabled:S,group:v}}function WU(n,r){let l=!1;const d=Ql([]),g=zi(n,"modelValue",[],$=>$==null?[]:CJ(d,of($)),$=>{const Z=Vhe(d,$);return n.multiple?Z:Z[0]}),v=Tl("useGroup");function x($,Z){const K=$,X=Symbol.for(`${r.description}:id`),fe=Pk(X,v==null?void 0:v.vnode).indexOf(Z);le(K.value)==null&&(K.value=fe,K.useIndexAsValue=!0),fe>-1?d.splice(fe,0,K):d.push(K)}function S($){if(l)return;O();const Z=d.findIndex(K=>K.id===$);d.splice(Z,1)}function O(){const $=d.find(Z=>!Z.disabled);$&&n.mandatory==="force"&&!g.value.length&&(g.value=[$.id])}Du(()=>{O()}),xc(()=>{l=!0}),yU(()=>{for(let $=0;$<d.length;$++)d[$].useIndexAsValue&&(d[$].value=$)});function V($,Z){const K=d.find(X=>X.id===$);if(!(Z&&(K!=null&&K.disabled)))if(n.multiple){const X=g.value.slice(),ae=X.findIndex(Le=>Le===$),fe=~ae;if(Z=Z??!fe,fe&&n.mandatory&&X.length<=1||!fe&&n.max!=null&&X.length+1>n.max)return;ae<0&&Z?X.push($):ae>=0&&!Z&&X.splice(ae,1),g.value=X}else{const X=g.value.includes($);if(n.mandatory&&X)return;g.value=Z??!X?[$]:[]}}function P($){if(n.multiple,g.value.length){const Z=g.value[0],K=d.findIndex(fe=>fe.id===Z);let X=(K+$)%d.length,ae=d[X];for(;ae.disabled&&X!==K;)X=(X+$)%d.length,ae=d[X];if(ae.disabled)return;g.value=[d[X].id]}else{const Z=d.find(K=>!K.disabled);Z&&(g.value=[Z.id])}}const B={register:x,unregister:S,selected:g,select:V,disabled:Qo(n,"disabled"),prev:()=>P(d.length-1),next:()=>P(1),isSelected:$=>g.value.includes($),selectedClass:Ge(()=>n.selectedClass),items:Ge(()=>d),getItemIndex:$=>Fhe(d,$)};return wd(r,B),B}function Fhe(n,r){const l=CJ(n,[r]);return l.length?n.findIndex(d=>d.id===l[0]):-1}function CJ(n,r){const l=[];return r.forEach(d=>{const g=n.find(x=>Xk(d,x.value)),v=n[d];(g==null?void 0:g.value)!=null?l.push(g.id):v!=null&&l.push(v.id)}),l}function Vhe(n,r){const l=[];return r.forEach(d=>{const g=n.findIndex(v=>v.id===d);if(~g){const v=n[g];l.push(v.value!=null?v.value:g)}}),l}const _J=Symbol.for("vuetify:v-btn-toggle"),zhe=Dn({...yJ(),...UU()},"VBtnToggle"),Hhe=Ro()({name:"VBtnToggle",props:zhe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isSelected:d,next:g,prev:v,select:x,selected:S}=WU(n,_J);return vs(()=>{const O=w1.filterProps(n);return G(w1,Wo({class:["v-btn-toggle",n.class]},O,{style:n.style}),{default:()=>{var V;return[(V=l.default)==null?void 0:V.call(l,{isSelected:d,next:g,prev:v,select:x,selected:S})]}})}),{next:g,prev:v,select:x}}}),$he=Dn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),xa=Ro(!1)({name:"VDefaultsProvider",props:$he(),setup(n,r){let{slots:l}=r;const{defaults:d,disabled:g,reset:v,root:x,scoped:S}=wD(n);return Yy(d,{reset:v,root:x,scoped:S,disabled:g}),()=>{var O;return(O=l.default)==null?void 0:O.call(l)}}}),Uhe=["x-small","small","default","large","x-large"],TD=Dn({size:{type:[String,Number],default:"default"}},"size");function OD(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return OU(()=>{let l,d;return h8(Uhe,n.size)?l=`${r}--size-${n.size}`:n.size&&(d={width:hs(n.size),height:hs(n.size)}),{sizeClasses:l,sizeStyles:d}})}const Whe=Dn({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:mi,...Ls(),...TD(),...Qi({tag:"i"}),...cl()},"VIcon"),qn=Ro()({name:"VIcon",props:Whe(),setup(n,r){let{attrs:l,slots:d}=r;const g=Mn(),{themeClasses:v}=$l(n),{iconData:x}=Nme(Ge(()=>g.value||n.icon)),{sizeClasses:S}=OD(n),{textColorClasses:O,textColorStyles:V}=Kh(Qo(n,"color"));return vs(()=>{var $,Z;const P=($=d.default)==null?void 0:$.call(d);P&&(g.value=(Z=fX(P).filter(K=>K.type===_D&&K.children&&typeof K.children=="string")[0])==null?void 0:Z.children);const B=!!(l.onClick||l.onClickOnce);return G(x.value.component,{tag:n.tag,icon:x.value.icon,class:["v-icon","notranslate",v.value,S.value,O.value,{"v-icon--clickable":B,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class],style:[S.value?void 0:{fontSize:hs(n.size),height:hs(n.size),width:hs(n.size)},V.value,n.style],role:B?"button":void 0,"aria-hidden":!B,tabindex:B?n.disabled?-1:0:void 0},{default:()=>[P]})}),{}}});function SJ(n,r){const l=Mn(),d=Ao(!1);if(AU){const g=new IntersectionObserver(v=>{d.value=!!v.find(x=>x.isIntersecting)},r);xc(()=>{g.disconnect()}),Gn(l,(v,x)=>{x&&(g.unobserve(x),d.value=!1),v&&g.observe(v)},{flush:"post"})}return{intersectionRef:l,isIntersecting:d}}const Zhe=Dn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ls(),...TD(),...Qi({tag:"div"}),...cl()},"VProgressCircular"),jhe=Ro()({name:"VProgressCircular",props:Zhe(),setup(n,r){let{slots:l}=r;const d=20,g=2*Math.PI*d,v=Mn(),{themeClasses:x}=$l(n),{sizeClasses:S,sizeStyles:O}=OD(n),{textColorClasses:V,textColorStyles:P}=Kh(Qo(n,"color")),{textColorClasses:B,textColorStyles:$}=Kh(Qo(n,"bgColor")),{intersectionRef:Z,isIntersecting:K}=SJ(),{resizeRef:X,contentRect:ae}=Kk(),fe=Ge(()=>Math.max(0,Math.min(100,parseFloat(n.modelValue)))),Le=Ge(()=>Number(n.width)),Re=Ge(()=>O.value?Number(n.size):ae.value?ae.value.width:Math.max(Le.value,32)),te=Ge(()=>d/(1-Le.value/Re.value)*2),Ce=Ge(()=>Le.value/Re.value*te.value),ie=Ge(()=>hs((100-fe.value)/100*g));return cf(()=>{Z.value=v.value,X.value=v.value}),vs(()=>G(n.tag,{ref:v,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":K.value,"v-progress-circular--disable-shrink":n.indeterminate==="disable-shrink"},x.value,S.value,V.value,n.class],style:[O.value,P.value,n.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:fe.value},{default:()=>[G("svg",{style:{transform:`rotate(calc(-90deg + ${Number(n.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${te.value} ${te.value}`},[G("circle",{class:["v-progress-circular__underlay",B.value],style:$.value,fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":Ce.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),G("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:d,"stroke-width":Ce.value,"stroke-dasharray":g,"stroke-dashoffset":ie.value},null)]),l.default&&G("div",{class:"v-progress-circular__content"},[l.default({value:fe.value})])]})),{}}}),Yh=Dn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Xh(n){return{dimensionStyles:Ge(()=>{const l={},d=hs(n.height),g=hs(n.maxHeight),v=hs(n.maxWidth),x=hs(n.minHeight),S=hs(n.minWidth),O=hs(n.width);return d!=null&&(l.height=d),g!=null&&(l.maxHeight=g),v!=null&&(l.maxWidth=v),x!=null&&(l.minHeight=x),S!=null&&(l.minWidth=S),O!=null&&(l.width=O),l})}}const cq={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},oL=Dn({location:String},"location");function sL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2?arguments[2]:void 0;const{isRtl:d}=Ng();return{locationStyles:Ge(()=>{if(!n.location)return{};const{side:v,align:x}=O$(n.location.split(" ").length>1?n.location:`${n.location} center`,d.value);function S(V){return l?l(V):0}const O={};return v!=="center"&&(r?O[cq[v]]=`calc(100% - ${S(v)}px)`:O[v]=0),x!=="center"?r?O[cq[x]]=`calc(100% - ${S(x)}px)`:O[x]=0:(v==="center"?O.top=O.left="50%":O[{top:"left",bottom:"left",left:"top",right:"top"}[v]]="50%",O.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[v]),O})}}const Khe=Dn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ls(),...oL({location:"top"}),...hm(),...Qi(),...cl()},"VProgressLinear"),Ghe=Ro()({name:"VProgressLinear",props:Khe(),emits:{"update:modelValue":n=>!0},setup(n,r){var Se;let{slots:l}=r;const d=zi(n,"modelValue"),{isRtl:g,rtlClasses:v}=Ng(),{themeClasses:x}=$l(n),{locationStyles:S}=sL(n),{textColorClasses:O,textColorStyles:V}=Kh(n,"color"),{backgroundColorClasses:P,backgroundColorStyles:B}=Wh(Ge(()=>n.bgColor||n.color)),{backgroundColorClasses:$,backgroundColorStyles:Z}=Wh(Ge(()=>n.bufferColor||n.bgColor||n.color)),{backgroundColorClasses:K,backgroundColorStyles:X}=Wh(n,"color"),{roundedClasses:ae}=pm(n),{intersectionRef:fe,isIntersecting:Le}=SJ(),Re=Ge(()=>parseFloat(n.max)),te=Ge(()=>parseFloat(n.height)),Ce=Ge(()=>$h(parseFloat(n.bufferValue)/Re.value*100,0,100)),ie=Ge(()=>$h(parseFloat(d.value)/Re.value*100,0,100)),Ue=Ge(()=>g.value!==n.reverse),We=Ge(()=>n.indeterminate?"fade-transition":"slide-x-transition"),qe=fi&&((Se=window.matchMedia)==null?void 0:Se.call(window,"(forced-colors: active)").matches);function st(Me){if(!fe.value)return;const{left:D,right:Ke,width:ct}=fe.value.getBoundingClientRect(),$t=Ue.value?ct-Me.clientX+(Ke-ct):Me.clientX-D;d.value=Math.round($t/ct*Re.value)}return vs(()=>G(n.tag,{ref:fe,class:["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&Le.value,"v-progress-linear--reverse":Ue.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped},ae.value,x.value,v.value,n.class],style:[{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?hs(te.value):0,"--v-progress-linear-height":hs(te.value),...n.absolute?S.value:{}},n.style],role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:ie.value,onClick:n.clickable&&st},{default:()=>[n.stream&&G("div",{key:"stream",class:["v-progress-linear__stream",O.value],style:{...V.value,[Ue.value?"left":"right"]:hs(-te.value),borderTop:`${hs(te.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${hs(te.value/4)})`,width:hs(100-Ce.value,"%"),"--v-progress-linear-stream-to":hs(te.value*(Ue.value?1:-1))}},null),G("div",{class:["v-progress-linear__background",qe?void 0:P.value],style:[B.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}]},null),G("div",{class:["v-progress-linear__buffer",qe?void 0:$.value],style:[Z.value,{opacity:parseFloat(n.bufferOpacity),width:hs(Ce.value,"%")}]},null),G(Hy,{name:We.value},{default:()=>[n.indeterminate?G("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Me=>G("div",{key:Me,class:["v-progress-linear__indeterminate",Me,qe?void 0:K.value],style:X.value},null))]):G("div",{class:["v-progress-linear__determinate",qe?void 0:K.value],style:[X.value,{width:hs(ie.value,"%")}]},null)]}),l.default&&G("div",{class:"v-progress-linear__content"},[l.default({value:ie.value,buffer:Ce.value})])]})),{}}}),ZU=Dn({loading:[Boolean,String]},"loader");function jU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{loaderClasses:Ge(()=>({[`${r}--loading`]:n.loading}))}}function kJ(n,r){var d;let{slots:l}=r;return G("div",{class:`${n.name}__loader`},[((d=l.default)==null?void 0:d.call(l,{color:n.color,isActive:n.active}))||G(Ghe,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const qhe=["static","relative","fixed","absolute","sticky"],KU=Dn({position:{type:String,validator:n=>qhe.includes(n)}},"position");function GU(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();return{positionClasses:Ge(()=>n.position?`${r}--${n.position}`:void 0)}}function Yhe(){const n=Tl("useRoute");return Ge(()=>{var r;return(r=n==null?void 0:n.proxy)==null?void 0:r.$route})}function EJ(){var n,r;return(r=(n=Tl("useRouter"))==null?void 0:n.proxy)==null?void 0:r.$router}function rL(n,r){var B,$;const l=vue("RouterLink"),d=Ge(()=>!!(n.href||n.to)),g=Ge(()=>(d==null?void 0:d.value)||gG(r,"click")||gG(n,"click"));if(typeof l=="string"||!("useLink"in l)){const Z=Qo(n,"href");return{isLink:d,isClickable:g,href:Z,linkProps:Ql({href:Z})}}const v=Ge(()=>({...n,to:Qo(()=>n.to||"")})),x=l.useLink(v.value),S=Ge(()=>n.to?x:void 0),O=Yhe(),V=Ge(()=>{var Z,K,X;return S.value?n.exact?O.value?((X=S.value.isExactActive)==null?void 0:X.value)&&Xk(S.value.route.value.query,O.value.query):((K=S.value.isExactActive)==null?void 0:K.value)??!1:((Z=S.value.isActive)==null?void 0:Z.value)??!1:!1}),P=Ge(()=>{var Z;return n.to?(Z=S.value)==null?void 0:Z.route.value.href:n.href});return{isLink:d,isClickable:g,isActive:V,route:(B=S.value)==null?void 0:B.route,navigate:($=S.value)==null?void 0:$.navigate,href:P,linkProps:Ql({href:P,"aria-current":Ge(()=>V.value?"page":void 0)})}}const iL=Dn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let r$=!1;function Xhe(n,r){let l=!1,d,g;fi&&(Ar(()=>{window.addEventListener("popstate",v),d=n==null?void 0:n.beforeEach((x,S,O)=>{r$?l?r(O):O():setTimeout(()=>l?r(O):O()),r$=!0}),g=n==null?void 0:n.afterEach(()=>{r$=!1})}),Ou(()=>{window.removeEventListener("popstate",v),d==null||d(),g==null||g()}));function v(x){var S;(S=x.state)!=null&&S.replaced||(l=!0,setTimeout(()=>l=!1))}}function Jhe(n,r){Gn(()=>{var l;return(l=n.isActive)==null?void 0:l.value},l=>{n.isLink.value&&l&&r&&Ar(()=>{r(!0)})},{immediate:!0})}const K$=Symbol("rippleStop"),Qhe=80;function uq(n,r){n.style.transform=r,n.style.webkitTransform=r}function G$(n){return n.constructor.name==="TouchEvent"}function AJ(n){return n.constructor.name==="KeyboardEvent"}const epe=function(n,r){var B;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=0,g=0;if(!AJ(n)){const $=r.getBoundingClientRect(),Z=G$(n)?n.touches[n.touches.length-1]:n;d=Z.clientX-$.left,g=Z.clientY-$.top}let v=0,x=.3;(B=r._ripple)!=null&&B.circle?(x=.15,v=r.clientWidth/2,v=l.center?v:v+Math.sqrt((d-v)**2+(g-v)**2)/4):v=Math.sqrt(r.clientWidth**2+r.clientHeight**2)/2;const S=`${(r.clientWidth-v*2)/2}px`,O=`${(r.clientHeight-v*2)/2}px`,V=l.center?S:`${d-v}px`,P=l.center?O:`${g-v}px`;return{radius:v,scale:x,x:V,y:P,centerX:S,centerY:O}},E8={show(n,r){var Z;let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((Z=r==null?void 0:r._ripple)!=null&&Z.enabled))return;const d=document.createElement("span"),g=document.createElement("span");d.appendChild(g),d.className="v-ripple__container",l.class&&(d.className+=` ${l.class}`);const{radius:v,scale:x,x:S,y:O,centerX:V,centerY:P}=epe(n,r,l),B=`${v*2}px`;g.className="v-ripple__animation",g.style.width=B,g.style.height=B,r.appendChild(d);const $=window.getComputedStyle(r);$&&$.position==="static"&&(r.style.position="relative",r.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),uq(g,`translate(${S}, ${O}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),setTimeout(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),uq(g,`translate(${V}, ${P}) scale3d(1,1,1)`)},0)},hide(n){var v;if(!((v=n==null?void 0:n._ripple)!=null&&v.enabled))return;const r=n.getElementsByClassName("v-ripple__animation");if(r.length===0)return;const l=r[r.length-1];if(l.dataset.isHiding)return;l.dataset.isHiding="true";const d=performance.now()-Number(l.dataset.activated),g=Math.max(250-d,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var S;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((S=l.parentNode)==null?void 0:S.parentNode)===n&&n.removeChild(l.parentNode)},300)},g)}};function TJ(n){return typeof n>"u"||!!n}function nD(n){const r={},l=n.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||n[K$])){if(n[K$]=!0,G$(n))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(r.center=l._ripple.centered||AJ(n),l._ripple.class&&(r.class=l._ripple.class),G$(n)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{E8.show(n,l,r)},l._ripple.showTimer=window.setTimeout(()=>{var d;(d=l==null?void 0:l._ripple)!=null&&d.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},Qhe)}else E8.show(n,l,r)}}function dq(n){n[K$]=!0}function lm(n){const r=n.currentTarget;if(r!=null&&r._ripple){if(window.clearTimeout(r._ripple.showTimer),n.type==="touchend"&&r._ripple.showTimerCommit){r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null,r._ripple.showTimer=window.setTimeout(()=>{lm(n)});return}window.setTimeout(()=>{r._ripple&&(r._ripple.touched=!1)}),E8.hide(r)}}function OJ(n){const r=n.currentTarget;r!=null&&r._ripple&&(r._ripple.showTimerCommit&&(r._ripple.showTimerCommit=null),window.clearTimeout(r._ripple.showTimer))}let oD=!1;function DJ(n){!oD&&(n.keyCode===uG.enter||n.keyCode===uG.space)&&(oD=!0,nD(n))}function RJ(n){oD=!1,lm(n)}function IJ(n){oD&&(oD=!1,lm(n))}function NJ(n,r,l){const{value:d,modifiers:g}=r,v=TJ(d);if(v||E8.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=v,n._ripple.centered=g.center,n._ripple.circle=g.circle,$de(d)&&d.class&&(n._ripple.class=d.class),v&&!l){if(g.stop){n.addEventListener("touchstart",dq,{passive:!0}),n.addEventListener("mousedown",dq);return}n.addEventListener("touchstart",nD,{passive:!0}),n.addEventListener("touchend",lm,{passive:!0}),n.addEventListener("touchmove",OJ,{passive:!0}),n.addEventListener("touchcancel",lm),n.addEventListener("mousedown",nD),n.addEventListener("mouseup",lm),n.addEventListener("mouseleave",lm),n.addEventListener("keydown",DJ),n.addEventListener("keyup",RJ),n.addEventListener("blur",IJ),n.addEventListener("dragstart",lm,{passive:!0})}else!v&&l&&PJ(n)}function PJ(n){n.removeEventListener("mousedown",nD),n.removeEventListener("touchstart",nD),n.removeEventListener("touchend",lm),n.removeEventListener("touchmove",OJ),n.removeEventListener("touchcancel",lm),n.removeEventListener("mouseup",lm),n.removeEventListener("mouseleave",lm),n.removeEventListener("keydown",DJ),n.removeEventListener("keyup",RJ),n.removeEventListener("dragstart",lm),n.removeEventListener("blur",IJ)}function tpe(n,r){NJ(n,r,!1)}function npe(n){delete n._ripple,PJ(n)}function ope(n,r){if(r.value===r.oldValue)return;const l=TJ(r.oldValue);NJ(n,r,l)}const DD={mounted:tpe,unmounted:npe,updated:ope},spe=Dn({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:_J},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:mi,appendIcon:mi,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...O1(),...Ls(),...Pg(),...Yh(),...R1(),...xJ(),...ZU(),...oL(),...KU(),...hm(),...iL(),...TD(),...Qi({tag:"button"}),...cl(),...N1({variant:"elevated"})},"VBtn"),xo=Ro()({name:"VBtn",props:spe(),emits:{"group:selected":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=$l(n),{borderClasses:v}=D1(n),{densityClasses:x}=qh(n),{dimensionStyles:S}=Xh(n),{elevationClasses:O}=I1(n),{loaderClasses:V}=jU(n),{locationStyles:P}=sL(n),{positionClasses:B}=GU(n),{roundedClasses:$}=pm(n),{sizeClasses:Z,sizeStyles:K}=OD(n),X=wJ(n,n.symbol,!1),ae=rL(n,l),fe=Ge(()=>{var Se;return n.active!==void 0?n.active:ae.isLink.value?(Se=ae.isActive)==null?void 0:Se.value:X==null?void 0:X.isSelected.value}),Le=Ge(()=>fe.value?n.activeColor??n.color:n.color),Re=Ge(()=>{var Me,D;return{color:(X==null?void 0:X.isSelected.value)&&(!ae.isLink.value||((Me=ae.isActive)==null?void 0:Me.value))||!X||((D=ae.isActive)==null?void 0:D.value)?Le.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:te,colorStyles:Ce,variantClasses:ie}=nE(Re),Ue=Ge(()=>(X==null?void 0:X.disabled.value)||n.disabled),We=Ge(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),qe=Ge(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function st(Se){var Me;Ue.value||ae.isLink.value&&(Se.metaKey||Se.ctrlKey||Se.shiftKey||Se.button!==0||l.target==="_blank")||((Me=ae.navigate)==null||Me.call(ae,Se),X==null||X.toggle())}return Jhe(ae,X==null?void 0:X.select),vs(()=>{const Se=ae.isLink.value?"a":n.tag,Me=!!(n.prependIcon||d.prepend),D=!!(n.appendIcon||d.append),Ke=!!(n.icon&&n.icon!==!0);return lo(G(Se,Wo({type:Se==="a"?void 0:"button",class:["v-btn",X==null?void 0:X.selectedClass.value,{"v-btn--active":fe.value,"v-btn--block":n.block,"v-btn--disabled":Ue.value,"v-btn--elevated":We.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},g.value,v.value,te.value,x.value,O.value,V.value,B.value,$.value,Z.value,ie.value,n.class],style:[Ce.value,S.value,P.value,K.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:Ue.value||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:st,value:qe.value},ae.linkProps),{default:()=>{var ct;return[tE(!0,"v-btn"),!n.icon&&Me&&G("span",{key:"prepend",class:"v-btn__prepend"},[d.prepend?G(xa,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},d.prepend):G(qn,{key:"prepend-icon",icon:n.prependIcon},null)]),G("span",{class:"v-btn__content","data-no-activator":""},[!d.default&&Ke?G(qn,{key:"content-icon",icon:n.icon},null):G(xa,{key:"content-defaults",disabled:!Ke,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var $t;return[(($t=d.default)==null?void 0:$t.call(d))??n.text]}})]),!n.icon&&D&&G("span",{key:"append",class:"v-btn__append"},[d.append?G(xa,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},d.append):G(qn,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&G("span",{key:"loader",class:"v-btn__loader"},[((ct=d.loader)==null?void 0:ct.call(d))??G(jhe,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[DD,!Ue.value&&n.ripple,"",{center:!!n.icon}]])}),{group:X}}}),Vh=Ro()({name:"VCardActions",props:Ls(),setup(n,r){let{slots:l}=r;return Yy({VBtn:{slim:!0,variant:"text"}}),vs(()=>{var d;return G("div",{class:["v-card-actions",n.class],style:n.style},[(d=l.default)==null?void 0:d.call(l)])}),{}}}),rpe=Dn({opacity:[Number,String],...Ls(),...Qi()},"VCardSubtitle"),ipe=Ro()({name:"VCardSubtitle",props:rpe(),setup(n,r){let{slots:l}=r;return vs(()=>G(n.tag,{class:["v-card-subtitle",n.class],style:[{"--v-card-subtitle-opacity":n.opacity},n.style]},l)),{}}}),aL=j8("v-card-title");function ape(n){return{aspectStyles:Ge(()=>{const r=Number(n.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const MJ=Dn({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ls(),...Yh()},"VResponsive"),fq=Ro()({name:"VResponsive",props:MJ(),setup(n,r){let{slots:l}=r;const{aspectStyles:d}=ape(n),{dimensionStyles:g}=Xh(n);return vs(()=>{var v;return G("div",{class:["v-responsive",{"v-responsive--inline":n.inline},n.class],style:[g.value,n.style]},[G("div",{class:"v-responsive__sizer",style:d.value},null),(v=l.additional)==null?void 0:v.call(l),l.default&&G("div",{class:["v-responsive__content",n.contentClass]},[l.default()])])}),{}}}),oE=Dn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:n=>n!==!0}},"transition"),By=(n,r)=>{let{slots:l}=r;const{transition:d,disabled:g,group:v,...x}=n,{component:S=v?EU:Hy,...O}=typeof d=="object"?d:{};return xv(S,Wo(typeof d=="string"?{name:g?"":d}:O,typeof d=="string"?{}:Object.fromEntries(Object.entries({disabled:g,group:v}).filter(V=>{let[P,B]=V;return B!==void 0})),x),l)};function lpe(n,r){if(!AU)return;const l=r.modifiers||{},d=r.value,{handler:g,options:v}=typeof d=="object"?d:{handler:d,options:{}},x=new IntersectionObserver(function(){var B;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1?arguments[1]:void 0;const V=(B=n._observe)==null?void 0:B[r.instance.$.uid];if(!V)return;const P=S.some($=>$.isIntersecting);g&&(!l.quiet||V.init)&&(!l.once||P||V.init)&&g(P,S,O),P&&l.once?BJ(n,r):V.init=!0},v);n._observe=Object(n._observe),n._observe[r.instance.$.uid]={init:!1,observer:x},x.observe(n)}function BJ(n,r){var d;const l=(d=n._observe)==null?void 0:d[r.instance.$.uid];l&&(l.observer.unobserve(n),delete n._observe[r.instance.$.uid])}const qU={mounted:lpe,unmounted:BJ},cpe=Dn({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...MJ(),...Ls(),...hm(),...oE()},"VImg"),RD=Ro()({name:"VImg",directives:{intersect:qU},props:cpe(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,r){let{emit:l,slots:d}=r;const{backgroundColorClasses:g,backgroundColorStyles:v}=Wh(Qo(n,"color")),{roundedClasses:x}=pm(n),S=Tl("VImg"),O=Ao(""),V=Mn(),P=Ao(n.eager?"loading":"idle"),B=Ao(),$=Ao(),Z=Ge(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),K=Ge(()=>Z.value.aspect||B.value/$.value||0);Gn(()=>n.src,()=>{X(P.value!=="idle")}),Gn(K,(Me,D)=>{!Me&&D&&V.value&&te(V.value)}),bU(()=>X());function X(Me){if(!(n.eager&&Me)&&!(AU&&!Me&&!n.eager)){if(P.value="loading",Z.value.lazySrc){const D=new Image;D.src=Z.value.lazySrc,te(D,null)}Z.value.src&&Ar(()=>{var D;l("loadstart",((D=V.value)==null?void 0:D.currentSrc)||Z.value.src),setTimeout(()=>{var Ke;if(!S.isUnmounted)if((Ke=V.value)!=null&&Ke.complete){if(V.value.naturalWidth||fe(),P.value==="error")return;K.value||te(V.value,null),P.value==="loading"&&ae()}else K.value||te(V.value),Le()})})}}function ae(){var Me;S.isUnmounted||(Le(),te(V.value),P.value="loaded",l("load",((Me=V.value)==null?void 0:Me.currentSrc)||Z.value.src))}function fe(){var Me;S.isUnmounted||(P.value="error",l("error",((Me=V.value)==null?void 0:Me.currentSrc)||Z.value.src))}function Le(){const Me=V.value;Me&&(O.value=Me.currentSrc||Me.src)}let Re=-1;xc(()=>{clearTimeout(Re)});function te(Me){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Ke=()=>{if(clearTimeout(Re),S.isUnmounted)return;const{naturalHeight:ct,naturalWidth:$t}=Me;ct||$t?(B.value=$t,$.value=ct):!Me.complete&&P.value==="loading"&&D!=null?Re=window.setTimeout(Ke,D):(Me.currentSrc.endsWith(".svg")||Me.currentSrc.startsWith("data:image/svg+xml"))&&(B.value=1,$.value=1)};Ke()}const Ce=Ge(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),ie=()=>{var Ke;if(!Z.value.src||P.value==="idle")return null;const Me=G("img",{class:["v-img__img",Ce.value],style:{objectPosition:n.position},src:Z.value.src,srcset:Z.value.srcset,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:V,onLoad:ae,onError:fe},null),D=(Ke=d.sources)==null?void 0:Ke.call(d);return G(By,{transition:n.transition,appear:!0},{default:()=>[lo(D?G("picture",{class:"v-img__picture"},[D,Me]):Me,[[zo,P.value==="loaded"]])]})},Ue=()=>G(By,{transition:n.transition},{default:()=>[Z.value.lazySrc&&P.value!=="loaded"&&G("img",{class:["v-img__img","v-img__img--preload",Ce.value],style:{objectPosition:n.position},src:Z.value.lazySrc,alt:n.alt,crossorigin:n.crossorigin,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),We=()=>d.placeholder?G(By,{transition:n.transition,appear:!0},{default:()=>[(P.value==="loading"||P.value==="error"&&!d.error)&&G("div",{class:"v-img__placeholder"},[d.placeholder()])]}):null,qe=()=>d.error?G(By,{transition:n.transition,appear:!0},{default:()=>[P.value==="error"&&G("div",{class:"v-img__error"},[d.error()])]}):null,st=()=>n.gradient?G("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,Se=Ao(!1);{const Me=Gn(K,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Se.value=!0})}),Me())})}return vs(()=>{const Me=fq.filterProps(n);return lo(G(fq,Wo({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!Se.value},g.value,x.value,n.class],style:[{width:hs(n.width==="auto"?B.value:n.width)},v.value,n.style]},Me,{aspectRatio:K.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>G(us,null,[G(ie,null,null),G(Ue,null,null),G(st,null,null),G(We,null,null),G(qe,null,null)]),default:d.default}),[[Gy("intersect"),{handler:X,options:n.options},null,{once:!0}]])}),{currentSrc:O,image:V,state:P,naturalWidth:B,naturalHeight:$}}}),upe=Dn({start:Boolean,end:Boolean,icon:mi,image:String,text:String,...O1(),...Ls(),...Pg(),...hm(),...TD(),...Qi(),...cl(),...N1({variant:"flat"})},"VAvatar"),Zy=Ro()({name:"VAvatar",props:upe(),setup(n,r){let{slots:l}=r;const{themeClasses:d}=$l(n),{borderClasses:g}=D1(n),{colorClasses:v,colorStyles:x,variantClasses:S}=nE(n),{densityClasses:O}=qh(n),{roundedClasses:V}=pm(n),{sizeClasses:P,sizeStyles:B}=OD(n);return vs(()=>G(n.tag,{class:["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},d.value,g.value,v.value,O.value,V.value,P.value,S.value,n.class],style:[x.value,B.value,n.style]},{default:()=>[l.default?G(xa,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[l.default()]}):n.image?G(RD,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?G(qn,{key:"icon",icon:n.icon},null):n.text,tE(!1,"v-avatar")]})),{}}}),dpe=Dn({appendAvatar:String,appendIcon:mi,prependAvatar:String,prependIcon:mi,subtitle:[String,Number],title:[String,Number],...Ls(),...Pg()},"VCardItem"),fpe=Ro()({name:"VCardItem",props:dpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var V;const d=!!(n.prependAvatar||n.prependIcon),g=!!(d||l.prepend),v=!!(n.appendAvatar||n.appendIcon),x=!!(v||l.append),S=!!(n.title!=null||l.title),O=!!(n.subtitle!=null||l.subtitle);return G("div",{class:["v-card-item",n.class],style:n.style},[g&&G("div",{key:"prepend",class:"v-card-item__prepend"},[l.prepend?G(xa,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},l.prepend):G(us,null,[n.prependAvatar&&G(Zy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&G(qn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),G("div",{class:"v-card-item__content"},[S&&G(aL,{key:"title"},{default:()=>{var P;return[((P=l.title)==null?void 0:P.call(l))??n.title]}}),O&&G(ipe,{key:"subtitle"},{default:()=>{var P;return[((P=l.subtitle)==null?void 0:P.call(l))??n.subtitle]}}),(V=l.default)==null?void 0:V.call(l)]),x&&G("div",{key:"append",class:"v-card-item__append"},[l.append?G(xa,{key:"append-defaults",disabled:!v,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},l.append):G(us,null,[n.appendIcon&&G(qn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&G(Zy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])])}),{}}}),mpe=Dn({opacity:[Number,String],...Ls(),...Qi()},"VCardText"),zh=Ro()({name:"VCardText",props:mpe(),setup(n,r){let{slots:l}=r;return vs(()=>G(n.tag,{class:["v-card-text",n.class],style:[{"--v-card-text-opacity":n.opacity},n.style]},l)),{}}}),gpe=Dn({appendAvatar:String,appendIcon:mi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...O1(),...Ls(),...Pg(),...Yh(),...R1(),...ZU(),...oL(),...KU(),...hm(),...iL(),...Qi(),...cl(),...N1({variant:"elevated"})},"VCard"),hv=Ro()({name:"VCard",directives:{Ripple:DD},props:gpe(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=$l(n),{borderClasses:v}=D1(n),{colorClasses:x,colorStyles:S,variantClasses:O}=nE(n),{densityClasses:V}=qh(n),{dimensionStyles:P}=Xh(n),{elevationClasses:B}=I1(n),{loaderClasses:$}=jU(n),{locationStyles:Z}=sL(n),{positionClasses:K}=GU(n),{roundedClasses:X}=pm(n),ae=rL(n,l),fe=Ge(()=>n.link!==!1&&ae.isLink.value),Le=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||ae.isClickable.value));return vs(()=>{const Re=fe.value?"a":n.tag,te=!!(d.title||n.title!=null),Ce=!!(d.subtitle||n.subtitle!=null),ie=te||Ce,Ue=!!(d.append||n.appendAvatar||n.appendIcon),We=!!(d.prepend||n.prependAvatar||n.prependIcon),qe=!!(d.image||n.image),st=ie||We||Ue,Se=!!(d.text||n.text!=null);return lo(G(Re,Wo({class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":Le.value},g.value,v.value,x.value,V.value,B.value,$.value,K.value,X.value,O.value,n.class],style:[S.value,P.value,Z.value,n.style],onClick:Le.value&&ae.navigate,tabindex:n.disabled?-1:void 0},ae.linkProps),{default:()=>{var Me;return[qe&&G("div",{key:"image",class:"v-card__image"},[d.image?G(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},d.image):G(RD,{key:"image-img",cover:!0,src:n.image},null)]),G(kJ,{name:"v-card",active:!!n.loading,color:typeof n.loading=="boolean"?void 0:n.loading},{default:d.loader}),st&&G(fpe,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:d.item,prepend:d.prepend,title:d.title,subtitle:d.subtitle,append:d.append}),Se&&G(zh,{key:"text"},{default:()=>{var D;return[((D=d.text)==null?void 0:D.call(d))??n.text]}}),(Me=d.default)==null?void 0:Me.call(d),d.actions&&G(Vh,null,{default:d.actions}),tE(Le.value,"v-card")]}}),[[Gy("ripple"),Le.value&&n.ripple]])}),{}}}),hpe=Dn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function vm(n,r,l){return Ro()({name:n,props:hpe({mode:l,origin:r}),setup(d,g){let{slots:v}=g;const x={onBeforeEnter(S){d.origin&&(S.style.transformOrigin=d.origin)},onLeave(S){if(d.leaveAbsolute){const{offsetTop:O,offsetLeft:V,offsetWidth:P,offsetHeight:B}=S;S._transitionInitialStyles={position:S.style.position,top:S.style.top,left:S.style.left,width:S.style.width,height:S.style.height},S.style.position="absolute",S.style.top=`${O}px`,S.style.left=`${V}px`,S.style.width=`${P}px`,S.style.height=`${B}px`}d.hideOnLeave&&S.style.setProperty("display","none","important")},onAfterLeave(S){if(d.leaveAbsolute&&(S!=null&&S._transitionInitialStyles)){const{position:O,top:V,left:P,width:B,height:$}=S._transitionInitialStyles;delete S._transitionInitialStyles,S.style.position=O||"",S.style.top=V||"",S.style.left=P||"",S.style.width=B||"",S.style.height=$||""}}};return()=>{const S=d.group?EU:Hy;return xv(S,{name:d.disabled?"":n,css:!d.disabled,...d.group?void 0:{mode:d.mode},...d.disabled?{}:x},v.default)}}})}function LJ(n,r){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Ro()({name:n,props:{mode:{type:String,default:l},disabled:Boolean,group:Boolean},setup(d,g){let{slots:v}=g;const x=d.group?EU:Hy;return()=>xv(x,{name:d.disabled?"":n,css:!d.disabled,...d.disabled?{}:r},v.default)}})}function FJ(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",d=lf(`offset-${l}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[l]:x.style[l]}},onEnter(x){const S=x._initialStyle;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const O=`${x[d]}px`;x.style[l]="0",x.offsetHeight,x.style.transition=S.transition,n&&x._parent&&x._parent.classList.add(n),requestAnimationFrame(()=>{x.style[l]=O})},onAfterEnter:v,onEnterCancelled:v,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[l]:x.style[l]},x.style.overflow="hidden",x.style[l]=`${x[d]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[l]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){n&&x._parent&&x._parent.classList.remove(n),v(x)}function v(x){const S=x._initialStyle[l];x.style.overflow=x._initialStyle.overflow,S!=null&&(x.style[l]=S),delete x._initialStyle}}const ppe=Dn({target:[Object,Array]},"v-dialog-transition"),YU=Ro()({name:"VDialogTransition",props:ppe(),setup(n,r){let{slots:l}=r;const d={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,v){var $;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const{x,y:S,sx:O,sy:V,speed:P}=gq(n.target,g),B=Mk(g,[{transform:`translate(${x}px, ${S}px) scale(${O}, ${V})`,opacity:0},{}],{duration:225*P,easing:Efe});($=mq(g))==null||$.forEach(Z=>{Mk(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*P,easing:v8})}),B.finished.then(()=>v())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,v){var $;await new Promise(Z=>requestAnimationFrame(Z));const{x,y:S,sx:O,sy:V,speed:P}=gq(n.target,g);Mk(g,[{},{transform:`translate(${x}px, ${S}px) scale(${O}, ${V})`,opacity:0}],{duration:125*P,easing:Afe}).finished.then(()=>v()),($=mq(g))==null||$.forEach(Z=>{Mk(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*P,easing:v8})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>n.target?G(Hy,Wo({name:"dialog-transition"},d,{css:!1}),l):G(Hy,{name:"dialog-transition"},l)}});function mq(n){var l;const r=(l=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:l.children;return r&&[...r]}function gq(n,r){const l=vX(n),d=RU(r),[g,v]=getComputedStyle(r).transformOrigin.split(" ").map(fe=>parseFloat(fe)),[x,S]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let O=l.left+l.width/2;x==="left"||S==="left"?O-=l.width/2:(x==="right"||S==="right")&&(O+=l.width/2);let V=l.top+l.height/2;x==="top"||S==="top"?V-=l.height/2:(x==="bottom"||S==="bottom")&&(V+=l.height/2);const P=l.width/d.width,B=l.height/d.height,$=Math.max(1,P,B),Z=P/$||0,K=B/$||0,X=d.width*d.height/(window.innerWidth*window.innerHeight),ae=X>.12?Math.min(1.5,(X-.12)*10+1):1;return{x:O-(g+d.left),y:V-(v+d.top),sx:Z,sy:K,speed:ae}}vm("fab-transition","center center","out-in");vm("dialog-bottom-transition");vm("dialog-top-transition");const hq=vm("fade-transition");vm("scale-transition");vm("scroll-x-transition");vm("scroll-x-reverse-transition");vm("scroll-y-transition");vm("scroll-y-reverse-transition");vm("slide-x-transition");vm("slide-x-reverse-transition");const VJ=vm("slide-y-transition");vm("slide-y-reverse-transition");const zJ=LJ("expand-transition",FJ()),HJ=LJ("expand-x-transition",FJ("",!0));function i$(n,r){return{x:n.x+r.x,y:n.y+r.y}}function vpe(n,r){return{x:n.x-r.x,y:n.y-r.y}}function pq(n,r){if(n.side==="top"||n.side==="bottom"){const{side:l,align:d}=n,g=d==="left"?0:d==="center"?r.width/2:d==="right"?r.width:d,v=l==="top"?0:l==="bottom"?r.height:l;return i$({x:g,y:v},r)}else if(n.side==="left"||n.side==="right"){const{side:l,align:d}=n,g=l==="left"?0:l==="right"?r.width:l,v=d==="top"?0:d==="center"?r.height/2:d==="bottom"?r.height:d;return i$({x:g,y:v},r)}return i$({x:r.width/2,y:r.height/2},r)}const $J={static:xpe,connected:Cpe},bpe=Dn({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in $J},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ype(n,r){const l=Mn({}),d=Mn();fi&&Rg(()=>!!(r.isActive.value&&n.locationStrategy),v=>{var x,S;Gn(()=>n.locationStrategy,v),Ou(()=>{window.removeEventListener("resize",g),d.value=void 0}),window.addEventListener("resize",g,{passive:!0}),typeof n.locationStrategy=="function"?d.value=(x=n.locationStrategy(r,n,l))==null?void 0:x.updateLocation:d.value=(S=$J[n.locationStrategy](r,n,l))==null?void 0:S.updateLocation});function g(v){var x;(x=d.value)==null||x.call(d,v)}return{contentStyles:l,updateLocation:d}}function xpe(){}function wpe(n,r){const l=RU(n);return r?l.x+=parseFloat(n.style.right||0):l.x-=parseFloat(n.style.left||0),l.y-=parseFloat(n.style.top||0),l}function Cpe(n,r,l){(Array.isArray(n.target.value)||Ofe(n.target.value))&&Object.assign(l.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:v}=OU(()=>{const K=O$(r.location,n.isRtl.value),X=r.origin==="overlap"?K:r.origin==="auto"?ZH(K):O$(r.origin,n.isRtl.value);return K.side===X.side&&K.align===jH(X).align?{preferredAnchor:hG(K),preferredOrigin:hG(X)}:{preferredAnchor:K,preferredOrigin:X}}),[x,S,O,V]=["minWidth","minHeight","maxWidth","maxHeight"].map(K=>Ge(()=>{const X=parseFloat(r[K]);return isNaN(X)?1/0:X})),P=Ge(()=>{if(Array.isArray(r.offset))return r.offset;if(typeof r.offset=="string"){const K=r.offset.split(" ").map(parseFloat);return K.length<2&&K.push(0),K}return typeof r.offset=="number"?[r.offset,0]:[0,0]});let B=!1;const $=new ResizeObserver(()=>{B&&Z()});Gn([n.target,n.contentEl],(K,X)=>{let[ae,fe]=K,[Le,Re]=X;Le&&!Array.isArray(Le)&&$.unobserve(Le),ae&&!Array.isArray(ae)&&$.observe(ae),Re&&$.unobserve(Re),fe&&$.observe(fe)},{immediate:!0}),Ou(()=>{$.disconnect()});function Z(){if(B=!1,requestAnimationFrame(()=>B=!0),!n.target.value||!n.contentEl.value)return;const K=vX(n.target.value),X=wpe(n.contentEl.value,n.isRtl.value),ae=b8(n.contentEl.value),fe=12;ae.length||(ae.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(X.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),X.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const Le=ae.reduce((Se,Me)=>{const D=Me.getBoundingClientRect(),Ke=new oC({x:Me===document.documentElement?0:D.x,y:Me===document.documentElement?0:D.y,width:Me.clientWidth,height:Me.clientHeight});return Se?new oC({x:Math.max(Se.left,Ke.left),y:Math.max(Se.top,Ke.top),width:Math.min(Se.right,Ke.right)-Math.max(Se.left,Ke.left),height:Math.min(Se.bottom,Ke.bottom)-Math.max(Se.top,Ke.top)}):Ke},void 0);Le.x+=fe,Le.y+=fe,Le.width-=fe*2,Le.height-=fe*2;let Re={anchor:g.value,origin:v.value};function te(Se){const Me=new oC(X),D=pq(Se.anchor,K),Ke=pq(Se.origin,Me);let{x:ct,y:$t}=vpe(D,Ke);switch(Se.anchor.side){case"top":$t-=P.value[0];break;case"bottom":$t+=P.value[0];break;case"left":ct-=P.value[0];break;case"right":ct+=P.value[0];break}switch(Se.anchor.align){case"top":$t-=P.value[1];break;case"bottom":$t+=P.value[1];break;case"left":ct-=P.value[1];break;case"right":ct+=P.value[1];break}return Me.x+=ct,Me.y+=$t,Me.width=Math.min(Me.width,O.value),Me.height=Math.min(Me.height,V.value),{overflows:vG(Me,Le),x:ct,y:$t}}let Ce=0,ie=0;const Ue={x:0,y:0},We={x:!1,y:!1};let qe=-1;for(;!(qe++>10);){const{x:Se,y:Me,overflows:D}=te(Re);Ce+=Se,ie+=Me,X.x+=Se,X.y+=Me;{const Ke=pG(Re.anchor),ct=D.x.before||D.x.after,$t=D.y.before||D.y.after;let Jt=!1;if(["x","y"].forEach(et=>{if(et==="x"&&ct&&!We.x||et==="y"&&$t&&!We.y){const pt={anchor:{...Re.anchor},origin:{...Re.origin}},Lt=et==="x"?Ke==="y"?jH:ZH:Ke==="y"?ZH:jH;pt.anchor=Lt(pt.anchor),pt.origin=Lt(pt.origin);const{overflows:tt}=te(pt);(tt[et].before<=D[et].before&&tt[et].after<=D[et].after||tt[et].before+tt[et].after<(D[et].before+D[et].after)/2)&&(Re=pt,Jt=We[et]=!0)}}),Jt)continue}D.x.before&&(Ce+=D.x.before,X.x+=D.x.before),D.x.after&&(Ce-=D.x.after,X.x-=D.x.after),D.y.before&&(ie+=D.y.before,X.y+=D.y.before),D.y.after&&(ie-=D.y.after,X.y-=D.y.after);{const Ke=vG(X,Le);Ue.x=Le.width-Ke.x.before-Ke.x.after,Ue.y=Le.height-Ke.y.before-Ke.y.after,Ce+=Ke.x.before,X.x+=Ke.x.before,ie+=Ke.y.before,X.y+=Ke.y.before}break}const st=pG(Re.anchor);return Object.assign(l.value,{"--v-overlay-anchor-origin":`${Re.anchor.side} ${Re.anchor.align}`,transformOrigin:`${Re.origin.side} ${Re.origin.align}`,top:hs(a$(ie)),left:n.isRtl.value?void 0:hs(a$(Ce)),right:n.isRtl.value?hs(a$(-Ce)):void 0,minWidth:hs(st==="y"?Math.min(x.value,K.width):x.value),maxWidth:hs(vq($h(Ue.x,x.value===1/0?0:x.value,O.value))),maxHeight:hs(vq($h(Ue.y,S.value===1/0?0:S.value,V.value)))}),{available:Ue,contentBox:X}}return Gn(()=>[g.value,v.value,r.offset,r.minWidth,r.minHeight,r.maxWidth,r.maxHeight],()=>Z()),Ar(()=>{const K=Z();if(!K)return;const{available:X,contentBox:ae}=K;ae.height>X.y&&requestAnimationFrame(()=>{Z(),requestAnimationFrame(()=>{Z()})})}),{updateLocation:Z}}function a$(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function vq(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let q$=!0;const A8=[];function _pe(n){!q$||A8.length?(A8.push(n),Y$()):(q$=!1,n(),Y$())}let bq=-1;function Y$(){cancelAnimationFrame(bq),bq=requestAnimationFrame(()=>{const n=A8.shift();n&&n(),A8.length?Y$():q$=!0})}const s8={none:null,close:Epe,block:Ape,reposition:Tpe},Spe=Dn({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in s8}},"VOverlay-scroll-strategies");function kpe(n,r){if(!fi)return;let l;cf(async()=>{l==null||l.stop(),r.isActive.value&&n.scrollStrategy&&(l=yD(),await new Promise(d=>setTimeout(d)),l.active&&l.run(()=>{var d;typeof n.scrollStrategy=="function"?n.scrollStrategy(r,n,l):(d=s8[n.scrollStrategy])==null||d.call(s8,r,n,l)}))}),Ou(()=>{l==null||l.stop()})}function Epe(n){function r(l){n.isActive.value=!1}UJ(n.targetEl.value??n.contentEl.value,r)}function Ape(n,r){var x;const l=(x=n.root.value)==null?void 0:x.offsetParent,d=[...new Set([...b8(n.targetEl.value,r.contained?l:void 0),...b8(n.contentEl.value,r.contained?l:void 0)])].filter(S=>!S.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,v=(S=>PU(S)&&S)(l||document.documentElement);v&&n.root.value.classList.add("v-overlay--scroll-blocked"),d.forEach((S,O)=>{S.style.setProperty("--v-body-scroll-x",hs(-S.scrollLeft)),S.style.setProperty("--v-body-scroll-y",hs(-S.scrollTop)),S!==document.documentElement&&S.style.setProperty("--v-scrollbar-offset",hs(g)),S.classList.add("v-overlay-scroll-blocked")}),Ou(()=>{d.forEach((S,O)=>{const V=parseFloat(S.style.getPropertyValue("--v-body-scroll-x")),P=parseFloat(S.style.getPropertyValue("--v-body-scroll-y")),B=S.style.scrollBehavior;S.style.scrollBehavior="auto",S.style.removeProperty("--v-body-scroll-x"),S.style.removeProperty("--v-body-scroll-y"),S.style.removeProperty("--v-scrollbar-offset"),S.classList.remove("v-overlay-scroll-blocked"),S.scrollLeft=-V,S.scrollTop=-P,S.style.scrollBehavior=B}),v&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function Tpe(n,r,l){let d=!1,g=-1,v=-1;function x(S){_pe(()=>{var P,B;const O=performance.now();(B=(P=n.updateLocation).value)==null||B.call(P,S),d=(performance.now()-O)/(1e3/60)>2})}v=(typeof requestIdleCallback>"u"?S=>S():requestIdleCallback)(()=>{l.run(()=>{UJ(n.targetEl.value??n.contentEl.value,S=>{d?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(S)})})):x(S)})})}),Ou(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(v),cancelAnimationFrame(g)})}function UJ(n,r){const l=[document,...b8(n)];l.forEach(d=>{d.addEventListener("scroll",r,{passive:!0})}),Ou(()=>{l.forEach(d=>{d.removeEventListener("scroll",r)})})}const X$=Symbol.for("vuetify:v-menu"),WJ=Dn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function ZJ(n,r){let l=()=>{};function d(x){l==null||l();const S=Number(x?n.openDelay:n.closeDelay);return new Promise(O=>{l=qde(S,()=>{r==null||r(x),O(x)})})}function g(){return d(!0)}function v(){return d(!1)}return{clearDelay:l,runOpenDelay:g,runCloseDelay:v}}const Ope=Dn({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...WJ()},"VOverlay-activator");function Dpe(n,r){let{isActive:l,isTop:d,contentEl:g}=r;const v=Tl("useActivator"),x=Mn();let S=!1,O=!1,V=!0;const P=Ge(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),B=Ge(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!P.value),{runOpenDelay:$,runCloseDelay:Z}=ZJ(n,We=>{We===(n.openOnHover&&S||P.value&&O)&&!(n.openOnHover&&l.value&&!d.value)&&(l.value!==We&&(V=!0),l.value=We)}),K=Mn(),X={onClick:We=>{We.stopPropagation(),x.value=We.currentTarget||We.target,l.value||(K.value=[We.clientX,We.clientY]),l.value=!l.value},onMouseenter:We=>{var qe;(qe=We.sourceCapabilities)!=null&&qe.firesTouchEvents||(S=!0,x.value=We.currentTarget||We.target,$())},onMouseleave:We=>{S=!1,Z()},onFocus:We=>{Zk(We.target,":focus-visible")!==!1&&(O=!0,We.stopPropagation(),x.value=We.currentTarget||We.target,$())},onBlur:We=>{O=!1,We.stopPropagation(),Z()}},ae=Ge(()=>{const We={};return B.value&&(We.onClick=X.onClick),n.openOnHover&&(We.onMouseenter=X.onMouseenter,We.onMouseleave=X.onMouseleave),P.value&&(We.onFocus=X.onFocus,We.onBlur=X.onBlur),We}),fe=Ge(()=>{const We={};if(n.openOnHover&&(We.onMouseenter=()=>{S=!0,$()},We.onMouseleave=()=>{S=!1,Z()}),P.value&&(We.onFocusin=()=>{O=!0,$()},We.onFocusout=()=>{O=!1,Z()}),n.closeOnContentClick){const qe=wa(X$,null);We.onClick=()=>{l.value=!1,qe==null||qe.closeParents()}}return We}),Le=Ge(()=>{const We={};return n.openOnHover&&(We.onMouseenter=()=>{V&&(S=!0,V=!1,$())},We.onMouseleave=()=>{S=!1,Z()}),We});Gn(d,We=>{var qe;We&&(n.openOnHover&&!S&&(!P.value||!O)||P.value&&!O&&(!n.openOnHover||!S))&&!((qe=g.value)!=null&&qe.contains(document.activeElement))&&(l.value=!1)}),Gn(l,We=>{We||setTimeout(()=>{K.value=void 0})},{flush:"post"});const Re=A$();cf(()=>{Re.value&&Ar(()=>{x.value=Re.el})});const te=A$(),Ce=Ge(()=>n.target==="cursor"&&K.value?K.value:te.value?te.el:jJ(n.target,v)||x.value),ie=Ge(()=>Array.isArray(Ce.value)?void 0:Ce.value);let Ue;return Gn(()=>!!n.activator,We=>{We&&fi?(Ue=yD(),Ue.run(()=>{Rpe(n,v,{activatorEl:x,activatorEvents:ae})})):Ue&&Ue.stop()},{flush:"post",immediate:!0}),Ou(()=>{Ue==null||Ue.stop()}),{activatorEl:x,activatorRef:Re,target:Ce,targetEl:ie,targetRef:te,activatorEvents:ae,contentEvents:fe,scrimEvents:Le}}function Rpe(n,r,l){let{activatorEl:d,activatorEvents:g}=l;Gn(()=>n.activator,(O,V)=>{if(V&&O!==V){const P=S(V);P&&x(P)}O&&Ar(()=>v())},{immediate:!0}),Gn(()=>n.activatorProps,()=>{v()}),Ou(()=>{x()});function v(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;O&&Jde(O,Wo(g.value,V))}function x(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S(),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;O&&Qde(O,Wo(g.value,V))}function S(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const V=jJ(O,r);return d.value=(V==null?void 0:V.nodeType)===Node.ELEMENT_NODE?V:void 0,d.value}}function jJ(n,r){var d,g;if(!n)return;let l;if(n==="parent"){let v=(g=(d=r==null?void 0:r.proxy)==null?void 0:d.$el)==null?void 0:g.parentNode;for(;v!=null&&v.hasAttribute("data-no-activator");)v=v.parentNode;l=v}else typeof n=="string"?l=document.querySelector(n):"$el"in n?l=n.$el:l=n;return l}function Ipe(){if(!fi)return Ao(!1);const{ssr:n}=q8();if(n){const r=Ao(!1);return Du(()=>{r.value=!0}),r}else return Ao(!0)}const Npe=Dn({eager:Boolean},"lazy");function Ppe(n,r){const l=Ao(!1),d=Ge(()=>l.value||n.eager||r.value);Gn(r,()=>l.value=!0);function g(){n.eager||(l.value=!1)}return{isBooted:l,hasContent:d,onAfterLeave:g}}function lL(){const r=Tl("useScopeId").vnode.scopeId;return{scopeId:r?{[r]:""}:void 0}}const yq=Symbol.for("vuetify:stack"),PO=Ql([]);function Mpe(n,r,l){const d=Tl("useStack"),g=!l,v=wa(yq,void 0),x=Ql({activeChildren:new Set});wd(yq,x);const S=Ao(+r.value);Rg(n,()=>{var B;const P=(B=PO.at(-1))==null?void 0:B[1];S.value=P?P+10:+r.value,g&&PO.push([d.uid,S.value]),v==null||v.activeChildren.add(d.uid),Ou(()=>{if(g){const $=ns(PO).findIndex(Z=>Z[0]===d.uid);PO.splice($,1)}v==null||v.activeChildren.delete(d.uid)})});const O=Ao(!0);g&&cf(()=>{var B;const P=((B=PO.at(-1))==null?void 0:B[0])===d.uid;setTimeout(()=>O.value=P)});const V=Ge(()=>!x.activeChildren.size);return{globalTop:xD(O),localTop:V,stackStyles:Ge(()=>({zIndex:S.value}))}}function Bpe(n){return{teleportTarget:Ge(()=>{const l=n();if(l===!0||!fi)return;const d=l===!1?document.body:typeof l=="string"?document.querySelector(l):l;if(d==null)return;let g=[...d.children].find(v=>v.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",d.appendChild(g)),g})}}function Lpe(){return!0}function KJ(n,r,l){if(!n||GJ(n,l)===!1)return!1;const d=SX(r);if(typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&d.host===n.target)return!1;const g=(typeof l.value=="object"&&l.value.include||(()=>[]))();return g.push(r),!g.some(v=>v==null?void 0:v.contains(n.target))}function GJ(n,r){return(typeof r.value=="object"&&r.value.closeConditional||Lpe)(n)}function Fpe(n,r,l){const d=typeof l.value=="function"?l.value:l.value.handler;n.shadowTarget=n.target,r._clickOutside.lastMousedownWasOutside&&KJ(n,r,l)&&setTimeout(()=>{GJ(n,l)&&d&&d(n)},0)}function xq(n,r){const l=SX(n);r(document),typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&r(l)}const Vpe={mounted(n,r){const l=g=>Fpe(g,n,r),d=g=>{n._clickOutside.lastMousedownWasOutside=KJ(g,n,r)};xq(n,g=>{g.addEventListener("click",l,!0),g.addEventListener("mousedown",d,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[r.instance.$.uid]={onClick:l,onMousedown:d}},beforeUnmount(n,r){n._clickOutside&&(xq(n,l=>{var v;if(!l||!((v=n._clickOutside)!=null&&v[r.instance.$.uid]))return;const{onClick:d,onMousedown:g}=n._clickOutside[r.instance.$.uid];l.removeEventListener("click",d,!0),l.removeEventListener("mousedown",g,!0)}),delete n._clickOutside[r.instance.$.uid])}};function zpe(n){const{modelValue:r,color:l,...d}=n;return G(Hy,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&G("div",Wo({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},d),null)]})}const XU=Dn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ope(),...Ls(),...Yh(),...Npe(),...bpe(),...Spe(),...cl(),...oE()},"VOverlay"),T8=Ro()({name:"VOverlay",directives:{ClickOutside:Vpe},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...XU()},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{slots:l,attrs:d,emit:g}=r;const v=Tl("VOverlay"),x=Mn(),S=Mn(),O=Mn(),V=zi(n,"modelValue"),P=Ge({get:()=>V.value,set:fn=>{fn&&n.disabled||(V.value=fn)}}),{themeClasses:B}=$l(n),{rtlClasses:$,isRtl:Z}=Ng(),{hasContent:K,onAfterLeave:X}=Ppe(n,P),ae=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),{globalTop:fe,localTop:Le,stackStyles:Re}=Mpe(P,Qo(n,"zIndex"),n._disableGlobalStack),{activatorEl:te,activatorRef:Ce,target:ie,targetEl:Ue,targetRef:We,activatorEvents:qe,contentEvents:st,scrimEvents:Se}=Dpe(n,{isActive:P,isTop:Le,contentEl:O}),{teleportTarget:Me}=Bpe(()=>{var Q,xs,Qn;const fn=n.attach||n.contained;if(fn)return fn;const _n=((Q=te==null?void 0:te.value)==null?void 0:Q.getRootNode())||((Qn=(xs=v.proxy)==null?void 0:xs.$el)==null?void 0:Qn.getRootNode());return _n instanceof ShadowRoot?_n:!1}),{dimensionStyles:D}=Xh(n),Ke=Ipe(),{scopeId:ct}=lL();Gn(()=>n.disabled,fn=>{fn&&(P.value=!1)});const{contentStyles:$t,updateLocation:Jt}=ype(n,{isRtl:Z,contentEl:O,target:ie,isActive:P});kpe(n,{root:x,contentEl:O,targetEl:Ue,isActive:P,updateLocation:Jt});function et(fn){g("click:outside",fn),n.persistent?Mt():P.value=!1}function pt(fn){return P.value&&fe.value&&(!n.scrim||fn.target===S.value||fn instanceof MouseEvent&&fn.shadowTarget===S.value)}fi&&Gn(P,fn=>{fn?window.addEventListener("keydown",Lt):window.removeEventListener("keydown",Lt)},{immediate:!0}),xc(()=>{fi&&window.removeEventListener("keydown",Lt)});function Lt(fn){var _n,Q;fn.key==="Escape"&&fe.value&&(n.persistent?Mt():(P.value=!1,(_n=O.value)!=null&&_n.contains(document.activeElement)&&((Q=te.value)==null||Q.focus())))}const tt=EJ();Rg(()=>n.closeOnBack,()=>{Xhe(tt,fn=>{fe.value&&P.value?(fn(!1),n.persistent?Mt():P.value=!1):fn()})});const Ye=Mn();Gn(()=>P.value&&(n.absolute||n.contained)&&Me.value==null,fn=>{if(fn){const _n=kX(x.value);_n&&_n!==document.scrollingElement&&(Ye.value=_n.scrollTop)}});function Mt(){n.noClickAnimation||O.value&&Mk(O.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:v8})}function no(){g("afterEnter")}function Fn(){X(),g("afterLeave")}return vs(()=>{var fn;return G(us,null,[(fn=l.activator)==null?void 0:fn.call(l,{isActive:P.value,targetRef:We,props:Wo({ref:Ce},qe.value,n.activatorProps)}),Ke.value&&K.value&&G(iue,{disabled:!Me.value,to:Me.value},{default:()=>[G("div",Wo({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":P.value,"v-overlay--contained":n.contained},B.value,$.value,n.class],style:[Re.value,{"--v-overlay-opacity":n.opacity,top:hs(Ye.value)},n.style],ref:x},ct,d),[G(zpe,Wo({color:ae,modelValue:P.value&&!!n.scrim,ref:S},Se.value),null),G(By,{appear:!0,persisted:!0,transition:n.transition,target:ie.value,onAfterEnter:no,onAfterLeave:Fn},{default:()=>{var _n;return[lo(G("div",Wo({ref:O,class:["v-overlay__content",n.contentClass],style:[D.value,$t.value]},st.value,n.contentProps),[(_n=l.default)==null?void 0:_n.call(l,{isActive:P})]),[[zo,P.value],[Gy("click-outside"),{handler:et,closeConditional:pt,include:()=>[te.value]}]])]}})])]})])}),{activatorEl:te,scrimEl:S,target:ie,animateClick:Mt,contentEl:O,globalTop:fe,localTop:Le,updateLocation:Jt}}}),l$=Symbol("Forwarded refs");function c$(n,r){let l=n;for(;l;){const d=Reflect.getOwnPropertyDescriptor(l,r);if(d)return d;l=Object.getPrototypeOf(l)}}function sE(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),d=1;d<r;d++)l[d-1]=arguments[d];return n[l$]=l,new Proxy(n,{get(g,v){if(Reflect.has(g,v))return Reflect.get(g,v);if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const x of l)if(x.value&&Reflect.has(x.value,v)){const S=Reflect.get(x.value,v);return typeof S=="function"?S.bind(x.value):S}}},has(g,v){if(Reflect.has(g,v))return!0;if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const x of l)if(x.value&&Reflect.has(x.value,v))return!0;return!1},set(g,v,x){if(Reflect.has(g,v))return Reflect.set(g,v,x);if(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))return!1;for(const S of l)if(S.value&&Reflect.has(S.value,v))return Reflect.set(S.value,v,x);return!1},getOwnPropertyDescriptor(g,v){var S;const x=Reflect.getOwnPropertyDescriptor(g,v);if(x)return x;if(!(typeof v=="symbol"||v.startsWith("$")||v.startsWith("__"))){for(const O of l){if(!O.value)continue;const V=c$(O.value,v)??("_"in O.value?c$((S=O.value._)==null?void 0:S.setupState,v):void 0);if(V)return V}for(const O of l){const V=O.value&&O.value[l$];if(!V)continue;const P=V.slice();for(;P.length;){const B=P.shift(),$=c$(B.value,v);if($)return $;const Z=B.value&&B.value[l$];Z&&P.push(...Z)}}}}})}const Hpe=Dn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...XU({origin:"center center",scrollStrategy:"block",transition:{component:YU},zIndex:2400})},"VDialog"),pv=Ro()({name:"VDialog",props:Hpe(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=zi(n,"modelValue"),{scopeId:v}=lL(),x=Mn();function S(P){var Z,K;const B=P.relatedTarget,$=P.target;if(B!==$&&((Z=x.value)!=null&&Z.contentEl)&&((K=x.value)!=null&&K.globalTop)&&![document,x.value.contentEl].includes($)&&!x.value.contentEl.contains($)){const X=JO(x.value.contentEl);if(!X.length)return;const ae=X[0],fe=X[X.length-1];B===ae?fe.focus():ae.focus()}}fi&&Gn(()=>g.value&&n.retainFocus,P=>{P?document.addEventListener("focusin",S):document.removeEventListener("focusin",S)},{immediate:!0});function O(){var P;l("afterEnter"),(P=x.value)!=null&&P.contentEl&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function V(){l("afterLeave")}return Gn(g,async P=>{var B;P||(await Ar(),(B=x.value.activatorEl)==null||B.focus({preventScroll:!0}))}),vs(()=>{const P=T8.filterProps(n),B=Wo({"aria-haspopup":"dialog"},n.activatorProps),$=Wo({tabindex:-1},n.contentProps);return G(T8,Wo({ref:x,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},P,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,"aria-modal":"true",activatorProps:B,contentProps:$,role:"dialog",onAfterEnter:O,onAfterLeave:V},v),{activator:d.activator,default:function(){for(var Z=arguments.length,K=new Array(Z),X=0;X<Z;X++)K[X]=arguments[X];return G(xa,{root:"VDialog"},{default:()=>{var ae;return[(ae=d.default)==null?void 0:ae.call(d,...K)]}})}})}),sE({},x)}}),$pe=Dn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ls(),...Pg(),...Qi(),...cl()},"VTable"),rC=Ro()({name:"VTable",props:$pe(),setup(n,r){let{slots:l,emit:d}=r;const{themeClasses:g}=$l(n),{densityClasses:v}=qh(n);return vs(()=>G(n.tag,{class:["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":n.hover},g.value,v.value,n.class],style:n.style},{default:()=>{var x,S,O;return[(x=l.top)==null?void 0:x.call(l),l.default?G("div",{class:"v-table__wrapper",style:{height:hs(n.height)}},[G("table",null,[l.default()])]):(S=l.wrapper)==null?void 0:S.call(l),(O=l.bottom)==null?void 0:O.call(l)]}})),{}}}),Upe={__name:"Help",setup(n){const r=mm();return(l,d)=>(Ln(),ds(us,null,[G(xo,{class:"app-header-item",onClick:d[0]||(d[0]=g=>le(r).showHelp=!0)},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-help"}),d[3]||(d[3]=yr(" Hilfe "))]),_:1}),G(pv,{modelValue:le(r).showHelp,"onUpdate:modelValue":d[2]||(d[2]=g=>le(r).showHelp=g),"max-width":"1000"},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>[d[7]||(d[7]=Ve("h1",null,"Allgemeine Navigation",-1)),G(rC,null,{default:Pt(()=>d[4]||(d[4]=[Ve("thead",null,[Ve("tr",null,[Ve("th",{width:"50%"},"Aktion"),Ve("th",{width:"50%"},"Tastenkombination")])],-1),Ve("tbody",null,[Ve("tr",null,[Ve("td",null,"Nchstes Element"),Ve("td",null,"Tab")]),Ve("tr",null,[Ve("td",null,"Vorheriges Element"),Ve("td",null,"Shift + Tab")]),Ve("tr",null,[Ve("td",null,"Header Schaltflchen"),Ve("td",null,"Alt + 0")]),Ve("tr",null,[Ve("td",null,"Navigationsleiste Schaltflchen"),Ve("td",null,"Alt + #")])],-1)])),_:1}),d[8]||(d[8]=Ve("h1",null,"Navigation im Editor",-1)),G(rC,null,{default:Pt(()=>d[5]||(d[5]=[Ve("thead",null,[Ve("tr",null,[Ve("th",{width:"50%"},"Aktion"),Ve("th",{width:"50%"},"Tastenkombination")])],-1),Ve("tbody",null,[Ve("tr",null,[Ve("td",null,"In Symbolleiste wechseln"),Ve("td",null,"Alt + F10")]),Ve("tr",null,[Ve("td",null,"Symbolleiste verlassen"),Ve("td",null,"Esc")]),Ve("tr",null,[Ve("td",null,"In Symbolleiste zwischen Schaltflchen wechseln"),Ve("td",null,"Pfeil links und rechts")]),Ve("tr",null,[Ve("td",null,"Popup der Absatzformate aufklappen"),Ve("td",null,"Eingabetaste")]),Ve("tr",null,[Ve("td",null,"Im Popup zwischen Absatzformaten wechseln"),Ve("td",null,"Pfeil abwrts und aufwrts")]),Ve("tr",null,[Ve("td",null,"Im Popup ein Absatzformat whlen"),Ve("td",null,"Eingabetaste")]),Ve("tr",null,[Ve("td",null,"Popup der Absatzformate schlieen"),Ve("td",null,"Esc")])],-1)])),_:1}),d[9]||(d[9]=Ve("h1",null,"Tastenbefehle im Editor",-1)),G(rC,{title:"Tastenbefehle im Editor"},{default:Pt(()=>d[6]||(d[6]=[Ve("thead",null,[Ve("tr",null,[Ve("th",{width:"50%"},"Aktion"),Ve("th",{width:"50%"},"Tastenkombination")])],-1),Ve("tbody",null,[Ve("tr",null,[Ve("td",null,"Fett"),Ve("td",null,"Ctrl + B")]),Ve("tr",null,[Ve("td",null,"Kursiv"),Ve("td",null,"Ctrl + I")]),Ve("tr",null,[Ve("td",null,"Unterstrichen"),Ve("td",null,"Ctrl + U")]),Ve("tr",null,[Ve("td",null,"Alles auswhlen"),Ve("td",null,"Ctrl + A")]),Ve("tr",null,[Ve("td",null,"Wiederholen"),Ve("td",null,"Ctrl + Y oder Ctrl + Shift + Z")]),Ve("tr",null,[Ve("td",null,"Rckgngig machen"),Ve("td",null,"Ctrl + Z")]),Ve("tr",null,[Ve("td",null,"berschrift 1"),Ve("td",null,"Shift + Alt + 1")]),Ve("tr",null,[Ve("td",null,"berschrift 2"),Ve("td",null,"Shift + Alt + 2")]),Ve("tr",null,[Ve("td",null,"berschrift 3"),Ve("td",null,"Shift + Alt + 3")]),Ve("tr",null,[Ve("td",null,"berschrift 4"),Ve("td",null,"Shift + Alt + 4")]),Ve("tr",null,[Ve("td",null,"berschrift 5"),Ve("td",null,"Shift + Alt + 5")]),Ve("tr",null,[Ve("td",null,"berschrift 6"),Ve("td",null,"Shift + Alt + 6")]),Ve("tr",null,[Ve("td",null,"Absatz"),Ve("td",null,"Shift + Alt + 7")])],-1)])),_:1})]),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:d[1]||(d[1]=g=>le(r).showHelp=!1)},{default:Pt(()=>d[10]||(d[10]=[Ve("span",null,"Hilfe schlieen",-1)])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Wpe=Ol(Upe,[["__scopeId","data-v-c122552a"]]),Zpe=Dn({text:String,onClick:sf(),...Ls(),...cl()},"VLabel"),qJ=Ro()({name:"VLabel",props:Zpe(),setup(n,r){let{slots:l}=r;return vs(()=>{var d;return G("label",{class:["v-label",{"v-label--clickable":!!n.onClick},n.class],style:n.style,onClick:n.onClick},[n.text,(d=l.default)==null?void 0:d.call(l)])}),{}}}),YJ=Symbol.for("vuetify:selection-control-group"),XJ=Dn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:mi,trueIcon:mi,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Xk},...Ls(),...Pg(),...cl()},"SelectionControlGroup"),jpe=Dn({...XJ({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Ro()({name:"VSelectionControlGroup",props:jpe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=zi(n,"modelValue"),g=Ig(),v=Ge(()=>n.id||`v-selection-control-group-${g}`),x=Ge(()=>n.name||v.value),S=new Set;return wd(YJ,{modelValue:d,forceUpdate:()=>{S.forEach(O=>O())},onForceUpdate:O=>{S.add(O),Ou(()=>{S.delete(O)})}}),Yy({[n.defaultsTarget]:{color:Qo(n,"color"),disabled:Qo(n,"disabled"),density:Qo(n,"density"),error:Qo(n,"error"),inline:Qo(n,"inline"),modelValue:d,multiple:Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),name:x,falseIcon:Qo(n,"falseIcon"),trueIcon:Qo(n,"trueIcon"),readonly:Qo(n,"readonly"),ripple:Qo(n,"ripple"),type:Qo(n,"type"),valueComparator:Qo(n,"valueComparator")}}),vs(()=>{var O;return G("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class],style:n.style,role:n.type==="radio"?"radiogroup":void 0},[(O=l.default)==null?void 0:O.call(l)])}),{}}});const JJ=Dn({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ls(),...XJ()},"VSelectionControl");function Kpe(n){const r=wa(YJ,void 0),{densityClasses:l}=qh(n),d=zi(n,"modelValue"),g=Ge(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),v=Ge(()=>n.falseValue!==void 0?n.falseValue:!1),x=Ge(()=>!!n.multiple||n.multiple==null&&Array.isArray(d.value)),S=Ge({get(){const Z=r?r.modelValue.value:d.value;return x.value?of(Z).some(K=>n.valueComparator(K,g.value)):n.valueComparator(Z,g.value)},set(Z){if(n.readonly)return;const K=Z?g.value:v.value;let X=K;x.value&&(X=Z?[...of(d.value),K]:of(d.value).filter(ae=>!n.valueComparator(ae,g.value))),r?r.modelValue.value=X:d.value=X}}),{textColorClasses:O,textColorStyles:V}=Kh(Ge(()=>{if(!(n.error||n.disabled))return S.value?n.color:n.baseColor})),{backgroundColorClasses:P,backgroundColorStyles:B}=Wh(Ge(()=>S.value&&!n.error&&!n.disabled?n.color:n.baseColor)),$=Ge(()=>S.value?n.trueIcon:n.falseIcon);return{group:r,densityClasses:l,trueValue:g,falseValue:v,model:S,textColorClasses:O,textColorStyles:V,backgroundColorClasses:P,backgroundColorStyles:B,icon:$}}const wq=Ro()({name:"VSelectionControl",directives:{Ripple:DD},inheritAttrs:!1,props:JJ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const{group:g,densityClasses:v,icon:x,model:S,textColorClasses:O,textColorStyles:V,backgroundColorClasses:P,backgroundColorStyles:B,trueValue:$}=Kpe(n),Z=Ig(),K=Ao(!1),X=Ao(!1),ae=Mn(),fe=Ge(()=>n.id||`input-${Z}`),Le=Ge(()=>!n.disabled&&!n.readonly);g==null||g.onForceUpdate(()=>{ae.value&&(ae.value.checked=S.value)});function Re(Ue){Le.value&&(K.value=!0,Zk(Ue.target,":focus-visible")!==!1&&(X.value=!0))}function te(){K.value=!1,X.value=!1}function Ce(Ue){Ue.stopPropagation()}function ie(Ue){if(!Le.value){ae.value&&(ae.value.checked=S.value);return}n.readonly&&g&&Ar(()=>g.forceUpdate()),S.value=Ue.target.checked}return vs(()=>{var Se,Me;const Ue=d.label?d.label({label:n.label,props:{for:fe.value}}):n.label,[We,qe]=Z8(l),st=G("input",Wo({ref:ae,checked:S.value,disabled:!!n.disabled,id:fe.value,onBlur:te,onFocus:Re,onInput:ie,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:$.value,name:n.name,"aria-checked":n.type==="checkbox"?S.value:void 0},qe),null);return G("div",Wo({class:["v-selection-control",{"v-selection-control--dirty":S.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":K.value,"v-selection-control--focus-visible":X.value,"v-selection-control--inline":n.inline},v.value,n.class]},We,{style:n.style}),[G("div",{class:["v-selection-control__wrapper",O.value],style:V.value},[(Se=d.default)==null?void 0:Se.call(d,{backgroundColorClasses:P,backgroundColorStyles:B}),lo(G("div",{class:["v-selection-control__input"]},[((Me=d.input)==null?void 0:Me.call(d,{model:S,textColorClasses:O,textColorStyles:V,backgroundColorClasses:P,backgroundColorStyles:B,inputNode:st,icon:x.value,props:{onFocus:Re,onBlur:te,id:fe.value}}))??G(us,null,[x.value&&G(qn,{key:"icon",icon:x.value},null),st])]),[[Gy("ripple"),n.ripple&&[!n.disabled&&!n.readonly,null,["center","circle"]]]])]),Ue&&G(qJ,{for:fe.value,onClick:Ce},{default:()=>[Ue]})])}),{isFocused:K,input:ae}}}),QJ=Dn({indeterminate:Boolean,indeterminateIcon:{type:mi,default:"$checkboxIndeterminate"},...JJ({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),O8=Ro()({name:"VCheckboxBtn",props:QJ(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,r){let{slots:l}=r;const d=zi(n,"indeterminate"),g=zi(n,"modelValue");function v(O){d.value&&(d.value=!1)}const x=Ge(()=>d.value?n.indeterminateIcon:n.falseIcon),S=Ge(()=>d.value?n.indeterminateIcon:n.trueIcon);return vs(()=>{const O=qy(wq.filterProps(n),["modelValue"]);return G(wq,Wo(O,{modelValue:g.value,"onUpdate:modelValue":[V=>g.value=V,v],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:x.value,trueIcon:S.value,"aria-checked":d.value?"mixed":void 0}),l)}),{}}});function eQ(n){const{t:r}=kD();function l(d){let{name:g}=d;const v={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],x=n[`onClick:${g}`],S=x&&v?r(`$vuetify.input.${v}`,n.label??""):void 0;return G(qn,{icon:n[`${g}Icon`],"aria-label":S,onClick:x},null)}return{InputIcon:l}}const Gpe=Dn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ls(),...oE({transition:{component:VJ,leaveAbsolute:!0,group:!0}})},"VMessages"),qpe=Ro()({name:"VMessages",props:Gpe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>of(n.messages)),{textColorClasses:g,textColorStyles:v}=Kh(Ge(()=>n.color));return vs(()=>G(By,{transition:n.transition,tag:"div",class:["v-messages",g.value,n.class],style:[v.value,n.style],role:"alert","aria-live":"polite"},{default:()=>[n.active&&d.value.map((x,S)=>G("div",{class:"v-messages__message",key:`${S}-${d.value}`},[l.message?l.message({message:x}):x]))]})),{}}}),tQ=Dn({focused:Boolean,"onUpdate:focused":sf()},"focus");function cL(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv();const l=zi(n,"focused"),d=Ge(()=>({[`${r}--focused`]:l.value}));function g(){l.value=!0}function v(){l.value=!1}return{focusClasses:d,isFocused:l,focus:g,blur:v}}const Ype=Symbol.for("vuetify:form");function JU(){return wa(Ype,null)}const Xpe=Dn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...tQ()},"validation");function Jpe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cv(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ig();const d=zi(n,"modelValue"),g=Ge(()=>n.validationValue===void 0?d.value:n.validationValue),v=JU(),x=Mn([]),S=Ao(!0),O=Ge(()=>!!(of(d.value===""?null:d.value).length||of(g.value===""?null:g.value).length)),V=Ge(()=>!!(n.disabled??(v==null?void 0:v.isDisabled.value))),P=Ge(()=>!!(n.readonly??(v==null?void 0:v.isReadonly.value))),B=Ge(()=>{var Ce;return(Ce=n.errorMessages)!=null&&Ce.length?of(n.errorMessages).concat(x.value).slice(0,Math.max(0,+n.maxErrors)):x.value}),$=Ge(()=>{let Ce=(n.validateOn??(v==null?void 0:v.validateOn.value))||"input";Ce==="lazy"&&(Ce="input lazy"),Ce==="eager"&&(Ce="input eager");const ie=new Set((Ce==null?void 0:Ce.split(" "))??[]);return{input:ie.has("input"),blur:ie.has("blur")||ie.has("input")||ie.has("invalid-input"),invalidInput:ie.has("invalid-input"),lazy:ie.has("lazy"),eager:ie.has("eager")}}),Z=Ge(()=>{var Ce;return n.error||(Ce=n.errorMessages)!=null&&Ce.length?!1:n.rules.length?S.value?x.value.length||$.value.lazy?null:!0:!x.value.length:!0}),K=Ao(!1),X=Ge(()=>({[`${r}--error`]:Z.value===!1,[`${r}--dirty`]:O.value,[`${r}--disabled`]:V.value,[`${r}--readonly`]:P.value})),ae=Tl("validation"),fe=Ge(()=>n.name??le(l));bU(()=>{v==null||v.register({id:fe.value,vm:ae,validate:te,reset:Le,resetValidation:Re})}),xc(()=>{v==null||v.unregister(fe.value)}),Du(async()=>{$.value.lazy||await te(!$.value.eager),v==null||v.update(fe.value,Z.value,B.value)}),Rg(()=>$.value.input||$.value.invalidInput&&Z.value===!1,()=>{Gn(g,()=>{if(g.value!=null)te();else if(n.focused){const Ce=Gn(()=>n.focused,ie=>{ie||te(),Ce()})}})}),Rg(()=>$.value.blur,()=>{Gn(()=>n.focused,Ce=>{Ce||te()})}),Gn([Z,B],()=>{v==null||v.update(fe.value,Z.value,B.value)});async function Le(){d.value=null,await Ar(),await Re()}async function Re(){S.value=!0,$.value.lazy?x.value=[]:await te(!$.value.eager)}async function te(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ie=[];K.value=!0;for(const Ue of n.rules){if(ie.length>=+(n.maxErrors??1))break;const qe=await(typeof Ue=="function"?Ue:()=>Ue)(g.value);if(qe!==!0){if(qe!==!1&&typeof qe!="string"){console.warn(`${qe} is not a valid value. Rule functions must return boolean true or a string.`);continue}ie.push(qe||"")}}return x.value=ie,K.value=!1,S.value=Ce,x.value}return{errorMessages:B,isDirty:O,isDisabled:V,isReadonly:P,isPristine:S,isValid:Z,isValidating:K,reset:Le,resetValidation:Re,validate:te,validationClasses:X}}const uL=Dn({id:String,appendIcon:mi,centerAffix:{type:Boolean,default:!0},prependIcon:mi,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":sf(),"onClick:append":sf(),...Ls(),...Pg(),...Ude(Yh(),["maxWidth","minWidth","width"]),...cl(),...Xpe()},"VInput"),Gk=Ro()({name:"VInput",props:{...uL()},emits:{"update:modelValue":n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const{densityClasses:v}=qh(n),{dimensionStyles:x}=Xh(n),{themeClasses:S}=$l(n),{rtlClasses:O}=Ng(),{InputIcon:V}=eQ(n),P=Ig(),B=Ge(()=>n.id||`input-${P}`),$=Ge(()=>`${B.value}-messages`),{errorMessages:Z,isDirty:K,isDisabled:X,isReadonly:ae,isPristine:fe,isValid:Le,isValidating:Re,reset:te,resetValidation:Ce,validate:ie,validationClasses:Ue}=Jpe(n,"v-input",B),We=Ge(()=>({id:B,messagesId:$,isDirty:K,isDisabled:X,isReadonly:ae,isPristine:fe,isValid:Le,isValidating:Re,reset:te,resetValidation:Ce,validate:ie})),qe=Ge(()=>{var st;return(st=n.errorMessages)!=null&&st.length||!fe.value&&Z.value.length?Z.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages});return vs(()=>{var Ke,ct,$t,Jt;const st=!!(d.prepend||n.prependIcon),Se=!!(d.append||n.appendIcon),Me=qe.value.length>0,D=!n.hideDetails||n.hideDetails==="auto"&&(Me||!!d.details);return G("div",{class:["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--hide-spin-buttons":n.hideSpinButtons},v.value,S.value,O.value,Ue.value,n.class],style:[x.value,n.style]},[st&&G("div",{key:"prepend",class:"v-input__prepend"},[(Ke=d.prepend)==null?void 0:Ke.call(d,We.value),n.prependIcon&&G(V,{key:"prepend-icon",name:"prepend"},null)]),d.default&&G("div",{class:"v-input__control"},[(ct=d.default)==null?void 0:ct.call(d,We.value)]),Se&&G("div",{key:"append",class:"v-input__append"},[n.appendIcon&&G(V,{key:"append-icon",name:"append"},null),($t=d.append)==null?void 0:$t.call(d,We.value)]),D&&G("div",{class:"v-input__details"},[G(qpe,{id:$.value,active:Me,messages:qe.value},{message:d.message}),(Jt=d.details)==null?void 0:Jt.call(d,We.value)])])}),{reset:te,resetValidation:Ce,validate:ie,isValid:Le,errorMessages:Z}}}),Qpe=Dn({...uL(),...qy(QJ(),["inline"])},"VCheckbox"),eve=Ro()({name:"VCheckbox",inheritAttrs:!1,props:Qpe(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,r){let{attrs:l,slots:d}=r;const g=zi(n,"modelValue"),{isFocused:v,focus:x,blur:S}=cL(n),O=Ig(),V=Ge(()=>n.id||`checkbox-${O}`);return vs(()=>{const[P,B]=Z8(l),$=Gk.filterProps(n),Z=O8.filterProps(n);return G(Gk,Wo({class:["v-checkbox",n.class]},P,$,{modelValue:g.value,"onUpdate:modelValue":K=>g.value=K,id:V.value,focused:v.value,style:n.style}),{...d,default:K=>{let{id:X,messagesId:ae,isDisabled:fe,isReadonly:Le,isValid:Re}=K;return G(O8,Wo(Z,{id:X.value,"aria-describedby":ae.value,disabled:fe.value,readonly:Le.value},B,{error:Re.value===!1,modelValue:g.value,"onUpdate:modelValue":te=>g.value=te,onFocus:x,onBlur:S}),d)}})}),{}}});function tve(n){let{selectedElement:r,containerElement:l,isRtl:d,isHorizontal:g}=n;const v=sD(g,l),x=nQ(g,d,l),S=sD(g,r),O=oQ(g,r),V=S*.4;return x>O?O-V:x+v<O+S?O-v+S+V:x}function nve(n){let{selectedElement:r,containerElement:l,isHorizontal:d}=n;const g=sD(d,l),v=oQ(d,r),x=sD(d,r);return v-g/2+x/2}function Cq(n,r){const l=n?"scrollWidth":"scrollHeight";return(r==null?void 0:r[l])||0}function ove(n,r){const l=n?"clientWidth":"clientHeight";return(r==null?void 0:r[l])||0}function nQ(n,r,l){if(!l)return 0;const{scrollLeft:d,offsetWidth:g,scrollWidth:v}=l;return n?r?v-g+d:d:l.scrollTop}function sD(n,r){const l=n?"offsetWidth":"offsetHeight";return(r==null?void 0:r[l])||0}function oQ(n,r){const l=n?"offsetLeft":"offsetTop";return(r==null?void 0:r[l])||0}const sve=Symbol.for("vuetify:v-slide-group"),sQ=Dn({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:sve},nextIcon:{type:mi,default:"$next"},prevIcon:{type:mi,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...Ls(),...IX({mobile:null}),...Qi(),...UU({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),_q=Ro()({name:"VSlideGroup",props:sQ(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{isRtl:d}=Ng(),{displayClasses:g,mobile:v}=q8(n),x=WU(n,n.symbol),S=Ao(!1),O=Ao(0),V=Ao(0),P=Ao(0),B=Ge(()=>n.direction==="horizontal"),{resizeRef:$,contentRect:Z}=Kk(),{resizeRef:K,contentRect:X}=Kk(),ae=Ame(),fe=Ge(()=>({container:$.el,duration:200,easing:"easeOutQuart"})),Le=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[0]):-1),Re=Ge(()=>x.selected.value.length?x.items.value.findIndex(Lt=>Lt.id===x.selected.value[x.selected.value.length-1]):-1);if(fi){let Lt=-1;Gn(()=>[x.selected.value,Z.value,X.value,B.value],()=>{cancelAnimationFrame(Lt),Lt=requestAnimationFrame(()=>{if(Z.value&&X.value){const tt=B.value?"width":"height";V.value=Z.value[tt],P.value=X.value[tt],S.value=V.value+1<P.value}if(Le.value>=0&&K.el){const tt=K.el.children[Re.value];Ce(tt,n.centerActive)}})})}const te=Ao(!1);function Ce(Lt,tt){let Ye=0;tt?Ye=nve({containerElement:$.el,isHorizontal:B.value,selectedElement:Lt}):Ye=tve({containerElement:$.el,isHorizontal:B.value,isRtl:d.value,selectedElement:Lt}),ie(Ye)}function ie(Lt){if(!fi||!$.el)return;const tt=sD(B.value,$.el),Ye=nQ(B.value,d.value,$.el);if(!(Cq(B.value,$.el)<=tt||Math.abs(Lt-Ye)<16)){if(B.value&&d.value&&$.el){const{scrollWidth:no,offsetWidth:Fn}=$.el;Lt=no-Fn-Lt}B.value?ae.horizontal(Lt,fe.value):ae(Lt,fe.value)}}function Ue(Lt){const{scrollTop:tt,scrollLeft:Ye}=Lt.target;O.value=B.value?Ye:tt}function We(Lt){if(te.value=!0,!(!S.value||!K.el)){for(const tt of Lt.composedPath())for(const Ye of K.el.children)if(Ye===tt){Ce(Ye);return}}}function qe(Lt){te.value=!1}let st=!1;function Se(Lt){var tt;!st&&!te.value&&!(Lt.relatedTarget&&((tt=K.el)!=null&&tt.contains(Lt.relatedTarget)))&&Ke(),st=!1}function Me(){st=!0}function D(Lt){if(!K.el)return;function tt(Ye){Lt.preventDefault(),Ke(Ye)}B.value?Lt.key==="ArrowRight"?tt(d.value?"prev":"next"):Lt.key==="ArrowLeft"&&tt(d.value?"next":"prev"):Lt.key==="ArrowDown"?tt("next"):Lt.key==="ArrowUp"&&tt("prev"),Lt.key==="Home"?tt("first"):Lt.key==="End"&&tt("last")}function Ke(Lt){var Ye,Mt;if(!K.el)return;let tt;if(!Lt)tt=JO(K.el)[0];else if(Lt==="next"){if(tt=(Ye=K.el.querySelector(":focus"))==null?void 0:Ye.nextElementSibling,!tt)return Ke("first")}else if(Lt==="prev"){if(tt=(Mt=K.el.querySelector(":focus"))==null?void 0:Mt.previousElementSibling,!tt)return Ke("last")}else Lt==="first"?tt=K.el.firstElementChild:Lt==="last"&&(tt=K.el.lastElementChild);tt&&tt.focus({preventScroll:!0})}function ct(Lt){const tt=B.value&&d.value?-1:1,Ye=(Lt==="prev"?-tt:tt)*V.value;let Mt=O.value+Ye;if(B.value&&d.value&&$.el){const{scrollWidth:no,offsetWidth:Fn}=$.el;Mt+=no-Fn}ie(Mt)}const $t=Ge(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),Jt=Ge(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return S.value||Math.abs(O.value)>0;case"mobile":return v.value||S.value||Math.abs(O.value)>0;default:return!v.value&&(S.value||Math.abs(O.value)>0)}}),et=Ge(()=>Math.abs(O.value)>1),pt=Ge(()=>{if(!$.value)return!1;const Lt=Cq(B.value,$.el),tt=ove(B.value,$.el);return Lt-tt-Math.abs(O.value)>1});return vs(()=>G(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!B.value,"v-slide-group--has-affixes":Jt.value,"v-slide-group--is-overflowing":S.value},g.value,n.class],style:n.style,tabindex:te.value||x.selected.value.length?-1:0,onFocus:Se},{default:()=>{var Lt,tt,Ye;return[Jt.value&&G("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!et.value}],onMousedown:Me,onClick:()=>et.value&&ct("prev")},[((Lt=l.prev)==null?void 0:Lt.call(l,$t.value))??G(hq,null,{default:()=>[G(qn,{icon:d.value?n.nextIcon:n.prevIcon},null)]})]),G("div",{key:"container",ref:$,class:"v-slide-group__container",onScroll:Ue},[G("div",{ref:K,class:"v-slide-group__content",onFocusin:We,onFocusout:qe,onKeydown:D},[(tt=l.default)==null?void 0:tt.call(l,$t.value)])]),Jt.value&&G("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!pt.value}],onMousedown:Me,onClick:()=>pt.value&&ct("next")},[((Ye=l.next)==null?void 0:Ye.call(l,$t.value))??G(hq,null,{default:()=>[G(qn,{icon:d.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:ct,scrollOffset:O,focus:Ke,hasPrev:et,hasNext:pt}}}),rQ=Symbol.for("vuetify:v-chip-group"),rve=Dn({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Xk},...sQ(),...Ls(),...UU({selectedClass:"v-chip--selected"}),...Qi(),...cl(),...N1({variant:"tonal"})},"VChipGroup");Ro()({name:"VChipGroup",props:rve(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const{themeClasses:d}=$l(n),{isSelected:g,select:v,next:x,prev:S,selected:O}=WU(n,rQ);return Yy({VChip:{color:Qo(n,"color"),disabled:Qo(n,"disabled"),filter:Qo(n,"filter"),variant:Qo(n,"variant")}}),vs(()=>{const V=_q.filterProps(n);return G(_q,Wo(V,{class:["v-chip-group",{"v-chip-group--column":n.column},d.value,n.class],style:n.style}),{default:()=>{var P;return[(P=l.default)==null?void 0:P.call(l,{isSelected:g,select:v,next:x,prev:S,selected:O.value})]}})}),{}}});const ive=Dn({activeClass:String,appendAvatar:String,appendIcon:mi,closable:Boolean,closeIcon:{type:mi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:sf(),onClickOnce:sf(),...O1(),...Ls(),...Pg(),...R1(),...xJ(),...hm(),...iL(),...TD(),...Qi({tag:"span"}),...cl(),...N1({variant:"tonal"})},"VChip"),iQ=Ro()({name:"VChip",directives:{Ripple:DD},props:ive(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{t:v}=kD(),{borderClasses:x}=D1(n),{colorClasses:S,colorStyles:O,variantClasses:V}=nE(n),{densityClasses:P}=qh(n),{elevationClasses:B}=I1(n),{roundedClasses:$}=pm(n),{sizeClasses:Z}=OD(n),{themeClasses:K}=$l(n),X=zi(n,"modelValue"),ae=wJ(n,rQ,!1),fe=rL(n,l),Le=Ge(()=>n.link!==!1&&fe.isLink.value),Re=Ge(()=>!n.disabled&&n.link!==!1&&(!!ae||n.link||fe.isClickable.value)),te=Ge(()=>({"aria-label":v(n.closeLabel),onClick(Ue){Ue.preventDefault(),Ue.stopPropagation(),X.value=!1,d("click:close",Ue)}}));function Ce(Ue){var We;d("click",Ue),Re.value&&((We=fe.navigate)==null||We.call(fe,Ue),ae==null||ae.toggle())}function ie(Ue){(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),Ce(Ue))}return()=>{const Ue=fe.isLink.value?"a":n.tag,We=!!(n.appendIcon||n.appendAvatar),qe=!!(We||g.append),st=!!(g.close||n.closable),Se=!!(g.filter||n.filter)&&ae,Me=!!(n.prependIcon||n.prependAvatar),D=!!(Me||g.prepend),Ke=!ae||ae.isSelected.value;return X.value&&lo(G(Ue,Wo({class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":Re.value,"v-chip--filter":Se,"v-chip--pill":n.pill},K.value,x.value,Ke?S.value:void 0,P.value,B.value,$.value,Z.value,V.value,ae==null?void 0:ae.selectedClass.value,n.class],style:[Ke?O.value:void 0,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:Re.value?0:void 0,onClick:Ce,onKeydown:Re.value&&!Le.value&&ie},fe.linkProps),{default:()=>{var ct;return[tE(Re.value,"v-chip"),Se&&G(HJ,{key:"filter"},{default:()=>[lo(G("div",{class:"v-chip__filter"},[g.filter?G(xa,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},g.filter):G(qn,{key:"filter-icon",icon:n.filterIcon},null)]),[[zo,ae.isSelected.value]])]}),D&&G("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?G(xa,{key:"prepend-defaults",disabled:!Me,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},g.prepend):G(us,null,[n.prependIcon&&G(qn,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&G(Zy,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),G("div",{class:"v-chip__content","data-no-activator":""},[((ct=g.default)==null?void 0:ct.call(g,{isSelected:ae==null?void 0:ae.isSelected.value,selectedClass:ae==null?void 0:ae.selectedClass.value,select:ae==null?void 0:ae.select,toggle:ae==null?void 0:ae.toggle,value:ae==null?void 0:ae.value.value,disabled:n.disabled}))??n.text]),qe&&G("div",{key:"append",class:"v-chip__append"},[g.append?G(xa,{key:"append-defaults",disabled:!We,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},g.append):G(us,null,[n.appendIcon&&G(qn,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&G(Zy,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),st&&G("button",Wo({key:"close",class:"v-chip__close",type:"button"},te.value),[g.close?G(xa,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},g.close):G(qn,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[Gy("ripple"),Re.value&&n.ripple,null]])}}}),J$=Symbol.for("vuetify:list");function aQ(){const n=wa(J$,{hasPrepend:Ao(!1),updateHasPrepend:()=>null}),r={hasPrepend:Ao(!1),updateHasPrepend:l=>{l&&(r.hasPrepend.value=l)}};return wd(J$,r),n}function lQ(){return wa(J$,null)}const QU=n=>{const r={activate:l=>{let{id:d,value:g,activated:v}=l;return d=ns(d),n&&!g&&v.size===1&&v.has(d)||(g?v.add(d):v.delete(d)),v},in:(l,d,g)=>{let v=new Set;if(l!=null)for(const x of of(l))v=r.activate({id:x,value:!0,activated:new Set(v),children:d,parents:g});return v},out:l=>Array.from(l)};return r},cQ=n=>{const r=QU(n);return{activate:d=>{let{activated:g,id:v,...x}=d;v=ns(v);const S=g.has(v)?new Set([v]):new Set;return r.activate({...x,id:v,activated:S})},in:(d,g,v)=>{let x=new Set;if(d!=null){const S=of(d);S.length&&(x=r.in(S.slice(0,1),g,v))}return x},out:(d,g,v)=>r.out(d,g,v)}},ave=n=>{const r=QU(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ns(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},lve=n=>{const r=cQ(n);return{activate:d=>{let{id:g,activated:v,children:x,...S}=d;return g=ns(g),x.has(g)?v:r.activate({id:g,activated:v,children:x,...S})},in:r.in,out:r.out}},cve={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){const v=new Set;v.add(r);let x=g.get(r);for(;x!=null;)v.add(x),x=g.get(x);return v}else return d.delete(r),d},select:()=>null},uQ={open:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(l){let v=g.get(r);for(d.add(r);v!=null&&v!==r;)d.add(v),v=g.get(v);return d}else d.delete(r);return d},select:()=>null},uve={open:uQ.open,select:n=>{let{id:r,value:l,opened:d,parents:g}=n;if(!l)return d;const v=[];let x=g.get(r);for(;x!=null;)v.push(x),x=g.get(x);return new Set(v)}},eW=n=>{const r={select:l=>{let{id:d,value:g,selected:v}=l;if(d=ns(d),n&&!g){const x=Array.from(v.entries()).reduce((S,O)=>{let[V,P]=O;return P==="on"&&S.push(V),S},[]);if(x.length===1&&x[0]===d)return v}return v.set(d,g?"on":"off"),v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:l=>{const d=[];for(const[g,v]of l.entries())v==="on"&&d.push(g);return d}};return r},dQ=n=>{const r=eW(n);return{select:d=>{let{selected:g,id:v,...x}=d;v=ns(v);const S=g.has(v)?new Map([[v,g.get(v)]]):new Map;return r.select({...x,id:v,selected:S})},in:(d,g,v)=>{let x=new Map;return d!=null&&d.length&&(x=r.in(d.slice(0,1),g,v)),x},out:(d,g,v)=>r.out(d,g,v)}},dve=n=>{const r=eW(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ns(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},fve=n=>{const r=dQ(n);return{select:d=>{let{id:g,selected:v,children:x,...S}=d;return g=ns(g),x.has(g)?v:r.select({id:g,selected:v,children:x,...S})},in:r.in,out:r.out}},mve=n=>{const r={select:l=>{let{id:d,value:g,selected:v,children:x,parents:S}=l;d=ns(d);const O=new Map(v),V=[d];for(;V.length;){const B=V.shift();v.set(ns(B),g?"on":"off"),x.has(B)&&V.push(...x.get(B))}let P=ns(S.get(d));for(;P;){const B=x.get(P),$=B.every(K=>v.get(ns(K))==="on"),Z=B.every(K=>!v.has(ns(K))||v.get(ns(K))==="off");v.set(P,$?"on":Z?"off":"indeterminate"),P=ns(S.get(P))}return n&&!g&&Array.from(v.entries()).reduce(($,Z)=>{let[K,X]=Z;return X==="on"&&$.push(K),$},[]).length===0?O:v},in:(l,d,g)=>{let v=new Map;for(const x of l||[])v=r.select({id:x,value:!0,selected:new Map(v),children:d,parents:g});return v},out:(l,d)=>{const g=[];for(const[v,x]of l.entries())x==="on"&&!d.has(v)&&g.push(v);return g}};return r},rD=Symbol.for("vuetify:nested"),fQ={id:Ao(),root:{register:()=>null,unregister:()=>null,parents:Mn(new Map),children:Mn(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Mn(!1),selectable:Mn(!1),opened:Mn(new Set),activated:Mn(new Set),selected:Mn(new Map),selectedValues:Mn([]),getPath:()=>[]}},gve=Dn({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),hve=n=>{let r=!1;const l=Mn(new Map),d=Mn(new Map),g=zi(n,"opened",n.opened,K=>new Set(K),K=>[...K.values()]),v=Ge(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return ave(n.mandatory);case"single-leaf":return lve(n.mandatory);case"independent":return QU(n.mandatory);case"single-independent":default:return cQ(n.mandatory)}}),x=Ge(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return fve(n.mandatory);case"leaf":return dve(n.mandatory);case"independent":return eW(n.mandatory);case"single-independent":return dQ(n.mandatory);case"classic":default:return mve(n.mandatory)}}),S=Ge(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return uve;case"single":return cve;case"multiple":default:return uQ}}),O=zi(n,"activated",n.activated,K=>v.value.in(K,l.value,d.value),K=>v.value.out(K,l.value,d.value)),V=zi(n,"selected",n.selected,K=>x.value.in(K,l.value,d.value),K=>x.value.out(K,l.value,d.value));xc(()=>{r=!0});function P(K){const X=[];let ae=K;for(;ae!=null;)X.unshift(ae),ae=d.value.get(ae);return X}const B=Tl("nested"),$=new Set,Z={id:Ao(),root:{opened:g,activatable:Qo(n,"activatable"),selectable:Qo(n,"selectable"),activated:O,selected:V,selectedValues:Ge(()=>{const K=[];for(const[X,ae]of V.value.entries())ae==="on"&&K.push(X);return K}),register:(K,X,ae)=>{if($.has(K)){P(K).join(" -> "),P(X).concat(K).join(" -> ");return}else $.add(K);X&&K!==X&&d.value.set(K,X),ae&&l.value.set(K,[]),X!=null&&l.value.set(X,[...l.value.get(X)||[],K])},unregister:K=>{if(r)return;$.delete(K),l.value.delete(K);const X=d.value.get(K);if(X){const ae=l.value.get(X)??[];l.value.set(X,ae.filter(fe=>fe!==K))}d.value.delete(K)},open:(K,X,ae)=>{B.emit("click:open",{id:K,value:X,path:P(K),event:ae});const fe=S.value.open({id:K,value:X,opened:new Set(g.value),children:l.value,parents:d.value,event:ae});fe&&(g.value=fe)},openOnSelect:(K,X,ae)=>{const fe=S.value.select({id:K,value:X,selected:new Map(V.value),opened:new Set(g.value),children:l.value,parents:d.value,event:ae});fe&&(g.value=fe)},select:(K,X,ae)=>{B.emit("click:select",{id:K,value:X,path:P(K),event:ae});const fe=x.value.select({id:K,value:X,selected:new Map(V.value),children:l.value,parents:d.value,event:ae});fe&&(V.value=fe),Z.root.openOnSelect(K,X,ae)},activate:(K,X,ae)=>{if(!n.activatable)return Z.root.select(K,!0,ae);B.emit("click:activate",{id:K,value:X,path:P(K),event:ae});const fe=v.value.activate({id:K,value:X,activated:new Set(O.value),children:l.value,parents:d.value,event:ae});fe&&(O.value=fe)},children:l,parents:d,getPath:P}};return wd(rD,Z),Z.root},mQ=(n,r)=>{const l=wa(rD,fQ),d=Symbol(Ig()),g=Ge(()=>n.value!==void 0?n.value:d),v={...l,id:g,open:(x,S)=>l.root.open(g.value,x,S),openOnSelect:(x,S)=>l.root.openOnSelect(g.value,x,S),isOpen:Ge(()=>l.root.opened.value.has(g.value)),parent:Ge(()=>l.root.parents.value.get(g.value)),activate:(x,S)=>l.root.activate(g.value,x,S),isActivated:Ge(()=>l.root.activated.value.has(ns(g.value))),select:(x,S)=>l.root.select(g.value,x,S),isSelected:Ge(()=>l.root.selected.value.get(ns(g.value))==="on"),isIndeterminate:Ge(()=>l.root.selected.value.get(g.value)==="indeterminate"),isLeaf:Ge(()=>!l.root.children.value.get(g.value)),isGroupActivator:l.isGroupActivator};return!l.isGroupActivator&&l.root.register(g.value,l.id.value,r),xc(()=>{!l.isGroupActivator&&l.root.unregister(g.value)}),r&&wd(rD,v),v},pve=()=>{const n=wa(rD,fQ);wd(rD,{...n,isGroupActivator:!0})};function dL(){const n=Ao(!1);return Du(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:Ge(()=>n.value?void 0:{transition:"none !important"}),isBooted:xD(n)}}const vve=Jk({name:"VListGroupActivator",setup(n,r){let{slots:l}=r;return pve(),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),bve=Dn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:mi,default:"$collapse"},expandIcon:{type:mi,default:"$expand"},prependIcon:mi,appendIcon:mi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ls(),...Qi()},"VListGroup"),Sq=Ro()({name:"VListGroup",props:bve(),setup(n,r){let{slots:l}=r;const{isOpen:d,open:g,id:v}=mQ(Qo(n,"value"),!0),x=Ge(()=>`v-list-group--id-${String(v.value)}`),S=lQ(),{isBooted:O}=dL();function V(Z){Z.stopPropagation(),g(!d.value,Z)}const P=Ge(()=>({onClick:V,class:"v-list-group__header",id:x.value})),B=Ge(()=>d.value?n.collapseIcon:n.expandIcon),$=Ge(()=>({VListItem:{active:d.value,activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&B.value,appendIcon:n.appendIcon||!n.subgroup&&B.value,title:n.title,value:n.value}}));return vs(()=>G(n.tag,{class:["v-list-group",{"v-list-group--prepend":S==null?void 0:S.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":d.value},n.class],style:n.style},{default:()=>[l.activator&&G(xa,{defaults:$.value},{default:()=>[G(vve,null,{default:()=>[l.activator({props:P.value,isOpen:d.value})]})]}),G(By,{transition:{component:zJ},disabled:!O.value},{default:()=>{var Z;return[lo(G("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(Z=l.default)==null?void 0:Z.call(l)]),[[zo,d.value]])]}})]})),{isOpen:d}}}),yve=Dn({opacity:[Number,String],...Ls(),...Qi()},"VListItemSubtitle"),xve=Ro()({name:"VListItemSubtitle",props:yve(),setup(n,r){let{slots:l}=r;return vs(()=>G(n.tag,{class:["v-list-item-subtitle",n.class],style:[{"--v-list-item-subtitle-opacity":n.opacity},n.style]},l)),{}}}),wve=j8("v-list-item-title"),Cve=Dn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:mi,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:mi,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:sf(),onClickOnce:sf(),...O1(),...Ls(),...Pg(),...Yh(),...R1(),...hm(),...iL(),...Qi(),...cl(),...N1({variant:"text"})},"VListItem"),vc=Ro()({name:"VListItem",directives:{Ripple:DD},props:Cve(),emits:{click:n=>!0},setup(n,r){let{attrs:l,slots:d,emit:g}=r;const v=rL(n,l),x=Ge(()=>n.value===void 0?v.href.value:n.value),{activate:S,isActivated:O,select:V,isOpen:P,isSelected:B,isIndeterminate:$,isGroupActivator:Z,root:K,parent:X,openOnSelect:ae,id:fe}=mQ(x,!1),Le=lQ(),Re=Ge(()=>{var Ye;return n.active!==!1&&(n.active||((Ye=v.isActive)==null?void 0:Ye.value)||(K.activatable.value?O.value:B.value))}),te=Ge(()=>n.link!==!1&&v.isLink.value),Ce=Ge(()=>!n.disabled&&n.link!==!1&&(n.link||v.isClickable.value||!!Le&&(K.selectable.value||K.activatable.value||n.value!=null))),ie=Ge(()=>n.rounded||n.nav),Ue=Ge(()=>n.color??n.activeColor),We=Ge(()=>({color:Re.value?Ue.value??n.baseColor:n.baseColor,variant:n.variant}));Gn(()=>{var Ye;return(Ye=v.isActive)==null?void 0:Ye.value},Ye=>{Ye&&X.value!=null&&K.open(X.value,!0),Ye&&ae(Ye)},{immediate:!0});const{themeClasses:qe}=$l(n),{borderClasses:st}=D1(n),{colorClasses:Se,colorStyles:Me,variantClasses:D}=nE(We),{densityClasses:Ke}=qh(n),{dimensionStyles:ct}=Xh(n),{elevationClasses:$t}=I1(n),{roundedClasses:Jt}=pm(ie),et=Ge(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),pt=Ge(()=>({isActive:Re.value,select:V,isOpen:P.value,isSelected:B.value,isIndeterminate:$.value}));function Lt(Ye){var Mt;g("click",Ye),Ce.value&&((Mt=v.navigate)==null||Mt.call(v,Ye),!Z&&(K.activatable.value?S(!O.value,Ye):(K.selectable.value||n.value!=null)&&V(!B.value,Ye)))}function tt(Ye){(Ye.key==="Enter"||Ye.key===" ")&&(Ye.preventDefault(),Ye.target.dispatchEvent(new MouseEvent("click",Ye)))}return vs(()=>{const Ye=te.value?"a":n.tag,Mt=d.title||n.title!=null,no=d.subtitle||n.subtitle!=null,Fn=!!(n.appendAvatar||n.appendIcon),fn=!!(Fn||d.append),_n=!!(n.prependAvatar||n.prependIcon),Q=!!(_n||d.prepend);return Le==null||Le.updateHasPrepend(Q),n.activeColor&&afe("active-color",["color","base-color"]),lo(G(Ye,Wo({class:["v-list-item",{"v-list-item--active":Re.value,"v-list-item--disabled":n.disabled,"v-list-item--link":Ce.value,"v-list-item--nav":n.nav,"v-list-item--prepend":!Q&&(Le==null?void 0:Le.hasPrepend.value),"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&Re.value},qe.value,st.value,Se.value,Ke.value,$t.value,et.value,Jt.value,D.value,n.class],style:[Me.value,ct.value,n.style],tabindex:Ce.value?Le?-2:0:void 0,onClick:Lt,onKeydown:Ce.value&&!te.value&&tt},v.linkProps),{default:()=>{var xs;return[tE(Ce.value||Re.value,"v-list-item"),Q&&G("div",{key:"prepend",class:"v-list-item__prepend"},[d.prepend?G(xa,{key:"prepend-defaults",disabled:!_n,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Qn;return[(Qn=d.prepend)==null?void 0:Qn.call(d,pt.value)]}}):G(us,null,[n.prependAvatar&&G(Zy,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&G(qn,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),G("div",{class:"v-list-item__spacer"},null)]),G("div",{class:"v-list-item__content","data-no-activator":""},[Mt&&G(wve,{key:"title"},{default:()=>{var Qn;return[((Qn=d.title)==null?void 0:Qn.call(d,{title:n.title}))??n.title]}}),no&&G(xve,{key:"subtitle"},{default:()=>{var Qn;return[((Qn=d.subtitle)==null?void 0:Qn.call(d,{subtitle:n.subtitle}))??n.subtitle]}}),(xs=d.default)==null?void 0:xs.call(d,pt.value)]),fn&&G("div",{key:"append",class:"v-list-item__append"},[d.append?G(xa,{key:"append-defaults",disabled:!Fn,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Qn;return[(Qn=d.append)==null?void 0:Qn.call(d,pt.value)]}}):G(us,null,[n.appendIcon&&G(qn,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&G(Zy,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),G("div",{class:"v-list-item__spacer"},null)])]}}),[[Gy("ripple"),Ce.value&&n.ripple]])}),{activate:S,isActivated:O,isGroupActivator:Z,isSelected:B,list:Le,select:V,root:K,id:fe}}}),_ve=Dn({color:String,inset:Boolean,sticky:Boolean,title:String,...Ls(),...Qi()},"VListSubheader"),Sve=Ro()({name:"VListSubheader",props:_ve(),setup(n,r){let{slots:l}=r;const{textColorClasses:d,textColorStyles:g}=Kh(Qo(n,"color"));return vs(()=>{const v=!!(l.default||n.title);return G(n.tag,{class:["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},d.value,n.class],style:[{textColorStyles:g},n.style]},{default:()=>{var x;return[v&&G("div",{class:"v-list-subheader__text"},[((x=l.default)==null?void 0:x.call(l))??n.title])]}})}),{}}}),kve=Dn({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ls(),...cl()},"VDivider"),BO=Ro()({name:"VDivider",props:kve(),setup(n,r){let{attrs:l,slots:d}=r;const{themeClasses:g}=$l(n),{textColorClasses:v,textColorStyles:x}=Kh(Qo(n,"color")),S=Ge(()=>{const O={};return n.length&&(O[n.vertical?"height":"width"]=hs(n.length)),n.thickness&&(O[n.vertical?"borderRightWidth":"borderTopWidth"]=hs(n.thickness)),O});return vs(()=>{const O=G("hr",{class:[{"v-divider":!0,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},g.value,v.value,n.class],style:[S.value,x.value,{"--v-border-opacity":n.opacity},n.style],"aria-orientation":!l.role||l.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${l.role||"separator"}`},null);return d.default?G("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":n.vertical,"v-divider__wrapper--inset":n.inset}]},[O,G("div",{class:"v-divider__content"},[d.default()]),O]):O}),{}}}),Eve=Dn({items:Array,returnObject:Boolean},"VListChildren"),gQ=Ro()({name:"VListChildren",props:Eve(),setup(n,r){let{slots:l}=r;return aQ(),()=>{var d,g;return((d=l.default)==null?void 0:d.call(l))??((g=n.items)==null?void 0:g.map(v=>{var $,Z;let{children:x,props:S,type:O,raw:V}=v;if(O==="divider")return(($=l.divider)==null?void 0:$.call(l,{props:S}))??G(BO,S,null);if(O==="subheader")return((Z=l.subheader)==null?void 0:Z.call(l,{props:S}))??G(Sve,S,null);const P={subtitle:l.subtitle?K=>{var X;return(X=l.subtitle)==null?void 0:X.call(l,{...K,item:V})}:void 0,prepend:l.prepend?K=>{var X;return(X=l.prepend)==null?void 0:X.call(l,{...K,item:V})}:void 0,append:l.append?K=>{var X;return(X=l.append)==null?void 0:X.call(l,{...K,item:V})}:void 0,title:l.title?K=>{var X;return(X=l.title)==null?void 0:X.call(l,{...K,item:V})}:void 0},B=Sq.filterProps(S);return x?G(Sq,Wo({value:S==null?void 0:S.value},B),{activator:K=>{let{props:X}=K;const ae={...S,...X,value:n.returnObject?V:S.value};return l.header?l.header({props:ae}):G(vc,ae,P)},default:()=>G(gQ,{items:x,returnObject:n.returnObject},l)}):l.item?l.item({props:S}):G(vc,Wo(S,{value:n.returnObject?V:S.value}),P)}))}}}),hQ=Dn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Xk}},"list-items");function Q$(n,r){const l=fv(r,n.itemTitle,r),d=fv(r,n.itemValue,l),g=fv(r,n.itemChildren),v=n.itemProps===!0?typeof r=="object"&&r!=null&&!Array.isArray(r)?"children"in r?qy(r,["children"]):r:void 0:fv(r,n.itemProps),x={title:l,value:d,...v};return{title:String(x.title??""),value:x.value,props:x,children:Array.isArray(g)?pQ(n,g):void 0,raw:r}}function pQ(n,r){const l=[];for(const d of r)l.push(Q$(n,d));return l}function vQ(n){const r=Ge(()=>pQ(n,n.items)),l=Ge(()=>r.value.some(v=>v.value===null));function d(v){return l.value||(v=v.filter(x=>x!==null)),v.map(x=>n.returnObject&&typeof x=="string"?Q$(n,x):r.value.find(S=>n.valueComparator(x,S.value))||Q$(n,x))}function g(v){return n.returnObject?v.map(x=>{let{raw:S}=x;return S}):v.map(x=>{let{value:S}=x;return S})}return{items:r,transformIn:d,transformOut:g}}function Ave(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"}function Tve(n,r){const l=fv(r,n.itemType,"item"),d=Ave(r)?r:fv(r,n.itemTitle),g=fv(r,n.itemValue,void 0),v=fv(r,n.itemChildren),x=n.itemProps===!0?qy(r,["children"]):fv(r,n.itemProps),S={title:d,value:g,...x};return{type:l,title:S.title,value:S.value,props:S,children:l==="item"&&v?bQ(n,v):void 0,raw:r}}function bQ(n,r){const l=[];for(const d of r)l.push(Tve(n,d));return l}function Ove(n){return{items:Ge(()=>bQ(n,n.items))}}const Dve=Dn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":sf(),"onClick:select":sf(),"onUpdate:opened":sf(),...gve({selectStrategy:"single-leaf",openStrategy:"list"}),...O1(),...Ls(),...Pg(),...Yh(),...R1(),itemType:{type:String,default:"type"},...hQ(),...hm(),...Qi(),...cl(),...N1({variant:"text"})},"VList"),iD=Ro()({name:"VList",props:Dve(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,r){let{slots:l}=r;const{items:d}=Ove(n),{themeClasses:g}=$l(n),{backgroundColorClasses:v,backgroundColorStyles:x}=Wh(Qo(n,"bgColor")),{borderClasses:S}=D1(n),{densityClasses:O}=qh(n),{dimensionStyles:V}=Xh(n),{elevationClasses:P}=I1(n),{roundedClasses:B}=pm(n),{children:$,open:Z,parents:K,select:X,getPath:ae}=hve(n),fe=Ge(()=>n.lines?`v-list--${n.lines}-line`:void 0),Le=Qo(n,"activeColor"),Re=Qo(n,"baseColor"),te=Qo(n,"color");aQ(),Yy({VListGroup:{activeColor:Le,baseColor:Re,color:te,expandIcon:Qo(n,"expandIcon"),collapseIcon:Qo(n,"collapseIcon")},VListItem:{activeClass:Qo(n,"activeClass"),activeColor:Le,baseColor:Re,color:te,density:Qo(n,"density"),disabled:Qo(n,"disabled"),lines:Qo(n,"lines"),nav:Qo(n,"nav"),slim:Qo(n,"slim"),variant:Qo(n,"variant")}});const Ce=Ao(!1),ie=Mn();function Ue(D){Ce.value=!0}function We(D){Ce.value=!1}function qe(D){var Ke;!Ce.value&&!(D.relatedTarget&&((Ke=ie.value)!=null&&Ke.contains(D.relatedTarget)))&&Me()}function st(D){const Ke=D.target;if(!(!ie.value||["INPUT","TEXTAREA"].includes(Ke.tagName))){if(D.key==="ArrowDown")Me("next");else if(D.key==="ArrowUp")Me("prev");else if(D.key==="Home")Me("first");else if(D.key==="End")Me("last");else return;D.preventDefault()}}function Se(D){Ce.value=!0}function Me(D){if(ie.value)return $O(ie.value,D)}return vs(()=>G(n.tag,{ref:ie,class:["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},g.value,v.value,S.value,O.value,P.value,fe.value,B.value,n.class],style:[x.value,V.value,n.style],tabindex:n.disabled||Ce.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ue,onFocusout:We,onFocus:qe,onKeydown:st,onMousedown:Se},{default:()=>[G(gQ,{items:d.value,returnObject:n.returnObject},l)]})),{open:Z,select:X,focus:Me,children:$,parents:K,getPath:ae}}}),Rve=Dn({id:String,submenu:Boolean,...qy(XU({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:YU}}),["absolute"])},"VMenu"),fL=Ro()({name:"VMenu",props:Rve(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=zi(n,"modelValue"),{scopeId:g}=lL(),{isRtl:v}=Ng(),x=Ig(),S=Ge(()=>n.id||`v-menu-${x}`),O=Mn(),V=wa(X$,null),P=Ao(new Set);wd(X$,{register(){P.value.add(x)},unregister(){P.value.delete(x)},closeParents(ae){setTimeout(()=>{var fe;!P.value.size&&!n.persistent&&(ae==null||(fe=O.value)!=null&&fe.contentEl&&!Yde(ae,O.value.contentEl))&&(d.value=!1,V==null||V.closeParents())},40)}}),xc(()=>V==null?void 0:V.unregister()),z8(()=>d.value=!1);async function B(ae){var Re,te,Ce;const fe=ae.relatedTarget,Le=ae.target;await Ar(),d.value&&fe!==Le&&((Re=O.value)!=null&&Re.contentEl)&&((te=O.value)!=null&&te.globalTop)&&![document,O.value.contentEl].includes(Le)&&!O.value.contentEl.contains(Le)&&((Ce=JO(O.value.contentEl)[0])==null||Ce.focus())}Gn(d,ae=>{ae?(V==null||V.register(),document.addEventListener("focusin",B,{once:!0})):(V==null||V.unregister(),document.removeEventListener("focusin",B))});function $(ae){V==null||V.closeParents(ae)}function Z(ae){var fe,Le,Re,te,Ce;if(!n.disabled)if(ae.key==="Tab"||ae.key==="Enter"&&!n.closeOnContentClick){if(ae.key==="Enter"&&(ae.target instanceof HTMLTextAreaElement||ae.target instanceof HTMLInputElement&&ae.target.closest("form")))return;ae.key==="Enter"&&ae.preventDefault(),hX(JO((fe=O.value)==null?void 0:fe.contentEl,!1),ae.shiftKey?"prev":"next",Ue=>Ue.tabIndex>=0)||(d.value=!1,(Re=(Le=O.value)==null?void 0:Le.activatorEl)==null||Re.focus())}else n.submenu&&ae.key===(v.value?"ArrowRight":"ArrowLeft")&&(d.value=!1,(Ce=(te=O.value)==null?void 0:te.activatorEl)==null||Ce.focus())}function K(ae){var Le;if(n.disabled)return;const fe=(Le=O.value)==null?void 0:Le.contentEl;fe&&d.value?ae.key==="ArrowDown"?(ae.preventDefault(),ae.stopImmediatePropagation(),$O(fe,"next")):ae.key==="ArrowUp"?(ae.preventDefault(),ae.stopImmediatePropagation(),$O(fe,"prev")):n.submenu&&(ae.key===(v.value?"ArrowRight":"ArrowLeft")?d.value=!1:ae.key===(v.value?"ArrowLeft":"ArrowRight")&&(ae.preventDefault(),$O(fe,"first"))):(n.submenu?ae.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(ae.key))&&(d.value=!0,ae.preventDefault(),setTimeout(()=>setTimeout(()=>K(ae))))}const X=Ge(()=>Wo({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-owns":S.value,onKeydown:K},n.activatorProps));return vs(()=>{const ae=T8.filterProps(n);return G(T8,Wo({ref:O,id:S.value,class:["v-menu",n.class],style:n.style},ae,{modelValue:d.value,"onUpdate:modelValue":fe=>d.value=fe,absolute:!0,activatorProps:X.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":$,onKeydown:Z},g),{activator:l.activator,default:function(){for(var fe=arguments.length,Le=new Array(fe),Re=0;Re<fe;Re++)Le[Re]=arguments[Re];return G(xa,{root:"VMenu"},{default:()=>{var te;return[(te=l.default)==null?void 0:te.call(l,...Le)]}})}})}),sE({id:S,openChildren:P},O)}}),Ive=Dn({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ls(),...oE({transition:{component:VJ}})},"VCounter"),yQ=Ro()({name:"VCounter",functional:!0,props:Ive(),setup(n,r){let{slots:l}=r;const d=Ge(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return vs(()=>G(By,{transition:n.transition},{default:()=>[lo(G("div",{class:["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class],style:n.style},[l.default?l.default({counter:d.value,max:n.max,value:n.value}):d.value]),[[zo,n.active]])]})),{}}}),Nve=Dn({floating:Boolean,...Ls()},"VFieldLabel"),KB=Ro()({name:"VFieldLabel",props:Nve(),setup(n,r){let{slots:l}=r;return vs(()=>G(qJ,{class:["v-field-label",{"v-field-label--floating":n.floating},n.class],style:n.style,"aria-hidden":n.floating||void 0},l)),{}}}),Pve=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],tW=Dn({appendInnerIcon:mi,bgColor:String,clearable:Boolean,clearIcon:{type:mi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:mi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>Pve.includes(n)},"onClick:clear":sf(),"onClick:appendInner":sf(),"onClick:prependInner":sf(),...Ls(),...ZU(),...hm(),...cl()},"VField"),nW=Ro()({name:"VField",inheritAttrs:!1,props:{id:String,...tQ(),...tW()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{themeClasses:v}=$l(n),{loaderClasses:x}=jU(n),{focusClasses:S,isFocused:O,focus:V,blur:P}=cL(n),{InputIcon:B}=eQ(n),{roundedClasses:$}=pm(n),{rtlClasses:Z}=Ng(),K=Ge(()=>n.dirty||n.active),X=Ge(()=>!n.singleLine&&!!(n.label||g.label)),ae=Ig(),fe=Ge(()=>n.id||`input-${ae}`),Le=Ge(()=>`${fe.value}-messages`),Re=Mn(),te=Mn(),Ce=Mn(),ie=Ge(()=>["plain","underlined"].includes(n.variant)),{backgroundColorClasses:Ue,backgroundColorStyles:We}=Wh(Qo(n,"bgColor")),{textColorClasses:qe,textColorStyles:st}=Kh(Ge(()=>n.error||n.disabled?void 0:K.value&&O.value?n.color:n.baseColor));Gn(K,Ke=>{if(X.value){const ct=Re.value.$el,$t=te.value.$el;requestAnimationFrame(()=>{const Jt=RU(ct),et=$t.getBoundingClientRect(),pt=et.x-Jt.x,Lt=et.y-Jt.y-(Jt.height/2-et.height/2),tt=et.width/.75,Ye=Math.abs(tt-Jt.width)>1?{maxWidth:hs(tt)}:void 0,Mt=getComputedStyle(ct),no=getComputedStyle($t),Fn=parseFloat(Mt.transitionDuration)*1e3||150,fn=parseFloat(no.getPropertyValue("--v-field-label-scale")),_n=no.getPropertyValue("color");ct.style.visibility="visible",$t.style.visibility="hidden",Mk(ct,{transform:`translate(${pt}px, ${Lt}px) scale(${fn})`,color:_n,...Ye},{duration:Fn,easing:v8,direction:Ke?"normal":"reverse"}).finished.then(()=>{ct.style.removeProperty("visibility"),$t.style.removeProperty("visibility")})})}},{flush:"post"});const Se=Ge(()=>({isActive:K,isFocused:O,controlRef:Ce,blur:P,focus:V}));function Me(Ke){Ke.target!==document.activeElement&&Ke.preventDefault()}function D(Ke){var ct;Ke.key!=="Enter"&&Ke.key!==" "||(Ke.preventDefault(),Ke.stopPropagation(),(ct=n["onClick:clear"])==null||ct.call(n,new MouseEvent("click")))}return vs(()=>{var pt,Lt,tt;const Ke=n.variant==="outlined",ct=!!(g["prepend-inner"]||n.prependInnerIcon),$t=!!(n.clearable||g.clear),Jt=!!(g["append-inner"]||n.appendInnerIcon||$t),et=()=>g.label?g.label({...Se.value,label:n.label,props:{for:fe.value}}):n.label;return G("div",Wo({class:["v-field",{"v-field--active":K.value,"v-field--appended":Jt,"v-field--center-affix":n.centerAffix??!ie.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":ct,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!et(),[`v-field--variant-${n.variant}`]:!0},v.value,Ue.value,S.value,x.value,$.value,Z.value,n.class],style:[We.value,n.style],onClick:Me},l),[G("div",{class:"v-field__overlay"},null),G(kJ,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:g.loader}),ct&&G("div",{key:"prepend",class:"v-field__prepend-inner"},[n.prependInnerIcon&&G(B,{key:"prepend-icon",name:"prependInner"},null),(pt=g["prepend-inner"])==null?void 0:pt.call(g,Se.value)]),G("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&X.value&&G(KB,{key:"floating-label",ref:te,class:[qe.value],floating:!0,for:fe.value,style:st.value},{default:()=>[et()]}),G(KB,{ref:Re,for:fe.value},{default:()=>[et()]}),(Lt=g.default)==null?void 0:Lt.call(g,{...Se.value,props:{id:fe.value,class:"v-field__input","aria-describedby":Le.value},focus:V,blur:P})]),$t&&G(HJ,{key:"clear"},{default:()=>[lo(G("div",{class:"v-field__clearable",onMousedown:Ye=>{Ye.preventDefault(),Ye.stopPropagation()}},[G(xa,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[g.clear?g.clear({...Se.value,props:{onKeydown:D,onFocus:V,onBlur:P,onClick:n["onClick:clear"]}}):G(B,{name:"clear",onKeydown:D,onFocus:V,onBlur:P},null)]})]),[[zo,n.dirty]])]}),Jt&&G("div",{key:"append",class:"v-field__append-inner"},[(tt=g["append-inner"])==null?void 0:tt.call(g,Se.value),n.appendInnerIcon&&G(B,{key:"append-icon",name:"appendInner"},null)]),G("div",{class:["v-field__outline",qe.value],style:st.value},[Ke&&G(us,null,[G("div",{class:"v-field__outline__start"},null),X.value&&G("div",{class:"v-field__outline__notch"},[G(KB,{ref:te,floating:!0,for:fe.value},{default:()=>[et()]})]),G("div",{class:"v-field__outline__end"},null)]),ie.value&&X.value&&G(KB,{ref:te,floating:!0,for:fe.value},{default:()=>[et()]})])])}),{controlRef:Ce}}});function xQ(n){const r=Object.keys(nW.props).filter(l=>!TU(l)&&l!=="class"&&l!=="style");return uX(n,r)}const Mve=["color","file","time","date","datetime-local","week","month"],oW=Dn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...uL(),...tW()},"VTextField"),aD=Ro()({name:"VTextField",directives:{Intersect:qU},inheritAttrs:!1,props:oW(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=zi(n,"modelValue"),{isFocused:x,focus:S,blur:O}=cL(n),V=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):typeof n.counterValue=="number"?n.counterValue:(v.value??"").toString().length),P=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),B=Ge(()=>["plain","underlined"].includes(n.variant));function $(ie,Ue){var We,qe;!n.autofocus||!ie||(qe=(We=Ue[0].target)==null?void 0:We.focus)==null||qe.call(We)}const Z=Mn(),K=Mn(),X=Mn(),ae=Ge(()=>Mve.includes(n.type)||n.persistentPlaceholder||x.value||n.active);function fe(){var ie;X.value!==document.activeElement&&((ie=X.value)==null||ie.focus()),x.value||S()}function Le(ie){d("mousedown:control",ie),ie.target!==X.value&&(fe(),ie.preventDefault())}function Re(ie){fe(),d("click:control",ie)}function te(ie){ie.stopPropagation(),fe(),Ar(()=>{v.value=null,gX(n["onClick:clear"],ie)})}function Ce(ie){var We;const Ue=ie.target;if(v.value=Ue.value,(We=n.modelModifiers)!=null&&We.trim&&["text","search","password","tel","url"].includes(n.type)){const qe=[Ue.selectionStart,Ue.selectionEnd];Ar(()=>{Ue.selectionStart=qe[0],Ue.selectionEnd=qe[1]})}}return vs(()=>{const ie=!!(g.counter||n.counter!==!1&&n.counter!=null),Ue=!!(ie||g.details),[We,qe]=Z8(l),{modelValue:st,...Se}=Gk.filterProps(n),Me=xQ(n);return G(Gk,Wo({ref:Z,modelValue:v.value,"onUpdate:modelValue":D=>v.value=D,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":B.value},n.class],style:n.style},We,Se,{centerAffix:!B.value,focused:x.value}),{...g,default:D=>{let{id:Ke,isDisabled:ct,isDirty:$t,isReadonly:Jt,isValid:et}=D;return G(nW,Wo({ref:K,onMousedown:Le,onClick:Re,"onClick:clear":te,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"],role:n.role},Me,{id:Ke.value,active:ae.value||$t.value,dirty:$t.value||n.dirty,disabled:ct.value,focused:x.value,error:et.value===!1}),{...g,default:pt=>{let{props:{class:Lt,...tt}}=pt;const Ye=lo(G("input",Wo({ref:X,value:v.value,onInput:Ce,autofocus:n.autofocus,readonly:Jt.value,disabled:ct.value,name:n.name,placeholder:n.placeholder,size:1,type:n.type,onFocus:fe,onBlur:O},tt,qe),null),[[Gy("intersect"),{handler:$},null,{once:!0}]]);return G(us,null,[n.prefix&&G("span",{class:"v-text-field__prefix"},[G("span",{class:"v-text-field__prefix__text"},[n.prefix])]),g.default?G("div",{class:Lt,"data-no-activator":""},[g.default(),Ye]):k1(Ye,{class:Lt}),n.suffix&&G("span",{class:"v-text-field__suffix"},[G("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:Ue?D=>{var Ke;return G(us,null,[(Ke=g.details)==null?void 0:Ke.call(g,D),ie&&G(us,null,[G("span",null,null),G(yQ,{active:n.persistentCounter||x.value,value:V.value,max:P.value,disabled:n.disabled},g.counter)])])}:void 0})}),sE({},Z,K,X)}}),Bve=Dn({renderless:Boolean,...Ls()},"VVirtualScrollItem"),Lve=Ro()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Bve(),emits:{"update:height":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{resizeRef:v,contentRect:x}=Kk(void 0,"border");Gn(()=>{var S;return(S=x.value)==null?void 0:S.height},S=>{S!=null&&d("update:height",S)}),vs(()=>{var S,O;return n.renderless?G(us,null,[(S=g.default)==null?void 0:S.call(g,{itemRef:v})]):G("div",Wo({ref:v,class:["v-virtual-scroll__item",n.class],style:n.style},l),[(O=g.default)==null?void 0:O.call(g)])})}}),Fve=-1,Vve=1,u$=100,zve=Dn({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Hve(n,r){const l=q8(),d=Ao(0);cf(()=>{d.value=parseFloat(n.itemHeight||0)});const g=Ao(0),v=Ao(Math.ceil((parseInt(n.height)||l.height.value)/(d.value||16))||1),x=Ao(0),S=Ao(0),O=Mn(),V=Mn();let P=0;const{resizeRef:B,contentRect:$}=Kk();cf(()=>{B.value=O.value});const Z=Ge(()=>{var pt;return O.value===document.documentElement?l.height.value:((pt=$.value)==null?void 0:pt.height)||parseInt(n.height)||0}),K=Ge(()=>!!(O.value&&V.value&&Z.value&&d.value));let X=Array.from({length:r.value.length}),ae=Array.from({length:r.value.length});const fe=Ao(0);let Le=-1;function Re(pt){return X[pt]||d.value}const te=Zde(()=>{const pt=performance.now();ae[0]=0;const Lt=r.value.length;for(let tt=1;tt<=Lt-1;tt++)ae[tt]=(ae[tt-1]||0)+Re(tt-1);fe.value=Math.max(fe.value,performance.now()-pt)},fe),Ce=Gn(K,pt=>{pt&&(Ce(),P=V.value.offsetTop,te.immediate(),ct(),~Le&&Ar(()=>{fi&&window.requestAnimationFrame(()=>{Jt(Le),Le=-1})}))});Ou(()=>{te.clear()});function ie(pt,Lt){const tt=X[pt],Ye=d.value;d.value=Ye?Math.min(d.value,Lt):Lt,(tt!==Lt||Ye!==d.value)&&(X[pt]=Lt,te())}function Ue(pt){return pt=$h(pt,0,r.value.length-1),ae[pt]||0}function We(pt){return $ve(ae,pt)}let qe=0,st=0,Se=0;Gn(Z,(pt,Lt)=>{Lt&&(ct(),pt<Lt&&requestAnimationFrame(()=>{st=0,ct()}))});function Me(){if(!O.value||!V.value)return;const pt=O.value.scrollTop,Lt=performance.now();Lt-Se>500?(st=Math.sign(pt-qe),P=V.value.offsetTop):st=pt-qe,qe=pt,Se=Lt,ct()}function D(){!O.value||!V.value||(st=0,Se=0,ct())}let Ke=-1;function ct(){cancelAnimationFrame(Ke),Ke=requestAnimationFrame($t)}function $t(){if(!O.value||!Z.value)return;const pt=qe-P,Lt=Math.sign(st),tt=Math.max(0,pt-u$),Ye=$h(We(tt),0,r.value.length),Mt=pt+Z.value+u$,no=$h(We(Mt)+1,Ye+1,r.value.length);if((Lt!==Fve||Ye<g.value)&&(Lt!==Vve||no>v.value)){const Fn=Ue(g.value)-Ue(Ye),fn=Ue(no)-Ue(v.value);Math.max(Fn,fn)>u$?(g.value=Ye,v.value=no):(Ye<=0&&(g.value=Ye),no>=r.value.length&&(v.value=no))}x.value=Ue(g.value),S.value=Ue(r.value.length)-Ue(v.value)}function Jt(pt){const Lt=Ue(pt);!O.value||pt&&!Lt?Le=pt:O.value.scrollTop=Lt}const et=Ge(()=>r.value.slice(g.value,v.value).map((pt,Lt)=>({raw:pt,index:Lt+g.value})));return Gn(r,()=>{X=Array.from({length:r.value.length}),ae=Array.from({length:r.value.length}),te.immediate(),ct()},{deep:!0}),{calculateVisibleItems:ct,containerRef:O,markerRef:V,computedItems:et,paddingTop:x,paddingBottom:S,scrollToIndex:Jt,handleScroll:Me,handleScrollend:D,handleItemResize:ie}}function $ve(n,r){let l=n.length-1,d=0,g=0,v=null,x=-1;if(n[l]<r)return l;for(;d<=l;)if(g=d+l>>1,v=n[g],v>r)l=g-1;else if(v<r)x=g,d=g+1;else return v===r?g:d;return x}const Uve=Dn({items:{type:Array,default:()=>[]},renderless:Boolean,...zve(),...Ls(),...Yh()},"VVirtualScroll"),wQ=Ro()({name:"VVirtualScroll",props:Uve(),setup(n,r){let{slots:l}=r;const d=Tl("VVirtualScroll"),{dimensionStyles:g}=Xh(n),{calculateVisibleItems:v,containerRef:x,markerRef:S,handleScroll:O,handleScrollend:V,handleItemResize:P,scrollToIndex:B,paddingTop:$,paddingBottom:Z,computedItems:K}=Hve(n,Qo(n,"items"));return Rg(()=>n.renderless,()=>{function X(){var Le,Re;const fe=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[fe]("scroll",O,{passive:!0}),document[fe]("scrollend",V)):((Le=x.value)==null||Le[fe]("scroll",O,{passive:!0}),(Re=x.value)==null||Re[fe]("scrollend",V))}Du(()=>{x.value=kX(d.vnode.el,!0),X(!0)}),Ou(X)}),vs(()=>{const X=K.value.map(ae=>G(Lve,{key:ae.index,renderless:n.renderless,"onUpdate:height":fe=>P(ae.index,fe)},{default:fe=>{var Le;return(Le=l.default)==null?void 0:Le.call(l,{item:ae.raw,index:ae.index,...fe})}}));return n.renderless?G(us,null,[G("div",{ref:S,class:"v-virtual-scroll__spacer",style:{paddingTop:hs($.value)}},null),X,G("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:hs(Z.value)}},null)]):G("div",{ref:x,class:["v-virtual-scroll",n.class],onScrollPassive:O,onScrollend:V,style:[g.value,n.style]},[G("div",{ref:S,class:"v-virtual-scroll__container",style:{paddingTop:hs($.value),paddingBottom:hs(Z.value)}},[X])])}),{calculateVisibleItems:v,scrollToIndex:B}}});function CQ(n,r){const l=Ao(!1);let d;function g(S){cancelAnimationFrame(d),l.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>requestAnimationFrame(S)),await new Promise(S=>{if(l.value){const O=Gn(l,()=>{O(),S()})}else S()})}async function x(S){var P,B;if(S.key==="Tab"&&((P=r.value)==null||P.focus()),!["PageDown","PageUp","Home","End"].includes(S.key))return;const O=(B=n.value)==null?void 0:B.$el;if(!O)return;(S.key==="Home"||S.key==="End")&&O.scrollTo({top:S.key==="Home"?0:O.scrollHeight,behavior:"smooth"}),await v();const V=O.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(S.key==="PageDown"||S.key==="Home"){const $=O.getBoundingClientRect().top;for(const Z of V)if(Z.getBoundingClientRect().top>=$){Z.focus();break}}else{const $=O.getBoundingClientRect().bottom;for(const Z of[...V].reverse())if(Z.getBoundingClientRect().bottom<=$){Z.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const _Q=Dn({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:mi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...hQ({itemChildren:!1})},"Select"),Wve=Dn({..._Q(),...qy(oW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...oE({transition:{component:YU}})},"VSelect"),GB=Ro()({name:"VSelect",props:Wve(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=kD(),g=Mn(),v=Mn(),x=Mn(),S=zi(n,"menu"),O=Ge({get:()=>S.value,set:pt=>{var Lt;S.value&&!pt&&((Lt=v.value)!=null&&Lt.openChildren.size)||(S.value=pt)}}),{items:V,transformIn:P,transformOut:B}=vQ(n),$=zi(n,"modelValue",[],pt=>P(pt===null?[null]:of(pt)),pt=>{const Lt=B(pt);return n.multiple?Lt:Lt[0]??null}),Z=Ge(()=>typeof n.counterValue=="function"?n.counterValue($.value):typeof n.counterValue=="number"?n.counterValue:$.value.length),K=JU(),X=Ge(()=>$.value.map(pt=>pt.value)),ae=Ao(!1),fe=Ge(()=>O.value?n.closeText:n.openText);let Le="",Re;const te=Ge(()=>n.hideSelected?V.value.filter(pt=>!$.value.some(Lt=>n.valueComparator(Lt,pt))):V.value),Ce=Ge(()=>n.hideNoData&&!te.value.length||n.readonly||(K==null?void 0:K.isReadonly.value)),ie=Ge(()=>{var pt;return{...n.menuProps,activatorProps:{...((pt=n.menuProps)==null?void 0:pt.activatorProps)||{},"aria-haspopup":"listbox"}}}),Ue=Mn(),We=CQ(Ue,g);function qe(pt){n.openOnClear&&(O.value=!0)}function st(){Ce.value||(O.value=!O.value)}function Se(pt){T$(pt)&&Me(pt)}function Me(pt){var Mt,no;if(!pt.key||n.readonly||K!=null&&K.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(pt.key)&&pt.preventDefault(),["Enter","ArrowDown"," "].includes(pt.key)&&(O.value=!0),["Escape","Tab"].includes(pt.key)&&(O.value=!1),pt.key==="Home"?(Mt=Ue.value)==null||Mt.focus("first"):pt.key==="End"&&((no=Ue.value)==null||no.focus("last"));const Lt=1e3;if(n.multiple||!T$(pt))return;const tt=performance.now();tt-Re>Lt&&(Le=""),Le+=pt.key.toLowerCase(),Re=tt;const Ye=V.value.find(Fn=>Fn.title.toLowerCase().startsWith(Le));if(Ye!==void 0){$.value=[Ye];const Fn=te.value.indexOf(Ye);fi&&window.requestAnimationFrame(()=>{var fn;Fn>=0&&((fn=x.value)==null||fn.scrollToIndex(Fn))})}}function D(pt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!pt.props.disabled)if(n.multiple){const tt=$.value.findIndex(Mt=>n.valueComparator(Mt.value,pt.value)),Ye=Lt??!~tt;if(~tt){const Mt=Ye?[...$.value,pt]:[...$.value];Mt.splice(tt,1),$.value=Mt}else Ye&&($.value=[...$.value,pt])}else{const tt=Lt!==!1;$.value=tt?[pt]:[],Ar(()=>{O.value=!1})}}function Ke(pt){var Lt;(Lt=Ue.value)!=null&&Lt.$el.contains(pt.relatedTarget)||(O.value=!1)}function ct(){var pt;n.eager&&((pt=x.value)==null||pt.calculateVisibleItems())}function $t(){var pt;ae.value&&((pt=g.value)==null||pt.focus())}function Jt(pt){ae.value=!0}function et(pt){if(pt==null)$.value=[];else if(Zk(g.value,":autofill")||Zk(g.value,":-webkit-autofill")){const Lt=V.value.find(tt=>tt.title===pt);Lt&&D(Lt)}else g.value&&(g.value.value="")}return Gn(O,()=>{if(!n.hideSelected&&O.value&&$.value.length){const pt=te.value.findIndex(Lt=>$.value.some(tt=>n.valueComparator(tt.value,Lt.value)));fi&&window.requestAnimationFrame(()=>{var Lt;pt>=0&&((Lt=x.value)==null||Lt.scrollToIndex(pt))})}}),Gn(()=>n.items,(pt,Lt)=>{O.value||ae.value&&!Lt.length&&pt.length&&(O.value=!0)}),vs(()=>{const pt=!!(n.chips||l.chip),Lt=!!(!n.hideNoData||te.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),tt=$.value.length>0,Ye=aD.filterProps(n),Mt=tt||!ae.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return G(aD,Wo({ref:g},Ye,{modelValue:$.value.map(no=>no.props.value).join(", "),"onUpdate:modelValue":et,focused:ae.value,"onUpdate:focused":no=>ae.value=no,validationValue:$.externalValue,counterValue:Z.value,dirty:tt,class:["v-select",{"v-select--active-menu":O.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":$.value.length,"v-select--selection-slot":!!l.selection},n.class],style:n.style,inputmode:"none",placeholder:Mt,"onClick:clear":qe,"onMousedown:control":st,onBlur:Ke,onKeydown:Me,"aria-label":d(fe.value),title:d(fe.value)}),{...l,default:()=>G(us,null,[G(fL,Wo({ref:v,modelValue:O.value,"onUpdate:modelValue":no=>O.value=no,activator:"parent",contentClass:"v-select__content",disabled:Ce.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:ct,onAfterLeave:$t},ie.value),{default:()=>[Lt&&G(iD,Wo({ref:Ue,selected:X.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:no=>no.preventDefault(),onKeydown:Se,onFocusin:Jt,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},We,n.listProps),{default:()=>{var no,Fn,fn;return[(no=l["prepend-item"])==null?void 0:no.call(l),!te.value.length&&!n.hideNoData&&(((Fn=l["no-data"])==null?void 0:Fn.call(l))??G(vc,{title:d(n.noDataText)},null)),G(wQ,{ref:x,renderless:!0,items:te.value},{default:_n=>{var To;let{item:Q,index:xs,itemRef:Qn}=_n;const tn=Wo(Q.props,{ref:Qn,key:xs,onClick:()=>D(Q,null)});return((To=l.item)==null?void 0:To.call(l,{item:Q,index:xs,props:tn}))??G(vc,Wo(tn,{role:"option"}),{prepend:je=>{let{isSelected:re}=je;return G(us,null,[n.multiple&&!n.hideSelected?G(O8,{key:Q.value,modelValue:re,ripple:!1,tabindex:"-1"},null):void 0,Q.props.prependAvatar&&G(Zy,{image:Q.props.prependAvatar},null),Q.props.prependIcon&&G(qn,{icon:Q.props.prependIcon},null)])}})}}),(fn=l["append-item"])==null?void 0:fn.call(l)]}})]}),$.value.map((no,Fn)=>{function fn(Qn){Qn.stopPropagation(),Qn.preventDefault(),D(no,!1)}const _n={"onClick:close":fn,onKeydown(Qn){Qn.key!=="Enter"&&Qn.key!==" "||(Qn.preventDefault(),Qn.stopPropagation(),fn(Qn))},onMousedown(Qn){Qn.preventDefault(),Qn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Q=pt?!!l.chip:!!l.selection,xs=Q?DU(pt?l.chip({item:no,index:Fn,props:_n}):l.selection({item:no,index:Fn})):void 0;if(!(Q&&!xs))return G("div",{key:no.value,class:"v-select__selection"},[pt?l.chip?G(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:no.title}}},{default:()=>[xs]}):G(iQ,Wo({key:"chip",closable:n.closableChips,size:"small",text:no.title,disabled:no.props.disabled},_n),null):xs??G("span",{class:"v-select__selection-text"},[no.title,n.multiple&&Fn<$.value.length-1&&G("span",{class:"v-select__selection-comma"},[yr(",")])])])})]),"append-inner":function(){var _n;for(var no=arguments.length,Fn=new Array(no),fn=0;fn<no;fn++)Fn[fn]=arguments[fn];return G(us,null,[(_n=l["append-inner"])==null?void 0:_n.call(l,...Fn),n.menuIcon?G(qn,{class:"v-select__menu-icon",icon:n.menuIcon},null):void 0])}})}),sE({isFocused:ae,menu:O,select:D},g)}}),Zve=(n,r,l)=>n==null||r==null?-1:n.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),jve=Dn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Kve(n,r,l){var S;const d=[],g=(l==null?void 0:l.default)??Zve,v=l!=null&&l.filterKeys?of(l.filterKeys):!1,x=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return d;e:for(let O=0;O<n.length;O++){const[V,P=V]=of(n[O]),B={},$={};let Z=-1;if((r||x>0)&&!(l!=null&&l.noFilter)){if(typeof V=="object"){const ae=v||Object.keys(P);for(const fe of ae){const Le=fv(P,fe),Re=(S=l==null?void 0:l.customKeyFilter)==null?void 0:S[fe];if(Z=Re?Re(Le,r,V):g(Le,r,V),Z!==-1&&Z!==!1)Re?B[fe]=Z:$[fe]=Z;else if((l==null?void 0:l.filterMode)==="every")continue e}}else Z=g(V,r,V),Z!==-1&&Z!==!1&&($.title=Z);const K=Object.keys($).length,X=Object.keys(B).length;if(!K&&!X||(l==null?void 0:l.filterMode)==="union"&&X!==x&&!K||(l==null?void 0:l.filterMode)==="intersection"&&(X!==x||!K))continue}d.push({index:O,matches:{...$,...B}})}return d}function Gve(n,r,l,d){const g=Mn([]),v=Mn(new Map),x=Ge(()=>le(r));cf(()=>{const O=typeof l=="function"?l():le(l),V=typeof O!="string"&&typeof O!="number"?"":String(O),P=Kve(x.value,V,{customKeyFilter:{...n.customKeyFilter,...le(d==null?void 0:d.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),B=le(r),$=[],Z=new Map;P.forEach(K=>{let{index:X,matches:ae}=K;const fe=B[X];$.push(fe),Z.set(fe.value,ae)}),g.value=$,v.value=Z});function S(O){return v.value.get(O.value)}return{filteredItems:g,filteredMatches:v,getMatches:S}}function qve(n,r,l){if(r==null)return n;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?G(us,null,[G("span",{class:"v-autocomplete__unmask"},[n.substr(0,r)]),G("span",{class:"v-autocomplete__mask"},[n.substr(r,l)]),G("span",{class:"v-autocomplete__unmask"},[n.substr(r+l)])]):n}const Yve=Dn({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...jve({filterKeys:["title"]}),..._Q(),...qy(oW({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...oE({transition:!1})},"VAutocomplete"),Xve=Ro()({name:"VAutocomplete",props:Yve(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,r){let{slots:l}=r;const{t:d}=kD(),g=Mn(),v=Ao(!1),x=Ao(!0),S=Ao(!1),O=Mn(),V=Mn(),P=zi(n,"menu"),B=Ge({get:()=>P.value,set:tn=>{var To;P.value&&!tn&&((To=O.value)!=null&&To.openChildren.size)||(P.value=tn)}}),$=Ao(-1),Z=Ge(()=>{var tn;return(tn=g.value)==null?void 0:tn.color}),K=Ge(()=>B.value?n.closeText:n.openText),{items:X,transformIn:ae,transformOut:fe}=vQ(n),{textColorClasses:Le,textColorStyles:Re}=Kh(Z),te=zi(n,"search",""),Ce=zi(n,"modelValue",[],tn=>ae(tn===null?[null]:of(tn)),tn=>{const To=fe(tn);return n.multiple?To:To[0]??null}),ie=Ge(()=>typeof n.counterValue=="function"?n.counterValue(Ce.value):typeof n.counterValue=="number"?n.counterValue:Ce.value.length),Ue=JU(),{filteredItems:We,getMatches:qe}=Gve(n,X,()=>x.value?"":te.value),st=Ge(()=>n.hideSelected?We.value.filter(tn=>!Ce.value.some(To=>To.value===tn.value)):We.value),Se=Ge(()=>!!(n.chips||l.chip)),Me=Ge(()=>Se.value||!!l.selection),D=Ge(()=>Ce.value.map(tn=>tn.props.value)),Ke=Ge(()=>{var To;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&te.value===((To=st.value[0])==null?void 0:To.title))&&st.value.length>0&&!x.value&&!S.value}),ct=Ge(()=>n.hideNoData&&!st.value.length||n.readonly||(Ue==null?void 0:Ue.isReadonly.value)),$t=Mn(),Jt=CQ($t,g);function et(tn){n.openOnClear&&(B.value=!0),te.value=""}function pt(){ct.value||(B.value=!0)}function Lt(tn){ct.value||(v.value&&(tn.preventDefault(),tn.stopPropagation()),B.value=!B.value)}function tt(tn){var To;T$(tn)&&((To=g.value)==null||To.focus())}function Ye(tn){var re,be,Pe;if(n.readonly||Ue!=null&&Ue.isReadonly.value)return;const To=g.value.selectionStart,je=Ce.value.length;if(($.value>-1||["Enter","ArrowDown","ArrowUp"].includes(tn.key))&&tn.preventDefault(),["Enter","ArrowDown"].includes(tn.key)&&(B.value=!0),["Escape"].includes(tn.key)&&(B.value=!1),Ke.value&&["Enter","Tab"].includes(tn.key)&&!Ce.value.some(he=>{let{value:gt}=he;return gt===st.value[0].value})&&Qn(st.value[0]),tn.key==="ArrowDown"&&Ke.value&&((re=$t.value)==null||re.focus("next")),["Backspace","Delete"].includes(tn.key)){if(!n.multiple&&Me.value&&Ce.value.length>0&&!te.value)return Qn(Ce.value[0],!1);if(~$.value){const he=$.value;Qn(Ce.value[$.value],!1),$.value=he>=je-1?je-2:he}else tn.key==="Backspace"&&!te.value&&($.value=je-1)}if(n.multiple){if(tn.key==="ArrowLeft"){if($.value<0&&To>0)return;const he=$.value>-1?$.value-1:je-1;Ce.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange((be=te.value)==null?void 0:be.length,(Pe=te.value)==null?void 0:Pe.length))}if(tn.key==="ArrowRight"){if($.value<0)return;const he=$.value+1;Ce.value[he]?$.value=he:($.value=-1,g.value.setSelectionRange(0,0))}}}function Mt(tn){if(Zk(g.value,":autofill")||Zk(g.value,":-webkit-autofill")){const To=X.value.find(je=>je.title===tn.target.value);To&&Qn(To)}}function no(){var tn;n.eager&&((tn=V.value)==null||tn.calculateVisibleItems())}function Fn(){var tn;v.value&&(x.value=!0,(tn=g.value)==null||tn.focus())}function fn(tn){v.value=!0,setTimeout(()=>{S.value=!0})}function _n(tn){S.value=!1}function Q(tn){(tn==null||tn===""&&!n.multiple&&!Me.value)&&(Ce.value=[])}const xs=Ao(!1);function Qn(tn){let To=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!tn||tn.props.disabled))if(n.multiple){const je=Ce.value.findIndex(be=>n.valueComparator(be.value,tn.value)),re=To??!~je;if(~je){const be=re?[...Ce.value,tn]:[...Ce.value];be.splice(je,1),Ce.value=be}else re&&(Ce.value=[...Ce.value,tn]);n.clearOnSelect&&(te.value="")}else{const je=To!==!1;Ce.value=je?[tn]:[],te.value=je&&!Me.value?tn.title:"",Ar(()=>{B.value=!1,x.value=!0})}}return Gn(v,(tn,To)=>{var je;tn!==To&&(tn?(xs.value=!0,te.value=n.multiple||Me.value?"":String(((je=Ce.value.at(-1))==null?void 0:je.props.title)??""),x.value=!0,Ar(()=>xs.value=!1)):(!n.multiple&&te.value==null&&(Ce.value=[]),B.value=!1,Ce.value.some(re=>{let{title:be}=re;return be===te.value})||(te.value=""),$.value=-1))}),Gn(te,tn=>{!v.value||xs.value||(tn&&(B.value=!0),x.value=!tn)}),Gn(B,()=>{if(!n.hideSelected&&B.value&&Ce.value.length){const tn=st.value.findIndex(To=>Ce.value.some(je=>To.value===je.value));fi&&window.requestAnimationFrame(()=>{var To;tn>=0&&((To=V.value)==null||To.scrollToIndex(tn))})}}),Gn(()=>n.items,(tn,To)=>{B.value||v.value&&!To.length&&tn.length&&(B.value=!0)}),vs(()=>{const tn=!!(!n.hideNoData||st.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),To=Ce.value.length>0,je=aD.filterProps(n);return G(aD,Wo({ref:g},je,{modelValue:te.value,"onUpdate:modelValue":[re=>te.value=re,Q],focused:v.value,"onUpdate:focused":re=>v.value=re,validationValue:Ce.externalValue,counterValue:ie.value,dirty:To,onChange:Mt,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":B.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!Me.value,"v-autocomplete--selecting-index":$.value>-1},n.class],style:n.style,readonly:n.readonly,placeholder:To?void 0:n.placeholder,"onClick:clear":et,"onMousedown:control":pt,onKeydown:Ye}),{...l,default:()=>G(us,null,[G(fL,Wo({ref:O,modelValue:B.value,"onUpdate:modelValue":re=>B.value=re,activator:"parent",contentClass:"v-autocomplete__content",disabled:ct.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:no,onAfterLeave:Fn},n.menuProps),{default:()=>[tn&&G(iD,Wo({ref:$t,selected:D.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:re=>re.preventDefault(),onKeydown:tt,onFocusin:fn,onFocusout:_n,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},Jt,n.listProps),{default:()=>{var re,be,Pe;return[(re=l["prepend-item"])==null?void 0:re.call(l),!st.value.length&&!n.hideNoData&&(((be=l["no-data"])==null?void 0:be.call(l))??G(vc,{title:d(n.noDataText)},null)),G(wQ,{ref:V,renderless:!0,items:st.value},{default:he=>{var Vt;let{item:gt,index:zt,itemRef:vt}=he;const Ft=Wo(gt.props,{ref:vt,key:zt,active:Ke.value&&zt===0?!0:void 0,onClick:()=>Qn(gt,null)});return((Vt=l.item)==null?void 0:Vt.call(l,{item:gt,index:zt,props:Ft}))??G(vc,Wo(Ft,{role:"option"}),{prepend:wn=>{let{isSelected:cn}=wn;return G(us,null,[n.multiple&&!n.hideSelected?G(O8,{key:gt.value,modelValue:cn,ripple:!1,tabindex:"-1"},null):void 0,gt.props.prependAvatar&&G(Zy,{image:gt.props.prependAvatar},null),gt.props.prependIcon&&G(qn,{icon:gt.props.prependIcon},null)])},title:()=>{var wn,cn;return x.value?gt.title:qve(gt.title,(wn=qe(gt))==null?void 0:wn.title,((cn=te.value)==null?void 0:cn.length)??0)}})}}),(Pe=l["append-item"])==null?void 0:Pe.call(l)]}})]}),Ce.value.map((re,be)=>{function Pe(vt){vt.stopPropagation(),vt.preventDefault(),Qn(re,!1)}const he={"onClick:close":Pe,onKeydown(vt){vt.key!=="Enter"&&vt.key!==" "||(vt.preventDefault(),vt.stopPropagation(),Pe(vt))},onMousedown(vt){vt.preventDefault(),vt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},gt=Se.value?!!l.chip:!!l.selection,zt=gt?DU(Se.value?l.chip({item:re,index:be,props:he}):l.selection({item:re,index:be})):void 0;if(!(gt&&!zt))return G("div",{key:re.value,class:["v-autocomplete__selection",be===$.value&&["v-autocomplete__selection--selected",Le.value]],style:be===$.value?Re.value:{}},[Se.value?l.chip?G(xa,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:re.title}}},{default:()=>[zt]}):G(iQ,Wo({key:"chip",closable:n.closableChips,size:"small",text:re.title,disabled:re.props.disabled},he),null):zt??G("span",{class:"v-autocomplete__selection-text"},[re.title,n.multiple&&be<Ce.value.length-1&&G("span",{class:"v-autocomplete__selection-comma"},[yr(",")])])])})]),"append-inner":function(){var he;for(var re=arguments.length,be=new Array(re),Pe=0;Pe<re;Pe++)be[Pe]=arguments[Pe];return G(us,null,[(he=l["append-inner"])==null?void 0:he.call(l,...be),n.menuIcon?G(qn,{class:"v-autocomplete__menu-icon",icon:n.menuIcon,onMousedown:Lt,onClick:Gde,"aria-label":d(K.value),title:d(K.value),tabindex:"-1"},null):void 0])}})}),sE({isFocused:v,isPristine:x,menu:B,search:te,filteredItems:We,select:Qn},g)}}),Jve={__name:"Items",setup(n){const r=ps(),l=mv(),d=yc(),g=tD(),v=bv(),x=ec();mm();const S=Mn(!1),O=Mn(!1),V=Mn("");Mn(!1);async function P(){await Ar(),S.value&&(O.value=!0,V.value="")}async function B(){S.value=!1,!r.isLoading&&V.value!=""&&$(V.value)}async function $(Z){r.isLoading||(!await x.hasChangesInStorage()||await r.saveChangesToBackend(!0)?await r.loadItemFromBackend(Z):r.setShowSendFailure(!0))}return(Z,K)=>(Ln(),ds(us,null,[G(xo,{class:"app-header-item",disabled:le(r).isLoading||le(r).itemKey==le(l).firstKey,onClick:K[0]||(K[0]=X=>$(le(l).getPreviousKey(le(r).itemKey)))},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-arrow-left-bold"}),K[6]||(K[6]=Ve("span",{class:"sr-only"},"Vorheriger Teilnehmer",-1))]),_:1},8,["disabled"]),G(xo,{class:"app-header-item",disabled:le(r).isLoading,id:"app-items-menu-activator"},{default:Pt(()=>[lo(Ve("span",null," Lade Daten ... ",512),[[zo,le(r).isLoading]]),lo(Ve("span",null,ls(le(l).currentItem.title)+" "+ls(le(v).getPositionText(le(r).correctorKey))+" "+ls(le(r).isForReviewOrStitch?le(g).isFinalized?" - finalisiert":" - offen":le(d).isOwnAuthorized?" - autorisiert":" - offen"),513),[[zo,!le(r).isLoading&&le(l).currentItem!==void 0]])]),_:1},8,["disabled"]),G(fL,{disabled:le(r).isLoading,modelValue:S.value,"onUpdate:modelValue":[K[3]||(K[3]=X=>S.value=X),K[4]||(K[4]=X=>P())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:Pt(()=>[O.value?(Ln(),or(Xve,{key:0,id:"app-items-autocomplete",modelValue:V.value,"onUpdate:modelValue":[K[1]||(K[1]=X=>V.value=X),K[2]||(K[2]=X=>B())],items:le(l).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:"Teilnehmer/in","prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items"])):As("",!0)]),_:1},8,["disabled","modelValue"]),G(xo,{class:"app-header-item",disabled:le(r).isLoading||le(r).itemKey==le(l).lastKey,onClick:K[5]||(K[5]=X=>$(le(l).getNextKey(le(r).itemKey)))},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-arrow-right-bold"}),K[7]||(K[7]=Ve("span",{class:"sr-only"},"Nchster Teilnehmer",-1))]),_:1},8,["disabled"])],64))}},Qve={id:"app-stitch-decision-wrapper"},ebe=["min","max"],tbe=["innerHTML"],nbe={__name:"StitchDecision",setup(n){const r=ps(),l=tD(),d=mv(),g=yc();let v=Mn(!1),x=Mn(!1);async function S(){if(v.value=!1,await l.saveStitchDecision(),!l.correction_finalized)x.value=!0;else{let V=d.getNextKey(r.itemKey);V!=""&&r.loadItemFromBackend(V)}}async function O(){v.value=!1,await l.saveStitchDecision(),l.correction_finalized?window.location=r.returnUrl:x.value=!0}return(V,P)=>(Ln(),ds("div",Qve,[G(xo,{class:"app-header-item",disabled:le(l).correction_finalized,onClick:P[0]||(P[0]=B=>Hr(v)?v.value=!0:v=!0)},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-checkbox-marked-outline"}),P[9]||(P[9]=yr(" Stichentscheid "))]),_:1},8,["disabled"]),G(pv,{persistent:"",modelValue:le(v),"onUpdate:modelValue":P[6]||(P[6]=B=>Hr(v)?v.value=B:v=B)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(aL,null,{default:Pt(()=>P[10]||(P[10]=[yr("Stichentscheid")])),_:1}),G(zh,null,{default:Pt(()=>[P[14]||(P[14]=Ve("p",null," Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen. ",-1)),P[15]||(P[15]=Ve("br",null,null,-1)),Ve("p",null,"Minimale Punkte: "+ls(le(g).minPoints),1),Ve("p",null,"Maximale Punkte: "+ls(le(g).maxPoints),1),P[16]||(P[16]=Ve("br",null,null,-1)),Ve("p",null,[P[11]||(P[11]=Ve("label",{for:"appFinalPoints"},"Finale Punkte: ",-1)),lo(Ve("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:le(g).minPoints,max:le(g).maxPoints,"onUpdate:modelValue":P[1]||(P[1]=B=>le(l).final_points=B)},null,8,ebe),[[$y,le(l).final_points]]),Ve("span",{innerHTML:le(l).grade},null,8,tbe),P[12]||(P[12]=Ve("br",null,null,-1)),P[13]||(P[13]=Ve("label",{for:"appStitchComment"},"Begrndung: ",-1)),lo(Ve("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":P[2]||(P[2]=B=>le(l).stitch_comment=B)},null,512),[[$y,le(l).stitch_comment]])])]),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:P[3]||(P[3]=B=>S()),disabled:le(l).final_points===null||le(l).final_points===""||!le(l).stitch_comment},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-check"}),P[17]||(P[17]=Ve("span",null,"Festlegen und Weiter",-1))]),_:1},8,["disabled"]),G(xo,{onClick:P[4]||(P[4]=B=>O()),disabled:le(l).final_points===null||le(l).final_points===""||!le(l).stitch_comment},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-check"}),P[18]||(P[18]=Ve("span",null,"Festlegen und Schlieen",-1))]),_:1},8,["disabled"]),G(xo,{onClick:P[5]||(P[5]=B=>Hr(v)?v.value=!1:v=!1)},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-close"}),P[19]||(P[19]=Ve("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),G(pv,{persistent:"",modelValue:le(x),"onUpdate:modelValue":P[8]||(P[8]=B=>Hr(x)?x.value=B:x=B)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>P[20]||(P[20]=[Ve("p",null,"Ihr Stichentscheid konnte nicht bertragen werden. Bitte versuchen Sie es spter noch einmal.",-1)])),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:P[7]||(P[7]=B=>Hr(x)?x.value=!1:x=!1)},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-close"}),P[21]||(P[21]=Ve("span",null,"Meldung schlieen",-1))]),_:1}),G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),P[22]||(P[22]=Ve("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},obe=Ol(nbe,[["__scopeId","data-v-2931e2f5"]]),sbe=Dn({fluid:{type:Boolean,default:!1},...Ls(),...Yh(),...Qi()},"VContainer"),SQ=Ro()({name:"VContainer",props:sbe(),setup(n,r){let{slots:l}=r;const{rtlClasses:d}=Ng(),{dimensionStyles:g}=Xh(n);return vs(()=>G(n.tag,{class:["v-container",{"v-container--fluid":n.fluid},d.value,n.class],style:[g.value,n.style]},l)),{}}}),kQ=G8.reduce((n,r)=>(n[r]={type:[Boolean,String,Number],default:!1},n),{}),EQ=G8.reduce((n,r)=>{const l="offset"+A1(r);return n[l]={type:[String,Number],default:null},n},{}),AQ=G8.reduce((n,r)=>{const l="order"+A1(r);return n[l]={type:[String,Number],default:null},n},{}),kq={col:Object.keys(kQ),offset:Object.keys(EQ),order:Object.keys(AQ)};function rbe(n,r,l){let d=n;if(!(l==null||l===!1)){if(r){const g=r.replace(n,"");d+=`-${g}`}return n==="col"&&(d="v-"+d),n==="col"&&(l===""||l===!0)||(d+=`-${l}`),d.toLowerCase()}}const ibe=["auto","start","end","center","baseline","stretch"],abe=Dn({cols:{type:[Boolean,String,Number],default:!1},...kQ,offset:{type:[String,Number],default:null},...EQ,order:{type:[String,Number],default:null},...AQ,alignSelf:{type:String,default:null,validator:n=>ibe.includes(n)},...Ls(),...Qi()},"VCol"),im=Ro()({name:"VCol",props:abe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in kq)kq[v].forEach(S=>{const O=n[S],V=rbe(v,S,O);V&&g.push(V)});const x=g.some(S=>S.startsWith("v-col-"));return g.push({"v-col":!x||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),g});return()=>{var g;return xv(n.tag,{class:[d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),sW=["start","end","center"],TQ=["space-between","space-around","space-evenly"];function rW(n,r){return G8.reduce((l,d)=>{const g=n+A1(d);return l[g]=r(),l},{})}const lbe=[...sW,"baseline","stretch"],OQ=n=>lbe.includes(n),DQ=rW("align",()=>({type:String,default:null,validator:OQ})),cbe=[...sW,...TQ],RQ=n=>cbe.includes(n),IQ=rW("justify",()=>({type:String,default:null,validator:RQ})),ube=[...sW,...TQ,"stretch"],NQ=n=>ube.includes(n),PQ=rW("alignContent",()=>({type:String,default:null,validator:NQ})),Eq={align:Object.keys(DQ),justify:Object.keys(IQ),alignContent:Object.keys(PQ)},dbe={align:"align",justify:"justify",alignContent:"align-content"};function fbe(n,r,l){let d=dbe[n];if(l!=null){if(r){const g=r.replace(n,"");d+=`-${g}`}return d+=`-${l}`,d.toLowerCase()}}const mbe=Dn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:OQ},...DQ,justify:{type:String,default:null,validator:RQ},...IQ,alignContent:{type:String,default:null,validator:NQ},...PQ,...Ls(),...Qi()},"VRow"),Bk=Ro()({name:"VRow",props:mbe(),setup(n,r){let{slots:l}=r;const d=Ge(()=>{const g=[];let v;for(v in Eq)Eq[v].forEach(x=>{const S=n[x],O=fbe(v,x,S);O&&g.push(O)});return g.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),g});return()=>{var g;return xv(n.tag,{class:["v-row",d.value,n.class],style:n.style},(g=l.default)==null?void 0:g.call(l))}}}),iW=j8("v-spacer","div","VSpacer"),gbe={__name:"OwnSummaryIncludes",setup(n){const r=yc(),l=Uh(),d=Vy(),g=um(),v=Mn(!1),x=Mn([{title:"Nicht einbeziehen",value:br.INCLUDE_NOT},{title:"informativ",value:br.INCLUDE_INFO},{title:"bewertungsrelevant",value:br.INCLUDE_RELEVANT}]),S=Mn({}),O=Mn(!1);S.value=r.currentInclusionSettings;function V(){S.value.include_comments==br.INCLUDE_NOT&&(S.value.include_comment_ratings=br.INCLUDE_NOT,S.value.include_comment_points=br.INCLUDE_NOT),r.editSummary.setData(S.value),O.value&&(d.setSummaryInclusions(S.value),O.value=!1),v.value=!1}return(P,B)=>(Ln(),ds("div",null,[B[15]||(B[15]=Ve("strong",null,"Einbeziehen:",-1)),yr(" "+ls(le(r).getInclusionText(le(r).editSummary))+" ",1),le(g).fixed_inclusions?As("",!0):(Ln(),or(xo,{key:0,variant:"text",disabled:le(r).isOwnDisabled,onClick:B[0]||(B[0]=$=>{v.value=!0})},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-pencil"})]),_:1},8,["disabled"])),G(pv,{"max-width":"50em",persistent:"",modelValue:v.value,"onUpdate:modelValue":B[8]||(B[8]=$=>v.value=$)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(aL,null,{default:Pt(()=>B[9]||(B[9]=[yr("In die Dokumentation der Korrektur einbeziehen")])),_:1}),G(zh,null,{default:Pt(()=>[G(SQ,{id:"app-own-summary-includescontainer"},{default:Pt(()=>[G(Bk,null,{default:Pt(()=>[G(im,null,{default:Pt(()=>B[10]||(B[10]=[yr(" Markierungen und Kommentare ")])),_:1}),G(im,null,{default:Pt(()=>[G(GB,{class:"select",variant:"outlined",density:"compact",modelValue:S.value.include_comments,"onUpdate:modelValue":B[1]||(B[1]=$=>S.value.include_comments=$),items:x.value},null,8,["modelValue","items"])]),_:1})]),_:1}),lo(G(Bk,null,{default:Pt(()=>[G(im,null,{default:Pt(()=>[yr(ls(le(g).ratingLabels),1)]),_:1}),G(im,null,{default:Pt(()=>[G(GB,{class:"select",variant:"outlined",density:"compact",modelValue:S.value.include_comment_ratings,"onUpdate:modelValue":B[2]||(B[2]=$=>S.value.include_comment_ratings=$),items:x.value},null,8,["modelValue","items"])]),_:1})]),_:1},512),[[zo,S.value.include_comments>le(br).INCLUDE_NOT]]),lo(G(Bk,null,{default:Pt(()=>[G(im,null,{default:Pt(()=>B[11]||(B[11]=[yr(" Punkte zu Kommentaren ")])),_:1}),G(im,null,{default:Pt(()=>[G(GB,{class:"select",variant:"outlined",density:"compact",modelValue:S.value.include_comment_points,"onUpdate:modelValue":B[3]||(B[3]=$=>S.value.include_comment_points=$),items:x.value},null,8,["modelValue","items"])]),_:1})]),_:1},512),[[zo,S.value.include_comments>le(br).INCLUDE_NOT]]),lo(G(Bk,null,{default:Pt(()=>[G(im,null,{default:Pt(()=>B[12]||(B[12]=[yr(" Punkte im Bewertungsschema ")])),_:1}),G(im,null,{default:Pt(()=>[G(GB,{class:"select",variant:"outlined",density:"compact",modelValue:S.value.include_criteria_points,"onUpdate:modelValue":B[4]||(B[4]=$=>S.value.include_criteria_points=$),items:x.value},null,8,["modelValue","items"])]),_:1})]),_:1},512),[[zo,le(l).hasOwnCriteria]])]),_:1}),G(eve,{modelValue:O.value,"onUpdate:modelValue":B[5]||(B[5]=$=>O.value=$),label:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."},null,8,["modelValue"])]),_:1}),G(Vh,null,{default:Pt(()=>[G(iW),G(xo,{onClick:B[6]||(B[6]=$=>V())},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-check"}),B[13]||(B[13]=Ve("span",null,"bernehmen",-1))]),_:1}),G(xo,{onClick:B[7]||(B[7]=$=>{v.value=!1})},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-close"}),B[14]||(B[14]=Ve("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},MQ=Ol(gbe,[["__scopeId","data-v-e59776b3"]]),hbe=j8("v-alert-title"),pbe=["success","info","warning","error"],vbe=Dn({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:mi,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>pbe.includes(n)},...Ls(),...Pg(),...Yh(),...R1(),...oL(),...KU(),...hm(),...Qi(),...cl(),...N1({variant:"flat"})},"VAlert"),qB=Ro()({name:"VAlert",props:vbe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{emit:l,slots:d}=r;const g=zi(n,"modelValue"),v=Ge(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),x=Ge(()=>({color:n.color??n.type,variant:n.variant})),{themeClasses:S}=$l(n),{colorClasses:O,colorStyles:V,variantClasses:P}=nE(x),{densityClasses:B}=qh(n),{dimensionStyles:$}=Xh(n),{elevationClasses:Z}=I1(n),{locationStyles:K}=sL(n),{positionClasses:X}=GU(n),{roundedClasses:ae}=pm(n),{textColorClasses:fe,textColorStyles:Le}=Kh(Qo(n,"borderColor")),{t:Re}=kD(),te=Ge(()=>({"aria-label":Re(n.closeLabel),onClick(Ce){g.value=!1,l("click:close",Ce)}}));return()=>{const Ce=!!(d.prepend||v.value),ie=!!(d.title||n.title),Ue=!!(d.close||n.closable);return g.value&&G(n.tag,{class:["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},S.value,O.value,B.value,Z.value,X.value,ae.value,P.value,n.class],style:[V.value,$.value,K.value,n.style],role:"alert"},{default:()=>{var We,qe;return[tE(!1,"v-alert"),n.border&&G("div",{key:"border",class:["v-alert__border",fe.value],style:Le.value},null),Ce&&G("div",{key:"prepend",class:"v-alert__prepend"},[d.prepend?G(xa,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:n.density,icon:v.value,size:n.prominent?44:28}}},d.prepend):G(qn,{key:"prepend-icon",density:n.density,icon:v.value,size:n.prominent?44:28},null)]),G("div",{class:"v-alert__content"},[ie&&G(hbe,{key:"title"},{default:()=>{var st;return[((st=d.title)==null?void 0:st.call(d))??n.title]}}),((We=d.text)==null?void 0:We.call(d))??n.text,(qe=d.default)==null?void 0:qe.call(d)]),d.append&&G("div",{key:"append",class:"v-alert__append"},[d.append()]),Ue&&G("div",{key:"close",class:"v-alert__close"},[d.close?G(xa,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var st;return[(st=d.close)==null?void 0:st.call(d,{props:te.value})]}}):G(xo,Wo({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},te.value),null)])]}})}}}),bbe={id:"app-authorization-wrapper"},ybe=["innerHTML"],xbe=["max"],wbe={__name:"Authorization",setup(n){const r=ps(),l=mv(),d=um(),g=yc(),v=Wy(),x=mm();Mn(!1);async function S(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0)){r.setShowAuthorization(!1);let P=l.getNextKey(r.itemKey);P!=""&&r.loadItemFromBackend(P)}else r.setShowAuthorization(!1),r.setShowSendFailure(!0)}async function O(){if(await g.setOwnAuthorized(),await r.saveChangesToBackend(!0))r.setShowAuthorization(!1),window.location=r.returnUrl;else{r.setShowAuthorization(!1),r.setShowSendFailure(!0);return}}function V(){r.showAuthorization=!1,x.showSummary()}return(P,B)=>(Ln(),ds("div",bbe,[lo(G(xo,{class:"app-header-item",disabled:le(r).isLoading||!le(l).authorizationAllowed,onClick:B[0]||(B[0]=$=>le(r).setShowAuthorization(!0))},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-file-certificate-outline"}),B[7]||(B[7]=Ve("span",null,"Autorisieren...",-1))]),_:1},8,["disabled"]),[[zo,!le(g).isOwnDisabled]]),G(pv,{"max-width":"60em",persistent:"",modelValue:le(r).showAuthorization,"onUpdate:modelValue":B[6]||(B[6]=$=>le(r).showAuthorization=$)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(aL,null,{default:Pt(()=>[yr("Korrektur von "+ls(le(l).currentItem.title)+" autorisieren",1)]),_:1}),G(zh,null,{default:Pt(()=>[Ve("p",null,[B[8]||(B[8]=Ve("strong",null,"Gutachten:",-1)),G(xo,{variant:"text",onClick:B[1]||(B[1]=$=>V())},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-pencil"})]),_:1})]),Ve("div",{class:"appText long-essay-content headlines-three",innerHTML:le(g).editSummary.text},null,8,ybe),B[11]||(B[11]=Ve("label",{for:"appOwnSummaryPoints"},[Ve("strong",null,"Bewertung:")],-1)),lo(Ve("input",{class:"appPoints",type:"number",min:"0",max:le(d).max_points,"onUpdate:modelValue":B[2]||(B[2]=$=>le(g).editSummary.points=$)},null,8,xbe),[[$y,le(g).editSummary.points]]),B[12]||(B[12]=yr("Punkte  ")),B[13]||(B[13]=Ve("strong",null,"Notenstufe:",-1)),yr(" "+ls(le(g).currentGradeTitle)+" ",1),le(d).inclusionsPossible?(Ln(),or(MQ,{key:0})):As("",!0),lo(G(qB,{type:"info",variant:"text"},{default:Pt(()=>B[9]||(B[9]=[yr(" Bitte geben Sie einen Gutachten-Text ein. ")])),_:1},512),[[zo,le(g).editSummary.text==""]]),lo(G(qB,{type:"info",variant:"text"},{default:Pt(()=>B[10]||(B[10]=[yr(" Bitte geben Sie eine Bewertung ein, damit eine Notenstufe vergeben werden kann. ")])),_:1},512),[[zo,le(v).hasLevels&&le(g).editSummary.points===null]]),lo(G(qB,{type:"info",variant:"text"},{default:Pt(()=>[yr(" Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("+ls(le(g).currentPartialPoints)+") ab! ",1)]),_:1},512),[[zo,le(g).currentPartialPointsAreIncluded&&le(g).editSummary.points!==null&&le(g).editSummary.points!=le(g).currentPartialPoints]]),lo(G(qB,{type:"info",variant:"text"},{default:Pt(()=>[yr(" Ihre Punktevergabe wird einen Stichentscheid erfordern: "+ls(le(g).stitchReasonText),1)]),_:1},512),[[zo,le(g).areOthersAuthorized&&le(g).stitchReasonText!=""]]),B[14]||(B[14]=Ve("br",null,null,-1)),B[15]||(B[15]=Ve("p",null," Durch die Autorisierung wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur autorisieren? ",-1))]),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:B[3]||(B[3]=$=>S())},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-check"}),B[16]||(B[16]=Ve("span",null,"Autorisieren und Weiter",-1))]),_:1}),G(xo,{onClick:B[4]||(B[4]=$=>O())},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-check"}),B[17]||(B[17]=Ve("span",null,"Autorisieren und Schlieen",-1))]),_:1}),G(xo,{onClick:B[5]||(B[5]=$=>{le(r).setShowAuthorization(!1)})},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-close"}),B[18]||(B[18]=Ve("span",null,"Abbrechen",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Cbe=Ol(wbe,[["__scopeId","data-v-9abaef6a"]]),BQ=Dn({text:String,...Ls(),...Qi()},"VToolbarTitle"),LQ=Ro()({name:"VToolbarTitle",props:BQ(),setup(n,r){let{slots:l}=r;return vs(()=>{const d=!!(l.default||l.text||n.text);return G(n.tag,{class:["v-toolbar-title",n.class],style:n.style},{default:()=>{var g;return[d&&G("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():n.text,(g=l.default)==null?void 0:g.call(l)])]}})}),{}}}),_be=[null,"prominent","default","comfortable","compact"],FQ=Dn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:n=>_be.includes(n)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...O1(),...Ls(),...R1(),...hm(),...Qi({tag:"header"}),...cl()},"VToolbar"),Aq=Ro()({name:"VToolbar",props:FQ(),setup(n,r){var Z;let{slots:l}=r;const{backgroundColorClasses:d,backgroundColorStyles:g}=Wh(Qo(n,"color")),{borderClasses:v}=D1(n),{elevationClasses:x}=I1(n),{roundedClasses:S}=pm(n),{themeClasses:O}=$l(n),{rtlClasses:V}=Ng(),P=Ao(!!(n.extended||(Z=l.extension)!=null&&Z.call(l))),B=Ge(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),$=Ge(()=>P.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return Yy({VBtn:{variant:"text"}}),vs(()=>{var fe;const K=!!(n.title||l.title),X=!!(l.image||n.image),ae=(fe=l.extension)==null?void 0:fe.call(l);return P.value=!!(n.extended||ae),G(n.tag,{class:["v-toolbar",{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},d.value,v.value,x.value,S.value,O.value,V.value,n.class],style:[g.value,n.style]},{default:()=>[X&&G("div",{key:"image",class:"v-toolbar__image"},[l.image?G(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},l.image):G(RD,{key:"image-img",cover:!0,src:n.image},null)]),G(xa,{defaults:{VTabs:{height:hs(B.value)}}},{default:()=>{var Le,Re,te;return[G("div",{class:"v-toolbar__content",style:{height:hs(B.value)}},[l.prepend&&G("div",{class:"v-toolbar__prepend"},[(Le=l.prepend)==null?void 0:Le.call(l)]),K&&G(LQ,{key:"title",text:n.title},{text:l.title}),(Re=l.default)==null?void 0:Re.call(l),l.append&&G("div",{class:"v-toolbar__append"},[(te=l.append)==null?void 0:te.call(l)])])]}}),G(xa,{defaults:{VTabs:{height:hs($.value)}}},{default:()=>[G(zJ,null,{default:()=>[P.value&&G("div",{class:"v-toolbar__extension",style:{height:hs($.value)}},[ae])]})]})]})}),{contentHeight:B,extensionHeight:$}}}),Sbe=Dn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function kbe(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=r;let d=0,g=0;const v=Mn(null),x=Ao(0),S=Ao(0),O=Ao(0),V=Ao(!1),P=Ao(!1),B=Ge(()=>Number(n.scrollThreshold)),$=Ge(()=>$h((B.value-x.value)/B.value||0)),Z=()=>{const K=v.value;if(!K||l&&!l.value)return;d=x.value,x.value="window"in K?K.pageYOffset:K.scrollTop;const X=K instanceof Window?document.documentElement.scrollHeight:K.scrollHeight;if(g!==X){g=X;return}P.value=x.value<d,O.value=Math.abs(x.value-B.value)};return Gn(P,()=>{S.value=S.value||x.value}),Gn(V,()=>{S.value=0}),Du(()=>{Gn(()=>n.scrollTarget,K=>{var ae;const X=K?document.querySelector(K):window;X&&X!==v.value&&((ae=v.value)==null||ae.removeEventListener("scroll",Z),v.value=X,v.value.addEventListener("scroll",Z,{passive:!0}))},{immediate:!0})}),xc(()=>{var K;(K=v.value)==null||K.removeEventListener("scroll",Z)}),l&&Gn(l,Z,{immediate:!0}),{scrollThreshold:B,currentScroll:x,currentThreshold:O,isScrollActive:V,scrollRatio:$,isScrollingUp:P,savedScroll:S}}const Ebe=Dn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...FQ(),...FX(),...Sbe(),height:{type:[Number,String],default:64}},"VAppBar"),VQ=Ro()({name:"VAppBar",props:Ebe(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:l}=r;const d=Mn(),g=zi(n,"modelValue"),v=Ge(()=>{var Re;const Le=new Set(((Re=n.scrollBehavior)==null?void 0:Re.split(" "))??[]);return{hide:Le.has("hide"),fullyHide:Le.has("fully-hide"),inverted:Le.has("inverted"),collapse:Le.has("collapse"),elevate:Le.has("elevate"),fadeImage:Le.has("fade-image")}}),x=Ge(()=>{const Le=v.value;return Le.hide||Le.fullyHide||Le.inverted||Le.collapse||Le.elevate||Le.fadeImage||!g.value}),{currentScroll:S,scrollThreshold:O,isScrollingUp:V,scrollRatio:P}=kbe(n,{canScroll:x}),B=Ge(()=>v.value.hide||v.value.fullyHide),$=Ge(()=>n.collapse||v.value.collapse&&(v.value.inverted?P.value>0:P.value===0)),Z=Ge(()=>n.flat||v.value.fullyHide&&!g.value||v.value.elevate&&(v.value.inverted?S.value>0:S.value===0)),K=Ge(()=>v.value.fadeImage?v.value.inverted?1-P.value:P.value:void 0),X=Ge(()=>{var te,Ce;if(v.value.hide&&v.value.inverted)return 0;const Le=((te=d.value)==null?void 0:te.contentHeight)??0,Re=((Ce=d.value)==null?void 0:Ce.extensionHeight)??0;return B.value?S.value<O.value||v.value.fullyHide?Le+Re:Le:Le+Re});Rg(Ge(()=>!!n.scrollBehavior),()=>{cf(()=>{B.value?v.value.inverted?g.value=S.value>O.value:g.value=V.value||S.value<O.value:g.value=!0})});const{ssrBootStyles:ae}=dL(),{layoutItemStyles:fe}=VX({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:Qo(n,"location"),layoutSize:X,elementSize:Ao(void 0),active:g,absolute:Qo(n,"absolute")});return vs(()=>{const Le=Aq.filterProps(n);return G(Aq,Wo({ref:d,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...fe.value,"--v-toolbar-image-opacity":K.value,height:void 0,...ae.value},n.style]},Le,{collapse:$.value,flat:Z.value}),l)}),{}}}),Abe=Ro()({name:"VAppBarTitle",props:BQ(),setup(n,r){let{slots:l}=r;return vs(()=>G(LQ,Wo(n,{class:"v-app-bar-title"}),l)),{}}}),Tbe={__name:"AppBar",setup(n){const r=ps(),l=Uy(),d=ec(),g=mm();async function v(){if(g.focusTarget=="header"){await Ar();for(const S of document.getElementsByClassName("app-header-item"))if(!S.disabled){S.focus();break}}}Gn(()=>g.focusChange,v);async function x(){!await d.hasChangesInStorage()||await r.saveChangesToBackend(!0)?window.location=r.returnUrl:r.setShowSendFailure(!0)}return(S,O)=>(Ln(),or(VQ,{elevation:"1",color:"white",density:"compact"},{default:Pt(()=>[G(Abe,null,{default:Pt(()=>[yr(ls(le(l).title),1)]),_:1}),G(iW),G(Jve),G(Wpe),!le(r).isReview&&!le(r).isStitchDecision?(Ln(),or(Cbe,{key:0})):As("",!0),le(r).isStitchDecision?(Ln(),or(obe,{key:1})):As("",!0),G(xo,{class:"app-header-item",onClick:O[0]||(O[0]=V=>x())},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),O[1]||(O[1]=Ve("span",null,"Korrekturen",-1))]),_:1})]),_:1}))}};function Obe(n){let{rootEl:r,isSticky:l,layoutItemStyles:d}=n;const g=Ao(!1),v=Ao(0),x=Ge(()=>{const V=typeof g.value=="boolean"?"top":g.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[V]:hs(v.value)}:{top:d.value.top}]});Du(()=>{Gn(l,V=>{V?window.addEventListener("scroll",O,{passive:!0}):window.removeEventListener("scroll",O)},{immediate:!0})}),xc(()=>{window.removeEventListener("scroll",O)});let S=0;function O(){const V=S>window.scrollY?"up":"down",P=r.value.getBoundingClientRect(),B=parseFloat(d.value.top??0),$=window.scrollY-Math.max(0,v.value-B),Z=P.height+Math.max(v.value,B)-window.scrollY-window.innerHeight,K=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;P.height<window.innerHeight-B?(g.value="top",v.value=B):V==="up"&&g.value==="bottom"||V==="down"&&g.value==="top"?(v.value=window.scrollY+P.top-K,g.value=!0):V==="down"&&Z<=0?(v.value=0,g.value="bottom"):V==="up"&&$<=0&&(K?g.value!=="top"&&(v.value=-$+K+B,g.value="top"):(v.value=P.top+$,g.value="top")),S=window.scrollY}return{isStuck:g,stickyStyles:x}}const Dbe=100,Rbe=20;function Tq(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function Oq(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let r=0;for(let l=n.length-1;l>0;l--){if(n[l].t===n[l-1].t)continue;const d=Tq(r),g=(n[l].d-n[l-1].d)/(n[l].t-n[l-1].t);r+=(g-d)*Math.abs(g),l===n.length-1&&(r*=.5)}return Tq(r)*1e3}function Ibe(){const n={};function r(g){Array.from(g.changedTouches).forEach(v=>{(n[v.identifier]??(n[v.identifier]=new Kde(Rbe))).push([g.timeStamp,v])})}function l(g){Array.from(g.changedTouches).forEach(v=>{delete n[v.identifier]})}function d(g){var V;const v=(V=n[g])==null?void 0:V.values().reverse();if(!v)throw new Error(`No samples for touch id ${g}`);const x=v[0],S=[],O=[];for(const P of v){if(x[0]-P[0]>Dbe)break;S.push({t:P[0],d:P[1].clientX}),O.push({t:P[0],d:P[1].clientY})}return{x:Oq(S),y:Oq(O),get direction(){const{x:P,y:B}=this,[$,Z]=[Math.abs(P),Math.abs(B)];return $>Z&&P>=0?"right":$>Z&&P<=0?"left":Z>$&&B>=0?"down":Z>$&&B<=0?"up":Nbe()}}}return{addMovement:r,endTouch:l,getVelocity:d}}function Nbe(){throw new Error}function Pbe(n){let{el:r,isActive:l,isTemporary:d,width:g,touchless:v,position:x}=n;Du(()=>{window.addEventListener("touchstart",Le,{passive:!0}),window.addEventListener("touchmove",Re,{passive:!1}),window.addEventListener("touchend",te,{passive:!0})}),xc(()=>{window.removeEventListener("touchstart",Le),window.removeEventListener("touchmove",Re),window.removeEventListener("touchend",te)});const S=Ge(()=>["left","right"].includes(x.value)),{addMovement:O,endTouch:V,getVelocity:P}=Ibe();let B=!1;const $=Ao(!1),Z=Ao(0),K=Ao(0);let X;function ae(ie,Ue){return(x.value==="left"?ie:x.value==="right"?document.documentElement.clientWidth-ie:x.value==="top"?ie:x.value==="bottom"?document.documentElement.clientHeight-ie:Dk())-(Ue?g.value:0)}function fe(ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const We=x.value==="left"?(ie-K.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-ie-K.value)/g.value:x.value==="top"?(ie-K.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-ie-K.value)/g.value:Dk();return Ue?Math.max(0,Math.min(1,We)):We}function Le(ie){if(v.value)return;const Ue=ie.changedTouches[0].clientX,We=ie.changedTouches[0].clientY,qe=25,st=x.value==="left"?Ue<qe:x.value==="right"?Ue>document.documentElement.clientWidth-qe:x.value==="top"?We<qe:x.value==="bottom"?We>document.documentElement.clientHeight-qe:Dk(),Se=l.value&&(x.value==="left"?Ue<g.value:x.value==="right"?Ue>document.documentElement.clientWidth-g.value:x.value==="top"?We<g.value:x.value==="bottom"?We>document.documentElement.clientHeight-g.value:Dk());(st||Se||l.value&&d.value)&&(X=[Ue,We],K.value=ae(S.value?Ue:We,l.value),Z.value=fe(S.value?Ue:We),B=K.value>-20&&K.value<80,V(ie),O(ie))}function Re(ie){const Ue=ie.changedTouches[0].clientX,We=ie.changedTouches[0].clientY;if(B){if(!ie.cancelable){B=!1;return}const st=Math.abs(Ue-X[0]),Se=Math.abs(We-X[1]);(S.value?st>Se&&st>3:Se>st&&Se>3)?($.value=!0,B=!1):(S.value?Se:st)>3&&(B=!1)}if(!$.value)return;ie.preventDefault(),O(ie);const qe=fe(S.value?Ue:We,!1);Z.value=Math.max(0,Math.min(1,qe)),qe>1?K.value=ae(S.value?Ue:We,!0):qe<0&&(K.value=ae(S.value?Ue:We,!1))}function te(ie){if(B=!1,!$.value)return;O(ie),$.value=!1;const Ue=P(ie.changedTouches[0].identifier),We=Math.abs(Ue.x),qe=Math.abs(Ue.y);(S.value?We>qe&&We>400:qe>We&&qe>3)?l.value=Ue.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||Dk()):l.value=Z.value>.5}const Ce=Ge(()=>$.value?{transform:x.value==="left"?`translateX(calc(-100% + ${Z.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${Z.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${Z.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${Z.value*g.value}px))`:Dk(),transition:"none"}:void 0);return Rg($,()=>{var We,qe;const ie=((We=r.value)==null?void 0:We.style.transform)??null,Ue=((qe=r.value)==null?void 0:qe.style.transition)??null;cf(()=>{var st,Se,Me,D;(Se=r.value)==null||Se.style.setProperty("transform",((st=Ce.value)==null?void 0:st.transform)||"none"),(D=r.value)==null||D.style.setProperty("transition",((Me=Ce.value)==null?void 0:Me.transition)||null)}),Ou(()=>{var st,Se;(st=r.value)==null||st.style.setProperty("transform",ie),(Se=r.value)==null||Se.style.setProperty("transition",Ue)})}),{isDragging:$,dragProgress:Z,dragStyles:Ce}}function Dk(){throw new Error}const Mbe=["start","end","left","right","top","bottom"],Bbe=Dn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>Mbe.includes(n)},sticky:Boolean,...O1(),...Ls(),...WJ(),...IX({mobile:null}),...R1(),...FX(),...hm(),...Qi({tag:"nav"}),...cl()},"VNavigationDrawer"),Lbe=Ro()({name:"VNavigationDrawer",props:Bbe(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const{isRtl:v}=Ng(),{themeClasses:x}=$l(n),{borderClasses:S}=D1(n),{backgroundColorClasses:O,backgroundColorStyles:V}=Wh(Qo(n,"color")),{elevationClasses:P}=I1(n),{displayClasses:B,mobile:$}=q8(n),{roundedClasses:Z}=pm(n),K=EJ(),X=zi(n,"modelValue",null,tt=>!!tt),{ssrBootStyles:ae}=dL(),{scopeId:fe}=lL(),Le=Mn(),Re=Ao(!1),{runOpenDelay:te,runCloseDelay:Ce}=ZJ(n,tt=>{Re.value=tt}),ie=Ge(()=>n.rail&&n.expandOnHover&&Re.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),Ue=Ge(()=>D$(n.location,v.value)),We=Ge(()=>n.persistent),qe=Ge(()=>!n.permanent&&($.value||n.temporary)),st=Ge(()=>n.sticky&&!qe.value&&Ue.value!=="bottom");Rg(()=>n.expandOnHover&&n.rail!=null,()=>{Gn(Re,tt=>d("update:rail",!tt))}),Rg(()=>!n.disableResizeWatcher,()=>{Gn(qe,tt=>!n.permanent&&Ar(()=>X.value=!tt))}),Rg(()=>!n.disableRouteWatcher&&!!K,()=>{Gn(K.currentRoute,()=>qe.value&&(X.value=!1))}),Gn(()=>n.permanent,tt=>{tt&&(X.value=!0)}),n.modelValue==null&&!qe.value&&(X.value=n.permanent||!$.value);const{isDragging:Se,dragProgress:Me}=Pbe({el:Le,isActive:X,isTemporary:qe,width:ie,touchless:Qo(n,"touchless"),position:Ue}),D=Ge(()=>{const tt=qe.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):ie.value;return Se.value?tt*Me.value:tt}),Ke=Ge(()=>["top","bottom"].includes(n.location)?0:ie.value),{layoutItemStyles:ct,layoutItemScrimStyles:$t}=VX({id:n.name,order:Ge(()=>parseInt(n.order,10)),position:Ue,layoutSize:D,elementSize:Ke,active:Ge(()=>X.value||Se.value),disableTransitions:Ge(()=>Se.value),absolute:Ge(()=>n.absolute||st.value&&typeof Jt.value!="string")}),{isStuck:Jt,stickyStyles:et}=Obe({rootEl:Le,isSticky:st,layoutItemStyles:ct}),pt=Wh(Ge(()=>typeof n.scrim=="string"?n.scrim:null)),Lt=Ge(()=>({...Se.value?{opacity:Me.value*.2,transition:"none"}:void 0,...$t.value}));return Yy({VList:{bgColor:"transparent"}}),vs(()=>{const tt=g.image||n.image;return G(us,null,[G(n.tag,Wo({ref:Le,onMouseenter:te,onMouseleave:Ce,class:["v-navigation-drawer",`v-navigation-drawer--${Ue.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":Re.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":qe.value,"v-navigation-drawer--persistent":We.value,"v-navigation-drawer--active":X.value,"v-navigation-drawer--sticky":st.value},x.value,O.value,S.value,B.value,P.value,Z.value,n.class],style:[V.value,ct.value,ae.value,et.value,n.style,["top","bottom"].includes(Ue.value)?{height:"auto"}:{}]},fe,l),{default:()=>{var Ye,Mt,no;return[tt&&G("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?G(xa,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},g.image):G(RD,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),g.prepend&&G("div",{class:"v-navigation-drawer__prepend"},[(Ye=g.prepend)==null?void 0:Ye.call(g)]),G("div",{class:"v-navigation-drawer__content"},[(Mt=g.default)==null?void 0:Mt.call(g)]),g.append&&G("div",{class:"v-navigation-drawer__append"},[(no=g.append)==null?void 0:no.call(g)])]}}),G(Hy,{name:"fade-transition"},{default:()=>[qe.value&&(Se.value||X.value)&&!!n.scrim&&G("div",Wo({class:["v-navigation-drawer__scrim",pt.backgroundColorClasses.value],style:[Lt.value,pt.backgroundColorStyles.value],onClick:()=>{We.value||(X.value=!1)}},fe),null)]})])}),{isStuck:Jt}}}),Fbe={__name:"NavBar",setup(n){const r=ps(),l=mm(),d=uC(),g=bv(),v=Uy(),x=ec();async function S(){if(l.focusTarget=="navigation"){await Ar();for(const Le of document.getElementsByClassName("app-navigation-item")){Le.focus();break}}}Gn(()=>l.focusChange,S);function O(){return x.countChanges==0}function V(){return r.lastSendingTry>0}function P(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function B(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function $(Le){Le.keyCode==27?B():l.handleKeyDown(Le)}function Z(Le){Le.type=="url"?window.open(Le.source,"long-essay-writer-resource-"+Le.key):(d.selectResource(Le),l.showResources())}function K(Le){l.selectCorrector(Le.corrector_key)}function X(Le){switch(Le.type){case"url":return d.getResourceIsActive(Le)&&l.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return d.getResourceIsActive(Le)&&l.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function ae(Le){return Le.title+" - "+Le.initials+" "+g.getPositionText(Le.corrector_key)+(l.getCorrectorIsVisible(Le.corrector_key)?" (ausgewhlt)":"")}function fe(Le){return l.getCorrectorIsVisible(Le.corrector_key)?"mdi-account-school":"mdi-account-school-outline"}return(Le,Re)=>(Ln(),or(Lbe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:P,onFocusout:B,onKeydown:$},{append:Pt(()=>[G(iD,{tabindex:"-1"},{default:Pt(()=>[G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[7]||(Re[7]=te=>{le(r).saveChangesToBackend()}),disabled:O(),"aria-label":V()?"nderungen werden gesendet":O()?"Alles gesendet":"Letzte nderung senden",title:V()?"nderungen werden gesendet":O()?"Alles gesendet":"Letzte nderung senden",ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:V()?"mdi-cloud-upload":O()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1})]),default:Pt(()=>[G(iD,{tabindex:"-1"},{default:Pt(()=>[lo(G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[0]||(Re[0]=te=>{le(l).showInstructions()}),"aria-label":"Aufgabenstellung"+le(l).isInstructionsVisible?", ist ausgewhlt":"",title:"Aufgabenstellung"+(le(l).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,le(v).hasInstructions]]),lo(G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[1]||(Re[1]=te=>{le(l).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(le(l).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(le(l).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,le(d).hasInstruction]]),lo(G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[2]||(Re[2]=te=>{le(l).showSolution()}),"aria-label":"Lsungshinweise"+(le(l).isSolutionVisible?", ist ausgewhlt":""),title:"Lsungshinweise"+(le(l).isSolutionVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,le(v).hasSolution]]),lo(G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[3]||(Re[3]=te=>{le(l).showSolutionPdf()}),"aria-label":"Lsungshinweise als PDF"+(le(l).isSolutionPdfVisible?", ist ausgewhlt":""),title:"Lsungshinweise als PDF"+(le(l).isSolutionPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[zo,le(d).hasSolution]]),G(BO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,lC(le(d).fileOrUrlResources,te=>(Ln(),or(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce=>{Z(te)},"aria-label":te.title+(le(d).getResourceIsActive(te)&&le(l).isResourcesVisible?", ist ausgewhlt":""),title:te.title+(le(d).getResourceIsActive(te)&&le(l).isResourcesVisible?" (ausgewhlt)":""),key:te.key,ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:X(te)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),G(BO,{class:"border-opacity-75"}),G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[4]||(Re[4]=te=>{le(l).showEssay()}),"aria-label":"Abgegebener Text"+(le(l).isEssayVisible?", ist ausgewhlt":""),title:"Abgegebener Text"+(le(l).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),G(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[5]||(Re[5]=te=>{le(l).showMarking()}),"aria-label":"Korrektur"+(le(l).isMarkingVisible?", ist ausgewhlt":""),title:"Korrektur"+(le(l).isMarkingVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),G(BO,{class:"border-opacity-75"}),(Ln(!0),ds(us,null,lC(le(g).otherCorrectors,te=>(Ln(),or(vc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Ce=>{K(te)},"aria-label":ae(te)+(le(l).getCorrectorIsVisible(te.corrector_key)?", ist ausgewhlt":""),title:ae(te)+(le(l).getCorrectorIsVisible(te.corrector_key)?" (ausgewhlt)":""),key:te.corrector_key,ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:fe(te)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),le(r).isForReviewOrStitch?As("",!0):(Ln(),or(vc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:Re[6]||(Re[6]=te=>{le(l).showSummary()}),"aria-label":"Gesamteindruck"+(le(l).isSummaryVisible?", ist ausgewhlt":""),title:"Gesamteindruck"+(le(l).isSummaryVisible?" (ausgewhlt)":""),ripple:!1},{prepend:Pt(()=>[G(qn,{"aria-role":"hidden",icon:le(l).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),G(BO,{class:"border-opacity-75"})]),_:1})]),_:1}))}},Vbe=Ol(Fbe,[["__scopeId","data-v-07874397"]]),zbe=["innerHTML"],Hbe={__name:"Instructions",setup(n){const r=Uy();return(l,d)=>(Ln(),ds("div",{id:"app-instructions",class:"long-essay-content",innerHTML:le(r).instructions},null,8,zbe))}},$be=Ol(Hbe,[["__scopeId","data-v-8f719fa8"]]),Ube=["data"],Wbe={__name:"InstructionsPdf",setup(n){const l=uC().instruction;return(d,g)=>(Ln(),ds("div",null,[le(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:le(l).url,width:"100%",height:"100%"},null,8,Ube)):As("",!0)]))}},Zbe=Ol(Wbe,[["__scopeId","data-v-21afefc7"]]),jbe=["innerHTML"],Kbe={__name:"Solution",setup(n){const r=Uy();return(l,d)=>(Ln(),ds("div",{id:"app-solution",class:"long-essay-content",innerHTML:le(r).solution},null,8,jbe))}},Gbe=Ol(Kbe,[["__scopeId","data-v-3058a5de"]]),qbe=["data"],Ybe={__name:"SolutionPdf",setup(n){const l=uC().solution;return(d,g)=>(Ln(),ds("div",null,[le(l).mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:le(l).url,width:"100%",height:"100%"},null,8,qbe)):As("",!0)]))}},Xbe=Ol(Ybe,[["__scopeId","data-v-d1f5bdf9"]]),Jbe={class:"resources"},Qbe={key:0},e1e=["data"],t1e={__name:"Resources",setup(n){const r=uC();return(l,d)=>(Ln(),ds("div",Jbe,[(Ln(!0),ds(us,null,lC(le(r).fileOrUrlResources,g=>(Ln(),ds(us,{key:g.key},[g.type=="file"?lo((Ln(),ds("div",Qbe,[g.mimetype=="application/pdf"?(Ln(),ds("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,e1e)):As("",!0)],512)),[[zo,le(r).getResourceIsActive(g)]]):As("",!0)],64))),128))]))}},n1e=Ol(t1e,[["__scopeId","data-v-2fabdab3"]]);class o1e{constructor(r,l,d){Sn(this,"observer",null);Sn(this,"marks",[]);if(!r)throw new Error("Missing anchor element");this.el=r,l instanceof Function&&(this.onSelection=l,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this))),d instanceof Function&&(this.onIntersection=d,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(r){}onIntersection(r){}selectionHandler(r){let l=this.getSelectionData();l.mouseX=r.clientX,l.mouseY=r.clientY,l.firstWord>0&&l.lastWord>0&&this.onSelection(l)}intersectionHandler(r){let l=0;this.marks.forEach(d=>{(l==0||d.firstWord<l)&&this.isMarkVisible(d.firstWord,d.lastWord)&&(l=d.firstWord)}),this.onIntersection(l)}removeSelection(){window.getSelection().removeAllRanges()}getSelectionData(){const r=window.getSelection(),l=r.getRangeAt(0);if(!r||!l)return{};let d=l.commonAncestorContainer;d.nodeType==3&&(d=d.parentNode.parentNode);let g=0,v=0,x=0;return d.querySelectorAll("w-p").forEach(S=>{if(r.containsNode(S,!0)){let O=parseInt(S.getAttribute("w")),V=parseInt(S.getAttribute("p"));(g==0||O<g)&&(g=O,x=V),O>v&&(v=O)}}),{firstWord:g,lastWord:v,parentNumber:x,isCollapsed:r.isCollapsed}}addLabel(r,l,d){let g=this.el.querySelector('w-p[w="'+d+'"]');g&&(g.setAttribute("label",l),g.classList.add(r))}showMark(r,l,d){this.marks.push({cssClass:r,firstWord:l,lastWord:d}),this.el.querySelectorAll("w-p").forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.add(r),this.observer&&(v==l||v==d)&&this.observer.observe(g)})}hideMark(r,l,d){this.marks=this.marks.filter(g=>g.cssClass!=r||g.firstWord!=l||g.lastWord!=d),this.el.querySelectorAll("w-p."+r).forEach(g=>{let v=parseInt(g.getAttribute("w"));v>=l&&v<=d&&g.classList.remove(r),this.observer&&(v==l||v==d)&&this.observer.unobserve(g)})}hideAllMarksOfClass(r){this.marks=this.marks.filter(l=>l.cssClass!=r),this.el.querySelectorAll("w-p."+r).forEach(l=>{l.classList.remove(r)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(r=>{r.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(r,l){if(!this.isMarkVisible(r,l,!0)){const d=this.el.querySelector('w-p[w="'+r+'"]');d&&d.scrollIntoView()}}isMarkVisible(r,l,d){const g=this.el.querySelector('w-p[w="'+r+'"]'),v=this.el.querySelector('w-p[w="'+l+'"]');if(!g||!v)return!1;const x=this.el.getBoundingClientRect(),S=g.getBoundingClientRect(),O=v.getBoundingClientRect(),V=S.top>=x.top&&S.bottom<=x.bottom,P=O.top>=x.top&&O.bottom<=x.bottom;return d?V&&P:V||P}}const s1e={id:"app-essay-wrapper"},r1e={class:"appTextButtons"},i1e=["innerHTML"],a1e={__name:"Essay",setup(n){const r=tD(),l=Au(),d=yc(),g=Vy(),v=um();let x;Du(()=>{K(),x=new o1e(document.getElementById("app-essay"),P,B),l.activeComments.forEach(X=>V(X))});function S(){x.hideAllMarksAndLabels(),l.activeComments.forEach(X=>V(X)),O()}Gn(()=>l.markerChange,S),Gn(()=>l.filterChange,S);function O(){x.hideAllMarksOfClass("selected");let X=l.getComment(l.selectedKey);X&&(x.showMark("selected",X.start_position,X.end_position),x.addLabel("labelled",X.label,X.start_position),x.scrollToMark(X.start_position,X.end_position))}Gn(()=>l.selectionChange,O);function V(X){X.prefix&&(x.hideMark(X.prefix+"-excellent",X.start_position,X.end_position),x.hideMark(X.prefix+"-cardinal",X.start_position,X.end_position),x.hideMark(X.prefix,X.start_position,X.end_position),X.rating_excellent?x.showMark(X.prefix+"-excellent",X.start_position,X.end_position):X.rating_cardinal?x.showMark(X.prefix+"-cardinal",X.start_position,X.end_position):x.showMark(X.prefix,X.start_position,X.end_position)),x.addLabel("labelled",X.label,X.start_position)}async function P(X){let ae=l.getActiveCommentsInRange(X.firstWord,X.lastWord);if(ae.length){let fe=ae.shift();X.isCollapsed?(x.removeSelection(),l.selectComment(fe.key)):(x.removeSelection(),d.isOwnDisabled||l.createComment(X.firstWord,X.lastWord,X.parentNumber))}else x.removeSelection(),d.isOwnDisabled||l.createComment(X.firstWord,X.lastWord,X.parentNumber)}function B(X){let ae=l.getActiveCommentsByStartPosition(X);if(ae.length){let fe=ae.shift();l.setFirstVisibleComment(fe.key)}}function $(){g.zoomEssayTextIn(),K()}function Z(){g.zoomEssayTextOut(),K()}function K(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(X,ae)=>(Ln(),ds("div",s1e,[Ve("div",r1e,[G(w1,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[G(xo,{title:"Abgabe Text verkleinern",size:"small",icon:"mdi-magnify-minus-outline",onClick:ae[0]||(ae[0]=fe=>Z())}),G(xo,{title:"Abgabe Text vergrern",size:"small",icon:"mdi-magnify-plus-outline",onClick:ae[1]||(ae[1]=fe=>$())})]),_:1})]),Ve("div",{id:"app-essay",class:xd("long-essay-content "+le(v).headlineClass),innerHTML:le(r).text},null,10,i1e)]))}},Uk=()=>{},Dq=(n,r)=>Math.abs(n-r),l1e=(n,r)=>({x:Math.min(n.x,r.x),y:Math.min(n.y,r.y),width:Dq(n.x,r.x),height:Dq(n.y,r.y)}),zQ=n=>n,lD=n=>typeof n=="object",Lk=n=>typeof n=="string",qk=n=>typeof n=="number",ID=n=>typeof n>"u",c1e=n=>[!0,!1].includes(n),HQ=(n,r)=>Object.fromEntries(Object.entries(r).map(([l,d])=>[l,n(d,l)])),u1e=(n,r)=>Object.fromEntries(Object.entries(r).filter(([l,d])=>n(d,l))),WO=(n,r)=>u1e((l,d)=>n.includes(d),r),d1e=(n,r)=>lD(r)&&Object.values(HQ((l,d)=>l(r[d]),n)).filter(l=>!l).length===0,f1e=(...n)=>r=>n.reduce((l,d)=>d(l),r),cD=(...n)=>f1e(...n.reverse()),uD=Symbol("none"),m1e=n=>r=>r===uD?uD:n(r),g1e=n=>r=>r===uD?n():r,h1e=(n,r)=>cD(...Object.entries(n).map(([l,d])=>g1e(()=>d(r[l])?uD:{key:l,type:d.name,offendingValue:r[l]})))(lD(r)?uD:{type:lD.name,offendingValue:r}),Rq=(n,r)=>{const l=d=>d?`Key "${d}" of `:"";m1e(({type:d,key:g=!1})=>rE(`Value does not match required form: ${l(g)}${JSON.stringify(r)} does not satisfy ${d}.`))(h1e(n,r))},D8=(n,r)=>(...l)=>{if(n(...l))return r(...l)},Zh=(n,r)=>({x:n,y:r}),r8=n=>d1e({x:qk,y:qk},n),mL=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),dD=(n,r)=>({x:r.x*n,y:r.y*n}),mC=(n,r)=>mL(n,dD(-1,r)),p1e=n=>({width:n.x,height:n.y}),v1e=n=>Zh(n.width,n.height),b1e=(n,r)=>({width:n,height:r}),y1e=(n,r)=>Zh(n.x*Math.cos(r)-n.y*Math.sin(r),n.x*Math.sin(r)+n.y*Math.cos(r)),x1e=({x:n,y:r})=>`${n},${r}`,w1e=(n,r)=>n.map(l=>mL(l,r)),C1e=n=>n.map(x1e).join(" "),$Q=(n,r)=>C1e(w1e(n,r)),_1e=(n,r)=>{const[l,d]=n.width/n.height<r.width/r.height?["height","width"]:["width","height"];return{[l]:r[l],[d]:r[l]*(n[d]/n[l])}},rE=n=>{throw new Error(n)},fD=(n,r)=>n||rE(r),Iq=n=>()=>n,UQ=(n,r)=>!ID(r.find(n)),S1e=(n,r)=>!UQ(l=>!n(l),r),WQ=n=>n instanceof Array,ZQ=n=>{const r=ZQ.name+"("+n.name+")";return{[r]:d=>WQ(d)&&S1e(n,d)}[r]},k1e=(n,r)=>Object.entries(n).reduce((l,[d,g])=>g===r[d]?l:[...l,{left:g,right:r[d],name:d}],[]),jQ=Reflect.set,E1e=Reflect.deleteProperty,aW=(n,...r)=>n.bind(null,...r),A1e=n=>n.apply.bind(n,null),lW=n=>n.map(r=>r()),T1e=(n,r)=>Object.entries(r).forEach(A1e(n)),O1e=(n,r,l)=>T1e(n[r].bind(n),l),D1e=n=>r=>(n(r),r),Rk=(n,r=Uk)=>(l=void 0)=>{if(ID(l))return n;r(l),n=l},d$=JSON.stringify,_v=n=>{let r=(...g)=>rE(`No matching function found for arguments: ${d$(g)}.`);const l={},d=(...g)=>(l[d$(n(...g))]||r)(...g);return d.define=(g,v=void 0)=>{ID(v)?r=g:l[d$(g)]=v},d},xr=(n,...r)=>n.define(...r),KQ=(n,r,l)=>(n.addEventListener(r,l),()=>n.removeEventListener(r,l)),mD=_v((n,r)=>r);xr(mD,KQ);const cW=(n,r)=>xr(mD,n,(l,d,g)=>{const v=[n,r].map(x=>KQ(l,x,g));return()=>{lW(v)}});cW("mousedown","touchstart");cW("mousemove","touchmove");cW("mouseup","touchend");const dC=_v(n=>n.constructor.name);xr(dC,"MouseEvent",n=>Zh(n.clientX,n.clientY));xr(dC,"TouchEvent",n=>Zh(n.touches[0].clientX,n.touches[0].clientY));const R1e=n=>n.reduce((r,l)=>lD(l.right)&&!WQ(l.right)?[...r,...GQ(l.left,l.right).map(({path:d,...g})=>({path:[l.name,...d],...g}))]:[...r,{path:[l.name],value:l.right}],[]),GQ=(n,r)=>R1e(k1e(n,r)),I1e=(n,r)=>!ID(r.find(l=>qQ(l.path,n))),qQ=(n,r)=>JSON.stringify(n)===JSON.stringify(r),YQ=(n,r)=>n.length>=r.length&&qQ(n.slice(0,r.length),r),uW=(n,r)=>n.length===0?r:lD(r)?uW(n.slice(1),r[n[0]]):rE("Path not found."),ku=(n,r)=>({requires:l=>YQ(l,n),then:cD(r,aW(uW,n))}),Ly=(n,r)=>({requires:Iq(!1),then:cD(r,Iq(n))}),dW=(n,r)=>({requires:l=>UQ(aW(YQ,l),Object.values(n)),then:l=>r(HQ(d=>uW(d,l),n))}),Jl=n=>r=>l=>l.setAttribute(n,(qk(r),r)),XQ=()=>n=>r=>jQ(r,"textContent",n),gD=n=>r=>l=>l.style.setProperty(n,r),N1e=n=>n.reduce((r,l)=>r.includes(l)?r:[...r,l],[]),fW=(n,r,l)=>r.forEach(({then:d})=>d(n)(l)),Nq=(n,r,l,d)=>{const g=({path:x})=>r.filter(S=>S.requires(x)),v=N1e(l.reduce((x,S)=>x.concat(g(S)),[]));fW(n,v,d)},gm=(n,r)=>n.append(r),Yk=(n,r)=>O1e(n,"setAttribute",r),P1e=({start:n,move:r,stop:l=Uk})=>{let d=null;return{start:g=>{g.preventDefault(),d=n(dC(g))},move:g=>{g.preventDefault(),d=r(dC(g),d)},stop:g=>{l(d)}}},M1e=(n,r)=>Array.from(n.children).forEach(aW(gm,r)),JQ=n=>(r,l={},...d)=>{const g=n(r);return d.forEach(v=>gm(g,v)),Yk(g,l),g},B1e=n=>document.createElementNS("http://www.w3.org/2000/svg",n),Ia=JQ(B1e),L1e=JQ(n=>document.createElement(n)),F1e=()=>{let n=null;return r=>{if(n!==null)return new Promise(Uk);const l=()=>n===l?(n=null,!0):!1;return n=l,new Promise(d=>r(()=>{l(),d()}))}},V1e=n=>{const r=F1e();return{current:()=>n,acquire:(l,d)=>r(g=>{const v=n;n=l,d(()=>{g()&&(n=v)})})}},z1e=n=>new Promise((r,l)=>{const d=document.createElement("img");d.onload=()=>r(b1e(d.width,d.height)),d.onerror=l,d.src=n}),QQ=n=>n.type==="touchend"&&n.touches.length===0,hD=_v((n,r=void 0)=>ID(r)?n.constructor.name:r);xr(hD,"TouchEvent",n=>n.touches.length===1||QQ(n));xr(hD,"MouseEvent",n=>n.button===0);xr(hD,"PointerEvent",n=>hD(n,"MouseEvent"));const pD=_v(n=>n.constructor.name);xr(pD,"TouchEvent",n=>n.touches.length===2||QQ(n));xr(pD,"MouseEvent",n=>n.button===1);xr(pD,"PointerEvent",n=>pD(n,"MouseEvent"));const dm=_v((n,r)=>r);xr(dm,mD);["click","mousedown","mouseup"].forEach(n=>{xr(dm,n,(r,l,d)=>mD(r,l,D8(hD,d))),xr(dm,[n,"primary"],(r,[l,d],g)=>dm(r,l,g)),xr(dm,[n,"secondary"],(r,[l,d],g)=>mD(r,l,D8(pD,g)))});const H1e=(n,{start:r=Uk,move:l=Uk,stop:d=Uk},g,v)=>{const x=V=>l(V),O=[dm(window,["mouseup",g],V=>{lW(O),d(V)}),dm(n,"mousemove",x)];r(v)},Ws={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},$1e=n=>Object.values(Ws).includes(n),U1e={[Ws.CIRCLE]:{symbol:Lk,symbolColor:Lk},[Ws.RECTANGLE]:{width:qk,height:qk},[Ws.POLYGON]:{polygon:ZQ(r8)},[Ws.LINE]:{end:r8},[Ws.WAVE]:{end:r8}},eee={key:Lk,label:Lk,color:Lk,selectedColor:Lk,shape:$1e,pos:r8,locked:c1e},W1e=n=>({...WO(Object.keys(eee),n),pos:WO(["x","y"],n.pos)}),Z1e={[Ws.CIRCLE]:n=>WO(["symbol","symbolColor"],n),[Ws.RECTANGLE]:n=>WO(["width","height"],n),[Ws.POLYGON]:({polygon:n})=>({polygon:n.map(r=>WO(["x","y"],r))}),[Ws.LINE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}}),[Ws.WAVE]:({end:{x:n,y:r}})=>({end:{x:n,y:r}})},mW=_v(n=>n.shape);xr(mW,zQ);xr(mW,Ws.CIRCLE,({symbol:n="",symbolColor:r="black",...l})=>({...l,symbol:n,symbolColor:r}));const Fk=n=>(n={...n,key:n.key||"mark-"+Math.random().toString(),locked:n.locked||!1},Rq(eee,n),n=mW(n),Rq(U1e[n.shape],n),{...W1e(n),...Z1e[n.shape](n)}),i8={lambda:60,amplitude:20,lineWidth:10},f$={startDot:{radius:20,borderWidth:10},lineWidth:10},j1e={width:15},S1=Symbol("silent"),K1e=({polygon:n,pos:r})=>$Q(n,r),G1e=n=>r=>r.setAttribute("points",K1e(n)),gL=n=>[ku(["color"],gD("--default-color")),ku(["selectedColor"],gD("--selected-color")),ku(["locked"],r=>Jl("class")(["shape"].concat(r?["locked"]:[],n).join(" ")))],tee=(n,r)=>{const l=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),d=({start:g,end:v})=>{const x=Math.atan(v.y/v.x),S=v.x<0?x-Math.PI:x,O=y1e(mC(g,Zh(0,n/2)),-S),V=`rotateZ(${S}rad)`,P=`translate(${O.x}px, ${O.y}px)`;return`${V} ${P}`};return[...gL(r),dW({start:["pos"],end:["end"]},cD(gD("transform"),d)),ku(["end"],cD(Jl("width"),l)),Ly(`0 ${n/2}px`,gD("transform-origin")),Ly(n,Jl("height")),Ly(0,Jl("x")),Ly(0,Jl("y"))]},wv=_v(n=>n.shape||n);xr(wv,Ws.RECTANGLE,()=>[...gL([]),ku(["pos","x"],Jl("x")),ku(["pos","y"],Jl("y")),ku(["width"],Jl("width")),ku(["height"],Jl("height"))]);xr(wv,Ws.CIRCLE,()=>[...gL([]),ku(["pos","x"],Og(0,Jl("cx"))),ku(["pos","y"],Og(0,Jl("cy"))),ku(["pos","x"],Og(1,Jl("x"))),ku(["pos","y"],Og(1,Jl("y"))),ku(["symbol"],Og(1,XQ())),ku(["symbolColor"],Og(1,gD("fill"))),Ly("symbol",Og(1,Jl("class"))),Ly(70,Og(0,Jl("r")))]);xr(wv,Ws.POLYGON,()=>[...gL([]),dW({pos:["pos"],polygon:["polygon"]},G1e)]);xr(wv,Ws.LINE,()=>tee(j1e.width,[]));xr(wv,Ws.WAVE,()=>tee(i8.amplitude*2,["wave"]));const Og=(n,r)=>l=>d=>r(l)(d.children[n]);xr(wv,"label",()=>[ku(["pos","x"],Og(0,Jl("x"))),ku(["pos","x"],Og(1,Jl("x"))),Ly("label",Og(0,Jl("class"))),Ly("label",Og(1,Jl("class"))),dW({shape:["shape"],label:["label"],y:["pos","y"]},({shape:n,label:r,y:l})=>d=>{n==Ws.CIRCLE&&(l=l-70),Yk(d.children[1],{y:l}),XQ()(r)(d.children[1]),requestAnimationFrame(()=>{const{width:g,height:v}=d.children[1].getBBox();Yk(d.children[0],{y:l-v+v*.15,width:g,height:v})})})]);const gC=_v(zQ);xr(gC,Ws.RECTANGLE,()=>Ia("rect"));xr(gC,Ws.CIRCLE,()=>Ia("g",{},Ia("circle"),Ia("text")));xr(gC,Ws.POLYGON,()=>Ia("polygon"));xr(gC,Ws.LINE,()=>Ia("rect"));xr(gC,Ws.WAVE,()=>Ia("rect"));xr(gC,n=>rE(`Invalid shape name: ${n}.`));const nee=n=>{const r=gC(n.shape);return fW(n,wv(n),r),r},q1e=n=>{const r=Ia("g",{},Ia("rect"),Ia("text"));return fW(n,wv("label"),r),r},Y1e=(n,r,l)=>{Nq(n,wv(n),r,l.nodes.shape),Nq(n,wv("label"),r,l.nodes.label)},X1e=n=>({mark:n,nodes:{root:Ia("g"),label:q1e(n),shape:nee(n)}}),J1e={[Ws.RECTANGLE]:{width:10,height:20},[Ws.CIRCLE]:{},[Ws.POLYGON]:{polygon:[Zh(0,0)]},[Ws.LINE]:{end:Zh(0,0)},[Ws.WAVE]:{end:Zh(0,0)}},Q1e=(n,r,l,d)=>Fk({...J1e[r],shape:r,pos:n,color:l,selectedColor:d,label:""}),hL=(n,r,l,d="primary")=>H1e(n.nodes.svg,P1e(l),d,r),e0e=(n,r)=>z1e(r).then(l=>{Yk(n.nodes.backgroundImage,{href:r,x:0,y:0,...l}),n.canvas.size(l),fee(n)}),t0e=()=>D1e(n=>jQ(n,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(r=>".long-essay-image-marker"+r).join(" ")))(document.createElement("style")),n0e=()=>({background:Ia("g",{class:"background"}),normal:Ia("g"),foreground:Ia("g",{class:"foreground"})}),o0e=n=>fD(Object.values(Ws).includes(n),`Invalid shape name: ${n}.`),s0e=n=>{fD(qk(n),`Scale must be a number, given: ${JSON.stringify(n)}.`),fD(n>0,`Scale must be > 0 given: ${n}.`)},r0e=(n,r,l)=>{const d=n0e(),g=Ia("svg",{width:"100%",height:"100%"},...Object.values(d)),v=L1e("div",{class:"long-essay-image-marker"},g),x=Ia("image");return gm(n,v),gm(n,t0e()),gm(g,Ia("defs",{},u0e(),d0e())),{nodes:{app:v,svg:g,layers:d,backgroundImage:x},creation:{color:Rk("#0000AAAA"),selectedColor:Rk("#FF0000AA"),shape:Rk(Ws.CIRCLE,o0e)},status:V1e({name:"idle"}),canvas:{scale:Rk(1,s0e),size:Rk(null)},mode:Rk("draw-shape",S=>fD(["draw-shape","scroll"].includes(S),`Invalid marker mode: ${S}`)),groups:{},emit:{createMark:r,selectMark:l}}},ND=(n,r,l)=>n.status.acquire(r,l),gW=(n,r,l,d)=>ND(n,{name:r,group:l},d),oee=(n,r,l)=>{dm(l,"mousedown",d=>(r.mark.locked?Promise.resolve():iee(n,r,d)).then(()=>uee(n,[r])))},i0e=(n,r)=>{see(n,r),a0e(n,r),gm(n.nodes.layers.normal,r.nodes.root)},a0e=(n,r)=>{gm(r.nodes.root,r.nodes.label),oee(n,r,r.nodes.label)},see=(n,r)=>{gm(r.nodes.root,r.nodes.shape),oee(n,r,r.nodes.shape)},pL=n=>(r,l)=>ND(r,{name:"drawNew"},d=>{const g=Q1e(E1(r,dC(l)),h0e(r),aee(r),lee(r));r.emit.selectMark(null,l),d(),pW(r,g,S1),n(r,r.groups[g.key],l).then(()=>{r.emit.createMark(r.groups[g.key].mark,l),R8(r,[g.key],l)})}),hW=_v(n=>n.mode()),hC=_v(hW),ree=(n,r,l)=>gW(n,"editGroup",r,d=>hL(n,l,{start:g=>(vL(n,[r],S1),g=E1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=mC(E1(n,g),x.mouse),O={...v,end:S};return bL(n,O),{start:x,mark:O}},stop:d}));xr(hC,["draw-shape",Ws.LINE],pL(ree));xr(hC,["draw-shape",Ws.WAVE],pL(ree));const l0e=(n,r,l)=>gW(n,"editGroup",r,d=>hL(n,l,{start:g=>(vL(n,[r],S1),g=E1(n,g),{mark:r.mark,start:{mouse:g,pos:r.mark.pos}}),move:(g,{mark:v,start:x})=>{const S=mC(E1(n,g),x.mouse),{width:O,height:V,...P}=l1e(x.pos,mL(x.pos,S)),B={...v,pos:P,width:O,height:V};return bL(n,B),{start:x,mark:B}},stop:d}));xr(hC,["draw-shape",Ws.RECTANGLE],pL(l0e));const iee=(n,r,l)=>gW(n,"moveGroup",r,d=>hL(n,l,{start:g=>(g=E1(n,g),vL(n,[r],S1),{mark:r.mark,start:{pos:r.mark.pos,mouse:g}}),move:(g,{mark:v,start:x})=>{const S=mC(E1(n,g),x.mouse),O={...v,pos:mL(x.pos,S)};return bL(n,O),{start:x,mark:O}},stop:d}));xr(hC,["draw-shape",Ws.CIRCLE],pL(iee));const c0e=(n,r,l)=>{const d=Ia("circle",{cx:r.x,cy:r.y,r:f$.startDot.radius+"px","stroke-width":f$.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Ia("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":f$.lineWidth+"px",fill:"none"}),v=Ia("g",{class:"new-polygon"});return gm(v,g),gm(v,d),gm(n,v),dm(d,"click",x=>{x.stopPropagation(),v.remove(),l()}),x=>Yk(g,{points:$Q(x,r)})},u0e=()=>{const n=Zh(i8.lambda,i8.amplitude*2),r=dD(.5,n),l=dD(.5,r);return Ia("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${n.x}px`,height:`${n.y}px`,patternUnits:"userSpaceOnUse"},Ia("path",{d:`M -${r.x} ${r.y} Q -${l.x} -${l.y}, 0 ${r.y} t ${r.x} 0 t ${r.x} 0`,fill:"none",stroke:"white","stroke-width":i8.lineWidth+"px"}))},d0e=()=>Ia("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Ia("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),f0e=(n,r,l)=>Fk({label:"",polygon:r,pos:l,color:aee(n),selectedColor:lee(n),shape:Ws.POLYGON}),m0e=(n,r,l)=>d=>{d.preventDefault(),l(mC(E1(n,dC(d)),r))};xr(hC,["draw-shape",Ws.POLYGON],(n,r)=>ND(n,{name:"newPolygon"},l=>{r.preventDefault(),n.emit.selectMark(null,r);const d=E1(n,dC(r)),g=c0e(n.nodes.layers.foreground,d,()=>V()),v=[Zh(0,0)],x=P=>m0e(n,d,P);let S=Zh(0,0);const O=[l,dm(n.nodes.svg,"mousemove",x(P=>{g([...v,P]),S=P})),dm(window,"mouseup",P=>v.push(S))],V=()=>{lW(O);const P=f0e(n,v,d);pW(n,P,r),R8(n,[P.key],r)}}));const g0e=n=>{const r=l=>[n.nodes.svg,n.nodes.backgroundImage].includes(l.target);dm(n.nodes.svg,"mousedown",D8(r,l=>hC(n,l))),dm(n.nodes.svg,["mousedown","secondary"],D8(r,l=>cee(n,l,"secondary")))},aee=n=>n.creation.color(),lee=n=>n.creation.selectedColor(),h0e=n=>n.creation.shape();xr(hW,"draw-shape",n=>[n.mode(),n.creation.shape()]);xr(hW,n=>n.mode());const cee=(n,r,l="primary")=>ND(n,{name:"moving-view"},d=>{n.nodes.app.classList.add("moving"),hL(n,r,{start:g=>g,move:(g,v)=>{const x=mC(v,g);return n.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{n.nodes.app.classList.remove("moving"),d()}},l)});xr(hC,"scroll",cee);const vL=(n,r,l)=>{[].slice.call(n.nodes.layers.foreground.children).forEach(d=>d.classList.remove("active")),M1e(n.nodes.layers.foreground,n.nodes.layers.normal),r.forEach(d=>{const g=d.nodes.root;g.classList.add("active"),gm(n.nodes.layers.foreground,g)}),l!==S1&&r.forEach(d=>n.emit.selectMark(d.mark,l))},uee=(n,r,l)=>ND(n,{name:"selecting-multiple"},d=>{vL(n,r,l),d()}),dee=(n,r)=>n.groups[r]||rE(`Mark with key ${r} does not exist.`),R8=(n,r,l)=>uee(n,r.map(d=>dee(n,d)),l),pW=(n,r,l)=>{fD(!n.groups[r.key],`Duplicated key: ${r.key}`);const d=X1e(r);i0e(n,d),n.groups[r.key]=d,l!==S1&&n.emit.createMark(r,l)},bL=(n,r)=>{const l=dee(n,r.key),d=GQ(l.mark,r);l.mark=r,I1e(["shape"],d)?(l.nodes.shape.remove(),l.nodes.shape=nee(l.mark),see(n,l)):Y1e(l.mark,d,l)},fee=n=>Yk(n.nodes.svg,{...p1e(dD(n.canvas.scale(),v1e(n.canvas.size()))),viewBox:[0,0,n.canvas.size().width,n.canvas.size().height].join(" ")}),E1=(n,r)=>dD(1/n.canvas.scale(),mC(r,n.nodes.svg.getBoundingClientRect())),p0e=(n,r,l)=>{const d=r0e(n,(S,O)=>r(Fk(S),O),(S,O)=>l(S?Fk(S):null,O));g0e(d);const g=S=>pW(d,Fk(S),S1),v=S=>{d.groups[S].nodes.root.remove(),E1e(d.groups,S)},x=S=>{d.canvas.scale(S),fee(d)};return{showPage:(S,O)=>{e0e(d,S),gm(d.nodes.layers.background,d.nodes.backgroundImage),d.canvas.scale(1),Object.values(d.groups).forEach(V=>v(V.mark.key)),O.forEach(g)},addMark:g,removeMark:v,selectMark:S=>R8(d,[S],S1),selectMarks:S=>R8(d,S,S1),updateMark:S=>bL(d,Fk(S)),setDefaultColor:S=>d.creation.color(S),setDefaultSelectedColor:S=>d.creation.selectedColor(S),setDefaultShape:S=>d.creation.shape(S),setZoomLevel:x,fitToPage:()=>{if(d.canvas.size()){const S=_1e(d.canvas.size(),d.nodes.app.getBoundingClientRect());x(S.width/d.canvas.size().width)}},drawMode:()=>d.mode("draw-shape"),scrollMode:()=>d.mode("scroll")}},v0e={id:"app-essay-image-wrapper"},b0e={class:"appImageButtons"},y0e={class:"appImageBottomNav"},x0e={__name:"EssayImage",setup(n){const r=ps(),l=Au(),d=yc(),g=k8();mm();const v=Vy(),x=Mn(),S=Mn("scroll"),O=Mn(!1),V=Mn(0),P=Mn(!0);let B,$="",Z=[];Du(()=>{B=p0e(x.value,K,X),B.setDefaultColor("#3365ffaa"),B.setDefaultSelectedColor("#3365ffaa"),Se(),ae(g.minPage)});async function K(D){if(D&&!d.isOwnDisabled){const Ke=new am(D);switch(S.value){case"check":Ke.symbol=am.SYMBOL_CHECK;break;case"cross":Ke.symbol=am.SYMBOL_CROSS;break;case"question":Ke.symbol=am.SYMBOL_QUESTION;break}if(Z.push(D.key),!l.getCommentByMarkKey(D.key)){const ct=l.selectedComment;if(ct&&ct.parent_number==g.selectedPageNo)ct.addMarkData(Ke),await l.updateComment(ct,!0);else{const $t=new Qw({parent_number:g.selectedPageNo,marks:[Ke]});await l.addComment($t)}}}}function X(D,Ke){if(console.log(Date.now(),"onSelection",D,Ke),D){let ct=l.getCommentByMarkKey(D.key);if(ct){l.selectComment(ct.key);const $t=ct.getData();if(ct.corrector_key==r.correctorKey&&!d.isOwnDisabled){D.symbol=D.symbol==""?null:D.symbol,ct.updateMarkData(D);const Jt=ct.getData();JSON.stringify($t)!=JSON.stringify(Jt)&&l.updateComment(ct,!0)}else{const Jt=ct.getMarkByKey(D.key);if(Jt){const et={...Jt.getData(),label:P.value?ct.label:"",color:ct.getMarkColor(Jt),selectedColor:ct.getMarkSelectedColor(Jt),locked:ct.corrector_key!=r.correctorKey||d.isOwnDisabled};B.updateMark(et)}}}}else{const ct=l.selectedComment;Ke&&Ke.shiftKey&&ct&&ct.parent_number==g.selectedPageNo||l.selectComment("")}}function ae(D){if(g.selectByPageNo(D)){const Ke=g.getPageByPageNo(D);if(Ke){Ke.url?(B.showPage(Ke.url,[]),$=Ke.url):(B.showPage("",[]),$="");try{B.setZoomLevel(v.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,Z=[],Re(),V.value=D}}}function fe(){const D=g.selectedPage;D&&D.url!=$&&ae(D.page_no)}Gn(()=>g.loadedImages,fe);function Le(){const D=l.getComment(l.selectedKey);D&&D.parent_number!=g.selectedPageNo&&ae(D.parent_number),Re()}Gn(()=>l.selectionChange,Le);function Re(){let D=[];for(const Ke of l.activeComments)if(Ke.parent_number==g.selectedPageNo){let ct=[];for(const $t of Ke.marks){const Jt={...$t.getData(),label:P.value?Ke.label:"",color:Ke.getMarkColor($t),selectedColor:Ke.getMarkSelectedColor($t),locked:Ke.corrector_key!=r.correctorKey||d.isOwnDisabled};Z.includes($t.key)?B.updateMark(Jt):B.addMark(Jt),D.push($t.key),ct.push($t.key)}Ke.key==l.selectedKey&&B.selectMarks(ct)}for(const Ke of Z)D.includes(Ke)||B.removeMark(Ke);Z=D}Gn(()=>l.markerChange,Re),Gn(()=>l.filterChange,Re);function te(){let D=l.getActiveCommentsByParentNumber(g.selectedPageNo);if(D.length){let Ke=D.shift();l.setFirstVisibleComment(Ke.key)}}Gn(()=>g.selectedKey,te);function Ce(){g.selectedPageNo>g.minPage&&ae(g.selectedPageNo-1)}function ie(){g.selectedPageNo<g.maxPage&&ae(g.selectedPageNo+1)}function Ue(D){O.value=!1,ae(D)}async function We(){O.value&&(await Ar(),await new Promise(Ke=>setTimeout(Ke,250)),document.getElementById("app-pages-menu-input").select())}function qe(){v.zoomEssayPageIn(),B.setZoomLevel(v.essay_page_zoom)}function st(){v.zoomEssayPageOut(),B.setZoomLevel(v.essay_page_zoom)}function Se(){switch(d.isOwnDisabled&&(S.value="scroll"),S.value){case"scroll":B.scrollMode();break;case"rectangle":B.drawMode(),B.setDefaultShape(Ws.RECTANGLE);break;case"line":B.drawMode(),B.setDefaultShape(Ws.LINE);break;case"wave":B.drawMode(),B.setDefaultShape(Ws.WAVE);break;case"polygon":B.drawMode(),B.setDefaultShape(Ws.POLYGON);break;case"circle":case"check":case"cross":case"question":B.drawMode(),B.setDefaultShape(Ws.CIRCLE);break}}function Me(){P.value==1?P.value=0:P.value=1,Re()}return(D,Ke)=>(Ln(),ds("div",v0e,[Ve("div",b0e,[G(w1,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[G(xo,{size:"small",icon:"mdi-magnify-minus-outline",onClick:Ke[0]||(Ke[0]=ct=>st())}),G(xo,{size:"small",icon:"mdi-magnify-plus-outline",onClick:Ke[1]||(Ke[1]=ct=>qe())})]),_:1}),Ke[13]||(Ke[13]=yr("  ")),G(Hhe,{density:"comfortable",variant:"outlined",divided:"",modelValue:S.value,"onUpdate:modelValue":Ke[2]||(Ke[2]=ct=>S.value=ct),onClick:Ke[3]||(Ke[3]=ct=>Se())},{default:Pt(()=>[G(xo,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),G(xo,{disabled:le(d).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),Ke[14]||(Ke[14]=yr("  ")),G(w1,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[G(xo,{size:"small",active:P.value,icon:"mdi-label-outline",onClick:Ke[4]||(Ke[4]=ct=>Me())},null,8,["active"])]),_:1}),Ke[15]||(Ke[15]=yr("  ")),G(w1,{density:"comfortable",variant:"outlined",divided:""},{default:Pt(()=>[G(xo,{size:"small",icon:"mdi-menu-left",onClick:Ke[5]||(Ke[5]=ct=>Ce())}),G(xo,{size:"small",id:"app-pages-menu-activator"},{default:Pt(()=>[yr(ls(le(g).selectedPageNo),1)]),_:1}),G(xo,{size:"small",icon:"mdi-menu-right",onClick:Ke[6]||(Ke[6]=ct=>ie())})]),_:1}),G(fL,{activator:"#app-pages-menu-activator",modelValue:O.value,"onUpdate:modelValue":[Ke[9]||(Ke[9]=ct=>O.value=ct),Ke[10]||(Ke[10]=ct=>We())],"close-on-content-click":!1},{default:Pt(()=>[G(iD,null,{default:Pt(()=>[G(vc,null,{default:Pt(()=>[G(aD,{id:"app-pages-menu-input",modelValue:V.value,"onUpdate:modelValue":Ke[7]||(Ke[7]=ct=>V.value=ct),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:Ke[8]||(Ke[8]=ct=>Ue(V.value))},null,8,["modelValue"])]),_:1}),(Ln(!0),ds(us,null,lC(le(g).currentPages,ct=>(Ln(),or(vc,{onClick:$t=>Ue(ct.page_no),title:ct.page_no,key:ct.key},{default:Pt(()=>[lo(G(RD,{src:ct.thumb_url,width:"100"},null,8,["src"]),[[zo,ct.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Ve("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),Ve("div",y0e,[G(w1,{variant:"outlined",divided:""},{default:Pt(()=>[G(xo,{disabled:le(g).selectedPageNo<=le(g).minPage,size:"small",icon:"mdi-menu-left",onClick:Ke[11]||(Ke[11]=ct=>Ce())},null,8,["disabled"]),G(xo,{disabled:le(g).selectedPageNo>=le(g).maxPage,size:"small",icon:"mdi-menu-right",onClick:Ke[12]||(Ke[12]=ct=>ie())},null,8,["disabled"])]),_:1})])]))}},w0e=Ol(x0e,[["__scopeId","data-v-9d4afded"]]),C0e={class:"text-right"},_0e={class:"text-right"},S0e={class:"text-right"},k0e={class:"text-right"},E0e={class:"text-right"},A0e={__name:"SummaryCriteria",props:["corrector_key"],setup(n){const r=ps(),l=Uh(),d=Au(),g=_1(),v=mm(),x=um(),S=n;Gn(()=>S,B),Gn(()=>r.itemKey,B);const O=Ql({}),V=Mn(0),P=Mn(0);async function B(){await Ar(),V.value=0,P.value=0,l.getCorrectorCriteria(S.corrector_key).forEach(ae=>{O[ae.key]={key:ae.key,title:ae.title,max_points:ae.points,sum_points:0},P.value+=ae.points}),g.getObjectsByCommentKeys(d.getKeysOfCorrector(S.corrector_key)).forEach(ae=>{O[ae.criterion_key]!==void 0&&(O[ae.criterion_key].sum_points+=ae.points),V.value+=ae.points})}l.getCorrectorHasCriteria(S.corrector_key)&&B();function $(ae){return d.getPointsOfCorrector(S.corrector_key)>x.max_points?"red":"black"}async function Z(ae,fe){d.setFilterByRating(S.corrector_key,ae,fe),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Ar(),v.showEssay(),v.showMarking()}async function K(){d.setFilterByPoints(S.corrector_key),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Ar(),v.showEssay(),v.showMarking()}async function X(ae){d.setFilterByCriterion(S.corrector_key,ae),!S.corrector_key==r.correctorKey&&d.setShowOtherCorrectors(!0),await Ar(),v.showEssay(),v.showMarking()}return(ae,fe)=>(Ln(),ds("div",null,[G(rC,{class:"table",density:"compact"},{default:Pt(()=>[fe[3]||(fe[3]=Ve("thead",null,[Ve("tr",null,[Ve("th",null,"Markierung"),Ve("th",{class:"text-right"},"Anzahl")])],-1)),Ve("tbody",null,[Ve("tr",null,[Ve("td",null,[G(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(d).getCountOfExcellent(S.corrector_key)==0,onClick:fe[0]||(fe[0]=Le=>Z(!0,!1))},null,8,["disabled"]),yr(" "+ls(le(x).positive_rating),1)]),Ve("td",C0e,ls(le(d).getCountOfExcellent(S.corrector_key)),1)]),Ve("tr",null,[Ve("td",null,[G(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(d).getCountOfCardinal(S.corrector_key)==0,onClick:fe[1]||(fe[1]=Le=>Z(!1,!0))},null,8,["disabled"]),yr(" "+ls(le(x).negative_rating),1)]),Ve("td",_0e,ls(le(d).getCountOfCardinal(S.corrector_key)),1)])])]),_:1}),le(l).getCorrectorHasCriteria(S.corrector_key)?As("",!0):(Ln(),or(rC,{key:0,class:"table",density:"compact"},{default:Pt(()=>[fe[5]||(fe[5]=Ve("thead",null,[Ve("tr",null,[Ve("th",null,[Ve("strong",null,"Bewertung")]),Ve("th",{class:"text-right"},"Punkte / max")])],-1)),Ve("tbody",null,[Ve("tr",null,[Ve("td",null,[G(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(d).getPointsOfCorrector(S.corrector_key)==0,onClick:fe[2]||(fe[2]=Le=>K(!0))},null,8,["disabled"]),fe[4]||(fe[4]=yr(" Punkte in Kommentaren "))]),Ve("td",S0e,[Ve("span",{style:bD("color: "+$()+";")},ls(le(d).getPointsOfCorrector(S.corrector_key))+" / "+ls(le(x).max_points),5)])])])]),_:1})),le(l).getCorrectorHasCriteria(S.corrector_key)?(Ln(),or(rC,{key:1,class:"table",density:"compact"},{default:Pt(()=>[fe[7]||(fe[7]=Ve("thead",null,[Ve("tr",null,[Ve("th",null,"Kriterium"),Ve("th",{class:"text-right"},"Punkte / max")])],-1)),Ve("tbody",null,[(Ln(!0),ds(us,null,lC(O,Le=>(Ln(),ds("tr",{key:Le.key},[Ve("td",null,[G(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:Le.sum_points==0,onClick:Re=>X(Le.key)},null,8,["disabled","onClick"]),yr(" "+ls(Le.title),1)]),Ve("td",k0e,ls(Le.sum_points)+" / "+ls(Le.max_points),1)]))),128)),Ve("tr",null,[fe[6]||(fe[6]=Ve("td",null,[Ve("strong",null,"Summe")],-1)),Ve("td",E0e,[Ve("strong",null,ls(V.value)+" / "+ls(P.value),1)])])])]),_:1})):As("",!0)]))}},mee=Ol(A0e,[["__scopeId","data-v-a6ecd09a"]]),T0e={id:"app-own-summary-points-wrapper"},O0e=["disabled","max"],D0e={__name:"OwnSummaryPoints",setup(n){const r=ps(),l=mv(),d=yc(),g=um();return(v,x)=>(Ln(),ds("div",T0e,[x[2]||(x[2]=Ve("label",{for:"appOwnSummaryPoints"},[Ve("strong",null,"Bewertung:")],-1)),x[3]||(x[3]=yr("  ")),lo(Ve("input",{disabled:le(d).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:le(g).max_points,"onUpdate:modelValue":x[0]||(x[0]=S=>le(d).editSummary.points=S)},null,8,O0e),[[$y,le(d).editSummary.points]]),x[4]||(x[4]=yr(" Punkte  ")),x[5]||(x[5]=Ve("strong",null,"Notenstufe:",-1)),yr(" "+ls(le(d).currentGradeTitle)+" ",1),lo(G(xo,{variant:"text",disabled:!le(l).authorizationAllowed,onClick:x[1]||(x[1]=S=>le(r).setShowAuthorization(!0))},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-file-certificate-outline"})]),_:1},8,["disabled"]),[[zo,!le(d).isOwnDisabled]]),le(g).inclusionsPossible?(Ln(),or(MQ,{key:0})):As("",!0)]))}},R0e=Ol(D0e,[["__scopeId","data-v-ffc1a4fc"]]);var gee={exports:{}};(function(n){(function(){var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},l=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},d=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},g=function(e,t){return v(function(o,i){return e.eq(t(o),t(i))})},v=function(e){return{eq:e}},x=v(function(e,t){return e===t}),S=x,O=function(e){return v(function(t,o){if(t.length!==o.length)return!1;for(var i=t.length,c=0;c<i;c++)if(!e.eq(t[c],o[c]))return!1;return!0})},V=function(e,t){return g(O(e),function(o){return d(o,t)})},P=function(e){return v(function(t,o){var i=Object.keys(t),c=Object.keys(o);if(!V(S).eq(i,c))return!1;for(var m=i.length,h=0;h<m;h++){var C=i[h];if(!e.eq(t[C],o[C]))return!1}return!0})},B=v(function(e,t){if(e===t)return!0;var o=r(e),i=r(t);return o!==i?!1:l(o)?e===t:o==="array"?O(B).eq(e,t):o==="object"?P(B).eq(e,t):!1});const $=Object.getPrototypeOf,Z=(e,t,o)=>{var i;return o(e,t.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===t.name},K=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Z(e,String,(o,i)=>i.isPrototypeOf(o))?"string":t},X=e=>t=>K(t)===e,ae=e=>t=>typeof t===e,fe=e=>t=>e===t,Le=(e,t)=>te(e)&&Z(e,t,(o,i)=>$(o)===i),Re=X("string"),te=X("object"),Ce=e=>Le(e,Object),ie=X("array"),Ue=fe(null),We=ae("boolean"),qe=fe(void 0),st=e=>e==null,Se=e=>!st(e),Me=ae("function"),D=ae("number"),Ke=(e,t)=>{if(ie(e)){for(let o=0,i=e.length;o<i;++o)if(!t(e[o]))return!1;return!0}return!1},ct=()=>{},$t=(e,t)=>(...o)=>e(t.apply(null,o)),Jt=(e,t)=>o=>e(t(o)),et=e=>()=>e,pt=e=>e,Lt=(e,t)=>e===t;function tt(e,...t){return(...o)=>{const i=t.concat(o);return e.apply(null,i)}}const Ye=e=>t=>!e(t),Mt=e=>()=>{throw new Error(e)},no=e=>e(),Fn=e=>{e()},fn=et(!1),_n=et(!0);class Q{constructor(t,o){this.tag=t,this.value=o}static some(t){return new Q(!0,t)}static none(){return Q.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?Q.some(t(this.value)):Q.none()}bind(t){return this.tag?t(this.value):Q.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:Q.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Se(t)?Q.some(t):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const xs=Array.prototype.slice,Qn=Array.prototype.indexOf,tn=Array.prototype.push,To=(e,t)=>Qn.call(e,t),je=(e,t)=>{const o=To(e,t);return o===-1?Q.none():Q.some(o)},re=(e,t)=>To(e,t)>-1,be=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return!0}return!1},Pe=(e,t)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const m=e[c];i[c]=t(m,c)}return i},he=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];t(c,o)}},gt=(e,t)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];t(i,o)}},zt=(e,t)=>{const o=[],i=[];for(let c=0,m=e.length;c<m;c++){const h=e[c];(t(h,c)?o:i).push(h)}return{pass:o,fail:i}},vt=(e,t)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const m=e[i];t(m,i)&&o.push(m)}return o},Ft=(e,t,o)=>(gt(e,(i,c)=>{o=t(o,i,c)}),o),Vt=(e,t,o)=>(he(e,(i,c)=>{o=t(o,i,c)}),o),wn=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++){const m=e[i];if(t(m,i))return Q.some(m);if(o(m,i))break}return Q.none()},cn=(e,t)=>wn(e,t,fn),An=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(t(c,o))return Q.some(o)}return Q.none()},On=e=>{const t=[];for(let o=0,i=e.length;o<i;++o){if(!ie(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);tn.apply(t,e[o])}return t},wo=(e,t)=>On(Pe(e,t)),Oo=(e,t)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(t(c,o)!==!0)return!1}return!0},Ho=e=>{const t=xs.call(e,0);return t.reverse(),t},cs=(e,t)=>vt(e,o=>!re(t,o)),rr=(e,t)=>{const o={};for(let i=0,c=e.length;i<c;i++){const m=e[i];o[String(m)]=t(m,i)}return o},fs=(e,t)=>{const o=xs.call(e,0);return o.sort(t),o},Tr=(e,t)=>t>=0&&t<e.length?Q.some(e[t]):Q.none(),hn=e=>Tr(e,0),Eo=e=>Tr(e,e.length-1),vo=Me(Array.from)?Array.from:e=>xs.call(e),tr=(e,t)=>{for(let o=0;o<e.length;o++){const i=t(e[o],o);if(i.isSome())return i}return Q.none()},ea=(e,t)=>{const o=[],i=Me(t)?c=>be(o,m=>t(m,c)):c=>re(o,c);for(let c=0,m=e.length;c<m;c++){const h=e[c];i(h)||o.push(h)}return o},Kt=Object.keys,gi=Object.hasOwnProperty,ss=(e,t)=>{const o=Kt(e);for(let i=0,c=o.length;i<c;i++){const m=o[i],h=e[m];t(h,m)}},Ul=(e,t)=>zs(e,(o,i)=>({k:i,v:t(o,i)})),zs=(e,t)=>{const o={};return ss(e,(i,c)=>{const m=t(i,c);o[m.k]=m.v}),o},ei=e=>(t,o)=>{e[o]=t},bm=(e,t,o,i)=>{ss(e,(c,m)=>{(t(c,m)?o:i)(c,m)})},Iu=(e,t)=>{const o={},i={};return bm(e,t,ei(o),ei(i)),{t:o,f:i}},wc=(e,t)=>{const o={};return bm(e,t,ei(o),ct),o},ul=(e,t)=>{const o=[];return ss(e,(i,c)=>{o.push(t(i,c))}),o},Nu=e=>ul(e,pt),Ts=(e,t)=>io(e,t)?Q.from(e[t]):Q.none(),io=(e,t)=>gi.call(e,t),Wl=(e,t)=>io(e,t)&&e[t]!==void 0&&e[t]!==null,Ti=(e,t,o=B)=>P(o).eq(e,t),Pu=e=>{const t={};return he(e,o=>{t[o]={}}),Kt(t)},rn=e=>e.length!==void 0,Mu=Array.isArray,ym=e=>{if(Mu(e))return e;{const t=[];for(let o=0,i=e.length;o<i;o++)t[o]=e[o];return t}},mr=(e,t,o)=>{if(!e)return!1;if(o=o||e,rn(e)){for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(io(e,i)&&t.call(o,e[i],i,e)===!1)return!1;return!0},xm=(e,t)=>{const o=[];return mr(e,(i,c)=>{o.push(t(i,c,e))}),o},Ga=(e,t)=>{const o=[];return mr(e,(i,c)=>{(!t||t(i,c,e))&&o.push(i)}),o},Dl=(e,t)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===t)return o}return-1},dl=(e,t,o,i)=>{let c=qe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=t.call(i,c,e[m],m);return c},ir=(e,t,o)=>{for(let i=0,c=e.length;i<c;i++)if(t.call(o,e[i],i,e))return i;return-1},Ca=e=>e[e.length-1],Rl=e=>{let t=!1,o;return(...i)=>(t||(t=!0,o=e.apply(null,i)),o)},wm=(e,t,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),C=h||i("(pointer:coarse)"),A=c||!m&&h&&i("(min-device-width:768px)"),F=m||h&&!A,j=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,Y=!F&&!A&&!j;return{isiPad:et(c),isiPhone:et(m),isTablet:et(A),isPhone:et(F),isTouch:et(C),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:et(j),isDesktop:et(Y)}},Kc=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(t))return i}},Gc=(e,t)=>{const o=Kc(e,t);if(!o)return{major:0,minor:0};const i=c=>Number(t.replace(o,"$"+c));return rs(i(1),i(2))},uf=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?_d():Gc(e,o)},_d=()=>rs(0,0),rs=(e,t)=>({major:e,minor:t}),Lr={nu:rs,detect:uf,unknown:_d},ii=(e,t)=>tr(t.brands,o=>{const i=o.brand.toLowerCase();return cn(e,c=>{var m;return i===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Lr.nu(parseInt(o.version,10),0)}))}),Cm=(e,t)=>{const o=String(t).toLowerCase();return cn(e,i=>i.search(o))},qa=(e,t)=>Cm(e,t).map(o=>{const i=Lr.detect(o.versionRegexes,t);return{current:o.name,version:i}}),qc=(e,t)=>Cm(e,t).map(o=>{const i=Lr.detect(o.versionRegexes,t);return{current:o.name,version:i}}),_a=(e,t)=>e.substring(t),Sa=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Yc=(e,t)=>ar(e,t)?_a(e,t.length):e,Is=(e,t,o=0,i)=>{const c=e.indexOf(t,o);return c!==-1?qe(i)?!0:c+t.length<=i:!1},ar=(e,t)=>Sa(e,t,0),Ee=(e,t)=>Sa(e,t,e.length-t.length),nt=e=>t=>t.replace(e,""),Ie=nt(/^\s+|\s+$/g),mt=nt(/^\s+/g),ut=nt(/\s+$/g),Je=e=>e.length>0,Wt=e=>!Je(e),nn=(e,t)=>t<=0?"":new Array(t+1).join(e),un=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?Q.none():Q.some(o)},vn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,an=e=>t=>Is(t,e),ho=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Is(e,"edge/")&&Is(e,"chrome")&&Is(e,"safari")&&Is(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vn],search:e=>Is(e,"chrome")&&!Is(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Is(e,"msie")||Is(e,"trident")},{name:"Opera",versionRegexes:[vn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:an("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:an("firefox")},{name:"Safari",versionRegexes:[vn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Is(e,"safari")||Is(e,"mobile/"))&&Is(e,"applewebkit")}],sn=[{name:"Windows",search:an("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Is(e,"iphone")||Is(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:an("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:an("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:an("linux"),versionRegexes:[]},{name:"Solaris",search:an("sunos"),versionRegexes:[]},{name:"FreeBSD",search:an("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:an("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ss={browsers:et(ho),oses:et(sn)},Po="Edge",Zo="Chromium",Or="IE",_o="Opera",Il="Firefox",ta="Safari",co=()=>Ya({current:void 0,version:Lr.unknown()}),Ya=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isEdge:i(Po),isChromium:i(Zo),isIE:i(Or),isOpera:i(_o),isFirefox:i(Il),isSafari:i(ta)}},fl={unknown:co,nu:Ya,edge:et(Po),chromium:et(Zo),ie:et(Or),opera:et(_o),firefox:et(Il),safari:et(ta)},wr="Windows",Sd="iOS",$r="Android",df="Linux",Nl="macOS",ws="Solaris",Bu="FreeBSD",_m="ChromeOS",Jh=()=>Dr({current:void 0,version:Lr.unknown()}),Dr=e=>{const t=e.current,o=e.version,i=c=>()=>t===c;return{current:t,version:o,isWindows:i(wr),isiOS:i(Sd),isAndroid:i($r),isMacOS:i(Nl),isLinux:i(df),isSolaris:i(ws),isFreeBSD:i(Bu),isChromeOS:i(_m)}},Cc={unknown:Jh,nu:Dr,windows:et(wr),ios:et(Sd),android:et($r),linux:et(df),macos:et(Nl),solaris:et(ws),freebsd:et(Bu),chromeos:et(_m)},qs={detect:(e,t,o)=>{const i=Ss.browsers(),c=Ss.oses(),m=t.bind(A=>ii(i,A)).orThunk(()=>qa(i,e)).fold(fl.unknown,fl.nu),h=qc(c,e).fold(Cc.unknown,Cc.nu),C=wm(h,m,e,o);return{browser:m,os:h,deviceType:C}}},Sm=e=>window.matchMedia(e).matches;let Pl=Rl(()=>qs.detect(window.navigator.userAgent,Q.from(window.navigator.userAgentData),Sm));const na=()=>Pl(),Mg=window.navigator.userAgent,Oi=na(),Xa=Oi.browser,oa=Oi.os,Ml=Oi.deviceType,Qh=Mg.indexOf("Windows Phone")!==-1,Mo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xa.isIE(),windowsPhone:Qh,browser:{current:Xa.current,version:Xa.version,isChromium:Xa.isChromium,isEdge:Xa.isEdge,isFirefox:Xa.isFirefox,isIE:Xa.isIE,isOpera:Xa.isOpera,isSafari:Xa.isSafari},os:{current:oa.current,version:oa.version,isAndroid:oa.isAndroid,isChromeOS:oa.isChromeOS,isFreeBSD:oa.isFreeBSD,isiOS:oa.isiOS,isLinux:oa.isLinux,isMacOS:oa.isMacOS,isSolaris:oa.isSolaris,isWindows:oa.isWindows},deviceType:{isDesktop:Ml.isDesktop,isiPad:Ml.isiPad,isiPhone:Ml.isiPhone,isPhone:Ml.isPhone,isTablet:Ml.isTablet,isTouch:Ml.isTouch,isWebView:Ml.isWebView}},Xc=/^\s*|\s*$/g,kd=e=>st(e)?"":(""+e).replace(Xc,""),Lu=(e,t)=>t?t==="array"&&Mu(e)?!0:typeof e===t:e!==void 0,Sv=(e,t,o={})=>{const i=Re(e)?e.split(t||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},Xy=io,P1=(e,...t)=>{for(let o=0;o<t.length;o++){const i=t[o];for(const c in i)if(io(i,c)){const m=i[c];m!==void 0&&(e[c]=m)}}return e},M1=function(e,t,o,i){i=i||this,e&&(o&&(e=e[o]),mr(e,(c,m)=>t.call(i,c,m,o)===!1?!1:(M1(c,t,o,i),!0)))},Xt={trim:kd,isArray:Mu,is:Lu,toArray:ym,makeMap:Sv,each:mr,map:xm,grep:Ga,inArray:Dl,hasOwn:Xy,extend:P1,walk:M1,resolve:(e,t=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(t=t[o[i]],!!t);i++);return t},explode:(e,t)=>ie(e)?e:e===""?[]:xm(e.split(t||","),kd),_addCacheSuffix:e=>{const t=Mo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},ff=(e,t,o=Lt)=>e.exists(i=>o(i,t)),mf=(e,t,o=Lt)=>sa(e,t,o).getOr(e.isNone()&&t.isNone()),L1=e=>{const t=[],o=i=>{t.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return t},sa=(e,t,o)=>e.isSome()&&t.isSome()?Q.some(o(e.getOrDie(),t.getOrDie())):Q.none(),gf=(e,t,o,i)=>e.isSome()&&t.isSome()&&o.isSome()?Q.some(i(e.getOrDie(),t.getOrDie(),o.getOrDie())):Q.none(),Bg=(e,t)=>e?Q.some(t):Q.none(),Jy=typeof window<"u"?window:Function("return this;")(),Qy=(e,t)=>{let o=t??Jy;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},kv=(e,t)=>{const o=e.split(".");return Qy(o,t)},ex=(e,t)=>kv(e,t),F1=(e,t)=>{const o=ex(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},tx=Object.getPrototypeOf,Lg=e=>F1("HTMLElement",e),V1=e=>{const t=kv("ownerDocument.defaultView",e);return te(e)&&(Lg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(tx(e).constructor.name))},hf=8,pf=9,ra=11,gl=1,Fg=3,Go=e=>e.dom.nodeName.toLowerCase(),Ed=e=>e.dom.nodeType,Vg=e=>t=>Ed(t)===e,zg=e=>Ed(e)===hf||Go(e)==="#comment",Na=e=>Ur(e)&&V1(e.dom),Ur=Vg(gl),lr=Vg(Fg),Hi=Vg(pf),Ys=Vg(ra),vf=e=>t=>Ur(t)&&Go(t)===e,km=(e,t,o)=>{if(Re(o)||We(o)||D(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},xi=(e,t,o)=>{km(e.dom,t,o)},Pa=(e,t)=>{const o=e.dom;ss(t,(i,c)=>{km(o,c,i)})},ka=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Jc=(e,t)=>Q.from(ka(e,t)),Ad=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Do=(e,t)=>{e.dom.removeAttribute(t)},ai=e=>{const t=e.dom.attributes;return t==null||t.length===0},hl=e=>Vt(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),Td=(e,t)=>{const o=ka(e,t);return o===void 0||o===""?[]:o.split(" ")},$i=(e,t,o)=>{const c=Td(e,t).concat([o]);return xi(e,t,c.join(" ")),!0},Bn=(e,t,o)=>{const i=vt(Td(e,t),c=>c!==o);return i.length>0?xi(e,t,i.join(" ")):Do(e,t),!1},_c=e=>e.dom.classList!==void 0,Sc=e=>Td(e,"class"),ks=(e,t)=>$i(e,"class",t),tp=(e,t)=>Bn(e,"class",t),Ev=(e,t)=>re(Sc(e),t)?tp(e,t):ks(e,t),Od=(e,t)=>{_c(e)?e.dom.classList.add(t):ks(e,t)},Bo=e=>{(_c(e)?e.dom.classList:Sc(e)).length===0&&Do(e,"class")},Ma=(e,t)=>{_c(e)?e.dom.classList.remove(t):tp(e,t),Bo(e)},np=(e,t)=>{const o=_c(e)?e.dom.classList.toggle(t):Ev(e,t);return Bo(e),o},Dd=(e,t)=>_c(e)&&e.dom.classList.contains(t),Av=(e,t)=>{const i=(t||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return eu(i.childNodes[0])},Qc=(e,t)=>{const i=(t||document).createElement(e);return eu(i)},Ja=(e,t)=>{const i=(t||document).createTextNode(e);return eu(i)},eu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:Av,fromTag:Qc,fromText:Ja,fromDom:eu,fromPoint:(e,t,o)=>Q.from(e.dom.elementFromPoint(t,o)).map(eu)},Em=(e,t)=>{const o=[],i=m=>(o.push(m),t(m));let c=t(e);do c=c.bind(i);while(c.isSome());return o},Ns=(e,t)=>{const o=e.dom;if(o.nodeType!==gl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(t);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(t);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(t);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Tv=e=>e.nodeType!==gl&&e.nodeType!==pf&&e.nodeType!==ra||e.childElementCount===0,Hg=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?[]:Pe(o.querySelectorAll(e),Be.fromDom)},tu=(e,t)=>{const o=t===void 0?document:t.dom;return Tv(o)?Q.none():Q.from(o.querySelector(e)).map(Be.fromDom)},qo=(e,t)=>e.dom===t.dom,ia=(e,t)=>{const o=e.dom,i=t.dom;return o===i?!1:o.contains(i)},Fu=e=>Be.fromDom(e.dom.ownerDocument),tc=e=>Hi(e)?e:Fu(e),Vu=e=>Be.fromDom(tc(e).dom.documentElement),zu=e=>Be.fromDom(tc(e).dom.defaultView),aa=e=>Q.from(e.dom.parentNode).map(Be.fromDom),yf=e=>Q.from(e.dom.parentElement).map(Be.fromDom),Am=(e,t)=>{const o=Me(t)?t:fn;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,h=Be.fromDom(m);if(c.push(h),o(h)===!0)break;i=m}return c},Ov=e=>{const t=o=>vt(o,i=>!qo(e,i));return aa(e).map(la).map(t).getOr([])},wi=e=>Q.from(e.dom.previousSibling).map(Be.fromDom),Un=e=>Q.from(e.dom.nextSibling).map(Be.fromDom),Hu=e=>Ho(Em(e,wi)),Tm=e=>Em(e,Un),la=e=>Pe(e.dom.childNodes,Be.fromDom),$u=(e,t)=>{const o=e.dom.childNodes;return Q.from(o[t]).map(Be.fromDom)},Bl=e=>$u(e,0),Uu=e=>$u(e,e.dom.childNodes.length-1),Rd=e=>e.dom.childNodes.length,Ci=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return Be.fromDom(t)},nc=e=>Ys(e)&&Se(e.dom.host),nu=e=>Be.fromDom(e.dom.getRootNode()),Om=e=>nc(e)?e:Ci(tc(e)),z1=e=>nc(e)?e:Be.fromDom(tc(e).dom.body),Wu=e=>{const t=nu(e);return nc(t)?Q.some(t):Q.none()},xf=e=>Be.fromDom(e.dom.host),Dv=e=>{if(Se(e.target)){const t=Be.fromDom(e.target);if(Ur(t)&&Cr(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return hn(o)}}return Q.from(e.target)},Cr=e=>Se(e.dom.shadowRoot),Ba=e=>{const t=lr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return Wu(Be.fromDom(t)).fold(()=>o.body.contains(t),Jt(Ba,xf))};var Ea=(e,t,o,i,c)=>e(o,i)?Q.some(o):Me(c)&&c(o)?Q.none():t(o,i,c);const Qa=(e,t,o)=>{let i=e.dom;const c=Me(o)?o:fn;for(;i.parentNode;){i=i.parentNode;const m=Be.fromDom(i);if(t(m))return Q.some(m);if(c(m))break}return Q.none()},hi=(e,t,o)=>Ea((c,m)=>m(c),Qa,e,t,o),op=(e,t)=>{const o=e.dom;return o.parentNode?li(Be.fromDom(o.parentNode),i=>!qo(e,i)&&t(i)):Q.none()},li=(e,t)=>{const o=c=>t(Be.fromDom(c));return cn(e.dom.childNodes,o).map(Be.fromDom)},Ui=(e,t)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const m=Be.fromDom(i.childNodes[c]);if(t(m))return Q.some(m);const h=o(i.childNodes[c]);if(h.isSome())return h}return Q.none()};return o(e.dom)},ou=(e,t,o)=>Qa(e,i=>Ns(i,t),o),Ot=(e,t)=>tu(t,e),Wi=(e,t,o)=>Ea((c,m)=>Ns(c,m),ou,e,t,o),sp=e=>Wi(e,"[contenteditable]"),_r=(e,t=!1)=>Ba(e)?e.dom.isContentEditable:sp(e).fold(et(t),o=>Zu(o)==="true"),Zu=e=>e.dom.contentEditable,La=e=>e.style!==void 0&&Me(e.style.getPropertyValue),kc=(e,t,o)=>{if(!Re(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);La(e)&&e.style.setProperty(t,o)},Dm=(e,t)=>{La(e)&&e.style.removeProperty(t)},el=(e,t,o)=>{const i=e.dom;kc(i,t,o)},jo=(e,t)=>{const o=e.dom;ss(t,(i,c)=>{kc(o,c,i)})},Wr=(e,t)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(t);return c===""&&!Ba(e)?wf(o,t):c},wf=(e,t)=>La(e)?e.style.getPropertyValue(t):"",Fr=(e,t)=>{const o=e.dom,i=wf(o,t);return Q.from(i).filter(c=>c.length>0)},$g=e=>{const t={},o=e.dom;if(La(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);t[c]=o.style[c]}return t},su=(e,t)=>{const o=e.dom;Dm(o,t),ff(Jc(e,"style").map(Ie),"")&&Do(e,"style")},H1=e=>e.dom.offsetWidth,Rr=(e,t)=>{aa(e).each(i=>{i.dom.insertBefore(t.dom,e.dom)})},it=(e,t)=>{Un(e).fold(()=>{aa(e).each(c=>{Zr(c,t)})},i=>{Rr(i,t)})},Fa=(e,t)=>{Bl(e).fold(()=>{Zr(e,t)},i=>{e.dom.insertBefore(t.dom,i.dom)})},Zr=(e,t)=>{e.dom.appendChild(t.dom)},Zl=(e,t)=>{Rr(e,t),Zr(t,e)},Ec=(e,t)=>{he(t,(o,i)=>{const c=i===0?e:t[i-1];it(c,o)})},ti=(e,t)=>{he(t,o=>{Zr(e,o)})},Xs=e=>{e.dom.textContent="",he(la(e),t=>{Os(t)})},Os=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Va=e=>{const t=la(e);t.length>0&&Ec(e,t),Os(e)},jl=(e,t)=>{const i=(t||document).createElement("div");return i.innerHTML=e,la(Be.fromDom(i))},ru=e=>Pe(e,Be.fromDom),Id=e=>e.dom.innerHTML,Rm=(e,t)=>{const i=Fu(e).dom,c=Be.fromDom(i.createDocumentFragment()),m=jl(t,i);ti(c,m),Xs(e),Zr(e,c)},Ug=e=>{const t=Be.fromTag("div"),o=Be.fromDom(e.dom.cloneNode(!0));return Zr(t,o),Id(t)},Wg=(e,t,o,i,c,m,h)=>({target:e,x:t,y:o,stop:i,prevent:c,kill:m,raw:h}),Rv=e=>{const t=Be.fromDom(Dv(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=$t(i,o);return Wg(t,e.clientX,e.clientY,o,i,c,e)},Iv=(e,t)=>o=>{e(o)&&t(Rv(o))},ju=(e,t,o,i,c)=>{const m=Iv(o,i);return e.dom.addEventListener(t,m,c),{unbind:tt(W,e,t,m,c)}},I=(e,t,o,i)=>ju(e,t,o,i,!1),W=(e,t,o,i)=>{e.dom.removeEventListener(t,o,i)},oe=(e,t)=>({left:e,top:t,translate:(i,c)=>oe(e+i,t+c)}),Oe=oe,$e=e=>{const t=e.getBoundingClientRect();return Oe(t.left,t.top)},Dt=(e,t)=>e!==void 0?e:t!==void 0?t:0,Wn=e=>{const t=e.dom.ownerDocument,o=t.body,i=t.defaultView,c=t.documentElement;if(o===e.dom)return Oe(o.offsetLeft,o.offsetTop);const m=Dt(i==null?void 0:i.pageYOffset,c.scrollTop),h=Dt(i==null?void 0:i.pageXOffset,c.scrollLeft),C=Dt(c.clientTop,o.clientTop),A=Dt(c.clientLeft,o.clientLeft);return po(e).translate(h-A,m-C)},po=e=>{const t=e.dom,i=t.ownerDocument.body;return i===t?Oe(i.offsetLeft,i.offsetTop):Ba(e)?$e(t):Oe(0,0)},ao=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return Oe(o,i)},Tn=(e,t,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,t)},bs=(e,t)=>{na().browser.isSafari()&&Me(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},jr=e=>{const t=e===void 0?window:e;return na().browser.isFirefox()?Q.none():Q.from(t.visualViewport)},Sr=(e,t,o,i)=>({x:e,y:t,width:o,height:i,right:e+o,bottom:t+i}),Ac=e=>{const t=e===void 0?window:e,o=t.document,i=ao(Be.fromDom(o));return jr(t).fold(()=>{const c=t.document.documentElement,m=c.clientWidth,h=c.clientHeight;return Sr(i.left,i.top,m,h)},c=>Sr(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Im=(e,t)=>vt(la(e),t),Nm=(e,t)=>{let o=[];return he(la(e),i=>{t(i)&&(o=o.concat([i])),o=o.concat(Nm(i,t))}),o},pi=(e,t)=>Hg(t,e),vC=(e,t,o)=>Qa(e,t,o).isSome(),Nv=(e,t)=>op(e,t).isSome(),$1=(e,t)=>Ui(e,t).isSome();class ca{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,i,c){if(t){if(!c&&t[o])return t[o];if(t!==this.rootNode){let m=t[i];if(m)return m;for(let h=t.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(m=h[i],m)return m}}}findPreviousNode(t,o){if(t){const i=t.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const c=t.parentNode;if(c&&c!==this.rootNode)return c}}}const Ir="\uFEFF",Di="",Ku=e=>e===Ir,rp=e=>e.replace(/\uFEFF/g,""),nx=/^[ \t\r\n]*$/,oc=e=>nx.test(e),pl=e=>{for(const t of e)if(!Ku(t))return!1;return!0},Pv=e=>" \f	\v".indexOf(e)!==-1,Cf=e=>e===`
`||e==="\r",iE=(e,t)=>t<e.length&&t>=0?Cf(e[t]):!1,Mv=(e,t=4,o=!0,i=!0)=>{const c=nn(" ",t),m=e.replace(/\t/g,c);return Vt(m,(C,A)=>Pv(A)||A===Di?C.pcIsSpace||C.str===""&&o||C.str.length===m.length-1&&i||iE(m,C.str.length+1)?{pcIsSpace:!1,str:C.str+Di}:{pcIsSpace:!0,str:C.str+" "}:{pcIsSpace:Cf(A),str:C.str+A},{pcIsSpace:!1,str:""}).str},Nd=e=>t=>!!t&&t.nodeType===e,_f=e=>!!e&&!Object.getPrototypeOf(e),En=Nd(1),iu=e=>En(e)&&Na(Be.fromDom(e)),Bv=e=>En(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Sf=e=>{const t=e.toLowerCase();return o=>Se(o)&&o.nodeName.toLowerCase()===t},ua=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return re(t,i)}return!1}},Tc=(e,t)=>{const o=t.toLowerCase().split(" ");return i=>{if(En(i)){const c=i.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const h=c.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[m])return!0}}return!1}},Zg=e=>t=>En(t)&&t.hasAttribute(e),kf=e=>En(e)&&e.hasAttribute("data-mce-bogus"),U1=e=>En(e)&&e.getAttribute("data-mce-bogus")==="all",au=e=>En(e)&&e.tagName==="TABLE",ip=e=>t=>!!(iu(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),ap=ua(["textarea","input"]),Ut=Nd(3),ox=Nd(4),Ef=Nd(7),ko=Nd(8),Rn=Nd(9),Af=Nd(11),gr=Sf("br"),Oc=Sf("img"),Dc=ip("true"),fo=ip("false"),lp=ua(["td","th"]),bC=ua(["td","th","caption"]),St=ua(["video","audio","object","embed"]),sx=Sf("li"),cp=Sf("details"),up=Sf("summary"),jg={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Pm=(e,t,o)=>{const i=Be.fromDom(t),c=Be.fromDom(e),m=o.getWhitespaceElements();return vC(c,C=>io(m,Go(C)),tt(qo,i))},yC=e=>En(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Tf=(e,t)=>En(e)&&io(t.getNonEmptyElements(),e.nodeName),nr=Zg("data-mce-bookmark"),Gu=e=>yf(Be.fromDom(e)).exists(t=>!_r(t)),W1=(e,t,o)=>oc(e.data)&&!Pm(e,t,o),lu=(e,t,o,i)=>Ut(e)&&!W1(e,t,o)&&(!i.includeZwsp||!pl(e.data)),Mm=(e,t,o,i)=>Me(i.isContent)&&i.isContent(t)||Tf(t,e)||nr(t)||yC(t)||lu(t,o,e,i)||fo(t)||Dc(t)&&Gu(t),sc=(e,t,o)=>{const i={...jg,...o};if(i.checkRootAsContent&&Mm(e,t,t,i))return!1;let c=t.firstChild,m=0;if(!c)return!0;const h=new ca(c,t);do{if(i.skipBogus&&En(c)){const C=c.getAttribute("data-mce-bogus");if(C){c=h.next(C==="all");continue}}if(ko(c)){c=h.next(!0);continue}if(gr(c)){m++,c=h.next();continue}if(Mm(e,c,t,i))return!1;c=h.next()}while(c);return m<=1},Kr=(e,t,o)=>sc(e,t.dom,{checkRootAsContent:!0,...o}),Lv=(e,t,o)=>Mm(e,t,t,{includeZwsp:jg.includeZwsp,...o}),Ri=e=>{let t=e;return{get:()=>t,set:c=>{t=c}}},Z1=e=>{const t=Ri(Q.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(Q.some(C))}}},Rc=e=>{const t=Ri(Q.none()),o=()=>t.get().each(C=>clearInterval(C));return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:C=>{o(),t.set(Q.some(setInterval(C,e)))}}},Ii=()=>{const e=Z1(ct);return{...e,on:o=>e.get().each(o)}},Zt=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Bm=e=>Zt(e)!=="html",Ni=e=>Bm(e.nodeName),xC=e=>Zt(e.nodeName),wC=["svg","math"],aE=()=>{const e=Ii(),t=()=>e.get().map(xC).getOr("html");return{track:c=>(Ni(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Pd="data-mce-block",Kg=e=>vt(Kt(e),t=>!/[A-Z]/.test(t)),Fv=e=>Pe(Kg(e),t=>{const o=CSS.escape(t);return`${o}:`+Pe(wC,i=>`not(${i} ${o})`).join(":")}).join(","),j1=(e,t)=>Se(t.querySelector(e))?(t.setAttribute(Pd,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Pd),!1),rx=(e,t)=>{const o=Fv(e.getTransparentElements()),i=Fv(e.getBlockElements());return vt(t.querySelectorAll(o),c=>j1(i,c))},kr=(e,t,o)=>{var i;const c=o?"lastChild":"firstChild";for(let m=t[c];m;m=m[c])if(sc(e,m,{checkRootAsContent:!0})){(i=m.parentNode)===null||i===void 0||i.removeChild(m);return}},Vv=(e,t,o)=>{const i=document.createRange(),c=t.parentNode;if(c){i.setStartBefore(t),i.setEndBefore(o);const m=i.extractContents();kr(e,m,!0),i.setStartAfter(o),i.setEndAfter(t);const h=i.extractContents();kr(e,h,!1),sc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,t),sc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,t),sc(e,h,{checkRootAsContent:!0})||c.insertBefore(h,t),c.removeChild(t)}},Nr=(e,t,o)=>{const i=e.getBlockElements(),c=Be.fromDom(t),m=C=>Go(C)in i,h=C=>qo(C,c);he(ru(o),C=>{Qa(C,m,h).each(A=>{const F=Im(C,j=>m(j)&&!e.isValidChild(Go(A),Go(j)));if(F.length>0){const j=yf(A);he(F,Y=>{Qa(Y,m,h).each(ee=>{Vv(e,ee.dom,Y.dom)})}),j.each(Y=>rx(e,Y.dom))}})})},tl=(e,t,o)=>{he([...o,...Of(e,t)?[t]:[]],i=>he(pi(Be.fromDom(i),i.nodeName.toLowerCase()),c=>{CC(e,c.dom)&&Va(c)}))},Gr=(e,t)=>{const o=rx(e,t);Nr(e,t,o),tl(e,t,o)},rc=(e,t)=>{if(dp(e,t)){const o=Fv(e.getBlockElements());j1(o,t)}},Md=(e,t,o)=>{const i=m=>qo(m,Be.fromDom(t)),c=Am(Be.fromDom(o),i);Tr(c,c.length-2).filter(Ur).fold(()=>Gr(e,t),m=>Gr(e,m.dom))},Zi=e=>e.hasAttribute(Pd),zv=(e,t)=>io(e.getTransparentElements(),t),dp=(e,t)=>En(t)&&zv(e,t.nodeName),Of=(e,t)=>dp(e,t)&&Zi(t),CC=(e,t)=>dp(e,t)&&!Zi(t),fp=(e,t)=>t.type===1&&zv(e,t.name)&&Re(t.attr(Pd)),ix=na().browser,K1=e=>cn(e,Ur),Hv=e=>ix.isFirefox()&&Go(e)==="table"?K1(la(e)).filter(t=>Go(t)==="caption").bind(t=>K1(Tm(t)).map(o=>{const i=o.dom.offsetTop,c=t.dom.offsetTop,m=t.dom.offsetHeight;return i<=c?-m:0})).getOr(0):0,G1=(e,t)=>e.children&&re(e.children,t),ax=(e,t,o)=>{let i=0,c=0;const m=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Wr(Be.fromDom(e),"position")==="static"){const C=t.getBoundingClientRect();return i=C.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=C.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:c}}let h=t;for(;h&&h!==o&&h.nodeType&&!G1(h,o);){const C=h;i+=C.offsetLeft||0,c+=C.offsetTop||0,h=C.offsetParent}for(h=t.parentNode;h&&h!==o&&h.nodeType&&!G1(h,o);)i-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode;c+=Hv(Be.fromDom(t))}return{x:i,y:c}},Lm=(e,t={})=>{let o=0;const i={},c=Be.fromDom(e),m=tc(c),h=He=>{t.referrerPolicy=He},C=He=>{t.contentCssCors=He},A=He=>{Zr(Om(c),He)},F=He=>{const Qe=Om(c);Ot(Qe,"#"+He).each(Os)},j=He=>Ts(i,He).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),Y=He=>new Promise((Qe,Xe)=>{let dt;const Bt=Xt._addCacheSuffix(He),Yt=j(Bt);i[Bt]=Yt,Yt.count++;const pn=(Cn,Vn)=>{he(Cn,Fn),Yt.status=Vn,Yt.passed=[],Yt.failed=[],dt&&(dt.onload=null,dt.onerror=null,dt=null)},kt=()=>pn(Yt.passed,2),bt=()=>pn(Yt.failed,3);if(Qe&&Yt.passed.push(Qe),Xe&&Yt.failed.push(Xe),Yt.status===1)return;if(Yt.status===2){kt();return}if(Yt.status===3){bt();return}Yt.status=1;const It=Be.fromTag("link",m.dom);Pa(It,{rel:"stylesheet",type:"text/css",id:Yt.id}),t.contentCssCors&&xi(It,"crossOrigin","anonymous"),t.referrerPolicy&&xi(It,"referrerpolicy",t.referrerPolicy),dt=It.dom,dt.onload=kt,dt.onerror=bt,A(It),xi(It,"href",Bt)}),ee=(He,Qe)=>{const Xe=j(He);i[He]=Xe,Xe.count++;const dt=Be.fromTag("style",m.dom);Pa(dt,{rel:"stylesheet",type:"text/css",id:Xe.id}),dt.dom.innerHTML=Qe,A(dt)},ge=He=>Promise.allSettled(Pe(He,Xe=>Y(Xe).then(et(Xe)))).then(Xe=>{const dt=zt(Xe,Bt=>Bt.status==="fulfilled");return dt.fail.length>0?Promise.reject(Pe(dt.fail,Bt=>Bt.reason)):Pe(dt.pass,Bt=>Bt.value)}),_e=He=>{const Qe=Xt._addCacheSuffix(He);Ts(i,Qe).each(Xe=>{--Xe.count===0&&(delete i[Qe],F(Xe.id))})};return{load:Y,loadRawCss:ee,loadAll:ge,unload:_e,unloadRawCss:He=>{Ts(i,He).each(Qe=>{--Qe.count===0&&(delete i[He],F(Qe.id))})},unloadAll:He=>{he(He,Qe=>{_e(Qe)})},_setReferrerPolicy:h,_setContentCssCors:C}},q1=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const m=nu(o).dom;return Q.from(e.get(m)).getOrThunk(()=>{const h=Lm(m,i);return e.set(m,h),h})}}})(),Y1=e=>e.nodeName.toLowerCase()==="span",lx=(e,t)=>Se(e)&&(Lv(t,e)||t.isInline(e.nodeName.toLowerCase())),cx=(e,t,o)=>{const i=new ca(e,t).prev(!1),c=new ca(e,t).next(!1),m=qe(i)||lx(i,o),h=qe(c)||lx(c,o);return m&&h},$v=e=>Y1(e)&&e.getAttribute("data-mce-type")==="bookmark",ux=(e,t,o)=>Ut(e)&&e.data.length>0&&cx(e,t,o),dx=e=>En(e)?e.childNodes.length>0:!1,Uv=e=>Af(e)||Rn(e),mp=(e,t,o,i)=>{var c;const m=i||t;if(En(t)&&$v(t))return t;const h=t.childNodes;for(let C=h.length-1;C>=0;C--)mp(e,h[C],o,m);if(En(t)){const C=t.childNodes;C.length===1&&$v(C[0])&&((c=t.parentNode)===null||c===void 0||c.insertBefore(C[0],t))}return!Uv(t)&&!Lv(o,t)&&!dx(t)&&!ux(t,m,o)&&e.remove(t),t},fx=Xt.makeMap,Wv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fm=/[<>&\"\']/g,gp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,mx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Bd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Gg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qg=e=>{const t=Be.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ld=(e,t)=>{const o={};if(e){const i=e.split(",");t=t||10;for(let c=0;c<i.length;c+=2){const m=String.fromCharCode(parseInt(i[c],t));if(!Bd[m]){const h="&"+i[c+1]+";";o[m]=h,o[h]=m}}return o}else return},Df=Ld("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),jv=(e,t)=>e.replace(t?Wv:Zv,o=>Bd[o]||o),cE=e=>(""+e).replace(Fm,t=>Bd[t]||t),Kv=(e,t)=>e.replace(t?Wv:Zv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Bd[o]||"&#"+o.charCodeAt(0)+";"),Ic=(e,t,o)=>{const i=o||Df;return e.replace(t?Wv:Zv,c=>Bd[c]||i[c]||c)},Yg={encodeRaw:jv,encodeAllRaw:cE,encodeNumeric:Kv,encodeNamed:Ic,getEncodeFunc:(e,t)=>{const o=Ld(t)||Df,i=(h,C)=>h.replace(C?Wv:Zv,A=>Bd[A]!==void 0?Bd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(h,C)=>Ic(h,C,o),m=fx(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?t?c:Ic:m.numeric?Kv:jv},decode:e=>e.replace(gp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):mx[o]||String.fromCharCode(o)):Gg[t]||Df[t]||qg(t))},da=(e,t)=>(e=Xt.trim(e),e?e.split(t||" "):[]),Xg=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Jg=e=>te(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",X1=e=>{const t=o=>ie(o)?Pe(o,t):Jg(o)?new RegExp(o.source,o.flags):te(o)?Ul(o,t):o;return t(e)},Yo=e=>{const t=/^(~)?(.+)$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const m=i[1]==="~"?"span":"div",h=i[2];return[{cloneName:m,name:h}]}else return[]})},vl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),qu=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const i=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:i}},Aa=e=>{const{blockContent:t,phrasingContent:o,flowContent:i}=qu(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(t),phrasingContent:c(o),flowContent:c(i)})},Zs={html4:Rl(()=>Aa("html4")),html5:Rl(()=>Aa("html5")),"html5-strict":Rl(()=>Aa("html5-strict"))},Gv=(e,t)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Zs[e]();return t==="blocks"?Q.some(o):t==="phrasing"?Q.some(i):t==="flow"?Q.some(c):Q.none()},SC=e=>{const t=vl(e),{phrasingContent:o,flowContent:i}=qu(e),c={},m=(A,F,j)=>{c[A]={attributes:rr(F,et({})),attributesOrder:F,children:rr(j,et({}))}},h=(A,F="",j="")=>{const Y=da(j),ee=da(A);let ge=ee.length;const _e=[...t,...da(F)];for(;ge--;)m(ee[ge],_e.slice(),Y)},C=(A,F)=>{const j=da(A),Y=da(F);let ee=j.length;for(;ee--;){const ge=c[j[ee]];for(let _e=0,pe=Y.length;_e<pe;_e++)ge.attributes[Y[_e]]={},ge.attributesOrder.push(Y[_e])}};return e!=="html5-strict"&&(he(da("acronym applet basefont big font strike tt"),j=>{h(j,"",o)}),he(da("center dir isindex noframes"),j=>{h(j,"",i)})),h("html","manifest","head body"),h("head","","base command link meta noscript script style title"),h("title hr noscript br"),h("base","href target"),h("link","href rel media hreflang type sizes hreflang"),h("meta","name http-equiv content charset"),h("style","media type scoped"),h("script","src async defer type charset"),h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),h("dd div","",i),h("address dt caption","",e==="html4"?o:i),h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),h("blockquote","cite",i),h("ol","reversed start type","li"),h("ul","","li"),h("li","value",i),h("dl","","dt dd"),h("a","href target rel media hreflang type",e==="html4"?o:i),h("q","cite",o),h("ins del","cite datetime",i),h("img","src sizes srcset alt usemap ismap width height"),h("iframe","src name width height",i),h("embed","src type width height"),h("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),h("param","name value"),h("map","name",[i,"area"].join(" ")),h("area","alt coords shape href target rel media hreflang type"),h("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),h("colgroup","span","col"),h("col","span"),h("tbody thead tfoot","","tr"),h("tr","","td th"),h("td","colspan rowspan headers",i),h("th","colspan rowspan headers scope abbr",i),h("form","accept-charset action autocomplete enctype method name novalidate target",i),h("fieldset","disabled form name",[i,"legend"].join(" ")),h("label","form for",o),h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),h("select","disabled form multiple name required size","option optgroup"),h("optgroup","disabled label","option"),h("option","disabled label selected value"),h("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),h("menu","type label",[i,"li"].join(" ")),h("noscript","",i),e!=="html4"&&(h("wbr"),h("ruby","",[o,"rt rp"].join(" ")),h("figcaption","",i),h("mark rt rp bdi","",o),h("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),h("canvas","width height",i),h("data","value",o),h("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),h("picture","","img source"),h("source","src srcset type media sizes"),h("track","kind src srclang label default"),h("datalist","",[o,"option"].join(" ")),h("article section nav aside main header footer","",i),h("hgroup","","h1 h2 h3 h4 h5 h6"),h("figure","",[i,"figcaption"].join(" ")),h("time","datetime",o),h("dialog","open",i),h("command","type label icon disabled checked radiogroup command"),h("output","for form name",o),h("progress","value max",o),h("meter","value min max low high optimum",o),h("details","open",[i,"summary"].join(" ")),h("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),e!=="html4"&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&he([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),he(da("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},uE=e=>e==="-"?"remove":"add",cr=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Q.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},J1=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return wo(da(e,","),o=>{const i=t.exec(o);if(i){const c=i[1],m=c?uE(c):"replace",h=i[2],C=wo(da(i[3],"|"),A=>cr(A).toArray());return[{operation:m,name:h,validChildren:C}]}else return[]})},hx=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:m}=t;return he(da(e,"|"),h=>{const C=o.exec(h);if(C){const A={},F=C[1],j=C[2].replace(/[\\:]:/g,":"),Y=C[3],ee=C[4];if(F==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(j),A.required=!0),F==="-"){delete c[j],m.splice(Xt.inArray(m,j),1);return}if(Y&&(Y==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:j,value:ee}),A.defaultValue=ee):Y==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:j,value:ee}),A.forcedValue=ee):Y==="<"&&(A.validValues=Xt.makeMap(ee,"?"))),i.test(j)){const ge=A;t.attributePatterns=t.attributePatterns||[],ge.pattern=Xg(j),t.attributePatterns.push(ge)}else c[j]||m.push(j),c[j]=A}})},Vm=(e,t)=>{ss(e.attributes,(o,i)=>{t.attributes[i]=o}),t.attributesOrder.push(...e.attributesOrder)},Nc=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return wo(da(t,","),i=>{const c=o.exec(i);if(c){const m=c[1],h=c[2],C=c[3],A=c[4],F=c[5],j={attributes:{},attributesOrder:[]};if(e.each(Y=>Vm(Y,j)),m==="#"?j.paddEmpty=!0:m==="-"&&(j.removeEmpty=!0),A==="!"&&(j.removeEmptyAttrs=!0),F&&hx(F,j),C&&(j.outputName=h),h==="@")if(e.isNone())e=Q.some(j);else return[];return[C?{name:h,element:j,aliasName:C}:{name:h,element:j}]}else return[]})},hp={},bn=Xt.makeMap,cu=Xt.each,px=Xt.extend,Q1=Xt.explode,pp=(e,t={})=>{const o=bn(e," ",bn(e.toUpperCase()," "));return px(o,t)},e0=e=>pp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Qg=(e,t)=>{if(e){const o={};return Re(e)&&(e={"*":e}),cu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=t==="map"?bn(i,/[, ]/):Q1(i,/[, ]/)}),o}else return},Pc=(e={})=>{var t;const o={},i={};let c=[];const m={},h={},C=($n,as,Jr)=>{const yi=e[$n];if(yi)return bn(yi,/[, ]/,bn(yi.toUpperCase(),/[, ]/));{let Yi=hp[$n];return Yi||(Yi=pp(as,Jr),hp[$n]=Yi),Yi}},A=(t=e.schema)!==null&&t!==void 0?t:"html5",F=SC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const j=Qg(e.valid_styles),Y=Qg(e.invalid_styles,"map"),ee=Qg(e.valid_classes,"map"),ge=C("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_e=C("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),pe=C("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ae=C("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),He="td th iframe video audio object script code",Qe=C("non_empty_elements",He+" pre svg textarea summary",pe),Xe=C("move_caret_before_on_enter_elements",He+" table",pe),dt="h1 h2 h3 h4 h5 h6",Bt=C("text_block_elements",dt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Yt=C("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Bt),pn=C("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kt=C("transparent_elements","a ins del canvas map"),bt=C("wrap_block_elements","pre "+dt);cu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),$n=>{h[$n]=new RegExp("</"+$n+"[^>]*>","gi")});const It=$n=>{const as=Q.from(o["@"]),Jr=/[*?+]/;he(Nc(as,$n??""),({name:yi,element:Yi,aliasName:ll})=>{if(ll&&(o[ll]=Yi),Jr.test(yi)){const Li=Yi;Li.pattern=Xg(yi),c.push(Li)}else o[yi]=Yi})},Cn=$n=>{c=[],he(Kt(o),as=>{delete o[as]}),It($n)},Vn=($n,as)=>{var Jr,yi;delete hp.text_block_elements,delete hp.block_elements;const Yi=as.extends?!md(as.extends):!1,ll=as.extends;if(i[$n]=ll?i[ll]:{},m[$n]=ll??$n,Qe[$n.toUpperCase()]={},Qe[$n]={},Yi||(Yt[$n.toUpperCase()]={},Yt[$n]={}),ll&&!o[$n]&&o[ll]){const Li=X1(o[ll]);delete Li.removeEmptyAttrs,delete Li.removeEmpty,o[$n]=Li}else o[$n]={attributesOrder:[],attributes:{}};if(ie(as.attributes)){const Li=hc=>{Fi.attributesOrder.push(hc),Fi.attributes[hc]={}},Fi=(Jr=o[$n])!==null&&Jr!==void 0?Jr:{};delete Fi.attributesDefault,delete Fi.attributesForced,delete Fi.attributePatterns,delete Fi.attributesRequired,Fi.attributesOrder=[],Fi.attributes={},he(as.attributes,hc=>{const Cg=vl(A);cr(hc).each(({preset:_g,name:Sg})=>{_g?Sg==="global"&&he(Cg,Li):Li(Sg)})}),o[$n]=Fi}if(We(as.padEmpty)){const Li=(yi=o[$n])!==null&&yi!==void 0?yi:{};Li.paddEmpty=as.padEmpty,o[$n]=Li}if(ie(as.children)){const Li={},Fi=Cg=>{Li[Cg]={}},hc=Cg=>{Gv(A,Cg).each(_g=>{he(_g,Fi)})};he(as.children,Cg=>{cr(Cg).each(({preset:_g,name:Sg})=>{_g?hc(Sg):Fi(Sg)})}),i[$n]=Li}ll&&ss(i,(Li,Fi)=>{Li[ll]&&(i[Fi]=Li=px({},i[Fi]),Li[$n]=Li[ll])})},Io=$n=>{he(Yo($n??""),({name:as,cloneName:Jr})=>{Vn(as,{extends:Jr})})},Vo=$n=>{te($n)?ss($n,(as,Jr)=>Vn(Jr,as)):Re($n)&&Io($n)},Ds=$n=>{he(J1($n??""),({operation:as,name:Jr,validChildren:yi})=>{const Yi=as==="replace"?{"#comment":{}}:i[Jr],ll=Fi=>{as==="remove"?delete Yi[Fi]:Yi[Fi]={}},Li=Fi=>{Gv(A,Fi).each(hc=>{he(hc,ll)})};he(yi,({preset:Fi,name:hc})=>{Fi?Li(hc):ll(hc)}),i[Jr]=Yi})},Hs=$n=>{const as=o[$n];if(as)return as;let Jr=c.length;for(;Jr--;){const yi=c[Jr];if(yi.pattern.test($n))return yi}},ui=()=>{e.valid_elements?(Cn(e.valid_elements),cu(F,($n,as)=>{i[as]=$n.children})):(cu(F,($n,as)=>{o[as]={attributes:$n.attributes,attributesOrder:$n.attributesOrder},i[as]=$n.children}),cu(da("strong/b em/i"),$n=>{const as=da($n,"/");o[as[1]].outputName=as[0]}),cu(pn,($n,as)=>{o[as]&&(e.padd_empty_block_inline_children&&(o[as].paddInEmptyBlock=!0),o[as].removeEmpty=!0)}),cu(da("ol ul blockquote a table tbody"),$n=>{o[$n]&&(o[$n].removeEmpty=!0)}),cu(da("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),$n=>{o[$n]&&(o[$n].paddEmpty=!0)}),cu(da("span"),$n=>{o[$n].removeEmptyAttrs=!0})),delete o.svg,Vo(e.custom_elements),Ds(e.valid_children),It(e.extended_valid_elements),Ds("+ol[ul|ol],+ul[ul|ol]"),cu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},($n,as)=>{o[as]&&(o[as].parentsRequired=da($n))}),e.invalid_elements&&cu(Q1(e.invalid_elements),$n=>{o[$n]&&delete o[$n]}),Hs("span")||It("span[!data-mce-type|*]")},kl=et(j),Gs=et(Y),on=et(ee),Pn=et(Ae),ys=et(Yt),ln=et(Bt),Kn=et(pn),Fo=et(Object.seal(pe)),gn=et(_e),No=et(Qe),$o=et(Xe),Ra=et(ge),Vs=et(kt),ba=et(bt),nm=et(Object.seal(h)),Lh=($n,as)=>{const Jr=i[$n.toLowerCase()];return!!(Jr&&Jr[as.toLowerCase()])},gc=($n,as)=>{const Jr=Hs($n);if(Jr)if(as){if(Jr.attributes[as])return!0;const yi=Jr.attributePatterns;if(yi){let Yi=yi.length;for(;Yi--;)if(yi[Yi].pattern.test(as))return!0}}else return!0;return!1},md=$n=>io(ys(),$n),om=$n=>!ar($n,"#")&&gc($n)&&!md($n),gd=$n=>io(ba(),$n)||om($n),sm=et(m);return ui(),{type:A,children:i,elements:o,getValidStyles:kl,getValidClasses:on,getBlockElements:ys,getInvalidStyles:Gs,getVoidElements:Fo,getTextBlockElements:ln,getTextInlineElements:Kn,getBoolAttrs:Pn,getElementRule:Hs,getSelfClosingElements:gn,getNonEmptyElements:No,getMoveCaretBeforeOnEnterElements:$o,getWhitespaceElements:Ra,getTransparentElements:Vs,getSpecialElements:nm,isValidChild:Lh,isValid:gc,isBlock:md,isInline:om,isWrapper:gd,getCustomElements:sm,addValidElements:It,setValidElements:Cn,addCustomElements:Vo,addValidChildren:Ds}},dE=e=>({value:t0(e)}),t0=e=>Yc(e,"#").toUpperCase(),vx=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},n0=e=>{const t=vx(e.red)+vx(e.green)+vx(e.blue);return dE(t)},bx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,o0=(e,t,o,i)=>({red:e,green:t,blue:o,alpha:i}),xx=(e,t,o,i)=>{const c=parseInt(e,10),m=parseInt(t,10),h=parseInt(o,10),C=parseFloat(i);return o0(c,m,h,C)},wx=e=>bx.test(e)?"rgb":yx.test(e)?"rgba":"other",kC=e=>{const t=bx.exec(e);if(t!==null)return Q.some(xx(t[1],t[2],t[3],"1"));const o=yx.exec(e);return o!==null?Q.some(xx(o[1],o[2],o[3],o[4])):Q.none()},fE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,qv=e=>kC(e).map(n0).map(t=>"#"+t.value).getOr(e),Cx=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let h,C;const A=Ir;t&&(h=t.getValidStyles(),C=t.getInvalidStyles());const F=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let Y=0;Y<F.length;Y++)m[F[Y]]=A+Y,m[A+Y]=F[Y];const j={parse:Y=>{const ee={};let ge=!1;const _e=e.url_converter,pe=e.url_converter_scope||j,Ae=(kt,bt,It)=>{const Cn=ee[kt+"-top"+bt];if(!Cn)return;const Vn=ee[kt+"-right"+bt];if(!Vn)return;const Io=ee[kt+"-bottom"+bt];if(!Io)return;const Vo=ee[kt+"-left"+bt];if(!Vo)return;const Ds=[Cn,Vn,Io,Vo];let Hs=Ds.length-1;for(;Hs--&&Ds[Hs]===Ds[Hs+1];);Hs>-1&&It||(ee[kt+bt]=Hs===-1?Ds[0]:Ds.join(" "),delete ee[kt+"-top"+bt],delete ee[kt+"-right"+bt],delete ee[kt+"-bottom"+bt],delete ee[kt+"-left"+bt])},He=kt=>{const bt=ee[kt];if(!bt)return;const It=bt.indexOf(",")>-1?[bt]:bt.split(" ");let Cn=It.length;for(;Cn--;)if(It[Cn]!==It[0])return!1;return ee[kt]=It[0],!0},Qe=(kt,bt,It,Cn)=>{He(bt)&&He(It)&&He(Cn)&&(ee[kt]=ee[bt]+" "+ee[It]+" "+ee[Cn],delete ee[bt],delete ee[It],delete ee[Cn])},Xe=kt=>(ge=!0,m[kt]),dt=(kt,bt)=>(ge&&(kt=kt.replace(/\uFEFF[0-9]/g,It=>m[It])),bt||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt),Bt=kt=>String.fromCharCode(parseInt(kt.slice(1),16)),Yt=kt=>kt.replace(/\\[0-9a-f]+/gi,Bt),pn=(kt,bt,It,Cn,Vn,Io)=>{if(Vn=Vn||Io,Vn)return Vn=dt(Vn),"'"+Vn.replace(/\'/g,"\\'")+"'";if(bt=dt(bt||It||Cn||""),!e.allow_script_urls){const Vo=bt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Vo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Vo))return""}return _e&&(bt=_e.call(pe,bt,"style")),"url('"+bt.replace(/\'/g,"\\'")+"')"};if(Y){Y=Y.replace(/[\u0000-\u001F]/g,""),Y=Y.replace(/\\[\"\';:\uFEFF]/g,Xe).replace(/\"[^\"]+\"|\'[^\']+\'/g,bt=>bt.replace(/[;:]/g,Xe));let kt;for(;kt=i.exec(Y);){i.lastIndex=kt.index+kt[0].length;let bt=kt[1].replace(c,"").toLowerCase(),It=kt[2].replace(c,"");if(bt&&It){if(bt=Yt(bt),It=Yt(It),bt.indexOf(A)!==-1||bt.indexOf('"')!==-1||!e.allow_script_urls&&(bt==="behavior"||/expression\s*\(|\/\*|\*\//.test(It)))continue;bt==="font-weight"&&It==="700"?It="bold":(bt==="color"||bt==="background-color")&&(It=It.toLowerCase()),wx(It)==="rgb"&&kC(It).each(Cn=>{It=qv(fE(Cn)).toLowerCase()}),It=It.replace(o,pn),ee[bt]=ge?dt(It,!0):It}}Ae("border","",!0),Ae("border","-width"),Ae("border","-color"),Ae("border","-style"),Ae("padding",""),Ae("margin",""),Qe("border","border-width","border-style","border-color"),ee.border==="medium none"&&delete ee.border,ee["border-image"]==="none"&&delete ee["border-image"]}return ee},serialize:(Y,ee)=>{let ge="";const _e=(Ae,He)=>{const Qe=He[Ae];if(Qe)for(let Xe=0,dt=Qe.length;Xe<dt;Xe++){const Bt=Qe[Xe],Yt=Y[Bt];Yt&&(ge+=(ge.length>0?" ":"")+Bt+": "+Yt+";")}},pe=(Ae,He)=>{if(!C||!He)return!0;let Qe=C["*"];return Qe&&Qe[Ae]?!1:(Qe=C[He],!(Qe&&Qe[Ae]))};return ee&&h?(_e("*",h),_e(ee,h)):ss(Y,(Ae,He)=>{Ae&&pe(He,ee)&&(ge+=(ge.length>0?" ":"")+He+": "+Ae+";")}),ge}};return j},eh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},mE=e=>e instanceof Event||Me(e.initEvent),gE=e=>e.isDefaultPrevented===_n||e.isDefaultPrevented===fn,Rf=e=>st(e.preventDefault)||mE(e),zm=(e,t)=>{const o=t??{};for(const i in e)io(eh,i)||(o[i]=e[i]);return Se(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Se(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),Se(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},s0=(e,t,o,i)=>{var c;const m=zm(t,i);return m.type=e,st(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),Rf(t)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=_n,Me(t.preventDefault)&&t.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=_n,Me(t.stopPropagation)&&t.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=_n,m.stopPropagation()},gE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?_n:fn,m.isPropagationStopped=m.cancelBubble===!0?_n:fn,m.isImmediatePropagationStopped=fn)),m},EC="mce-data-",_x=/^(?:mouse|contextmenu)|click/,Yv=(e,t,o,i)=>{e.addEventListener(t,o,i||!1)},Fd=(e,t,o,i)=>{e.removeEventListener(t,o,i||!1)},r0=e=>Se(e)&&_x.test(e.type),vi=(e,t)=>{const o=s0(e.type,e,document,t);if(r0(e)&&qe(e.pageX)&&!qe(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,m=i.body,h=o;h.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},Vr=(e,t,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){t(c);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,h=()=>{Fd(e,"DOMContentLoaded",h),Fd(e,"load",h),o.domLoaded||(o.domLoaded=!0,t(c)),e=null};m()?h():Yv(e,"DOMContentLoaded",h),o.domLoaded||Yv(e,"load",h)};class If{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=EC+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,i,c){const m=this;let h;const C=window,A=ee=>{m.executeHandlers(vi(ee||C.event),F)};if(!t||Ut(t)||ko(t))return i;let F;t[m.expando]?F=t[m.expando]:(F=m.count++,t[m.expando]=F,m.events[F]={}),c=c||t;const j=o.split(" ");let Y=j.length;for(;Y--;){let ee=j[Y],ge=A,_e=!1,pe=!1;if(ee==="DOMContentLoaded"&&(ee="ready"),m.domLoaded&&ee==="ready"&&t.readyState==="complete"){i.call(c,vi({type:ee}));continue}!m.hasFocusIn&&(ee==="focusin"||ee==="focusout")&&(_e=!0,pe=ee==="focusin"?"focus":"blur",ge=Ae=>{const He=vi(Ae||C.event);He.type=He.type==="focus"?"focusin":"focusout",m.executeHandlers(He,F)}),h=m.events[F][ee],h?ee==="ready"&&m.domLoaded?i(vi({type:ee})):h.push({func:i,scope:c}):(m.events[F][ee]=h=[{func:i,scope:c}],h.fakeName=pe,h.capture=_e,h.nativeHandler=ge,ee==="ready"?Vr(t,ge,m):Yv(t,pe||ee,ge,_e))}return t=h=null,i}unbind(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=t[this.expando];if(c){let m=this.events[c];if(o){const h=o.split(" ");let C=h.length;for(;C--;){const A=h[C],F=m[A];if(F){if(i){let j=F.length;for(;j--;)if(F[j].func===i){const Y=F.nativeHandler,ee=F.fakeName,ge=F.capture,_e=F.slice(0,j).concat(F.slice(j+1));_e.nativeHandler=Y,_e.fakeName=ee,_e.capture=ge,m[A]=_e}}(!i||F.length===0)&&(delete m[A],Fd(t,F.fakeName||A,F.nativeHandler,F.capture))}}}else ss(m,(h,C)=>{Fd(t,h.fakeName||C,h.nativeHandler,h.capture)}),m={};for(const h in m)if(io(m,h))return this;delete this.events[c];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,i){return this.dispatch(t,o,i)}dispatch(t,o,i){if(!t||Ut(t)||ko(t))return this;const c=vi({type:o,target:t},i);do{const m=t[this.expando];m&&this.executeHandlers(c,m),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!c.isPropagationStopped());return this}clean(t){if(!t||Ut(t)||ko(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let i=o.length;for(;i--;)t=o[i],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const i=this.events[o],c=i&&i[t.type];if(c)for(let m=0,h=c.length;m<h;m++){const C=c[m];if(C&&C.func.call(C.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}If.Event=new If;const Sx=Xt.each,i0=Xt.grep,ji="data-mce-style",nl=Xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),th=(e,t,o)=>{st(o)||o===""?Do(e,t):xi(e,t,o)},Nf=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Hm=(e,t)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;t&&Ut(c)&&(m===i||!c.data.length)||(o++,i=m)}return o},a0=(e,t)=>{const o=ka(t,"style"),i=e.serialize(e.parse(o),Go(t));th(t,ji,i)},AC=(e,t)=>D(e)?io(nl,t)?e+"":e+"px":e,kx=(e,t,o)=>{const i=Nf(t);st(o)||o===""?su(e,i):el(e,i,AC(o,i))},$m=(e,t,o)=>{const i=t.keep_values,c={set:(h,C,A)=>{const F=Be.fromDom(h);Me(t.url_converter)&&Se(C)&&(C=t.url_converter.call(t.url_converter_scope||o(),String(C),A,h));const j="data-mce-"+A;th(F,j,C),th(F,A,C)},get:(h,C)=>{const A=Be.fromDom(h);return ka(A,"data-mce-"+C)||ka(A,C)}},m={style:{set:(h,C)=>{const A=Be.fromDom(h);i&&th(A,ji,C),Do(A,"style"),Re(C)&&jo(A,e.parse(C))},get:h=>{const C=Be.fromDom(h),A=ka(C,ji)||ka(C,"style");return e.serialize(e.parse(A),Go(C))}}};return i&&(m.href=m.src=c),m},js=(e,t={})=>{const o={},i=window,c={};let m=0;const h=!0,C=!0,A=q1.forElement(Be.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),F=[],j=t.schema?t.schema:Pc({}),Y=Cx({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),ee=t.ownEvents?new If:If.Event,ge=j.getBlockElements(),_e=ht=>Re(ht)?io(ge,ht):En(ht)&&(io(ge,ht.nodeName)||Of(j,ht)),pe=ht=>ht&&e&&Re(ht)?e.getElementById(ht):ht,Ae=ht=>{const yt=pe(ht);return Se(yt)?Be.fromDom(yt):null},He=(ht,yt,en="")=>{let qt;const eo=Ae(ht);if(Se(eo)&&Ur(eo)){const Jo=AO[yt];Jo&&Jo.get?qt=Jo.get(eo.dom,yt):qt=ka(eo,yt)}return Se(qt)?qt:en},Qe=ht=>{const yt=pe(ht);return st(yt)?[]:yt.attributes},Xe=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const eo=Be.fromDom(qt),Jo=en===""?null:en,Qr=ka(eo,yt),kg=AO[yt];kg&&kg.set?kg.set(eo.dom,Jo,yt):th(eo,yt,Jo),Qr!==Jo&&t.onSetAttrib&&t.onSetAttrib({attrElm:eo.dom,attrName:yt,attrValue:Jo})}})},dt=(ht,yt)=>ht.cloneNode(yt),Bt=()=>t.root_element||e.body,Yt=ht=>{const yt=Ac(ht);return{x:yt.x,y:yt.y,w:yt.width,h:yt.height}},pn=(ht,yt)=>ax(e.body,pe(ht),yt),kt=(ht,yt,en)=>{Pn(ht,qt=>{const eo=Be.fromDom(qt);kx(eo,yt,en),t.update_styles&&a0(Y,eo)})},bt=(ht,yt)=>{Pn(ht,en=>{const qt=Be.fromDom(en);ss(yt,(eo,Jo)=>{kx(qt,Jo,eo)}),t.update_styles&&a0(Y,qt)})},It=(ht,yt,en)=>{const qt=pe(ht);if(!(st(qt)||!iu(qt)&&!Bv(qt)))return en?Wr(Be.fromDom(qt),Nf(yt)):(yt=yt.replace(/-(\D)/g,(eo,Jo)=>Jo.toUpperCase()),yt==="float"&&(yt="cssFloat"),qt.style?qt.style[yt]:void 0)},Cn=ht=>{const yt=pe(ht);if(!yt)return{w:0,h:0};let en=It(yt,"width"),qt=It(yt,"height");return(!en||en.indexOf("px")===-1)&&(en="0"),(!qt||qt.indexOf("px")===-1)&&(qt="0"),{w:parseInt(en,10)||yt.offsetWidth||yt.clientWidth,h:parseInt(qt,10)||yt.offsetHeight||yt.clientHeight}},Vn=ht=>{const yt=pe(ht),en=pn(yt),qt=Cn(yt);return{x:en.x,y:en.y,w:qt.w,h:qt.h}},Io=(ht,yt)=>{if(!ht)return!1;const en=ie(ht)?ht:[ht];return be(en,qt=>Ns(Be.fromDom(qt),yt))},Vo=(ht,yt,en,qt)=>{const eo=[];let Jo=pe(ht);qt=qt===void 0;const Qr=en||(Bt().nodeName!=="BODY"?Bt().parentNode:null);if(Re(yt))if(yt==="*")yt=En;else{const kg=yt;yt=AB=>Io(AB,kg)}for(;Jo&&!(Jo===Qr||st(Jo.nodeType)||Rn(Jo)||Af(Jo));){if(!yt||yt(Jo))if(qt)eo.push(Jo);else return[Jo];Jo=Jo.parentNode}return qt?eo:null},Ds=(ht,yt,en)=>{const qt=Vo(ht,yt,en,!1);return qt&&qt.length>0?qt[0]:null},Hs=(ht,yt,en)=>{let qt=yt;if(ht){Re(yt)&&(qt=eo=>Io(eo,yt));for(let eo=ht[en];eo;eo=eo[en])if(Me(qt)&&qt(eo))return eo}return null},ui=(ht,yt)=>Hs(ht,yt,"nextSibling"),kl=(ht,yt)=>Hs(ht,yt,"previousSibling"),Gs=ht=>Me(ht.querySelectorAll),on=(ht,yt)=>{var en,qt;const eo=(qt=(en=pe(yt))!==null&&en!==void 0?en:t.root_element)!==null&&qt!==void 0?qt:e;return Gs(eo)?vo(eo.querySelectorAll(ht)):[]},Pn=function(ht,yt,en){const qt=en??this;if(ie(ht)){const eo=[];return Sx(ht,(Jo,Qr)=>{const kg=pe(Jo);kg&&eo.push(yt.call(qt,kg,Qr))}),eo}else{const eo=pe(ht);return eo?yt.call(qt,eo):!1}},ys=(ht,yt)=>{Pn(ht,en=>{ss(yt,(qt,eo)=>{Xe(en,eo,qt)})})},ln=(ht,yt)=>{Pn(ht,en=>{const qt=Be.fromDom(en);Rm(qt,yt)})},Kn=(ht,yt,en,qt,eo)=>Pn(ht,Jo=>{const Qr=Re(yt)?e.createElement(yt):yt;return Se(en)&&ys(Qr,en),qt&&(!Re(qt)&&qt.nodeType?Qr.appendChild(qt):Re(qt)&&ln(Qr,qt)),eo?Qr:Jo.appendChild(Qr)}),Fo=(ht,yt,en)=>Kn(e.createElement(ht),ht,yt,en,!0),gn=Yg.decode,No=Yg.encodeAllRaw,$o=(ht,yt,en="")=>{let qt="<"+ht;for(const eo in yt)Wl(yt,eo)&&(qt+=" "+eo+'="'+No(yt[eo])+'"');return Wt(en)&&io(j.getVoidElements(),ht)?qt+" />":qt+">"+en+"</"+ht+">"},Ra=ht=>{const yt=e.createElement("div"),en=e.createDocumentFragment();en.appendChild(yt),ht&&(yt.innerHTML=ht);let qt;for(;qt=yt.firstChild;)en.appendChild(qt);return en.removeChild(yt),en},Vs=(ht,yt)=>Pn(ht,en=>{const qt=Be.fromDom(en);return yt&&he(la(qt),eo=>{lr(eo)&&eo.dom.length===0?Os(eo):Rr(qt,eo)}),Os(qt),qt.dom}),ba=ht=>Pn(ht,yt=>{const en=yt.attributes;for(let qt=en.length-1;qt>=0;qt--)yt.removeAttributeNode(en.item(qt))}),nm=ht=>Y.parse(ht),Lh=(ht,yt)=>Y.serialize(ht,yt),gc=ht=>{if(av!==js.DOM&&e===document){if(o[ht])return;o[ht]=!0}let yt=e.getElementById("mceDefaultStyles");if(!yt){yt=e.createElement("style"),yt.id="mceDefaultStyles",yt.type="text/css";const en=e.head;en.firstChild?en.insertBefore(yt,en.firstChild):en.appendChild(yt)}yt.styleSheet?yt.styleSheet.cssText+=ht:yt.appendChild(e.createTextNode(ht))},md=ht=>{ht||(ht=""),he(ht.split(","),yt=>{c[yt]=!0,A.load(yt).catch(ct)})},om=(ht,yt,en)=>{Pn(ht,qt=>{if(En(qt)){const eo=Be.fromDom(qt),Jo=yt.split(" ");he(Jo,Qr=>{Se(en)?(en?Od:Ma)(eo,Qr):np(eo,Qr)})}})},gd=(ht,yt)=>{om(ht,yt,!0)},sm=(ht,yt)=>{om(ht,yt,!1)},$n=(ht,yt)=>{const en=Ae(ht),qt=yt.split(" ");return Se(en)&&Oo(qt,eo=>Dd(en,eo))},as=ht=>{Pn(ht,yt=>su(Be.fromDom(yt),"display"))},Jr=ht=>{Pn(ht,yt=>el(Be.fromDom(yt),"display","none"))},yi=ht=>{const yt=Ae(ht);return Se(yt)&&ff(Fr(yt,"display"),"none")},Yi=ht=>(ht||"mce_")+m++,ll=ht=>{const yt=Ae(ht);return Se(yt)?En(yt.dom)?yt.dom.outerHTML:Ug(yt):""},Li=(ht,yt)=>{Pn(ht,en=>{En(en)&&(en.outerHTML=yt)})},Fi=(ht,yt)=>{const en=pe(yt);return Pn(ht,qt=>{const eo=en==null?void 0:en.parentNode,Jo=en==null?void 0:en.nextSibling;return eo&&(Jo?eo.insertBefore(qt,Jo):eo.appendChild(qt)),qt})},hc=(ht,yt,en)=>Pn(yt,qt=>{var eo;const Jo=ie(yt)?ht.cloneNode(!0):ht;return en&&Sx(i0(qt.childNodes),Qr=>{Jo.appendChild(Qr)}),(eo=qt.parentNode)===null||eo===void 0||eo.replaceChild(Jo,qt),qt}),Cg=(ht,yt)=>{if(ht.nodeName!==yt.toUpperCase()){const en=Fo(yt);return Sx(Qe(ht),qt=>{Xe(en,qt.nodeName,He(ht,qt.nodeName))}),hc(en,ht,!0),en}else return ht},_g=(ht,yt)=>{let en=ht;for(;en;){let qt=yt;for(;qt&&en!==qt;)qt=qt.parentNode;if(en===qt)break;en=en.parentNode}return!en&&ht.ownerDocument?ht.ownerDocument.documentElement:en},Sg=(ht,yt,en)=>Ce(yt)?sc(j,ht,{...en,isContent:eo=>{const Jo=eo.nodeName.toLowerCase();return!!yt[Jo]}}):sc(j,ht,en),rm=()=>e.createRange(),Ey=(ht,yt,en)=>{let qt=rm(),eo,Jo;if(ht&&yt&&ht.parentNode&&yt.parentNode){const Qr=ht.parentNode;return qt.setStart(Qr,Hm(ht)),qt.setEnd(yt.parentNode,Hm(yt)),eo=qt.extractContents(),qt=rm(),qt.setStart(yt.parentNode,Hm(yt)+1),qt.setEnd(Qr,Hm(ht)+1),Jo=qt.extractContents(),Qr.insertBefore(mp(av,eo,j),ht),en?Qr.insertBefore(en,ht):Qr.insertBefore(yt,ht),Qr.insertBefore(mp(av,Jo,j),ht),Vs(ht),en||yt}else return},yk=(ht,yt,en,qt)=>{if(ie(ht)){let eo=ht.length;const Jo=[];for(;eo--;)Jo[eo]=yk(ht[eo],yt,en,qt);return Jo}else return t.collect&&(ht===e||ht===i)&&F.push([ht,yt,en,qt]),ee.bind(ht,yt,en,qt||av)},xk=(ht,yt,en)=>{if(ie(ht)){let qt=ht.length;const eo=[];for(;qt--;)eo[qt]=xk(ht[qt],yt,en);return eo}else{if(F.length>0&&(ht===e||ht===i)){let qt=F.length;for(;qt--;){const[eo,Jo,Qr]=F[qt];ht===eo&&(!yt||yt===Jo)&&(!en||en===Qr)&&ee.unbind(eo,Jo,Qr)}}return ee.unbind(ht,yt,en)}},TH=(ht,yt,en)=>ee.dispatch(ht,yt,en),m1=(ht,yt,en)=>ee.dispatch(ht,yt,en),EB=ht=>{if(ht&&iu(ht)){const yt=ht.getAttribute("data-mce-contenteditable");return yt&&yt!=="inherit"?yt:ht.contentEditable!=="inherit"?ht.contentEditable:null}else return null},av={doc:e,settings:t,win:i,files:c,stdMode:h,boxModel:C,styleSheetLoader:A,boundEvents:F,styles:Y,schema:j,events:ee,isBlock:_e,root:null,clone:dt,getRoot:Bt,getViewPort:Yt,getRect:Vn,getSize:Cn,getParent:Ds,getParents:Vo,get:pe,getNext:ui,getPrev:kl,select:on,is:Io,add:Kn,create:Fo,createHTML:$o,createFragment:Ra,remove:Vs,setStyle:kt,getStyle:It,setStyles:bt,removeAllAttribs:ba,setAttrib:Xe,setAttribs:ys,getAttrib:He,getPos:pn,parseStyle:nm,serializeStyle:Lh,addStyle:gc,loadCSS:md,addClass:gd,removeClass:sm,hasClass:$n,toggleClass:om,show:as,hide:Jr,isHidden:yi,uniqueId:Yi,setHTML:ln,getOuterHTML:ll,setOuterHTML:Li,decode:gn,encode:No,insertAfter:Fi,replace:hc,rename:Cg,findCommonAncestor:_g,run:Pn,getAttribs:Qe,isEmpty:Sg,createRng:rm,nodeIndex:Hm,split:Ey,bind:yk,unbind:xk,fire:m1,dispatch:TH,getContentEditable:EB,getContentEditableParent:ht=>{const yt=Bt();let en=null;for(let qt=ht;qt&&qt!==yt&&(en=EB(qt),en===null);qt=qt.parentNode);return en},isEditable:ht=>{if(Se(ht)){const yt=En(ht)?ht:ht.parentElement;return Se(yt)&&iu(yt)&&_r(Be.fromDom(yt))}else return!1},destroy:()=>{if(F.length>0){let ht=F.length;for(;ht--;){const[yt,en,qt]=F[ht];ee.unbind(yt,en,qt)}}ss(c,(ht,yt)=>{A.unload(yt),delete c[yt]})},isChildOf:(ht,yt)=>ht===yt||yt.contains(ht),dumpRng:ht=>"startContainer: "+ht.startContainer.nodeName+", startOffset: "+ht.startOffset+", endContainer: "+ht.endContainer.nodeName+", endOffset: "+ht.endOffset},AO=$m(Y,t,et(av));return av};js.DOM=js(document),js.nodeIndex=Hm;const l0=js.DOM,ur=0,Yu=1,uu=2,nh=3;class bl{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,i)=>{const c=l0;let m;const h=()=>{c.remove(F),m&&(m.onerror=m.onload=m=null)},C=()=>{h(),o()},A=()=>{h(),i("Failed to load script: "+t)},F=c.uniqueId();m=document.createElement("script"),m.id=F,m.type="text/javascript",m.src=Xt._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=C,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(t){return this.states[t]===uu}markDone(t){this.states[t]=uu}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=ur),new Promise((c,m)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:c,reject:m})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,i=(A,F)=>{Ts(o.scriptLoadedCallbacks,F).each(j=>{he(j,Y=>Y[A](F))}),delete o.scriptLoadedCallbacks[F]},c=A=>{const F=vt(A,j=>j.status==="rejected");return F.length>0?Promise.reject(wo(F,({reason:j})=>ie(j)?j:[j])):Promise.resolve()},m=A=>Promise.allSettled(Pe(A,F=>o.states[F]===uu?(i("resolve",F),Promise.resolve()):o.states[F]===nh?(i("reject",F),Promise.reject(F)):(o.states[F]=Yu,o.loadScript(F).then(()=>{o.states[F]=uu,i("resolve",F);const j=o.queue;return j.length>0?(o.queue=[],m(j).then(c)):Promise.resolve()},()=>(o.states[F]=nh,i("reject",F),Promise.reject(F)))))),h=A=>(o.loading=!0,m(A).then(F=>{o.loading=!1;const j=o.queueLoadedCallbacks.shift();return Q.from(j).each(Fn),c(F)})),C=Pu(t);return o.loading?new Promise((A,F)=>{o.queueLoadedCallbacks.push(()=>{h(C).then(A,F)})}):h(C)}}bl.ScriptLoader=new bl;const fa=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},Um=e=>te(e)&&io(e,"raw"),Xv=e=>ie(e)&&e.length>1,oh={},Jv=Ri("en"),sh=()=>Ts(oh,Jv.get()),Mc={getData:()=>Ul(oh,e=>({...e})),setCode:e=>{e&&Jv.set(e)},getCode:()=>Jv.get(),add:(e,t)=>{let o=oh[e];o||(oh[e]=o={});const i=Pe(Kt(t),c=>c.toLowerCase());ss(t,(c,m)=>{const h=m.toLowerCase();h!==m&&fa(i,h)?(io(t,h)||(o[h]=c),o[m]=c):o[h]=c})},translate:e=>{const t=sh().getOr({}),o=h=>Me(h)?Object.prototype.toString.call(h):i(h)?"":""+h,i=h=>h===""||h===null||h===void 0,c=h=>{const C=o(h);return io(t,C)?o(t[C]):Ts(t,C.toLowerCase()).map(o).getOr(C)},m=h=>h.replace(/{context:\w+}$/,"");if(i(e))return"";if(Um(e))return o(e.raw);if(Xv(e)){const h=e.slice(1),C=c(e[0]).replace(/\{([0-9]+)\}/g,(A,F)=>io(h,F)?o(h[F]):A);return m(C)}return m(c(e))},isRtl:()=>sh().bind(e=>Ts(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>io(oh,e)},ol=()=>{const e=[],t={},o={},i=[],c=(pe,Ae)=>{const He=vt(i,Qe=>Qe.name===pe&&Qe.state===Ae);he(He,Qe=>Qe.resolve())},m=pe=>io(t,pe),h=pe=>io(o,pe),C=pe=>{if(o[pe])return o[pe].instance},A=(pe,Ae)=>{const He=Mc.getCode(),Qe=","+(Ae||"")+",";!He||Ae&&Qe.indexOf(","+He+",")===-1||bl.ScriptLoader.add(t[pe]+"/langs/"+He+".js")},F=(pe,Ae)=>{ol.languageLoad!==!1&&(m(pe)?A(pe,Ae):_e(pe,"loaded").then(()=>A(pe,Ae)))},j=(pe,Ae)=>(e.push(Ae),o[pe]={instance:Ae},c(pe,"added"),Ae),Y=pe=>{delete t[pe],delete o[pe]},ee=(pe,Ae)=>Re(Ae)?Re(pe)?{prefix:"",resource:Ae,suffix:""}:{prefix:pe.prefix,resource:Ae,suffix:pe.suffix}:Ae,ge=(pe,Ae)=>{if(t[pe])return Promise.resolve();let He=Re(Ae)?Ae:Ae.prefix+Ae.resource+Ae.suffix;He.indexOf("/")!==0&&He.indexOf("://")===-1&&(He=ol.baseURL+"/"+He),t[pe]=He.substring(0,He.lastIndexOf("/"));const Qe=()=>(c(pe,"loaded"),Promise.resolve());return o[pe]?Qe():bl.ScriptLoader.add(He).then(Qe)},_e=(pe,Ae="added")=>Ae==="added"&&h(pe)||Ae==="loaded"&&m(pe)?Promise.resolve():new Promise(He=>{i.push({name:pe,state:Ae,resolve:He})});return{items:e,urls:t,lookup:o,get:C,requireLangPack:F,add:j,remove:Y,createUrl:ee,load:ge,waitFor:_e}};ol.languageLoad=!0,ol.baseURL="",ol.PluginManager=ol(),ol.ThemeManager=ol(),ol.ModelManager=ol();const rh=(e,t)=>{let o=null;return{cancel:()=>{Ue(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ue(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},t))}}},vp=(e,t)=>{let o=null;const i=()=>{Ue(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...m)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,m)},t)}}},RC=(e,t,o)=>ou(e,t,o).isSome(),Pr=et("mce-annotation"),Mr=et("data-mce-annotation"),ni=et("data-mce-annotation-uid"),Ps=et("data-mce-annotation-active"),Er=et("data-mce-annotation-classes"),qr=et("data-mce-annotation-attrs"),c0=e=>t=>qo(t,e),u0=(e,t)=>{const o=e.selection.getRng(),i=Be.fromDom(o.startContainer),c=Be.fromDom(e.getBody()),m=t.fold(()=>"."+Pr(),A=>`[${Mr()}="${A}"]`),h=$u(i,o.startOffset).getOr(i);return Wi(h,m,c0(c)).bind(A=>Jc(A,`${ni()}`).bind(F=>Jc(A,`${Mr()}`).map(j=>{const Y=Ox(e,F);return{uid:F,name:j,elements:Y}})))},Tx=e=>Ur(e)&&Dd(e,Pr()),Qv=(e,t)=>Ad(e,"data-mce-bogus")||RC(e,'[data-mce-bogus="all"]',c0(t)),Ox=(e,t)=>{const o=Be.fromDom(e.getBody()),i=pi(o,`[${ni()}="${t}"]`);return vt(i,c=>!Qv(c,o))},ih=(e,t)=>{const o=Be.fromDom(e.getBody()),i=pi(o,`[${Mr()}="${t}"]`),c={};return he(i,m=>{if(!Qv(m,o)){const h=ka(m,ni()),C=Ts(c,h).getOr([]);c[h]=C.concat([m])}}),c},d0=(e,t)=>{const o=Ri({}),i=()=>({listeners:[],previous:Ii()}),c=(Y,ee)=>{m(Y,ge=>(ee(ge),ge))},m=(Y,ee)=>{const ge=o.get(),_e=Ts(ge,Y).getOrThunk(i),pe=ee(_e);ge[Y]=pe,o.set(ge)},h=(Y,ee,ge)=>{c(Y,_e=>{he(_e.listeners,pe=>pe(!0,Y,{uid:ee,nodes:Pe(ge,Ae=>Ae.dom)}))})},C=Y=>{c(Y,ee=>{he(ee.listeners,ge=>ge(!1,Y))})},A=(Y,ee)=>{he(Ox(e,Y),ge=>{ee?xi(ge,Ps(),"true"):Do(ge,Ps())})},F=vp(()=>{const Y=fs(t.getNames());he(Y,ee=>{m(ee,ge=>{const _e=ge.previous.get();return u0(e,Q.some(ee)).fold(()=>{_e.each(pe=>{C(ee),ge.previous.clear(),A(pe,!1)})},({uid:pe,name:Ae,elements:He})=>{ff(_e,pe)||(_e.each(Qe=>A(Qe,!1)),h(Ae,pe,He),ge.previous.set(pe),A(pe,!0))}),{previous:ge.previous,listeners:ge.listeners}})})},30);return e.on("remove",()=>{F.cancel()}),e.on("NodeChange",()=>{F.throttle()}),{addListener:(Y,ee)=>{m(Y,ge=>({previous:ge.previous,listeners:ge.listeners.concat([ee])}))}}},f0=(e,t)=>{const o=Mr(),i=m=>Q.from(m.attr(o)).bind(t.lookup),c=m=>{var h,C;m.attr(ni(),null),m.attr(Mr(),null),m.attr(Ps(),null);const A=Q.from(m.attr(qr())).map(ee=>ee.split(",")).getOr([]),F=Q.from(m.attr(Er())).map(ee=>ee.split(",")).getOr([]);he(A,ee=>m.attr(ee,null));const j=(C=(h=m.attr("class"))===null||h===void 0?void 0:h.split(" "))!==null&&C!==void 0?C:[],Y=cs(j,[Pr()].concat(F));m.attr("class",Y.length>0?Y.join(" "):null),m.attr(Er(),null),m.attr(qr(),null)};e.serializer.addTempAttr(Ps()),e.serializer.addAttributeFilter(o,m=>{for(const h of m)i(h).each(C=>{C.persistent===!1&&(h.name==="span"?h.unwrap():c(h))})})},Dx=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Ts(e,c).map(m=>m.settings),getNames:()=>Kt(e)}},eb=(e,t,o)=>Math.min(Math.max(e,t),o),yl=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Rx=0;const za=e=>{const o=new Date().getTime(),i=Math.floor(yl()*1e9);return Rx++,e+"_"+i+Rx+String(o)},tb=(e,t)=>{he(t,o=>{Od(e,o)})},ah=(e,t)=>{he(t,o=>{Ma(e,o)})},du=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),Yr=e=>du(e,!1),Zm=e=>du(e,!0),Ix=(e,t)=>{const o=Be.fromTag(t),i=hl(e);return Pa(o,i),o},Nx=(e,t)=>{const o=Ix(e,t);it(e,o);const i=la(e);return ti(o,i),Os(e),o},nb=(e,t,o=fn)=>{const i=new ca(e,t),c=m=>{let h;do h=i[m]();while(h&&!Ut(h)&&!o(h));return Q.from(h).filter(Ut)};return{current:()=>Q.from(i.current()).filter(Ut),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},Vd=(e,t)=>{const o=t||(h=>e.isBlock(h)||gr(h)||fo(h)),i=(h,C,A,F)=>{if(Ut(h)){const j=F(h,C,h.data);if(j!==-1)return Q.some({container:h,offset:j})}return A().bind(j=>i(j.container,j.offset,A,F))};return{backwards:(h,C,A,F)=>{const j=nb(h,F??e.getRoot(),o);return i(h,C,()=>j.prev().map(Y=>({container:Y,offset:Y.length})),A).getOrNull()},forwards:(h,C,A,F)=>{const j=nb(h,F??e.getRoot(),o);return i(h,C,()=>j.next().map(Y=>({container:Y,offset:0})),A).getOrNull()}}},ob=((e,t)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+t+" value of a "+t+" node");return i(m).getOr("")},i=m=>e(m)?Q.from(m.dom.nodeValue):Q.none();return{get:o,getOption:i,set:(m,h)=>{if(!e(m))throw new Error("Can only set raw "+t+" value of a "+t+" node");m.dom.nodeValue=h}}})(lr,"text"),jm=e=>ob.get(e),IC=e=>ob.getOption(e),sb=(e,t)=>ob.set(e,t),rb=["td","th"],m0=["thead","tbody","tfoot"],bp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],g0=["li","dd","dt"],Ha=["ul","ol","dl"],Px=["pre","script","textarea","style"],zd=e=>{let t;return o=>(t=t||rr(e,_n),io(t,Go(o)))},ib=e=>Go(e)==="table",Xu=e=>Ur(e)&&Go(e)==="br",ab=zd(bp),lb=zd(Ha),Km=zd(g0),lh=zd(m0),Bc=zd(rb),cb=zd(Px),pE=e=>{const t=[];let o=e.dom;for(;o;)t.push(Be.fromDom(o)),o=o.lastChild;return t},ic=e=>{const t=pi(e,"br"),o=vt(pE(e).slice(-1),Xu);t.length===o.length&&he(o,Os)},Hd=()=>{const e=Be.fromTag("br");return xi(e,"data-mce-bogus","1"),e},Lc=e=>{Xs(e),Zr(e,Hd())},Mx=(e,t)=>{Uu(e).each(o=>{wi(o).each(i=>{t.isBlock(Go(e))&&Xu(o)&&t.isBlock(Go(i))&&Os(o)})})},_i=Ir,Fc=Ku,xl=rp,vE=e=>e.insertContent(_i,{preserve_zwsp:!0}),Pf=En,$d=Ut,yp=e=>($d(e)&&(e=e.parentNode),Pf(e)&&e.hasAttribute("data-mce-caret")),Gm=e=>$d(e)&&Fc(e.data),Kl=e=>yp(e)||Gm(e),h0=e=>e.firstChild!==e.lastChild||!gr(e.firstChild),p0=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i),m=e.parentNode;if(t){const h=e.previousSibling;if($d(h)){if(Kl(h))return h;if(Ud(h))return h.splitText(h.data.length-1)}m==null||m.insertBefore(c,e)}else{const h=e.nextSibling;if($d(h)){if(Kl(h))return h;if(db(h))return h.splitText(1),h}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},ub=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset())===_i||e.isAtStart()&&Gm(t.previousSibling):!1},v0=e=>{const t=e.container();return Ut(t)?t.data.charAt(e.offset()-1)===_i||e.isAtEnd()&&Gm(t.nextSibling):!1},NC=(e,t,o)=>{var i;const m=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(Hd().dom);const h=t.parentNode;return o?h==null||h.insertBefore(m,t):t.nextSibling?h==null||h.insertBefore(m,t.nextSibling):h==null||h.appendChild(m),m},db=e=>$d(e)&&e.data[0]===_i,Ud=e=>$d(e)&&e.data[e.data.length-1]===_i,fb=e=>{var t;const o=e.getElementsByTagName("br"),i=o[o.length-1];kf(i)&&((t=i.parentNode)===null||t===void 0||t.removeChild(i))},ch=e=>e&&e.hasAttribute("data-mce-caret")?(fb(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,uh=e=>yp(e.startContainer),Mf=Math.round,Bf=e=>e?{left:Mf(e.left),top:Mf(e.top),bottom:Mf(e.bottom),right:Mf(e.right),width:Mf(e.width),height:Mf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mb=(e,t)=>(e=Bf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Lf=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Ff=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,Vf=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Ff(t.top-e.bottom,e,t)},dh=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Ff(t.bottom-e.top,e,t),b0=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,xp=e=>Vt(e,(t,o)=>t.fold(()=>Q.some(o),i=>{const c=Math.min(o.left,i.left),m=Math.min(o.top,i.top),h=Math.max(o.right,i.right),C=Math.max(o.bottom,i.bottom);return Q.some({top:m,right:h,bottom:C,left:c,width:h-c,height:C-m})}),Q.none()),y0=(e,t,o)=>{const i=Math.max(Math.min(t,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-i)*(t-i)+(o-c)*(o-c))},Bx=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),wp=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},Si=(e,t)=>{if(En(e)&&e.hasChildNodes()){const o=e.childNodes,i=eb(t,0,o.length-1);return o[i]}else return e},Lx=(e,t)=>{if(!(t<0&&En(e)&&e.hasChildNodes()))return Si(e,t)},PC=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Fx=e=>Re(e)&&e.charCodeAt(0)>=768&&PC.test(e),Vx=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},zf=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},x0=Dc,gb=fo,zx=gr,bE=Ut,Hf=ua(["script","style","textarea"]),hb=ua(["img","input","textarea","hr","iframe","video","audio","object","embed"]),MC=ua(["table"]),BC=Kl,fu=e=>BC(e)?!1:bE(e)?!Hf(e.parentNode):hb(e)||zx(e)||MC(e)||w0(e),Hx=e=>En(e)&&e.getAttribute("unselectable")==="true",w0=e=>!Hx(e)&&gb(e),LC=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(w0(o))return!1;if(x0(o))return!0}return!0},fh=e=>w0(e)?!Vt(vo(e.getElementsByTagName("*")),(t,o)=>t||x0(o),!1):!1,Cp=e=>hb(e)||fh(e),pb=(e,t)=>fu(e)&&LC(e,t),FC=En,mu=fu,qm=Tc("display","block table"),vb=Tc("float","left right"),bb=zf(FC,mu,Ye(vb)),C0=Ye(Tc("white-space","pre pre-line pre-wrap")),yb=Ut,ga=gr,_0=js.nodeIndex,Ym=Lx,Xm=e=>e?e.createRange():js.DOM.createRng(),xb=e=>Re(e)&&/[\r\n\t ]/.test(e),S0=e=>!!e.setStart&&!!e.setEnd,mh=e=>{const t=e.startContainer,o=e.startOffset;if(xb(e.toString())&&C0(t.parentNode)&&Ut(t)){const i=t.data;if(xb(i[o-1])||xb(i[o+1]))return!0}return!1},$f=e=>{const t=e.ownerDocument,o=Xm(t),i=t.createTextNode(Di),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const m=Bf(o.getBoundingClientRect());return c.removeChild(i),m},$x=e=>{const t=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(t===o&&Ut(o)&&i===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),sl(m)}else return null},k0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,sl=e=>{var t;let o;const i=e.getClientRects();return i.length>0?o=Bf(i[0]):o=Bf(e.getBoundingClientRect()),!S0(e)&&ga(e)&&k0(o)?$f(e):k0(o)&&S0(e)&&(t=$x(e))!==null&&t!==void 0?t:o},Uf=(e,t)=>{const o=mb(e,t);return o.width=1,o.right=o.left+1,o},Ux=e=>{const t=[],o=h=>{h.height!==0&&(t.length>0&&Lf(h,t[t.length-1])||t.push(h))},i=(h,C)=>{const A=Xm(h.ownerDocument);if(C<h.data.length){if(Fx(h.data[C]))return;if(Fx(h.data[C-1])&&(A.setStart(h,C),A.setEnd(h,C+1),!mh(A))){o(Uf(sl(A),!1));return}}C>0&&(A.setStart(h,C-1),A.setEnd(h,C),mh(A)||o(Uf(sl(A),!1))),C<h.data.length&&(A.setStart(h,C),A.setEnd(h,C+1),mh(A)||o(Uf(sl(A),!0)))},c=e.container(),m=e.offset();if(yb(c))return i(c,m),t;if(FC(c))if(e.isAtEnd()){const h=Ym(c,m);yb(h)&&i(h,h.data.length),bb(h)&&!ga(h)&&o(Uf(sl(h),!1))}else{const h=Ym(c,m);if(yb(h)&&i(h,0),bb(h)&&e.isAtEnd())return o(Uf(sl(h),!1)),t;const C=Ym(e.container(),e.offset()-1);bb(C)&&!ga(C)&&(qm(C)||qm(h)||!bb(h))&&o(Uf(sl(C),!1)),bb(h)&&o(Uf(sl(h),!0))}return t},xt=(e,t,o)=>{const i=()=>(yb(e),t===0),c=()=>yb(e)?t>=e.data.length:t>=e.childNodes.length,m=()=>{const j=Xm(e.ownerDocument);return j.setStart(e,t),j.setEnd(e,t),j},h=()=>(o||(o=Ux(xt(e,t))),o),C=()=>h().length>0,A=j=>j&&e===j.container()&&t===j.offset(),F=j=>Ym(e,j?t-1:t);return{container:et(e),offset:et(t),toRange:m,getClientRects:h,isVisible:C,isAtStart:i,isAtEnd:c,isEqual:A,getNode:F}};xt.fromRangeStart=e=>xt(e.startContainer,e.startOffset),xt.fromRangeEnd=e=>xt(e.endContainer,e.endOffset),xt.after=e=>xt(e.parentNode,_0(e)+1),xt.before=e=>xt(e.parentNode,_0(e)),xt.isAbove=(e,t)=>sa(hn(t.getClientRects()),Eo(e.getClientRects()),Vf).getOr(!1),xt.isBelow=(e,t)=>sa(Eo(t.getClientRects()),hn(e.getClientRects()),dh).getOr(!1),xt.isAtStart=e=>e?e.isAtStart():!1,xt.isAtEnd=e=>e?e.isAtEnd():!1,xt.isTextPosition=e=>e?Ut(e.container()):!1,xt.isElementPosition=e=>!xt.isTextPosition(e);const _p=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},yE=(e,t,o)=>{t.insertNode(o),_p(e,o.previousSibling),_p(e,o.nextSibling)},VC=(e,t,o)=>{const i=Q.from(o.firstChild),c=Q.from(o.lastChild);t.insertNode(o),i.each(m=>_p(e,m.previousSibling)),c.each(m=>_p(e,m.nextSibling))},E0=(e,t,o)=>{Af(o)?VC(e,t,o):yE(e,t,o)},gu=Ut,A0=kf,wb=js.nodeIndex,Wx=e=>{const t=e.parentNode;return A0(t)?Wx(t):t},Zx=e=>e?dl(e.childNodes,(t,o)=>(A0(o)&&o.nodeName!=="BR"?t=t.concat(Zx(o)):t.push(o),t),[]):[],xE=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&gu(o);)t+=o.data.length;return t},y=e=>t=>e===t,_=e=>{let t,o;t=Zx(Wx(e)),o=ir(t,y(e),e),t=t.slice(0,o+1);const i=dl(t,(c,m,h)=>(gu(m)&&gu(t[h-1])&&c++,c),0);return t=Ga(t,ua([e.nodeName])),o=ir(t,y(e),e),o-i},T=e=>(gu(e)?"text()":e.nodeName.toLowerCase())+"["+_(e)+"]",M=(e,t,o)=>{const i=[];for(let c=t.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},H=(e,t)=>{let o=[],i=t.container(),c=t.offset(),m;if(gu(i))m=xE(i,c);else{const C=i.childNodes;c>=C.length?(m="after",c=C.length-1):m="before",i=C[c]}o.push(T(i));let h=M(e,i);return h=Ga(h,Ye(kf)),o=o.concat(xm(h,C=>T(C))),o.reverse().join("/")+","+m},U=(e,t,o)=>{let i=Zx(e);return i=Ga(i,(c,m)=>!gu(c)||!gu(i[m-1])),i=Ga(i,ua([t])),i[o]},ne=(e,t)=>{let o=e,i=0;for(;gu(o);){const c=o.data.length;if(t>=i&&t<=i+c){e=o,t=t-i;break}if(!gu(o.nextSibling)){e=o,t=c;break}i+=c,o=o.nextSibling}return gu(e)&&t>e.data.length&&(t=e.data.length),xt(e,t)},se=(e,t)=>{if(!t)return null;const o=t.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",m=dl(i,(h,C)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C);return A?(A[1]==="text()"&&(A[1]="#text"),U(h,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!gu(m)&&m.parentNode){let h;return c==="after"?h=wb(m)+1:h=wb(m),xt(m.parentNode,h)}return ne(m,parseInt(c,10))},ye=fo,De=(e,t,o)=>{let i=e(t.data.slice(0,o)).length;for(let c=t.previousSibling;c&&Ut(c);c=c.previousSibling)i+=e(c.data).length;return i},Ze=(e,t,o,i,c)=>{const m=c?i.startContainer:i.endContainer;let h=c?i.startOffset:i.endOffset;const C=[],A=e.getRoot();if(Ut(m))C.push(o?De(t,m,h):h);else{let F=0;const j=m.childNodes;h>=j.length&&j.length&&(F=1,h=Math.max(0,j.length-1)),C.push(e.nodeIndex(j[h],o)+F)}for(let F=m;F&&F!==A;F=F.parentNode)C.push(e.nodeIndex(F,o));return C},Te=(e,t,o,i)=>{const c=t.dom,m=Ze(c,e,o,i,!0),h=t.isForward(),C=uh(i)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:m,forward:h,...C};{const A=Ze(c,e,o,i,!1);return{start:m,end:A,forward:h,...C}}},Ne=(e,t,o)=>{let i=0;return Xt.each(e.select(t),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},Fe=(e,t)=>{let o=t?e.startContainer:e.endContainer,i=t?e.startOffset:e.endOffset;if(En(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(t?i:i-1,c.length-1)],o&&(i=t?0:o.childNodes.length,t?e.setStart(o,i):e.setEnd(o,i))}},rt=e=>(Fe(e,!0),Fe(e,!1),e),at=(e,t)=>{if(En(e)&&(e=Si(e,t),ye(e)))return e;if(Kl(e)){Ut(e)&&yp(e)&&(e=e.parentNode);let o=e.previousSibling;if(ye(o)||(o=e.nextSibling,ye(o)))return o}},Tt=e=>at(e.startContainer,e.startOffset)||at(e.endContainer,e.endOffset),Rt=(e,t,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||ye(i)){const h=i.nodeName;return{name:h,index:Ne(o.dom,h,i)}}const m=Tt(c);if(m){const h=m.tagName;return{name:h,index:Ne(o.dom,h,m)}}return Te(e,o,t,c)},At=e=>{const t=e.getRng();return{start:H(e.dom.getRoot(),xt.fromRangeStart(t)),end:H(e.dom.getRoot(),xt.fromRangeEnd(t)),forward:e.isForward()}},Nt=e=>({rng:e.getRng(),forward:e.isForward()}),Gt=(e,t,o)=>{const i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Qt=(e,t)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),h=e.getNode(),C=h.nodeName,A=e.isForward();if(C==="IMG")return{name:C,index:Ne(o,C,h)};const F=rt(i.cloneRange());if(!m){F.collapse(!1);const Y=Gt(o,c+"_end",t);E0(o,F,Y)}i=rt(i),i.collapse(!0);const j=Gt(o,c+"_start",t);return E0(o,i,j),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},lt=(e,t,o=!1)=>t===2?Rt(xl,o,e):t===3?At(e):t?Nt(e):Qt(e,!1),yn=tt(Rt,pt,!0),Yn=e=>{const t=m=>m(e),o=et(e),i=()=>c,c={tag:!0,inner:e,fold:(m,h)=>h(e),isValue:_n,isError:fn,map:m=>Xn.value(m(e)),mapError:i,bind:t,exists:t,forall:t,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:m=>{m(e)},toOptional:()=>Q.some(e)};return c},yo=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:fn,isError:_n,map:t,mapError:i=>Xn.error(i(e)),bind:t,exists:fn,forall:_n,getOr:pt,or:pt,getOrThunk:no,orThunk:no,getOrDie:Mt(String(e)),each:ct,toOptional:Q.none};return o},Xn={value:Yn,error:yo,fromOption:(e,t)=>e.fold(()=>yo(t),Yn)},Ko={generate:e=>{if(!ie(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return he(e,(i,c)=>{const m=Kt(i);if(m.length!==1)throw new Error("one and only one name per case");const h=m[0],C=i[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ie(C))throw new Error("case arguments must be an array");t.push(h),o[h]=(...A)=>{const F=A.length;if(F!==C.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+C.length+" ("+C+"), got "+F);return{fold:(...Y)=>{if(Y.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Y.length);return Y[c].apply(null,A)},match:Y=>{const ee=Kt(Y);if(t.length!==ee.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+ee.join(","));if(!Oo(t,_e=>re(ee,_e)))throw new Error("Not all branches were specified when using match. Specified: "+ee.join(", ")+`
Required: `+t.join(", "));return Y[h].apply(null,A)},log:Y=>{console.log(Y,{constructors:t,constructor:h,params:A})}}}}),o}};Ko.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const oi=e=>{const t=[],o=[];return he(e,i=>{i.fold(c=>{t.push(c)},c=>{o.push(c)})}),{errors:t,values:o}},Ta=e=>e.type==="inline-command"||e.type==="inline-format",Ki=e=>e.type==="block-command"||e.type==="block-format",ac=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Jm=e=>{var t;const o=c=>Xn.error({message:c,pattern:e}),i=(c,m,h)=>{if(e.format!==void 0){let C;if(ie(e.format)){if(!Oo(e.format,Re))return o(c+" pattern has non-string items in the `format` array");C=e.format}else if(Re(e.format))C=[e.format];else return o(c+" pattern has non-string `format` parameter");return Xn.value(m(C))}else return e.cmd!==void 0?Re(e.cmd)?Xn.value(h(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!te(e))return o("Raw pattern is not an object");if(!Re(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!Re(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),i("Inline",h=>({type:"inline-format",start:c,end:m,format:h}),(h,C)=>({type:"inline-command",start:c,end:m,cmd:h,value:C}))}else{if(e.replacement!==void 0)return Re(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Xn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,h)=>({type:"block-command",start:e.start,cmd:m,value:h,trigger:c}))}}},Oa=e=>vt(e,Ki),Ju=e=>vt(e,Ta),Sp=(e,t)=>({inlinePatterns:Ju(e),blockPatterns:Oa(e),dynamicPatternsLookup:t}),Wf=(e,t)=>({...e,blockPatterns:vt(e.blockPatterns,o=>ac(o,t))}),kp=e=>{const t=oi(Pe(e,Jm));return he(t.errors,o=>console.error(o.message,o.pattern)),t.values},T0=e=>t=>{const o=e(t);return kp(o)},Zf=na().deviceType,zC=Zf.isTouch(),yL=js.DOM,xL=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Vt(t,(o,i)=>{const c=i.split("="),m=c[0],h=c.length>1?c[1]:m;return o[Ie(m)]=Ie(h),o},{})},PD=e=>Le(e,RegExp),xn=e=>t=>t.options.get(e),jx=e=>Re(e)||te(e),wE=(e,t="")=>o=>{const i=Re(o);if(i)if(o.indexOf("=")!==-1){const c=xL(o);return{value:Ts(c,e.id).getOr(t),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},HC=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:wE(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:wE(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const i=Re(o)&&Je(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const i=re(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>We(o)?{valid:!0,value:o}:Re(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const i=o===!1||Re(o)||Ke(o,Re);return i?Re(o)?{value:Pe(o.split(","),Ie),valid:i}:ie(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Cb(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const i=Re(o)||Ke(o,Re);return i?{value:ie(o)?o:Pe(o.split(","),Ie),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const i=We(o)||Re(o);return i?o===!1||Zf.isiPhone()||Zf.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!zC}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||Re(o)||Me(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const i=o===!1||Re(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:jx}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:jx}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:jx}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:jx}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>Re(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Ke(o,te)||o===!1?{value:kp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Me(o)?{value:T0(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Ke(o,PD)?{value:o,valid:!0}:PD(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const i=re(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const i=re(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Mc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:yL.getAttrib(e.getElement(),"placeholder")})})},wl=xn("iframe_attrs"),Wd=xn("doctype"),hu=xn("document_base_url"),$C=xn("body_id"),CE=xn("body_class"),MD=xn("content_security_policy"),_E=xn("br_in_pre"),rl=xn("forced_root_block"),Kx=xn("forced_root_block_attrs"),SE=xn("newline_behavior"),BD=xn("br_newline_selector"),LD=xn("no_newline_selector"),kE=xn("keep_styles"),EE=xn("end_container_on_empty_block"),Ks=xn("automatic_uploads"),gh=xn("images_reuse_filename"),FD=xn("images_replace_blob_uris"),AE=xn("icons"),VD=xn("icons_url"),TE=xn("images_upload_url"),zD=xn("images_upload_base_path"),OE=xn("images_upload_credentials"),wL=xn("images_upload_handler"),HD=xn("content_css_cors"),Gx=xn("referrer_policy"),DE=xn("language"),CL=xn("language_url"),$D=xn("indent_use_margin"),pu=xn("indentation"),Ll=xn("content_css"),O0=xn("content_style"),UD=xn("font_css"),_L=xn("directionality"),es=xn("inline_boundaries_selector"),WD=xn("object_resizing"),ZD=xn("resize_img_proportional"),RE=xn("placeholder"),jD=xn("event_root"),SL=xn("service_message"),D0=xn("theme"),kL=xn("theme_url"),qx=xn("model"),IE=xn("model_url"),R0=xn("inline_boundaries"),EL=xn("formats"),AL=xn("preview_styles"),TL=xn("format_empty_lines"),so=xn("format_noneditable_selector"),KD=xn("custom_ui_selector"),Cb=xn("inline"),NE=xn("hidden_input"),GD=xn("submit_patch"),qD=xn("add_form_submit_trigger"),YD=xn("add_unload_trigger"),XD=xn("custom_undo_redo_levels"),OL=xn("disable_nodechange"),JD=xn("readonly"),_s=xn("editable_root"),QD=xn("content_css_cors"),Zd=xn("plugins"),Qm=xn("external_plugins"),UC=xn("block_unsupported_drop"),Vc=xn("visual"),WC=xn("visual_table_class"),I0=xn("visual_anchor_class"),Yx=xn("iframe_aria_text"),N0=xn("setup"),DL=xn("init_instance_callback"),RL=xn("urlconverter_callback"),IL=xn("auto_focus"),NL=xn("browser_spellcheck"),is=xn("protect"),jf=xn("paste_block_drop"),eg=xn("paste_data_images"),PL=xn("paste_preprocess"),Xx=xn("paste_postprocess"),ms=xn("newdocument_content"),e5=xn("paste_webkit_styles"),PE=xn("paste_remove_styles_if_webkit"),ML=xn("paste_merge_formats"),_b=xn("smart_paste"),Sb=xn("paste_as_text"),t5=xn("paste_tab_spaces"),BL=xn("allow_html_data_urls"),LL=xn("text_patterns"),Jx=xn("text_patterns_lookup"),kb=xn("noneditable_class"),FL=xn("editable_class"),n5=xn("noneditable_regexp"),VL=xn("preserve_cdata"),o5=xn("highlight_on_focus"),s5=xn("xss_sanitization"),r5=xn("init_content_sync"),ME=e=>e.options.isSet("text_patterns_lookup"),BE=e=>Xt.explode(e.options.get("font_size_style_values")),LE=e=>Xt.explode(e.options.get("font_size_classes")),i5=e=>e.options.get("encoding")==="xml",FE=e=>Xt.explode(e.options.get("images_file_types")),a5=xn("table_tab_navigation"),ZC=xn("details_initial_state"),l5=xn("details_serialized_state"),VE=xn("sandbox_iframes"),jC=e=>e.options.get("sandbox_iframes_exclusions"),c5=xn("convert_unsafe_embeds"),u5=xn("license_key"),d5=xn("api_key"),zL=En,f5=Ut,Qx=e=>{const t=e.parentNode;t&&t.removeChild(e)},zE=e=>{const t=xl(e);return{count:e.length-t.length,text:t}},HE=e=>{let t;for(;(t=e.data.lastIndexOf(_i))!==-1;)e.deleteData(t,1)},$E=(e,t)=>(Ep(e),t),HL=(e,t)=>{const o=zE(e.data.substr(0,t.offset())),i=zE(e.data.substr(t.offset()));return(o.text+i.text).length>0?(HE(e),xt(e,t.offset()-o.count)):t},$L=(e,t)=>{const o=t.container(),i=je(vo(o.childNodes),e).map(c=>c<t.offset()?xt(o,t.offset()-1):t).getOr(t);return Ep(e),i},UL=(e,t)=>f5(e)&&t.container()===e?HL(e,t):$E(e,t),WL=(e,t)=>t.container()===e.parentNode?$L(e,t):$E(e,t),ZL=(e,t)=>xt.isTextPosition(t)?UL(e,t):WL(e,t),Ep=e=>{zL(e)&&Kl(e)&&(h0(e)?e.removeAttribute("data-mce-caret"):Qx(e)),f5(e)&&(HE(e),e.data.length===0&&Qx(e))},m5=fo,KC=St,jL=lp,UE="*[contentEditable=false],video,audio,embed,object",g5=(e,t,o)=>{const i=mb(t.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const C=e.ownerDocument.documentElement;c=e.scrollLeft||C.scrollLeft,m=e.scrollTop||C.scrollTop}else{const C=e.getBoundingClientRect();c=e.scrollLeft-C.left,m=e.scrollTop-C.top}i.left+=c,i.right+=c,i.top+=m,i.bottom+=m,i.width=1;let h=t.offsetWidth-t.clientWidth;return h>0&&(o&&(h*=-1),i.left+=h,i.right+=h),i},h5=e=>{var t,o;const i=pi(Be.fromDom(e),UE);for(let c=0;c<i.length;c++){const m=i[c].dom;let h=m.previousSibling;if(Ud(h)){const C=h.data;C.length===1?(t=h.parentNode)===null||t===void 0||t.removeChild(h):h.deleteData(C.length-1,1)}h=m.nextSibling,db(h)&&(h.data.length===1?(o=h.parentNode)===null||o===void 0||o.removeChild(h):h.deleteData(0,1))}},p5=(e,t,o,i)=>{const c=Ii();let m,h;const C=rl(e),A=e.dom,F=(pe,Ae)=>{let He;if(j(),jL(Ae))return null;if(o(Ae)){const Qe=NC(C,Ae,pe),Xe=g5(t,Ae,pe);A.setStyle(Qe,"top",Xe.top),A.setStyle(Qe,"caret-color","transparent"),h=Qe;const dt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(dt,{...Xe}),A.add(t,dt),c.set({caret:dt,element:Ae,before:pe}),pe&&A.addClass(dt,"mce-visual-caret-before"),Y(),He=Ae.ownerDocument.createRange(),He.setStart(Qe,0),He.setEnd(Qe,0)}else return h=p0(Ae,pe),He=Ae.ownerDocument.createRange(),e2(h.nextSibling)?(He.setStart(h,0),He.setEnd(h,0)):(He.setStart(h,1),He.setEnd(h,1)),He;return He},j=()=>{h5(t),h&&(Ep(h),h=null),c.on(pe=>{A.remove(pe.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},Y=()=>{m=setInterval(()=>{c.on(pe=>{i()?A.toggleClass(pe.caret,"mce-visual-caret-hidden"):A.addClass(pe.caret,"mce-visual-caret-hidden")})},500)};return{show:F,hide:j,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(pe=>{const Ae=g5(t,pe.element,pe.before);A.setStyles(pe.caret,{...Ae})})},destroy:()=>clearInterval(m)}},WE=()=>Mo.browser.isFirefox(),e2=e=>m5(e)||KC(e),t2=e=>(e2(e)||au(e)&&WE())&&yf(Be.fromDom(e)).exists(_r),GC=Dc,qC=fo,v5=St,ZE=Tc("display","block table table-cell table-caption list-item"),jE=Kl,b5=yp,KL=En,YC=Ut,y5=fu,Eb=e=>e>0,Ab=e=>e<0,XC=(e,t)=>{let o;for(;o=e(t);)if(!b5(o))return o;return null},n2=(e,t,o,i,c)=>{const m=new ca(e,i),h=qC(e)||b5(e);let C;if(Ab(t)){if(h&&(C=XC(m.prev.bind(m),!0),o(C)))return C;for(;C=XC(m.prev.bind(m),c);)if(o(C))return C}if(Eb(t)){if(h&&(C=XC(m.next.bind(m),!0),o(C)))return C;for(;C=XC(m.next.bind(m),c);)if(o(C))return C}return null},GL=(e,t)=>{const o=c=>GC(c.dom),i=c=>c.dom===t;return Qa(Be.fromDom(e),o,i).map(c=>c.dom).getOr(t)},Ap=(e,t)=>{for(;e&&e!==t;){if(ZE(e))return e;e=e.parentNode}return null},tg=(e,t,o)=>Ap(e.container(),o)===Ap(t.container(),o),JC=(e,t)=>{if(!t)return Q.none();const o=t.container(),i=t.offset();return KL(o)?Q.from(o.childNodes[i+e]):Q.none()},x5=(e,t)=>{var o;const c=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)),c},w5=(e,t,o)=>Ap(t,e)===Ap(o,e),KE=(e,t,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==t;){let m=c[i];if(m&&jE(m)&&(m=m[i]),qC(m)||v5(m)){if(w5(t,m,c))return m;break}if(y5(m))break;c=c.parentNode}return null},o2=tt(x5,!0),s2=tt(x5,!1),GE=(e,t,o)=>{let i;const c=tt(KE,!0,t),m=tt(KE,!1,t),h=o.startContainer,C=o.startOffset;if(yp(h)){const A=YC(h)?h.parentNode:h,F=A.getAttribute("data-mce-caret");if(F==="before"&&(i=A.nextSibling,t2(i)))return o2(i);if(F==="after"&&(i=A.previousSibling,t2(i)))return s2(i)}if(!o.collapsed)return o;if(Ut(h)){if(jE(h)){if(e===1){if(i=m(h),i)return o2(i);if(i=c(h),i)return s2(i)}if(e===-1){if(i=c(h),i)return s2(i);if(i=m(h),i)return o2(i)}return o}if(Ud(h)&&C>=h.data.length-1)return e===1&&(i=m(h),i)?o2(i):o;if(db(h)&&C<=1)return e===-1&&(i=c(h),i)?s2(i):o;if(C===h.data.length)return i=m(h),i?o2(i):o;if(C===0)return i=c(h),i?s2(i):o}return o},C5=(e,t)=>JC(e?0:-1,t).filter(qC),r2=(e,t,o)=>{const i=GE(e,t,o);return e===-1?xt.fromRangeStart(i):xt.fromRangeEnd(i)},QC=e=>Q.from(e.getNode()).map(Be.fromDom),qL=e=>Q.from(e.getNode(!0)).map(Be.fromDom),qE=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},e_=(e,t)=>{const o=tg(e,t);return!o&&gr(e.getNode())?!0:o};var $a;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($a||($a={}));const YL=fo,ng=Ut,_5=En,Nn=gr,Tb=fu,YE=Cp,t_=pb,XE=(e,t)=>{const o=[];let i=e;for(;i&&i!==t;)o.push(i),i=i.parentNode;return o},S5=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,i2=(e,t)=>{if(Eb(e)){if(Tb(t.previousSibling)&&!ng(t.previousSibling))return xt.before(t);if(ng(t))return xt(t,0)}if(Ab(e)){if(Tb(t.nextSibling)&&!ng(t.nextSibling))return xt.after(t);if(ng(t))return xt(t,t.data.length)}return Ab(e)?Nn(t)?xt.before(t):xt.after(t):xt.before(t)},k5=(e,t)=>{const o=t.nextSibling;return o&&Tb(o)?ng(o)?xt(o,0):xt.before(o):JE($a.Forwards,xt.after(t),e)},JE=(e,t,o)=>{let i,c,m,h;if(!_5(o)||!t)return null;if(t.isEqual(xt.after(o))&&o.lastChild){if(h=xt.after(o.lastChild),Ab(e)&&Tb(o.lastChild)&&_5(o.lastChild))return Nn(o.lastChild)?xt.before(o.lastChild):h}else h=t;const C=h.container();let A=h.offset();if(ng(C)){if(Ab(e)&&A>0)return xt(C,--A);if(Eb(e)&&A<C.length)return xt(C,++A);i=C}else{if(Ab(e)&&A>0&&(c=S5(C,A-1),Tb(c)))return!YE(c)&&(m=n2(c,e,t_,c),m)?ng(m)?xt(m,m.data.length):xt.after(m):ng(c)?xt(c,c.data.length):xt.before(c);if(Eb(e)&&A<C.childNodes.length&&(c=S5(C,A),Tb(c)))return Nn(c)?k5(o,c):!YE(c)&&(m=n2(c,e,t_,c),m)?ng(m)?xt(m,0):xt.before(m):ng(c)?xt(c,0):xt.after(c);i=c||h.getNode()}if(i&&(Eb(e)&&h.isAtEnd()||Ab(e)&&h.isAtStart())&&(i=n2(i,e,_n,o,!0),t_(i,o)))return i2(e,i);c=i&&n2(i,e,t_,o);const F=Ca(vt(XE(C,o),YL));return F&&(!c||!F.contains(c))?(Eb(e)?h=xt.after(F):h=xt.before(F),h):c?i2(e,c):null},jn=e=>({next:t=>JE($a.Forwards,t,e),prev:t=>JE($a.Backwards,t,e)}),Co=(e,t,o)=>{const i=e?xt.before(o):xt.after(o);return vu(e,t,i)},E5=e=>gr(e)?xt.before(e):xt.after(e),A5=e=>xt.isTextPosition(e)?e.offset()===0:fu(e.getNode()),T5=e=>{if(xt.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return fu(e.getNode(!0))},O5=(e,t)=>!xt.isTextPosition(e)&&!xt.isTextPosition(t)&&e.getNode()===t.getNode(!0),to=e=>!xt.isTextPosition(e)&&gr(e.getNode()),a2=(e,t,o)=>e?!O5(t,o)&&!to(t)&&T5(t)&&A5(o):!O5(o,t)&&A5(t)&&T5(o),vu=(e,t,o)=>{const i=jn(t);return Q.from(e?i.next(o):i.prev(o))},Ob=(e,t,o)=>vu(e,t,o).bind(i=>tg(o,i,t)&&a2(e,o,i)?vu(e,t,i):Q.some(i)),D5=(e,t,o,i)=>Ob(e,t,o).bind(c=>i(c)?D5(e,t,c,i):Q.some(c)),P0=(e,t)=>{const o=e?t.firstChild:t.lastChild;return Ut(o)?Q.some(xt(o,e?0:o.data.length)):o?fu(o)?Q.some(e?xt.before(o):E5(o)):Co(e,t,o):Q.none()},Gl=tt(vu,!0),zc=tt(vu,!1),Jn=tt(P0,!0),Qu=tt(P0,!1),M0="_mce_caret",bu=e=>En(e)&&e.id===M0,Tp=(e,t)=>{let o=t;for(;o&&o!==e;){if(bu(o))return o;o=o.parentNode}return null},R5=e=>Re(e.start),I5=e=>io(e,"rng"),N5=e=>io(e,"id"),QE=e=>io(e,"name"),P5=e=>Xt.isArray(e.start),n_=e=>!QE(e)&&We(e.forward)?e.forward:!0,M5=(e,t)=>(En(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),XL=(e,t)=>{const o=Q.from(se(e.getRoot(),t.start)),i=Q.from(se(e.getRoot(),t.end));return sa(o,i,(c,m)=>{const h=e.createRng();return h.setStart(c.container(),c.offset()),h.setEnd(m.container(),m.offset()),{range:h,forward:n_(t)}})},JL=(e,t)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(_i);e.appendChild(c),t.setStart(c,0),t.setEnd(c,0)},eA=e=>!e.hasChildNodes(),tA=(e,t)=>Qu(e).fold(fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),B5=(e,t,o)=>eA(t)&&Tp(e,t)?(JL(t,o),!0):!1,L5=(e,t,o,i)=>{const c=o[t?"start":"end"],m=e.getRoot();if(c){let h=m,C=c[0];for(let A=c.length-1;h&&A>=1;A--){const F=h.childNodes;if(B5(m,h,i))return!0;if(c[A]>F.length-1)return B5(m,h,i)?!0:tA(h,i);h=F[c[A]]}Ut(h)&&(C=Math.min(c[0],h.data.length)),En(h)&&(C=Math.min(c[0],h.childNodes.length)),t?i.setStart(h,C):i.setEnd(h,C)}return!0},nA=e=>Ut(e)&&e.data.length>0,F5=(e,t,o)=>{const i=e.get(o.id+"_"+t),c=i==null?void 0:i.parentNode,m=o.keep;if(i&&c){let h,C;if(t==="start"?m?i.hasChildNodes()?(h=i.firstChild,C=1):nA(i.nextSibling)?(h=i.nextSibling,C=0):nA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)+1):(h=c,C=e.nodeIndex(i)):m?i.hasChildNodes()?(h=i.firstChild,C=1):nA(i.previousSibling)?(h=i.previousSibling,C=i.previousSibling.data.length):(h=c,C=e.nodeIndex(i)):(h=c,C=e.nodeIndex(i)),!m){const A=i.previousSibling,F=i.nextSibling;Xt.each(Xt.grep(i.childNodes),Y=>{Ut(Y)&&(Y.data=Y.data.replace(/\uFEFF/g,""))});let j;for(;j=e.get(o.id+"_"+t);)e.remove(j,!0);if(Ut(F)&&Ut(A)&&!Mo.browser.isOpera()){const Y=A.data.length;A.appendData(F.data),e.remove(F),h=A,C=Y}}return Q.some(xt(h,C))}else return Q.none()},V5=(e,t)=>{const o=e.createRng();return L5(e,!0,t,o)&&L5(e,!1,t,o)?Q.some({range:o,forward:n_(t)}):Q.none()},Db=(e,t)=>{const o=F5(e,"start",t),i=F5(e,"end",t);return sa(o,i.or(o),(c,m)=>{const h=e.createRng();return h.setStart(M5(e,c.container()),c.offset()),h.setEnd(M5(e,m.container()),m.offset()),{range:h,forward:n_(t)}})},z5=(e,t)=>Q.from(e.select(t.name)[t.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),H5=(e,t)=>{const o=e.dom;if(t){if(P5(t))return V5(o,t);if(R5(t))return XL(o,t);if(N5(t))return Db(o,t);if(QE(t))return z5(o,t);if(I5(t))return Q.some({range:t.rng,forward:n_(t)})}return Q.none()},QL=(e,t,o)=>lt(e,t,o),eF=(e,t)=>{H5(e,t).each(({range:o,forward:i})=>{e.setRng(o,i)})},yu=e=>En(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",il=(e=>t=>e===t)(Di),Rb=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,hh=e=>!Rb(e)&&!il(e)&&!Ku(e),hr=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},ed=e=>wo(e,t=>{const o=wp(t);return o?[Be.fromDom(o)]:[]}),l2=e=>hr(e).length>1,o_=e=>vt(ed(e),Bc),B0=e=>pi(e,"td[data-mce-selected],th[data-mce-selected]"),$5=(e,t)=>{const o=B0(t);return o.length>0?o:o_(e)},Kf=e=>$5(hr(e.selection.getSel()),Be.fromDom(e.getBody())),Ms=(e,t)=>ou(e,"table",t),c2=e=>{const t=e.startContainer,o=e.startOffset;return Ut(t)?o===0?Q.some(Be.fromDom(t)):Q.none():Q.from(t.childNodes[o]).map(Be.fromDom)},U5=e=>{const t=e.endContainer,o=e.endOffset;return Ut(t)?o===t.data.length?Q.some(Be.fromDom(t)):Q.none():Q.from(t.childNodes[o-1]).map(Be.fromDom)},oA=e=>Bl(e).fold(et([e]),t=>[e].concat(oA(t))),u2=e=>Uu(e).fold(et([e]),t=>Go(t)==="br"?wi(t).map(o=>[e].concat(u2(o))).getOr([]):[e].concat(u2(t))),d2=(e,t)=>sa(c2(t),U5(t),(o,i)=>{const c=cn(oA(e),tt(qo,o)),m=cn(u2(e),tt(qo,i));return c.isSome()&&m.isSome()}).getOr(!1),f2=(e,t,o,i)=>{const c=o,m=new ca(o,c),h=wc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,F)=>!re(["td","th","table"],F.toLowerCase()));let C=o;do{if(Ut(C)&&Xt.trim(C.data).length!==0){i?t.setStart(C,0):t.setEnd(C,C.data.length);return}if(h[C.nodeName]){i?t.setStartBefore(C):C.nodeName==="BR"?t.setEndBefore(C):t.setEndAfter(C);return}}while(C=i?m.next():m.prev());c.nodeName==="BODY"&&(i?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},L0=e=>{const t=e.selection.getSel();return Se(t)&&t.rangeCount>0},F0=(e,t)=>{const o=Kf(e);o.length>0?he(o,i=>{const c=i.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),t(m,!0)}):t(e.selection.getRng(),!1)},s_=(e,t,o)=>{const i=Qt(e,t);o(i),e.moveToBookmark(i)},V0=e=>D(e==null?void 0:e.nodeType),r_=e=>En(e)&&!yu(e)&&!bu(e)&&!kf(e),W5=(e,t)=>{if(r_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},sA=(e,t,o)=>{const{selection:i,dom:c}=e,m=i.getNode(),h=fo(m);s_(i,!0,()=>{t()}),h&&fo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(i.getStart())&&Z5(c,i)},Z5=(e,t)=>{var o,i;const c=t.getRng(),{startContainer:m,startOffset:h}=c,C=t.getNode();if(!W5(e,C)&&En(m)){const A=m.childNodes,F=e.getRoot();let j;if(h<A.length){const Y=A[h];j=new ca(Y,(o=e.getParent(Y,e.isBlock))!==null&&o!==void 0?o:F)}else{const Y=A[A.length-1];j=new ca(Y,(i=e.getParent(Y,e.isBlock))!==null&&i!==void 0?i:F),j.next(!0)}for(let Y=j.current();Y;Y=j.next()){if(e.getContentEditable(Y)==="false")return;if(Ut(Y)&&!rA(Y)){c.setStart(Y,0),t.setRng(c);return}}}},Ib=(e,t,o)=>{if(e){const i=t?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(En(e)||!rA(e))return e}},i_=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Of(e,t),Op=(e,t,o)=>e.schema.isValidChild(t,o),rA=(e,t=!1)=>{if(Se(e)&&Ut(e)){const o=t?e.data.replace(/ /g,""):e.data;return oc(o)}else return!1},nF=e=>Se(e)&&Ut(e)&&e.length===0,j5=(e,t)=>{const o="[data-mce-cef-wrappable]",i=so(e),c=Wt(i)?o:`${o},${i}`;return Ns(Be.fromDom(t),c)},iA=(e,t)=>{const o=e.dom;return r_(t)&&o.getContentEditable(t)==="false"&&j5(e,t)&&o.select('[contenteditable="true"]',t).length===0},ph=(e,t)=>Me(e)?e(t):(Se(t)&&(e=e.replace(/%(\w+)/g,(o,i)=>t[i]||o)),e),z0=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),a_=(e,t)=>{if(st(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=qv(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},m2=(e,t,o)=>{const i=e.getStyle(t,o);return a_(i,o)},aA=(e,t)=>{let o;return e.getParent(t,i=>En(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},g2=(e,t,o)=>e.getParents(t,o,e.getRoot()),l_=(e,t,o)=>{const i=e.formatter.get(t);return Se(i)&&be(i,o)},K5=(e,t)=>l_(e,t,i=>{const c=m=>Me(m)||m.length>1&&m.charAt(0)==="%";return be(["styles","attributes"],m=>Ts(i,m).exists(h=>{const C=ie(h)?h:Nu(h);return be(C,c)}))}),G5=(e,t,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=m=>wc(m,(h,C)=>be(i,A=>A===C));return l_(e,t,m=>{const h=c(m);return l_(e,o,C=>{const A=c(C);return Ti(h,A)})})},Gf=e=>Wl(e,"block"),q5=e=>Gf(e)&&e.wrapper===!0,Y5=e=>Gf(e)&&e.wrapper!==!0,Hc=e=>Wl(e,"selector"),ha=e=>Wl(e,"inline"),X5=e=>Hc(e)&&ha(e)&&ff(Ts(e,"mixed"),!0),c_=e=>Hc(e)&&e.expand!==!1&&!ha(e),J5=e=>{const t=[];let o=e;for(;o;){if(Ut(o)&&o.data!==_i||o.childNodes.length>1)return[];En(o)&&t.push(o),o=o.firstChild}return t},lA=e=>J5(e).length>0,u_=e=>bu(e.dom)&&lA(e.dom),Dp=yu,h2=g2,d_=rA,f_=i_,Q5=e=>gr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,p2=(e,t)=>{let o=t;for(;o;){if(En(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},m_=(e,t,o,i)=>{const c=t.data;if(e){for(let m=o;m>0;m--)if(i(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(i(c.charAt(m)))return m;return-1},v2=(e,t,o)=>m_(e,t,o,i=>il(i)||Rb(i)),cA=(e,t,o)=>m_(e,t,o,hh),uA=(e,t,o,i,c,m)=>{let h;const C=e.getParent(o,e.isBlock)||t,A=(j,Y,ee)=>{const ge=Vd(e),_e=c?ge.backwards:ge.forwards;return Q.from(_e(j,Y,(pe,Ae)=>Dp(pe.parentNode)?-1:(h=pe,ee(c,pe,Ae)),C))};return A(o,i,v2).bind(j=>m?A(j.container,j.offset+(c?-1:0),cA):Q.some(j)).orThunk(()=>h?Q.some({container:h,offset:c?0:h.length}):Q.none())},Nb=(e,t,o,i,c)=>{const m=i[c];Ut(i)&&Wt(i.data)&&m&&(i=m);const h=h2(e,i);for(let C=0;C<h.length;C++)for(let A=0;A<t.length;A++){const F=t[A];if(!(Se(F.collapsed)&&F.collapsed!==o.collapsed)&&Hc(F)&&e.is(h[C],F.selector))return h[C]}return i},g_=(e,t,o,i)=>{var c;let m=o;const h=e.getRoot(),C=t[0];if(Gf(C)&&(m=C.wrapper?null:e.getParent(o,C.block,h)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:h;m=e.getParent(Ut(o)?o.parentNode:o,F=>F!==h&&f_(e.schema,F),A)}if(m&&Gf(C)&&C.wrapper&&(m=h2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[i]&&!e.isBlock(m[i])&&(m=m[i],!z0(m,"br")););return m||o},h_=(e,t,o,i)=>{const c=o.parentNode;return Se(o[i])?!1:c===t||st(c)||e.isBlock(c)?!0:h_(e,t,c,i)},vh=(e,t,o,i,c)=>{let m=o;const h=c?"previousSibling":"nextSibling",C=e.getRoot();if(Ut(o)&&!d_(o)&&(c?i>0:i<o.data.length))return o;for(;m;){if(!t[0].block_expand&&e.isBlock(m))return m;for(let A=m[h];A;A=A[h]){const F=Ut(A)&&!h_(e,C,A,h);if(!Dp(A)&&!Q5(A)&&!d_(A,F))return m}if(m===C||m.parentNode===C){o=m;break}m=m.parentNode}return o},bh=e=>Dp(e.parentNode)||Dp(e),Rp=(e,t,o,i=!1)=>{let{startContainer:c,startOffset:m,endContainer:h,endOffset:C}=t;const A=o[0];return En(c)&&c.hasChildNodes()&&(c=Si(c,m),Ut(c)&&(m=0)),En(h)&&h.hasChildNodes()&&(h=Si(h,t.collapsed?C:C-1),Ut(h)&&(C=h.data.length)),c=p2(e,c),h=p2(e,h),bh(c)&&(c=Dp(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Ut(c)&&(m=t.collapsed?c.length:0)),bh(h)&&(h=Dp(h)?h:h.parentNode,t.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,Ut(h)&&(C=t.collapsed?0:h.length)),t.collapsed&&(uA(e,e.getRoot(),c,m,!0,i).each(({container:Y,offset:ee})=>{c=Y,m=ee}),uA(e,e.getRoot(),h,C,!1,i).each(({container:Y,offset:ee})=>{h=Y,C=ee})),(ha(A)||A.block_expand)&&((!ha(A)||!Ut(c)||m===0)&&(c=vh(e,o,c,m,!0)),(!ha(A)||!Ut(h)||C===h.data.length)&&(h=vh(e,o,h,C,!1))),c_(A)&&(c=Nb(e,o,t,c,"previousSibling"),h=Nb(e,o,t,h,"nextSibling")),(Gf(A)||Hc(A))&&(c=g_(e,o,c,"previousSibling"),h=g_(e,o,h,"nextSibling"),Gf(A)&&(e.isBlock(c)||(c=vh(e,o,c,m,!0),Ut(c)&&(m=0)),e.isBlock(h)||(h=vh(e,o,h,C,!1),Ut(h)&&(C=h.data.length)))),En(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),En(h)&&h.parentNode&&(C=e.nodeIndex(h)+1,h=h.parentNode),{startContainer:c,startOffset:m,endContainer:h,endOffset:C}},b2=(e,t,o)=>{var i;const c=t.startOffset,m=Si(t.startContainer,c),h=t.endOffset,C=Si(t.endContainer,h-1),A=Ae=>{const He=Ae[0];Ut(He)&&He===m&&c>=He.data.length&&Ae.splice(0,1);const Qe=Ae[Ae.length-1];return h===0&&Ae.length>0&&Qe===C&&Ut(Qe)&&Ae.splice(Ae.length-1,1),Ae},F=(Ae,He,Qe)=>{const Xe=[];for(;Ae&&Ae!==Qe;Ae=Ae[He])Xe.push(Ae);return Xe},j=(Ae,He)=>e.getParent(Ae,Qe=>Qe.parentNode===He,He),Y=(Ae,He,Qe)=>{const Xe=Qe?"nextSibling":"previousSibling";for(let dt=Ae,Bt=dt.parentNode;dt&&dt!==He;dt=Bt){Bt=dt.parentNode;const Yt=F(dt===Ae?dt:dt[Xe],Xe);Yt.length&&(Qe||Yt.reverse(),o(A(Yt)))}};if(m===C)return o(A([m]));const ee=(i=e.findCommonAncestor(m,C))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(m,C))return Y(m,ee,!0);if(e.isChildOf(C,m))return Y(C,ee);const ge=j(m,ee)||m,_e=j(C,ee)||C;Y(m,ge,!0);const pe=F(ge===m?ge:ge.nextSibling,"nextSibling",_e===C?_e.nextSibling:_e);pe.length&&o(A(pe)),Y(C,_e)},oF=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],eR=e=>lr(e)&&jm(e)===_i,tR=(e,t,o,i)=>aa(t).fold(()=>"skipping",c=>i==="br"||eR(t)?"valid":Tx(t)?"existing":bu(t.dom)?"caret":be(oF,m=>Ns(t,m))?"valid-block":!Op(e,o,i)||!Op(e,Go(c),o)?"invalid-child":"valid"),Ip=(e,t)=>{const o=Rp(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},Np=(e,t,o,i,c,m)=>{const{uid:h=t,...C}=o;Od(e,Pr()),xi(e,`${ni()}`,h),xi(e,`${Mr()}`,i);const{attributes:A={},classes:F=[]}=c(h,C);if(Pa(e,A),tb(e,F),m){F.length>0&&xi(e,`${Er()}`,F.join(","));const j=Kt(A);j.length>0&&xi(e,`${qr()}`,j.join(","))}},Ua=e=>{Ma(e,Pr()),Do(e,`${ni()}`),Do(e,`${Mr()}`),Do(e,`${Ps()}`);const t=Jc(e,`${qr()}`).map(i=>i.split(",")).getOr([]),o=Jc(e,`${Er()}`).map(i=>i.split(",")).getOr([]);he(t,i=>Do(e,i)),ah(e,o),Do(e,`${Er()}`),Do(e,`${qr()}`)},og=(e,t,o,i,c)=>{const m=Be.fromTag("span",e);return Np(m,t,o,i,c,!1),m},Cs=(e,t,o,i,c,m)=>{const h=[],C=og(e.getDoc(),o,m,i,c),A=Ii(),F=()=>{A.clear()},j=()=>A.get().getOrThunk(()=>{const _e=Yr(C);return h.push(_e),A.set(_e),_e}),Y=_e=>{he(_e,ee)},ee=_e=>{switch(tR(e,_e,"span",Go(_e))){case"invalid-child":{F();const Ae=la(_e);Y(Ae),F();break}case"valid-block":{F(),Np(_e,o,m,i,c,!0);break}case"valid":{const Ae=j();Zl(_e,Ae);break}}},ge=_e=>{const pe=Pe(_e,Be.fromDom);Y(pe)};return b2(e.dom,t,_e=>{F(),ge(_e)}),h},sF=(e,t,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),h=Kf(e).length>0,C=za("mce-annotation");if(m.collapsed&&!h&&Ip(e,m),c.getRng().collapsed&&!h){const A=og(e.getDoc(),C,i,t,o.decorate);Rm(A,Di),c.getRng().insertNode(A.dom),c.select(A.dom)}else s_(c,!1,()=>{F0(e,A=>{Cs(e,A,C,t,o.decorate,i)})})})},nR=e=>{const t=Dx();f0(e,t);const o=d0(e,t),i=vf("span"),c=m=>{he(m,h=>{i(h)?Va(h):Ua(h)})};return{register:(m,h)=>{t.register(m,h)},annotate:(m,h)=>{t.lookup(m).each(C=>{sF(e,m,C,h)})},annotationChanged:(m,h)=>{o.addListener(m,h)},remove:m=>{u0(e,Q.some(m)).each(({elements:h})=>{const C=e.selection.getBookmark();c(h),e.selection.moveToBookmark(C)})},removeAll:m=>{const h=e.selection.getBookmark();ss(ih(e,m),(C,A)=>{c(C)}),e.selection.moveToBookmark(h)},getAll:m=>{const h=ih(e,m);return Ul(h,C=>Pe(C,A=>A.dom))}}},Us=e=>({getBookmark:tt(QL,e),moveToBookmark:tt(eF,e)});Us.isBookmarkNode=yu;const dA=(e,t,o)=>o.collapsed?!1:be(o.getClientRects(),i=>b0(i,e,t)),y2=(e,t)=>e.dispatch("PreProcess",t),x2=(e,t)=>e.dispatch("PostProcess",t),w2=e=>{e.dispatch("remove")},C2=e=>{e.dispatch("detach")},oR=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},rF=(e,t,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:i,origin:c})},iF=(e,t,o,i,c)=>{e.dispatch("ObjectResized",{target:t,width:o,height:i,origin:c})},aF=e=>{e.dispatch("PreInit")},lF=e=>{e.dispatch("PostRender")},si=e=>{e.dispatch("Init")},sR=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},fA=(e,t,o)=>{e.dispatch(t,o)},rR=(e,t,o,i)=>{e.dispatch("FormatApply",{format:t,node:o,vars:i})},iR=(e,t,o,i)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:i})},cF=(e,t)=>e.dispatch("BeforeSetContent",t),lc=(e,t)=>e.dispatch("SetContent",t),qf=(e,t)=>e.dispatch("BeforeGetContent",t),aR=(e,t)=>e.dispatch("GetContent",t),mA=(e,t)=>{e.dispatch("AutocompleterStart",t)},gA=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},hA=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},uF=e=>{e.dispatch("AutocompleterEnd")},_2=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),p_=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),v_=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),dF=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),dn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dn.metaKeyPressed(e),metaKeyPressed:e=>Mo.os.isMacOS()||Mo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Pb="data-mce-selected",fF="table,img,figure.image,hr,video,span.mce-preview-object,details",xu=Math.abs,Pp=Math.round,b_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},jd=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Fs=(e,t)=>{const o=t.dom,i=t.getDoc(),c=document,m=t.getBody();let h,C,A,F,j,Y,ee,ge,_e,pe,Ae,He,Qe,Xe,dt,Bt,Yt;const pn=gn=>Se(gn)&&(Oc(gn)||o.is(gn,"figure.image")),kt=gn=>St(gn)||o.hasClass(gn,"mce-preview-object"),bt=(gn,No)=>{if(jd(gn)){const $o=gn.touches[0];return pn(gn.target)&&!dA($o.clientX,$o.clientY,No)}else return pn(gn.target)&&!dA(gn.clientX,gn.clientY,No)},It=gn=>{const No=gn.target;bt(gn,t.selection.getRng())&&!gn.isDefaultPrevented()&&t.selection.select(No)},Cn=gn=>o.hasClass(gn,"mce-preview-object")&&Se(gn.firstElementChild)?[gn,gn.firstElementChild]:o.is(gn,"figure.image")?[gn.querySelector("img")]:[gn],Vn=gn=>{const No=WD(t);return!No||gn.getAttribute("data-mce-resize")==="false"||gn===t.getBody()?!1:o.hasClass(gn,"mce-preview-object")&&Se(gn.firstElementChild)?Ns(Be.fromDom(gn.firstElementChild),No):Ns(Be.fromDom(gn),No)},Io=(gn,No)=>{if(kt(No))return gn.create("img",{src:Mo.transparentSrc});if(au(No)){const Ra=ar(F.name,"n")?hn:Eo,Vs=No.cloneNode(!0);return Ra(gn.select("tr",Vs)).each(ba=>{const nm=gn.select("td,th",ba);gn.setStyle(ba,"height",null),he(nm,Lh=>gn.setStyle(Lh,"height",null))}),Vs}else return No.cloneNode(!0)},Vo=(gn,No,$o)=>{if(Se($o)){const Ra=Cn(gn);he(Ra,Vs=>{Vs.style[No]||!t.schema.isValid(Vs.nodeName.toLowerCase(),No)?o.setStyle(Vs,No,$o):o.setAttrib(Vs,No,""+$o)})}},Ds=(gn,No,$o)=>{Vo(gn,"width",No),Vo(gn,"height",$o)},Hs=gn=>{let No,$o,Ra,Vs,ba;No=gn.screenX-Y,$o=gn.screenY-ee,Xe=No*F[2]+pe,dt=$o*F[3]+Ae,Xe=Xe<5?5:Xe,dt=dt<5?5:dt,(pn(h)||kt(h))&&ZD(t)!==!1?Ra=!dn.modifierPressed(gn):Ra=dn.modifierPressed(gn),Ra&&(xu(No)>xu($o)?(dt=Pp(Xe*He),Xe=Pp(dt/He)):(Xe=Pp(dt/He),dt=Pp(Xe*He))),Ds(C,Xe,dt),Vs=F.startPos.x+No,ba=F.startPos.y+$o,Vs=Vs>0?Vs:0,ba=ba>0?ba:0,o.setStyles(A,{left:Vs,top:ba,display:"block"}),A.innerHTML=Xe+" &times; "+dt,F[2]<0&&C.clientWidth<=Xe&&o.setStyle(C,"left",ge+(pe-Xe)),F[3]<0&&C.clientHeight<=dt&&o.setStyle(C,"top",_e+(Ae-dt)),No=m.scrollWidth-Bt,$o=m.scrollHeight-Yt,No+$o!==0&&o.setStyles(A,{left:Vs-No,top:ba-$o}),Qe||(rF(t,h,pe,Ae,"corner-"+F.name),Qe=!0)},ui=()=>{const gn=Qe;Qe=!1,gn&&(Vo(h,"width",Xe),Vo(h,"height",dt)),o.unbind(i,"mousemove",Hs),o.unbind(i,"mouseup",ui),c!==i&&(o.unbind(c,"mousemove",Hs),o.unbind(c,"mouseup",ui)),o.remove(C),o.remove(A),o.remove(j),kl(h),gn&&(iF(t,h,Xe,dt,"corner-"+F.name),o.setAttrib(h,"style",o.getAttrib(h,"style"))),t.nodeChanged()},kl=gn=>{ln();const No=o.getPos(gn,m),$o=No.x,Ra=No.y,Vs=gn.getBoundingClientRect(),ba=Vs.width||Vs.right-Vs.left,nm=Vs.height||Vs.bottom-Vs.top;h!==gn&&(on(),h=gn,Xe=dt=0);const Lh=t.dispatch("ObjectSelected",{target:gn});Vn(gn)&&!Lh.isDefaultPrevented()?ss(b_,(gc,md)=>{const om=sm=>{const $n=Cn(h)[0];Y=sm.screenX,ee=sm.screenY,pe=$n.clientWidth,Ae=$n.clientHeight,He=Ae/pe,F=gc,F.name=md,F.startPos={x:ba*gc[0]+$o,y:nm*gc[1]+Ra},Bt=m.scrollWidth,Yt=m.scrollHeight,j=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(j,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),C=Io(o,h),o.addClass(C,"mce-clonedresizable"),o.setAttrib(C,"data-mce-bogus","all"),C.contentEditable="false",o.setStyles(C,{left:$o,top:Ra,margin:0}),Ds(C,ba,nm),C.removeAttribute(Pb),m.appendChild(C),o.bind(i,"mousemove",Hs),o.bind(i,"mouseup",ui),c!==i&&(o.bind(c,"mousemove",Hs),o.bind(c,"mouseup",ui)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},pe+" &times; "+Ae)};let gd=o.get("mceResizeHandle"+md);gd&&o.remove(gd),gd=o.add(m,"div",{id:"mceResizeHandle"+md,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+md+"-resize; margin:0; padding:0"}),o.bind(gd,"mousedown",sm=>{sm.stopImmediatePropagation(),sm.preventDefault(),om(sm)}),gc.elm=gd,o.setStyles(gd,{left:ba*gc[0]+$o-gd.offsetWidth/2,top:nm*gc[1]+Ra-gd.offsetHeight/2})}):on(!1)},Gs=rh(kl,0),on=(gn=!0)=>{Gs.cancel(),ln(),h&&gn&&h.removeAttribute(Pb),ss(b_,(No,$o)=>{const Ra=o.get("mceResizeHandle"+$o);Ra&&(o.unbind(Ra),o.remove(Ra))})},Pn=(gn,No)=>o.isChildOf(gn,No),ys=gn=>{if(Qe||t.removed||t.composing)return;const No=gn.type==="mousedown"?gn.target:e.getNode(),$o=Wi(Be.fromDom(No),fF).map(Vs=>Vs.dom).filter(Vs=>o.isEditable(Vs.parentElement)||Vs.nodeName==="IMG"&&o.isEditable(Vs)).getOrUndefined(),Ra=Se($o)?o.getAttrib($o,Pb,"1"):"1";if(he(o.select(`img[${Pb}],hr[${Pb}]`),Vs=>{Vs.removeAttribute(Pb)}),Se($o)&&Pn($o,m)&&t.hasFocus()){Kn();const Vs=e.getStart(!0);if(Pn(Vs,$o)&&Pn(e.getEnd(!0),$o)){o.setAttrib($o,Pb,Ra),Gs.throttle($o);return}}on()},ln=()=>{ss(b_,gn=>{gn.elm&&(o.unbind(gn.elm),delete gn.elm)})},Kn=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Kn(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ys),t.on("keyup compositionend",gn=>{h&&h.nodeName==="TABLE"&&ys(gn)}),t.on("hide blur",on),t.on("contextmenu longpress",It,!0)}),t.on("remove",ln),{isResizable:Vn,showResizeRect:kl,hideResizeRect:on,updateResizeRect:ys,destroy:()=>{Gs.cancel(),h=C=j=null}}},H0=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},y_=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},pA=(e,t,o)=>{const i=e.document.createRange();return H0(i,t),y_(i,o),i},S2=(e,t,o,i,c)=>{const m=e.document.createRange();return m.setStart(t.dom,o),m.setEnd(i.dom,c),m},Mb=Ko.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),lR=(e,t,o)=>t(Be.fromDom(o.startContainer),o.startOffset,Be.fromDom(o.endContainer),o.endOffset),vA=(e,t)=>t.match({domRange:o=>({ltr:et(o),rtl:Q.none}),relative:(o,i)=>({ltr:Rl(()=>pA(e,o,i)),rtl:Rl(()=>Q.some(pA(e,i,o)))}),exact:(o,i,c,m)=>({ltr:Rl(()=>S2(e,o,i,c,m)),rtl:Rl(()=>Q.some(S2(e,c,m,o,i)))})}),mF=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(c=>c.collapsed===!1).map(c=>Mb.rtl(Be.fromDom(c.endContainer),c.endOffset,Be.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>lR(e,Mb.ltr,o)):lR(e,Mb.ltr,o)},cR=(e,t)=>{const o=vA(e,t);return mF(e,o)};Mb.ltr,Mb.rtl;const x_={create:(e,t,o,i)=>({start:e,soffset:t,finish:o,foffset:i})},uR=(e,t,o)=>{var i;return Q.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,t,o)).bind(c=>{if(c.offsetNode===null)return Q.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),Q.some(m)})},w_=(e,t,o)=>{var i;return Q.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,t,o))},hF=(e,t,o)=>e.caretPositionFromPoint?uR(e,t,o):e.caretRangeFromPoint?w_(e,t,o):Q.none(),pF=(e,t,o)=>{const i=e.document;return hF(i,t,o).map(c=>x_.create(Be.fromDom(c.startContainer),c.startOffset,Be.fromDom(c.endContainer),c.endOffset))},bA=Ko.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),vF=(e,t,o,i)=>e.fold(t,o,i),bF=e=>e.fold(pt,pt,pt),dR=bA.before,yF=bA.on,xF=bA.after,sg={before:dR,on:yF,after:xF,cata:vF,getStart:bF},k2=Ko.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wF=e=>k2.exact(e.start,e.soffset,e.finish,e.foffset),CF=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,o)=>sg.getStart(t),exact:(t,o,i,c)=>t}),fR=k2.domRange,td=k2.relative,_F=k2.exact,mR=e=>{const t=CF(e);return zu(t)},yA=x_.create,Mp={domRange:fR,relative:td,exact:_F,exactFromRange:wF,getWin:mR,range:yA},E2=(e,t)=>{const o=Go(e);return o==="input"?sg.after(e):re(["br","img"],o)?t===0?sg.before(e):sg.after(e):sg.on(e,t)},gR=(e,t)=>{const o=e.fold(sg.before,E2,sg.after),i=t.fold(sg.before,E2,sg.after);return Mp.relative(o,i)},C_=(e,t,o,i)=>{const c=E2(e,t),m=E2(o,i);return Mp.relative(c,m)},hR=e=>e.match({domRange:t=>{const o=Be.fromDom(t.startContainer),i=Be.fromDom(t.endContainer);return C_(o,t.startOffset,i,t.endOffset)},relative:gR,exact:C_}),$c=(e,t)=>{const i=document.createDocumentFragment();return he(e,c=>{i.appendChild(c.dom)}),Be.fromDom(i)},SF=e=>{const t=Mp.getWin(e).dom,o=(c,m,h,C)=>S2(t,c,m,h,C),i=hR(e);return cR(t,i).match({ltr:o,rtl:o})},xA=(e,t,o)=>pF(e,t,o),pR=(e,t,o)=>{const i=zu(Be.fromDom(o));return xA(i.dom,e,t).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},A2=(e,t)=>Se(e)&&Se(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Yf=(e,t,o)=>{let i=e;for(;i&&i!==t;){if(o(i))return i;i=i.parentNode}return null},__=(e,t,o)=>Yf(e,t,o)!==null,S_=(e,t,o)=>__(e,t,i=>i.nodeName===o),vR=(e,t)=>Kl(e)&&!__(e,t,bu),bR=(e,t,o)=>{const i=t.parentNode;if(i){const c=new ca(t,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(gr(m))return!0}return!1},yR=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},xR=(e,t)=>{let o=t;for(;o&&o!==e;){if(fo(o))return!0;o=o.parentNode}return!1},T2=(e,t,o,i,c)=>{const m=e.getRoot(),h=e.schema.getNonEmptyElements(),C=c.parentNode;let A,F;if(!C)return Q.none();const j=e.getParent(C,e.isBlock)||m;if(i&&gr(c)&&t&&e.isEmpty(j))return Q.some(xt(C,e.nodeIndex(c)));const Y=new ca(c,j);for(;F=Y[i?"prev":"next"]();){if(e.getContentEditableParent(F)==="false"||vR(F,m))return Q.none();if(Ut(F)&&F.data.length>0)return S_(F,m,"A")?Q.none():Q.some(xt(F,i?F.data.length:0));if(e.isBlock(F)||h[F.nodeName.toLowerCase()])return Q.none();A=F}return ko(A)?Q.none():o&&A?Q.some(xt(A,0)):Q.none()},wA=(e,t,o,i)=>{const c=e.getRoot();let m,h=!1,C=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const F=En(C)&&A===C.childNodes.length,j=e.schema.getNonEmptyElements();let Y=o;if(Kl(C))return Q.none();if(En(C)&&A>C.childNodes.length-1&&(Y=!1),Rn(C)&&(C=c,A=0),C===c){if(Y&&(m=C.childNodes[A>0?A-1:0],m&&(Kl(m)||j[m.nodeName]||au(m))))return Q.none();if(C.hasChildNodes()){if(A=Math.min(!Y&&A>0?A-1:A,C.childNodes.length-1),C=C.childNodes[A],A=Ut(C)&&F?C.data.length:0,!t&&C===c.lastChild&&au(C)||xR(c,C)||Kl(C)||cp(C))return Q.none();if(C.hasChildNodes()&&!au(C)){m=C;const ee=new ca(C,c);do{if(fo(m)||Kl(m)){h=!1;break}if(Ut(m)&&m.data.length>0){A=Y?0:m.data.length,C=m,h=!0;break}if(j[m.nodeName.toLowerCase()]&&!bC(m)){A=e.nodeIndex(m),C=m.parentNode,Y||A++,h=!0;break}}while(m=Y?ee.next():ee.prev())}}}return t&&(Ut(C)&&A===0&&T2(e,F,t,!0,C).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}),En(C)&&(m=C.childNodes[A],m||(m=C.childNodes[A-1]),m&&gr(m)&&!yR(m,"A")&&!bR(e,m,!1)&&!bR(e,m,!0)&&T2(e,F,t,!0,m).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}))),Y&&!t&&Ut(C)&&A===C.data.length&&T2(e,F,t,!1,C).each(ee=>{C=ee.container(),A=ee.offset(),h=!0}),h&&C?Q.some(xt(C,A)):Q.none()},rg=(e,t)=>{const o=t.collapsed,i=t.cloneRange(),c=xt.fromRangeStart(t);return wA(e,o,!0,i).each(m=>{(!o||!xt.isAbove(c,m))&&i.setStart(m.container(),m.offset())}),o||wA(e,o,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),o&&i.collapse(!0),A2(t,i)?Q.none():Q.some(i)},O2=(e,t)=>e.splitText(t),D2=e=>{let t=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(t===i&&Ut(t)){if(o>0&&o<t.data.length)if(i=O2(t,o),t=i.previousSibling,c>o){c=c-o;const m=O2(i,c).previousSibling;t=i=m,c=m.data.length,o=0}else c=0}else if(Ut(t)&&o>0&&o<t.data.length&&(t=O2(t,o),o=0),Ut(i)&&c>0&&c<i.data.length){const m=O2(i,c).previousSibling;i=m,c=m.data.length}return{startContainer:t,startOffset:o,endContainer:i,endOffset:c}},Bp=e=>({walk:(m,h)=>b2(e,m,h),split:D2,expand:(m,h={type:"word"})=>{if(h.type==="word"){const C=Rp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset),A}return m},normalize:m=>rg(e,m).fold(fn,h=>(m.setStart(h.startContainer,h.startOffset),m.setEnd(h.endContainer,h.endOffset),!0))});Bp.compareRanges=A2,Bp.getCaretRangeFromPoint=pR,Bp.getSelectedNode=wp,Bp.getNode=Si;const CA=((e,t)=>{const o=(C,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const F=C.dom;La(F)&&(F.style[e]=A+"px")},i=C=>{const A=t(C);if(A<=0||A===null){const F=Wr(C,e);return parseFloat(F)||0}return A},c=i,m=(C,A)=>Vt(A,(F,j)=>{const Y=Wr(C,j),ee=Y===void 0?0:parseInt(Y,10);return isNaN(ee)?F:F+ee},0);return{set:o,get:i,getOuter:c,aggregate:m,max:(C,A,F)=>{const j=m(C,F);return A>j?A-j:0}}})("height",e=>{const t=e.dom;return Ba(e)?t.getBoundingClientRect().height:t.offsetHeight}),Bb=e=>CA.get(e),wR=()=>Be.fromDom(document),CR=(e,t)=>e.view(t).fold(et([]),i=>{const c=e.owner(i),m=CR(e,c);return[i].concat(m)}),k_=(e,t)=>{const o=t.owner(e);return CR(t,o)};var AF=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?Q.none():Q.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>tc(e)});const _R=e=>{const t=wR(),o=ao(t),i=k_(e,AF),c=po(e),m=Ft(i,(h,C)=>{const A=po(C);return{left:h.left+A.left,top:h.top+A.top}},{left:0,top:0});return Oe(m.left+c.left+o.left,m.top+c.top+o.top)},yh=e=>Go(e)==="textarea",SR=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),kR=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},ER=(e,t)=>{const o=la(e);if(o.length===0||yh(e))return{element:e,offset:t};if(t<o.length&&!yh(o[t]))return{element:o[t],offset:0};{const i=o[o.length-1];return yh(i)?{element:e,offset:t}:Go(i)==="img"?{element:i,offset:1}:lr(i)?{element:i,offset:jm(i).length}:{element:i,offset:la(i).length}}},R2=(e,t)=>{const o=Wn(e),i=Bb(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:t}},AR=(e,t)=>{const o=ER(e,t),i=Be.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+_i+"</span>");return Rr(o.element,i),R2(i,()=>Os(i))},TR=e=>R2(Be.fromDom(e),ct),OR=(e,t,o,i)=>{RR(e,(c,m)=>DR(e,t,o,i),o)},I2=(e,t,o,i,c)=>{const m={elm:i.element.dom,alignToTop:c};if(SR(e,m))return;const h=ao(t).top;o(e,t,h,i,c),kR(e,m)},DR=(e,t,o,i)=>{const c=Be.fromDom(e.getBody()),m=Be.fromDom(e.getDoc());H1(c);const h=AR(Be.fromDom(o.startContainer),o.startOffset);I2(e,m,t,h,i),h.cleanup()},E_=(e,t,o,i)=>{const c=Be.fromDom(e.getDoc());I2(e,c,o,TR(t),i)},RR=(e,t,o)=>{const i=o.startContainer,c=o.startOffset,m=o.endContainer,h=o.endOffset;t(Be.fromDom(i),Be.fromDom(m));const C=e.dom.createRng();C.setStart(i,c),C.setEnd(m,h),e.selection.setRng(o)},N2=(e,t,o,i,c)=>{const m=t.pos;if(i)Tn(m.left,m.top,c);else{const h=m.top-o+t.height;Tn(-e.getBody().getBoundingClientRect().left,h,c)}},_A=(e,t,o,i,c,m)=>{const h=i+o,C=c.pos.top,A=c.bottom,F=A-C>=i;C<o?N2(e,c,i,m!==!1,t):C>h?N2(e,c,i,F?m!==!1:m===!0,t):A>h&&!F&&N2(e,c,i,m===!0,t)},P2=(e,t,o,i,c)=>{const m=zu(t).dom.innerHeight;_A(e,t,o,m,i,c)},ig=(e,t,o,i,c)=>{const m=zu(t).dom.innerHeight;_A(e,t,o,m,i,c);const h=_R(i.element),C=Ac(window);h.top<C.y?bs(i.element,c!==!1):h.top>C.bottom&&bs(i.element,c===!0)},TF=(e,t,o)=>OR(e,P2,t,o),SA=(e,t,o)=>E_(e,t,P2,o),bi=(e,t,o)=>OR(e,ig,t,o),kA=(e,t,o)=>E_(e,t,ig,o),EA=(e,t,o)=>{(e.inline?SA:kA)(e,t,o)},nd=(e,t,o)=>{(e.inline?TF:bi)(e,t,o)},AA=(e,t=!1)=>e.dom.focus({preventScroll:t}),TA=e=>{const t=nu(e).dom;return e.dom===t.activeElement},Lb=(e=wR())=>Q.from(e.dom.activeElement).map(Be.fromDom),OF=e=>Lb(nu(e)).filter(t=>e.dom.contains(t.dom)),IR=(e,t)=>{const o=lr(t)?jm(t).length:la(t).length+1;return e>o?o:e<0?0:e},$0=e=>Mp.range(e.start,IR(e.soffset,e.start),e.finish,IR(e.foffset,e.finish)),NR=(e,t)=>!_f(t.dom)&&(ia(e,t)||qo(e,t)),Lp=e=>t=>NR(e,t.start)&&NR(e,t.finish),DF=e=>e.inline||Mo.browser.isFirefox(),Fp=e=>Mp.range(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),RF=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?Q.none():Q.from(t.getRangeAt(0))).map(Fp)},od=e=>{const t=zu(e);return RF(t.dom).filter(Lp(e))},M2=(e,t)=>Q.from(t).filter(Lp(e)).map($0),OA=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),Q.some(t)}catch{return Q.none()}},U0=e=>{const t=DF(e)?od(Be.fromDom(e.getBody())):Q.none();e.bookmark=t.isSome()?t:e.bookmark},DA=e=>(e.bookmark?e.bookmark:Q.none()).bind(o=>M2(Be.fromDom(e.getBody()),o)).bind(OA),A_=e=>{DA(e).each(t=>e.selection.setRng(t))},sd={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},T_=(e,t)=>(D(t)||(t=0),setTimeout(e,t)),PR=(e,t)=>(D(t)||(t=0),setInterval(e,t)),Uc={setEditorTimeout:(e,t,o)=>T_(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const i=PR(()=>{e.removed?clearInterval(i):t()},o);return i}},RA=e=>e.type==="nodechange"&&e.selectionChange,Fb=(e,t)=>{const o=()=>{t.throttle()};js.DOM.bind(document,"mouseup",o),e.on("remove",()=>{js.DOM.unbind(document,"mouseup",o)})},IA=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},MR=(e,t)=>{IA(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{RA(o)||U0(e)})},IF=e=>{const t=rh(()=>{U0(e)},0);e.on("init",()=>{e.inline&&Fb(e,t),MR(e,t)}),e.on("remove",()=>{t.cancel()})};let ag;const NA=js.DOM,BR=e=>En(e)&&sd.isEditorUIElement(e),B2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},O_=(e,t)=>{const o=KD(e);return NA.getParent(t,c=>BR(c)||(o?e.dom.is(c,o):!1))!==null},D_=e=>{try{const t=nu(Be.fromDom(e.getElement()));return Lb(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},LR=(e,t)=>{const o=t.editor;IF(o);const i=(c,m)=>{if(o5(c)&&c.inline!==!0){const h=Be.fromDom(c.getContainer());m(h,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;B2(D_(o))&&i(o,Od),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Uc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!B2(D_(o))||c!==o)&&i(o,Ma),!O_(o,D_(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),ag||(ag=c=>{const m=e.activeEditor;m&&Dv(c).each(h=>{const C=h;C.ownerDocument===document&&C!==document.body&&!O_(m,C)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},NA.bind(document,"focusin",ag))},NF=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&ag&&(NA.unbind(document,"focusin",ag),ag=null)},PF=e=>{e.on("AddEditor",tt(LR,e)),e.on("RemoveEditor",tt(NF,e))},MF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),BF=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="false")!==null,LF=e=>e.collapsed?Q.from(Si(e.startContainer,e.startOffset)).map(Be.fromDom):Q.none(),FF=(e,t)=>LF(t).bind(o=>lh(o)?Q.some(o):ia(e,o)?Q.none():Q.some(e)),FR=(e,t)=>{FF(Be.fromDom(e.getBody()),t).bind(o=>Jn(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},R_=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},VF=e=>TA(e)||OF(e).isSome(),zF=e=>Se(e.iframeElement)&&TA(Be.fromDom(e.iframeElement)),HF=e=>{const t=e.getBody();return t&&VF(Be.fromDom(t))},VR=e=>{const t=nu(Be.fromDom(e.getElement()));return Lb(t).filter(o=>!B2(o.dom)&&O_(e,o.dom)).isSome()},W0=e=>e.inline?HF(e):zF(e),Vb=e=>W0(e)||VR(e),$F=e=>{const t=e.selection,o=e.getBody();let i=t.getRng();e.quirks.refreshContentEditable();const c=h=>{DA(h).each(C=>{h.selection.setRng(C),i=C})};!W0(e)&&e.hasEditableRoot()&&c(e);const m=MF(e,t.getNode());if(m&&e.dom.isChildOf(m,o)){BF(e,m)||R_(o),R_(m),e.hasEditableRoot()||c(e),FR(e,i),PA(e);return}e.inline||(Mo.browser.isOpera()||R_(o),e.getWin().focus()),(Mo.browser.isFirefox()||e.inline)&&(R_(o),FR(e,i)),PA(e)},PA=e=>e.editorManager.setActive(e),zR=(e,t)=>{e.removed||(t?PA(e):$F(e))},HR=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),$R=(e,t,o,i,c)=>{const m=o?t.startContainer:t.endContainer,h=o?t.startOffset:t.endOffset;return Q.from(m).map(Be.fromDom).map(C=>!i||!t.collapsed?$u(C,c(C,h)).getOr(C):C).bind(C=>Ur(C)?Q.some(C):aa(C).filter(Ur)).map(C=>C.dom).getOr(e)},UR=(e,t,o=!1)=>$R(e,t,!0,o,(i,c)=>Math.min(Rd(i),c)),WR=(e,t,o=!1)=>$R(e,t,!1,o,(i,c)=>c>0?c-1:c),ZR=(e,t)=>{const o=e;for(;e&&Ut(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},UF=(e,t)=>{if(!t)return e;let o=t.startContainer,i=t.endContainer;const c=t.startOffset,m=t.endOffset;let h=t.commonAncestorContainer;t.collapsed||(o===i&&m-c<2&&o.hasChildNodes()&&(h=o.childNodes[c]),Ut(o)&&Ut(i)&&(o.length===c?o=ZR(o.nextSibling,!0):o=o.parentNode,m===0?i=ZR(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(h=o)));const C=Ut(h)?h.parentNode:h;return iu(C)?C:e},MA=(e,t,o,i)=>{const c=[],m=e.getRoot(),h=e.getParent(o||UR(m,t,t.collapsed),e.isBlock),C=e.getParent(i||WR(m,t,t.collapsed),e.isBlock);if(h&&h!==m&&c.push(h),h&&C&&h!==C){let A;const F=new ca(h,m);for(;(A=F.next())&&A!==C;)e.isBlock(A)&&c.push(A)}return C&&h!==C&&C!==m&&c.push(C),c},L2=(e,t,o)=>Q.from(t).bind(i=>Q.from(i.parentNode).map(c=>{const m=e.nodeIndex(i),h=e.createRng();return h.setStart(c,m),h.setEnd(c,m+1),o&&(f2(e,h,i,!0),f2(e,h,i,!1)),h})),I_=(e,t)=>Pe(t,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),WF={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},zb=(e,t,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==t){let m=e[c];if(m)return m;for(let h=e.parent;h&&h!==t;h=h.parent)if(m=h[c],m)return m}},jR=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!oc(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},Pi=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Da{static create(t,o){const i=new Da(t,WF[t]||1);return o&&ss(o,(c,m)=>{i.attr(m,c)}),i}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const i=this;if(!Re(t))return Se(t)&&ss(t,(m,h)=>{i.attr(h,m)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(t in c.map){delete c.map[t];let m=c.length;for(;m--;)if(c[m].name===t)return c.splice(m,1),i}return i}if(t in c.map){let m=c.length;for(;m--;)if(c[m].name===t){c[m].value=o;break}}else c.push({name:t,value:o});return c.map[t]=o,i}return c.map[t]}}clone(){const t=this,o=new Da(t.name,t.type),i=t.attributes;if(i){const c=[];c.map={};for(let m=0,h=i.length;m<h;m++){const C=i[m];C.name!=="id"&&(c[c.length]={name:C.name,value:C.value},c.map[C.name]=C.value)}o.attributes=c}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const i=o.next;t.insert(o,t,!0),o=i}t.remove()}remove(){const t=this,o=t.parent,i=t.next,c=t.prev;return o&&(o.firstChild===t?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===t?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const i=o.lastChild;return i?(i.next=t,t.prev=i,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,i){t.parent&&t.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===c.lastChild?c.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=c,t}getAll(t){const o=this,i=[];for(let c=o.firstChild;c;c=zb(c,o))c.name===t&&i.push(c);return i}children(){const t=this,o=[];for(let i=t.firstChild;i;i=i.next)o.push(i);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let c=t.firstChild;c;c=zb(c,t))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},i){var c;const m=this;let h=m.firstChild;if(Pi(m))return!1;if(h)do{if(h.type===1){if(h.attr("data-mce-bogus"))continue;if(t[h.name]||Pi(h))return!1}if(h.type===8||h.type===3&&!jR(h)||h.type===3&&h.parent&&o[h.parent.name]&&oc((c=h.value)!==null&&c!==void 0?c:"")||i&&i(h))return!1}while(h=zb(h,m));return!0}walk(t){return zb(this,null,t)}}const KR=Xt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),N_=e=>Re(e.nodeValue)&&e.nodeValue.includes(_i),F2=e=>`${e.length===0?"":`${Pe(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,Vp=(e,t)=>t.querySelectorAll(F2(e)),xh=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>N_(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),GR=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(N_(t)){const o=t.parentNode;return o&&io(KR,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),ZF=e=>xh(e).nextNode()!==null,Z0=e=>GR(e).nextNode()!==null,j0=(e,t)=>t.querySelector(F2(e))!==null,K0=(e,t)=>{he(Vp(e,t),o=>{const i=Be.fromDom(o);ka(i,"data-mce-bogus")==="all"?Os(i):he(e,c=>{Ad(i,c)&&Do(i,c)})})},P_=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},BA=$t(P_,xh),qR=$t(P_,GR),LA=(e,t)=>{const o=[{condition:tt(j0,t),action:tt(K0,t)},{condition:ZF,action:BA},{condition:Z0,action:qR}];let i=e,c=!1;return he(o,({condition:m,action:h})=>{m(i)&&(c||(i=e.cloneNode(!0),c=!0),h(i))}),i},YR=e=>{const t=pi(e,"[data-mce-bogus]");he(t,o=>{ka(o,"data-mce-bogus")==="all"?Os(o):Xu(o)?(Rr(o,Be.fromText(Ir)),Os(o)):Va(o)})},XR=e=>{const t=pi(e,"input");he(t,o=>{Do(o,"name")})},JR=(e,t)=>{const o=rl(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(i,"")},QR=(e,t)=>{const o=e.getDoc(),i=nu(Be.fromDom(e.getBody())),c=Be.fromTag("div",o);xi(c,"data-mce-bogus","all"),jo(c,{position:"fixed",left:"-9999999px",top:"0"}),Rm(c,t.innerHTML),YR(c),XR(c);const m=z1(i);Zr(m,c);const h=xl(c.dom.innerText);return Os(c),h},V2=(e,t,o)=>{let i;return t.format==="raw"?i=Xt.trim(xl(LA(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?i=QR(e,o):t.format==="tree"?i=e.serializer.serialize(o,t):i=JR(e,e.serializer.serialize(o,t)),t.format!=="text"&&!cb(Be.fromDom(o))&&Re(i)?Xt.trim(i):i},eI=(e,t)=>Q.from(e.getBody()).fold(et(t.format==="tree"?new Da("body",11):""),o=>V2(e,t,o)),FA=Xt.makeMap,VA=e=>{const t=[];e=e||{};const o=e.indent,i=FA(e.indent_before||""),c=FA(e.indent_after||""),m=Yg.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format!=="xhtml";return{start:(C,A,F)=>{if(o&&i[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}if(t.push("<",C),A)for(let j=0,Y=A.length;j<Y;j++){const ee=A[j];t.push(" ",ee.name,'="',m(ee.value,!0),'"')}if(!F||h?t[t.length]=">":t[t.length]=" />",F&&o&&c[C]&&t.length>0){const j=t[t.length-1];j.length>0&&j!==`
`&&t.push(`
`)}},end:C=>{let A;t.push("</",C,">"),o&&c[C]&&t.length>0&&(A=t[t.length-1],A.length>0&&A!==`
`&&t.push(`
`))},text:(C,A)=>{C.length>0&&(t[t.length]=A?C:m(C))},cdata:C=>{t.push("<![CDATA[",C,"]]>")},comment:C=>{t.push("<!--",C,"-->")},pi:(C,A)=>{A?t.push("<?",C," ",m(A),"?>"):t.push("<?",C,"?>"),o&&t.push(`
`)},doctype:C=>{t.push("<!DOCTYPE",C,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},wh=(e={},t=Pc())=>{const o=VA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,h={3:A=>{var F;o.text((F=A.value)!==null&&F!==void 0?F:"",A.raw)},8:A=>{var F;o.comment((F=A.value)!==null&&F!==void 0?F:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var F;o.doctype((F=A.value)!==null&&F!==void 0?F:"")},4:A=>{var F;o.cdata((F=A.value)!==null&&F!==void 0?F:"")},11:A=>{let F=A;if(F=F.firstChild)do C(F);while(F=F.next)}};o.reset();const C=A=>{var F;const j=h[A.type];if(j)j(A);else{const Y=A.name,ee=Y in t.getVoidElements();let ge=A.attributes;if(m&&ge&&ge.length>1){const _e=[];_e.map={};const pe=t.getElementRule(A.name);if(pe){for(let Ae=0,He=pe.attributesOrder.length;Ae<He;Ae++){const Qe=pe.attributesOrder[Ae];if(Qe in ge.map){const Xe=ge.map[Qe];_e.map[Qe]=Xe,_e.push({name:Qe,value:Xe})}}for(let Ae=0,He=ge.length;Ae<He;Ae++){const Qe=ge[Ae].name;if(!(Qe in _e.map)){const Xe=ge.map[Qe];_e.map[Qe]=Xe,_e.push({name:Qe,value:Xe})}}ge=_e}}if(o.start(Y,ge,ee),Bm(Y))Re(A.value)&&o.text(A.value,!0),o.end(Y);else if(!ee){let _e=A.firstChild;if(_e){(Y==="pre"||Y==="textarea")&&_e.type===3&&((F=_e.value)===null||F===void 0?void 0:F[0])===`
`&&o.text(`
`,!0);do C(_e);while(_e=_e.next)}o.end(Y)}}};return c.type===1&&!e.inner?C(c):c.type===3?h[3](c):h[11](c),o.getContent()}}},zA=new Set;he(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{zA.add(t)});const HA=new Set;he(["background-color"],t=>{HA.add(t)});const $A=["font","text-decoration","text-emphasis"],tI=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Hb=(e,t)=>Kt(tI(e,t)),UA=e=>zA.has(e),z2=e=>HA.has(e),WA=(e,t)=>be(Hb(e,t),o=>UA(o)),nI=(e,t)=>WA(e,t)&&be(Hb(e,t),o=>z2(o)),M_=e=>vt(e,t=>be($A,o=>ar(t,o))),jF=(e,t,o)=>{const i=Hb(e,t),c=Hb(e,o),m=h=>{var C,A;const F=(C=e.getStyle(t,h))!==null&&C!==void 0?C:"",j=(A=e.getStyle(o,h))!==null&&A!==void 0?A:"";return Je(F)&&Je(j)&&F!==j};return be(i,h=>{const C=A=>be(A,F=>F===h);if(!C(c)&&C($A)){const A=M_(c);return be(A,m)}else return m(h)})},oI=(e,t,o)=>Q.from(o.container()).filter(Ut).exists(i=>{const c=e?0:-1;return t(i.data.charAt(o.offset()+c))}),Ch=tt(oI,!0,Rb),H2=tt(oI,!1,Rb),sI=e=>{const t=e.container();return Ut(t)&&(t.data.length===0||Fc(t.data)&&Us.isBookmarkNode(t.parentNode))},Kd=(e,t)=>o=>JC(e?0:-1,o).filter(t).isSome(),ZA=e=>Oc(e)&&Wr(Be.fromDom(e),"display")==="block",B_=e=>fo(e)&&!U1(e),rI=Kd(!0,ZA),iI=Kd(!1,ZA),$b=Kd(!0,St),G0=Kd(!1,St),aI=Kd(!0,au),q0=Kd(!1,au),Mi=Kd(!0,B_),Xf=Kd(!1,B_),Ub=e=>e.slice(0,-1),lI=(e,t,o)=>ia(t,e)?Ub(Am(e,i=>o(i)||qo(i,t))):[],cc=(e,t)=>lI(e,t,fn),Wc=(e,t)=>[e].concat(cc(e,t)),L_=(e,t,o)=>D5(e,t,o,sI),cI=e=>t=>e.isBlock(Go(t)),jA=(e,t,o)=>cn(Wc(Be.fromDom(t.container()),e),cI(o)),Y0=(e,t,o,i)=>L_(e,t.dom,o).forall(c=>jA(t,o,i).fold(()=>!tg(c,o,t.dom),m=>!tg(c,o,t.dom)&&ia(m,Be.fromDom(c.container())))),F_=(e,t,o,i)=>jA(t,o,i).fold(()=>L_(e,t.dom,o).forall(c=>!tg(c,o,t.dom)),c=>L_(e,c.dom,o).isNone()),V_=tt(F_,!1),uI=tt(F_,!0),KA=tt(Y0,!1),GA=tt(Y0,!0),KF=e=>QC(e).exists(Xu),rd=(e,t,o,i)=>{const c=vt(Wc(Be.fromDom(o.container()),t),h=>i.isBlock(Go(h))),m=hn(c).getOr(t);return vu(e,m.dom,o).filter(KF)},$2=(e,t,o)=>QC(t).exists(Xu)||rd(!0,e,t,o).isSome(),Wb=(e,t,o)=>qL(t).exists(Xu)||rd(!1,e,t,o).isSome(),z_=tt(rd,!1),dI=tt(rd,!0),qA=e=>xt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),YA=(e,t,o)=>{const i=vt(Wc(Be.fromDom(t.container()),e),c=>o.isBlock(Go(c)));return hn(i).getOr(e)},fI=(e,t,o)=>qA(t)?H2(t):H2(t)||zc(YA(e,t,o).dom,t).exists(H2),mI=(e,t,o)=>qA(t)?Ch(t):Ch(t)||Gl(YA(e,t,o).dom,t).exists(Ch),gI=e=>re(["pre","pre-wrap"],e),H_=e=>QC(e).bind(t=>hi(t,Ur)).exists(t=>gI(Wr(t,"white-space"))),XA=(e,t)=>zc(e.dom,t).isNone(),JA=(e,t)=>Gl(e.dom,t).isNone(),hI=(e,t,o)=>XA(e,t)||JA(e,t)||V_(e,t,o)||uI(e,t,o)||Wb(e,t,o)||$2(e,t,o),QA=e=>Se(e)&&fo(e)&&ZE(e),e3=(e,t)=>o=>QA(new ca(o,e)[t]()),pI=(e,t)=>{const o=Gl(e.dom,t).getOr(t),i=e3(e.dom,"next");return t.isAtEnd()&&(i(t.container())||i(o.container()))},t3=(e,t)=>{const o=zc(e.dom,t).getOr(t),i=e3(e.dom,"prev");return t.isAtStart()&&(i(t.container())||i(o.container()))},n3=(e,t,o)=>H_(t)?!1:hI(e,t,o)||fI(e,t,o)||mI(e,t,o),X0=(e,t,o)=>H_(t)?!1:V_(e,t,o)||KA(e,t,o)||Wb(e,t,o)||fI(e,t,o)||t3(e,t),vI=e=>{const t=e.container(),o=e.offset();return Ut(t)&&o<t.data.length?xt(t,o+1):e},Zb=(e,t,o)=>H_(t)?!1:uI(e,t,o)||GA(e,t,o)||$2(e,t,o)||mI(e,t,o)||pI(e,t),o3=(e,t,o)=>X0(e,t,o)||Zb(e,vI(t),o),U2=(e,t)=>il(e.charAt(t)),s3=(e,t)=>Rb(e.charAt(t)),bI=e=>{const t=e.container();return Ut(t)&&Is(t.data,Di)},GF=e=>{const t=e.split("");return Pe(t,(o,i)=>il(o)&&i>0&&i<t.length-1&&hh(t[i-1])&&hh(t[i+1])?" ":o).join("")},yI=(e,t,o,i)=>{const c=t.data,m=xt(t,0);return!o&&U2(c,0)&&!o3(e,m,i)?(t.data=" "+c.slice(1),!0):o&&s3(c,0)&&X0(e,m,i)?(t.data=Di+c.slice(1),!0):!1},xI=e=>{const t=e.data,o=GF(t);return o!==t?(e.data=o,!0):!1},wI=(e,t,o,i)=>{const c=t.data,m=xt(t,c.length-1);return!o&&U2(c,c.length-1)&&!o3(e,m,i)?(t.data=c.slice(0,-1)+" ",!0):o&&s3(c,c.length-1)&&Zb(e,m,i)?(t.data=c.slice(0,-1)+Di,!0):!1},CI=(e,t,o)=>{const i=t.container();if(!Ut(i))return Q.none();if(bI(t)){const c=yI(e,i,!1,o)||xI(i)||wI(e,i,!1,o);return Bg(c,t)}else if(o3(e,t,o)){const c=yI(e,i,!0,o)||wI(e,i,!0,o);return Bg(c,t)}else return Q.none()},qF=e=>{const t=Be.fromDom(e.getBody());e.selection.isCollapsed()&&CI(t,xt.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},_I=(e,t,o,i)=>{if(o===0)return;const c=Be.fromDom(e),m=Qa(c,F=>i.isBlock(Go(F))).getOr(c),h=e.data.slice(t,t+o),C=t+o>=e.data.length&&Zb(m,xt(e,e.data.length),i),A=t===0&&X0(m,xt(e,0),i);e.replaceData(t,o,Mv(h,4,A,C))},$_=(e,t,o)=>{const i=e.data.slice(t),c=i.length-mt(i).length;_I(e,t,c,o)},zr=(e,t,o)=>{const i=e.data.slice(0,t),c=i.length-ut(i).length;_I(e,t-c,c,o)},W2=(e,t,o,i,c=!0)=>{const m=ut(e.data).length,h=c?e:t,C=c?t:e;return c?h.appendData(C.data):h.insertData(0,C.data),Os(Be.fromDom(C)),i&&$_(h,m,o),h},YF=(e,t)=>{const o=e.container(),i=e.offset();return!xt.isTextPosition(e)&&o===t.parentNode&&i>xt.before(t).offset()},XF=(e,t)=>YF(t,e)?xt(t.container(),t.offset()-1):t,J0=e=>Ut(e)?xt(e,0):xt.before(e),zp=e=>Ut(e)?xt(e,e.data.length):xt.after(e),lg=e=>fu(e.previousSibling)?Q.some(zp(e.previousSibling)):e.previousSibling?Qu(e.previousSibling):Q.none(),r3=e=>fu(e.nextSibling)?Q.some(J0(e.nextSibling)):e.nextSibling?Jn(e.nextSibling):Q.none(),SI=(e,t)=>Q.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>zc(e,xt.before(o))).orThunk(()=>Gl(e,xt.after(t))),kI=(e,t)=>Gl(e,xt.after(t)).orThunk(()=>zc(e,xt.before(t))),U_=(e,t)=>lg(t).orThunk(()=>r3(t)).orThunk(()=>SI(e,t)),JF=(e,t)=>r3(t).orThunk(()=>lg(t)).orThunk(()=>kI(e,t)),i3=(e,t,o)=>e?JF(t,o):U_(t,o),EI=(e,t,o)=>i3(e,t,o).map(tt(XF,o)),a3=(e,t,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),t)})},l3=e=>t=>t.dom===e,AI=(e,t)=>t&&io(e.schema.getBlockElements(),Go(t)),c3=(e,t,o)=>{if(Kr(e,t)){const i=Be.fromHtml('<br data-mce-bogus="1">');return o?he(la(t),c=>{u_(c)||Os(c)}):Xs(t),Zr(t,i),Q.some(xt.before(i.dom))}else return Q.none()},QF=(e,t,o,i)=>{const c=wi(e).filter(lr),m=Un(e).filter(lr);return Os(e),gf(c,m,t,(h,C,A)=>{const F=h.dom,j=C.dom,Y=F.data.length;return W2(F,j,o,i),A.container()===j?xt(F,Y):A}).orThunk(()=>(i&&(c.each(h=>zr(h.dom,h.dom.length,o)),m.each(h=>$_(h.dom,0,o))),t))},e7=(e,t)=>io(e.schema.getTextInlineElements(),Go(t)),Cl=(e,t,o,i=!0,c=!1)=>{const m=EI(t,e.getBody(),o.dom),h=Qa(o,tt(AI,e),l3(e.getBody())),C=QF(o,m,e.schema,e7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):h.bind(A=>c3(e.schema,A,c)).fold(()=>{i&&a3(e,t,C)},A=>{i&&a3(e,t,Q.some(A))})},TI=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,t7=e=>TI.test(e),jb=(e,t)=>Ns(Be.fromDom(t),es(e))&&!Of(e.schema,t)&&e.dom.isEditable(t),Z2=e=>{var t;return js.DOM.getStyle(e,"direction",!0)==="rtl"||t7((t=e.textContent)!==null&&t!==void 0?t:"")},n7=(e,t,o)=>vt(js.DOM.getParents(o.container(),"*",t),e),Hp=(e,t,o)=>{const i=n7(e,t,o);return Q.from(i[i.length-1])},OI=(e,t,o)=>{const i=Ap(t,e),c=Ap(o,e);return Se(i)&&i===c},u3=e=>ub(e)||v0(e),id=(e,t)=>{const o=t.container(),i=t.offset();return e?Gm(o)?Ut(o.nextSibling)?xt(o.nextSibling,0):xt.after(o):ub(t)?xt(o,i+1):t:Gm(o)?Ut(o.previousSibling)?xt(o.previousSibling,o.previousSibling.data.length):xt.before(o):v0(t)?xt(o,i-1):t},DI=tt(id,!0),Q0=tt(id,!1),d3=(e,t)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},RI=e=>{e.execCommand("delete")},W_=e=>d3(e,"Delete"),f3=e=>d3(e,"ForwardDelete"),j2=e=>t=>ff(aa(t),e,qo),II=e=>ab(e)||Km(e),K2=(e,t)=>ia(e,t)?hi(t,II,j2(e)):Q.none(),Z_=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},NI=(e,t,o)=>sa(Jn(o),Qu(o),(i,c)=>{const m=id(!0,i),h=id(!1,c),C=id(!1,t);return e?Gl(o,C).exists(A=>A.isEqual(h)&&t.isEqual(m)):zc(o,C).exists(A=>A.isEqual(m)&&t.isEqual(h))}).getOr(!0),Gd=e=>(zg(e)?wi(e):Uu(e)).bind(Gd).orThunk(()=>Q.some(e)),j_=(e,t,o,i=!0)=>{var c;t.deleteContents();const m=Gd(o).getOr(o),h=Be.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(h.dom===e.getBody()?Z_(e,i):Kr(e.schema,h,{checkRootAsContent:!1})&&(Lc(h),i&&e.selection.setCursorLocation(h.dom,0)),!qo(o,h)){const C=ff(aa(h),o)?[]:Ov(h);he(C.concat(la(o)),A=>{!qo(A,h)&&!ia(A,h)&&Kr(e.schema,A)&&Os(A)})}},o7=e=>t=>qo(e,t),m3=e=>pi(e,"td,th"),Es=(e,t)=>Ms(Be.fromDom(e),t),s7=e=>sa(e.startTable,e.endTable,(t,o)=>{const i=$1(t,m=>qo(m,o)),c=$1(o,m=>qo(m,t));return!i&&!c?e:{...e,startTable:i?Q.none():e.startTable,endTable:c?Q.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),G2=e=>s7(e),r7=(e,t)=>{const o=Es(e.startContainer,t),i=Es(e.endContainer,t),c=o.isSome(),m=i.isSome(),h=sa(o,i,qo).getOr(!1);return G2({startTable:o,endTable:i,isStartInTable:c,isEndInTable:m,isSameTable:h,isMultiTable:!h&&c&&m})},K_=(e,t)=>({start:e,end:t}),$p=(e,t,o)=>({rng:e,table:t,cells:o}),al=Ko.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Up=(e,t)=>Wi(Be.fromDom(e),"td,th",t),_h=e=>!qo(e.start,e.end),Jf=(e,t)=>Ms(e.start,t).bind(o=>Ms(e.end,t).bind(i=>Bg(qo(o,i),o))),q2=(e,t)=>!_h(e)&&Jf(e,t).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),g3=(e,t)=>{const o=Up(e.startContainer,t),i=Up(e.endContainer,t);return sa(o,i,K_)},h3=e=>t=>Ms(t,e).bind(o=>Eo(m3(o)).map(i=>K_(t,i))),PI=e=>t=>Ms(t,e).bind(o=>hn(m3(o)).map(i=>K_(i,t))),G_=e=>t=>Jf(t,e).map(o=>$p(t,o,m3(o))),MI=(e,t,o,i)=>{if(o.collapsed||!e.forall(_h))return Q.none();if(t.isSameTable){const c=e.bind(G_(i));return Q.some({start:c,end:c})}else{const c=Up(o.startContainer,i),m=Up(o.endContainer,i),h=c.bind(h3(i)).bind(G_(i)),C=m.bind(PI(i)).bind(G_(i));return Q.some({start:h,end:C})}},BI=(e,t)=>An(e,o=>qo(o,t)),q_=e=>sa(BI(e.cells,e.rng.start),BI(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),LI=(e,t,o)=>e.exists(i=>q2(i,o)&&d2(i.start,t)),p3=(e,t)=>{const{startTable:o,endTable:i}=t,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),i.each(m=>c.setEndBefore(m.dom)),c},FI=(e,t,o,i)=>MI(e,t,o,i).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=t,h=q_(c).getOr([]);if(m&&c.cells.length===h.length)return Q.some(al.fullTable(c.table));if(h.length>0){if(m)return Q.some(al.partialTable(h,Q.none()));{const C=p3(o,t);return Q.some(al.partialTable(h,Q.some({...t,rng:C})))}}else return Q.none()}),v3=(e,t,o,i)=>MI(e,t,o,i).bind(({start:c,end:m})=>{const h=c.bind(q_).getOr([]),C=m.bind(q_).getOr([]);if(h.length>0&&C.length>0){const A=p3(o,t);return Q.some(al.multiTable(h,C,A))}else return Q.none()}),i7=(e,t)=>{const o=o7(e),i=g3(t,o),c=r7(t,o);return LI(i,t,o)?i.map(m=>al.singleCellTable(t,m.start)):c.isMultiTable?v3(i,c,t,o):FI(i,c,t,o)},VI=e=>he(e,t=>{Do(t,"contenteditable"),Lc(t)}),a7=(e,t)=>Q.from(e.dom.getParent(t,e.dom.isBlock)).map(Be.fromDom),cg=(e,t,o)=>{o.each(i=>{t?Os(i):(Lc(i),e.selection.setCursorLocation(i.dom,0))})},Kb=(e,t,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),x3(e,c,t,!1).each(m=>m())},b3=e=>{const t=Kf(e),o=Be.fromDom(e.selection.getNode());lp(o.dom)&&Kr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&be(t,i=>qo(i,o))&&xi(o,"data-mce-selected","1")},y3=(e,t,o)=>Q.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:h})=>{const C=a7(e,h?m.endContainer:m.startContainer);m.deleteContents(),cg(e,h,C.filter(tt(Kr,e.schema)));const A=h?t[0]:t[t.length-1];return Kb(e,A,i,h),Kr(e.schema,A)?Q.none():Q.some(h?t.slice(1):t.slice(0,-1))}).getOr(t);VI(c),b3(e)}),zI=(e,t,o,i)=>Q.some(()=>{const c=e.selection.getRng(),m=t[0],h=o[o.length-1];Kb(e,m,c,!0),Kb(e,h,c,!1);const C=Kr(e.schema,m)?t:t.slice(1),A=Kr(e.schema,h)?o:o.slice(0,-1);VI(C.concat(A)),i.deleteContents(),b3(e)}),x3=(e,t,o,i=!0)=>Q.some(()=>{j_(e,t,o,i)}),Wp=(e,t)=>Q.some(()=>Cl(e,!1,t)),l7=(e,t,o)=>i7(t,o).bind(i=>i.fold(tt(x3,e),tt(Wp,e),tt(y3,e),tt(zI,e))),c7=(e,t)=>Y_(e,t),u7=(e,t,o,i)=>w3(t,i).fold(()=>l7(e,t,o),c=>c7(e,c)),d7=(e,t,o)=>{const i=Be.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?y3(e,o,Q.none()):u7(e,i,c,t)},HI=(e,t)=>cn(Wc(t,e),Bc),w3=(e,t)=>cn(Wc(t,e),vf("caption")),f7=(e,t,o,i,c)=>Ob(o,e.getBody(),c).bind(m=>HI(t,Be.fromDom(m.getNode())).bind(h=>qo(h,i)?Q.none():Q.some(ct))),Y_=(e,t)=>Q.some(()=>{Lc(t),e.selection.setCursorLocation(t.dom,0)}),m7=(e,t,o,i)=>Jn(e.dom).bind(c=>Qu(e.dom).map(m=>t?o.isEqual(c)&&i.isEqual(m):o.isEqual(m)&&i.isEqual(c))).getOr(!0),X_=(e,t)=>Y_(e,t),g7=(e,t,o)=>w3(e,Be.fromDom(o.getNode())).fold(()=>Q.some(ct),i=>Bg(!qo(i,t),ct)),Y2=(e,t,o,i,c)=>Ob(o,e.getBody(),c).fold(()=>Q.some(ct),m=>m7(i,o,c,m)?X_(e,i):g7(t,i,m)),C3=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return HI(o,i).bind(m=>Kr(e.schema,m,{checkRootAsContent:!1})?Y_(e,m):f7(e,o,t,m,c))},Gb=(e,t,o,i)=>{const c=xt.fromRangeStart(e.selection.getRng());return Kr(e.schema,i)?Y_(e,i):Y2(e,o,t,i,c)},Zp=(e,t)=>e?aI(t):q0(t),J_=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return Zp(t,o)||vu(t,e.getBody(),o).exists(i=>Zp(t,i))},Q_=(e,t,o)=>{const i=Be.fromDom(e.getBody());return w3(i,o).fold(()=>C3(e,t,i,o).orThunk(()=>Bg(J_(e,t),ct)),c=>Gb(e,t,i,c))},Sh=(e,t)=>{const o=Be.fromDom(e.selection.getStart(!0)),i=Kf(e);return e.selection.isCollapsed()&&i.length===0?Q_(e,t,o):d7(e,o,i)},ad=(e,t)=>{let o=t;for(;o&&o!==e;){if(Dc(o)||fo(o))return o;o=o.parentNode}return null},eS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],tS=Xt.each,nS=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(m,h)=>{if(m.nodeName!==h.nodeName||m.nodeType!==h.nodeType)return!1;const C=F=>{const j={};return tS(t.getAttribs(F),Y=>{const ee=Y.nodeName.toLowerCase();ee!=="style"&&!c(ee)&&(j[ee]=t.getAttrib(F,ee))}),j},A=(F,j)=>{for(const Y in F)if(io(F,Y)){const ee=j[Y];if(qe(ee)||F[Y]!==ee)return!1;delete j[Y]}for(const Y in j)if(io(j,Y))return!1;return!0};return En(m)&&En(h)&&(!A(C(m),C(h))||!A(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(h,"style"))))?!1:!yu(m)&&!yu(h)},c=m=>be(eS,h=>ar(m,h))||o.has(m);return{compare:i,isAttributeInternal:c}},oS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),_3=e=>e.name==="summary",$I=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},S3=(e,t,o,i)=>{const c=o.name;for(let m=0,h=e.length;m<h;m++){const C=e[m];if(C.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:C,nodes:[o]}}}if(o.attributes)for(let m=0,h=t.length;m<h;m++){const C=t[m],A=C.name;if(A in o.attributes.map){const F=i.attributes[A];F?F.nodes.push(o):i.attributes[A]={filter:C,nodes:[o]}}}},ey=(e,t,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&$I(o,c=>{S3(e,t,c,i)}),i},k3=(e,t)=>{const o=(i,c)=>{ss(i,m=>{const h=vo(m.nodes);he(m.filter.callbacks,C=>{for(let A=h.length-1;A>=0;A--){const F=h[A];(!(c?F.attr(m.filter.name)!==void 0:F.name===m.filter.name)||st(F.parent))&&h.splice(A,1)}h.length>0&&C(h,m.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},E3=(e,t,o,i={})=>{const c=ey(e,t,o);k3(c,i)},sS=(e,t,o,i)=>{if((e.pad_empty_with_br||t.insert)&&o(i)){const m=new Da("br",1);t.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new Da("#text",3)).value=Di},rS=e=>{var t;return A3(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Di},A3=(e,t)=>{const o=e==null?void 0:e.firstChild;return Se(o)&&o===e.lastChild&&o.name===t},UI=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},ty=(e,t,o,i)=>i.isEmpty(t,o,c=>UI(e,c)),WI=(e,t)=>Se(e)&&(t(e)||e.name==="br"),kh=e=>{let t;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(t=o)}return Q.from(t)},ug=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!t.isValidChild(o.name,c.name)&&ug(c,t,o);e.unwrap()}},wu=(e,t,o,i=ct)=>{const c=t.getTextBlockElements(),m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=Xt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,F=j=>j!==o&&!C[j.name];for(let j=0;j<e.length;j++){const Y=e[j];let ee,ge,_e;if(!Y.parent||A.has(Y))continue;if(c[Y.name]&&Y.parent.name==="li"){let Ae=Y.next;for(;Ae&&c[Ae.name];){Ae.name="li",A.add(Ae),Y.parent.insert(Ae,Y.parent);Ae=Ae.next}Y.unwrap();continue}const pe=[Y];for(ee=Y.parent;ee&&!t.isValidChild(ee.name,Y.name)&&F(ee);ee=ee.parent)pe.push(ee);if(ee&&pe.length>1)if(X2(t,Y,ee))ug(Y,t);else{pe.reverse(),ge=pe[0].clone(),i(ge);let Ae=ge;for(let He=0;He<pe.length-1;He++){t.isValidChild(Ae.name,pe[He].name)&&He>0?(_e=pe[He].clone(),i(_e),Ae.append(_e)):_e=Ae;for(let Qe=pe[He].firstChild;Qe&&Qe!==pe[He+1];){const Xe=Qe.next;_e.append(Qe),Qe=Xe}Ae=_e}ty(t,m,h,ge)?ee.insert(Y,pe[0],!0):(ee.insert(ge,pe[0],!0),ee.insert(Y,ge)),ee=pe[0],(ty(t,m,h,ee)||A3(ee,"br"))&&ee.empty().remove()}else if(Y.parent){if(Y.name==="li"){let Ae=Y.prev;if(Ae&&(Ae.name==="ul"||Ae.name==="ol")){Ae.append(Y);continue}if(Ae=Y.next,Ae&&(Ae.name==="ul"||Ae.name==="ol")&&Ae.firstChild){Ae.insert(Y,Ae.firstChild,!0);continue}const He=new Da("ul",1);i(He),Y.wrap(He);continue}if(t.isValidChild(Y.parent.name,"div")&&t.isValidChild("div",Y.name)){const Ae=new Da("div",1);i(Ae),Y.wrap(Ae)}else ug(Y,t)}}},T3=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},X2=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&T3(o,"a")?!0:_3(o)&&oS(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,ZI=(e,t,o,i)=>{const c=document.createRange();return c.setStart(e,t),c.setEnd(o,i),c},jI=e=>{const t=xt.fromRangeStart(e),o=xt.fromRangeEnd(e),i=e.commonAncestorContainer;return vu(!1,i,o).map(c=>!tg(t,o,i)&&tg(t,c,i)?ZI(t.container(),t.offset(),c.container(),c.offset()):e).getOr(e)},iS=e=>e.collapsed?e:jI(e),O3=e=>Se(e.firstChild)&&e.firstChild===e.lastChild,KI=e=>e.name==="br"||e.value===Di,GI=(e,t)=>e.getBlockElements()[t.name]&&O3(t)&&KI(t.firstChild),D3=(e,t)=>{const o=e.getNonEmptyElements();return Se(t)&&(t.isEmpty(o)||GI(e,t))},dg=(e,t)=>{let o=t.firstChild,i=t.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),D3(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},qd=e=>{var t,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((t=i.parentNode)===null||t===void 0||t.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},aS=(e,t,o)=>{const i=t.serialize(o),c=e.createFragment(i);return qd(c)},qI=e=>{var t;return vt((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},lS=e=>e.data===Di||gr(e),YI=e=>Se(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&lS(e.firstChild),XI=e=>!e.firstChild||YI(e),JI=e=>e.length>0&&XI(e[e.length-1])?e.slice(0,-1):e,cS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},QI=(e,t)=>!!cS(e,t),eN=(e,t)=>{const o=t.cloneRange(),i=t.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},uS=(e,t)=>{const o=xt.before(e),c=jn(t).next(o);return c?c.toRange():null},dS=(e,t)=>{const o=xt.after(e),c=jn(t).prev(o);return c?c.toRange():null},tN=(e,t,o,i)=>{const c=eN(e,i),m=e.parentNode;return m&&(m.insertBefore(c[0],e),Xt.each(t,h=>{m.insertBefore(h,e)}),m.insertBefore(c[1],e),m.removeChild(e)),dS(t[t.length-1],o)},R3=(e,t,o)=>{const i=e.parentNode;return i&&Xt.each(t,c=>{i.insertBefore(c,e)}),uS(e,o)},h7=(e,t,o,i)=>(i.insertAfter(t.reverse(),e),dS(t[0],o)),p7=(e,t,o,i)=>{const c=aS(t,e,i),m=cS(t,o.startContainer),h=JI(qI(c.firstChild)),C=1,A=2,F=t.getRoot(),j=Y=>{const ee=xt.fromRangeStart(o),ge=jn(t.getRoot()),_e=Y===C?ge.prev(ee):ge.next(ee),pe=_e==null?void 0:_e.getNode();return pe?cS(t,pe)!==m:!0};return m?j(C)?R3(m,h,F):j(A)?h7(m,h,F,t):tN(m,h,F,o):null},v7=["pre"],b7=(e,t,o,i)=>{var c;const m=t.firstChild,h=t.lastChild,C=h.attr("data-mce-type")==="bookmark"?h.prev:h,A=m===C,F=re(v7,m.name);if(A&&F){const j=m.attr("contenteditable")!=="false",Y=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,ee=Q.from(ad(i,o)).forall(Dc);return j&&Y&&ee}else return!1},I3=lp,y7=(e,t,o)=>{if(Se(o)){const i=e.getParent(t.endContainer,I3);return o===i&&d2(Be.fromDom(o),t)}else return!1},fS=(e,t,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(t),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},N3=(e,t,o)=>{Q.from(e.getParent(t,"td,th")).map(Be.fromDom).each(i=>Mx(i,o))},nN=(e,t)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(t){const c=e.getBody(),m=nS(e),h="*[data-mce-fragment]",C=i.select(h);Xt.each(C,A=>{const F=ee=>Se(o[ee.nodeName.toLowerCase()]),j=ee=>ee.childNodes.length===1;if((ee=>!(WA(i,ee)||nI(i,ee)))(A)&&F(A)&&j(A)){const ee=Hb(i,A),ge=(He,Qe)=>Oo(He,Xe=>re(Qe,Xe)),_e=He=>j(A)&&i.is(He,h)&&F(He)&&(He.nodeName===A.nodeName&&ge(ee,Hb(i,He))||_e(He.children[0])),pe=He=>Se(He)&&He!==c&&(m.compare(A,He)||pe(He.parentElement)),Ae=He=>Se(He)&&He!==c&&i.is(He,h)&&(jF(i,A,He)||Ae(He.parentElement));(_e(A.children[0])||pe(A.parentElement)&&!Ae(A.parentElement))&&i.remove(A,!0)}})}},P3=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},x7=e=>{Xt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},w7=e=>!!e.getAttribute("data-mce-fragment"),C7=(e,t)=>Se(t)&&!e.schema.getVoidElements()[t.nodeName],_7=(e,t)=>{var o,i,c;let m;const h=e.dom,C=e.selection;if(!t)return;C.scrollIntoView(t);const A=ad(e.getBody(),t);if(A&&h.getContentEditable(A)==="false"){h.remove(t),C.select(A);return}let F=h.createRng();const j=t.previousSibling;if(Ut(j)){F.setStart(j,(i=(o=j.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ge=t.nextSibling;Ut(ge)&&(j.appendData(ge.data),(c=ge.parentNode)===null||c===void 0||c.removeChild(ge))}else F.setStartBefore(t),F.setEndBefore(t);const Y=ge=>{let _e=xt.fromRangeStart(ge);return _e=jn(e.getBody()).next(_e),_e==null?void 0:_e.toRange()},ee=h.getParent(t,h.isBlock);if(h.remove(t),ee&&h.isEmpty(ee)){const ge=I3(ee);Xs(Be.fromDom(ee)),F.setStart(ee,0),F.setEnd(ee,0),!ge&&!w7(ee)&&(m=Y(F))?(F=m,h.remove(ee)):h.add(ee,h.create("br",ge?{}:{"data-mce-bogus":"1"}))}C.setRng(F)},S7=e=>{const t=e.dom,o=iS(e.selection.getRng());e.selection.setRng(o);const i=t.getParent(o.startContainer,I3);y7(t,o,i)?x3(e,o,Be.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ut(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},k7=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return Q.some(t);return Q.none()},mS=(e,t,o)=>{var i;return be(o.children(),oS)&&((i=e.getParent(t,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},gS=(e,t,o)=>{var i,c;const m=e.selection,h=e.dom,C=e.parser,A=o.merge,F=wh({validate:!0},e.schema),j='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=xl(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,j);let Y=m.getRng();const ee=Y.startContainer,ge=e.getBody();ee===ge&&m.isCollapsed()&&h.isBlock(ge.firstChild)&&C7(e,ge.firstChild)&&h.isEmpty(ge.firstChild)&&(Y=h.createRng(),Y.setStart(ge.firstChild,0),Y.setEnd(ge.firstChild,0),m.setRng(Y)),m.isCollapsed()||S7(e);const _e=m.getNode(),pe={context:_e.nodeName.toLowerCase(),data:o.data,insert:!0},Ae=C.parse(t,pe);if(o.paste===!0&&dg(e.schema,Ae)&&QI(h,_e))return Y=p7(F,h,m.getRng(),Ae),Y&&m.setRng(Y),t;o.paste===!0&&b7(h,Ae,_e,e.getBody())&&((i=Ae.firstChild)===null||i===void 0||i.unwrap()),P3(Ae);let He=Ae.lastChild;if(He&&He.attr("id")==="mce_marker"){const Qe=He;for(He=He.prev;He;He=He.walk(!0))if(He.type===3||!h.isBlock(He.name)){He.parent&&e.schema.isValidChild(He.parent.name,"span")&&He.parent.insert(Qe,He,He.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(_e),!pe.invalid&&!mS(h,_e,Ae))t=F.serialize(Ae),fS(e,t,_e);else{e.selection.setContent(j);let Qe=m.getNode(),Xe;const dt=e.getBody();for(Rn(Qe)?Qe=Xe=dt:Xe=Qe;Xe&&Xe!==dt;)Qe=Xe,Xe=Xe.parentNode;t=Qe===dt?dt.innerHTML:h.getOuterHTML(Qe);const Bt=C.parse(t),Yt=k7(Bt),pn=Yt.bind(kh).getOr(Bt);Yt.each(Cn=>Cn.replace(Ae));const kt=Ae.children(),bt=(c=Ae.parent)!==null&&c!==void 0?c:Bt;Ae.unwrap();const It=vt(kt,Cn=>X2(e.schema,Cn,bt));wu(It,e.schema,pn),E3(C.getNodeFilters(),C.getAttributeFilters(),Bt),t=F.serialize(Bt),Qe===dt?h.setHTML(dt,t):h.setOuterHTML(Qe,t)}return nN(e,A),_7(e,h.get("mce_marker")),x7(e.getBody()),N3(h,m.getStart(),e.schema),Md(e.schema,e.getBody(),m.getStart()),t},qb=e=>e instanceof Da,E7=e=>{W0(e)&&Jn(e.getBody()).each(t=>{const o=t.getNode(),i=au(o)?Jn(o).getOr(t):t;e.selection.setRng(i.toRange())})},M3=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&E7(e)},A7=(e,t,o,i)=>{if(o=xl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+c+"</li>");const m=rl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,Kx(e),o)):o||(o=c),M3(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=wh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=cb(Be.fromDom(t))?o:Xt.trim(o);return M3(e,c,i.no_selection),{content:c,html:c}}},T7=(e,t,o,i)=>{E3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=wh({validate:!1},e.schema).serialize(o),m=xl(cb(Be.fromDom(t))?c:Xt.trim(c));return M3(e,m,i.no_selection),{content:o,html:m}},O7=(e,t,o)=>Q.from(e.getBody()).map(i=>qb(t)?T7(e,i,t,o):A7(e,i,t,o)).getOr({content:t,html:qb(o.content)?"":o.content}),oN=e=>Me(e)?e:fn,Yd=(e,t,o)=>{let i=e.dom;const c=oN(o);for(;i.parentNode;){i=i.parentNode;const m=Be.fromDom(i),h=t(m);if(h.isSome())return h;if(c(m))break}return Q.none()},J2=(e,t,o)=>{const i=t(e),c=oN(o);return i.orThunk(()=>c(e)?Q.none():Yd(e,t,c))},hS=z0,B3=(e,t,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const m=i[c];if(Hc(m)&&m.inherit===!1&&e.dom.is(t,m.selector))return!0}return!1},pS=(e,t,o,i,c)=>{const m=e.dom.getRoot();if(t===m)return!1;const h=e.dom.getParent(t,C=>B3(e,C,o)?!0:C.parentNode===m||!!fg(e,C,o,i,!0));return!!fg(e,h,o,i,c)},vS=(e,t,o)=>ha(o)&&hS(t,o.inline)||Gf(o)&&hS(t,o.block)?!0:Hc(o)?En(t)&&e.is(t,o.selector):!1,L3=(e,t,o,i,c,m)=>{const h=o[i],C=i==="attributes";if(Me(o.onmatch))return o.onmatch(t,o,i);if(h){if(rn(h)){for(let A=0;A<h.length;A++)if(C?e.getAttrib(t,h[A]):m2(e,t,h[A]))return!0}else for(const A in h)if(io(h,A)){const F=C?e.getAttrib(t,A):m2(e,t,A),j=ph(h[A],m),Y=st(F)||Wt(F);if(Y&&st(j))continue;if(c&&Y&&!o.exact||(!c||o.exact)&&!hS(F,a_(j,A)))return!1}}return!0},fg=(e,t,o,i,c)=>{const m=e.formatter.get(o),h=e.dom;if(m&&En(t))for(let C=0;C<m.length;C++){const A=m[C];if(vS(e.dom,t,A)&&L3(h,t,A,"attributes",c,i)&&L3(h,t,A,"styles",c,i)){const F=A.classes;if(F){for(let j=0;j<F.length;j++)if(!e.dom.hasClass(t,ph(F[j],i)))return}return A}}},jp=(e,t,o,i,c)=>{if(i)return pS(e,i,t,o,c);if(i=e.selection.getNode(),pS(e,i,t,o,c))return!0;const m=e.selection.getStart();return!!(m!==i&&pS(e,m,t,o,c))},sN=(e,t,o)=>{const i=[],c={},m=e.selection.getStart();return e.dom.getParent(m,h=>{for(let C=0;C<t.length;C++){const A=t[C];!c[A]&&fg(e,h,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},rN=(e,t)=>{const o=c=>qo(c,Be.fromDom(e.getBody())),i=(c,m)=>fg(e,c.dom,m)?Q.some(m):Q.none();return Q.from(e.selection.getStart(!0)).bind(c=>J2(Be.fromDom(c),m=>tr(t,h=>i(m,h)),o)).getOrNull()},iN=(e,t)=>{const o=e.formatter.get(t),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=g2(i,c);for(let h=o.length-1;h>=0;h--){const C=o[h];if(!Hc(C))return!0;for(let A=m.length-1;A>=0;A--)if(i.is(m[A],C.selector))return!0}}return!1},F3=(e,t,o)=>Vt(o,(i,c)=>{const m=K5(e,c);return e.formatter.matchNode(t,c,{},m)?i.concat([c]):i},[]),Q2=_i,D7=(e,t)=>e.importNode(t,!0),aN=e=>{if(e){const t=new ca(e,e);for(let o=t.current();o;o=t.next())if(Ut(o))return o}return null},mg=e=>{const t=Be.fromTag("span");return Pa(t,{id:M0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Zr(t,Be.fromText(Q2)),t},V3=e=>{const t=aN(e);return t&&t.data.charAt(0)===Q2&&t.deleteData(0,1),t},z3=(e,t,o)=>{const i=e.dom,c=e.selection;if(lA(t))Cl(e,!1,Be.fromDom(t),o,!0);else{const m=c.getRng(),h=i.getParent(t,i.isBlock),C=m.startContainer,A=m.startOffset,F=m.endContainer,j=m.endOffset,Y=V3(t);i.remove(t,!0),C===Y&&A>0&&m.setStart(Y,A-1),F===Y&&j>0&&m.setEnd(Y,j-1),h&&i.isEmpty(h)&&Lc(Be.fromDom(h)),c.setRng(m)}},H3=(e,t,o)=>{const i=e.dom,c=e.selection;if(t)z3(e,t,o);else if(t=Tp(e.getBody(),c.getStart()),!t)for(;t=i.get(M0);)z3(e,t,o)},Yb=(e,t,o)=>{var i,c;const m=e.dom,h=m.getParent(o,tt(i_,e.schema));h&&m.isEmpty(h)?(i=o.parentNode)===null||i===void 0||i.replaceChild(t,o):(ic(Be.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(t,o):m.insertAfter(t,o))},$3=(e,t)=>(e.appendChild(t),t),ew=(e,t)=>{var o;const i=Ft(e,(m,h)=>$3(m,h.cloneNode(!1)),t),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return $3(i,c.createTextNode(Q2))},R7=(e,t,o,i,c,m)=>{const h=e.formatter,C=e.dom,A=vt(Kt(h.get()),Y=>Y!==i&&!Is(Y,"removeformat")),F=F3(e,o,A);if(vt(F,Y=>!G5(e,Y,i)).length>0){const Y=o.cloneNode(!1);return C.add(t,Y),h.remove(i,c,Y,m),C.remove(Y),Q.some(Y)}else return Q.none()},lN=e=>sb(e,jm(e).replace(new RegExp(`${Di}$`)," ")),U3=(e,t)=>{const o=()=>{t!==null&&!e.dom.isEmpty(t)&&wi(Be.fromDom(t)).each(i=>{lr(i)?lN(i):Ui(i,c=>lr(c)).each(c=>{lr(c)&&lN(c)})})};e.once("input",i=>{i.data&&!Rb(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},Eh=(e,t,o)=>{let i;const c=e.selection,m=e.formatter.get(t);if(!m)return;const h=c.getRng();let C=h.startOffset;const F=h.startContainer.nodeValue;i=Tp(e.getBody(),c.getStart());const j=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(F&&C>0&&C<F.length&&j.test(F.charAt(C))&&j.test(F.charAt(C-1))){const Y=c.getBookmark();h.collapse(!0);let ee=Rp(e.dom,h,m);ee=D2(ee),e.formatter.apply(t,o,ee),c.moveToBookmark(Y)}else{let Y=i?aN(i):null;(!i||(Y==null?void 0:Y.data)!==Q2)&&(i=D7(e.getDoc(),mg(!0).dom),Y=i.firstChild,h.insertNode(i),C=1,U3(e,i)),e.formatter.apply(t,o,i),c.setCursorLocation(Y,C)}},W3=(e,t,o,i)=>{const c=e.dom,m=e.selection;let h=!1;const C=e.formatter.get(t);if(!C)return;const A=m.getRng(),F=A.startContainer,j=A.startOffset;let Y=F;Ut(F)&&(j!==F.data.length&&(h=!0),Y=Y.parentNode);const ee=[];let ge;for(;Y;){if(fg(e,Y,t,o,i)){ge=Y;break}Y.nextSibling&&(h=!0),ee.push(Y),Y=Y.parentNode}if(ge)if(h){const _e=m.getBookmark();A.collapse(!0);let pe=Rp(c,A,C,!0);pe=D2(pe),e.formatter.remove(t,o,pe,i),m.moveToBookmark(_e)}else{const _e=Tp(e.getBody(),ge),pe=Se(_e)?c.getParents(ge.parentNode,_n,_e):[],Ae=mg(!1).dom;Yb(e,Ae,_e??ge);const He=R7(e,Ae,ge,t,o,i),Qe=ew([...ee,...He.toArray(),...pe],Ae);_e&&z3(e,_e,Se(_e)),m.setCursorLocation(Qe,1),U3(e,Ae),c.isEmpty(ge)&&c.remove(ge)}},Z3=(e,t,o)=>{const i=e.selection,c=e.getBody();H3(e,null,o),(t===8||t===46)&&i.isCollapsed()&&i.getStart().innerHTML===Q2&&H3(e,Tp(c,i.getStart()),!0),(t===37||t===39)&&H3(e,Tp(c,i.getStart()),!0)},j3=e=>Ut(e)&&Ee(e.data,Di),cN=e=>{e.on("mouseup keydown",t=>{Z3(e,t.keyCode,j3(e.selection.getRng().endContainer))})},K3=e=>{const t=mg(!1),o=ew(e,t.dom);return{caretContainer:t,caretPosition:xt(o,0)}},G3=(e,t)=>{const{caretContainer:o,caretPosition:i}=K3(t);return Rr(Be.fromDom(e),o),Os(Be.fromDom(e)),i},I7=(e,t)=>{const{caretContainer:o,caretPosition:i}=K3(t);return e.insertNode(o.dom),i},ny=(e,t)=>{if(bu(t.dom))return!1;const o=e.schema.getTextInlineElements();return io(o,Go(t))&&!bu(t.dom)&&!kf(t.dom)},Kp={},q3=ua(["pre"]),uN=(e,t)=>{Kp[e]||(Kp[e]=[]),Kp[e].push(t)},dN=(e,t)=>{io(Kp,e)&&he(Kp[e],o=>{o(t)})};uN("pre",e=>{const t=e.selection.getRng(),o=c=>m=>{const h=m.previousSibling;return q3(h)&&re(c,h)},i=(c,m)=>{const h=Be.fromDom(m),C=tc(h).dom;Os(h),ti(Be.fromDom(c),[Be.fromTag("br",C),Be.fromTag("br",C),...la(h)])};if(!t.collapsed){const c=e.selection.getSelectedBlocks(),m=vt(vt(c,q3),o(c));he(m,h=>{i(h.previousSibling,h)})}});const Y3=["fontWeight","fontStyle","color","fontSize","fontFamily"],bS=e=>te(e.styles)&&be(Kt(e.styles),t=>re(Y3,t)),X3=e=>cn(e,t=>ha(t)&&t.inline==="span"&&bS(t)),oy=(e,t)=>{const o=e.get(t);return ie(o)?X3(o):Q.none()},fN=(e,t)=>zc(t,xt.fromRangeStart(e)).isNone(),J3=(e,t)=>Gl(t,xt.fromRangeEnd(e)).exists(o=>!gr(o.getNode())||Gl(t,o).isSome())===!1,mN=e=>t=>sx(t)&&e.isEditable(t),N7=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return fN(o,t[0])&&J3(o,t[0])?t:[];{const i=hn(t).filter(h=>fN(o,h)).toArray(),c=Eo(t).filter(h=>J3(o,h)).toArray(),m=t.slice(1,-1);return i.concat(m).concat(c)}},gN=e=>vt(N7(e),mN(e.dom)),Q3=e=>vt(e.getSelectedBlocks(),mN(e.dom)),e4=Xt.each,yS=e=>En(e)&&!yu(e)&&!bu(e)&&!kf(e),Gp=(e,t)=>{for(let o=e;o;o=o[t]){if(Ut(o)&&Je(o.data))return e;if(En(o)&&!yu(o))return o}return e},t4=(e,t,o)=>{const i=nS(e),c=iu(t)&&e.dom.isEditable(t),m=iu(o)&&e.dom.isEditable(o);if(c&&m){const h=Gp(t,"previousSibling"),C=Gp(o,"nextSibling");if(i.compare(h,C)){for(let A=h.nextSibling;A&&A!==C;){const F=A;A=A.nextSibling,h.appendChild(F)}return e.dom.remove(C),Xt.each(Xt.grep(C.childNodes),A=>{h.appendChild(A)}),h}}return o},xS=(e,t,o,i)=>{var c;if(i&&t.merge_siblings!==!1){const m=(c=t4(e,Ib(i),i))!==null&&c!==void 0?c:i;t4(e,m,Ib(m,!0))}},hN=(e,t,o)=>{if(t.clear_child_styles){const i=t.links?"*:not(a)":"*";e4(e.select(i,o),c=>{yS(c)&&e.isEditable(c)&&e4(t.styles,(m,h)=>{e.setStyle(c,h,"")})})}},tw=(e,t,o)=>{e4(e.childNodes,i=>{yS(i)&&(t(i)&&o(i),i.hasChildNodes()&&tw(i,t,o))})},qp=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},n4=(e,t)=>o=>!!(o&&m2(e,o,t)),Cu=(e,t,o)=>i=>{e.setStyle(i,t,o),i.getAttribute("style")===""&&i.removeAttribute("style"),qp(e,i)},ld=Ko.generate([{keep:[]},{rename:["name"]},{removed:[]}]),o4=/^(src|href|style)$/,wS=Xt.each,CS=z0,pN=e=>/^(TR|TH|TD)$/.test(e.nodeName),Xb=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),nw=(e,t,o)=>{let i=t[o?"startContainer":"endContainer"],c=t[o?"startOffset":"endOffset"];if(En(i)){const m=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>m?m:c]}return Ut(i)&&o&&c>=i.data.length&&(i=new ca(i,e.getBody()).next()||i),Ut(i)&&!o&&c===0&&(i=new ca(i,e.getBody()).prev()||i),i},s4=(e,t)=>{const o=t?"firstChild":"lastChild",i=e[o];return pN(e)&&i?e.nodeName==="TR"&&i[o]||i:e},_S=(e,t,o,i)=>{var c;const m=e.create(o,i);return(c=t.parentNode)===null||c===void 0||c.insertBefore(m,t),m.appendChild(t),m},SS=(e,t,o,i,c)=>{const m=Be.fromDom(t),h=Be.fromDom(e.create(i,c)),C=o?Tm(m):Hu(m);return ti(h,C),o?(Rr(m,h),Fa(h,m)):(it(m,h),Zr(h,m)),h.dom},P7=(e,t)=>t.links&&e.nodeName==="A",vN=(e,t,o)=>{const i=t.parentNode;let c;const m=e.dom,h=rl(e);Gf(o)&&i===m.getRoot()&&(!o.list_block||!CS(t,o.list_block))&&he(vo(t.childNodes),C=>{Op(e,h,C.nodeName.toLowerCase())?c?c.appendChild(C):(c=_S(m,C,h),m.setAttribs(c,Kx(e))):c=null}),!(X5(o)&&!CS(o.inline,t))&&m.remove(t,!0)},r4=(e,t,o)=>D(e)?{name:t,value:null}:{name:e,value:ph(t,o)},bN=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Zc=(e,t,o,i,c)=>{let m=!1;wS(o.styles,(h,C)=>{const{name:A,value:F}=r4(C,h,i),j=a_(F,A);(o.remove_similar||Ue(F)||!En(c)||CS(m2(e,c,A),j))&&e.setStyle(t,A,""),m=!0}),m&&bN(e,t)},i4=(e,t,o)=>{t==="removeformat"?he(Q3(e.selection),i=>{he(Y3,c=>e.dom.setStyle(i,c,"")),bN(e.dom,i)}):oy(e.formatter,t).each(i=>{he(Q3(e.selection),c=>Zc(e.dom,c,i,o,null))})},a4=(e,t,o,i,c)=>{const m=e.dom,h=nS(e),C=e.schema;if(ha(t)&&zv(C,t.inline)&&Of(C,i)&&i.parentElement===e.getBody())return vN(e,i,t),ld.removed();if(!t.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!vS(m,i,t)&&!P7(i,t))return ld.keep();const A=i,F=t.preserve_attributes;if(ha(t)&&t.remove==="all"&&ie(F)){const j=vt(m.getAttribs(A),Y=>re(F,Y.name.toLowerCase()));if(m.removeAllAttribs(A),he(j,Y=>m.setAttrib(A,Y.name,Y.value)),j.length>0)return ld.rename("span")}if(t.remove!=="all"){Zc(m,A,t,o,c),wS(t.attributes,(Y,ee)=>{const{name:ge,value:_e}=r4(ee,Y,o);if(t.remove_similar||Ue(_e)||!En(c)||CS(m.getAttrib(c,ge),_e)){if(ge==="class"){const pe=m.getAttrib(A,ge);if(pe){let Ae="";if(he(pe.split(/\s+/),He=>{/mce\-\w+/.test(He)&&(Ae+=(Ae?" ":"")+He)}),Ae){m.setAttrib(A,ge,Ae);return}}}if(o4.test(ge)&&A.removeAttribute("data-mce-"+ge),ge==="style"&&ua(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ge),m.setStyle(A,"list-style-type","none");return}ge==="class"&&A.removeAttribute("className"),A.removeAttribute(ge)}}),wS(t.classes,Y=>{Y=ph(Y,o),(!En(c)||m.hasClass(c,Y))&&m.removeClass(A,Y)});const j=m.getAttribs(A);for(let Y=0;Y<j.length;Y++){const ee=j[Y].nodeName;if(!h.isAttributeInternal(ee))return ld.keep()}}return t.remove!=="none"?(vN(e,A,t),ld.removed()):ld.keep()},l4=(e,t,o,i,c)=>{let m;return t.parentNode&&he(g2(e.dom,t.parentNode).reverse(),h=>{if(!m&&En(h)&&h.id!=="_start"&&h.id!=="_end"){const C=fg(e,h,o,i,c);C&&C.split!==!1&&(m=h)}}),m},yN=(e,t,o,i)=>a4(e,t,o,i,i).fold(et(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),et(null)),ow=(e,t,o,i,c,m,h,C)=>{var A,F;let j,Y;const ee=e.dom;if(o){const ge=o.parentNode;for(let _e=i.parentNode;_e&&_e!==ge;_e=_e.parentNode){let pe=ee.clone(_e,!1);for(let Ae=0;Ae<t.length&&(pe=yN(e,t[Ae],C,pe),pe!==null);Ae++);pe&&(j&&pe.appendChild(j),Y||(Y=pe),j=pe)}(!h.mixed||!ee.isBlock(o))&&(i=(A=ee.split(o,i))!==null&&A!==void 0?A:i),j&&Y&&((F=c.parentNode)===null||F===void 0||F.insertBefore(j,c),Y.appendChild(c),ha(h)&&xS(e,h,C,j))}return i},Ah=(e,t,o,i,c)=>{const m=e.formatter.get(t),h=m[0],C=e.dom,A=e.selection,F=pe=>{const Ae=l4(e,pe,t,o,c);return ow(e,m,Ae,pe,pe,!0,h,o)},j=pe=>yu(pe)&&En(pe)&&(pe.id==="_start"||pe.id==="_end"),Y=pe=>be(m,Ae=>Xp(e,Ae,o,pe,pe)),ee=pe=>{const Ae=vo(pe.childNodes),Qe=Y(pe)||be(m,Bt=>vS(C,pe,Bt)),Xe=pe.parentNode;if(!Qe&&Se(Xe)&&c_(h)&&Y(Xe),h.deep&&Ae.length)for(let Bt=0;Bt<Ae.length;Bt++)ee(Ae[Bt]);he(["underline","line-through","overline"],Bt=>{En(pe)&&e.dom.getStyle(pe,"text-decoration")===Bt&&pe.parentNode&&aA(C,pe.parentNode)===Bt&&Xp(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Bt}},void 0,pe)})},ge=pe=>{const Ae=C.get(pe?"_start":"_end");if(Ae){let He=Ae[pe?"firstChild":"lastChild"];return j(He)&&(He=He[pe?"firstChild":"lastChild"]),Ut(He)&&He.data.length===0&&(He=pe?Ae.previousSibling||Ae.nextSibling:Ae.nextSibling||Ae.previousSibling),C.remove(Ae,!0),He}else return null},_e=pe=>{let Ae,He,Qe=Rp(C,pe,m,pe.collapsed);if(h.split){if(Qe=D2(Qe),Ae=nw(e,Qe,!0),He=nw(e,Qe),Ae!==He){if(Ae=s4(Ae,!0),He=s4(He,!1),Xb(C,Ae,He)){const dt=Q.from(Ae.firstChild).getOr(Ae);F(SS(C,dt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ge(!0);return}if(Xb(C,He,Ae)){const dt=Q.from(He.lastChild).getOr(He);F(SS(C,dt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ge(!1);return}Ae=_S(C,Ae,"span",{id:"_start","data-mce-type":"bookmark"}),He=_S(C,He,"span",{id:"_end","data-mce-type":"bookmark"});const Xe=C.createRng();Xe.setStartAfter(Ae),Xe.setEndBefore(He),b2(C,Xe,dt=>{he(dt,Bt=>{!yu(Bt)&&!yu(Bt.parentNode)&&F(Bt)})}),F(Ae),F(He),Ae=ge(!0),He=ge()}else Ae=He=F(Ae);Qe.startContainer=Ae.parentNode?Ae.parentNode:Ae,Qe.startOffset=C.nodeIndex(Ae),Qe.endContainer=He.parentNode?He.parentNode:He,Qe.endOffset=C.nodeIndex(He)+1}b2(C,Qe,Xe=>{he(Xe,ee)})};if(i){if(V0(i)){const pe=C.createRng();pe.setStartBefore(i),pe.setEndAfter(i),_e(pe)}else _e(i);iR(e,t,i,o);return}!A.isCollapsed()||!ha(h)||Kf(e).length?(sA(e,()=>F0(e,_e),pe=>ha(h)&&jp(e,t,o,pe)),e.nodeChanged()):W3(e,t,o,c),i4(e,t,o),iR(e,t,i,o)},Yp=(e,t,o,i,c)=>{(i||e.selection.isEditable())&&Ah(e,t,o,i,c)},Xp=(e,t,o,i,c)=>a4(e,t,o,i,c).fold(fn,m=>(e.dom.rename(i,m),!0),_n),kS=Xt.each,c4=(e,t,o,i)=>{const c=m=>{if(iu(m)&&En(m.parentNode)&&e.isEditable(m)){const h=aA(e,m.parentNode);e.getStyle(m,"color")&&h?e.setStyle(m,"text-decoration",h):e.getStyle(m,"text-decoration")===h&&e.setStyle(m,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Xt.walk(i,c,"childNodes"),c(i))},xN=(e,t,o,i)=>{if(t.styles&&t.styles.backgroundColor){const c=n4(e,"fontSize");tw(i,m=>c(m)&&e.isEditable(m),Cu(e,"backgroundColor",ph(t.styles.backgroundColor,o)))}},M7=(e,t,o,i)=>{if(ha(t)&&(t.inline==="sub"||t.inline==="sup")){const c=n4(e,"fontSize");tw(i,h=>c(h)&&e.isEditable(h),Cu(e,"fontSize",""));const m=vt(e.select(t.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},wN=(e,t,o,i)=>{kS(t,c=>{ha(c)&&kS(e.dom.select(c.inline,i),m=>{yS(m)&&Xp(e,c,o,m,c.exact?m:null)}),hN(e.dom,c,i)})},CN=(e,t,o,i,c)=>{const m=c.parentNode;fg(e,m,o,i)&&Xp(e,t,i,c)||t.merge_with_parents&&m&&e.dom.getParent(m,h=>fg(e,h,o,i)?(Xp(e,t,i,c),!0):!1)},sw=Xt.each,_N=(e,t,o,i)=>{if(TL(e)&&ha(t)&&o.parentNode){const c=e0(e.schema),m=Nv(Be.fromDom(o),h=>bu(h.dom));return Wl(c,i)&&sc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},SN=(e,t,o,i)=>{if(sw(o.styles,(c,m)=>{e.setStyle(t,m,ph(c,i))}),o.styles){const c=e.getAttrib(t,"style");c&&e.setAttrib(t,"data-mce-style",c)}},B7=(e,t,o,i)=>{const c=e.formatter.get(t),m=c[0],h=!i&&e.selection.isCollapsed(),C=e.dom,A=e.selection,F=(_e,pe=m)=>{Me(pe.onformat)&&pe.onformat(_e,pe,o,i),SN(C,_e,pe,o),sw(pe.attributes,(Ae,He)=>{C.setAttrib(_e,He,ph(Ae,o))}),sw(pe.classes,Ae=>{const He=ph(Ae,o);C.hasClass(_e,He)||C.addClass(_e,He)})},j=(_e,pe)=>{let Ae=!1;return sw(_e,He=>Hc(He)?C.getContentEditable(pe)==="false"&&!He.ceFalseOverride||Se(He.collapsed)&&He.collapsed!==h?!0:C.is(pe,He.selector)&&!bu(pe)?(F(pe,He),Ae=!0,!1):!0:!1),Ae},Y=_e=>{if(Re(_e)){const pe=C.create(_e);return F(pe),pe}else return null},ee=(_e,pe,Ae)=>{const He=[];let Qe=!0;const Xe=m.inline||m.block,dt=Y(Xe),Bt=kt=>q5(m)&&fg(e,kt,t,o),Yt=(kt,bt,It)=>{const Cn=Y5(m)&&i_(e.schema,kt)&&Op(e,bt,Xe);return It&&Cn},pn=(kt,bt,It,Cn)=>{const Vn=kt.nodeName.toLowerCase(),Io=Op(e,Xe,Vn)&&Op(e,bt,Xe),Vo=!Ae&&Ut(kt)&&Fc(kt.data),Ds=bu(kt),Hs=!ha(m)||!_e.isBlock(kt);return(It||Cn)&&Io&&!Vo&&!Ds&&Hs};b2(_e,pe,kt=>{let bt;const It=Cn=>{let Vn=!1,Io=Qe,Vo=!1;const Ds=Cn.parentNode,Hs=Ds.nodeName.toLowerCase(),ui=_e.getContentEditable(Cn);Se(ui)&&(Io=Qe,Qe=ui==="true",Vn=!0,Vo=iA(e,Cn));const kl=Qe&&!Vn;if(gr(Cn)&&!_N(e,m,Cn,Hs)){bt=null,Gf(m)&&_e.remove(Cn);return}if(Bt(Cn)){bt=null;return}if(Yt(Cn,Hs,kl)){const Gs=_e.rename(Cn,Xe);F(Gs),He.push(Gs),bt=null;return}if(Hc(m)){let Gs=j(c,Cn);if(!Gs&&Se(Ds)&&c_(m)&&(Gs=j(c,Ds)),!ha(m)||Gs){bt=null;return}}Se(dt)&&pn(Cn,Hs,kl,Vo)?(bt||(bt=_e.clone(dt,!1),Ds.insertBefore(bt,Cn),He.push(bt)),Vo&&Vn&&(Qe=Io),bt.appendChild(Cn)):(bt=null,he(vo(Cn.childNodes),It),Vn&&(Qe=Io),bt=null)};he(kt,It)}),m.links===!0&&he(He,kt=>{const bt=It=>{It.nodeName==="A"&&F(It,m),he(vo(It.childNodes),bt)};bt(kt)}),he(He,kt=>{const bt=Vn=>{let Io=0;return he(Vn.childNodes,Vo=>{!nF(Vo)&&!yu(Vo)&&Io++}),Io},It=Vn=>cn(Vn.childNodes,r_).filter(Vo=>_e.getContentEditable(Vo)!=="false"&&vS(_e,Vo,m)).map(Vo=>{const Ds=_e.clone(Vo,!1);return F(Ds),_e.replace(Ds,Vn,!0),_e.remove(Vo,!0),Ds}).getOr(Vn),Cn=bt(kt);if((He.length>1||!_e.isBlock(kt))&&Cn===0){_e.remove(kt,!0);return}(ha(m)||Gf(m)&&m.wrapper)&&(!m.exact&&Cn===1&&(kt=It(kt)),wN(e,c,o,kt),CN(e,m,t,o,kt),xN(_e,m,o,kt),c4(_e,m,o,kt),M7(_e,m,o,kt),xS(e,m,o,kt))})},ge=V0(i)?i:A.getNode();if(C.getContentEditable(ge)==="false"&&!iA(e,ge)){i=ge,j(c,i),rR(e,t,i,o);return}if(m){if(i)if(V0(i)){if(!j(c,i)){const _e=C.createRng();_e.setStartBefore(i),_e.setEndAfter(i),ee(C,Rp(C,_e,c),!0)}}else ee(C,i,!0);else!h||!ha(m)||Kf(e).length?(A.setRng(iS(A.getRng())),sA(e,()=>{F0(e,(_e,pe)=>{const Ae=pe?_e:Rp(C,_e,c);ee(C,Ae,!1)})},_n),e.nodeChanged()):Eh(e,t,o),oy(e.formatter,t).each(_e=>{he(gN(e.selection),pe=>SN(C,pe,_e,o))});dN(t,e)}rR(e,t,i,o)},kN=(e,t,o,i)=>{(i||e.selection.isEditable())&&B7(e,t,o,i)},ql=e=>io(e,"vars"),EN=(e,t)=>{e.set({}),t.on("NodeChange",o=>{d4(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const i=Q.from(o.node).map(c=>V0(c)?c:c.startContainer).bind(c=>En(c)?Q.some(c):Q.from(c.parentElement)).getOrThunk(()=>sy(t));d4(t,i,e.get())})},sy=e=>e.selection.getStart(),AN=(e,t,o,i,c)=>wn(t,C=>{const A=e.formatter.matchNode(C,o,c??{},i);return!qe(A)},C=>B3(e,C,o)?!0:i?!1:Se(e.formatter.matchNode(C,o,c,!0))),u4=(e,t)=>{const o=t??sy(e);return vt(g2(e.dom,o),i=>En(i)&&!kf(i))},d4=(e,t,o)=>{const i=u4(e,t);ss(o,(c,m)=>{const h=C=>{const A=AN(e,i,m,C.similar,ql(C)?C.vars:void 0),F=A.isSome();if(C.state.get()!==F){C.state.set(F);const j=A.getOr(t);ql(C)?C.callback(F,{node:j,format:m,parents:i}):he(C.callbacks,Y=>Y(F,{node:j,format:m,parents:i}))}};he([c.withSimilar,c.withoutSimilar],h),he(c.withVars,h)})},f4=(e,t,o,i,c,m)=>{const h=t.get();he(o.split(","),C=>{const A=Ts(h,C).getOrThunk(()=>{const j={withSimilar:{state:Ri(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ri(!1),similar:!1,callbacks:[]},withVars:[]};return h[C]=j,j}),F=()=>{const j=u4(e);return AN(e,j,C,c,m).isSome()};if(qe(m)){const j=c?A.withSimilar:A.withoutSimilar;j.callbacks.push(i),j.callbacks.length===1&&j.state.set(F())}else A.withVars.push({state:Ri(F()),similar:c,vars:m,callback:i})}),t.set(h)},TN=(e,t,o)=>{const i=e.get();he(t.split(","),c=>Ts(i,c).each(m=>{i[c]={withSimilar:{...m.withSimilar,callbacks:vt(m.withSimilar.callbacks,h=>h!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:vt(m.withoutSimilar.callbacks,h=>h!==o)},withVars:vt(m.withVars,h=>h.callback!==o)}})),e.set(i)},L7=(e,t,o,i,c,m)=>(f4(e,t,o,i,c,m),{unbind:()=>TN(t,o,i)}),F7=(e,t,o,i)=>{const c=e.formatter.get(t);c&&(jp(e,t,o,i)&&(!("toggle"in c[0])||c[0].toggle)?Yp(e,t,o,i):kN(e,t,o,i))},ON=Xt.explode,ES=()=>{const e={};return{addFilter:(c,m)=>{he(ON(c),h=>{io(e,h)||(e[h]={name:h,callbacks:[]}),e[h].callbacks.push(m)})},getFilters:()=>Nu(e),removeFilter:(c,m)=>{he(ON(c),h=>{if(io(e,h))if(Se(m)){const C=e[h],A=vt(C.callbacks,F=>F!==m);A.length>0?C.callbacks=A:delete e[h]}else delete e[h]})}}},V7=(e,t)=>{he(t,o=>{e.attr(o,null)})},z7=(e,t,o)=>{e.addNodeFilter("font",i=>{he(i,c=>{const m=t.parse(c.attr("style")),h=c.attr("color"),C=c.attr("face"),A=c.attr("size");h&&(m.color=h),C&&(m["font-family"]=C),A&&un(A).each(F=>{m["font-size"]=o[F-1]}),c.name="span",c.attr("style",t.serialize(m)),V7(c,["color","face","size"])})})},DN=(e,t,o)=>{e.addNodeFilter("strike",i=>{const c=t.type!=="html4";he(i,m=>{if(c)m.name="s";else{const h=o.parse(m.attr("style"));h["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(h))}})})},H7=(e,t,o)=>{var i;const c=Cx();t.convert_fonts_to_spans&&z7(e,c,Xt.explode((i=t.font_size_legacy_values)!==null&&i!==void 0?i:"")),DN(e,o,c)},$7=(e,t,o)=>{t.inline_styles&&H7(e,t,o)},m4=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),AS=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},TS=e=>{const[t,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(c){const m=c[2]===";base64",h=m?AS(i):decodeURIComponent(i);return Q.some({type:c[1],data:h,base64Encoded:m})}else return Q.none()},g4=(e,t,o=!0)=>{let i=t;if(o)try{i=atob(t)}catch{return Q.none()}const c=new Uint8Array(i.length);for(let m=0;m<c.length;m++)c[m]=i.charCodeAt(m);return Q.some(new Blob([c],{type:e}))},h4=e=>new Promise((t,o)=>{TS(e).bind(({type:i,data:c,base64Encoded:m})=>g4(i,c,m)).fold(()=>o("Invalid data URI"),t)}),U7=e=>ar(e,"blob:")?m4(e):ar(e,"data:")?h4(e):Promise.reject("Unknown URI format"),RN=e=>new Promise((t,o)=>{const i=new FileReader;i.onloadend=()=>{t(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let W7=0;const Jb=e=>"blobid"+W7++,IN=(e,t,o)=>TS(e).bind(({data:i,type:c,base64Encoded:m})=>{if(t&&!m)return Q.none();{const h=m?i:btoa(i);return o(h,c)}}),rw=(e,t,o)=>{const i=e.create(Jb(),t,o);return e.add(i),i},NN=(e,t,o=!1)=>IN(t,o,(i,c)=>Q.from(e.getByData(i,c)).orThunk(()=>g4(c,i).map(m=>rw(e,m,i)))),p4=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(ar(t,"blob:")){const i=e.getByUri(t);return Se(i)?Promise.resolve(i):U7(t).then(c=>RN(c).then(m=>IN(m,!1,h=>Q.some(rw(e,c,h))).getOrThunk(o)))}else return ar(t,"data:")?NN(e,t).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},PN=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,MN=e=>Q.from(e.match(PN)).bind(t=>Tr(t,1)).map(t=>ar(t,"www.")?t.substring(4):t),v4=(e,t)=>{Q.from(e.attr("src")).bind(MN).forall(o=>!re(t,o))&&e.attr("sandbox","")},ry=(e,t)=>ar(e,`${t}/`),Z7=e=>qe(e)?"iframe":ry(e,"image")?"img":ry(e,"video")?"video":ry(e,"audio")?"audio":"iframe",j7=({type:e,src:t,width:o,height:i}={},c,m)=>{const h=Z7(e),C=new Da(h,1);return C.attr(h==="audio"?{src:t}:{src:t,width:o,height:i}),(h==="audio"||h==="video")&&C.attr("controls",""),h==="iframe"&&c&&v4(C,m),C},b4=e=>Se(e.attr("data-mce-bogus")),BN=e=>e.attr("src")===Mo.transparentSrc||Se(e.attr("data-mce-placeholder")),K7=(e,t)=>{const{blob_cache:o}=t;if(o){const i=c=>{const m=c.attr("src");BN(c)||b4(c)||st(m)||NN(o,m,!0).each(h=>{c.attr("src",h.blobUri())})};e.addAttributeFilter("src",c=>he(c,i))}},G7=(e,t)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",A=>{let F=A.length;const j=ee=>ee.split(" ").filter(_e=>_e.length>0).concat(["noopener"]).sort().join(" "),Y=ee=>{const ge=ee?Xt.trim(ee):"";return/\b(noopener)\b/g.test(ge)?ge:j(ge)};if(!t.allow_unsafe_link_target)for(;F--;){const ee=A[F];ee.name==="a"&&ee.attr("target")==="_blank"&&ee.attr("rel",Y(ee.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let F=A.length,j,Y,ee,ge;for(;F--;)if(ge=A[F],ge.name==="a"&&ge.firstChild&&!ge.attr("href"))for(ee=ge.parent,j=ge.lastChild;j&&ee;)Y=j.prev,ee.insert(j,ge),j=Y}),t.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let F=A.length,j,Y;for(;F--;)if(j=A[F],Y=j.parent,Y&&(Y.name==="ul"||Y.name==="ol"))if(j.prev&&j.prev.name==="li")j.prev.append(j);else{const ee=new Da("li",1);ee.attr("style","list-style-type: none"),j.wrap(ee)}});const m=c.getValidClasses();t.validate&&m&&e.addAttributeFilter("class",A=>{var F;let j=A.length;for(;j--;){const Y=A[j],ee=(F=Y.attr("class"))!==null&&F!==void 0?F:"",ge=Xt.explode(ee," ");let _e="";for(let pe=0;pe<ge.length;pe++){const Ae=ge[pe];let He=!1,Qe=m["*"];Qe&&Qe[Ae]&&(He=!0),Qe=m[Y.name],!He&&Qe&&Qe[Ae]&&(He=!0),He&&(_e&&(_e+=" "),_e+=Ae)}_e.length||(_e=null),Y.attr("class",_e)}}),K7(e,t);const h=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,C=ea((i=t.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>he(A,F=>{F.replace(j7({type:F.attr("type"),src:F.name==="object"?F.attr("data"):F.attr("src"),width:F.attr("width"),height:F.attr("height")},h,C))})),h&&e.addNodeFilter("iframe",A=>he(A,F=>v4(F,C)))},{entries:LN,setPrototypeOf:FN,isFrozen:y4,getPrototypeOf:VN,getOwnPropertyDescriptor:q7}=Object;let{freeze:jc,seal:pr,create:Y7}=Object,{apply:x4,construct:OS}=typeof Reflect<"u"&&Reflect;x4||(x4=function(t,o,i){return t.apply(o,i)}),jc||(jc=function(t){return t}),pr||(pr=function(t){return t}),OS||(OS=function(t,o){return new t(...o)});const w4=dc(Array.prototype.forEach),zN=dc(Array.prototype.pop),Xd=dc(Array.prototype.push),iy=dc(String.prototype.toLowerCase),DS=dc(String.prototype.toString),C4=dc(String.prototype.match),cd=dc(String.prototype.replace),_4=dc(String.prototype.indexOf),HN=dc(String.prototype.trim),uc=dc(RegExp.prototype.test),Jp=iw(TypeError);function dc(e){return function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return x4(e,t,i)}}function iw(e){return function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return OS(e,o)}}function ts(e,t,o){var i;o=(i=o)!==null&&i!==void 0?i:iy,FN&&FN(e,null);let c=t.length;for(;c--;){let m=t[c];if(typeof m=="string"){const h=o(m);h!==m&&(y4(t)||(t[c]=h),m=h)}e[m]=!0}return e}function gg(e){const t=Y7(null);for(const[o,i]of LN(e))t[o]=i;return t}function aw(e,t){for(;e!==null;){const i=q7(e,t);if(i){if(i.get)return dc(i.get);if(typeof i.value=="function")return dc(i.value)}e=VN(e)}function o(i){return console.warn("fallback value for",i),null}return o}const S4=jc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k4=jc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RS=jc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),X7=jc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E4=jc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lw=jc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$N=jc(["#text"]),UN=jc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),A4=jc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WN=jc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),IS=jc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),J7=pr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q7=pr(/<%[\w\W]*|[\w\W]*%>/gm),eV=pr(/\${[\w\W]*}/gm),tV=pr(/^data-[\-\w.\u00B7-\uFFFF]/),nV=pr(/^aria-[\-\w]+$/),ZN=pr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jN=pr(/^(?:\w+script|data):/i),KN=pr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),T4=pr(/^html$/i);var O4=Object.freeze({__proto__:null,MUSTACHE_EXPR:J7,ERB_EXPR:Q7,TMPLIT_EXPR:eV,DATA_ATTR:tV,ARIA_ATTR:nV,IS_ALLOWED_URI:ZN,IS_SCRIPT_OR_DATA:jN,ATTR_WHITESPACE:KN,DOCTYPE_NAME:T4});const GN=()=>typeof window>"u"?null:window,qN=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const m="dompurify"+(i?"#"+i:"");try{return t.createPolicy(m,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function D4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GN();const t=Uo=>D4(Uo);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:h,Node:C,Element:A,NodeFilter:F,NamedNodeMap:j=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Y,DOMParser:ee,trustedTypes:ge}=e,_e=A.prototype,pe=aw(_e,"cloneNode"),Ae=aw(_e,"nextSibling"),He=aw(_e,"childNodes"),Qe=aw(_e,"parentNode");if(typeof h=="function"){const Uo=c.createElement("template");Uo.content&&Uo.content.ownerDocument&&(c=Uo.content.ownerDocument)}let Xe,dt="";const{implementation:Bt,createNodeIterator:Yt,createDocumentFragment:pn,getElementsByTagName:kt}=c,{importNode:bt}=o;let It={};t.isSupported=typeof LN=="function"&&typeof Qe=="function"&&Bt&&Bt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Cn,ERB_EXPR:Vn,TMPLIT_EXPR:Io,DATA_ATTR:Vo,ARIA_ATTR:Ds,IS_SCRIPT_OR_DATA:Hs,ATTR_WHITESPACE:ui}=O4;let{IS_ALLOWED_URI:kl}=O4,Gs=null;const on=ts({},[...S4,...k4,...RS,...E4,...$N]);let Pn=null;const ys=ts({},[...UN,...A4,...WN,...IS]);let ln=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kn=null,Fo=null,gn=!0,No=!0,$o=!1,Ra=!0,Vs=!1,ba=!1,nm=!1,Lh=!1,gc=!1,md=!1,om=!1,gd=!0,sm=!1;const $n="user-content-";let as=!0,Jr=!1,yi={},Yi=null;const ll=ts({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Li=null;const Fi=ts({},["audio","video","img","source","image","track"]);let hc=null;const Cg=ts({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_g="http://www.w3.org/1998/Math/MathML",Sg="http://www.w3.org/2000/svg",rm="http://www.w3.org/1999/xhtml";let Ey=rm,yk=!1,xk=null;const TH=ts({},[_g,Sg,rm],DS);let m1;const EB=["application/xhtml+xml","text/html"],dK="text/html";let Xl,$w=null;const fK=c.createElement("form"),OH=function(Ct){return Ct instanceof RegExp||Ct instanceof Function},av=function(Ct){if(!($w&&$w===Ct)){if((!Ct||typeof Ct!="object")&&(Ct={}),Ct=gg(Ct),m1=EB.indexOf(Ct.PARSER_MEDIA_TYPE)===-1?m1=dK:m1=Ct.PARSER_MEDIA_TYPE,Xl=m1==="application/xhtml+xml"?DS:iy,Gs="ALLOWED_TAGS"in Ct?ts({},Ct.ALLOWED_TAGS,Xl):on,Pn="ALLOWED_ATTR"in Ct?ts({},Ct.ALLOWED_ATTR,Xl):ys,xk="ALLOWED_NAMESPACES"in Ct?ts({},Ct.ALLOWED_NAMESPACES,DS):TH,hc="ADD_URI_SAFE_ATTR"in Ct?ts(gg(Cg),Ct.ADD_URI_SAFE_ATTR,Xl):Cg,Li="ADD_DATA_URI_TAGS"in Ct?ts(gg(Fi),Ct.ADD_DATA_URI_TAGS,Xl):Fi,Yi="FORBID_CONTENTS"in Ct?ts({},Ct.FORBID_CONTENTS,Xl):ll,Kn="FORBID_TAGS"in Ct?ts({},Ct.FORBID_TAGS,Xl):{},Fo="FORBID_ATTR"in Ct?ts({},Ct.FORBID_ATTR,Xl):{},yi="USE_PROFILES"in Ct?Ct.USE_PROFILES:!1,gn=Ct.ALLOW_ARIA_ATTR!==!1,No=Ct.ALLOW_DATA_ATTR!==!1,$o=Ct.ALLOW_UNKNOWN_PROTOCOLS||!1,Ra=Ct.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Vs=Ct.SAFE_FOR_TEMPLATES||!1,ba=Ct.WHOLE_DOCUMENT||!1,gc=Ct.RETURN_DOM||!1,md=Ct.RETURN_DOM_FRAGMENT||!1,om=Ct.RETURN_TRUSTED_TYPE||!1,Lh=Ct.FORCE_BODY||!1,gd=Ct.SANITIZE_DOM!==!1,sm=Ct.SANITIZE_NAMED_PROPS||!1,as=Ct.KEEP_CONTENT!==!1,Jr=Ct.IN_PLACE||!1,kl=Ct.ALLOWED_URI_REGEXP||ZN,Ey=Ct.NAMESPACE||rm,ln=Ct.CUSTOM_ELEMENT_HANDLING||{},Ct.CUSTOM_ELEMENT_HANDLING&&OH(Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ln.tagNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&OH(Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ln.attributeNameCheck=Ct.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ct.CUSTOM_ELEMENT_HANDLING&&typeof Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ln.allowCustomizedBuiltInElements=Ct.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vs&&(No=!1),md&&(gc=!0),yi&&(Gs=ts({},[...$N]),Pn=[],yi.html===!0&&(ts(Gs,S4),ts(Pn,UN)),yi.svg===!0&&(ts(Gs,k4),ts(Pn,A4),ts(Pn,IS)),yi.svgFilters===!0&&(ts(Gs,RS),ts(Pn,A4),ts(Pn,IS)),yi.mathMl===!0&&(ts(Gs,E4),ts(Pn,WN),ts(Pn,IS))),Ct.ADD_TAGS&&(Gs===on&&(Gs=gg(Gs)),ts(Gs,Ct.ADD_TAGS,Xl)),Ct.ADD_ATTR&&(Pn===ys&&(Pn=gg(Pn)),ts(Pn,Ct.ADD_ATTR,Xl)),Ct.ADD_URI_SAFE_ATTR&&ts(hc,Ct.ADD_URI_SAFE_ATTR,Xl),Ct.FORBID_CONTENTS&&(Yi===ll&&(Yi=gg(Yi)),ts(Yi,Ct.FORBID_CONTENTS,Xl)),as&&(Gs["#text"]=!0),ba&&ts(Gs,["html","head","body"]),Gs.table&&(ts(Gs,["tbody"]),delete Kn.tbody),Ct.TRUSTED_TYPES_POLICY){if(typeof Ct.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ct.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Xe=Ct.TRUSTED_TYPES_POLICY,dt=Xe.createHTML("")}else Xe===void 0&&(Xe=qN(ge,i)),Xe!==null&&typeof dt=="string"&&(dt=Xe.createHTML(""));jc&&jc(Ct),$w=Ct}},AO=ts({},["mi","mo","mn","ms","mtext"]),ht=ts({},["foreignobject","desc","title","annotation-xml"]),yt=ts({},["title","style","font","a","script"]),en=ts({},k4);ts(en,RS),ts(en,X7);const qt=ts({},E4);ts(qt,lw);const eo=function(Ct){let In=Qe(Ct);(!In||!In.tagName)&&(In={namespaceURI:Ey,tagName:"template"});const go=iy(Ct.tagName),Ei=iy(In.tagName);return xk[Ct.namespaceURI]?Ct.namespaceURI===Sg?In.namespaceURI===rm?go==="svg":In.namespaceURI===_g?go==="svg"&&(Ei==="annotation-xml"||AO[Ei]):!!en[go]:Ct.namespaceURI===_g?In.namespaceURI===rm?go==="math":In.namespaceURI===Sg?go==="math"&&ht[Ei]:!!qt[go]:Ct.namespaceURI===rm?In.namespaceURI===Sg&&!ht[Ei]||In.namespaceURI===_g&&!AO[Ei]?!1:!qt[go]&&(yt[go]||!en[go]):!!(m1==="application/xhtml+xml"&&xk[Ct.namespaceURI]):!1},Jo=function(Ct){Xd(t.removed,{element:Ct});try{Ct.parentNode.removeChild(Ct)}catch{Ct.remove()}},Qr=function(Ct,In){try{Xd(t.removed,{attribute:In.getAttributeNode(Ct),from:In})}catch{Xd(t.removed,{attribute:null,from:In})}if(In.removeAttribute(Ct),Ct==="is"&&!Pn[Ct])if(gc||md)try{Jo(In)}catch{}else try{In.setAttribute(Ct,"")}catch{}},kg=function(Ct){let In,go;if(Lh)Ct="<remove></remove>"+Ct;else{const Eg=C4(Ct,/^[\r\n\t ]+/);go=Eg&&Eg[0]}m1==="application/xhtml+xml"&&Ey===rm&&(Ct='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ct+"</body></html>");const Ei=Xe?Xe.createHTML(Ct):Ct;if(Ey===rm)try{In=new ee().parseFromString(Ei,m1)}catch{}if(!In||!In.documentElement){In=Bt.createDocument(Ey,"template",null);try{In.documentElement.innerHTML=yk?dt:Ei}catch{}}const pc=In.body||In.documentElement;return Ct&&go&&pc.insertBefore(c.createTextNode(go),pc.childNodes[0]||null),Ey===rm?kt.call(In,ba?"html":"body")[0]:ba?In.documentElement:pc},AB=function(Ct){return Yt.call(Ct.ownerDocument||Ct,Ct,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},rce=function(Ct){return Ct instanceof Y&&(typeof Ct.nodeName!="string"||typeof Ct.textContent!="string"||typeof Ct.removeChild!="function"||!(Ct.attributes instanceof j)||typeof Ct.removeAttribute!="function"||typeof Ct.setAttribute!="function"||typeof Ct.namespaceURI!="string"||typeof Ct.insertBefore!="function"||typeof Ct.hasChildNodes!="function")},TB=function(Ct){return typeof C=="object"?Ct instanceof C:Ct&&typeof Ct=="object"&&typeof Ct.nodeType=="number"&&typeof Ct.nodeName=="string"},g1=function(Ct,In,go){It[Ct]&&w4(It[Ct],Ei=>{Ei.call(t,In,go,$w)})},mK=function(Ct){let In;if(g1("beforeSanitizeElements",Ct,null),rce(Ct))return Jo(Ct),!0;const go=Xl(Ct.nodeName);if(g1("uponSanitizeElement",Ct,{tagName:go,allowedTags:Gs}),Ct.hasChildNodes()&&!TB(Ct.firstElementChild)&&(!TB(Ct.content)||!TB(Ct.content.firstElementChild))&&uc(/<[/\w]/g,Ct.innerHTML)&&uc(/<[/\w]/g,Ct.textContent))return Jo(Ct),!0;if(!Gs[go]||Kn[go]){if(!Kn[go]&&hK(go)&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go)))return!1;if(as&&!Yi[go]){const Ei=Qe(Ct)||Ct.parentNode,pc=He(Ct)||Ct.childNodes;if(pc&&Ei){const Eg=pc.length;for(let ja=Eg-1;ja>=0;--ja)Ei.insertBefore(pe(pc[ja],!0),Ae(Ct))}}return Jo(Ct),!0}return Ct instanceof A&&!eo(Ct)||(go==="noscript"||go==="noembed"||go==="noframes")&&uc(/<\/no(script|embed|frames)/i,Ct.innerHTML)?(Jo(Ct),!0):(Vs&&Ct.nodeType===3&&(In=Ct.textContent,In=cd(In,Cn," "),In=cd(In,Vn," "),In=cd(In,Io," "),Ct.textContent!==In&&(Xd(t.removed,{element:Ct.cloneNode()}),Ct.textContent=In)),g1("afterSanitizeElements",Ct,null),!1)},gK=function(Ct,In,go){if(gd&&(In==="id"||In==="name")&&(go in c||go in fK))return!1;if(!(No&&!Fo[In]&&uc(Vo,In))){if(!(gn&&uc(Ds,In))){if(!Pn[In]||Fo[In]){if(!(hK(Ct)&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,Ct)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(Ct))&&(ln.attributeNameCheck instanceof RegExp&&uc(ln.attributeNameCheck,In)||ln.attributeNameCheck instanceof Function&&ln.attributeNameCheck(In))||In==="is"&&ln.allowCustomizedBuiltInElements&&(ln.tagNameCheck instanceof RegExp&&uc(ln.tagNameCheck,go)||ln.tagNameCheck instanceof Function&&ln.tagNameCheck(go))))return!1}else if(!hc[In]){if(!uc(kl,cd(go,ui,""))){if(!((In==="src"||In==="xlink:href"||In==="href")&&Ct!=="script"&&_4(go,"data:")===0&&Li[Ct])){if(!($o&&!uc(Hs,cd(go,ui,"")))){if(go)return!1}}}}}}return!0},hK=function(Ct){return Ct.indexOf("-")>0},pK=function(Ct){let In,go,Ei,pc;g1("beforeSanitizeAttributes",Ct,null);const{attributes:Eg}=Ct;if(!Eg)return;const ja={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Pn};for(pc=Eg.length;pc--;){In=Eg[pc];const{name:Ag,namespaceURI:DH}=In;go=Ag==="value"?In.value:HN(In.value);const ace=go;if(Ei=Xl(Ag),ja.attrName=Ei,ja.attrValue=go,ja.keepAttr=!0,ja.forceKeepAttr=void 0,g1("uponSanitizeAttribute",Ct,ja),go=ja.attrValue,ja.forceKeepAttr)continue;if(!ja.keepAttr){Qr(Ag,Ct);continue}if(!Ra&&uc(/\/>/i,go)){Qr(Ag,Ct);continue}Vs&&(go=cd(go,Cn," "),go=cd(go,Vn," "),go=cd(go,Io," "));const vK=Xl(Ct.nodeName);if(!gK(vK,Ei,go)){Qr(Ag,Ct);continue}if(sm&&(Ei==="id"||Ei==="name")&&(Qr(Ag,Ct),go=$n+go),Xe&&typeof ge=="object"&&typeof ge.getAttributeType=="function"&&!DH)switch(ge.getAttributeType(vK,Ei)){case"TrustedHTML":{go=Xe.createHTML(go);break}case"TrustedScriptURL":{go=Xe.createScriptURL(go);break}}if(go!==ace)try{DH?Ct.setAttributeNS(DH,Ag,go):Ct.setAttribute(Ag,go)}catch{Qr(Ag,Ct)}}g1("afterSanitizeAttributes",Ct,null)},ice=function Uo(Ct){let In;const go=AB(Ct);for(g1("beforeSanitizeShadowDOM",Ct,null);In=go.nextNode();)g1("uponSanitizeShadowNode",In,null),!mK(In)&&(In.content instanceof m&&Uo(In.content),pK(In));g1("afterSanitizeShadowDOM",Ct,null)};return t.sanitize=function(Uo){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},In,go,Ei,pc;if(yk=!Uo,yk&&(Uo="<!-->"),typeof Uo!="string"&&!TB(Uo))if(typeof Uo.toString=="function"){if(Uo=Uo.toString(),typeof Uo!="string")throw Jp("dirty is not a string, aborting")}else throw Jp("toString is not a function");if(!t.isSupported)return Uo;if(nm||av(Ct),t.removed=[],typeof Uo=="string"&&(Jr=!1),Jr){if(Uo.nodeName){const Ag=Xl(Uo.nodeName);if(!Gs[Ag]||Kn[Ag])throw Jp("root node is forbidden and cannot be sanitized in-place")}}else if(Uo instanceof C)In=kg("<!---->"),go=In.ownerDocument.importNode(Uo,!0),go.nodeType===1&&go.nodeName==="BODY"||go.nodeName==="HTML"?In=go:In.appendChild(go);else{if(!gc&&!Vs&&!ba&&Uo.indexOf("<")===-1)return Xe&&om?Xe.createHTML(Uo):Uo;if(In=kg(Uo),!In)return gc?null:om?dt:""}In&&Lh&&Jo(In.firstChild);const Eg=AB(Jr?Uo:In);for(;Ei=Eg.nextNode();)mK(Ei)||(Ei.content instanceof m&&ice(Ei.content),pK(Ei));if(Jr)return Uo;if(gc){if(md)for(pc=pn.call(In.ownerDocument);In.firstChild;)pc.appendChild(In.firstChild);else pc=In;return(Pn.shadowroot||Pn.shadowrootmode)&&(pc=bt.call(o,pc,!0)),pc}let ja=ba?In.outerHTML:In.innerHTML;return ba&&Gs["!doctype"]&&In.ownerDocument&&In.ownerDocument.doctype&&In.ownerDocument.doctype.name&&uc(T4,In.ownerDocument.doctype.name)&&(ja="<!DOCTYPE "+In.ownerDocument.doctype.name+`>
`+ja),Vs&&(ja=cd(ja,Cn," "),ja=cd(ja,Vn," "),ja=cd(ja,Io," ")),Xe&&om?Xe.createHTML(ja):ja},t.setConfig=function(Uo){av(Uo),nm=!0},t.clearConfig=function(){$w=null,nm=!1},t.isValidAttribute=function(Uo,Ct,In){$w||av({});const go=Xl(Uo),Ei=Xl(Ct);return gK(go,Ei,In)},t.addHook=function(Uo,Ct){typeof Ct=="function"&&(It[Uo]=It[Uo]||[],Xd(It[Uo],Ct))},t.removeHook=function(Uo){if(It[Uo])return zN(It[Uo])},t.removeHooks=function(Uo){It[Uo]&&(It[Uo]=[])},t.removeAllHooks=function(){It={}},t}var R4=D4();const YN=Xt.each,XN=Xt.trim,oV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],sV={ftp:21,http:80,https:443,mailto:25},JN=["img","video"],QN=(e,t)=>Se(e)?!e:Se(t)?!re(JN,t):!0,rV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},I4=(e,t,o)=>{const i=rV(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?QN(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class ud{static parseDataUri(t){let o;const i=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(t,o,i={}){if(i.allow_script_urls)return!0;{const c=Yg.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!I4(i,c,o)}}static getDocumentBaseUrl(t){var o;let i;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?i=(o=t.href)!==null&&o!==void 0?o:"":i=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(t,o={}){this.path="",this.directory="",t=XN(t),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}const m=t.indexOf("//")===0;if(t.indexOf("/")===0&&!m&&(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const C=i?i.path:new ud(document.location.href).directory;if((i==null?void 0:i.protocol)==="")t="//mce_host"+c.toAbsPath(C,t);else{const A=/([^#?]*)([#?]?.*)/.exec(t);A&&(t=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(C,A[1])+A[2])}}t=t.replace(/@@/g,"(mce_at)");const h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);h&&YN(oV,(C,A)=>{let F=h[A];F&&(F=F.replace(/\(mce_at\)/g,"@@")),c[C]=F}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),m&&(c.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new ud(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(t,o){const i=new ud(t,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?sV[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let i=0,c="",m,h;const C=t.substring(0,t.lastIndexOf("/")).split("/"),A=o.split("/");if(C.length>=A.length){for(m=0,h=C.length;m<h;m++)if(m>=A.length||C[m]!==A[m]){i=m+1;break}}if(C.length<A.length){for(m=0,h=A.length;m<h;m++)if(m>=C.length||C[m]!==A[m]){i=m+1;break}}if(i===1)return o;for(m=0,h=C.length-(i-1);m<h;m++)c+="../";for(m=i-1,h=A.length;m<h;m++)m!==i-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(t,o){let i=0;const c=/\/$/.test(o)?"/":"",m=t.split("/"),h=o.split("/"),C=[];YN(m,Y=>{Y&&C.push(Y)});const A=[];for(let Y=h.length-1;Y>=0;Y--)if(!(h[Y].length===0||h[Y]===".")){if(h[Y]===".."){i++;continue}if(i>0){i--;continue}A.push(h[Y])}const F=C.length-i;let j;return F<=0?j=Ho(A).join("/"):j=C.slice(0,F).join("/")+"/"+Ho(A).join("/"),j.indexOf("/")!==0&&(j="/"+j),c&&j.lastIndexOf("/")!==j.length-1&&(j+=c),j}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const iV=Xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),N4="data-mce-type";let eP=0;const tP=(e,t,o,i,c)=>{var m,h,C,A;const F=t.validate,j=o.getSpecialElements();e.nodeType===hf&&!t.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const Y=(h=c==null?void 0:c.tagName)!==null&&h!==void 0?h:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){Se(c)&&(c.allowedTags[Y]=!0);return}if(e.nodeType!==gl||Y==="body")return;const ee=Be.fromDom(e),ge=Ad(ee,N4),_e=ka(ee,"data-mce-bogus");if(!ge&&Re(_e)){_e==="all"?Os(ee):Va(ee);return}const pe=o.getElementRule(Y);if(F&&!pe){io(j,Y)?Os(ee):Va(ee);return}else Se(c)&&(c.allowedTags[Y]=!0);if(F&&pe&&!ge){if(he((C=pe.attributesForced)!==null&&C!==void 0?C:[],Ae=>{xi(ee,Ae.name,Ae.value==="{$uid}"?`mce_${eP++}`:Ae.value)}),he((A=pe.attributesDefault)!==null&&A!==void 0?A:[],Ae=>{Ad(ee,Ae.name)||xi(ee,Ae.name,Ae.value==="{$uid}"?`mce_${eP++}`:Ae.value)}),pe.attributesRequired&&!be(pe.attributesRequired,Ae=>Ad(ee,Ae))){Va(ee);return}if(pe.removeEmptyAttrs&&ai(ee)){Va(ee);return}pe.outputName&&pe.outputName!==Y&&Nx(ee,pe.outputName)}},aV=(e,t,o,i,c)=>{const m=e.tagName.toLowerCase(),{attrName:h,attrValue:C}=c;c.keepAttr=cw(t,o,i,m,h,C),c.keepAttr?(c.allowedAttributes[h]=!0,M4(h,o)&&(c.attrValue=h),t.allow_svg_data_urls&&ar(C,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):P4(e,h)&&(c.forceKeepAttr=!0)},cw=(e,t,o,i,c,m)=>o!=="html"&&!Bm(i)?!0:!(c in iV&&I4(e,m,i))&&(!e.validate||t.isValid(i,c)||ar(c,"data-")||ar(c,"aria-")),P4=(e,t)=>e.hasAttribute(N4)&&(t==="id"||t==="class"||t==="style"),M4=(e,t)=>e in t.getBoolAttrs(),nP=(e,t,o,i)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const h=c[m],C=h.name,A=h.value;!cw(t,o,i,e.tagName.toLowerCase(),C,A)&&!P4(e,C)?e.removeAttribute(C):M4(C,o)&&e.setAttribute(C,C)}},lV=(e,t,o)=>{const i=R4();return i.addHook("uponSanitizeElement",(c,m)=>{tP(c,e,t,o.track(c),m)}),i.addHook("uponSanitizeAttribute",(c,m)=>{aV(c,e,t,o.current(),m)}),i},cV=(e,t)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=t,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},oP=e=>{const t=xC(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};R4().sanitize(e,i)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};R4().sanitize(e,o)}else throw new Error("Not a namespace element")},uV=(e,t)=>{const o=aE();if(e.sanitize){const i=lV(e,t,o);return{sanitizeHtmlElement:(m,h)=>{i.sanitize(m,cV(e,h)),i.removed=[],o.reset()},sanitizeNamespaceElement:oP}}else return{sanitizeHtmlElement:(m,h)=>{const C=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=C.nextNode();){const F=o.track(A);tP(A,e,t,F),En(A)&&nP(A,e,t,F)}o.reset()},sanitizeNamespaceElement:ct}},NS=Xt.makeMap,B4=Xt.extend,sP=(e,t,o,i)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",h=t.childNodes;for(let C=0,A=h.length;C<A;C++){const F=h[C],j=new Da(F.nodeName.toLowerCase(),F.nodeType);if(En(F)){const Y=F.attributes;for(let ee=0,ge=Y.length;ee<ge;ee++){const _e=Y[ee];j.attr(_e.name,_e.value)}Bm(j.name)&&(i(F),j.value=F.innerHTML)}else Ut(F)?(j.value=F.data,m&&(j.raw=!0)):(ko(F)||ox(F)||Ef(F))&&(j.value=F.data);Bm(j.name)||sP(j,F,o,i),e.append(j)}},pa=(e,t,o)=>{const i=[];for(let c=e,m=c;c;m=c,c=c.walk()){const h=c;he(t,C=>C(h)),st(h.parent)&&h!==e?c=m:i.push(h)}for(let c=i.length-1;c>=0;c--){const m=i[c];he(o,h=>h(m))}},hg=(e,t,o,i)=>{const c=o.validate,m=t.getNonEmptyElements(),h=t.getWhitespaceElements(),C=B4(NS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),A=e0(t),F=/[ \t\r\n]+/g,j=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/,ee=Qe=>{let Xe=Qe.parent;for(;Se(Xe);){if(Xe.name in h)return!0;Xe=Xe.parent}return!1},ge=Qe=>{let Xe=Qe;for(;Se(Xe);){if(Xe.name in A)return ty(t,m,h,Xe);Xe=Xe.parent}return!1},_e=Qe=>Qe.name in C||fp(t,Qe)||Bm(Qe.name)&&Qe.parent===e,pe=(Qe,Xe)=>{const dt=Xe?Qe.prev:Qe.next;return Se(dt)||st(Qe.parent)?!1:_e(Qe.parent)&&(Qe.parent!==e||i.isRootContent===!0)};return[Qe=>{var Xe;if(Qe.type===3&&!ee(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";dt=dt.replace(F," "),(WI(Qe.prev,_e)||pe(Qe,!0))&&(dt=dt.replace(j,"")),dt.length===0||dt===" "&&Qe.prev&&Qe.prev.type===hf&&Qe.next&&Qe.next.type===hf?Qe.remove():Qe.value=dt}},Qe=>{var Xe;if(Qe.type===1){const dt=t.getElementRule(Qe.name);if(c&&dt){const Bt=ty(t,m,h,Qe);dt.paddInEmptyBlock&&Bt&&ge(Qe)?sS(o,i,_e,Qe):dt.removeEmpty&&Bt?_e(Qe)?Qe.remove():Qe.unwrap():dt.paddEmpty&&(Bt||rS(Qe))&&sS(o,i,_e,Qe)}}else if(Qe.type===3&&!ee(Qe)){let dt=(Xe=Qe.value)!==null&&Xe!==void 0?Xe:"";(Qe.next&&_e(Qe.next)||pe(Qe,!1))&&(dt=dt.replace(Y,"")),dt.length===0?Qe.remove():Qe.value=dt}}]},dV=(e,t)=>{var o;const i=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},ay=(e={},t=Pc())=>{const o=ES(),i=ES(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,h=uV(c,t),C=(Xe,dt,Bt="html")=>{const Yt=Bt==="xhtml"?"application/xhtml+xml":"text/html",pn=io(t.getSpecialElements(),dt.toLowerCase()),kt=pn?`<${dt}>${Xe}</${dt}>`:Xe,bt=()=>Bt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${kt}</body></html>`:/^[\s]*<head/i.test(Xe)||/^[\s]*<html/i.test(Xe)||/^[\s]*<!DOCTYPE/i.test(Xe)?`<html>${kt}</html>`:`<body>${kt}</body>`,It=m.parseFromString(bt(),Yt).body;return h.sanitizeHtmlElement(It,Yt),pn?It.firstChild:It},A=o.addFilter,F=o.getFilters,j=o.removeFilter,Y=i.addFilter,ee=i.getFilters,ge=i.removeFilter,_e=(Xe,dt)=>{X2(t,Xe)&&dt.push(Xe)},pe=(Xe,dt)=>{const Bt=Re(dt.attr(N4)),Yt=dt.type===1&&!io(Xe,dt.name)&&!fp(t,dt)&&!Bm(dt.name);return dt.type===3||Yt&&!Bt},Ae=(Xe,dt)=>{const Bt=B4(NS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),Yt=/^[ \t\r\n]+/,pn=/[ \t\r\n]+$/;let kt=Xe.firstChild,bt=null;const It=Cn=>{var Vn,Io;Cn&&(kt=Cn.firstChild,kt&&kt.type===3&&(kt.value=(Vn=kt.value)===null||Vn===void 0?void 0:Vn.replace(Yt,"")),kt=Cn.lastChild,kt&&kt.type===3&&(kt.value=(Io=kt.value)===null||Io===void 0?void 0:Io.replace(pn,"")))};if(t.isValidChild(Xe.name,dt.toLowerCase())){for(;kt;){const Cn=kt.next;pe(Bt,kt)?(bt||(bt=new Da(dt,1),bt.attr(c.forced_root_block_attrs),Xe.insert(bt,kt)),bt.append(kt)):(It(bt),bt=null),kt=Cn}It(bt)}},Qe={schema:t,addAttributeFilter:Y,getAttributeFilters:ee,removeAttributeFilter:ge,addNodeFilter:A,getNodeFilters:F,removeNodeFilter:j,parse:(Xe,dt={})=>{var Bt;const Yt=c.validate,pn=(Bt=dt.context)!==null&&Bt!==void 0?Bt:c.root_name,kt=C(Xe,pn,dt.format);Gr(t,kt);const bt=new Da(pn,11);sP(bt,kt,t.getSpecialElements(),h.sanitizeNamespaceElement),kt.innerHTML="";const[It,Cn]=hg(bt,t,c,dt),Vn=[],Io=Yt?ui=>_e(ui,Vn):ct,Vo={nodes:{},attributes:{}},Ds=ui=>S3(F(),ee(),ui,Vo);if(pa(bt,[It,Ds],[Cn,Io]),Vn.reverse(),Yt&&Vn.length>0)if(dt.context){const{pass:ui,fail:kl}=zt(Vn,Gs=>Gs.parent===bt);wu(kl,t,bt,Ds),dt.invalid=ui.length>0}else wu(Vn,t,bt,Ds);const Hs=dV(c,dt);return Hs&&(bt.name==="body"||dt.isRootContent)&&Ae(bt,Hs),dt.invalid||k3(Vo,dt),bt}};return G7(Qe,c),$7(Qe,c,t),Qe},fV=e=>qb(e)?wh({validate:!1}).serialize(e):e,L4=(e,t,o)=>{const i=fV(e),c=t(i);if(c.isDefaultPrevented())return c;if(qb(e))if(c.content!==i){const m=ay({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},Qb=e=>({sanitize:s5(e),sandbox_iframes:VE(e),sandbox_iframes_exclusions:jC(e)}),rP=(e,t)=>{if(t.no_events)return Xn.value(t);{const o=qf(e,t);return o.isDefaultPrevented()?Xn.error(aR(e,{content:"",...o}).content):Xn.value(o)}},Jd=(e,t,o)=>o.no_events?t:L4(t,c=>aR(e,{...o,content:c}),Qb(e)).content,F4=(e,t)=>{if(t.no_events)return Xn.value(t);{const o=L4(t.content,i=>cF(e,{...t,content:i}),Qb(e));return o.isDefaultPrevented()?(lc(e,o),Xn.error(void 0)):Xn.value(o)}},V4=(e,t,o)=>{o.no_events||lc(e,{...o,content:t})},PS=(e,t,o)=>({element:e,width:t,rows:o}),z4=(e,t)=>({element:e,cells:t}),mV=(e,t)=>({x:e,y:t}),MS=(e,t)=>Jc(e,t).bind(un).getOr(1),pg=(e,t,o,i,c)=>{const m=MS(c,"rowspan"),h=MS(c,"colspan"),C=e.rows;for(let A=o;A<o+m;A++){C[A]||(C[A]=z4(Zm(i),[]));for(let F=t;F<t+h;F++){const j=C[A].cells;j[F]=A===o&&F===t?c:Yr(c)}}},iP=(e,t,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[t]},aP=(e,t,o)=>{for(;iP(e,t,o);)t++;return t},uw=e=>Vt(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),BS=(e,t)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let m=0;m<c.length;m++)if(qo(c[m],t))return Q.some(mV(m,i))}return Q.none()},H4=(e,t,o,i,c)=>{const m=[],h=e.rows;for(let C=o;C<=c;C++){const A=h[C].cells,F=t<i?A.slice(t,i+1):A.slice(i,t+1);m.push(z4(h[C].element,F))}return m},lP=(e,t,o)=>{const i=t.x,c=t.y,m=o.x,h=o.y,C=c<h?H4(e,i,c,m,h):H4(e,i,h,m,c);return PS(e.element,uw(C),C)},cP=(e,t)=>{const o=Yr(e.element),i=Be.fromTag("tbody");return ti(i,t),Zr(o,i),o},gV=e=>Pe(e.rows,t=>{const o=Pe(t.cells,c=>{const m=Zm(c);return Do(m,"colspan"),Do(m,"rowspan"),m}),i=Yr(t.element);return ti(i,o),i}),hV=e=>{const t=PS(Yr(e),0,[]);return he(pi(e,"tr"),(o,i)=>{he(pi(o,"td,th"),(c,m)=>{pg(t,aP(t,m,i),i,o,c)})}),PS(t.element,uw(t.rows),t.rows)},pV=e=>cP(e,gV(e)),uP=(e,t,o)=>BS(e,t).bind(i=>BS(e,o).map(c=>lP(e,i,c))),dP=e=>cn(e,t=>Go(t)==="ul"||Go(t)==="ol"),vV=(e,t)=>cn(e,o=>Go(o)==="li"&&d2(o,t)).fold(et([]),o=>dP(e).map(i=>{const c=Be.fromTag(Go(i)),m=wc($g(i),(h,C)=>ar(C,"list-style"));return jo(c,m),[Be.fromTag("li"),c]}).getOr([])),$4=(e,t)=>{const o=Vt(t,(i,c)=>(Zr(c,i),c),e);return t.length>0?$c([o]):o},fP=e=>Km(e)?aa(e).filter(lb).fold(et([]),t=>[e,t]):lb(e)?[e]:[],bV=(e,t,o)=>{const i=Be.fromDom(t.commonAncestorContainer),c=Wc(i,e),m=vt(c,A=>o.isWrapper(Go(A))),h=vV(c,t),C=m.concat(h.length?h:fP(i));return Pe(C,Yr)},U4=()=>$c([]),yV=(e,t,o)=>$4(Be.fromDom(t.cloneContents()),bV(e,t,o)),xV=(e,t)=>ou(t,"table",tt(qo,e)),_l=(e,t)=>xV(e,t[0]).bind(o=>{const i=t[0],c=t[t.length-1],m=hV(o);return uP(m,i,c).map(h=>$c([pV(h)]))}).getOrThunk(U4),wV=(e,t,o)=>t.length>0&&t[0].collapsed?U4():yV(e,t[0],o),CV=(e,t,o)=>{const i=$5(t,e);return i.length>0?_l(e,i):wV(e,t,o)},LS=(e,t)=>t>=0&&t<e.length&&Rb(e.charAt(t)),mP=e=>xl(e.innerText),FS=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),_V=e=>Q.from(e.selection.getRng()).map(t=>{var o;const i=Q.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=FS(i),h=Be.fromDom(t.cloneContents());YR(h),XR(h);const C=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},h.dom),A=mP(C),F=xl((o=C.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(C),LS(F,0)||LS(F,F.length-1)){const j=i.getOr(c),Y=mP(j),ee=Y.indexOf(A);if(ee===-1)return A;{const ge=LS(Y,ee-1),_e=LS(Y,ee+A.length);return(ge?" ":"")+A+(_e?" ":"")}}else return A}).getOr(""),W4=(e,t)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),m=I_(e,hr(c)),h=t.contextual?CV(Be.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,t)},Z4=(e,t)=>{if(t.format==="text")return _V(e);{const o=W4(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},SV=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),kV=(e,t,o={})=>{const i=SV(o,t);return rP(e,i).fold(pt,c=>{const m=Z4(e,c);return Jd(e,m,c)})},dd=0,j4=1,gP=2,K4=(e,t)=>{const o=e.length+t.length+2,i=new Array(o),c=new Array(o),m=(j,Y,ee)=>({start:j,end:Y,diag:ee}),h=(j,Y,ee,ge,_e)=>{const pe=A(j,Y,ee,ge);if(pe===null||pe.start===Y&&pe.diag===Y-ge||pe.end===j&&pe.diag===j-ee){let Ae=j,He=ee;for(;Ae<Y||He<ge;)Ae<Y&&He<ge&&e[Ae]===t[He]?(_e.push([dd,e[Ae]]),++Ae,++He):Y-j>ge-ee?(_e.push([gP,e[Ae]]),++Ae):(_e.push([j4,t[He]]),++He)}else{h(j,pe.start,ee,pe.start-pe.diag,_e);for(let Ae=pe.start;Ae<pe.end;++Ae)_e.push([dd,e[Ae]]);h(pe.end,Y,pe.end-pe.diag,ge,_e)}},C=(j,Y,ee,ge)=>{let _e=j;for(;_e-Y<ge&&_e<ee&&e[_e]===t[_e-Y];)++_e;return m(j,_e,Y)},A=(j,Y,ee,ge)=>{const _e=Y-j,pe=ge-ee;if(_e===0||pe===0)return null;const Ae=_e-pe,He=pe+_e,Qe=(He%2===0?He:He+1)/2;i[1+Qe]=j,c[1+Qe]=Y+1;let Xe,dt,Bt,Yt,pn;for(Xe=0;Xe<=Qe;++Xe){for(dt=-Xe;dt<=Xe;dt+=2){for(Bt=dt+Qe,dt===-Xe||dt!==Xe&&i[Bt-1]<i[Bt+1]?i[Bt]=i[Bt+1]:i[Bt]=i[Bt-1]+1,Yt=i[Bt],pn=Yt-j+ee-dt;Yt<Y&&pn<ge&&e[Yt]===t[pn];)i[Bt]=++Yt,++pn;if(Ae%2!==0&&Ae-Xe<=dt&&dt<=Ae+Xe&&c[Bt-Ae]<=i[Bt])return C(c[Bt-Ae],dt+j-ee,Y,ge)}for(dt=Ae-Xe;dt<=Ae+Xe;dt+=2){for(Bt=dt+Qe-Ae,dt===Ae-Xe||dt!==Ae+Xe&&c[Bt+1]<=c[Bt-1]?c[Bt]=c[Bt+1]-1:c[Bt]=c[Bt-1],Yt=c[Bt]-1,pn=Yt-j+ee-dt;Yt>=j&&pn>=ee&&e[Yt]===t[pn];)c[Bt]=Yt--,pn--;if(Ae%2===0&&-Xe<=dt&&dt<=Xe&&c[Bt]<=i[Bt+Ae])return C(c[Bt],dt+j-ee,Y,ge)}}return null},F=[];return h(0,e.length,0,t.length,F),F},G4=e=>En(e)?e.outerHTML:Ut(e)?Yg.encodeRaw(e.data,!1):ko(e)?"<!--"+e.data+"-->":"",VS=e=>{let t;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)i.appendChild(t);return i},hP=(e,t,o)=>{const i=VS(t);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},pP=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},vP=(e,t)=>{let o=0;he(e,i=>{i[0]===dd?o++:i[0]===j4?(hP(t,i[1],o),o++):i[0]===gP&&pP(t,o)})},EV=(e,t)=>vt(Pe(vo(e.childNodes),$t(xl,G4)),o=>o.length>0),AV=(e,t)=>{const o=Pe(vo(t.childNodes),G4);return vP(K4(o,e),t),t},q4=Rl(()=>document.implementation.createHTMLDocument("undo")),TV=e=>e.querySelector("iframe")!==null,OV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),zS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),ly=e=>{const t=e.serializer.getTempAttrs(),o=LA(e.getBody(),t);return TV(o)?OV(EV(o)):zS(xl(o.innerHTML))},dw=(e,t,o)=>{const i=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?AV(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Se(i)&&P5(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},HS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Th=e=>{const t=Be.fromTag("body",q4());return Rm(t,HS(e)),he(pi(t,"*[data-mce-bogus]"),Va),Id(t)},DV=(e,t)=>HS(e)===HS(t),RV=(e,t)=>Th(e)===Th(t),cy=(e,t)=>!e||!t?!1:DV(e,t)?!0:RV(e,t),$S=e=>e.get()===0,fw=(e,t,o)=>{$S(o)&&(e.typing=t)},Y4=(e,t)=>{e.typing&&(fw(e,!1,t),e.add())},IV=e=>{e.typing&&(e.typing=!1,e.add())},NV=(e,t,o)=>{$S(t)&&o.set(yn(e.selection))},X4=(e,t,o,i,c,m,h)=>{const C=ly(e),A=Xt.extend(m||{},C);if(!$S(i)||e.removed)return null;const F=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:F,originalEvent:h}).isDefaultPrevented()||F&&cy(F,A))return null;t.data[o.get()]&&c.get().each(ee=>{t.data[o.get()].beforeBookmark=ee});const j=XD(e);if(j&&t.data.length>j){for(let ee=0;ee<t.data.length-1;ee++)t.data[ee]=t.data[ee+1];t.data.length--,o.set(t.data.length)}A.bookmark=yn(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(A),o.set(t.data.length-1);const Y={level:A,lastLevel:F,originalEvent:h};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Y),e.dispatch("change",Y)):e.dispatch("AddUndo",Y),A},J4=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},Q4=(e,t,o,i,c)=>{if(t.transact(i)){const m=t.data[o.get()].bookmark,h=t.data[o.get()-1];dw(e,h,!0),t.transact(c)&&(t.data[o.get()-1].beforeBookmark=m)}},bP=(e,t,o)=>{let i;return t.get()<o.length-1&&(t.set(t.get()+1),i=o[t.get()],dw(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},US=(e,t,o,i)=>{let c;return t.typing&&(t.add(),t.typing=!1,fw(t,!1,o)),i.get()>0&&(i.set(i.get()-1),c=t.data[i.get()],dw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},yP=e=>{e.clear(),e.add()},xP=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!cy(ly(e),t.data[0]),PV=(e,t)=>t.get()<e.data.length-1&&!e.typing,MV=(e,t,o)=>(Y4(e,t),e.beforeChange(),e.ignore(o),e.add()),eT=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},wP=(e,t)=>{const o=e.dom,i=Se(t)?t:e.getBody();he(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const m=WC(e),h=o.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const C=o.getAttrib(c,"name")||c.id,A=I0(e);C&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},tT=e=>({init:{bindEvents:ct},undoManager:{beforeChange:(t,o)=>NV(e,t,o),add:(t,o,i,c,m,h)=>X4(e,t,o,i,c,m,h),undo:(t,o,i)=>US(e,t,o,i),redo:(t,o)=>bP(e,t,o),clear:(t,o)=>J4(e,t,o),reset:t=>yP(t),hasUndo:(t,o)=>xP(e,t,o),hasRedo:(t,o)=>PV(t,o),transact:(t,o,i)=>MV(t,o,i),ignore:(t,o)=>eT(t,o),extra:(t,o,i,c)=>Q4(e,t,o,i,c)},formatter:{match:(t,o,i,c)=>jp(e,t,o,i,c),matchAll:(t,o)=>sN(e,t,o),matchNode:(t,o,i,c)=>fg(e,t,o,i,c),canApply:t=>iN(e,t),closest:t=>rN(e,t),apply:(t,o,i)=>kN(e,t,o,i),remove:(t,o,i,c)=>Yp(e,t,o,i,c),toggle:(t,o,i)=>F7(e,t,o,i),formatChanged:(t,o,i,c,m)=>L7(e,t,o,i,c,m)},editor:{getContent:t=>eI(e,t),setContent:(t,o)=>O7(e,t,o),insertContent:(t,o)=>gS(e,t,o),addVisual:t=>wP(e,t)},selection:{getContent:(t,o)=>kV(e,t,o)},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:()=>Q.none()}}),BV=e=>{const t=F=>te(F)?F:{},{init:o,undoManager:i,formatter:c,editor:m,selection:h,autocompleter:C,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:(F,j,Y)=>i.transact(Y),ignore:(F,j)=>i.ignore(j),extra:(F,j,Y,ee)=>i.extra(Y,ee)},formatter:{match:(F,j,Y,ee)=>c.match(F,t(j),ee),matchAll:c.matchAll,matchNode:c.matchNode,canApply:F=>c.canApply(F),closest:F=>c.closest(F),apply:(F,j,Y)=>c.apply(F,t(j)),remove:(F,j,Y,ee)=>c.remove(F,t(j)),toggle:(F,j,Y)=>c.toggle(F,t(j)),formatChanged:(F,j,Y,ee,ge)=>c.formatChanged(j,Y,ee,ge)},editor:{getContent:F=>m.getContent(F),setContent:(F,j)=>({content:m.setContent(F,j),html:""}),insertContent:(F,j)=>(m.insertContent(F),""),addVisual:m.addVisual},selection:{getContent:(F,j)=>h.getContent(j)},autocompleter:{addDecoration:C.addDecoration,removeDecoration:C.removeDecoration},raw:{getModel:()=>Q.some(A.getRawModel())}}},LV=()=>{const e=et(null),t=et("");return{init:{bindEvents:ct},undoManager:{beforeChange:ct,add:e,undo:e,redo:e,clear:ct,reset:ct,hasUndo:fn,hasRedo:fn,transact:e,ignore:ct,extra:ct},formatter:{match:fn,matchAll:et([]),matchNode:et(void 0),canApply:fn,closest:t,apply:ct,remove:ct,toggle:ct,formatChanged:et({unbind:ct})},editor:{getContent:t,setContent:et({content:"",html:""}),insertContent:et(""),addVisual:ct},selection:{getContent:t},autocompleter:{addDecoration:ct,removeDecoration:ct},raw:{getModel:et(Q.none())}}},vg=e=>io(e.plugins,"rtc"),CP=e=>Ts(e.plugins,"rtc").bind(t=>Q.from(t.setup)),_P=e=>{const t=e;return CP(e).fold(()=>(t.rtcInstance=tT(e),Q.none()),o=>(t.rtcInstance=LV(),Q.some(()=>o().then(i=>(t.rtcInstance=BV(i),i.rtc.isRemote)))))},nT=e=>e.rtcInstance?e.rtcInstance:tT(e),va=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},uy=(e,t,o)=>{va(e).undoManager.beforeChange(t,o)},FV=(e,t,o,i,c,m,h)=>va(e).undoManager.add(t,o,i,c,m,h),VV=(e,t,o,i)=>va(e).undoManager.undo(t,o,i),SP=(e,t,o)=>va(e).undoManager.redo(t,o),kP=(e,t,o)=>{va(e).undoManager.clear(t,o)},WS=(e,t)=>{va(e).undoManager.reset(t)},zV=(e,t,o)=>va(e).undoManager.hasUndo(t,o),HV=(e,t,o)=>va(e).undoManager.hasRedo(t,o),$V=(e,t,o,i)=>va(e).undoManager.transact(t,o,i),UV=(e,t,o)=>{va(e).undoManager.ignore(t,o)},WV=(e,t,o,i,c)=>{va(e).undoManager.extra(t,o,i,c)},ZV=(e,t,o,i,c)=>va(e).formatter.match(t,o,i,c),jV=(e,t,o)=>va(e).formatter.matchAll(t,o),KV=(e,t,o,i,c)=>va(e).formatter.matchNode(t,o,i,c),GV=(e,t)=>va(e).formatter.canApply(t),qV=(e,t)=>va(e).formatter.closest(t),Js=(e,t,o,i)=>{va(e).formatter.apply(t,o,i)},EP=(e,t,o,i,c)=>{va(e).formatter.remove(t,o,i,c)},oT=(e,t,o,i)=>{va(e).formatter.toggle(t,o,i)},AP=(e,t,o,i,c,m)=>va(e).formatter.formatChanged(t,o,i,c,m),TP=(e,t)=>nT(e).editor.getContent(t),sT=(e,t,o)=>nT(e).editor.setContent(t,o),YV=(e,t,o)=>nT(e).editor.insertContent(t,o),XV=(e,t,o)=>va(e).selection.getContent(t,o),OP=(e,t)=>va(e).editor.addVisual(t),DP=e=>va(e).init.bindEvents(),JV=(e,t={})=>{const o=t.format?t.format:"html";return XV(e,o,t)},e1=e=>e.dom.length===0?(Os(e),Q.none()):Q.some(e),QV=(e,t)=>e.filter(o=>Us.isBookmarkNode(o.dom)).bind(t?Un:wi),dy=(e,t,o,i,c)=>{const m=e.dom,h=t.dom,C=i?m.length:h.length;i?(W2(m,h,c,!1,!i),o.setStart(h,C)):(W2(h,m,c,!1,!i),o.setEnd(h,C))},mw=(e,t,o)=>{aa(e).each(i=>{const c=e.dom;t&&X0(i,xt(c,0),o)?$_(c,0,o):!t&&Zb(i,xt(c,c.length),o)&&zr(c,c.length,o)})},t1=(e,t,o,i,c)=>{e.bind(m=>((i?zr:$_)(m.dom,i?m.dom.length:0,c),t.filter(lr).map(C=>dy(m,C,o,i,c)))).orThunk(()=>QV(t,i).or(t).filter(lr).map(h=>mw(h,i,c)))},rT=(e,t,o)=>{const i=Q.from(t.firstChild).map(Be.fromDom),c=Q.from(t.lastChild).map(Be.fromDom);e.deleteContents(),e.insertNode(t);const m=i.bind(wi).filter(lr).bind(e1),h=c.bind(Un).filter(lr).bind(e1);t1(m,i,e,!0,o),t1(h,c,e,!1,o),e.collapse(!1)},RP=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),IP=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(t.content,{forced_root_block:!1,...c,...t});return wh({validate:!1},e.schema).serialize(m)}else return t.content},iT=(e,t,o={})=>{const i=RP(o,t);F4(e,i).each(c=>{const m=IP(e,c),h=e.selection.getRng();rT(h,h.createContextualFragment(m),e.schema),e.selection.setRng(h),nd(e,h),V4(e,m,c)})},aT=(e,t,o)=>{if(io(e,t)){const i=vt(e[t],c=>c!==o);i.length===0?delete e[t]:e[t]=i}};var NP=(e,t)=>{let o,i;const c=(C,A)=>cn(A,F=>e.is(F,C)),m=C=>e.getParents(C,void 0,e.getRoot()),h=()=>{o={},i={},t.on("NodeChange",C=>{const A=C.element,F=m(A),j={};ss(o,(Y,ee)=>{c(ee,F).each(ge=>{i[ee]||(he(Y,_e=>{_e(!0,{node:ge,selector:ee,parents:F})}),i[ee]=Y),j[ee]=Y})}),ss(i,(Y,ee)=>{j[ee]||(delete i[ee],he(Y,ge=>{ge(!1,{node:A,selector:ee,parents:F})}))})})};return{selectorChangedWithUnbind:(C,A)=>(o||h(),o[C]||(o[C]=[]),o[C].push(A),c(C,m(t.selection.getStart())).each(()=>{i[C]=o[C]}),{unbind:()=>{aT(o,C,A),aT(i,C,A)}})}};const lT=e=>!!(e&&e.ownerDocument)&&ia(Be.fromDom(e.ownerDocument),Be.fromDom(e)),cT=e=>e?lT(e.startContainer)&&lT(e.endContainer):!1,uT=(e,t,o,i)=>{let c,m;const{selectorChangedWithUnbind:h}=NP(e,i),C=(on,Pn)=>{const ys=e.createRng();Se(on)&&Se(Pn)?(ys.setStart(on,Pn),ys.setEnd(on,Pn),dt(ys),He(!1)):(f2(e,ys,i.getBody(),!0),dt(ys))},A=on=>JV(i,on),F=(on,Pn)=>iT(i,on,Pn),j=on=>UR(i.getBody(),Xe(),on),Y=on=>WR(i.getBody(),Xe(),on),ee=(on,Pn)=>kl.getBookmark(on,Pn),ge=on=>kl.moveToBookmark(on),_e=(on,Pn)=>(L2(e,on,Pn).each(dt),on),pe=()=>{const on=Xe(),Pn=Qe();return!on||on.item?!1:on.compareEndPoints?on.compareEndPoints("StartToEnd",on)===0:!Pn||on.collapsed},Ae=()=>{const on=Xe(),Pn=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Pn.length>0?Oo(Pn,ys=>e.isEditable(ys.parentElement)):HR(e,on)},He=on=>{const Pn=Xe();Pn.collapse(!!on),dt(Pn)},Qe=()=>t.getSelection?t.getSelection():t.document.selection,Xe=()=>{let on;const Pn=(ln,Kn,Fo)=>{try{return Kn.compareBoundaryPoints(ln,Fo)}catch{return-1}},ys=t.document;if(Se(i.bookmark)&&!W0(i)){const ln=DA(i);if(ln.isSome())return ln.map(Kn=>I_(i,[Kn])[0]).getOr(ys.createRange())}try{const ln=Qe();ln&&!_f(ln.anchorNode)&&(ln.rangeCount>0?on=ln.getRangeAt(0):on=ys.createRange(),on=I_(i,[on])[0])}catch{}if(on||(on=ys.createRange()),Rn(on.startContainer)&&on.collapsed){const ln=e.getRoot();on.setStart(ln,0),on.setEnd(ln,0)}return c&&m&&(Pn(on.START_TO_START,on,c)===0&&Pn(on.END_TO_END,on,c)===0?on=m:(c=null,m=null)),on},dt=(on,Pn)=>{if(!cT(on))return;const ys=Qe();if(on=i.dispatch("SetSelectionRange",{range:on,forward:Pn}).range,ys){m=on;try{ys.removeAllRanges(),ys.addRange(on)}catch{}Pn===!1&&ys.extend&&(ys.collapse(on.endContainer,on.endOffset),ys.extend(on.startContainer,on.startOffset)),c=ys.rangeCount>0?ys.getRangeAt(0):null}if(!on.collapsed&&on.startContainer===on.endContainer&&(ys!=null&&ys.setBaseAndExtent)&&on.endOffset-on.startOffset<2&&on.startContainer.hasChildNodes()){const Kn=on.startContainer.childNodes[on.startOffset];Kn&&Kn.nodeName==="IMG"&&(ys.setBaseAndExtent(on.startContainer,on.startOffset,on.endContainer,on.endOffset),(ys.anchorNode!==on.startContainer||ys.focusNode!==on.endContainer)&&ys.setBaseAndExtent(Kn,0,Kn,1))}i.dispatch("AfterSetSelectionRange",{range:on,forward:Pn})},Bt=on=>(F(e.getOuterHTML(on)),on),Yt=()=>UF(i.getBody(),Xe()),pn=(on,Pn)=>MA(e,Xe(),on,Pn),kt=()=>{const on=Qe(),Pn=on==null?void 0:on.anchorNode,ys=on==null?void 0:on.focusNode;if(!on||!Pn||!ys||_f(Pn)||_f(ys))return!0;const ln=e.createRng(),Kn=e.createRng();try{ln.setStart(Pn,on.anchorOffset),ln.collapse(!0),Kn.setStart(ys,on.focusOffset),Kn.collapse(!0)}catch{return!0}return ln.compareBoundaryPoints(ln.START_TO_START,Kn)<=0},ui={dom:e,win:t,serializer:o,editor:i,expand:(on={type:"word"})=>dt(Bp(e).expand(Xe(),on)),collapse:He,setCursorLocation:C,getContent:A,setContent:F,getBookmark:ee,moveToBookmark:ge,select:_e,isCollapsed:pe,isEditable:Ae,isForward:kt,setNode:Bt,getNode:Yt,getSel:Qe,setRng:dt,getRng:Xe,getStart:j,getEnd:Y,getSelectedBlocks:pn,normalize:()=>{const on=Xe(),Pn=Qe();if(!l2(Pn)&&L0(i)){const ys=rg(e,on);return ys.each(ln=>{dt(ln,kt())}),ys.getOr(on)}return on},selectorChanged:(on,Pn)=>(h(on,Pn),ui),selectorChangedWithUnbind:h,getScrollContainer:()=>{let on,Pn=e.getRoot();for(;Pn&&Pn.nodeName!=="BODY";){if(Pn.scrollHeight>Pn.clientHeight){on=Pn;break}Pn=Pn.parentNode}return on},scrollIntoView:(on,Pn)=>{Se(on)?EA(i,on,Pn):nd(i,Xe(),Pn)},placeCaretAt:(on,Pn)=>dt(pR(on,Pn,i.getDoc())),getBoundingClientRect:()=>{const on=Xe();return on.collapsed?xt.fromRangeStart(on).getClientRects()[0]:on.getBoundingClientRect()},destroy:()=>{t=c=m=null,Gs.destroy()}},kl=Us(ui),Gs=Fs(ui,i);return ui.bookmarkManager=kl,ui.controlSelection=Gs,ui},PP=(e,t,o)=>{t.addNodeFilter("br",(i,c,m)=>{const h=Xt.extend({},o.getBlockElements()),C=o.getNonEmptyElements(),A=o.getWhitespaceElements();h.body=1;const F=j=>j.name in h||fp(o,j);for(let j=0,Y=i.length;j<Y;j++){let ee=i[j],ge=ee.parent;if(ge&&F(ge)&&ee===ge.lastChild){let _e=ee.prev;for(;_e;){const pe=_e.name;if(pe!=="span"||_e.attr("data-mce-type")!=="bookmark"){pe==="br"&&(ee=null);break}_e=_e.prev}if(ee&&(ee.remove(),ty(o,C,A,ge))){const pe=o.getElementRule(ge.name);pe&&(pe.removeEmpty?ge.remove():pe.paddEmpty&&sS(e,m,F,ge))}}else{let _e=ee;for(;ge&&ge.firstChild===_e&&ge.lastChild===_e&&(_e=ge,!h[ge.name]);)ge=ge.parent;if(_e===ge){const pe=new Da("#text",3);pe.value=Di,ee.replace(pe)}}}})},dT=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const m="data-mce-"+c,h=t.url_converter,C=t.url_converter_scope;let A=i.length;for(;A--;){const F=i[A];let j=F.attr(m);j!==void 0?(F.attr(c,j.length>0?j:null),F.attr(m,null)):(j=F.attr(c),c==="style"?j=o.serializeStyle(o.parseStyle(j),F.name):h&&(j=h.call(C,j,c,F.name)),F.attr(c,j.length>0?j:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const m=i[c];let h=m.attr("class");h&&(h=h.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",(i,c,m)=>{let h=i.length;for(;h--;){const C=i[h];C.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(Q.from(C.firstChild).exists(F=>{var j;return!Fc((j=F.value)!==null&&j!==void 0?j:"")})?C.unwrap():C.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var m;const h=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let C=i.length;for(;C--;){const A=i[C],F=A.firstChild,j=(m=F==null?void 0:F.value)!==null&&m!==void 0?m:"";if(c==="script"){const Y=A.attr("type");Y&&A.attr("type",Y==="mce-no/type"?null:Y.replace(/^mce\-/,"")),t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`// <![CDATA[
`+h(j)+`
// ]]>`)}else t.element_format==="xhtml"&&F&&j.length>0&&(F.value=`<!--
`+h(j)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const m=i[c],h=m.value;t.preserve_cdata&&(h==null?void 0:h.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(h.replace(/^\[CDATA\[|\]\]$/g,""))):(h==null?void 0:h.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(h).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let m=i.length;for(;m--;){const h=i[m];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{he(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.remove_trailing_brs&&PP(t,e,e.schema)},ez=e=>{const t=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(t(o)){const i=o.prev;t(i)&&(o.remove(),i.remove())}},MP=(e,t,o)=>{let i;const c=e.dom;let m=t.cloneNode(!0);const h=document.implementation;if(h.createHTMLDocument){const C=h.createHTMLDocument("");Xt.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{C.body.appendChild(C.importNode(A,!0))}),m.nodeName!=="BODY"?m=C.body.firstChild:m=C.body,i=c.doc,c.doc=C}return y2(e,{...o,node:m}),i&&(c.doc=i),m},BP=(e,t)=>Se(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,LP=(e,t,o)=>BP(e,o)?MP(e,t,o):t,tz=(e,t,o)=>{Xt.inArray(t,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),t.push(o))},nz=(e,t,o)=>!t.no_events&&e?x2(e,{...t,content:o}).content:o,ZS=(e,t,o)=>{const i=xl(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||cb(Be.fromDom(t))?i:Xt.trim(i)},FP=(e,t,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(t,i);return ez(c),c},VP=(e,t,o)=>wh(e,t).serialize(o),zP=(e,t,o,i,c)=>{const m=VP(t,o,i);return nz(e,c,m)},oz=(e,t)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=t&&t.dom?t.dom:js.DOM,m=t&&t.schema?t.schema:Pc(i),h=ay(i,m);dT(h,i,c);const C=(A,F={})=>{const j={format:"html",...F},Y=LP(t,A,j),ee=ZS(c,Y,j),ge=FP(h,ee,j);return j.format==="tree"?ge:zP(t,i,m,ge,j)};return{schema:m,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:C,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:tt(tz,h,o),getTempAttrs:et(o),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters,removeNodeFilter:h.removeNodeFilter,removeAttributeFilter:h.removeAttributeFilter}},HP=(e,t)=>{const o=oz(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},sz="html",rz=(e,t)=>({...e,format:t,get:!0,getInner:!0}),$P=(e,t={})=>{const o=t.format?t.format:sz,i=rz(t,o);return rP(e,i).fold(pt,c=>{const m=TP(e,c);return Jd(e,m,c)})},UP="html",WP=(e,t)=>({format:UP,...e,set:!0,content:t}),fT=(e,t,o={})=>{const i=WP(o,t);return F4(e,i).map(c=>{const m=sT(e,c.content,c);return V4(e,m.html,c),m.content}).getOr(t)},iz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),az=[],lz="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),gw=[],mT=(e,t)=>{const o=vt(t,i=>io(e,i));return fs(o)},cz=e=>{const t=mT(e,iz),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),fs(t)},ZP=e=>mT(e,az),gT=(e,t)=>{const o=Xt.makeMap(e.plugins," "),c=vt(t,m=>io(o,m));return fs(c)},hT=e=>gT(e,lz),jP=e=>gT(e,gw.map(t=>t.name)),KP=(e,t)=>{const o=cz(e),i=hT(t),c=i.length>0,m=o.length>0,h=t.theme==="mobile";if(c||m||h){const C=`
- `,A=h?`

Themes:${C}mobile`:"",F=c?`

Plugins:${C}${i.join(C)}`:"",j=m?`

Options:${C}${o.join(C)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+F+j)}},GP=e=>cn(gw,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),uz=(e,t)=>{const o=ZP(e),i=jP(t),c=i.length>0,m=o.length>0;if(c||m){const h=`
- `,C=c?`

Plugins:${h}${i.map(GP).join(h)}`:"",A=m?`

Options:${h}${o.join(h)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+C+A)}},dz=(e,t)=>{KP(e,t),uz(e,t)},Qp=js.DOM,fz=e=>{Qp.setStyle(e.id,"display",e.orgDisplay)},hw=e=>Q.from(e).each(t=>t.destroy()),jS=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const i=o.dom;t.selection=o.win=o.dom=i.doc=null}},qP=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Qp.unbind(t,"submit reset",e.formEventDelegate))},YP=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Se(c==null?void 0:c.nextSibling)&&Qp.remove(c.nextSibling),w2(e),e.editorManager.remove(e),!e.inline&&i&&fz(e),C2(e),Qp.remove(e.getContainer()),hw(t),hw(o),e.destroy()}},mz=(e,t)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),hw(o),hw(i)),qP(e),jS(e),e.destroyed=!0}},pw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>io(e,c)}})(),ev=ol.ModelManager,vw=(e,t)=>t.dom[e],pT=(e,t)=>parseInt(Wr(t,e),10),vT=tt(vw,"clientWidth"),XP=tt(vw,"clientHeight"),gz=tt(pT,"margin-top"),JP=tt(pT,"margin-left"),hz=e=>e.dom.getBoundingClientRect(),QP=(e,t,o)=>{const i=vT(e),c=XP(e);return t>=0&&o>=0&&t<=i&&o<=c},e6=(e,t,o,i)=>{const c=hz(t),m=e?c.left+t.dom.clientLeft+JP(t):0,h=e?c.top+t.dom.clientTop+gz(t):0,C=o-m,A=i-h;return{x:C,y:A}},pz=(e,t,o)=>{const i=Be.fromDom(e.getBody()),c=e.inline?i:Vu(i),m=e6(e.inline,c,t,o);return QP(c,m.x,m.y)},t6=e=>Q.from(e).map(Be.fromDom),bT=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return t6(t).map(Ba).getOr(!1)};var n6=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const yT=e=>{const t=[],o=()=>{const ee=e.theme;return ee&&ee.getNotificationManagerImpl?ee.getNotificationManagerImpl():n6()},i=()=>Q.from(t[0]),c=(ee,ge)=>ee.type===ge.type&&ee.text===ge.text&&!ee.progressBar&&!ee.timeout&&!ge.progressBar&&!ge.timeout,m=()=>{i().each(ee=>{ee.reposition()})},h=ee=>{t.push(ee)},C=ee=>{An(t,ge=>ge===ee).each(ge=>{t.splice(ge,1)})},A=(ee,ge=!0)=>e.removed||!bT(e)?{}:(ge&&e.dispatch("BeforeOpenNotification",{notification:ee}),cn(t,_e=>c(o().getArgs(_e),ee)).getOrThunk(()=>{e.editorManager.setActive(e);const _e=o().open(ee,()=>{C(_e)},()=>Vb(e));return h(_e),m(),e.dispatch("OpenNotification",{notification:{..._e}}),_e})),F=()=>{i().each(ee=>{o().close(ee),C(ee),m()})},j=et(t);return(ee=>{ee.on("SkinLoaded",()=>{const ge=SL(ee);ge&&A({text:ge,type:"warning",timeout:0},!1),m()}),ee.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ee.on("remove",()=>{he(t.slice(),ge=>{o().close(ge)})}),ee.addShortcut("alt+F12","Focus to notification",()=>i().map(ge=>Be.fromDom(ge.getEl())).each(ge=>AA(ge)))})(e),{open:A,close:F,getNotifications:j}},n1=ol.PluginManager,tv=ol.ThemeManager;var vz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const o6=e=>{let t=[];const o=()=>{const pe=e.theme;return pe&&pe.getWindowManagerImpl?pe.getWindowManagerImpl():vz()},i=(pe,Ae)=>(...He)=>Ae?Ae.apply(pe,He):void 0,c=pe=>{e.dispatch("OpenWindow",{dialog:pe})},m=pe=>{e.dispatch("CloseWindow",{dialog:pe})},h=pe=>{t.push(pe),c(pe)},C=pe=>{m(pe),t=vt(t,Ae=>Ae!==pe),t.length===0&&e.focus()},A=()=>Q.from(t[t.length-1]),F=pe=>{e.editorManager.setActive(e),U0(e),e.ui.show();const Ae=pe();return h(Ae),Ae},j=(pe,Ae)=>F(()=>o().open(pe,Ae,C)),Y=pe=>F(()=>o().openUrl(pe,C)),ee=(pe,Ae,He)=>{const Qe=o();Qe.alert(pe,i(He||Qe,Ae))},ge=(pe,Ae,He)=>{const Qe=o();Qe.confirm(pe,i(He||Qe,Ae))},_e=()=>{A().each(pe=>{o().close(pe),C(pe)})};return e.on("remove",()=>{he(t,pe=>{o().close(pe)})}),{open:j,openUrl:Y,alert:ee,confirm:ge,close:_e}},KS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},GS=(e,t)=>{e._skinLoaded?KS(e,t):e.on("SkinLoaded",()=>{KS(e,t)})},s6=(e,t)=>{GS(e,Mc.translate(["Failed to upload image: {0}",t]))},fy=(e,t,o)=>{fA(e,t,{message:o}),console.error(o)},o1=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,xT=(e,t,o)=>{fy(e,"PluginLoadError",o1("plugin",t,o))},wT=(e,t,o)=>{fy(e,"IconsLoadError",o1("icons",t,o))},bz=(e,t,o)=>{fy(e,"LanguageLoadError",o1("language",t,o))},r6=(e,t,o)=>{fy(e,"ThemeLoadError",o1("theme",t,o))},yz=(e,t,o)=>{fy(e,"ModelLoadError",o1("model",t,o))},xz=(e,t,o)=>{const i=Mc.translate(["Failed to initialize plugin: {0}",t]);fA(e,"PluginLoadError",{message:i}),bw(i,o),GS(e,i)},bw=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},CT=e=>/^[a-z0-9\-]+$/i.test(e),_T=e=>"content/"+e+"/content.css",qS=e=>tinymce.Resource.has(_T(e)),wz=e=>i6(e,Ll(e)),Cz=e=>i6(e,UD(e)),i6=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Pe(t,m=>qS(m)?m:CT(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},a6=e=>{e.contentCSS=e.contentCSS.concat(wz(e),Cz(e))},l6=e=>e?vo(e.getElementsByTagName("img")):[],_z=(e,t)=>{const o={};return{findAll:(c,m=_n)=>{const h=vt(l6(c),A=>{const F=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!F||F===Mo.transparentSrc?!1:ar(F,"blob:")?!e.isUploaded(F)&&m(A):ar(F,"data:")?m(A):!1}),C=Pe(h,A=>{const F=A.src;if(io(o,F))return o[F].then(j=>Re(j)?j:{image:A,blobInfo:j.blobInfo});{const j=p4(t,F).then(Y=>(delete o[F],{image:A,blobInfo:Y})).catch(Y=>(delete o[F],Y));return o[F]=j,j}});return Promise.all(C)}}},ST=()=>{let o={};const i=(ee,ge)=>({status:ee,resultUri:ge}),c=ee=>ee in o;return{hasBlobUri:c,getResultUri:ee=>{const ge=o[ee];return ge?ge.resultUri:null},isPending:ee=>c(ee)?o[ee].status===1:!1,isUploaded:ee=>c(ee)?o[ee].status===2:!1,markPending:ee=>{o[ee]=i(1,null)},markUploaded:(ee,ge)=>{o[ee]=i(2,ge)},removeFailed:ee=>{delete o[ee]},destroy:()=>{o={}}}};let yw=0;const c6=()=>{const e=()=>Math.round(yl()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Sz=e=>e+yw+++c6(),u6=()=>{let e=[];const t=Y=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Y.toLowerCase()]||"dat",o=(Y,ee,ge,_e,pe)=>{if(Re(Y))return i({id:Y,name:_e,filename:pe,blob:ee,base64:ge});if(te(Y))return i(Y);throw new Error("Unknown input type")},i=Y=>{if(!Y.blob||!Y.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ee=Y.id||Sz("blobid"),ge=Y.name||ee,_e=Y.blob;return{id:et(ee),name:et(ge),filename:et(Y.filename||ge+"."+t(_e.type)),blob:et(_e),base64:et(Y.base64),blobUri:et(Y.blobUri||URL.createObjectURL(_e)),uri:et(Y.uri)}},c=Y=>{h(Y.id())||e.push(Y)},m=Y=>cn(e,Y).getOrUndefined(),h=Y=>m(ee=>ee.id()===Y);return{create:o,add:c,get:h,getByUri:Y=>m(ee=>ee.blobUri()===Y),getByData:(Y,ee)=>m(ge=>ge.base64()===Y&&ge.blob().type===ee),findFirst:m,removeByUri:Y=>{e=vt(e,ee=>ee.blobUri()===Y?(URL.revokeObjectURL(ee.blobUri()),!1):!0)},destroy:()=>{he(e,Y=>{URL.revokeObjectURL(Y.blobUri())}),e=[]}}},d6=(e,t)=>{const o={},i=(pe,Ae)=>pe?pe.replace(/\/$/,"")+"/"+Ae.replace(/^\//,""):Ae,c=(pe,Ae)=>new Promise((He,Qe)=>{const Xe=new XMLHttpRequest;Xe.open("POST",t.url),Xe.withCredentials=t.credentials,Xe.upload.onprogress=Bt=>{Ae(Bt.loaded/Bt.total*100)},Xe.onerror=()=>{Qe("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=()=>{if(Xe.status<200||Xe.status>=300){Qe("HTTP Error: "+Xe.status);return}const Bt=JSON.parse(Xe.responseText);if(!Bt||!Re(Bt.location)){Qe("Invalid JSON: "+Xe.responseText);return}He(i(t.basePath,Bt.location))};const dt=new FormData;dt.append("file",pe.blob(),pe.filename()),Xe.send(dt)}),m=Me(t.handler)?t.handler:c,h=()=>new Promise(pe=>{pe([])}),C=(pe,Ae)=>({url:Ae,blobInfo:pe,status:!0}),A=(pe,Ae)=>({url:"",blobInfo:pe,status:!1,error:Ae}),F=(pe,Ae)=>{Xt.each(o[pe],He=>{He(Ae)}),delete o[pe]},j=(pe,Ae,He)=>(e.markPending(pe.blobUri()),new Promise(Qe=>{let Xe,dt;try{const Bt=()=>{Xe&&(Xe.close(),dt=ct)},Yt=kt=>{Bt(),e.markUploaded(pe.blobUri(),kt),F(pe.blobUri(),C(pe,kt)),Qe(C(pe,kt))},pn=kt=>{Bt(),e.removeFailed(pe.blobUri()),F(pe.blobUri(),A(pe,kt)),Qe(A(pe,kt))};dt=kt=>{kt<0||kt>100||Q.from(Xe).orThunk(()=>Q.from(He).map(no)).each(bt=>{Xe=bt,bt.progressBar.value(kt)})},Ae(pe,dt).then(Yt,kt=>{pn(Re(kt)?{message:kt}:kt)})}catch(Bt){Qe(A(pe,Bt))}})),Y=pe=>pe===c,ee=pe=>{const Ae=pe.blobUri();return new Promise(He=>{o[Ae]=o[Ae]||[],o[Ae].push(He)})},ge=(pe,Ae)=>(pe=Xt.grep(pe,He=>!e.isUploaded(He.blobUri())),Promise.all(Xt.map(pe,He=>e.isPending(He.blobUri())?ee(He):j(He,m,Ae))));return{upload:(pe,Ae)=>!t.url&&Y(m)?h():ge(pe,Ae)}},f6=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),m6=(e,t)=>d6(t,{url:TE(e),basePath:zD(e),credentials:OE(e),handler:wL(e)}),kz=e=>{const t=ST(),o=m6(e,t);return{upload:(i,c=!0)=>o.upload(i,c?f6(e):void 0)}},Ez=(e,t)=>e.dom.isEmpty(t.dom)&&Se(e.schema.getTextBlockElements()[Go(t)]),g6=e=>t=>{Ez(e,t)&&Zr(t,Be.fromHtml('<br data-mce-bogus="1" />'))},kT=e=>{const t=u6();let o,i;const c=ST(),m=[],h=Xe=>dt=>e.selection?Xe(dt):[],C=Xe=>Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(Xe,dt,Bt)=>{let Yt=0;do Yt=Xe.indexOf(dt,Yt),Yt!==-1&&(Xe=Xe.substring(0,Yt)+Bt+Xe.substr(Yt+dt.length),Yt+=Bt.length-dt.length+1);while(Yt!==-1);return Xe},F=(Xe,dt,Bt)=>{const Yt=`src="${Bt}"${Bt===Mo.transparentSrc?' data-mce-placeholder="1"':""}`;return Xe=A(Xe,`src="${dt}"`,Yt),Xe=A(Xe,'data-mce-src="'+dt+'"','data-mce-src="'+Bt+'"'),Xe},j=(Xe,dt)=>{he(e.undoManager.data,Bt=>{Bt.type==="fragmented"?Bt.fragments=Pe(Bt.fragments,Yt=>F(Yt,Xe,dt)):Bt.content=F(Bt.content,Xe,dt)})},Y=(Xe,dt)=>{const Bt=e.convertURL(dt,"src");j(Xe.src,dt),Pa(Be.fromDom(Xe),{src:gh(e)?C(dt):dt,"data-mce-src":Bt})},ee=()=>(o||(o=m6(e,c)),Ae().then(h(Xe=>{const dt=Pe(Xe,Bt=>Bt.blobInfo);return o.upload(dt,f6(e)).then(h(Bt=>{const Yt=[];let pn=!1;const kt=Pe(Bt,(bt,It)=>{const{blobInfo:Cn,image:Vn}=Xe[It];let Io=!1;return bt.status&&FD(e)?(bt.url&&!Is(Vn.src,bt.url)&&(pn=!0),t.removeByUri(Vn.src),vg(e)||Y(Vn,bt.url)):bt.error&&(bt.error.remove&&(j(Vn.src,Mo.transparentSrc),Yt.push(Vn),Io=!0),s6(e,bt.error.message)),{element:Vn,status:bt.status,uploadUri:bt.url,blobInfo:Cn,removed:Io}});return Yt.length>0&&!vg(e)?e.undoManager.transact(()=>{he(ru(Yt),bt=>{const It=aa(bt);Os(bt),It.each(g6(e)),t.removeByUri(bt.dom.src)})}):pn&&e.undoManager.dispatchChange(),kt}))}))),ge=()=>Ks(e)?ee():Promise.resolve([]),_e=Xe=>Oo(m,dt=>dt(Xe)),pe=Xe=>{m.push(Xe)},Ae=()=>(i||(i=_z(c,t)),i.findAll(e.getBody(),_e).then(h(Xe=>{const dt=vt(Xe,Bt=>Re(Bt)?(GS(e,Bt),!1):Bt.uriType!=="blob");return vg(e)||he(dt,Bt=>{j(Bt.image.src,Bt.blobInfo.blobUri()),Bt.image.src=Bt.blobInfo.blobUri(),Bt.image.removeAttribute("data-mce-src")}),dt}))),He=()=>{t.destroy(),c.destroy(),i=o=null},Qe=Xe=>Xe.replace(/src="(blob:[^"]+)"/g,(dt,Bt)=>{const Yt=c.getResultUri(Bt);if(Yt)return'src="'+Yt+'"';let pn=t.getByUri(Bt);return pn||(pn=Vt(e.editorManager.get(),(kt,bt)=>kt||bt.editorUpload&&bt.editorUpload.blobCache.getByUri(Bt),void 0)),pn?'src="data:'+pn.blob().type+";base64,"+pn.base64()+'"':dt});return e.on("SetContent",()=>{Ks(e)?ge():Ae()}),e.on("RawSaveContent",Xe=>{Xe.content=Qe(Xe.content)}),e.on("GetContent",Xe=>{Xe.source_view||Xe.format==="raw"||Xe.format==="tree"||(Xe.content=Qe(Xe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Xe=>{he(Xe,dt=>{const Bt=dt.attr("src");if(!Bt||t.getByUri(Bt))return;const Yt=c.getResultUri(Bt);Yt&&dt.attr("src",Yt)})})}),{blobCache:t,addFilter:pe,uploadImages:ee,uploadImagesAuto:ge,scanForImages:Ae,destroy:He}},h6=e=>{const t=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{t.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},h={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[h,c,m]:[c,h,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,h)=>En(c)&&c.hasAttribute("href"),onformat:(c,m,h)=>{Xt.each(h,(C,A)=>{t.setAttrib(c,A,C)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},ET={remove_similar:!0,inherit:!1},s1={selector:"td,th",...ET},p6={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...s1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...s1},tablecellbordercolor:{styles:{borderColor:"%value"},...s1},tablecellclass:{classes:["%value"],...s1},tableclass:{selector:"table",classes:["%value"],...ET},tablecellborderstyle:{styles:{borderStyle:"%value"},...s1},tablecellborderwidth:{styles:{borderWidth:"%value"},...s1}},Az=et(p6),AT=e=>{const t={},o=h=>Se(h)?t[h]:t,i=h=>io(t,h),c=(h,C)=>{h&&(Re(h)?(ie(C)||(C=[C]),he(C,A=>{qe(A.deep)&&(A.deep=!Hc(A)),qe(A.split)&&(A.split=!Hc(A)||ha(A)),qe(A.remove)&&Hc(A)&&!ha(A)&&(A.remove="none"),Hc(A)&&ha(A)&&(A.mixed=!0,A.block_expand=!0),Re(A.classes)&&(A.classes=A.classes.split(/\s+/))}),t[h]=C):ss(h,(A,F)=>{c(F,A)}))},m=h=>(h&&t[h]&&delete t[h],t);return c(h6(e)),c(Az()),c(EL(e)),{get:o,has:i,register:c,unregister:m}},r1=Xt.each,fc=js.DOM,Qf=e=>Se(e)&&te(e),xw=(e,t)=>{const o=t&&t.schema||Pc({}),i=(A,F)=>{F.classes.length>0&&fc.addClass(A,F.classes.join(" ")),fc.setAttribs(A,F.attrs)},c=A=>{const F=Re(A)?{name:A,classes:[],attrs:{}}:A,j=fc.create(F.name);return i(j,F),j},m=(A,F)=>{const j=o.getElementRule(A.nodeName.toLowerCase()),Y=j==null?void 0:j.parentsRequired;return Y&&Y.length?F&&re(Y,F)?F:Y[0]:!1},h=(A,F,j)=>{let Y;const ee=F[0],ge=Qf(ee)?ee.name:void 0,_e=m(A,ge);if(_e)ge===_e?(Y=ee,F=F.slice(1)):Y=_e;else if(ee)Y=ee,F=F.slice(1);else if(!j)return A;const pe=Y?c(Y):fc.create("div");pe.appendChild(A),j&&Xt.each(j,He=>{const Qe=c(He);pe.insertBefore(Qe,A)});const Ae=Qf(Y)?Y.siblings:void 0;return h(pe,F,Ae)},C=fc.create("div");if(e.length>0){const A=e[0],F=c(A),j=Qf(A)?A.siblings:void 0;C.appendChild(h(F,e.slice(1),j))}return C},my=e=>{e=Xt.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,m,h,C)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":Xt.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(h==="["){const A=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=t||"div",o},v6=e=>Re(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=Xt.map(t.split(/(?:~\+|~|\+)/),my),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],b6=(e,t)=>{let o="",i=AL(e);if(i==="")return"";const c=ee=>Re(ee)?ee.replace(/%(\w+)/g,""):"",m=(ee,ge)=>fc.getStyle(ge??e.getBody(),ee,!0);if(Re(t)){const ee=e.formatter.get(t);if(!ee)return"";t=ee[0]}if("preview"in t){const ee=t.preview;if(ee===!1)return"";i=ee||i}let h=t.block||t.inline||"span",C;const A=v6(t.selector);A.length>0?(A[0].name||(A[0].name=h),h=t.selector,C=xw(A,e)):C=xw([h],e);const F=fc.select(h,C)[0]||C.firstChild;r1(t.styles,(ee,ge)=>{const _e=c(ee);_e&&fc.setStyle(F,ge,_e)}),r1(t.attributes,(ee,ge)=>{const _e=c(ee);_e&&fc.setAttrib(F,ge,_e)}),r1(t.classes,ee=>{const ge=c(ee);fc.hasClass(F,ge)||fc.addClass(F,ge)}),e.dispatch("PreviewFormats"),fc.setStyles(C,{position:"absolute",left:-65535}),e.getBody().appendChild(C);const j=m("fontSize"),Y=/px$/.test(j)?parseInt(j,10):0;return r1(i.split(" "),ee=>{let ge=m(ee,F);if(!(ee==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ge)&&(ge=m(ee),qv(ge).toLowerCase()==="#ffffff"))&&!(ee==="color"&&qv(ge).toLowerCase()==="#000000")){if(ee==="font-size"&&/em|%$/.test(ge)){if(Y===0)return;ge=parseFloat(ge)/(/%$/.test(ge)?100:1)*Y+"px"}ee==="border"&&ge&&(o+="padding:0 2px;"),o+=ee+":"+ge+";"}}),e.dispatch("AfterPreviewFormats"),fc.remove(C),o},TT=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ww=e=>{const t=AT(e),o=Ri({});return TT(e),cN(e),vg(e)||EN(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(i,c,m)=>{Js(e,i,c,m)},remove:(i,c,m,h)=>{EP(e,i,c,m,h)},toggle:(i,c,m)=>{oT(e,i,c,m)},match:(i,c,m,h)=>ZV(e,i,c,m,h),closest:i=>qV(e,i),matchAll:(i,c)=>jV(e,i,c),matchNode:(i,c,m,h)=>KV(e,i,c,m,h),canApply:i=>GV(e,i),formatChanged:(i,c,m,h)=>AP(e,o,i,c,m,h),getCssText:tt(b6,e)}},Oh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},i1=(e,t,o)=>{const i=Ri(!1),c=A=>{fw(t,!1,o),t.add({},A)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",A=>{const F=A.command;Oh(F)||(Y4(t,o),t.beforeChange())}),e.on("ExecCommand",A=>{const F=A.command;Oh(F)||c(A)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;const j=Mo.os.isMacOS()&&A.key==="Meta";(F>=33&&F<=36||F>=37&&F<=40||F===45||A.ctrlKey||j)&&(c(),e.nodeChanged()),(F===46||F===8)&&e.nodeChanged(),i.get()&&t.typing&&!cy(ly(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const F=A.keyCode;if(A.isDefaultPrevented())return;if(F>=33&&F<=36||F>=37&&F<=40||F===45){t.typing&&c(A);return}const j=A.ctrlKey&&!A.altKey||A.metaKey;if((F<16||F>20)&&F!==224&&F!==91&&!t.typing&&!j){t.beforeChange(),fw(t,!0,o),t.add({},A),i.set(!0);return}(Mo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&t.beforeChange()}),e.on("mousedown",A=>{t.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",h=A=>A.inputType==="insertText"&&A.data===null,C=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||h(A)||C(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},y6=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},x6=e=>{const t=Ii(),o=Ri(0),i=Ri(0),c={data:[],typing:!1,beforeChange:()=>{uy(e,o,t)},add:(m,h)=>FV(e,c,i,o,t,m,h),dispatchChange:()=>{e.setDirty(!0);const m=ly(e);m.bookmark=yn(e.selection),e.dispatch("change",{level:m,lastLevel:Tr(c.data,i.get()).getOrUndefined()})},undo:()=>VV(e,c,o,i),redo:()=>SP(e,i,c.data),clear:()=>{kP(e,c,i)},reset:()=>{WS(e,c)},hasUndo:()=>zV(e,c,i),hasRedo:()=>HV(e,c,i),transact:m=>$V(e,c,o,m),ignore:m=>{UV(e,o,m)},extra:(m,h)=>{WV(e,c,i,m,h)}};return vg(e)||i1(e,c,o),y6(e),c},w6=[9,27,dn.HOME,dn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dn.DOWN,dn.UP,dn.LEFT,dn.RIGHT].concat(Mo.browser.isFirefox()?[224]:[]),C6="data-mce-placeholder",_6=e=>e.type==="keydown"||e.type==="keyup",S6=e=>{const t=e.keyCode;return t===dn.BACKSPACE||t===dn.DELETE},OT=e=>{if(_6(e)){const t=e.keyCode;return!S6(e)&&(dn.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||re(w6,t))}else return!1},k6=e=>_6(e)&&!(S6(e)||e.type==="keyup"&&e.keyCode===229),Tz=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const i=t.firstElementChild;return i?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},E6=e=>{var t;const o=e.dom,i=rl(e),c=(t=RE(e))!==null&&t!==void 0?t:"",m=(h,C)=>{if(OT(h))return;const A=e.getBody(),F=k6(h)?!1:Tz(o,A,i);(o.getAttrib(A,C6)!==""!==F||C)&&(o.setAttrib(A,C6,F?c:null),sR(e,F),e.on(F?"keydown":"keyup",m),e.off(F?"keyup":"keydown",m))};Je(c)&&e.on("init",h=>{m(h,!0),e.on("change SetContent ExecCommand",m),e.on("paste",C=>Uc.setEditorTimeout(e,()=>m(C)))})},Oz=(e,t)=>({block:e,position:t}),DT=(e,t)=>({from:e,to:t}),RT=(e,t)=>{const o=Be.fromDom(e),i=Be.fromDom(t.container());return K2(o,i).map(c=>Oz(c,t))},A6=e=>!(ia(e.to.block,e.from.block)||ia(e.from.block,e.to.block)),IT=e=>!qo(e.from.block,e.to.block),NT=(e,t)=>hi(t,c=>Bc(c)||Dc(c.dom),c=>qo(c,e)).filter(Ur).getOr(e),PT=(e,t)=>{const o=Be.fromDom(e);return qo(NT(o,t.from.block),NT(o,t.to.block))},Dz=e=>fo(e.from.block.dom)===!1&&fo(e.to.block.dom)===!1,T6=e=>{const t=o=>ab(o)||Zi(o.dom)||Km(o);return t(e.from.block)&&t(e.to.block)},Rz=(e,t,o,i)=>gr(i.position.getNode())&&!Kr(e,i.block)?P0(!1,i.block.dom).bind(c=>c.isEqual(i.position)?vu(o,t,c).bind(m=>RT(t,m)):Q.some(i)).getOr(i):i,O6=(e,t,o,i)=>{const c=RT(t,xt.fromRangeStart(i)),m=c.bind(h=>vu(o,t,h.position).bind(C=>RT(t,C).map(A=>Rz(e,t,o,A))));return sa(c,m,DT).filter(h=>IT(h)&&PT(t,h)&&Dz(h)&&T6(h)&&A6(h))},D6=(e,t,o,i)=>i.collapsed?O6(e,t,o,i):Q.none(),Iz=(e,t)=>{const o=la(e);return An(o,i=>t.isBlock(Go(i))).fold(et(o),i=>o.slice(0,i))},R6=(e,t)=>{const o=Iz(e,t);return he(o,Os),o},I6=(e,t,o)=>{const i=Wc(o,t);return cn(i.reverse(),c=>Kr(e,c)).each(Os)},Nz=(e,t)=>vt(Hu(t),o=>!Kr(e,o)).length===0,Pz=(e,t,o,i,c)=>{if(Kr(i,o))return Lc(o),Jn(o.dom);Nz(i,c)&&Kr(i,t)&&Rr(c,Be.fromTag("br"));const m=zc(o.dom,xt.before(c.dom));return he(R6(t,i),h=>{Rr(c,h)}),I6(i,e,t),m},a1=(e,t)=>e.isInline(Go(t)),N6=(e,t,o,i)=>{if(Kr(i,o)){if(Kr(i,t)){const h=Ft((C=>{const A=(F,j)=>Bl(F).fold(()=>j,Y=>a1(i,Y)?A(Y,j.concat(Yr(Y))):j);return A(C,[])})(o),(C,A)=>(Zl(C,A),A),Hd());Xs(t),Zr(t,h)}return Os(o),Jn(t.dom)}const c=Qu(o.dom);return he(R6(t,i),m=>{Zr(o,m)}),I6(i,e,t),c},P6=(e,t)=>{const o=Wc(t,e);return Q.from(o[o.length-1])},M6=(e,t)=>ia(t,e)?P6(t,e):Q.none(),B6=(e,t)=>{P0(e,t.dom).bind(o=>Q.from(o.getNode())).map(Be.fromDom).filter(Xu).each(Os)},L6=(e,t,o,i)=>(B6(!0,t),B6(!1,o),M6(t,o).fold(tt(N6,e,t,o,i),tt(Pz,e,t,o,i))),Dh=(e,t,o,i,c)=>t?L6(e,i,o,c):L6(e,o,i,c),YS=(e,t)=>{const o=Be.fromDom(e.getBody());return D6(e.schema,o.dom,t,e.selection.getRng()).map(c=>()=>{Dh(o,t,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},XS=(e,t,o)=>{const i=t.getRng();return sa(K2(e,Be.fromDom(i.startContainer)),K2(e,Be.fromDom(i.endContainer)),(c,m)=>qo(c,m)?Q.none():Q.some(()=>{i.deleteContents(),Dh(e,!0,c,m,o).each(h=>{t.setRng(h.toRange())})})).getOr(Q.none())},F6=(e,t)=>{const o=Be.fromDom(t),i=tt(qo,e);return Qa(o,Bc,i).isSome()},V6=(e,t)=>F6(e,t.startContainer)||F6(e,t.endContainer),Mz=(e,t)=>{const o=zc(e.dom,xt.fromRangeStart(t)).isNone(),i=Gl(e.dom,xt.fromRangeEnd(t)).isNone();return!V6(e,t)&&o&&i},Bz=e=>Q.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),MT=e=>{const t=Be.fromDom(e.getBody()),o=e.selection.getRng();return Mz(t,o)?Bz(e):XS(t,e.selection,e.schema)},BT=(e,t)=>e.selection.isCollapsed()?Q.none():MT(e),Br=(e,t,o,i,c)=>Q.from(t._selectionOverrides.showCaret(e,o,i,c)),Lz=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Cw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?Q.none():Q.some(Lz(t)),LT=(e,t,o)=>{const i=GE(1,e.getBody(),t),c=xt.fromRangeStart(i),m=c.getNode();if(e2(m))return Br(1,e,m,!c.isAtEnd(),!1);const h=c.getNode(!0);if(e2(h))return Br(1,e,h,!1,!1);const C=ad(e.dom.getRoot(),c.getNode());return e2(C)?Br(1,e,C,!1,o):Q.none()},JS=(e,t,o)=>t.collapsed?LT(e,t,o).getOr(t):t,FT=e=>Mi(e)||$b(e),Fz=e=>Xf(e)||G0(e),Vz=(e,t)=>{Ut(t)&&t.data.length===0&&e.remove(t)},z6=(e,t,o,i,c,m)=>{Br(i,e,m.getNode(!c),c,!0).each(h=>{if(t.collapsed){const C=t.cloneRange();c?C.setEnd(h.startContainer,h.startOffset):C.setStart(h.endContainer,h.endOffset),C.deleteContents()}else t.deleteContents();e.selection.setRng(h)}),Vz(e.dom,o)},zz=(e,t)=>{const o=e.selection.getRng();if(!Ut(o.commonAncestorContainer))return Q.none();const i=t?$a.Forwards:$a.Backwards,c=jn(e.getBody()),m=tt(qE,t?c.next:c.prev),h=t?FT:Fz,C=r2(i,e.getBody(),o),A=m(C),F=A&&id(t,A);if(!F||!e_(C,F))return Q.none();if(h(F))return Q.some(()=>z6(e,o,C.getNode(),i,t,F));const j=m(F);return j&&h(j)&&e_(F,j)?Q.some(()=>z6(e,o,C.getNode(),i,t,j)):Q.none()},VT=(e,t)=>zz(e,t),zT=(e,t)=>{const o=e.getBody();return t?Jn(o).filter(Mi):Qu(o).filter(Xf)},HT=e=>{const t=e.selection.getRng();return!t.collapsed&&(zT(e,!0).exists(o=>o.isEqual(xt.fromRangeStart(t)))||zT(e,!1).exists(o=>o.isEqual(xt.fromRangeEnd(t))))},gy=e=>Se(e)&&(Bc(Be.fromDom(e))||Km(Be.fromDom(e))),Gi=Ko.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hz=(e,t)=>{const o=t.getNode(!e),i=e?"after":"before";return En(o)&&o.getAttribute("data-mce-caret")===i},$z=(e,t,o,i,c)=>{const m=h=>c.isInline(h.nodeName.toLowerCase())&&!tg(o,i,e);return C5(!t,o).fold(()=>C5(t,i).fold(fn,m),m)},H6=(e,t,o,i,c)=>{const m=c.getNode(!o);return K2(Be.fromDom(t),Be.fromDom(i.getNode())).map(h=>Kr(e,h)?Gi.remove(h.dom):Gi.moveToElement(m)).orThunk(()=>Q.some(Gi.moveToElement(m)))},$6=(e,t,o,i)=>vu(t,e,o).bind(c=>gy(c.getNode())||$z(e,t,o,c,i)?Q.none():t&&fo(c.getNode())||!t&&fo(c.getNode(!0))?H6(i,e,t,o,c):t&&Xf(o)||!t&&Mi(o)?Q.some(Gi.moveToPosition(c)):Q.none()),Uz=(e,t)=>st(t)?Q.none():e&&fo(t.nextSibling)?Q.some(Gi.moveToElement(t.nextSibling)):!e&&fo(t.previousSibling)?Q.some(Gi.moveToElement(t.previousSibling)):Q.none(),Wz=(e,t,o)=>o.fold(i=>Q.some(Gi.remove(i)),i=>Q.some(Gi.moveToElement(i)),i=>tg(t,i,e)?Q.none():Q.some(Gi.moveToPosition(i))),Zz=(e,t,o,i)=>Hz(t,o)?Uz(t,o.getNode(!t)).orThunk(()=>$6(e,t,o,i)):$6(e,t,o,i).bind(c=>Wz(e,o,c)),jz=(e,t,o,i)=>{const c=GE(t?1:-1,e,o),m=xt.fromRangeStart(c),h=Be.fromDom(e);return!t&&Xf(m)?Q.some(Gi.remove(m.getNode(!0))):t&&Mi(m)?Q.some(Gi.remove(m.getNode())):!t&&Mi(m)&&Wb(h,m,i)?z_(h,m,i).map(C=>Gi.remove(C.getNode())):t&&Xf(m)&&$2(h,m,i)?dI(h,m,i).map(C=>Gi.remove(C.getNode())):Zz(e,t,m,i)},Kz=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),Cl(e,t,Be.fromDom(o)),!0),Gz=(e,t)=>o=>{const i=t?xt.before(o):xt.after(o);return e.selection.setRng(i.toRange()),!0},qz=e=>t=>(e.selection.setRng(t.toRange()),!0),U6=(e,t)=>Q.from(ad(e.getBody(),t)),Yz=(e,t)=>{const o=e.selection.getNode();return U6(e,o).filter(fo).fold(()=>jz(e.getBody(),t,e.selection.getRng(),e.schema).map(i=>()=>i.fold(Kz(e,t),Gz(e,t),qz(e))),()=>Q.some(ct))},Xz=e=>{he(pi(e,".mce-offscreen-selection"),Os)},Jz=(e,t)=>{const o=e.selection.getNode();return fo(o)&&!lp(o)?U6(e,o.parentNode).filter(fo).fold(()=>Q.some(()=>{Xz(Be.fromDom(e.getBody())),Cl(e,t,Be.fromDom(e.selection.getNode())),Z_(e)}),()=>Q.some(ct)):HT(e)?Q.some(()=>{j_(e,e.selection.getRng(),Be.fromDom(e.getBody()))}):Q.none()},W6=e=>{const t=e.dom,o=e.selection,i=ad(e.getBody(),o.getNode());if(Dc(i)&&t.isBlock(i)&&t.isEmpty(i)){const c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(i,""),i.appendChild(c),o.setRng(xt.before(c).toRange())}return!0},$T=(e,t)=>e.selection.isCollapsed()?Yz(e,t):Jz(e,t),Z6=e=>e.hasOwnProperty("text"),j6=e=>e.hasOwnProperty("marker"),K6=(e,t)=>{const o=(m,h)=>{if(Ut(m))return{text:m,offset:h};{const C=t(),A=m.childNodes;return h<A.length?(m.insertBefore(C,A[h]),{marker:C,before:!0}):(m.appendChild(C),{marker:C,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},G6=e=>{var t,o;const{start:i,end:c}=e,m=new window.Range;return Z6(i)?m.setStart(i.text,i.offset):j6(i)&&(i.before?m.setStartBefore(i.marker):m.setStartAfter(i.marker),(t=i.marker.parentNode)===null||t===void 0||t.removeChild(i.marker)),Z6(c)?m.setEnd(c.text,c.offset):j6(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},UT=(e,t)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),m=i.getParent(e.selection.getEnd(),i.isBlock),h=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===h.firstChild&&m===h.lastChild&&!i.isEmpty(h)){const A=c.cloneNode(!1),F=()=>{if(t?f3(e):W_(e),h.firstChild!==c){const j=K6(e.selection.getRng(),()=>document.createElement("span"));Array.from(h.childNodes).forEach(Y=>A.appendChild(Y)),h.appendChild(A),e.selection.setRng(G6(j))}};return Q.some(F)}return Q.none()},Qz=(e,t)=>{const o=xt.fromRangeStart(e.selection.getRng());return vu(t,e.getBody(),o).filter(i=>t?rI(i):iI(i)).bind(i=>JC(t?0:-1,i)).map(i=>()=>e.selection.select(i))},WT=(e,t)=>e.selection.isCollapsed()?Qz(e,t):Q.none(),hy=Ut,q6=e=>hy(e)&&e.data[0]===_i,Y6=e=>hy(e)&&e.data[e.data.length-1]===_i,X6=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(_i)},e9=e=>{var t;if(hy(e.previousSibling))return Y6(e.previousSibling)||e.previousSibling.appendData(_i),e.previousSibling;if(hy(e))return q6(e)||e.insertData(0,_i),e;{const o=X6(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},t9=e=>{var t,o;if(hy(e.nextSibling))return q6(e.nextSibling)||e.nextSibling.insertData(0,_i),e.nextSibling;if(hy(e))return Y6(e)||e.appendData(_i),e;{const i=X6(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},QS=(e,t)=>e?e9(t):t9(t),J6=tt(QS,!0),n9=tt(QS,!1),Q6=(e,t)=>Ut(e.container())?QS(t,e.container()):QS(t,e.getNode()),eM=(e,t)=>{const o=t.get();return o&&e.container()===o&&Gm(o)},ZT=(e,t)=>t.fold(o=>{Ep(e.get());const i=J6(o);return e.set(i),Q.some(xt(i,i.length-1))},o=>Jn(o).map(i=>{if(eM(i,e)){const c=e.get();return xt(c,1)}else{Ep(e.get());const c=Q6(i,!0);return e.set(c),xt(c,1)}}),o=>Qu(o).map(i=>{if(eM(i,e)){const c=e.get();return xt(c,c.length-1)}else{Ep(e.get());const c=Q6(i,!1);return e.set(c),xt(c,c.length-1)}}),o=>{Ep(e.get());const i=n9(o);return e.set(i),Q.some(xt(i,1))}),tM=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,t);if(i.isSome())return i}return Q.none()},Yl=Ko.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),nM=(e,t)=>{const o=Ap(t,e);return o||e},o9=(e,t,o)=>{const i=DI(o),c=nM(t,i.container());return Hp(e,c,i).fold(()=>Gl(c,i).bind(tt(Hp,e,c)).map(m=>Yl.before(m)),Q.none)},oM=(e,t)=>Tp(e,t)===null,sM=(e,t,o)=>Hp(e,t,o).filter(tt(oM,t)),s9=(e,t,o)=>{const i=Q0(o);return sM(e,t,i).bind(c=>zc(c,i).isNone()?Q.some(Yl.start(c)):Q.none())},r9=(e,t,o)=>{const i=DI(o);return sM(e,t,i).bind(c=>Gl(c,i).isNone()?Q.some(Yl.end(c)):Q.none())},i9=(e,t,o)=>{const i=Q0(o),c=nM(t,i.container());return Hp(e,c,i).fold(()=>zc(c,i).bind(tt(Hp,e,c)).map(m=>Yl.after(m)),Q.none)},rM=e=>!Z2(jT(e)),bg=(e,t,o)=>tM([o9,s9,r9,i9],[e,t,o]).filter(rM),jT=e=>e.fold(pt,pt,pt,pt),iM=e=>e.fold(et("before"),et("start"),et("end"),et("after")),_w=e=>e.fold(Yl.before,Yl.before,Yl.after,Yl.after),ek=e=>e.fold(Yl.start,Yl.start,Yl.end,Yl.end),a9=(e,t)=>iM(e)===iM(t)&&jT(e)===jT(t),aM=(e,t,o,i,c,m)=>sa(Hp(t,o,i),Hp(t,o,c),(h,C)=>h!==C&&OI(o,h,C)?Yl.after(e?h:C):m).getOr(m),l9=(e,t)=>e.fold(_n,o=>!a9(o,t)),c9=(e,t,o,i,c)=>{const m=id(e,c);return vu(e,o,m).map(tt(id,e)).fold(()=>i.map(_w),A=>bg(t,o,A).map(tt(aM,e,t,o,m,A)).filter(tt(l9,i))).filter(rM)},u9=(e,t)=>e?t.fold($t(Q.some,Yl.start),Q.none,$t(Q.some,Yl.after),Q.none):t.fold(Q.none,$t(Q.some,Yl.before),Q.none,$t(Q.some,Yl.end)),d9=(e,t,o,i)=>{const c=id(e,i),m=bg(t,o,c);return bg(t,o,c).bind(tt(u9,e)).orThunk(()=>c9(e,t,o,m,i))},f9=e=>Me(e.selection.getSel().modify),lM=(e,t,o)=>{const i=e?1:-1;return t.setRng(xt(o.container(),o.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},KT=(e,t)=>{const o=t.selection.getRng(),i=e?xt.fromRangeEnd(o):xt.fromRangeStart(o);return f9(t)?e&&ub(i)?lM(!0,t.selection,i):!e&&v0(i)?lM(!1,t.selection,i):!1:!1};var Qd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Qd||(Qd={}));const tk=(e,t)=>e===$a.Backwards?Ho(t):t,cM=(e,t,o)=>e===$a.Forwards?t.next(o):t.prev(o),m9=(e,t,o,i)=>gr(i.getNode(t===$a.Forwards))?Qd.Br:tg(o,i)===!1?Qd.Block:Qd.Wrap,uM=(e,t,o,i)=>{const c=jn(o);let m=i;const h=[];for(;m;){const C=cM(t,c,m);if(!C)break;if(gr(C.getNode(!1)))return t===$a.Forwards?{positions:tk(t,h).concat([C]),breakType:Qd.Br,breakAt:Q.some(C)}:{positions:tk(t,h),breakType:Qd.Br,breakAt:Q.some(C)};if(!C.isVisible()){m=C;continue}if(e(m,C)){const A=m9(o,t,m,C);return{positions:tk(t,h),breakType:A,breakAt:Q.some(C)}}h.push(C),m=C}return{positions:tk(t,h),breakType:Qd.Eol,breakAt:Q.none()}},dM=(e,t,o,i)=>t(o,i).breakAt.map(c=>{const m=t(o,c).positions;return e===$a.Backwards?m.concat(c):[c].concat(m)}).getOr([]),GT=(e,t)=>Vt(e,(o,i)=>o.fold(()=>Q.some(i),c=>sa(hn(c.getClientRects()),hn(i.getClientRects()),(m,h)=>{const C=Math.abs(t-m.left);return Math.abs(t-h.left)<=C?i:c}).or(o)),Q.none()),nk=(e,t)=>hn(t.getClientRects()).bind(o=>GT(e,o.left)),Sw=tt(uM,xt.isAbove,-1),kw=tt(uM,xt.isBelow,1),fM=tt(dM,-1,Sw),ok=tt(dM,1,kw),mM=(e,t)=>Sw(e,t).breakAt.isNone(),gM=(e,t)=>kw(e,t).breakAt.isNone(),g9=e=>Jn(e).map(t=>[t].concat(kw(e,t).positions)).getOr([]),hM=e=>Qu(e).map(t=>Sw(e,t).positions.concat(t)).getOr([]),l1=(e,t)=>nk(fM(e,t),t),h9=(e,t)=>nk(ok(e,t),t),p9=fo,pM=(e,t)=>Math.abs(e.left-t),mc=(e,t)=>Math.abs(e.right-t),vM=e=>Wl(e,"node"),bM=(e,t)=>dl(e,(o,i)=>{const c=Math.min(pM(o,t),mc(o,t)),m=Math.min(pM(i,t),mc(i,t));return m===c&&vM(i)&&p9(i.node)||m<c?i:o}),v9=e=>{const t=o=>Pe(o,i=>{const c=Bf(i);return c.node=e,c});if(En(e))return t(e.getClientRects());if(Ut(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},yM=e=>wo(e,v9);var Ew;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Ew||(Ew={}));const b9=(e,t,o,i)=>{let c=i;for(;c=n2(c,e,pb,t);)if(o(c))return},qT=(e,t,o,i,c,m)=>{let h=0;const C=[],A=Y=>{let ee=yM([Y]);e===-1&&(ee=ee.reverse());for(let ge=0;ge<ee.length;ge++){const _e=ee[ge];if(!o(_e,F)){if(C.length>0&&t(_e,Ca(C))&&h++,_e.line=h,c(_e))return!0;C.push(_e)}}return!1},F=Ca(m.getClientRects());if(!F)return C;const j=m.getNode();return j&&(A(j),b9(e,i,A,j)),C},y9=(e,t)=>t.line>e,x9=(e,t)=>t.line===e,w9=tt(qT,Ew.Up,Vf,dh),C9=tt(qT,Ew.Down,dh,Vf),xM=e=>Ca(e.getClientRects()),py=(e,t,o,i)=>{const c=jn(t);let m,h,C,A;const F=[];let j=0;e===1?(m=c.next,h=dh,C=Vf,A=xt.after(i)):(m=c.prev,h=Vf,C=dh,A=xt.before(i));const Y=xM(A);do{if(!A.isVisible())continue;const ee=xM(A);if(C(ee,Y))continue;F.length>0&&h(ee,Ca(F))&&j++;const ge=Bf(ee);if(ge.position=A,ge.line=j,o(ge))return F;F.push(ge)}while(A=m(A));return F},YT=e=>t=>y9(e,t),vy=e=>t=>x9(e,t),em=(e,t)=>{e.selection.setRng(t),nd(e,e.selection.getRng())},sk=(e,t,o)=>Q.some(JS(e,t,o)),XT=(e,t,o,i,c,m)=>{const h=t===$a.Forwards,C=jn(e.getBody()),A=tt(qE,h?C.next:C.prev),F=h?i:c;if(!o.collapsed){const _e=wp(o);if(m(_e))return Br(t,e,_e,t===$a.Backwards,!1);if(HT(e)){const pe=o.cloneRange();return pe.collapse(t===$a.Backwards),Q.from(pe)}}const j=r2(t,e.getBody(),o);if(F(j))return Cw(e,j.getNode(!h));let Y=A(j);const ee=uh(o);if(Y)Y=id(h,Y);else return ee?Q.some(o):Q.none();if(F(Y))return Br(t,e,Y.getNode(!h),h,!1);const ge=A(Y);return ge&&F(ge)&&e_(Y,ge)?Br(t,e,ge.getNode(!h),h,!1):ee?sk(e,Y.toRange(),!1):Q.none()},wM=(e,t,o,i,c,m)=>{const h=r2(t,e.getBody(),o),C=Ca(h.getClientRects()),A=t===Ew.Down,F=e.getBody();if(!C)return Q.none();if(HT(e)){const Ae=A?xt.fromRangeEnd(o):xt.fromRangeStart(o);return(A?h9:l1)(F,Ae).orThunk(()=>Q.from(Ae)).map(Qe=>Qe.toRange())}const Y=(A?C9:w9)(F,YT(1),h),ee=vt(Y,vy(1)),ge=C.left,_e=bM(ee,ge);if(_e&&m(_e.node)){const Ae=Math.abs(ge-_e.left),He=Math.abs(ge-_e.right);return Br(t,e,_e.node,Ae<He,!1)}let pe;if(i(h)?pe=h.getNode():c(h)?pe=h.getNode(!0):pe=wp(o),pe){const Ae=py(t,F,YT(1),pe);let He=bM(vt(Ae,vy(1)),ge);if(He||(He=Ca(vt(Ae,vy(0))),He))return sk(e,He.position.toRange(),!1)}return ee.length===0?rk(e,A).filter(A?c:i).map(Ae=>JS(e,Ae.toRange(),!1)):Q.none()},rk=(e,t)=>{const o=e.selection.getRng(),i=t?xt.fromRangeEnd(o):xt.fromRangeStart(o),c=GL(i.container(),e.getBody());if(t){const m=kw(c,i);return Eo(m.positions)}else{const m=Sw(c,i);return hn(m.positions)}},CM=(e,t,o)=>rk(e,t).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),Aw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},JT=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},QT=(e,t,o)=>ZT(t,o).map(i=>(Aw(e,i),o)),_M=(e,t,o)=>{const i=xt.fromRangeStart(e);if(e.collapsed)return i;{const c=xt.fromRangeEnd(e);return o?zc(t,c).getOr(c):Gl(t,i).getOr(i)}},SM=(e,t,o)=>{const i=e.getBody(),c=_M(e.selection.getRng(),i,o),m=tt(jb,e);return d9(o,m,i,c).bind(C=>QT(e,t,C))},kM=(e,t,o)=>{const i=Pe(pi(Be.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),h=>h.dom),c=vt(i,e),m=vt(o,e);he(cs(c,m),tt(JT,!1)),he(cs(m,c),tt(JT,!0))},eO=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=xt.fromRangeStart(e.selection.getRng());xt.isTextPosition(i)&&!u3(i)&&(Aw(e,ZL(o,i)),t.set(null))}},EM=(e,t,o,i)=>{if(t.selection.isCollapsed()){const c=vt(i,e);he(c,m=>{const h=xt.fromRangeStart(t.selection.getRng());bg(e,t.getBody(),h).bind(C=>QT(t,o,C))})}},tO=(e,t,o)=>R0(e)?SM(e,t,o).isSome():!1,nO=(e,t,o)=>R0(t)?KT(e,t):!1,AM=e=>{const t=Ri(null),o=tt(jb,e);return e.on("NodeChange",i=>{R0(e)&&(kM(o,e.dom,i.parents),eO(e,t),EM(o,e,t,i.parents))}),t},TM=tt(nO,!0),OM=tt(nO,!1),Tw=(e,t,o)=>{if(R0(e)){const i=rk(e,t).getOrThunk(()=>{const c=e.selection.getRng();return t?xt.fromRangeEnd(c):xt.fromRangeStart(c)});return bg(tt(jb,e),e.getBody(),i).exists(c=>{const m=_w(c);return ZT(o,m).exists(h=>(Aw(e,h),!0))})}else return!1},oO=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},sO=e=>sa(Jn(e),Qu(e),(t,o)=>{const i=id(!0,t),c=id(!1,o);return Gl(e,i).forall(m=>m.isEqual(c))}).getOr(!0),Ow=(e,t)=>o=>ZT(t,o).map(i=>()=>Aw(e,i)),rO=(e,t,o,i)=>{const c=e.getBody(),m=tt(jb,e);e.undoManager.ignore(()=>{e.selection.setRng(oO(o,i)),W_(e),bg(m,c,xt.fromRangeStart(e.selection.getRng())).map(ek).bind(Ow(e,t)).each(Fn)}),e.nodeChanged()},DM=(e,t)=>{const o=Ap(t,e);return o||e},RM=(e,t,o,i)=>{const c=DM(e.getBody(),i.container()),m=tt(jb,e),h=bg(m,c,i);return h.bind(A=>o?A.fold(et(Q.some(ek(A))),Q.none,et(Q.some(_w(A))),Q.none):A.fold(Q.none,et(Q.some(_w(A))),Q.none,et(Q.some(ek(A))))).map(Ow(e,t)).getOrThunk(()=>{const A=Ob(o,c,i),F=A.bind(j=>bg(m,c,j));return sa(h,F,()=>Hp(m,c,i).bind(j=>sO(j)?Q.some(()=>{Cl(e,o,Be.fromDom(j))}):Q.none())).getOrThunk(()=>F.bind(()=>A.map(j=>()=>{o?rO(e,t,i,j):rO(e,t,j,i)})))})},Dw=(e,t,o)=>{if(e.selection.isCollapsed()&&R0(e)){const i=xt.fromRangeStart(e.selection.getRng());return RM(e,t,o,i)}return Q.none()},IM=e=>Rd(e)>1,iO=(e,t)=>{const o=Be.fromDom(e.getBody()),i=Be.fromDom(e.selection.getStart()),c=Wc(i,o);return An(c,t).fold(et(c),m=>c.slice(0,m))},NM=e=>Rd(e)===1,_9=e=>iO(e,t=>e.schema.isBlock(Go(t))||IM(t)),PM=e=>iO(e,t=>e.schema.isBlock(Go(t))),aO=(e,t)=>{const o=tt(ny,e);return wo(t,i=>o(i)?[i.dom]:[])},Rw=e=>{const t=PM(e);return aO(e,t)},MM=(e,t,o,i)=>{const c=aO(t,i);if(c.length===0)Cl(t,e,o);else{const m=G3(o.dom,c);t.selection.setRng(m.toRange())}},BM=(e,t)=>{const o=vt(_9(e),NM);return Eo(o).bind(i=>{const c=xt.fromRangeStart(e.selection.getRng());return NI(t,c,i.dom)&&!u_(i)?Q.some(()=>MM(t,e,i,o)):Q.none()})},lO=(e,t)=>{const o=t.parentElement;return gr(t)&&!Ue(o)&&e.dom.isEmpty(o)},S9=e=>u_(Be.fromDom(e)),cO=(e,t)=>{const o=e.selection.getStart(),i=lO(e,o)||S9(o)?G3(o,t):I7(e.selection.getRng(),t);e.selection.setRng(i.toRange())},k9=(e,t)=>{const o=cs(t,Rw(e));o.length>0&&cO(e,o)},uO=e=>Ut(e.startContainer),LM=e=>e.startOffset===0&&uO(e),E9=(e,t)=>{const o=t.startContainer.parentElement;return!Ue(o)&&ny(e,Be.fromDom(o))},A9=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ue(t)&&!Ue(o)&&t.isEqualNode(o)},s=e=>{const t=e.endContainer;return e.endOffset===(Ut(t)?t.length:t.childNodes.length)},a=e=>A9(e)&&s(e),u=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>a(e)||u(e),p=e=>{const t=e.selection.getRng();return LM(t)&&E9(e,t)&&f(t)},b=e=>{if(p(e)){const t=Rw(e);return Q.some(()=>{W_(e),k9(e,t)})}else return Q.none()},w=(e,t)=>e.selection.isCollapsed()?BM(e,t):b(e),k=(e,t)=>vC(e,o=>bu(o.dom),o=>t.isBlock(Go(o))),E=e=>k(Be.fromDom(e.selection.getStart()),e.schema),R=e=>{const t=e.selection.getRng();return t.collapsed&&(uO(t)||e.dom.isEmpty(t.startContainer))&&!E(e)},L=e=>(R(e)&&cO(e,[]),!0),N=(e,t,o)=>Se(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),Cl(e,t,Be.fromDom(o))}):Q.none(),z=(e,t)=>{const o=t?$b:G0,i=t?$a.Forwards:$a.Backwards,c=r2(i,e.getBody(),e.selection.getRng());return o(c)?N(e,t,c.getNode(!t)):Q.from(id(t,c)).filter(m=>o(m)&&e_(c,m)).bind(m=>N(e,t,m.getNode(!t)))},q=(e,t)=>{const o=e.selection.getNode();return St(o)?N(e,t,o):Q.none()},J=(e,t)=>e.selection.isCollapsed()?z(e,t):q(e,t),ce=e=>hi(e,t=>Dc(t.dom)||fo(t.dom)).exists(t=>Dc(t.dom)),me=e=>un(e??"").getOr(0),xe=(e,t)=>{const o=e||ib(t)?"margin":"padding",i=Wr(t,"direction")==="rtl"?"-right":"-left";return o+i},de=(e,t,o,i,c,m)=>{const h=xe(o,Be.fromDom(m)),C=me(e.getStyle(m,h));if(t==="outdent"){const A=Math.max(0,C-i);e.setStyle(m,h,A?A+c:"")}else{const A=C+i+c;e.setStyle(m,h,A)}},ue=(e,t)=>Oo(t,o=>{const i=xe($D(e),o),c=Fr(o,i).map(me).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),ve=e=>{const t=ze(e);return!e.mode.isReadOnly()&&(t.length>1||ue(e,t))},we=e=>lb(e)||Km(e),ke=e=>aa(e).exists(we),ze=e=>vt(ru(e.selection.getSelectedBlocks()),t=>!we(t)&&!ke(t)&&ce(t)),ot=(e,t)=>{var o,i;const{dom:c}=e,m=pu(e),h=(i=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",C=me(m),A=$D(e);he(ze(e),F=>{de(c,t,A,C,h,F.dom)})},Et=e=>ot(e,"indent"),_t=e=>ot(e,"outdent"),wt=e=>{if(e.selection.isCollapsed()&&ve(e)){const t=e.dom,o=e.selection.getRng(),i=xt.fromRangeStart(o),c=t.getParent(o.startContainer,t.isBlock);if(c!==null&&V_(Be.fromDom(c),i,e.schema))return Q.some(()=>_t(e))}return Q.none()},Ht=(e,t,o)=>tr([wt,$T,VT,(i,c)=>Dw(i,t,c),YS,Sh,WT,J,BT,w,UT],i=>i(e,o)).filter(i=>e.selection.isEditable()),mn=(e,t)=>{Ht(e,t,!1).fold(()=>{e.selection.isEditable()&&(W_(e),Z_(e))},Fn)},kn=(e,t)=>{Ht(e,t,!0).fold(()=>{e.selection.isEditable()&&f3(e)},Fn)},zn=(e,t)=>{e.addCommand("delete",()=>{mn(e,t)}),e.addCommand("forwardDelete",()=>{kn(e,t)})},ro=5,Lo=400,Qs=e=>e.touches===void 0||e.touches.length!==1?Q.none():Q.some(e.touches[0]),dr=(e,t)=>{const o=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y);return o>ro||i>ro},So=e=>{const t=Ii(),o=Ri(!1),i=vp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Lo);e.on("touchstart",c=>{Qs(c).each(m=>{i.cancel();const h={x:m.clientX,y:m.clientY,target:c.target};i.throttle(c),o.set(!1),t.set(h)})},!0),e.on("touchmove",c=>{i.cancel(),Qs(c).each(m=>{t.on(h=>{dr(m,h)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&t.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},Xo=(e,t)=>io(e,t.nodeName),Zn=(e,t)=>Ut(t)?!0:En(t)?!Xo(e.getBlockElements(),t)&&!yu(t)&&!Of(e,t)&&!Ni(t):!1,fr=(e,t,o)=>be(cc(Be.fromDom(o),Be.fromDom(t)),i=>Xo(e,i.dom)),Bs=(e,t)=>{if(Ut(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Xo(e,t.nextSibling)||Ni(t.nextSibling)}return!1},Wa=e=>e.dom.create(rl(e),Kx(e)),Za=e=>{const t=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),m=o.getStart(),h=e.getBody();let C,A,F=null;const j=rl(e);if(!m||!En(m))return;const Y=h.nodeName.toLowerCase();if(!i.isValidChild(Y,j.toLowerCase())||fr(c,h,m))return;if(h.firstChild===h.lastChild&&gr(h.firstChild)){C=Wa(e),C.appendChild(Hd().dom),h.replaceChild(C,h.firstChild),e.selection.setCursorLocation(C,0),e.nodeChanged();return}let ee=h.firstChild;for(;ee;)if(En(ee)&&rc(i,ee),Zn(i,ee)){if(Bs(c,ee)){A=ee,ee=ee.nextSibling,t.remove(A);continue}if(!C){if(!F&&e.hasFocus()&&(F=K6(e.selection.getRng(),()=>document.createElement("span"))),!ee.parentNode){ee=null;break}C=Wa(e),h.insertBefore(C,ee)}A=ee,ee=ee.nextSibling,C.appendChild(A)}else C=null,ee=ee.nextSibling;F&&(e.selection.setRng(G6(F)),e.nodeChanged())},qi=(e,t,o)=>{const i=Be.fromDom(Wa(e)),c=Hd();Zr(i,c),o(t,i);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},Bi=e=>{e.on("NodeChange",()=>Za(e))},Rh=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,by=(e,t,o)=>function(i){const c=arguments,m=c[c.length-2],h=m>0?t.charAt(m-1):"";if(h==='"')return i;if(h===">"){const C=t.lastIndexOf("<",m);if(C!==-1&&t.substring(C,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},nv=(e,t,o)=>{let i=t.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(t[i],by(e,c,kb(e)));o.content=c}},Ih=(e,t)=>Oo(e,o=>{const i=t.match(o);return i!==null&&i[0].length===t.length}),Iw=e=>{const t="contenteditable",o=" "+Xt.trim(FL(e))+" ",i=" "+Xt.trim(kb(e))+" ",c=Rh(o),m=Rh(i),h=n5(e);h.length>0&&e.on("BeforeSetContent",C=>{nv(e,h,C)}),e.parser.addAttributeFilter("class",C=>{let A=C.length;for(;A--;){const F=C[A];c(F)?F.attr(t,"true"):m(F)&&F.attr(t,"false")}}),e.serializer.addAttributeFilter(t,C=>{let A=C.length;for(;A--;){const F=C[A];if(!c(F)&&!m(F))continue;const j=F.attr("data-mce-content");h.length>0&&j?Ih(h,j)?(F.name="#text",F.type=3,F.raw=!0,F.value=j):F.remove():F.attr(t,null)}})},ov=e=>Ot(Be.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),yg=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ch(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},c1=(e,t)=>{const o=ov(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),yg(e,o);return}h0(o)&&(yg(e,o),e.undoManager.add())}},u1=e=>{e.on("keyup compositionstart",tt(c1,e))},yy=fo,ik=(e,t,o)=>XT(t,e,o,Mi,Xf,yy),Nw=(e,t,o)=>wM(t,e,o,m=>Mi(m)||aI(m),m=>Xf(m)||q0(m),yy),sv=e=>{const t=e.dom.create(rl(e));return t.innerHTML='<br data-mce-bogus="1">',t},xg=(e,t,o)=>{const i=jn(e.getBody()),c=tt(qE,t===1?i.next:i.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(xt.fromRangeStart(o))){const C=Be.fromDom(sv(e));t===1?it(Be.fromDom(m),C):Rr(Be.fromDom(m),C),e.selection.select(C.dom,!0),e.selection.collapse()}}},Nh=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return ik(o,e,i).orThunk(()=>(xg(e,o,i),Q.none()))},Pw=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return Nw(o,e,i).orThunk(()=>(xg(e,o,i),Q.none()))},Mw=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return Z2(o)?!t:t},gs=(e,t)=>Nh(e,Mw(e.selection,t)).exists(o=>(em(e,o),!0)),wg=(e,t)=>Pw(e,t).exists(o=>(em(e,o),!0)),ef=(e,t)=>CM(e,t,t?Xf:Mi),d1=(e,t)=>zT(e,!t).map(o=>{const i=o.toRange(),c=e.selection.getRng();return t?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(em(e,o),!0)),ak=e=>re(["figcaption"],Go(e)),Ph=(e,t,o)=>{const i=tt(qo,t);return hi(Be.fromDom(e.container()),c=>o.isBlock(Go(c)),i).filter(ak)},xy=(e,t,o)=>t?gM(e.dom,o):mM(e.dom,o),dO=(e,t)=>{const o=Be.fromDom(e.getBody()),i=xt.fromRangeStart(e.selection.getRng());return Ph(i,o,e.schema).exists(()=>{if(xy(o,t,i)){const m=qi(e,o,t?Zr:Fa);return e.selection.setRng(m),!0}else return!1})},lk=(e,t)=>e.selection.isCollapsed()?dO(e,t):!1,T9=(e,t,o)=>{const i=e.selection.getRng(),c=xt.fromRangeStart(i);return e.getBody().firstChild===t&&mM(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},wy=(e,t)=>{const o=e.selection.getRng(),i=xt.fromRangeStart(o);return e.getBody().lastChild===t&&gM(t,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},O9=(e,t)=>t?Q.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>wy(e,o)).getOr(!1):Q.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Q.from(e.dom.getParent(o,"details")).map(i=>T9(e,i,o))).getOr(!1),Sl=(e,t)=>O9(e,t),f1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},D9=e=>Pe(e,t=>({...f1,...t})),FM=e=>Pe(e,t=>({...f1,...t})),ck=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,VM=(e,t)=>wo(D9(e),o=>ck(o,t)?[o]:[]),zM=(e,t)=>wo(FM(e),o=>ck(o,t)?[o]:[]),uo=(e,...t)=>()=>e.apply(null,t),rv=(e,t)=>cn(VM(e,t),o=>o.action()),uk=(e,t)=>tr(zM(e,t),o=>o.action()),iv=(e,t)=>{const o=t?$a.Forwards:$a.Backwards,i=e.selection.getRng();return XT(e,o,i,$b,G0,St).exists(c=>(em(e,c),!0))},Cy=(e,t)=>{const o=t?1:-1,i=e.selection.getRng();return wM(e,o,i,$b,G0,St).exists(c=>(em(e,c),!0))},fO=(e,t)=>CM(e,t,t?G0:$b),mO=Ko.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),fd={...mO,none:e=>mO.none(e)},HM=(e,t)=>hO(e,t,_n),hO=(e,t,o)=>wo(la(e),i=>Ns(i,t)?o(i)?[i]:[]:hO(i,t,o)),$M=(e,t,o=fn)=>{if(o(t))return Q.none();if(re(e,Go(t)))return Q.some(t);const i=c=>Ns(c,"table")||o(c);return ou(t,e.join(","),i)},UM=(e,t)=>$M(["td","th"],e,t),R9=e=>HM(e,"th,td"),ft=(e,t)=>Wi(e,"table",t),Hn=(e,t,o,i,c=_n)=>{const m=i===1;if(!m&&o<=0)return fd.first(e[0]);if(m&&o>=e.length-1)return fd.last(e[e.length-1]);{const h=o+i,C=e[h];return c(C)?fd.middle(t,C):Hn(e,t,h,i,c)}},mo=(e,t)=>ft(e,t).bind(o=>{const i=R9(o);return An(i,m=>qo(e,m)).map(m=>({index:m,all:i}))}),er=(e,t,o)=>mo(e,o).fold(()=>fd.none(e),c=>Hn(c.all,e,c.index,1,t)),Xr=(e,t,o)=>mo(e,o).fold(()=>fd.none(),c=>Hn(c.all,e,c.index,-1,t)),ci=e=>IC(e).filter(t=>t.trim().length!==0||t.indexOf(Di)>-1).isSome(),ri=e=>Na(e)&&ka(e,"contenteditable")==="false",ki=["img","br"],_y=e=>ci(e)||re(ki,Go(e))||ri(e),I9=e=>Ui(e,_y),WM=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),xW=(e,t)=>wo(t,o=>{const i=WM(Bf(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),yee=(e,t,o)=>Vt(e,(i,c)=>i.fold(()=>Q.some(c),m=>{const h=Math.sqrt(Math.abs(m.x-t)+Math.abs(m.y-o)),C=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o));return Q.some(C<h?c:m)}),Q.none()),wW=(e,t,o,i,c)=>{const m=pi(Be.fromDom(o),"td,th,caption").map(C=>C.dom),h=vt(xW(e,m),C=>t(C,c));return yee(h,i,c).map(C=>C.cell)},xee=e=>e.bottom,wee=e=>e.top,Cee=(e,t)=>e.y<t,_ee=(e,t)=>e.y>t,See=tt(wW,xee,Cee),kee=tt(wW,wee,_ee),Eee=(e,t)=>hn(t.getClientRects()).bind(o=>See(e,o.left,o.top)).bind(o=>nk(hM(o),t)),Aee=(e,t)=>Eo(t.getClientRects()).bind(o=>kee(e,o.left,o.top)).bind(o=>nk(g9(o),t)),Tee=(e,t,o)=>o.breakAt.exists(i=>e(t,i).breakAt.isSome()),Oee=e=>e.breakType===Qd.Wrap&&e.positions.length===0,Dee=e=>e.breakType===Qd.Br&&e.positions.length===1,CW=(e,t,o)=>{const i=e(t,o);return Oee(i)||!gr(o.getNode())&&Dee(i)?!Tee(e,t,i):i.breakAt.isNone()},Ree=tt(CW,Sw),Iee=tt(CW,kw),Nee=(e,t,o)=>{const i=xt.fromRangeStart(t);return P0(!e,o).exists(c=>c.isEqual(i))},Pee=(e,t,o,i)=>{const c=e.selection.getRng(),m=t?1:-1;return WE()&&Nee(t,c,o)?(Br(m,e,o,!t,!1).each(h=>{em(e,h)}),!0):!1},Mee=(e,t,o)=>Eee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>GT(fM(e,xt.before(t)),i.left))).getOr(xt.before(t)),Bee=(e,t,o)=>Aee(t,o).orThunk(()=>hn(o.getClientRects()).bind(i=>GT(ok(e,xt.after(t)),i.left))).getOr(xt.after(t)),_W=(e,t)=>{const o=t.getNode(e);return au(o)?Q.some(o):Q.none()},Lee=(e,t,o)=>{t.undoManager.transact(()=>{const i=e?it:Rr,c=qi(t,Be.fromDom(o),i);em(t,c)})},SW=(e,t,o)=>{const i=_W(!!t,o),c=t===!1;i.fold(()=>em(e,o.toRange()),m=>P0(c,e.getBody()).filter(h=>h.isEqual(o)).fold(()=>em(e,o.toRange()),h=>Lee(t,e,m)))},Fee=(e,t,o,i)=>{const c=e.selection.getRng(),m=xt.fromRangeStart(c),h=e.getBody();if(!t&&Ree(i,m)){const C=Mee(h,o,m);return SW(e,t,C),!0}else if(t&&Iee(i,m)){const C=Bee(h,o,m);return SW(e,t,C),!0}else return!1},kW=(e,t,o)=>Q.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>Q.from(e.dom.getParent(i,"table")).map(c=>o(e,t,c,i))).getOr(!1),EW=(e,t)=>kW(e,t,Pee),N9=(e,t)=>kW(e,t,Fee),Vee=e=>{const t=Mp.exact(e,0,e,0);return SF(t)},AW=(e,t,o)=>o.fold(Q.none,Q.none,(i,c)=>I9(c).map(m=>Vee(m)),i=>(e.execCommand("mceTableInsertRowAfter"),TW(e,t,i))),TW=(e,t,o)=>AW(e,t,er(o,_r)),zee=(e,t,o)=>AW(e,t,Xr(o,_r)),OW=(e,t)=>{const o=["table","li","dl"],i=Be.fromDom(e.getBody()),c=C=>{const A=Go(C);return qo(C,i)||re(o,A)},m=e.selection.getRng(),h=Be.fromDom(t?m.endContainer:m.startContainer);return UM(h,c).map(C=>(ft(C,c).each(j=>{e.model.table.clearSelectedCells(j.dom)}),e.selection.collapse(!t),(t?TW:zee)(e,c,C).each(j=>{e.selection.setRng(j)}),!0)).getOr(!1)},Hee=(e,t,o)=>{const i=Mo.os.isMacOS()||Mo.os.isiOS();rv([{keyCode:dn.RIGHT,action:uo(gs,e,!0)},{keyCode:dn.LEFT,action:uo(gs,e,!1)},{keyCode:dn.UP,action:uo(wg,e,!1)},{keyCode:dn.DOWN,action:uo(wg,e,!0)},...i?[{keyCode:dn.UP,action:uo(d1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:dn.DOWN,action:uo(d1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:dn.RIGHT,action:uo(EW,e,!0)},{keyCode:dn.LEFT,action:uo(EW,e,!1)},{keyCode:dn.UP,action:uo(N9,e,!1)},{keyCode:dn.DOWN,action:uo(N9,e,!0)},{keyCode:dn.UP,action:uo(N9,e,!1)},{keyCode:dn.UP,action:uo(Sl,e,!1)},{keyCode:dn.DOWN,action:uo(Sl,e,!0)},{keyCode:dn.RIGHT,action:uo(iv,e,!0)},{keyCode:dn.LEFT,action:uo(iv,e,!1)},{keyCode:dn.UP,action:uo(Cy,e,!1)},{keyCode:dn.DOWN,action:uo(Cy,e,!0)},{keyCode:dn.RIGHT,action:uo(tO,e,t,!0)},{keyCode:dn.LEFT,action:uo(tO,e,t,!1)},{keyCode:dn.RIGHT,ctrlKey:!i,altKey:i,action:uo(TM,e,t)},{keyCode:dn.LEFT,ctrlKey:!i,altKey:i,action:uo(OM,e,t)},{keyCode:dn.UP,action:uo(lk,e,!1)},{keyCode:dn.DOWN,action:uo(lk,e,!0)}],o).each(c=>{o.preventDefault()})},$ee=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Hee(e,t,o)})},Mh=(e,t)=>({container:e,offset:t}),ZM=js.DOM,jM=e=>t=>e===t?-1:0,Uee=e=>t=>e.isBlock(t)||re(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",P9=(e,t,o)=>{if(Ut(e)&&t>=0)return Q.some(Mh(e,t));{const i=Vd(ZM);return Q.from(i.backwards(e,t,jM(e),o)).map(c=>Mh(c.container,c.container.data.length))}},Wee=(e,t,o)=>{if(Ut(e)&&t>=e.length)return Q.some(Mh(e,t));{const i=Vd(ZM);return Q.from(i.forwards(e,t,jM(e),o)).map(c=>Mh(c.container,0))}},M9=(e,t,o)=>{if(!Ut(e))return Q.none();const i=e.data;if(t>=0&&t<=i.length)return Q.some(Mh(e,t));{const c=Vd(ZM);return Q.from(c.backwards(e,t,jM(e),o)).bind(m=>{const h=m.container.data;return M9(m.container,t+h.length,o)})}},DW=(e,t,o)=>{if(!Ut(e))return Q.none();const i=e.data;if(t<=i.length)return Q.some(Mh(e,t));{const c=Vd(ZM);return Q.from(c.forwards(e,t,jM(e),o)).bind(m=>DW(m.container,t-i.length,o))}},B9=(e,t,o,i,c)=>{const m=Vd(e,Uee(e));return Q.from(m.backwards(t,o,i,c))},Zee=e=>e.collapsed&&Ut(e.startContainer),jee=e=>xl(e.toString().replace(/\u00A0/g," ")),RW=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Kee=(e,t)=>e.substring(t.length),Gee=(e,t,o,i=!1)=>{let c;const m=o.charAt(0);for(c=t-1;c>=0;c--){const h=e.charAt(c);if(!i&&RW(h))return Q.none();if(m===h&&Is(e,o,c,t))break}return Q.some(c)},L9=(e,t,o,i=!1)=>{if(!Zee(t))return Q.none();const c={text:"",offset:0},m=(C,A,F)=>(c.text=F+c.text,c.offset+=A,Gee(c.text,c.offset,o,i).getOr(A)),h=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return B9(e,t.startContainer,t.startOffset,m,h).bind(C=>{const A=t.cloneRange();if(A.setStart(C.container,C.offset),A.setEnd(t.endContainer,t.endOffset),A.collapsed)return Q.none();const F=jee(A);return F.lastIndexOf(o)!==0?Q.none():Q.some({text:Kee(F,o),range:A,trigger:o})})},qee=e=>e.nodeType===Fg,Yee=e=>e.nodeType===gl,IW=e=>{if(qee(e))return Mh(e,e.data.length);{const t=e.childNodes;return t.length>0?IW(t[t.length-1]):Mh(e,t.length)}},NW=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?NW(o[t],0):o.length>0&&Yee(e)&&o.length===t?IW(o[o.length-1]):Mh(e,t)},Xee=(e,t)=>{var o;const i=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return B9(e,t.container,t.offset,(c,m)=>m===0?-1:m,i).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!RW(m)}).isSome()},Jee=e=>t=>{const o=NW(t.startContainer,t.startOffset);return!Xee(e,o)},Qee=(e,t,o)=>tr(o.triggers,i=>L9(e,t,i)),ete=(e,t)=>{const o=t(),i=e.selection.getRng();return Qee(e.dom,i,o).bind(c=>PW(e,t,c))},PW=(e,t,o,i={})=>{var c;const m=t(),C=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=vt(m.lookupByTrigger(o.trigger),j=>o.text.length>=j.minChars&&j.matches.getOrThunk(()=>Jee(e.dom))(o.range,C,o.text));if(A.length===0)return Q.none();const F=Promise.all(Pe(A,j=>j.fetch(o.text,j.maxResults,i).then(ee=>({matchText:o.text,items:ee,columns:j.columns,onAction:j.onAction,highlightOn:j.highlightOn}))));return Q.some({lookupData:F,context:o})};var Bh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Bh||(Bh={}));const F9=(e,t,o)=>e.stype===Bh.Error?t(e.serror):o(e.svalue),tte=e=>{const t=[],o=[];return he(e,i=>{F9(i,c=>o.push(c),c=>t.push(c))}),{values:t,errors:o}},nte=(e,t)=>e.stype===Bh.Error?{stype:Bh.Error,serror:t(e.serror)}:e,ote=(e,t)=>e.stype===Bh.Value?{stype:Bh.Value,svalue:t(e.svalue)}:e,ste=(e,t)=>e.stype===Bh.Value?t(e.svalue):e,rte=(e,t)=>e.stype===Bh.Error?t(e.serror):e,MW=e=>({stype:Bh.Value,svalue:e}),BW=e=>({stype:Bh.Error,serror:e}),Fl={fromResult:e=>e.fold(BW,MW),toResult:e=>F9(e,Xn.error,Xn.value),svalue:MW,partition:tte,serror:BW,bind:ste,bindError:rte,map:ote,mapError:nte,fold:F9},V9=e=>te(e)&&Kt(e).length>100?" removed due to size":JSON.stringify(e,null,2),ite=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:et("... (only showing first ten failures)")}]):e;return Pe(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},KM=(e,t)=>Fl.serror([{path:e,getErrorInfo:t}]),ate=(e,t,o)=>KM(e,()=>'Could not find valid *required* value for "'+t+'" in '+V9(o)),lte=(e,t)=>KM(e,()=>'Choice schema did not contain choice key: "'+t+'"'),cte=(e,t,o)=>KM(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+V9(t)),ute=(e,t)=>KM(e,et(t)),dte=(e,t,o,i)=>Ts(o,i).fold(()=>cte(e,o,i),m=>m.extract(e.concat(["branch: "+i]),t)),fte=(e,t)=>({extract:(c,m)=>Ts(m,e).fold(()=>lte(c,e),C=>dte(c,m,t,C)),toString:()=>"chooseOn("+e+"). Possible values: "+Kt(t)}),mte=(e,t)=>t,gte=(e,t)=>Ce(e)&&Ce(t)?GM(e,t):t,LW=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<t.length;i++){const c=t[i];for(const m in c)io(c,m)&&(o[m]=e(o[m],c[m]))}return o},GM=LW(gte),FW=LW(mte),VW=()=>({tag:"required",process:{}}),hte=e=>({tag:"defaultedThunk",process:e}),zW=e=>hte(et(e)),pte=()=>({tag:"option",process:{}}),vte=(e,t)=>e.length>0?Fl.svalue(GM(t,FW.apply(void 0,e))):Fl.svalue(t),HW=e=>$t(Fl.serror,On)(e),bte={consolidateObj:(e,t)=>{const o=Fl.partition(e);return o.errors.length>0?HW(o.errors):vte(o.values,t)},consolidateArr:e=>{const t=Fl.partition(e);return t.errors.length>0?HW(t.errors):Fl.svalue(t.values)}},yte=(e,t,o,i)=>({tag:"field",key:e,newKey:t,presence:o,prop:i}),xte=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),$W=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},z9=e=>{const t=(i,c)=>Fl.bindError(e(c),m=>ute(i,m)),o=et("val");return{extract:t,toString:o}},wte=z9(Fl.svalue),Cte=(e,t,o,i)=>Ts(t,o).fold(()=>ate(e,o,t),i),UW=(e,t,o,i)=>{const c=Ts(e,t).getOrThunk(()=>o(e));return i(c)},_te=(e,t,o)=>o(Ts(e,t)),Ste=(e,t,o,i)=>{const c=Ts(e,t).map(m=>m===!0?o(e):m);return i(c)},kte=(e,t,o,i,c)=>{const m=C=>c.extract(t.concat([i]),C),h=C=>C.fold(()=>Fl.svalue(Q.none()),A=>{const F=c.extract(t.concat([i]),A);return Fl.map(F,Q.some)});switch(e.tag){case"required":return Cte(t,o,i,m);case"defaultedThunk":return UW(o,i,e.process,m);case"option":return _te(o,i,h);case"defaultedOptionThunk":return Ste(o,i,e.process,h);case"mergeWithThunk":return UW(o,i,et({}),C=>{const A=GM(e.process(o),C);return m(A)})}},Ete=(e,t,o)=>{const i={},c=[];for(const m of o)$W(m,(h,C,A,F)=>{const j=kte(A,e,t,h,F);Fl.fold(j,Y=>{c.push(...Y)},Y=>{i[C]=Y})},(h,C)=>{i[h]=C(t)});return c.length>0?Fl.serror(c):Fl.svalue(i)},H9=e=>({extract:(i,c)=>Ete(i,c,e),toString:()=>`obj{
`+Pe(e,c=>$W(c,(m,h,C,A)=>m+" -> "+A.toString(),(m,h)=>"state("+m+")")).join(`
`)+"}"}),WW=e=>({extract:(i,c)=>{const m=Pe(c,(h,C)=>e.extract(i.concat(["["+C+"]"]),h));return bte.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Ate=e=>z9(t=>e(t).fold(Fl.serror,Fl.svalue)),Tte=(e,t,o)=>{const i=t.extract([e],o);return Fl.mapError(i,c=>({input:o,errors:c}))},Ote=(e,t,o)=>Fl.toResult(Tte(e,t,o)),Dte=e=>`Errors: 
`+ite(e.errors).join(`
`)+`

Input object: `+V9(e.input),ZW=(e,t)=>fte(e,Ul(t,H9)),Rte=et(wte),qM=(e,t)=>z9(o=>{const i=typeof o;return e(o)?Fl.svalue(o):Fl.serror(`Expected type: ${t} but got: ${i}`)}),Ite=qM(D,"number"),YM=qM(Re,"string"),Nte=qM(We,"boolean"),$9=qM(Me,"function"),pO=yte,jW=xte,Pte=e=>Ate(t=>re(e,t)?Xn.value(t):Xn.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),KW=(e,t)=>pO(e,e,VW(),t),GW=e=>KW(e,YM),qW=e=>KW(e,$9),Mte=(e,t)=>pO(e,e,VW(),WW(t)),U9=(e,t)=>pO(e,e,pte(),t),XM=e=>U9(e,YM),Bte=e=>U9(e,$9),Lte=(e,t)=>pO(e,e,zW(t),Rte()),dk=(e,t,o)=>pO(e,e,zW(t),o),YW=(e,t)=>dk(e,t,Ite),Fte=(e,t)=>dk(e,t,YM),XW=(e,t,o)=>dk(e,t,Pte(o)),W9=(e,t)=>dk(e,t,Nte),Z9=(e,t)=>dk(e,t,$9),Vte=(e,t,o)=>dk(e,t,WW(o)),zte=GW("type"),Hte=qW("fetch"),j9=qW("onAction"),$te=Z9("onSetup",()=>ct),Ute=XM("text"),Wte=XM("icon"),Zte=XM("tooltip"),jte=XM("label"),Kte=W9("active",!1),Gte=W9("enabled",!0),JW=W9("primary",!1),qte=e=>Lte("columns",e),vO=e=>Fte("type",e),Yte=H9([zte,GW("trigger"),YW("minChars",1),qte(1),YW("maxResults",10),Bte("matches"),Hte,j9,Vte("highlightOn",[],YM)]),Xte=e=>Ote("Autocompleter",Yte,e),K9=[Gte,Zte,Wte,Ute,$te],QW=[Kte].concat(K9),Jte=[Z9("predicate",fn),XW("scope","node",["node","editor"]),XW("position","selection",["node","selection","line"])],Qte=K9.concat([vO("contextformbutton"),JW,j9,jW("original",pt)]),ene=QW.concat([vO("contextformbutton"),JW,j9,jW("original",pt)]),tne=K9.concat([vO("contextformbutton")]),nne=QW.concat([vO("contextformtogglebutton")]),one=ZW("type",{contextformbutton:Qte,contextformtogglebutton:ene});H9([vO("contextform"),Z9("initValue",et("")),jte,Mte("commands",one),U9("launch",ZW("type",{contextformbutton:tne,contextformtogglebutton:nne}))].concat(Jte));const sne=e=>{const t=e.ui.registry.getAll().popups,o=Ul(t,h=>Xte(h).fold(C=>{throw new Error(Dte(C))},pt)),i=Pu(ul(o,h=>h.trigger)),c=Nu(o);return{dataset:o,triggers:i,lookupByTrigger:h=>vt(c,C=>C.trigger===h)}},rne=(e,t)=>{const o=vp(t.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),t.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},ine=e=>{const t=Ii(),o=Ri(!1),i=t.isSet,c=()=>{i()&&(uF(e),o.set(!1),t.clear())},m=Y=>{i()||t.set({trigger:Y.trigger,matchLength:Y.text.length})},h=Rl(()=>sne(e)),C=Y=>t.get().map(ee=>L9(e.dom,e.selection.getRng(),ee.trigger,!0).bind(ge=>PW(e,h,ge,Y))).getOrThunk(()=>ete(e,h)),A=Y=>{C(Y).fold(c,ee=>{m(ee.context),ee.lookupData.then(ge=>{t.get().map(_e=>{const pe=ee.context;_e.trigger===pe.trigger&&(t.set({..._e,matchLength:pe.text.length}),o.get()?(hA(e,{range:pe.range}),gA(e,{lookupData:ge})):(o.set(!0),hA(e,{range:pe.range}),mA(e,{lookupData:ge})))})})})},F=(Y,ee)=>{const ge=Y.compareBoundaryPoints(window.Range.START_TO_START,ee),_e=Y.compareBoundaryPoints(window.Range.END_TO_END,ee);return ge>=0&&_e<=0},j=()=>t.get().bind(({trigger:Y})=>{const ee=e.selection.getRng();return L9(e.dom,ee,Y,o.get()).filter(({range:ge})=>F(ee,ge)).map(({range:ge})=>ge)});e.addCommand("mceAutocompleterReload",(Y,ee)=>{const ge=te(ee)?ee.fetchOptions:{};A(ge)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{j().each(Y=>{hA(e,{range:Y})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>j().isSome()),rne(e,{cancelIfNecessary:c,load:A})},ane=na().browser.isSafari(),eZ=e=>Lc(Be.fromDom(e)),tZ=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},JM=(e,t)=>Q.from(e.getParent(t.container(),"details")),nZ=(e,t)=>JM(e,t).isSome(),lne=(e,t)=>{const o=Q.from(e.getParent(t.startContainer,"details")),i=Q.from(e.getParent(t.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(m=>Q.from(e.select("summary",m)[0]));return Q.some({startSummary:c,startDetails:o,endDetails:i})}else return Q.none()},cne=(e,t)=>Jn(t).exists(o=>o.isEqual(e)),une=(e,t)=>Qu(t).exists(o=>gr(o.getNode())&&zc(t,o).exists(i=>i.isEqual(e))||o.isEqual(e)),dne=(e,t)=>t.startSummary.exists(o=>cne(e,o)),fne=(e,t)=>t.startSummary.exists(o=>une(e,o)),mne=(e,t)=>t.startDetails.exists(o=>zc(o,e).forall(i=>t.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),gne=(e,t,o)=>o.startDetails.exists(i=>Gl(e,t).forall(c=>!i.contains(c.container()))),oZ=(e,t)=>{const o=t.getNode();qe(o)||e.selection.setCursorLocation(o,t.offset())},sZ=(e,t,o)=>{const i=e.dom.getParent(t.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?Jn(c):Qu(c)).each(h=>oZ(e,h))}else oZ(e,t)},hne=(e,t)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=t.startSummary.exists(o),m=t.startSummary.exists(i),h=t.startDetails.forall(A=>t.endDetails.forall(F=>A!==F));return(c||m)&&!(c&&m)||h},rZ=(e,t,o)=>{const{dom:i,selection:c}=e,m=e.getBody();if(o==="character"){const h=xt.fromRangeStart(c.getRng()),C=i.getParent(h.container(),i.isBlock),A=JM(i,h),F=C&&i.isEmpty(C),j=Ue(C==null?void 0:C.previousSibling),Y=Ue(C==null?void 0:C.nextSibling);return F&&(t?Y:j)&&Ob(!t,m,h).exists(_e=>nZ(i,_e)&&!mf(A,JM(i,_e)))?!0:Ob(t,m,h).fold(fn,ee=>{const ge=JM(i,ee);if(nZ(i,ee)&&!mf(A,ge)){if(t||sZ(e,ee,!1),C&&F){if(t&&j)return!0;if(!t&&Y)return!0;sZ(e,ee,t),e.dom.remove(C)}return!0}else return!1})}else return!1},pne=(e,t,o,i)=>{const m=e.selection.getRng(),h=xt.fromRangeStart(m),C=e.getBody();return i==="selection"?hne(m,t):o?fne(h,t)||gne(C,h,t):dne(h,t)||mne(h,t)},vne=(e,t,o)=>lne(e.dom,e.selection.getRng()).fold(()=>rZ(e,t,o),i=>pne(e,i,t,o)||rZ(e,t,o)),bne=(e,t,o)=>{const i=e.selection,c=i.getNode(),m=i.getRng(),h=xt.fromRangeStart(m);return up(c)?(o==="selection"&&tZ(m,c)||NI(t,h,c)?eZ(c):e.undoManager.transact(()=>{const C=i.getSel();let{anchorNode:A,anchorOffset:F,focusNode:j,focusOffset:Y}=C??{};const ee=()=>{Se(A)&&Se(F)&&Se(j)&&Se(Y)&&(C==null||C.setBaseAndExtent(A,F,j,Y))},ge=()=>{A=C==null?void 0:C.anchorNode,F=C==null?void 0:C.anchorOffset,j=C==null?void 0:C.focusNode,Y=C==null?void 0:C.focusOffset},_e=(Ae,He)=>{he(Ae.childNodes,Qe=>{V0(Qe)&&He.appendChild(Qe)})},pe=e.dom.create("span",{"data-mce-bogus":"1"});_e(c,pe),c.appendChild(pe),ee(),(o==="word"||o==="line")&&(C==null||C.modify("extend",t?"right":"left",o)),!i.isCollapsed()&&tZ(i.getRng(),pe)?eZ(c):(e.execCommand(t?"ForwardDelete":"Delete"),ge(),_e(pe,c),ee()),e.dom.remove(pe)}),!0):!1},Bw=(e,t,o)=>vne(e,t,o)||ane&&bne(e,t,o)?Q.some(ct):Q.none(),iZ=e=>(t,o,i={})=>{const c=t.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:ct,inputType:o},h=zm(new InputEvent(e));return t.dispatch(e,{...h,...m,...i})},bO=iZ("input"),QM=iZ("beforeinput"),aZ=na(),lZ=aZ.os,cZ=lZ.isMacOS()||lZ.isiOS(),yne=aZ.browser.isFirefox(),xne=(e,t,o)=>{const i=o.keyCode===dn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",h=C=>c?C?"word":"line":"selection";uk([{keyCode:dn.BACKSPACE,action:uo(wt,e)},{keyCode:dn.BACKSPACE,action:uo($T,e,!1)},{keyCode:dn.DELETE,action:uo($T,e,!0)},{keyCode:dn.BACKSPACE,action:uo(VT,e,!1)},{keyCode:dn.DELETE,action:uo(VT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Dw,e,t,!1)},{keyCode:dn.DELETE,action:uo(Dw,e,t,!0)},{keyCode:dn.BACKSPACE,action:uo(Sh,e,!1)},{keyCode:dn.DELETE,action:uo(Sh,e,!0)},{keyCode:dn.BACKSPACE,action:uo(Bw,e,!1,m)},{keyCode:dn.DELETE,action:uo(Bw,e,!0,m)},...cZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(Bw,e,!1,h(!0))},{keyCode:dn.DELETE,altKey:!0,action:uo(Bw,e,!0,h(!0))},{keyCode:dn.BACKSPACE,metaKey:!0,action:uo(Bw,e,!1,h(!1))}]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(Bw,e,!1,h(!0))},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(Bw,e,!0,h(!0))}],{keyCode:dn.BACKSPACE,action:uo(WT,e,!1)},{keyCode:dn.DELETE,action:uo(WT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(J,e,!1)},{keyCode:dn.DELETE,action:uo(J,e,!0)},{keyCode:dn.BACKSPACE,action:uo(BT,e,!1)},{keyCode:dn.DELETE,action:uo(BT,e,!0)},{keyCode:dn.BACKSPACE,action:uo(YS,e,!1)},{keyCode:dn.DELETE,action:uo(YS,e,!0)},{keyCode:dn.BACKSPACE,action:uo(w,e,!1)},{keyCode:dn.DELETE,action:uo(w,e,!0)},{keyCode:dn.BACKSPACE,action:uo(UT,e,!1)},{keyCode:dn.DELETE,action:uo(UT,e,!0)}],o).filter(C=>e.selection.isEditable()).each(C=>{o.preventDefault(),QM(e,i).isDefaultPrevented()||(C(),bO(e,i))})},wne=(e,t,o)=>rv([{keyCode:dn.BACKSPACE,action:uo(W6,e)},{keyCode:dn.DELETE,action:uo(W6,e)},...cZ?[{keyCode:dn.BACKSPACE,altKey:!0,action:uo(L,e)},{keyCode:dn.DELETE,altKey:!0,action:uo(L,e)},...o?[{keyCode:yne?224:91,action:uo(L,e)}]:[]]:[{keyCode:dn.BACKSPACE,ctrlKey:!0,action:uo(L,e)},{keyCode:dn.DELETE,ctrlKey:!0,action:uo(L,e)}]],t),Cne=(e,t)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===dn.BACKSPACE,i.isDefaultPrevented()||xne(e,t,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||wne(e,i,o),o=!1})},_ne=e=>{for(;e;){if(En(e)||Ut(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},fk=(e,t)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const m=_ne(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(o.doc.createTextNode(Di),t.firstChild)}const c=o.createRng();if(t.normalize(),t.hasChildNodes()){const m=new ca(t,t);let h=t,C;for(;C=m.current();){if(Ut(C)){c.setStart(C,0),c.setEnd(C,0);break}if(i[C.nodeName.toLowerCase()]){c.setStartBefore(C),c.setEndBefore(C);break}h=C,C=m.next()}C||(c.setStart(h,0),c.setEnd(h,0))}else gr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(c.setStartBefore(t),c.setEndBefore(t)):(c.setStartAfter(t),c.setEndAfter(t)):(c.setStart(t,0),c.setEnd(t,0));e.selection.setRng(c),nd(e,c)},yO=(e,t)=>{const o=e.getRoot();let i,c=t;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},G9=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Sne=e=>G9(e).fold(et(""),t=>t.nodeName.toUpperCase()),kne=e=>G9(e).filter(t=>Km(Be.fromDom(t))).isSome(),q9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Ene=(e,t,o)=>{const i=e.dom;Q.from(o.style).map(i.parseStyle).each(A=>{const j={...$g(Be.fromDom(t)),...A};i.setStyles(t,j)});const c=Q.from(o.class).map(A=>A.split(/\s+/)),m=Q.from(t.className).map(A=>vt(A.split(/\s+/),F=>F!==""));sa(c,m,(A,F)=>{const j=vt(F,ee=>!re(A,ee)),Y=[...A,...j];i.setAttrib(t,"class",Y.join(" "))});const h=["style","class"],C=wc(o,(A,F)=>!re(h,F));i.setAttribs(t,C)},xO=(e,t)=>{if(rl(e).toLowerCase()===t.tagName.toLowerCase()){const i=Kx(e);Ene(e,t,i)}},uZ=(e,t,o,i,c=!0,m,h)=>{const C=e.dom,A=e.schema,F=rl(e),j=o?o.nodeName.toUpperCase():"";let Y=t;const ee=A.getTextInlineElements();let ge;m||j==="TABLE"||j==="HR"?ge=C.create(m||F,h||{}):ge=o.cloneNode(!1);let _e=ge;if(!c)C.setAttrib(ge,"style",null),C.setAttrib(ge,"class",null);else do if(ee[Y.nodeName]){if(bu(Y)||yu(Y))continue;const pe=Y.cloneNode(!1);C.setAttrib(pe,"id",""),ge.hasChildNodes()?(pe.appendChild(ge.firstChild),ge.appendChild(pe)):(_e=pe,ge.appendChild(pe))}while((Y=Y.parentNode)&&Y!==i);return xO(e,ge),q9(_e),ge},Ane=(e,t)=>e.dom.getParent(t,cp),Tne=(e,t,o)=>{let i=t;for(;i&&i!==e&&Ue(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return cp(c);i=c}return!1},One=(e,t,o)=>!t&&o.nodeName.toLowerCase()===rl(e)&&e.dom.isEmpty(o)&&Tne(e.getBody(),o,i=>io(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),Dne=(e,t,o)=>{var i,c,m;const h=t(rl(e)),C=Ane(e,o);C&&(e.dom.insertAfter(h,C),fk(e,h),((m=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Rne=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Ine=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},dZ=(e,t)=>{const o=e==null?void 0:e.parentNode;return Se(o)&&o.nodeName===t},fZ=e=>Se(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Y9=e=>Se(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Nne=e=>fZ(e)&&fZ(e.parentNode),eB=e=>{const t=e.parentNode;return Y9(t)?t:e},tB=(e,t,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!En(i);)i=i[o?"nextSibling":"previousSibling"];return i===t},mZ=e=>Vt(ul($g(Be.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Pne=(e,t,o,i,c)=>{const m=e.dom,h=e.selection.getRng(),C=o.parentNode;if(o===e.getBody()||!C)return;Nne(o)&&(c="LI");const A=Y9(i)?mZ(i):void 0;let F=Y9(i)&&A?t(c,{style:mZ(i)}):t(c);if(tB(o,i,!0)&&tB(o,i,!1))if(dZ(o,"LI")){const j=eB(o);m.insertAfter(F,j),Ine(o)?m.remove(j):m.remove(o)}else m.replace(F,o);else if(tB(o,i,!0))dZ(o,"LI")?(m.insertAfter(F,eB(o)),F.appendChild(m.doc.createTextNode(" ")),F.appendChild(o)):C.insertBefore(F,o),m.remove(i);else if(tB(o,i,!1))m.insertAfter(F,eB(o)),m.remove(i);else{o=eB(o);const j=h.cloneRange();j.setStartAfter(i),j.setEndAfter(o);const Y=j.extractContents();if(c==="LI"&&Rne(Y,"LI")){const ee=vt(Pe(F.children,Be.fromDom),Ye(vf("br")));F=Y.firstChild,m.insertAfter(Y,o),he(ee,ge=>Fa(Be.fromDom(F),ge)),A&&F.setAttribute("style",A)}else m.insertAfter(Y,o),m.insertAfter(F,o);m.remove(i)}fk(e,F)},Mne=e=>{he(Nm(Be.fromDom(e),lr),t=>{const o=t.dom;o.nodeValue=xl(o.data)})},Bne=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Lne=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),X9=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,J9=(e,t)=>Se(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",Fne=(e,t,o)=>{var i;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;En(m)&&!t[m.nodeName.toLowerCase()]&&c.push(m)}let h=c.length;for(;h--;)m=c[h],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((i=m.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||Lne(e,m))&&e.remove(m)},Q9=(e,t,o)=>Ut(t)?e?o===1&&t.data.charAt(o-1)===_i?0:o:o===t.data.length-1&&t.data.charAt(o)===_i?t.data.length:o:o,Vne=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,Q9(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Q9(!1,e.endContainer,e.endOffset)),t},zne=e=>{let t=e;do Ut(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Hne=(e,t,o,i,c)=>{var m,h;const C=e.dom,A=(m=yO(C,i))!==null&&m!==void 0?m:C.getRoot();let F=C.getParent(i,C.isBlock);if(!F||!J9(C,F)){if(F=F||A,!F.hasChildNodes()){const ge=C.create(t);return xO(e,ge),F.appendChild(ge),o.setStart(ge,0),o.setEnd(ge,0),ge}let j=i;for(;j&&j.parentNode!==F;)j=j.parentNode;let Y;for(;j&&!C.isBlock(j);)Y=j,j=j.previousSibling;const ee=(h=Y==null?void 0:Y.parentElement)===null||h===void 0?void 0:h.nodeName;if(Y&&ee&&e.schema.isValidChild(ee,t.toLowerCase())){const ge=Y.parentNode,_e=C.create(t);for(xO(e,_e),ge.insertBefore(_e,Y),j=Y;j&&!C.isBlock(j);){const pe=j.nextSibling;_e.appendChild(j),j=pe}o.setStart(i,c),o.setEnd(i,c)}}return i},$ne=(e,t)=>{t.normalize();const o=t.lastChild;(!o||En(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},Une=(e,t)=>{const o=EE(e);return st(t)?!1:Re(o)?re(Xt.explode(o),t.nodeName.toLowerCase()):o},gZ={insert:(e,t)=>{let o,i,c,m,h=!1;const C=e.dom,A=e.schema,F=A.getNonEmptyElements(),j=e.selection.getRng(),Y=rl(e),ee=Be.fromDom(j.startContainer),ge=$u(ee,j.startOffset),_e=ge.exists(It=>Na(It)&&!_r(It)),pe=j.collapsed&&_e,Ae=(It,Cn)=>uZ(e,o,Yt,Bt,kE(e),It,Cn),He=It=>{const Cn=Q9(It,o,i);if(Ut(o)&&(It?Cn>0:Cn<o.data.length))return!1;if((o.parentNode===Yt||o===Yt)&&h&&!It||It&&En(o)&&o===Yt.firstChild)return!0;if(X9(o,"TABLE")||X9(o,"HR"))return h&&!It||!h&&It;const Vn=new ca(o,Yt);Ut(o)&&(It&&Cn===0?Vn.prev():!It&&Cn===o.data.length&&Vn.next());let Io;for(;Io=Vn.current();){if(En(Io)){if(!Io.getAttribute("data-mce-bogus")){const Vo=Io.nodeName.toLowerCase();if(F[Vo]&&Vo!=="br")return!1}}else if(Ut(Io)&&!oc(Io.data))return!1;It?Vn.prev():Vn.next()}return!0},Qe=()=>{let It;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&pn!=="HGROUP"?It=Ae(Y):It=Ae(),Une(e,m)&&J9(C,m)&&C.isEmpty(Yt,void 0,{includeZwsp:!0})?It=C.split(m,Yt):C.insertAfter(It,Yt),fk(e,It),It};rg(C,j).each(It=>{j.setStart(It.startContainer,It.startOffset),j.setEnd(It.endContainer,It.endOffset)}),o=j.startContainer,i=j.startOffset;const Xe=!!(t&&t.shiftKey),dt=!!(t&&t.ctrlKey);En(o)&&o.hasChildNodes()&&!pe&&(h=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,h&&Ut(o)?i=o.data.length:i=0);const Bt=yO(C,o);if(!Bt||Bne(e,o))return;Xe||(o=Hne(e,Y,j,o,i));let Yt=C.getParent(o,C.isBlock)||C.getRoot();m=Se(Yt==null?void 0:Yt.parentNode)?C.getParent(Yt.parentNode,C.isBlock):null,c=Yt?Yt.nodeName.toUpperCase():"";const pn=m?m.nodeName.toUpperCase():"";if(pn==="LI"&&!dt){const It=m;Yt=It,m=It.parentNode,c=pn}if(En(m)&&One(e,Xe,Yt))return Dne(e,Ae,Yt);if(/^(LI|DT|DD)$/.test(c)&&En(m)&&C.isEmpty(Yt)){Pne(e,Ae,m,Yt,Y);return}if(!pe&&(Yt===e.getBody()||!J9(C,Yt)))return;const kt=Yt.parentNode;let bt;if(pe)bt=Ae(Y),ge.fold(()=>{Zr(ee,Be.fromDom(bt))},It=>{Rr(It,Be.fromDom(bt))}),e.selection.setCursorLocation(bt,0);else if(yp(Yt))bt=ch(Yt),C.isEmpty(Yt)&&q9(Yt),xO(e,bt),fk(e,bt);else if(He(!1))bt=Qe();else if(He(!0)&&kt){const It=xt.fromRangeStart(j),Cn=q0(It),Vn=Be.fromDom(Yt),Vo=Wb(Vn,It,e.schema)?z_(Vn,It,e.schema).bind(Hs=>Q.from(Hs.getNode())):Q.none();bt=kt.insertBefore(Ae(),Yt);const Ds=X9(Yt,"HR")||Cn?bt:Vo.getOr(Yt);fk(e,Ds)}else{const It=Vne(j).cloneRange();It.setEndAfter(Yt);const Cn=It.extractContents();Mne(Cn),zne(Cn),bt=Cn.firstChild,C.insertAfter(Cn,Yt),Fne(C,F,bt),$ne(C,Yt),C.isEmpty(Yt)&&q9(Yt),bt.normalize(),C.isEmpty(bt)?(C.remove(bt),Qe()):(xO(e,bt),fk(e,bt))}C.setAttrib(bt,"id",""),e.dispatch("NewBlock",{newBlock:bt})},fakeEventName:"insertParagraph"},Wne=(e,t,o)=>{const i=new ca(t,o);let c;const m=e.getNonEmptyElements();for(;c=i.next();)if(m[c.nodeName.toLowerCase()]||Ut(c)&&c.length>0)return!0;return!1},hZ=(e,t,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),e.selection.setRng(i),nd(e,i)},Zne=(e,t)=>{const o=e.selection,i=e.dom,c=o.getRng();let m,h=!1;rg(i,c).each(ge=>{c.setStart(ge.startContainer,ge.startOffset),c.setEnd(ge.endContainer,ge.endOffset)});let C=c.startOffset,A=c.startContainer;if(En(A)&&A.hasChildNodes()){const ge=C>A.childNodes.length-1;A=A.childNodes[Math.min(C,A.childNodes.length-1)]||A,ge&&Ut(A)?C=A.data.length:C=0}let F=i.getParent(A,i.isBlock);const j=F&&F.parentNode?i.getParent(F.parentNode,i.isBlock):null,Y=j?j.nodeName.toUpperCase():"",ee=!!(t&&t.ctrlKey);Y==="LI"&&!ee&&(F=j),Ut(A)&&C>=A.data.length&&(Wne(e.schema,A,F||i.getRoot())||(m=i.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),h=!0)),m=i.create("br"),E0(i,c,m),hZ(e,m,h),e.undoManager.add()},jne=(e,t)=>{const o=Be.fromTag("br");Rr(Be.fromDom(t),o),e.undoManager.add()},Kne=(e,t)=>{qne(e.getBody(),t)||it(Be.fromDom(t),Be.fromTag("br"));const o=Be.fromTag("br");it(Be.fromDom(t),o),hZ(e,o.dom,!1),e.undoManager.add()},Gne=e=>gr(e.getNode()),qne=(e,t)=>Gne(xt.after(t))?!0:Gl(e,xt.after(t)).map(o=>gr(o.getNode())).getOr(!1),pZ=e=>e&&e.nodeName==="A"&&"href"in e,Yne=e=>e.fold(fn,pZ,pZ,fn),Xne=e=>{const t=tt(jb,e),o=xt.fromRangeStart(e.selection.getRng());return bg(t,e.getBody(),o).filter(Yne)},Jne=(e,t)=>{t.fold(ct,tt(jne,e),tt(Kne,e),ct)},vZ={insert:(e,t)=>{const o=Xne(e);o.isSome()?o.each(tt(Jne,e)):Zne(e,t)},fakeEventName:"insertLineBreak"},bZ=(e,t)=>G9(e).filter(o=>t.length>0&&Ns(Be.fromDom(o),t)).isSome(),Qne=e=>bZ(e,BD(e)),eoe=e=>bZ(e,LD(e)),tf=Ko.generate([{br:[]},{block:[]},{none:[]}]),toe=(e,t)=>eoe(e),yZ=e=>(t,o)=>kne(t)===e,xZ=(e,t)=>(o,i)=>Sne(o)===e.toUpperCase()===t,noe=e=>{const t=yO(e.dom,e.selection.getStart());return st(t)},wO=e=>xZ("pre",e),ooe=()=>xZ("summary",!0),nB=e=>(t,o)=>_E(t)===e,soe=(e,t)=>Qne(e),oB=(e,t)=>t,roe=e=>{const t=rl(e),o=yO(e.dom,e.selection.getStart());return Se(o)&&e.schema.isValidChild(o.nodeName,t)},ioe=e=>{const t=e.selection.getRng(),o=Be.fromDom(t.startContainer),c=$u(o,t.startOffset).map(m=>Na(m)&&!_r(m));return t.collapsed&&c.getOr(!0)},tm=(e,t)=>(o,i)=>Vt(e,(m,h)=>m&&h(o,i),!0)?Q.some(t):Q.none(),aoe=(e,t)=>tM([tm([toe],tf.none()),tm([wO(!0),noe],tf.none()),tm([ooe()],tf.br()),tm([wO(!0),nB(!1),oB],tf.br()),tm([wO(!0),nB(!1)],tf.block()),tm([wO(!0),nB(!0),oB],tf.block()),tm([wO(!0),nB(!0)],tf.br()),tm([yZ(!0),oB],tf.br()),tm([yZ(!0)],tf.block()),tm([soe],tf.br()),tm([oB],tf.br()),tm([roe],tf.block()),tm([ioe],tf.block())],[e,!!(t&&t.shiftKey)]).getOr(tf.none()),sB=(e,t,o)=>{t.selection.isCollapsed()||RI(t),!(Se(o)&&QM(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Se(o)&&bO(t,e.fakeEventName))},wZ=(e,t)=>{const o=()=>sB(vZ,e,t),i=()=>sB(gZ,e,t),c=aoe(e,t);switch(SE(e)){case"linebreak":c.fold(o,o,ct);break;case"block":c.fold(i,i,ct);break;case"invert":c.fold(i,o,ct);break;default:c.fold(o,i,ct);break}},CZ=na(),loe=CZ.os.isiOS()&&CZ.browser.isSafari(),_Z=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),IV(e.undoManager),e.undoManager.transact(()=>{wZ(e,t)}))},coe=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(Ut(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=t.data.charAt(e.startOffset-1);return o.test(i)}else return!1},uoe=e=>{let t=Q.none();const o=c=>{t=Q.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,m)=>{c.undoManager.undo(),t.fold(ct,h=>c.selection.moveToBookmark(h)),_Z(c,m),t=Q.none()};e.on("keydown",c=>{c.keyCode===dn.ENTER&&(loe&&coe(e.selection.getRng())?o(e):_Z(e,c))}),e.on("keyup",c=>{c.keyCode===dn.ENTER&&t.each(()=>i(e,c))})},doe=(e,t,o)=>{const i=Mo.os.isMacOS()||Mo.os.isiOS();rv([{keyCode:dn.END,action:uo(ef,e,!0)},{keyCode:dn.HOME,action:uo(ef,e,!1)},...i?[]:[{keyCode:dn.HOME,action:uo(d1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:dn.END,action:uo(d1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:dn.END,action:uo(fO,e,!0)},{keyCode:dn.HOME,action:uo(fO,e,!1)},{keyCode:dn.END,action:uo(Tw,e,!0,t)},{keyCode:dn.HOME,action:uo(Tw,e,!1,t)}],o).each(c=>{o.preventDefault()})},foe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||doe(e,t,o)})},moe=e=>{e.on("input",t=>{t.isComposing||qF(e)})},goe=na(),hoe=(e,t,o)=>{rv([{keyCode:dn.PAGE_UP,action:uo(Tw,e,!1,t)},{keyCode:dn.PAGE_DOWN,action:uo(Tw,e,!0,t)}],o)},SZ=e=>e.stopImmediatePropagation(),kZ=e=>e.keyCode===dn.PAGE_UP||e.keyCode===dn.PAGE_DOWN,EZ=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",SZ,!0):!o&&e.get()&&t.off("NodeChange",SZ),e.set(o)},poe=(e,t)=>{if(goe.os.isMacOS())return;const o=Ri(!1);e.on("keydown",i=>{kZ(i)&&EZ(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||hoe(e,t,i),kZ(i)&&o.get()&&(EZ(o,e,!1),e.nodeChanged())})},voe=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||be(t.getTargetRanges(),o=>!HR(e.dom,o)))&&t.preventDefault()})},AZ=(e,t)=>{const o=t.container(),i=t.offset();return Ut(o)?(o.insertData(i,e),Q.some(xt(o,i+e.length))):QC(t).map(c=>{const m=Be.fromText(e);return t.isAtEnd()?it(c,m):Rr(c,m),xt(m.dom,e.length)})},TZ=tt(AZ,Di),OZ=tt(AZ," "),boe=(e,t,o)=>n3(e,t,o)?TZ(t):OZ(t),yoe=e=>t=>t.fold(o=>zc(e.dom,xt.before(o)),o=>Jn(o),o=>Qu(o),o=>Gl(e.dom,xt.after(o))),xoe=(e,t,o)=>i=>n3(e,i,o)?TZ(t):OZ(t),DZ=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},woe=(e,t)=>e.isEditable(e.getParent(t,"summary")),Coe=e=>{const t=xt.fromRangeStart(e.selection.getRng()),o=Be.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=tt(jb,e),c=xt.fromRangeStart(e.selection.getRng());return bg(i,e.getBody(),c).bind(yoe(o)).map(m=>()=>xoe(o,t,e.schema)(m).each(DZ(e)))}else return Q.none()},_oe=e=>{const t=()=>{const o=Be.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=xt.fromRangeStart(e.selection.getRng());boe(o,i,e.schema).each(DZ(e))};return Bg(Mo.browser.isFirefox()&&e.selection.isEditable()&&woe(e.dom,e.selection.getRng().startContainer),t)},Soe=(e,t)=>{uk([{keyCode:dn.SPACEBAR,action:uo(Coe,e)},{keyCode:dn.SPACEBAR,action:uo(_oe,e)}],t).each(o=>{t.preventDefault(),QM(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),bO(e,"insertText",{data:" "}))})},koe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Soe(e,t)})},Eoe=e=>a5(e)?[{keyCode:dn.TAB,action:uo(OW,e,!0)},{keyCode:dn.TAB,shiftKey:!0,action:uo(OW,e,!1)}]:[],Aoe=(e,t)=>{rv([...Eoe(e)],t).each(o=>{t.preventDefault()})},Toe=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Aoe(e,t)})},Ooe=e=>{if(e.addShortcut("Meta+P","","mcePrint"),ine(e),vg(e))return Ri(null);{const t=AM(e);return voe(e),u1(e),$ee(e,t),Cne(e,t),uoe(e),koe(e),moe(e),Toe(e),foe(e,t),poe(e,t),t}};class Doe{constructor(t){this.lastPath=[],this.editor=t;let o;const i=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",c=>{const m=t.selection.getRng(),h={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!A2(h,o))&&t.dispatch("SelectionChange"),o=h}),t.on("contextmenu",()=>{U0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const c=t.selection.getStart(!0);c&&L0(t)&&!i.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",c=>{!c.isDefaultPrevented()&&L0(t)&&(t.selection.getNode().nodeName==="IMG"?Uc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!OL(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const m=[];this.editor.dom.getParent(i,h=>h===c?!0:(m.push(h),!1)),this.editor.dispatch("NodeChange",{...t,element:i,parents:m})}}isSameElementPath(t){let o;const i=this.editor,c=Ho(i.dom.getParents(t,_n,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const RZ=za("image"),Roe=e=>{const t=e;return Q.from(t[RZ])},Ioe=(e,t)=>{const o=e;o[RZ]=t},eH=za("event"),Noe=e=>{const t=e;return Q.from(t[eH])},rB=e=>t=>{const o=t;o[eH]=e},Poe=(e,t)=>rB(t)(e),IZ=rB(0),Moe=rB(2),Boe=rB(1),Loe=(e=>t=>{const o=t;return Q.from(o[eH]).exists(i=>i===e)})(0),Foe=()=>Object.freeze({length:0,item:e=>null}),tH=za("mode"),Voe=e=>{const t=e;return Q.from(t[tH])},iB=e=>t=>{const o=t;o[tH]=e},NZ=(e,t)=>iB(t)(e),PZ=iB(0),nH=iB(2),zoe=iB(1),MZ=e=>t=>{const o=t;return Q.from(o[tH]).exists(i=>i===e)},mk=MZ(0),BZ=MZ(1),Hoe=(e,t)=>({...t,get length(){return t.length},add:(o,i)=>{if(mk(e))if(Re(o)){if(!qe(i))return t.add(o,i)}else return t.add(o);return null},remove:o=>{mk(e)&&t.remove(o)},clear:()=>{mk(e)&&t.clear()}}),$oe=["none","copy","link","move"],Uoe=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],oH=()=>{const e=new window.DataTransfer;let t="move",o="all";const i={get dropEffect(){return t},set dropEffect(c){re($oe,c)&&(t=c)},get effectAllowed(){return o},set effectAllowed(c){Loe(i)&&re(Uoe,c)&&(o=c)},get items(){return Hoe(i,e.items)},get files(){return BZ(i)?Foe():e.files},get types(){return e.types},setDragImage:(c,m,h)=>{mk(i)&&(Ioe(i,{image:c,x:m,y:h}),e.setDragImage(c,m,h))},getData:c=>BZ(i)?"":e.getData(c),setData:(c,m)=>{mk(i)&&e.setData(c,m)},clearData:c=>{mk(i)&&e.clearData(c)}};return PZ(i),i},Woe=e=>{const t=oH(),o=Voe(e);return nH(e),IZ(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Roe(e).each(i=>t.setDragImage(i.image,i.x,i.y)),he(e.types,i=>{i!=="Files"&&t.setData(i,e.getData(i))}),he(e.files,i=>t.items.add(i)),Noe(e).each(i=>{Poe(t,i)}),o.each(i=>{NZ(e,i),NZ(t,i)}),t},Zoe=e=>{const t=e.getData("text/html");return t===""?Q.none():Q.some(t)},LZ=(e,t)=>e.setData("text/html",t),FZ="x-tinymce/html",aB=et(FZ),sH="<!-- "+FZ+" -->",joe=e=>sH+e,Koe=e=>e.replace(sH,""),VZ=e=>e.indexOf(sH)!==-1,Goe=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),qoe=(e,t)=>{let o="<"+e;const i=ul(t,(c,m)=>m+'="'+Yg.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},Yoe=(e,t,o)=>{const i=e.split(/\n\n/),c=qoe(t,o),m="</"+t+">",h=Pe(i,A=>A.split(/\n/).join("<br />")),C=A=>c+A+m;return h.length===1?h[0]:Pe(h,C).join("")},zZ="%MCEPASTEBIN%",Xoe=(e,t)=>{const{dom:o,selection:i}=e,c=e.getBody();t.set(i.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},zZ);Mo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",h=>{h.stopPropagation()}),m.focus(),i.select(m,!0)},Joe=(e,t)=>{const o=e.dom;if(rH(e)){let i;const c=t.get();for(;i=rH(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}t.set(null)},rH=e=>e.dom.get("mcepastebin"),Qoe=e=>Se(e)&&e.id==="mcepastebin",ese=e=>{const t=e.dom,o=(h,C)=>{h.appendChild(C),t.remove(C,!0)},[i,...c]=vt(e.getBody().childNodes,Qoe);he(c,h=>{o(i,h)});const m=t.select("div[id=mcepastebin]",i);for(let h=m.length-1;h>=0;h--){const C=t.create("div");i.insertBefore(C,m[h]),o(C,m[h])}return i?i.innerHTML:""},HZ=e=>e===zZ,tse=e=>{const t=Ri(null);return{create:()=>Xoe(e,t),remove:()=>Joe(e,t),getEl:()=>rH(e),getHtml:()=>ese(e),getLastRng:t.get}},$Z=(e,t)=>(Xt.each(t,o=>{Le(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),nse=e=>{const t=Pc(),o=ay({},t);let i="";const c=t.getVoidElements(),m=Xt.makeMap("script noscript style textarea video audio iframe object"," "),h=t.getBlockElements(),C=A=>{const F=A.name,j=A;if(F==="br"){i+=`
`;return}if(F!=="wbr"){if(c[F]&&(i+=" "),m[F]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in t.getVoidElements())){let Y=A.firstChild;if(Y)do C(Y);while(Y=Y.next)}h[F]&&j.next&&(i+=`
`,F==="p"&&(i+=`
`))}};return e=$Z(e,[/<!\[[^\]]+\]>/g]),C(o.parse(e)),i},UZ=e=>(e=$Z(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Di],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),ose=e=>{let t=0;return()=>e+t++},sse=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xt.hasOwn(o,t)?"image/"+o[t]:"image/"+t},rse=(e,t)=>{const o=ay({sanitize:s5(e),sandbox_iframes:VE(e),sandbox_iframes_exclusions:jC(e),convert_unsafe_embeds:c5(e)},e.schema);o.addNodeFilter("meta",c=>{Xt.each(c,m=>{m.remove()})});const i=o.parse(t,{forced_root_block:!1,isRootContent:!0});return wh({validate:!0},e.schema).serialize(i)},WZ=(e,t)=>({content:e,cancelled:t}),ise=(e,t,o)=>{const i=e.dom.create("div",{style:"display:none"},t),c=p_(e,i,o);return WZ(c.node.innerHTML,c.isDefaultPrevented())},ase=(e,t,o)=>{const i=_2(e,t,o),c=rse(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?ise(e,c,o):WZ(c,i.isDefaultPrevented())},lse=(e,t,o)=>ase(e,t,o),iH=(e,t)=>(e.insertContent(t,{merge:ML(e),paste:!0}),!0),aH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),cse=(e,t)=>aH(t)&&be(FE(e),o=>Ee(t.toLowerCase(),`.${o.toLowerCase()}`)),use=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),dse=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),fse=(e,t,o)=>!e.selection.isCollapsed()&&aH(t)?dse(e,t,o):!1,mse=(e,t,o)=>cse(e,t)?use(e,t,o):!1,gse=(e,t)=>{Xt.each([fse,mse,iH],o=>!o(e,t,iH))},hse=(e,t,o)=>{o||!_b(e)?iH(e,t):gse(e,t)},pse=ose("mceclip"),vse=e=>{const t=oH();return LZ(t,e),nH(t),t},ZZ=(e,t,o,i,c)=>{const m=lse(e,t,o);if(!m.cancelled){const h=m.content,C=()=>hse(e,h,i);c?QM(e,"insertFromPaste",{dataTransfer:vse(h)}).isDefaultPrevented()||(C(),bO(e,"insertFromPaste")):C()}},lB=(e,t,o,i)=>{const c=o||VZ(t);ZZ(e,Koe(t),c,!1,i)},lH=(e,t,o)=>{const i=e.dom.encode(t).replace(/\r\n/g,`
`),c=Mv(i,t5(e)),m=Yoe(c,rl(e),Kx(e));ZZ(e,m,!1,!0,o)},jZ=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{t[i]=e.getData(i)}catch{t[i]=""}}return t},Sy=(e,t)=>t in e&&e[t].length>0,KZ=e=>Sy(e,"text/html")||Sy(e,"text/plain"),bse=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Se(o)?e.dom.encode(o[1]):void 0},yse=(e,t,o,i)=>{const c=pse(),m=gh(e)&&Se(o.name),h=m?bse(e,o.name):c,C=m?o.name:void 0,A=t.create(c,o,i,h,C);return t.add(A),A},xse=(e,t)=>{TS(t.uri).each(({data:o,type:i,base64Encoded:c})=>{const m=c?o:btoa(o),h=t.file,C=e.editorUpload.blobCache,A=C.getByData(m,i),F=A??yse(e,C,h,m);lB(e,`<img src="${F.blobUri()}">`,!1,!0)})},wse=e=>e.type==="paste",Cse=e=>Promise.all(Pe(e,t=>RN(t).then(o=>({file:t,uri:o})))),_se=e=>{const t=FE(e);return o=>ar(o.type,"image/")&&be(t,i=>sse(i)===o.type)},Sse=(e,t)=>{const o=t.items?wo(vo(t.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=t.files?vo(t.files):[];return vt(o.length>0?o:i,_se(e))},GZ=(e,t,o)=>{const i=wse(t)?t.clipboardData:t.dataTransfer;if(eg(e)&&i){const c=Sse(e,i);if(c.length>0)return t.preventDefault(),Cse(c).then(m=>{o&&e.selection.setRng(o),he(m,h=>{xse(e,h)})}),!0}return!1},kse=e=>{var t,o;return Mo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Ese=e=>dn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,cH=(e,t,o,i,c)=>{let m=UZ(o);const h=Sy(t,aB())||VZ(o),C=!h&&Goe(m),A=aH(m);(HZ(m)||!m.length||C&&!A)&&(i=!0),(i||A)&&(Sy(t,"text/plain")&&C?m=t["text/plain"]:m=nse(m)),!HZ(m)&&(i?lH(e,m,c):lB(e,m,h,c))},Ase=(e,t,o)=>{let i;const c=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Ese(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||kse(m))return;const h=o.get()==="text"||i;i=!1;const C=jZ(m.clipboardData);!KZ(C)&&GZ(e,m,c())||(Sy(C,"text/html")?(m.preventDefault(),cH(e,C,C["text/html"],h,!0)):Sy(C,"text/plain")&&Sy(C,"text/uri-list")?(m.preventDefault(),cH(e,C,C["text/plain"],h,!0)):(t.create(),Uc.setEditorTimeout(e,()=>{const A=t.getHtml();t.remove(),cH(e,C,A,h,!1)},0)))})},Tse=e=>{const t=c=>ar(c,"webkit-fake-url"),o=c=>ar(c,"data:"),i=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,h)=>{if(!eg(e)&&i(h))for(const C of c){const A=C.attr("src");Re(A)&&!C.attr("data-mce-object")&&A!==Mo.transparentSrc&&(t(A)||!BL(e)&&o(A))&&C.remove()}})},Ose=(e,t,o)=>{Ase(e,t,o),Tse(e)},Dse=(e,t)=>{t.get()==="text"?(t.set("html"),v_(e,!1)):(t.set("text"),v_(e,!0)),e.focus()},Rse=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Dse(e,t)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&lB(e,i.html,i.internal,!1),i.text&&lH(e,i.text,!1)})},Ise=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(aB(),t),!0}catch{return!1}else return!1},qZ=(e,t,o,i)=>{Ise(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):o(t.html,i)},YZ=e=>(t,o)=>{const{dom:i,selection:c}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),h=i.create("div",{contenteditable:"true"},t);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(h),i.add(e.getBody(),m);const C=c.getRng();h.focus();const A=i.createRng();A.selectNodeContents(h),c.setRng(A),Uc.setEditorTimeout(e,()=>{c.setRng(C),i.remove(m),o()},0)},XZ=e=>({html:joe(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Nse=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),JZ=e=>!e.selection.isCollapsed()||Nse(e),Pse=e=>t=>{!t.isDefaultPrevented()&&JZ(e)&&e.selection.isEditable()&&qZ(t,XZ(e),YZ(e),()=>{if(Mo.browser.isChromium()||Mo.browser.isFirefox()){const o=e.selection.getRng();Uc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Mse=e=>t=>{!t.isDefaultPrevented()&&JZ(e)&&qZ(t,XZ(e),YZ(e),ct)},Bse=e=>{e.on("cut",Pse(e)),e.on("copy",Mse(e))},QZ=(e,t)=>{var o,i;return Bp.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(i=t.clientY)!==null&&i!==void 0?i:0,e.getDoc())},Lse=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},ej=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Fse=e=>be(e.files,t=>/^image\//.test(t.type)),Vse=(e,t,o,i)=>{const c=e.getParent(o,h=>Of(t,h));if(!Ue(e.getParent(o,"summary")))return!0;if(c&&io(i,"text/html")){const h=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ue(h.querySelector(c.nodeName.toLowerCase()))}else return!1},zse=e=>{e.on("input",t=>{const o=i=>Ue(i.querySelector("summary"));if(t.inputType==="deleteByDrag"){const i=vt(e.dom.select("details"),o);he(i,c=>{gr(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(Hd().dom),c.prepend(m)})}})},Hse=(e,t)=>{jf(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),eg(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&Fse(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=QZ(e,o);if(st(i))return;const c=jZ(o.dataTransfer),m=Sy(c,aB());if((!KZ(c)||Lse(c))&&GZ(e,o,i))return;const h=c[aB()],C=h||c["text/html"]||c["text/plain"],A=Vse(e.dom,e.schema,i.startContainer,c),F=t.get();F&&!A||C&&(o.preventDefault(),Uc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(h||F&&A)&&e.execCommand("Delete"),ej(e,i);const j=UZ(C);c["text/html"]?lB(e,j,m,!0):lH(e,j,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{eg(e)&&!t.get()&&(o.preventDefault(),ej(e,QZ(e,o))),o.type==="dragend"&&t.set(!1)}),zse(e)},$se=e=>{const t=c=>m=>{c(e,m)},o=PL(e);Me(o)&&e.on("PastePreProcess",t(o));const i=Xx(e);Me(i)&&e.on("PastePostProcess",t(i))},Use=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},Wse=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,tj=e=>Xt.trim(e).replace(Wse,qv).toLowerCase(),Zse=(e,t,o)=>{const i=e5(e);if(o||i==="all"||!PE(e))return t;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const m=e.dom,h=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(C,A,F,j)=>{const Y=m.parseStyle(m.decode(F)),ee={};for(let _e=0;_e<c.length;_e++){const pe=Y[c[_e]];let Ae=pe,He=m.getStyle(h,c[_e],!0);/color/.test(c[_e])&&(Ae=tj(Ae),He=tj(He)),He!==Ae&&(ee[c[_e]]=pe)}const ge=m.serializeStyle(ee,"span");return ge?A+' style="'+ge+'"'+j:A+j})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,h,C,A)=>h+' style="'+C+'"'+A),t},jse=e=>{(Mo.browser.isChromium()||Mo.browser.isSafari())&&Use(e,Zse)},Kse=e=>{const t=Ri(!1),o=Ri(Sb(e)?"text":"html"),i=tse(e);jse(e),Rse(e,o),$se(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Bse(e),Hse(e,t),Ose(e,i,o)})},Gse=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},qse=e=>{e.parser.addNodeFilter("details",t=>{const o=ZC(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=l5(e);he(t,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},Yse=e=>{Gse(e),qse(e)},Xse=gr,nj=Ut,Jse=e=>fo(e.dom),Qse=e=>Dc(e.dom),oj=e=>t=>qo(Be.fromDom(e),t),ere=(e,t,o)=>hi(Be.fromDom(e),i=>Qse(i)||o.isBlock(Go(i)),oj(t)).getOr(Be.fromDom(t)).dom,sj=(e,t)=>hi(Be.fromDom(e),Jse,oj(t)),rj=(e,t,o)=>{const i=new ca(e,t),c=o?i.next.bind(i):i.prev.bind(i);let m=e;for(let h=o?e:c();h&&!Xse(h);h=c())fu(h)&&(m=h);return m},tre=(e,t,o)=>{const c=xt.fromRangeStart(e).getNode(),m=ere(c,t,o),h=rj(c,m,!1),C=rj(c,m,!0),A=document.createRange();return sj(h,m).fold(()=>{nj(h)?A.setStart(h,0):A.setStartBefore(h)},F=>A.setStartBefore(F.dom)),sj(C,m).fold(()=>{nj(C)?A.setEnd(C,C.data.length):A.setEndAfter(C)},F=>A.setEndAfter(F.dom)),A},nre=e=>{const t=tre(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(iS(t))},ore=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),nre(e))})};var gk;(function(e){e.Before="before",e.After="after"})(gk||(gk={}));const sre=(e,t)=>Math.abs(e.left-t),rre=(e,t)=>Math.abs(e.right-t),ire=(e,t)=>e>=t.top&&e<=t.bottom,are=(e,t)=>e.top<t.bottom&&e.bottom>t.top,lre=(e,t)=>{const o=Bx(e,t)/Math.min(e.height,t.height);return are(e,t)&&o>.5},cre=(e,t)=>{const o=vt(e,i=>ire(t,i));return xp(o).fold(()=>[[],e],i=>{const{pass:c,fail:m}=zt(e,h=>lre(h,i));return[c,m]})},ure=(e,t)=>({node:e.node,position:sre(e,t)<rre(e,t)?gk.Before:gk.After}),dre=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),uH=(e,t,o,i)=>{const c=Y=>fu(Y.node)?Q.some(Y):En(Y.node)?uH(vo(Y.node.childNodes),t,o,!1):Q.none(),m=(Y,ee,ge)=>c(ee).filter(_e=>Math.abs(ge(Y,t,o)-ge(_e,t,o))<2&&Ut(_e.node)),h=(Y,ee)=>{const ge=fs(Y,(_e,pe)=>ee(_e,t,o)-ee(pe,t,o));return tr(ge,c).map(_e=>i&&!Ut(_e.node)&&ge.length>1?m(_e,ge[1],ee).getOr(_e):_e)},[C,A]=cre(yM(e),o),{pass:F,fail:j}=zt(A,Y=>Y.top<o);return h(C,dre).orThunk(()=>h(j,y0)).orThunk(()=>h(F,y0))},fre=(e,t,o,i)=>{const c=(m,h)=>{const C=F=>En(F)&&F.classList.contains("mce-drag-container"),A=vt(m.dom.childNodes,Ye(C));return h.fold(()=>uH(A,o,i,!0),F=>{const j=vt(A,Y=>Y!==F.dom);return uH(j,o,i,!0)}).orThunk(()=>(qo(m,e)?Q.none():yf(m)).bind(j=>c(j,Q.some(m))))};return c(t,Q.none())},mre=(e,t,o)=>{const i=Be.fromDom(e),c=tc(i),h=Be.fromPoint(c,t,o).filter(C=>ia(i,C)).getOr(i);return fre(i,h,t,o)},ij=(e,t,o)=>mre(e,t,o).filter(i=>t2(i.node)).map(i=>ure(i,t)),aj=e=>{var t,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,h=c.defaultView;return{top:i.top+((t=h==null?void 0:h.scrollY)!==null&&t!==void 0?t:0)-m.clientTop,left:i.left+((o=h==null?void 0:h.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},gre=e=>e.inline?aj(e.getBody()):{left:0,top:0},hre=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},pre=e=>{const t=e.getBody(),o=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?i:c},vre=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=aj(e.getContentAreaContainer()),i=pre(e);return{left:t.pageX-o.left+i.left,top:t.pageY-o.top+i.top}}return{left:t.pageX,top:t.pageY}},bre=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),yre=(e,t)=>bre(gre(e),hre(e),vre(e,t)),lj=e=>({target:e,srcElement:e}),xre=(e,t,o,i)=>({...t,dataTransfer:i,type:e,...lj(o)}),wre=(e,t,o)=>{const i=Mt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:ct,stopImmediatePropagation:ct,stopPropagation:ct,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,...lj(t)}},Cre=(e,t)=>{const o=Woe(e);return t==="dragstart"?(IZ(o),PZ(o)):t==="drop"?(Moe(o),nH(o)):(Boe(o),zoe(o)),o},_re=(e,t,o,i)=>{const c=Cre(o,e);return qe(i)?wre(e,t,c):xre(e,i,t,c)},cB=32,Sre=100,uB=8,dB=16,cj=fo,kre=Vx(cj,Dc),Ere=(e,t,o)=>cj(o)&&o!==t&&e.isEditable(o.parentElement),Are=(e,t,o)=>st(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),Tre=(e,t,o,i)=>{const c=e.dom,m=t.cloneNode(!0);c.setStyles(m,{width:o,height:i}),c.setAttrib(m,"data-mce-selected",null);const h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),h.appendChild(m),h},Ore=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},fB=(e,t)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+t,behavior:"smooth"})},uj=fB("left",-cB),dj=fB("left",cB),fj=fB("top",-cB),mj=fB("top",cB),Dre=(e,t,o,i,c,m,h,C,A,F,j,Y)=>{let ee=0,ge=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>c&&(ee=t.pageX+o-c),t.pageY+i>m&&(ge=t.pageY+i-m),e.style.width=o-ee+"px",e.style.height=i-ge+"px";const _e=A.clientHeight,pe=A.clientWidth,Ae=h+A.getBoundingClientRect().top,He=C+A.getBoundingClientRect().left;j.on(Qe=>{Qe.intervalId.clear(),Qe.dragging&&Y&&(h+uB>=_e?Qe.intervalId.set(mj(F)):h-uB<=0?Qe.intervalId.set(fj(F)):C+uB>=pe?Qe.intervalId.set(dj(F)):C-uB<=0?Qe.intervalId.set(uj(F)):Ae+dB>=window.innerHeight?Qe.intervalId.set(mj(window)):Ae-dB<=0?Qe.intervalId.set(fj(window)):He+dB>=window.innerWidth?Qe.intervalId.set(dj(window)):He-dB<=0&&Qe.intervalId.set(uj(window)))})},gj=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Rre=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);gj(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Lc(Be.fromDom(o))},Ire=e=>e.button===0,Nre=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Pre=(e,t)=>o=>{if(Ire(o)){const i=cn(t.dom.getParents(o.target),kre).getOr(null);if(Se(i)&&Ere(t.dom,t.getBody(),i)){const c=t.dom.getPos(i),m=t.getBody(),h=t.getDoc().documentElement;e.set({element:i,dataTransfer:oH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?m.scrollWidth:h.offsetWidth)-2,maxY:(t.inline?m.scrollHeight:h.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Tre(t,i,i.offsetWidth,i.offsetHeight),intervalId:Rc(Sre)})}}},Mre=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),ij(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===gk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(t,o)})},CO=(e,t,o,i,c)=>{t==="dragstart"&&LZ(i,e.dom.getOuterHTML(o));const m=_re(t,o,i,c);return e.dispatch(t,m)},Bre=(e,t)=>{const o=rh((c,m)=>Mre(t,c,m),0);t.on("remove",o.cancel);const i=e;return c=>e.on(m=>{const h=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&h>10){const C=CO(t,"dragstart",m.element,m.dataTransfer,c);if(Se(C.dataTransfer)&&(m.dataTransfer=C.dataTransfer),C.isDefaultPrevented())return;m.dragging=!0,t.focus()}if(m.dragging){const C=c.currentTarget===t.getDoc().documentElement,A=Nre(m,yre(t,c));Ore(m.ghost,t.getBody()),Dre(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,t.getContentAreaContainer(),t.getWin(),i,C),o.throttle(c.clientX,c.clientY)}})},Lre=e=>{const t=e.getSel();if(Se(t)){const i=t.getRangeAt(0).startContainer;return Ut(i)?i.parentNode:i}else return null},Fre=(e,t)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Are(t,Lre(t.selection),i.element)){const m=(c=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:t.getBody();CO(t,"drop",m,i.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Rre(t.dom,i.element),Zoe(i.dataTransfer).each(C=>t.insertContent(C)),t._selectionOverrides.hideFakeCaret()})}CO(t,"dragend",t.getBody(),i.dataTransfer,o)}}),pj(e)},hj=(e,t,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>CO(t,"dragend",i.element,i.dataTransfer),c=>CO(t,"dragend",i.element,i.dataTransfer,c))}),pj(e)},Vre=(e,t)=>o=>hj(e,t,Q.some(o)),pj=e=>{e.on(t=>{t.intervalId.clear(),gj(t.ghost)}),e.clear()},zre=e=>{const t=Ii(),o=js.DOM,i=document,c=Pre(t,e),m=Bre(t,e),h=Fre(t,e),C=Vre(t,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",h),o.bind(i,"mousemove",m),o.bind(i,"mouseup",C),e.on("remove",()=>{o.unbind(i,"mousemove",m),o.unbind(i,"mouseup",C)}),e.on("keydown",A=>{A.keyCode===dn.ESC&&hj(t,e,Q.none())})},Hre=e=>{const t=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(re(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&GS(e,"Dropped file type is not supported"))}},o=c=>{O_(e,c.target)&&t(c)},i=()=>{const c=js.DOM,m=e.dom,h=document,C=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];he(A,F=>{c.bind(h,F,o),m.bind(C,F,t)}),e.on("remove",()=>{he(A,F=>{c.unbind(h,F,o),m.unbind(C,F,t)})})};e.on("init",()=>{Uc.setEditorTimeout(e,i,0)})},$re=e=>{zre(e),UC(e)&&Hre(e)},Ure=e=>{const t=rh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=JS(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Wre=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(St(o)){const i=ad(e.getBody(),o),c=fo(i)?i:o;e.selection.getNode()!==c&&Cw(e,c).each(m=>e.selection.setRng(m))}})})},_O=fo,vj=(e,t)=>ad(e.getBody(),t),Zre=e=>{const t=e.selection,o=e.dom,i=e.getBody(),c=p5(e,i,o.isBlock,()=>W0(e)),m="sel-"+o.uniqueId(),h="data-mce-selected";let C;const A=pn=>Se(pn)&&o.hasClass(pn,"mce-offscreen-selection"),F=pn=>pn!==i&&(_O(pn)||St(pn))&&o.isChildOf(pn,i)&&o.isEditable(pn.parentNode),j=pn=>{pn&&t.setRng(pn)},Y=(pn,kt,bt,It=!0)=>e.dispatch("ShowCaret",{target:kt,direction:pn,before:bt}).isDefaultPrevented()?null:(It&&t.scrollIntoView(kt,pn===-1),c.show(bt,kt)),ee=pn=>{pn.hasAttribute("data-mce-caret")&&(ch(pn),t.scrollIntoView(pn))},ge=()=>{e.on("click",kt=>{o.isEditable(kt.target)||(kt.preventDefault(),e.focus())}),e.on("blur NewBlock",dt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",kt=>{const bt=kt.target,It=vj(e,bt);_O(It)?(kt.preventDefault(),Cw(e,It).each(Xe)):F(bt)&&Cw(e,bt).each(Xe)},!0),e.on("mousedown",kt=>{const bt=kt.target;if(bt!==i&&bt.nodeName!=="HTML"&&!o.isChildOf(bt,i)||!pz(e,kt.clientX,kt.clientY))return;dt(),Yt();const It=vj(e,bt);_O(It)?(kt.preventDefault(),Cw(e,It).each(Xe)):ij(i,kt.clientX,kt.clientY).each(Cn=>{kt.preventDefault();const Vn=Y(1,Cn.node,Cn.position===gk.Before,!1);j(Vn),iu(It)?It.focus():e.getBody().focus()})}),e.on("keypress",kt=>{dn.modifierPressed(kt)||_O(t.getNode())&&kt.preventDefault()}),e.on("GetSelectionRange",kt=>{let bt=kt.range;if(C){if(!C.parentNode){C=null;return}bt=bt.cloneRange(),bt.selectNode(C),kt.range=bt}}),e.on("SetSelectionRange",kt=>{kt.range=Ae(kt.range);const bt=Xe(kt.range,kt.forward);bt&&(kt.range=bt)});const pn=kt=>En(kt)&&kt.id==="mcepastebin";e.on("AfterSetSelectionRange",kt=>{const bt=kt.range,It=bt.startContainer.parentElement;!pe(bt)&&!pn(It)&&Yt(),A(It)||dt()}),$re(e),Ure(e),Wre(e)},_e=pn=>Kl(pn)||db(pn)||Ud(pn),pe=pn=>_e(pn.startContainer)||_e(pn.endContainer),Ae=pn=>{const kt=e.schema.getVoidElements(),bt=o.createRng(),It=pn.startContainer,Cn=pn.startOffset,Vn=pn.endContainer,Io=pn.endOffset;return io(kt,It.nodeName.toLowerCase())?Cn===0?bt.setStartBefore(It):bt.setStartAfter(It):bt.setStart(It,Cn),io(kt,Vn.nodeName.toLowerCase())?Io===0?bt.setEndBefore(Vn):bt.setEndAfter(Vn):bt.setEnd(Vn,Io),bt},He=(pn,kt)=>{const bt=Be.fromDom(e.getBody()),It=e.getDoc(),Cn=Ot(bt,"#"+m).getOrThunk(()=>{const Vo=Be.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',It);return xi(Vo,"id",m),Zr(bt,Vo),Vo}),Vn=o.createRng();Xs(Cn),ti(Cn,[Be.fromText(Di,It),Be.fromDom(kt),Be.fromText(Di,It)]),Vn.setStart(Cn.dom.firstChild,1),Vn.setEnd(Cn.dom.lastChild,0),jo(Cn,{top:o.getPos(pn,e.getBody()).y+"px"}),AA(Cn);const Io=t.getSel();return Io&&(Io.removeAllRanges(),Io.addRange(Vn)),Vn},Qe=pn=>{const kt=pn.cloneNode(!0),bt=e.dispatch("ObjectSelected",{target:pn,targetClone:kt});if(bt.isDefaultPrevented())return null;const It=He(pn,bt.targetClone),Cn=Be.fromDom(pn);return he(pi(Be.fromDom(e.getBody()),`*[${h}]`),Vn=>{qo(Cn,Vn)||Do(Vn,h)}),o.getAttrib(pn,h)||pn.setAttribute(h,"1"),C=pn,Yt(),It},Xe=(pn,kt)=>{if(!pn)return null;if(pn.collapsed){if(!pe(pn)){const Vn=kt?1:-1,Io=r2(Vn,i,pn),Vo=Io.getNode(!kt);if(Se(Vo)){if(t2(Vo))return Y(Vn,Vo,kt?!Io.isAtEnd():!1,!1);if(Gm(Vo)&&fo(Vo.nextSibling)){const Hs=o.createRng();return Hs.setStart(Vo,0),Hs.setEnd(Vo,0),Hs}}const Ds=Io.getNode(kt);if(Se(Ds)){if(t2(Ds))return Y(Vn,Ds,kt?!1:!Io.isAtEnd(),!1);if(Gm(Ds)&&fo(Ds.previousSibling)){const Hs=o.createRng();return Hs.setStart(Ds,1),Hs.setEnd(Ds,1),Hs}}}return null}let bt=pn.startContainer,It=pn.startOffset;const Cn=pn.endOffset;if(Ut(bt)&&It===0&&_O(bt.parentNode)&&(bt=bt.parentNode,It=o.nodeIndex(bt),bt=bt.parentNode),!En(bt))return null;if(Cn===It+1&&bt===pn.endContainer){const Vn=bt.childNodes[It];if(F(Vn))return Qe(Vn)}return null},dt=()=>{C&&C.removeAttribute(h),Ot(Be.fromDom(e.getBody()),"#"+m).each(Os),C=null},Bt=()=>{c.destroy(),C=null},Yt=()=>{c.hide()};return vg(e)||ge(),{showCaret:Y,showBlockCaretContainer:ee,hideFakeCaret:Yt,destroy:Bt}},jre=(e,t)=>{let o=t;for(let i=e.previousSibling;Ut(i);i=i.previousSibling)o+=i.data.length;return o},bj=(e,t,o,i,c)=>{if(Ut(o)&&(i<0||i>o.data.length))return[];const m=c&&Ut(o)?[jre(o,i)]:[i];let h=o;for(;h!==t&&h.parentNode;)m.push(e.nodeIndex(h,c)),h=h.parentNode;return h===t?m.reverse():[]},dH=(e,t,o,i,c,m,h=!1)=>{const C=bj(e,t,o,i,h),A=bj(e,t,c,m,h);return{start:C,end:A}},yj=(e,t)=>{const o=t.slice(),i=o.pop();return D(i)?Vt(o,(m,h)=>m.bind(C=>Q.from(C.childNodes[h])),Q.some(e)).bind(m=>Ut(m)&&(i<0||i>m.data.length)?Q.none():Q.some({node:m,offset:i})):Q.none()},xj=(e,t)=>yj(e,t.start).bind(({node:o,offset:i})=>yj(e,t.end).map(({node:c,offset:m})=>{const h=document.createRange();return h.setStart(o,i),h.setEnd(c,m),h})),Kre=(e,t,o,i=!1)=>dH(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),hk=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const i=t.parentNode;e.remove(t,Ut(t.firstChild)&&oc(t.firstChild.data)),hk(e,i,o)}},mB=(e,t,o,i=!0)=>{const c=t.startContainer.parentNode,m=t.endContainer.parentNode;t.deleteContents(),i&&!o(t.startContainer)&&(Ut(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Ut(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),hk(e,c,o),c!==m&&hk(e,m,o))},gB=(e,t)=>Q.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),fH=(e,t,o)=>{const i=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Oa(i).concat(e.blockPatterns),inlinePatterns:Ju(i).concat(e.inlinePatterns)}},mH=(e,t,o,i)=>{const c=e.createRng();return c.setStart(t,0),c.setEnd(o,i),c.toString()},wj=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),hB=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},Cj=(e,t,o)=>{const i=xj(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,m=i.endContainer,h=i.endOffset===0?m:m.splitText(i.endOffset),C=i.startOffset===0?c:c.splitText(i.startOffset),A=C.parentNode,F=h.parentNode;return{prefix:t,end:F.insertBefore(wj(e,t+"-end"),h),start:A.insertBefore(wj(e,t+"-start"),C)}},_j=(e,t,o)=>{hk(e,e.get(t.prefix+"-end"),o),hk(e,e.get(t.prefix+"-start"),o)},gH=e=>e.start.length===0,Gre=e=>(t,o)=>{const c=t.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),h=c.lastIndexOf(e);return h!==-1?h+e.length:m!==-1?m+1:-1},Sj=(e,t,o,i)=>{const c=t.start;return B9(e,i.container,i.offset,Gre(c),o).bind(h=>{var C,A;const F=(A=(C=o.textContent)===null||C===void 0?void 0:C.indexOf(c))!==null&&A!==void 0?A:-1;if(F!==-1&&h.offset>=F+c.length){const Y=e.createRng();return Y.setStart(h.container,h.offset-c.length),Y.setEnd(h.container,h.offset),Q.some(Y)}else{const Y=h.offset-c.length;return M9(h.container,Y,o).map(ee=>{const ge=e.createRng();return ge.setStart(ee.container,ee.offset),ge.setEnd(h.container,h.offset),ge}).filter(ee=>ee.toString()===c).orThunk(()=>Sj(e,t,o,Mh(h.container,0)))}})},qre=(e,t,o,i,c,m=!1)=>{if(t.start.length===0&&!m){const h=e.createRng();return h.setStart(o,i),h.setEnd(o,i),Q.some(h)}return P9(o,i,c).bind(h=>Sj(e,t,c,h).bind(A=>{var F;if(m){if(A.endContainer===h.container&&A.endOffset===h.offset)return Q.none();if(h.offset===0&&((F=A.endContainer.textContent)===null||F===void 0?void 0:F.length)===A.endOffset)return Q.none()}return Q.some(A)}))},Yre=(e,t,o,i)=>{const c=e.dom,m=c.getRoot(),h=o.pattern,C=o.position.container,A=o.position.offset;return M9(C,A-o.pattern.end.length,t).bind(F=>{const j=dH(c,m,F.container,F.offset,C,A,i);if(gH(h))return Q.some({matches:[{pattern:h,startRng:j,endRng:j}],position:F});{const Y=pB(e,o.remainingPatterns,F.container,F.offset,t,i),ee=Y.getOr({matches:[],position:F}),ge=ee.position;return qre(c,h,ge.container,ge.offset,t,Y.isNone()).map(pe=>{const Ae=Kre(c,m,pe,i);return{matches:ee.matches.concat([{pattern:h,startRng:Ae,endRng:j}]),position:Mh(pe.startContainer,pe.startOffset)}})}})},pB=(e,t,o,i,c,m)=>{const h=e.dom;return P9(o,i,h.getRoot()).bind(C=>{const A=mH(h,c,o,i);for(let F=0;F<t.length;F++){const j=t[F];if(!Ee(A,j.end))continue;const Y=t.slice();Y.splice(F,1);const ee=Yre(e,c,{pattern:j,remainingPatterns:Y,position:C},m);if(ee.isNone()&&i>0)return pB(e,t,o,i-1,c,m);if(ee.isSome())return ee}return Q.none()})},kj=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?he(t.format,i=>{e.formatter.apply(i)}):e.execCommand(t.cmd,!1,t.value)},Xre=(e,t,o,i)=>{const c=hB(e.dom,o);mB(e.dom,c,i),kj(e,t,c)},Jre=(e,t,o,i,c)=>{const m=e.dom,h=hB(m,i),C=hB(m,o);mB(m,C,c),mB(m,h,c);const A={prefix:o.prefix,start:o.end,end:i.start},F=hB(m,A);kj(e,t,F)},Qre=(e,t)=>{const o=za("mce_textpattern"),i=Ft(t,(c,m)=>{const h=Cj(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:h}])},[]);return Ft(i,(c,m)=>{const h=i.length-c.length-1,C=gH(m.pattern)?m.endMarker:Cj(e,o+`_start${h}`,m.startRng);return c.concat([{...m,startMarker:C}])},[])},eie=e=>fs(e,(t,o)=>o.end.length-t.end.length),tie=(e,t)=>{const o=Oo(e,i=>be(t,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},Ej=(e,t,o,i,c,m)=>{const h=pB(e,c.inlinePatterns,o,i,t,m).fold(()=>[],A=>A.matches),C=pB(e,eie(c.inlinePatterns),o,i,t,m).fold(()=>[],A=>A.matches);return tie(h,C)},Aj=(e,t)=>{if(t.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=Qre(o,t);he(c,m=>{const h=o.getParent(m.startMarker.start,o.isBlock),C=A=>A===h;gH(m.pattern)?Xre(e,m.pattern,m.endMarker,C):Jre(e,m.pattern,m.startMarker,m.endMarker,C),_j(o,m.endMarker,C),_j(o,m.startMarker,C)}),e.selection.moveToBookmark(i)},Tj=(e,t,o)=>Wee(t,0,t).map(i=>{const c=i.container;return DW(c,o.start.length,t).each(m=>{const h=e.createRng();h.setStart(c,0),h.setEnd(m.container,m.offset),mB(e,h,C=>C===t)}),c}),Oj=e=>(t,o)=>{const i=t.dom,c=o.pattern,m=xj(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),h=(C,A)=>{const F=A.get(C);return ie(F)&&hn(F).exists(j=>io(j,"block"))};return gB(t,m).each(C=>{c.type==="block-format"?h(c.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,C,c),t.formatter.apply(c.format)}):c.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,C,c),t.execCommand(c.cmd,!1,c.value)})}),!0},nie=e=>fs(e,(t,o)=>o.start.length-t.start.length),Dj=e=>(t,o)=>{const i=nie(t),c=o.replace(Di," ");return cn(i,m=>e(m,o,c))},Rj=(e,t)=>(o,i,c,m,h)=>{var C;h===void 0&&(h=(C=i.textContent)!==null&&C!==void 0?C:"");const A=o.dom,F=rl(o);return A.is(i,F)?e(c.blockPatterns,h).map(j=>t&&Xt.trim(h).length===j.start.length?[]:[{pattern:j,range:dH(A,A.getRoot(),i,0,i,0,m)}]).getOr([]):[]},oie=e=>/^\s[^\s]/.test(e),sie=Oj((e,t,o)=>{Tj(e,t,o).each(i=>{const c=Be.fromDom(i),m=jm(c);oie(m)&&sb(c,m.slice(1))})}),rie=Dj((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),iie=Rj(rie,!0),aie=(e,t)=>{const o=e.selection.getRng();return gB(e,o).map(i=>{var c;const m=Math.max(0,o.startOffset),h=fH(t,i,(c=i.textContent)!==null&&c!==void 0?c:""),C=Ej(e,i,o.startContainer,m,h,!0),A=iie(e,i,h,!0);return{inlineMatches:C,blockMatches:A}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},lie=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();he(t,i=>sie(e,i)),e.selection.moveToBookmark(o)},cie=Oj(Tj),uie=Dj((e,t,o)=>t===e.start||o===e.start),die=Rj(uie,!1),fie=(e,t)=>{const o=e.selection.getRng();return gB(e,o).map(i=>{const c=Math.max(0,o.startOffset),m=mH(e.dom,i,o.startContainer,c),h=fH(t,i,m);return die(e,i,h,!1,m)}).filter(i=>i.length>0)},mie=(e,t)=>{he(t,o=>cie(e,o))},gie=(e,t)=>aie(e,t).fold(fn,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{vE(e),Aj(e,o),lie(e,i);const c=e.selection.getRng(),m=P9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(h=>{const C=h.container;C.data.charAt(h.offset-1)===Ir&&(C.deleteData(h.offset-1,1),hk(e.dom,C.parentNode,A=>A===e.dom.getRoot()))})}),!0)),hie=(e,t)=>{const o=e.selection.getRng();gB(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),m=mH(e.dom,i,o.startContainer,c),h=fH(t,i,m),C=Ej(e,i,o.startContainer,c,h,!1);C.length>0&&e.undoManager.transact(()=>{Aj(e,C)})})},pie=(e,t)=>fie(e,t).fold(fn,o=>(e.undoManager.transact(()=>{mie(e,o)}),!0)),Ij=(e,t,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],t))return!0;return!1},vie=(e,t)=>Ij(e,t,(o,i)=>o===i.keyCode&&!dn.modifierPressed(i)),bie=(e,t)=>Ij(e,t,(o,i)=>o.charCodeAt(0)===i.charCode),yie=e=>{const t=[",",".",";",":","!","?"],o=[32],i=()=>Sp(LL(e).filter(h=>h.type==="inline-command"||h.type==="block-command"?e.queryCommandSupported(h.cmd):!0),Jx(e)),c=()=>ME(e);e.on("keydown",h=>{if(h.keyCode===13&&!dn.modifierPressed(h)&&e.selection.isCollapsed()){const C=Wf(i(),"enter");(C.inlinePatterns.length>0||C.blockPatterns.length>0||c())&&gie(e,C)&&h.preventDefault()}},!0),e.on("keydown",h=>{if(h.keyCode===32&&e.selection.isCollapsed()){const C=Wf(i(),"space");(C.blockPatterns.length>0||c())&&pie(e,C)&&h.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const h=Wf(i(),"space");(h.inlinePatterns.length>0||c())&&hie(e,h)}};e.on("keyup",h=>{vie(o,h)&&m()}),e.on("keypress",h=>{bie(t,h)&&Uc.setEditorTimeout(e,m)})},xie=e=>{yie(e)},wie=e=>{const t=Xt.each,o=dn.BACKSPACE,i=dn.DELETE,c=e.dom,m=e.selection,h=e.parser,C=Mo.browser,A=C.isFirefox(),F=C.isChromium()||C.isSafari(),j=Mo.deviceType.isiPhone()||Mo.deviceType.isiPad(),Y=Mo.os.isMacOS()||Mo.os.isiOS(),ee=(ln,Kn)=>{try{e.getDoc().execCommand(ln,!1,String(Kn))}catch{}},ge=ln=>ln.isDefaultPrevented(),_e=()=>{const ln=Fo=>{const gn=c.create("body"),No=Fo.cloneContents();return gn.appendChild(No),m.serializer.serialize(gn,{format:"html"})},Kn=Fo=>{const gn=ln(Fo),No=c.createRng();No.selectNode(e.getBody());const $o=ln(No);return gn===$o};e.on("keydown",Fo=>{const gn=Fo.keyCode;if(!ge(Fo)&&(gn===i||gn===o)&&e.selection.isEditable()){const No=e.selection.isCollapsed(),$o=e.getBody();if(No&&!sc(e.schema,$o)||!No&&!Kn(e.selection.getRng()))return;Fo.preventDefault(),e.setContent(""),$o.firstChild&&c.isBlock($o.firstChild)?e.selection.setCursorLocation($o.firstChild,0):e.selection.setCursorLocation($o,0),e.nodeChanged()}})},pe=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ae=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",ln=>{let Kn;if(ln.target===e.getDoc().documentElement)if(Kn=m.getRng(),e.getBody().focus(),ln.type==="mousedown"){if(Kl(Kn.startContainer))return;m.placeCaretAt(ln.clientX,ln.clientY)}else m.setRng(Kn)})},He=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Kn=m.getNode(),Fo=Kn.previousSibling;if(Kn.nodeName==="HR"){c.remove(Kn),ln.preventDefault();return}Fo&&Fo.nodeName&&Fo.nodeName.toLowerCase()==="hr"&&(c.remove(Fo),ln.preventDefault())}}})},Qe=()=>{Range.prototype.getClientRects||e.on("mousedown",ln=>{if(!ge(ln)&&ln.target.nodeName==="HTML"){const Kn=e.getBody();Kn.blur(),Uc.setEditorTimeout(e,()=>{Kn.focus()})}})},Xe=()=>{const ln=I0(e);e.on("click",Kn=>{const Fo=Kn.target;/^(IMG|HR)$/.test(Fo.nodeName)&&c.isEditable(Fo)&&(Kn.preventDefault(),e.selection.select(Fo),e.nodeChanged()),Fo.nodeName==="A"&&c.hasClass(Fo,ln)&&Fo.childNodes.length===0&&c.isEditable(Fo.parentNode)&&(Kn.preventDefault(),m.select(Fo))})},dt=()=>{const ln=()=>{const Fo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const gn=m.getStart();gn!==e.getBody()&&(c.setAttrib(gn,"style",null),t(Fo,No=>{gn.setAttributeNode(No.cloneNode(!0))}))}},Kn=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Fo=>{let gn;return!ge(Fo)&&(Fo.keyCode===8||Fo.keyCode===46)&&Kn()?(gn=ln(),e.getDoc().execCommand("delete",!1),gn(),Fo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Fo=>{if(!ge(Fo)&&Kn()){const gn=ln();Uc.setEditorTimeout(e,()=>{gn()})}})},Bt=()=>{e.on("keydown",ln=>{if(!ge(ln)&&ln.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Kn=m.getNode().previousSibling;if(Kn&&Kn.nodeName&&Kn.nodeName.toLowerCase()==="table")return ln.preventDefault(),!1}return!0})},Yt=()=>{e.on("keydown",ln=>{if(ge(ln)||ln.keyCode!==dn.BACKSPACE)return;let Kn=m.getRng();const Fo=Kn.startContainer,gn=Kn.startOffset,No=c.getRoot();let $o=Fo;if(!(!Kn.collapsed||gn!==0)){for(;$o.parentNode&&$o.parentNode.firstChild===$o&&$o.parentNode!==No;)$o=$o.parentNode;$o.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,$o),Kn=c.createRng(),Kn.setStart(Fo,0),Kn.setEnd(Fo,0),m.setRng(Kn))}})},pn=()=>{const ln=()=>{ee("StyleWithCSS",!1),ee("enableInlineTableEditing",!1),WD(e)||ee("enableObjectResizing",!1)};JD(e)||e.on("BeforeExecCommand mousedown",ln)},kt=()=>{const ln=()=>{t(c.select("a:not([data-mce-block])"),Kn=>{var Fo;let gn=Kn.parentNode;const No=c.getRoot();if((gn==null?void 0:gn.lastChild)===Kn){for(;gn&&!c.isBlock(gn);){if(((Fo=gn.parentNode)===null||Fo===void 0?void 0:Fo.lastChild)!==gn||gn===No)return;gn=gn.parentNode}c.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Kn=>{(Kn.type==="setcontent"||Kn.command==="mceInsertLink")&&ln()})},bt=()=>{e.on("init",()=>{ee("DefaultParagraphSeparator",rl(e))})},It=ln=>{const Kn=ln.getBody(),Fo=ln.selection.getRng();return Fo.startContainer===Fo.endContainer&&Fo.startContainer===Kn&&Fo.startOffset===0&&Fo.endOffset===Kn.childNodes.length},Cn=()=>{e.on("keyup focusin mouseup",ln=>{!dn.modifierPressed(ln)&&!It(e)&&m.normalize()},!0)},Vn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Io=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Vo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ln=>{let Kn;ln.target.nodeName==="HTML"&&(Kn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Kn),e.selection.normalize(),e.nodeChanged())}))},Ds=()=>{Y&&e.on("keydown",ln=>{dn.metaKeyPressed(ln)&&!ln.shiftKey&&(ln.keyCode===37||ln.keyCode===39)&&(ln.preventDefault(),e.selection.getSel().modify("move",ln.keyCode===37?"backward":"forward","lineboundary"))})},Hs=()=>{e.on("click",ln=>{let Kn=ln.target;do if(Kn.tagName==="A"){ln.preventDefault();return}while(Kn=Kn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ui=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ln=>{ln.preventDefault()})})},kl=()=>{h.addNodeFilter("br",ln=>{let Kn=ln.length;for(;Kn--;)ln[Kn].attr("class")==="Apple-interchange-newline"&&ln[Kn].remove()})},Gs=ct,on=()=>{if(!A||e.removed)return!1;const ln=e.selection.getSel();return!ln||!ln.rangeCount||ln.rangeCount===0},Pn=()=>{F&&(Ae(),Xe(),ui(),pe(),j&&(Io(),Vo(),Hs())),A&&(Qe(),pn(),Vn(),Ds())},ys=()=>{Yt(),_e(),Mo.windowsPhone||Cn(),F&&(Ae(),Xe(),bt(),ui(),Bt(),kl(),j?(Io(),Vo(),Hs()):pe()),A&&(He(),Qe(),dt(),pn(),kt(),Vn(),Ds(),Bt())};return vg(e)?Pn():ys(),{refreshContentEditable:Gs,isHidden:on}},Cie=e=>e.toLowerCase()==="gpl",_ie=e=>e.length>=64&&e.length<=255,Sie=e=>Cie(e)||_ie(e)?"VALID":"INVALID",kie=e=>{const t=u5(e);!Re(d5(e))&&(qe(t)||Sie(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},hH=js.DOM,Eie=(e,t)=>{const o=Be.fromDom(e.getBody()),i=Om(nu(o)),c=Be.fromTag("style");xi(c,"type","text/css"),Zr(c,Be.fromText(t)),Zr(i,c),e.on("remove",()=>{Os(c)})},Aie=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,pH=e=>wc(e,t=>qe(t)===!1),Nj=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return pH({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Aie(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:jC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Pj=e=>{const t=e.options.get;return pH({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},Tie=e=>{const t=e.options.get;return{...Nj(e),...Pj(e),...pH({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},Oie=e=>{const t=ay(Nj(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,m="data-mce-"+i;let h=o.length;for(;h--;){const C=o[h];let A=C.attr(i);if(A&&!C.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),C.name),A.length||(A=null),C.attr(m,A),C.attr(i,A)):i==="tabindex"?(C.attr(m,A),C.attr(i,null)):C.attr(m,e.convertURL(A,i,C.name))}}}),t.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),VL(e)&&t.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((i=m.value)!==null&&i!==void 0?i:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const m=o[i];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Da("br",1))}}),t},Die=e=>{const t=IL(e);t&&Uc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Rie=e=>{const t=e.dom.getRoot();!e.inline&&(!L0(e)||e.selection.getStart(!0)===t)&&Jn(t).each(o=>{const i=o.getNode(),c=au(i)?Jn(i).getOr(o):o;e.selection.setRng(c.toRange())})},Iie=e=>{e.bindPendingEventDelegates(),e.initialized=!0,si(e),e.focus(!0),Rie(e),e.nodeChanged({initial:!0});const t=DL(e);Me(t)&&t.call(e,e),Die(e)},vH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Nie=(e,t,o)=>{const{pass:i,fail:c}=zt(t,C=>tinymce.Resource.has(_T(C))),h=[...i.map(C=>{const A=tinymce.Resource.get(_T(C));return Re(A)?Promise.resolve(vH(e).loadRawCss(C,A)):Promise.resolve()}),vH(e).loadAll(c)];return e.inline?h:h.concat([e.ui.styleSheetLoader.loadAll(o)])},Mj=e=>{const t=vH(e),o=UD(e),i=e.contentCSS,c=()=>{t.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";Xt.each(e.contentStyles,F=>{A+=F+`\r
`}),e.dom.addStyle(A)}const h=Promise.all(Nie(e,i,o)).then(m).catch(m),C=O0(e);return C&&Eie(e,C),h},Pie=e=>{const t=e.getDoc(),o=e.getBody();aF(e),NL(e)||(t.body.spellcheck=!1,hH.setAttrib(o,"spellcheck","false")),e.quirks=wie(e),lF(e);const i=_L(e);i!==void 0&&(o.dir=i);const c=is(e);c&&e.on("BeforeSetContent",m=>{Xt.each(c,h=>{m.content=m.content.replace(h,C=>"<!--mce:protected "+escape(C)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},Mie=e=>{vg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},bH=e=>{e.removed!==!0&&(Mie(e),Iie(e))},Bie=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},Bj=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(hH.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const i=e.getBody();i.disabled=!0,e.readonly=JD(e),e._editableRoot=_s(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&hH.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=kT(e),e.schema=Pc(Pj(e)),e.dom=js(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:HD(e),referrerPolicy:Gx(e),onSetAttrib:h=>{e.dispatch("SetAttrib",h)}}),e.parser=Oie(e),e.serializer=HP(Tie(e),e),e.selection=uT(e.dom,e.getWin(),e.serializer,e),e.annotator=nR(e),e.formatter=ww(e),e.undoManager=x6(e),e._nodeChangeDispatcher=new Doe(e),e._selectionOverrides=Zre(e),So(e),Yse(e),Iw(e),vg(e)||(ore(e),xie(e));const c=Ooe(e);zn(e,c),Bi(e),E6(e),Kse(e);const m=_P(e);Pie(e),kie(e),m.fold(()=>{const h=Bie(e);Mj(e).then(()=>{bH(e),h()})},h=>{e.setProgressState(!0),Mj(e).then(()=>{h().then(C=>{e.setProgressState(!1),bH(e),DP(e)},C=>{e.notificationManager.open({type:"error",text:String(C)}),bH(e),DP(e)})})})},Lie=_n,Fie=(e,t,o)=>I(e,t,Lie,o),yH=js.DOM,Vie=(e,t,o,i)=>{const c=Be.fromTag("iframe");return i.each(m=>xi(c,"tabindex",m)),Pa(c,o),Pa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Od(c,"tox-edit-area__iframe"),c},zie=e=>{let t=Wd(e)+"<html><head>";hu(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=$C(e),i=CE(e),c=e.translate(Yx(e));return MD(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+MD(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,t},Hie=(e,t)=>{const o=Mo.browser.isFirefox()?Yx(e):"Rich Text Area",i=e.translate(o),c=Jc(Be.fromDom(e.getElement()),"tabindex").bind(un),m=Vie(e.id,i,wl(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=m,e.iframeHTML=zie(e),yH.add(t.iframeContainer,m)},$ie=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,Bj(e)};if(r5(e)||Mo.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Fie(Be.fromDom(t),"load",()=>{i.unbind(),o()});t.srcdoc=e.iframeHTML}},Uie=(e,t)=>{Hie(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=yH.isHidden(t.editorContainer)),e.getElement().style.display="none",yH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,$ie(e)},Lj=js.DOM,Wie=(e,t,o)=>{const i=n1.get(o),c=n1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Xt.trim(o),i&&Xt.inArray(t,o)===-1){if(e.plugins[o])return;try{const m=i(e,c)||{};e.plugins[o]=m,Me(m.init)&&(m.init(e,c),t.push(o))}catch(m){xz(e,o,m)}}},Zie=e=>e.replace(/^\-/,""),jie=e=>{const t=[];he(Zd(e),o=>{Wie(e,t,Zie(o))})},Kie=e=>{const t=Xt.trim(AE(e)),o=e.ui.registry.getAll().icons,i={...pw.get("default").icons,...pw.get(t).icons};ss(i,(c,m)=>{io(o,m)||e.ui.registry.addIcon(m,c)})},Gie=e=>{const t=D0(e);if(Re(t)){const o=tv.get(t);e.theme=o(e,tv.urls[t])||{},Me(e.theme.init)&&e.theme.init(e,tv.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},qie=e=>{const t=qx(e),o=ev.get(t);e.model=o(e,ev.urls[t])},Yie=e=>{const t=e.theme.renderUI;return t?t():Vj(e)},Xie=e=>{const t=e.getElement(),i=D0(e)(e,t);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:t.offsetHeight,i},Fj=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Jie=e=>{const t=Lj.create("div");return Lj.insertAfter(t,e),Fj(t,t)},Vj=e=>{const t=e.getElement();return e.inline?Fj(null):Jie(t)},Qie=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,Re(D0(e))?Yie(e):Me(D0(e))?Xie(e):Vj(e)},eae=(e,t)=>{const o={show:Q.from(t.show).getOr(ct),hide:Q.from(t.hide).getOr(ct),isEnabled:Q.from(t.isEnabled).getOr(_n),setEnabled:i=>{e.mode.isReadOnly()||Q.from(t.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},tae=async e=>{e.dispatch("ScriptsLoaded"),Kie(e),Gie(e),qie(e),jie(e);const t=await Qie(e);eae(e,Q.from(t.api).getOr({})),e.editorContainer=t.editorContainer,a6(e),e.inline?Bj(e):Uie(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Lw=js.DOM,zj=e=>e.charAt(0)==="-",nae=(e,t)=>{const o=DE(t),i=CL(t);if(!Mc.hasCode(o)&&o!=="en"){const c=Je(i)?i:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{bz(t,c,o)})}},oae=(e,t)=>{const o=D0(e);if(Re(o)&&!zj(o)&&!io(tv.urls,o)){const i=kL(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${t}.js`;tv.load(o,c).catch(()=>{r6(e,c,o)})}},sae=(e,t)=>{const o=qx(e);if(o!=="plugin"&&!io(ev.urls,o)){const i=IE(e),c=Re(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${t}.js`;ev.load(o,c).catch(()=>{yz(e,c,o)})}},rae=e=>Q.from(VD(e)).filter(Je).map(t=>({url:t,name:Q.none()})),Hj=(e,t,o)=>Q.from(t).filter(i=>Je(i)&&!pw.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:Q.some(i)})),iae=(e,t,o)=>{const i=Hj(t,"default",o),c=rae(t).orThunk(()=>Hj(t,AE(t),""));he(L1([i,c]),m=>{e.add(m.url).catch(()=>{wT(t,m.url,m.name.getOrUndefined())})})},aae=(e,t)=>{const o=(i,c)=>{n1.load(i,c).catch(()=>{xT(e,c,i)})};ss(Qm(e),(i,c)=>{o(c,i),e.options.set("plugins",Zd(e).concat(c))}),he(Zd(e),i=>{i=Xt.trim(i),i&&!n1.urls[i]&&!zj(i)&&o(i,`plugins/${i}/plugin${t}.js`)})},lae=e=>{const t=D0(e);return!Re(t)||Se(tv.get(t))},cae=e=>{const t=qx(e);return Se(ev.get(t))},uae=(e,t)=>{const o=bl.ScriptLoader,i=()=>{!e.removed&&lae(e)&&cae(e)&&tae(e)};oae(e,t),sae(e,t),nae(o,e),iae(o,e,t),aae(e,t),o.loadQueue().then(i,i)},dae=(e,t)=>q1.forElement(e,{contentCssCors:QD(t),referrerPolicy:Gx(t)}),fae=e=>{const t=e.id;Mc.setCode(DE(e));const o=()=>{Lw.unbind(window,"ready",o),e.render()};if(!If.Event.domLoaded){Lw.bind(window,"ready",o);return}if(!e.getElement())return;const i=Be.fromDom(e.getElement()),c=hl(i);e.on("remove",()=>{gt(i.dom.attributes,h=>Do(i,h.name)),Pa(i,c)}),e.ui.styleSheetLoader=dae(i,e),Cb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||Lw.getParent(t,"form");m&&(e.formElement=m,NE(e)&&!ap(e.getElement())&&(Lw.insertAfter(Lw.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=h=>{e.dispatch(h.type,h)},Lw.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),GD(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=o6(e),e.notificationManager=yT(e),i5(e)&&e.on("GetContent",h=>{h.save&&(h.content=Lw.encode(h.content))}),qD(e)&&e.on("submit",()=>{e.initialized&&e.save()}),YD(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),uae(e,e.suffix)},mae=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),dF(e,t))},gae=e=>e._editableRoot,hae=(e,t)=>({sections:et(e),options:et(t)}),$j=na().deviceType,Uj=$j.isPhone(),pae=$j.isTablet(),SO=e=>{if(st(e))return[];{const t=ie(e)?e:e.split(/[ ,]/),o=Pe(t,Ie);return vt(o,Je)}},vae=(e,t)=>{const o=Iu(t,(i,c)=>re(e,c));return hae(o.t,o.f)},bae=(e,t,o={})=>{const i=e.sections(),c=Ts(i,t).getOr({});return Xt.extend({},o,c)},xH=(e,t)=>io(e.sections(),t),yae=(e,t)=>xH(e,t)?e.sections()[t]:{},xae=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ts(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),wae=(e,t)=>{var o;const i=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Xt.extend({},e.external_plugins,i):i},Cae=(e,t)=>[...SO(e),...SO(t)],_ae=(e,t,o,i)=>e&&xH(t,"mobile")?i:o,Sae=(e,t,o,i)=>{const c=SO(o.forced_plugins),m=SO(i.plugins),h=yae(t,"mobile"),C=h.plugins?SO(h.plugins):m,A=_ae(e,t,m,C),F=Cae(c,A);return Xt.extend(i,{forced_plugins:c,plugins:F})},kae=(e,t)=>e&&xH(t,"mobile"),Eae=(e,t,o,i,c)=>{var m;const h=e?{mobile:xae((m=c.mobile)!==null&&m!==void 0?m:{},t)}:{},C=vae(["mobile"],GM(h,c)),A=Xt.extend(o,i,C.options(),kae(e,C)?bae(C,"mobile"):{},{external_plugins:wae(i,C.options())});return Sae(e,C,i,A)},Aae=(e,t)=>{const o=FW(t);return Eae(Uj||pae,Uj,o,e,o)},Tae=(e,t)=>OP(e,t),Oae=e=>{const t=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{he("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&t("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Dae=e=>{const t=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return be(c,m=>Se(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Rae=e=>{Oae(e),Dae(e)},Iae=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let i;try{o.execCommand(t)}catch{i=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(i=!0),i||!o.queryCommandSupported(t)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Mo.os.isMacOS()||Mo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},Nae=(e,t,o,i)=>{const c=Be.fromDom(e.getRoot());return X0(c,xt.fromRangeStart(t),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Zb(c,xt.fromRangeEnd(t),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Pae=e=>{if(typeof e!="string"){const t=Xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Mae=(e,t)=>{const o=e.selection,i=e.dom;return/^ | $/.test(t)?Nae(i,o.getRng(),t,e.schema):t},vB=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:i}=Pae(t);F4(e,{...i,content:Mae(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=YV(e,c.content,i);V4(e,m,c),e.addVisual()})}},Bae=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,i)=>{vB(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,i)=>{vB(e,e.dom.encode(i))},insertHTML:(t,o,i)=>{vB(e,i)},mceInsertContent:(t,o,i)=>{vB(e,i)},mceSetContent:(t,o,i)=>{e.setContent(i)},mceReplaceContent:(t,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(ms(e))}})},Lae={"font-size":"size","font-family":"face"},Fae=vf("font"),Vae=(e,t,o)=>{const i=m=>Fr(m,e).orThunk(()=>Fae(m)?Ts(Lae,e).bind(h=>Jc(m,h)):Q.none()),c=m=>qo(Be.fromDom(t),m);return J2(Be.fromDom(o),m=>i(m),c)},zae=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Hae=(e,t)=>Q.from(js.DOM.getStyle(t,e,!0)),Wj=e=>(t,o)=>Q.from(o).map(Be.fromDom).filter(Ur).bind(i=>Vae(e,t,i.dom).or(Hae(e,i.dom))).getOr(""),$ae=Wj("font-size"),Uae=$t(zae,Wj("font-family")),Wae=e=>Jn(e.getBody()).bind(t=>{const o=t.container();return Q.from(Ut(o)?o.parentNode:o)}),Zae=e=>Q.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?Q.none():Q.from(e.selection.getStart(!0))}),jae=(e,t)=>Zae(e).orThunk(tt(Wae,e)).map(Be.fromDom).filter(Ur).bind(t),wH=(e,t)=>jae(e,Jt(Q.some,t)),Zj=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const i=BE(e),c=LE(e);return c.length>0?c[o-1]||t:i[o-1]||t}else return t}else return t},Kae=e=>{const t=e.split(/\s*,\s*/);return Pe(t,o=>o.indexOf(" ")!==-1&&!(ar(o,'"')||ar(o,"'"))?`'${o}'`:o).join(",")},Gae=(e,t)=>{const o=Zj(e,t);e.formatter.toggle("fontname",{value:Kae(o)}),e.nodeChanged()},qae=e=>wH(e,t=>Uae(e.getBody(),t.dom)).getOr(""),Yae=(e,t)=>{e.formatter.toggle("fontsize",{value:Zj(e,t)}),e.nodeChanged()},Xae=e=>wH(e,t=>$ae(e.getBody(),t.dom)).getOr(""),Jae=e=>wH(e,t=>{const o=Be.fromDom(e.getBody()),i=J2(t,m=>Fr(m,"line-height"),tt(qo,o)),c=()=>{const m=parseFloat(Wr(t,"line-height")),h=parseFloat(Wr(t,"font-size"));return String(m/h)};return i.getOrThunk(c)}).getOr(""),Qae=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},ele=e=>{const t=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,i,c)=>{t(o,{value:c})},BackColor:(o,i,c)=>{t("hilitecolor",{value:c})},FontName:(o,i,c)=>{Gae(e,c)},FontSize:(o,i,c)=>{Yae(e,c)},LineHeight:(o,i,c)=>{Qae(e,c)},Lang:(o,i,c)=>{var m;t(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,i,c)=>{t(Re(c)?c:"p")},mceToggleFormat:(o,i,c)=>{t(c)}})},tle=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>qae(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Xae(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Jae(e))},nle=e=>{ele(e),tle(e)},ole=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},sle=e=>{e.editorCommands.addCommands({Indent:()=>{Et(e)},Outdent:()=>{_t(e)}}),e.editorCommands.addCommands({Outdent:()=>ve(e)},"state")},rle=e=>{const t=(o,i,c)=>{const m=Re(c)?{href:c}:c,h=e.dom.getParent(e.selection.getNode(),"a");te(m)&&Re(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!h||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,h))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},ile=(e,t,o,i)=>{const c=e.dom,m=C=>c.isBlock(C)&&C.parentElement===o,h=m(t)?t:c.getParent(i,m,o);return Q.from(h).map(Be.fromDom)},jj=(e,t)=>{const o=e.dom,i=e.selection.getRng(),c=t?e.selection.getStart():e.selection.getEnd(),m=t?i.startContainer:i.endContainer,h=yO(o,m);if(!h||!h.isContentEditable)return;const C=t?Rr:it,A=rl(e);ile(e,c,h,m).each(F=>{const j=uZ(e,m,F.dom,h,!1,A);C(F,Be.fromDom(j)),e.selection.setCursorLocation(j,0),e.dispatch("NewBlock",{newBlock:j}),bO(e,"insertParagraph")})},ale=e=>jj(e,!0),lle=e=>jj(e,!1),cle=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{ale(e)},InsertNewBlockAfter:()=>{lle(e)}})},ule=e=>{e.editorCommands.addCommands({insertParagraph:()=>{sB(gZ,e)},mceInsertNewLine:(t,o,i)=>{wZ(e,i)},InsertLineBreak:(t,o,i)=>{sB(vZ,e)}})},dle=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>En(m)&&c++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(t,o,i)=>{e.selection.select(i)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Dc);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},fle=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,i)=>{zR(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},mle=e=>{Rae(e),Iae(e),ole(e),dle(e),Bae(e),rle(e),sle(e),cle(e),ule(e),nle(e),fle(e)},gle=["toggleview"],Kj=e=>re(gle,e.toLowerCase());class Gj{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,i,c){const m=this.editor,h=t.toLowerCase(),C=c==null?void 0:c.skip_focus;if(m.removed||(h!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(h)&&!C?m.focus():A_(m)),m.dispatch("BeforeExecCommand",{command:t,ui:o,value:i}).isDefaultPrevented()))return!1;const F=this.commands.exec[h];return Me(F)?(F(h,o,i),m.dispatch("ExecCommand",{command:t,ui:o,value:i}),!0):!1}queryCommandState(t){if(!Kj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),i=this.commands.state[o];return Me(i)?i(o):!1}queryCommandValue(t){if(!Kj(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),i=this.commands.value[o];return Me(i)?i(o):""}addCommands(t,o="exec"){const i=this.commands;ss(t,(c,m)=>{he(m.toLowerCase().split(","),h=>{i[o][h]=c})})}addCommand(t,o,i){const c=t.toLowerCase();this.commands.exec[c]=(m,h,C)=>o.call(i??this.editor,h,C)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,i){this.commands.state[t.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(t,o,i){this.commands.value[t.toLowerCase()]=()=>o.call(i??this.editor)}}const Fw="data-mce-contenteditable",hle=(e,t,o)=>{Dd(e,t)&&!o?Ma(e,t):o&&Od(e,t)},CH=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},bB=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ple=e=>{he(pi(e,'*[contenteditable="true"]'),t=>{xi(t,Fw,"true"),bB(t,!1)})},vle=e=>{he(pi(e,`*[${Fw}="true"]`),t=>{Do(t,Fw),bB(t,!0)})},ble=e=>{Q.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},yle=e=>{e.selection.setRng(e.selection.getRng())},xle=(e,t)=>{const o=Be.fromDom(e.getBody());hle(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ble(e),e.readonly=!0,bB(o,!1),ple(o)):(e.readonly=!1,e.hasEditableRoot()&&bB(o,!0),vle(o),CH(e,"StyleWithCSS",!1),CH(e,"enableInlineTableEditing",!1),CH(e,"enableObjectResizing",!1),Vb(e)&&e.focus(),yle(e),e.nodeChanged())},Vw=e=>e.readonly,qj=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Vw(e)&&he(t,o=>{o.attr(Fw,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Fw,t=>{Vw(e)&&he(t,o=>{o.attr("contenteditable",o.attr(Fw))})}),e.serializer.addTempAttr(Fw)},wle=e=>{e.serializer?qj(e):e.on("PreInit",()=>{qj(e)})},Cle=e=>e.type==="click",_le=["copy"],Sle=e=>re(_le,e.type),kle=(e,t)=>Wi(t,"a",i=>qo(i,Be.fromDom(e.getBody()))).bind(i=>Jc(i,"href")),Ele=(e,t)=>{if(Cle(t)&&!dn.metaKeyPressed(t)){const o=Be.fromDom(t.target);kle(e,o).each(i=>{if(t.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${Yc(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Sle(t)&&e.dispatch(t.type,t)},Ale=e=>{e.on("ShowCaret",t=>{Vw(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Vw(e)&&t.preventDefault()})},Tle=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class _H{static isNative(t){return!!Tle[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const i=t.toLowerCase(),c=s0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[i];if(m)for(let h=0,C=m.length;h<C;h++){const A=m[h];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(t,o,i,c){if(o===!1&&(o=fn),o){const m={func:o,removed:!1};c&&Xt.extend(m,c);const h=t.toLowerCase().split(" ");let C=h.length;for(;C--;){const A=h[C];let F=this.bindings[A];F||(F=[],this.toggleEvent(A,!0)),i?F=[m,...F]:F=[...F,m],this.bindings[A]=F}}return this}off(t,o){if(t){const i=t.toLowerCase().split(" ");let c=i.length;for(;c--;){const m=i[c];let h=this.bindings[m];if(!m)return ss(this.bindings,(C,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(h){if(!o)h.length=0;else{const C=zt(h,A=>A.func===o);h=C.fail,this.bindings[m]=h,he(C.pass,A=>{A.removed=!0})}h.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}}else ss(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(t,o,i){return this.on(t,o,i,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const kO=e=>(e._eventDispatcher||(e._eventDispatcher=new _H({scope:e,toggleEvent:(t,o)=>{_H.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),SH={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return s0(e.toLowerCase(),t??{},i);const c=kO(i).dispatch(e,t);if(o!==!1&&i.parent){let m=i.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,t,o){return kO(this).on(e,t,o)},off(e,t){return kO(this).off(e,t)},once(e,t){return kO(this).once(e,t)},hasEventListeners(e){return kO(this).has(e)}},yB=js.DOM;let zw;const xB=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=jD(e);return o?(e.eventRoot||(e.eventRoot=yB.select(o)[0]),e.eventRoot):e.getBody()},Ole=e=>!e.hidden&&!Vw(e),Yj=(e,t,o)=>{Ole(e)?e.dispatch(t,o):Vw(e)&&Ele(e,o)},Xj=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=xB(e,t);if(jD(e)){if(zw||(zw={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||zw&&(ss(zw,(c,m)=>{e.dom.unbind(xB(e,m))}),zw=null)})),zw[t])return;const i=c=>{const m=c.target,h=e.editorManager.get();let C=h.length;for(;C--;){const A=h[C].getBody();(A===m||yB.isChildOf(m,A))&&Yj(h[C],t,c)}};zw[t]=i,yB.bind(o,t,i)}else{const i=c=>{Yj(e,t,c)};yB.bind(o,t,i),e.delegates[t]=i}},Jj={...SH,bindPendingEventDelegates(){const e=this;Xt.each(e._pendingNativeEvents,t=>{Xj(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?Xj(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(xB(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(ss(e.delegates,(i,c)=>{e.dom.unbind(xB(e,c),c,i)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},Dle=e=>Re(e)?{value:e.split(/[ ,]/),valid:!0}:Ke(e,Re)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Rle=e=>{const t=(()=>{switch(e){case"array":return ie;case"boolean":return We;case"function":return Me;case"number":return D;case"object":return te;case"string":return Re;case"string[]":return Dle;case"object[]":return o=>Ke(o,te);case"regexp":return o=>Le(o,RegExp);default:return _n}})();return o=>kH(o,t,`The value must be a ${e}.`)},Ile=e=>Re(e.processor),Qj=(e,t)=>{const o=Wt(t.message)?"":`. ${t.message}`;return e+o},eK=e=>e.valid,kH=(e,t,o="")=>{const i=t(e);return We(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},Nle=(e,t,o)=>{if(!qe(t)){const i=kH(t,o);if(eK(i))return i.value;console.error(Qj(`Invalid default value passed for the "${e}" option`,i))}},Ple=(e,t,o=t)=>{const i={},c={},m=(ge,_e,pe)=>{const Ae=kH(_e,pe);return eK(Ae)?(c[ge]=Ae.value,!0):(console.warn(Qj(`Invalid value passed for the ${ge} option`,Ae)),!1)},h=(ge,_e)=>{const pe=Ile(_e)?Rle(_e.processor):_e.processor,Ae=Nle(ge,_e.default,pe);i[ge]={..._e,default:Ae,processor:pe},Ts(c,ge).orThunk(()=>Ts(t,ge)).each(Qe=>m(ge,Qe,pe))},C=ge=>io(i,ge);return{register:h,isRegistered:C,get:ge=>Ts(c,ge).orThunk(()=>Ts(i,ge).map(_e=>_e.default)).getOrUndefined(),set:(ge,_e)=>{if(C(ge)){const pe=i[ge];return pe.immutable?(console.error(`"${ge}" is an immutable option and cannot be updated`),!1):m(ge,_e,pe.processor)}else return console.warn(`"${ge}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ge=>{const _e=C(ge);return _e&&delete c[ge],_e},isSet:ge=>io(c,ge),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ge,_e)=>We(_e)||D(_e)||Re(_e)||Ue(_e)||ie(_e)||Ce(_e)?_e:Object.prototype.toString.call(_e))))}catch(ge){console.error(ge)}}}},Mle=["design","readonly"],tK=(e,t,o,i)=>{const c=o[t.get()],m=o[i];try{m.activate()}catch(h){console.error(`problem while activating editor mode ${i}:`,h);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&xle(e,m.editorReadOnly),t.set(i),oR(e,i)},Ble=(e,t,o,i)=>{if(i!==o.get()){if(!io(t,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?tK(e,o,t,i):e.on("init",()=>tK(e,o,t,i))}},Lle=(e,t,o)=>{if(re(Mle,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${t}:`,i)}}}}},Fle=e=>{const t=Ri("design"),o=Ri({design:{activate:ct,deactivate:ct,editorReadOnly:!1},readonly:{activate:ct,deactivate:ct,editorReadOnly:!0}});return wle(e),Ale(e),{isReadOnly:()=>Vw(e),set:i=>Ble(e,o.get(),t,i),get:()=>t.get(),register:(i,c)=>{o.set(Lle(o.get(),i,c))}}},EH=Xt.each,AH=Xt.explode,Vle={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},nK=Xt.makeMap("alt,ctrl,shift,meta,access"),zle=e=>e in nK,Hle=e=>{const t={},o=Mo.os.isMacOS()||Mo.os.isiOS();EH(AH(e.toLowerCase(),"+"),m=>{zle(m)?t[m]=!0:/^[0-9]{2,}$/.test(m)?t.keyCode=parseInt(m,10):(t.charCode=m.charCodeAt(0),t.keyCode=Vle[m]||m.toUpperCase().charCodeAt(0))});const i=[t.keyCode];let c;for(c in nK)t[c]?i.push(c):t[c]=!1;return t.id=i.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class oK{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(EH(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,i,c){const m=this,h=m.normalizeCommandFunc(i);return EH(AH(Xt.trim(t)),C=>{const A=m.createShortcut(C,o,h,c);m.shortcuts[A.id]=A}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,i=t;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:Xt.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(t,o,i,c){const m=Xt.map(AH(t,">"),Hle);return m[m.length-1]=Xt.extend(m[m.length-1],{func:i,scope:c||this.editor}),Xt.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const $le=()=>{const e={},t={},o={},i={},c={},m={},h={},C={},A=(j,Y)=>(ee,ge)=>{j[ee.toLowerCase()]={...ge,type:Y}},F=(j,Y)=>i[j.toLowerCase()]=Y;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(t,"menuitem"),addNestedMenuItem:A(t,"nestedmenuitem"),addToggleMenuItem:A(t,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(h,"sidebar"),addView:A(C,"views"),addIcon:F,getAll:()=>({buttons:e,menuItems:t,icons:i,popups:o,contextMenus:c,contextToolbars:m,sidebars:h,views:C})}},Ule=()=>{const e=$le();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Hw=js.DOM,sK=Xt.extend,Wle=Xt.each;class wB{constructor(t,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,sK(this,Jj);const c=this;this.id=t,this.hidden=!1;const m=Aae(i.defaultOptions,o);this.options=Ple(c,m,o),HC(c);const h=this.options.get;h("deprecation_warnings")&&dz(o,m);const C=h("suffix");C&&(i.suffix=C),this.suffix=i.suffix;const A=h("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const F=Gx(c);F&&(bl.ScriptLoader._setReferrerPolicy(F),js.DOM.styleSheetLoader._setReferrerPolicy(F));const j=QD(c);Se(j)&&js.DOM.styleSheetLoader._setContentCssCors(j),ol.languageLoad=h("language_load"),ol.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new ud(hu(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Cb(c),this.hasVisual=Vc(c),this.shortcuts=new oK(this),this.editorCommands=new Gj(this),mle(this);const Y=h("cache_suffix");Y&&(Mo.cacheSuffix=Y.replace(/^[\?\&]+/,"")),this.ui={registry:Ule(),styleSheetLoader:void 0,show:ct,hide:ct,setEnabled:ct,isEnabled:_n},this.mode=Fle(c),i.dispatch("SetupEditor",{editor:this});const ee=N0(c);Me(ee)&&ee.call(c,c)}render(){fae(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return W0(this)}translate(t){return Mc.translate(t)}getParam(t,o,i){const c=this.options;return c.isRegistered(t)||(Se(i)?c.register(t,{processor:i,default:o}):c.register(t,{processor:_n,default:o})),!c.isSet(t)&&!qe(o)?o:c.get(t)}hasPlugin(t,o){return re(Zd(this),t)?o?n1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,i){this.editorCommands.addCommand(t,o,i)}addQueryStateHandler(t,o,i){this.editorCommands.addQueryStateHandler(t,o,i)}addQueryValueHandler(t,o,i){this.editorCommands.addQueryValueHandler(t,o,i)}addShortcut(t,o,i,c){this.shortcuts.add(t,o,i,c)}execCommand(t,o,i,c){return this.editorCommands.execCommand(t,o,i,c)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Hw.show(t.getContainer()),Hw.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Hw.hide(t.getContainer()),Hw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...t,load:!0},m=ap(i)?i.value:i.innerHTML,h=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),h}else return""}save(t={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...t,save:!0,element:i};let m=o.getContent(c);const h={...c,content:m};if(h.no_events||o.dispatch("SaveContent",h),h.format==="raw"&&o.dispatch("RawSaveContent",h),m=h.content,ap(i))i.value=m;else{(t.is_removing||!o.inline)&&(i.innerHTML=m);const C=Hw.getParent(o.id,"form");C&&Wle(C.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return h.element=c.element=i=null,h.set_dirty!==!1&&o.setDirty(!1),m}setContent(t,o){return fT(this,t,o)}getContent(t){return $P(this,t)}insertContent(t,o){o&&(t=sK({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?fT(this,this.startContent,{format:"raw"}):fT(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Hw.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Hw.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const i=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(t,o,i){const c=this,m=c.options.get,h=RL(c);if(Me(h))return h.call(c,t,i,!0,o);if(!m("convert_urls")||i==="link"||te(i)&&i.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const C=new ud(t);return C.protocol!=="http"&&C.protocol!=="https"&&C.protocol!==""?t:m("relative_urls")?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,m("remove_script_host")),t)}addVisual(t){Tae(this,t)}setEditableRoot(t){mae(this,t)}hasEditableRoot(){return gae(this)}remove(){YP(this)}destroy(t){mz(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const pk=js.DOM,CB=Xt.each;let rK=!1,_B,_u=[];const SB=e=>{const t=e.type;CB(ky.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},iK=e=>{if(e!==rK){const t=js.DOM;e?(t.bind(window,"resize",SB),t.bind(window,"scroll",SB)):(t.unbind(window,"resize",SB),t.unbind(window,"scroll",SB)),rK=e}},aK=e=>{const t=_u;return _u=vt(_u,o=>e!==o),ky.activeEditor===e&&(ky.activeEditor=_u.length>0?_u[0]:null),ky.focusedEditor===e&&(ky.focusedEditor=null),t.length!==_u.length},Zle=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(aK(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},jle=document.compatMode!=="CSS1Compat",ky={...SH,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Mc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",i=ud.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let h=0;h<m.length;h++){const C=m[h].src||"";if(C==="")continue;const A=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){A.indexOf(".min")!==-1&&(o=".min"),t=C.substring(0,C.lastIndexOf("/"));break}}if(!t&&document.currentScript){const h=document.currentScript.src;h.indexOf(".min")!==-1&&(o=".min"),t=h.substring(0,h.lastIndexOf("/"))}}e.baseURL=new ud(i).toAbsolute(t),e.documentBaseURL=i,e.baseURI=new ud(e.baseURL),e.suffix=o,PF(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&ss(i,(c,m)=>{ol.PluginManager.urls[m]=c})},init(e){const t=this;let o;const i=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(j,Y)=>j.inline&&Y.tagName.toLowerCase()in i,m=j=>{let Y=j.id;return Y||(Y=Ts(j,"name").filter(ee=>!pk.get(ee)).getOrThunk(pk.uniqueId),j.setAttribute("id",Y)),Y},h=j=>{const Y=e[j];if(Y)return Y.apply(t,[])},C=j=>Mo.browser.isIE()||Mo.browser.isEdge()?(bw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):jle?(bw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Re(j.selector)?pk.select(j.selector):Se(j.target)?[j.target]:[];let A=j=>{o=j};const F=()=>{let j=0;const Y=[];let ee;const ge=(_e,pe,Ae)=>{const He=new wB(_e,pe,t);Y.push(He),He.on("init",()=>{++j===ee.length&&A(Y)}),He.targetElm=He.targetElm||Ae,He.render()};pk.unbind(window,"ready",F),h("onpageload"),ee=ea(C(e)),Xt.each(ee,_e=>{Zle(t.get(_e.id))}),ee=Xt.grep(ee,_e=>!t.get(_e.id)),ee.length===0?A([]):CB(ee,_e=>{c(e,_e)?bw("Could not initialize inline editor on invalid inline target element",_e):ge(m(_e),e,_e)})};return pk.bind(window,"ready",F),new Promise(j=>{o?j(o):A=Y=>{j(Y)}})},get(e){return arguments.length===0?_u.slice(0):Re(e)?cn(_u,t=>t.id===e).getOr(null):D(e)&&_u[e]?_u[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&_u.push(e),iK(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),_B||(_B=i=>{const c=t.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",_B))),e},createEditor(e,t){return this.add(new wB(e,t,this))},remove(e){const t=this;let o;if(!e){for(let i=_u.length-1;i>=0;i--)t.remove(_u[i]);return}if(Re(e)){CB(pk.select(e),i=>{o=t.get(i.id),o&&t.remove(o)});return}return o=e,Ue(t.get(o.id))?null:(aK(o)&&t.dispatch("RemoveEditor",{editor:o}),_u.length===0&&window.removeEventListener("beforeunload",_B),o.remove(),iK(_u.length>0),o)},execCommand(e,t,o){var i;const c=this,m=te(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const h=o.options;new wB(m,h,c).render()}return!0}case"mceRemoveEditor":{const h=c.get(m);return h&&h.remove(),!0}case"mceToggleEditor":{const h=c.get(m);return h?(h.isHidden()?h.show():h.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{CB(_u,e=>{e.save()})},addI18n:(e,t)=>{Mc.add(e,t)},translate:e=>Mc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ud(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ud(this.baseURL)}};ky.setup();const Kle=(()=>{const e=Ii(),t=m=>({items:m,types:Kt(m),getType:h=>Ts(m,h).getOrUndefined()}),o=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:t,write:o,read:i,clear:c}})(),lK=Math.min,vk=Math.max,kB=Math.round,cK=(e,t,o)=>{let i=t.x,c=t.y;const m=e.w,h=e.h,C=t.w,A=t.h,F=(o||"").split("");return F[0]==="b"&&(c+=A),F[1]==="r"&&(i+=C),F[0]==="c"&&(c+=kB(A/2)),F[1]==="c"&&(i+=kB(C/2)),F[3]==="b"&&(c-=h),F[4]==="r"&&(i-=m),F[3]==="c"&&(c-=kB(h/2)),F[4]==="c"&&(i-=kB(m/2)),bk(i,c,m,h)},Gle=(e,t,o,i)=>{for(let c=0;c<i.length;c++){const m=cK(e,t,i[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return i[c]}return null},qle=(e,t,o)=>bk(e.x-t,e.y-o,e.w+t*2,e.h+o*2),Yle=(e,t)=>{const o=vk(e.x,t.x),i=vk(e.y,t.y),c=lK(e.x+e.w,t.x+t.w),m=lK(e.y+e.h,t.y+t.h);return c-o<0||m-i<0?null:bk(o,i,c-o,m-i)},Xle=(e,t,o)=>{let i=e.x,c=e.y,m=e.x+e.w,h=e.y+e.h;const C=t.x+t.w,A=t.y+t.h,F=vk(0,t.x-i),j=vk(0,t.y-c),Y=vk(0,m-C),ee=vk(0,h-A);return i+=F,c+=j,o&&(m+=F,h+=j,i-=Y,c-=ee),m-=Y,h-=ee,bk(i,c,m-i,h-c)},bk=(e,t,o,i)=>({x:e,y:t,w:o,h:i}),Jle={inflate:qle,relativePosition:cK,findBestRelativePosition:Gle,intersect:Yle,clamp:Xle,create:bk,fromClientRect:e=>bk(e.left,e.top,e.width,e.height)},Qle=(e,t,o=1e3)=>{let i=!1,c=null;const m=F=>(...j)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),F.apply(null,j))},h=m(e),C=m(t);return{start:(...F)=>{!i&&c===null&&(c=setTimeout(()=>C.apply(null,F),o))},resolve:h,reject:C}},ece=(()=>{const e={},t={},o={};return{load:(A,F)=>{const j=`Script at URL "${F}" failed to load`,Y=`Script at URL "${F}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ee=new Promise((ge,_e)=>{const pe=Qle(ge,_e);t[A]=pe.resolve,bl.ScriptLoader.loadScript(F).then(()=>pe.start(Y),()=>pe.reject(j))});return e[A]=ee,ee}},add:(A,F)=>{t[A]!==void 0&&(t[A](F),delete t[A]),e[A]=Promise.resolve(F),o[A]=F},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),tce=()=>(()=>{let e={},t=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{t.push(i),e[i]=String(c)},key:i=>t[i],removeItem:i=>{t=t.filter(c=>c===i),delete e[i]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let EO;try{const e="__storage_test__";EO=window.localStorage,EO.setItem(e,e),EO.removeItem(e)}catch{EO=tce()}var nce=EO;const oce={geom:{Rect:Jle},util:{Delay:Uc,Tools:Xt,VK:dn,URI:ud,EventDispatcher:_H,Observable:SH,I18n:Mc,LocalStorage:nce,ImageUploader:kz},dom:{EventUtils:If,TreeWalker:ca,TextSeeker:Vd,DOMUtils:js,ScriptLoader:bl,RangeUtils:Bp,Serializer:HP,StyleSheetLoader:Lm,ControlSelection:Fs,BookmarkManager:Us,Selection:uT,Event:If.Event},html:{Styles:Cx,Entities:Yg,Node:Da,Schema:Pc,DomParser:ay,Writer:VA,Serializer:wh},Env:Mo,AddOnManager:ol,Annotator:nR,Formatter:ww,UndoManager:x6,EditorCommands:Gj,WindowManager:o6,NotificationManager:yT,EditorObservable:Jj,Shortcuts:oK,Editor:wB,FocusManager:sd,EditorManager:ky,DOM:js.DOM,ScriptLoader:bl.ScriptLoader,PluginManager:n1,ThemeManager:tv,ModelManager:ev,IconManager:pw,Resource:ece,FakeClipboard:Kle,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,walk:Xt.walk,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix},uK=Xt.extend(ky,oce),sce=e=>{try{n.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(uK),sce(uK)})()})(gee);var I0e=gee.exports;const N0e=BU(I0e);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const n=Object.getPrototypeOf,r=(s,a,u)=>{var f;return!!u(s,a.prototype)||((f=s.constructor)===null||f===void 0?void 0:f.name)===a.name},l=s=>a=>(u=>{const f=typeof u;return u===null?"null":f==="object"&&Array.isArray(u)?"array":f==="object"&&r(u,String,(p,b)=>b.isPrototypeOf(p))?"string":f})(a)===s,d=s=>a=>typeof a===s,g=s=>a=>s===a,v=l("string"),x=l("object"),S=s=>((a,u)=>x(a)&&r(a,u,(f,p)=>n(f)===p))(s,Object),O=l("array"),V=g(null),P=d("boolean"),B=g(void 0),$=s=>s==null,Z=s=>!$(s),K=d("function"),X=d("number"),ae=(s,a)=>{if(O(s)){for(let u=0,f=s.length;u<f;++u)if(!a(s[u]))return!1;return!0}return!1},fe=()=>{},Le=s=>()=>s(),Re=(s,a)=>(...u)=>s(a.apply(null,u)),te=s=>()=>s,Ce=s=>s,ie=(s,a)=>s===a;function Ue(s,...a){return(...u)=>{const f=a.concat(u);return s.apply(null,f)}}const We=s=>a=>!s(a),qe=s=>()=>{throw new Error(s)},st=s=>s(),Se=te(!1),Me=te(!0);class D{constructor(a,u){this.tag=a,this.value=u}static some(a){return new D(!0,a)}static none(){return D.singletonNone}fold(a,u){return this.tag?u(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?D.some(a(this.value)):D.none()}bind(a){return this.tag?a(this.value):D.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:D.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return Z(a)?D.some(a):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const Ke=Array.prototype.slice,ct=Array.prototype.indexOf,$t=Array.prototype.push,Jt=(s,a)=>ct.call(s,a),et=(s,a)=>Jt(s,a)>-1,pt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return!0;return!1},Lt=(s,a)=>{const u=[];for(let f=0;f<s;f++)u.push(a(f));return u},tt=(s,a)=>{const u=[];for(let f=0;f<s.length;f+=a){const p=Ke.call(s,f,f+a);u.push(p)}return u},Ye=(s,a)=>{const u=s.length,f=new Array(u);for(let p=0;p<u;p++){const b=s[p];f[p]=a(b,p)}return f},Mt=(s,a)=>{for(let u=0,f=s.length;u<f;u++)a(s[u],u)},no=(s,a)=>{const u=[],f=[];for(let p=0,b=s.length;p<b;p++){const w=s[p];(a(w,p)?u:f).push(w)}return{pass:u,fail:f}},Fn=(s,a)=>{const u=[];for(let f=0,p=s.length;f<p;f++){const b=s[f];a(b,f)&&u.push(b)}return u},fn=(s,a,u)=>(((f,p)=>{for(let b=f.length-1;b>=0;b--)p(f[b],b)})(s,(f,p)=>{u=a(u,f,p)}),u),_n=(s,a,u)=>(Mt(s,(f,p)=>{u=a(u,f,p)}),u),Q=(s,a)=>((u,f,p)=>{for(let b=0,w=u.length;b<w;b++){const k=u[b];if(f(k,b))return D.some(k);if(p(k,b))break}return D.none()})(s,a,Se),xs=(s,a)=>{for(let u=0,f=s.length;u<f;u++)if(a(s[u],u))return D.some(u);return D.none()},Qn=s=>{const a=[];for(let u=0,f=s.length;u<f;++u){if(!O(s[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+s);$t.apply(a,s[u])}return a},tn=(s,a)=>Qn(Ye(s,a)),To=(s,a)=>{for(let u=0,f=s.length;u<f;++u)if(a(s[u],u)!==!0)return!1;return!0},je=s=>{const a=Ke.call(s,0);return a.reverse(),a},re=(s,a)=>Fn(s,u=>!et(a,u)),be=(s,a)=>{const u={};for(let f=0,p=s.length;f<p;f++){const b=s[f];u[String(b)]=a(b,f)}return u},Pe=s=>[s],he=(s,a)=>{const u=Ke.call(s,0);return u.sort(a),u},gt=(s,a)=>a>=0&&a<s.length?D.some(s[a]):D.none(),zt=s=>gt(s,0),vt=s=>gt(s,s.length-1),Ft=K(Array.from)?Array.from:s=>Ke.call(s),Vt=(s,a)=>{for(let u=0;u<s.length;u++){const f=a(s[u],u);if(f.isSome())return f}return D.none()},wn=Object.keys,cn=Object.hasOwnProperty,An=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f];a(s[b],b)}},On=(s,a)=>wo(s,(u,f)=>({k:f,v:a(u,f)})),wo=(s,a)=>{const u={};return An(s,(f,p)=>{const b=a(f,p);u[b.k]=b.v}),u},Oo=s=>(a,u)=>{s[u]=a},Ho=(s,a,u,f)=>{An(s,(p,b)=>{(a(p,b)?u:f)(p,b)})},cs=(s,a)=>{const u={};return Ho(s,a,Oo(u),fe),u},rr=(s,a)=>{const u=[];return An(s,(f,p)=>{u.push(a(f,p))}),u},fs=(s,a)=>{const u=wn(s);for(let f=0,p=u.length;f<p;f++){const b=u[f],w=s[b];if(a(w,b,s))return D.some(w)}return D.none()},Tr=s=>rr(s,Ce),hn=(s,a)=>Eo(s,a)?D.from(s[a]):D.none(),Eo=(s,a)=>cn.call(s,a),vo=(s,a)=>Eo(s,a)&&s[a]!==void 0&&s[a]!==null,tr=(s,a,u=ie)=>s.exists(f=>u(f,a)),ea=s=>{const a=[],u=f=>{a.push(f)};for(let f=0;f<s.length;f++)s[f].each(u);return a},Kt=(s,a,u)=>s.isSome()&&a.isSome()?D.some(u(s.getOrDie(),a.getOrDie())):D.none(),gi=(s,a)=>s!=null?D.some(a(s)):D.none(),ss=(s,a)=>s?D.some(a):D.none(),Ul=(s,a,u)=>a===""||s.length>=a.length&&s.substr(u,u+a.length)===a,zs=(s,a)=>bm(s,a)?((u,f)=>u.substring(f))(s,a.length):s,ei=(s,a,u=0,f)=>{const p=s.indexOf(a,u);return p!==-1&&(!!B(f)||p+a.length<=f)},bm=(s,a)=>Ul(s,a,0),Iu=(s,a)=>Ul(s,a,s.length-a.length),wc=(hf=/^\s+|\s+$/g,s=>s.replace(hf,"")),ul=s=>s.length>0,Nu=s=>!ul(s),Ts=s=>s.style!==void 0&&K(s.style.getPropertyValue),io=s=>{if(s==null)throw new Error("Node cannot be null or undefined");return{dom:s}},Wl=(s,a)=>{const u=document.createElement("div");if(u.innerHTML=s,!u.hasChildNodes()||u.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,s),new Error(f)}return io(u.childNodes[0])},Ti=(s,a)=>{const u=document.createElement(s);return io(u)},Pu=(s,a)=>{const u=document.createTextNode(s);return io(u)},rn=io,Mu=typeof window<"u"?window:Function("return this;")(),ym=(s,a)=>((u,f)=>{let p=f??Mu;for(let b=0;b<u.length&&p!=null;++b)p=p[u[b]];return p})(s.split("."),a),mr=Object.getPrototypeOf,xm=s=>{const a=ym("ownerDocument.defaultView",s);return x(s)&&((u=>((f,p)=>{const b=((w,k)=>ym(w,k))(f,p);if(b==null)throw new Error(f+" not available on this browser");return b})("HTMLElement",u))(a).prototype.isPrototypeOf(s)||/^HTML\w*Element$/.test(mr(s).constructor.name))},Ga=s=>s.dom.nodeName.toLowerCase(),Dl=s=>a=>(u=>u.dom.nodeType)(a)===s,dl=s=>ir(s)&&xm(s.dom),ir=Dl(1),Ca=Dl(3),Rl=Dl(9),wm=Dl(11),Kc=s=>a=>ir(a)&&Ga(a)===s,Gc=(s,a)=>{const u=s.dom;if(u.nodeType!==1)return!1;{const f=u;if(f.matches!==void 0)return f.matches(a);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(a);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(a);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},uf=s=>s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11||s.childElementCount===0,_d=(s,a)=>{const u=a===void 0?document:a.dom;return uf(u)?D.none():D.from(u.querySelector(s)).map(rn)},rs=(s,a)=>s.dom===a.dom,Lr=(s,a)=>{const u=s.dom,f=a.dom;return u!==f&&u.contains(f)},ii=s=>rn(s.dom.ownerDocument),Cm=s=>Rl(s)?s:ii(s),qa=s=>rn(Cm(s).dom.documentElement),qc=s=>rn(Cm(s).dom.defaultView),_a=s=>D.from(s.dom.parentNode).map(rn),Sa=s=>D.from(s.dom.parentElement).map(rn),Yc=s=>D.from(s.dom.offsetParent).map(rn),Is=s=>Ye(s.dom.childNodes,rn),ar=(s,a)=>{const u=s.dom.childNodes;return D.from(u[a]).map(rn)},Ee=s=>ar(s,0),nt=(s,a)=>({element:s,offset:a}),Ie=(s,a)=>{const u=Is(s);return u.length>0&&a<u.length?nt(u[a],0):nt(s,a)},mt=s=>wm(s)&&Z(s.dom.host),ut=s=>rn(s.dom.getRootNode()),Je=s=>mt(s)?s:rn(Cm(s).dom.body),Wt=s=>{const a=ut(s);return mt(a)?D.some(a):D.none()},nn=s=>rn(s.dom.host),un=s=>{const a=Ca(s)?s.dom.parentNode:s.dom;if(a==null||a.ownerDocument===null)return!1;const u=a.ownerDocument;return Wt(rn(a)).fold(()=>u.body.contains(a),(f=un,p=nn,b=>f(p(b))));var f,p},vn=()=>an(rn(document)),an=s=>{const a=s.dom.body;if(a==null)throw new Error("Body is not available yet");return rn(a)},ho=(s,a,u)=>{if(!(v(u)||P(u)||X(u)))throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",u,":: Element ",s),new Error("Attribute value was not simple");s.setAttribute(a,u+"")},sn=(s,a,u)=>{ho(s.dom,a,u)},Ss=(s,a)=>{const u=s.dom;An(a,(f,p)=>{ho(u,p,f)})},Po=(s,a)=>{const u=s.dom.getAttribute(a);return u===null?void 0:u},Zo=(s,a)=>D.from(Po(s,a)),Or=(s,a)=>{const u=s.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(a)},_o=(s,a)=>{s.dom.removeAttribute(a)},Il=(s,a,u)=>{if(!v(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",s),new Error("CSS value must be a string: "+u);Ts(s)&&s.style.setProperty(a,u)},ta=(s,a)=>{Ts(s)&&s.style.removeProperty(a)},co=(s,a,u)=>{const f=s.dom;Il(f,a,u)},Ya=(s,a)=>{const u=s.dom;An(a,(f,p)=>{Il(u,p,f)})},fl=(s,a)=>{const u=s.dom;An(a,(f,p)=>{f.fold(()=>{ta(u,p)},b=>{Il(u,p,b)})})},wr=(s,a)=>{const u=s.dom,f=window.getComputedStyle(u).getPropertyValue(a);return f!==""||un(s)?f:Sd(u,a)},Sd=(s,a)=>Ts(s)?s.style.getPropertyValue(a):"",$r=(s,a)=>{const u=s.dom,f=Sd(u,a);return D.from(f).filter(p=>p.length>0)},df=s=>{const a={},u=s.dom;if(Ts(u))for(let f=0;f<u.style.length;f++){const p=u.style.item(f);a[p]=u.style[p]}return a},Nl=(s,a,u)=>{const f=Ti(s);return co(f,a,u),$r(f,a).isSome()},ws=(s,a)=>{const u=s.dom;ta(u,a),tr(Zo(s,"style").map(wc),"")&&_o(s,"style")},Bu=s=>s.dom.offsetWidth,_m=(s,a)=>{const u=p=>{const b=a(p);if(b<=0||b===null){const w=wr(p,s);return parseFloat(w)||0}return b},f=(p,b)=>_n(b,(w,k)=>{const E=wr(p,k),R=E===void 0?0:parseInt(E,10);return isNaN(R)?w:w+R},0);return{set:(p,b)=>{if(!X(b)&&!b.match(/^[0-9]+$/))throw new Error(s+".set accepts only positive integer values. Value was "+b);const w=p.dom;Ts(w)&&(w.style[s]=b+"px")},get:u,getOuter:u,aggregate:f,max:(p,b,w)=>{const k=f(p,w);return b>k?b-k:0}}},Jh=_m("height",s=>{const a=s.dom;return un(s)?a.getBoundingClientRect().height:a.offsetHeight}),Dr=s=>Jh.get(s),Cc=s=>Jh.getOuter(s),ml=(s,a)=>({left:s,top:a,translate:(u,f)=>ml(s+u,a+f)}),qs=ml,Sm=(s,a)=>s!==void 0?s:a!==void 0?a:0,Pl=s=>{const a=s.dom.ownerDocument,u=a.body,f=a.defaultView,p=a.documentElement;if(u===s.dom)return qs(u.offsetLeft,u.offsetTop);const b=Sm(f==null?void 0:f.pageYOffset,p.scrollTop),w=Sm(f==null?void 0:f.pageXOffset,p.scrollLeft),k=Sm(p.clientTop,u.clientTop),E=Sm(p.clientLeft,u.clientLeft);return na(s).translate(w-E,b-k)},na=s=>{const a=s.dom,u=a.ownerDocument.body;return u===a?qs(u.offsetLeft,u.offsetTop):un(s)?(f=>{const p=f.getBoundingClientRect();return qs(p.left,p.top)})(a):qs(0,0)},Mg=_m("width",s=>s.dom.offsetWidth),Oi=s=>Mg.get(s),Xa=s=>Mg.getOuter(s),oa=s=>{let a,u=!1;return(...f)=>(u||(u=!0,a=s.apply(null,f)),a)},Ml=()=>Qh(0,0),Qh=(s,a)=>({major:s,minor:a}),Mo={nu:Qh,detect:(s,a)=>{const u=String(a).toLowerCase();return s.length===0?Ml():((f,p)=>{const b=((k,E)=>{for(let R=0;R<k.length;R++){const L=k[R];if(L.test(E))return L}})(f,p);if(!b)return{major:0,minor:0};const w=k=>Number(p.replace(b,"$"+k));return Qh(w(1),w(2))})(s,u)},unknown:Ml},Xc=(s,a)=>{const u=String(a).toLowerCase();return Q(s,f=>f.search(u))},kd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Lu=s=>a=>ei(a,s),Sv=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:s=>ei(s,"edge/")&&ei(s,"chrome")&&ei(s,"safari")&&ei(s,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kd],search:s=>ei(s,"chrome")&&!ei(s,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:s=>ei(s,"msie")||ei(s,"trident")},{name:"Opera",versionRegexes:[kd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Lu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Lu("firefox")},{name:"Safari",versionRegexes:[kd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:s=>(ei(s,"safari")||ei(s,"mobile/"))&&ei(s,"applewebkit")}],Xy=[{name:"Windows",search:Lu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:s=>ei(s,"iphone")||ei(s,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Lu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Lu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Lu("linux"),versionRegexes:[]},{name:"Solaris",search:Lu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Lu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Lu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],P1={browsers:te(Sv),oses:te(Xy)},M1="Edge",pC="Chromium",ep="Opera",B1="Firefox",Xt="Safari",ff=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isEdge:f(M1),isChromium:f(pC),isIE:f("IE"),isOpera:f(ep),isFirefox:f(B1),isSafari:f(Xt)}},mf=()=>ff({current:void 0,version:Mo.unknown()}),L1=ff,sa="Windows",gf="Android",Bg="Linux",Jy="macOS",Qy="Solaris",kv="FreeBSD",ex="ChromeOS",F1=s=>{const a=s.current,u=s.version,f=p=>()=>a===p;return{current:a,version:u,isWindows:f(sa),isiOS:f("iOS"),isAndroid:f(gf),isMacOS:f(Jy),isLinux:f(Bg),isSolaris:f(Qy),isFreeBSD:f(kv),isChromeOS:f(ex)}},tx=()=>F1({current:void 0,version:Mo.unknown()}),Lg=F1,V1=s=>window.matchMedia(s).matches;var hf;let pf=oa(()=>((s,a,u)=>{const f=P1.browsers(),p=P1.oses(),b=a.bind(E=>((R,L)=>Vt(L.brands,N=>{const z=N.brand.toLowerCase();return Q(R,q=>{var J;return z===((J=q.brand)===null||J===void 0?void 0:J.toLowerCase())}).map(q=>({current:q.name,version:Mo.nu(parseInt(N.version,10),0)}))}))(f,E)).orThunk(()=>((E,R)=>Xc(E,R).map(L=>{const N=Mo.detect(L.versionRegexes,R);return{current:L.name,version:N}}))(f,s)).fold(mf,L1),w=((E,R)=>Xc(E,R).map(L=>{const N=Mo.detect(L.versionRegexes,R);return{current:L.name,version:N}}))(p,s).fold(tx,Lg),k=((E,R,L,N)=>{const z=E.isiOS()&&/ipad/i.test(L)===!0,q=E.isiOS()&&!z,J=E.isiOS()||E.isAndroid(),ce=J||N("(pointer:coarse)"),me=z||!q&&J&&N("(min-device-width:768px)"),xe=q||J&&!me,de=R.isSafari()&&E.isiOS()&&/safari/i.test(L)===!1,ue=!xe&&!me&&!de;return{isiPad:te(z),isiPhone:te(q),isTablet:te(me),isPhone:te(xe),isTouch:te(ce),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:te(de),isDesktop:te(ue)}})(w,b,s,u);return{browser:b,os:w,deviceType:k}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),V1));const ra=()=>pf(),gl=s=>{const a=rn((b=>{if(Z(b.target)){const w=rn(b.target);if(ir(w)&&(k=>Z(k.dom.shadowRoot))(w)&&b.composed&&b.composedPath){const k=b.composedPath();if(k)return zt(k)}}return D.from(b.target)})(s).getOr(s.target)),u=()=>s.stopPropagation(),f=()=>s.preventDefault(),p=Re(f,u);return((b,w,k,E,R,L,N)=>({target:b,x:w,y:k,stop:E,prevent:R,kill:L,raw:N}))(a,s.clientX,s.clientY,u,f,p,s)},Fg=(s,a,u,f,p)=>{const b=((w,k)=>E=>{w(E)&&k(gl(E))})(u,f);return s.dom.addEventListener(a,b,p),{unbind:Ue(Go,s,a,b,p)}},Go=(s,a,u,f)=>{s.dom.removeEventListener(a,u,f)},Ed=(s,a)=>{_a(s).each(u=>{u.dom.insertBefore(a.dom,s.dom)})},Vg=(s,a)=>{(f=>D.from(f.dom.nextSibling).map(rn))(s).fold(()=>{_a(s).each(f=>{Na(f,a)})},f=>{Ed(f,a)})},zg=(s,a)=>{Ee(s).fold(()=>{Na(s,a)},u=>{s.dom.insertBefore(a.dom,u.dom)})},Na=(s,a)=>{s.dom.appendChild(a.dom)},Ur=(s,a)=>{Mt(a,u=>{Na(s,u)})},lr=s=>{s.dom.textContent="",Mt(Is(s),a=>{Hi(a)})},Hi=s=>{const a=s.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Ys=s=>{const a=s!==void 0?s.dom:document,u=a.body.scrollLeft||a.documentElement.scrollLeft,f=a.body.scrollTop||a.documentElement.scrollTop;return qs(u,f)},vf=(s,a,u)=>{const f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(s,a)},km=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),xi=s=>{const a=s===void 0?window:s,u=a.document,f=Ys(rn(u));return(p=>{const b=p===void 0?window:p;return ra().browser.isFirefox()?D.none():D.from(b.visualViewport)})(a).fold(()=>{const p=a.document.documentElement,b=p.clientWidth,w=p.clientHeight;return km(f.left,f.top,b,w)},p=>km(Math.max(p.pageLeft,f.left),Math.max(p.pageTop,f.top),p.width,p.height))},Pa=()=>rn(document),ka=(s,a)=>s.view(a).fold(te([]),u=>{const f=s.owner(u),p=ka(s,f);return[u].concat(p)});var Jc=Object.freeze({__proto__:null,view:s=>{var a;return(s.dom===document?D.none():D.from((a=s.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(rn)},owner:s=>ii(s)});const Ad=s=>{const a=Pa(),u=Ys(a);return((p,b)=>{const w=b.owner(p),k=ka(b,w);return D.some(k)})(s,Jc).fold(Ue(Pl,s),p=>{const b=na(s),w=fn(p,(k,E)=>{const R=na(E);return{left:k.left+R.left,top:k.top+R.top}},{left:0,top:0});return qs(w.left+b.left+u.left,w.top+b.top+u.top)})},Do=(s,a,u,f)=>({x:s,y:a,width:u,height:f,right:s+u,bottom:a+f}),ai=s=>{const a=Pl(s),u=Xa(s),f=Cc(s);return Do(a.left,a.top,u,f)},hl=s=>{const a=Ad(s),u=Xa(s),f=Cc(s);return Do(a.left,a.top,u,f)},Td=(s,a)=>{const u=Math.max(s.x,a.x),f=Math.max(s.y,a.y),p=Math.min(s.right,a.right),b=Math.min(s.bottom,a.bottom);return Do(u,f,p-u,b-f)},$i=()=>xi(window),Bn=s=>{let a=s;return{get:()=>a,set:u=>{a=u}}},_c=s=>{const a=Bn(D.none()),u=()=>a.get().each(s);return{clear:()=>{u(),a.set(D.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:f=>{u(),a.set(D.some(f))}}},Sc=()=>_c(s=>s.unbind()),ks=()=>{const s=_c(fe);return{...s,on:a=>s.get().each(a)}};var tp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Ev=s=>{const a=b=>b(s),u=te(s),f=()=>p,p={tag:!0,inner:s,fold:(b,w)=>w(s),isValue:Me,isError:Se,map:b=>Bo.value(b(s)),mapError:f,bind:a,exists:a,forall:a,getOr:u,or:f,getOrThunk:u,orThunk:f,getOrDie:u,each:b=>{b(s)},toOptional:()=>D.some(s)};return p},Od=s=>{const a=()=>u,u={tag:!1,inner:s,fold:(f,p)=>f(s),isValue:Se,isError:Me,map:a,mapError:f=>Bo.error(f(s)),bind:a,exists:Se,forall:Me,getOr:Ce,or:Ce,getOrThunk:st,orThunk:st,getOrDie:qe(String(s)),each:fe,toOptional:D.none};return u},Bo={value:Ev,error:Od,fromOption:(s,a)=>s.fold(()=>Od(a),Ev)};var Ma;(function(s){s[s.Error=0]="Error",s[s.Value=1]="Value"})(Ma||(Ma={}));const np=(s,a,u)=>s.stype===Ma.Error?a(s.serror):u(s.svalue),Dd=s=>({stype:Ma.Value,svalue:s}),Av=s=>({stype:Ma.Error,serror:s}),Qc=Dd,Ja=Av,eu=np,bf=(s,a,u,f)=>({tag:"field",key:s,newKey:a,presence:u,prop:f}),Be=(s,a,u)=>{switch(s.tag){case"field":return a(s.key,s.newKey,s.presence,s.prop);case"custom":return u(s.newKey,s.instantiator)}},Em=s=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const u={};for(let f=0;f<a.length;f++){const p=a[f];for(const b in p)Eo(p,b)&&(u[b]=s(u[b],p[b]))}return u},Ns=Em((s,a)=>S(s)&&S(a)?Ns(s,a):a),Tv=Em((s,a)=>a),Hg=s=>({tag:"defaultedThunk",process:s}),tu=s=>Hg(te(s)),qo=s=>({tag:"mergeWithThunk",process:s}),ia=s=>{const a=(f=>{const p=[],b=[];return Mt(f,w=>{np(w,k=>b.push(k),k=>p.push(k))}),{values:p,errors:b}})(s);return a.errors.length>0?(u=a.errors,Re(Ja,Qn)(u)):Qc(a.values);var u},Fu=s=>x(s)&&wn(s).length>100?" removed due to size":JSON.stringify(s,null,2),tc=(s,a)=>Ja([{path:s,getErrorInfo:a}]),Vu=s=>({extract:(a,u)=>((f,p)=>f.stype===Ma.Error?p(f.serror):f)(s(u),f=>((p,b)=>tc(p,te(b)))(a,f)),toString:te("val")}),zu=Vu(Qc),aa=(s,a,u,f)=>f(hn(s,a).getOrThunk(()=>u(s))),yf=(s,a,u,f,p)=>{const b=k=>p.extract(a.concat([f]),k),w=k=>k.fold(()=>Qc(D.none()),E=>((R,L)=>R.stype===Ma.Value?{stype:Ma.Value,svalue:L(R.svalue)}:R)(p.extract(a.concat([f]),E),D.some));switch(s.tag){case"required":return((k,E,R,L)=>hn(E,R).fold(()=>((N,z,q)=>tc(N,()=>'Could not find valid *required* value for "'+z+'" in '+Fu(q)))(k,R,E),L))(a,u,f,b);case"defaultedThunk":return aa(u,f,s.process,b);case"option":return((k,E,R)=>R(hn(k,E)))(u,f,w);case"defaultedOptionThunk":return((k,E,R,L)=>L(hn(k,E).map(N=>N===!0?R(k):N)))(u,f,s.process,w);case"mergeWithThunk":return aa(u,f,te({}),k=>{const E=Ns(s.process(u),k);return b(E)})}},Am=s=>({extract:(a,u)=>s().extract(a,u),toString:()=>s().toString()}),Ov=s=>wn(cs(s,Z)),wi=s=>{const a=Un(s),u=fn(s,(f,p)=>Be(p,b=>Ns(f,{[b]:!0}),te(f)),{});return{extract:(f,p)=>{const b=P(p)?[]:Ov(p),w=Fn(b,k=>!vo(u,k));return w.length===0?a.extract(f,p):((k,E)=>tc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,w)},toString:a.toString}},Un=s=>({extract:(a,u)=>((f,p,b)=>{const w={},k=[];for(const E of b)Be(E,(R,L,N,z)=>{const q=yf(N,f,p,R,z);eu(q,J=>{k.push(...J)},J=>{w[L]=J})},(R,L)=>{w[R]=L(p)});return k.length>0?Ja(k):Qc(w)})(a,u,s),toString:()=>`obj{
`+Ye(s,u=>Be(u,(f,p,b,w)=>f+" -> "+w.toString(),(f,p)=>"state("+f+")")).join(`
`)+"}"}),Hu=s=>({extract:(a,u)=>{const f=Ye(u,(p,b)=>s.extract(a.concat(["["+b+"]"]),p));return ia(f)},toString:()=>"array("+s.toString()+")"}),Tm=(s,a)=>{const u=a!==void 0?a:Ce;return{extract:(f,p)=>{const b=[];for(const w of s){const k=w.extract(f,p);if(k.stype===Ma.Value)return{stype:Ma.Value,svalue:u(k.svalue)};b.push(k)}return ia(b)},toString:()=>"oneOf("+Ye(s,f=>f.toString()).join(", ")+")"}},la=(s,a)=>({extract:(u,f)=>{const p=wn(f),b=((w,k)=>Hu(Vu(s)).extract(w,k))(u,p);return((w,k)=>w.stype===Ma.Value?k(w.svalue):w)(b,w=>{const k=Ye(w,E=>bf(E,E,{tag:"required",process:{}},a));return Un(k).extract(u,f)})},toString:()=>"setOf("+a.toString()+")"}),$u=Re(Hu,Un),Bl=te(zu),Uu=(s,a)=>Vu(u=>{const f=typeof u;return s(u)?Qc(u):Ja(`Expected type: ${a} but got: ${f}`)}),Rd=Uu(X,"number"),Ci=Uu(v,"string"),nc=Uu(P,"boolean"),nu=Uu(K,"function"),Om=s=>{if(Object(s)!==s)return!0;switch({}.toString.call(s).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(s).every(a=>Om(s[a]));default:return!1}},z1=Vu(s=>Om(s)?Qc(s):Ja("Expected value to be acceptable for sending via postMessage")),Wu=(s,a)=>({extract:(u,f)=>hn(f,s).fold(()=>((p,b)=>tc(p,()=>'Choice schema did not contain choice key: "'+b+'"'))(u,s),p=>((b,w,k,E)=>hn(k,E).fold(()=>((R,L,N)=>tc(R,()=>'The chosen schema: "'+N+'" did not exist in branches: '+Fu(L)))(b,k,E),R=>R.extract(b.concat(["branch: "+E]),w)))(u,f,a,p)),toString:()=>"chooseOn("+s+"). Possible values: "+wn(a)}),xf=s=>Vu(a=>s(a).fold(Ja,Qc)),Dv=(s,a)=>la(u=>s(u).fold(Av,Dd),a),Cr=(s,a,u)=>{return f=((p,b,w)=>((k,E)=>k.stype===Ma.Error?{stype:Ma.Error,serror:E(k.serror)}:k)(b.extract([p],w),k=>({input:w,errors:k})))(s,a,u),np(f,Bo.error,Bo.value);var f},Ba=s=>s.fold(a=>{throw new Error(Qa(a))},Ce),Ea=(s,a,u)=>Ba(Cr(s,a,u)),Qa=s=>`Errors: 
`+(a=>{const u=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:te("... (only showing first ten failures)")}]):a;return Ye(u,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(s.errors).join(`
`)+`

Input object: `+Fu(s.input),hi=(s,a)=>Wu(s,On(a,Un)),op=(s,a)=>((u,f)=>{const p=oa(f);return{extract:(b,w)=>p().extract(b,w),toString:()=>p().toString()}})(0,a),li=bf,Ui=(s,a)=>({tag:"custom",newKey:s,instantiator:a}),ou=s=>xf(a=>et(s,a)?Bo.value(a):Bo.error(`Unsupported value: "${a}", choose one of "${s.join(", ")}".`)),Ot=s=>li(s,s,{tag:"required",process:{}},Bl()),Wi=(s,a)=>li(s,s,{tag:"required",process:{}},a),sp=s=>Wi(s,Rd),_r=s=>Wi(s,Ci),Zu=(s,a)=>li(s,s,{tag:"required",process:{}},ou(a)),La=s=>Wi(s,nu),kc=(s,a)=>li(s,s,{tag:"required",process:{}},Un(a)),Dm=(s,a)=>li(s,s,{tag:"required",process:{}},$u(a)),el=(s,a)=>li(s,s,{tag:"required",process:{}},Hu(a)),jo=s=>li(s,s,{tag:"option",process:{}},Bl()),Wr=(s,a)=>li(s,s,{tag:"option",process:{}},a),wf=s=>Wr(s,Rd),Fr=s=>Wr(s,Ci),$g=(s,a)=>Wr(s,ou(a)),su=s=>Wr(s,nu),H1=(s,a)=>Wr(s,Hu(a)),Rr=(s,a)=>Wr(s,Un(a)),it=(s,a)=>li(s,s,tu(a),Bl()),Fa=(s,a,u)=>li(s,s,tu(a),u),Zr=(s,a)=>Fa(s,a,Rd),Zl=(s,a)=>Fa(s,a,Ci),Ec=(s,a,u)=>Fa(s,a,ou(u)),ti=(s,a)=>Fa(s,a,nc),Xs=(s,a)=>Fa(s,a,nu),Os=(s,a,u)=>Fa(s,a,Hu(u)),Va=(s,a,u)=>Fa(s,a,Un(u)),jl=s=>{if(!O(s))throw new Error("cases must be an array");if(s.length===0)throw new Error("there must be at least one case");const a=[],u={};return Mt(s,(f,p)=>{const b=wn(f);if(b.length!==1)throw new Error("one and only one name per case");const w=b[0],k=f[w];if(u[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!O(k))throw new Error("case arguments must be an array");a.push(w),u[w]=(...E)=>{const R=E.length;if(R!==k.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+k.length+" ("+k+"), got "+R);return{fold:(...L)=>{if(L.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+L.length);return L[p].apply(null,E)},match:L=>{const N=wn(L);if(a.length!==N.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+N.join(","));if(!To(a,z=>et(N,z)))throw new Error("Not all branches were specified when using match. Specified: "+N.join(", ")+`
Required: `+a.join(", "));return L[w].apply(null,E)},log:L=>{console.log(L,{constructors:a,constructor:w,params:E})}}}}),u};jl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ru=(s,a)=>((u,f)=>({[u]:f}))(s,a),Id=s=>(a=>{const u={};return Mt(a,f=>{u[f.key]=f.value}),u})(s),Rm=s=>K(s)?s:Se,Ug=(s,a,u)=>{let f=s.dom;const p=Rm(u);for(;f.parentNode;){f=f.parentNode;const b=rn(f),w=a(b);if(w.isSome())return w;if(p(b))break}return D.none()},Wg=(s,a,u)=>{const f=a(s),p=Rm(u);return f.orThunk(()=>p(s)?D.none():Ug(s,a,p))},Rv=(s,a)=>rs(s.element,a.event.target),Iv={can:Me,abort:Se,run:fe},ju=s=>{if(!vo(s,"can")&&!vo(s,"abort")&&!vo(s,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(s,null,2)+" does not have can, abort, or run!");return{...Iv,...s}},I=te,W=I("touchstart"),oe=I("touchmove"),Oe=I("touchend"),$e=I("touchcancel"),Dt=I("mousedown"),Wn=I("mousemove"),po=I("mouseout"),ao=I("mouseup"),Tn=I("mouseover"),bs=I("focusin"),jr=I("focusout"),Sr=I("keydown"),Ac=I("keyup"),Im=I("input"),Nm=I("change"),pi=I("click"),vC=I("transitioncancel"),Nv=I("transitionend"),$1=I("transitionstart"),ca=I("selectstart"),Ir=s=>te("alloy."+s),Di={tap:Ir("tap")},Ku=Ir("focus"),rp=Ir("blur.post"),nx=Ir("paste.post"),oc=Ir("receive"),pl=Ir("execute"),Pv=Ir("focus.item"),Cf=Di.tap,iE=Ir("longpress"),Mv=Ir("sandbox.close"),Nd=Ir("typeahead.cancel"),_f=Ir("system.init"),En=Ir("system.touchmove"),iu=Ir("system.touchend"),Bv=Ir("system.scroll"),Sf=Ir("system.resize"),ua=Ir("system.attached"),Tc=Ir("system.detached"),Zg=Ir("system.dismissRequested"),kf=Ir("system.repositionRequested"),U1=Ir("focusmanager.shifted"),au=Ir("slotcontainer.visibility"),ip=Ir("system.external.element.scroll"),ap=Ir("change.tab"),Ut=Ir("dismiss.tab"),ox=Ir("highlight"),Ef=Ir("dehighlight"),ko=(s,a)=>{Oc(s,s.element,a,{})},Rn=(s,a,u)=>{Oc(s,s.element,a,u)},Af=s=>{ko(s,pl())},gr=(s,a,u)=>{Oc(s,a,u,{})},Oc=(s,a,u,f)=>{const p={target:a,...f};s.getSystem().triggerEvent(u,a,p)},Dc=(s,a,u,f)=>{s.getSystem().triggerEvent(u,a,f.event)},fo=s=>Id(s),lp=(s,a)=>({key:s,value:ju({abort:a})}),bC=s=>({key:s,value:ju({run:(a,u)=>{u.event.prevent()}})}),St=(s,a)=>({key:s,value:ju({run:a})}),sx=(s,a,u)=>({key:s,value:ju({run:(f,p)=>{a.apply(void 0,[f,p].concat(u))}})}),cp=s=>a=>({key:s,value:ju({run:(u,f)=>{Rv(u,f)&&a(u,f)}})}),up=(s,a,u)=>((f,p)=>St(f,(b,w)=>{b.getSystem().getByUid(p).each(k=>{Dc(k,k.element,f,w)})}))(s,a.partUids[u]),jg=(s,a)=>St(s,(u,f)=>{const p=f.event,b=u.getSystem().getByDom(p.target).getOrThunk(()=>Wg(p.target,w=>u.getSystem().getByDom(w).toOptional(),Se).getOr(u));a(u,b,f)}),Pm=s=>St(s,(a,u)=>{u.cut()}),yC=s=>St(s,(a,u)=>{u.stop()}),Tf=(s,a)=>cp(s)(a),nr=cp(ua()),Gu=cp(Tc()),W1=cp(_f()),lu=(Fm=pl(),s=>St(Fm,s)),Mm=s=>Ye(s,a=>Iu(a,"/*")?a.substring(0,a.length-2):a),sc=(s,a)=>{const u=s.toString(),f=u.indexOf(")")+1,p=u.indexOf("("),b=u.substring(p+1,f-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:a,parameters:Mm(b)}),s},Kr=s=>({classes:B(s.classes)?[]:s.classes,attributes:B(s.attributes)?{}:s.attributes,styles:B(s.styles)?{}:s.styles}),Lv=(s,a,u)=>W1((f,p)=>{u(f,s,a)}),Ri=s=>({key:s,value:void 0}),Z1=(s,a,u,f,p,b,w)=>{const k=L=>vo(L,u)?L[u]():D.none(),E=On(p,(L,N)=>((z,q,J)=>((ce,me,xe)=>{const de=xe.toString(),ue=de.indexOf(")")+1,ve=de.indexOf("("),we=de.substring(ve+1,ue-1).split(/,\s*/);return ce.toFunctionAnnotation=()=>({name:me,parameters:Mm(we.slice(0,1).concat(we.slice(3)))}),ce})((ce,...me)=>{const xe=[ce].concat(me);return ce.config({name:te(z)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+z+". Using API: "+J)},de=>{const ue=Array.prototype.slice.call(xe,1);return q.apply(void 0,[ce,de.config,de.state].concat(ue))})},J,q))(u,L,N)),R={...On(b,(L,N)=>sc(L,N)),...E,revoke:Ue(Ri,u),config:L=>{const N=Ea(u+"-config",s,L);return{key:u,value:{config:N,me:R,configAsRaw:oa(()=>Ea(u+"-config",s,L)),initialConfig:L,state:w}}},schema:te(a),exhibit:(L,N)=>Kt(k(L),hn(f,"exhibit"),(z,q)=>q(N,z.config,z.state)).getOrThunk(()=>Kr({})),name:te(u),handlers:L=>k(L).map(N=>hn(f,"events").getOr(()=>({}))(N.config,N.state)).getOr({})};return R},Rc={init:()=>Ii({readState:te("No State required")})},Ii=s=>s,Zt=s=>Id(s),Bm=wi([Ot("fields"),Ot("name"),it("active",{}),it("apis",{}),it("state",Rc),it("extra",{})]),Ni=s=>{const a=Ea("Creating behaviour: "+s.name,Bm,s);return((u,f,p,b,w,k)=>{const E=wi(u),R=Rr(f,[(L=u,Wr("config",wi(L)))]);var L;return Z1(E,R,f,p,b,w,k)})(a.fields,a.name,a.active,a.apis,a.extra,a.state)},xC=wi([Ot("branchKey"),Ot("branches"),Ot("name"),it("active",{}),it("apis",{}),it("state",Rc),it("extra",{})]),wC=s=>{const a=Ea("Creating behaviour: "+s.name,xC,s);return((u,f,p,b,w,k)=>{const E=u,R=Rr(f,[Wr("config",u)]);return Z1(E,R,f,p,b,w,k)})(hi(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},aE=te(void 0),Pd=(s,a)=>{const u=Po(s,a);return u===void 0||u===""?[]:u.split(" ")},Kg=s=>s.dom.classList!==void 0,Fv=s=>Pd(s,"class"),j1=(s,a)=>((u,f,p)=>{const b=Pd(u,f).concat([p]);return sn(u,f,b.join(" ")),!0})(s,"class",a),rx=(s,a)=>((u,f,p)=>{const b=Fn(Pd(u,f),w=>w!==p);return b.length>0?sn(u,f,b.join(" ")):_o(u,f),!1})(s,"class",a),kr=(s,a)=>{Kg(s)?s.dom.classList.add(a):j1(s,a)},Vv=s=>{(Kg(s)?s.dom.classList:Fv(s)).length===0&&_o(s,"class")},Nr=(s,a)=>{Kg(s)?s.dom.classList.remove(a):rx(s,a),Vv(s)},tl=(s,a)=>Kg(s)&&s.dom.classList.contains(a),Gr=(s,a)=>{Mt(a,u=>{kr(s,u)})},rc=(s,a)=>{Mt(a,u=>{Nr(s,u)})},Md=s=>Kg(s)?(a=>{const u=a.dom.classList,f=new Array(u.length);for(let p=0;p<u.length;p++){const b=u.item(p);b!==null&&(f[p]=b)}return f})(s):Fv(s),Zi=(s,a,u,f,p)=>{const b=w=>w+"px";return{position:s,left:a.map(b),top:u.map(b),right:f.map(b),bottom:p.map(b)}},zv=(s,a)=>{fl(s,(u=>({...u,position:D.some(u.position)}))(a))},dp=s=>(tr($r(s,"position"),"fixed")?D.none():Yc(s)).orThunk(()=>{const a=Ti("span");return _a(s).bind(u=>{Na(u,a);const f=Yc(a);return Hi(a),f})}),Of=s=>dp(s).map(Pl).getOrThunk(()=>qs(0,0)),CC=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Nr(u,a.fadeOutClass),kr(u,a.fadeInClass),a.onShow(s)},fp=(s,a)=>{const u=s.element;kr(u,a.transitionClass),Nr(u,a.fadeInClass),kr(u,a.fadeOutClass),a.onHide(s)},ix=(s,a)=>s.y>=a.y,K1=(s,a)=>s.bottom<=a.bottom,Hv=(s,a,u)=>({location:"top",leftX:a,topY:u.bounds.y-s.y}),G1=(s,a,u)=>({location:"bottom",leftX:a,bottomY:s.bottom-u.bounds.bottom}),ax=s=>s.box.x-s.win.x,Lm=(s,a,u)=>u.getInitialPos().map(f=>{const p=((b,w)=>{const k=w.optScrollEnv.fold(te(b.bounds.y),E=>E.scrollElmTop+(b.bounds.y-E.currentScrollTop));return qs(b.bounds.x,k)})(f,a);return{box:Do(p.left,p.top,Oi(s),Dr(s)),location:f.location}}),lE=(s,a,u,f,p)=>{const b=((k,E)=>{const R=E.optScrollEnv.fold(te(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return qs(k.x,R)})(a,u),w=Do(b.left,b.top,a.width,a.height);f.setInitialPos({style:df(s),position:wr(s,"position")||"static",bounds:w,location:p.location})},q1=(s,a,u)=>u.getInitialPos().bind(f=>{var p;switch(u.clearInitialPos(),f.position){case"static":return D.some({morph:"static"});case"absolute":const b=dp(s).getOr(vn()),w=ai(b),k=(p=b.dom.scrollTop)!==null&&p!==void 0?p:0;return D.some({morph:"absolute",positionCss:Zi("absolute",hn(f.style,"left").map(E=>a.x-w.x),hn(f.style,"top").map(E=>a.y-w.y+k),hn(f.style,"right").map(E=>w.right-a.right),hn(f.style,"bottom").map(E=>w.bottom-a.bottom))});default:return D.none()}}),Y1=s=>{switch(s.location){case"top":return D.some({morph:"fixed",positionCss:Zi("fixed",D.some(s.leftX),D.some(s.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Zi("fixed",D.some(s.leftX),D.none(),D.none(),D.some(s.bottomY))});default:return D.none()}},lx=(s,a,u)=>{const f=s.element;return tr($r(f,"position"),"fixed")?((p,b,w)=>((k,E,R)=>Lm(k,E,R).filter(({box:L})=>((N,z,q)=>To(N,J=>{switch(J){case"bottom":return K1(z,q.bounds);case"top":return ix(z,q.bounds)}}))(R.getModes(),L,E)).bind(({box:L})=>q1(k,L,R)))(p,b,w).orThunk(()=>b.optScrollEnv.bind(k=>Lm(p,b,w)).bind(({box:k,location:E})=>{const R=$i(),L=ax({win:R,box:k}),N=E==="top"?Hv(R,L,b):G1(R,L,b);return Y1(N)})))(f,a,u):((p,b,w)=>{const k=ai(p),E=$i(),R=((L,N,z)=>{const q=N.win,J=N.box,ce=ax(N);return Vt(L,me=>{switch(me){case"bottom":return K1(J,z.bounds)?D.none():D.some(G1(q,ce,z));case"top":return ix(J,z.bounds)?D.none():D.some(Hv(q,ce,z));default:return D.none()}}).getOr({location:"no-dock"})})(w.getModes(),{win:E,box:k},b);return R.location==="top"||R.location==="bottom"?(lE(p,k,b,w,R),Y1(R)):D.none()})(f,a,u)},cx=(s,a,u)=>{u.setDocked(!1),Mt(["left","right","top","bottom","position"],f=>ws(s.element,f)),a.onUndocked(s)},$v=(s,a,u,f)=>{const p=f.position==="fixed";u.setDocked(p),zv(s.element,f),(p?a.onDocked:a.onUndocked)(s)},ux=(s,a,u,f,p=!1)=>{a.contextual.each(b=>{b.lazyContext(s).each(w=>{const k=((E,R)=>E.y<R.bottom&&E.bottom>R.y)(w,f.bounds);k!==u.isVisible()&&(u.setVisible(k),p&&!k?(Gr(s.element,[b.fadeOutClass]),b.onHide(s)):(k?CC:fp)(s,b))})})},dx=(s,a,u,f,p)=>{ux(s,a,u,f,!0),$v(s,a,u,p.positionCss)},Uv=(s,a,u)=>{s.getSystem().isConnected()&&((f,p,b)=>{const w=p.lazyViewport(f);ux(f,p,b,w),lx(f,w,b).each(k=>{((E,R,L,N,z)=>{switch(z.morph){case"static":return cx(E,R,L);case"absolute":return $v(E,R,L,z.positionCss);case"fixed":dx(E,R,L,N,z)}})(f,p,b,w,k)})})(s,a,u)},mp=(s,a,u)=>{u.isDocked()&&((f,p,b)=>{const w=f.element;b.setDocked(!1);const k=p.lazyViewport(f);((E,R,L)=>{const N=E.element;return Lm(N,R,L).bind(({box:z})=>q1(N,z,L))})(f,k,b).each(E=>{switch(E.morph){case"static":cx(f,p,b);break;case"absolute":$v(f,p,b,E.positionCss)}}),b.setVisible(!0),p.contextual.each(E=>{rc(w,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),Uv(f,p,b)})(s,a,u)},fx=s=>(a,u,f)=>{const p=u.lazyViewport(a);((b,w,k,E)=>{const R=ai(b),L=$i(),N=E(L,ax({win:L,box:R}),w);return N.location==="bottom"||N.location==="top"?(((z,q,J,ce,me)=>{ce.getInitialPos().fold(()=>lE(z,q,J,ce,me),()=>fe)})(b,R,w,k,N),Y1(N)):D.none()})(a.element,p,f,s).each(b=>{dx(a,u,f,p,b)})},Wv=fx(Hv),Zv=fx(G1);var Fm,gp=Object.freeze({__proto__:null,refresh:Uv,reset:mp,isDocked:(s,a,u)=>u.isDocked(),getModes:(s,a,u)=>u.getModes(),setModes:(s,a,u,f)=>u.setModes(f),forceDockToTop:Wv,forceDockToBottom:Zv}),mx=Object.freeze({__proto__:null,events:(s,a)=>fo([Tf(Nv(),(u,f)=>{s.contextual.each(p=>{tl(u.element,p.transitionClass)&&(rc(u.element,[p.transitionClass,p.fadeInClass]),(a.isVisible()?p.onShown:p.onHidden)(u)),f.stop()})}),St(Bv(),(u,f)=>{Uv(u,s,a)}),St(ip(),(u,f)=>{Uv(u,s,a)}),St(Sf(),(u,f)=>{mp(u,s,a)})])});const Bd=s=>s.dom.innerHTML,Gg=(s,a)=>{const u=ii(s).dom,f=rn(u.createDocumentFragment()),p=((b,w)=>{const k=(w||document).createElement("div");return k.innerHTML=b,Is(rn(k))})(a,u);Ur(f,p),lr(s),Na(s,f)},qg=(s,a)=>rn(s.dom.cloneNode(a)),Ld=s=>(a=>{if(mt(a))return"#shadow-root";{const u=(f=>qg(f,!1))(a);return(f=>{const p=Ti("div"),b=rn(f.dom.cloneNode(!0));return Na(p,b),Bd(p)})(u)}})(s);var Df;(function(s){s[s.STOP=0]="STOP",s[s.NORMAL=1]="NORMAL",s[s.LOGGING=2]="LOGGING"})(Df||(Df={}));const jv=Bn({}),cE=["alloy/data/Fields","alloy/debugging/Debugging"],Kv=(s,a,u)=>((f,p,b)=>{switch(hn(jv.get(),f).orThunk(()=>{const w=wn(jv.get());return Vt(w,k=>f.indexOf(k)>-1?D.some(jv.get()[k]):D.none())}).getOr(Df.NORMAL)){case Df.NORMAL:return b(Ic());case Df.LOGGING:{const w=((E,R)=>{const L=[],N=new Date().getTime();return{logEventCut:(z,q,J)=>{L.push({outcome:"cut",target:q,purpose:J})},logEventStopped:(z,q,J)=>{L.push({outcome:"stopped",target:q,purpose:J})},logNoParent:(z,q,J)=>{L.push({outcome:"no-parent",target:q,purpose:J})},logEventNoHandlers:(z,q)=>{L.push({outcome:"no-handlers-left",target:q})},logEventResponse:(z,q,J)=>{L.push({outcome:"response",purpose:J,target:q})},write:()=>{const z=new Date().getTime();et(["mousemove","mouseover","mouseout",_f()],E)||console.log(E,{event:E,time:z-N,target:R.dom,sequence:Ye(L,q=>et(["cut","stopped","response"],q.outcome)?"{"+q.purpose+"} "+q.outcome+" at ("+Ld(q.target)+")":q.outcome)})}}})(f,p),k=b(w);return w.write(),k}case Df.STOP:return!0}})(s,a,u),Ic=te({logEventCut:fe,logEventStopped:fe,logNoParent:fe,logEventNoHandlers:fe,logEventResponse:fe,write:fe}),_C=te([Ot("menu"),Ot("selectedMenu")]),gx=te([Ot("item"),Ot("selectedItem")]);te(Un(gx().concat(_C())));const Yg=te(Un(gx())),da=kc("initSize",[Ot("numColumns"),Ot("numRows")]),Xg=()=>kc("markers",[Ot("backgroundMenu")].concat(_C()).concat(gx())),Jg=s=>kc("markers",Ye(s,Ot)),X1=(s,a,u)=>((()=>{const f=new Error;if(f.stack!==void 0){const p=f.stack.split(`
`);Q(p,b=>b.indexOf("alloy")>0&&!pt(cE,w=>b.indexOf(w)>-1)).getOr("unknown")}})(),li(a,a,u,xf(f=>Bo.value((...p)=>f.apply(void 0,p))))),Yo=s=>X1(0,s,tu(fe)),vl=s=>X1(0,s,tu(D.none)),qu=s=>X1(0,s,{tag:"required",process:{}}),Aa=s=>X1(0,s,{tag:"required",process:{}}),Zs=(s,a)=>Ui(s,te(a)),Gv=s=>Ui(s,Ce),SC=te(da);var uE=[Rr("contextual",[_r("fadeInClass"),_r("fadeOutClass"),_r("transitionClass"),La("lazyContext"),Yo("onShow"),Yo("onShown"),Yo("onHide"),Yo("onHidden")]),Xs("lazyViewport",()=>({bounds:$i(),optScrollEnv:D.none()})),Os("modes",["top","bottom"],Ci),Yo("onDocked"),Yo("onUndocked")];const cr=Ni({fields:uE,name:"docking",active:mx,apis:gp,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(!1),u=Bn(!0),f=ks(),p=Bn(s.modes);return Ii({isDocked:a.get,setDocked:a.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:p.get,setModes:p.set,readState:()=>`docked:  ${a.get()}, visible: ${u.get()}, modes: ${p.get().join(",")}`})}})}),J1=fo([((s,a)=>({key:s,value:ju({can:(u,f)=>{const p=f.event,b=p.originator,w=p.target;return!((k,E,R)=>rs(E,k.element)&&!rs(E,R))(u,b,w)||(console.warn(Ku()+` did not get interpreted by the desired target. 
Originator: `+Ld(b)+`
Target: `+Ld(w)+`
Check the `+Ku()+" event handlers"),!1)}})}))(Ku())]);var hx=Object.freeze({__proto__:null,events:J1});const Vm=(s,a,u,f)=>{const p=s+a;return p>f?u:p<u?f:p},Nc=(s,a,u)=>Math.min(Math.max(s,a),u);let hp=0;const bn=s=>{const a=new Date().getTime(),u=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return hp++,s+"_"+u+hp+String(a)},cu=te("alloy-id-"),px=te("data-alloy-id"),Q1=cu(),pp=px(),e0=(s,a)=>{Object.defineProperty(s.dom,pp,{value:a,writable:!0})},Qg=s=>{const a=ir(s)?s.dom[pp]:null;return D.from(a)},Pc=s=>bn(s),dE=Ce,t0=s=>{const a=p=>`The component must be in a context to execute: ${p}`+(s?`
`+Ld(s().element)+" is not in context.":""),u=p=>()=>{throw new Error(a(p))},f=p=>()=>{console.warn(a(p))};return{debugInfo:te("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),buildOrPatch:u("buildOrPatch"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Se}},vx=t0(),n0=bn("alloy-premade"),bx=s=>(Object.defineProperty(s.element.dom,n0,{value:s.uid,writable:!0}),ru(n0,s)),yx=s=>hn(s,n0),o0=s=>((a,u)=>{const f=u.toString(),p=f.indexOf(")")+1,b=f.indexOf("("),w=f.substring(b+1,p-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Mm(w.slice(1))}),a})((a,...u)=>s(a.getApis(),a,...u),s),xx=(s,a)=>{const u={};return An(s,(f,p)=>{An(f,(b,w)=>{const k=hn(u,w).getOr([]);u[w]=k.concat([a(p,b)])})}),u},wx=s=>s.cHandler,kC=(s,a)=>({name:s,handler:a}),fE=(s,a)=>{const u={};return Mt(s,f=>{u[f.name()]=f.handlers(a)}),u},qv=(s,a,u)=>{const f=a[u];return f?((p,b,w,k)=>{try{const E=he(w,(R,L)=>{const N=R[b],z=L[b],q=k.indexOf(N),J=k.indexOf(z);if(q===-1)throw new Error("The ordering for "+p+" does not have an entry for "+N+`.
Order specified: `+JSON.stringify(k,null,2));if(J===-1)throw new Error("The ordering for "+p+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(k,null,2));return q<J?-1:J<q?1:0});return Bo.value(E)}catch(E){return Bo.error([E])}})("Event: "+u,"name",s,f).map(p=>(b=>({can:((E,R)=>(...L)=>_n(E,(N,z)=>N&&(q=>q.can)(z).apply(void 0,L),!0))(b),abort:((E,R)=>(...L)=>_n(E,(N,z)=>N||(q=>q.abort)(z).apply(void 0,L),!1))(b),run:(...E)=>{Mt(b,R=>{R.run.apply(void 0,E)})}}))(Ye(p,b=>b.handler))):((p,b)=>Bo.error(["The event ("+p+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ye(b,w=>w.name),null,2)]))(u,s)},Cx=(s,a)=>((u,f)=>{const p=(w=>{const k=[],E=[];return Mt(w,R=>{R.fold(L=>{k.push(L)},L=>{E.push(L)})}),{errors:k,values:E}})(u);return p.errors.length>0?(b=p.errors,Bo.error(Qn(b))):((w,k)=>w.length===0?Bo.value(k):Bo.value(Ns(k,Tv.apply(void 0,w))))(p.values,f);var b})(rr(s,(u,f)=>(u.length===1?Bo.value(u[0].handler):qv(u,a,f)).map(p=>{const b=(k=>{const E=(R=>K(R)?{can:Me,abort:Se,run:R}:R)(k);return(R,L,...N)=>{const z=[R,L].concat(N);E.abort.apply(void 0,z)?L.stop():E.can.apply(void 0,z)&&E.run.apply(void 0,z)}})(p),w=u.length>1?Fn(a[f],k=>pt(u,E=>E.name===k)).join(" > "):u[0].name;return ru(f,((k,E)=>({handler:k,purpose:E}))(b,w))})),{}),eh="alloy.base.behaviour",mE=Un([li("dom","dom",{tag:"required",process:{}},Un([Ot("tag"),it("styles",{}),it("classes",[]),it("attributes",{}),jo("value"),jo("innerHtml")])),Ot("components"),Ot("uid"),it("events",{}),it("apis",{}),li("eventOrder","eventOrder",(th={[pl()]:["disabling",eh,"toggling","typeaheadevents"],[Ku()]:[eh,"focusing","keying"],[_f()]:[eh,"disabling","toggling","representing","tooltipping"],[Im()]:[eh,"representing","streaming","invalidating"],[Tc()]:[eh,"representing","item-events","toolbar-button-events","tooltipping"],[Dt()]:["focusing",eh,"item-type-events"],[W()]:["focusing",eh,"item-type-events"],[Tn()]:["item-type-events","tooltipping"],[oc()]:["receiving","reflecting","tooltipping"]},qo(te(th))),Bl()),jo("domModification")]),gE=s=>s.events,Rf=s=>s.dom.value,zm=(s,a)=>{if(a===void 0)throw new Error("Value.set was undefined");s.dom.value=a},s0=(s,a,u)=>{u.fold(()=>Na(s,a),f=>{rs(f,a)||(Ed(f,a),Hi(f))})},EC=(s,a,u)=>{const f=Ye(a,u),p=Is(s);return Mt(p.slice(f.length),Hi),f},_x=(s,a,u,f)=>{const p=ar(s,a),b=f(u,p),w=((k,E,R)=>ar(k,E).map(L=>{if(R.exists(N=>!rs(N,L))){const N=R.map(Ga).getOr("span"),z=Ti(N);return Ed(L,z),z}return L}))(s,a,p);return s0(s,b.element,w),b},Yv=(s,a)=>{const u=wn(s),f=wn(a),p=re(f,u),b=((w,k)=>{const E={},R={};return Ho(w,(L,N)=>!Eo(a,N)||L!==a[N],Oo(E),Oo(R)),{t:E,f:R}})(s).t;return{toRemove:p,toSet:b}},Fd=(s,a)=>{const u=a.filter(f=>Ga(f)===s.tag&&!(p=>p.innerHtml.isSome()&&p.domChildren.length>0)(s)&&!(p=>Eo(p.dom,n0))(f)).bind(f=>((p,b)=>{try{const w=((k,E)=>{const{class:R,style:L,...N}=(ve=>_n(ve.dom.attributes,(we,ke)=>(we[ke.name]=ke.value,we),{}))(E),{toSet:z,toRemove:q}=Yv(k.attributes,N),J=df(E),{toSet:ce,toRemove:me}=Yv(k.styles,J),xe=Md(E),de=re(xe,k.classes),ue=re(k.classes,xe);return Mt(q,ve=>_o(E,ve)),Ss(E,z),Gr(E,ue),rc(E,de),Mt(me,ve=>ws(E,ve)),Ya(E,ce),k.innerHtml.fold(()=>{const ve=k.domChildren;((we,ke)=>{EC(we,ke,(ze,ot)=>{const Et=ar(we,ot);return s0(we,ze,Et),ze})})(E,ve)},ve=>{Gg(E,ve)}),(()=>{const ve=E,we=k.value.getOrUndefined();we!==Rf(ve)&&zm(ve,we??"")})(),E})(p,b);return D.some(w)}catch{return D.none()}})(s,f)).getOrThunk(()=>(f=>{const p=Ti(f.tag);Ss(p,f.attributes),Gr(p,f.classes),Ya(p,f.styles),f.innerHtml.each(w=>Gg(p,w));const b=f.domChildren;return Ur(p,b),f.value.each(w=>{zm(p,w)}),p})(s));return e0(u,s.uid),u},r0=s=>{const a=(u=>{const f=hn(u,"behaviours").getOr({});return tn(wn(f),p=>{const b=f[p];return Z(b)?[b.me]:[]})})(s);return((u,f)=>((p,b)=>{const w=Ye(b,E=>Rr(E.name(),[Ot("config"),it("state",Rc)])),k=Cr("component.behaviours",Un(w),p.behaviours).fold(E=>{throw new Error(Qa(E)+`
Complete spec:
`+JSON.stringify(p,null,2))},Ce);return{list:b,data:On(k,E=>{const R=E.map(L=>({config:L.config,state:L.state.init(L.config)}));return te(R)})}})(u,f))(s,a)},vi=(s,a)=>{const u=()=>z,f=Bn(vx),p=Ba((q=>Cr("custom.definition",mE,q))(s)),b=r0(s),w=(q=>q.list)(b),k=(q=>q.data)(b),E=((q,J,ce)=>{const me={...(xe=q).dom,uid:xe.uid,domChildren:Ye(xe.components,ze=>ze.element)};var xe;const de=(ze=>ze.domModification.fold(()=>Kr({}),Kr))(q),ue={"alloy.base.modification":de},ve=J.length>0?((ze,ot,Et,_t)=>{const wt={...ot};Mt(Et,Lo=>{wt[Lo.name()]=Lo.exhibit(ze,_t)});const Ht=xx(wt,(Lo,Qs)=>({name:Lo,modification:Qs})),mn=Lo=>fn(Lo,(Qs,dr)=>({...dr.modification,...Qs}),{}),kn=fn(Ht.classes,(Lo,Qs)=>Qs.modification.concat(Lo),[]),zn=mn(Ht.attributes),ro=mn(Ht.styles);return Kr({classes:kn,attributes:zn,styles:ro})})(ce,ue,J,me):de;return we=me,ke=ve,{...we,attributes:{...we.attributes,...ke.attributes},styles:{...we.styles,...ke.styles},classes:we.classes.concat(ke.classes)};var we,ke})(p,w,k),R=Fd(E,a),L=((q,J,ce)=>{const me={"alloy.base.behaviour":gE(q)};return((xe,de,ue,ve)=>{const we=((ke,ze,ot)=>{const Et={...ot,...fE(ze,ke)};return xx(Et,kC)})(xe,ue,ve);return Cx(we,de)})(ce,q.eventOrder,J,me).getOrDie()})(p,w,k),N=Bn(p.components),z={uid:s.uid,getSystem:f.get,config:q=>{const J=k;return(K(J[q.name()])?J[q.name()]:()=>{throw new Error("Could not find "+q.name()+" in "+JSON.stringify(s,null,2))})()},hasConfigured:q=>K(k[q.name()]),spec:s,readState:q=>k[q]().map(J=>J.state.readState()).getOr("not enabled"),getApis:()=>p.apis,connect:q=>{f.set(q)},disconnect:()=>{f.set(t0(u))},element:R,syncComponents:()=>{const q=Is(R),J=tn(q,ce=>f.get().getByDom(ce).fold(()=>[],Pe));N.set(J)},components:N.get,events:L};return z},Vr=s=>{const a=Pu(s);return If({element:a})},If=s=>{const a=Ea("external.component",wi([Ot("element"),jo("uid")]),s),u=Bn(t0()),f=a.uid.getOrThunk(()=>Pc("external"));e0(a.element,f);const p={uid:f,getSystem:u.get,config:D.none,hasConfigured:Se,connect:b=>{u.set(b)},disconnect:()=>{u.set(t0(()=>p))},getApis:()=>({}),element:a.element,spec:s,readState:te("No state"),syncComponents:fe,components:te([]),events:{}};return bx(p)},Sx=Pc,i0=(s,a)=>yx(s).getOrThunk(()=>((u,f)=>{const{events:p,...b}=dE(u),w=((E,R)=>{const L=hn(E,"components").getOr([]);return R.fold(()=>Ye(L,ji),N=>Ye(L,(z,q)=>i0(z,ar(N,q))))})(b,f),k={...b,events:{...hx,...p},components:w};return Bo.value(vi(k,f))})((u=>Eo(u,"uid"))(s)?s:{uid:Sx(""),...s},a).getOrDie()),ji=s=>i0(s,D.none()),nl=bx;var th,Nf=(s,a,u,f,p)=>s(u,f)?D.some(u):K(p)&&p(u)?D.none():a(u,f,p);const Hm=(s,a,u)=>{let f=s.dom;const p=K(u)?u:Se;for(;f.parentNode;){f=f.parentNode;const b=rn(f);if(a(b))return D.some(b);if(p(b))break}return D.none()},a0=(s,a,u)=>Nf((f,p)=>p(f),Hm,s,a,u),AC=(s,a)=>Q(s.dom.childNodes,u=>a(rn(u))).map(rn),kx=(s,a,u)=>a0(s,a,u).isSome(),$m=(s,a,u)=>Hm(s,f=>Gc(f,a),u),js=(s,a)=>((u,f)=>{const p=u.dom;return p.parentNode?AC(rn(p.parentNode),b=>!rs(u,b)&&Gc(b,a)):D.none()})(s),l0=(s,a)=>AC(s,u=>Gc(u,a)),ur=(s,a)=>_d(a,s),Yu=(s,a,u)=>Nf((f,p)=>Gc(f,p),$m,s,a,u),uu="aria-controls",nh=()=>{const s=bn(uu);return{id:s,link:a=>{sn(a,uu,s)},unlink:a=>{_o(a,uu)}}},bl=(s,a)=>kx(a,u=>rs(u,s.element),Se)||((u,f)=>(p=>a0(p,b=>{if(!ir(b))return!1;const w=Po(b,"id");return w!==void 0&&w.indexOf(uu)>-1}).bind(b=>{const w=Po(b,"id"),k=ut(b);return ur(k,`[${uu}="${w}"]`)}))(f).exists(p=>bl(u,p)))(s,a),fa=(s,a,u,f,p,b,w,k=!1)=>({x:s,y:a,bubble:u,direction:f,placement:p,restriction:b,label:`${w}-${p}`,alwaysFit:k}),Um=jl([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Xv=Um.southeast,oh=Um.southwest,Jv=Um.northeast,sh=Um.northwest,TC=Um.south,Ex=Um.north,Ax=Um.east,OC=Um.west,ma=(s,a)=>be(["left","right","top","bottom"],u=>hn(a,u).map(f=>((p,b)=>{switch(b){case 1:return p.x;case 0:return p.x+p.width;case 2:return p.y;case 3:return p.y+p.height}})(s,f))),Wm="layout",DC=s=>s.x,Mc=(s,a)=>s.x+s.width/2-a.width/2,ol=(s,a)=>s.x+s.width-a.width,rh=(s,a)=>s.y-a.height,vp=s=>s.y+s.height,RC=(s,a)=>s.y+s.height/2-a.height/2,Pr=(s,a,u)=>fa(DC(s),vp(s),u.southeast(),Xv(),"southeast",ma(s,{left:1,top:3}),Wm),Mr=(s,a,u)=>fa(ol(s,a),vp(s),u.southwest(),oh(),"southwest",ma(s,{right:0,top:3}),Wm),ni=(s,a,u)=>fa(DC(s),rh(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:1,bottom:2}),Wm),Ps=(s,a,u)=>fa(ol(s,a),rh(s,a),u.northwest(),sh(),"northwest",ma(s,{right:0,bottom:2}),Wm),Er=(s,a,u)=>fa(Mc(s,a),rh(s,a),u.north(),Ex(),"north",ma(s,{bottom:2}),Wm),qr=(s,a,u)=>fa(Mc(s,a),vp(s),u.south(),TC(),"south",ma(s,{top:3}),Wm),c0=(s,a,u)=>fa((f=>f.x+f.width)(s),RC(s,a),u.east(),Ax(),"east",ma(s,{left:0}),Wm),u0=(s,a,u)=>fa(((f,p)=>f.x-p.width)(s,a),RC(s,a),u.west(),OC(),"west",ma(s,{right:1}),Wm),Tx=()=>[Pr,Mr,ni,Ps,qr,Er,c0,u0],Qv=()=>[Mr,Pr,Ps,ni,qr,Er,c0,u0],Ox=()=>[ni,Ps,Pr,Mr,Er,qr],ih=()=>[Ps,ni,Mr,Pr,Er,qr],d0=()=>[Pr,Mr,ni,Ps,qr,Er],f0=()=>[Mr,Pr,Ps,ni,qr,Er];var Dx=Object.freeze({__proto__:null,events:s=>fo([St(oc(),(a,u)=>{const f=s.channels,p=wn(f),b=u,w=((k,E)=>E.universal?k:Fn(k,R=>et(E.channels,R)))(p,b);Mt(w,k=>{const E=f[k],R=E.schema,L=Ea("channel["+k+`] data
Receiver: `+Ld(a.element),R,b.data);E.onReceive(a,L)})})])}),eb=[Wi("channels",Dv(Bo.value,wi([qu("onReceive"),it("schema",Bl())])))];const yl=Ni({fields:eb,name:"receiving",active:Dx});var Rx=Object.freeze({__proto__:null,exhibit:(s,a)=>Kr({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const za=(s,a=!1)=>s.dom.focus({preventScroll:a}),tb=s=>s.dom.blur(),ah=s=>{const a=ut(s).dom;return s.dom===a.activeElement},du=(s=Pa())=>D.from(s.dom.activeElement).map(rn),Yr=s=>du(ut(s)).filter(a=>s.dom.contains(a.dom)),Zm=(s,a)=>{const u=ut(a),f=du(u).bind(b=>{const w=k=>rs(b,k);return w(a)?D.some(a):((k,E)=>{const R=L=>{for(let N=0;N<L.childNodes.length;N++){const z=rn(L.childNodes[N]);if(E(z))return D.some(z);const q=R(L.childNodes[N]);if(q.isSome())return q}return D.none()};return R(k.dom)})(a,w)}),p=s(a);return f.each(b=>{du(u).filter(w=>rs(w,b)).fold(()=>{za(b)},fe)}),p},Ix=jl([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Nx=(s,a,u,f,p,b)=>{const w=a.rect,k=w.x-u,E=w.y-f,R=p-(k+w.width),L=b-(E+w.height),N=D.some(k),z=D.some(E),q=D.some(R),J=D.some(L),ce=D.none();return a.direction.fold(()=>Zi(s,N,z,ce,ce),()=>Zi(s,ce,z,q,ce),()=>Zi(s,N,ce,ce,J),()=>Zi(s,ce,ce,q,J),()=>Zi(s,N,z,ce,ce),()=>Zi(s,N,ce,ce,J),()=>Zi(s,N,z,ce,ce),()=>Zi(s,ce,z,q,ce))},nb=(s,a)=>s.fold(()=>{const u=a.rect;return Zi("absolute",D.some(u.x),D.some(u.y),D.none(),D.none())},(u,f,p,b)=>Nx("absolute",a,u,f,p,b),(u,f,p,b)=>Nx("fixed",a,u,f,p,b)),Vd=(s,a)=>{const u=Ue(Ad,a),f=s.fold(u,u,()=>{const w=Ys();return Ad(a).translate(-w.left,-w.top)}),p=Xa(a),b=Cc(a);return Do(f.left,f.top,p,b)},hE=(s,a)=>a.fold(()=>s.fold($i,$i,Do),u=>s.fold(te(u),te(u),()=>{const f=ob(s,u.x,u.y);return Do(f.left,f.top,u.width,u.height)})),ob=(s,a,u)=>{const f=qs(a,u);return s.fold(te(f),te(f),()=>{const p=Ys();return f.translate(-p.left,-p.top)})};Ix.none;const jm=Ix.relative,IC=Ix.fixed,sb="data-alloy-placement",rb=s=>Zo(s,sb),m0=jl([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),bp=(s,a,u,f)=>{const p=s.bubble,b=p.offset,w=((ve,we,ke)=>{const ze=(Ht,mn)=>we[Ht].map(kn=>{const zn=Ht==="top"||Ht==="bottom",ro=zn?ke.top:ke.left,Lo=(Ht==="left"||Ht==="top"?Math.max:Math.min)(kn,mn)+ro;return zn?Nc(Lo,ve.y,ve.bottom):Nc(Lo,ve.x,ve.right)}).getOr(mn),ot=ze("left",ve.x),Et=ze("top",ve.y),_t=ze("right",ve.right),wt=ze("bottom",ve.bottom);return Do(ot,Et,_t-ot,wt-Et)})(f,s.restriction,b),k=s.x+b.left,E=s.y+b.top,R=Do(k,E,a,u),{originInBounds:L,sizeInBounds:N,visibleW:z,visibleH:q}=((ve,we)=>{const{x:ke,y:ze,right:ot,bottom:Et}=we,{x:_t,y:wt,right:Ht,bottom:mn,width:kn,height:zn}=ve;return{originInBounds:_t>=ke&&_t<=ot&&wt>=ze&&wt<=Et,sizeInBounds:Ht<=ot&&Ht>=ke&&mn<=Et&&mn>=ze,visibleW:Math.min(kn,_t>=ke?ot-_t:Ht-ke),visibleH:Math.min(zn,wt>=ze?Et-wt:mn-ze)}})(R,w),J=L&&N,ce=J?R:((ve,we)=>{const{x:ke,y:ze,right:ot,bottom:Et}=we,{x:_t,y:wt,width:Ht,height:mn}=ve,kn=Math.max(ke,ot-Ht),zn=Math.max(ze,Et-mn),ro=Nc(_t,ke,kn),Lo=Nc(wt,ze,zn),Qs=Math.min(ro+Ht,ot)-ro,dr=Math.min(Lo+mn,Et)-Lo;return Do(ro,Lo,Qs,dr)})(R,w),me=ce.width>0&&ce.height>0,{maxWidth:xe,maxHeight:de}=((ve,we,ke)=>{const ze=te(we.bottom-ke.y),ot=te(ke.bottom-we.y),Et=((mn,kn,zn,ro)=>mn.fold(kn,kn,ro,ro,kn,ro,zn,zn))(ve,ot,ot,ze),_t=te(we.right-ke.x),wt=te(ke.right-we.x);return{maxWidth:((mn,kn,zn,ro)=>mn.fold(kn,ro,kn,ro,zn,zn,kn,ro))(ve,wt,wt,_t),maxHeight:Et}})(s.direction,ce,f),ue={rect:ce,maxHeight:de,maxWidth:xe,direction:s.direction,placement:s.placement,classes:{on:p.classesOn,off:p.classesOff},layout:s.label,testY:E};return J||s.alwaysFit?m0.fit(ue):m0.nofit(ue,z,q,me)},g0=Me,Ha=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!1))(s,a,g0,u),Px=(s,a,u)=>((f,p,b,w)=>Fg(f,p,b,w,!0))(s,a,g0,u),zd=gl,ib=["top","bottom","right","left"],Xu="data-alloy-transition-timer",ab=(s,a,u,f,p,b)=>{const w=((k,E,R)=>R.exists(L=>{const N=k.mode;return N==="all"||L[N]!==E[N]}))(f,p,b);if(w||((k,E)=>((R,L)=>To(L,N=>tl(R,N)))(k,E.classes))(s,f)){co(s,"position",u.position);const k=Vd(a,s),E=nb(a,{...p,rect:k}),R=be(ib,L=>E[L]);((L,N)=>{const z=q=>parseFloat(q).toFixed(3);return fs(N,(q,J)=>!((ce,me,xe=ie)=>Kt(ce,me,xe).getOr(ce.isNone()&&me.isNone()))(L[J].map(z),q.map(z))).isSome()})(u,R)&&(fl(s,R),w&&((L,N)=>{Gr(L,N.classes),Zo(L,Xu).each(z=>{clearTimeout(parseInt(z,10)),_o(L,Xu)}),((z,q)=>{const J=Sc(),ce=Sc();let me;const xe=we=>{var ke;const ze=(ke=we.raw.pseudoElement)!==null&&ke!==void 0?ke:"";return rs(we.target,z)&&Nu(ze)&&et(ib,we.raw.propertyName)},de=we=>{if($(we)||xe(we)){J.clear(),ce.clear();const ke=we==null?void 0:we.raw.type;($(ke)||ke===Nv())&&(clearTimeout(me),_o(z,Xu),rc(z,q.classes))}},ue=Ha(z,$1(),we=>{xe(we)&&(ue.unbind(),J.set(Ha(z,Nv(),de)),ce.set(Ha(z,vC(),de)))}),ve=(we=>{const ke=_t=>{const wt=wr(we,_t).split(/\s*,\s*/);return Fn(wt,ul)},ze=_t=>{if(v(_t)&&/^[\d.]+/.test(_t)){const wt=parseFloat(_t);return Iu(_t,"ms")?wt:1e3*wt}return 0},ot=ke("transition-delay"),Et=ke("transition-duration");return _n(Et,(_t,wt,Ht)=>{const mn=ze(ot[Ht])+ze(wt);return Math.max(_t,mn)},0)})(z);requestAnimationFrame(()=>{me=setTimeout(de,ve+17),sn(z,Xu,me)})})(L,N)})(s,f),Bu(s))}else rc(s,f.classes)},lb=(s,a)=>{((u,f)=>{const p=Jh.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);co(u,"max-height",p+"px")})(s,Math.floor(a))},Km=te((s,a)=>{lb(s,a),Ya(s,{"overflow-x":"hidden","overflow-y":"auto"})}),lh=te((s,a)=>{lb(s,a)}),Bc=(s,a,u)=>s[a]===void 0?u:s[a],cb=(s,a,u,f)=>{const p=((b,w,k,E)=>{ws(w,"max-height"),ws(w,"max-width");const R={width:Xa(L=w),height:Cc(L)};var L;return((N,z,q,J,ce,me)=>{const xe=J.width,de=J.height,ue=(ve,we,ke,ze,ot)=>{const Et=ve(q,J,ce,N,me),_t=bp(Et,xe,de,me);return _t.fold(te(_t),(wt,Ht,mn,kn)=>(ot===kn?mn>ze||Ht>ke:!ot&&kn)?_t:m0.nofit(we,ke,ze,ot))};return _n(z,(ve,we)=>{const ke=Ue(ue,we);return ve.fold(te(ve),ke)},m0.nofit({rect:q,maxHeight:J.height,maxWidth:J.width,direction:Xv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:q.y},-1,-1,!1)).fold(Ce,Ce)})(w,E.preference,b,R,k,E.bounds)})(s,a,u,f);return((b,w,k)=>{const E=nb(k.origin,w);k.transition.each(R=>{ab(b,k.origin,E,R,w,k.lastPlacement)}),zv(b,E)})(a,p,f),((b,w)=>{((k,E)=>{sn(k,sb,E)})(b,w.placement)})(a,p),((b,w)=>{const k=w.classes;rc(b,k.off),Gr(b,k.on)})(a,p),((b,w,k)=>{(0,k.maxHeightFunction)(b,w.maxHeight)})(a,p,f),((b,w,k)=>{(0,k.maxWidthFunction)(b,w.maxWidth)})(a,p,f),{layout:p.layout,placement:p.placement}},pE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ic=(s,a,u,f=1)=>{const p=s*f,b=a*f,w=E=>hn(u,E).getOr([]),k=(E,R,L)=>{const N=re(pE,L);return{offset:qs(E,R),classesOn:tn(L,w),classesOff:tn(N,w)}};return{southeast:()=>k(-s,a,["top","alignLeft"]),southwest:()=>k(s,a,["top","alignRight"]),south:()=>k(-s/2,a,["top","alignCentre"]),northeast:()=>k(-s,-a,["bottom","alignLeft"]),northwest:()=>k(s,-a,["bottom","alignRight"]),north:()=>k(-s/2,-a,["bottom","alignCentre"]),east:()=>k(s,-a/2,["valignCentre","left"]),west:()=>k(-s,-a/2,["valignCentre","right"]),insetNortheast:()=>k(p,b,["top","alignLeft","inset"]),insetNorthwest:()=>k(-p,b,["top","alignRight","inset"]),insetNorth:()=>k(-p/2,b,["top","alignCentre","inset"]),insetSoutheast:()=>k(p,-b,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-p,-b,["bottom","alignRight","inset"]),insetSouth:()=>k(-p/2,-b,["bottom","alignCentre","inset"]),insetEast:()=>k(-p,-b/2,["valignCentre","right","inset"]),insetWest:()=>k(p,-b/2,["valignCentre","left","inset"])}},Hd=()=>ic(0,0,{}),Lc=Ce,Mx=(s,a)=>u=>_i(u)==="rtl"?a:s,_i=s=>wr(s,"direction")==="rtl"?"rtl":"ltr";var Fc;(function(s){s.TopToBottom="toptobottom",s.BottomToTop="bottomtotop"})(Fc||(Fc={}));const xl="data-alloy-vertical-dir",vE=s=>kx(s,a=>ir(a)&&Po(a,"data-alloy-vertical-dir")===Fc.BottomToTop),Pf=()=>Rr("layouts",[Ot("onLtr"),Ot("onRtl"),jo("onBottomLtr"),jo("onBottomRtl")]),$d=(s,a,u,f,p,b,w)=>{const k=w.map(vE).getOr(!1),E=a.layouts.map(z=>z.onLtr(s)),R=a.layouts.map(z=>z.onRtl(s)),L=k?a.layouts.bind(z=>z.onBottomLtr.map(q=>q(s))).or(E).getOr(p):E.getOr(u),N=k?a.layouts.bind(z=>z.onBottomRtl.map(q=>q(s))).or(R).getOr(b):R.getOr(f);return Mx(L,N)(s)};var yp=[Ot("hotspot"),jo("bubble"),it("overrides",{}),Pf(),Zs("placement",(s,a,u)=>{const f=a.hotspot,p=Vd(u,f.element),b=$d(s.element,a,d0(),f0(),Ox(),ih(),D.some(a.hotspot.element));return D.some(Lc({anchorBox:p,bubble:a.bubble.getOr(Hd()),overrides:a.overrides,layouts:b}))})],Gm=[Ot("x"),Ot("y"),it("height",0),it("width",0),it("bubble",Hd()),it("overrides",{}),Pf(),Zs("placement",(s,a,u)=>{const f=ob(u,a.x,a.y),p=Do(f.left,f.top,a.width,a.height),b=$d(s.element,a,Tx(),Qv(),Tx(),Qv(),D.none());return D.some(Lc({anchorBox:p,bubble:a.bubble,overrides:a.overrides,layouts:b}))})];const Kl=jl([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),h0=s=>s.fold(Ce,(a,u,f)=>a.translate(-u,-f)),p0=s=>s.fold(Ce,Ce),ub=s=>_n(s,(a,u)=>a.translate(u.left,u.top),qs(0,0)),v0=s=>{const a=Ye(s,p0);return ub(a)},NC=Kl.screen,db=Kl.absolute,Ud=(s,a,u)=>{const f=ii(s.element),p=Ys(f),b=((w,k,E)=>{const R=qc(E.root).dom;return D.from(R.frameElement).map(rn).filter(L=>{const N=ii(L),z=ii(w.element);return rs(N,z)}).map(Pl)})(s,0,u).getOr(p);return db(b,p.left,p.top)},fb=(s,a,u,f)=>{const p=NC(qs(s,a));return D.some(((b,w,k)=>({point:b,width:w,height:k}))(p,u,f))},ch=(s,a,u,f,p)=>s.map(b=>{const w=[a,b.point],k=(E=()=>v0(w),R=()=>v0(w),L=()=>(ue=>{const ve=Ye(ue,h0);return ub(ve)})(w),f.fold(E,R,L));var E,R,L;const N=(ce=k.left,me=k.top,xe=b.width,de=b.height,{x:ce,y:me,width:xe,height:de}),z=u.showAbove?Ox():d0(),q=u.showAbove?ih():f0(),J=$d(p,u,z,q,z,q,D.none());var ce,me,xe,de;return Lc({anchorBox:N,bubble:u.bubble.getOr(Hd()),overrides:u.overrides,layouts:J})});var uh=[Ot("node"),Ot("root"),jo("bubble"),Pf(),it("overrides",{}),it("showAbove",!1),Zs("placement",(s,a,u)=>{const f=Ud(s,0,a);return a.node.filter(un).bind(p=>{const b=p.dom.getBoundingClientRect(),w=fb(b.left,b.top,b.width,b.height),k=a.node.getOr(s.element);return ch(w,f,a,u,k)})})];const Mf=(s,a,u,f)=>({start:s,soffset:a,finish:u,foffset:f}),Bf=jl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),mb=(Bf.before,Bf.on,Bf.after,s=>s.fold(Ce,Ce,Ce)),Lf=jl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ff={domRange:Lf.domRange,relative:Lf.relative,exact:Lf.exact,exactFromRange:s=>Lf.exact(s.start,s.soffset,s.finish,s.foffset),getWin:s=>{const a=(u=>u.match({domRange:f=>rn(f.startContainer),relative:(f,p)=>mb(f),exact:(f,p,b,w)=>f}))(s);return qc(a)},range:Mf},Vf=(s,a,u)=>{const f=s.document.createRange();var p;return p=f,a.fold(b=>{p.setStartBefore(b.dom)},(b,w)=>{p.setStart(b.dom,w)},b=>{p.setStartAfter(b.dom)}),((b,w)=>{w.fold(k=>{b.setEndBefore(k.dom)},(k,E)=>{b.setEnd(k.dom,E)},k=>{b.setEndAfter(k.dom)})})(f,u),f},dh=(s,a,u,f,p)=>{const b=s.document.createRange();return b.setStart(a.dom,u),b.setEnd(f.dom,p),b},b0=s=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:s.width,height:s.height}),xp=jl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),y0=(s,a,u)=>a(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset),Bx=(s,a)=>((u,f)=>{const p=((b,w)=>w.match({domRange:k=>({ltr:te(k),rtl:D.none}),relative:(k,E)=>({ltr:oa(()=>Vf(b,k,E)),rtl:oa(()=>D.some(Vf(b,E,k)))}),exact:(k,E,R,L)=>({ltr:oa(()=>dh(b,k,E,R,L)),rtl:oa(()=>D.some(dh(b,R,L,k,E)))})}))(u,f);return((b,w)=>{const k=w.ltr();return k.collapsed?w.rtl().filter(E=>E.collapsed===!1).map(E=>xp.rtl(rn(E.endContainer),E.endOffset,rn(E.startContainer),E.startOffset)).getOrThunk(()=>y0(0,xp.ltr,k)):y0(0,xp.ltr,k)})(0,p)})(s,a).match({ltr:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(u.dom,f),w.setEnd(p.dom,b),w},rtl:(u,f,p,b)=>{const w=s.document.createRange();return w.setStart(p.dom,b),w.setEnd(u.dom,f),w}});xp.ltr,xp.rtl;const wp=(s,a,u)=>Fn(((f,p)=>{const b=K(p)?p:Se;let w=f.dom;const k=[];for(;w.parentNode!==null&&w.parentNode!==void 0;){const E=w.parentNode,R=rn(E);if(k.push(R),b(R)===!0)break;w=E}return k})(s,u),a),Si=(s,a)=>((u,f)=>{const p=f===void 0?document:f.dom;return uf(p)?[]:Ye(p.querySelectorAll(u),rn)})(a,s),Lx=s=>{if(s.rangeCount>0){const a=s.getRangeAt(0),u=s.getRangeAt(s.rangeCount-1);return D.some(Mf(rn(a.startContainer),a.startOffset,rn(u.endContainer),u.endOffset))}return D.none()},PC=s=>{if(s.anchorNode===null||s.focusNode===null)return Lx(s);{const a=rn(s.anchorNode),u=rn(s.focusNode);return((f,p,b,w)=>{const k=((R,L,N,z)=>{const q=ii(R).dom.createRange();return q.setStart(R.dom,L),q.setEnd(N.dom,z),q})(f,p,b,w),E=rs(f,b)&&p===w;return k.collapsed&&!E})(a,s.anchorOffset,u,s.focusOffset)?D.some(Mf(a,s.anchorOffset,u,s.focusOffset)):Lx(s)}},Fx=(s,a)=>(u=>{const f=u.getClientRects(),p=f.length>0?f[0]:u.getBoundingClientRect();return p.width>0||p.height>0?D.some(p).map(b0):D.none()})(Bx(s,a)),Vx=((s,a)=>{const u=f=>s(f)?D.from(f.dom.nodeValue):D.none();return{get:f=>{if(!s(f))throw new Error("Can only get text value of a text node");return u(f).getOr("")},getOption:u,set:(f,p)=>{if(!s(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=p}}})(Ca),zf=(s,a)=>({element:s,offset:a}),x0=(s,a)=>Ca(s)?zf(s,a):((u,f)=>{const p=Is(u);if(p.length===0)return zf(u,f);if(f<p.length)return zf(p[f],0);{const b=p[p.length-1],w=Ca(b)?(k=>Vx.get(k))(b).length:Is(b).length;return zf(b,w)}})(s,a),gb=s=>s.foffset!==void 0,zx=(s,a)=>a.getSelection.getOrThunk(()=>()=>(u=>(f=>D.from(f.getSelection()))(u).filter(f=>f.rangeCount>0).bind(PC))(s))().map(u=>{if(gb(u)){const f=x0(u.start,u.soffset),p=x0(u.finish,u.foffset);return Ff.range(f.element,f.offset,p.element,p.offset)}return u});var bE=[jo("getSelection"),Ot("root"),jo("bubble"),Pf(),it("overrides",{}),it("showAbove",!1),Zs("placement",(s,a,u)=>{const f=qc(a.root).dom,p=Ud(s,0,a),b=zx(f,a).bind(k=>{if(gb(k))return((R,L)=>(N=>{const z=N.getBoundingClientRect();return z.width>0||z.height>0?D.some(z).map(b0):D.none()})(Bx(R,L)))(f,Ff.exactFromRange(k)).orThunk(()=>{const R=Pu("\uFEFF");Ed(k.start,R);const L=Fx(f,Ff.exact(R,0,R,1));return Hi(R),L}).bind(R=>fb(R.left,R.top,R.width,R.height));{const E=On(k,L=>L.dom.getBoundingClientRect()),R={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return fb(R.left,R.top,R.right-R.left,R.bottom-R.top)}}),w=zx(f,a).bind(k=>gb(k)?ir(k.start)?D.some(k.start):Sa(k.start):D.some(k.firstCell)).getOr(s.element);return ch(b,p,a,u,w)})];const Hf="link-layout",hb=s=>s.x+s.width,MC=(s,a)=>s.x-a.width,BC=(s,a)=>s.y-a.height+s.height,fu=s=>s.y,Hx=(s,a,u)=>fa(hb(s),fu(s),u.southeast(),Xv(),"southeast",ma(s,{left:0,top:2}),Hf),w0=(s,a,u)=>fa(MC(s,a),fu(s),u.southwest(),oh(),"southwest",ma(s,{right:1,top:2}),Hf),LC=(s,a,u)=>fa(hb(s),BC(s,a),u.northeast(),Jv(),"northeast",ma(s,{left:0,bottom:3}),Hf),fh=(s,a,u)=>fa(MC(s,a),BC(s,a),u.northwest(),sh(),"northwest",ma(s,{right:1,bottom:3}),Hf),Cp=()=>[Hx,w0,LC,fh],pb=()=>[w0,Hx,fh,LC];var FC=[Ot("item"),Pf(),it("overrides",{}),Zs("placement",(s,a,u)=>{const f=Vd(u,a.item.element),p=$d(s.element,a,Cp(),pb(),Cp(),pb(),D.none());return D.some(Lc({anchorBox:f,bubble:Hd(),overrides:a.overrides,layouts:p}))})],mu=hi("type",{selection:bE,node:uh,hotspot:yp,submenu:FC,makeshift:Gm});const qm=[el("classes",Ci),Ec("mode","all",["all","layout","placement"])],vb=[it("useFixed",Se),jo("getBounds")],bb=[Wi("anchor",mu),Rr("transition",qm)],C0=(s,a,u,f,p,b)=>{const w=Ea("placement.info",Un(bb),p),k=w.anchor,E=f.element,R=u.get(f.uid);Zm(()=>{co(E,"position","fixed");const L=$r(E,"visibility");co(E,"visibility","hidden");const N=a.useFixed()?(()=>{const z=document.documentElement;return IC(0,0,z.clientWidth,z.clientHeight)})():(z=>{const q=Pl(z.element),J=z.element.dom.getBoundingClientRect();return jm(q.left,q.top,J.width,J.height)})(s);k.placement(s,k,N).each(z=>{const q=b.orThunk(()=>a.getBounds.map(st)),J=((ce,me,xe,de,ue,ve)=>((we,ke,ze,ot,Et,_t,wt,Ht)=>{const mn=Bc(wt,"maxHeightFunction",Km()),kn=Bc(wt,"maxWidthFunction",fe),zn=we.anchorBox,ro=we.origin,Lo={bounds:hE(ro,_t),origin:ro,preference:ot,maxHeightFunction:mn,maxWidthFunction:kn,lastPlacement:Et,transition:Ht};return cb(zn,ke,ze,Lo)})(((we,ke)=>((ze,ot)=>({anchorBox:ze,origin:ot}))(we,ke))(me.anchorBox,ce),de.element,me.bubble,me.layouts,ue,xe,me.overrides,ve))(N,z,q,f,R,w.transition);u.set(f.uid,J)}),L.fold(()=>{ws(E,"visibility")},z=>{co(E,"visibility",z)}),$r(E,"left").isNone()&&$r(E,"top").isNone()&&$r(E,"right").isNone()&&$r(E,"bottom").isNone()&&tr($r(E,"position"),"fixed")&&ws(E,"position")},E)};var yb=Object.freeze({__proto__:null,position:(s,a,u,f,p)=>{const b=D.none();C0(s,a,u,f,p,b)},positionWithinBounds:C0,getMode:(s,a,u)=>a.useFixed()?"fixed":"absolute",reset:(s,a,u,f)=>{const p=f.element;Mt(["position","left","right","top","bottom"],b=>ws(p,b)),(b=>{_o(b,sb)})(p),u.clear(f.uid)}});const ga=Ni({fields:vb,name:"positioning",active:Rx,apis:yb,state:Object.freeze({__proto__:null,init:()=>{let s={};return Ii({readState:()=>s,clear:a=>{Z(a)?delete s[a]:s={}},set:(a,u)=>{s[a]=u},get:a=>hn(s,a)})}})}),_0=s=>s.getSystem().isConnected(),Ym=s=>{ko(s,Tc());const a=s.components();Mt(a,Ym)},Xm=s=>{const a=s.components();Mt(a,Xm),ko(s,ua())},xb=(s,a)=>{s.getSystem().addToWorld(a),un(s.element)&&Xm(a)},S0=s=>{Ym(s),s.getSystem().removeFromWorld(s)},mh=(s,a)=>{Na(s.element,a.element)},$f=(s,a)=>{$x(s,a,Na)},$x=(s,a,u)=>{s.getSystem().addToWorld(a),u(s.element,a.element),un(s.element)&&Xm(a),s.syncComponents()},k0=s=>{Ym(s),Hi(s.element),s.getSystem().removeFromWorld(s)},sl=s=>{const a=_a(s.element).bind(u=>s.getSystem().getByDom(u).toOptional());k0(s),a.each(u=>{u.syncComponents()})},Uf=s=>{const a=s.components();Mt(a,k0),lr(s.element),s.syncComponents()},Ux=(s,a)=>{_p(s,a,Na)},xt=(s,a)=>{_p(s,a,Vg)},_p=(s,a,u)=>{u(s,a.element);const f=Is(a.element);Mt(f,p=>{a.getByDom(p).each(Xm)})},yE=s=>{const a=Is(s.element);Mt(a,u=>{s.getByDom(u).each(Ym)}),Hi(s.element)},VC=(s,a,u,f)=>{u.get().each(w=>{Uf(s)});const p=a.getAttachPoint(s);$f(p,s);const b=s.getSystem().build(f);return $f(s,b),u.set(b),b},E0=(s,a,u,f)=>{const p=VC(s,a,u,f);return a.onOpen(s,p),p},gu=(s,a,u)=>{u.get().each(f=>{Uf(s),sl(s),a.onClose(s,f),u.clear()})},A0=(s,a,u)=>u.isOpen(),wb=(s,a,u)=>{const f=a.getAttachPoint(s);co(s.element,"position",ga.getMode(f)),((p,b,w,k)=>{$r(p.element,b).fold(()=>{_o(p.element,w)},E=>{sn(p.element,w,E)}),co(p.element,b,"hidden")})(s,"visibility",a.cloakVisibilityAttr)},Wx=(s,a,u)=>{(f=>pt(["top","left","right","bottom"],p=>$r(f,p).isSome()))(s.element)||ws(s.element,"position"),((f,p,b)=>{Zo(f.element,b).fold(()=>ws(f.element,p),w=>co(f.element,p,w))})(s,"visibility",a.cloakVisibilityAttr)};var Zx=Object.freeze({__proto__:null,cloak:wb,decloak:Wx,open:E0,openWhileCloaked:(s,a,u,f,p)=>{wb(s,a),E0(s,a,u,f),p(),Wx(s,a)},close:gu,isOpen:A0,isPartOf:(s,a,u,f)=>A0(0,0,u)&&u.get().exists(p=>a.isPartOf(s,p,f)),getState:(s,a,u)=>u.get(),setContent:(s,a,u,f)=>u.get().map(()=>VC(s,a,u,f))}),xE=Object.freeze({__proto__:null,events:(s,a)=>fo([St(Mv(),(u,f)=>{gu(u,s,a)})])}),y=[Yo("onOpen"),Yo("onClose"),Ot("isPartOf"),Ot("getAttachPoint"),it("cloakVisibilityAttr","data-precloak-visibility")],_=Object.freeze({__proto__:null,init:()=>{const s=ks(),a=te("not-implemented");return Ii({readState:a,isOpen:s.isSet,clear:s.clear,set:s.set,get:s.get})}});const T=Ni({fields:y,name:"sandboxing",active:xE,apis:Zx,state:_}),M=te("dismiss.popups"),H=te("reposition.popups"),U=te("mouse.released"),ne=wi([it("isExtraPart",Se),Rr("fireEventInstead",[it("event",Zg())])]),se=s=>{const a=Ea("Dismissal",ne,s);return{[M()]:{schema:wi([Ot("target")]),onReceive:(u,f)=>{T.isOpen(u)&&(T.isPartOf(u,f.target)||a.isExtraPart(u,f.target)||a.fireEventInstead.fold(()=>T.close(u),p=>ko(u,p.event)))}}}},ye=wi([Rr("fireEventInstead",[it("event",kf())]),La("doReposition")]),De=s=>{const a=Ea("Reposition",ye,s);return{[H()]:{onReceive:u=>{T.isOpen(u)&&a.fireEventInstead.fold(()=>a.doReposition(u),f=>ko(u,f.event))}}}},Ze=(s,a,u)=>{a.store.manager.onLoad(s,a,u)},Te=(s,a,u)=>{a.store.manager.onUnload(s,a,u)};var Ne=Object.freeze({__proto__:null,onLoad:Ze,onUnload:Te,setValue:(s,a,u,f)=>{a.store.manager.setValue(s,a,u,f)},getValue:(s,a,u)=>a.store.manager.getValue(s,a,u),getState:(s,a,u)=>u}),Fe=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.resetOnDom?[nr((f,p)=>{Ze(f,s,a)}),Gu((f,p)=>{Te(f,s,a)})]:[Lv(s,a,Ze)];return fo(u)}});const rt=()=>{const s=Bn(null);return Ii({set:s.set,get:s.get,isNotSet:()=>s.get()===null,clear:()=>{s.set(null)},readState:()=>({mode:"memory",value:s.get()})})},at=()=>{const s=Bn({}),a=Bn({});return Ii({readState:()=>({mode:"dataset",dataByValue:s.get(),dataByText:a.get()}),lookup:u=>hn(s.get(),u).orThunk(()=>hn(a.get(),u)),update:u=>{const f=s.get(),p=a.get(),b={},w={};Mt(u,k=>{b[k.value]=k,hn(k,"meta").each(E=>{hn(E,"text").each(R=>{w[R]=k})})}),s.set({...f,...b}),a.set({...p,...w})},clear:()=>{s.set({}),a.set({})}})};var Tt=Object.freeze({__proto__:null,memory:rt,dataset:at,manual:()=>Ii({readState:fe}),init:s=>s.store.manager.state(s)});const Rt=(s,a,u,f)=>{const p=a.store;u.update([f]),p.setValue(s,f),a.onSetValue(s,f)};var At=[jo("initialValue"),Ot("getFallbackEntry"),Ot("getDataKey"),Ot("setValue"),Zs("manager",{setValue:Rt,getValue:(s,a,u)=>{const f=a.store,p=f.getDataKey(s);return u.lookup(p).getOrThunk(()=>f.getFallbackEntry(p))},onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{Rt(s,a,u,f)})},onUnload:(s,a,u)=>{u.clear()},state:at})],Nt=[Ot("getValue"),it("setValue",fe),jo("initialValue"),Zs("manager",{setValue:(s,a,u,f)=>{a.store.setValue(s,f),a.onSetValue(s,f)},getValue:(s,a,u)=>a.store.getValue(s),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{a.store.setValue(s,f)})},onUnload:fe,state:Rc.init})],Gt=[jo("initialValue"),Zs("manager",{setValue:(s,a,u,f)=>{u.set(f),a.onSetValue(s,f)},getValue:(s,a,u)=>u.get(),onLoad:(s,a,u)=>{a.store.initialValue.each(f=>{u.isNotSet()&&u.set(f)})},onUnload:(s,a,u)=>{u.clear()},state:rt})],Qt=[Fa("store",{mode:"memory"},hi("mode",{memory:Gt,manual:Nt,dataset:At})),Yo("onSetValue"),it("resetOnDom",!1)];const lt=Ni({fields:Qt,name:"representing",active:Fe,apis:Ne,extra:{setValueFrom:(s,a)=>{const u=lt.getValue(a);lt.setValue(s,u)}},state:Tt}),yn=(s,a)=>Va(s,{},Ye(a,u=>{return f=u.name(),p="Cannot configure "+u.name()+" for "+s,li(f,f,{tag:"option",process:{}},Vu(b=>Ja("The field: "+f+" is forbidden. "+p)));var f,p}).concat([Ui("dump",Ce)])),Yn=s=>s.dump,yo=(s,a)=>({...Zt(a),...s.dump}),oo=yn,Xn=yo,bo="placeholder",Ko=jl([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),oi=s=>Eo(s,"uiType"),Ta=(s,a,u,f)=>((p,b,w,k)=>oi(w)&&w.uiType===bo?((E,R,L,N)=>E.exists(z=>z!==L.owner)?Ko.single(!0,te(L)):hn(N,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+wn(N)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},z=>z.replace()))(p,0,w,k):Ko.single(!1,te(w)))(s,0,u,f).fold((p,b)=>{const w=oi(u)?b(a,u.config,u.validated):b(a),k=hn(w,"components").getOr([]),E=tn(k,R=>Ta(s,a,R,f));return[{...w,components:E}]},(p,b)=>{if(oi(u)){const w=b(a,u.config,u.validated);return u.validated.preprocess.getOr(Ce)(w)}return b(a)}),Ki=Ko.single,ac=Ko.multiple,Jm=te(bo),Oa=jl([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ju=it("factory",{sketch:Ce}),Sp=it("schema",[]),Wf=Ot("name"),kp=li("pname","pname",Hg(s=>"<alloy."+bn(s.name)+">"),Bl()),T0=Ui("schema",()=>[jo("preprocess")]),Zf=it("defaults",te({})),zC=it("overrides",te({})),yL=Un([Ju,Sp,Wf,kp,Zf,zC]),xL=Un([Ju,Sp,Wf,Zf,zC]),PD=Un([Ju,Sp,Wf,kp,Zf,zC]),xn=Un([Ju,T0,Wf,Ot("unit"),kp,Zf,zC]),jx=s=>s.fold(D.some,D.none,D.some,D.some),wE=s=>{const a=u=>u.name;return s.fold(a,a,a,a)},HC=(s,a)=>u=>{const f=Ea("Converting part type",a,u);return s(f)},wl=HC(Oa.required,yL),Wd=HC(Oa.external,xL),hu=HC(Oa.optional,PD),$C=HC(Oa.group,xn),CE=te("entirety");var MD=Object.freeze({__proto__:null,required:wl,external:Wd,optional:hu,group:$C,asNamedPart:jx,name:wE,asCommon:s=>s.fold(Ce,Ce,Ce,Ce),original:CE});const _E=(s,a,u,f)=>Ns(a.defaults(s,u,f),u,{uid:s.partUids[a.name]},a.overrides(s,u,f)),rl=(s,a)=>{const u={};return Mt(a,f=>{jx(f).each(p=>{const b=Kx(s,p.pname);u[p.name]=w=>{const k=Ea("Part: "+p.name+" in "+s,Un(p.schema),w);return{...b,config:w,validated:k}}})}),u},Kx=(s,a)=>({uiType:Jm(),owner:s,name:a}),SE=(s,a,u)=>({uiType:Jm(),owner:s,name:a,config:u,validated:{}}),BD=s=>tn(s,a=>a.fold(D.none,D.some,D.none,D.none).map(u=>kc(u.name,u.schema.concat([Gv(CE())]))).toArray()),LD=s=>Ye(s,wE),kE=(s,a,u)=>((f,p,b)=>{const w={},k={};return Mt(b,E=>{E.fold(R=>{w[R.pname]=Ki(!0,(L,N,z)=>R.factory.sketch(_E(L,R,N,z)))},R=>{const L=p.parts[R.name];k[R.name]=te(R.factory.sketch(_E(p,R,L[CE()]),L))},R=>{w[R.pname]=Ki(!1,(L,N,z)=>R.factory.sketch(_E(L,R,N,z)))},R=>{w[R.pname]=ac(!0,(L,N,z)=>{const q=L[R.name];return Ye(q,J=>R.factory.sketch(Ns(R.defaults(L,J,z),J,R.overrides(L,J))))})})}),{internals:te(w),externals:te(k)}})(0,a,u),EE=(s,a,u)=>((f,p,b,w)=>{const k=On(w,(R,L)=>((N,z)=>{let q=!1;return{name:te(N),required:()=>z.fold((J,ce)=>J,(J,ce)=>J),used:()=>q,replace:()=>{if(q)throw new Error("Trying to use the same placeholder more than once: "+N);return q=!0,z}}})(L,R)),E=((R,L,N,z)=>tn(N,q=>Ta(R,L,q,z)))(f,p,b,k);return An(k,R=>{if(R.used()===!1&&R.required())throw new Error("Placeholder: "+R.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(p.components,null,2))}),E})(D.some(s),a,a.components,u),Ks=(s,a,u)=>{const f=a.partUids[u];return s.getSystem().getByUid(f).toOptional()},gh=(s,a,u)=>Ks(s,a,u).getOrDie("Could not find part: "+u),FD=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=te(b.getByUid(p[w]))}),f},AE=(s,a)=>{const u=s.getSystem();return On(a.partUids,(f,p)=>te(u.getByUid(f)))},VD=s=>wn(s.partUids),TE=(s,a,u)=>{const f={},p=a.partUids,b=s.getSystem();return Mt(u,w=>{f[w]=te(b.getByUid(p[w]).getOrDie())}),f},zD=(s,a)=>{const u=LD(a);return Id(Ye(u,f=>({key:f,value:s+"-"+f})))},OE=s=>li("partUids","partUids",qo(a=>zD(a.uid,s)),Bl());var wL=Object.freeze({__proto__:null,generate:rl,generateOne:SE,schemas:BD,names:LD,substitutes:kE,components:EE,defaultUids:zD,defaultUidsSchema:OE,getAllParts:AE,getAllPartNames:VD,getPart:Ks,getPartOrDie:gh,getParts:FD,getPartsOrDie:TE});const HD=(s,a,u,f,p)=>{const b=((w,k)=>(w.length>0?[kc("parts",w)]:[]).concat([Ot("uid"),it("dom",{}),it("components",[]),Gv("originalSpec"),it("debug.sketcher",{})]).concat(k))(f,p);return Ea(s+" [SpecSchema]",wi(b.concat(a)),u)},Gx=(s,a,u,f,p)=>{const b=DE(p),w=BD(u),k=OE(u),E=HD(s,a,b,w,[k]),R=kE(0,E,u);return f(E,EE(s,E,R.internals()),b,R.externals())},DE=s=>(a=>Eo(a,"uid"))(s)?s:{...s,uid:Pc("uid")},CL=wi([Ot("name"),Ot("factory"),Ot("configFields"),it("apis",{}),it("extraApis",{})]),$D=wi([Ot("name"),Ot("factory"),Ot("configFields"),Ot("partFields"),it("apis",{}),it("extraApis",{})]),pu=s=>{const a=Ea("Sketcher for "+s.name,CL,s),u=On(a.apis,o0),f=On(a.extraApis,(p,b)=>sc(p,b));return{name:a.name,configFields:a.configFields,sketch:p=>((b,w,k,E)=>{const R=DE(E);return k(HD(b,w,R,[],[]),R)})(a.name,a.configFields,a.factory,p),...u,...f}},Ll=s=>{const a=Ea("Sketcher for "+s.name,$D,s),u=rl(a.name,a.partFields),f=On(a.apis,o0),p=On(a.extraApis,(b,w)=>sc(b,w));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:b=>Gx(a.name,a.configFields,a.partFields,a.factory,b),parts:u,...f,...p}},O0=s=>Kc("input")(s)&&Po(s,"type")!=="radio"||Kc("textarea")(s);var UD=Object.freeze({__proto__:null,getCurrent:(s,a,u)=>a.find(s)});const _L=[Ot("find")],es=Ni({fields:_L,name:"composing",apis:UD}),WD=["input","button","textarea","select"],ZD=(s,a,u)=>{(a.disabled()?qx:IE)(s,a)},RE=(s,a)=>a.useNative===!0&&et(WD,Ga(s.element)),jD=s=>{sn(s.element,"disabled","disabled")},SL=s=>{_o(s.element,"disabled")},D0=s=>{sn(s.element,"aria-disabled","true")},kL=s=>{sn(s.element,"aria-disabled","false")},qx=(s,a,u)=>{a.disableClass.each(f=>{kr(s.element,f)}),(RE(s,a)?jD:D0)(s),a.onDisabled(s)},IE=(s,a,u)=>{a.disableClass.each(f=>{Nr(s.element,f)}),(RE(s,a)?SL:kL)(s),a.onEnabled(s)},R0=(s,a)=>RE(s,a)?(u=>Or(u.element,"disabled"))(s):(u=>Po(u.element,"aria-disabled")==="true")(s);var EL=Object.freeze({__proto__:null,enable:IE,disable:qx,isDisabled:R0,onLoad:ZD,set:(s,a,u,f)=>{(f?qx:IE)(s,a)}}),AL=Object.freeze({__proto__:null,exhibit:(s,a)=>Kr({classes:a.disabled()?a.disableClass.toArray():[]}),events:(s,a)=>fo([lp(pl(),(u,f)=>R0(u,s)),Lv(s,a,ZD)])}),TL=[Xs("disabled",Se),it("useNative",!0),jo("disableClass"),Yo("onDisabled"),Yo("onEnabled")];const so=Ni({fields:TL,name:"disabling",active:AL,apis:EL}),KD=(s,a,u,f)=>{const p=Si(s.element,"."+a.highlightClass);Mt(p,b=>{pt(f,w=>rs(w.element,b))||(Nr(b,a.highlightClass),s.getSystem().getByDom(b).each(w=>{a.onDehighlight(s,w),ko(w,Ef())}))})},Cb=(s,a,u,f)=>{KD(s,a,0,[f]),NE(s,a,u,f)||(kr(f.element,a.highlightClass),a.onHighlight(s,f),ko(f,ox()))},NE=(s,a,u,f)=>tl(f.element,a.highlightClass),GD=(s,a,u)=>ur(s.element,"."+a.itemClass).bind(f=>s.getSystem().getByDom(f).toOptional()),qD=(s,a,u)=>{const f=Si(s.element,"."+a.itemClass);return(f.length>0?D.some(f[f.length-1]):D.none()).bind(p=>s.getSystem().getByDom(p).toOptional())},YD=(s,a,u,f)=>{const p=Si(s.element,"."+a.itemClass);return xs(p,b=>tl(b,a.highlightClass)).bind(b=>{const w=Vm(b,f,0,p.length-1);return s.getSystem().getByDom(p[w]).toOptional()})},XD=(s,a,u)=>{const f=Si(s.element,"."+a.itemClass);return ea(Ye(f,p=>s.getSystem().getByDom(p).toOptional()))};var OL=Object.freeze({__proto__:null,dehighlightAll:(s,a,u)=>KD(s,a,0,[]),dehighlight:(s,a,u,f)=>{NE(s,a,u,f)&&(Nr(f.element,a.highlightClass),a.onDehighlight(s,f),ko(f,Ef()))},highlight:Cb,highlightFirst:(s,a,u)=>{GD(s,a).each(f=>{Cb(s,a,u,f)})},highlightLast:(s,a,u)=>{qD(s,a).each(f=>{Cb(s,a,u,f)})},highlightAt:(s,a,u,f)=>{((p,b,w,k)=>{const E=Si(p.element,"."+b.itemClass);return D.from(E[k]).fold(()=>Bo.error(new Error("No element found with index "+k)),p.getSystem().getByDom)})(s,a,0,f).fold(p=>{throw p},p=>{Cb(s,a,u,p)})},highlightBy:(s,a,u,f)=>{const p=XD(s,a);Q(p,f).each(b=>{Cb(s,a,u,b)})},isHighlighted:NE,getHighlighted:(s,a,u)=>ur(s.element,"."+a.highlightClass).bind(f=>s.getSystem().getByDom(f).toOptional()),getFirst:GD,getLast:qD,getPrevious:(s,a,u)=>YD(s,a,0,-1),getNext:(s,a,u)=>YD(s,a,0,1),getCandidates:XD}),JD=[Ot("highlightClass"),Ot("itemClass"),Yo("onHighlight"),Yo("onDehighlight")];const _s=Ni({fields:JD,name:"highlighting",apis:OL}),QD=[8],Zd=[9],Qm=[13],UC=[27],Vc=[32],WC=[37],I0=[38],Yx=[39],N0=[40],DL=(s,a,u)=>{const f=je(s.slice(0,a)),p=je(s.slice(a+1));return Q(f.concat(p),u)},RL=(s,a,u)=>{const f=je(s.slice(0,a));return Q(f,u)},IL=(s,a,u)=>{const f=s.slice(0,a),p=s.slice(a+1);return Q(p.concat(f),u)},NL=(s,a,u)=>{const f=s.slice(a+1);return Q(f,u)},is=s=>a=>{const u=a.raw;return et(s,u.which)},jf=s=>a=>To(s,u=>u(a)),eg=s=>s.raw.shiftKey===!0,PL=s=>s.raw.ctrlKey===!0,Xx=We(eg),ms=(s,a)=>({matches:s,classification:a}),e5=(s,a,u)=>{a.exists(f=>u.exists(p=>rs(p,f)))||Rn(s,U1(),{prevFocus:a,newFocus:u})},PE=()=>{const s=a=>Yr(a.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().triggerFocus(u,a.element);const p=s(a);e5(a,f,p)}}},ML=()=>{const s=a=>_s.getHighlighted(a).map(u=>u.element);return{get:s,set:(a,u)=>{const f=s(a);a.getSystem().getByDom(u).fold(fe,b=>{_s.highlight(a,b)});const p=s(a);e5(a,f,p)}}};var _b;(function(s){s.OnFocusMode="onFocus",s.OnEnterOrSpaceMode="onEnterOrSpace",s.OnApiMode="onApi"})(_b||(_b={}));const Sb=(s,a,u,f,p)=>{const b=(k,E,R,L,N)=>{return(z=R(k,E,L,N),q=E.event,Q(z,J=>J.matches(q)).map(J=>J.classification)).bind(J=>J(k,E,L,N));var z,q},w={schema:()=>s.concat([it("focusManager",PE()),Fa("focusInside","onFocus",xf(k=>et(["onFocus","onEnterOrSpace","onApi"],k)?Bo.value(k):Bo.error("Invalid value for focusInside"))),Zs("handler",w),Zs("state",a),Zs("sendFocusIn",p)]),processKey:b,toEvents:(k,E)=>{const R=k.focusInside!==_b.OnFocusMode?D.none():p(k).map(N=>St(Ku(),(z,q)=>{N(z,k,E),q.stop()})),L=[St(Sr(),(N,z)=>{b(N,z,u,k,E).fold(()=>{((q,J)=>{const ce=is(Vc.concat(Qm))(J.event);k.focusInside===_b.OnEnterOrSpaceMode&&ce&&Rv(q,J)&&p(k).each(me=>{me(q,k,E),J.stop()})})(N,z)},q=>{z.stop()})}),St(Ac(),(N,z)=>{b(N,z,f,k,E).each(q=>{z.stop()})})];return fo(R.toArray().concat(L))}};return w},t5=s=>{const a=[jo("onEscape"),jo("onEnter"),it("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),it("firstTabstop",0),it("useTabstopAt",Me),jo("visibilitySelector")].concat([s]),u=(L,N)=>{const z=L.visibilitySelector.bind(q=>Yu(N,q)).getOr(N);return Dr(z)>0},f=(L,N)=>N.focusManager.get(L).bind(z=>Yu(z,N.selector)),p=(L,N,z)=>{((q,J)=>{const ce=Si(q.element,J.selector),me=Fn(ce,xe=>u(J,xe));return D.from(me[J.firstTabstop])})(L,N).each(q=>{N.focusManager.set(L,q)})},b=(L,N,z,q)=>{const J=Si(L.element,z.selector);return f(L,z).bind(ce=>xs(J,Ue(rs,ce)).bind(me=>((xe,de,ue,ve,we)=>we(de,ue,ke=>((ze,ot)=>u(ze,ot)&&ze.useTabstopAt(ot))(ve,ke)).fold(()=>ve.cyclic?D.some(!0):D.none(),ke=>(ve.focusManager.set(xe,ke),D.some(!0))))(L,J,me,z,q)))},w=(L,N,z)=>{const q=z.cyclic?DL:RL;return b(L,0,z,q)},k=(L,N,z)=>{const q=z.cyclic?IL:NL;return b(L,0,z,q)},E=te([ms(jf([eg,is(Zd)]),w),ms(is(Zd),k),ms(jf([Xx,is(Qm)]),(L,N,z)=>z.onEnter.bind(q=>q(L,N)))]),R=te([ms(is(UC),(L,N,z)=>z.onEscape.bind(q=>q(L,N))),ms(is(Zd),(L,N,z)=>f(L,z).filter(q=>!z.useTabstopAt(q)).bind(q=>((J=>(ce=>_a(ce))(J).bind(Ee).exists(ce=>rs(ce,J)))(q)?w:k)(L,N,z)))]);return Sb(a,Rc.init,E,R,()=>D.some(p))};var BL=t5(Ui("cyclic",Se)),LL=t5(Ui("cyclic",Me));const Jx=(s,a,u)=>O0(u)&&is(Vc)(a.event)?D.none():((f,p,b)=>(gr(f,b,pl()),D.some(!0)))(s,0,u),kb=(s,a)=>D.some(!0),FL=[it("execute",Jx),it("useSpace",!1),it("useEnter",!0),it("useControlEnter",!1),it("useDown",!1)],n5=(s,a,u)=>u.execute(s,a,s.element);var VL=Sb(FL,Rc.init,(s,a,u,f)=>{const p=u.useSpace&&!O0(s.element)?Vc:[],b=u.useEnter?Qm:[],w=u.useDown?N0:[],k=p.concat(b).concat(w);return[ms(is(k),n5)].concat(u.useControlEnter?[ms(jf([PL,is(Qm)]),n5)]:[])},(s,a,u,f)=>u.useSpace&&!O0(s.element)?[ms(is(Vc),kb)]:[],()=>D.none());const o5=()=>{const s=ks();return Ii({readState:()=>s.get().map(a=>({numRows:String(a.numRows),numColumns:String(a.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(a,u)=>{s.set({numRows:a,numColumns:u})},getNumRows:()=>s.get().map(a=>a.numRows),getNumColumns:()=>s.get().map(a=>a.numColumns)})};var s5=Object.freeze({__proto__:null,flatgrid:o5,init:s=>s.state(s)});const r5=s=>(a,u,f,p)=>{const b=s(a.element);return i5(b,a,u,f,p)},ME=(s,a)=>{const u=Mx(s,a);return r5(u)},BE=(s,a)=>{const u=Mx(a,s);return r5(u)},LE=s=>(a,u,f,p)=>i5(s,a,u,f,p),i5=(s,a,u,f,p)=>f.focusManager.get(a).bind(b=>s(a.element,b,f,p)).map(b=>(f.focusManager.set(a,b),!0)),FE=LE,a5=LE,ZC=LE,l5=s=>!(a=>a.offsetWidth<=0&&a.offsetHeight<=0)(s.dom),VE=(s,a,u)=>{const f=Si(s,u);return((p,b)=>xs(p,w=>rs(w,a)).map(w=>({index:w,candidates:p})))(Fn(f,l5))},jC=(s,a)=>xs(s,u=>rs(a,u)),c5=(s,a,u,f)=>f(Math.floor(a/u),a%u).bind(p=>{const b=p.row*u+p.column;return b>=0&&b<s.length?D.some(s[b]):D.none()}),u5=(s,a,u,f,p)=>c5(s,a,f,(b,w)=>{const k=b===u-1?s.length-b*f:f,E=Vm(w,p,0,k-1);return D.some({row:b,column:E})}),d5=(s,a,u,f,p)=>c5(s,a,f,(b,w)=>{const k=Vm(b,p,0,u-1),E=k===u-1?s.length-k*f:f,R=Nc(w,0,E-1);return D.some({row:k,column:R})}),zL=[Ot("selector"),it("execute",Jx),vl("onEscape"),it("captureTab",!1),SC()],f5=(s,a,u)=>{ur(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},Qx=s=>(a,u,f,p)=>VE(a,u,f.selector).bind(b=>s(b.candidates,b.index,p.getNumRows().getOr(f.initSize.numRows),p.getNumColumns().getOr(f.initSize.numColumns))),zE=(s,a,u)=>u.captureTab?D.some(!0):D.none(),HE=Qx((s,a,u,f)=>u5(s,a,u,f,-1)),$E=Qx((s,a,u,f)=>u5(s,a,u,f,1)),HL=Qx((s,a,u,f)=>d5(s,a,u,f,-1)),$L=Qx((s,a,u,f)=>d5(s,a,u,f,1)),UL=te([ms(is(WC),ME(HE,$E)),ms(is(Yx),BE(HE,$E)),ms(is(I0),FE(HL)),ms(is(N0),a5($L)),ms(jf([eg,is(Zd)]),zE),ms(jf([Xx,is(Zd)]),zE),ms(is(Vc.concat(Qm)),(s,a,u,f)=>((p,b)=>b.focusManager.get(p).bind(w=>Yu(w,b.selector)))(s,u).bind(p=>u.execute(s,a,p)))]),WL=te([ms(is(UC),(s,a,u)=>u.onEscape(s,a)),ms(is(Vc),kb)]);var ZL=Sb(zL,o5,UL,WL,()=>D.some(f5));const Ep=(s,a,u,f,p)=>{const b=(w,k,E)=>p(w,k,f,0,E.length-1,E[k],R=>{return L=E[R],Ga(L)==="button"&&Po(L,"disabled")==="disabled"?b(w,R,E):D.from(E[R]);var L});return VE(s,u,a).bind(w=>{const k=w.index,E=w.candidates;return b(k,k,E)})},m5=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,R,L)=>{const N=Nc(b+w,k,E);return N===p?D.from(R):L(N)}),KC=(s,a,u,f)=>Ep(s,a,u,f,(p,b,w,k,E,R,L)=>{const N=Vm(b,w,k,E);return N===p?D.none():L(N)}),jL=[Ot("selector"),it("getInitial",D.none),it("execute",Jx),vl("onEscape"),it("executeOnMove",!1),it("allowVertical",!0),it("allowHorizontal",!0),it("cycles",!0)],UE=(s,a,u)=>((f,p)=>p.focusManager.get(f).bind(b=>Yu(b,p.selector)))(s,u).bind(f=>u.execute(s,a,f)),g5=(s,a,u)=>{a.getInitial(s).orThunk(()=>ur(s.element,a.selector)).each(f=>{a.focusManager.set(s,f)})},h5=(s,a,u)=>(u.cycles?KC:m5)(s,u.selector,a,-1),p5=(s,a,u)=>(u.cycles?KC:m5)(s,u.selector,a,1),WE=s=>(a,u,f,p)=>s(a,u,f,p).bind(()=>f.executeOnMove?UE(a,u,f):D.some(!0)),e2=te([ms(is(Vc),kb),ms(is(UC),(s,a,u)=>u.onEscape(s,a))]);var t2=Sb(jL,Rc.init,(s,a,u,f)=>{const p=[...u.allowHorizontal?WC:[]].concat(u.allowVertical?I0:[]),b=[...u.allowHorizontal?Yx:[]].concat(u.allowVertical?N0:[]);return[ms(is(p),WE(ME(h5,p5))),ms(is(b),WE(BE(h5,p5))),ms(is(Qm),UE),ms(is(Vc),UE)]},e2,()=>D.some(g5));const GC=(s,a,u)=>D.from(s[a]).bind(f=>D.from(f[u]).map(p=>({rowIndex:a,columnIndex:u,cell:p}))),qC=(s,a,u,f)=>{const p=s[a].length,b=Vm(u,f,0,p-1);return GC(s,a,b)},v5=(s,a,u,f)=>{const p=Vm(u,f,0,s.length-1),b=s[p].length,w=Nc(a,0,b-1);return GC(s,p,w)},ZE=(s,a,u,f)=>{const p=s[a].length,b=Nc(u+f,0,p-1);return GC(s,a,b)},jE=(s,a,u,f)=>{const p=Nc(u+f,0,s.length-1),b=s[p].length,w=Nc(a,0,b-1);return GC(s,p,w)},b5=[kc("selectors",[Ot("row"),Ot("cell")]),it("cycles",!0),it("previousSelector",D.none),it("execute",Jx)],KL=(s,a,u)=>{a.previousSelector(s).orThunk(()=>{const f=a.selectors;return ur(s.element,f.cell)}).each(f=>{a.focusManager.set(s,f)})},YC=(s,a)=>(u,f,p)=>{const b=p.cycles?s:a;return Yu(f,p.selectors.row).bind(w=>{const k=Si(w,p.selectors.cell);return jC(k,f).bind(E=>{const R=Si(u,p.selectors.row);return jC(R,w).bind(L=>{const N=((z,q)=>Ye(z,J=>Si(J,q.selectors.cell)))(R,p);return b(N,L,E).map(z=>z.cell)})})})},y5=YC((s,a,u)=>qC(s,a,u,-1),(s,a,u)=>ZE(s,a,u,-1)),Eb=YC((s,a,u)=>qC(s,a,u,1),(s,a,u)=>ZE(s,a,u,1)),Ab=YC((s,a,u)=>v5(s,u,a,-1),(s,a,u)=>jE(s,u,a,-1)),XC=YC((s,a,u)=>v5(s,u,a,1),(s,a,u)=>jE(s,u,a,1)),n2=te([ms(is(WC),ME(y5,Eb)),ms(is(Yx),BE(y5,Eb)),ms(is(I0),FE(Ab)),ms(is(N0),a5(XC)),ms(is(Vc.concat(Qm)),(s,a,u)=>Yr(s.element).bind(f=>u.execute(s,a,f)))]),GL=te([ms(is(Vc),kb)]);var Ap=Sb(b5,Rc.init,n2,GL,()=>D.some(KL));const tg=[Ot("selector"),it("execute",Jx),it("moveOnTab",!1)],JC=(s,a,u)=>u.focusManager.get(s).bind(f=>u.execute(s,a,f)),x5=(s,a,u)=>{ur(s.element,a.selector).each(f=>{a.focusManager.set(s,f)})},w5=(s,a,u)=>KC(s,u.selector,a,-1),KE=(s,a,u)=>KC(s,u.selector,a,1),o2=te([ms(is(I0),ZC(w5)),ms(is(N0),ZC(KE)),ms(jf([eg,is(Zd)]),(s,a,u,f)=>u.moveOnTab?ZC(w5)(s,a,u,f):D.none()),ms(jf([Xx,is(Zd)]),(s,a,u,f)=>u.moveOnTab?ZC(KE)(s,a,u,f):D.none()),ms(is(Qm),JC),ms(is(Vc),JC)]),s2=te([ms(is(Vc),kb)]);var GE=Sb(tg,Rc.init,o2,s2,()=>D.some(x5));const C5=[vl("onSpace"),vl("onEnter"),vl("onShiftEnter"),vl("onLeft"),vl("onRight"),vl("onTab"),vl("onShiftTab"),vl("onUp"),vl("onDown"),vl("onEscape"),it("stopSpaceKeyup",!1),jo("focusIn")];var r2=Sb(C5,Rc.init,(s,a,u)=>[ms(is(Vc),u.onSpace),ms(jf([Xx,is(Qm)]),u.onEnter),ms(jf([eg,is(Qm)]),u.onShiftEnter),ms(jf([eg,is(Zd)]),u.onShiftTab),ms(jf([Xx,is(Zd)]),u.onTab),ms(is(I0),u.onUp),ms(is(N0),u.onDown),ms(is(WC),u.onLeft),ms(is(Yx),u.onRight),ms(is(Vc),u.onSpace)],(s,a,u)=>[...u.stopSpaceKeyup?[ms(is(Vc),kb)]:[],ms(is(UC),u.onEscape)],s=>s.focusIn);const QC=BL.schema(),qL=LL.schema(),qE=t2.schema(),e_=ZL.schema(),$a=Ap.schema(),YL=VL.schema(),ng=GE.schema(),_5=r2.schema(),Nn=wC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:QC,cyclic:qL,flow:qE,flatgrid:e_,matrix:$a,execution:YL,menu:ng,special:_5}),name:"keying",active:{events:(s,a)=>s.handler.toEvents(s,a)},apis:{focusIn:(s,a,u)=>{a.sendFocusIn(a).fold(()=>{s.getSystem().triggerFocus(s.element,s.element)},f=>{f(s,a,u)})},setGridSize:(s,a,u,f,p)=>{(b=>vo(b,"setGridSize"))(u)?u.setGridSize(f,p):console.error("Layout does not support setGridSize")}},state:s5}),Tb=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components();(E=>{Mt(E.components(),R=>Hi(R.element)),lr(E.element),E.syncComponents()})(u);const w=p(f),k=re(b,w);Mt(k,E=>{Ym(E),u.getSystem().removeFromWorld(E)}),Mt(w,E=>{_0(E)?mh(u,E):(u.getSystem().addToWorld(E),mh(u,E),un(u.element)&&Xm(E))}),u.syncComponents()})(s,a,()=>Ye(a,s.getSystem().build))},s.element)},YE=(s,a)=>{Zm(()=>{((u,f,p)=>{const b=u.components(),w=tn(f,R=>yx(R).toArray());Mt(b,R=>{et(w,R)||S0(R)});const k=((R,L,N)=>EC(R,L,(z,q)=>_x(R,q,z,N)))(s.element,a,s.getSystem().buildOrPatch),E=re(b,k);Mt(E,R=>{_0(R)&&S0(R)}),Mt(k,R=>{_0(R)||xb(u,R)}),u.syncComponents()})(s,a)},s.element)},t_=(s,a,u,f)=>{S0(a);const p=_x(s.element,u,f,s.getSystem().buildOrPatch);xb(s,p),s.syncComponents()},XE=(s,a,u)=>{const f=s.getSystem().build(u);$x(s,f,a)},S5=(s,a,u,f)=>{sl(a),XE(s,(p,b)=>((w,k,E)=>{ar(w,E).fold(()=>{Na(w,k)},R=>{Ed(R,k)})})(p,b,u),f)},i2=(s,a)=>s.components(),k5=(s,a,u,f,p)=>{const b=i2(s);return D.from(b[f]).map(w=>(p.fold(()=>sl(w),k=>{(a.reuseDom?t_:S5)(s,w,f,k)}),w))};var JE=Object.freeze({__proto__:null,append:(s,a,u,f)=>{XE(s,Na,f)},prepend:(s,a,u,f)=>{XE(s,zg,f)},remove:(s,a,u,f)=>{const p=i2(s);Q(p,w=>rs(f.element,w.element)).each(sl)},replaceAt:k5,replaceBy:(s,a,u,f,p)=>{const b=i2(s);return xs(b,f).bind(w=>k5(s,a,0,w,p))},set:(s,a,u,f)=>(a.reuseDom?YE:Tb)(s,f),contents:i2});const jn=Ni({fields:[ti("reuseDom",!0)],name:"replacing",apis:JE}),Co=(s,a)=>{const u=((f,p)=>{const b=fo(p);return Ni({fields:[Ot("enabled")],name:f,active:{events:te(b)}})})(s,a);return{key:s,value:{config:{},me:u,configAsRaw:te({}),initialConfig:{},state:Rc}}},E5=(s,a)=>{a.ignore||(za(s.element),a.onFocus(s))};var A5=Object.freeze({__proto__:null,focus:E5,blur:(s,a)=>{a.ignore||tb(s.element)},isFocused:s=>ah(s.element)}),T5=Object.freeze({__proto__:null,exhibit:(s,a)=>{const u=a.ignore?{}:{attributes:{tabindex:"-1"}};return Kr(u)},events:s=>fo([St(Ku(),(a,u)=>{E5(a,s),u.stop()})].concat(s.stopMousedown?[St(Dt(),(a,u)=>{u.event.prevent()})]:[]))}),O5=[Yo("onFocus"),it("stopMousedown",!1),it("ignore",!1)];const to=Ni({fields:O5,name:"focusing",active:T5,apis:A5}),a2=(s,a,u,f)=>{const p=u.get();u.set(f),((b,w,k)=>{w.toggleClass.each(E=>{k.get()?kr(b.element,E):Nr(b.element,E)})})(s,a,u),((b,w,k)=>{const E=w.aria;E.update(b,E,k.get())})(s,a,u),p!==f&&a.onToggled(s,f)},vu=(s,a,u)=>{a2(s,a,u,!u.get())},Ob=(s,a,u)=>{a2(s,a,u,a.selected)};var D5=Object.freeze({__proto__:null,onLoad:Ob,toggle:vu,isOn:(s,a,u)=>u.get(),on:(s,a,u)=>{a2(s,a,u,!0)},off:(s,a,u)=>{a2(s,a,u,!1)},set:a2}),P0=Object.freeze({__proto__:null,exhibit:()=>Kr({}),events:(s,a)=>{const u=(f=s,p=a,b=vu,lu(k=>{b(k,f,p)}));var f,p,b;const w=Lv(s,a,Ob);return fo(Qn([s.toggleOnExecute?[u]:[],[w]]))}});const Gl=(s,a,u)=>{sn(s.element,"aria-expanded",u)};var zc=[it("selected",!1),jo("toggleClass"),it("toggleOnExecute",!0),Yo("onToggled"),Fa("aria",{mode:"none"},hi("mode",{pressed:[it("syncWithExpanded",!1),Zs("update",(s,a,u)=>{sn(s.element,"aria-pressed",u),a.syncWithExpanded&&Gl(s,0,u)})],checked:[Zs("update",(s,a,u)=>{sn(s.element,"aria-checked",u)})],expanded:[Zs("update",Gl)],selected:[Zs("update",(s,a,u)=>{sn(s.element,"aria-selected",u)})],none:[Zs("update",fe)]}))];const Jn=Ni({fields:zc,name:"toggling",active:P0,apis:D5,state:{init:()=>{const s=Bn(!1);return{get:()=>s.get(),set:a=>s.set(a),clear:()=>s.set(!1),readState:()=>s.get()}}}}),Qu=()=>{const s=(a,u)=>{u.stop(),Af(a)};return[St(pi(),s),St(Cf(),s),Pm(W()),Pm(Dt())]},M0=s=>fo(Qn([s.map(a=>lu((u,f)=>{a(u),f.stop()})).toArray(),Qu()])),bu="alloy.item-hover",Tp="alloy.item-focus",R5="alloy.item-toggled",I5=s=>{(Yr(s.element).isNone()||to.isFocused(s))&&(to.isFocused(s)||to.focus(s),Rn(s,bu,{item:s}))},N5=s=>{Rn(s,Tp,{item:s})},QE=te(bu),P5=te(Tp),n_=te(R5),M5=s=>s.role.fold(()=>s.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ce),XL=[Ot("data"),Ot("components"),Ot("dom"),it("hasSubmenu",!1),jo("toggling"),jo("role"),oo("itemBehaviours",[Jn,to,Nn,lt]),it("ignoreFocus",!1),it("domModification",{}),Zs("builder",s=>({dom:s.dom,domModification:{...s.domModification,attributes:{role:M5(s),...s.domModification.attributes,"aria-haspopup":s.hasSubmenu,...s.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Xn(s.itemBehaviours,[s.toggling.fold(Jn.revoke,a=>Jn.config(((u,f)=>({aria:{mode:f?"selected":"checked"},...cs(u,(p,b)=>b!=="exclusive"),onToggled:(p,b)=>{K(u.onToggled)&&u.onToggled(p,b),((w,k)=>{Rn(w,R5,{item:w,state:k})})(p,b)}}))(a,s.role.exists(u=>u==="option")))),to.config({ignore:s.ignoreFocus,stopMousedown:s.ignoreFocus,onFocus:a=>{N5(a)}}),Nn.config({mode:"execution"}),lt.config({store:{mode:"memory",initialValue:s.data}}),Co("item-type-events",[...Qu(),St(Tn(),I5),St(Pv(),to.focus)])]),components:s.components,eventOrder:s.eventOrder})),it("eventOrder",{})],JL=[Ot("dom"),Ot("components"),Zs("builder",s=>({dom:s.dom,components:s.components,events:fo([yC(Pv())])}))],eA=te("item-widget"),tA=te([wl({name:"widget",overrides:s=>({behaviours:Zt([lt.config({store:{mode:"manual",getValue:a=>s.data,setValue:fe}})])})})]),B5=[Ot("uid"),Ot("data"),Ot("components"),Ot("dom"),it("autofocus",!1),it("ignoreFocus",!1),oo("widgetBehaviours",[lt,to,Nn]),it("domModification",{}),OE(tA()),Zs("builder",s=>{const a=kE(eA(),s,tA()),u=EE(eA(),s,a.internals()),f=b=>Ks(b,s,"widget").map(w=>(Nn.focusIn(w),w)),p=(b,w)=>(O0(w.event.target)||s.autofocus&&w.setSource(b.element),D.none());return{dom:s.dom,components:u,domModification:s.domModification,events:fo([lu((b,w)=>{f(b).each(k=>{w.stop()})}),St(Tn(),I5),St(Pv(),(b,w)=>{s.autofocus?f(b):to.focus(b)})]),behaviours:Xn(s.widgetBehaviours,[lt.config({store:{mode:"memory",initialValue:s.data}}),to.config({ignore:s.ignoreFocus,onFocus:b=>{N5(b)}}),Nn.config({mode:"special",focusIn:s.autofocus?b=>{f(b)}:aE(),onLeft:p,onRight:p,onEscape:(b,w)=>to.isFocused(b)||s.autofocus?(s.autofocus&&w.setSource(b.element),D.none()):(to.focus(b),D.some(!0))})])}})],L5=hi("type",{widget:B5,item:XL,separator:JL}),nA=te([$C({factory:{sketch:s=>{const a=Ea("menu.spec item",L5,s);return a.builder(a)}},name:"items",unit:"item",defaults:(s,a)=>Eo(a,"uid")?a:{...a,uid:Pc("item")},overrides:(s,a)=>({type:a.type,ignoreFocus:s.fakeFocus,domModification:{classes:[s.markers.item]}})})]),F5=te([Fr("role"),Ot("value"),Ot("items"),Ot("dom"),Ot("components"),it("eventOrder",{}),yn("menuBehaviours",[_s,lt,es,Nn]),Fa("movement",{mode:"menu",moveOnTab:!0},hi("mode",{grid:[SC(),Zs("config",(s,a)=>({mode:"flatgrid",selector:"."+s.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:s.focusManager}))],matrix:[Zs("config",(s,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+s.markers.item},previousSelector:a.previousSelector,focusManager:s.focusManager})),Ot("rowSelector"),it("previousSelector",D.none)],menu:[it("moveOnTab",!0),Zs("config",(s,a)=>({mode:"menu",selector:"."+s.markers.item,moveOnTab:a.moveOnTab,focusManager:s.focusManager}))]})),Wi("markers",Yg()),it("fakeFocus",!1),it("focusManager",PE()),Yo("onHighlight"),Yo("onDehighlight"),it("showMenuRole",!0)]),V5=te("alloy.menu-focus"),Db=Ll({name:"Menu",configFields:F5(),partFields:nA(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.menuBehaviours,[_s.config({highlightClass:s.markers.selectedItem,itemClass:s.markers.item,onHighlight:s.onHighlight,onDehighlight:s.onDehighlight}),lt.config({store:{mode:"memory",initialValue:s.value}}),es.config({find:D.some}),Nn.config(s.movement.config(s,s.movement))]),events:fo([St(P5(),(p,b)=>{const w=b.event;p.getSystem().getByDom(w.target).each(k=>{_s.highlight(p,k),b.stop(),Rn(p,V5(),{menu:p,item:k})})}),St(QE(),(p,b)=>{const w=b.event.item;_s.highlight(p,w)}),St(n_(),(p,b)=>{const{item:w,state:k}=b.event;k&&Po(w.element,"role")==="menuitemradio"&&((E,R)=>{const L=Si(E.element,'[role="menuitemradio"][aria-checked="true"]');Mt(L,N=>{rs(N,R.element)||E.getSystem().getByDom(N).each(z=>{Jn.off(z)})})})(p,w)})]),components:a,eventOrder:s.eventOrder,...s.showMenuRole?{domModification:{attributes:{role:s.role.getOr("menu")}}}:{}})}),z5=(s,a,u,f)=>hn(u,f).bind(p=>hn(s,p).bind(b=>{const w=z5(s,a,u,b);return D.some([b].concat(w))})).getOr([]),H5=s=>s.type==="prepared"?D.some(s.menu):D.none(),QL=()=>{const s=Bn({}),a=Bn({}),u=Bn({}),f=ks(),p=Bn({}),b=E=>w(E).bind(H5),w=E=>hn(a.get(),E),k=E=>hn(s.get(),E);return{setMenuBuilt:(E,R)=>{a.set({...a.get(),[E]:{type:"prepared",menu:R}})},setContents:(E,R,L,N)=>{f.set(E),s.set(L),a.set(R),p.set(N);const z=((q,J)=>{const ce={};An(q,(ue,ve)=>{Mt(ue,we=>{ce[we]=ve})});const me=J,xe=wo(J,(ue,ve)=>({k:ue,v:ve})),de=On(xe,(ue,ve)=>[ve].concat(z5(ce,me,xe,ve)));return On(ce,ue=>hn(de,ue).getOr([ue]))})(N,L);u.set(z)},expand:E=>hn(s.get(),E).map(R=>{const L=hn(u.get(),E).getOr([]);return[R].concat(L)}),refresh:E=>hn(u.get(),E),collapse:E=>hn(u.get(),E).bind(R=>R.length>1?D.some(R.slice(1)):D.none()),lookupMenu:w,lookupItem:k,otherMenus:E=>{const R=p.get();return re(wn(R),E)},getPrimary:()=>f.get().bind(b),getMenus:()=>a.get(),clear:()=>{s.set({}),a.set({}),u.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,R)=>{const L=Fn(k(E).toArray(),N=>b(N).isSome());return hn(u.get(),E).bind(N=>{const z=je(L.concat(N));return(q=>{const J=[];for(let ce=0;ce<q.length;ce++){const me=q[ce];if(!me.isSome())return D.none();J.push(me.getOrDie())}return D.some(J)})(tn(z,(q,J)=>((ce,me,xe)=>b(ce).bind(de=>(ue=>fs(s.get(),(ve,we)=>ve===ue))(ce).bind(ue=>me(ue).map(ve=>({triggeredMenu:de,triggeringItem:ve,triggeringPath:xe})))))(q,R,z.slice(0,J+1)).fold(()=>tr(f.get(),q)?[]:[D.none()],ce=>[D.some(ce)])))})}}},eF=H5,yu=bn("tiered-menu-item-highlight"),tF=bn("tiered-menu-item-dehighlight");var il;(function(s){s[s.HighlightMenuAndItem=0]="HighlightMenuAndItem",s[s.HighlightJustMenu=1]="HighlightJustMenu",s[s.HighlightNone=2]="HighlightNone"})(il||(il={}));const Rb=te("collapse-item"),hh=pu({name:"TieredMenu",configFields:[Aa("onExecute"),Aa("onEscape"),qu("onOpenMenu"),qu("onOpenSubmenu"),Yo("onRepositionMenu"),Yo("onCollapseMenu"),it("highlightOnOpen",il.HighlightMenuAndItem),kc("data",[Ot("primary"),Ot("menus"),Ot("expansions")]),it("fakeFocus",!1),Yo("onHighlightItem"),Yo("onDehighlightItem"),Yo("onHover"),Xg(),Ot("dom"),it("navigateOnHover",!0),it("stayInDom",!1),yn("tmenuBehaviours",[Nn,_s,es,jn]),it("eventOrder",{})],apis:{collapseMenu:(s,a)=>{s.collapseMenu(a)},highlightPrimary:(s,a)=>{s.highlightPrimary(a)},repositionMenus:(s,a)=>{s.repositionMenus(a)}},factory:(s,a)=>{const u=ks(),f=QL(),p=ue=>lt.getValue(ue).value,b=ue=>On(s.data.menus,(ve,we)=>tn(ve.items,ke=>ke.type==="separator"?[]:[ke.data.value])),w=_s.highlight,k=(ue,ve)=>{w(ue,ve),_s.getHighlighted(ve).orThunk(()=>_s.getFirst(ve)).each(we=>{s.fakeFocus?_s.highlight(ve,we):gr(ue,we.element,Pv())})},E=(ue,ve)=>ea(Ye(ve,we=>ue.lookupMenu(we).bind(ke=>ke.type==="prepared"?D.some(ke.menu):D.none()))),R=(ue,ve,we)=>{const ke=E(ve,ve.otherMenus(we));Mt(ke,ze=>{rc(ze.element,[s.markers.backgroundMenu]),s.stayInDom||jn.remove(ue,ze)})},L=(ue,ve)=>{const we=(ke=>u.get().getOrThunk(()=>{const ze={},ot=Si(ke.element,`.${s.markers.item}`),Et=Fn(ot,_t=>Po(_t,"aria-haspopup")==="true");return Mt(Et,_t=>{ke.getSystem().getByDom(_t).each(wt=>{const Ht=p(wt);ze[Ht]=wt})}),u.set(ze),ze}))(ue);An(we,(ke,ze)=>{const ot=et(ve,ze);sn(ke.element,"aria-expanded",ot)})},N=(ue,ve,we)=>D.from(we[0]).bind(ke=>ve.lookupMenu(ke).bind(ze=>{if(ze.type==="notbuilt")return D.none();{const ot=ze.menu,Et=E(ve,we.slice(1));return Mt(Et,_t=>{kr(_t.element,s.markers.backgroundMenu)}),un(ot.element)||jn.append(ue,nl(ot)),rc(ot.element,[s.markers.backgroundMenu]),k(ue,ot),R(ue,ve,we),D.some(ot)}}));let z;(function(ue){ue[ue.HighlightSubmenu=0]="HighlightSubmenu",ue[ue.HighlightParent=1]="HighlightParent"})(z||(z={}));const q=(ue,ve,we=z.HighlightSubmenu)=>{if(ve.hasConfigured(so)&&so.isDisabled(ve))return D.some(ve);{const ke=p(ve);return f.expand(ke).bind(ze=>(L(ue,ze),D.from(ze[0]).bind(ot=>f.lookupMenu(ot).bind(Et=>{const _t=((wt,Ht,mn)=>{if(mn.type==="notbuilt"){const kn=wt.getSystem().build(mn.nbMenu());return f.setMenuBuilt(Ht,kn),kn}return mn.menu})(ue,ot,Et);return un(_t.element)||jn.append(ue,nl(_t)),s.onOpenSubmenu(ue,ve,_t,je(ze)),we===z.HighlightSubmenu?(_s.highlightFirst(_t),N(ue,f,ze)):(_s.dehighlightAll(_t),D.some(ve))}))))}},J=(ue,ve)=>{const we=p(ve);return f.collapse(we).bind(ke=>(L(ue,ke),N(ue,f,ke).map(ze=>(s.onCollapseMenu(ue,ve,ze),ze))))},ce=ue=>(ve,we)=>Yu(we.getSource(),`.${s.markers.item}`).bind(ke=>ve.getSystem().getByDom(ke).toOptional().bind(ze=>ue(ve,ze).map(Me))),me=fo([St(V5(),(ue,ve)=>{const we=ve.event.item;f.lookupItem(p(we)).each(()=>{const ke=ve.event.menu;_s.highlight(ue,ke);const ze=p(ve.event.item);f.refresh(ze).each(ot=>R(ue,f,ot))})}),lu((ue,ve)=>{const we=ve.event.target;ue.getSystem().getByDom(we).each(ke=>{p(ke).indexOf("collapse-item")===0&&J(ue,ke),q(ue,ke,z.HighlightSubmenu).fold(()=>{s.onExecute(ue,ke)},fe)})}),nr((ue,ve)=>{(we=>{const ke=((ot,Et,_t)=>On(_t,(wt,Ht)=>{const mn=()=>Db.sketch({...wt,value:Ht,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(kn,zn)=>{Rn(kn,yu,{menuComp:kn,itemComp:zn})},onDehighlight:(kn,zn)=>{Rn(kn,tF,{menuComp:kn,itemComp:zn})},focusManager:s.fakeFocus?ML():PE()});return Ht===Et?{type:"prepared",menu:ot.getSystem().build(mn())}:{type:"notbuilt",nbMenu:mn}}))(we,s.data.primary,s.data.menus),ze=b();return f.setContents(s.data.primary,ke,s.data.expansions,ze),f.getPrimary()})(ue).each(we=>{jn.append(ue,nl(we)),s.onOpenMenu(ue,we),s.highlightOnOpen===il.HighlightMenuAndItem?k(ue,we):s.highlightOnOpen===il.HighlightJustMenu&&w(ue,we)})}),St(yu,(ue,ve)=>{s.onHighlightItem(ue,ve.event.menuComp,ve.event.itemComp)}),St(tF,(ue,ve)=>{s.onDehighlightItem(ue,ve.event.menuComp,ve.event.itemComp)}),...s.navigateOnHover?[St(QE(),(ue,ve)=>{const we=ve.event.item;((ke,ze)=>{const ot=p(ze);f.refresh(ot).bind(Et=>(L(ke,Et),N(ke,f,Et)))})(ue,we),q(ue,we,z.HighlightParent),s.onHover(ue,we)})]:[]]),xe=ue=>_s.getHighlighted(ue).bind(_s.getHighlighted),de={collapseMenu:ue=>{xe(ue).each(ve=>{J(ue,ve)})},highlightPrimary:ue=>{f.getPrimary().each(ve=>{k(ue,ve)})},repositionMenus:ue=>{f.getPrimary().bind(we=>xe(ue).bind(ke=>{const ze=p(ke),ot=Tr(f.getMenus()),Et=ea(Ye(ot,eF));return f.getTriggeringPath(ze,_t=>((wt,Ht,mn)=>Vt(Ht,kn=>{if(!kn.getSystem().isConnected())return D.none();const zn=_s.getCandidates(kn);return Q(zn,ro=>p(ro)===mn)}))(0,Et,_t))}).map(ke=>({primary:we,triggeringPath:ke}))).fold(()=>{(we=>D.from(we.components()[0]).filter(ke=>Po(ke.element,"role")==="menu"))(ue).each(we=>{s.onRepositionMenu(ue,we,[])})},({primary:we,triggeringPath:ke})=>{s.onRepositionMenu(ue,we,ke)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:yo(s.tmenuBehaviours,[Nn.config({mode:"special",onRight:ce((ue,ve)=>O0(ve.element)?D.none():q(ue,ve,z.HighlightSubmenu)),onLeft:ce((ue,ve)=>O0(ve.element)?D.none():J(ue,ve)),onEscape:ce((ue,ve)=>J(ue,ve).orThunk(()=>s.onEscape(ue,ve).map(()=>ue))),focusIn:(ue,ve)=>{f.getPrimary().each(we=>{gr(ue,we.element,Pv())})}}),_s.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),es.config({find:ue=>_s.getHighlighted(ue)}),jn.config({})]),eventOrder:s.eventOrder,apis:de,events:me}},extraApis:{tieredData:(s,a,u)=>({primary:s,menus:a,expansions:u}),singleData:(s,a)=>({primary:s,menus:ru(s,a),expansions:{}}),collapseItem:s=>({value:bn(Rb()),meta:{text:s}})}}),hr=pu({name:"InlineView",configFields:[Ot("lazySink"),Yo("onShow"),Yo("onHide"),su("onEscape"),yn("inlineBehaviours",[T,lt,yl]),Rr("fireDismissalEventInstead",[it("event",Zg())]),Rr("fireRepositionEventInstead",[it("event",kf())]),it("getRelated",D.none),it("isExtraPart",Se),it("eventOrder",D.none)],factory:(s,a)=>{const u=(w,k,E,R)=>{const L=s.lazySink(w).getOrDie();T.openWhileCloaked(w,k,()=>ga.positionWithinBounds(L,w,E,R())),lt.setValue(w,D.some({mode:"position",config:E,getBounds:R}))},f=(w,k,E,R)=>{const L=((N,z,q,J,ce)=>{const me=()=>N.lazySink(z),xe=J.type==="horizontal"?{layouts:{onLtr:()=>d0(),onRtl:()=>f0()}}:{},de=ue=>(ve=>ve.length===2)(ue)?xe:{};return hh.sketch({dom:{tag:"div"},data:J.data,markers:J.menu.markers,highlightOnOpen:J.menu.highlightOnOpen,fakeFocus:J.menu.fakeFocus,onEscape:()=>(T.close(z),N.onEscape.map(ue=>ue(z)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(ue,ve)=>{ga.positionWithinBounds(me().getOrDie(),ve,q,ce())},onOpenSubmenu:(ue,ve,we,ke)=>{const ze=me().getOrDie();ga.position(ze,we,{anchor:{type:"submenu",item:ve,...de(ke)}})},onRepositionMenu:(ue,ve,we)=>{const ke=me().getOrDie();ga.positionWithinBounds(ke,ve,q,ce()),Mt(we,ze=>{const ot=de(ze.triggeringPath);ga.position(ke,ze.triggeredMenu,{anchor:{type:"submenu",item:ze.triggeringItem,...ot}})})}})})(s,w,k,E,R);T.open(w,L),lt.setValue(w,D.some({mode:"menu",menu:L}))},p=w=>{T.isOpen(w)&&lt.getValue(w).each(k=>{switch(k.mode){case"menu":T.getState(w).each(hh.repositionMenus);break;case"position":const E=s.lazySink(w).getOrDie();ga.positionWithinBounds(E,w,k.config,k.getBounds())}})},b={setContent:(w,k)=>{T.setContent(w,k)},showAt:(w,k,E)=>{const R=D.none;u(w,k,E,R)},showWithinBounds:u,showMenuAt:(w,k,E)=>{f(w,k,E,D.none)},showMenuWithinBounds:f,hide:w=>{T.isOpen(w)&&(lt.setValue(w,D.none()),T.close(w))},getContent:w=>T.getState(w),reposition:p,isOpen:T.isOpen};return{uid:s.uid,dom:s.dom,behaviours:yo(s.inlineBehaviours,[T.config({isPartOf:(w,k,E)=>bl(k,E)||((R,L)=>s.getRelated(R).exists(N=>bl(N,L)))(w,E),getAttachPoint:w=>s.lazySink(w).getOrDie(),onOpen:w=>{s.onShow(w)},onClose:w=>{s.onHide(w)}}),lt.config({store:{mode:"memory",initialValue:D.none()}}),yl.config({channels:{...se({isExtraPart:a.isExtraPart,...s.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...De({...s.fireRepositionEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({}),doReposition:p})}})]),eventOrder:s.eventOrder,apis:b}},apis:{showAt:(s,a,u,f)=>{s.showAt(a,u,f)},showWithinBounds:(s,a,u,f,p)=>{s.showWithinBounds(a,u,f,p)},showMenuAt:(s,a,u,f)=>{s.showMenuAt(a,u,f)},showMenuWithinBounds:(s,a,u,f,p)=>{s.showMenuWithinBounds(a,u,f,p)},hide:(s,a)=>{s.hide(a)},isOpen:(s,a)=>s.isOpen(a),getContent:(s,a)=>s.getContent(a),setContent:(s,a,u)=>{s.setContent(a,u)},reposition:(s,a)=>{s.reposition(a)}}});var ed,l2,o_=tinymce.util.Tools.resolve("tinymce.util.Delay"),B0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$5=tinymce.util.Tools.resolve("tinymce.EditorManager"),Kf=tinymce.util.Tools.resolve("tinymce.Env");(function(s){s.default="wrap",s.floating="floating",s.sliding="sliding",s.scrolling="scrolling"})(ed||(ed={})),function(s){s.auto="auto",s.top="top",s.bottom="bottom"}(l2||(l2={}));const Ms=s=>a=>a.options.get(s),c2=s=>a=>D.from(s(a)),U5=s=>{const a=Kf.deviceType.isPhone(),u=Kf.deviceType.isTablet()||a,f=s.options.register,p=w=>v(w)||w===!1,b=w=>v(w)||X(w);f("skin",{processor:w=>v(w)||w===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:b,default:Math.max(s.getElement().offsetHeight,400)}),f("width",{processor:b,default:B0.DOM.getStyle(s.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:w=>v(w)||P(w),default:!a}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:w=>P(w)||v(w)||O(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Lt(9,w=>{f("toolbar"+(w+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:u?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:l2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:s.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:p,default:"#top"}),f("anchor_bottom",{processor:p,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:w=>w==="both"||P(w),default:!Kf.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:s.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},oA=Ms("readonly"),u2=Ms("height"),d2=Ms("width"),f2=c2(Ms("min_width")),L0=c2(Ms("min_height")),F0=c2(Ms("max_width")),s_=c2(Ms("max_height")),V0=c2(Ms("style_formats")),r_=Ms("style_formats_merge"),W5=Ms("style_formats_autohide"),sA=Ms("content_langs"),Z5=Ms("removed_menuitems"),Ib=Ms("toolbar_mode"),i_=Ms("toolbar_groups"),Op=Ms("toolbar_location"),rA=Ms("fixed_toolbar_container"),nF=Ms("fixed_toolbar_container_target"),j5=Ms("toolbar_persist"),iA=Ms("toolbar_sticky_offset"),ph=Ms("menubar"),z0=Ms("toolbar"),a_=Ms("file_picker_callback"),m2=Ms("file_picker_validator_handler"),aA=Ms("font_size_input_default_unit"),g2=Ms("file_picker_types"),l_=Ms("typeahead_urls"),K5=Ms("anchor_top"),G5=Ms("anchor_bottom"),Gf=Ms("draggable_modal"),q5=Ms("statusbar"),Y5=Ms("elementpath"),Hc=Ms("branding"),ha=Ms("resize"),X5=Ms("paste_as_text"),c_=Ms("sidebar_show"),J5=Ms("promotion"),lA=Ms("help_accessibility"),u_=Ms("default_font_stack"),Dp=s=>s.options.get("skin")===!1,h2=s=>s.options.get("menubar")!==!1,d_=s=>{const a=s.options.get("skin_url");if(Dp(s))return a;if(a)return s.documentBaseURI.toAbsolute(a);{const u=s.options.get("skin");return $5.baseURL+"/skins/ui/"+u}},f_=s=>D.from(s.options.get("skin_url")),Q5=s=>s.options.get("line_height_formats").split(" "),p2=s=>{const a=z0(s),u=v(a),f=O(a)&&a.length>0;return!v2(s)&&(f||u||a===!0)},m_=s=>{const a=Lt(9,f=>s.options.get("toolbar"+(f+1))),u=Fn(a,v);return ss(u.length>0,u)},v2=s=>m_(s).fold(()=>{const a=z0(s);return ae(a,v)&&a.length>0},Me),cA=s=>Op(s)===l2.bottom,uA=s=>{var a;if(!s.inline)return D.none();const u=(a=rA(s))!==null&&a!==void 0?a:"";if(u.length>0)return ur(vn(),u);const f=nF(s);return Z(f)?D.some(rn(f)):D.none()},Nb=s=>s.inline&&uA(s).isSome(),g_=s=>uA(s).getOrThunk(()=>Je(ut(rn(s.getElement())))),h_=s=>s.inline&&!h2(s)&&!p2(s)&&!v2(s),vh=s=>(s.options.get("toolbar_sticky")||s.inline)&&!Nb(s)&&!h_(s),bh=s=>!Nb(s)&&s.options.get("ui_mode")==="split",Rp=s=>{const a=s.options.get("menu");return On(a,u=>({...u,items:u.items}))};var b2=Object.freeze({__proto__:null,get ToolbarMode(){return ed},get ToolbarLocation(){return l2},register:U5,getSkinUrl:d_,getSkinUrlOption:f_,isReadOnly:oA,isSkinDisabled:Dp,getHeightOption:u2,getWidthOption:d2,getMinWidthOption:f2,getMinHeightOption:L0,getMaxWidthOption:F0,getMaxHeightOption:s_,getUserStyleFormats:V0,shouldMergeStyleFormats:r_,shouldAutoHideStyleFormats:W5,getLineHeightFormats:Q5,getContentLanguages:sA,getRemovedMenuItems:Z5,isMenubarEnabled:h2,isMultipleToolbars:v2,isToolbarEnabled:p2,isToolbarPersist:j5,getMultipleToolbarsOption:m_,getUiContainer:g_,useFixedContainer:Nb,isSplitUiMode:bh,getToolbarMode:Ib,isDraggableModal:Gf,isDistractionFree:h_,isStickyToolbar:vh,getStickyToolbarOffset:iA,getToolbarLocation:Op,isToolbarLocationBottom:cA,getToolbarGroups:i_,getMenus:Rp,getMenubar:ph,getToolbar:z0,getFilePickerCallback:a_,getFilePickerTypes:g2,useTypeaheadUrls:l_,getAnchorTop:K5,getAnchorBottom:G5,getFilePickerValidatorHandler:m2,getFontSizeInputDefaultUnit:aA,useStatusBar:q5,useElementPath:Y5,promotionEnabled:J5,useBranding:Hc,getResize:ha,getPasteAsText:X5,getSidebarShow:c_,useHelpAccessibility:lA,getDefaultFontStack:u_});const oF=["visible","hidden","clip"],eR=s=>wc(s).length>0&&!et(oF,s),tR=s=>{if(dl(s)){const a=wr(s,"overflow-x"),u=wr(s,"overflow-y");return eR(a)||eR(u)}return!1},Ip=(s,a)=>bh(s)?((u,f)=>{const p=wp(f,tR),b=p.length===0?Wt(f).map(nn).map(w=>wp(w,tR)).getOr([]):p;return zt(b).map(w=>({element:w,others:b.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(u)}))})(s,a):D.none(),Np=s=>{const a=[...Ye(s.others,ai),$i()];return s.isFullscreen()?$i():((u,f)=>_n(f,(p,b)=>Td(p,b),u))(ai(s.element),a)},Ua=pu({name:"Button",factory:s=>{const a=M0(s.action),u=s.dom.tag,f=p=>hn(s.dom,"attributes").bind(b=>hn(b,p));return{uid:s.uid,dom:s.dom,components:s.components,events:a,behaviours:Xn(s.buttonBehaviours,[to.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u==="button"?{type:f("type").getOr("button"),...f("role").map(p=>({role:p})).getOr({})}:{role:s.role.getOr(f("role").getOr("button"))}},eventOrder:s.eventOrder}},configFields:[it("uid",void 0),Ot("dom"),it("components",[]),oo("buttonBehaviours",[to,Nn]),jo("action"),jo("role"),it("eventOrder",{})]}),og=s=>{const a=Wl(s),u=Is(a),f=(w=>{const k=w.dom.attributes!==void 0?w.dom.attributes:[];return _n(k,(E,R)=>R.name==="class"?E:{...E,[R.name]:R.value},{})})(a),p=(w=>Array.prototype.slice.call(w.dom.classList,0))(a),b=u.length===0?{}:{innerHtml:Bd(a)};return{tag:Ga(a),classes:p,attributes:f,...b}},Cs=s=>{const a=(u=>u.uid!==void 0)(s)&&vo(s,"uid")?s.uid:Pc("memento");return{get:u=>u.getSystem().getByUid(a).getOrDie(),getOpt:u=>u.getSystem().getByUid(a).toOptional(),asSpec:()=>({...s,uid:a})}};var sF=Object.freeze({__proto__:null,exhibit:(s,a)=>Kr({attributes:Id([{key:a.tabAttr,value:"true"}])})}),nR=[it("tabAttr","data-alloy-tabstop")];const Us=Ni({fields:nR,name:"tabstopping",active:sF}),dA=bn("tooltip.exclusive"),y2=bn("tooltip.show"),x2=bn("tooltip.hide"),w2=bn("tooltip.immediateHide"),C2=bn("tooltip.immediateShow"),oR=(s,a,u)=>{s.getSystem().broadcastOn([dA],{})};var rF=Object.freeze({__proto__:null,hideAllExclusive:oR,immediateOpenClose:(s,a,u,f)=>ko(s,f?C2:w2),isEnabled:(s,a,u)=>u.isEnabled(),setComponents:(s,a,u,f)=>{u.getTooltip().each(p=>{p.getSystem().isConnected()&&jn.set(p,f)})},setEnabled:(s,a,u,f)=>u.setEnabled(f)}),iF=Object.freeze({__proto__:null,events:(s,a)=>{const u=b=>{a.getTooltip().each(w=>{w.getSystem().isConnected()&&(sl(w),s.onHide(b,w),a.clearTooltip())}),a.clearTimer()},f=b=>{if(!a.isShowing()&&a.isEnabled()){oR(b);const w=s.lazySink(b).getOrDie(),k=b.getSystem().build({dom:s.tooltipDom,components:s.tooltipComponents,events:fo(s.mode==="normal"?[St(Tn(),E=>{ko(b,y2)}),St(po(),E=>{ko(b,x2)})]:[]),behaviours:Zt([jn.config({})])});a.setTooltip(k),$f(w,k),s.onShow(b,k),ga.position(w,k,{anchor:s.anchor(b)})}},p=b=>{a.getTooltip().each(w=>{const k=s.lazySink(b).getOrDie();ga.position(k,w,{anchor:s.anchor(b)})})};return fo(Qn([[W1(b=>{s.onSetup(b)}),St(y2,b=>{a.resetTimer(()=>{f(b)},s.delayForShow())}),St(x2,b=>{a.resetTimer(()=>{u(b)},s.delayForHide())}),St(C2,b=>{a.resetTimer(()=>{f(b)},0)}),St(w2,b=>{a.resetTimer(()=>{u(b)},0)}),St(oc(),(b,w)=>{const k=w;k.universal||et(k.channels,dA)&&u(b)}),Gu(b=>{u(b)})],(()=>{switch(s.mode){case"normal":return[St(bs(),b=>{ko(b,C2)}),St(rp(),b=>{ko(b,w2)}),St(Tn(),b=>{ko(b,y2)}),St(po(),b=>{ko(b,x2)})];case"follow-highlight":return[St(ox(),(b,w)=>{ko(b,y2)}),St(Ef(),b=>{ko(b,x2)})];case"children-normal":return[St(bs(),(b,w)=>{Yr(b.element).each(k=>{Gc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,C2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{Yr(b.element).fold(()=>{ko(b,w2)},fe)}),St(Tn(),b=>{ur(b.element,"[data-mce-tooltip]:hover").each(w=>{a.getTooltip().fold(()=>{ko(b,y2)},k=>{a.isShowing()&&(s.onShow(b,k),p(b))})})}),St(po(),b=>{ur(b.element,"[data-mce-tooltip]:hover").fold(()=>{ko(b,x2)},fe)})];default:return[St(bs(),(b,w)=>{Yr(b.element).each(k=>{Gc(w.event.target,"[data-mce-tooltip]")&&a.getTooltip().fold(()=>{ko(b,C2)},E=>{a.isShowing()&&(s.onShow(b,E),p(b))})})}),St(rp(),b=>{Yr(b.element).fold(()=>{ko(b,w2)},fe)})]}})()]))}}),aF=[Ot("lazySink"),Ot("tooltipDom"),it("exclusive",!0),it("tooltipComponents",[]),Xs("delayForShow",te(300)),Xs("delayForHide",te(300)),Xs("onSetup",fe),Ec("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),it("anchor",s=>({type:"hotspot",hotspot:s,layouts:{onLtr:te([qr,Er,Pr,ni,Mr,Ps]),onRtl:te([qr,Er,Pr,ni,Mr,Ps])},bubble:ic(0,-2,{})})),Yo("onHide"),Yo("onShow")],lF=Object.freeze({__proto__:null,init:()=>{const s=Bn(!0),a=ks(),u=ks(),f=()=>{a.on(clearTimeout)},p=te("not-implemented");return Ii({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:f,resetTimer:(b,w)=>{f(),a.set(setTimeout(b,w))},readState:p,isEnabled:()=>s.get(),setEnabled:b=>s.set(b)})}});const si=Ni({fields:aF,name:"tooltipping",active:iF,state:lF,apis:rF}),{entries:sR,setPrototypeOf:fA,isFrozen:rR,getPrototypeOf:iR,getOwnPropertyDescriptor:cF}=Object;let{freeze:lc,seal:qf,create:aR}=Object,{apply:mA,construct:gA}=typeof Reflect<"u"&&Reflect;mA||(mA=function(s,a,u){return s.apply(a,u)}),lc||(lc=function(s){return s}),qf||(qf=function(s){return s}),gA||(gA=function(s,a){return new s(...a)});const hA=jd(Array.prototype.forEach),uF=jd(Array.prototype.pop),_2=jd(Array.prototype.push),p_=jd(String.prototype.toLowerCase),v_=jd(String.prototype.toString),dF=jd(String.prototype.match),dn=jd(String.prototype.replace),Pb=jd(String.prototype.indexOf),fF=jd(String.prototype.trim),xu=jd(RegExp.prototype.test),Pp=(b_=TypeError,function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return gA(b_,a)});var b_;function jd(s){return function(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return mA(s,a,f)}}function Fs(s,a,u){var f;u=(f=u)!==null&&f!==void 0?f:p_,fA&&fA(s,null);let p=a.length;for(;p--;){let b=a[p];if(typeof b=="string"){const w=u(b);w!==b&&(rR(a)||(a[p]=w),b=w)}s[b]=!0}return s}function H0(s){const a=aR(null);for(const[u,f]of sR(s))a[u]=f;return a}function y_(s,a){for(;s!==null;){const u=cF(s,a);if(u){if(u.get)return jd(u.get);if(typeof u.value=="function")return jd(u.value)}s=iR(s)}return function(u){return console.warn("fallback value for",u),null}}const pA=lc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S2=lc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mb=lc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lR=lc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vA=lc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mF=lc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cR=lc(["#text"]),gF=lc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),x_=lc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),uR=lc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),w_=lc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hF=qf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pF=qf(/<%[\w\W]*|[\w\W]*%>/gm),bA=qf(/\${[\w\W]*}/gm),vF=qf(/^data-[\-\w.\u00B7-\uFFFF]/),bF=qf(/^aria-[\-\w]+$/),dR=qf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yF=qf(/^(?:\w+script|data):/i),xF=qf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sg=qf(/^html$/i);var k2=Object.freeze({__proto__:null,MUSTACHE_EXPR:hF,ERB_EXPR:pF,TMPLIT_EXPR:bA,DATA_ATTR:vF,ARIA_ATTR:bF,IS_ALLOWED_URI:dR,IS_SCRIPT_OR_DATA:yF,ATTR_WHITESPACE:xF,DOCTYPE_NAME:sg});const wF=()=>typeof window>"u"?null:window;var CF=function s(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wF();const u=ft=>s(ft);if(u.version="3.0.5",u.removed=[],!a||!a.document||a.document.nodeType!==9)return u.isSupported=!1,u;const f=a.document,p=f.currentScript;let{document:b}=a;const{DocumentFragment:w,HTMLTemplateElement:k,Node:E,Element:R,NodeFilter:L,NamedNodeMap:N=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:z,DOMParser:q,trustedTypes:J}=a,ce=R.prototype,me=y_(ce,"cloneNode"),xe=y_(ce,"nextSibling"),de=y_(ce,"childNodes"),ue=y_(ce,"parentNode");if(typeof k=="function"){const ft=b.createElement("template");ft.content&&ft.content.ownerDocument&&(b=ft.content.ownerDocument)}let ve,we="";const{implementation:ke,createNodeIterator:ze,createDocumentFragment:ot,getElementsByTagName:Et}=b,{importNode:_t}=f;let wt={};u.isSupported=typeof sR=="function"&&typeof ue=="function"&&ke&&ke.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ht,ERB_EXPR:mn,TMPLIT_EXPR:kn,DATA_ATTR:zn,ARIA_ATTR:ro,IS_SCRIPT_OR_DATA:Lo,ATTR_WHITESPACE:Qs}=k2;let{IS_ALLOWED_URI:dr}=k2,So=null;const Xo=Fs({},[...pA,...S2,...Mb,...vA,...cR]);let Zn=null;const fr=Fs({},[...gF,...x_,...uR,...w_]);let Bs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Wa=null,Za=null,qi=!0,Bi=!0,Rh=!1,by=!0,nv=!1,Ih=!1,Iw=!1,ov=!1,yg=!1,c1=!1,u1=!1,yy=!0,ik=!1,Nw=!0,sv=!1,xg={},Nh=null;const Pw=Fs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mw=null;const gs=Fs({},["audio","video","img","source","image","track"]);let wg=null;const ef=Fs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),d1="http://www.w3.org/1998/Math/MathML",ak="http://www.w3.org/2000/svg",Ph="http://www.w3.org/1999/xhtml";let xy=Ph,dO=!1,lk=null;const T9=Fs({},[d1,ak,Ph],v_);let wy;const O9=["application/xhtml+xml","text/html"];let Sl,f1=null;const D9=b.createElement("form"),FM=function(ft){return ft instanceof RegExp||ft instanceof Function},ck=function(ft){if(!f1||f1!==ft){if(ft&&typeof ft=="object"||(ft={}),ft=H0(ft),wy=wy=O9.indexOf(ft.PARSER_MEDIA_TYPE)===-1?"text/html":ft.PARSER_MEDIA_TYPE,Sl=wy==="application/xhtml+xml"?v_:p_,So="ALLOWED_TAGS"in ft?Fs({},ft.ALLOWED_TAGS,Sl):Xo,Zn="ALLOWED_ATTR"in ft?Fs({},ft.ALLOWED_ATTR,Sl):fr,lk="ALLOWED_NAMESPACES"in ft?Fs({},ft.ALLOWED_NAMESPACES,v_):T9,wg="ADD_URI_SAFE_ATTR"in ft?Fs(H0(ef),ft.ADD_URI_SAFE_ATTR,Sl):ef,Mw="ADD_DATA_URI_TAGS"in ft?Fs(H0(gs),ft.ADD_DATA_URI_TAGS,Sl):gs,Nh="FORBID_CONTENTS"in ft?Fs({},ft.FORBID_CONTENTS,Sl):Pw,Wa="FORBID_TAGS"in ft?Fs({},ft.FORBID_TAGS,Sl):{},Za="FORBID_ATTR"in ft?Fs({},ft.FORBID_ATTR,Sl):{},xg="USE_PROFILES"in ft&&ft.USE_PROFILES,qi=ft.ALLOW_ARIA_ATTR!==!1,Bi=ft.ALLOW_DATA_ATTR!==!1,Rh=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,by=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nv=ft.SAFE_FOR_TEMPLATES||!1,Ih=ft.WHOLE_DOCUMENT||!1,yg=ft.RETURN_DOM||!1,c1=ft.RETURN_DOM_FRAGMENT||!1,u1=ft.RETURN_TRUSTED_TYPE||!1,ov=ft.FORCE_BODY||!1,yy=ft.SANITIZE_DOM!==!1,ik=ft.SANITIZE_NAMED_PROPS||!1,Nw=ft.KEEP_CONTENT!==!1,sv=ft.IN_PLACE||!1,dr=ft.ALLOWED_URI_REGEXP||dR,xy=ft.NAMESPACE||Ph,Bs=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&FM(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Bs.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&FM(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Bs.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Bs.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nv&&(Bi=!1),c1&&(yg=!0),xg&&(So=Fs({},[...cR]),Zn=[],xg.html===!0&&(Fs(So,pA),Fs(Zn,gF)),xg.svg===!0&&(Fs(So,S2),Fs(Zn,x_),Fs(Zn,w_)),xg.svgFilters===!0&&(Fs(So,Mb),Fs(Zn,x_),Fs(Zn,w_)),xg.mathMl===!0&&(Fs(So,vA),Fs(Zn,uR),Fs(Zn,w_))),ft.ADD_TAGS&&(So===Xo&&(So=H0(So)),Fs(So,ft.ADD_TAGS,Sl)),ft.ADD_ATTR&&(Zn===fr&&(Zn=H0(Zn)),Fs(Zn,ft.ADD_ATTR,Sl)),ft.ADD_URI_SAFE_ATTR&&Fs(wg,ft.ADD_URI_SAFE_ATTR,Sl),ft.FORBID_CONTENTS&&(Nh===Pw&&(Nh=H0(Nh)),Fs(Nh,ft.FORBID_CONTENTS,Sl)),Nw&&(So["#text"]=!0),Ih&&Fs(So,["html","head","body"]),So.table&&(Fs(So,["tbody"]),delete Wa.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=ft.TRUSTED_TYPES_POLICY,we=ve.createHTML("")}else ve===void 0&&(ve=function(Hn,mo){if(typeof Hn!="object"||typeof Hn.createPolicy!="function")return null;let er=null;const Xr="data-tt-policy-suffix";mo&&mo.hasAttribute(Xr)&&(er=mo.getAttribute(Xr));const ci="dompurify"+(er?"#"+er:"");try{return Hn.createPolicy(ci,{createHTML:ri=>ri,createScriptURL:ri=>ri})}catch{return console.warn("TrustedTypes policy "+ci+" could not be created."),null}}(J,p)),ve!==null&&typeof we=="string"&&(we=ve.createHTML(""));lc&&lc(ft),f1=ft}},VM=Fs({},["mi","mo","mn","ms","mtext"]),zM=Fs({},["foreignobject","desc","title","annotation-xml"]),uo=Fs({},["title","style","font","a","script"]),rv=Fs({},S2);Fs(rv,Mb),Fs(rv,lR);const uk=Fs({},vA);Fs(uk,mF);const iv=function(ft){_2(u.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{ft.remove()}},Cy=function(ft,Hn){try{_2(u.removed,{attribute:Hn.getAttributeNode(ft),from:Hn})}catch{_2(u.removed,{attribute:null,from:Hn})}if(Hn.removeAttribute(ft),ft==="is"&&!Zn[ft])if(yg||c1)try{iv(Hn)}catch{}else try{Hn.setAttribute(ft,"")}catch{}},fO=function(ft){let Hn,mo;if(ov)ft="<remove></remove>"+ft;else{const ci=dF(ft,/^[\r\n\t ]+/);mo=ci&&ci[0]}wy==="application/xhtml+xml"&&xy===Ph&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const er=ve?ve.createHTML(ft):ft;if(xy===Ph)try{Hn=new q().parseFromString(er,wy)}catch{}if(!Hn||!Hn.documentElement){Hn=ke.createDocument(xy,"template",null);try{Hn.documentElement.innerHTML=dO?we:er}catch{}}const Xr=Hn.body||Hn.documentElement;return ft&&mo&&Xr.insertBefore(b.createTextNode(mo),Xr.childNodes[0]||null),xy===Ph?Et.call(Hn,Ih?"html":"body")[0]:Ih?Hn.documentElement:Xr},mO=function(ft){return ze.call(ft.ownerDocument||ft,ft,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},gO=function(ft){return typeof E=="object"?ft instanceof E:ft&&typeof ft=="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},fd=function(ft,Hn,mo){wt[ft]&&hA(wt[ft],er=>{er.call(u,Hn,mo,f1)})},HM=function(ft){let Hn;if(fd("beforeSanitizeElements",ft,null),(mo=ft)instanceof z&&(typeof mo.nodeName!="string"||typeof mo.textContent!="string"||typeof mo.removeChild!="function"||!(mo.attributes instanceof N)||typeof mo.removeAttribute!="function"||typeof mo.setAttribute!="function"||typeof mo.namespaceURI!="string"||typeof mo.insertBefore!="function"||typeof mo.hasChildNodes!="function"))return iv(ft),!0;var mo;const er=Sl(ft.nodeName);if(fd("uponSanitizeElement",ft,{tagName:er,allowedTags:So}),ft.hasChildNodes()&&!gO(ft.firstElementChild)&&(!gO(ft.content)||!gO(ft.content.firstElementChild))&&xu(/<[/\w]/g,ft.innerHTML)&&xu(/<[/\w]/g,ft.textContent))return iv(ft),!0;if(!So[er]||Wa[er]){if(!Wa[er]&&$M(er)&&(Bs.tagNameCheck instanceof RegExp&&xu(Bs.tagNameCheck,er)||Bs.tagNameCheck instanceof Function&&Bs.tagNameCheck(er)))return!1;if(Nw&&!Nh[er]){const Xr=ue(ft)||ft.parentNode,ci=de(ft)||ft.childNodes;if(ci&&Xr)for(let ri=ci.length-1;ri>=0;--ri)Xr.insertBefore(me(ci[ri],!0),xe(ft))}return iv(ft),!0}return ft instanceof R&&!function(Xr){let ci=ue(Xr);ci&&ci.tagName||(ci={namespaceURI:xy,tagName:"template"});const ri=p_(Xr.tagName),ki=p_(ci.tagName);return!!lk[Xr.namespaceURI]&&(Xr.namespaceURI===ak?ci.namespaceURI===Ph?ri==="svg":ci.namespaceURI===d1?ri==="svg"&&(ki==="annotation-xml"||VM[ki]):!!rv[ri]:Xr.namespaceURI===d1?ci.namespaceURI===Ph?ri==="math":ci.namespaceURI===ak?ri==="math"&&zM[ki]:!!uk[ri]:Xr.namespaceURI===Ph?!(ci.namespaceURI===ak&&!zM[ki])&&!(ci.namespaceURI===d1&&!VM[ki])&&!uk[ri]&&(uo[ri]||!rv[ri]):!(wy!=="application/xhtml+xml"||!lk[Xr.namespaceURI]))}(ft)?(iv(ft),!0):er!=="noscript"&&er!=="noembed"&&er!=="noframes"||!xu(/<\/no(script|embed|frames)/i,ft.innerHTML)?(nv&&ft.nodeType===3&&(Hn=ft.textContent,Hn=dn(Hn,Ht," "),Hn=dn(Hn,mn," "),Hn=dn(Hn,kn," "),ft.textContent!==Hn&&(_2(u.removed,{element:ft.cloneNode()}),ft.textContent=Hn)),fd("afterSanitizeElements",ft,null),!1):(iv(ft),!0)},hO=function(ft,Hn,mo){if(yy&&(Hn==="id"||Hn==="name")&&(mo in b||mo in D9))return!1;if(!(Bi&&!Za[Hn]&&xu(zn,Hn))){if(!(qi&&xu(ro,Hn))){if(!Zn[Hn]||Za[Hn]){if(!($M(ft)&&(Bs.tagNameCheck instanceof RegExp&&xu(Bs.tagNameCheck,ft)||Bs.tagNameCheck instanceof Function&&Bs.tagNameCheck(ft))&&(Bs.attributeNameCheck instanceof RegExp&&xu(Bs.attributeNameCheck,Hn)||Bs.attributeNameCheck instanceof Function&&Bs.attributeNameCheck(Hn))||Hn==="is"&&Bs.allowCustomizedBuiltInElements&&(Bs.tagNameCheck instanceof RegExp&&xu(Bs.tagNameCheck,mo)||Bs.tagNameCheck instanceof Function&&Bs.tagNameCheck(mo))))return!1}else if(!wg[Hn]){if(!xu(dr,dn(mo,Qs,""))){if((Hn!=="src"&&Hn!=="xlink:href"&&Hn!=="href"||ft==="script"||Pb(mo,"data:")!==0||!Mw[ft])&&!(Rh&&!xu(Lo,dn(mo,Qs,"")))){if(mo)return!1}}}}}return!0},$M=function(ft){return ft.indexOf("-")>0},UM=function(ft){let Hn,mo,er,Xr;fd("beforeSanitizeAttributes",ft,null);const{attributes:ci}=ft;if(!ci)return;const ri={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Zn};for(Xr=ci.length;Xr--;){Hn=ci[Xr];const{name:ki,namespaceURI:_y}=Hn;mo=ki==="value"?Hn.value:fF(Hn.value);const I9=mo;if(er=Sl(ki),ri.attrName=er,ri.attrValue=mo,ri.keepAttr=!0,ri.forceKeepAttr=void 0,fd("uponSanitizeAttribute",ft,ri),mo=ri.attrValue,ri.forceKeepAttr)continue;if(!ri.keepAttr){Cy(ki,ft);continue}if(!by&&xu(/\/>/i,mo)){Cy(ki,ft);continue}nv&&(mo=dn(mo,Ht," "),mo=dn(mo,mn," "),mo=dn(mo,kn," "));const WM=Sl(ft.nodeName);if(hO(WM,er,mo)){if(!ik||er!=="id"&&er!=="name"||(Cy(ki,ft),mo="user-content-"+mo),ve&&typeof J=="object"&&typeof J.getAttributeType=="function"&&!_y)switch(J.getAttributeType(WM,er)){case"TrustedHTML":mo=ve.createHTML(mo);break;case"TrustedScriptURL":mo=ve.createScriptURL(mo)}if(mo!==I9)try{_y?ft.setAttributeNS(_y,ki,mo):ft.setAttribute(ki,mo)}catch{Cy(ki,ft)}}else Cy(ki,ft)}fd("afterSanitizeAttributes",ft,null)},R9=function ft(Hn){let mo;const er=mO(Hn);for(fd("beforeSanitizeShadowDOM",Hn,null);mo=er.nextNode();)fd("uponSanitizeShadowNode",mo,null),HM(mo)||(mo.content instanceof w&&ft(mo.content),UM(mo));fd("afterSanitizeShadowDOM",Hn,null)};return u.sanitize=function(ft){let Hn,mo,er,Xr,ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dO=!ft,dO&&(ft="<!-->"),typeof ft!="string"&&!gO(ft)){if(typeof ft.toString!="function")throw Pp("toString is not a function");if(typeof(ft=ft.toString())!="string")throw Pp("dirty is not a string, aborting")}if(!u.isSupported)return ft;if(Iw||ck(ci),u.removed=[],typeof ft=="string"&&(sv=!1),sv){if(ft.nodeName){const _y=Sl(ft.nodeName);if(!So[_y]||Wa[_y])throw Pp("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof E)Hn=fO("<!---->"),mo=Hn.ownerDocument.importNode(ft,!0),mo.nodeType===1&&mo.nodeName==="BODY"||mo.nodeName==="HTML"?Hn=mo:Hn.appendChild(mo);else{if(!yg&&!nv&&!Ih&&ft.indexOf("<")===-1)return ve&&u1?ve.createHTML(ft):ft;if(Hn=fO(ft),!Hn)return yg?null:u1?we:""}Hn&&ov&&iv(Hn.firstChild);const ri=mO(sv?ft:Hn);for(;er=ri.nextNode();)HM(er)||(er.content instanceof w&&R9(er.content),UM(er));if(sv)return ft;if(yg){if(c1)for(Xr=ot.call(Hn.ownerDocument);Hn.firstChild;)Xr.appendChild(Hn.firstChild);else Xr=Hn;return(Zn.shadowroot||Zn.shadowrootmode)&&(Xr=_t.call(f,Xr,!0)),Xr}let ki=Ih?Hn.outerHTML:Hn.innerHTML;return Ih&&So["!doctype"]&&Hn.ownerDocument&&Hn.ownerDocument.doctype&&Hn.ownerDocument.doctype.name&&xu(sg,Hn.ownerDocument.doctype.name)&&(ki="<!DOCTYPE "+Hn.ownerDocument.doctype.name+`>
`+ki),nv&&(ki=dn(ki,Ht," "),ki=dn(ki,mn," "),ki=dn(ki,kn," ")),ve&&u1?ve.createHTML(ki):ki},u.setConfig=function(ft){ck(ft),Iw=!0},u.clearConfig=function(){f1=null,Iw=!1},u.isValidAttribute=function(ft,Hn,mo){f1||ck({});const er=Sl(ft),Xr=Sl(Hn);return hO(er,Xr,mo)},u.addHook=function(ft,Hn){typeof Hn=="function"&&(wt[ft]=wt[ft]||[],_2(wt[ft],Hn))},u.removeHook=function(ft){if(wt[ft])return uF(wt[ft])},u.removeHooks=function(ft){wt[ft]&&(wt[ft]=[])},u.removeAllHooks=function(){wt={}},u}();const fR=s=>CF().sanitize(s);var td=tinymce.util.Tools.resolve("tinymce.util.I18n");const _F={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},mR="temporary-placeholder",yA=s=>()=>hn(s,mR).getOr("!not found!"),Mp=(s,a)=>{const u=s.toLowerCase();if(td.isRtl()){const f=((p,b)=>Iu(p,b)?p:((w,k)=>w+k)(p,b))(u,"-rtl");return Eo(a,f)?f:u}return u},E2=(s,a)=>hn(a,Mp(s,a)),gR=(s,a)=>{const u=a();return E2(s,u).getOrThunk(yA(u))},C_=()=>Co("add-focusable",[nr(s=>{l0(s.element,"svg").each(a=>sn(a,"focusable","false"))})]),hR=(s,a,u,f)=>{var p,b;const w=(E=>!!td.isRtl()&&Eo(_F,E))(a)?["tox-icon--flip"]:[],k=hn(u,Mp(a,u)).or(f).getOrThunk(yA(u));return{dom:{tag:s.tag,attributes:(p=s.attributes)!==null&&p!==void 0?p:{},classes:s.classes.concat(w),innerHtml:k},behaviours:Zt([...(b=s.behaviours)!==null&&b!==void 0?b:[],C_()])}},$c=(s,a,u,f=D.none())=>hR(a,s,u(),f),SF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},xA=pu({name:"Notification",factory:s=>{const a=bn("notification-text"),u=Cs({dom:og(`<p id=${a}>${fR(s.backstageProvider.translate(s.text))}</p>`),behaviours:Zt([jn.config({})])}),f=N=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${N}%`}}}),p=N=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${N}%`}}),b=Cs({dom:{tag:"div",classes:s.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},p(0)],behaviours:Zt([jn.config({})])}),w={updateProgress:(N,z)=>{N.getSystem().isConnected()&&b.getOpt(N).each(q=>{jn.set(q,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(z)]},p(z)])})},updateText:(N,z)=>{if(N.getSystem().isConnected()){const q=u.get(N);jn.set(q,[Vr(z)])}}},k=Qn([s.icon.toArray(),s.level.toArray(),s.level.bind(N=>D.from(SF[N])).toArray()]),E=Cs(Ua.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":s.backstageProvider.translate("Close")}},components:[$c("close",{tag:"span",classes:["tox-icon"]},s.iconProvider)],buttonBehaviours:Zt([Us.config({}),si.config({...s.backstageProvider.tooltips.getConfig({tooltipText:s.backstageProvider.translate("Close")})})]),action:N=>{s.onAction(N)}})),R=((N,z,q)=>{const J=q(),ce=Q(N,me=>Eo(J,Mp(me,J)));return hR({tag:"div",classes:["tox-notification__icon"]},ce.getOr(mR),J,D.none())})(k,0,s.iconProvider),L=[R,{dom:{tag:"div",classes:["tox-notification__body"]},components:[u.asSpec()],behaviours:Zt([jn.config({})])}];return{uid:s.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":a},classes:s.level.map(N=>["tox-notification","tox-notification--in",`tox-notification--${N}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Zt([Us.config({}),to.config({}),Nn.config({mode:"special",onEscape:N=>(s.onAction(N),D.some(!0))})]),components:L.concat(s.progress?[b.asSpec()]:[]).concat([E.asSpec()]),apis:w}},configFields:[jo("level"),Ot("progress"),jo("icon"),Ot("onAction"),Ot("text"),Ot("iconProvider"),Ot("backstageProvider")],apis:{updateProgress:(s,a,u)=>{s.updateProgress(a,u)},updateText:(s,a,u)=>{s.updateText(a,u)}}});var pR=(s,a,u,f)=>{const p=a.backstage.shared,b=()=>rn(s.queryCommandValue("ToggleView")===""?s.getContentAreaContainer():s.getContainer()),w=()=>{const E=ai(b());return D.some(E)},k=E=>{w().each(R=>{Mt(E,L=>{ws(L.element,"width"),Oi(L.element)>R.width&&co(L.element,"width",R.width+"px")})})};return{open:(E,R,L)=>{const N=()=>{f.on(J=>{R();const ce=L();(me=>{jn.remove(me,z),q()})(J),((me,xe)=>{Is(me.element).length===0?((de,ue)=>{hr.hide(de),f.clear(),ue&&s.focus()})(me,xe):((de,ue)=>{ue&&Nn.focusIn(de)})(me,xe)})(J,ce)})},z=ji(xA.sketch({text:E.text,level:et(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:N,iconProvider:p.providers.icons,backstageProvider:p.providers}));if(f.isSet()){const J=nl(z);f.on(ce=>{jn.append(ce,J),hr.reposition(ce),cr.refresh(ce),k(ce.components())})}else{const J=ji(hr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:p.getSink,fireDismissalEventInstead:{},...p.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Nn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),jn.config({}),...vh(s)&&!p.header.isPositionedAtTop()?[]:[cr.config({contextual:{lazyContext:()=>D.some(ai(b())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:de=>Ip(s,de.element).map(ue=>({bounds:Np(ue),optScrollEnv:D.some({currentScrollTop:ue.element.dom.scrollTop,scrollElmTop:Pl(ue.element).top})})).getOrThunk(()=>({bounds:$i(),optScrollEnv:D.none()}))})]])})),ce=nl(z),me={maxHeightFunction:lh()},xe={...p.anchors.banner(),overrides:me};f.set(J),u.add(J),hr.showWithinBounds(J,ce,{anchor:xe},w)}X(E.timeout)&&E.timeout>0&&o_.setEditorTimeout(s,()=>{N()},E.timeout);const q=()=>{f.on(J=>{hr.reposition(J),cr.refresh(J),k(J.components())})};return{close:N,reposition:q,text:J=>{xA.updateText(z,J)},settings:E,getEl:()=>z.element.dom,progressBar:{value:J=>{xA.updateProgress(z,J)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},A2;(function(s){s[s.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",s[s.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(A2||(A2={}));var Yf=A2;const __="tox-menu-nav__js",S_="tox-collection__item",vR="tox-swatch",bR={normal:__,color:vR},yR="tox-collection__item--enabled",xR="tox-collection__item-icon",T2="tox-collection__item-label",wA="tox-collection__item-caret",rg="tox-collection__item--active",O2="tox-collection__item-container",D2="tox-collection__item-container--row",Bp=s=>hn(bR,s).getOr(__),vW=s=>s==="color"?"tox-swatches":"tox-menu",CA=s=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:vW(s),tieredMenu:"tox-tiered-menu"}),Bb=s=>{const a=CA(s);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:Bp(s)}},wR=(s,a,u)=>{const f=CA(u);return{tag:"div",classes:Qn([[f.menu,`tox-menu-${a}-column`],s?[f.hasIcons]:[]])}},CR=[Db.parts.items({})],k_=(s,a,u)=>{const f=CA(u);return{dom:{tag:"div",classes:Qn([[f.tieredMenu]])},markers:Bb(u)}},kF=te([jo("data"),it("inputAttributes",{}),it("inputStyles",{}),it("tag","input"),it("inputClasses",[]),Yo("onSetValue"),it("styles",{}),it("eventOrder",{}),yn("inputBehaviours",[lt,to]),it("selectOnFocus",!0)]),EF=s=>Zt([to.config({onFocus:s.selectOnFocus?a=>{const u=a.element,f=Rf(u);u.dom.setSelectionRange(0,f.length)}:fe})]),AF=s=>({...EF(s),...yo(s.inputBehaviours,[lt.config({store:{mode:"manual",...s.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>Rf(a.element),setValue:(a,u)=>{Rf(a.element)!==u&&zm(a.element,u)}},onSetValue:s.onSetValue})])}),_R=s=>({tag:s.tag,attributes:{type:"text",...s.inputAttributes},styles:s.inputStyles,classes:s.inputClasses}),yh=pu({name:"Input",configFields:kF(),factory:(s,a)=>({uid:s.uid,dom:_R(s),components:[],behaviours:AF(s),eventOrder:s.eventOrder})}),SR=bn("refetch-trigger-event"),kR=bn("redirect-menu-item-interaction"),ER="tox-menu__searcher",R2=s=>ur(s.element,`.${ER}`).bind(a=>s.getSystem().getByDom(a).toOptional()),AR=R2,TR=s=>({fetchPattern:lt.getValue(s),selectionStart:s.element.dom.selectionStart,selectionEnd:s.element.dom.selectionEnd}),OR=s=>{const a=(p,b)=>(b.cut(),D.none()),u=(p,b)=>{const w={interactionEvent:b.event,eventType:b.event.raw.type};return Rn(p,kR,w),D.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[S_]},components:[yh.sketch({inputClasses:[ER,"tox-textfield"],inputAttributes:{...s.placeholder.map(p=>({placeholder:s.i18n(p)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Zt([Co(f,[St(Im(),p=>{ko(p,SR)}),St(Sr(),(p,b)=>{b.event.raw.key==="Escape"&&b.stop()})]),Nn.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:u,onEscape:u,onUp:u,onDown:u})]),eventOrder:{keydown:[f,Nn.name()]}})]}},I2="tox-collection--results__js",DR=s=>{var a;return s.dom?{...s,dom:{...s.dom,attributes:{...(a=s.dom.attributes)!==null&&a!==void 0?a:{},id:bn("aria-item-search-result-id"),"aria-selected":"false"}}}:s},E_=(s,a)=>u=>{const f=tt(u,a);return Ye(f,p=>({dom:s,components:p}))},RR=(s,a)=>{const u=[];let f=[];return Mt(s,(p,b)=>{a(p,b)?(f.length>0&&u.push(f),f=[],(Eo(p.dom,"innerHtml")||p.components&&p.components.length>0)&&f.push(p)):f.push(p)}),f.length>0&&u.push(f),Ye(u,p=>({dom:{tag:"div",classes:["tox-collection__group"]},components:p}))},N2=(s,a,u)=>Db.parts.items({preprocess:f=>{const p=Ye(f,u);return s!=="auto"&&s>1?E_({tag:"div",classes:["tox-collection__group"]},s)(p):RR(p,(b,w)=>a[w].type==="separator")}}),_A=(s,a,u=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(s===1?["tox-collection--list"]:["tox-collection--grid"])},components:[N2(s,a,Ce)]}),P2=s=>pt(s,a=>"icon"in a&&a.icon!==void 0),ig=s=>(console.error(Qa(s)),console.log(s),D.none()),TF=(s,a,u,f,p)=>{const b=(w=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Db.parts.items({preprocess:k=>RR(k,(E,R)=>w[R].type==="separator")})]});var w;return{value:s,dom:b.dom,components:b.components,items:u}},SA=(s,a,u,f,p)=>{if(p.menuType==="color"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Db.parts.items({preprocess:w!=="auto"?E_({tag:"div",classes:["tox-swatches__row"]},w):Ce})]}]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"&&f==="auto"){const b=_A(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="normal"||p.menuType==="searchable"){const b=p.menuType!=="searchable"?_A(f,u):p.searchMode.searchMode==="search-with-field"?((w,k,E)=>{const R=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(w===1?["tox-collection--list"]:["tox-collection--grid"])},components:[OR({i18n:td.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...w===1?["tox-collection--list"]:["tox-collection--grid"],I2],attributes:{id:R}},components:[N2(w,k,DR)]}]}})(f,u,p.searchMode):((w,k,E=!0)=>{const R=bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",I2].concat(w===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:R}},components:[N2(w,k,DR)]}})(f,u);return{value:s,dom:b.dom,components:b.components,items:u}}if(p.menuType==="listpreview"&&f!=="auto"){const b=(w=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Db.parts.items({preprocess:E_({tag:"div",classes:["tox-collection__group"]},w)})]}))(f);return{value:s,dom:b.dom,components:b.components,items:u}}return{value:s,dom:wR(a,f,p.menuType),components:CR,items:u}},bi=_r("type"),kA=_r("name"),EA=_r("label"),nd=_r("text"),AA=_r("title"),TA=_r("icon"),Lb=_r("value"),OF=La("fetch"),IR=La("getSubmenuItems"),$0=La("onAction"),NR=La("onItemAction"),Lp=Xs("onSetup",()=>fe),DF=Fr("name"),Fp=Fr("text"),RF=Fr("role"),od=Fr("icon"),M2=Fr("tooltip"),OA=Fr("label"),U0=Fr("shortcut"),DA=su("select"),A_=ti("active",!1),bW=ti("borderless",!1),sd=ti("enabled",!0),T_=ti("primary",!1),PR=s=>it("columns",s),Uc=it("meta",{}),RA=Xs("onAction",fe),Fb=s=>Zl("type",s),IA=s=>li("name","name",Hg(()=>bn(`${s}-name`)),Ci),MR=Un([bi,Fp]),IF=Un([Fb("autocompleteitem"),A_,sd,Uc,Lb,Fp,od]),ag=[sd,M2,od,Fp,Lp],NA=Un([bi,$0,U0].concat(ag)),BR=s=>Cr("toolbarbutton",NA,s),B2=[A_].concat(ag),O_=Un(B2.concat([bi,$0,U0])),D_=s=>Cr("ToggleButton",O_,s),LR=[Xs("predicate",Se),Ec("scope","node",["node","editor"]),Ec("position","selection",["node","selection","line"])],NF=ag.concat([Fb("contextformbutton"),T_,$0,Ui("original",Ce)]),PF=B2.concat([Fb("contextformbutton"),T_,$0,Ui("original",Ce)]),MF=ag.concat([Fb("contextformbutton")]),BF=B2.concat([Fb("contextformtogglebutton")]),LF=hi("type",{contextformbutton:NF,contextformtogglebutton:PF}),FF=Un([Fb("contextform"),Xs("initValue",te("")),OA,el("commands",LF),Wr("launch",hi("type",{contextformbutton:MF,contextformtogglebutton:BF}))].concat(LR)),FR=Un([Fb("contexttoolbar"),_r("items")].concat(LR)),R_=[bi,_r("src"),Fr("alt"),Os("classes",[],Ci)],VF=Un(R_),zF=[bi,nd,DF,Os("classes",["tox-collection__item-label"],Ci)],HF=Un(zF),VR=Am(()=>Wu("type",{cardimage:VF,cardtext:HF,cardcontainer:W0})),W0=Un([bi,Zl("direction","horizontal"),Zl("align","left"),Zl("valign","middle"),el("items",VR)]),Vb=[sd,Fp,RF,U0,li("value","value",Hg(()=>bn("menuitem-value")),Bl()),Uc],$F=Un([bi,OA,el("items",VR),Lp,RA].concat(Vb)),PA=Un([bi,A_,od].concat(Vb)),zR=[bi,_r("fancytype"),RA],HR=[it("initData",{})].concat(zR),$R=[su("select"),Va("initData",{},[ti("allowCustomColors",!0),Zl("storageKey","default"),H1("colors",Bl())])].concat(zR),UR=hi("fancytype",{inserttable:HR,colorswatch:$R}),WR=Un([bi,Lp,RA,od].concat(Vb)),ZR=Un([bi,IR,Lp,od].concat(Vb)),UF=Un([bi,od,A_,Lp,$0].concat(Vb)),MA=(s,a,u)=>{const f=Si(s.element,"."+u);if(f.length>0){const p=xs(f,b=>{const w=b.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(w-k)>a}).getOr(f.length);return D.some({numColumns:p,numRows:Math.ceil(f.length/p)})}return D.none()},L2=s=>((a,u)=>Zt([Co(a,u)]))(bn("unnamed-events"),s),I_="silver.readonly",WF=Un([Wi("readonly",nc)]),zb=(s,a)=>{const u=s.mainUi.outerContainer.element,f=[s.mainUi.mothership,...s.uiMotherships];a&&Mt(f,p=>{p.broadcastOn([M()],{target:u})}),Mt(f,p=>{p.broadcastOn([I_],{readonly:a})})},jR=(s,a)=>{s.on("init",()=>{s.mode.isReadOnly()&&zb(a,!0)}),s.on("SwitchMode",()=>zb(a,s.mode.isReadOnly())),oA(s)&&s.mode.set("readonly")},Pi=()=>yl.config({channels:{[I_]:{schema:WF,onReceive:(s,a)=>{so.set(s,a.readonly)}}}}),Da=s=>so.config({disabled:s}),KR=s=>so.config({disabled:s,disableClass:"tox-tbtn--disabled"}),N_=s=>so.config({disabled:s,disableClass:"tox-tbtn--disabled",useNative:!1}),F2=(s,a)=>{const u=s.getApi(a);return f=>{f(u)}},Vp=(s,a)=>nr(u=>{F2(s,u)(f=>{const p=s.onSetup(f);K(p)&&a.set(p)})}),xh=(s,a)=>Gu(u=>F2(s,u)(a.get())),GR=(s,a)=>lu((u,f)=>{F2(s,u)(s.onAction),s.triggersSubmenu||a!==Yf.CLOSE_ON_EXECUTE||(u.getSystem().isConnected()&&ko(u,Mv()),f.stop())}),ZF={[pl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Z0=ea,j0=(s,a,u,f)=>{const p=Bn(fe);return{type:"item",dom:a.dom,components:Z0(a.optComponents),data:s.data,eventOrder:ZF,hasSubmenu:s.triggersSubmenu,itemBehaviours:Zt([Co("item-events",[GR(s,u),Vp(s,p),xh(s,p)]),(b=()=>!s.enabled||f.isDisabled(),so.config({disabled:b,disableClass:"tox-collection__item--state-disabled"})),Pi(),jn.config({})].concat(s.itemBehaviours))};var b},K0=s=>({value:s.value,meta:{text:s.text.getOr(""),...s.meta}}),P_=s=>{const a=Kf.os.isMacOS()||Kf.os.isiOS(),u=a?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=s.split("+"),p=Ye(f,b=>{const w=b.toLowerCase().trim();return Eo(u,w)?u[w]:b});return a?p.join(""):p.join("+")},BA=(s,a,u=[xR])=>$c(s,{tag:"div",classes:u},a),qR=s=>({dom:{tag:"div",classes:[T2]},components:[Vr(td.translate(s))]}),LA=(s,a)=>({dom:{tag:"div",classes:a,innerHtml:s}}),YR=(s,a)=>({dom:{tag:"div",classes:[T2]},components:[{dom:{tag:s.tag,styles:s.styles},components:[Vr(td.translate(a))]}]}),XR=s=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Vr(P_(s))]}),JR=s=>BA("checkmark",s,["tox-collection__item-checkmark"]),QR=s=>{const a=s.map(u=>({attributes:{id:bn("menu-item"),"aria-label":td.translate(u)}})).getOr({});return{tag:"div",classes:[__,S_],...a}},V2=(s,a,u,f=D.none())=>s.presets==="color"?((p,b,w)=>{const k=p.value,E=p.iconContent.map(L=>((N,z,q)=>{const J=z();return E2(N,J).or(q).getOrThunk(yA(J))})(L,b.icons,w)),R=p.ariaLabel.map(L=>({"aria-label":b.translate(L),"data-mce-name":L})).getOr({});return{dom:(()=>{const L=vR,N=E.getOr(""),z={tag:"div",attributes:R,classes:[L]};return k==="custom"?{...z,tag:"button",classes:[...z.classes,"tox-swatches__picker-btn"],innerHtml:N}:k==="remove"?{...z,classes:[...z.classes,"tox-swatch--remove"],innerHtml:N}:Z(k)?{...z,attributes:{...z.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:N}:z})(),optComponents:[]}})(s,a,f):((p,b,w,k)=>{const E={tag:"div",classes:[xR]},R=w?p.iconContent.map(q=>$c(q,E,b.icons,k)).orThunk(()=>D.some({dom:E})):D.none(),L=p.checkMark,N=D.from(p.meta).fold(()=>qR,q=>Eo(q,"style")?Ue(YR,q.style):qR),z=p.htmlContent.fold(()=>p.textContent.map(N),q=>D.some(LA(q,[T2])));return{dom:QR(p.ariaLabel),optComponents:[R,z,p.shortcutContent.map(XR),L,p.caret]}})(s,a,u,f),eI=(s,a,u)=>hn(s,"tooltipWorker").map(f=>[si.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:p=>({type:"submenu",item:p,overrides:{maxHeightFunction:lh}}),mode:"follow-highlight",onShow:(p,b)=>{f(w=>{si.setComponents(p,[If({element:rn(w)})])})}})]).getOrThunk(()=>u.map(f=>[si.config({...a.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),FA=(s,a)=>{const u=(f=>B0.DOM.encode(f))(td.translate(s));if(a.length>0){const f=new RegExp((p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(a),"gi");return u.replace(f,p=>`<span class="tox-autocompleter-highlight">${p}</span>`)}return u},VA=(s,a)=>Ye(s,u=>{switch(u.type){case"cardcontainer":return((b,w)=>{const k=b.direction==="vertical"?"tox-collection__item-container--column":D2,E=b.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[O2,k,E,(()=>{switch(b.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:w}})(u,VA(u.items,a));case"cardimage":return((b,w,k)=>({dom:{tag:"img",classes:w,attributes:{src:b,alt:k.getOr("")}}}))(u.src,u.classes,u.alt);case"cardtext":const f=u.name.exists(b=>et(a.cardText.highlightOn,b)),p=f?D.from(a.cardText.matchText).getOr(""):"";return LA(FA(u.text,p),u.classes)}}),wh=rl(eA(),tA()),zA=s=>({value:Hb(s)}),HA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,tI=s=>HA.test(s)||$A.test(s),Hb=s=>zs(s,"#").toUpperCase(),UA=s=>{const a=s.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},z2=s=>{const a=UA(s.red)+UA(s.green)+UA(s.blue);return zA(a)},WA=Math.min,nI=Math.max,M_=Math.round,jF=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,oI=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ch=(s,a,u,f)=>({red:s,green:a,blue:u,alpha:f}),H2=s=>{const a=parseInt(s,10);return a.toString()===s&&a>=0&&a<=255},sI=s=>{let a,u,f;const p=(s.hue||0)%360;let b=s.saturation/100,w=s.value/100;if(b=nI(0,WA(b,1)),w=nI(0,WA(w,1)),b===0)return a=u=f=M_(255*w),Ch(a,u,f,1);const k=p/60,E=w*b,R=E*(1-Math.abs(k%2-1)),L=w-E;switch(Math.floor(k)){case 0:a=E,u=R,f=0;break;case 1:a=R,u=E,f=0;break;case 2:a=0,u=E,f=R;break;case 3:a=0,u=R,f=E;break;case 4:a=R,u=0,f=E;break;case 5:a=E,u=0,f=R;break;default:a=u=f=0}return a=M_(255*(a+L)),u=M_(255*(u+L)),f=M_(255*(f+L)),Ch(a,u,f,1)},Kd=s=>{const a=(b=>{const w=(E=>({value:E.value.replace(HA,(L,N,z,q)=>N+N+z+z+q+q)}))(b),k=$A.exec(w.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(s),u=parseInt(a[1],16),f=parseInt(a[2],16),p=parseInt(a[3],16);return Ch(u,f,p,1)},ZA=(s,a,u,f)=>{const p=parseInt(s,10),b=parseInt(a,10),w=parseInt(u,10),k=parseFloat(f);return Ch(p,b,w,k)},B_=s=>{const a=jF.exec(s);if(a!==null)return D.some(ZA(a[1],a[2],a[3],"1"));const u=oI.exec(s);return u!==null?D.some(ZA(u[1],u[2],u[3],u[4])):D.none()},rI=s=>`rgba(${s.red},${s.green},${s.blue},${s.alpha})`,iI=Ch(255,0,0,1),$b=(s,a)=>{s.dispatch("ResizeContent",a)},G0=(s,a)=>{s.dispatch("TextColorChange",a)},aI=(s,a)=>s.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),q0=(s,a)=>()=>{s(),a()},Mi=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.selection.isEditable())}),Xf=(s,a)=>u=>{const f=Mi(s)(u),p=((b,w)=>k=>{const E=Sc(),R=()=>{k.setActive(b.formatter.match(w));const L=b.formatter.formatChanged(w,k.setActive);E.set(L)};return b.initialized?R():b.once("init",R),()=>{b.off("init",R),E.clear()}})(s,a)(u);return()=>{f(),p()}},Ub=(s,a,u)=>f=>{const p=()=>u(f),b=()=>{u(f),s.on(a,p)};return s.initialized?b():s.once("init",b),()=>{s.off("init",b),s.off(a,p)}},lI=s=>a=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("mceToggleFormat",!1,a.format)})},cc=(s,a)=>()=>s.execCommand(a);var Wc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const L_={},cI=s=>hn(L_,s).getOrThunk(()=>{const a=`tinymce-custom-colors-${s}`,u=Wc.getItem(a);if($(u)){const p=Wc.getItem("tinymce-custom-colors");Wc.setItem(a,Z(p)?p:"[]")}const f=((p,b=10)=>{const w=Wc.getItem(p),k=v(w)?JSON.parse(w):[],E=b-(R=k).length<0?R.slice(0,b):R;var R;const L=N=>{E.splice(N,1)};return{add:N=>{((z,q)=>{const J=Jt(z,q);return J===-1?D.none():D.some(J)})(E,N).each(L),E.unshift(N),E.length>b&&E.pop(),Wc.setItem(p,JSON.stringify(E))},state:()=>E.slice(0)}})(a,10);return L_[s]=f,f}),jA=(s,a)=>{cI(s).add(a)},Y0=(s,a,u)=>({hue:s,saturation:a,value:u}),F_=s=>{let a=0,u=0,f=0;const p=s.red/255,b=s.green/255,w=s.blue/255,k=Math.min(p,Math.min(b,w)),E=Math.max(p,Math.max(b,w));return k===E?(f=k,Y0(0,0,100*f)):(a=p===k?3:w===k?1:5,a=60*(a-(p===k?b-w:w===k?p-b:w-p)/(E-k)),u=(E-k)/E,f=E,Y0(Math.round(a),Math.round(100*u),Math.round(100*f)))},V_=s=>z2(sI(s)),uI=s=>{return(a=s,tI(a)?D.some({value:Hb(a)}):D.none()).orThunk(()=>B_(s).map(z2)).getOrThunk(()=>{const u=document.createElement("canvas");u.height=1,u.width=1;const f=u.getContext("2d");f.clearRect(0,0,u.width,u.height),f.fillStyle="#FFFFFF",f.fillStyle=s,f.fillRect(0,0,1,1);const p=f.getImageData(0,0,1,1).data,b=p[0],w=p[1],k=p[2],E=p[3];return z2(Ch(b,w,k,E))});var a},KA="forecolor",GA="hilitecolor",KF=s=>{const a=[];for(let u=0;u<s.length;u+=2)a.push({text:s[u+1],value:"#"+uI(s[u]).value,icon:"checkmark",type:"choiceitem"});return a},rd=s=>a=>a.options.get(s),$2="#000000",Wb=(s,a)=>a===KA&&s.options.isSet("color_map_foreground")?rd("color_map_foreground")(s):a===GA&&s.options.isSet("color_map_background")?rd("color_map_background")(s):rd("color_map")(s),z_=(s,a="default")=>Math.max(5,Math.ceil(Math.sqrt(Wb(s,a).length))),dI=(s,a)=>{const u=rd("color_cols")(s),f=z_(s,a);return u===z_(s)?f:u},qA=(s,a="default")=>Math.round(a===KA?rd("color_cols_foreground")(s):a===GA?rd("color_cols_background")(s):rd("color_cols")(s)),YA=rd("custom_colors"),fI=rd("color_default_foreground"),mI=rd("color_default_background"),gI=(s,a)=>{const u=rn(s.selection.getStart()),f=a==="hilitecolor"?Wg(u,p=>{if(ir(p)){const b=wr(p,"background-color");return ss(B_(b).exists(w=>w.alpha!==0),b)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):wr(u,"color");return B_(f).map(p=>"#"+z2(p).value)},H_=s=>{const a="choiceitem",u={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return s?[u,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]},XA=(s,a,u,f)=>{u==="custom"?vI(s)(p=>{p.each(b=>{jA(a,b),s.execCommand("mceApplyTextcolor",a,b),f(b)})},gI(s,a).getOr($2)):u==="remove"?(f(""),s.execCommand("mceRemoveTextcolor",a)):(f(u),s.execCommand("mceApplyTextcolor",a,u))},JA=(s,a,u)=>s.concat((f=>Ye(cI(f).state(),p=>({type:"choiceitem",text:p,icon:"checkmark",value:p})))(a).concat(H_(u))),hI=(s,a,u)=>f=>{f(JA(s,a,u))},QA=(s,a,u)=>{const f=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s.setIconFill(f,u)},e3=(s,a)=>{s.setTooltip(a)},pI=(s,a)=>u=>{const f=gI(s,a);return tr(f,u.toUpperCase())},t3=(s,a,u)=>{if(Nu(u))return a==="forecolor"?"Text color":"Background color";const f=a==="forecolor"?"Text color {0}":"Background color {0}",p=JA(Wb(s,a),a,!1),b=Q(p,w=>w.value===u).getOr({text:""}).text;return s.translate([f,s.translate(b)])},n3=(s,a,u,f)=>{s.ui.registry.addSplitButton(a,{tooltip:t3(s,u,f.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:pI(s,u),columns:qA(s,u),fetch:hI(Wb(s,u),u,YA(s)),onAction:p=>{XA(s,u,f.get(),fe)},onItemAction:(p,b)=>{XA(s,u,b,w=>{f.set(w),G0(s,{name:a,color:w})})},onSetup:p=>{QA(p,a,f.get());const b=w=>{w.name===a&&(QA(p,w.name,w.color),e3(p,t3(s,u,w.color)))};return s.on("TextColorChange",b),q0(Mi(s)(p),()=>{s.off("TextColorChange",b)})}})},X0=(s,a,u,f,p)=>{s.ui.registry.addNestedMenuItem(a,{text:f,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:b=>(e3(b,t3(s,u,p.get())),QA(b,a,p.get()),Mi(s)(b)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:pI(s,u),initData:{storageKey:u},onAction:b=>{XA(s,u,b.value,w=>{p.set(w),G0(s,{name:a,color:w})})}}]})},vI=s=>(a,u)=>{let f=!1;const p={colorpicker:u};s.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:(b,w)=>{w.name==="hex-valid"&&(f=w.value)},onSubmit:b=>{const w=b.getData().colorpicker;f?(a(D.from(w)),b.close()):s.windowManager.alert(s.translate(["Invalid hex color code: {0}",w]))},onClose:fe,onCancel:()=>{a(D.none())}})},Zb=(s,a,u,f,p,b,w,k)=>{const E=P2(a),R=o3(a,u,f,p!=="color"?"normal":"color",b,w,k);return SA(s,E,R,f,{menuType:p})},o3=(s,a,u,f,p,b,w)=>ea(Ye(s,k=>{return k.type==="choiceitem"?(E=k,Cr("choicemenuitem",PA,E)).fold(ig,R=>D.some(((L,N,z,q,J,ce,me,xe=!0)=>{const de=V2({presets:z,textContent:N?L.text:D.none(),htmlContent:D.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:N?L.shortcut:D.none(),checkMark:N?D.some(JR(me.icons)):D.none(),caret:D.none(),value:L.value},me,xe),ue=L.text.filter(te(!N)).map(ve=>si.config(me.tooltips.getConfig({tooltipText:me.translate(ve)})));return Ns(j0({data:K0(L),enabled:L.enabled,getApi:ve=>({setActive:we=>{Jn.set(ve,we)},isActive:()=>Jn.isOn(ve),isEnabled:()=>!so.isDisabled(ve),setEnabled:we=>so.set(ve,!we)}),onAction:ve=>q(L.value),onSetup:ve=>(ve.setActive(J),fe),triggersSubmenu:!1,itemBehaviours:[...ue.toArray()]},de,ce,me),{toggling:{toggleClass:yR,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(R,u===1,f,a,b(R.value),p,w,P2(s)))):D.none();var E})),U2=(s,a)=>{const u=Bb(a);return s===1?{mode:"menu",moveOnTab:!0}:s==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>a==="color"?ur(f.element,"[aria-checked=true]"):D.none()}},s3=bn("cell-over"),bI=bn("cell-execute"),GF=(s,a,u)=>{const f=b=>Rn(b,bI,{row:s,col:a}),p=(b,w)=>{w.stop(),f(b)};return ji({dom:{tag:"div",attributes:{role:"button","aria-label":u}},behaviours:Zt([Co("insert-table-picker-cell",[St(Tn(),to.focus),St(pl(),f),St(pi(),p),St(Cf(),p)]),Jn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),to.config({onFocus:b=>Rn(b,s3,{row:s,col:a})})])})},yI=s=>tn(s,a=>Ye(a,nl)),xI=(s,a)=>Vr(`${a}x${s}`),wI={inserttable:(s,a)=>{const u=(w=>(k,E)=>w.shared.providers.translate(["{0} columns, {1} rows",E,k]))(a),f=((w,k,E)=>{const R=[];for(let L=0;L<10;L++){const N=[];for(let z=0;z<10;z++){const q=w(L+1,z+1);N.push(GF(L,z,q))}R.push(N)}return R})(u),p=xI(0,0),b=Cs({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:Zt([jn.config({})])});return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:yI(f).concat(b.asSpec()),behaviours:Zt([Co("insert-table-picker",[nr(w=>{jn.set(b.get(w),[p])}),jg(s3,(w,k,E)=>{const{row:R,col:L}=E.event;((N,z,q,J,ce)=>{for(let me=0;me<10;me++)for(let xe=0;xe<10;xe++)Jn.set(N[me][xe],me<=z&&xe<=q)})(f,R,L),jn.set(b.get(w),[xI(R+1,L+1)])}),jg(bI,(w,k,E)=>{const{row:R,col:L}=E.event;ko(w,Mv()),s.onAction({numRows:R+1,numColumns:L+1})})]),Nn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(s,a)=>{const u=((w,k)=>{const E=w.initData.allowCustomColors&&k.colorinput.hasCustomColors();return w.initData.colors.fold(()=>JA(k.colorinput.getColors(w.initData.storageKey),w.initData.storageKey,E),R=>R.concat(H_(E)))})(s,a),f=a.colorinput.getColorCols(s.initData.storageKey),p="color",b={...Zb(bn("menu-value"),u,w=>{s.onAction({value:w})},f,p,Yf.CLOSE_ON_EXECUTE,s.select.getOr(Se),a.shared.providers),markers:Bb(p),movement:U2(f,p),showMenuRole:!1};return{type:"widget",data:{value:bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wh.widget(Db.sketch(b))]}}},CI=s=>({type:"separator",dom:{tag:"div",classes:[S_,"tox-collection__group-heading"]},components:s.text.map(Vr).toArray()});var qF=Object.freeze({__proto__:null,getCoupled:(s,a,u,f)=>u.getOrCreate(s,a,f),getExistingCoupled:(s,a,u,f)=>u.getExisting(s,a,f)}),_I=[Wi("others",Dv(Bo.value,Bl()))],$_=Object.freeze({__proto__:null,init:()=>{const s={},a=(f,p)=>{if(wn(f.others).length===0)throw new Error("Cannot find any known coupled components");return hn(s,p)},u=te({});return Ii({readState:u,getExisting:(f,p,b)=>a(p,b).orThunk(()=>(hn(p.others,b).getOrDie("No information found for coupled component: "+b),D.none())),getOrCreate:(f,p,b)=>a(p,b).getOrThunk(()=>{const w=hn(p.others,b).getOrDie("No information found for coupled component: "+b)(f),k=f.getSystem().build(w);return s[b]=k,k})})}});const zr=Ni({fields:_I,name:"coupling",apis:qF,state:$_}),W2=s=>{let a=D.none(),u=[];const f=w=>{p()?b(w):u.push(w)},p=()=>a.isSome(),b=w=>{a.each(k=>{setTimeout(()=>{w(k)},0)})};return s(w=>{p()||(a=D.some(w),Mt(u,b),u=[])}),{get:f,map:w=>W2(k=>{f(E=>{k(w(E))})}),isReady:p}},YF={nu:W2,pure:s=>W2(a=>{a(s)})},XF=s=>{setTimeout(()=>{throw s},0)},J0=s=>{const a=u=>{s().then(u,XF)};return{map:u=>J0(()=>s().then(u)),bind:u=>J0(()=>s().then(f=>u(f).toPromise())),anonBind:u=>J0(()=>s().then(()=>u.toPromise())),toLazy:()=>YF.nu(a),toCached:()=>{let u=null;return J0(()=>(u===null&&(u=s()),u))},toPromise:s,get:a}},zp=s=>J0(()=>new Promise(s)),lg=s=>J0(()=>Promise.resolve(s)),r3=te("sink"),SI=te(hu({name:r3(),overrides:te({dom:{tag:"div"},behaviours:Zt([ga.config({useFixed:Me})]),events:fo([Pm(Sr()),Pm(Dt()),Pm(pi())])})})),kI=(s,a)=>{const u=s.getHotspot(a).getOr(a),f="hotspot",p=s.getAnchorOverrides();return s.layouts.fold(()=>({type:f,hotspot:u,overrides:p}),b=>({type:f,hotspot:u,overrides:p,layouts:b}))},U_=(s,a,u,f,p,b,w)=>((E,R,L,N,z,q,J)=>{const ce=((xe,de,ue)=>(0,xe.fetch)(ue).map(de))(E,R,N),me=EI(N,E);return ce.map(xe=>xe.bind(de=>{const ue=de.menus[de.primary];return D.from(ue).each(ve=>{E.listRole.each(we=>{ve.role=we})}),D.from(hh.sketch({...q.menu(),uid:Pc(""),data:de,highlightOnOpen:J,onOpenMenu:(ve,we)=>{const ke=me().getOrDie();ga.position(ke,we,{anchor:L}),T.decloak(z)},onOpenSubmenu:(ve,we,ke)=>{const ze=me().getOrDie();ga.position(ze,ke,{anchor:{type:"submenu",item:we}}),T.decloak(z)},onRepositionMenu:(ve,we,ke)=>{const ze=me().getOrDie();ga.position(ze,we,{anchor:L}),Mt(ke,ot=>{ga.position(ze,ot.triggeredMenu,{anchor:{type:"submenu",item:ot.triggeringItem}})})},onEscape:()=>(to.focus(N),T.close(z),D.some(!0))}))}))})(s,a,kI(s,u),u,f,p,w).map(E=>(E.fold(()=>{T.isOpen(f)&&T.close(f)},R=>{T.cloak(f),T.open(f,R),b(f)}),f)),JF=(s,a,u,f,p,b,w)=>(T.close(f),lg(f)),i3=(s,a,u,f,p,b)=>{const w=zr.getCoupled(u,"sandbox");return(T.isOpen(w)?JF:U_)(s,a,u,w,f,p,b)},EI=(s,a)=>s.getSystem().getByUid(a.uid+"-"+r3()).map(u=>()=>Bo.value(u)).getOrThunk(()=>a.lazySink.fold(()=>()=>Bo.error(new Error("No internal sink is specified, nor could an external sink be found")),u=>()=>u(s))),a3=s=>{T.getState(s).each(a=>{hh.repositionMenus(a)})},l3=(s,a,u)=>{const f=nh(),p=EI(a,s);return{dom:{tag:"div",classes:s.sandboxClasses,attributes:{id:f.id}},behaviours:Xn(s.sandboxBehaviours,[lt.config({store:{mode:"memory",initialValue:a}}),T.config({onOpen:(b,w)=>{const k=kI(s,a);f.link(a.element),s.matchWidth&&((E,R,L)=>{const N=es.getCurrent(R).getOr(R),z=Oi(E.element);L?co(N.element,"min-width",z+"px"):((q,J)=>{Mg.set(q,J)})(N.element,z)})(k.hotspot,w,s.useMinWidth),s.onOpen(k,b,w),u!==void 0&&u.onOpen!==void 0&&u.onOpen(b,w)},onClose:(b,w)=>{f.unlink(a.element),p().getOr(w).element.dom.dispatchEvent(new window.FocusEvent("focusout")),u!==void 0&&u.onClose!==void 0&&u.onClose(b,w)},isPartOf:(b,w,k)=>bl(w,k)||bl(a,k),getAttachPoint:()=>p().getOrDie()}),es.config({find:b=>T.getState(b).bind(w=>es.getCurrent(w))}),yl.config({channels:{...se({isExtraPart:Se}),...De({doReposition:a3})}})])}},AI=s=>{const a=zr.getCoupled(s,"sandbox");a3(a)},c3=()=>[it("sandboxClasses",[]),oo("sandboxBehaviours",[es,yl,T,lt])],QF=te([Ot("dom"),Ot("fetch"),Yo("onOpen"),vl("onExecute"),it("getHotspot",D.some),it("getAnchorOverrides",te({})),Pf(),yn("dropdownBehaviours",[Jn,zr,Nn,to]),Ot("toggleClass"),it("eventOrder",{}),jo("lazySink"),it("matchWidth",!1),it("useMinWidth",!1),jo("role"),jo("listRole")].concat(c3())),e7=te([Wd({schema:[Xg(),it("fakeFocus",!1)],name:"menu",defaults:s=>({onExecute:s.onExecute})}),SI()]),Cl=Ll({name:"Dropdown",configFields:QF(),partFields:e7(),factory:(s,a,u,f)=>{const p=E=>{T.getState(E).each(R=>{hh.highlightPrimary(R)})},b=(E,R,L)=>i3(s,Ce,E,f,R,L),w={expand:E=>{Jn.isOn(E)||b(E,fe,il.HighlightNone).get(fe)},open:E=>{Jn.isOn(E)||b(E,fe,il.HighlightMenuAndItem).get(fe)},refetch:E=>zr.getExistingCoupled(E,"sandbox").fold(()=>b(E,fe,il.HighlightMenuAndItem).map(fe),R=>U_(s,Ce,E,R,f,fe,il.HighlightMenuAndItem).map(fe)),isOpen:Jn.isOn,close:E=>{Jn.isOn(E)&&b(E,fe,il.HighlightMenuAndItem).get(fe)},repositionMenus:E=>{Jn.isOn(E)&&AI(E)}},k=(E,R)=>(Af(E),D.some(!0));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.dropdownBehaviours,[Jn.config({toggleClass:s.toggleClass,aria:{mode:"expanded"}}),zr.config({others:{sandbox:E=>l3(s,E,{onOpen:()=>Jn.on(E),onClose:()=>Jn.off(E)})}}),Nn.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,R)=>{if(Cl.isOpen(E)){const L=zr.getCoupled(E,"sandbox");p(L)}else Cl.open(E);return D.some(!0)},onEscape:(E,R)=>Cl.isOpen(E)?(Cl.close(E),D.some(!0)):D.none()}),to.config({})]),events:M0(D.some(E=>{b(E,p,il.HighlightMenuAndItem).get(fe)})),eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},apis:w,domModification:{attributes:{"aria-haspopup":s.listRole.getOr("true"),...s.role.fold(()=>({}),E=>({role:E})),...s.dom.tag==="button"?{type:hn(s.dom,"attributes").bind(E=>hn(E,"type")).getOr("button")}:{}}}}},apis:{open:(s,a)=>s.open(a),refetch:(s,a)=>s.refetch(a),expand:(s,a)=>s.expand(a),close:(s,a)=>s.close(a),isOpen:(s,a)=>s.isOpen(a),repositionMenus:(s,a)=>s.repositionMenus(a)}}),TI=(s,a,u)=>{AR(s).each(f=>{var p;((b,w)=>{Zo(w.element,"id").each(k=>sn(b.element,"aria-activedescendant",k))})(f,u),(tl((p=a).element,I2)?D.some(p.element):ur(p.element,"."+I2)).each(b=>{Zo(b,"id").each(w=>sn(f.element,"aria-controls",w))})}),sn(u.element,"aria-selected","true")},t7=(s,a,u)=>{sn(u.element,"aria-selected","false")},jb=s=>zr.getExistingCoupled(s,"sandbox").bind(R2).map(TR).map(a=>a.fetchPattern).getOr("");var Z2;(function(s){s[s.ContentFocus=0]="ContentFocus",s[s.UiFocus=1]="UiFocus"})(Z2||(Z2={}));const n7=(s,a,u,f,p)=>{const b=u.shared.providers,w=E=>p?{...E,shortcut:D.none(),icon:E.text.isSome()?D.none():E.icon}:E;switch(s.type){case"menuitem":return(k=s,Cr("menuitem",WR,k)).fold(ig,E=>D.some(((R,L,N,z=!0)=>{const q=V2({presets:"normal",iconContent:R.icon,textContent:R.text,htmlContent:D.none(),ariaLabel:R.text,caret:D.none(),checkMark:D.none(),shortcutContent:R.shortcut},N,z);return j0({data:K0(R),getApi:J=>({isEnabled:()=>!so.isDisabled(J),setEnabled:ce=>so.set(J,!ce)}),enabled:R.enabled,onAction:R.onAction,onSetup:R.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,N)})(w(E),a,b,f)));case"nestedmenuitem":return(E=>Cr("nestedmenuitem",ZR,E))(s).fold(ig,E=>D.some(((R,L,N,z=!0,q=!1)=>{const J=q?(ce=N.icons,BA("chevron-down",ce,[wA])):(xe=>BA("chevron-right",xe,[wA]))(N.icons);var ce;const me=V2({presets:"normal",iconContent:R.icon,textContent:R.text,htmlContent:D.none(),ariaLabel:R.text,caret:D.some(J),checkMark:D.none(),shortcutContent:R.shortcut},N,z);return j0({data:K0(R),getApi:xe=>({isEnabled:()=>!so.isDisabled(xe),setEnabled:de=>so.set(xe,!de),setIconFill:(de,ue)=>{ur(xe.element,`svg path[class="${de}"], rect[class="${de}"]`).each(ve=>{sn(ve,"fill",ue)})},setTooltip:de=>{const ue=N.translate(de);sn(xe.element,"aria-label",ue)}}),enabled:R.enabled,onAction:fe,onSetup:R.onSetup,triggersSubmenu:!0,itemBehaviours:[]},me,L,N)})(w(E),a,b,f,p)));case"togglemenuitem":return(E=>Cr("togglemenuitem",UF,E))(s).fold(ig,E=>D.some(((R,L,N,z=!0)=>{const q=V2({iconContent:R.icon,textContent:R.text,htmlContent:D.none(),ariaLabel:R.text,checkMark:D.some(JR(N.icons)),caret:D.none(),shortcutContent:R.shortcut,presets:"normal",meta:R.meta},N,z);return Ns(j0({data:K0(R),enabled:R.enabled,getApi:J=>({setActive:ce=>{Jn.set(J,ce)},isActive:()=>Jn.isOn(J),isEnabled:()=>!so.isDisabled(J),setEnabled:ce=>so.set(J,!ce)}),onAction:R.onAction,onSetup:R.onSetup,triggersSubmenu:!1,itemBehaviours:[]},q,L,N),{toggling:{toggleClass:yR,toggleOnExecute:!1,selected:R.active},role:R.role.getOrUndefined()})})(w(E),a,b,f)));case"separator":return(E=>Cr("separatormenuitem",MR,E))(s).fold(ig,E=>D.some(CI(E)));case"fancymenuitem":return(E=>Cr("fancymenuitem",UR,E))(s).fold(ig,E=>((R,L)=>hn(wI,R.fancytype).map(N=>N(R,L)))(E,u));default:return console.error("Unknown item in general menu",s),D.none()}var k},Hp=(s,a,u,f,p,b,w)=>{const k=f===1,E=!k||P2(s);return ea(Ye(s,R=>{switch(R.type){case"separator":return(L=R,Cr("Autocompleter.Separator",MR,L)).fold(ig,N=>D.some(CI(N)));case"cardmenuitem":return(N=>Cr("cardmenuitem",$F,N))(R).fold(ig,N=>D.some(((z,q,J,ce)=>{const me={dom:QR(z.label),optComponents:[D.some({dom:{tag:"div",classes:[O2,D2]},components:VA(z.items,ce)})]};return j0({data:K0({text:D.none(),...z}),enabled:z.enabled,getApi:xe=>({isEnabled:()=>!so.isDisabled(xe),setEnabled:de=>{so.set(xe,!de),Mt(Si(xe.element,"*"),ue=>{xe.getSystem().getByDom(ue).each(ve=>{ve.hasConfigured(so)&&so.set(ve,!de)})})}}),onAction:z.onAction,onSetup:z.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(ce.itemBehaviours).getOr([])},me,q,J.providers)})({...N,onAction:z=>{N.onAction(z),u(N.value,N.meta)}},p,b,{itemBehaviours:eI(N.meta,b,D.none()),cardText:{matchText:a,highlightOn:w}})));default:return(N=>Cr("Autocompleter.Item",IF,N))(R).fold(ig,N=>D.some(((z,q,J,ce,me,xe,de,ue=!0)=>{const ve=V2({presets:ce,textContent:D.none(),htmlContent:J?z.text.map(ke=>FA(ke,q)):D.none(),ariaLabel:z.text,iconContent:z.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:z.value},de.providers,ue,z.icon),we=z.text.filter(ke=>!J&&ke!=="");return j0({data:K0(z),enabled:z.enabled,getApi:te({}),onAction:ke=>me(z.value,z.meta),onSetup:te(fe),triggersSubmenu:!1,itemBehaviours:eI(z,de,we)},ve,xe,de.providers)})(N,a,k,"normal",u,p,b,E)))}var L}))},OI=(s,a,u,f,p,b)=>{const w=P2(a),k=ea(Ye(a,R=>{const L=N=>n7(N,u,f,(z=>p?!Eo(z,"text"):w)(N),p);return R.type==="nestedmenuitem"&&R.getSubmenuItems().length<=0?L({...R,enabled:!1}):L(R)})),E=(R=>R.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:R})(b);return(p?TF:SA)(s,w,k,1,E)},u3=s=>hh.singleData(s.value,s),id=s=>Mf(rn(s.startContainer),s.startOffset,rn(s.endContainer),s.endOffset),DI=(s,a)=>{const u=bn("autocompleter"),f=Bn(!1),p=Bn(!1),b=ks(),w=ji(hr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:u}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissAutocompleter",[St(Zg(),()=>N()),St(ox(),(J,ce)=>{Zo(ce.event.target,"id").each(me=>sn(rn(s.getBody()),"aria-activedescendant",me))})])]),lazySink:a.getSink})),k=()=>hr.isOpen(w),E=p.get,R=()=>{if(k()){hr.hide(w),s.dom.remove(u,!1);const J=rn(s.getBody());Zo(J,"aria-owns").filter(ce=>ce===u).each(()=>{_o(J,"aria-owns"),_o(J,"aria-activedescendant")})}},L=()=>hr.getContent(w).bind(J=>gt(J.components(),0)),N=()=>s.execCommand("mceAutocompleterClose"),z=J=>{const ce=(me=>{const xe=Vt(me,de=>D.from(de.columns)).getOr(1);return tn(me,de=>{const ue=de.items;return Hp(ue,de.matchText,(ve,we)=>{const ke={hide:()=>N(),reload:ze=>{R(),s.execCommand("mceAutocompleterReload",!1,{fetchOptions:ze})}};s.execCommand("mceAutocompleterRefreshActiveRange"),b.get().each(ze=>{f.set(!0),de.onAction(ke,ze,ve,we),f.set(!1)})},xe,Yf.BUBBLE_TO_SANDBOX,a,de.highlightOn)})})(J);ce.length>0?(((me,xe)=>{const de=Vt(me,ue=>D.from(ue.columns)).getOr(1);hr.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>b.get().map(id),root:rn(s.getBody())}},((ue,ve,we,ke)=>{const ze=U2(ve,ke),ot=Bb(ke);return{data:u3({...ue,movement:ze,menuBehaviours:L2(ve!=="auto"?[]:[nr((Et,_t)=>{MA(Et,4,ot.item).each(({numColumns:wt,numRows:Ht})=>{Nn.setGridSize(Et,Ht,wt)})})])}),menu:{markers:Bb(ke),fakeFocus:we===Z2.ContentFocus}}})(SA("autocompleter-value",!0,xe,de,{menuType:"normal"}),de,Z2.ContentFocus,"normal")),L().each(_s.highlightFirst)})(J,ce),sn(rn(s.getBody()),"aria-owns",u),s.inline||q()):R()},q=()=>{s.dom.get(u)&&s.dom.remove(u,!1);const J=s.getDoc().documentElement,ce=s.selection.getNode(),me=(xe=>qg(xe,!0))(w.element);Ya(me,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ce.offsetTop}px`,left:`${ce.offsetLeft}px`}),s.dom.add(J,me.dom),ur(me,'[role="menu"]').each(xe=>{ws(xe,"position"),ws(xe,"max-height")})};s.on("AutocompleterStart",({lookupData:J})=>{p.set(!0),f.set(!1),z(J)}),s.on("AutocompleterUpdate",({lookupData:J})=>z(J)),s.on("AutocompleterUpdateActiveRange",({range:J})=>b.set(J)),s.on("AutocompleterEnd",()=>{R(),p.set(!1),f.set(!1),b.clear()}),((J,ce)=>{const me=(de,ue)=>{Rn(de,Sr(),{raw:ue})},xe=()=>J.getMenu().bind(_s.getHighlighted);ce.on("keydown",de=>{const ue=de.which;J.isActive()&&(J.isMenuOpen()?ue===13?(xe().each(Af),de.preventDefault()):ue===40?(xe().fold(()=>{J.getMenu().each(_s.highlightFirst)},ve=>{me(ve,de)}),de.preventDefault(),de.stopImmediatePropagation()):ue!==37&&ue!==38&&ue!==39||xe().each(ve=>{me(ve,de),de.preventDefault(),de.stopImmediatePropagation()}):ue!==13&&ue!==38&&ue!==40||J.cancelIfNecessary())}),ce.on("NodeChange",()=>{!J.isActive()||J.isProcessingAction()||ce.queryCommandState("mceAutoCompleterInRange")||J.cancelIfNecessary()})})({cancelIfNecessary:N,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:L},s)},Q0=(s,a,u)=>Yu(s,a,u).isSome(),d3=(s,a)=>{let u=null;return{cancel:()=>{u!==null&&(clearTimeout(u),u=null)},schedule:(...f)=>{u=setTimeout(()=>{s.apply(null,f),u=null},a)}}},RI=s=>{const a=s.raw;return a.touches===void 0||a.touches.length!==1?D.none():D.some(a.touches[0])},W_=(s,a)=>{const u={stopBackspace:!0,...a},f=(N=>{const z=ks(),q=Bn(!1),J=d3(me=>{N.triggerEvent(iE(),me),q.set(!0)},400),ce=Id([{key:W(),value:me=>(RI(me).each(xe=>{J.cancel();const de={x:xe.clientX,y:xe.clientY,target:me.target};J.schedule(me),q.set(!1),z.set(de)}),D.none())},{key:oe(),value:me=>(J.cancel(),RI(me).each(xe=>{z.on(de=>{((ue,ve)=>{const we=Math.abs(ue.clientX-ve.x),ke=Math.abs(ue.clientY-ve.y);return we>5||ke>5})(xe,de)&&z.clear()})}),D.none())},{key:Oe(),value:me=>(J.cancel(),z.get().filter(xe=>rs(xe.target,me.target)).map(xe=>q.get()?(me.prevent(),!1):N.triggerEvent(Cf(),me)))}]);return{fireIfReady:(me,xe)=>hn(ce,xe).bind(de=>de(me))}})(u),p=Ye(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),N=>Ha(s,N,z=>{f.fireIfReady(z,N).each(q=>{q&&z.kill()}),u.triggerEvent(N,z)&&z.kill()})),b=ks(),w=Ha(s,"paste",N=>{f.fireIfReady(N,"paste").each(z=>{z&&N.kill()}),u.triggerEvent("paste",N)&&N.kill(),b.set(setTimeout(()=>{u.triggerEvent(nx(),N)},0))}),k=Ha(s,"keydown",N=>{u.triggerEvent("keydown",N)?N.kill():u.stopBackspace&&(z=>z.raw.which===QD[0]&&!et(["input","textarea"],Ga(z.target))&&!Q0(z.target,'[contenteditable="true"]'))(N)&&N.prevent()}),E=Ha(s,"focusin",N=>{u.triggerEvent("focusin",N)&&N.kill()}),R=ks(),L=Ha(s,"focusout",N=>{u.triggerEvent("focusout",N)&&N.kill(),R.set(setTimeout(()=>{u.triggerEvent(rp(),N)},0))});return{unbind:()=>{Mt(p,N=>{N.unbind()}),k.unbind(),E.unbind(),L.unbind(),w.unbind(),b.on(clearTimeout),R.on(clearTimeout)}}},f3=(s,a)=>{const u=hn(s,"target").getOr(a);return Bn(u)},j2=jl([{stopped:[]},{resume:["element"]},{complete:[]}]),II=(s,a,u,f,p,b)=>{const w=s(a,f),k=((E,R)=>{const L=Bn(!1),N=Bn(!1);return{stop:()=>{L.set(!0)},cut:()=>{N.set(!0)},isStopped:L.get,isCut:N.get,event:E,setSource:R.set,getSource:R.get}})(u,p);return w.fold(()=>(b.logEventNoHandlers(a,f),j2.complete()),E=>{const R=E.descHandler;return wx(R)(k),k.isStopped()?(b.logEventStopped(a,E.element,R.purpose),j2.stopped()):k.isCut()?(b.logEventCut(a,E.element,R.purpose),j2.complete()):_a(E.element).fold(()=>(b.logNoParent(a,E.element,R.purpose),j2.complete()),L=>(b.logEventResponse(a,E.element,R.purpose),j2.resume(L)))})},K2=(s,a,u,f,p,b)=>II(s,a,u,f,p,b).fold(Me,w=>K2(s,a,u,w,p,b),Se),Z_=(s,a,u,f,p)=>{const b=f3(u,f);return K2(s,a,u,f,b,p)},NI=()=>{const s=(()=>{const f={};return{registerId:(p,b,w)=>{An(w,(k,E)=>{const R=f[E]!==void 0?f[E]:{};R[b]=((L,N)=>({cHandler:Ue.apply(void 0,[L.handler].concat(N)),purpose:L.purpose}))(k,p),f[E]=R})},unregisterId:p=>{An(f,(b,w)=>{Eo(b,p)&&delete b[p]})},filterByType:p=>hn(f,p).map(b=>rr(b,(w,k)=>((E,R)=>({id:E,descHandler:R}))(k,w))).getOr([]),find:(p,b,w)=>hn(f,b).bind(k=>Wg(w,E=>((R,L)=>Qg(L).bind(N=>hn(R,N)).map(N=>((z,q)=>({element:z,descHandler:q}))(L,N)))(k,E),p))}})(),a={},u=f=>{Qg(f.element).each(p=>{delete a[p],s.unregisterId(p)})};return{find:(f,p,b)=>s.find(f,p,b),filter:f=>s.filterByType(f),register:f=>{const p=(w=>{const k=w.element;return Qg(k).getOrThunk(()=>((E,R)=>{const L=bn(Q1+"uid-");return e0(R,L),L})(0,w.element))})(f);vo(a,p)&&((w,k)=>{const E=a[k];if(E!==w)throw new Error('The tagId "'+k+'" is already used by: '+Ld(E.element)+`
Cannot use it for: `+Ld(w.element)+`
The conflicting element is`+(un(E.element)?" ":" not ")+"already in the DOM");u(w)})(f,p);const b=[f];s.registerId(b,p,f.events),a[p]=f},unregister:u,getById:f=>hn(a,f)}},Gd=pu({name:"Container",factory:s=>{const{attributes:a,...u}=s.dom;return{uid:s.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...u},components:s.components,behaviours:Yn(s.containerBehaviours),events:s.events,domModification:s.domModification,eventOrder:s.eventOrder}},configFields:[it("components",[]),yn("containerBehaviours",[]),it("events",{}),it("domModification",{}),it("eventOrder",{})]}),j_=s=>{const a=me=>_a(s.element).fold(Me,xe=>rs(me,xe)),u=NI(),f=(me,xe)=>u.find(a,me,xe),p=W_(s.element,{triggerEvent:(me,xe)=>Kv(me,xe.target,de=>((ue,ve,we,ke)=>Z_(ue,ve,we,we.target,ke))(f,me,xe,de))}),b={debugInfo:te("real"),triggerEvent:(me,xe,de)=>{Kv(me,xe,ue=>Z_(f,me,de,xe,ue))},triggerFocus:(me,xe)=>{Qg(me).fold(()=>{za(me)},de=>{Kv(Ku(),me,ue=>(((ve,we,ke,ze,ot)=>{const Et=f3(ke,ze);II(ve,we,ke,ze,Et,ot)})(f,Ku(),{originator:xe,kill:fe,prevent:fe,target:me},me,ue),!1))})},triggerEscape:(me,xe)=>{b.triggerEvent("keydown",me.element,xe.event)},getByUid:me=>J(me),getByDom:me=>ce(me),build:ji,buildOrPatch:i0,addToGui:me=>{E(me)},removeFromGui:me=>{R(me)},addToWorld:me=>{w(me)},removeFromWorld:me=>{k(me)},broadcast:me=>{N(me)},broadcastOn:(me,xe)=>{z(me,xe)},broadcastEvent:(me,xe)=>{q(me,xe)},isConnected:Me},w=me=>{me.connect(b),Ca(me.element)||(u.register(me),Mt(me.components(),w),b.triggerEvent(_f(),me.element,{target:me.element}))},k=me=>{Ca(me.element)||(Mt(me.components(),k),u.unregister(me)),me.disconnect()},E=me=>{$f(s,me)},R=me=>{sl(me)},L=me=>{const xe=u.filter(oc());Mt(xe,de=>{const ue=de.descHandler;wx(ue)(me)})},N=me=>{L({universal:!0,data:me})},z=(me,xe)=>{L({universal:!1,channels:me,data:xe})},q=(me,xe)=>((de,ue,ve)=>{const we=(ke=>{const ze=Bn(!1);return{stop:()=>{ze.set(!0)},cut:fe,isStopped:ze.get,isCut:Se,event:ke,setSource:qe("Cannot set source of a broadcasted event"),getSource:qe("Cannot get source of a broadcasted event")}})(ue);return Mt(de,ke=>{const ze=ke.descHandler;wx(ze)(we)}),we.isStopped()})(u.filter(me),xe),J=me=>u.getById(me).fold(()=>Bo.error(new Error('Could not find component with uid: "'+me+'" in system.')),Bo.value),ce=me=>{const xe=Qg(me).getOr("not found");return J(xe)};return w(s),{root:s,element:s.element,destroy:()=>{p.unbind(),Hi(s.element)},add:E,remove:R,getByUid:J,getByDom:ce,addToWorld:w,removeFromWorld:k,broadcast:N,broadcastOn:z,broadcastEvent:q}},o7=te([it("prefix","form-field"),yn("fieldBehaviours",[es,lt])]),m3=te([hu({schema:[Ot("dom")],name:"label"}),hu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ot("text")],name:"aria-descriptor"}),wl({factory:{sketch:s=>{const a=((u,f)=>{const p={};return An(u,(b,w)=>{et(f,w)||(p[w]=b)}),p})(s,["factory"]);return s.factory.sketch(a)}},schema:[Ot("factory")],name:"field"})]),Es=Ll({name:"FormField",configFields:o7(),partFields:m3(),factory:(s,a,u,f)=>{const p=yo(s.fieldBehaviours,[es.config({find:k=>Ks(k,s,"field")}),lt.config({store:{mode:"manual",getValue:k=>es.getCurrent(k).bind(lt.getValue),setValue:(k,E)=>{es.getCurrent(k).each(R=>{lt.setValue(R,E)})}}})]),b=fo([nr((k,E)=>{const R=FD(k,s,["label","field","aria-descriptor"]);R.field().each(L=>{const N=bn(s.prefix);R.label().each(z=>{sn(z.element,"for",N),sn(L.element,"id",N)}),R["aria-descriptor"]().each(z=>{const q=bn(s.prefix);sn(z.element,"id",q),sn(L.element,"aria-describedby",q)})})})]),w={getField:k=>Ks(k,s,"field"),getLabel:k=>Ks(k,s,"label")};return{uid:s.uid,dom:s.dom,components:a,behaviours:p,events:b,apis:w}},apis:{getField:(s,a)=>s.getField(a),getLabel:(s,a)=>s.getLabel(a)}});var s7=tinymce.util.Tools.resolve("tinymce.html.Entities");const G2=(s,a,u,f)=>{const p=r7(s,a,u,f);return Es.sketch(p)},r7=(s,a,u,f)=>({dom:K_(u),components:s.toArray().concat([a]),fieldBehaviours:Zt(f)}),K_=s=>({tag:"div",classes:["tox-form__group"].concat(s)}),$p=(s,a)=>Es.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vr(a.translate(s))]}),al=bn("form-component-change"),Up=bn("form-close"),_h=bn("form-cancel"),Jf=bn("form-action"),q2=bn("form-submit"),g3=bn("form-block"),h3=bn("form-unblock"),PI=bn("form-tabchange"),G_=bn("form-resize"),MI=(s,a,u)=>{const f=s.label.map(N=>$p(N,a)),p=a.icons(),b=N=>(z,q)=>{Yu(q.event.target,"[data-collection-item-value]").each(J=>{N(z,q,J,Po(J,"data-collection-item-value"))})},w=b((N,z,q,J)=>{z.stop(),a.isDisabled()||Rn(N,Jf,{name:s.name,value:J})}),k=[St(Tn(),b((N,z,q)=>{za(q)})),St(pi(),w),St(Cf(),w),St(bs(),b((N,z,q)=>{ur(N.element,"."+rg).each(J=>{Nr(J,rg)}),kr(q,rg)})),St(jr(),b(N=>{ur(N.element,"."+rg).each(z=>{Nr(z,rg),tb(z)})})),lu(b((N,z,q,J)=>{Rn(N,Jf,{name:s.name,value:J})}))],E=(N,z)=>Ye(Si(N.element,".tox-collection__item"),z),R=Es.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(s.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ce},behaviours:Zt([so.config({disabled:a.isDisabled,onDisabled:N=>{E(N,z=>{kr(z,"tox-collection__item--state-disabled"),sn(z,"aria-disabled",!0)})},onEnabled:N=>{E(N,z=>{Nr(z,"tox-collection__item--state-disabled"),_o(z,"aria-disabled")})}}),Pi(),jn.config({}),si.config({...a.tooltips.getConfig({tooltipText:"",onShow:N=>{ur(N.element,"."+rg+"[data-mce-tooltip]").each(z=>{Zo(z,"data-mce-tooltip").each(q=>{si.setComponents(N,a.tooltips.getComponents({tooltipText:q}))})})}}),mode:"children-keyboard-focus",anchor:N=>({type:"node",node:ur(N.element,"."+rg).orThunk(()=>_d(".tox-collection__item")),root:N.element,layouts:{onLtr:te([qr,Er,Pr,ni,Mr,Ps]),onRtl:te([qr,Er,Pr,ni,Mr,Ps])},bubble:ic(0,-2,{})})}),lt.config({store:{mode:"memory",initialValue:u.getOr([])},onSetValue:(N,z)=>{((q,J)=>{const ce=Ye(J,de=>{const ue=td.translate(de.text),ve=s.columns===1?`<div class="tox-collection__item-label">${ue}</div>`:"",we=`<div class="tox-collection__item-icon">${(ot=>{var Et;return(Et=p[ot])!==null&&Et!==void 0?Et:ot})(de.icon)}</div>`,ke={_:" "," - ":" ","-":" "},ze=ue.replace(/\_| \- |\-/g,ot=>ke[ot]);return`<div data-mce-tooltip="${ze}" class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${s7.encodeAllRaw(de.value)}" aria-label="${ze}">${we}${ve}</div>`}),me=s.columns!=="auto"&&s.columns>1?tt(ce,s.columns):[ce],xe=Ye(me,de=>`<div class="tox-collection__group">${de.join("")}</div>`);Gg(q.element,xe.join(""))})(N,z),s.columns==="auto"&&MA(N,5,"tox-collection__item").each(({numRows:q,numColumns:J})=>{Nn.setGridSize(N,q,J)}),ko(N,G_)}}),Us.config({}),Nn.config((L=s.columns,L===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:L==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${S_}`}})),Co("collection-events",k)]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","collection-events"],[bs()]:["collection-events","tooltipping"]}});var L;return G2(f,R,["tox-form__group--collection"],[])},BI=["input","textarea"],q_=s=>{const a=Ga(s);return et(BI,a)},LI=(s,a)=>{const u=a.getRoot(s).getOr(s.element);Nr(u,a.invalidClass),a.notify.each(f=>{q_(s.element)&&sn(s.element,"aria-invalid",!1),f.getContainer(s).each(p=>{Gg(p,f.validHtml)}),f.onValid(s)})},p3=(s,a,u,f)=>{const p=a.getRoot(s).getOr(s.element);kr(p,a.invalidClass),a.notify.each(b=>{q_(s.element)&&sn(s.element,"aria-invalid",!0),b.getContainer(s).each(w=>{Gg(w,f)}),b.onInvalid(s,f)})},FI=(s,a,u)=>a.validator.fold(()=>lg(Bo.value(!0)),f=>f.validate(s)),v3=(s,a,u)=>(a.notify.each(f=>{f.onValidate(s)}),FI(s,a).map(f=>s.getSystem().isConnected()?f.fold(p=>(p3(s,a,0,p),Bo.error(p)),p=>(LI(s,a),Bo.value(p))):Bo.error("No longer in system")));var i7=Object.freeze({__proto__:null,markValid:LI,markInvalid:p3,query:FI,run:v3,isInvalid:(s,a)=>{const u=a.getRoot(s).getOr(s.element);return tl(u,a.invalidClass)}}),VI=Object.freeze({__proto__:null,events:(s,a)=>s.validator.map(u=>fo([St(u.onEvent,f=>{v3(f,s).get(Ce)})].concat(u.validateOnLoad?[nr(f=>{v3(f,s).get(fe)})]:[]))).getOr({})}),a7=[Ot("invalidClass"),it("getRoot",D.none),Rr("notify",[it("aria","alert"),it("getContainer",D.none),it("validHtml",""),Yo("onValid"),Yo("onInvalid"),Yo("onValidate")]),Rr("validator",[Ot("validate"),it("onEvent","input"),it("validateOnLoad",!0)])];const cg=Ni({fields:a7,name:"invalidating",active:VI,apis:i7,extra:{validation:s=>a=>{const u=lt.getValue(a);return lg(s(u))}}}),Kb=Ni({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>fo([lp(ca(),Me)]),exhibit:()=>Kr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),b3=bn("color-input-change"),y3=bn("color-swatch-change"),zI=bn("color-picker-cancel"),x3=hu({schema:[Ot("dom")],name:"label"}),Wp=s=>hu({name:s+"-edge",overrides:a=>a.model.manager.edgeActions[s].fold(()=>({}),u=>({events:fo([sx(W(),(f,p,b)=>u(f,b),[a]),sx(Dt(),(f,p,b)=>u(f,b),[a]),sx(Wn(),(f,p,b)=>{b.mouseIsDown.get()&&u(f,b)},[a])])}))}),l7=Wp("top-left"),c7=Wp("top"),u7=Wp("top-right"),d7=Wp("right"),HI=Wp("bottom-right"),w3=Wp("bottom"),f7=Wp("bottom-left"),Y_=Wp("left"),m7=wl({name:"thumb",defaults:te({dom:{styles:{position:"absolute"}}}),overrides:s=>({events:fo([up(W(),s,"spectrum"),up(oe(),s,"spectrum"),up(Oe(),s,"spectrum"),up(Dt(),s,"spectrum"),up(Wn(),s,"spectrum"),up(ao(),s,"spectrum")])})}),X_=s=>eg(s.event);var g7=[x3,Y_,d7,c7,w3,l7,u7,f7,HI,m7,wl({schema:[Ui("mouseIsDown",()=>Bn(!1))],name:"spectrum",overrides:s=>{const a=s.model.manager,u=(f,p)=>a.getValueFromEvent(p).map(b=>a.setValueFrom(f,s,b));return{behaviours:Zt([Nn.config({mode:"special",onLeft:(f,p)=>a.onLeft(f,s,X_(p)),onRight:(f,p)=>a.onRight(f,s,X_(p)),onUp:(f,p)=>a.onUp(f,s,X_(p)),onDown:(f,p)=>a.onDown(f,s,X_(p))}),Us.config({}),to.config({})]),events:fo([St(W(),u),St(oe(),u),St(Dt(),u),St(Wn(),(f,p)=>{s.mouseIsDown.get()&&u(f,p)})])}}})];const Y2=te("slider.change.value"),C3=s=>{const a=s.event.raw;if((u=>u.type.indexOf("touch")!==-1)(a)){const u=a;return u.touches!==void 0&&u.touches.length===1?D.some(u.touches[0]).map(f=>qs(f.clientX,f.clientY)):D.none()}{const u=a;return u.clientX!==void 0?D.some(u).map(f=>qs(f.clientX,f.clientY)):D.none()}},Gb=s=>s.model.minX,Zp=s=>s.model.minY,J_=s=>s.model.minX-1,Q_=s=>s.model.minY-1,Sh=s=>s.model.maxX,ad=s=>s.model.maxY,eS=s=>s.model.maxX+1,tS=s=>s.model.maxY+1,nS=(s,a,u)=>a(s)-u(s),oS=s=>nS(s,Sh,Gb),_3=s=>nS(s,ad,Zp),$I=s=>oS(s)/2,S3=s=>_3(s)/2,ey=(s,a)=>a?s.stepSize*s.speedMultiplier:s.stepSize,k3=s=>s.snapToGrid,E3=s=>s.snapStart,sS=s=>s.rounded,rS=(s,a)=>s[a+"-edge"]!==void 0,A3=s=>rS(s,"left"),UI=s=>rS(s,"right"),ty=s=>rS(s,"top"),WI=s=>rS(s,"bottom"),kh=s=>s.model.value.get(),ug=(s,a)=>({x:s,y:a}),wu=(s,a)=>{Rn(s,Y2(),{value:a})},T3=(s,a,u,f)=>s<a?s:s>u?u:s===a?a-1:Math.max(a,s-f),X2=(s,a,u,f)=>s>u?s:s<a?a:s===u?u+1:Math.min(u,s+f),ZI=(s,a,u)=>Math.max(a,Math.min(u,s)),jI=s=>{const{min:a,max:u,range:f,value:p,step:b,snap:w,snapStart:k,rounded:E,hasMinEdge:R,hasMaxEdge:L,minBound:N,maxBound:z,screenRange:q}=s,J=R?a-1:a,ce=L?u+1:u;if(p<N)return J;if(p>z)return ce;{const me=((de,ue,ve)=>Math.min(ve,Math.max(de,ue))-ue)(p,N,z),xe=ZI(me/q*f+a,J,ce);return w&&xe>=a&&xe<=u?((de,ue,ve,we,ke)=>ke.fold(()=>{const ze=de-ue,ot=Math.round(ze/we)*we;return ZI(ue+ot,ue-1,ve+1)},ze=>{const ot=(de-ze)%we,Et=Math.round(ot/we),_t=Math.floor((de-ze)/we),wt=Math.floor((ve-ze)/we),Ht=ze+Math.min(wt,_t+Et)*we;return Math.max(ze,Ht)}))(xe,a,u,b,k):E?Math.round(xe):xe}},iS=s=>{const{min:a,max:u,range:f,value:p,hasMinEdge:b,hasMaxEdge:w,maxBound:k,maxOffset:E,centerMinEdge:R,centerMaxEdge:L}=s;return p<a?b?0:R:p>u?w?k:L:(p-a)/f*E},O3="top",KI="right",GI="bottom",D3="left",dg=s=>s.element.dom.getBoundingClientRect(),qd=(s,a)=>s[a],aS=s=>{const a=dg(s);return qd(a,D3)},qI=s=>{const a=dg(s);return qd(a,KI)},lS=s=>{const a=dg(s);return qd(a,O3)},YI=s=>{const a=dg(s);return qd(a,GI)},XI=s=>{const a=dg(s);return qd(a,"width")},JI=s=>{const a=dg(s);return qd(a,"height")},cS=(s,a,u)=>(s+a)/2-u,QI=(s,a)=>{const u=dg(s),f=dg(a),p=qd(u,D3),b=qd(u,KI),w=qd(f,D3);return cS(p,b,w)},eN=(s,a)=>{const u=dg(s),f=dg(a),p=qd(u,O3),b=qd(u,GI),w=qd(f,O3);return cS(p,b,w)},uS=(s,a)=>{Rn(s,Y2(),{value:a})},dS=(s,a,u)=>{const f={min:Gb(a),max:Sh(a),range:oS(a),value:u,step:ey(a),snap:k3(a),snapStart:E3(a),rounded:sS(a),hasMinEdge:A3(a),hasMaxEdge:UI(a),minBound:aS(s),maxBound:qI(s),screenRange:XI(s)};return jI(f)},tN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?X2:T3)(kh(w),Gb(w),Sh(w),ey(w,k));return uS(b,E),D.some(E)})(s,a,u,f).map(Me),R3=(s,a,u,f,p,b)=>{const w=((k,E,R,L,N)=>{const z=XI(k),q=L.bind(me=>D.some(QI(me,k))).getOr(0),J=N.bind(me=>D.some(QI(me,k))).getOr(z),ce={min:Gb(E),max:Sh(E),range:oS(E),value:R,hasMinEdge:A3(E),hasMaxEdge:UI(E),minBound:aS(k),minOffset:0,maxBound:qI(k),maxOffset:z,centerMinEdge:q,centerMaxEdge:J};return iS(ce)})(a,b,u,f,p);return aS(a)-aS(s)+w},h7=tN(-1),p7=tN(1),v7=D.none,b7=D.none,I3={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((s,a)=>{wu(s,eS(a))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((s,a)=>{wu(s,J_(a))})};var y7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=dS(s,a,u);return uS(s,f),f},setToMin:(s,a)=>{const u=Gb(a);uS(s,u)},setToMax:(s,a)=>{const u=Sh(a);uS(s,u)},findValueOfOffset:dS,getValueFromEvent:s=>C3(s).map(a=>a.left),findPositionOfValue:R3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=R3(s,f.getSpectrum(s),p,f.getLeftEdge(s),f.getRightEdge(s),u),w=Oi(a.element)/2;co(a.element,"left",b-w+"px")},onLeft:h7,onRight:p7,onUp:v7,onDown:b7,edgeActions:I3});const fS=(s,a)=>{Rn(s,Y2(),{value:a})},N3=(s,a,u)=>{const f={min:Zp(a),max:ad(a),range:_3(a),value:u,step:ey(a),snap:k3(a),snapStart:E3(a),rounded:sS(a),hasMinEdge:ty(a),hasMaxEdge:WI(a),minBound:lS(s),maxBound:YI(s),screenRange:JI(s)};return jI(f)},nN=s=>(a,u,f)=>((p,b,w,k)=>{const E=(p>0?X2:T3)(kh(w),Zp(w),ad(w),ey(w,k));return fS(b,E),D.some(E)})(s,a,u,f).map(Me),P3=(s,a,u,f,p,b)=>{const w=((k,E,R,L,N)=>{const z=JI(k),q=L.bind(me=>D.some(eN(me,k))).getOr(0),J=N.bind(me=>D.some(eN(me,k))).getOr(z),ce={min:Zp(E),max:ad(E),range:_3(E),value:R,hasMinEdge:ty(E),hasMaxEdge:WI(E),minBound:lS(k),minOffset:0,maxBound:YI(k),maxOffset:z,centerMinEdge:q,centerMaxEdge:J};return iS(ce)})(a,b,u,f,p);return lS(a)-lS(s)+w},x7=D.none,w7=D.none,C7=nN(-1),_7=nN(1),S7={"top-left":D.none(),top:D.some((s,a)=>{wu(s,Q_(a))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((s,a)=>{wu(s,tS(a))}),"bottom-left":D.none(),left:D.none()};var k7=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=N3(s,a,u);return fS(s,f),f},setToMin:(s,a)=>{const u=Zp(a);fS(s,u)},setToMax:(s,a)=>{const u=ad(a);fS(s,u)},findValueOfOffset:N3,getValueFromEvent:s=>C3(s).map(a=>a.top),findPositionOfValue:P3,setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=P3(s,f.getSpectrum(s),p,f.getTopEdge(s),f.getBottomEdge(s),u),w=Dr(a.element)/2;co(a.element,"top",b-w+"px")},onLeft:x7,onRight:w7,onUp:C7,onDown:_7,edgeActions:S7});const mS=(s,a)=>{Rn(s,Y2(),{value:a})},gS=(s,a)=>({x:s,y:a}),qb=(s,a)=>(u,f,p)=>((b,w,k,E,R)=>{const L=b>0?X2:T3,N=w?kh(E).x:L(kh(E).x,Gb(E),Sh(E),ey(E,R)),z=w?L(kh(E).y,Zp(E),ad(E),ey(E,R)):kh(E).y;return mS(k,gS(N,z)),D.some(N)})(s,a,u,f,p).map(Me),E7=qb(-1,!1),M3=qb(1,!1),A7=qb(-1,!0),T7=qb(1,!0),O7={"top-left":D.some((s,a)=>{wu(s,ug(J_(a),Q_(a)))}),top:D.some((s,a)=>{wu(s,ug($I(a),Q_(a)))}),"top-right":D.some((s,a)=>{wu(s,ug(eS(a),Q_(a)))}),right:D.some((s,a)=>{wu(s,ug(eS(a),S3(a)))}),"bottom-right":D.some((s,a)=>{wu(s,ug(eS(a),tS(a)))}),bottom:D.some((s,a)=>{wu(s,ug($I(a),tS(a)))}),"bottom-left":D.some((s,a)=>{wu(s,ug(J_(a),tS(a)))}),left:D.some((s,a)=>{wu(s,ug(J_(a),S3(a)))})};var oN=Object.freeze({__proto__:null,setValueFrom:(s,a,u)=>{const f=dS(s,a,u.left),p=N3(s,a,u.top),b=gS(f,p);return mS(s,b),b},setToMin:(s,a)=>{const u=Gb(a),f=Zp(a);mS(s,gS(u,f))},setToMax:(s,a)=>{const u=Sh(a),f=ad(a);mS(s,gS(u,f))},getValueFromEvent:s=>C3(s),setPositionFromValue:(s,a,u,f)=>{const p=kh(u),b=R3(s,f.getSpectrum(s),p.x,f.getLeftEdge(s),f.getRightEdge(s),u),w=P3(s,f.getSpectrum(s),p.y,f.getTopEdge(s),f.getBottomEdge(s),u),k=Oi(a.element)/2,E=Dr(a.element)/2;co(a.element,"left",b-k+"px"),co(a.element,"top",w-E+"px")},onLeft:E7,onRight:M3,onUp:A7,onDown:T7,edgeActions:O7});const Yd=Ll({name:"Slider",configFields:[it("stepSize",1),it("speedMultiplier",10),it("onChange",fe),it("onChoose",fe),it("onInit",fe),it("onDragStart",fe),it("onDragEnd",fe),it("snapToGrid",!1),it("rounded",!0),jo("snapStart"),Wi("model",hi("mode",{x:[it("minX",0),it("maxX",100),Ui("value",s=>Bn(s.mode.minX)),Ot("getInitialValue"),Zs("manager",y7)],y:[it("minY",0),it("maxY",100),Ui("value",s=>Bn(s.mode.minY)),Ot("getInitialValue"),Zs("manager",k7)],xy:[it("minX",0),it("maxX",100),it("minY",0),it("maxY",100),Ui("value",s=>Bn({x:s.mode.minX,y:s.mode.minY})),Ot("getInitialValue"),Zs("manager",oN)]})),yn("sliderBehaviours",[Nn,lt]),Ui("mouseIsDown",()=>Bn(!1))],partFields:g7,factory:(s,a,u,f)=>{const p=de=>gh(de,s,"thumb"),b=de=>gh(de,s,"spectrum"),w=de=>Ks(de,s,"left-edge"),k=de=>Ks(de,s,"right-edge"),E=de=>Ks(de,s,"top-edge"),R=de=>Ks(de,s,"bottom-edge"),L=s.model,N=L.manager,z=(de,ue)=>{N.setPositionFromValue(de,ue,s,{getLeftEdge:w,getRightEdge:k,getTopEdge:E,getBottomEdge:R,getSpectrum:b})},q=(de,ue)=>{L.value.set(ue);const ve=p(de);z(de,ve)},J=de=>{const ue=s.mouseIsDown.get();s.mouseIsDown.set(!1),ue&&Ks(de,s,"thumb").each(ve=>{const we=L.value.get();s.onChoose(de,ve,we)})},ce=(de,ue)=>{ue.stop(),s.mouseIsDown.set(!0),s.onDragStart(de,p(de))},me=(de,ue)=>{ue.stop(),s.onDragEnd(de,p(de)),J(de)},xe=de=>{Ks(de,s,"spectrum").map(Nn.focusIn)};return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.sliderBehaviours,[Nn.config({mode:"special",focusIn:xe}),lt.config({store:{mode:"manual",getValue:de=>L.value.get(),setValue:q}}),yl.config({channels:{[U()]:{onReceive:J}}})]),events:fo([St(Y2(),(de,ue)=>{((ve,we)=>{q(ve,we);const ke=p(ve);s.onChange(ve,ke,we)})(de,ue.event.value)}),nr((de,ue)=>{const ve=L.getInitialValue();L.value.set(ve);const we=p(de);z(de,we);const ke=b(de);s.onInit(de,we,ke,L.value.get())}),St(W(),ce),St(Oe(),me),St(Dt(),(de,ue)=>{xe(de),ce(de,ue)}),St(ao(),me)]),apis:{resetToMin:de=>{N.setToMin(de,s)},resetToMax:de=>{N.setToMax(de,s)},setValue:q,refresh:z},domModification:{styles:{position:"relative"}}}},apis:{setValue:(s,a,u)=>{s.setValue(a,u)},resetToMin:(s,a)=>{s.resetToMin(a)},resetToMax:(s,a)=>{s.resetToMax(a)},refresh:(s,a)=>{s.refresh(a)}}}),J2=bn("rgb-hex-update"),hS=bn("slider-update"),B3=bn("palette-update"),pS="form",vS=[yn("formBehaviours",[lt])],L3=s=>"<alloy.field."+s+">",fg=(s,a)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.formBehaviours,[lt.config({store:{mode:"manual",getValue:u=>{const f=AE(u,s);return On(f,(p,b)=>p().bind(w=>{return k=es.getCurrent(w),E=new Error(`Cannot find a current component to extract the value from for form part '${b}': `+Ld(w.element)),k.fold(()=>Bo.error(E),Bo.value);var k,E}).map(lt.getValue))},setValue:(u,f)=>{An(f,(p,b)=>{Ks(u,s,b).each(w=>{es.getCurrent(w).each(k=>{lt.setValue(k,p)})})})}}})]),apis:{getField:(u,f)=>Ks(u,s,f).bind(es.getCurrent)}}),jp={getField:o0((s,a,u)=>s.getField(a,u)),sketch:s=>{const a=(()=>{const b=[];return{field:(w,k)=>(b.push(w),SE(pS,L3(w),k)),record:te(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:L3(b)}));return Gx(pS,vS,p,fg,u)}},sN=bn("valid-input"),rN=bn("invalid-input"),iN=bn("validating-input"),F3="colorcustom.rgb.",Q2={isEnabled:Me,setEnabled:fe,immediatelyShow:fe,immediatelyHide:fe},D7=(s,a,u,f,p,b)=>{const w=(q,J)=>{const ce=J.get();q!==ce.isEnabled()&&(ce.setEnabled(q),q?ce.immediatelyShow():ce.immediatelyHide())},k=(q,J,ce)=>cg.config({invalidClass:a("invalid"),notify:{onValidate:me=>{Rn(me,iN,{type:q})},onValid:me=>{w(!1,ce),Rn(me,sN,{type:q,value:lt.getValue(me)})},onInvalid:me=>{w(!0,ce),Rn(me,rN,{type:q,value:lt.getValue(me)})}},validator:{validate:me=>{const xe=lt.getValue(me),de=J(xe)?Bo.value(!0):Bo.error(s("aria.input.invalid"));return lg(de)},validateOnLoad:!1}}),E=(q,J,ce,me,xe)=>{const de=Bn(Q2),ue=s(F3+"range"),ve=Es.parts.label({dom:{tag:"label",attributes:{"aria-label":me}},components:[Vr(ce)]}),we=Es.parts.field({data:xe,factory:yh,inputAttributes:{type:"text",...J==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Zt([k(J,q,de),Us.config({}),si.config({...p({tooltipText:"",onSetup:wt=>{de.set({isEnabled:()=>si.isEnabled(wt),setEnabled:Ht=>si.setEnabled(wt,Ht),immediatelyShow:()=>si.immediateOpenClose(wt,!0),immediatelyHide:()=>si.immediateOpenClose(wt,!1)}),si.setEnabled(wt,!1)},onShow:(wt,Ht)=>{si.setComponents(wt,[{dom:{tag:"p",classes:[a("rgb-warning-note")]},components:[Vr(s(J==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:wt=>{cg.isInvalid(wt)&&cg.run(wt).get(fe)}}),ke=bn("aria-invalid"),ze=Cs(b("invalid",D.some(ke),"warning")),ot=[ve,we,Cs({dom:{tag:"div",classes:[a("invalid-icon")]},components:[ze.asSpec()]}).asSpec()],Et=J!=="hex"?[Es.parts["aria-descriptor"]({text:ue})]:[],_t=ot.concat(Et);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[a("rgb-container")]},components:_t}},R=(q,J)=>{const ce=J.red,me=J.green,xe=J.blue;lt.setValue(q,{red:ce,green:me,blue:xe})},L=Cs({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),N=(q,J)=>{L.getOpt(q).each(ce=>{co(ce.element,"background-color","#"+J.value)})};return pu({factory:()=>{const q={red:Bn(D.some(255)),green:Bn(D.some(255)),blue:Bn(D.some(255)),hex:Bn(D.some("ffffff"))},J=ot=>q[ot].get(),ce=(ot,Et)=>{q[ot].set(Et)},me=ot=>{const Et=ot.red,_t=ot.green,wt=ot.blue;ce("red",D.some(Et)),ce("green",D.some(_t)),ce("blue",D.some(wt))},xe=(ot,Et)=>{const _t=Et.event;_t.type!=="hex"?ce(_t.type,D.none()):f(ot)},de=(ot,Et)=>{const _t=Et.event;(wt=>wt.type==="hex")(_t)?((wt,Ht)=>{u(wt);const mn=zA(Ht);ce("hex",D.some(mn.value));const kn=Kd(mn);R(wt,kn),me(kn),Rn(wt,J2,{hex:mn}),N(wt,mn)})(ot,_t.value):((wt,Ht,mn)=>{const kn=parseInt(mn,10);ce(Ht,D.some(kn)),J("red").bind(zn=>J("green").bind(ro=>J("blue").map(Lo=>Ch(zn,ro,Lo,1)))).each(zn=>{const ro=((Lo,Qs)=>{const dr=z2(Qs);return jp.getField(Lo,"hex").each(So=>{to.isFocused(So)||lt.setValue(Lo,{hex:dr.value})}),dr})(wt,zn);Rn(wt,J2,{hex:ro}),N(wt,ro)})})(ot,_t.type,_t.value)},ue=ot=>({label:s(F3+ot+".label"),description:s(F3+ot+".description")}),ve=ue("red"),we=ue("green"),ke=ue("blue"),ze=ue("hex");return Ns(jp.sketch(ot=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":s("aria.color.picker")}},components:[ot.field("red",Es.sketch(E(H2,"red",ve.label,ve.description,255))),ot.field("green",Es.sketch(E(H2,"green",we.label,we.description,255))),ot.field("blue",Es.sketch(E(H2,"blue",ke.label,ke.description,255))),ot.field("hex",Es.sketch(E(tI,"hex",ze.label,ze.description,"ffffff"))),L.asSpec()],formBehaviours:Zt([cg.config({invalidClass:a("form-invalid")}),Co("rgb-form-events",[St(sN,de),St(rN,xe),St(iN,xe)])])})),{apis:{updateHex:(ot,Et)=>{lt.setValue(ot,{hex:Et.value}),((_t,wt)=>{const Ht=Kd(wt);R(_t,Ht),me(Ht)})(ot,Et),N(ot,Et)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(q,J,ce)=>{q.updateHex(J,ce)}},extraApis:{}})},aN=(s,a,u,f)=>pu({name:"ColourPicker",configFields:[Ot("dom"),it("onValidHex",fe),it("onInvalidHex",fe)],factory:b=>{const w=D7(s,a,b.onValidHex,b.onInvalidHex,u,f),k=((xe,de)=>{const ue=Yd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[de("sv-palette-spectrum")]}}),ve=Yd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[de("sv-palette-thumb")],innerHtml:`<div class=${de("sv-palette-inner-thumb")} role="presentation"></div>`}}),we=(ke,ze)=>{const{width:ot,height:Et}=ke,_t=ke.getContext("2d");if(_t===null)return;_t.fillStyle=ze,_t.fillRect(0,0,ot,Et);const wt=_t.createLinearGradient(0,0,ot,0);wt.addColorStop(0,"rgba(255,255,255,1)"),wt.addColorStop(1,"rgba(255,255,255,0)"),_t.fillStyle=wt,_t.fillRect(0,0,ot,Et);const Ht=_t.createLinearGradient(0,0,0,Et);Ht.addColorStop(0,"rgba(0,0,0,0)"),Ht.addColorStop(1,"rgba(0,0,0,1)"),_t.fillStyle=Ht,_t.fillRect(0,0,ot,Et)};return pu({factory:ke=>{const ze=te({x:0,y:0}),ot=Zt([es.config({find:D.some}),to.config({})]);return Yd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":xe(["Saturation {0}%, Brightness {1}%",0,0])},classes:[de("sv-palette")]},model:{mode:"xy",getInitialValue:ze},rounded:!1,components:[ue,ve],onChange:(Et,_t,wt)=>{X(wt)||sn(Et.element,"aria-valuetext",xe(["Saturation {0}%, Brightness {1}%",Math.floor(wt.x),Math.floor(100-wt.y)])),Rn(Et,B3,{value:wt})},onInit:(Et,_t,wt,Ht)=>{we(wt.element.dom,rI(iI))},sliderBehaviours:ot})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ke,ze,ot)=>{((Et,_t)=>{const wt=Et.components()[0].element.dom,Ht=Y0(_t,100,100),mn=sI(Ht);we(wt,rI(mn))})(ze,ot)},setThumb:(ke,ze,ot)=>{((Et,_t)=>{const wt=F_(Kd(_t));Yd.setValue(Et,{x:wt.saturation,y:100-wt.value}),sn(Et.element,"aria-valuetext",xe(["Saturation {0}%, Brightness {1}%",wt.saturation,wt.value]))})(ze,ot)}},extraApis:{}})})(s,a),E={paletteRgba:Bn(iI),paletteHue:Bn(0)},R=Cs(((xe,de)=>{const ue=Yd.parts.spectrum({dom:{tag:"div",classes:[de("hue-slider-spectrum")],attributes:{role:"presentation"}}}),ve=Yd.parts.thumb({dom:{tag:"div",classes:[de("hue-slider-thumb")],attributes:{role:"presentation"}}});return Yd.sketch({dom:{tag:"div",classes:[de("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:te(0)},components:[ue,ve],sliderBehaviours:Zt([to.config({})]),onChange:(we,ke,ze)=>{sn(we.element,"aria-valuenow",Math.floor(360-3.6*ze)),Rn(we,hS,{value:ze})}})})(0,a)),L=Cs(k.sketch({})),N=Cs(w.sketch({})),z=(xe,de,ue)=>{L.getOpt(xe).each(ve=>{k.setHue(ve,ue)})},q=(xe,de)=>{N.getOpt(xe).each(ue=>{w.updateHex(ue,de)})},J=(xe,de,ue)=>{R.getOpt(xe).each(ve=>{Yd.setValue(ve,(we=>100-we/360*100)(ue))})},ce=(xe,de)=>{L.getOpt(xe).each(ue=>{k.setThumb(ue,de)})},me=(xe,de,ue,ve)=>{((we,ke)=>{const ze=Kd(we);E.paletteRgba.set(ze),E.paletteHue.set(ke)})(de,ue),Mt(ve,we=>{we(xe,de,ue)})};return{uid:b.uid,dom:b.dom,components:[L.asSpec(),R.asSpec(),N.asSpec()],behaviours:Zt([Co("colour-picker-events",[St(J2,(()=>{const xe=[z,J,ce];return(de,ue)=>{const ve=ue.event.hex,we=(ke=>F_(Kd(ke)))(ve);me(de,ve,we.hue,xe)}})()),St(B3,(()=>{const xe=[q];return(de,ue)=>{const ve=ue.event.value,we=E.paletteHue.get(),ke=Y0(we,ve.x,100-ve.y),ze=V_(ke);me(de,ze,we,xe)}})()),St(hS,(()=>{const xe=[z,q];return(de,ue)=>{const ve=(Et=>(100-Et)/100*360)(ue.event.value),we=E.paletteRgba.get(),ke=F_(we),ze=Y0(ve,ke.saturation,ke.value),ot=V_(ze);me(de,ot,ve,xe)}})())]),es.config({find:xe=>N.getOpt(xe)}),Nn.config({mode:"acyclic"})])}}}),mg=()=>es.config({find:D.some}),V3=s=>es.config({find:a=>ar(a.element,s).bind(u=>a.getSystem().getByDom(u).toOptional())}),z3=Un([it("preprocess",Ce),it("postprocess",Ce)]),H3=(s,a)=>{const u=Ea("RepresentingConfigs.memento processors",z3,a);return lt.config({store:{mode:"manual",getValue:f=>{const p=s.get(f),b=lt.getValue(p);return u.postprocess(b)},setValue:(f,p)=>{const b=u.preprocess(p),w=s.get(f);lt.setValue(w,b)}}})},Yb=(s,a,u)=>lt.config({store:{mode:"manual",...s.map(f=>({initialValue:f})).getOr({}),getValue:a,setValue:u}}),$3=(s,a,u)=>Yb(s,f=>a(f.element),(f,p)=>u(f.element,p)),ew=s=>lt.config({store:{mode:"memory",initialValue:s}}),R7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var lN=tinymce.util.Tools.resolve("tinymce.Resource");const U3=s=>Eo(s,"init");var Eh=tinymce.util.Tools.resolve("tinymce.util.Tools");const W3=(s,a)=>{let u=null;const f=()=>{V(u)||(clearTimeout(u),u=null)};return{cancel:f,throttle:(...p)=>{f(),u=setTimeout(()=>{u=null,s.apply(null,p)},a)}}},Z3=bn("alloy-fake-before-tabstop"),j3=bn("alloy-fake-after-tabstop"),cN=s=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:s},behaviours:Zt([to.config({ignore:!0}),Us.config({})])}),K3=(s,a)=>({dom:{tag:"div",classes:["tox-navobj",...s.getOr([])]},components:[cN([Z3]),a,cN([j3])],behaviours:Zt([V3(1)])}),G3=(s,a)=>{Rn(s,Sr(),{raw:{which:9,shiftKey:a}})},I7=(s,a)=>{const u=a.element;tl(u,Z3)?G3(s,!0):tl(u,j3)&&G3(s,!1)},ny=s=>Q0(s,["."+Z3,"."+j3].join(","),Se),Kp=bn("update-dialog"),q3=bn("update-title"),uN=bn("update-body"),dN=bn("update-footer"),Y3=bn("body-send-message"),bS=bn("dialog-focus-shifted"),X3=ra().browser,oy=X3.isSafari(),fN=X3.isFirefox(),J3=oy||fN,mN=X3.isChromium(),N7=({scrollTop:s,scrollHeight:a,clientHeight:u})=>Math.ceil(s)+u>=a,gN=(s,a)=>s.scrollTo(0,a==="bottom"?99999999:a),Q3=(s,a,u)=>{const f=s.dom;D.from(f.contentDocument).fold(u,p=>{let b=0;const w=((E,R)=>{const L=E.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(R)&&(!mN&&!oy||Z(L)&&(L.scrollTop!==0||Math.abs(L.scrollHeight-L.clientHeight)>1))?L:E.documentElement)})(p,a).map(E=>(b=E.scrollTop,E)).forall(N7),k=()=>{const E=f.contentWindow;Z(E)&&(w?gN(E,"bottom"):!w&&J3&&b!==0&&gN(E,b))};oy&&f.addEventListener("load",k,{once:!0}),p.open(),p.write(a),p.close(),oy||k()})},e4=ss(J3,oy?500:200).map(s=>((a,u)=>{let f=null,p=null;return{cancel:()=>{V(f)||(clearTimeout(f),f=null,p=null)},throttle:(...b)=>{p=b,V(f)&&(f=setTimeout(()=>{const w=p;f=null,p=null,a.apply(null,w)},u))}}})(Q3,s)),yS=bn("toolbar.button.execute"),Gp=bn("common-button-display-events"),t4={[pl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ua()]:["toolbar-button-events",Gp],[Tc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Dt()]:["focusing","alloy.base.behaviour",Gp]},xS=s=>co(s.element,"width",wr(s.element,"width")),hN=(s,a,u)=>$c(s,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},a),tw=(s,a)=>hN(s,a,[]),qp=(s,a)=>hN(s,a,[jn.config({})]),n4=(s,a,u)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Vr(u.translate(s))],behaviours:Zt([jn.config({})])}),Cu=bn("update-menu-text"),ld=bn("update-menu-icon"),o4=(s,a,u,f)=>{const p=Bn(fe),b=s.text.map(ce=>Cs(n4(ce,a,u.providers))),w=s.icon.map(ce=>Cs(qp(ce,u.providers.icons))),k=(ce,me)=>{const xe=lt.getValue(ce);return to.focus(xe),Rn(xe,"keydown",{raw:me.event.raw}),Cl.close(xe),D.some(!0)},E=s.role.fold(()=>({}),ce=>({role:ce})),R=D.from(s.listRole).map(ce=>({listRole:ce})).getOr({}),L=s.ariaLabel.fold(()=>({}),ce=>({"aria-label":u.providers.translate(ce)})),N=$c("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},u.providers.icons),z=bn("common-button-display-events"),q="dropdown-events";return Cs(Cl.sketch({...s.uid?{uid:s.uid}:{},...E,...R,dom:{tag:"button",classes:[a,`${a}--select`].concat(Ye(s.classes,ce=>`${a}--${ce}`)),attributes:{...L,...Z(f)?{"data-mce-name":f}:{}}},components:Z0([w.map(ce=>ce.asSpec()),b.map(ce=>ce.asSpec()),D.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(ce,me,xe)=>{s.searchable&&(de=>{AR(de).each(ue=>to.focus(ue))})(xe)},dropdownBehaviours:Zt([...s.dropdownBehaviours,Da(()=>s.disabled||u.providers.isDisabled()),Pi(),Kb.config({}),jn.config({}),...s.tooltip.map(ce=>si.config(u.providers.tooltips.getConfig({tooltipText:u.providers.translate(ce)}))).toArray(),Co(q,[Vp(s,p),xh(s,p)]),Co(z,[nr((ce,me)=>s.listRole==="listbox"?fe:xS(ce))]),Co("menubutton-update-display-text",[St(Cu,(ce,me)=>{b.bind(xe=>xe.getOpt(ce)).each(xe=>{jn.set(xe,[Vr(u.providers.translate(me.event.text))])})}),St(ld,(ce,me)=>{w.bind(xe=>xe.getOpt(ce)).each(xe=>{jn.set(xe,[qp(me.event.icon,u.providers.icons)])})})])]),eventOrder:Ns(t4,{[Dt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ua()]:["toolbar-button-events",si.name(),q,z]}),sandboxBehaviours:Zt([Nn.config({mode:"special",onLeft:k,onRight:k}),Co("dropdown-sandbox-events",[St(SR,(ce,me)=>{(xe=>{const de=lt.getValue(xe),ue=R2(xe).map(TR);Cl.refetch(de).get(()=>{const ve=zr.getCoupled(de,"sandbox");ue.each(we=>R2(ve).each(ke=>((ze,ot)=>{lt.setValue(ze,ot.fetchPattern),ze.element.dom.selectionStart=ot.selectionStart,ze.element.dom.selectionEnd=ot.selectionEnd})(ke,we)))})})(ce),me.stop()}),St(kR,(ce,me)=>{((xe,de)=>{(ue=>T.getState(ue).bind(_s.getHighlighted).bind(_s.getHighlighted))(xe).each(ue=>{((ve,we,ke,ze)=>{const ot={...ze,target:we};ve.getSystem().triggerEvent(ke,we,ot)})(xe,ue.element,de.event.eventType,de.event.interactionEvent)})})(ce,me),me.stop()})])]),lazySink:u.getSink,toggleClass:`${a}--active`,parts:{menu:{...k_(0,s.columns,s.presets),fakeFocus:s.searchable,...s.listRole==="listbox"?{}:{onHighlightItem:TI,onCollapseMenu:(ce,me,xe)=>{_s.getHighlighted(xe).each(de=>{TI(ce,xe,de)})},onDehighlightItem:t7}}},getAnchorOverrides:()=>({maxHeightFunction:(ce,me)=>{Km()(ce,me-10)}}),fetch:ce=>zp(Ue(s.fetch,ce))})).asSpec()},wS=s=>s.type==="separator",CS={type:"separator"},pN=(s,a)=>{const u=((f,p)=>{const b=_n(f,(w,k)=>(E=>v(E))(k)?k===""?w:k==="|"?w.length>0&&!wS(w[w.length-1])?w.concat([CS]):w:Eo(p,k.toLowerCase())?w.concat([p[k.toLowerCase()]]):w:w.concat([k]),[]);return b.length>0&&wS(b[b.length-1])&&b.pop(),b})(v(s)?s.split(" "):s,a);return fn(u,(f,p)=>{if((b=>Eo(b,"getSubmenuItems"))(p)){const b=(k=>{const E=hn(k,"value").getOrThunk(()=>bn("generated-menu-item"));return Ns({value:E},k)})(p),w=((k,E)=>{const R=k.getSubmenuItems(),L=pN(R,E);return{item:k,menus:Ns(L.menus,{[k.value]:L.items}),expansions:Ns(L.expansions,{[k.value]:k.value})}})(b,a);return{menus:Ns(f.menus,w.menus),items:[w.item,...f.items],expansions:Ns(f.expansions,w.expansions)}}return{...f,items:[p,...f.items]}},{menus:{},expansions:{},items:[]})},Xb=(s,a,u,f)=>{const p=bn("primary-menu"),b=pN(s,u.shared.providers.menuItems());if(b.items.length===0)return D.none();const w=(N=>N.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-field",placeholder:z.placeholder})))(f),k=OI(p,b.items,a,u,f.isHorizontalMenu,w),E=(N=>N.search.fold(()=>({searchMode:"no-search"}),z=>({searchMode:"search-with-results"})))(f),R=On(b.menus,(N,z)=>OI(z,N,a,u,!1,E)),L=Ns(R,ru(p,k));return D.from(hh.tieredData(p,L,b.expansions))},nw=s=>!Eo(s,"items"),s4="data-value",_S=(s,a,u,f,p)=>Ye(u,b=>nw(b)?{type:"togglemenuitem",...p?{}:{role:"option"},text:b.text,value:b.value,active:b.value===f,onAction:()=>{lt.setValue(s,b.value),Rn(s,al,{name:a}),to.focus(s)}}:{type:"nestedmenuitem",text:b.text,getSubmenuItems:()=>_S(s,a,b.items,f,p)}),SS=(s,a)=>Vt(s,u=>nw(u)?ss(u.value===a,u):SS(u.items,a)),P7=pu({name:"HtmlSelect",configFields:[Ot("options"),yn("selectBehaviours",[to,lt]),it("selectClasses",[]),it("selectAttributes",{}),jo("data")],factory:(s,a)=>{const u=Ye(s.options,p=>({dom:{tag:"option",value:p.value,innerHtml:p.text}})),f=s.data.map(p=>ru("initialValue",p)).getOr({});return{uid:s.uid,dom:{tag:"select",classes:s.selectClasses,attributes:s.selectAttributes},components:u,behaviours:yo(s.selectBehaviours,[to.config({}),lt.config({store:{mode:"manual",getValue:p=>Rf(p.element),setValue:(p,b)=>{const w=zt(s.options);Q(s.options,k=>k.value===b).isSome()?zm(p.element,b):p.element.dom.selectedIndex===-1&&b===""&&w.each(k=>zm(p.element,k.value))},...f}})])}}}),vN=te([it("field1Name","field1"),it("field2Name","field2"),qu("onLockedChange"),Jg(["lockClass"]),it("locked",!1),oo("coupledFieldBehaviours",[es,lt])]),r4=(s,a)=>wl({factory:Es,name:s,overrides:u=>({fieldBehaviours:Zt([Co("coupled-input-behaviour",[St(Im(),f=>{((p,b,w)=>Ks(p,b,w).bind(es.getCurrent))(f,u,a).each(p=>{Ks(f,u,"lock").each(b=>{Jn.isOn(b)&&u.onLockedChange(f,p,b)})})})])])})}),bN=te([r4("field1","field2"),r4("field2","field1"),wl({factory:Ua,schema:[Ot("dom")],name:"lock",overrides:s=>({buttonBehaviours:Zt([Jn.config({selected:s.locked,toggleClass:s.markers.lockClass,aria:{mode:"pressed"}})])})})]),Zc=Ll({name:"FormCoupledInputs",configFields:vN(),partFields:bN(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:Xn(s.coupledFieldBehaviours,[es.config({find:D.some}),lt.config({store:{mode:"manual",getValue:p=>{const b=TE(p,s,["field1","field2"]);return{[s.field1Name]:lt.getValue(b.field1()),[s.field2Name]:lt.getValue(b.field2())}},setValue:(p,b)=>{const w=TE(p,s,["field1","field2"]);vo(b,s.field1Name)&&lt.setValue(w.field1(),b[s.field1Name]),vo(b,s.field2Name)&&lt.setValue(w.field2(),b[s.field2Name])}}})]),apis:{getField1:p=>Ks(p,s,"field1"),getField2:p=>Ks(p,s,"field2"),getLock:p=>Ks(p,s,"lock")}}),apis:{getField1:(s,a)=>s.getField1(a),getField2:(s,a)=>s.getField2(a),getLock:(s,a)=>s.getLock(a)}}),i4=s=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(s);if(a!==null){const u=parseFloat(a[1]),f=a[2];return Bo.value({value:u,unit:f})}return Bo.error(s)},a4=(s,a)=>{const u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=p=>Eo(u,p);return s.unit===a?D.some(s.value):f(s.unit)&&f(a)?u[s.unit]===u[a]?D.some(s.value):D.some(s.value/u[s.unit]*u[a]):D.none()},l4=s=>D.none(),yN=(s,a)=>{const u=s.label.map(L=>$p(L,a)),f=[so.config({disabled:()=>s.disabled||a.isDisabled()}),Pi(),Nn.config({mode:"execution",useEnter:s.multiline!==!0,useControlEnter:s.multiline===!0,execute:L=>(ko(L,q2),D.some(!0))}),Co("textfield-change",[St(Im(),(L,N)=>{Rn(L,al,{name:s.name})}),St(nx(),(L,N)=>{Rn(L,al,{name:s.name})})]),Us.config({})],p=s.validation.map(L=>cg.config({getRoot:N=>Sa(N.element),invalidClass:"tox-invalid",validator:{validate:N=>{const z=lt.getValue(N),q=L.validator(z);return lg(q===!0?Bo.value(z):Bo.error(q))},validateOnLoad:L.validateOnLoad}})).toArray(),b={...s.placeholder.fold(te({}),L=>({placeholder:a.translate(L)})),...s.inputMode.fold(te({}),L=>({inputmode:L})),"data-mce-name":s.name},w=Es.parts.field({tag:s.multiline===!0?"textarea":"input",...s.data.map(L=>({data:L})).getOr({}),inputAttributes:b,inputClasses:[s.classname],inputBehaviours:Zt(Qn([f,p])),selectOnFocus:!1,factory:yh}),k=s.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[w]}:w,E=(s.flex?["tox-form__group--stretched"]:[]).concat(s.maximized?["tox-form-group--maximize"]:[]),R=[so.config({disabled:()=>s.disabled||a.isDisabled(),onDisabled:L=>{Es.getField(L).each(so.disable)},onEnabled:L=>{Es.getField(L).each(so.enable)}}),Pi()];return G2(u,k,E,R)},ow=(s,a)=>a.getAnimationRoot.fold(()=>s.element,u=>u(s)),Ah=s=>s.dimension.property,Yp=(s,a)=>s.dimension.getDimension(a),Xp=(s,a)=>{const u=ow(s,a);rc(u,[a.shrinkingClass,a.growingClass])},kS=(s,a)=>{Nr(s.element,a.openClass),kr(s.element,a.closedClass),co(s.element,Ah(a),"0px"),Bu(s.element)},c4=(s,a)=>{Nr(s.element,a.closedClass),kr(s.element,a.openClass),ws(s.element,Ah(a))},xN=(s,a,u,f)=>{u.setCollapsed(),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),kS(s,a),a.onStartShrink(s),a.onShrunk(s)},M7=(s,a,u,f)=>{const p=f.getOrThunk(()=>Yp(a,s.element));u.setCollapsed(),co(s.element,Ah(a),p),Bu(s.element);const b=ow(s,a);Nr(b,a.growingClass),kr(b,a.shrinkingClass),kS(s,a),a.onStartShrink(s)},wN=(s,a,u)=>{const f=Yp(a,s.element);(f==="0px"?xN:M7)(s,a,u,D.some(f))},CN=(s,a,u)=>{const f=ow(s,a),p=tl(f,a.shrinkingClass),b=Yp(a,s.element);c4(s,a);const w=Yp(a,s.element);(p?()=>{co(s.element,Ah(a),b),Bu(s.element)}:()=>{kS(s,a)})(),Nr(f,a.shrinkingClass),kr(f,a.growingClass),c4(s,a),co(s.element,Ah(a),w),u.setExpanded(),a.onStartGrow(s)},sw=(s,a,u)=>{const f=ow(s,a);return tl(f,a.growingClass)===!0},_N=(s,a,u)=>{const f=ow(s,a);return tl(f,a.shrinkingClass)===!0};var SN=Object.freeze({__proto__:null,refresh:(s,a,u)=>{if(u.isExpanded()){ws(s.element,Ah(a));const f=Yp(a,s.element);co(s.element,Ah(a),f)}},grow:(s,a,u)=>{u.isExpanded()||CN(s,a,u)},shrink:(s,a,u)=>{u.isExpanded()&&wN(s,a,u)},immediateShrink:(s,a,u)=>{u.isExpanded()&&xN(s,a,u)},hasGrown:(s,a,u)=>u.isExpanded(),hasShrunk:(s,a,u)=>u.isCollapsed(),isGrowing:sw,isShrinking:_N,isTransitioning:(s,a,u)=>sw(s,a)||_N(s,a),toggleGrow:(s,a,u)=>{(u.isExpanded()?wN:CN)(s,a,u)},disableTransitions:Xp,immediateGrow:(s,a,u)=>{u.isExpanded()||(c4(s,a),co(s.element,Ah(a),Yp(a,s.element)),Xp(s,a),u.setExpanded(),a.onStartGrow(s),a.onGrown(s))}}),B7=Object.freeze({__proto__:null,exhibit:(s,a,u)=>{const f=a.expanded;return Kr(f?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:ru(a.dimension.property,"0px")})},events:(s,a)=>fo([Tf(Nv(),(u,f)=>{f.event.raw.propertyName===s.dimension.property&&(Xp(u,s),a.isExpanded()&&ws(u.element,s.dimension.property),(a.isExpanded()?s.onGrown:s.onShrunk)(u))})])}),kN=[Ot("closedClass"),Ot("openClass"),Ot("shrinkingClass"),Ot("growingClass"),jo("getAnimationRoot"),Yo("onShrunk"),Yo("onStartShrink"),Yo("onGrown"),Yo("onStartGrow"),it("expanded",!1),Wi("dimension",hi("property",{width:[Zs("property","width"),Zs("getDimension",s=>Oi(s)+"px")],height:[Zs("property","height"),Zs("getDimension",s=>Dr(s)+"px")]}))];const ql=Ni({fields:kN,name:"sliding",active:B7,apis:SN,state:Object.freeze({__proto__:null,init:s=>{const a=Bn(s.expanded);return Ii({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:Ue(a.set,!1),setExpanded:Ue(a.set,!0),readState:()=>"expanded: "+a.get()})}})}),EN=s=>({isEnabled:()=>!so.isDisabled(s),setEnabled:a=>so.set(s,!a),setActive:a=>{const u=s.element;a?(kr(u,"tox-tbtn--enabled"),sn(u,"aria-pressed",!0)):(Nr(u,"tox-tbtn--enabled"),_o(u,"aria-pressed"))},isActive:()=>tl(s.element,"tox-tbtn--enabled"),setText:a=>{Rn(s,Cu,{text:a})},setIcon:a=>Rn(s,ld,{icon:a})}),sy=(s,a,u,f,p=!0,b)=>o4({text:s.text,icon:s.icon,tooltip:s.tooltip,ariaLabel:s.tooltip,searchable:s.search.isSome(),role:f,fetch:(w,k)=>{const E={pattern:s.search.isSome()?jb(w):""};s.fetch(R=>{k(Xb(R,Yf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:s.search}))},E,EN(w))},onSetup:s.onSetup,getApi:EN,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...p?[Us.config({})]:[]]},a,u.shared,b),AN=(s,a,u)=>{const f=b=>w=>{const k=!w.isActive();w.setActive(k),b.storage.set(k),u.shared.getSink().each(E=>{a().getOpt(E).each(R=>{za(R.element),Rn(R,Jf,{name:b.name,value:b.storage.get()})})})},p=b=>w=>{w.setActive(b.storage.get())};return b=>{b(Ye(s,w=>{const k=w.text.fold(()=>({}),E=>({text:E}));return{type:w.type,active:!1,...k,onAction:f(w),onSetup:p(w)}}))}},u4=s=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":s}},components:[Vr(s)]}),d4=bn("leaf-label-event-id"),f4=({leaf:s,onLeafAction:a,visible:u,treeId:f,selectedId:p,backstage:b})=>{const w=s.menu.map(E=>sy(E,"tox-mbtn",b,D.none(),u)),k=[u4(s.title)];return w.each(E=>k.push(E)),Ua.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(u?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{a(s.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:s.id})},eventOrder:{[Sr()]:[d4,"keying"]},buttonBehaviours:Zt([...u?[Us.config({})]:[],Jn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),yl.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,R)=>{(R.value===s.id?Jn.on:Jn.off)(E)}}}}),Co(d4,[nr((E,R)=>{p.each(L=>{(L===s.id?Jn.on:Jn.off)(E)})}),St(Sr(),(E,R)=>{const L=R.event.raw.code==="ArrowLeft",N=R.event.raw.code==="ArrowRight";L?($m(E.element,".tox-tree--directory").each(z=>{E.getSystem().getByDom(z).each(q=>{l0(z,".tox-tree--directory__label").each(J=>{q.getSystem().getByDom(J).each(to.focus)})})}),R.stop()):N&&R.stop()})])])})},TN=bn("directory-label-event-id"),L7=({directory:s,visible:a,noChildren:u,backstage:f})=>{const p=s.menu.map(R=>sy(R,"tox-mbtn",f,D.none())),b=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(w="chevron-right",k=f.shared.providers.icons,((R,L,N)=>$c(R,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(w,k))]},u4(s.title)];var w,k;p.each(R=>{b.push(R)});const E=R=>{$m(R.element,".tox-tree--directory").each(L=>{R.getSystem().getByDom(L).each(N=>{const z=!Jn.isOn(N);Jn.toggle(N),Rn(R,"expand-tree-node",{expanded:z,node:s.id})})})};return Ua.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:b,action:E,eventOrder:{[Sr()]:[TN,"keying"]},buttonBehaviours:Zt([...a?[Us.config({})]:[],Co(TN,[St(Sr(),(R,L)=>{const N=L.event.raw.code==="ArrowRight",z=L.event.raw.code==="ArrowLeft";N&&u&&L.stop(),(N||z)&&$m(R.element,".tox-tree--directory").each(q=>{R.getSystem().getByDom(q).each(J=>{!Jn.isOn(J)&&N||Jn.isOn(J)&&z?(E(R),L.stop()):z&&!Jn.isOn(J)&&($m(J.element,".tox-tree--directory").each(ce=>{l0(ce,".tox-tree--directory__label").each(me=>{J.getSystem().getByDom(me).each(to.focus)})}),L.stop())})})})])])})},F7=({children:s,onLeafAction:a,visible:u,treeId:f,expandedIds:p,selectedId:b,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:s.map(k=>k.type==="leaf"?f4({leaf:k,selectedId:b,onLeafAction:a,visible:u,treeId:f,backstage:w}):ES({directory:k,expandedIds:p,selectedId:b,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:w})),behaviours:Zt([ql.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:u}),jn.config({})])}),ON=bn("directory-event-id"),ES=({directory:s,onLeafAction:a,labelTabstopping:u,treeId:f,backstage:p,expandedIds:b,selectedId:w})=>{const{children:k}=s,E=Bn(b),R=b.includes(s.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[L7({directory:s,visible:u,noChildren:s.children.length===0,backstage:p}),F7({children:k,expandedIds:b,selectedId:w,onLeafAction:a,visible:R,treeId:f,backstage:p})],behaviours:Zt([Co(ON,[nr((L,N)=>{Jn.set(L,R)}),St("expand-tree-node",(L,N)=>{const{expanded:z,node:q}=N.event;E.set(z?[...E.get(),q]:E.get().filter(J=>J!==q))})]),Jn.config({...s.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,N)=>{const z=L.components()[1],q=(J=N,k.map(ce=>ce.type==="leaf"?f4({leaf:ce,selectedId:w,onLeafAction:a,visible:J,treeId:f,backstage:p}):ES({directory:ce,expandedIds:E.get(),selectedId:w,onLeafAction:a,labelTabstopping:J,treeId:f,backstage:p})));var J;N?ql.grow(z):ql.shrink(z),jn.set(z,q)}})])}},V7=bn("tree-event-id");var z7=Object.freeze({__proto__:null,events:(s,a)=>{const u=s.stream.streams.setup(s,a);return fo([St(s.event,u),Gu(()=>a.cancel())].concat(s.cancelEvent.map(f=>[St(f,()=>a.cancel())]).getOr([])))}});const DN=s=>{const a=Bn(null);return Ii({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:u=>{a.set(u)},cancel:()=>{const u=a.get();u!==null&&u.cancel()}})};var H7=Object.freeze({__proto__:null,throttle:DN,init:s=>s.stream.streams.state(s)}),$7=[Wi("stream",hi("mode",{throttle:[Ot("delay"),it("stopEvent",!0),Zs("streams",{setup:(s,a)=>{const u=s.stream,f=W3(s.onStream,u.delay);return a.setTimer(f),(p,b)=>{f.throttle(p,b),u.stopEvent&&b.stop()}},state:DN})]})),it("event","input"),jo("cancelEvent"),qu("onStream")];const m4=Ni({fields:$7,name:"streaming",active:z7,state:H7}),AS=(s,a,u)=>{const f=lt.getValue(u);lt.setValue(a,f),g4(a)},TS=(s,a)=>{const u=s.element,f=Rf(u),p=u.dom;Po(u,"type")!=="number"&&a(p,f)},g4=s=>{TS(s,(a,u)=>a.setSelectionRange(u.length,u.length))},h4=te("alloy.typeahead.itemexecute"),U7=te([jo("lazySink"),Ot("fetch"),it("minChars",5),it("responseTime",1e3),Yo("onOpen"),it("getHotspot",D.some),it("getAnchorOverrides",te({})),it("layouts",D.none()),it("eventOrder",{}),Va("model",{},[it("getDisplayText",s=>s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.value),it("selectsOver",!0),it("populateFromBrowse",!0)]),Yo("onSetValue"),vl("onExecute"),Yo("onItemExecute"),it("inputClasses",[]),it("inputAttributes",{}),it("inputStyles",{}),it("matchWidth",!0),it("useMinWidth",!1),it("dismissOnBlur",!0),Jg(["openClass"]),jo("initialData"),jo("listRole"),yn("typeaheadBehaviours",[to,lt,m4,Nn,Jn,zr]),Ui("lazyTypeaheadComp",()=>Bn(D.none)),Ui("previewing",()=>Bn(!0))].concat(kF()).concat(c3())),RN=te([Wd({schema:[Xg()],name:"menu",overrides:s=>({fakeFocus:!0,onHighlightItem:(a,u,f)=>{s.previewing.get()?s.lazyTypeaheadComp.get().each(p=>{((b,w,k)=>{if(b.selectsOver){const E=lt.getValue(w),R=b.getDisplayText(E),L=lt.getValue(k);return b.getDisplayText(L).indexOf(R)===0?D.some(()=>{AS(0,w,k),((N,z)=>{TS(N,(q,J)=>q.setSelectionRange(z,J.length))})(w,R.length)}):D.none()}return D.none()})(s.model,p,f).fold(()=>{s.model.selectsOver?(_s.dehighlight(u,f),s.previewing.set(!0)):s.previewing.set(!1)},b=>{b(),s.previewing.set(!1)})}):s.lazyTypeaheadComp.get().each(p=>{s.model.populateFromBrowse&&AS(s.model,p,f),Zo(f.element,"id").each(b=>sn(p.element,"aria-activedescendant",b))})},onExecute:(a,u)=>s.lazyTypeaheadComp.get().map(f=>(Rn(f,h4(),{item:u}),!0)),onHover:(a,u)=>{s.previewing.set(!1),s.lazyTypeaheadComp.get().each(f=>{s.model.populateFromBrowse&&AS(s.model,f,u)})}})})]),W7=Ll({name:"Typeahead",configFields:U7(),partFields:RN(),factory:(s,a,u,f)=>{const p=(N,z,q)=>{s.previewing.set(!1);const J=zr.getCoupled(N,"sandbox");if(T.isOpen(J))es.getCurrent(J).each(ce=>{_s.getHighlighted(ce).fold(()=>{q(ce)},()=>{Dc(J,ce.element,"keydown",z)})});else{const ce=me=>{es.getCurrent(me).each(q)};U_(s,w(N),N,J,f,ce,il.HighlightMenuAndItem).get(fe)}},b=EF(s),w=N=>z=>z.map(q=>{const J=Tr(q.menus),ce=tn(J,me=>Fn(me.items,xe=>xe.type==="item"));return lt.getState(N).update(Ye(ce,me=>me.data)),q}),k=N=>es.getCurrent(N),E="typeaheadevents",R=[to.config({}),lt.config({onSetValue:s.onSetValue,store:{mode:"dataset",getDataKey:N=>Rf(N.element),getFallbackEntry:N=>({value:N,meta:{}}),setValue:(N,z)=>{zm(N.element,s.model.getDisplayText(z))},...s.initialData.map(N=>ru("initialValue",N)).getOr({})}}),m4.config({stream:{mode:"throttle",delay:s.responseTime,stopEvent:!1},onStream:(N,z)=>{const q=zr.getCoupled(N,"sandbox");if(to.isFocused(N)&&Rf(N.element).length>=s.minChars){const J=k(q).bind(me=>_s.getHighlighted(me).map(lt.getValue));s.previewing.set(!0);const ce=me=>{k(q).each(xe=>{J.fold(()=>{s.model.selectsOver&&_s.highlightFirst(xe)},de=>{_s.highlightBy(xe,ue=>lt.getValue(ue).value===de.value),_s.getHighlighted(xe).orThunk(()=>(_s.highlightFirst(xe),D.none()))})})};U_(s,w(N),N,q,f,ce,il.HighlightJustMenu).get(fe)}},cancelEvent:Nd()}),Nn.config({mode:"special",onDown:(N,z)=>(p(N,z,_s.highlightFirst),D.some(!0)),onEscape:N=>{const z=zr.getCoupled(N,"sandbox");return T.isOpen(z)?(T.close(z),D.some(!0)):D.none()},onUp:(N,z)=>(p(N,z,_s.highlightLast),D.some(!0)),onEnter:N=>{const z=zr.getCoupled(N,"sandbox"),q=T.isOpen(z);if(q&&!s.previewing.get())return k(z).bind(J=>_s.getHighlighted(J)).map(J=>(Rn(N,h4(),{item:J}),!0));{const J=lt.getValue(N);return ko(N,Nd()),s.onExecute(z,N,J),q&&T.close(z),D.some(!0)}}}),Jn.config({toggleClass:s.markers.openClass,aria:{mode:"expanded"}}),zr.config({others:{sandbox:N=>l3(s,N,{onOpen:()=>Jn.on(N),onClose:()=>{s.lazyTypeaheadComp.get().each(z=>_o(z.element,"aria-activedescendant")),Jn.off(N)}})}}),Co(E,[nr(N=>{s.lazyTypeaheadComp.set(D.some(N))}),Gu(N=>{s.lazyTypeaheadComp.set(D.none())}),lu(N=>{const z=fe;i3(s,w(N),N,f,z,il.HighlightMenuAndItem).get(fe)}),St(h4(),(N,z)=>{const q=zr.getCoupled(N,"sandbox");AS(s.model,N,z.event.item),ko(N,Nd()),s.onItemExecute(N,q,z.event.item,lt.getValue(N)),T.close(q),g4(N)})].concat(s.dismissOnBlur?[St(rp(),N=>{const z=zr.getCoupled(N,"sandbox");Yr(z.element).isNone()&&T.close(z)})]:[]))],L={[Tc()]:[lt.name(),m4.name(),E],...s.eventOrder};return{uid:s.uid,dom:_R(Ns(s,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...b,...yo(s.typeaheadBehaviours,R)},eventOrder:L}}}),Jb=s=>({...s,toCached:()=>Jb(s.toCached()),bindFuture:a=>Jb(s.bind(u=>u.fold(f=>lg(Bo.error(f)),f=>a(f)))),bindResult:a=>Jb(s.map(u=>u.bind(a))),mapResult:a=>Jb(s.map(u=>u.map(a))),mapError:a=>Jb(s.map(u=>u.mapError(a))),foldResult:(a,u)=>s.map(f=>f.fold(a,u)),withTimeout:(a,u)=>Jb(zp(f=>{let p=!1;const b=setTimeout(()=>{p=!0,f(Bo.error(u()))},a);s.get(w=>{p||(clearTimeout(b),f(w))})}))}),IN=s=>Jb(zp(s)),rw=(s,a,u=[],f,p,b,w)=>{const k=a.fold(()=>({}),L=>({action:L})),E={buttonBehaviours:Zt([Da(()=>!s.enabled||w.isDisabled()),Pi(),Us.config({}),...b.map(L=>si.config(w.tooltips.getConfig({tooltipText:w.translate(L)}))).toArray(),Co("button press",[bC("click")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},R=Ns(E,{dom:f});return Ns(R,{components:p})},NN=(s,a,u,f=[],p)=>{const b={tag:"button",classes:["tox-tbtn"],attributes:{...s.tooltip.map(E=>({"aria-label":u.translate(E)})).getOr({}),"data-mce-name":p}},w=s.icon.map(E=>tw(E,u.icons)),k=Z0([w]);return rw(s,a,f,b,k,s.tooltip,u)},p4=s=>{switch(s){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},PN=(s,a,u,f=[],p=[])=>{const b=u.translate(s.text),w=s.icon.map(N=>tw(N,u.icons)),k=[w.getOrThunk(()=>Vr(b))],E=s.buttonType.getOr(s.primary||s.borderless?"primary":"secondary"),R={tag:"button",classes:[...p4(E),...w.isSome()?["tox-button--icon"]:[],...s.borderless?["tox-button--naked"]:[],...p],attributes:{"aria-label":b,"data-mce-name":s.text}},L=s.icon.map(te(b));return rw(s,a,f,R,k,L,u)},MN=(s,a,u,f=[],p=[])=>{const b=PN(s,D.some(a),u,f,p);return Ua.sketch(b)},v4=(s,a)=>u=>{a==="custom"?Rn(u,Jf,{name:s,value:{}}):a==="submit"?ko(u,q2):a==="cancel"?ko(u,_h):console.error("Unknown button type: ",a)},ry=(s,a,u)=>{if(((f,p)=>p==="menu")(0,a)){const f=()=>w,p=s,b={...s,type:"menubutton",search:D.none(),onSetup:k=>(k.setEnabled(s.enabled),fe),fetch:AN(p.items,f,u)},w=Cs(sy(b,"tox-tbtn",u,D.none(),!0,s.text.or(s.tooltip).getOrUndefined()));return w.asSpec()}if(((f,p)=>p==="custom"||p==="cancel"||p==="submit")(0,a)){const f=v4(s.name,a),p={...s,borderless:!1};return MN(p,f,u.shared.providers,[])}if(((f,p)=>p==="togglebutton")(0,a))return((f,p,b)=>{var w,k;const E=f.icon.map(ue=>qp(ue,p.icons)).map(Cs),R=f.buttonType.getOr(f.primary?"primary":"secondary"),L={...f,name:(w=f.name)!==null&&w!==void 0?w:"",primary:R==="primary",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k,borderless:!1},N=L.tooltip.or(f.text).map(ue=>({"aria-label":p.translate(ue)})).getOr({}),z=p4(R??"secondary"),q=f.icon.isSome()&&f.text.isSome(),J={tag:"button",classes:[...z.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...q?["tox-button--icon-and-text"]:[]],attributes:{...N,...Z(b)?{"data-mce-name":b}:{}}},ce=p.translate(f.text.getOr("")),me=Vr(ce),xe=[...Z0([E.map(ue=>ue.asSpec())]),...f.text.isSome()?[me]:[]],de=rw(L,D.some(ue=>{Rn(ue,Jf,{name:f.name,value:{setIcon:ve=>{E.map(we=>we.getOpt(ue).each(ke=>{jn.set(ke,[qp(ve,p.icons)])}))}}})}),[],J,xe,f.tooltip,p);return Ua.sketch(de)})(s,u.shared.providers,s.text.or(s.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},Z7={type:"separator"},j7=s=>({type:"menuitem",value:s.url,text:s.title,meta:{attach:s.attach},onAction:fe}),b4=(s,a)=>({type:"menuitem",value:a,text:s,meta:{attach:void 0},onAction:fe}),BN=(s,a)=>(u=>Ye(u,j7))(((u,f)=>Fn(f,p=>p.type===u))(s,a)),K7=s=>BN("header",s.targets),G7=s=>BN("anchor",s.targets),LN=s=>D.from(s.anchorTop).map(a=>b4("<top>",a)).toArray(),FN=s=>D.from(s.anchorBottom).map(a=>b4("<bottom>",a)).toArray(),y4=(s,a)=>{const u=s.toLowerCase();return Fn(a,f=>{var p;const b=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,w=(p=f.value)!==null&&p!==void 0?p:"";return ei(b.toLowerCase(),u)||ei(w.toLowerCase(),u)})},VN=bn("aria-invalid"),q7=(s,a)=>{s.dom.checked=a},jc=s=>s.dom.checked,pr=s=>(a,u,f,p,b)=>hn(u,"name").fold(()=>s(u,p,D.none(),b),w=>a.field(w,s(u,p,hn(f,w),b))),Y7={bar:pr((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),collection:pr((s,a,u)=>MI(s,a.shared.providers,u)),alertbanner:pr((s,a)=>((u,f)=>{const p=gR(u.icon,f.icons);return Gd.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${u.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:u.url?void 0:p},components:u.url?[Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:f.translate(u.iconTooltip)}},action:b=>Rn(b,Jf,{name:"alert-banner",value:u.url}),buttonBehaviours:Zt([C_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]})})(s,a.shared.providers)),input:pr((s,a,u)=>((f,p,b)=>yN({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:D.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),textarea:pr((s,a,u)=>((f,p,b)=>yN({name:f.name,multiline:!0,label:f.label,inputMode:D.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:D.none(),maximized:f.maximized,data:b},p))(s,a.shared.providers,u)),label:pr((s,a,u,f)=>((p,b,w)=>{const k="tox-label",E=p.align==="center"?[`${k}--center`]:[],R=p.align==="end"?[`${k}--end`]:[],L=Cs({dom:{tag:"label",classes:[k,...E,...R]},components:[Vr(b.providers.translate(p.label))]}),N=Ye(p.items,b.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[L.asSpec(),...N],behaviours:Zt([mg(),jn.config({}),(z=D.none(),$3(z,Bd,Gg)),Nn.config({mode:"acyclic"}),Co("label",[nr(q=>{p.for.each(J=>{w(J).each(ce=>{L.getOpt(q).each(me=>{var xe;const de=(xe=Po(ce.element,"id"))!==null&&xe!==void 0?xe:bn("form-field");sn(ce.element,"id",de),sn(me.element,"for",de)})})})})])])};var z})(s,a.shared,f)),iframe:(z4=(s,a,u)=>((f,p,b)=>{const w="tox-dialog__iframe",k=f.transparent?[]:[`${w}--opaque`],E=f.border?["tox-navobj-bordered"]:[],R={...f.label.map(q=>({title:q})).getOr({}),...b.map(q=>({srcdoc:q})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},L=((q,J)=>{const ce=Bn(q.getOr(""));return{getValue:me=>ce.get(),setValue:(me,xe)=>{if(ce.get()!==xe){const de=me.element,ue=()=>sn(de,"srcdoc",xe);J?e4.fold(te(Q3),ve=>ve.throttle)(de,xe,ue):ue()}ce.set(xe)}}})(b,f.streamContent),N=f.label.map(q=>$p(q,p)),z=Es.parts.field({factory:{sketch:q=>K3(D.from(E),{uid:q.uid,dom:{tag:"iframe",attributes:R,classes:[w,...k]},behaviours:Zt([Us.config({}),to.config({}),Yb(b,L.getValue,L.setValue),yl.config({channels:{[bS]:{onReceive:(J,ce)=>{ce.newFocus.each(me=>{Sa(J.element).each(xe=>{(rs(J.element,me)?kr:Nr)(xe,"tox-navobj-bordered-focus")})})}}}})])})}});return G2(N,z,["tox-form__group--stretched"],[])})(s,a.shared.providers,u),(s,a,u,f,p)=>{const b=Ns(a,{source:"dynamic"});return pr(z4)(s,b,u,f,p)}),button:pr((s,a)=>((u,f)=>{const p=v4(u.name,"custom");return b=D.none(),w=Es.parts.field({factory:Ua,...PN(u,D.some(p),f,[ew(""),mg()])}),G2(b,w,[],[]);var b,w})(s,a.shared.providers)),checkbox:pr((s,a,u)=>((f,p,b)=>{const w=N=>(N.element.dom.click(),D.some(!0)),k=Es.parts.field({factory:{sketch:Ce},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Zt([mg(),so.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:N=>{Sa(N.element).each(z=>kr(z,"tox-checkbox--disabled"))},onEnabled:N=>{Sa(N.element).each(z=>Nr(z,"tox-checkbox--disabled"))}}),Us.config({}),to.config({}),$3(b,jc,q7),Nn.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),Co("checkbox-events",[St(Nm(),(N,z)=>{Rn(N,al,{name:f.name})})])])}),E=Es.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Vr(p.translate(f.label))],behaviours:Zt([Kb.config({})])}),R=N=>$c(N==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+N]},p.icons),L=Cs({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[R("checked"),R("unchecked")]});return Es.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),E],fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled()}),Pi()])})})(s,a.shared.providers,u)),colorinput:pr((s,a,u)=>((f,p,b,w)=>{const k=Es.parts.field({factory:yh,inputClasses:["tox-textfield"],data:w,onSetValue:N=>cg.run(N).get(fe),inputBehaviours:Zt([so.config({disabled:p.providers.isDisabled}),Pi(),Us.config({}),cg.config({invalidClass:"tox-textbox-field-invalid",getRoot:N=>Sa(N.element),notify:{onValid:N=>{const z=lt.getValue(N);Rn(N,b3,{color:z})}},validator:{validateOnLoad:!1,validate:N=>{const z=lt.getValue(N);if(z.length===0)return lg(Bo.value(!0));{const q=Ti("span");co(q,"background-color",z);const J=$r(q,"background-color").fold(()=>Bo.error("blah"),ce=>Bo.value(z));return lg(J)}}}})]),selectOnFocus:!1}),E=f.label.map(N=>$p(N,p.providers)),R=(N,z)=>{Rn(N,y3,{value:z})},L=Cs(((N,z)=>Cl.sketch({dom:N.dom,components:N.components,toggleClass:"mce-active",dropdownBehaviours:Zt([Da(z.providers.isDisabled),Pi(),Kb.config({}),Us.config({})]),layouts:N.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:z.getSink,fetch:q=>zp(J=>N.fetch(J)).map(J=>D.from(u3(Ns(Zb(bn("menu-value"),J,ce=>{N.onItemAction(q,ce)},N.columns,N.presets,Yf.CLOSE_ON_EXECUTE,Se,z.providers),{movement:U2(N.columns,N.presets)})))),parts:{menu:k_(0,0,N.presets)}}))({dom:{tag:"span",attributes:{"aria-label":p.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Mr,Pr,qr],onLtr:()=>[Pr,Mr,qr]},components:[],fetch:hI(b.getColors(f.storageKey),f.storageKey,b.hasCustomColors()),columns:b.getColorCols(f.storageKey),presets:"color",onItemAction:(N,z)=>{L.getOpt(N).each(q=>{z==="custom"?b.colorPicker(J=>{J.fold(()=>ko(q,zI),ce=>{R(q,ce),jA(f.storageKey,ce)})},"#ffffff"):R(q,z==="remove"?"":z)})}},p));return Es.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:Zt([Co("form-field-events",[St(b3,(N,z)=>{L.getOpt(N).each(q=>{co(q.element,"background-color",z.event.color)}),Rn(N,al,{name:f.name})}),St(y3,(N,z)=>{Es.getField(N).each(q=>{lt.setValue(q,z.event.value),es.getCurrent(N).each(to.focus)})}),St(zI,(N,z)=>{Es.getField(N).each(q=>{es.getCurrent(N).each(to.focus)})})])])})})(s,a.shared,a.colorinput,u)),colorpicker:pr((s,a,u)=>((f,p,b)=>{const w=R=>"tox-"+R,k=aN((R=>L=>v(L)?R.translate(R7[L]):R.translate(L))(p),w,p.tooltips.getConfig,(R,L,N=R,z=R)=>$c(N,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+R],attributes:{title:p.translate(z),"aria-live":"polite",...L.fold(()=>({}),q=>({id:q}))}},p.icons)),E=Cs(k.sketch({dom:{tag:"div",classes:[w("color-picker-container")],attributes:{role:"presentation"}},onValidHex:R=>{Rn(R,Jf,{name:"hex-valid",value:!0})},onInvalidHex:R=>{Rn(R,Jf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:Zt([Yb(b,R=>{const L=E.get(R);return es.getCurrent(L).bind(N=>lt.getValue(N).hex).map(N=>"#"+zs(N,"#")).getOr("")},(R,L)=>{const N=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(q=>gt(q,1)),z=E.get(R);es.getCurrent(z).fold(()=>{console.log("Can not find form")},q=>{lt.setValue(q,{hex:N.getOr("")}),jp.getField(q,"hex").each(J=>{ko(J,Im())})})}),mg()])}})(0,a.shared.providers,u)),dropzone:pr((s,a,u)=>((f,p,b)=>{const w=(J,ce)=>{ce.stop()},k=J=>(ce,me)=>{Mt(J,xe=>{xe(ce,me)})},E=(J,ce)=>{var me;if(!so.isDisabled(J)){const xe=ce.event.raw;L(J,(me=xe.dataTransfer)===null||me===void 0?void 0:me.files)}},R=(J,ce)=>{const me=ce.event.raw.target;L(J,me.files)},L=(J,ce)=>{ce&&(lt.setValue(J,((me,xe)=>{const de=Eh.explode(xe.getOption("images_file_types"));return Fn(Ft(me),ue=>pt(de,ve=>Iu(ue.name.toLowerCase(),`.${ve.toLowerCase()}`)))})(ce,p)),Rn(J,al,{name:f.name}))},N=Cs({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Zt([Co("input-file-events",[Pm(pi()),Pm(Cf())])])}),z=f.label.map(J=>$p(J,p)),q=Es.parts.field({factory:{sketch:J=>({uid:J.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Zt([ew(b.getOr([])),mg(),so.config({}),Jn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Co("dropzone-events",[St("dragenter",k([w,Jn.toggle])),St("dragleave",k([w,Jn.toggle])),St("dragover",w),St("drop",k([w,E])),St(Nm(),R)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Vr(p.translate("Drop an image here"))]},Ua.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Vr(p.translate("Browse for an image")),N.asSpec()],action:ce=>{N.get(ce).element.dom.click()},buttonBehaviours:Zt([Us.config({}),Da(p.isDisabled),Pi()])})]}]})}});return G2(z,q,["tox-form__group--stretched"],[])})(s,a.shared.providers,u)),grid:pr((s,a)=>((u,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${u.columns}col`]},components:Ye(u.items,f.interpreter)}))(s,a.shared)),listbox:pr((s,a,u)=>((f,p,b)=>{const w=pt(f.items,z=>!nw(z)),k=p.shared.providers,E=b.bind(z=>SS(f.items,z)).orThunk(()=>zt(f.items).filter(nw)),R=f.label.map(z=>$p(z,k)),L=Es.parts.field({dom:{},factory:{sketch:z=>o4({uid:z.uid,text:E.map(q=>q.text),icon:D.none(),tooltip:D.none(),role:ss(!w,"combobox"),...w?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(q,J)=>{const ce=_S(q,f.name,f.items,lt.getValue(q),w);J(Xb(ce,Yf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:D.none()}))},onSetup:te(fe),getApi:te({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Us.config({}),Yb(E.map(q=>q.value),q=>Po(q.element,s4),(q,J)=>{SS(f.items,J).each(ce=>{sn(q.element,s4,ce.value),Rn(q,Cu,{text:ce.text})})})]},"tox-listbox",p.shared)}}),N={dom:{tag:"div",classes:["tox-listboxfield"]},components:[L]};return Es.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qn([R.toArray(),[N]]),fieldBehaviours:Zt([so.config({disabled:te(!f.enabled),onDisabled:z=>{Es.getField(z).each(so.disable)},onEnabled:z=>{Es.getField(z).each(so.enable)}})])})})(s,a,u)),selectbox:pr((s,a,u)=>((f,p,b)=>{const w=Ye(f.items,N=>({text:p.translate(N.text),value:N.value})),k=f.label.map(N=>$p(N,p)),E=Es.parts.field({dom:{},...b.map(N=>({data:N})).getOr({}),selectAttributes:{size:f.size},options:w,factory:P7,selectBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled()}),Us.config({}),Co("selectbox-change",[St(Nm(),(N,z)=>{Rn(N,al,{name:f.name})})])])}),R=f.size>1?D.none():D.some($c("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},p.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:Qn([[E],R.toArray()])};return Es.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qn([k.toArray(),[L]]),fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||p.isDisabled(),onDisabled:N=>{Es.getField(N).each(so.disable)},onEnabled:N=>{Es.getField(N).each(so.enable)}}),Pi()])})})(s,a.shared.providers,u)),sizeinput:pr((s,a)=>((u,f)=>{let p=l4;const b=bn("ratio-event"),w=ce=>$c(ce,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ce]},f.icons),k=u.label.getOr("Constrain proportions"),E=f.translate(k),R=Zc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[w("lock"),w("unlock")],buttonBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Us.config({}),si.config(f.tooltips.getConfig({tooltipText:E}))])}),L=ce=>({dom:{tag:"div",classes:["tox-form__group"]},components:ce}),N=ce=>Es.parts.field({factory:yh,inputClasses:["tox-textfield"],inputBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled()}),Pi(),Us.config({}),Co("size-input-events",[St(bs(),(me,xe)=>{Rn(me,b,{isField1:ce})}),St(Nm(),(me,xe)=>{Rn(me,al,{name:u.name})})])]),selectOnFocus:!1}),z=ce=>({dom:{tag:"label",classes:["tox-label"]},components:[Vr(f.translate(ce))]}),q=Zc.parts.field1(L([Es.parts.label(z("Width")),N(!0)])),J=Zc.parts.field2(L([Es.parts.label(z("Height")),N(!1)]));return Zc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[q,J,L([z(""),R])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ce,me,xe)=>{i4(lt.getValue(ce)).each(de=>{p(de).each(ue=>{lt.setValue(me,(ve=>{const we={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let ke=ve.value.toFixed((ze=ve.unit)in we?we[ze]:1);var ze;return ke.indexOf(".")!==-1&&(ke=ke.replace(/\.?0*$/,"")),ke+ve.unit})(ue))})})},coupledFieldBehaviours:Zt([so.config({disabled:()=>!u.enabled||f.isDisabled(),onDisabled:ce=>{Zc.getField1(ce).bind(Es.getField).each(so.disable),Zc.getField2(ce).bind(Es.getField).each(so.disable),Zc.getLock(ce).each(so.disable)},onEnabled:ce=>{Zc.getField1(ce).bind(Es.getField).each(so.enable),Zc.getField2(ce).bind(Es.getField).each(so.enable),Zc.getLock(ce).each(so.enable)}}),Pi(),Co("size-input-events2",[St(b,(ce,me)=>{const xe=me.event.isField1,de=xe?Zc.getField1(ce):Zc.getField2(ce),ue=xe?Zc.getField2(ce):Zc.getField1(ce),ve=de.map(lt.getValue).getOr(""),we=ue.map(lt.getValue).getOr("");p=((ke,ze)=>{const ot=i4(ke).toOptional(),Et=i4(ze).toOptional();return Kt(ot,Et,(_t,wt)=>a4(_t,wt.unit).map(Ht=>wt.value/Ht).map(Ht=>{return mn=Ht,kn=wt.unit,zn=>a4(zn,kn).map(ro=>({value:ro*mn,unit:kn}));var mn,kn}).getOr(l4)).getOr(l4)})(ve,we)})])])})})(s,a.shared.providers)),slider:pr((s,a,u)=>((f,p,b)=>{const w=Yd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Vr(p.translate(f.label))]}),k=Yd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=Yd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Yd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:te(b.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[w,k,E],sliderBehaviours:Zt([mg(),to.config({})]),onChoose:(R,L,N)=>{Rn(R,al,{name:f.name,value:N})},onChange:(R,L,N)=>{Rn(R,al,{name:f.name,value:N})}})})(s,a.shared.providers,u)),urlinput:pr((s,a,u)=>((f,p,b,w)=>{const k=p.shared.providers,E=de=>{const ue=lt.getValue(de);b.addToHistory(ue.value,f.filetype)},R={...w.map(de=>({initialData:de})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":VN,type:"url"},minChars:0,responseTime:0,fetch:de=>{const ue=((we,ke,ze)=>{var ot,Et;const _t=lt.getValue(ke),wt=(Et=(ot=_t==null?void 0:_t.meta)===null||ot===void 0?void 0:ot.text)!==null&&Et!==void 0?Et:_t.value;return ze.getLinkInformation().fold(()=>[],Ht=>{const mn=y4(wt,(zn=>Ye(zn,ro=>b4(ro,ro)))(ze.getHistory(we)));return we==="file"?(kn=[mn,y4(wt,K7(Ht)),y4(wt,Qn([LN(Ht),G7(Ht),FN(Ht)]))],_n(kn,(zn,ro)=>zn.length===0||ro.length===0?zn.concat(ro):zn.concat(Z7,ro),[])):mn;var kn})})(f.filetype,de,b),ve=Xb(ue,Yf.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:D.none()});return lg(ve)},getHotspot:de=>me.getOpt(de),onSetValue:(de,ue)=>{de.hasConfigured(cg)&&cg.run(de).get(fe)},typeaheadBehaviours:Zt([...b.getValidationHandler().map(de=>cg.config({getRoot:ue=>Sa(ue.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ue,ve)=>{z.getOpt(ue).each(we=>{sn(we.element,"title",k.translate(ve))})}},validator:{validate:ue=>{const ve=lt.getValue(ue);return IN(we=>{de({type:f.filetype,url:ve.value},ke=>{if(ke.status==="invalid"){const ze=Bo.error(ke.message);we(ze)}else{const ze=Bo.value(ke.message);we(ze)}})})},validateOnLoad:!1}})).toArray(),so.config({disabled:()=>!f.enabled||k.isDisabled()}),Us.config({}),Co("urlinput-events",[St(Im(),de=>{const ue=Rf(de.element),ve=ue.trim();ve!==ue&&zm(de.element,ve),f.filetype==="file"&&Rn(de,al,{name:f.name})}),St(Nm(),de=>{Rn(de,al,{name:f.name}),E(de)}),St(nx(),de=>{Rn(de,al,{name:f.name}),E(de)})])]),eventOrder:{[Im()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:de=>de.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:k_(0,0,"normal")},onExecute:(de,ue,ve)=>{Rn(ue,q2,{})},onItemExecute:(de,ue,ve,we)=>{E(de),Rn(de,al,{name:f.name})}},L=Es.parts.field({...R,factory:W7}),N=f.label.map(de=>$p(de,k)),z=Cs(((de,ue,ve=de,we=de)=>$c(ve,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+de],attributes:{title:k.translate(we),"aria-live":"polite",...ue.fold(()=>({}),ke=>({id:ke}))}},k.icons))("invalid",D.some(VN),"warning")),q=Cs({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),J=b.getUrlPicker(f.filetype),ce=bn("browser.url.event"),me=Cs({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,q.asSpec()],behaviours:Zt([so.config({disabled:()=>!f.enabled||k.isDisabled()})])}),xe=Cs(MN({name:f.name,icon:D.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:D.none(),borderless:!0},de=>ko(de,ce),k,[],["tox-browse-url"]));return Es.sketch({dom:K_([]),components:N.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Qn([[me.asSpec()],J.map(()=>xe.asSpec()).toArray()])}]),fieldBehaviours:Zt([so.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:de=>{Es.getField(de).each(so.disable),xe.getOpt(de).each(so.disable)},onEnabled:de=>{Es.getField(de).each(so.enable),xe.getOpt(de).each(so.enable)}}),Pi(),Co("url-input-events",[St(ce,de=>{es.getCurrent(de).each(ue=>{const ve=lt.getValue(ue),we={fieldname:f.name,...ve};J.each(ke=>{ke(we).get(ze=>{lt.setValue(ue,ze),Rn(de,al,{name:f.name})})})})})])])})})(s,a,a.urlinput,u)),customeditor:pr(s=>{const a=ks(),u=Cs({dom:{tag:s.tag}}),f=ks(),p=!U3(s)&&s.onFocus.isSome()?[to.config({onFocus:b=>{s.onFocus.each(w=>{w(b.element.dom)})}}),Us.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Zt([Co("custom-editor-events",[nr(b=>{u.getOpt(b).each(w=>{(U3(s)?s.init(w.element.dom):lN.load(s.scriptId,s.scriptUrl).then(k=>k(w.element.dom,s.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),a.set(k)})})})]),Yb(D.none(),()=>a.get().fold(()=>f.get().getOr(""),b=>b.getValue()),(b,w)=>{a.get().fold(()=>f.set(w),k=>k.setValue(w))}),mg()].concat(p)),components:[u.asSpec()]}}),htmlpanel:pr((s,a)=>((u,f)=>{const p=["tox-form__group",...u.stretched?["tox-form__group--stretched"]:[]],b=Co("htmlpanel",[nr(w=>{u.onInit(w.element.dom)})]);return u.presets==="presentation"?Gd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html},containerBehaviours:Zt([si.config({...f.tooltips.getConfig({tooltipText:"",onShow:w=>{ur(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Yr(w.element)).each(k=>{Zo(k,"data-mce-tooltip").each(E=>{si.setComponents(w,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:w=>({type:"node",node:ur(w.element,"[data-mce-tooltip]:hover").orThunk(()=>Yr(w.element).filter(k=>Zo(k,"data-mce-tooltip").isSome())),root:w.element,layouts:{onLtr:te([qr,Er,Pr,ni,Mr,Ps]),onRtl:te([qr,Er,Pr,ni,Mr,Ps])},bubble:ic(0,-2,{})})}),b])}):Gd.sketch({dom:{tag:"div",classes:p,innerHtml:u.html,attributes:{role:"document"}},containerBehaviours:Zt([Us.config({}),to.config({}),b])})})(s,a.shared.providers)),imagepreview:pr((s,a,u)=>((f,p)=>{const b=Bn(p.getOr({url:""})),w=Cs({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:p.map(L=>({src:L.url})).getOr({})}}),k=Cs({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[w.asSpec()]}),E={};f.height.each(L=>E.height=L);const R=p.map(L=>({url:L.url,zoom:D.from(L.zoom),cachedWidth:D.from(L.cachedWidth),cachedHeight:D.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:Zt([mg(),Yb(R,()=>b.get(),(L,N)=>{const z={url:N.url};N.zoom.each(J=>z.zoom=J),N.cachedWidth.each(J=>z.cachedWidth=J),N.cachedHeight.each(J=>z.cachedHeight=J),b.set(z);const q=()=>{const{cachedWidth:J,cachedHeight:ce,zoom:me}=z;if(!B(J)&&!B(ce)){if(B(me)){const de=((ue,ve,we)=>{const ke=Oi(ue),ze=Dr(ue);return Math.min(ke/ve,ze/we,1)})(L.element,J,ce);z.zoom=de}const xe=((de,ue,ve,we,ke)=>{const ze=ve*ke,ot=we*ke,Et=Math.max(0,de/2-ze/2),_t=Math.max(0,ue/2-ot/2);return{left:Et.toString()+"px",top:_t.toString()+"px",width:ze.toString()+"px",height:ot.toString()+"px"}})(Oi(L.element),Dr(L.element),J,ce,z.zoom);k.getOpt(L).each(de=>{Ya(de.element,xe)})}};w.getOpt(L).each(J=>{const ce=J.element;var me;N.url!==Po(ce,"src")&&(sn(ce,"src",N.url),Nr(L.element,"tox-imagepreview__loaded")),q(),(me=ce,new Promise((xe,de)=>{const ue=()=>{we(),xe(me)},ve=[Ha(me,"load",ue),Ha(me,"error",()=>{we(),de("Unable to load data from image: "+me.dom.src)})],we=()=>Mt(ve,ke=>ke.unbind());me.dom.complete&&ue()})).then(xe=>{L.getSystem().isConnected()&&(kr(L.element,"tox-imagepreview__loaded"),z.cachedWidth=xe.dom.naturalWidth,z.cachedHeight=xe.dom.naturalHeight,q())})})})])}})(s,u)),table:pr((s,a)=>((u,f)=>{const p=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(w=u.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ye(w,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(b=u.cells,{dom:{tag:"tbody"},components:Ye(b,k=>({dom:{tag:"tr"},components:Ye(k,p)}))})],behaviours:Zt([Us.config({}),to.config({})])};var b,w})(s,a.shared.providers)),tree:pr((s,a)=>((u,f)=>{const p=u.onLeafAction.getOr(fe),b=u.onToggleExpand.getOr(fe),w=u.defaultExpandedIds,k=Bn(w),E=Bn(u.defaultSelectedId),R=bn("tree-id"),L=(N,z)=>u.items.map(q=>q.type==="leaf"?f4({leaf:q,selectedId:N,onLeafAction:p,visible:!0,treeId:R,backstage:f}):ES({directory:q,selectedId:N,onLeafAction:p,expandedIds:z,labelTabstopping:!0,treeId:R,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(E.get(),k.get()),behaviours:Zt([Nn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Co(V7,[St("expand-tree-node",(N,z)=>{const{expanded:q,node:J}=z.event;k.set(q?[...k.get(),J]:k.get().filter(ce=>ce!==J)),b(k.get(),{expanded:q,node:J})})]),yl.config({channels:{[`update-active-item-${R}`]:{onReceive:(N,z)=>{E.set(D.some(z.value)),jn.set(N,L(D.some(z.value),k.get()))}}}}),jn.config({})])}})(s,a)),panel:pr((s,a)=>((u,f)=>({dom:{tag:"div",classes:u.classes},components:Ye(u.items,f.shared.interpreter)}))(s,a))},x4={field:(s,a)=>a,record:te([])},OS=(s,a,u,f,p)=>{const b=Ns(f,{shared:{interpreter:w=>w4(s,w,u,b,p)}});return w4(s,a,u,b,p)},w4=(s,a,u,f,p)=>hn(Y7,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),b=>b(s,a,u,f,p)),zN=(s,a,u,f)=>w4(x4,s,a,u,f),Xd="layout-inset",iy=s=>s.x,DS=(s,a)=>s.x+s.width/2-a.width/2,C4=(s,a)=>s.x+s.width-a.width,cd=s=>s.y,_4=(s,a)=>s.y+s.height-a.height,HN=(s,a)=>s.y+s.height/2-a.height/2,uc=(s,a,u)=>fa(C4(s,a),_4(s,a),u.insetSouthwest(),sh(),"southwest",ma(s,{right:0,bottom:3}),Xd),Jp=(s,a,u)=>fa(iy(s),_4(s,a),u.insetSoutheast(),Jv(),"southeast",ma(s,{left:1,bottom:3}),Xd),dc=(s,a,u)=>fa(C4(s,a),cd(s),u.insetNorthwest(),oh(),"northwest",ma(s,{right:0,top:2}),Xd),iw=(s,a,u)=>fa(iy(s),cd(s),u.insetNortheast(),Xv(),"northeast",ma(s,{left:1,top:2}),Xd),ts=(s,a,u)=>fa(DS(s,a),cd(s),u.insetNorth(),TC(),"north",ma(s,{top:2}),Xd),gg=(s,a,u)=>fa(DS(s,a),_4(s,a),u.insetSouth(),Ex(),"south",ma(s,{bottom:3}),Xd),aw=(s,a,u)=>fa(C4(s,a),HN(s,a),u.insetEast(),OC(),"east",ma(s,{right:0}),Xd),S4=(s,a,u)=>fa(iy(s),HN(s,a),u.insetWest(),Ax(),"west",ma(s,{left:1}),Xd),k4=s=>{switch(s){case"north":return ts;case"northeast":return iw;case"northwest":return dc;case"south":return gg;case"southeast":return Jp;case"southwest":return uc;case"east":return aw;case"west":return S4}},RS=(s,a,u,f,p)=>rb(f).map(k4).getOr(ts)(s,a,u,f,p),X7=s=>{switch(s){case"north":return gg;case"northeast":return Jp;case"northwest":return uc;case"south":return ts;case"southeast":return iw;case"southwest":return dc;case"east":return S4;case"west":return aw}},E4=(s,a,u,f,p)=>rb(f).map(X7).getOr(ts)(s,a,u,f,p),lw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},$N=(s,a,u)=>{const f={maxHeightFunction:lh()};return()=>u()?{type:"node",root:Je(ut(s())),node:D.from(s()),bubble:ic(12,12,lw),layouts:{onRtl:()=>[iw],onLtr:()=>[dc]},overrides:f}:{type:"hotspot",hotspot:a(),bubble:ic(-12,12,lw),layouts:{onRtl:()=>[Pr,Mr,qr],onLtr:()=>[Mr,Pr,qr]},overrides:f}},UN=(s,a,u,f)=>{const p={maxHeightFunction:lh()};return()=>f()?{type:"node",root:Je(ut(a())),node:D.from(a()),bubble:ic(12,12,lw),layouts:{onRtl:()=>[ts],onLtr:()=>[ts]},overrides:p}:s?{type:"node",root:Je(ut(a())),node:D.from(a()),bubble:ic(0,-Cc(a()),lw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}:{type:"hotspot",hotspot:u(),bubble:ic(0,0,lw),layouts:{onRtl:()=>[Er],onLtr:()=>[Er]},overrides:p}},A4=(s,a,u)=>()=>u()?{type:"node",root:Je(ut(s())),node:D.from(s()),layouts:{onRtl:()=>[ts],onLtr:()=>[ts]}}:{type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[qr],onLtr:()=>[qr]}},WN=(s,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const u=s.selection.getRng(),f=s.model.table.getSelectedCells();if(f.length>1){const p=f[0],b=f[f.length-1],w={firstCell:rn(p),lastCell:rn(b)};return D.some(w)}return D.some(Ff.range(rn(u.startContainer),u.startOffset,rn(u.endContainer),u.endOffset))}}),IS=s=>a=>({type:"node",root:s(),node:a}),J7=(s,a,u,f)=>{const p=Nb(s),b=()=>rn(s.getBody()),w=()=>rn(s.getContentAreaContainer()),k=()=>p||!f();return{inlineDialog:$N(w,a,k),inlineBottomDialog:UN(s.inline,w,u,k),banner:A4(w,a,k),cursor:WN(s,b),node:IS(b)}},Q7=s=>(a,u)=>{vI(s)(a,u)},eV=s=>()=>YA(s),tV=s=>a=>Wb(s,a),nV=s=>a=>qA(s,a),ZN=s=>()=>Gf(s),jN=s=>vo(s,"items"),KN=s=>vo(s,"format"),T4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],O4=s=>_n(s,(a,u)=>{if(Eo(u,"items")){const f=O4(u.items);return{customFormats:a.customFormats.concat(f.customFormats),formats:a.formats.concat([{title:u.title,items:f.formats}])}}if(Eo(u,"inline")||(f=>Eo(f,"block"))(u)||(f=>Eo(f,"selector"))(u)){const f=`custom-${v(u.name)?u.name:u.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:f,format:u}]),formats:a.formats.concat([{title:u.title,format:f,icon:u.icon}])}}return{...a,formats:a.formats.concat(u)}},{customFormats:[],formats:[]}),GN=s=>V0(s).map(a=>{const u=((f,p)=>{const b=O4(p),w=k=>{Mt(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?w(b.customFormats):f.on("init",()=>{w(b.customFormats)}),b.formats})(s,a);return r_(s)?T4.concat(u):u}).getOr(T4),qN=(s,a,u)=>({...s,type:"formatter",isSelected:a(s.format),getStylePreview:u(s.format)}),D4=(s,a,u,f)=>{const p=b=>Ye(b,w=>jN(w)?(k=>{const E=p(k.items);return{...k,type:"submenu",getStyleItems:te(E)}})(w):KN(w)?(k=>qN(k,u,f))(w):(k=>{const E=wn(k);return E.length===1&&et(E,"title")})(w)?{...w,type:"separator"}:(k=>{const E=v(k.name)?k.name:bn(k.title),R=`custom-${E}`,L={...k,type:"formatter",format:R,isSelected:u(R),getStylePreview:f(R)};return s.formatter.register(E,L),L})(w));return p(a)},R4=s=>{let a=0;const u=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Vr(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>a>0?60:300,delayForHide:te(300),exclusive:!0,lazySink:s,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:u(f),onShow:(p,b)=>{a++,f.onShow&&f.onShow(p,b)},onHide:(p,b)=>{a--,f.onHide&&f.onHide(p,b)},onSetup:f.onSetup}),getComponents:u}},YN=Eh.trim,XN=s=>a=>!!((u=>Z(u)&&u.nodeType===1)(a)&&(a.contentEditable===s||a.getAttribute("data-mce-contenteditable")===s)),oV=XN("true"),sV=XN("false"),JN=(s,a,u,f,p)=>({type:s,title:a,url:u,level:f,attach:p}),QN=s=>s.innerText||s.textContent,rV=s=>(a=>a&&a.nodeName==="A"&&(a.id||a.name)!==void 0)(s)&&ud(s),I4=s=>s&&/^(H[1-6])$/.test(s.nodeName),ud=s=>(a=>{let u=a;for(;u=u.parentNode;){const f=u.contentEditable;if(f&&f!=="inherit")return oV(u)}return!1})(s)&&!sV(s),iV=s=>I4(s)&&ud(s),N4=s=>{var a;const u=(f=>f.id?f.id:bn("h"))(s);return JN("header",(a=QN(s))!==null&&a!==void 0?a:"","#"+u,(f=>I4(f)?parseInt(f.nodeName.substr(1),10):0)(s),()=>{s.id=u})},eP=s=>{const a=s.id||s.name,u=QN(s);return JN("anchor",u||"#"+a,"#"+a,0,fe)},tP=s=>YN(s.title).length>0,aV=s=>{const a=(u=>Ye(Si(rn(u),"h1,h2,h3,h4,h5,h6,a:not([href])"),p=>p.dom))(s);return Fn((u=>Ye(Fn(u,iV),N4))(a).concat((u=>Ye(Fn(u,rV),eP))(a)),tP)},cw="tinymce-url-history",P4=s=>v(s)&&/^https?/.test(s),M4=s=>x(s)&&fs(s,a=>{return!(O(u=a)&&u.length<=5&&To(u,P4));var u}).isNone(),nP=()=>{const s=Wc.getItem(cw);if(s===null)return{};let a;try{a=JSON.parse(s)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+cw+" was not valid JSON",u),{};throw u}return M4(a)?a:(console.log("Local storage "+cw+" was not valid format",a),{})},lV=s=>{const a=nP();return hn(a,s).getOr([])},cV=(s,a)=>{if(!P4(s))return;const u=nP(),f=hn(u,a).getOr([]),p=Fn(f,b=>b!==s);u[a]=[s].concat(p).slice(0,5),(b=>{if(!M4(b))throw new Error(`Bad format for history:
`+JSON.stringify(b));Wc.setItem(cw,JSON.stringify(b))})(u)},oP=s=>!!s,uV=s=>On(Eh.makeMap(s,/[, ]/),oP),NS=s=>D.from(a_(s)),B4=s=>D.from(s).filter(v).getOrUndefined(),sP=s=>({getHistory:lV,addToHistory:cV,getLinkInformation:()=>(a=>l_(a)?D.some({targets:aV(a.getBody()),anchorTop:B4(K5(a)),anchorBottom:B4(G5(a))}):D.none())(s),getValidationHandler:()=>(a=>D.from(m2(a)))(s),getUrlPicker:a=>((u,f)=>((p,b)=>{const w=(k=>{const E=D.from(g2(k)).filter(oP).map(uV);return NS(k).fold(Se,R=>E.fold(Me,L=>wn(L).length>0&&L))})(p);return P(w)?w?NS(p):D.none():w[b]?NS(p):D.none()})(u,f).map(p=>b=>zp(w=>{const k={filetype:f,fieldname:b.fieldname,...D.from(b.meta).getOr({})};p.call(u,(E,R)=>{if(!v(E))throw new Error("Expected value to be string");if(R!==void 0&&!x(R))throw new Error("Expected meta to be a object");w({value:E,meta:R})},b.value,k)})))(s,a)}),pa=wL,hg=MD,dV=te([it("shell",!1),Ot("makeItem"),it("setupItem",fe),oo("listBehaviours",[jn])]),ay=hu({name:"items",overrides:()=>({behaviours:Zt([jn.config({})])})}),fV=te([ay]),L4=Ll({name:te("CustomList")(),configFields:dV(),partFields:fV(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[jn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.listBehaviours,p.behaviours),apis:{setItems:(b,w)=>{var k;(k=b,s.shell?D.some(k):Ks(k,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const R=jn.contents(E),L=w.length,N=L-R.length,z=N>0?Lt(N,()=>s.makeItem()):[],q=R.slice(L);Mt(q,ce=>jn.remove(E,ce)),Mt(z,ce=>jn.append(E,ce));const J=jn.contents(E);Mt(J,(ce,me)=>{s.setupItem(b,ce,w[me],me)})})}}}},apis:{setItems:(s,a,u)=>{s.setItems(a,u)}}}),Qb=te([Ot("dom"),it("shell",!0),yn("toolbarBehaviours",[jn])]),rP=te([hu({name:"groups",overrides:()=>({behaviours:Zt([jn.config({})])})})]),Jd=Ll({name:"Toolbar",configFields:Qb(),partFields:rP(),factory:(s,a,u,f)=>{const p=s.shell?{behaviours:[jn.config({})],components:[]}:{behaviours:[],components:a};return{uid:s.uid,dom:s.dom,components:p.components,behaviours:yo(s.toolbarBehaviours,p.behaviours),apis:{setGroups:(b,w)=>{var k;(k=b,s.shell?D.some(k):Ks(k,s,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{jn.set(E,w)})},refresh:fe},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)}}}),F4=fe,V4=Se,PS=te([]);var z4,mV=Object.freeze({__proto__:null,setup:F4,isDocked:V4,getBehaviours:PS});const MS=te(bn("toolbar-height-change")),pg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},iP="tox-tinymce--toolbar-sticky-on",aP="tox-tinymce--toolbar-sticky-off",uw=(s,a)=>et(cr.getModes(s),a),BS=s=>{const a=s.element;Sa(a).each(u=>{const f="padding-"+cr.getModes(s)[0];if(cr.isDocked(s)){const p=Oi(u);co(a,"width",p+"px"),co(u,f,(b=>Cc(b)+(parseInt(wr(b,"margin-top"),10)||0)+(parseInt(wr(b,"margin-bottom"),10)||0))(a)+"px")}else ws(a,"width"),ws(u,f)})},H4=(s,a)=>{a?(Nr(s,pg.fadeOutClass),Gr(s,[pg.transitionClass,pg.fadeInClass])):(Nr(s,pg.fadeInClass),Gr(s,[pg.fadeOutClass,pg.transitionClass]))},lP=(s,a)=>{const u=rn(s.getContainer());a?(kr(u,iP),Nr(u,aP)):(kr(u,aP),Nr(u,iP))},cP=(s,a)=>{const u=ks(),f=a.getSink,p=k=>{f().each(E=>k(E.element))},b=k=>{s.inline||BS(k),lP(s,cr.isDocked(k)),k.getSystem().broadcastOn([H()],{}),f().each(E=>E.getSystem().broadcastOn([H()],{}))},w=s.inline?[]:[yl.config({channels:{[MS()]:{onReceive:BS}}})];return[to.config({}),cr.config({contextual:{lazyContext:k=>{const E=Cc(k.element),R=s.inline?s.getContentAreaContainer():s.getContainer();return D.from(R).map(L=>{const N=ai(rn(L));return Ip(s,k.element).fold(()=>{const z=N.height-E,q=N.y+(uw(k,"top")?0:E);return Do(N.x,q,N.width,z)},z=>{const q=Td(N,Np(z)),J=uw(k,"top")?q.y:q.y+E;return Do(q.x,J,q.width,q.height-E)})})},onShow:()=>{p(k=>H4(k,!0))},onShown:k=>{p(E=>rc(E,[pg.transitionClass,pg.fadeInClass])),u.get().each(E=>{((R,L)=>{const N=ii(L);du(N).filter(z=>!rs(L,z)).filter(z=>rs(z,rn(N.dom.body))||Lr(R,z)).each(()=>za(L))})(k.element,E),u.clear()})},onHide:k=>{((E,R)=>Yr(E).orThunk(()=>R().toOptional().bind(L=>Yr(L.element))))(k.element,f).fold(u.clear,u.set),p(E=>H4(E,!1))},onHidden:()=>{p(k=>rc(k,[pg.transitionClass]))},...pg},lazyViewport:k=>Ip(s,k.element).fold(()=>{const E=$i(),R=iA(s),L=E.y+(uw(k,"top")?R:0),N=E.height-(uw(k,"bottom")?R:0);return{bounds:Do(E.x,L,E.width,N),optScrollEnv:D.none()}},E=>({bounds:Np(E),optScrollEnv:D.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Pl(E.element).top})})),modes:[a.header.getDockingMode()],onDocked:b,onUndocked:b}),...w]};var gV=Object.freeze({__proto__:null,setup:(s,a,u)=>{s.inline||(a.header.isPositionedAtTop()||s.on("ResizeEditor",()=>{u().each(cr.reset)}),s.on("ResizeWindow ResizeEditor",()=>{u().each(BS)}),s.on("SkinLoaded",()=>{u().each(f=>{cr.isDocked(f)?cr.reset(f):cr.refresh(f)})}),s.on("FullscreenStateChanged",()=>{u().each(cr.reset)})),s.on("AfterScrollIntoView",f=>{u().each(p=>{cr.refresh(p);const b=p.element;l5(b)&&((w,k)=>{const E=ii(k),R=qc(k).dom.innerHeight,L=Ys(E),N=rn(w.elm),z=hl(N),q=Dr(N),J=z.y,ce=J+q,me=Pl(k),xe=Dr(k),de=me.top,ue=de+xe,ve=Math.abs(de-L.top)<2,we=Math.abs(ue-(L.top+R))<2;if(ve&&J<ue)vf(L.left,J-xe,E);else if(we&&ce>de){const ke=J-R+q+xe;vf(L.left,ke,E)}})(f,b)})}),s.on("PostRender",()=>{lP(s,!1)})},isDocked:s=>s().map(cr.isDocked).getOr(!1),getBehaviours:cP});const hV=Un([bi,Wi("items",Tm([$u([kA,el("items",Ci)]),Ci]))].concat(ag)),pV=[Fr("text"),Fr("tooltip"),Fr("icon"),Fa("search",!1,Tm([nc,Un([Fr("placeholder")])],s=>P(s)?s?D.some({placeholder:D.none()}):D.none():D.some(s))),La("fetch"),Xs("onSetup",()=>fe)],uP=Un([bi,...pV]),dP=s=>Cr("menubutton",uP,s),vV=Un([bi,M2,od,Fp,DA,OF,Lp,Ec("presets","normal",["normal","color","listpreview"]),PR(1),$0,NR]);var $4=pu({factory:(s,a)=>{const u={focus:Nn.focusIn,setMenus:(f,p)=>{const b=Ye(p,w=>{const k={type:"menubutton",text:w.text,fetch:R=>{R(w.getItems())}},E=dP(k).mapError(R=>Qa(R)).getOrDie();return sy(E,"tox-mbtn",a.backstage,D.some("menuitem"))});jn.set(f,b)}};return{uid:s.uid,dom:s.dom,components:[],behaviours:Zt([jn.config({}),Co("menubar-events",[nr(f=>{s.onSetup(f)}),St(Tn(),(f,p)=>{ur(f.element,".tox-mbtn--active").each(b=>{Yu(p.event.target,".tox-mbtn").each(w=>{rs(b,w)||f.getSystem().getByDom(b).each(k=>{f.getSystem().getByDom(w).each(E=>{Cl.expand(E),Cl.close(k),to.focus(E)})})})})}),St(U1(),(f,p)=>{p.event.prevFocus.bind(b=>f.getSystem().getByDom(b).toOptional()).each(b=>{p.event.newFocus.bind(w=>f.getSystem().getByDom(w).toOptional()).each(w=>{Cl.isOpen(b)&&(Cl.expand(w),Cl.close(b))})})})]),Nn.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(s.onEscape(f),D.some(!0))}),Us.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ot("dom"),Ot("uid"),Ot("onEscape"),Ot("backstage"),it("onSetup",fe)],apis:{focus:(s,a)=>{s.focus(a)},setMenus:(s,a,u)=>{s.setMenus(a,u)}}});const fP="container",bV=[yn("slotBehaviours",[])],U4=s=>"<alloy.field."+s+">",yV=(s,a)=>{const u=L=>VD(s),f=(L,N)=>(z,q)=>Ks(z,s,q).map(J=>L(J,q)).getOr(N),p=(L,N)=>Po(L.element,"aria-hidden")!=="true",b=f(p,!1),w=f((L,N)=>{if(p(L)){const z=L.element;co(z,"display","none"),sn(z,"aria-hidden","true"),Rn(L,au(),{name:N,visible:!1})}}),k=(L=>(N,z)=>{Mt(z,q=>L(N,q))})(w),E=f((L,N)=>{if(!p(L)){const z=L.element;ws(z,"display"),_o(z,"aria-hidden"),Rn(L,au(),{name:N,visible:!0})}}),R={getSlotNames:u,getSlot:(L,N)=>Ks(L,s,N),isShowing:b,hideSlot:w,hideAllSlots:L=>k(L,u()),showSlot:E};return{uid:s.uid,dom:s.dom,components:a,behaviours:Yn(s.slotBehaviours),apis:R}},xV=On({getSlotNames:(s,a)=>s.getSlotNames(a),getSlot:(s,a,u)=>s.getSlot(a,u),isShowing:(s,a,u)=>s.isShowing(a,u),hideSlot:(s,a,u)=>s.hideSlot(a,u),hideAllSlots:(s,a)=>s.hideAllSlots(a),showSlot:(s,a,u)=>s.showSlot(a,u)},s=>o0(s)),_l={...xV,sketch:s=>{const a=(()=>{const b=[];return{slot:(w,k)=>(b.push(w),SE(fP,U4(w),k)),record:te(b)}})(),u=s(a),f=a.record(),p=Ye(f,b=>wl({name:b,pname:U4(b)}));return Gx(fP,bV,p,yV,u)}},wV=Un([od,M2,Xs("onShow",fe),Xs("onHide",fe),Lp]),CV=s=>({element:()=>s.element.dom}),LS=(s,a)=>{const u=Ye(wn(a),f=>{const p=a[f],b=Ba((w=>Cr("sidebar",wV,w))(p));return{name:f,getApi:CV,onSetup:b.onSetup,onShow:b.onShow,onHide:b.onHide}});return Ye(u,f=>{const p=Bn(fe);return s.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:L2([Vp(f,p),xh(f,p),St(au(),(b,w)=>{const k=w.event;Q(u,R=>R.name===k.name).each(R=>{(k.visible?R.onShow:R.onHide)(R.getApi(b))})})])})})},mP=s=>_l.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:LS(a,s),slotBehaviours:L2([nr(u=>_l.hideAllSlots(u))])})),FS=(s,a)=>{sn(s,"role",a)},_V=s=>es.getCurrent(s).bind(a=>ql.isGrowing(a)||ql.hasGrown(a)?es.getCurrent(a).bind(u=>Q(_l.getSlotNames(u),f=>_l.isShowing(u,f))):D.none()),W4=bn("FixSizeEvent"),Z4=bn("AutoSizeEvent");var SV=Object.freeze({__proto__:null,block:(s,a,u,f)=>{sn(s.element,"aria-busy",!0);const p=a.getRoot(s).getOr(s),b=Zt([Nn.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),to.config({})]),w=f(p,b),k=p.getSystem().build(w);jn.append(p,nl(k)),k.hasConfigured(Nn)&&a.focus&&Nn.focusIn(k),u.isBlocked()||a.onBlock(s),u.blockWith(()=>jn.remove(p,k))},unblock:(s,a,u)=>{_o(s.element,"aria-busy"),u.isBlocked()&&a.onUnblock(s),u.clear()},isBlocked:(s,a,u)=>u.isBlocked()}),kV=[Xs("getRoot",D.none),ti("focus",!0),Yo("onBlock"),Yo("onUnblock")];const dd=Ni({fields:kV,name:"blocking",apis:SV,state:Object.freeze({__proto__:null,init:()=>{const s=_c(a=>a.destroy());return Ii({readState:s.isSet,blockWith:a=>{s.set({destroy:a})},clear:s.clear,isBlocked:s.isSet})}})}),j4=s=>es.getCurrent(s).each(a=>za(a.element,!0)),gP=(s,a,u)=>{const f=Bn(!1),p=ks(),b=k=>{var E;f.get()&&(!(R=>R.type==="focusin")(E=k)||!(E.composed?zt(E.composedPath()):D.from(E.target)).map(rn).filter(ir).exists(R=>tl(R,"mce-pastebin")))&&(k.preventDefault(),j4(a()),s.editorManager.setActive(s))};s.inline||s.on("PreInit",()=>{s.dom.bind(s.getWin(),"focusin",b),s.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&b(k)})});const w=k=>{k!==f.get()&&(f.set(k),((E,R,L,N)=>{const z=R.element;if(((q,J)=>{const ce="tabindex",me=`data-mce-${ce}`;D.from(q.iframeElement).map(rn).each(xe=>{J?(Zo(xe,ce).each(de=>sn(xe,me,de)),sn(xe,ce,-1)):(_o(xe,ce),Zo(xe,me).each(de=>{sn(xe,ce,de),_o(xe,me)}))})})(E,L),L)dd.block(R,(q=>(J,ce)=>({dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(N)),ws(z,"display"),_o(z,"aria-hidden"),E.hasFocus()&&j4(R);else{const q=es.getCurrent(R).exists(J=>ah(J.element));dd.unblock(R),co(z,"display","none"),sn(z,"aria-hidden","true"),q&&E.focus()}})(s,a(),k,u.providers),((E,R)=>{E.dispatch("AfterProgressState",{state:R})})(s,k))};s.on("ProgressState",k=>{if(p.on(clearTimeout),X(k.time)){const E=o_.setEditorTimeout(s,()=>w(k.state),k.time);p.set(E)}else w(k.state),p.clear()})},K4=(s,a,u)=>({within:s,extra:a,withinWidth:u}),G4=(s,a,u)=>{const f=_n(s,(w,k)=>((E,R)=>{const L=u(E);return D.some({element:E,start:R,finish:R+L,width:L})})(k,w.len).fold(te(w),E=>({len:E.finish,list:w.list.concat([E])})),{len:0,list:[]}).list,p=Fn(f,w=>w.finish<=a),b=fn(p,(w,k)=>w+k.width,0);return{within:p,extra:f.slice(p.length),withinWidth:b}},VS=s=>Ye(s,a=>a.element),hP=(s,a)=>{const u=Ye(a,f=>nl(f));Jd.setGroups(s,u)},pP=(s,a,u)=>{const f=a.builtGroups.get();if(f.length===0)return;const p=gh(s,a,"primary"),b=zr.getCoupled(s,"overflowGroup");co(p.element,"visibility","hidden");const w=f.concat([b]),k=Vt(w,R=>Yr(R.element).bind(L=>R.getSystem().getByDom(L).toOptional()));u([]),hP(p,w);const E=((R,L,N,z)=>{const q=((xe,de,ue)=>{const ve=G4(de,xe,ue);return ve.extra.length===0?D.some(ve):D.none()})(R,L,N).getOrThunk(()=>G4(L,R-N(z),N)),J=q.within,ce=q.extra,me=q.withinWidth;return ce.length===1&&ce[0].width<=N(z)?((xe,de,ue)=>{const ve=VS(xe.concat(de));return K4(ve,[],ue)})(J,ce,me):ce.length>=1?((xe,de,ue,ve)=>{const we=VS(xe).concat([ue]);return K4(we,VS(de),ve)})(J,ce,z,me):((xe,de,ue)=>K4(VS(xe),[],ue))(J,0,me)})(Oi(p.element),a.builtGroups.get(),R=>Math.ceil(R.element.dom.getBoundingClientRect().width),b);E.extra.length===0?(jn.remove(p,b),u([])):(hP(p,E.within),u(E.extra)),ws(p.element,"visibility"),Bu(p.element),k.each(to.focus)},vP=te([yn("splitToolbarBehaviours",[zr]),Ui("builtGroups",()=>Bn([]))]),EV=te([Jg(["overflowToggledClass"]),su("getOverflowBounds"),Ot("lazySink"),Ui("overflowGroups",()=>Bn([])),Yo("onOpened"),Yo("onClosed")].concat(vP())),AV=te([wl({factory:Jd,schema:Qb(),name:"primary"}),Wd({schema:Qb(),name:"overflow"}),Wd({name:"overflow-button"}),Wd({name:"overflow-group"})]),q4=te((s,a)=>{((u,f)=>{const p=Mg.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);co(u,"max-width",p+"px")})(s,Math.floor(a))}),TV=te([Jg(["toggledClass"]),Ot("lazySink"),La("fetch"),su("getBounds"),Rr("fireDismissalEventInstead",[it("event",Zg())]),Pf(),Yo("onToggled")]),OV=te([Wd({name:"button",overrides:s=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Zt([Jn.config({toggleClass:s.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:s.onToggled})])})}),Wd({factory:Jd,schema:Qb(),name:"toolbar",overrides:s=>({toolbarBehaviours:Zt([Nn.config({mode:"cyclic",onEscape:a=>(Ks(a,s,"button").each(to.focus),D.none())})])})})]),zS=ks(),ly=(s,a)=>{const u=zr.getCoupled(s,"toolbarSandbox");T.isOpen(u)?T.close(u):T.open(u,a.toolbar())},dw=(s,a,u,f)=>{const p=u.getBounds.map(w=>w()),b=u.lazySink(s).getOrDie();ga.positionWithinBounds(b,a,{anchor:{type:"hotspot",hotspot:s,layouts:f,overrides:{maxWidthFunction:q4()}}},p)},HS=(s,a,u,f,p)=>{Jd.setGroups(a,p),dw(s,a,u,f),Jn.on(s)},Th=Ll({name:"FloatingToolbarButton",factory:(s,a,u,f)=>({...Ua.sketch({...f.button(),action:p=>{ly(p,f)},buttonBehaviours:Xn({dump:f.button().buttonBehaviours},[zr.config({others:{toolbarSandbox:p=>((b,w,k)=>{const E=nh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:Zt([Nn.config({mode:"special",onEscape:R=>(T.close(R),D.some(!0))}),T.config({onOpen:(R,L)=>{const N=zS.get().getOr(!1);k.fetch().get(z=>{HS(b,L,k,w.layouts,z),E.link(b.element),N||Nn.focusIn(L)})},onClose:()=>{Jn.off(b),zS.get().getOr(!1)||to.focus(b),E.unlink(b.element)},isPartOf:(R,L,N)=>bl(L,N)||bl(b,N),getAttachPoint:()=>k.lazySink(b).getOrDie()}),yl.config({channels:{...se({isExtraPart:Se,...k.fireDismissalEventInstead.map(R=>({fireEventInstead:{event:R.event}})).getOr({})}),...De({doReposition:()=>{T.getState(zr.getCoupled(b,"toolbarSandbox")).each(R=>{dw(b,R,k,w.layouts)})}})}})])}})(p,u,s)}})])}),apis:{setGroups:(p,b)=>{T.getState(zr.getCoupled(p,"toolbarSandbox")).each(w=>{HS(p,w,s,u.layouts,b)})},reposition:p=>{T.getState(zr.getCoupled(p,"toolbarSandbox")).each(b=>{dw(p,b,s,u.layouts)})},toggle:p=>{ly(p,f)},toggleWithoutFocusing:p=>{((b,w)=>{zS.set(!0),ly(b,w),zS.clear()})(p,f)},getToolbar:p=>T.getState(zr.getCoupled(p,"toolbarSandbox")),isOpen:p=>T.isOpen(zr.getCoupled(p,"toolbarSandbox"))}}),configFields:TV(),partFields:OV(),apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggleWithoutFocusing(a)},getToolbar:(s,a)=>s.getToolbar(a),isOpen:(s,a)=>s.isOpen(a)}}),DV=te([Ot("items"),Jg(["itemSelector"]),yn("tgroupBehaviours",[Nn])]),RV=te([$C({name:"items",unit:"item"})]),cy=Ll({name:"ToolbarGroup",configFields:DV(),partFields:RV(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.tgroupBehaviours,[Nn.config({mode:"flow",selector:s.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),$S=s=>Ye(s,a=>nl(a)),fw=(s,a,u)=>{pP(s,u,f=>{u.overflowGroups.set(f),a.getOpt(s).each(p=>{Th.setGroups(p,$S(f))})})},Y4=Ll({name:"SplitFloatingToolbar",configFields:EV(),partFields:AV(),factory:(s,a,u,f)=>{const p=Cs(Th.sketch({fetch:()=>zp(b=>{b($S(s.overflowGroups.get()))}),layouts:{onLtr:()=>[Mr,Pr],onRtl:()=>[Pr,Mr],onBottomLtr:()=>[Ps,ni],onBottomRtl:()=>[ni,Ps]},getBounds:u.getOverflowBounds,lazySink:s.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:s.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(b,w)=>s[w?"onOpened":"onClosed"](b)}));return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[zr.config({others:{overflowGroup:()=>cy.sketch({...f["overflow-group"](),items:[p.asSpec()]})}})]),apis:{setGroups:(b,w)=>{s.builtGroups.set(Ye(w,b.getSystem().build)),fw(b,p,s)},refresh:b=>fw(b,p,s),toggle:b=>{p.getOpt(b).each(w=>{Th.toggle(w)})},toggleWithoutFocusing:b=>{p.getOpt(b).each(Th.toggleWithoutFocusing)},isOpen:b=>p.getOpt(b).map(Th.isOpen).getOr(!1),reposition:b=>{p.getOpt(b).each(w=>{Th.reposition(w)})},getOverflow:b=>p.getOpt(b).bind(Th.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},reposition:(s,a)=>{s.reposition(a)},toggle:(s,a)=>{s.toggle(a)},toggleWithoutFocusing:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a),getOverflow:(s,a)=>s.getOverflow(a)}}),IV=te([Jg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yo("onOpened"),Yo("onClosed")].concat(vP())),NV=te([wl({factory:Jd,schema:Qb(),name:"primary"}),wl({factory:Jd,schema:Qb(),name:"overflow",overrides:s=>({toolbarBehaviours:Zt([ql.config({dimension:{property:"height"},closedClass:s.markers.closedClass,openClass:s.markers.openClass,shrinkingClass:s.markers.shrinkingClass,growingClass:s.markers.growingClass,onShrunk:a=>{Ks(a,s,"overflow-button").each(u=>{Jn.off(u)}),s.onClosed(a)},onGrown:a=>{s.onOpened(a)},onStartGrow:a=>{Ks(a,s,"overflow-button").each(Jn.on)}}),Nn.config({mode:"acyclic",onEscape:a=>(Ks(a,s,"overflow-button").each(to.focus),D.some(!0))})])})}),Wd({name:"overflow-button",overrides:s=>({buttonBehaviours:Zt([Jn.config({toggleClass:s.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Wd({name:"overflow-group"})]),X4=(s,a,u)=>{Ks(s,a,"overflow-button").each(f=>{Ks(s,a,"overflow").each(p=>{if(J4(s,a),ql.hasShrunk(p)){const b=a.onOpened;a.onOpened=w=>{u||Nn.focusIn(p),b(w),a.onOpened=b}}else{const b=a.onClosed;a.onClosed=w=>{u||to.focus(f),b(w),a.onClosed=b}}ql.toggleGrow(p)})})},J4=(s,a)=>{Ks(s,a,"overflow").each(u=>{pP(s,a,f=>{const p=Ye(f,b=>nl(b));Jd.setGroups(u,p)}),Ks(s,a,"overflow-button").each(f=>{ql.hasGrown(u)&&Jn.on(f)}),ql.refresh(u)})},Q4=Ll({name:"SplitSlidingToolbar",configFields:IV(),partFields:NV(),factory:(s,a,u,f)=>{const p="alloy.toolbar.toggle";return{uid:s.uid,dom:s.dom,components:a,behaviours:yo(s.splitToolbarBehaviours,[zr.config({others:{overflowGroup:b=>cy.sketch({...f["overflow-group"](),items:[Ua.sketch({...f["overflow-button"](),action:w=>{ko(b,p)}})]})}}),Co("toolbar-toggle-events",[St(p,b=>{X4(b,s,!1)})])]),apis:{setGroups:(b,w)=>{((k,E)=>{const R=Ye(E,k.getSystem().build);s.builtGroups.set(R)})(b,w),J4(b,s)},refresh:b=>J4(b,s),toggle:b=>{X4(b,s,!1)},toggleWithoutFocusing:b=>{X4(b,s,!0)},isOpen:b=>((w,k)=>Ks(w,k,"overflow").map(ql.hasGrown).getOr(!1))(b,s)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(s,a,u)=>{s.setGroups(a,u)},refresh:(s,a)=>{s.refresh(a)},toggle:(s,a)=>{s.toggle(a)},isOpen:(s,a)=>s.isOpen(a)}}),bP=s=>{const a=s.title.fold(()=>({}),u=>({attributes:{title:u}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[cy.parts.items({})],items:s.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Zt([Us.config({}),to.config({})])}},US=s=>cy.sketch(bP(s)),yP=(s,a)=>{const u=nr(f=>{const p=Ye(s.initGroups,US);Jd.setGroups(f,p)});return Zt([N_(s.providers.isDisabled),Pi(),Nn.config({mode:a,onEscape:s.onEscape,selector:".tox-toolbar__group"}),Co("toolbar-events",[u])])},xP=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return{uid:s.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":bP({title:D.none(),items:[]}),"overflow-button":NN({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),s.providers,[],"overflow-button")},splitToolbarBehaviours:yP(s,a)}},PV=s=>{const a=xP(s),u=Y4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Y4.sketch({...a,lazySink:s.getSink,getOverflowBounds:()=>{const f=s.moreDrawerData.lazyHeader().element,p=hl(f),b=qa(f),w=hl(b),k=Math.max(b.dom.scrollHeight,w.height);return Do(p.x+4,w.y,p.width-8,k)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s.attributes}}},components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>s.onToggled(f,!0),onClosed:f=>s.onToggled(f,!1)})},MV=s=>{const a=Q4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=Q4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=xP(s);return Q4.sketch({...f,components:[a,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:p=>{p.getSystem().broadcastOn([MS()],{type:"opened"}),s.onToggled(p,!0)},onClosed:p=>{p.getSystem().broadcastOn([MS()],{type:"closed"}),s.onToggled(p,!1)}})},eT=s=>{const a=s.cyclicKeying?"cyclic":"acyclic";return Jd.sketch({uid:s.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(s.type===ed.scrolling?["tox-toolbar--scrolling"]:[])},components:[Jd.parts.groups({})],toolbarBehaviours:yP(s,a)})},wP=[Fp,od,Fr("tooltip"),Ec("buttonType","secondary",["primary","secondary"]),ti("borderless",!1),La("onAction")],tT={button:[...wP,nd,Zu("type",["button"])],togglebutton:[...wP,ti("active",!1),Zu("type",["togglebutton"])]},BV=[Zu("type",["group"]),Os("buttons",[],hi("type",tT))],LV=hi("type",{...tT,group:BV}),vg=Un([Os("buttons",[],LV),La("onShow"),La("onHide")]),CP=(s,a)=>((u,f)=>{var p,b;const w=u.type==="togglebutton",k=u.icon.map(de=>qp(de,f.icons)).map(Cs),E={...u,name:w?u.text.getOr(u.icon.getOr("")):(p=u.text)!==null&&p!==void 0?p:u.icon.getOr(""),primary:u.buttonType==="primary",buttonType:D.from(u.buttonType),tooltip:u.tooltip,icon:u.icon,enabled:!0,borderless:u.borderless},R=p4((b=u.buttonType)!==null&&b!==void 0?b:"secondary"),L=w?u.text.map(f.translate):D.some(f.translate(u.text)),N=L.map(Vr),z=E.tooltip.or(L).map(de=>({"aria-label":f.translate(de)})).getOr({}),q=k.map(de=>de.asSpec()),J=Z0([q,N]),ce=u.icon.isSome()&&N.isSome(),me={tag:"button",classes:R.concat(...u.icon.isSome()&&!ce?["tox-button--icon"]:[]).concat(...ce?["tox-button--icon-and-text"]:[]).concat(...u.borderless?["tox-button--naked"]:[]).concat(...u.type==="togglebutton"&&u.active?["tox-button--enabled"]:[]),attributes:z},xe=rw(E,D.some(de=>{const ue=ve=>{k.map(we=>we.getOpt(de).each(ke=>{jn.set(ke,[qp(ve,f.icons)])}))};return w?u.onAction({setIcon:ue,setActive:ve=>{const we=de.element;ve?(kr(we,"tox-button--enabled"),sn(we,"aria-pressed",!0)):(Nr(we,"tox-button--enabled"),_o(we,"aria-pressed"))},isActive:()=>tl(de.element,"tox-button--enabled")}):u.type==="button"?u.onAction({setIcon:ue}):void 0}),[],me,J,u.tooltip,f);return Ua.sketch(xe)})(s,a),_P=ra().deviceType,nT=_P.isPhone(),va=_P.isTablet();var uy=Ll({name:"silver.View",configFields:[Ot("viewConfig")],partFields:[hu({factory:{sketch:s=>{let a=!1;const u=Ye(s.buttons,f=>f.type==="group"?(a=!0,((p,b)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Ye(p.buttons,w=>CP(w,b))}))(f,s.providers)):CP(f,s.providers));return{uid:s.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...nT||va?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Zt([to.config({}),Nn.config({mode:"flow",selector:"button, .tox-button",focusInside:_b.OnEnterOrSpaceMode})]),components:a?u:[Gd.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Gd.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:u})]}}},schema:[Ot("buttons"),Ot("providers")],name:"header"}),hu({factory:{sketch:s=>({uid:s.uid,behaviours:Zt([to.config({}),Us.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(s,a,u,f)=>{const p={getPane:b=>pa.getPart(b,s,"pane"),getOnShow:b=>s.viewConfig.onShow,getOnHide:b=>s.viewConfig.onHide};return{uid:s.uid,dom:s.dom,components:a,behaviours:Zt([to.config({}),Nn.config({mode:"cyclic",focusInside:_b.OnEnterOrSpaceMode})]),apis:p}},apis:{getPane:(s,a)=>s.getPane(a),getOnShow:(s,a)=>s.getOnShow(a),getOnHide:(s,a)=>s.getOnHide(a)}});const FV=(s,a,u)=>rr(a,(f,p)=>{const b=Ba(Cr("view",vg,f));return s.slot(p,uy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:b,components:[...b.buttons.length>0?[uy.parts.header({buttons:b.buttons,providers:u})]:[],uy.parts.pane({})]}))}),VV=(s,a)=>_l.sketch(u=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:FV(u,s,a),slotBehaviours:L2([nr(f=>_l.hideAllSlots(f))])})),SP=s=>Q(_l.getSlotNames(s),a=>_l.isShowing(s,a)),kP=(s,a,u)=>{_l.getSlot(s,a).each(f=>{uy.getPane(f).each(p=>{var b;u(f)((b=p.element.dom,{getContainer:te(b)}))})})};var WS=pu({factory:(s,a)=>{const u={setViews:(f,p)=>{jn.set(f,[VV(p,a.backstage.shared.providers)])},whichView:f=>es.getCurrent(f).bind(SP),toggleView:(f,p,b,w)=>es.getCurrent(f).exists(k=>{const E=SP(k),R=E.exists(N=>w===N),L=_l.getSlot(k,w).isSome();return L&&(_l.hideAllSlots(k),R?((N=>{const z=N.element;co(z,"display","none"),sn(z,"aria-hidden","true")})(f),p()):(b(),(N=>{const z=N.element;ws(z,"display"),_o(z,"aria-hidden")})(f),_l.showSlot(k,w),((N,z)=>{kP(N,z,uy.getOnShow)})(k,w)),E.each(N=>((z,q)=>kP(z,q,uy.getOnHide))(k,N))),L})};return{uid:s.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Zt([jn.config({}),es.config({find:f=>{const p=jn.contents(f);return zt(p)}})]),apis:u}},name:"silver.ViewWrapper",configFields:[Ot("backstage")],apis:{setViews:(s,a,u)=>s.setViews(a,u),toggleView:(s,a,u,f,p)=>s.toggleView(a,u,f,p),whichView:(s,a)=>s.whichView(a)}});const zV=hg.optional({factory:$4,name:"menubar",schema:[Ot("backstage")]}),HV=hg.optional({factory:{sketch:s=>L4.sketch({uid:s.uid,dom:s.dom,listBehaviours:Zt([Nn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>eT({type:s.type,uid:bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:s.providers,onEscape:()=>(s.onEscape(),D.some(!0))}),setupItem:(a,u,f,p)=>{Jd.setGroups(u,f)},shell:!0})},name:"multiple-toolbar",schema:[Ot("dom"),Ot("onEscape")]}),$V=hg.optional({factory:{sketch:s=>(u=>u.type===ed.sliding?MV:u.type===ed.floating?PV:eT)(s)({type:s.type,uid:s.uid,onEscape:()=>(s.onEscape(),D.some(!0)),onToggled:(u,f)=>s.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:s.getSink,providers:s.providers,moreDrawerData:{lazyToolbar:s.lazyToolbar,lazyMoreButton:s.lazyMoreButton,lazyHeader:s.lazyHeader},attributes:s.attributes})},name:"toolbar",schema:[Ot("dom"),Ot("onEscape"),Ot("getSink")]}),UV=hg.optional({factory:{sketch:s=>{const a=s.editor,u=s.sticky?cP:PS;return{uid:s.uid,dom:s.dom,components:s.components,behaviours:Zt(u(a,s.sharedBackstage))}}},name:"header",schema:[Ot("dom")]}),WV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:s.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Ot("dom")]}),ZV=hg.optional({name:"socket",schema:[Ot("dom")]}),jV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Zt([Us.config({}),to.config({}),ql.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{es.getCurrent(a).each(_l.hideAllSlots),ko(a,Z4)},onGrown:a=>{ko(a,Z4)},onStartGrow:a=>{Rn(a,W4,{width:$r(a.element,"width").getOr("")})},onStartShrink:a=>{Rn(a,W4,{width:Oi(a.element)+"px"})}}),jn.config({}),es.config({find:a=>{const u=jn.contents(a);return zt(u)}})])}],behaviours:Zt([V3(0),Co("sidebar-sliding-events",[St(W4,(a,u)=>{co(a.element,"width",u.event.width)}),St(Z4,(a,u)=>{ws(a.element,"width")})])])})},name:"sidebar",schema:[Ot("dom")]}),KV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Zt([jn.config({}),dd.config({focus:!1}),es.config({find:a=>zt(a.components())})]),components:[]})},name:"throbber",schema:[Ot("dom")]}),GV=hg.optional({factory:WS,name:"viewWrapper",schema:[Ot("backstage")]}),qV=hg.optional({factory:{sketch:s=>({uid:s.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:s.components})},name:"editorContainer",schema:[]});var Js=Ll({name:"OuterContainer",factory:(s,a,u)=>{let f=!1;const p=w=>{js(w,".tox-statusbar").each(k=>{wr(k,"display")==="none"&&Po(k,"aria-hidden")==="true"?(ws(k,"display"),_o(k,"aria-hidden")):(co(k,"display","none"),sn(k,"aria-hidden","true"))})},b={getSocket:w=>pa.getPart(w,s,"socket"),setSidebar:(w,k,E)=>{pa.getPart(w,s,"sidebar").each(R=>((L,N,z)=>{es.getCurrent(L).each(q=>{jn.set(q,[mP(N)]);const J=z==null?void 0:z.toLowerCase();v(J)&&Eo(N,J)&&es.getCurrent(q).each(ce=>{_l.showSlot(ce,J),ql.immediateGrow(q),ws(q.element,"width"),FS(L.element,"region")})})})(R,k,E))},toggleSidebar:(w,k)=>{pa.getPart(w,s,"sidebar").each(E=>((R,L)=>{es.getCurrent(R).each(N=>{es.getCurrent(N).each(z=>{ql.hasGrown(N)?_l.isShowing(z,L)?(ql.shrink(N),FS(R.element,"presentation")):(_l.hideAllSlots(z),_l.showSlot(z,L),FS(R.element,"region")):(_l.hideAllSlots(z),_l.showSlot(z,L),ql.grow(N),FS(R.element,"region"))})})})(E,k))},whichSidebar:w=>pa.getPart(w,s,"sidebar").bind(_V).getOrNull(),getHeader:w=>pa.getPart(w,s,"header"),getToolbar:w=>pa.getPart(w,s,"toolbar"),setToolbar:(w,k)=>{pa.getPart(w,s,"toolbar").each(E=>{const R=Ye(k,US);E.getApis().setGroups(E,R)})},setToolbars:(w,k)=>{pa.getPart(w,s,"multiple-toolbar").each(E=>{const R=Ye(k,L=>Ye(L,US));L4.setItems(E,R)})},refreshToolbar:w=>{pa.getPart(w,s,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:w=>{pa.getPart(w,s,"toolbar").each(k=>{gi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:w=>{pa.getPart(w,s,"toolbar").each(k=>{gi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:w=>pa.getPart(w,s,"toolbar").bind(k=>D.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:w=>pa.getPart(w,s,"throbber"),focusToolbar:w=>{pa.getPart(w,s,"toolbar").orThunk(()=>pa.getPart(w,s,"multiple-toolbar")).each(k=>{Nn.focusIn(k)})},setMenubar:(w,k)=>{pa.getPart(w,s,"menubar").each(E=>{$4.setMenus(E,k)})},focusMenubar:w=>{pa.getPart(w,s,"menubar").each(k=>{$4.focus(k)})},setViews:(w,k)=>{pa.getPart(w,s,"viewWrapper").each(E=>{WS.setViews(E,k)})},toggleView:(w,k)=>pa.getPart(w,s,"viewWrapper").exists(E=>WS.toggleView(E,()=>b.showMainView(w),()=>b.hideMainView(w),k)),whichView:w=>pa.getPart(w,s,"viewWrapper").bind(WS.whichView).getOrNull(),hideMainView:w=>{f=b.isToolbarDrawerToggled(w),f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),co(E,"display","none"),sn(E,"aria-hidden","true")})},showMainView:w=>{f&&b.toggleToolbarDrawer(w),pa.getPart(w,s,"editorContainer").each(k=>{const E=k.element;p(E),ws(E,"display"),_o(E,"aria-hidden")})}};return{uid:s.uid,dom:s.dom,components:a,apis:b,behaviours:s.behaviours}},configFields:[Ot("dom"),Ot("behaviours")],partFields:[UV,zV,$V,HV,ZV,jV,WV,KV,GV,qV],apis:{getSocket:(s,a)=>s.getSocket(a),setSidebar:(s,a,u,f)=>{s.setSidebar(a,u,f)},toggleSidebar:(s,a,u)=>{s.toggleSidebar(a,u)},whichSidebar:(s,a)=>s.whichSidebar(a),getHeader:(s,a)=>s.getHeader(a),getToolbar:(s,a)=>s.getToolbar(a),setToolbar:(s,a,u)=>{s.setToolbar(a,u)},setToolbars:(s,a,u)=>{s.setToolbars(a,u)},refreshToolbar:(s,a)=>s.refreshToolbar(a),toggleToolbarDrawer:(s,a)=>{s.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(s,a)=>{s.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(s,a)=>s.isToolbarDrawerToggled(a),getThrobber:(s,a)=>s.getThrobber(a),setMenubar:(s,a,u)=>{s.setMenubar(a,u)},focusMenubar:(s,a)=>{s.focusMenubar(a)},focusToolbar:(s,a)=>{s.focusToolbar(a)},setViews:(s,a,u)=>{s.setViews(a,u)},toggleView:(s,a,u)=>s.toggleView(a,u),whichView:(s,a)=>s.whichView(a)}});const EP={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},oT=s=>s.split(" "),AP=(s,a)=>{const u={...EP,...a.menus},f=wn(a.menus).length>0,p=a.menubar===void 0||a.menubar===!0?oT("file edit view insert format tools table help"):oT(a.menubar===!1?"":a.menubar),b=Fn(p,k=>{const E=Eo(EP,k);return f?E||hn(a.menus,k).exists(R=>Eo(R,"items")):E}),w=Ye(b,k=>{const E=u[k];return((R,L,N)=>{const z=Z5(N).split(/[ ,]/);return{text:R.title,getItems:()=>tn(R.items,q=>{const J=q.toLowerCase();return J.trim().length===0||pt(z,ce=>ce===J)?[]:J==="separator"||J==="|"?[{type:"separator"}]:L.menuItems[J]?[L.menuItems[J]]:[]})}})({title:E.title,items:oT(E.items)},a,s)});return Fn(w,k=>k.getItems().length>0&&pt(k.getItems(),E=>v(E)||E.type!=="separator"))},TP=(s,a,u)=>(s.on("remove",()=>u.unload(a)),u.load(a)),sT=(s,a,u,f)=>(s.on("remove",()=>f.unloadRawCss(a)),f.loadRawCss(a,u)),YV=async(s,a)=>{const u="ui/"+f_(s).getOr("default")+"/skin.css",f=tinymce.Resource.get(u);if(!v(f)){const p=s.editorManager.suffix;return TP(s,a+`/skin${p}.css`,s.ui.styleSheetLoader)}sT(s,u,f,s.ui.styleSheetLoader)},XV=async(s,a)=>{var u;if(u=rn(s.getElement()),Wt(u).isSome()){const f="ui/"+f_(s).getOr("default")+"/skin.shadowdom.css",p=tinymce.Resource.get(f);if(!v(p)){const b=s.editorManager.suffix;return TP(s,a+`/skin.shadowdom${b}.css`,B0.DOM.styleSheetLoader)}sT(s,f,p,B0.DOM.styleSheetLoader)}},OP=(s,a)=>(async(u,f)=>{const p=()=>{const w=d_(f),k=f.editorManager.suffix;w&&f.contentCSS.push(w+(u?"/content.inline":"/content")+`${k}.css`)};f_(f).fold(p,w=>{const k="ui/"+w+(u?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);v(E)?sT(f,k,E,f.ui.styleSheetLoader):p()});const b=d_(f);if(!Dp(f)&&v(b))return Promise.all([YV(f,b),XV(f,b)]).then()})(s,a).then((u=>{const f=()=>{u._skinLoaded=!0,(p=>{p.dispatch("SkinLoaded")})(u)};return()=>{u.initialized?f():u.on("init",f)}})(a),((u,f)=>()=>((p,b)=>{p.dispatch("SkinLoadError",b)})(u,{message:"Skin could not be loaded"}))(a)),DP=Ue(OP,!1),JV=Ue(OP,!0),e1=(s,a,u)=>Nu(u)?s.translate(a):s.translate([a,s.translate(u)]),QV=(s,a)=>{const u=(b,w,k,E)=>{const R=s.shared.providers.translate(b.title);if(b.type==="separator")return D.some({type:"separator",text:R});if(b.type==="submenu"){const L=tn(b.getStyleItems(),N=>f(N,w,E));return w===0&&L.length<=0?D.none():D.some({type:"nestedmenuitem",text:R,enabled:L.length>0,getSubmenuItems:()=>tn(b.getStyleItems(),N=>f(N,w,E))})}return D.some({type:"togglemenuitem",text:R,icon:b.icon,active:b.isSelected(E),enabled:!k,onAction:a.onAction(b),...b.getStylePreview().fold(()=>({}),L=>({meta:{style:L}}))})},f=(b,w,k)=>{const E=b.type==="formatter"&&a.isInvalid(b);return w===0?E?[]:u(b,w,!1,k).toArray():u(b,w,E,k).toArray()},p=b=>{const w=a.getCurrentValue(),k=a.shouldHide?0:1;return tn(b,E=>f(E,k,w))};return{validateItems:p,getFetch:(b,w)=>(k,E)=>{const R=w(),L=p(R);E(Xb(L,Yf.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:D.none()}))}}},dy=(s,a)=>{const u=a.dataset,f=u.type==="basic"?()=>Ye(u.data,p=>qN(p,a.isSelectedFor,a.getPreviewFor)):u.getData;return{items:QV(s,a),getStyleItems:f}},mw=(s,a,u,f,p,b)=>{const{items:w,getStyleItems:k}=dy(a,u),E=Bn(u.tooltip);return o4({text:u.icon.isSome()?D.none():u.text,icon:u.icon,ariaLabel:D.some(u.tooltip),tooltip:D.none(),role:D.none(),fetch:w.getFetch(a,k),onSetup:R=>{const L=N=>R.setTooltip(e1(s,f(N.value),N.value));return s.on(p,L),q0(Ub(s,"NodeChange",N=>{const z=N.getComponent();u.updateText(z),so.set(N.getComponent(),!s.selection.isEditable())})(R),()=>s.off(p,L))},getApi:R=>({getComponent:te(R),setTooltip:L=>{const N=a.shared.providers.translate(L);sn(R.element,"aria-label",N),E.set(L)}}),columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[si.config({...a.shared.providers.tooltips.getConfig({tooltipText:a.shared.providers.translate(u.tooltip),onShow:R=>{if(u.tooltip!==E.get()){const L=a.shared.providers.translate(E.get());si.setComponents(R,a.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",a.shared,b)};var t1;(function(s){s[s.SemiColon=0]="SemiColon",s[s.Space=1]="Space"})(t1||(t1={}));const rT=(s,a,u)=>{const f=(p=((b,w)=>w===t1.SemiColon?b.replace(/;$/,"").split(";"):b.split(" "))(s.options.get(a),u),Ye(p,b=>{let w=b,k=b;const E=b.split("=");return E.length>1&&(w=E[0],k=E[1]),{title:w,format:k}}));var p;return{type:"basic",data:f}},RP=te("Alignment {0}"),IP="left",iT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],aT=s=>{const a={type:"basic",data:iT};return{tooltip:e1(s,RP(),IP),text:D.none(),icon:D.some("align-left"),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:D.none,getPreviewFor:u=>D.none,onAction:u=>()=>Q(iT,f=>f.format===u.format).each(f=>s.execCommand(f.command)),updateText:u=>{const f=Q(iT,p=>s.formatter.match(p.format)).fold(te(IP),p=>p.title.toLowerCase());Rn(u,ld,{icon:`align-${f}`}),((p,b)=>{p.dispatch("AlignTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},NP=(s,a)=>{const u=a(),f=Ye(u,p=>p.format);return D.from(s.formatter.closest(f)).bind(p=>Q(u,b=>b.format===p))},lT=te("Block {0}"),cT="Paragraph",uT=s=>{const a=rT(s,"block_formats",t1.SemiColon);return{tooltip:e1(s,lT(),cT),text:D.some(cT),icon:D.none(),isSelectedFor:u=>()=>s.formatter.match(u),getCurrentValue:D.none,getPreviewFor:u=>()=>{const f=s.formatter.get(u);return f?D.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(u))}):D.none()},onAction:lI(s),updateText:u=>{const f=NP(s,()=>a.data).fold(te(cT),p=>p.title);Rn(u,Cu,{text:f}),((p,b)=>{p.dispatch("BlocksTextUpdate",b)})(s,{value:f})},dataset:a,shouldHide:!1,isInvalid:u=>!s.formatter.canApply(u.format)}},PP=te("Font {0}"),dT="System Font",ez=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],MP=s=>{const a=s.split(/\s*,\s*/);return Ye(a,u=>u.replace(/^['"]+|['"]+$/g,""))},BP=(s,a)=>a.length>0&&To(a,u=>s.indexOf(u.toLowerCase())>-1),LP=s=>{const a=()=>{const f=R=>R?MP(R)[0]:"",p=s.queryCommandValue("FontName"),b=u.data,w=p?p.toLowerCase():"",k=u_(s);return{matchOpt:Q(b,R=>{const L=R.format;return L.toLowerCase()===w||f(L).toLowerCase()===f(w).toLowerCase()}).orThunk(()=>ss(((R,L)=>{if(R.indexOf("-apple-system")===0||L.length>0){const N=MP(R.toLowerCase());return BP(N,ez)||BP(N,L)}return!1})(w,k),{title:dT,format:w})),font:p}},u=rT(s,"font_family_formats",t1.SemiColon);return{tooltip:e1(s,PP(),dT),text:D.some(dT),icon:D.none(),isSelectedFor:f=>p=>p.exists(b=>b.format===f),getCurrentValue:()=>{const{matchOpt:f}=a();return f},getPreviewFor:f=>()=>D.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:p,font:b}=a(),w=p.fold(te(b),k=>k.title);Rn(f,Cu,{text:w}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(s,{value:w})},dataset:u,shouldHide:!1,isInvalid:Se}},tz={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},nz=(()=>{const s="[0-9]+",a="[eE][+-]?"+s,u=p=>`(?:${p})?`,f=["Infinity",s+"\\."+u(s)+u(a),"\\."+s+u(a),s+u(a)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),ZS=(s,a)=>D.from(nz.exec(s)).bind(u=>{const f=Number(u[1]),p=u[2];return((b,w)=>pt(w,k=>pt(tz[k],E=>b===E)))(p,a)?D.some({value:f,unit:p}):D.none()}),FP={tab:te(9),escape:te(27),enter:te(13),backspace:te(8),delete:te(46),left:te(37),up:te(38),right:te(39),down:te(40),space:te(32),home:te(36),end:te(35),pageUp:te(33),pageDown:te(34)},VP=te("Font size {0}"),zP="12pt",oz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},HP={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},sz=(s,a)=>/[0-9.]+px$/.test(s)?((u,f)=>{const p=Math.pow(10,f);return Math.round(u*p)/p})(72*parseInt(s,10)/96,a||0)+"pt":hn(HP,s).getOr(s),rz=s=>hn(oz,s).getOr(""),$P=s=>{const a=()=>{let p=D.none();const b=f.data,w=s.queryCommandValue("FontSize");if(w)for(let k=3;p.isNone()&&k>=0;k--){const E=sz(w,k),R=rz(E);p=Q(b,L=>L.format===w||L.format===E||L.format===R)}return{matchOpt:p,size:w}},u=te(D.none),f=rT(s,"font_size_formats",t1.Space);return{tooltip:e1(s,VP(),zP),text:D.some(zP),icon:D.none(),isSelectedFor:p=>b=>b.exists(w=>w.format===p),getPreviewFor:u,getCurrentValue:()=>{const{matchOpt:p}=a();return p},onAction:p=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,p.format)})},updateText:p=>{const{matchOpt:b,size:w}=a(),k=b.fold(te(w),E=>E.title);Rn(p,Cu,{text:k}),((E,R)=>{E.dispatch("FontSizeTextUpdate",R)})(s,{value:k})},dataset:f,shouldHide:!1,isInvalid:Se}},UP=s=>Nu(s)?"Formats":"Format {0}",WP=(s,a)=>{const u="Formats";return{tooltip:e1(s,UP(""),""),text:D.some(u),icon:D.none(),isSelectedFor:f=>()=>s.formatter.match(f),getCurrentValue:D.none,getPreviewFor:f=>()=>{const p=s.formatter.get(f);return p!==void 0?D.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:s.dom.parseStyle(s.formatter.getCssText(f))}):D.none()},onAction:lI(s),updateText:f=>{const p=k=>jN(k)?tn(k.items,p):KN(k)?[{title:k.title,format:k.format}]:[],b=tn(GN(s),p),w=NP(s,te(b)).fold(te({title:u,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Rn(f,Cu,{text:w.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(s,{value:w.tooltipLabel})},shouldHide:W5(s),isInvalid:f=>!s.formatter.canApply(f.format),dataset:a}},fT=te([Ot("toggleClass"),Ot("fetch"),qu("onExecute"),it("getHotspot",D.some),it("getAnchorOverrides",te({})),Pf(),qu("onItemExecute"),jo("lazySink"),Ot("dom"),Yo("onOpen"),yn("splitDropdownBehaviours",[zr,Nn,to]),it("matchWidth",!1),it("useMinWidth",!1),it("eventOrder",{}),jo("role"),jo("listRole")].concat(c3())),iz=wl({factory:Ua,schema:[Ot("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Zt([to.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(Af)},buttonBehaviours:Zt([Jn.config({toggleOnExecute:!1,toggleClass:s.toggleClass})])})}),az=wl({factory:Ua,schema:[Ot("dom")],name:"button",defaults:()=>({buttonBehaviours:Zt([to.revoke()])}),overrides:s=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(s.uid).each(u=>{s.onExecute(u,a)})}})}),lz=te([iz,az,hu({factory:{sketch:s=>({uid:s.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:s.text}})},schema:[Ot("text")],name:"aria-descriptor"}),Wd({schema:[Xg()],name:"menu",defaults:s=>({onExecute:(a,u)=>{a.getSystem().getByUid(s.uid).each(f=>{s.onItemExecute(f,a,u)})}})}),SI()]),gw=Ll({name:"SplitDropdown",configFields:fT(),partFields:lz(),factory:(s,a,u,f)=>{const p=R=>{es.getCurrent(R).each(L=>{_s.highlightFirst(L),Nn.focusIn(L)})},b=R=>{i3(s,Ce,R,f,p,il.HighlightMenuAndItem).get(fe)},w=R=>{const L=gh(R,s,"button");return Af(L),D.some(!0)},k={...fo([nr((R,L)=>{Ks(R,s,"aria-descriptor").each(N=>{const z=bn("aria");sn(N.element,"id",z),sn(R.element,"aria-describedby",z)})})]),...M0(D.some(b))},E={repositionMenus:R=>{Jn.isOn(R)&&AI(R)}};return{uid:s.uid,dom:s.dom,components:a,apis:E,eventOrder:{...s.eventOrder,[pl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:yo(s.splitDropdownBehaviours,[zr.config({others:{sandbox:R=>{const L=gh(R,s,"arrow");return l3(s,R,{onOpen:()=>{Jn.on(L),Jn.on(R)},onClose:()=>{Jn.off(L),Jn.off(R)}})}}}),Nn.config({mode:"special",onSpace:w,onEnter:w,onDown:R=>(b(R),D.some(!0))}),to.config({}),Jn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:s.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(s,a)=>s.repositionMenus(a)}}),mT=s=>({isEnabled:()=>!so.isDisabled(s),setEnabled:a=>so.set(s,!a),setText:a=>Rn(s,Cu,{text:a}),setIcon:a=>Rn(s,ld,{icon:a})}),cz=s=>({setActive:a=>{Jn.set(s,a)},isActive:()=>Jn.isOn(s),isEnabled:()=>!so.isDisabled(s),setEnabled:a=>so.set(s,!a),setText:a=>Rn(s,Cu,{text:a}),setIcon:a=>Rn(s,ld,{icon:a})}),ZP=(s,a)=>s.map(u=>({"aria-label":a.translate(u)})).getOr({}),gT=bn("focus-button"),hT=(s,a,u,f,p,b)=>{const w=a.map(E=>Cs(n4(E,"tox-tbtn",p))),k=s.map(E=>Cs(qp(E,p.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:{...ZP(u,p),...Z(b)?{"data-mce-name":b}:{}}},components:Z0([k.map(E=>E.asSpec()),w.map(E=>E.asSpec())]),eventOrder:{[Dt()]:["focusing","alloy.base.behaviour",Gp],[ua()]:[Gp,"toolbar-group-button-events"]},buttonBehaviours:Zt([N_(p.isDisabled),Pi(),Co(Gp,[nr((E,R)=>xS(E)),St(Cu,(E,R)=>{w.bind(L=>L.getOpt(E)).each(L=>{jn.set(L,[Vr(p.translate(R.event.text))])})}),St(ld,(E,R)=>{k.bind(L=>L.getOpt(E)).each(L=>{jn.set(L,[qp(R.event.icon,p.icons)])})}),St(Dt(),(E,R)=>{R.event.prevent(),ko(E,gT)})])].concat(f.getOr([])))}},jP=(s,a,u,f)=>{var p;const b=Bn(fe),w=hT(s.icon,s.text,s.tooltip,D.none(),u,f);return Ua.sketch({dom:w.dom,components:w.components,eventOrder:t4,buttonBehaviours:{...Zt([Co("toolbar-button-events",[(k={onAction:s.onAction,getApi:a.getApi},lu((E,R)=>{F2(k,E)(L=>{Rn(E,yS,{buttonApi:L}),k.onAction(L)})})),Vp(a,b),xh(a,b)]),...s.tooltip.map(E=>si.config(u.tooltips.getConfig({tooltipText:u.translate(E)+s.shortcut.map(R=>` (${P_(R)})`).getOr("")}))).toArray(),N_(()=>!s.enabled||u.isDisabled()),Pi()].concat(a.toolbarButtonBehaviours)),[Gp]:(p=w.buttonBehaviours)===null||p===void 0?void 0:p[Gp]}});var k},KP=(s,a,u,f)=>jP(s,{toolbarButtonBehaviours:u.length>0?[Co("toolbarButtonWith",u)]:[],getApi:mT,onSetup:s.onSetup},a,f),GP=(s,a,u,f)=>jP(s,{toolbarButtonBehaviours:[jn.config({}),Jn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(u.length>0?[Co("toolbarToggleButtonWith",u)]:[]),getApi:cz,onSetup:s.onSetup},a,f),uz=(s,a,u)=>f=>zp(p=>a.fetch(p)).map(p=>D.from(u3(Ns(Zb(bn("menu-value"),p,b=>{a.onItemAction(s(f),b)},a.columns,a.presets,Yf.CLOSE_ON_EXECUTE,a.select.getOr(Se),u),{movement:U2(a.columns,a.presets),menuBehaviours:L2(a.columns!=="auto"?[]:[nr((b,w)=>{MA(b,4,Bp(a.presets)).each(({numRows:k,numColumns:E})=>{Nn.setGridSize(b,k,E)})})])})))),dz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Qp=(s,a)=>(u,f,p,b)=>{const w=s(u).mapError(k=>Qa(k)).getOrDie();return a(w,f,p,b)},fz={button:Qp(BR,(s,a,u,f)=>((p,b,w)=>KP(p,b,[],w))(s,a.shared.providers,f)),togglebutton:Qp(D_,(s,a,u,f)=>((p,b,w)=>GP(p,b,[],w))(s,a.shared.providers,f)),menubutton:Qp(dP,(s,a,u,f)=>sy(s,"tox-tbtn",a,D.none(),!1,f)),splitbutton:Qp(s=>Cr("SplitButton",vV,s),(s,a,u,f)=>((p,b,w)=>{const k=Bn(p.tooltip.getOr("")),E=N=>({isEnabled:()=>!so.isDisabled(N),setEnabled:z=>so.set(N,!z),setIconFill:(z,q)=>{ur(N.element,`svg path[class="${z}"], rect[class="${z}"]`).each(J=>{sn(J,"fill",q)})},setActive:z=>{sn(N.element,"aria-pressed",z),ur(N.element,"span").each(q=>{N.getSystem().getByDom(q).each(J=>Jn.set(J,z))})},isActive:()=>ur(N.element,"span").exists(z=>N.getSystem().getByDom(z).exists(Jn.isOn)),setText:z=>ur(N.element,"span").each(q=>N.getSystem().getByDom(q).each(J=>Rn(J,Cu,{text:z}))),setIcon:z=>ur(N.element,"span").each(q=>N.getSystem().getByDom(q).each(J=>Rn(J,ld,{icon:z}))),setTooltip:z=>{const q=b.providers.translate(z);sn(N.element,"aria-label",q),k.set(z)}}),R=Bn(fe),L={getApi:E,onSetup:p.onSetup};return gw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...ZP(p.tooltip,b.providers),...Z(w)?{"data-mce-name":w}:{}}},onExecute:N=>{const z=E(N);z.isEnabled()&&p.onAction(z)},onItemExecute:(N,z,q)=>{},splitDropdownBehaviours:Zt([KR(b.providers.isDisabled),Pi(),Co("split-dropdown-events",[nr((N,z)=>xS(N)),St(gT,to.focus),Vp(L,R),xh(L,R)]),Kb.config({}),...p.tooltip.map(N=>si.config({...b.providers.tooltips.getConfig({tooltipText:b.providers.translate(N),onShow:z=>{if(k.get()!==N){const q=b.providers.translate(k.get());si.setComponents(z,b.providers.tooltips.getComponents({tooltipText:q}))}}})})).toArray()]),eventOrder:{[ua()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Tc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:b.getSink,fetch:uz(E,p,b.providers),parts:{menu:k_(0,p.columns,p.presets)},components:[gw.parts.button(hT(p.icon,p.text,D.none(),D.some([Jn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),b.providers)),gw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:gR("chevron-down",b.providers.icons)},buttonBehaviours:Zt([KR(b.providers.isDisabled),Pi(),C_()])}),gw.parts["aria-descriptor"]({text:b.providers.translate("To open the popup, press Shift+Enter")})]})})(s,a.shared,f)),grouptoolbarbutton:Qp(s=>Cr("GroupToolbarButton",hV,s),(s,a,u,f)=>{const p=u.ui.registry.getAll().buttons,b={[xl]:a.shared.header.isPositionedAtTop()?Fc.TopToBottom:Fc.BottomToTop};if(Ib(u)===ed.floating)return((w,k,E,R,L)=>{const N=k.shared,z=Bn(fe),q={toolbarButtonBehaviours:[],getApi:mT,onSetup:w.onSetup},J=[Co("toolbar-group-button-events",[Vp(q,z),xh(q,z)])];return Th.sketch({lazySink:N.getSink,fetch:()=>zp(ce=>{ce(Ye(E(w.items),US))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:hT(w.icon,w.text,w.tooltip,D.some(J),N.providers,L),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:R}}}})})(s,a,w=>jS(u,{buttons:p,toolbar:w,allowToolbarGroups:!1},a,D.none()),b,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},hw={styles:(s,a)=>{const u={type:"advanced",...a.styles};return mw(s,a,WP(s,u),UP,"StylesTextUpdate","styles")},fontsize:(s,a)=>mw(s,a,$P(s),VP,"FontSizeTextUpdate","fontsize"),fontsizeinput:(s,a)=>((u,f,p,b)=>{let w=D.none();const k=Ub(u,"NodeChange SwitchMode",ve=>{const we=ve.getComponent();w=D.some(we),p.updateInputValue(we),so.set(we,!u.selection.isEditable())}),E=ve=>({getComponent:te(ve)}),R=Bn(fe),L=bn("custom-number-input-events"),N=(ve,we,ke)=>{const ze=w.map(Ht=>lt.getValue(Ht)).getOr(""),ot=p.getNewValue(ze,ve),Et=ze.length-`${ot}`.length,_t=w.map(Ht=>Ht.element.dom.selectionStart-Et),wt=w.map(Ht=>Ht.element.dom.selectionEnd-Et);p.onAction(ot,ke),w.each(Ht=>{lt.setValue(Ht,ot),we&&(_t.each(mn=>Ht.element.dom.selectionStart=mn),wt.each(mn=>Ht.element.dom.selectionEnd=mn))})},z=(ve,we)=>N((ke,ze)=>ke-ze,ve,we),q=(ve,we)=>N((ke,ze)=>ke+ze,ve,we),J=ve=>Sa(ve.element).fold(D.none,we=>(za(we),D.some(!0))),ce=ve=>ah(ve.element)?(Ee(ve.element).each(we=>za(we)),D.some(!0)):D.none(),me=(ve,we,ke,ze)=>{const ot=Bn(fe),Et=f.shared.providers.translate(ke),_t=bn("altExecuting"),wt=Ub(u,"NodeChange SwitchMode",mn=>{so.set(mn.getComponent(),!u.selection.isEditable())}),Ht=mn=>{so.isDisabled(mn)||ve(!0)};return Ua.sketch({dom:{tag:"button",attributes:{"aria-label":Et,"data-mce-name":we},classes:ze.concat(we)},components:[tw(we,f.shared.providers.icons)],buttonBehaviours:Zt([so.config({}),si.config(f.shared.providers.tooltips.getConfig({tooltipText:Et})),Co(_t,[Vp({onSetup:wt,getApi:E},ot),xh({getApi:E},ot),St(Sr(),(mn,kn)=>{kn.event.raw.keyCode!==FP.space()&&kn.event.raw.keyCode!==FP.enter()||so.isDisabled(mn)||ve(!1)}),St(pi(),Ht),St(Oe(),Ht)])]),eventOrder:{[Sr()]:[_t,"keying"],[pi()]:[_t,"alloy.base.behaviour"],[Oe()]:[_t,"alloy.base.behaviour"],[ua()]:["alloy.base.behaviour",_t,"tooltipping"],[Tc()]:[_t,"tooltipping"]}})},xe=Cs(me(ve=>z(!1,ve),"minus","Decrease font size",[])),de=Cs(me(ve=>q(!1,ve),"plus","Increase font size",[])),ue=Cs({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[yh.sketch({inputBehaviours:Zt([so.config({}),Co(L,[Vp({onSetup:k,getApi:E},R),xh({getApi:E},R)]),Co("input-update-display-text",[St(Cu,(ve,we)=>{lt.setValue(ve,we.event.text)}),St(jr(),ve=>{p.onAction(lt.getValue(ve))}),St(Nm(),ve=>{p.onAction(lt.getValue(ve))})]),Nn.config({mode:"special",onEnter:ve=>(N(Ce,!0,!0),D.some(!0)),onEscape:J,onUp:ve=>(q(!0,!1),D.some(!0)),onDown:ve=>(z(!0,!1),D.some(!0)),onLeft:(ve,we)=>(we.cut(),D.none()),onRight:(ve,we)=>(we.cut(),D.none())})])})],behaviours:Zt([to.config({}),Nn.config({mode:"special",onEnter:ce,onSpace:ce,onEscape:J}),Co("input-wrapper-events",[St(Tn(),ve=>{Mt([xe,de],we=>{const ke=rn(we.get(ve).element.dom);ah(ke)&&tb(ke)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Z(b)?{"data-mce-name":b}:{}}},components:[xe.asSpec(),ue.asSpec(),de.asSpec()],behaviours:Zt([to.config({}),Nn.config({mode:"flow",focusInside:_b.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ve=>ah(ve.element)?D.none():(za(ve.element),D.some(!0))})])}})(s,a,(u=>{const f=()=>u.queryCommandValue("FontSize");return{updateInputValue:p=>Rn(p,Cu,{text:f()}),onAction:(p,b)=>u.execCommand("FontSize",!1,p,{skip_focus:!b}),getNewValue:(p,b)=>{ZS(p,["unsupportedLength","empty"]);const w=f(),k=ZS(p,["unsupportedLength","empty"]).or(ZS(w,["unsupportedLength","empty"])),E=k.map(q=>q.value).getOr(16),R=aA(u),L=k.map(q=>q.unit).filter(q=>q!=="").getOr(R),N=b(E,(q=>{var J;return(J={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[q])!==null&&J!==void 0?J:{step:1}})(L).step),z=`${(q=>q>=0)(N)?N:E}${L}`;return z!==w&&((q,J)=>{q.dispatch("FontSizeInputTextUpdate",J)})(u,{value:z}),z}}})(s),"fontsizeinput"),fontfamily:(s,a)=>mw(s,a,LP(s),PP,"FontFamilyTextUpdate","fontfamily"),blocks:(s,a)=>mw(s,a,uT(s),lT,"BlocksTextUpdate","blocks"),align:(s,a)=>mw(s,a,aT(s),RP,"AlignTextUpdate","align")},jS=(s,a,u,f)=>{const p=(w=>{const k=w.toolbar,E=w.buttons;return k===!1?[]:k===void 0||k===!0?(R=>{const L=Ye(dz,N=>{const z=Fn(N.items,q=>Eo(R,q)||Eo(hw,q));return{name:N.name,items:z}});return Fn(L,N=>N.items.length>0)})(E):v(k)?(R=>{const L=R.split("|");return Ye(L,N=>({items:N.trim().split(" ")}))})(k):(R=>ae(R,L=>Eo(L,"name")&&Eo(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(a),b=Ye(p,w=>{const k=tn(w.items,E=>E.trim().length===0?[]:((R,L,N,z,q,J)=>hn(L,N.toLowerCase()).orThunk(()=>J.bind(ce=>Vt(ce,me=>hn(L,me+N.toLowerCase())))).fold(()=>hn(hw,N.toLowerCase()).map(ce=>ce(R,q)),ce=>ce.type!=="grouptoolbarbutton"||z?((me,xe,de,ue)=>hn(fz,me.type).fold(()=>(console.error("skipping button defined by",me),D.none()),ve=>D.some(ve(me,xe,de,ue))))(ce,q,R,N.toLowerCase()):(console.warn(`Ignoring the '${N}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(s,a.buttons,E,a.allowToolbarGroups,u,f).toArray());return{title:D.from(s.translate(w.name)),items:k}});return Fn(b,w=>w.items.length>0)},qP=(s,a,u,f)=>{const p=a.mainUi.outerContainer,b=u.toolbar,w=u.buttons;if(ae(b,v)){const k=b.map(E=>{const R={toolbar:E,buttons:w,allowToolbarGroups:u.allowToolbarGroups};return jS(s,R,f,D.none())});Js.setToolbars(p,k)}else Js.setToolbar(p,jS(s,u,f,D.none()))},YP=ra(),mz=YP.os.isiOS()&&YP.os.version.major<=12;var yW=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=a,k=Bn(0),E=b.outerContainer;DP(s);const R=rn(p.targetNode),L=Je(ut(R));xt(R,b.mothership),((J,ce,me)=>{bh(J)&&xt(me.mainUi.mothership.element,me.popupUi.mothership),Ux(ce,me.dialogUi.mothership)})(s,L,a),s.on("SkinLoaded",()=>{Js.setSidebar(E,u.sidebar,c_(s)),qP(s,a,u,f),k.set(s.getWin().innerWidth),Js.setMenubar(E,AP(s,u)),Js.setViews(E,u.views),((J,ce)=>{const{uiMotherships:me}=ce,xe=J.dom;let de=J.getWin();const ue=J.getDoc().documentElement,ve=Bn(qs(de.innerWidth,de.innerHeight)),we=Bn(qs(ue.offsetWidth,ue.offsetHeight)),ke=()=>{const _t=ve.get();_t.left===de.innerWidth&&_t.top===de.innerHeight||(ve.set(qs(de.innerWidth,de.innerHeight)),$b(J))},ze=()=>{const _t=J.getDoc().documentElement,wt=we.get();wt.left===_t.offsetWidth&&wt.top===_t.offsetHeight||(we.set(qs(_t.offsetWidth,_t.offsetHeight)),$b(J))},ot=_t=>{((wt,Ht)=>{wt.dispatch("ScrollContent",Ht)})(J,_t)};xe.bind(de,"resize",ke),xe.bind(de,"scroll",ot);const Et=Px(rn(J.getBody()),"load",ze);J.on("hide",()=>{Mt(me,_t=>{co(_t.element,"display","none")})}),J.on("show",()=>{Mt(me,_t=>{ws(_t.element,"display")})}),J.on("NodeChange",ze),J.on("remove",()=>{Et.unbind(),xe.unbind(de,"resize",ke),xe.unbind(de,"scroll",ot),de=null})})(s,a)});const N=Js.getSocket(E).getOrDie("Could not find expected socket element");if(mz){Ya(N.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const J=((me,xe)=>{let de=null;return{cancel:()=>{V(de)||(clearTimeout(de),de=null)},throttle:(...ue)=>{V(de)&&(de=setTimeout(()=>{de=null,me.apply(null,ue)},20))}}})(()=>{s.dispatch("ScrollContent")}),ce=Ha(N.element,"scroll",J.throttle);s.on("remove",ce.unbind)}jR(s,a),s.addCommand("ToggleSidebar",(J,ce)=>{Js.toggleSidebar(E,ce),(me=>{me.dispatch("ToggleSidebar")})(s)}),s.addQueryValueHandler("ToggleSidebar",()=>{var J;return(J=Js.whichSidebar(E))!==null&&J!==void 0?J:""}),s.addCommand("ToggleView",(J,ce)=>{if(Js.toggleView(E,ce)){const me=E.element;b.mothership.broadcastOn([M()],{target:me}),Mt(w,xe=>{xe.broadcastOn([M()],{target:me})}),V(Js.whichView(E))&&(s.focus(),s.nodeChanged(),Js.refreshToolbar(E)),(xe=>{xe.dispatch("ToggleView")})(s)}}),s.addQueryValueHandler("ToggleView",()=>{var J;return(J=Js.whichView(E))!==null&&J!==void 0?J:""});const z=Ib(s);z!==ed.sliding&&z!==ed.floating||s.on("ResizeWindow ResizeEditor ResizeContent",()=>{const J=s.getWin().innerWidth;J!==k.get()&&(Js.refreshToolbar(a.mainUi.outerContainer),k.set(J))});const q={setEnabled:J=>{zb(a,!J)},isEnabled:()=>!so.isDisabled(E)};return{iframeContainer:N.element.dom,editorContainer:E.element.dom,api:q}}});const pw=s=>/^[0-9\.]+(|px)$/i.test(""+s)?D.some(parseInt(""+s,10)):D.none(),ev=s=>X(s)?s+"px":s,vw=(s,a,u)=>{const f=a.filter(b=>s<b),p=u.filter(b=>s>b);return f.or(p).getOr(s)},pT=s=>{const a=d2(s),u=f2(s),f=F0(s);return pw(a).map(p=>vw(p,u,f))},{ToolbarLocation:vT,ToolbarMode:XP}=b2,gz=(s,a,u,f,p)=>{const{mainUi:b,uiMotherships:w}=u,k=B0.DOM,E=Nb(s),R=vh(s),L=F0(s).or(pT(s)),N=f.shared.header,z=N.isPositionedAtTop,q=Ib(s),J=q===XP.sliding||q===XP.floating,ce=Bn(!1),me=()=>ce.get()&&!s.removed,xe=we=>J?we.fold(te(0),ke=>ke.components().length>1?Dr(ke.components()[1].element):0):0,de=()=>{Mt(w,we=>{we.broadcastOn([H()],{})})},ue=we=>{if(!me())return;E||p.on(ot=>{const Et=L.getOrThunk(()=>xi().width-na(a).left-10);co(ot.element,"max-width",Et+"px")});const ke=Ys(),ze=!(E||E||!(Pl(b.outerContainer.element).left+Xa(b.outerContainer.element)>=window.innerWidth-40||$r(b.outerContainer.element,"width").isSome())||(co(b.outerContainer.element,"position","absolute"),co(b.outerContainer.element,"left","0px"),ws(b.outerContainer.element,"width"),0));if(J&&Js.refreshToolbar(b.outerContainer),!E){const ot=Ys(),Et=ss(ke.left!==ot.left,ke);((_t,wt)=>{p.on(Ht=>{const mn=Js.getToolbar(b.outerContainer),kn=xe(mn),zn=ai(a),ro=((So,Xo)=>bh(So)?dp(Xo):D.none())(s,b.outerContainer.element),Lo=ro.fold(()=>zn.x,So=>{const Xo=ai(So);return rs(So,vn())?zn.x:zn.x-Xo.x}),Qs=ss(_t,Math.ceil(b.outerContainer.element.dom.getBoundingClientRect().width)).filter(So=>So>150).map(So=>{const Xo=wt.getOr(Ys()),Zn=window.innerWidth-(Lo-Xo.left),fr=Math.max(Math.min(So,Zn),150);return Zn<So&&co(b.outerContainer.element,"width",fr+"px"),{width:fr+"px"}}).getOr({width:"max-content"}),dr={position:"absolute",left:Math.round(Lo)+"px",top:ro.fold(()=>z()?Math.max(zn.y-Dr(Ht.element)+kn,0):zn.bottom,So=>{var Xo;const Zn=ai(So),fr=(Xo=So.dom.scrollTop)!==null&&Xo!==void 0?Xo:0,Bs=rs(So,vn())?Math.max(zn.y-Dr(Ht.element)+kn,0):zn.y-Zn.y+fr-Dr(Ht.element)+kn;return z()?Bs:zn.bottom})+"px"};Ya(b.outerContainer.element,{...dr,...Qs})})})(ze,Et),Et.each(_t=>{vf(_t.left,ot.top)})}R&&p.on(we),de()},ve=()=>!(E||!R||!me())&&p.get().exists(we=>{const ke=N.getDockingMode(),ze=(Et=>{switch(Op(s)){case vT.auto:const _t=Js.getToolbar(b.outerContainer),wt=xe(_t),Ht=Dr(Et.element)-wt,mn=ai(a);if(mn.y>Ht)return"top";{const kn=qa(a),zn=Math.max(kn.dom.scrollHeight,Dr(kn));return mn.bottom<zn-Ht||$i().bottom<mn.bottom-Ht?"bottom":"top"}case vT.bottom:return"bottom";case vT.top:default:return"top"}})(we);return ze!==ke&&(ot=ze,p.on(Et=>{cr.setModes(Et,[ot]),N.setDockingMode(ot);const _t=z()?Fc.TopToBottom:Fc.BottomToTop;sn(Et.element,xl,_t)}),!0);var ot});return{isVisible:me,isPositionedAtTop:z,show:()=>{ce.set(!0),co(b.outerContainer.element,"display","flex"),k.addClass(s.getBody(),"mce-edit-focus"),Mt(w,we=>{ws(we.element,"display")}),ve(),bh(s)?ue(we=>cr.isDocked(we)?cr.reset(we):cr.refresh(we)):ue(cr.refresh)},hide:()=>{ce.set(!1),co(b.outerContainer.element,"display","none"),k.removeClass(s.getBody(),"mce-edit-focus"),Mt(w,we=>{co(we.element,"display","none")})},update:ue,updateMode:()=>{ve()&&ue(cr.reset)},repositionPopups:de}},JP=(s,a)=>{const u=ai(s);return{pos:a?u.y:u.bottom,bounds:u}};var hz=Object.freeze({__proto__:null,render:(s,a,u,f,p)=>{const{mainUi:b}=a,w=ks(),k=rn(p.targetNode),E=gz(s,k,a,f,w),R=j5(s);JV(s);const L=()=>{if(w.isSet())return void E.show();w.set(Js.getHeader(b.outerContainer).getOrDie());const z=g_(s);bh(s)?(xt(k,b.mothership),xt(k,a.popupUi.mothership)):Ux(z,b.mothership),Ux(z,a.dialogUi.mothership);const q=()=>{qP(s,a,u,f),Js.setMenubar(b.outerContainer,AP(s,u)),E.show(),((J,ce,me,xe)=>{const de=Bn(JP(ce,me.isPositionedAtTop())),ue=ze=>{const{pos:ot,bounds:Et}=JP(ce,me.isPositionedAtTop()),{pos:_t,bounds:wt}=de.get(),Ht=Et.height!==wt.height||Et.width!==wt.width;de.set({pos:ot,bounds:Et}),Ht&&$b(J,ze),me.isVisible()&&(_t!==ot?me.update(cr.reset):Ht&&(me.updateMode(),me.repositionPopups()))};xe||(J.on("activate",me.show),J.on("deactivate",me.hide)),J.on("SkinLoaded ResizeWindow",()=>me.update(cr.reset)),J.on("NodeChange keydown",ze=>{requestAnimationFrame(()=>ue(ze))});let ve=0;const we=W3(()=>me.update(cr.refresh),33);J.on("ScrollWindow",()=>{const ze=Ys().left;ze!==ve&&(ve=ze,we.throttle()),me.updateMode()}),bh(J)&&J.on("ElementScroll",ze=>{me.update(cr.refresh)});const ke=Sc();ke.set(Px(rn(J.getBody()),"load",ze=>ue(ze.raw))),J.on("remove",()=>{ke.clear()})})(s,k,E,R),s.nodeChanged()};R?s.once("SkinLoaded",q):q()};s.on("show",L),s.on("hide",E.hide),R||(s.on("focus",L),s.on("blur",E.hide)),s.on("init",()=>{(s.hasFocus()||R)&&L()}),jR(s,a);const N={show:L,hide:E.hide,setEnabled:z=>{zb(a,!z)},isEnabled:()=>!so.isDisabled(b.outerContainer)};return{editorContainer:b.outerContainer.element.dom,api:N}}});const QP="contexttoolbar-hide",e6=(s,a)=>St(yS,(u,f)=>{const p=(b=>({hide:()=>ko(b,Mv()),getValue:()=>lt.getValue(b)}))(s.get(u));a.onAction(p,f.event.buttonApi)}),pz=(s,a)=>{const u=s.label.fold(()=>({}),b=>({"aria-label":b})),f=Cs(yh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:s.initValue(),inputAttributes:u,selectOnFocus:!0,inputBehaviours:Zt([Nn.config({mode:"special",onEnter:b=>p.findPrimary(b).map(w=>(Af(w),!0)),onLeft:(b,w)=>(w.cut(),D.none()),onRight:(b,w)=>(w.cut(),D.none())})])})),p=((b,w,k)=>{const E=Ye(w,R=>Cs(((L,N,z)=>(q=>q.type==="contextformtogglebutton")(N)?((q,J,ce)=>{const{primary:me,...xe}=J.original,de=Ba(D_({...xe,type:"togglebutton",onAction:fe}));return GP(de,ce,[e6(q,J)])})(L,N,z):((q,J,ce)=>{const{primary:me,...xe}=J.original,de=Ba(BR({...xe,type:"button",onAction:fe}));return KP(de,ce,[e6(q,J)])})(L,N,z))(b,R,k)));return{asSpecs:()=>Ye(E,R=>R.asSpec()),findPrimary:R=>Vt(w,(L,N)=>L.primary?D.from(E[N]).bind(z=>z.getOpt(R)).filter(We(so.isDisabled)):D.none())}})(f,s.commands,a);return[{title:D.none(),items:[f.asSpec()]},{title:D.none(),items:p.asSpecs()}]},t6=(s,a,u)=>a.bottom-s.y>=u&&s.bottom-a.y>=u,bT=s=>{const a=(u=>{const f=u.getBoundingClientRect();if(f.height<=0&&f.width<=0){const p=Ie(rn(u.startContainer),u.startOffset).element;return(Ca(p)?_a(p):D.some(p)).filter(ir).map(b=>b.dom.getBoundingClientRect()).getOr(f)}return f})(s.selection.getRng());if(s.inline){const u=Ys();return Do(u.left+a.left,u.top+a.top,a.width,a.height)}{const u=hl(rn(s.getBody()));return Do(u.x+a.left,u.y+a.top,a.width,a.height)}},n6=(s,a,u,f=0)=>{const p=xi(window),b=ai(rn(s.getContentAreaContainer())),w=h2(s)||p2(s)||v2(s),{x:k,width:E}=((R,L,N)=>{const z=Math.max(R.x+N,L.x);return{x:z,width:Math.min(R.right-N,L.right)-z}})(b,p,f);if(s.inline&&!w)return Do(k,p.y,E,p.height);{const R=a.header.isPositionedAtTop(),{y:L,bottom:N}=((z,q,J,ce,me,xe)=>{const de=rn(z.getContainer()),ue=ur(de,".tox-editor-header").getOr(de),ve=ai(ue),we=ve.y>=q.bottom,ke=ce&&!we;if(z.inline&&ke)return{y:Math.max(ve.bottom+xe,J.y),bottom:J.bottom};if(z.inline&&!ke)return{y:J.y,bottom:Math.min(ve.y-xe,J.bottom)};const ze=me==="line"?ai(de):q;return ke?{y:Math.max(ve.bottom+xe,J.y),bottom:Math.min(ze.bottom-xe,J.bottom)}:{y:Math.max(ze.y+xe,J.y),bottom:Math.min(ve.y-xe,J.bottom)}})(s,b,p,R,u,f);return Do(k,L,E,N-L)}},yT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},n1={maxHeightFunction:lh(),maxWidthFunction:q4()},tv=s=>s==="node",vz=(s,a,u,f,p)=>{const b=bT(s),w=f.lastElement().exists(k=>rs(u,k));return((k,E)=>{const R=k.selection.getRng(),L=Ie(rn(R.startContainer),R.startOffset);return R.startContainer===R.endContainer&&R.startOffset===R.endOffset-1&&rs(L.element,E)})(s,u)?w?RS:ts:w?((k,E,R)=>{const L=$r(k,"position");co(k,"position",E);const N=t6(b,ai(a),-20)&&!f.isReposition()?E4:RS;return L.each(z=>co(k,"position",z)),N})(a,f.getMode()):(f.getMode()==="fixed"?p.y+Ys().top:p.y)+(Dr(a)+12)<=b.y?ts:gg},o6=(s,a,u,f)=>{const p=w=>(k,E,R,L,N)=>({...vz(s,L,w,u,N)({...k,y:N.y,height:N.height},E,R,L,N),alwaysFit:!0}),b=w=>tv(f)?[p(w)]:[];return a?{onLtr:w=>[qr,Pr,Mr,ni,Ps,Er].concat(b(w)),onRtl:w=>[qr,Mr,Pr,Ps,ni,Er].concat(b(w))}:{onLtr:w=>[Er,qr,ni,Pr,Ps,Mr].concat(b(w)),onRtl:w=>[Er,qr,Ps,Mr,ni,Pr].concat(b(w))}},KS=(s,a)=>{const u=Fn(a,b=>b.predicate(s.dom)),{pass:f,fail:p}=no(u,b=>b.type==="contexttoolbar");return{contextToolbars:f,contextForms:p}},GS=(s,a)=>{const u={},f=[],p=[],b={},w={},k=wn(s);return Mt(k,E=>{const R=s[E];R.type==="contextform"?((L,N)=>{const z=Ba(Cr("ContextForm",FF,N));u[L]=z,z.launch.map(q=>{b["form:"+L]={...N.launch,type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(z)}}}),z.scope==="editor"?p.push(z):f.push(z),w[L]=z})(E,R):R.type==="contexttoolbar"&&((L,N)=>{var z;(z=N,Cr("ContextToolbar",FR,z)).each(q=>{N.scope==="editor"?p.push(q):f.push(q),w[L]=q})})(E,R)}),{forms:u,inNodeScope:f,inEditorScope:p,lookupTable:w,formNavigators:b}},s6=bn("forward-slide"),fy=bn("backward-slide"),o1=bn("change-slide-event"),xT="tox-pop--resizing",wT="tox-pop--transition",bz=(s,a,u,f)=>{const p=f.backstage,b=p.shared,w=ra().deviceType.isTouch,k=ks(),E=ks(),R=ks(),L=ji((ke=>{const ze=Bn([]);return hr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:ot=>{ze.set([]),hr.getContent(ot).each(Et=>{ws(Et.element,"visibility")}),Nr(ot.element,xT),ws(ot.element,"width")},inlineBehaviours:Zt([Co("context-toolbar-events",[Tf(Nv(),(ot,Et)=>{Et.event.raw.propertyName==="width"&&(Nr(ot.element,xT),ws(ot.element,"width"))}),St(o1,(ot,Et)=>{const _t=ot.element;ws(_t,"width");const wt=Oi(_t);hr.setContent(ot,Et.event.contents),kr(_t,xT);const Ht=Oi(_t);co(_t,"width",wt+"px"),hr.getContent(ot).each(mn=>{Et.event.focus.bind(kn=>(za(kn),Yr(_t))).orThunk(()=>(Nn.focusIn(mn),du(ut(_t))))}),setTimeout(()=>{co(ot.element,"width",Ht+"px")},0)}),St(s6,(ot,Et)=>{hr.getContent(ot).each(_t=>{ze.set(ze.get().concat([{bar:_t,focus:du(ut(ot.element))}]))}),Rn(ot,o1,{contents:Et.event.forwardContents,focus:D.none()})}),St(fy,(ot,Et)=>{vt(ze.get()).each(_t=>{ze.set(ze.get().slice(0,ze.get().length-1)),Rn(ot,o1,{contents:nl(_t.bar),focus:_t.focus})})})]),Nn.config({mode:"special",onEscape:ot=>vt(ze.get()).fold(()=>ke.onEscape(),Et=>(ko(ot,fy),D.some(!0)))})]),lazySink:()=>Bo.value(ke.sink)})})({sink:u,onEscape:()=>(s.focus(),D.some(!0))})),N=()=>{const ke=R.get().getOr("node"),ze=tv(ke)?1:0;return n6(s,b,ke,ze)},z=()=>!(s.removed||w()&&p.isContextMenuOpen()),q=()=>{if(z()){const ke=N(),ze=tr(R.get(),"node")?((ot,Et)=>Et.filter(_t=>un(_t)&&dl(_t)).map(hl).getOrThunk(()=>bT(ot)))(s,k.get()):bT(s);return ke.height<=0||!t6(ze,ke,.01)}return!0},J=()=>{k.clear(),E.clear(),R.clear(),hr.hide(L)},ce=()=>{if(hr.isOpen(L)){const ke=L.element;ws(ke,"display"),q()?co(ke,"display","none"):(E.set(0),hr.reposition(L))}},me=ke=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ke],behaviours:Zt([Nn.config({mode:"acyclic"}),Co("pop-dialog-wrap-events",[nr(ze=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>Nn.focusIn(ze))}),Gu(ze=>{s.shortcuts.remove("ctrl+F9")})])])}),xe=oa(()=>GS(a,ke=>{const ze=de([ke]);Rn(L,s6,{forwardContents:me(ze)})})),de=ke=>{const{buttons:ze}=s.ui.registry.getAll(),ot={...ze,...xe().formNavigators},Et=Ib(s)===ed.scrolling?ed.scrolling:ed.default,_t=Qn(Ye(ke,wt=>wt.type==="contexttoolbar"?((Ht,mn)=>jS(s,{buttons:Ht,toolbar:mn.items,allowToolbarGroups:!1},f.backstage,D.some(["form:"])))(ot,wt):((Ht,mn)=>pz(Ht,mn))(wt,b.providers)));return eT({type:Et,uid:bn("context-toolbar"),initGroups:_t,onEscape:D.none,cyclicKeying:!0,providers:b.providers})},ue=(ke,ze)=>{if(we.cancel(),!z())return;const ot=de(ke),Et=ke[0].position,_t=((Ht,mn)=>{const kn=Ht==="node"?b.anchors.node(mn):b.anchors.cursor(),zn=((ro,Lo,Qs,dr)=>Lo==="line"?{bubble:ic(12,0,yT),layouts:{onLtr:()=>[c0],onRtl:()=>[u0]},overrides:n1}:{bubble:ic(0,12,yT,1/12),layouts:o6(ro,Qs,dr,Lo),overrides:n1})(s,Ht,w(),{lastElement:k.get,isReposition:()=>tr(E.get(),0),getMode:()=>ga.getMode(u)});return Ns(kn,zn)})(Et,ze);R.set(Et),E.set(1);const wt=L.element;ws(wt,"display"),(Ht=>tr(Kt(Ht,k.get(),rs),!0))(ze)||(Nr(wt,wT),ga.reset(u,L)),hr.showWithinBounds(L,me(ot),{anchor:_t,transition:{classes:[wT],mode:"placement"}},()=>D.some(N())),ze.fold(k.clear,k.set),q()&&co(wt,"display","none")};let ve=!1;const we=W3(()=>{!s.hasFocus()||s.removed||ve||(tl(L.element,wT)?we.throttle():((ke,ze)=>{const ot=rn(ze.getBody()),Et=wt=>rs(wt,ot),_t=rn(ze.selection.getNode());return(wt=>!Et(wt)&&!Lr(ot,wt))(_t)?D.none():((wt,Ht,mn)=>{const kn=KS(wt,Ht);if(kn.contextForms.length>0)return D.some({elem:wt,toolbars:[kn.contextForms[0]]});{const zn=KS(wt,mn);if(zn.contextForms.length>0)return D.some({elem:wt,toolbars:[zn.contextForms[0]]});if(kn.contextToolbars.length>0||zn.contextToolbars.length>0){const ro=(Lo=>{if(Lo.length<=1)return Lo;{const Qs=Zn=>pt(Lo,fr=>fr.position===Zn),dr=Zn=>Fn(Lo,fr=>fr.position===Zn),So=Qs("selection"),Xo=Qs("node");if(So||Xo){if(Xo&&So){const Zn=dr("node"),fr=Ye(dr("selection"),Bs=>({...Bs,position:"node"}));return Zn.concat(fr)}return dr(So?"selection":"node")}return dr("line")}})(kn.contextToolbars.concat(zn.contextToolbars));return D.some({elem:wt,toolbars:ro})}return D.none()}})(_t,ke.inNodeScope,ke.inEditorScope).orThunk(()=>((wt,Ht,mn)=>wt(Ht)?D.none():Ug(Ht,kn=>{if(ir(kn)){const{contextToolbars:zn,contextForms:ro}=KS(kn,mn.inNodeScope),Lo=ro.length>0?ro:(Qs=>{if(Qs.length<=1)return Qs;{const dr=So=>Q(Qs,Xo=>Xo.position===So);return dr("selection").orThunk(()=>dr("node")).orThunk(()=>dr("line")).map(So=>So.position).fold(()=>[],So=>Fn(Qs,Xo=>Xo.position===So))}})(zn);return Lo.length>0?D.some({elem:kn,toolbars:Lo}):D.none()}return D.none()},wt))(Et,_t,ke))})(xe(),s).fold(J,ke=>{ue(ke.toolbars,D.some(ke.elem))}))},17);s.on("init",()=>{s.on("remove",J),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ce),s.on("click keyup focus SetContent",we.throttle),s.on(QP,J),s.on("contexttoolbar-show",ke=>{const ze=xe();hn(ze.lookupTable,ke.toolbarKey).each(ot=>{ue([ot],ss(ke.target!==s,ke.target)),hr.getContent(L).each(Nn.focusIn)})}),s.on("focusout",ke=>{o_.setEditorTimeout(s,()=>{Yr(u.element).isNone()&&Yr(L.element).isNone()&&J()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&J()}),s.on("ExecCommand",({command:ke})=>{ke.toLowerCase()==="toggleview"&&J()}),s.on("AfterProgressState",ke=>{ke.state?J():s.hasFocus()&&we.throttle()}),s.on("dragstart",()=>{ve=!0}),s.on("dragend drop",()=>{ve=!1}),s.on("NodeChange",ke=>{Yr(L.element).fold(we.throttle,fe)})})},r6=(s,a)=>{const u=()=>{const f=a.getOptions(s),p=a.getCurrent(s).map(a.hash),b=ks();return Ye(f,w=>({type:"togglemenuitem",text:a.display(w),onSetup:k=>{const E=L=>{L&&(b.on(N=>N.setActive(!1)),b.set(k)),k.setActive(L)};E(tr(p,a.hash(w)));const R=a.watcher(s,w,E);return()=>{b.clear(),R()}},onAction:()=>a.setCurrent(s,w)}))};s.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:f=>f(u()),onSetup:a.onToolbarSetup}),s.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:u,onSetup:a.onMenuSetup})},yz=s=>{r6(s,(a=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Q5,hash:u=>((f,p)=>ZS(f,["fixed","relative","empty"]).map(({value:b,unit:w})=>b+w))(u).getOr(u),display:Ce,watcher:(u,f,p)=>u.formatter.formatChanged("lineheight",p,!1,{value:f}).unbind,getCurrent:u=>D.from(u.queryCommandValue("LineHeight")),setCurrent:(u,f)=>u.execCommand("LineHeight",!1,f),onToolbarSetup:Mi(a),onMenuSetup:Mi(a)}))(s)),(a=>D.from(sA(a)).map(u=>({name:"language",text:"Language",icon:"language",getOptions:te(u),hash:f=>B(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,p,b)=>{var w;return f.formatter.formatChanged("lang",b,!1,{value:p.code,customValue:(w=p.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:f=>{const p=rn(f.selection.getNode());return Wg(p,b=>D.some(b).filter(ir).bind(w=>Zo(w,"lang").map(k=>({code:k,customCode:Zo(w,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,p)=>f.execCommand("Lang",!1,p),onToolbarSetup:f=>{const p=Sc();return f.setActive(a.formatter.match("lang",{},void 0,!0)),p.set(a.formatter.formatChanged("lang",f.setActive,!0)),q0(p.clear,Mi(a)(f))},onMenuSetup:Mi(a)})))(s).each(a=>r6(s,a))},xz=s=>Ub(s,"NodeChange",a=>{a.setEnabled(s.queryCommandState("outdent")&&s.selection.isEditable())}),bw=(s,a)=>u=>{u.setActive(a.get());const f=p=>{a.set(p.state),u.setActive(p.state)};return s.on("PastePlainTextToggle",f),q0(()=>s.off("PastePlainTextToggle",f),Mi(s)(u))},CT=(s,a)=>()=>{s.execCommand("mceToggleFormat",!1,a)},_T=s=>{(a=>{(u=>{Eh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,p)=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Xf(u,f.name),onAction:CT(u,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const p="h"+f,b=`Access+${f}`;u.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+f,onSetup:Xf(u,p),onAction:CT(u,p),shortcut:b})}})(a),(u=>{Eh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.action),shortcut:f.shortcut})}),Eh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{u.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Mi(u),onAction:cc(u,f.action)})})})(a),(u=>{Eh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.action),onSetup:Xf(u,f.name)})})})(a)})(s),(a=>{Eh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onAction:cc(a,u.action)})}),Eh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],u=>{a.ui.registry.addMenuItem(u.name,{text:u.text,icon:u.icon,shortcut:u.shortcut,onSetup:Mi(a),onAction:cc(a,u.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Mi(a),onAction:CT(a,"code")})})(s)},qS=(s,a)=>Ub(s,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",u=>{u.setEnabled(!s.mode.isReadOnly()&&s.undoManager[a]())}),wz=s=>Ub(s,"VisualAid",a=>{a.setActive(s.hasVisual)}),Cz=(s,a)=>{(u=>{Mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:cc(u,f.cmd),onSetup:Xf(u,f.name)})}),u.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Mi(u),onAction:cc(u,"JustifyNone")})})(s),_T(s),((u,f)=>{((p,b)=>{const w=dy(b,aT(p));p.ui.registry.addNestedMenuItem("align",{text:b.shared.providers.translate("Align"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=dy(b,LP(p));p.ui.registry.addNestedMenuItem("fontfamily",{text:b.shared.providers.translate("Fonts"),onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w={type:"advanced",...b.styles},k=dy(b,WP(p,w));p.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Mi(p),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(u,f),((p,b)=>{const w=dy(b,uT(p));p.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f),((p,b)=>{const w=dy(b,$P(p));p.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Mi(p),getSubmenuItems:()=>w.items.validateItems(w.getStyleItems())})})(u,f)})(s,a),(u=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:qS(f,"hasUndo"),onAction:cc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:qS(f,"hasRedo"),onAction:cc(f,"redo")})})(u),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:qS(f,"hasUndo"),onAction:cc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:qS(f,"hasRedo"),onAction:cc(f,"redo"),shortcut:"Meta+Y"})})(u)})(s),(u=>{(k=>{k.addCommand("mceApplyTextcolor",(E,R)=>{((L,N,z)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(N,{value:z}),L.nodeChanged()})})(k,E,R)}),k.addCommand("mceRemoveTextcolor",E=>{((R,L)=>{R.undoManager.transact(()=>{R.focus(),R.formatter.remove(L,{value:null},void 0,!0),R.nodeChanged()})})(k,E)})})(u);const f=fI(u),p=mI(u),b=Bn(f),w=Bn(p);n3(u,"forecolor","forecolor",b),n3(u,"backcolor","hilitecolor",w),X0(u,"forecolor","forecolor","Text color",b),X0(u,"backcolor","hilitecolor","Background color",w)})(s),(u=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:cc(f,"mceToggleVisualAid")})})(u),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wz(f),onAction:cc(f,"mceToggleVisualAid")})})(u)})(s),(u=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xz(f),onAction:cc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Mi(f),onAction:cc(f,"indent")})})(u)})(s),yz(s),(u=>{const f=Bn(X5(u)),p=()=>u.execCommand("mceTogglePlainTextPaste");u.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:bw(u,f)}),u.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:bw(u,f)})})(s)},i6=s=>v(s)?s.split(/[ ,]/):s,a6=s=>a=>a.options.get(s),l6=a6("contextmenu_never_use_native"),_z=a6("contextmenu_avoid_overlap"),ST=s=>{const a=s.ui.registry.getAll().contextMenus,u=s.options.get("contextmenu");return s.options.isSet("contextmenu")?u:Fn(u,f=>Eo(a,f))},yw=(s,a)=>({type:"makeshift",x:s,y:a}),c6=s=>s.type==="longpress"||s.type.indexOf("touch")===0,Sz=(s,a)=>a.type==="contextmenu"||a.type==="longpress"?s.inline?(u=>{if(c6(u)){const f=u.touches[0];return yw(f.pageX,f.pageY)}return yw(u.pageX,u.pageY)})(a):((u,f)=>{const p=B0.DOM.getPos(u);return((b,w,k)=>yw(b.x+w,b.y+k))(f,p.x,p.y)})(s.getContentAreaContainer(),(u=>{if(c6(u)){const f=u.touches[0];return yw(f.clientX,f.clientY)}return yw(u.clientX,u.clientY)})(a)):u6(s),u6=s=>({type:"selection",root:rn(s.selection.getNode())}),d6=(s,a,u)=>{switch(u){case"node":return(f=>({type:"node",node:D.some(rn(f.selection.getNode())),root:rn(f.getBody())}))(s);case"point":return Sz(s,a);case"selection":return u6(s)}},f6=(s,a,u,f,p,b)=>{const w=u(),k=d6(s,a,b);Xb(w,Yf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:D.none()}).map(E=>{a.preventDefault(),hr.showMenuAt(p,{anchor:k},{menu:{markers:Bb("normal")},data:E})})},m6={onLtr:()=>[qr,Pr,Mr,ni,Ps,Er,ts,gg,iw,Jp,dc,uc],onRtl:()=>[qr,Mr,Pr,Ps,ni,Er,ts,gg,dc,uc,iw,Jp]},kz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Ez=(s,a,u,f,p,b)=>{const w=ra(),k=w.os.isiOS(),E=w.os.isMacOS(),R=w.os.isAndroid(),L=w.deviceType.isTouch(),N=()=>{const z=u();((q,J,ce,me,xe,de,ue)=>{const ve=((we,ke,ze)=>{const ot=d6(we,ke,ze);return{bubble:ic(0,ze==="point"?12:0,kz),layouts:m6,overrides:{maxWidthFunction:q4(),maxHeightFunction:lh()},...ot}})(q,J,de);Xb(ce,Yf.CLOSE_ON_EXECUTE,me,{isHorizontalMenu:!0,search:D.none()}).map(we=>{J.preventDefault();const ke=ue?il.HighlightMenuAndItem:il.HighlightNone;hr.showMenuWithinBounds(xe,{anchor:ve},{menu:{markers:Bb("normal"),highlightOnOpen:ke},data:we,type:"horizontal"},()=>D.some(n6(q,me.shared,de==="node"?"node":"selection"))),q.dispatch(QP)})})(s,a,z,f,p,b,!(R||k||E&&L))};if((E||k)&&b!=="node"){const z=()=>{(q=>{const J=q.selection.getRng(),ce=()=>{o_.setEditorTimeout(q,()=>{q.selection.setRng(J)},10),de()};q.once("touchend",ce);const me=ue=>{ue.preventDefault(),ue.stopImmediatePropagation()};q.on("mousedown",me,!0);const xe=()=>de();q.once("longpresscancel",xe);const de=()=>{q.off("touchend",ce),q.off("longpresscancel",xe),q.off("mousedown",me)}})(s),N()};((q,J)=>{const ce=q.selection;if(ce.isCollapsed()||J.touches.length<1)return!1;{const me=J.touches[0],xe=ce.getRng();return Fx(q.getWin(),Ff.domRange(xe)).exists(de=>de.left<=me.clientX&&de.right>=me.clientX&&de.top<=me.clientY&&de.bottom>=me.clientY)}})(s,a)?z():(s.once("selectionchange",z),s.once("touchend",()=>s.off("selectionchange",z)))}else N()},g6=s=>v(s)?s==="|":s.type==="separator",kT={type:"separator"},h6=s=>{const a=u=>({text:u.text,icon:u.icon,enabled:u.enabled,shortcut:u.shortcut});if(v(s))return s;switch(s.type){case"separator":return kT;case"submenu":return{type:"nestedmenuitem",...a(s),getSubmenuItems:()=>{const f=s.getSubmenuItems();return v(f)?f:Ye(f,h6)}};default:const u=s;return{type:"menuitem",...a(u),onAction:Le(u.onAction)}}},ET=(s,a)=>{if(a.length===0)return s;const u=vt(s).filter(f=>!g6(f)).fold(()=>[],f=>[kT]);return s.concat(u).concat(a).concat([kT])},s1=(s,a)=>!(u=>u.type==="longpress"||Eo(u,"touches"))(a)&&(a.button!==2||a.target===s.getBody()&&a.pointerType===""),p6=(s,a)=>s1(s,a)?s.selection.getStart(!0):a.target,Az=(s,a,u)=>{const f=ra().deviceType.isTouch,p=ji(hr.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>s.focus(),onShow:()=>u.setContextMenuState(!0),onHide:()=>u.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Zt([Co("dismissContextMenu",[St(Zg(),(k,E)=>{T.close(k),s.focus()})])])})),b=()=>hr.hide(p),w=k=>{if(l6(s)&&k.preventDefault(),((R,L)=>L.ctrlKey&&!l6(R))(s,k)||(R=>ST(R).length===0)(s))return;const E=((R,L)=>{const N=_z(R),z=s1(R,L)?"selection":"point";if(ul(N)){const q=p6(R,L);return Q0(rn(q),N)?"node":z}return z})(s,k);(f()?Ez:f6)(s,k,()=>{const R=p6(s,k),L=s.ui.registry.getAll(),N=ST(s);return((z,q,J)=>{const ce=_n(q,(me,xe)=>hn(z,xe.toLowerCase()).map(de=>{const ue=de.update(J);if(v(ue)&&ul(wc(ue)))return ET(me,ue.split(" "));if(O(ue)&&ue.length>0){const ve=Ye(ue,h6);return ET(me,ve)}return me}).getOrThunk(()=>me.concat([xe])),[]);return ce.length>0&&g6(ce[ce.length-1])&&ce.pop(),ce})(L.contextMenus,N,R)},u,p,E)};s.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");s.on(k,b),s.on("longpress contextmenu",w)})},AT=jl([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),r1=s=>a=>a.translate(-s.left,-s.top),fc=s=>a=>a.translate(s.left,s.top),Qf=s=>(a,u)=>_n(s,(f,p)=>p(f),qs(a,u)),xw=(s,a,u)=>s.fold(Qf([fc(u),r1(a)]),Qf([r1(a)]),Qf([])),my=(s,a,u)=>s.fold(Qf([fc(u)]),Qf([]),Qf([fc(a)])),v6=(s,a,u)=>s.fold(Qf([]),Qf([r1(u)]),Qf([fc(a),r1(u)])),b6=(s,a,u)=>{const f=s.fold((p,b)=>({position:D.some("absolute"),left:D.some(p+"px"),top:D.some(b+"px")}),(p,b)=>({position:D.some("absolute"),left:D.some(p-u.left+"px"),top:D.some(b-u.top+"px")}),(p,b)=>({position:D.some("fixed"),left:D.some(p+"px"),top:D.some(b+"px")}));return{right:D.none(),bottom:D.none(),...f}},TT=(s,a,u,f)=>{const p=(b,w)=>(k,E)=>{const R=b(a,u,f);return w(k.getOr(R.left),E.getOr(R.top))};return s.fold(p(v6,ww),p(my,Oh),p(xw,i1))},ww=AT.offset,Oh=AT.absolute,i1=AT.fixed,y6=(s,a)=>{const u=Po(s,a);return B(u)?NaN:parseInt(u,10)},x6=(s,a,u,f,p,b)=>{const w=((R,L,N,z)=>((q,J)=>{const ce=q.element,me=y6(ce,J.leftAttr),xe=y6(ce,J.topAttr);return isNaN(me)||isNaN(xe)?D.none():D.some(qs(me,xe))})(R,L).fold(()=>N,q=>i1(q.left+z.left,q.top+z.top)))(s,a,u,f),k=a.mustSnap?C6(s,a,w,p,b):_6(s,a,w,p,b),E=xw(w,p,b);return((R,L,N)=>{const z=R.element;sn(z,L.leftAttr,N.left+"px"),sn(z,L.topAttr,N.top+"px")})(s,a,E),k.fold(()=>({coord:i1(E.left,E.top),extra:D.none()}),R=>({coord:R.output,extra:R.extra}))},w6=(s,a,u,f)=>Vt(s,p=>{const b=p.sensor;return((k,E,R,L,N,z)=>{const q=my(k,N,z),J=my(E,N,z);return Math.abs(q.left-J.left)<=R&&Math.abs(q.top-J.top)<=L})(a,b,p.range.left,p.range.top,u,f)?D.some({output:TT(p.output,a,u,f),extra:p.extra}):D.none()}),C6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return w6(b,u,f,p).orThunk(()=>_n(b,(k,E)=>{const R=E.sensor,L=((N,z,q,J,ce,me)=>{const xe=my(N,ce,me),de=my(z,ce,me),ue=Math.abs(xe.left-de.left),ve=Math.abs(xe.top-de.top);return qs(ue,ve)})(u,R,E.range.left,E.range.top,f,p);return k.deltas.fold(()=>({deltas:D.some(L),snap:D.some(E)}),N=>(L.left+L.top)/2<=(N.left+N.top)/2?{deltas:D.some(L),snap:D.some(E)}:k)},{deltas:D.none(),snap:D.none()}).snap.map(k=>({output:TT(k.output,u,f,p),extra:k.extra})))},_6=(s,a,u,f,p)=>{const b=a.getSnapPoints(s);return w6(b,u,f,p)};var S6=Object.freeze({__proto__:null,snapTo:(s,a,u,f)=>{const p=a.getTarget(s.element);if(a.repositionTarget){const b=ii(s.element),w=Ys(b),k=Of(p),E=((L,N,z)=>({coord:TT(L.output,L.output,N,z),extra:L.extra}))(f,w,k),R=b6(E.coord,0,k);fl(p,R)}}});const OT="data-initial-z-index",k6=(s,a)=>{s.getSystem().addToGui(a),(u=>{_a(u.element).filter(ir).each(f=>{$r(f,"z-index").each(p=>{sn(f,OT,p)}),co(f,"z-index",wr(u.element,"z-index"))})})(a)},Tz=s=>{(a=>{_a(a.element).filter(ir).each(u=>{Zo(u,OT).fold(()=>ws(u,"z-index"),f=>co(u,"z-index",f)),_o(u,OT)})})(s),s.getSystem().removeFromGui(s)},E6=(s,a,u)=>s.getSystem().build(Gd.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:u}));var Oz=Rr("snaps",[Ot("getSnapPoints"),Yo("onSensor"),Ot("leftAttr"),Ot("topAttr"),it("lazyViewport",$i),it("mustSnap",!1)]);const DT=[it("useFixed",Se),Ot("blockerClass"),it("getTarget",Ce),it("onDrag",fe),it("repositionTarget",!0),it("onDrop",fe),Xs("getBounds",$i),Oz],RT=s=>{return(a=$r(s,"left"),u=$r(s,"top"),f=$r(s,"position"),a.isSome()&&u.isSome()&&f.isSome()?D.some(((p,b,w)=>(w==="fixed"?i1:ww)(parseInt(p,10),parseInt(b,10)))(a.getOrDie(),u.getOrDie(),f.getOrDie())):D.none()).getOrThunk(()=>{const p=Pl(s);return Oh(p.left,p.top)});var a,u,f},A6=(s,a)=>({bounds:s.getBounds(),height:Cc(a.element),width:Xa(a.element)}),IT=(s,a,u,f,p)=>{const b=u.update(f,p),w=u.getStartData().getOrThunk(()=>A6(a,s));b.each(k=>{((E,R,L,N)=>{const z=R.getTarget(E.element);if(R.repositionTarget){const q=ii(E.element),J=Ys(q),ce=Of(z),me=RT(z),xe=((ue,ve,we,ke,ze,ot,Et)=>((_t,wt,Ht,mn,kn)=>{const zn=kn.bounds,ro=my(wt,Ht,mn),Lo=Nc(ro.left,zn.x,zn.x+zn.width-kn.width),Qs=Nc(ro.top,zn.y,zn.y+zn.height-kn.height),dr=Oh(Lo,Qs);return wt.fold(()=>{const So=v6(dr,Ht,mn);return ww(So.left,So.top)},te(dr),()=>{const So=xw(dr,Ht,mn);return i1(So.left,So.top)})})(0,ve.fold(()=>{const _t=(wt=we,Ht=ot.left,mn=ot.top,wt.fold((zn,ro)=>ww(zn+Ht,ro+mn),(zn,ro)=>Oh(zn+Ht,ro+mn),(zn,ro)=>i1(zn+Ht,ro+mn)));var wt,Ht,mn;const kn=xw(_t,ke,ze);return i1(kn.left,kn.top)},_t=>{const wt=x6(ue,_t,we,ot,ke,ze);return wt.extra.each(Ht=>{_t.onSensor(ue,Ht)}),wt.coord}),ke,ze,Et))(E,R.snaps,me,J,ce,N,L),de=b6(xe,0,ce);fl(z,de)}R.onDrag(E,z,N)})(s,a,w,k)})},NT=(s,a,u,f)=>{a.each(Tz),u.snaps.each(b=>{((w,k)=>{((E,R)=>{const L=E.element;_o(L,R.leftAttr),_o(L,R.topAttr)})(w,k)})(s,b)});const p=u.getTarget(s.element);f.reset(),u.onDrop(s,p)},PT=s=>(a,u)=>{const f=p=>{u.setStartData(A6(a,p))};return fo([St(Bv(),p=>{u.getStartData().each(()=>f(p))}),...s(a,u,f)])};var Dz=Object.freeze({__proto__:null,getData:s=>D.from(qs(s.x,s.y)),getDelta:(s,a)=>qs(a.left-s.left,a.top-s.top)});const T6=(s,a,u)=>[St(Dt(),(f,p)=>{if(p.event.raw.button!==0)return;p.stop();const b=()=>NT(f,D.some(E),s,a),w=d3(b,200),k={drop:b,delayDrop:w.schedule,forceDrop:b,move:R=>{w.cancel(),IT(f,s,a,Dz,R)}},E=E6(f,s.blockerClass,(R=>fo([St(Dt(),R.forceDrop),St(ao(),R.drop),St(Wn(),(L,N)=>{R.move(N.event)}),St(po(),R.delayDrop)]))(k));u(f),k6(f,E)})],Rz=[...DT,Zs("dragger",{handlers:PT(T6)})];var O6=Object.freeze({__proto__:null,getData:s=>{const a=s.raw.touches;return a.length===1?(u=>{const f=u[0];return D.some(qs(f.clientX,f.clientY))})(a):D.none()},getDelta:(s,a)=>qs(a.left-s.left,a.top-s.top)});const D6=(s,a,u)=>{const f=ks(),p=b=>{NT(b,f.get(),s,a),f.clear()};return[St(W(),(b,w)=>{w.stop();const k=()=>p(b),E={drop:k,delayDrop:fe,forceDrop:k,move:L=>{IT(b,s,a,O6,L)}},R=E6(b,s.blockerClass,(L=>fo([St(W(),L.forceDrop),St(Oe(),L.drop),St($e(),L.drop),St(oe(),(N,z)=>{L.move(z.event)})]))(E));f.set(R),u(b),k6(b,R)}),St(oe(),(b,w)=>{w.stop(),IT(b,s,a,O6,w.event)}),St(Oe(),(b,w)=>{w.stop(),p(b)}),St($e(),p)]},Iz=Rz,R6=[...DT,Zs("dragger",{handlers:PT(D6)})],I6=[...DT,Zs("dragger",{handlers:PT((s,a,u)=>[...T6(s,a,u),...D6(s,a,u)])})];var Nz=Object.freeze({__proto__:null,mouse:Iz,touch:R6,mouseOrTouch:I6}),Pz=Object.freeze({__proto__:null,init:()=>{let s=D.none(),a=D.none();const u=te({});return Ii({readState:u,reset:()=>{s=D.none(),a=D.none()},update:(f,p)=>f.getData(p).bind(b=>((w,k)=>{const E=s.map(R=>w.getDelta(R,k));return s=D.some(k),E})(f,b)),getStartData:()=>a,setStartData:f=>{a=D.some(f)}})}});const a1=wC({branchKey:"mode",branches:Nz,name:"dragging",active:{events:(s,a)=>s.dragger.handlers(s,a)},extra:{snap:s=>({sensor:s.sensor,range:s.range,output:s.output,extra:D.from(s.extra)})},state:Pz,apis:S6}),N6=(s,a,u,f,p,b)=>s.fold(()=>a1.snap({sensor:Oh(u-20,f-20),range:qs(p,b),output:Oh(D.some(u),D.some(f)),extra:{td:a}}),w=>{const k=u-20,E=f-20,R=w.element.dom.getBoundingClientRect();return a1.snap({sensor:Oh(k,E),range:qs(40,40),output:Oh(D.some(u-R.width/2),D.some(f-R.height/2)),extra:{td:a}})}),P6=(s,a,u)=>({getSnapPoints:s,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,p)=>{const b=p.td;((w,k)=>w.exists(E=>rs(E,k)))(a.get(),b)||(a.set(b),u(b))},mustSnap:!0}),M6=s=>Cs(Ua.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Zt([a1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:s}),Kb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),B6=(s,a)=>{const u=Bn([]),f=Bn([]),p=Bn(!1),b=ks(),w=ks(),k=de=>{const ue=hl(de);return N6(N.getOpt(a),de,ue.x,ue.y,ue.width,ue.height)},E=de=>{const ue=hl(de);return N6(z.getOpt(a),de,ue.right,ue.bottom,ue.width,ue.height)},R=P6(()=>Ye(u.get(),de=>k(de)),b,de=>{w.get().each(ue=>{s.dispatch("TableSelectorChange",{start:de,finish:ue})})}),L=P6(()=>Ye(f.get(),de=>E(de)),w,de=>{b.get().each(ue=>{s.dispatch("TableSelectorChange",{start:ue,finish:de})})}),N=M6(R),z=M6(L),q=ji(N.asSpec()),J=ji(z.asSpec()),ce=(de,ue,ve,we)=>{const ke=ve(ue);a1.snapTo(de,ke),((ze,ot,Et,_t)=>{const wt=ot.dom.getBoundingClientRect();ws(ze.element,"display");const Ht=qc(rn(s.getBody())).dom.innerHeight,mn=wt[we]<0,kn=((zn,ro)=>zn[we]>ro)(wt,Ht);(mn||kn)&&co(ze.element,"display","none")})(de,ue)},me=de=>ce(q,de,k,"top"),xe=de=>ce(J,de,E,"bottom");if(ra().deviceType.isTouch()){const de=ue=>Ye(ue,rn);s.on("TableSelectionChange",ue=>{p.get()||($f(a,q),$f(a,J),p.set(!0));const ve=rn(ue.start),we=rn(ue.finish);b.set(ve),w.set(we),D.from(ue.otherCells).each(ke=>{u.set(de(ke.upOrLeftCells)),f.set(de(ke.downOrRightCells)),me(ve),xe(we)})}),s.on("ResizeEditor ResizeWindow ScrollContent",()=>{b.get().each(me),w.get().each(xe)}),s.on("TableSelectionClear",()=>{p.get()&&(sl(q),sl(J),p.set(!1)),b.clear(),w.clear()})}},L6=(s,a,u)=>{var f;const p=(f=a.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Zt([Nn.config({mode:"flow",selector:"div[role=button]"}),so.config({disabled:u.isDisabled}),Pi(),Us.config({}),jn.config({}),Co("elementPathEvents",[nr((b,w)=>{s.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Nn.focusIn(b)),s.on("NodeChange",k=>{const E=(L=>{const N=[];let z=L.length;for(;z-- >0;){const J=L[z];if(J.nodeType===1&&(q=J).nodeName!=="BR"&&!q.getAttribute("data-mce-bogus")&&q.getAttribute("data-mce-type")!=="bookmark"){const ce=aI(s,J);if(ce.isDefaultPrevented()||N.push({name:ce.name,element:J}),ce.isPropagationStopped())break}}var q;return N})(k.parents),R=E.length>0?_n(E,(L,N,z)=>{const q=((J,ce,me)=>Ua.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":me}},components:[Vr(J)],action:xe=>{s.focus(),s.selection.select(ce),s.nodeChanged()},buttonBehaviours:Zt([si.config({...u.tooltips.getConfig({tooltipText:u.translate(["Select the {0} element",ce.nodeName.toLowerCase()]),onShow:(xe,de)=>{((ue,ve)=>{const we=D.from(Po(ue,"id")).getOrThunk(()=>{const ke=bn("aria");return sn(ve,"id",ke),ke});sn(ue,"aria-describedby",we)})(xe.element,de.element)},onHide:xe=>{var de;de=xe.element,_o(de,"aria-describedby")}})}),Da(u.isDisabled),Pi()])}))(N.name,N.element,z);return z===0?L.concat([q]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Vr(` ${p} `)]},q])},[]):[];jn.set(b,R)})})])]),components:[]}};var Dh;(function(s){s[s.None=0]="None",s[s.Both=1]="Both",s[s.Vertical=2]="Vertical"})(Dh||(Dh={}));const YS=(s,a,u)=>{const f=rn(s.getContainer()),p=((b,w,k,E,R)=>{const L={height:vw(E+w.top,L0(b),s_(b))};return k===Dh.Both&&(L.width=vw(R+w.left,f2(b),F0(b))),L})(s,a,u,Dr(f),Oi(f));An(p,(b,w)=>{X(b)&&co(f,w,ev(b))}),(b=>{b.dispatch("ResizeEditor")})(s)},XS=(s,a,u,f)=>{const p=qs(20*u,20*f);return YS(s,p,a),D.some(!0)},F6=(s,a)=>{const u=()=>{const f=[],p=lA(s),b=Y5(s),w=Hc(s)||s.hasPlugin("wordcount");return b&&f.push(L6(s,{},a)),p&&f.push((()=>{const k=P_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Vr(td.translate(["Press {0} for help",k]))]}})()),w&&f.push((()=>{const k=[];return s.hasPlugin("wordcount")&&k.push(((E,R)=>{const L=(N,z,q)=>jn.set(N,[Vr(R.translate(["{0} "+q,z[q]]))]);return Ua.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Zt([Da(R.isDisabled),Pi(),Us.config({}),jn.config({}),lt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Co("wordcount-events",[lu(N=>{const z=lt.getValue(N),q=z.mode==="words"?"characters":"words";lt.setValue(N,{mode:q,count:z.count}),L(N,z.count,q)}),nr(N=>{E.on("wordCountUpdate",z=>{const{mode:q}=lt.getValue(N);lt.setValue(N,{mode:q,count:z.wordCount}),L(N,z.wordCount,q)})})])]),eventOrder:{[pl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,a)),Hc(s)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":s.translate(["Build with {0}","TinyMCE"])},innerHtml:s.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:Zt([to.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(p){const R="tox-statusbar__text-container-3-cols";return w||b?w&&!b?[R,E]:[R,k]:[R,"tox-statusbar__text-container--space-around"]}return[w&&!b?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=u(),p=((b,w)=>{const k=(R=>{const L=ha(R);return L===!1?Dh.None:L==="both"?Dh.Both:Dh.Vertical})(b);if(k===Dh.None)return D.none();const E=k===Dh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some($c("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":w.translate(E),"data-mce-name":"resize-handle"},behaviours:[a1.config({mode:"mouse",repositionTarget:!1,onDrag:(R,L,N)=>YS(b,N,k),blockerClass:"tox-blocker"}),Nn.config({mode:"special",onLeft:()=>XS(b,k,-1,0),onRight:()=>XS(b,k,1,0),onUp:()=>XS(b,k,0,-1),onDown:()=>XS(b,k,0,1)}),Us.config({}),to.config({}),si.config(w.tooltips.getConfig({tooltipText:w.translate("Resize")}))]},w.icons))})(s,a);return f.concat(p.toArray())})()}},V6=(s,a)=>a.get().getOrDie(`UI for ${s} has not been rendered`),Mz=(s,a)=>{const u=s.inline,f=u?hz:yW,p=vh(s)?gV:mV,b=(()=>{const ke=ks(),ze=ks(),ot=ks();return{dialogUi:ke,popupUi:ze,mainUi:ot,getUiMotherships:()=>{const Et=ke.get().map(wt=>wt.mothership),_t=ze.get().map(wt=>wt.mothership);return Et.fold(()=>_t.toArray(),wt=>_t.fold(()=>[wt],Ht=>rs(wt.element,Ht.element)?[wt]:[wt,Ht]))},lazyGetInOuterOrDie:(Et,_t)=>()=>ot.get().bind(wt=>_t(wt.outerContainer)).getOrDie(`Could not find ${Et} element in OuterContainer`)}})(),w=ks(),k=ks(),E=ks(),R=ra().deviceType.isTouch()?["tox-platform-touch"]:[],L=cA(s),N=Ib(s),z=Cs({dom:{tag:"div",classes:["tox-anchorbar"]}}),q=Cs({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),J=()=>b.mainUi.get().map(ke=>ke.outerContainer).bind(Js.getHeader),ce=b.lazyGetInOuterOrDie("anchor bar",z.getOpt),me=b.lazyGetInOuterOrDie("bottom anchor bar",q.getOpt),xe=b.lazyGetInOuterOrDie("toolbar",Js.getToolbar),de=b.lazyGetInOuterOrDie("throbber",Js.getThrobber),ue=((ke,ze,ot,Et)=>{const _t=Bn(!1),wt=(Xo=>{const Zn=Bn(cA(Xo)?"bottom":"top");return{isPositionedAtTop:()=>Zn.get()==="top",getDockingMode:Zn.get,setDockingMode:Zn.set}})(ze),Ht={icons:()=>ze.ui.registry.getAll().icons,menuItems:()=>ze.ui.registry.getAll().menuItems,translate:td.translate,isDisabled:()=>ze.mode.isReadOnly()||!ze.ui.isEnabled(),getOption:ze.options.get,tooltips:R4(ke.dialog)},mn=sP(ze),kn=(Xo=>{const Zn=qi=>()=>Xo.formatter.match(qi),fr=qi=>()=>{const Bi=Xo.formatter.get(qi);return Bi!==void 0?D.some({tag:Bi.length>0&&(Bi[0].inline||Bi[0].block)||"div",styles:Xo.dom.parseStyle(Xo.formatter.getCssText(qi))}):D.none()},Bs=Bn([]),Wa=Bn([]),Za=Bn(!1);return Xo.on("PreInit",qi=>{const Bi=GN(Xo),Rh=D4(Xo,Bi,Zn,fr);Bs.set(Rh)}),Xo.on("addStyleModifications",qi=>{const Bi=D4(Xo,qi.items,Zn,fr);Wa.set(Bi),Za.set(qi.replace)}),{getData:()=>{const qi=Za.get()?[]:Bs.get(),Bi=Wa.get();return qi.concat(Bi)}}})(ze),zn=(Xo=>({colorPicker:Q7(Xo),hasCustomColors:eV(Xo),getColors:tV(Xo),getColorCols:nV(Xo)}))(ze),ro=(Xo=>({isDraggableModal:ZN(Xo)}))(ze),Lo={shared:{providers:Ht,anchors:J7(ze,ot,Et,wt.isPositionedAtTop),header:wt},urlinput:mn,styles:kn,colorinput:zn,dialog:ro,isContextMenuOpen:()=>_t.get(),setContextMenuState:Xo=>_t.set(Xo)},Qs=Xo=>D.none(),dr={...Lo,shared:{...Lo.shared,interpreter:Xo=>zN(Xo,{},dr,Qs),getSink:ke.popup}},So={...Lo,shared:{...Lo.shared,interpreter:Xo=>zN(Xo,{},So,Qs),getSink:ke.dialog}};return{popup:dr,dialog:So}})({popup:()=>Bo.fromOption(b.popupUi.get().map(ke=>ke.sink),"(popup) UI has not been rendered"),dialog:()=>Bo.fromOption(b.dialogUi.get().map(ke=>ke.sink),"UI has not been rendered")},s,ce,me),ve=()=>{const ke=(()=>{const Lo={attributes:{[xl]:L?Fc.BottomToTop:Fc.TopToBottom}},Qs=Js.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ue.popup,onEscape:()=>{s.focus()}}),dr=Js.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ue.popup.shared.getSink,providers:ue.popup.shared.providers,onEscape:()=>{s.focus()},onToolbarToggled:Bi=>{((Rh,by)=>{Rh.dispatch("ToggleToolbarDrawer",{state:by})})(s,Bi)},type:N,lazyToolbar:xe,lazyHeader:()=>J().getOrDie("Could not find header element"),...Lo}),So=Js.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ue.popup.shared.providers,onEscape:()=>{s.focus()},type:N}),Xo=v2(s),Zn=p2(s),fr=h2(s),Bs=J5(s),Wa=Js.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Za=Xo||Zn||fr,qi=Bs?[Wa,Qs]:[Qs];return Js.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Za?[]:["tox-editor-header--empty"]),...Lo},components:Qn([fr?qi:[],Xo?[So]:Zn?[dr]:[],Nb(s)?[]:[z.asSpec()]]),sticky:vh(s),editor:s,sharedBackstage:ue.popup.shared})})(),ze={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Js.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Js.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},ot=Js.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ue.popup}),Et=Js.parts.viewWrapper({backstage:ue.popup}),_t=q5(s)&&!u?D.some(F6(s,ue.popup.shared.providers)):D.none(),wt=Qn([L?[]:[ke],u?[]:[ze],L?[ke]:[]]),Ht=Js.parts.editorContainer({components:Qn([wt,u?[]:[q.asSpec()]])}),mn=h_(s),kn={role:"application",...td.isRtl()?{dir:"rtl"}:{},...mn?{"aria-hidden":"true"}:{}},zn=ji(Js.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(u?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(R),styles:{visibility:"hidden",...mn?{opacity:"0",border:"0"}:{}},attributes:kn},components:[Ht,...u?[]:[Et,..._t.toArray()],ot],behaviours:Zt([Pi(),so.config({disableClass:"tox-tinymce--disabled"}),Nn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ro=j_(zn);return w.set(ro),{mothership:ro,outerContainer:zn}},we=ke=>{const ze=ev((Et=>(wt=>{const Ht=u2(wt),mn=L0(wt),kn=s_(wt);return pw(Ht).map(zn=>vw(zn,mn,kn))})(Et).getOr(u2(Et)))(s)),ot=ev((Et=>pT(Et).getOr(d2(Et)))(s));return s.inline||(Nl("div","width",ot)&&co(ke.element,"width",ot),Nl("div","height",ze)?co(ke.element,"height",ze):co(ke.element,"height","400px")),ze};return{popups:{backstage:ue.popup,getMothership:()=>V6("popups",E)},dialogs:{backstage:ue.dialog,getMothership:()=>V6("dialogs",k)},renderUI:()=>{const ke=ve(),ze=(()=>{const Et=g_(s),_t=rs(vn(),Et)&&wr(Et,"display")==="grid",wt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(R),attributes:{...td.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(J)})])},Ht={dom:{styles:{width:document.body.clientWidth+"px"}},events:fo([St(Sf(),zn=>{co(zn.element,"width",document.body.clientWidth+"px")})])},mn=ji(Ns(wt,_t?Ht:{})),kn=j_(mn);return k.set(kn),{sink:mn,mothership:kn}})(),ot=bh(s)?(()=>{const Et={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(R),attributes:{...td.isRtl()?{dir:"rtl"}:{}}},behaviours:Zt([ga.config({useFixed:()=>p.isDocked(J),getBounds:()=>a.getPopupSinkBounds()})])},_t=ji(Et),wt=j_(_t);return E.set(wt),{sink:_t,mothership:wt}})():(Et=>(E.set(Et.mothership),Et))(ze);return b.dialogUi.set(ze),b.popupUi.set(ot),b.mainUi.set(ke),(Et=>{const{mainUi:_t,popupUi:wt,uiMotherships:Ht}=Et;On(i_(s),(Zn,fr)=>{s.ui.registry.addGroupToolbarButton(fr,Zn)});const{buttons:mn,menuItems:kn,contextToolbars:zn,sidebars:ro,views:Lo}=s.ui.registry.getAll(),Qs=m_(s),dr={menuItems:kn,menus:Rp(s),menubar:ph(s),toolbar:Qs.getOrThunk(()=>z0(s)),allowToolbarGroups:N===ed.floating,buttons:mn,sidebar:ro,views:Lo};var So;So=_t.outerContainer,s.addShortcut("alt+F9","focus menubar",()=>{Js.focusMenubar(So)}),s.addShortcut("alt+F10","focus toolbar",()=>{Js.focusToolbar(So)}),s.addCommand("ToggleToolbarDrawer",(Zn,fr)=>{fr!=null&&fr.skipFocus?Js.toggleToolbarDrawerWithoutFocusing(So):Js.toggleToolbarDrawer(So)}),s.addQueryStateHandler("ToggleToolbarDrawer",()=>Js.isToolbarDrawerToggled(So)),((Zn,fr,Bs)=>{const Wa=(gs,wg)=>{Mt([fr,...Bs],ef=>{ef.broadcastEvent(gs,wg)})},Za=(gs,wg)=>{Mt([fr,...Bs],ef=>{ef.broadcastOn([gs],wg)})},qi=gs=>Za(M(),{target:gs.target}),Bi=Pa(),Rh=Ha(Bi,"touchstart",qi),by=Ha(Bi,"touchmove",gs=>Wa(En(),gs)),nv=Ha(Bi,"touchend",gs=>Wa(iu(),gs)),Ih=Ha(Bi,"mousedown",qi),Iw=Ha(Bi,"mouseup",gs=>{gs.raw.button===0&&Za(U(),{target:gs.target})}),ov=gs=>Za(M(),{target:rn(gs.target)}),yg=gs=>{gs.button===0&&Za(U(),{target:rn(gs.target)})},c1=()=>{Mt(Zn.editorManager.get(),gs=>{Zn!==gs&&gs.dispatch("DismissPopups",{relatedTarget:Zn})})},u1=gs=>Wa(Bv(),zd(gs)),yy=gs=>{Za(H(),{}),Wa(Sf(),zd(gs))},ik=ut(rn(Zn.getElement())),Nw=Px(ik,"scroll",gs=>{requestAnimationFrame(()=>{if(Zn.getContainer()!=null){const wg=Ip(Zn,fr.element).map(ef=>[ef.element,...ef.others]).getOr([]);pt(wg,ef=>rs(ef,gs.target))&&(Zn.dispatch("ElementScroll",{target:gs.target.dom}),Wa(ip(),gs))}})}),sv=()=>Za(H(),{}),xg=gs=>{gs.state&&Za(M(),{target:rn(Zn.getContainer())})},Nh=gs=>{Za(M(),{target:rn(gs.relatedTarget.getContainer())})},Pw=gs=>Zn.dispatch("focusin",gs),Mw=gs=>Zn.dispatch("focusout",gs);Zn.on("PostRender",()=>{Zn.on("click",ov),Zn.on("tap",ov),Zn.on("mouseup",yg),Zn.on("mousedown",c1),Zn.on("ScrollWindow",u1),Zn.on("ResizeWindow",yy),Zn.on("ResizeEditor",sv),Zn.on("AfterProgressState",xg),Zn.on("DismissPopups",Nh),Mt([fr,...Bs],gs=>{gs.element.dom.addEventListener("focusin",Pw),gs.element.dom.addEventListener("focusout",Mw)})}),Zn.on("remove",()=>{Zn.off("click",ov),Zn.off("tap",ov),Zn.off("mouseup",yg),Zn.off("mousedown",c1),Zn.off("ScrollWindow",u1),Zn.off("ResizeWindow",yy),Zn.off("ResizeEditor",sv),Zn.off("AfterProgressState",xg),Zn.off("DismissPopups",Nh),Mt([fr,...Bs],gs=>{gs.element.dom.removeEventListener("focusin",Pw),gs.element.dom.removeEventListener("focusout",Mw)}),Ih.unbind(),Rh.unbind(),by.unbind(),nv.unbind(),Iw.unbind(),Nw.unbind()}),Zn.on("detach",()=>{Mt([fr,...Bs],yE),Mt([fr,...Bs],gs=>gs.destroy())})})(s,_t.mothership,Ht),p.setup(s,ue.popup.shared,J),Cz(s,ue.popup),Az(s,ue.popup.shared.getSink,ue.popup),(Zn=>{const{sidebars:fr}=Zn.ui.registry.getAll();Mt(wn(fr),Bs=>{const Wa=fr[Bs],Za=()=>tr(D.from(Zn.queryCommandValue("ToggleSidebar")),Bs);Zn.ui.registry.addToggleButton(Bs,{icon:Wa.icon,tooltip:Wa.tooltip,onAction:qi=>{Zn.execCommand("ToggleSidebar",!1,Bs),qi.setActive(Za())},onSetup:qi=>{qi.setActive(Za());const Bi=()=>qi.setActive(Za());return Zn.on("ToggleSidebar",Bi),()=>{Zn.off("ToggleSidebar",Bi)}}})})})(s),gP(s,de,ue.popup.shared),bz(s,zn,wt.sink,{backstage:ue.popup}),B6(s,wt.sink);const Xo={targetNode:s.getElement(),height:we(_t.outerContainer)};return f.render(s,Et,dr,ue.popup,Xo)})({popupUi:ot,dialogUi:ze,mainUi:ke,uiMotherships:b.getUiMotherships()})}}},Bz=te([Ot("lazySink"),jo("dragBlockClass"),Xs("getBounds",$i),it("useTabstopAt",Me),it("firstTabstop",0),it("eventOrder",{}),yn("modalBehaviours",[Nn]),vl("onExecute"),Aa("onEscape")]),MT={sketch:Ce},BT=te([hu({name:"draghandle",overrides:(s,a)=>({behaviours:Zt([a1.config({mode:"mouse",getTarget:u=>$m(u,'[role="dialog"]').getOr(u),blockerClass:s.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:s.getDragBounds})])})}),wl({schema:[Ot("dom")],name:"title"}),wl({factory:MT,schema:[Ot("dom")],name:"close"}),wl({factory:MT,schema:[Ot("dom")],name:"body"}),hu({factory:MT,schema:[Ot("dom")],name:"footer"}),Wd({factory:{sketch:(s,a)=>({...s,dom:a.dom,components:a.components})},schema:[it("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),it("components",[])],name:"blocker"})]),Br=Ll({name:"ModalDialog",configFields:Bz(),partFields:BT(),factory:(s,a,u,f)=>{const p=ks(),b=bn("modal-events"),w={...s.eventOrder,[ua()]:[b].concat(s.eventOrder["alloy.system.attached"]||[])},k=ra();return{uid:s.uid,dom:s.dom,components:a,apis:{show:E=>{p.set(E);const R=s.lazySink(E).getOrDie(),L=f.blocker(),N=R.getSystem().build({...L,components:L.components.concat([nl(E)]),behaviours:Zt([to.config({}),Co("dialog-blocker-events",[Tf(bs(),()=>{dd.isBlocked(E)||Nn.focusIn(E)})])])});$f(R,N),Nn.focusIn(E)},hide:E=>{p.clear(),_a(E.element).each(R=>{E.getSystem().getByDom(R).each(L=>{sl(L)})})},getBody:E=>gh(E,s,"body"),getFooter:E=>Ks(E,s,"footer"),setIdle:E=>{dd.unblock(E)},setBusy:(E,R)=>{dd.block(E,R)}},eventOrder:w,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:yo(s.modalBehaviours,[jn.config({}),Nn.config({mode:"cyclic",onEnter:s.onExecute,onEscape:s.onEscape,useTabstopAt:s.useTabstopAt,firstTabstop:s.firstTabstop}),dd.config({getRoot:p.get}),Co(b,[nr(E=>{const R=gh(E,s,"title").element,L=(N=>N.dom.textContent)(R);k.os.isMacOS()&&Z(L)?sn(E.element,"aria-label",L):((N,z)=>{const q=Zo(N,"id").fold(()=>{const J=bn("dialog-label");return sn(z,"id",J),J},Ce);sn(N,"aria-labelledby",q)})(E.element,R)})])])}},apis:{show:(s,a)=>{s.show(a)},hide:(s,a)=>{s.hide(a)},getBody:(s,a)=>s.getBody(a),getFooter:(s,a)=>s.getFooter(a),setBusy:(s,a,u)=>{s.setBusy(a,u)},setIdle:(s,a)=>{s.setIdle(a)}}}),Lz=Un([bi,kA].concat(Vb)),Cw=nc,LT=[IA("button"),od,Ec("align","end",["start","end"]),T_,sd,$g("buttonType",["primary","secondary"])],JS=[...LT,nd],FT=[Zu("type",["submit","cancel","custom"]),...JS],Fz=[Zu("type",["menu"]),Fp,M2,od,el("items",Lz),...LT],Vz=[...LT,Zu("type",["togglebutton"]),M2,od,Fp,ti("active",!1)],z6=hi("type",{submit:FT,cancel:FT,custom:FT,menu:Fz,togglebutton:Vz}),zz=[bi,nd,Zu("level",["info","warn","error","success"]),TA,it("url","")],VT=Un(zz),zT=[bi,nd,sd,IA("button"),od,bW,$g("buttonType",["primary","secondary","toolbar"]),T_],HT=Un(zT),gy=[bi,kA],Gi=gy.concat([OA]),Hz=gy.concat([EA,sd]),$z=Un(Hz),H6=nc,$6=Gi.concat([PR("auto")]),Uz=Un($6),Wz=$u([Lb,nd,TA]),Zz=Gi.concat([Zl("storageKey","default")]),jz=Un(Zz),Kz=Ci,Gz=Un(Gi),qz=Ci,U6=gy.concat([Zl("tag","textarea"),_r("scriptId"),_r("scriptUrl"),su("onFocus"),Fa("settings",void 0,z1)]),Yz=gy.concat([Zl("tag","textarea"),La("init")]),Xz=xf(s=>Cr("customeditor.old",wi(Yz),s).orThunk(()=>Cr("customeditor.new",wi(U6),s))),Jz=Ci,W6=Un(Gi),$T=Hu(zu),Z6=s=>[bi,sp("columns"),s],j6=[bi,_r("html"),Ec("presets","presentation",["presentation","document"]),Xs("onInit",fe),ti("stretched",!1)],K6=Un(j6),G6=Gi.concat([ti("border",!1),ti("sandboxed",!0),ti("streamContent",!1),ti("transparent",!0)]),UT=Un(G6),Qz=Ci,WT=Un(gy.concat([Fr("height")])),hy=Un([_r("url"),wf("zoom"),wf("cachedWidth"),wf("cachedHeight")]),q6=Gi.concat([Fr("inputMode"),Fr("placeholder"),ti("maximized",!1),sd]),Y6=Un(q6),X6=Ci,e9=s=>[bi,EA,s,Ec("align","start",["start","center","end"]),Fr("for")],t9=[nd,Lb],QS=[nd,el("items",op(0,()=>J6))],J6=Tm([Un(t9),Un(QS)]),n9=Gi.concat([el("items",J6),sd]),Q6=Un(n9),eM=Ci,ZT=Gi.concat([Dm("items",[nd,Lb]),Zr("size",1),sd]),tM=Un(ZT),Yl=Ci,nM=Gi.concat([ti("constrain",!0),sd]),o9=Un(nM),oM=Un([_r("width"),_r("height")]),sM=gy.concat([EA,Zr("min",0),Zr("max",0)]),s9=Un(sM),r9=Rd,i9=[bi,el("header",Ci),el("cells",Hu(Ci))],rM=Un(i9),bg=Gi.concat([Fr("placeholder"),ti("maximized",!1),sd]),jT=Un(bg),iM=Ci,_w=[Zu("type",["directory","leaf"]),AA,_r("id"),Wr("menu",uP)],ek=Un(_w),a9=_w.concat([el("children",op(0,()=>Wu("type",{directory:aM,leaf:ek})))]),aM=Un(a9),l9=Wu("type",{directory:aM,leaf:ek}),c9=[bi,el("items",l9),su("onLeafAction"),su("onToggleExpand"),Os("defaultExpandedIds",[],Ci),Fr("defaultSelectedId")],u9=Un(c9),d9=Gi.concat([Ec("filetype","file",["image","media","file"]),sd,Fr("picker_text")]),f9=Un(d9),lM=Un([Lb,Uc]),KT=s=>li("items","items",{tag:"required",process:{}},Hu(xf(a=>Cr(`Checking item of ${s}`,Qd,a).fold(u=>Bo.error(Qa(u)),u=>Bo.value(u))))),Qd=Am(()=>{return Wu("type",{alertbanner:VT,bar:Un((s=KT("bar"),[bi,s])),button:HT,checkbox:$z,colorinput:jz,colorpicker:Gz,dropzone:W6,grid:Un(Z6(KT("grid"))),iframe:UT,input:Y6,listbox:Q6,selectbox:tM,sizeinput:o9,slider:s9,textarea:jT,urlinput:f9,customeditor:Xz,htmlpanel:K6,imagepreview:WT,collection:Uz,label:Un(e9(KT("label"))),table:rM,tree:u9,panel:cM});var s}),tk=[bi,it("classes",[]),el("items",Qd)],cM=Un(tk),m9=[IA("tab"),AA,el("items",Qd)],uM=[bi,Dm("tabs",m9)],dM=Un(uM),GT=JS,nk=z6,Sw=Un([_r("title"),Wi("body",Wu("type",{panel:cM,tabpanel:dM})),Zl("size","normal"),Os("buttons",[],nk),it("initialData",{}),Xs("onAction",fe),Xs("onChange",fe),Xs("onSubmit",fe),Xs("onClose",fe),Xs("onCancel",fe),Xs("onTabChange",fe)]),kw=Un([Zu("type",["cancel","custom"]),...GT]),fM=Un([_r("title"),_r("url"),wf("height"),wf("width"),H1("buttons",kw),Xs("onAction",fe),Xs("onCancel",fe),Xs("onClose",fe),Xs("onMessage",fe)]),ok=s=>x(s)?[s].concat(tn(Tr(s),ok)):O(s)?tn(s,ok):[],mM=s=>v(s.type)&&v(s.name),gM={checkbox:H6,colorinput:Kz,colorpicker:qz,dropzone:$T,input:X6,iframe:Qz,imagepreview:hy,selectbox:Yl,sizeinput:oM,slider:r9,listbox:eM,size:oM,textarea:iM,urlinput:lM,customeditor:Jz,collection:Wz,togglemenuitem:Cw},g9=s=>{const a=(f=>Fn(ok(f),mM))(s),u=tn(a,f=>(p=>D.from(gM[p.type]))(f).fold(()=>[],p=>[Wi(f.name,p)]));return Un(u)},hM=s=>{var a;return{internalDialog:Ba(Cr("dialog",Sw,s)),dataValidator:g9(s),initialData:(a=s.initialData)!==null&&a!==void 0?a:{}}},l1={open:(s,a)=>{const u=hM(a);return s(u.internalDialog,u.initialData,u.dataValidator)},openUrl:(s,a)=>s(Ba(Cr("dialog",fM,a))),redial:s=>hM(s)};var h9=Object.freeze({__proto__:null,events:(s,a)=>{const u=(f,p)=>{s.updateState.each(b=>{const w=b(f,p);a.set(w)}),s.renderComponents.each(b=>{const w=b(p,a.get());(s.reuseDom?YE:Tb)(f,w)})};return fo([St(oc(),(f,p)=>{const b=p;if(!b.universal){const w=s.channel;et(b.channels,w)&&u(f,b.data)}}),nr((f,p)=>{s.initialData.each(b=>{u(f,b)})})])}}),p9=Object.freeze({__proto__:null,getState:(s,a,u)=>u}),pM=[Ot("channel"),jo("renderComponents"),jo("updateState"),jo("initialData"),ti("reuseDom",!0)];const mc=Ni({fields:pM,name:"reflecting",active:h9,apis:p9,state:Object.freeze({__proto__:null,init:()=>{const s=Bn(D.none());return{readState:()=>s.get().getOr("none"),get:s.get,set:s.set,clear:()=>s.set(D.none())}}})}),vM=s=>{const a=[],u={};return An(s,(f,p)=>{f.fold(()=>{a.push(p)},b=>{u[p]=b})}),a.length>0?Bo.error(a):Bo.value(u)},bM=(s,a,u,f)=>{const p=Cs(jp.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(s.classes)},components:Ye(s.items,k=>OS(w,k,a,u,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ny)}),(b=p,es.config({find:b.getOpt})),H3(p,{postprocess:w=>vM(w).fold(k=>(console.error(k),{}),Ce)}),Co("dialog-body-panel",[St(bs(),(w,k)=>{w.getSystem().broadcastOn([bS],{newFocus:D.some(k.event.target)})})])])};var b},v9=pu({name:"TabButton",configFields:[it("uid",void 0),Ot("value"),li("dom","dom",qo(()=>({attributes:{role:"tab",id:bn("aria"),"aria-selected":"false"}})),Bl()),jo("action"),it("domModification",{}),yn("tabButtonBehaviours",[to,Nn,lt]),Ot("view")],factory:(s,a)=>({uid:s.uid,dom:s.dom,components:s.components,events:M0(s.action),behaviours:yo(s.tabButtonBehaviours,[to.config({}),Nn.config({mode:"execution",useSpace:!0,useEnter:!0}),lt.config({store:{mode:"memory",initialValue:s.value}})]),domModification:s.domModification})}),yM=te([Ot("tabs"),Ot("dom"),it("clickToDismiss",!1),yn("tabbarBehaviours",[_s,Nn]),Jg(["tabClass","selectedClass"])]),Ew=$C({factory:v9,name:"tabs",unit:"tab",overrides:s=>{const a=(f,p)=>{_s.dehighlight(f,p),Rn(f,Ut(),{tabbar:f,button:p})},u=(f,p)=>{_s.highlight(f,p),Rn(f,ap(),{tabbar:f,button:p})};return{action:f=>{const p=f.getSystem().getByUid(s.uid).getOrDie(),b=_s.isHighlighted(p,f);(b&&s.clickToDismiss?a:b?fe:u)(p,f)},domModification:{classes:[s.markers.tabClass]}}}}),b9=te([Ew]),qT=Ll({name:"Tabbar",configFields:yM(),partFields:b9(),factory:(s,a,u,f)=>({uid:s.uid,dom:s.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:yo(s.tabbarBehaviours,[_s.config({highlightClass:s.markers.selectedClass,itemClass:s.markers.tabClass,onHighlight:(p,b)=>{sn(b.element,"aria-selected","true")},onDehighlight:(p,b)=>{sn(b.element,"aria-selected","false")}}),Nn.config({mode:"flow",getInitial:p=>_s.getHighlighted(p).map(b=>b.element),selector:"."+s.markers.tabClass,executeOnMove:!0})])})}),y9=pu({name:"Tabview",configFields:[yn("tabviewBehaviours",[jn])],factory:(s,a)=>({uid:s.uid,dom:s.dom,behaviours:yo(s.tabviewBehaviours,[jn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),x9=te([it("selectFirst",!0),Yo("onChangeTab"),Yo("onDismissTab"),it("tabs",[]),yn("tabSectionBehaviours",[])]),w9=wl({factory:qT,schema:[Ot("dom"),kc("markers",[Ot("tabClass"),Ot("selectedClass")])],name:"tabbar",defaults:s=>({tabs:s.tabs})}),C9=wl({factory:y9,name:"tabview"}),xM=te([w9,C9]),py=Ll({name:"TabSection",configFields:x9(),partFields:xM(),factory:(s,a,u,f)=>{const p=(b,w)=>{Ks(b,s,"tabbar").each(k=>{w(k).each(Af)})};return{uid:s.uid,dom:s.dom,components:a,behaviours:Yn(s.tabSectionBehaviours),events:fo(Qn([s.selectFirst?[nr((b,w)=>{p(b,_s.getFirst)})]:[],[St(ap(),(b,w)=>{(k=>{const E=lt.getValue(k);Ks(k,s,"tabview").each(R=>{Q(s.tabs,L=>L.value===E).each(L=>{const N=L.view();Zo(k.element,"id").each(z=>{sn(R.element,"aria-labelledby",z)}),jn.set(R,N),s.onChangeTab(R,k,N)})})})(w.event.button)}),St(Ut(),(b,w)=>{const k=w.event.button;s.onDismissTab(b,k)})]])),apis:{getViewItems:b=>Ks(b,s,"tabview").map(w=>jn.contents(w)).getOr([]),showTab:(b,w)=>{p(b,k=>{const E=_s.getCandidates(k);return Q(E,R=>lt.getValue(R)===w).filter(R=>!_s.isHighlighted(k,R))})}}}},apis:{getViewItems:(s,a)=>s.getViewItems(a),showTab:(s,a,u)=>{s.showTab(a,u)}}}),YT=(s,a)=>{co(s,"height",a+"px"),co(s,"flex-basis",a+"px")},vy=(s,a,u)=>{$m(s,'[role="dialog"]').each(f=>{ur(f,'[role="tablist"]').each(p=>{u.get().map(b=>(co(a,"height","0"),co(a,"flex-basis","0"),Math.min(b,((w,k,E)=>{const R=qa(w).dom,L=$m(w,".tox-dialog-wrap").getOr(w);let N;N=wr(L,"position")==="fixed"?Math.max(R.clientHeight,window.innerHeight):Math.max(R.offsetHeight,R.scrollHeight);const z=Dr(k),q=k.dom.offsetLeft>=E.dom.offsetLeft+Oi(E)?Math.max(Dr(E),z):z,J=parseInt(wr(w,"margin-top"),10)||0,ce=parseInt(wr(w,"margin-bottom"),10)||0;return N-(Dr(w)+J+ce-q)})(f,a,p)))).each(b=>{YT(a,b)})})})},em=s=>ur(s,'[role="tabpanel"]'),sk="send-data-to-section",XT="send-data-to-view",wM=(s,a,u,f)=>{const p=Bn({}),b=L=>{const N=lt.getValue(L),z=vM(N).getOr({}),q=p.get(),J=Ns(q,z);p.set(J)},w=L=>{const N=p.get();lt.setValue(L,N)},k=Bn(null),E=Ye(s.tabs,L=>({value:L.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Vr(u.shared.providers.translate(L.title))],view:()=>[jp.sketch(N=>({dom:{tag:"div",classes:["tox-form"]},components:Ye(L.items,z=>OS(N,z,a,u,f)),formBehaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ny)}),Co("TabView.form.events",[nr(w),Gu(b)]),yl.config({channels:Id([{key:sk,value:{onReceive:b}},{key:XT,value:{onReceive:w}}])})])}))]})),R=(L=>{const N=ks();return{extraEvents:[nr(q=>{const J=q.element;em(J).each(ce=>{co(ce,"visibility","hidden"),q.getSystem().getByDom(ce).toOptional().each(me=>{const xe=((ue,ve,we)=>Ye(ue,(ke,ze)=>{jn.set(we,ue[ze].view());const ot=ve.dom.getBoundingClientRect();return jn.set(we,[]),ot.height}))(L,ce,me);(ue=>zt(he(ue,(ve,we)=>ve>we?-1:ve<we?1:0)))(xe).fold(N.clear,N.set)}),vy(J,ce,N),ws(ce,"visibility"),((me,xe)=>{zt(me).each(de=>py.showTab(xe,de.value))})(L,q),requestAnimationFrame(()=>{vy(J,ce,N)})})}),St(Sf(),q=>{const J=q.element;em(J).each(ce=>{vy(J,ce,N)})}),St(G_,(q,J)=>{const ce=q.element;em(ce).each(me=>{const xe=du(ut(me));co(me,"visibility","hidden");const de=$r(me,"height").map(ve=>parseInt(ve,10));ws(me,"height"),ws(me,"flex-basis");const ue=me.dom.getBoundingClientRect().height;de.forall(ve=>ue>ve)?(N.set(ue),vy(ce,me,N)):de.each(ve=>{YT(me,ve)}),ws(me,"visibility"),xe.each(za)})})],selectFirst:!1}})(E);return py.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(L,N,z)=>{const q=lt.getValue(N);Rn(L,PI,{name:q,oldName:k.get()}),k.set(q)},tabs:E,components:[py.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qT.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Zt([Us.config({})])}),py.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:R.selectFirst,tabSectionBehaviours:Zt([Co("tabpanel",R.extraEvents),Nn.config({mode:"acyclic"}),es.config({find:L=>zt(py.getViewItems(L))}),Yb(D.none(),L=>(L.getSystem().broadcastOn([sk],{}),p.get()),(L,N)=>{p.set(N),L.getSystem().broadcastOn([XT],{})})])})},rk=(s,a,u,f,p,b)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...u.map(w=>({id:w})).getOr({}),...p?{"aria-live":"polite"}:{}}},components:[],behaviours:Zt([V3(0),mc.config({channel:`${uN}-${a}`,updateState:(w,k)=>D.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:w=>{const k=w.body;return k.type==="tabpanel"?[wM(k,w.initialData,f,b)]:[bM(k,w.initialData,f,b)]},initialData:s})])}),CM=Kf.deviceType.isTouch(),Aw=(s,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[s,a]}),JT=(s,a)=>Br.parts.close(Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:s,buttonBehaviours:Zt([Us.config({})])})),QT=()=>Br.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),_M=(s,a)=>Br.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:og(`<p>${fR(a.translate(s))}</p>`)}]}]}),SM=s=>Br.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:s}),kM=(s,a)=>[Gd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:s}),Gd.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],eO=s=>{const a="tox-dialog",u=a+"-wrap",f=u+"__backdrop",p=a+"__disable-scroll";return Br.sketch({lazySink:s.lazySink,onEscape:b=>(s.onEscape(b),D.some(!0)),useTabstopAt:b=>!ny(b),firstTabstop:s.firstTabstop,dom:{tag:"div",classes:[a].concat(s.extraClasses),styles:{position:"relative",...s.extraStyles}},components:[s.header,s.body,...s.footer.toArray()],parts:{blocker:{dom:og(`<div class="${u}"></div>`),components:[{dom:{tag:"div",classes:CM?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:u,modalBehaviours:Zt([to.config({}),Co("dialog-events",s.dialogEvents.concat([Tf(bs(),(b,w)=>{dd.isBlocked(b)||Nn.focusIn(b)}),St(U1(),(b,w)=>{b.getSystem().broadcastOn([bS],{newFocus:w.event.newFocus})})])),Co("scroll-lock",[nr(()=>{kr(vn(),p)}),Gu(()=>{Nr(vn(),p)})]),...s.extraBehaviours]),eventOrder:{[pl()]:["dialog-events"],[ua()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Tc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...s.eventOrder}})},EM=s=>Ua.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Zt([Us.config({}),si.config(s.tooltips.getConfig({tooltipText:s.translate("Close")}))]),components:[$c("close",{tag:"span",classes:["tox-icon"]},s.icons)],action:a=>{ko(a,_h)}}),tO=(s,a,u,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...u.map(p=>({id:p})).getOr({})}},components:[],behaviours:Zt([mc.config({channel:`${q3}-${a}`,initialData:s,renderComponents:p=>[Vr(f.translate(p.title))]})])}),nO=()=>({dom:og('<div class="tox-dialog__draghandle"></div>')}),AM=(s,a,u)=>((f,p,b)=>{const w=Br.parts.title(tO(f,p,D.none(),b)),k=Br.parts.draghandle(nO()),E=Br.parts.close(EM(b)),R=[w].concat(f.draggable?[k]:[]).concat([E]);return Gd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:R})})({title:u.shared.providers.translate(s),draggable:u.dialog.isDraggableModal()},a,u.shared.providers),TM=(s,a,u,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(s)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:og('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),OM=(s,a,u)=>({onClose:()=>u.closeWindow(),onBlock:f=>{const p=ur(s().element,".tox-dialog__header").map(b=>Dr(b));Br.setBusy(s(),(b,w)=>TM(f.message,w,a,p))},onUnblock:()=>{Br.setIdle(s())}}),Tw="tox-dialog--fullscreen",oO="tox-dialog--width-lg",sO="tox-dialog--width-md",Ow=s=>{switch(s){case"large":return D.some(oO);case"medium":return D.some(sO);default:return D.none()}},rO=(s,a)=>{const u=rn(a.element.dom);tl(u,Tw)||(rc(u,[oO,sO]),Ow(s).each(f=>kr(u,f)))},DM=(s,a)=>{const u=rn(s.element.dom),f=Md(u),p=Q(f,b=>b===oO||b===sO).or(Ow(a));((b,w)=>{Mt(w,k=>{((E,R)=>{Kg(E)?E.dom.classList.toggle(R):((L,N)=>et(Fv(L),N)?rx(L,N):j1(L,N))(E,R),Vv(E)})(b,k)})})(u,[Tw,...p.toArray()])},RM=(s,a,u)=>ji(eO({...s,firstTabstop:1,lazySink:u.shared.getSink,extraBehaviours:[ew({}),...s.extraBehaviours],onEscape:f=>{ko(f,_h)},dialogEvents:a,eventOrder:{[oc()]:[mc.name(),yl.name()],[ua()]:["scroll-lock",mc.name(),"messages","dialog-events","alloy.base.behaviour"],[Tc()]:["alloy.base.behaviour","dialog-events","messages",mc.name(),"scroll-lock"]}})),Dw=(s,a={})=>Ye(s,u=>u.type==="menu"?(f=>{const p=Ye(f.items,b=>{const w=hn(a,b.name).getOr(Bn(!1));return{...b,storage:w}});return{...f,items:p}})(u):u),IM=s=>_n(s,(a,u)=>u.type==="menu"?_n(u.items,(f,p)=>(f[p.name]=p.storage,f),a):a,{}),iO=(s,a)=>[jg(bs(),I7),s(Up,(u,f,p,b)=>{du(ut(b.element)).fold(fe,tb),a.onClose(),f.onClose()}),s(_h,(u,f,p,b)=>{f.onCancel(u),ko(b,Up)}),St(h3,(u,f)=>a.onUnblock()),St(g3,(u,f)=>a.onBlock(f.event))],NM=(s,a,u)=>{const f=(b,w)=>St(b,(k,E)=>{p(k,(R,L)=>{w(s(),R,E.event,k)})}),p=(b,w)=>{mc.getState(b).get().each(k=>{w(k.internalDialog,b)})};return[...iO(f,a),f(q2,(b,w)=>w.onSubmit(b)),f(al,(b,w,k)=>{w.onChange(b,{name:k.name})}),f(Jf,(b,w,k,E)=>{const R=()=>E.getSystem().isConnected()?Nn.focusIn(E):void 0,L=q=>Or(q,"disabled")||Zo(q,"aria-disabled").exists(J=>J==="true"),N=ut(E.element),z=du(N);w.onAction(b,{name:k.name,value:k.value}),du(N).fold(R,q=>{L(q)||z.exists(J=>Lr(q,J)&&L(J))?R():u().toOptional().filter(J=>!Lr(J.element,q)).each(R)})}),f(PI,(b,w,k)=>{w.onTabChange(b,{newTabName:k.name,oldTabName:k.oldName})}),Gu(b=>{const w=s();lt.setValue(b,w.getData())})]},_9=(s,a)=>{const u=a.map(b=>b.footerButtons).getOr([]),f=no(u,b=>b.align==="start"),p=(b,w)=>Gd.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:Ye(w,k=>k.memento.asSpec())});return[p("start",f.pass),p("end",f.fail)]},PM=(s,a,u)=>({dom:og('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Zt([mc.config({channel:`${dN}-${a}`,initialData:s,updateState:(f,p)=>{const b=Ye(p.buttons,w=>{const k=Cs(((E,R)=>ry(E,E.type,R))(w,u));return{name:w.name,align:w.align,memento:k}});return D.some({lookupByName:w=>((k,E,R)=>Q(E,L=>L.name===R).bind(L=>L.memento.getOpt(k)))(f,b,w),footerButtons:b})},renderComponents:_9})])}),aO=(s,a,u)=>Br.parts.footer(PM(s,a,u)),Rw=(s,a)=>{if(s.getRoot().getSystem().isConnected()){const u=es.getCurrent(s.getFormWrapper()).getOr(s.getFormWrapper());return jp.getField(u,a).orThunk(()=>s.getFooter().bind(p=>mc.getState(p).get()).bind(p=>p.lookupByName(a)))}return D.none()},MM=(s,a,u)=>{const f=b=>{const w=s.getRoot();w.getSystem().isConnected()&&b(w)},p={getData:()=>{const b=s.getRoot(),w=b.getSystem().isConnected()?s.getFormWrapper():b;return{...lt.getValue(w),...On(u,k=>k.get())}},setData:b=>{f(w=>{const k=p.getData(),E=Ns(k,b),R=((N,z)=>{const q=N.getRoot();return mc.getState(q).get().map(J=>Ba(Cr("data",J.dataValidator,z))).getOr(z)})(s,E),L=s.getFormWrapper();lt.setValue(L,R),An(u,(N,z)=>{Eo(E,z)&&N.set(E[z])})})},setEnabled:(b,w)=>{Rw(s,b).each(w?so.enable:so.disable)},focus:b=>{Rw(s,b).each(to.focus)},block:b=>{if(!v(b))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(w=>{Rn(w,g3,{message:b})})},unblock:()=>{f(b=>{ko(b,h3)})},showTab:b=>{f(w=>{const k=s.getBody();mc.getState(k).get().exists(E=>E.isTabPanel())&&es.getCurrent(k).each(E=>{py.showTab(E,b)})})},redial:b=>{f(w=>{const k=s.getId(),E=a(b),R=Dw(E.internalDialog.buttons,u);w.getSystem().broadcastOn([`${Kp}-${k}`],E),w.getSystem().broadcastOn([`${q3}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${uN}-${k}`],E.internalDialog),w.getSystem().broadcastOn([`${dN}-${k}`],{...E.internalDialog,buttons:R}),p.setData(E.initialData)})},close:()=>{f(b=>{ko(b,Up)})},toggleFullscreen:s.toggleFullscreen};return p},BM=(s,a,u,f=!1,p)=>{const b=bn("dialog"),w=bn("dialog-label"),k=bn("dialog-content"),E=s.internalDialog,R=Bn(E.size),L=Ow(R.get()).toArray(),N=Cs(((we,ke,ze,ot)=>Gd.sketch({dom:og('<div class="tox-dialog__header"></div>'),components:[tO(we,ke,D.some(ze),ot),nO(),EM(ot)],containerBehaviours:Zt([a1.config({mode:"mouse",blockerClass:"blocker",getTarget:Et=>Yu(Et,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},b,w,u.shared.providers)),z=Cs(((we,ke,ze,ot,Et,_t)=>rk(we,ke,D.some(ze),ot,Et,_t))({body:E.body,initialData:E.initialData},b,k,u,f,we=>Rw(ue,we))),q=Dw(E.buttons),J=IM(q),ce=ss(q.length!==0,Cs(((we,ke,ze)=>PM(we,ke,ze))({buttons:q},b,u))),me=NM(()=>ve,{onBlock:we=>{dd.block(de,(ke,ze)=>{const ot=N.getOpt(de).map(Et=>Dr(Et.element));return TM(we.message,ze,u.shared.providers,ot)})},onUnblock:()=>{dd.unblock(de)},onClose:()=>a.closeWindow()},u.shared.getSink),xe=ra().os,de=ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...L],attributes:{role:"dialog",...xe.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":w}}},eventOrder:{[oc()]:[mc.name(),yl.name()],[pl()]:["execute-on-form"],[ua()]:["reflecting","execute-on-form"]},behaviours:Zt([Nn.config({mode:"cyclic",onEscape:we=>(ko(we,Up),D.some(!0)),useTabstopAt:we=>!ny(we)&&(Ga(we)!=="button"||Po(we,"disabled")!=="disabled"),firstTabstop:1}),mc.config({channel:`${Kp}-${b}`,updateState:(we,ke)=>(R.set(ke.internalDialog.size),rO(ke.internalDialog.size,we),p(),D.some(ke)),initialData:s}),to.config({}),Co("execute-on-form",me.concat([Tf(bs(),(we,ke)=>{Nn.focusIn(we)}),St(U1(),(we,ke)=>{we.getSystem().broadcastOn([bS],{newFocus:ke.event.newFocus})})])),dd.config({getRoot:()=>D.some(de)}),jn.config({}),ew({})]),components:[N.asSpec(),z.asSpec(),...ce.map(we=>we.asSpec()).toArray()]}),ue={getId:te(b),getRoot:te(de),getFooter:()=>ce.map(we=>we.get(de)),getBody:()=>z.get(de),getFormWrapper:()=>{const we=z.get(de);return es.getCurrent(we).getOr(we)},toggleFullscreen:()=>{DM(de,R.get())}},ve=MM(ue,a.redial,J);return{dialog:de,instanceApi:ve}};var lO=tinymce.util.Tools.resolve("tinymce.util.URI");const S9=["insertContent","setContent","execCommand","close","block","unblock"],cO=s=>x(s)&&S9.indexOf(s.mceAction)!==-1,k9=(s,a,u,f)=>{const p=bn("dialog"),b=AM(s.title,p,f),w=(xe=>{const de={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[K3(D.none(),{dom:{tag:"iframe",attributes:{src:xe.url}},behaviours:Zt([Us.config({}),to.config({})])})]}],behaviours:Zt([Nn.config({mode:"acyclic",useTabstopAt:We(ny)})])};return Br.parts.body(de)})(s),k=s.buttons.bind(xe=>xe.length===0?D.none():D.some(aO({buttons:xe},p,f))),E=((xe,de)=>{const ue=(we,ke)=>St(we,(ze,ot)=>{ve(ze,(Et,_t)=>{ke(me,Et,ot.event,ze)})}),ve=(we,ke)=>{mc.getState(we).get().each(ze=>{ke(ze,we)})};return[...iO(ue,de),ue(Jf,(we,ke,ze)=>{ke.onAction(we,{name:ze.name})})]})(0,OM(()=>ce,f.shared.providers,a)),R={...s.height.fold(()=>({}),xe=>({height:xe+"px","max-height":xe+"px"})),...s.width.fold(()=>({}),xe=>({width:xe+"px","max-width":xe+"px"}))},L=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[],N=new lO(s.url,{base_uri:new lO(window.location.href)}),z=`${N.protocol}://${N.host}${N.port?":"+N.port:""}`,q=Sc(),J=[mc.config({channel:`${Kp}-${p}`,updateState:(xe,de)=>D.some(de),initialData:s}),Co("messages",[nr(()=>{const xe=Ha(rn(window),"message",de=>{if(N.isSameOrigin(new lO(de.raw.origin))){const ue=de.raw.data;cO(ue)?((ve,we,ke)=>{switch(ke.mceAction){case"insertContent":ve.insertContent(ke.content);break;case"setContent":ve.setContent(ke.content);break;case"execCommand":const ze=!!P(ke.ui)&&ke.ui;ve.execCommand(ke.cmd,ze,ke.value);break;case"close":we.close();break;case"block":we.block(ke.message);break;case"unblock":we.unblock()}})(u,me,ue):(ve=>!cO(ve)&&x(ve)&&Eo(ve,"mceAction"))(ue)&&s.onMessage(me,ue)}});q.set(xe)}),Gu(q.clear)]),yl.config({channels:{[Y3]:{onReceive:(xe,de)=>{ur(xe.element,"iframe").each(ue=>{const ve=ue.dom.contentWindow;Z(ve)&&ve.postMessage(de,z)})}}}})],ce=RM({id:p,header:b,body:w,footer:k,extraClasses:L,extraBehaviours:J,extraStyles:R},E,f),me=(xe=>{const de=ue=>{xe.getSystem().isConnected()&&ue(xe)};return{block:ue=>{if(!v(ue))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");de(ve=>{Rn(ve,g3,{message:ue})})},unblock:()=>{de(ue=>{ko(ue,h3)})},close:()=>{de(ue=>{ko(ue,Up)})},sendMessage:ue=>{de(ve=>{ve.getSystem().broadcastOn([Y3],ue)})}}})(ce);return{dialog:ce,instanceApi:me}},uO=(s,a)=>Ba(Cr("data",a,s)),LM=s=>Q0(s,".tox-alert-dialog")||Q0(s,".tox-confirm-dialog"),E9=(s,a,u)=>a&&u?[]:[cr.config({contextual:{lazyContext:()=>D.some(ai(rn(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Ip(s,f.element).map(p=>({bounds:Np(p),optScrollEnv:D.some({currentScrollTop:p.element.dom.scrollTop,scrollElmTop:Pl(p.element).top})})).getOrThunk(()=>({bounds:$i(),optScrollEnv:D.none()}))})],A9=s=>{const a=s.editor,u=vh(a),f=(E=>{const R=E.shared;return{open:(L,N)=>{const z=()=>{Br.hide(me),N()},q=Cs(ry({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",E)),J=QT(),ce=JT(z,R.providers),me=ji(eO({lazySink:()=>R.getSink(),header:Aw(J,ce),body:_M(L,R.providers),footer:D.some(SM(kM([],[q.asSpec()]))),onEscape:z,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,z)],eventOrder:{}}));Br.show(me);const xe=q.get(me);to.focus(xe)}}})(s.backstages.dialog),p=(E=>{const R=E.shared;return{open:(L,N)=>{const z=ue=>{Br.hide(xe),N(ue)},q=Cs(ry({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",E)),J=ry({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",E),ce=QT(),me=JT(()=>z(!1),R.providers),xe=ji(eO({lazySink:()=>R.getSink(),header:Aw(ce,me),body:_M(L,R.providers),footer:D.some(SM(kM([],[J,q.asSpec()]))),onEscape:()=>z(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(_h,()=>z(!1)),St(q2,()=>z(!0))],eventOrder:{}}));Br.show(xe);const de=q.get(xe);to.focus(de)}}})(s.backstages.dialog),b=(E,R)=>l1.open((L,N,z)=>{const q=N,J=((ce,me,xe)=>{const de=bn("dialog"),ue=ce.internalDialog,ve=AM(ue.title,de,xe),we=Bn(ue.size),ke=Ow(we.get()).toArray(),ze=((ro,Lo,Qs,dr)=>{const So=rk(ro,Lo,D.none(),Qs,!1,dr);return Br.parts.body(So)})({body:ue.body,initialData:ue.initialData},de,xe,ro=>Rw(kn,ro)),ot=Dw(ue.buttons),Et=IM(ot),_t=ss(ot.length!==0,aO({buttons:ot},de,xe)),wt=NM(()=>zn,OM(()=>mn,xe.shared.providers,me),xe.shared.getSink),Ht={id:de,header:ve,body:ze,footer:_t,extraClasses:ke,extraBehaviours:[mc.config({channel:`${Kp}-${de}`,updateState:(ro,Lo)=>(we.set(Lo.internalDialog.size),rO(Lo.internalDialog.size,ro),D.some(Lo)),initialData:ce})],extraStyles:{}},mn=RM(Ht,wt,xe),kn={getId:te(de),getRoot:te(mn),getBody:()=>Br.getBody(mn),getFooter:()=>Br.getFooter(mn),getFormWrapper:()=>{const ro=Br.getBody(mn);return es.getCurrent(ro).getOr(ro)},toggleFullscreen:()=>{DM(mn,we.get())}},zn=MM(kn,me.redial,Et);return{dialog:mn,instanceApi:zn}})({dataValidator:z,initialData:q,internalDialog:L},{redial:l1.redial,closeWindow:()=>{Br.hide(J.dialog),R(J.instanceApi)}},s.backstages.dialog);return Br.show(J.dialog),J.instanceApi.setData(q),J.instanceApi},E),w=(E,R,L,N)=>l1.open((z,q,J)=>{const ce=uO(q,J),me=ks(),xe=s.backstages.popup.shared.header.isPositionedAtTop(),de=()=>me.on(we=>{hr.reposition(we),u&&xe||cr.refresh(we)}),ue=BM({dataValidator:J,initialData:ce,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(hr.hide),a.off("ResizeEditor",de),me.clear(),L(ue.instanceApi)}},s.backstages.popup,N.ariaAttrs,de),ve=ji(hr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...xe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(we,ke)=>{ko(ue.dialog,_h)})]),...E9(a,u,xe)]),isExtraPart:(we,ke)=>LM(ke)}));return me.set(ve),hr.showWithinBounds(ve,nl(ue.dialog),{anchor:R},()=>{const we=a.inline?vn():rn(a.getContainer()),ke=ai(we);return D.some(ke)}),u&&xe||(cr.refresh(ve),a.on("ResizeEditor",de)),ue.instanceApi.setData(ce),Nn.focusIn(ue.dialog),ue.instanceApi},E),k=(E,R,L,N)=>l1.open((z,q,J)=>{const ce=uO(q,J),me=ks(),xe=s.backstages.popup.shared.header.isPositionedAtTop(),de=()=>me.on(we=>{hr.reposition(we),cr.refresh(we)}),ue=BM({dataValidator:J,initialData:ce,internalDialog:z},{redial:l1.redial,closeWindow:()=>{me.on(hr.hide),a.off("ResizeEditor ScrollWindow ElementScroll",de),me.clear(),L(ue.instanceApi)}},s.backstages.popup,N.ariaAttrs,de),ve=ji(hr.sketch({lazySink:s.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:N.persistent?{event:"doNotDismissYet"}:{},...xe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Zt([Co("window-manager-inline-events",[St(Zg(),(we,ke)=>{ko(ue.dialog,_h)})]),cr.config({contextual:{lazyContext:()=>D.some(ai(rn(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:we=>Ip(a,we.element).map(ke=>({bounds:Np(ke),optScrollEnv:D.some({currentScrollTop:ke.element.dom.scrollTop,scrollElmTop:Pl(ke.element).top})})).getOrThunk(()=>({bounds:$i(),optScrollEnv:D.none()}))})]),isExtraPart:(we,ke)=>LM(ke)}));return me.set(ve),hr.showWithinBounds(ve,nl(ue.dialog),{anchor:R},()=>s.backstages.popup.shared.getSink().toOptional().bind(we=>{const ke=Ip(a,we.element).map(Et=>Np(Et)).getOr($i()),ze=ai(rn(a.getContentAreaContainer())),ot=Td(ze,ke);return D.some(Do(ot.x,ot.y,ot.width,ot.height-15))})),cr.refresh(ve),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",de),ue.instanceApi.setData(ce),Nn.focusIn(ue.dialog),ue.instanceApi},E);return{open:(E,R,L)=>{if(!B(R)){if(R.inline==="toolbar")return w(E,s.backstages.popup.shared.anchors.inlineDialog(),L,R);if(R.inline==="bottom")return k(E,s.backstages.popup.shared.anchors.inlineBottomDialog(),L,R);if(R.inline==="cursor")return w(E,s.backstages.popup.shared.anchors.cursor(),L,R)}return b(E,L)},openUrl:(E,R)=>((L,N)=>l1.openUrl(z=>{const q=k9(z,{closeWindow:()=>{Br.hide(q.dialog),N(q.instanceApi)}},a,s.backstages.dialog);return Br.show(q.dialog),q.instanceApi},L))(E,R),alert:(E,R)=>{f.open(E,R)},close:E=>{E.close()},confirm:(E,R)=>{p.open(E,R)}}};tp.add("silver",s=>{(k=>{U5(k),(E=>{const R=E.options.register,L=z=>ae(z,v)?{value:KF(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},N=z=>X(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};R("color_map",{processor:L,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),R("color_map_background",{processor:L}),R("color_map_foreground",{processor:L}),R("color_cols",{processor:N,default:z_(E)}),R("color_cols_foreground",{processor:N,default:dI(E,KA)}),R("color_cols_background",{processor:N,default:dI(E,GA)}),R("custom_colors",{processor:"boolean",default:!0}),R("color_default_foreground",{processor:"string",default:$2}),R("color_default_background",{processor:"string",default:$2})})(k),(E=>{const R=E.options.register;R("contextmenu_avoid_overlap",{processor:"string",default:""}),R("contextmenu_never_use_native",{processor:"boolean",default:!1}),R("contextmenu",{processor:L=>L===!1?{value:[],valid:!0}:v(L)||ae(L,v)?{value:i6(L),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(s);let a=()=>$i();const{dialogs:u,popups:f,renderUI:p}=Mz(s,{getPopupSinkBounds:()=>a()});DI(s,f.backstage.shared);const b=A9({editor:s,backstages:{popup:f.backstage,dialog:u.backstage}}),w=ks();return{renderUI:()=>{const k=p();return Ip(s,f.getMothership().element).each(E=>{a=()=>Np(E)}),k},getWindowManagerImpl:te(b),getNotificationManagerImpl:()=>pR(s,{backstage:f.backstage},f.getMothership(),w)}})})();(function(){var n=tinymce.util.Tools.resolve("tinymce.ModelManager");const r=y=>_=>(T=>{const M=typeof T;return T===null?"null":M==="object"&&Array.isArray(T)?"array":M==="object"&&(H=U=T,(ne=String).prototype.isPrototypeOf(H)||((se=U.constructor)===null||se===void 0?void 0:se.name)===ne.name)?"string":M;var H,U,ne,se})(_)===y,l=y=>_=>typeof _===y,d=y=>_=>y===_,g=r("string"),v=r("object"),x=r("array"),S=d(null),O=l("boolean"),V=d(void 0),P=y=>!(_=>_==null)(y),B=l("function"),$=l("number"),Z=()=>{},K=y=>()=>y,X=y=>y,ae=(y,_)=>y===_;function fe(y,..._){return(...T)=>{const M=_.concat(T);return y.apply(null,M)}}const Le=y=>_=>!y(_),Re=y=>y(),te=K(!1),Ce=K(!0);class ie{constructor(_,T){this.tag=_,this.value=T}static some(_){return new ie(!0,_)}static none(){return ie.singletonNone}fold(_,T){return this.tag?T(this.value):_()}isSome(){return this.tag}isNone(){return!this.tag}map(_){return this.tag?ie.some(_(this.value)):ie.none()}bind(_){return this.tag?_(this.value):ie.none()}exists(_){return this.tag&&_(this.value)}forall(_){return!this.tag||_(this.value)}filter(_){return!this.tag||_(this.value)?this:ie.none()}getOr(_){return this.tag?this.value:_}or(_){return this.tag?this:_}getOrThunk(_){return this.tag?this.value:_()}orThunk(_){return this.tag?this:_()}getOrDie(_){if(this.tag)return this.value;throw new Error(_??"Called getOrDie on None")}static from(_){return P(_)?ie.some(_):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(_){this.tag&&_(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const Ue=Array.prototype.slice,We=Array.prototype.indexOf,qe=Array.prototype.push,st=(y,_)=>{return T=y,M=_,We.call(T,M)>-1;var T,M},Se=(y,_)=>{for(let T=0,M=y.length;T<M;T++)if(_(y[T],T))return!0;return!1},Me=(y,_)=>{const T=[];for(let M=0;M<y;M++)T.push(_(M));return T},D=(y,_)=>{const T=y.length,M=new Array(T);for(let H=0;H<T;H++){const U=y[H];M[H]=_(U,H)}return M},Ke=(y,_)=>{for(let T=0,M=y.length;T<M;T++)_(y[T],T)},ct=(y,_)=>{const T=[],M=[];for(let H=0,U=y.length;H<U;H++){const ne=y[H];(_(ne,H)?T:M).push(ne)}return{pass:T,fail:M}},$t=(y,_)=>{const T=[];for(let M=0,H=y.length;M<H;M++){const U=y[M];_(U,M)&&T.push(U)}return T},Jt=(y,_,T)=>(((M,H)=>{for(let U=M.length-1;U>=0;U--)H(M[U],U)})(y,(M,H)=>{T=_(T,M,H)}),T),et=(y,_,T)=>(Ke(y,(M,H)=>{T=_(T,M,H)}),T),pt=(y,_)=>((T,M,H)=>{for(let U=0,ne=T.length;U<ne;U++){const se=T[U];if(M(se,U))return ie.some(se);if(H(se,U))break}return ie.none()})(y,_,te),Lt=(y,_)=>{for(let T=0,M=y.length;T<M;T++)if(_(y[T],T))return ie.some(T);return ie.none()},tt=y=>{const _=[];for(let T=0,M=y.length;T<M;++T){if(!x(y[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+y);qe.apply(_,y[T])}return _},Ye=(y,_)=>tt(D(y,_)),Mt=(y,_)=>{for(let T=0,M=y.length;T<M;++T)if(_(y[T],T)!==!0)return!1;return!0},no=(y,_)=>{const T={};for(let M=0,H=y.length;M<H;M++){const U=y[M];T[String(U)]=_(U,M)}return T},Fn=(y,_)=>_>=0&&_<y.length?ie.some(y[_]):ie.none(),fn=y=>Fn(y,0),_n=y=>Fn(y,y.length-1),Q=(y,_)=>{for(let T=0;T<y.length;T++){const M=_(y[T],T);if(M.isSome())return M}return ie.none()},xs=Object.keys,Qn=Object.hasOwnProperty,tn=(y,_)=>{const T=xs(y);for(let M=0,H=T.length;M<H;M++){const U=T[M];_(y[U],U)}},To=(y,_)=>je(y,(T,M)=>({k:M,v:_(T,M)})),je=(y,_)=>{const T={};return tn(y,(M,H)=>{const U=_(M,H);T[U.k]=U.v}),T},re=(y,_)=>{const T=[];return tn(y,(M,H)=>{T.push(_(M,H))}),T},be=y=>re(y,X),Pe=(y,_)=>Qn.call(y,_),he=typeof window<"u"?window:Function("return this;")(),gt=(y,_)=>((T,M)=>{let H=M??he;for(let U=0;U<T.length&&H!=null;++U)H=H[T[U]];return H})(y.split("."),_),zt=Object.getPrototypeOf,vt=y=>{const _=gt("ownerDocument.defaultView",y);return v(y)&&((T=>((M,H)=>{const U=((ne,se)=>gt(ne,se))(M,H);if(U==null)throw new Error(M+" not available on this browser");return U})("HTMLElement",T))(_).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(zt(y).constructor.name))},Ft=y=>y.dom.nodeName.toLowerCase(),Vt=y=>y.dom.nodeType,wn=y=>_=>Vt(_)===y,cn=y=>Vt(y)===8||Ft(y)==="#comment",An=y=>On(y)&&vt(y.dom),On=wn(1),wo=wn(3),Oo=wn(9),Ho=wn(11),cs=y=>_=>On(_)&&Ft(_)===y,rr=(y,_,T)=>{if(!(g(T)||O(T)||$(T)))throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",T,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(_,T+"")},fs=(y,_,T)=>{rr(y.dom,_,T)},Tr=(y,_)=>{const T=y.dom;tn(_,(M,H)=>{rr(T,H,M)})},hn=(y,_)=>{const T=y.dom.getAttribute(_);return T===null?void 0:T},Eo=(y,_)=>ie.from(hn(y,_)),vo=(y,_)=>{y.dom.removeAttribute(_)},tr=y=>et(y.dom.attributes,(_,T)=>(_[T.name]=T.value,_),{}),ea=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Kt={fromHtml:(y,_)=>{const T=(_||document).createElement("div");if(T.innerHTML=y,!T.hasChildNodes()||T.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,y),new Error(M)}return ea(T.childNodes[0])},fromTag:(y,_)=>{const T=(_||document).createElement(y);return ea(T)},fromText:(y,_)=>{const T=(_||document).createTextNode(y);return ea(T)},fromDom:ea,fromPoint:(y,_,T)=>ie.from(y.dom.elementFromPoint(_,T)).map(ea)},gi=(y,_)=>{const T=y.dom;if(T.nodeType!==1)return!1;{const M=T;if(M.matches!==void 0)return M.matches(_);if(M.msMatchesSelector!==void 0)return M.msMatchesSelector(_);if(M.webkitMatchesSelector!==void 0)return M.webkitMatchesSelector(_);if(M.mozMatchesSelector!==void 0)return M.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")}},ss=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,Ul=(y,_)=>{const T=_===void 0?document:_.dom;return ss(T)?ie.none():ie.from(T.querySelector(y)).map(Kt.fromDom)},zs=(y,_)=>y.dom===_.dom,ei=(y,_)=>{const T=y.dom,M=_.dom;return T!==M&&T.contains(M)},bm=gi,Iu=y=>Kt.fromDom(y.dom.ownerDocument),wc=y=>Oo(y)?y:Iu(y),ul=y=>ie.from(y.dom.parentNode).map(Kt.fromDom),Nu=y=>ie.from(y.dom.parentElement).map(Kt.fromDom),Ts=(y,_)=>{const T=B(_)?_:te;let M=y.dom;const H=[];for(;M.parentNode!==null&&M.parentNode!==void 0;){const U=M.parentNode,ne=Kt.fromDom(U);if(H.push(ne),T(ne)===!0)break;M=U}return H},io=y=>ie.from(y.dom.previousSibling).map(Kt.fromDom),Wl=y=>ie.from(y.dom.nextSibling).map(Kt.fromDom),Ti=y=>D(y.dom.childNodes,Kt.fromDom),Pu=(y,_)=>{const T=y.dom.childNodes;return ie.from(T[_]).map(Kt.fromDom)},rn=(y,_)=>{ul(y).each(T=>{T.dom.insertBefore(_.dom,y.dom)})},Mu=(y,_)=>{Wl(y).fold(()=>{ul(y).each(T=>{mr(T,_)})},T=>{rn(T,_)})},ym=(y,_)=>{(M=>Pu(M,0))(y).fold(()=>{mr(y,_)},M=>{y.dom.insertBefore(_.dom,M.dom)})},mr=(y,_)=>{y.dom.appendChild(_.dom)},xm=(y,_)=>{rn(y,_),mr(_,y)},Ga=(y,_)=>{Ke(_,(T,M)=>{const H=M===0?y:_[M-1];Mu(H,T)})},Dl=(y,_)=>{Ke(_,T=>{mr(y,T)})},dl=y=>{y.dom.textContent="",Ke(Ti(y),_=>{ir(_)})},ir=y=>{const _=y.dom;_.parentNode!==null&&_.parentNode.removeChild(_)},Ca=y=>{const _=Ti(y);_.length>0&&Ga(y,_),ir(y)},Rl=(y,_)=>Kt.fromDom(y.dom.cloneNode(_)),wm=y=>Rl(y,!1),Kc=y=>Rl(y,!0),Gc=(y,_)=>{const T=Kt.fromTag(_),M=tr(y);return Tr(T,M),T},uf=["tfoot","thead","tbody","colgroup"],_d=(y,_,T)=>({element:y,rowspan:_,colspan:T}),rs=(y,_,T)=>({element:y,cells:_,section:T}),Lr=(y,_,T)=>({element:y,isNew:_,isLocked:T}),ii=(y,_,T,M)=>({element:y,cells:_,section:T,isNew:M}),Cm=y=>Kt.fromDom(y.dom.host),qa=y=>{const _=wo(y)?y.dom.parentNode:y.dom;if(_==null||_.ownerDocument===null)return!1;const T=_.ownerDocument;return(U=>{const ne=(ye=>Kt.fromDom(ye.dom.getRootNode()))(U);return Ho(se=ne)&&P(se.dom.host)?ie.some(ne):ie.none();var se})(Kt.fromDom(_)).fold(()=>T.body.contains(_),(M=qa,H=Cm,U=>M(H(U))));var M,H},qc=y=>{const _=y.dom.body;if(_==null)throw new Error("Body is not available yet");return Kt.fromDom(_)},_a=(y,_)=>{let T=[];return Ke(Ti(y),M=>{_(M)&&(T=T.concat([M])),T=T.concat(_a(M,_))}),T},Sa=(y,_,T)=>((M,H,U)=>$t(Ts(M,U),ne=>gi(ne,_)))(y,0,T),Yc=(y,_)=>((T,M)=>$t(Ti(T),H=>gi(H,_)))(y),Is=(y,_)=>((T,M)=>{const H=M===void 0?document:M.dom;return ss(H)?[]:D(H.querySelectorAll(T),Kt.fromDom)})(_,y);var ar=(y,_,T,M,H)=>y(T,M)?ie.some(T):B(H)&&H(T)?ie.none():_(T,M,H);const Ee=(y,_,T)=>{let M=y.dom;const H=B(T)?T:te;for(;M.parentNode;){M=M.parentNode;const U=Kt.fromDom(M);if(_(U))return ie.some(U);if(H(U))break}return ie.none()},nt=(y,_,T)=>ar((M,H)=>H(M),Ee,y,_,T),Ie=(y,_,T)=>Ee(y,M=>gi(M,_),T),mt=(y,_)=>((T,M)=>pt(T.dom.childNodes,H=>{return U=Kt.fromDom(H),gi(U,_);var U}).map(Kt.fromDom))(y),ut=(y,_)=>Ul(_,y),Je=(y,_,T)=>ar((M,H)=>gi(M,H),Ie,y,_,T),Wt=(y,_,T=ae)=>y.exists(M=>T(M,_)),nn=y=>{const _=[],T=M=>{_.push(M)};for(let M=0;M<y.length;M++)y[M].each(T);return _},un=(y,_)=>y?ie.some(_):ie.none(),vn=(y,_,T)=>_===""||y.length>=_.length&&y.substr(T,T+_.length)===_,an=(y,_,T=0,M)=>{const H=y.indexOf(_,T);return H!==-1&&(!!V(M)||H+_.length<=M)},ho=(y,_)=>vn(y,_,0),sn=(y,_)=>vn(y,_,y.length-_.length),Ss=(y=>_=>_.replace(y,""))(/^\s+|\s+$/g),Po=y=>y.length>0,Zo=y=>y.style!==void 0&&B(y.style.getPropertyValue),Or=(y,_,T)=>{if(!g(T))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",T,":: Element ",y),new Error("CSS value must be a string: "+T);Zo(y)&&y.style.setProperty(_,T)},_o=(y,_,T)=>{const M=y.dom;Or(M,_,T)},Il=(y,_)=>{const T=y.dom;tn(_,(M,H)=>{Or(T,H,M)})},ta=(y,_)=>{const T=y.dom,M=window.getComputedStyle(T).getPropertyValue(_);return M!==""||qa(y)?M:co(T,_)},co=(y,_)=>Zo(y)?y.style.getPropertyValue(_):"",Ya=(y,_)=>{const T=y.dom,M=co(T,_);return ie.from(M).filter(H=>H.length>0)},fl=(y,_)=>{((T,M)=>{Zo(T)&&T.style.removeProperty(M)})(y.dom,_),Wt(Eo(y,"style").map(Ss),"")&&vo(y,"style")},wr=(y,_,T=0)=>Eo(y,_).map(M=>parseInt(M,10)).getOr(T),Sd=(y,_)=>wr(y,_,1),$r=y=>cs("col")(y)?wr(y,"span",1)>1:Sd(y,"colspan")>1,df=(y,_)=>parseInt(ta(y,_),10),Nl=K(10),ws=K(10),Bu=(y,_)=>_m(y,_,Ce),_m=(y,_,T)=>Ye(Ti(y),M=>gi(M,_)?T(M)?[M]:[]:_m(M,_,T)),Jh=(y,_)=>((T,M,H=te)=>H(M)?ie.none():st(T,Ft(M))?ie.some(M):Ie(M,T.join(","),U=>gi(U,"table")||H(U)))(["td","th"],y,_),Dr=y=>Bu(y,"th,td"),Cc=y=>gi(y,"colgroup")?Yc(y,"col"):Ye(Sm(y),_=>Yc(_,"col")),ml=(y,_)=>Je(y,"table",_),qs=y=>Bu(y,"tr"),Sm=y=>ml(y).fold(K([]),_=>Yc(_,"colgroup")),Pl=(y,_)=>D(y,T=>{if(Ft(T)==="colgroup"){const M=D(Cc(T),H=>{const U=wr(H,"span",1);return _d(H,1,U)});return rs(T,M,"colgroup")}{const M=D(Dr(T),H=>{const U=wr(H,"rowspan",1),ne=wr(H,"colspan",1);return _d(H,U,ne)});return rs(T,M,_(T))}}),na=y=>ul(y).map(_=>{const T=Ft(_);return(M=>st(uf,M))(T)?T:"tbody"}).getOr("tbody"),Mg=y=>{const _=qs(y),T=[...Sm(y),..._];return Pl(T,na)},Oi=y=>{let _,T=!1;return(...M)=>(T||(T=!0,_=y.apply(null,M)),_)},Xa=()=>oa(0,0),oa=(y,_)=>({major:y,minor:_}),Ml={nu:oa,detect:(y,_)=>{const T=String(_).toLowerCase();return y.length===0?Xa():((M,H)=>{const U=((se,ye)=>{for(let De=0;De<se.length;De++){const Ze=se[De];if(Ze.test(ye))return Ze}})(M,H);if(!U)return{major:0,minor:0};const ne=se=>Number(H.replace(U,"$"+se));return oa(ne(1),ne(2))})(y,T)},unknown:Xa},Qh=(y,_)=>{const T=String(_).toLowerCase();return pt(y,M=>M.search(T))},Mo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xc=y=>_=>an(_,y),kd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>an(y,"edge/")&&an(y,"chrome")&&an(y,"safari")&&an(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mo],search:y=>an(y,"chrome")&&!an(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>an(y,"msie")||an(y,"trident")},{name:"Opera",versionRegexes:[Mo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xc("firefox")},{name:"Safari",versionRegexes:[Mo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(an(y,"safari")||an(y,"mobile/"))&&an(y,"applewebkit")}],Lu=[{name:"Windows",search:Xc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>an(y,"iphone")||an(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Xc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xc("linux"),versionRegexes:[]},{name:"Solaris",search:Xc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Xc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sv={browsers:K(kd),oses:K(Lu)},Xy="Edge",P1="Chromium",M1="Opera",pC="Firefox",ep="Safari",B1=y=>{const _=y.current,T=y.version,M=H=>()=>_===H;return{current:_,version:T,isEdge:M(Xy),isChromium:M(P1),isIE:M("IE"),isOpera:M(M1),isFirefox:M(pC),isSafari:M(ep)}},Xt=()=>B1({current:void 0,version:Ml.unknown()}),ff=B1,mf="Windows",L1="Android",sa="Linux",gf="macOS",Bg="Solaris",Jy="FreeBSD",Qy="ChromeOS",kv=y=>{const _=y.current,T=y.version,M=H=>()=>_===H;return{current:_,version:T,isWindows:M(mf),isiOS:M("iOS"),isAndroid:M(L1),isMacOS:M(gf),isLinux:M(sa),isSolaris:M(Bg),isFreeBSD:M(Jy),isChromeOS:M(Qy)}},ex=()=>kv({current:void 0,version:Ml.unknown()}),F1=kv,tx=y=>window.matchMedia(y).matches;let Lg=Oi(()=>((y,_,T)=>{const M=Sv.browsers(),H=Sv.oses(),U=_.bind(ye=>((De,Ze)=>Q(Ze.brands,Te=>{const Ne=Te.brand.toLowerCase();return pt(De,Fe=>{var rt;return Ne===((rt=Fe.brand)===null||rt===void 0?void 0:rt.toLowerCase())}).map(Fe=>({current:Fe.name,version:Ml.nu(parseInt(Te.version,10),0)}))}))(M,ye)).orThunk(()=>((ye,De)=>Qh(ye,De).map(Ze=>{const Te=Ml.detect(Ze.versionRegexes,De);return{current:Ze.name,version:Te}}))(M,y)).fold(Xt,ff),ne=((ye,De)=>Qh(ye,De).map(Ze=>{const Te=Ml.detect(Ze.versionRegexes,De);return{current:Ze.name,version:Te}}))(H,y).fold(ex,F1),se=((ye,De,Ze,Te)=>{const Ne=ye.isiOS()&&/ipad/i.test(Ze)===!0,Fe=ye.isiOS()&&!Ne,rt=ye.isiOS()||ye.isAndroid(),at=rt||Te("(pointer:coarse)"),Tt=Ne||!Fe&&rt&&Te("(min-device-width:768px)"),Rt=Fe||rt&&!Tt,At=De.isSafari()&&ye.isiOS()&&/safari/i.test(Ze)===!1,Nt=!Rt&&!Tt&&!At;return{isiPad:K(Ne),isiPhone:K(Fe),isTablet:K(Tt),isPhone:K(Rt),isTouch:K(at),isAndroid:ye.isAndroid,isiOS:ye.isiOS,isWebView:K(At),isDesktop:K(Nt)}})(ne,U,y,T);return{browser:U,os:ne,deviceType:se}})(window.navigator.userAgent,ie.from(window.navigator.userAgentData),tx));const V1=()=>Lg(),hf=(y,_)=>{const T=H=>{const U=_(H);if(U<=0||U===null){const ne=ta(H,y);return parseFloat(ne)||0}return U},M=(H,U)=>et(U,(ne,se)=>{const ye=ta(H,se),De=ye===void 0?0:parseInt(ye,10);return isNaN(De)?ne:ne+De},0);return{set:(H,U)=>{if(!$(U)&&!U.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+U);const ne=H.dom;Zo(ne)&&(ne.style[y]=U+"px")},get:T,getOuter:T,aggregate:M,max:(H,U,ne)=>{const se=M(H,ne);return U>se?U-se:0}}},pf=(y,_,T)=>((M,H)=>(U=>{const ne=parseFloat(U);return isNaN(ne)?ie.none():ie.some(ne)})(M).getOr(H))(ta(y,_),T),ra=hf("width",y=>y.dom.offsetWidth),gl=y=>ra.get(y),Fg=y=>ra.getOuter(y),Go=y=>((_,T)=>{const M=_.dom,H=M.getBoundingClientRect().width||M.offsetWidth;return T==="border-box"?H:((U,ne,se,ye)=>ne-pf(U,`padding-${se}`,0)-pf(U,`padding-${ye}`,0)-pf(U,`border-${se}-width`,0)-pf(U,`border-${ye}-width`,0))(_,H,"left","right")})(y,"content-box"),Ed=(y,_,T)=>{const M=y.cells,H=M.slice(0,_),U=M.slice(_),ne=H.concat(T).concat(U);return Na(y,ne)},Vg=(y,_,T)=>Ed(y,_,[T]),zg=(y,_,T)=>{y.cells[_]=T},Na=(y,_)=>ii(y.element,_,y.section,y.isNew),Ur=(y,_)=>y.cells[_],lr=(y,_)=>Ur(y,_).element,Hi=y=>y.cells.length,Ys=y=>{const _=ct(y,T=>T.section==="colgroup");return{rows:_.fail,cols:_.pass}},vf=(y,_,T)=>{const M=D(y.cells,T);return ii(_(y.element),M,y.section,!0)},km="data-snooker-locked-cols",xi=y=>Eo(y,km).bind(_=>ie.from(_.match(/\d+/g))).map(_=>no(_,Ce)),Pa=y=>{const _=et(Ys(y).rows,(M,H)=>(Ke(H.cells,(U,ne)=>{U.isLocked&&(M[ne]=!0)}),M),{}),T=re(_,(M,H)=>parseInt(H,10));return((M,H)=>{const U=Ue.call(M,0);return U.sort(void 0),U})(T)},ka=(y,_)=>y+","+_,Jc=(y,_)=>{const T=Ye(y.all,M=>M.cells);return $t(T,_)},Ad=y=>{const _={},T=[],M=fn(y).map(Ne=>Ne.element).bind(ml).bind(xi).getOr({});let H=0,U=0,ne=0;const{pass:se,fail:ye}=ct(y,Ne=>Ne.section==="colgroup");Ke(ye,Ne=>{const Fe=[];Ke(Ne.cells,rt=>{let at=0;for(;_[ka(ne,at)]!==void 0;)at++;const Tt=((At,Nt)=>Pe(At,Nt)&&At[Nt]!==void 0&&At[Nt]!==null)(M,at.toString()),Rt=((At,Nt,Gt,Qt,lt,yn)=>({element:At,rowspan:Nt,colspan:Gt,row:Qt,column:lt,isLocked:yn}))(rt.element,rt.rowspan,rt.colspan,ne,at,Tt);for(let At=0;At<rt.colspan;At++)for(let Nt=0;Nt<rt.rowspan;Nt++){const Gt=at+At,Qt=ka(ne+Nt,Gt);_[Qt]=Rt,U=Math.max(U,Gt+1)}Fe.push(Rt)}),H++,T.push(rs(Ne.element,Fe,Ne.section)),ne++});const{columns:De,colgroups:Ze}=_n(se).map(Ne=>{const Fe=(at=>{const Tt={};let Rt=0;return Ke(at.cells,At=>{const Nt=At.colspan;Me(Nt,Gt=>{const Qt=Rt+Gt;Tt[Qt]=((lt,yn,Yn)=>({element:lt,colspan:yn,column:Yn}))(At.element,Nt,Qt)}),Rt+=Nt}),Tt})(Ne);return{colgroups:[((at,Tt)=>({element:at,columns:Tt}))(Ne.element,be(Fe))],columns:Fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Ne,Fe)=>({rows:Ne,columns:Fe}))(H,U),access:_,all:T,columns:De,colgroups:Ze}},Do=y=>{const _=Mg(y);return Ad(_)},ai=Ad,hl=(y,_,T)=>ie.from(y.access[ka(_,T)]),Td=(y,_,T)=>{const M=Jc(y,H=>T(_,H.element));return M.length>0?ie.some(M[0]):ie.none()},$i=Jc,Bn=y=>Ye(y.all,_=>_.cells),_c=y=>be(y.columns),Sc=y=>xs(y.columns).length>0,ks=(y,_)=>ie.from(y.columns[_]),tp=(y,_=Ce)=>{const T=y.grid,M=Me(T.columns,X),H=Me(T.rows,X);return D(M,U=>Ev(()=>Ye(H,ne=>hl(y,ne,U).filter(se=>se.column===U).toArray()),ne=>ne.colspan===1&&_(ne.element),()=>hl(y,0,U)))},Ev=(y,_,T)=>{const M=y();return pt(M,_).orThunk(()=>ie.from(M[0]).orThunk(T)).map(H=>H.element)},Od=y=>{const _=y.grid,T=Me(_.rows,X),M=Me(_.columns,X);return D(T,H=>Ev(()=>Ye(M,U=>hl(y,H,U).filter(ne=>ne.row===H).fold(K([]),ne=>[ne])),U=>U.rowspan===1,()=>hl(y,H,0)))},Bo=(y,_)=>T=>Ma(T)==="rtl"?_:y,Ma=y=>ta(y,"direction")==="rtl"?"rtl":"ltr",np=hf("height",y=>{const _=y.dom;return qa(y)?_.getBoundingClientRect().height:_.offsetHeight}),Dd=y=>np.get(y),Av=y=>np.getOuter(y),Qc=(y,_)=>({left:y,top:_,translate:(T,M)=>Qc(y+T,_+M)}),Ja=Qc,eu=(y,_)=>y!==void 0?y:_!==void 0?_:0,bf=y=>{const _=y.dom.ownerDocument,T=_.body,M=_.defaultView,H=_.documentElement;if(T===y.dom)return Ja(T.offsetLeft,T.offsetTop);const U=eu(M==null?void 0:M.pageYOffset,H.scrollTop),ne=eu(M==null?void 0:M.pageXOffset,H.scrollLeft),se=eu(H.clientTop,T.clientTop),ye=eu(H.clientLeft,T.clientLeft);return Be(y).translate(ne-ye,U-se)},Be=y=>{const _=y.dom,T=_.ownerDocument.body;return T===_?Ja(T.offsetLeft,T.offsetTop):qa(y)?(M=>{const H=M.getBoundingClientRect();return Ja(H.left,H.top)})(_):Ja(0,0)},Em=(y,_)=>({row:y,y:_}),Ns=(y,_)=>({col:y,x:_}),Tv=y=>bf(y).left+Fg(y),Hg=y=>bf(y).left,tu=(y,_)=>Ns(y,Hg(_)),qo=(y,_)=>Ns(y,Tv(_)),ia=y=>bf(y).top,Fu=(y,_)=>Em(y,ia(_)),tc=(y,_)=>Em(y,ia(_)+Av(_)),Vu=(y,_,T)=>{if(T.length===0)return[];const M=D(T.slice(1),(U,ne)=>U.map(se=>y(ne,se))),H=T[T.length-1].map(U=>_(T.length-1,U));return M.concat([H])},zu={delta:X,positions:y=>Vu(Fu,tc,y),edge:ia},aa=Bo({delta:X,edge:Hg,positions:y=>Vu(tu,qo,y)},{delta:y=>-y,edge:Tv,positions:y=>Vu(qo,tu,y)}),yf={delta:(y,_)=>aa(_).delta(y,_),positions:(y,_)=>aa(_).positions(y,_),edge:y=>aa(y).edge(y)},Am={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ov=(()=>{const y="[0-9]+",_="[eE][+-]?"+y,T=H=>`(?:${H})?`,M=["Infinity",y+"\\."+T(y)+T(_),"\\."+y+T(_),y+T(_)].join("|");return new RegExp(`^([+-]?(?:${M}))(.*)$`)})(),wi=/(\d+(\.\d+)?)%/,Un=/(\d+(\.\d+)?)px|em/,Hu=cs("col"),Tm=cs("tr"),la=(y,_,T)=>{const M=Nu(y).getOrThunk(()=>qc(Iu(y)));return _(y)/T(M)*100},$u=(y,_)=>{_o(y,"width",_+"px")},Bl=(y,_)=>{_o(y,"width",_+"%")},Uu=(y,_)=>{_o(y,"height",_+"px")},Rd=y=>{const _=(T=>{return pf(M=T,"height",M.dom.offsetHeight)+"px";var M})(y);return _?((T,M,H,U)=>{const ne=parseFloat(T);return sn(T,"%")&&Ft(M)!=="table"?((se,ye,De,Ze)=>{const Te=ml(se).map(Ne=>{const Fe=De(Ne);return Math.floor(ye/100*Fe)}).getOr(ye);return Ze(se,Te),Te})(M,ne,H,U):ne})(_,y,Dd,Uu):Dd(y)},Ci=(y,_)=>Ya(y,_).orThunk(()=>Eo(y,_).map(T=>T+"px")),nc=y=>Ci(y,"width"),nu=y=>la(y,gl,Go),Om=y=>{return Hu(y)?gl(y):pf(_=y,"width",_.dom.offsetWidth);var _},z1=y=>Tm(y)?Dd(y):((_,T,M)=>M(_)/Sd(_,"rowspan"))(y,0,Rd),Wu=(y,_,T)=>{_o(y,"width",_+T)},xf=y=>la(y,gl,Go)+"%",Dv=K(wi),Cr=cs("col"),Ba=y=>nc(y).getOrThunk(()=>Om(y)+"px"),Ea=y=>{return(_=y,Ci(_,"height")).getOrThunk(()=>z1(y)+"px");var _},Qa=(y,_,T,M,H,U)=>y.filter(M).fold(()=>U(((ne,se)=>{if(se<0||se>=ne.length-1)return ie.none();const ye=ne[se].fold(()=>{const Ze=(Te=>{const Ne=Ue.call(Te,0);return Ne.reverse(),Ne})(ne.slice(0,se));return Q(Ze,(Te,Ne)=>Te.map(Fe=>({value:Fe,delta:Ne+1})))},Ze=>ie.some({value:Ze,delta:0})),De=ne[se+1].fold(()=>{const Ze=ne.slice(se+1);return Q(Ze,(Te,Ne)=>Te.map(Fe=>({value:Fe,delta:Ne+1})))},Ze=>ie.some({value:Ze,delta:1}));return ye.bind(Ze=>De.map(Te=>{const Ne=Te.delta+Ze.delta;return Math.abs(Te.value-Ze.value)/Ne}))})(T,_)),ne=>H(ne)),hi=(y,_,T,M)=>{const H=tp(y),U=Sc(y)?(ye=>D(_c(ye),De=>ie.from(De.element)))(y):H,ne=[ie.some(yf.edge(_))].concat(D(yf.positions(H,_),ye=>ye.map(De=>De.x))),se=Le($r);return D(U,(ye,De)=>Qa(ye,De,ne,se,Ze=>{if((Ne=>{const Fe=V1().browser,rt=Fe.isChromium()||Fe.isFirefox();return!Cr(Ne)||rt})(Ze))return T(Ze);{const Ne=(Te=H[De])!=null?X(Te):ie.none();return Qa(Ne,De,ne,se,Fe=>M(ie.some(gl(Fe))),M)}var Te},M))},op=y=>y.map(_=>_+"px").getOr(""),li=(y,_,T)=>hi(y,_,Om,M=>M.getOrThunk(T.minCellWidth)),Ui=(y,_,T,M)=>{const H=Od(y),U=D(y.all,se=>ie.some(se.element)),ne=[ie.some(zu.edge(_))].concat(D(zu.positions(H,_),se=>se.map(ye=>ye.y)));return D(U,(se,ye)=>Qa(se,ye,ne,Ce,T,M))},ou=(y,_)=>()=>qa(y)?_(y):parseFloat(Ya(y,"width").getOr("0")),Ot=y=>{const _=ou(y,M=>parseFloat(xf(M))),T=ou(y,gl);return{width:_,pixelWidth:T,getWidths:(M,H)=>((U,ne,se)=>hi(U,ne,nu,ye=>ye.fold(()=>se.minCellWidth(),De=>De/se.pixelWidth()*100)))(M,y,H),getCellDelta:M=>M/T()*100,singleColumnWidth:(M,H)=>[100-M],minCellWidth:()=>Nl()/T()*100,setElementWidth:Bl,adjustTableWidth:M=>{const H=_();Bl(y,H+M/100*H)},isRelative:!0,label:"percent"}},Wi=y=>{const _=ou(y,gl);return{width:_,pixelWidth:_,getWidths:(T,M)=>li(T,y,M),getCellDelta:X,singleColumnWidth:(T,M)=>[Math.max(Nl(),T+M)-T],minCellWidth:Nl,setElementWidth:$u,adjustTableWidth:T=>{const M=_()+T;$u(y,M)},isRelative:!1,label:"pixel"}},sp=y=>nc(y).fold(()=>(_=>{const T=ou(_,gl),M=K(0);return{width:T,pixelWidth:T,getWidths:(H,U)=>li(H,_,U),getCellDelta:M,singleColumnWidth:K([0]),minCellWidth:M,setElementWidth:Z,adjustTableWidth:Z,isRelative:!0,label:"none"}})(y),_=>((T,M)=>Dv().exec(M)!==null?Ot(T):Wi(T))(y,_)),_r=Wi,Zu=Ot,La=(y,_,T)=>{const M=y[T].element,H=Kt.fromTag("td");mr(H,Kt.fromTag("br")),(_?mr:ym)(M,H)},kc=((y,_)=>{const T=M=>y(M)?ie.from(M.dom.nodeValue):ie.none();return{get:M=>{if(!y(M))throw new Error("Can only get text value of a text node");return T(M).getOr("")},getOption:T,set:(M,H)=>{if(!y(M))throw new Error("Can only set raw text value of a text node");M.dom.nodeValue=H}}})(wo),Dm=y=>kc.get(y),el=y=>kc.getOption(y),jo=(y,_)=>kc.set(y,_),Wr=y=>Ft(y)==="img"?1:el(y).fold(()=>Ti(y).length,_=>_.length),wf=["img","br"],Fr=y=>el(y).filter(_=>_.trim().length!==0||_.indexOf("")>-1).isSome()||st(wf,Ft(y))||(_=>An(_)&&hn(_,"contenteditable")==="false")(y),$g=y=>((_,T)=>{const M=H=>{for(let U=0;U<H.childNodes.length;U++){const ne=Kt.fromDom(H.childNodes[U]);if(T(ne))return ie.some(ne);const se=M(H.childNodes[U]);if(se.isSome())return se}return ie.none()};return M(_.dom)})(y,Fr),su=y=>H1(y,Fr),H1=(y,_)=>{const T=M=>{const H=Ti(M);for(let U=H.length-1;U>=0;U--){const ne=H[U];if(_(ne))return ie.some(ne);const se=T(ne);if(se.isSome())return se}return ie.none()};return T(y)},Rr={scope:["row","col"]},it=y=>()=>{const _=Kt.fromTag("td",y.dom);return mr(_,Kt.fromTag("br",y.dom)),_},Fa=y=>()=>Kt.fromTag("col",y.dom),Zr=y=>()=>Kt.fromTag("colgroup",y.dom),Zl=y=>()=>Kt.fromTag("tr",y.dom),Ec=(y,_,T)=>{const M=((H,U)=>{const ne=Gc(H,U),se=Ti(Kc(H));return Dl(ne,se),ne})(y,_);return tn(T,(H,U)=>{H===null?vo(M,U):fs(M,U,H)}),M},ti=y=>y,Xs=(y,_,T)=>{const M=(H,U)=>{((ne,se)=>{const ye=ne.dom,De=se.dom;Zo(ye)&&Zo(De)&&(De.style.cssText=ye.style.cssText)})(H.element,U),fl(U,"height"),H.colspan!==1&&fl(U,"width")};return{col:H=>{const U=Kt.fromTag(Ft(H.element),_.dom);return M(H,U),y(H.element,U),U},colgroup:Zr(_),row:Zl(_),cell:H=>{const U=Kt.fromTag(Ft(H.element),_.dom),ne=T.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),se=ne.length>0?((ye,De,Ze)=>$g(ye).map(Te=>{const Ne=Ze.join(","),Fe=Sa(Te,Ne,rt=>zs(rt,ye));return Jt(Fe,(rt,at)=>{const Tt=wm(at);return mr(rt,Tt),Tt},De)}).getOr(De))(H.element,U,ne):U;return mr(se,Kt.fromTag("br")),M(H,U),((ye,De)=>{tn(Rr,(Ze,Te)=>Eo(ye,Te).filter(Ne=>st(Ze,Ne)).each(Ne=>fs(De,Te,Ne)))})(H.element,U),y(H.element,U),U},replace:Ec,colGap:Fa(_),gap:it(_)}},Os=y=>({col:Fa(y),colgroup:Zr(y),row:Zl(y),cell:it(y),replace:ti,colGap:Fa(y),gap:it(y)}),Va=y=>_=>_.options.get(y),jl="100%",ru=y=>{var _;const T=y.dom,M=(_=T.getParent(y.selection.getStart(),T.isBlock))!==null&&_!==void 0?_:y.getBody();return Go(Kt.fromDom(M))+"px"},Id=y=>ie.from(y.options.get("table_clone_elements")),Rm=Va("table_header_type"),Ug=Va("table_column_resizing"),Wg=y=>Ug(y)==="preservetable",Rv=y=>Ug(y)==="resizetable",Iv=Va("table_sizing_mode"),ju=y=>Iv(y)==="relative",I=y=>Iv(y)==="fixed",W=y=>Iv(y)==="responsive",oe=Va("table_resize_bars"),Oe=Va("table_style_by_css"),$e=Va("table_merge_content_on_paste"),Dt=y=>{const _=y.options,T=_.get("table_default_attributes");return _.isSet("table_default_attributes")?T:((M,H)=>W(M)||Oe(M)?H:I(M)?{...H,width:ru(M)}:{...H,width:jl})(y,T)},Wn=Va("table_use_colgroups"),po=y=>Je(y,"[contenteditable]"),ao=(y,_=!1)=>qa(y)?y.dom.isContentEditable:po(y).fold(K(_),T=>Tn(T)==="true"),Tn=y=>y.dom.contentEditable,bs=y=>Kt.fromDom(y.getBody()),jr=y=>_=>zs(_,bs(y)),Sr=y=>{vo(y,"data-mce-style");const _=T=>vo(T,"data-mce-style");Ke(Dr(y),_),Ke(Cc(y),_),Ke(qs(y),_)},Ac=y=>Kt.fromDom(y.selection.getStart()),Im=y=>y.getBoundingClientRect().width,Nm=y=>y.getBoundingClientRect().height,pi=y=>(_,T)=>{const M=_.dom.getStyle(T,y)||_.dom.getAttrib(T,y);return ie.from(M).filter(Po)},vC=pi("width"),Nv=pi("height"),$1=y=>nt(y,cs("table")).exists(ao),ca=(y,_)=>{const T=_.column,M=_.column+_.colspan-1,H=_.row,U=_.row+_.rowspan-1;return T<=y.finishCol&&M>=y.startCol&&H<=y.finishRow&&U>=y.startRow},Ir=(y,_)=>_.column>=y.startCol&&_.column+_.colspan-1<=y.finishCol&&_.row>=y.startRow&&_.row+_.rowspan-1<=y.finishRow,Di=(y,_,T)=>{const M=Td(y,_,zs),H=Td(y,T,zs);return M.bind(U=>H.map(ne=>{return se=U,ye=ne,{startRow:Math.min(se.row,ye.row),startCol:Math.min(se.column,ye.column),finishRow:Math.max(se.row+se.rowspan-1,ye.row+ye.rowspan-1),finishCol:Math.max(se.column+se.colspan-1,ye.column+ye.colspan-1)};var se,ye}))},Ku=(y,_,T)=>Di(y,_,T).map(M=>{const H=$i(y,fe(ca,M));return D(H,U=>U.element)}),rp=(y,_)=>Td(y,_,(T,M)=>ei(M,T)).map(T=>T.element),nx=(y,_,T)=>{const M=pl(y);return Ku(M,_,T)},oc=(y,_,T,M,H)=>{const U=pl(y),ne=zs(y,T)?ie.some(_):rp(U,_),se=zs(y,H)?ie.some(M):rp(U,M);return ne.bind(ye=>se.bind(De=>Ku(U,ye,De)))},pl=Do;var Pv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cf=()=>({up:K({selector:Ie,closest:Je,predicate:Ee,all:Ts}),down:K({selector:Is,predicate:_a}),styles:K({get:ta,getRaw:Ya,set:_o,remove:fl}),attrs:K({get:hn,set:fs,remove:vo,copyTo:(y,_)=>{const T=tr(y);Tr(_,T)}}),insert:K({before:rn,after:Mu,afterAll:Ga,append:mr,appendAll:Dl,prepend:ym,wrap:xm}),remove:K({unwrap:Ca,remove:ir}),create:K({nu:Kt.fromTag,clone:y=>Kt.fromDom(y.dom.cloneNode(!1)),text:Kt.fromText}),query:K({comparePosition:(y,_)=>y.dom.compareDocumentPosition(_.dom),prevSibling:io,nextSibling:Wl}),property:K({children:Ti,name:Ft,parent:ul,document:y=>wc(y).dom,isText:wo,isComment:cn,isElement:On,isSpecial:y=>{const _=Ft(y);return st(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],_)},getLanguage:y=>On(y)?Eo(y,"lang"):ie.none(),getText:Dm,setText:jo,isBoundary:y=>!!On(y)&&(Ft(y)==="body"||st(Pv,Ft(y))),isEmptyTag:y=>!!On(y)&&st(["br","img","hr","input"],Ft(y)),isNonEditable:y=>On(y)&&hn(y,"contenteditable")==="false"}),eq:zs,is:bm});const iE=(y,_,T,M)=>{const H=_(y,T);return Jt(M,(U,ne)=>{const se=_(y,ne);return Mv(y,U,se)},H)},Mv=(y,_,T)=>_.bind(M=>T.filter(fe(y.eq,M))),Nd=Cf(),_f=(y,_)=>((T,M,H)=>H.length>0?((U,ne,se,ye)=>ye(U,ne,se[0],se.slice(1)))(T,M,H,iE):ie.none())(Nd,(T,M)=>y(M),_),En=y=>Ie(y,"table"),iu=(y,_,T)=>{const M=H=>U=>T!==void 0&&T(U)||zs(U,H);return zs(y,_)?ie.some({boxes:ie.some([y]),start:y,finish:_}):En(y).bind(H=>En(_).bind(U=>{if(zs(H,U))return ie.some({boxes:nx(H,y,_),start:y,finish:_});if(ei(H,U)){const ne=Sa(_,"td,th",M(H)),se=ne.length>0?ne[ne.length-1]:_;return ie.some({boxes:oc(H,y,H,_,U),start:y,finish:se})}if(ei(U,H)){const ne=Sa(y,"td,th",M(U)),se=ne.length>0?ne[ne.length-1]:y;return ie.some({boxes:oc(U,y,H,_,U),start:y,finish:se})}return((ne,se,ye)=>((De,Ze,Te,Ne=te)=>{const Fe=[Ze].concat(De.up().all(Ze)),rt=[Te].concat(De.up().all(Te)),at=Nt=>Lt(Nt,Ne).fold(()=>Nt,Gt=>Nt.slice(0,Gt+1)),Tt=at(Fe),Rt=at(rt),At=pt(Tt,Nt=>Se(Rt,((Gt,Qt)=>fe(Gt.eq,Qt))(De,Nt)));return{firstpath:Tt,secondpath:Rt,shared:At}})(Nd,ne,se,void 0))(y,_).shared.bind(ne=>Je(ne,"table",T).bind(se=>{const ye=Sa(_,"td,th",M(se)),De=ye.length>0?ye[ye.length-1]:_,Ze=Sa(y,"td,th",M(se)),Te=Ze.length>0?Ze[Ze.length-1]:y;return ie.some({boxes:oc(se,y,H,_,U),start:Te,finish:De})}))}))},Bv=(y,_)=>{const T=Is(y,_);return T.length>0?ie.some(T):ie.none()},Sf=(y,_,T)=>ut(y,_).bind(M=>ut(y,T).bind(H=>_f(En,[M,H]).map(U=>({first:M,last:H,table:U})))),ua=(y,_,T,M,H)=>((U,ne)=>pt(U,se=>gi(se,ne)))(y,H).bind(U=>((ne,se,ye)=>ml(ne).bind(De=>((Ze,Te,Ne,Fe)=>Td(Ze,Te,zs).bind(rt=>{const at=Ne>0?rt.row+rt.rowspan-1:rt.row,Tt=Fe>0?rt.column+rt.colspan-1:rt.column;return hl(Ze,at+Ne,Tt+Fe).map(Rt=>Rt.element)}))(pl(De),ne,se,ye)))(U,_,T).bind(ne=>((se,ye)=>Ie(se,"table").bind(De=>ut(De,ye).bind(Ze=>iu(Ze,se).bind(Te=>Te.boxes.map(Ne=>({boxes:Ne,start:Te.start,finish:Te.finish}))))))(ne,M))),Tc=(y,_)=>Bv(y,_),Zg=(y,_,T)=>Sf(y,_,T).bind(M=>{const H=ye=>zs(y,ye),U="thead,tfoot,tbody,table",ne=Ie(M.first,U,H),se=Ie(M.last,U,H);return ne.bind(ye=>se.bind(De=>zs(ye,De)?((Ze,Te,Ne)=>((Fe,rt,at)=>Di(Fe,rt,at).bind(Tt=>((Rt,At)=>{let Nt=!0;const Gt=fe(Ir,At);for(let Qt=At.startRow;Qt<=At.finishRow;Qt++)for(let lt=At.startCol;lt<=At.finishCol;lt++)Nt=Nt&&hl(Rt,Qt,lt).exists(Gt);return Nt?ie.some(At):ie.none()})(Fe,Tt)))(pl(Ze),Te,Ne))(M.table,M.first,M.last):ie.none()))}),kf=X,U1=y=>{const _=(T,M)=>Eo(T,M).exists(H=>parseInt(H,10)>1);return y.length>0&&Mt(y,T=>_(T,"rowspan")||_(T,"colspan"))?ie.some(y):ie.none()},au=(y,_,T)=>_.length<=1?ie.none():Zg(y,T.firstSelectedSelector,T.lastSelectedSelector).map(M=>({bounds:M,cells:_})),ip="data-mce-selected",ap="data-mce-first-selected",Ut="data-mce-last-selected",ox="["+ip+"]",Ef={selected:ip,selectedSelector:"td["+ip+"],th["+ip+"]",firstSelected:ap,firstSelectedSelector:"td["+ap+"],th["+ap+"]",lastSelected:Ut,lastSelectedSelector:"td["+Ut+"],th["+Ut+"]"},ko=(y,_,T)=>({element:T,mergable:au(_,y,Ef),unmergable:U1(y),selection:kf(y)}),Rn=y=>(_,T)=>{const M=Ft(_),H=M==="col"||M==="colgroup"?ml(U=_).bind(ne=>Tc(ne,Ef.firstSelectedSelector)).fold(K(U),ne=>ne[0]):_;var U;return Je(H,y,T)},Af=Rn("th,td,caption"),gr=Rn("th,td"),Oc=y=>{return _=y.model.table.getSelectedCells(),D(_,Kt.fromDom);var _},Dc=(y,_)=>{y.on("BeforeGetContent",T=>{const M=H=>{T.preventDefault(),(U=>ml(U[0]).map(ne=>{const se=((ye,De)=>{const Ze=Nt=>gi(Nt.element,De),Te=Kc(ye),Ne=Mg(Te),Fe=sp(ye),rt=ai(Ne),at=((Nt,Gt)=>{const Qt=Nt.grid.columns;let lt=Nt.grid.rows,yn=Qt,Yn=0,yo=0;const oo=[],Xn=[];return tn(Nt.access,bo=>{if(oo.push(bo),Gt(bo)){Xn.push(bo);const Ko=bo.row,oi=Ko+bo.rowspan-1,Ta=bo.column,Ki=Ta+bo.colspan-1;Ko<lt?lt=Ko:oi>Yn&&(Yn=oi),Ta<yn?yn=Ta:Ki>yo&&(yo=Ki)}}),((bo,Ko,oi,Ta,Ki,ac)=>({minRow:bo,minCol:Ko,maxRow:oi,maxCol:Ta,allCells:Ki,selectedCells:ac}))(lt,yn,Yn,yo,oo,Xn)})(rt,Ze),Tt="th:not("+De+"),td:not("+De+")",Rt=_m(Te,"th,td",Nt=>gi(Nt,Tt));Ke(Rt,ir),((Nt,Gt,Qt,lt)=>{const yn=$t(Nt,oo=>oo.section!=="colgroup"),Yn=Gt.grid.columns,yo=Gt.grid.rows;for(let oo=0;oo<yo;oo++){let Xn=!1;for(let bo=0;bo<Yn;bo++)oo<Qt.minRow||oo>Qt.maxRow||bo<Qt.minCol||bo>Qt.maxCol||(hl(Gt,oo,bo).filter(lt).isNone()?La(yn,Xn,oo):Xn=!0)}})(Ne,rt,at,Ze);const At=((Nt,Gt,Qt,lt)=>{if(lt.minCol===0&&Gt.grid.columns===lt.maxCol+1)return 0;const yn=li(Gt,Nt,Qt),Yn=et(yn,(Xn,bo)=>Xn+bo,0),yo=et(yn.slice(lt.minCol,lt.maxCol+1),(Xn,bo)=>Xn+bo,0),oo=yo/Yn*Qt.pixelWidth()-Qt.pixelWidth();return Qt.getCellDelta(oo)})(ye,Do(ye),Fe,at);return((Nt,Gt,Qt,lt)=>{tn(Qt.columns,Yn=>{(Yn.column<Gt.minCol||Yn.column>Gt.maxCol)&&ir(Yn.element)});const yn=$t(Bu(Nt,"tr"),Yn=>Yn.dom.childElementCount===0);Ke(yn,ir),Gt.minCol!==Gt.maxCol&&Gt.minRow!==Gt.maxRow||Ke(Bu(Nt,"th,td"),Yn=>{vo(Yn,"rowspan"),vo(Yn,"colspan")}),vo(Nt,km),vo(Nt,"data-snooker-col-series"),sp(Nt).adjustTableWidth(lt)})(Te,at,rt,At),Te})(ne,ox);return Sr(se),[se]}))(H).each(U=>{T.content=T.format==="text"?(ne=>D(ne,se=>se.dom.innerText).join(""))(U):((ne,se)=>D(se,ye=>ne.selection.serializer.serialize(ye.dom,{})).join(""))(y,U)})};if(T.selection===!0){const H=(U=>$t(Oc(U),ne=>gi(ne,Ef.selectedSelector)))(y);H.length>=1&&M(H)}}),y.on("BeforeSetContent",T=>{if(T.selection===!0&&T.paste===!0){const M=Oc(y);fn(M).each(H=>{ml(H).each(U=>{const ne=$t(((ye,De)=>{const Ze=document.createElement("div");return Ze.innerHTML=ye,Ti(Kt.fromDom(Ze))})(T.content),ye=>Ft(ye)!=="meta"),se=cs("table");if($e(y)&&ne.length===1&&se(ne[0])){T.preventDefault();const ye=Kt.fromDom(y.getDoc()),De=Os(ye),Ze=((Te,Ne,Fe)=>({element:Te,clipboard:Ne,generators:Fe}))(H,ne[0],De);_.pasteCells(U,Ze).each(()=>{y.focus()})}})})}})},fo=(y,_)=>({element:y,offset:_}),lp=(y,_,T)=>y.property().isText(_)&&y.property().getText(_).trim().length===0||y.property().isComment(_)?T(_).bind(M=>lp(y,M,T).orThunk(()=>ie.some(M))):ie.none(),bC=(y,_)=>y.property().isText(_)?y.property().getText(_).length:y.property().children(_).length,St=(y,_)=>{const T=lp(y,_,y.query().prevSibling).getOr(_);if(y.property().isText(T))return fo(T,bC(y,T));const M=y.property().children(T);return M.length>0?St(y,M[M.length-1]):fo(T,bC(y,T))},sx=St,cp=Cf(),up=(y,_)=>{$r(y)||(M=>nc(M).bind(H=>{return U=H,ne=["fixed","relative","empty"],ie.from(Ov.exec(U)).bind(se=>{const ye=Number(se[1]),De=se[2];return((Ze,Te)=>Se(Te,Ne=>Se(Am[Ne],Fe=>Ze===Fe)))(De,ne)?ie.some({value:ye,unit:De}):ie.none()});var U,ne}))(y).each(M=>{const H=M.value/2;Wu(y,H,M.unit),Wu(_,H,M.unit)})},jg=y=>D(y,K(0)),Pm=(y,_,T,M,H)=>H(y.slice(0,_)).concat(M).concat(H(y.slice(T))),yC=y=>(_,T,M,H)=>{if(y(M)){const U=Math.max(H,_[T]-Math.abs(M)),ne=Math.abs(U-_[T]);return M>=0?ne:-ne}return M},Tf=yC(y=>y<0),nr=yC(Ce),Gu=()=>{const y=(T,M,H,U)=>{const ne=(100+H)/100,se=Math.max(U,(T[M]+H)/ne);return D(T,(ye,De)=>(De===M?se:ye/ne)-ye)},_=(T,M,H,U,ne,se)=>se?y(T,M,U,ne):((ye,De,Ze,Te,Ne)=>{const Fe=Tf(ye,De,Te,Ne);return Pm(ye,De,Ze+1,[Fe,0],jg)})(T,M,H,U,ne);return{resizeTable:(T,M)=>T(M),clampTableDelta:Tf,calcLeftEdgeDeltas:_,calcMiddleDeltas:(T,M,H,U,ne,se,ye)=>_(T,H,U,ne,se,ye),calcRightEdgeDeltas:(T,M,H,U,ne,se)=>{if(se)return y(T,H,U,ne);{const ye=Tf(T,H,U,ne);return jg(T.slice(0,H)).concat([ye])}},calcRedestributedWidths:(T,M,H,U)=>{if(U){const ne=(M+H)/M,se=D(T,ye=>ye/ne);return{delta:100*ne-100,newSizes:se}}return{delta:H,newSizes:T}}}},W1=()=>{const y=(_,T,M,H,U)=>{const ne=nr(_,H>=0?M:T,H,U);return Pm(_,T,M+1,[ne,-ne],jg)};return{resizeTable:(_,T,M)=>{M&&_(T)},clampTableDelta:(_,T,M,H,U)=>{if(U){if(M>=0)return M;{const ne=et(_,(se,ye)=>se+ye-H,0);return Math.max(-ne,M)}}return Tf(_,T,M,H)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(_,T,M,H,U,ne)=>y(_,M,H,U,ne),calcRightEdgeDeltas:(_,T,M,H,U,ne)=>{if(ne)return jg(_);{const se=H/_.length;return D(_,K(se))}},calcRedestributedWidths:(_,T,M,H)=>({delta:0,newSizes:_})}},lu=y=>Do(y).grid,Mm=cs("th"),sc=y=>Mt(y,_=>Mm(_.element)),Kr=(y,_)=>y&&_?"sectionCells":y?"section":"cells",Lv=y=>{const _=y.section==="thead",T=Wt(Ri(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:_||T?{type:"header",subType:Kr(_,T)}:{type:"body"}},Ri=y=>{const _=$t(y,T=>Mm(T.element));return _.length===0?ie.some("td"):_.length===y.length?ie.some("th"):ie.none()},Z1=(y,_,T)=>Lr(T(y.element,_),!0,y.isLocked),Rc=(y,_)=>y.section!==_?ii(y.element,y.cells,_,y.isNew):y,Ii=()=>({transformRow:Rc,transformCell:(y,_,T)=>{const M=T(y.element,_),H=Ft(M)!=="td"?((U,ne)=>{const se=Gc(U,"td");Mu(U,se);const ye=Ti(U);return Dl(se,ye),ir(U),se})(M):M;return Lr(H,y.isNew,y.isLocked)}}),Zt=()=>({transformRow:Rc,transformCell:Z1}),Bm=()=>({transformRow:(y,_)=>Rc(y,_==="thead"?"tbody":_),transformCell:Z1}),Ni=Ii,xC=Zt,wC=Bm,aE=()=>({transformRow:X,transformCell:Z1}),Pd=(y,_,T,M)=>{T===M?vo(y,_):fs(y,_,T)},Kg=(y,_,T)=>{_n(Yc(y,_)).fold(()=>ym(y,T),M=>Mu(M,T))},Fv=(y,_)=>{const T=[],M=[],H=Ne=>D(Ne,Fe=>{Fe.isNew&&T.push(Fe.element);const rt=Fe.element;return dl(rt),Ke(Fe.cells,at=>{at.isNew&&M.push(at.element),Pd(at.element,"colspan",at.colspan,1),Pd(at.element,"rowspan",at.rowspan,1),mr(rt,at.element)}),rt}),U=Ne=>Ye(Ne,Fe=>D(Fe.cells,rt=>(Pd(rt.element,"span",rt.colspan,1),rt.element))),ne=(Ne,Fe)=>{const rt=((Tt,Rt)=>{const At=mt(Tt,Rt).getOrThunk(()=>{const Nt=Kt.fromTag(Rt,Iu(Tt).dom);return Rt==="thead"?Kg(Tt,"caption,colgroup",Nt):Rt==="colgroup"?Kg(Tt,"caption",Nt):mr(Tt,Nt),Nt});return dl(At),At})(y,Fe),at=(Fe==="colgroup"?U:H)(Ne);Dl(rt,at)},se=(Ne,Fe)=>{Ne.length>0?ne(Ne,Fe):(rt=>{mt(y,rt).each(ir)})(Fe)},ye=[],De=[],Ze=[],Te=[];return Ke(_,Ne=>{switch(Ne.section){case"thead":ye.push(Ne);break;case"tbody":De.push(Ne);break;case"tfoot":Ze.push(Ne);break;case"colgroup":Te.push(Ne)}}),se(Te,"colgroup"),se(ye,"thead"),se(De,"tbody"),se(Ze,"tfoot"),{newRows:T,newCells:M}},j1=(y,_)=>{if(y.length===0)return 0;const T=y[0];return Lt(y,M=>!_(T.element,M.element)).getOr(y.length)},rx=(y,_)=>{const T=D(y,M=>D(M.cells,te));return D(y,(M,H)=>{const U=Ye(M.cells,(ne,se)=>{if(T[H][se]===!1){const Ne=((Fe,rt,at,Tt)=>{const Rt=((Qt,lt)=>Qt[lt])(Fe,rt),At=Rt.section==="colgroup",Nt=j1(Rt.cells.slice(at),Tt),Gt=At?1:j1(((Qt,lt)=>D(Qt,yn=>Ur(yn,lt)))(Fe.slice(rt),at),Tt);return{colspan:Nt,rowspan:Gt}})(y,H,se,_);return((Fe,rt,at,Tt)=>{for(let Rt=Fe;Rt<Fe+at;Rt++)for(let At=rt;At<rt+Tt;At++)T[Rt][At]=!0})(H,se,Ne.rowspan,Ne.colspan),[(ye=ne.element,De=Ne.rowspan,Ze=Ne.colspan,Te=ne.isNew,{element:ye,rowspan:De,colspan:Ze,isNew:Te})]}return[];var ye,De,Ze,Te});return((ne,se,ye,De)=>({element:ne,cells:se,section:ye,isNew:De}))(M.element,U,M.section,M.isNew)})},kr=(y,_,T)=>{const M=[];Ke(y.colgroups,H=>{const U=[];for(let ne=0;ne<y.grid.columns;ne++){const se=ks(y,ne).map(ye=>Lr(ye.element,T,!1)).getOrThunk(()=>Lr(_.colGap(),!0,!1));U.push(se)}M.push(ii(H.element,U,"colgroup",T))});for(let H=0;H<y.grid.rows;H++){const U=[];for(let ye=0;ye<y.grid.columns;ye++){const De=hl(y,H,ye).map(Ze=>Lr(Ze.element,T,Ze.isLocked)).getOrThunk(()=>Lr(_.gap(),!0,!1));U.push(De)}const ne=y.all[H],se=ii(ne.element,U,ne.section,T);M.push(se)}return M},Vv=y=>rx(y,zs),Nr=(y,_)=>Q(y.all,T=>pt(T.cells,M=>zs(_,M.element))),tl=(y,_,T)=>{const M=D(_.selection,U=>Jh(U).bind(ne=>Nr(y,ne)).filter(T)),H=nn(M);return un(H.length>0,H)},Gr=(y,_,T,M,H)=>(U,ne,se,ye)=>{const De=Do(U),Ze=ie.from(ye==null?void 0:ye.section).getOrThunk(aE);return _(De,ne).map(Te=>{const Ne=((at,Tt)=>kr(at,Tt,!1))(De,se),Fe=y(Ne,Te,zs,H(se),Ze),rt=Pa(Fe.grid);return{info:Te,grid:Vv(Fe.grid),cursor:Fe.cursor,lockedColumns:rt}}).bind(Te=>{const Ne=Fv(U,Te.grid),Fe=ie.from(ye==null?void 0:ye.sizing).getOrThunk(()=>sp(U)),rt=ie.from(ye==null?void 0:ye.resize).getOrThunk(W1);return T(U,Te.grid,Te.info,{sizing:Fe,resize:rt,section:Ze}),M(U),vo(U,km),Te.lockedColumns.length>0&&fs(U,km,Te.lockedColumns.join(",")),ie.some({cursor:Te.cursor,newRows:Ne.newRows,newCells:Ne.newCells})})},rc=(y,_)=>tl(y,_,Ce).map(T=>({cells:T,generators:_.generators,clipboard:_.clipboard})),Md=(y,_)=>tl(y,_,Ce),Zi=(y,_)=>tl(y,_,T=>!T.isLocked),zv=(y,_)=>Mt(_,T=>((M,H)=>Nr(M,H).exists(U=>!U.isLocked))(y,T)),dp=(y,_,T,M)=>{const H=Ys(y).rows;let U=!0;for(let ne=0;ne<H.length;ne++)for(let se=0;se<Hi(H[0]);se++){const ye=H[ne],De=Ur(ye,se),Ze=T(De.element,_);Ze&&!U?zg(ye,se,Lr(M(),!0,De.isLocked)):Ze&&(U=!1)}return y},Of=y=>{const _=U=>U(y),T=K(y),M=()=>H,H={tag:!0,inner:y,fold:(U,ne)=>ne(y),isValue:Ce,isError:te,map:U=>fp.value(U(y)),mapError:M,bind:_,exists:_,forall:_,getOr:T,or:M,getOrThunk:T,orThunk:M,getOrDie:T,each:U=>{U(y)},toOptional:()=>ie.some(y)};return H},CC=y=>{const _=()=>T,T={tag:!1,inner:y,fold:(H,U)=>H(y),isValue:te,isError:Ce,map:_,mapError:H=>fp.error(H(y)),bind:_,exists:te,forall:Ce,getOr:X,or:X,getOrThunk:Re,orThunk:Re,getOrDie:(M=String(y),()=>{throw new Error(M)}),each:Z,toOptional:ie.none};var M;return T},fp={value:Of,error:CC,fromOption:(y,_)=>y.fold(()=>CC(_),Of)},ix=(y,_)=>({rowDelta:0,colDelta:Hi(y[0])-Hi(_[0])}),K1=(y,_)=>({rowDelta:y.length-_.length,colDelta:0}),Hv=(y,_,T,M)=>{const H=_.section==="colgroup"?T.col:T.cell;return Me(y,U=>Lr(H(),!0,M(U)))},G1=(y,_,T,M)=>{const H=y[y.length-1];return y.concat(Me(_,()=>{const U=H.section==="colgroup"?T.colgroup:T.row,ne=vf(H,U,X),se=Hv(ne.cells.length,ne,T,ye=>Pe(M,ye.toString()));return Na(ne,se)}))},ax=(y,_,T,M)=>D(y,H=>{const U=Hv(_,H,T,te);return Ed(H,M,U)}),Lm=(y,_,T)=>{const M=_.colDelta<0?ax:X,H=_.rowDelta<0?G1:X,U=Pa(y),ne=Hi(y[0]),se=Se(U,Ze=>Ze===ne-1),ye=M(y,Math.abs(_.colDelta),T,se?ne-1:ne),De=Pa(ye);return H(ye,Math.abs(_.rowDelta),T,no(De,Ce))},lE=(y,_,T,M)=>{const H=fe(M,Ur(y[_],T).element),U=y[_];return y.length>1&&Hi(U)>1&&(T>0&&H(lr(U,T-1))||T<U.cells.length-1&&H(lr(U,T+1))||_>0&&H(lr(y[_-1],T))||_<y.length-1&&H(lr(y[_+1],T)))},q1=(y,_,T)=>$t(T,M=>M>=y.column&&M<=Hi(_[0])+y.column),Y1=(y,_,T,M,H)=>{((De,Ze,Te,Ne)=>{Ze>0&&Ze<De[0].cells.length&&Ke(De,Fe=>{const rt=Fe.cells[Ze-1];let at=0;const Tt=Ne();for(;Fe.cells.length>Ze+at&&Te(rt.element,Fe.cells[Ze+at].element);)zg(Fe,Ze+at,Lr(Tt,!0,Fe.cells[Ze+at].isLocked)),at++})})(_,y,H,M.cell);const U=K1(T,_),ne=Lm(T,U,M),se=K1(_,ne),ye=Lm(_,se,M);return D(ye,(De,Ze)=>Ed(De,y,ne[Ze].cells))},lx=(y,_,T,M,H)=>{((At,Nt,Gt,Qt)=>{const lt=Ys(At).rows;if(Nt>0&&Nt<lt.length){const yn=((Yn,yo)=>et(Yn,(oo,Xn)=>Se(oo,bo=>yo(bo.element,Xn.element))?oo:oo.concat([Xn]),[]))(lt[Nt-1].cells,Gt);Ke(yn,Yn=>{let yo=ie.none();for(let oo=Nt;oo<lt.length;oo++)for(let Xn=0;Xn<Hi(lt[0]);Xn++){const bo=lt[oo],Ko=Ur(bo,Xn);Gt(Ko.element,Yn.element)&&(yo.isNone()&&(yo=ie.some(Qt())),yo.each(oi=>{zg(bo,Xn,Lr(oi,!0,Ko.isLocked))}))}})}})(_,y,H,M.cell);const U=Pa(_),ne=ix(_,T),se={...ne,colDelta:ne.colDelta-U.length},ye=Lm(_,se,M),{cols:De,rows:Ze}=Ys(ye),Te=Pa(ye),Ne=ix(T,_),Fe={...Ne,colDelta:Ne.colDelta+Te.length},rt=(Tt=M,Rt=Te,D(T,At=>et(Rt,(Nt,Gt)=>{const Qt=Hv(1,At,Tt,Ce)[0];return Vg(Nt,Gt,Qt)},At))),at=Lm(rt,Fe,M);var Tt,Rt;return[...De,...Ze.slice(0,y),...at,...Ze.slice(y,Ze.length)]},cx=(y,_,T,M,H)=>{const{rows:U,cols:ne}=Ys(y),se=U.slice(0,_),ye=U.slice(_);return[...ne,...se,((De,Ze,Te,Ne)=>vf(De,Fe=>Ne(Fe,Te),Ze))(U[T],(De,Ze)=>_>0&&_<U.length&&M(lr(U[_-1],Ze),lr(U[_],Ze))?Ur(U[_],Ze):Lr(H(De.element,M),!0,De.isLocked),M,H),...ye]},$v=(y,_,T,M,H)=>D(y,U=>{const ne=_>0&&_<Hi(U)&&M(lr(U,_-1),lr(U,_)),se=((ye,De,Ze,Te,Ne,Fe,rt)=>{if(Ze!=="colgroup"&&Te)return Ur(ye,De);{const at=Ur(ye,Ne);return Lr(rt(at.element,Fe),!0,!1)}})(U,_,U.section,ne,T,M,H);return Vg(U,_,se)}),ux=(y,_,T,M)=>((H,U,ne,se)=>lr(H[U],ne)!==void 0&&U>0&&se(lr(H[U-1],ne),lr(H[U],ne)))(y,_,T,M)||((H,U,ne)=>U>0&&ne(lr(H,U-1),lr(H,U)))(y[_],T,M),dx=(y,_,T,M)=>{const H=U=>(ne=>ne==="row"?(se=>Sd(se,"rowspan")>1)(_):$r(_))(U)?`${U}group`:U;return y?Mm(_)?H(T):null:M&&Mm(_)?H(T==="row"?"col":"row"):null},Uv=(y,_,T)=>Lr(T(y.element,_),!0,y.isLocked),mp=(y,_,T,M,H,U,ne)=>D(y,(se,ye)=>((De,Ze)=>{const Te=De.cells,Ne=D(Te,(Fe,rt)=>{if((at=>Se(_,Tt=>T(at.element,Tt.element)))(Fe)){const at=ne(Fe,ye,rt)?H(Fe,T,M):Fe;return U(at,ye,rt).each(Tt=>{var Rt,At;Rt=at.element,At={scope:ie.from(Tt)},tn(At,(Nt,Gt)=>{Nt.fold(()=>{vo(Rt,Gt)},Qt=>{rr(Rt.dom,Gt,Qt)})})}),at}return Fe});return ii(De.element,Ne,De.section,De.isNew)})(se)),fx=(y,_,T)=>Ye(y,(M,H)=>ux(y,H,_,T)?[]:[Ur(M,_)]),Wv=(y,_,T,M,H)=>{const U=Ys(y).rows,ne=Ye(_,Ze=>fx(U,Ze,M)),se=D(U,Ze=>sc(Ze.cells)),ye=((Ze,Te)=>Mt(Te,X)&&sc(Ze)?Ce:(Ne,Fe,rt)=>!(Ft(Ne.element)==="th"&&Te[Fe]))(ne,se);return mp(y,ne,M,H,Uv,((Ze,Te)=>(Ne,Fe)=>ie.some(dx(Ze,Ne.element,"row",Te[Fe])))(T,se),ye)},Zv=(y,_,T,M)=>{const H=Ys(y).rows,U=D(_,ne=>Ur(H[ne.row],ne.column));return mp(y,U,T,M,Uv,ie.none,Ce)},Fm=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const _=[],T={};return Ke(y,(M,H)=>{const U=xs(M);if(U.length!==1)throw new Error("one and only one name per case");const ne=U[0],se=M[ne];if(T[ne]!==void 0)throw new Error("duplicate key detected:"+ne);if(ne==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(se))throw new Error("case arguments must be an array");_.push(ne),T[ne]=(...ye)=>{const De=ye.length;if(De!==se.length)throw new Error("Wrong number of arguments to case "+ne+". Expected "+se.length+" ("+se+"), got "+De);return{fold:(...Ze)=>{if(Ze.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Ze.length);return Ze[H].apply(null,ye)},match:Ze=>{const Te=xs(Ze);if(_.length!==Te.length)throw new Error("Wrong number of arguments to match. Expected: "+_.join(",")+`
Actual: `+Te.join(","));if(!Mt(_,Ne=>st(Te,Ne)))throw new Error("Not all branches were specified when using match. Specified: "+Te.join(", ")+`
Required: `+_.join(", "));return Ze[ne].apply(null,ye)},log:Ze=>{console.log(Ze,{constructors:_,constructor:ne,params:ye})}}}}),T},gp={...Fm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},mx=(y,_,T)=>{const M=((H,U)=>Sc(H)?((ne,se)=>{const ye=_c(ne);return D(ye,(De,Ze)=>({element:De.element,width:se[Ze],colspan:De.colspan}))})(H,U):((ne,se)=>{const ye=Bn(ne);return D(ye,De=>{const Ze=((Te,Ne,Fe)=>{let rt=0;for(let at=Te;at<Ne;at++)rt+=Fe[at]!==void 0?Fe[at]:0;return rt})(De.column,De.column+De.colspan,se);return{element:De.element,width:Ze,colspan:De.colspan}})})(H,U))(y,_);Ke(M,H=>{T.setElementWidth(H.element,H.width)})},Bd=(y,_,T,M,H)=>{const U=Do(y),ne=H.getCellDelta(_),se=H.getWidths(U,H),ye=T===U.grid.columns-1,De=M.clampTableDelta(se,T,ne,H.minCellWidth(),ye),Ze=((Ne,Fe,rt,at,Tt)=>{const Rt=Ne.slice(0),At=((Gt,Qt)=>Gt.length===0?gp.none():Gt.length===1?gp.only(0):Qt===0?gp.left(0,1):Qt===Gt.length-1?gp.right(Qt-1,Qt):Qt>0&&Qt<Gt.length-1?gp.middle(Qt-1,Qt,Qt+1):gp.none())(Ne,Fe),Nt=K(D(Rt,K(0)));return At.fold(Nt,Gt=>at.singleColumnWidth(Rt[Gt],rt),(Gt,Qt)=>Tt.calcLeftEdgeDeltas(Rt,Gt,Qt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt,lt)=>Tt.calcMiddleDeltas(Rt,Gt,Qt,lt,rt,at.minCellWidth(),at.isRelative),(Gt,Qt)=>Tt.calcRightEdgeDeltas(Rt,Gt,Qt,rt,at.minCellWidth(),at.isRelative))})(se,T,De,H,M),Te=D(Ze,(Ne,Fe)=>Ne+se[Fe]);mx(U,Te,H),M.resizeTable(H.adjustTableWidth,De,ye)},Gg=(y,_,T)=>{const M=Do(y),H=((ye,De)=>Ui(ye,De,z1,Ze=>Ze.getOrThunk(ws)))(M,y),U=D(H,(ye,De)=>T===De?Math.max(_+ye,ws()):ye),ne=((ye,De)=>D(ye.all,(Ze,Te)=>({element:Ze.element,height:De[Te]})))(M,U);Ke(ne,ye=>{Uu(ye.element,ye.height)}),Ke(Bn(M),ye=>{(De=>{fl(De,"height")})(ye.element)});const se=Jt(U,(ye,De)=>ye+De,0);Uu(y,se)},qg=y=>et(y,(_,T)=>Se(_,M=>M.column===T.column)?_:_.concat([T]),[]).sort((_,T)=>_.column-T.column),Ld=cs("col"),Df=cs("colgroup"),jv=y=>Ft(y)==="tr"||Df(y),cE=y=>({element:y,colspan:wr(y,"colspan",1),rowspan:wr(y,"rowspan",1)}),Kv=y=>Eo(y,"scope").map(_=>_.substr(0,3)),Ic=(y,_=cE)=>{const T=H=>{if(jv(H))return Df((U={element:H}).element)?y.colgroup(U):y.row(U);{const ne=H,se=(ye=>Ld(ye.element)?y.col(ye):y.cell(ye))(_(ne));return M=ie.some({item:ne,replacement:se}),se}var U};let M=ie.none();return{getOrInit:(H,U)=>M.fold(()=>T(H),ne=>U(H,ne.item)?ne.replacement:T(H))}},_C=y=>_=>{const T=[],M=H=>{const U=y==="td"?{scope:null}:{},ne=_.replace(H,y,U);return T.push({item:H,sub:ne}),ne};return{replaceOrInit:(H,U)=>{if(jv(H)||Ld(H))return H;{const ne=H;return((se,ye)=>pt(T,De=>ye(De.item,se)))(ne,U).fold(()=>M(ne),se=>U(H,se.item)?se.sub:M(ne))}}}},gx=y=>({unmerge:_=>{const T=Kv(_);return T.each(M=>fs(_,"scope",M)),()=>{const M=y.cell({element:_,colspan:1,rowspan:1});return fl(M,"width"),fl(_,"width"),T.each(H=>fs(M,"scope",H)),M}},merge:_=>(fl(_[0],"width"),(()=>{const T=nn(D(_,Kv));if(T.length===0)return ie.none();{const M=T[0],H=["row","col"];return Se(T,U=>U!==M&&st(H,U))?ie.none():ie.from(M)}})().fold(()=>vo(_[0],"scope"),T=>fs(_[0],"scope",T+"group")),K(_[0]))}),Yg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],da=Cf(),Xg=y=>((_,T)=>{const M=_.property().name(T);return st(Yg,M)})(da,y),Jg=y=>((_,T)=>{const M=_.property().name(T);return st(["ol","ul"],M)})(da,y),X1=y=>{const _=cs("br"),T=H=>su(H).bind(U=>{const ne=Wl(U).map(se=>!!Xg(se)||!!((ye,De)=>st(["br","img","hr","input"],ye.property().name(De)))(da,se)&&Ft(se)!=="img").getOr(!1);return ul(U).map(se=>{return ne===!0||Ft(ye=se)==="li"||Ee(ye,Jg).isSome()||_(U)||Xg(se)&&!zs(H,se)?[]:[Kt.fromTag("br")];var ye})}).getOr([]),M=(()=>{const H=Ye(y,U=>{const ne=Ti(U);return(se=>Mt(se,ye=>_(ye)||wo(ye)&&Dm(ye).trim().length===0))(ne)?[]:ne.concat(T(U))});return H.length===0?[Kt.fromTag("br")]:H})();dl(y[0]),Dl(y[0],M)},Yo=y=>ao(y,!0),vl=y=>{Dr(y).length===0&&ir(y)},qu=(y,_)=>({grid:y,cursor:_}),Aa=(y,_,T)=>{const M=((H,U,ne)=>{var se,ye;const De=Ys(H).rows;return ie.from((ye=(se=De[U])===null||se===void 0?void 0:se.cells[ne])===null||ye===void 0?void 0:ye.element).filter(Yo).orThunk(()=>(Ze=>Q(Ze,Te=>Q(Te.cells,Ne=>{const Fe=Ne.element;return un(Yo(Fe),Fe)})))(De))})(y,_,T);return qu(y,M)},Zs=y=>et(y,(_,T)=>Se(_,M=>M.row===T.row)?_:_.concat([T]),[]).sort((_,T)=>_.row-T.row),Gv=(y,_)=>(T,M,H,U,ne)=>{const se=Zs(M),ye=D(se,Ze=>Ze.row),De=((Ze,Te,Ne,Fe,rt,at,Tt)=>{const{cols:Rt,rows:At}=Ys(Ze),Nt=At[Te[0]],Gt=Ye(Te,oo=>((Xn,bo,Ko)=>{const oi=Xn[bo];return Ye(oi.cells,(Ta,Ki)=>ux(Xn,bo,Ki,Ko)?[]:[Ta])})(At,oo,rt)),Qt=D(Nt.cells,(oo,Xn)=>sc(fx(At,Xn,rt))),lt=[...At];Ke(Te,oo=>{lt[oo]=Tt.transformRow(At[oo],Ne)});const yn=[...Rt,...lt],Yn=((oo,Xn)=>Mt(Xn,X)&&sc(oo.cells)?Ce:(bo,Ko,oi)=>!(Ft(bo.element)==="th"&&Xn[oi]))(Nt,Qt),yo=((oo,Xn)=>(bo,Ko,oi)=>ie.some(dx(oo,bo.element,"col",Xn[oi])))(Fe,Qt);return mp(yn,Gt,rt,at,Tt.transformCell,yo,Yn)})(T,ye,y,_,H,U.replaceOrInit,ne);return Aa(De,M[0].row,M[0].column)},SC=Gv("thead",!0),uE=Gv("tbody",!1),cr=Gv("tfoot",!1),J1=(y,_,T)=>{const M=((U,ne)=>Pl(U,()=>ne))(y,T.section),H=ai(M);return kr(H,_,!0)},hx=(y,_,T,M)=>((H,U,ne,se)=>{const ye=ai(U),De=se.getWidths(ye,se);mx(ye,De,se)})(0,_,0,M.sizing),Vm=(y,_,T,M)=>((H,U,ne,se,ye)=>{const De=ai(U),Ze=se.getWidths(De,se),Te=se.pixelWidth(),{newSizes:Ne,delta:Fe}=ye.calcRedestributedWidths(Ze,Te,ne.pixelDelta,se.isRelative);mx(De,Ne,se),se.adjustTableWidth(Fe)})(0,_,T,M.sizing,M.resize),Nc=(y,_)=>Se(_,T=>T.column===0&&T.isLocked),hp=(y,_)=>Se(_,T=>T.column+T.colspan>=y.grid.columns&&T.isLocked),bn=(y,_)=>{const T=tp(y),M=qg(_);return et(M,(H,U)=>H+T[U.column].map(Fg).getOr(0),0)},cu=y=>(_,T)=>Md(_,T).filter(M=>!(y?Nc:hp)(_,M)).map(M=>({details:M,pixelDelta:bn(_,M)})),px=y=>(_,T)=>rc(_,T).filter(M=>!(y?Nc:hp)(_,M.cells)),Q1=_C("th"),pp=_C("td"),e0=Gr((y,_,T,M)=>{const H=_[0].row,U=Zs(_),ne=Jt(U,(se,ye)=>({grid:cx(se.grid,H,ye.row+se.delta,T,M.getOrInit),delta:se.delta+1}),{grid:y,delta:0}).grid;return Aa(ne,H,_[0].column)},Md,Z,Z,Ic),Qg=Gr((y,_,T,M)=>{const H=Zs(_),U=H[H.length-1],ne=U.row+U.rowspan,se=Jt(H,(ye,De)=>cx(ye,ne,De.row,T,M.getOrInit),y);return Aa(se,ne,_[0].column)},Md,Z,Z,Ic),Pc=Gr((y,_,T,M)=>{const H=_.details,U=qg(H),ne=U[0].column,se=Jt(U,(ye,De)=>({grid:$v(ye.grid,ne,De.column+ye.delta,T,M.getOrInit),delta:ye.delta+1}),{grid:y,delta:0}).grid;return Aa(se,H[0].row,ne)},cu(!0),Vm,Z,Ic),dE=Gr((y,_,T,M)=>{const H=_.details,U=H[H.length-1],ne=U.column+U.colspan,se=qg(H),ye=Jt(se,(De,Ze)=>$v(De,ne,Ze.column,T,M.getOrInit),y);return Aa(ye,H[0].row,ne)},cu(!1),Vm,Z,Ic),t0=Gr((y,_,T,M)=>{const H=qg(_.details),U=((se,ye)=>Ye(se,De=>{const Ze=De.cells,Te=Jt(ye,(Ne,Fe)=>Fe>=0&&Fe<Ne.length?Ne.slice(0,Fe).concat(Ne.slice(Fe+1)):Ne,Ze);return Te.length>0?[ii(De.element,Te,De.section,De.isNew)]:[]}))(y,D(H,se=>se.column)),ne=U.length>0?U[0].cells.length-1:0;return Aa(U,H[0].row,Math.min(H[0].column,ne))},(y,_)=>Zi(y,_).map(T=>({details:T,pixelDelta:-bn(y,T)})),Vm,vl,Ic),vx=Gr((y,_,T,M)=>{const H=Zs(_),U=((se,ye,De)=>{const{rows:Ze,cols:Te}=Ys(se);return[...Te,...Ze.slice(0,ye),...Ze.slice(De+1)]})(y,H[0].row,H[H.length-1].row),ne=Math.max(Ys(U).rows.length-1,0);return Aa(U,Math.min(_[0].row,ne),_[0].column)},Md,Z,vl,Ic),n0=Gr((y,_,T,M)=>{const H=qg(_),U=D(H,se=>se.column),ne=Wv(y,U,!0,T,M.replaceOrInit);return Aa(ne,_[0].row,_[0].column)},Zi,Z,Z,Q1),bx=Gr((y,_,T,M)=>{const H=qg(_),U=D(H,se=>se.column),ne=Wv(y,U,!1,T,M.replaceOrInit);return Aa(ne,_[0].row,_[0].column)},Zi,Z,Z,pp),yx=Gr(SC,Zi,Z,Z,Q1),o0=Gr(uE,Zi,Z,Z,pp),xx=Gr(cr,Zi,Z,Z,pp),wx=Gr((y,_,T,M)=>{const H=Zv(y,_,T,M.replaceOrInit);return Aa(H,_[0].row,_[0].column)},Zi,Z,Z,Q1),kC=Gr((y,_,T,M)=>{const H=Zv(y,_,T,M.replaceOrInit);return Aa(H,_[0].row,_[0].column)},Zi,Z,Z,pp),fE=Gr((y,_,T,M)=>{const H=_.cells;X1(H);const U=((ne,se,ye,De)=>{const Ze=Ys(ne).rows;if(Ze.length===0)return ne;for(let Te=se.startRow;Te<=se.finishRow;Te++)for(let Ne=se.startCol;Ne<=se.finishCol;Ne++){const Fe=Ze[Te],rt=Ur(Fe,Ne).isLocked;zg(Fe,Ne,Lr(De(),!1,rt))}return ne})(y,_.bounds,0,M.merge(H));return qu(U,ie.from(H[0]))},(y,_)=>((T,M)=>M.mergable)(0,_).filter(T=>zv(y,T.cells)),hx,Z,gx),qv=Gr((y,_,T,M)=>{const H=Jt(_,(U,ne)=>dp(U,ne,T,M.unmerge(ne)),y);return qu(H,ie.from(_[0]))},(y,_)=>((T,M)=>M.unmergable)(0,_).filter(T=>zv(y,T)),hx,Z,gx),Cx=Gr((y,_,T,M)=>{const H=((se,ye)=>{const De=Do(se);return kr(De,ye,!0)})(_.clipboard,_.generators);var U,ne;return((se,ye,De,Ze,Te)=>{const Ne=Pa(ye),Fe=((Rt,At,Nt)=>{const Gt=Hi(At[0]),Qt=Ys(At).cols.length+Rt.row,lt=Me(Gt-Rt.column,yn=>yn+Rt.column);return{row:Qt,column:pt(lt,yn=>Mt(Nt,Yn=>Yn!==yn)).getOr(Gt-1)}})(se,ye,Ne),rt=Ys(De).rows,at=q1(Fe,rt,Ne);return((Rt,At,Nt)=>{if(Rt.row>=At.length||Rt.column>Hi(At[0]))return fp.error("invalid start address out of table bounds, row: "+Rt.row+", column: "+Rt.column);const Gt=At.slice(Rt.row),Qt=Gt[0].cells.slice(Rt.column),lt=Hi(Nt[0]),yn=Nt.length;return fp.value({rowDelta:Gt.length-yn,colDelta:Qt.length-lt})})(Fe,ye,rt).map(Rt=>{const At={...Rt,colDelta:Rt.colDelta-at.length},Nt=Lm(ye,At,Ze),Gt=Pa(Nt),Qt=q1(Fe,rt,Gt);return((lt,yn,Yn,yo,oo,Xn)=>{const bo=lt.row,Ko=lt.column,oi=bo+Yn.length,Ta=Ko+Hi(Yn[0])+Xn.length,Ki=no(Xn,Ce);for(let ac=bo;ac<oi;ac++){let Jm=0;for(let Oa=Ko;Oa<Ta;Oa++){if(Ki[Oa]){Jm++;continue}lE(yn,ac,Oa,oo)&&dp(yn,lr(yn[ac],Oa),oo,yo.cell);const Ju=Oa-Ko-Jm,Sp=Ur(Yn[ac-bo],Ju),Wf=Sp.element,kp=yo.replace(Wf);zg(yn[ac],Oa,Lr(kp,!0,Sp.isLocked))}}return yn})(Fe,Nt,rt,Ze,Te,Qt)})})((U=_.row,ne=_.column,{row:U,column:ne}),y,H,_.generators,T).fold(()=>qu(y,ie.some(_.element)),se=>Aa(se,_.row,_.column))},(y,_)=>Jh(_.element).bind(T=>Nr(y,T).map(M=>({...M,generators:_.generators,clipboard:_.clipboard}))),hx,Z,Ic),eh=Gr((y,_,T,M)=>{const H=Ys(y).rows,U=_.cells[0].column,ne=H[_.cells[0].row],se=J1(_.clipboard,_.generators,ne),ye=Y1(U,y,se,_.generators,T);return Aa(ye,_.cells[0].row,_.cells[0].column)},px(!0),Z,Z,Ic),mE=Gr((y,_,T,M)=>{const H=Ys(y).rows,U=_.cells[_.cells.length-1].column+_.cells[_.cells.length-1].colspan,ne=H[_.cells[0].row],se=J1(_.clipboard,_.generators,ne),ye=Y1(U,y,se,_.generators,T);return Aa(ye,_.cells[0].row,U)},px(!1),Z,Z,Ic),gE=Gr((y,_,T,M)=>{const H=Ys(y).rows,U=_.cells[0].row,ne=H[U],se=J1(_.clipboard,_.generators,ne),ye=lx(U,y,se,_.generators,T);return Aa(ye,_.cells[0].row,_.cells[0].column)},rc,Z,Z,Ic),Rf=Gr((y,_,T,M)=>{const H=Ys(y).rows,U=_.cells[_.cells.length-1].row+_.cells[_.cells.length-1].rowspan,ne=H[_.cells[0].row],se=J1(_.clipboard,_.generators,ne),ye=lx(U,y,se,_.generators,T);return Aa(ye,U,_.cells[0].column)},rc,Z,Z,Ic),zm=(y,_)=>{const T=Do(y);return Md(T,_).bind(M=>{const H=M[M.length-1],U=M[0].column,ne=H.column+H.colspan,se=tt(D(T.all,ye=>$t(ye.cells,De=>De.column>=U&&De.column<ne)));return Ri(se)}).getOr("")},s0=(y,_)=>{const T=Do(y);return Md(T,_).bind(Ri).getOr("")},EC=(y,_)=>{const T=Do(y);return Md(T,_).bind(M=>{const H=M[M.length-1],U=M[0].row,ne=H.row+H.rowspan;return(se=>{const ye=D(se,Te=>Lv(Te).type),De=st(ye,"header"),Ze=st(ye,"footer");if(De||Ze){const Te=st(ye,"body");return!De||Te||Ze?De||Te||!Ze?ie.none():ie.some("footer"):ie.some("header")}return ie.some("body")})(T.all.slice(U,ne))}).getOr("")},_x=(y,_)=>y.dispatch("NewRow",{node:_}),Yv=(y,_)=>y.dispatch("NewCell",{node:_}),Fd=(y,_,T)=>{y.dispatch("TableModified",{...T,table:_})},r0={structure:!1,style:!0},vi={structure:!0,style:!1},Vr={structure:!0,style:!0},If=(y,_)=>ju(y)?Zu(_):I(y)?_r(_):sp(_),Sx=(y,_,T)=>{const M=Ze=>Ft(bs(Ze))==="table",H=Id(y),U=Rv(y)?Z:up,ne=Ze=>{switch(Rm(y)){case"section":return Ni();case"sectionCells":return xC();case"cells":return wC();default:return((Te,Ne)=>{var Fe;switch((Fe=Do(Te),Q(Fe.all,rt=>{const at=Lv(rt);return at.type==="header"?ie.from(at.subType):ie.none()})).getOr(Ne)){case"section":return Ii();case"sectionCells":return Zt();case"cells":return Bm()}})(Ze,"section")}},se=(Ze,Te,Ne,Fe)=>(rt,at,Tt=!1)=>{Sr(rt);const Rt=Kt.fromDom(y.getDoc()),At=Xs(Ne,Rt,H),Nt={sizing:If(y,rt),resize:Rv(y)?Gu():W1(),section:ne(rt)};return Te(rt)?Ze(rt,at,At,Nt).bind(Gt=>{_.refresh(rt.dom),Ke(Gt.newRows,lt=>{_x(y,lt.dom)}),Ke(Gt.newCells,lt=>{Yv(y,lt.dom)});const Qt=((lt,yn)=>yn.cursor.fold(()=>{const Yn=Dr(lt);return fn(Yn).filter(qa).map(yo=>{T.clearSelectedCells(lt.dom);const oo=y.dom.createRng();return oo.selectNode(yo.dom),y.selection.setRng(oo),fs(yo,"data-mce-selected","1"),oo})},Yn=>{const yo=sx(cp,Yn),oo=y.dom.createRng();return oo.setStart(yo.element.dom,yo.offset),oo.setEnd(yo.element.dom,yo.offset),y.selection.setRng(oo),T.clearSelectedCells(lt.dom),ie.some(oo)}))(rt,Gt);return qa(rt)&&(Sr(rt),Tt||Fd(y,rt.dom,Fe)),Qt.map(lt=>({rng:lt,effect:Fe}))}):ie.none()},ye=se(vx,Ze=>!M(y)||lu(Ze).rows>1,Z,vi),De=se(t0,Ze=>!M(y)||lu(Ze).columns>1,Z,vi);return{deleteRow:ye,deleteColumn:De,insertRowsBefore:se(e0,Ce,Z,vi),insertRowsAfter:se(Qg,Ce,Z,vi),insertColumnsBefore:se(Pc,Ce,U,vi),insertColumnsAfter:se(dE,Ce,U,vi),mergeCells:se(fE,Ce,Z,vi),unmergeCells:se(qv,Ce,Z,vi),pasteColsBefore:se(eh,Ce,Z,vi),pasteColsAfter:se(mE,Ce,Z,vi),pasteRowsBefore:se(gE,Ce,Z,vi),pasteRowsAfter:se(Rf,Ce,Z,vi),pasteCells:se(Cx,Ce,Z,Vr),makeCellsHeader:se(wx,Ce,Z,vi),unmakeCellsHeader:se(kC,Ce,Z,vi),makeColumnsHeader:se(n0,Ce,Z,vi),unmakeColumnsHeader:se(bx,Ce,Z,vi),makeRowsHeader:se(yx,Ce,Z,vi),makeRowsBody:se(o0,Ce,Z,vi),makeRowsFooter:se(xx,Ce,Z,vi),getTableRowType:EC,getTableCellType:s0,getTableColType:zm}},i0=(y,_,T)=>{const M=wr(y,_,1);T===1||M<=1?vo(y,_):fs(y,_,Math.min(T,M))},ji=(y,_)=>T=>{const M=T.column+T.colspan-1,H=T.column;return M>=y&&H<_},nl=Fm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),th=(y,_,T)=>{const M=T.substring(0,T.length-y.length),H=parseFloat(M);return M===H.toString()?_(H):nl.invalid(T)},Nf={...nl,from:y=>sn(y,"%")?th("%",nl.percent,y):sn(y,"px")?th("px",nl.pixels,y):nl.invalid(y)},Hm=(y,_,T)=>{const M=Nf.from(T),H=Mt(y,U=>U==="0px")?((U,ne)=>{const se=U.fold(()=>K(""),ye=>K(ye/ne+"px"),()=>K(100/ne+"%"));return Me(ne,se)})(M,y.length):((U,ne,se)=>U.fold(()=>ne,ye=>((De,Ze,Te)=>{const Ne=Te/Ze;return D(De,Fe=>Nf.from(Fe).fold(()=>Fe,rt=>rt*Ne+"px",rt=>rt/100*Te+"px"))})(ne,se,ye),ye=>((De,Ze)=>D(De,Te=>Nf.from(Te).fold(()=>Te,Ne=>Ne/Ze*100+"%",Ne=>Ne+"%")))(ne,se)))(M,y,_);return kx(H)},a0=(y,_)=>y.length===0?_:Jt(y,(T,M)=>Nf.from(M).fold(K(0),X,X)+T,0),AC=(y,_)=>Nf.from(y).fold(K(y),T=>T+_+"px",T=>T+_+"%"),kx=y=>{if(y.length===0)return y;const _=Jt(y,(M,H)=>{const U=Nf.from(H).fold(()=>({value:H,remainder:0}),ne=>((se,ye)=>{const De=Math.floor(se);return{value:De+"px",remainder:se-De}})(ne),ne=>({value:ne+"%",remainder:0}));return{output:[U.value].concat(M.output),remainder:M.remainder+U.remainder}},{output:[],remainder:0}),T=_.output;return T.slice(0,T.length-1).concat([AC(T[T.length-1],Math.round(_.remainder))])},$m=Nf.from,js=(y,_,T)=>{const M=Do(y),H=M.all,U=Bn(M),ne=_c(M);_.each(se=>{const ye=$m(se).fold(K("px"),K("px"),K("%")),De=gl(y),Ze=((Ne,Fe)=>hi(Ne,Fe,Ba,op))(M,y),Te=Hm(Ze,De,se);Sc(M)?((Ne,Fe,rt)=>{Ke(Fe,(at,Tt)=>{const Rt=a0([Ne[Tt]],Nl());_o(at.element,"width",Rt+rt)})})(Te,ne,ye):((Ne,Fe,rt)=>{Ke(Fe,at=>{const Tt=Ne.slice(at.column,at.colspan+at.column),Rt=a0(Tt,Nl());_o(at.element,"width",Rt+rt)})})(Te,U,ye),_o(y,"width",se)}),T.each(se=>{const ye=Dd(y),De=((Ze,Te)=>Ui(Ze,Te,Ea,op))(M,y);((Ze,Te,Ne)=>{Ke(Ne,Fe=>{fl(Fe.element,"height")}),Ke(Te,(Fe,rt)=>{_o(Fe.element,"height",Ze[rt])})})(Hm(De,ye,se),H,U),_o(y,"height",se)})},l0=y=>nc(y).exists(_=>wi.test(_)),ur=y=>nc(y).exists(_=>Un.test(_)),Yu=y=>nc(y).isNone(),uu=y=>{vo(y,"width"),vo(y,"height")},nh=y=>{const _=xf(y);js(y,ie.some(_),ie.none()),uu(y)},bl=y=>{const _=(T=>gl(T)+"px")(y);js(y,ie.some(_),ie.none()),uu(y)},fa=y=>{fl(y,"width");const _=Cc(y),T=_.length>0?_:Dr(y);Ke(T,M=>{fl(M,"width"),uu(M)}),uu(y)},Um={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xv=(y,_,T,M)=>Me(y,H=>((U,ne,se,ye)=>{const De=Kt.fromTag("tr");for(let Ze=0;Ze<U;Ze++){const Te=Kt.fromTag(ye<ne||Ze<se?"th":"td");Ze<se&&fs(Te,"scope","row"),ye<ne&&fs(Te,"scope","col"),mr(Te,Kt.fromTag("br")),mr(De,Te)}return De})(_,T,M,H)),oh=(y,_)=>{y.selection.select(_.dom,!0),y.selection.collapse(!0)},Jv=(y,_,T,M,H)=>{const U=(se=>{const ye=se.options,De=ye.get("table_default_styles");return ye.isSet("table_default_styles")?De:((Ze,Te)=>W(Ze)||!Oe(Ze)?Te:I(Ze)?{...Te,width:ru(Ze)}:{...Te,width:jl})(se,De)})(y),ne={styles:U,attributes:Dt(y),colGroups:Wn(y)};return y.undoManager.ignore(()=>{const se=((De,Ze,Te,Ne,Fe,rt=Um)=>{const at=Kt.fromTag("table"),Tt=Fe!=="cells";Il(at,rt.styles),Tr(at,rt.attributes),rt.colGroups&&mr(at,(Gt=>{const Qt=Kt.fromTag("colgroup");return Me(Gt,()=>mr(Qt,Kt.fromTag("col"))),Qt})(Ze));const Rt=Math.min(De,Te);if(Tt&&Te>0){const Gt=Kt.fromTag("thead");mr(at,Gt);const Qt=Xv(Te,Ze,Fe==="sectionCells"?Rt:0,Ne);Dl(Gt,Qt)}const At=Kt.fromTag("tbody");mr(at,At);const Nt=Xv(Tt?De-Rt:De,Ze,Tt?0:Te,Ne);return Dl(At,Nt),at})(T,_,H,M,Rm(y),ne);fs(se,"data-mce-id","__mce");const ye=(De=>{const Ze=Kt.fromTag("div"),Te=Kt.fromDom(De.dom.cloneNode(!0));return mr(Ze,Te),(Ne=>Ne.dom.innerHTML)(Ze)})(se);y.insertContent(ye),y.addVisual()}),ut(bs(y),'table[data-mce-id="__mce"]').map(se=>(I(y)?bl(se):W(y)?fa(se):(ju(y)||(ye=>g(ye)&&ye.indexOf("%")!==-1)(U.width))&&nh(se),Sr(se),vo(se,"data-mce-id"),((ye,De)=>{Ke(Is(De,"tr"),Ze=>{_x(ye,Ze.dom),Ke(Is(Ze,"th,td"),Te=>{Yv(ye,Te.dom)})})})(y,se),((ye,De)=>{ut(De,"td,th").each(fe(oh,ye))})(y,se),se.dom)).getOrNull()};var sh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const TC="x-tinymce/dom-table-",Ex=TC+"rows",Ax=TC+"columns",OC=y=>{const _=sh.FakeClipboardItem(y);sh.write([_])},ma=y=>{var _;const T=(_=sh.read())!==null&&_!==void 0?_:[];return Q(T,M=>ie.from(M.getType(y)))},Wm=y=>{ma(y).isSome()&&sh.clear()},DC=y=>{y.fold(ol,_=>OC({[Ex]:_}))},Mc=()=>ma(Ex),ol=()=>Wm(Ex),rh=y=>{y.fold(RC,_=>OC({[Ax]:_}))},vp=()=>ma(Ax),RC=()=>Wm(Ax),Pr=y=>Af(Ac(y),jr(y)).filter($1),Mr=(y,_)=>{const T=jr(y),M=Te=>ml(Te,T),H=Te=>(Ne=>gr(Ac(Ne),jr(Ne)).filter($1))(y).bind(Ne=>M(Ne).map(Fe=>Te(Fe,Ne))),U=Te=>{y.focus()},ne=(Te,Ne=!1)=>H((Fe,rt)=>{const at=ko(Oc(y),Fe,rt);Te(Fe,at,Ne).each(U)}),se=()=>H((Te,Ne)=>((Fe,rt,at)=>{const Tt=Do(Fe);return Md(Tt,rt).bind(Rt=>{const At=kr(Tt,at,!1),Nt=Ys(At).rows.slice(Rt[0].row,Rt[Rt.length-1].row+Rt[Rt.length-1].rowspan),Gt=Ye(Nt,lt=>{const yn=$t(lt.cells,Yn=>!Yn.isLocked);return yn.length>0?[{...lt,cells:yn}]:[]}),Qt=Vv(Gt);return un(Qt.length>0,Qt)}).map(Rt=>D(Rt,At=>{const Nt=wm(At.element);return Ke(At.cells,Gt=>{const Qt=Kc(Gt.element);Pd(Qt,"colspan",Gt.colspan,1),Pd(Qt,"rowspan",Gt.rowspan,1),mr(Nt,Qt)}),Nt}))})(Te,ko(Oc(y),Te,Ne),Xs(Z,Kt.fromDom(y.getDoc()),ie.none()))),ye=()=>H((Te,Ne)=>((Fe,rt)=>{const at=Do(Fe);return Zi(at,rt).map(Tt=>{const Rt=Tt[Tt.length-1],At=Tt[0].column,Nt=Rt.column+Rt.colspan,Gt=((lt,yn,Yn)=>{if(Sc(lt)){const yo=$t(_c(lt),ji(yn,Yn)),oo=D(yo,bo=>{const Ko=Kc(bo.element);return i0(Ko,"span",Yn-yn),Ko}),Xn=Kt.fromTag("colgroup");return Dl(Xn,oo),[Xn]}return[]})(at,At,Nt),Qt=((lt,yn,Yn)=>D(lt.all,yo=>{const oo=$t(yo.cells,ji(yn,Yn)),Xn=D(oo,Ko=>{const oi=Kc(Ko.element);return i0(oi,"colspan",Yn-yn),oi}),bo=Kt.fromTag("tr");return Dl(bo,Xn),bo}))(at,At,Nt);return[...Gt,...Qt]})})(Te,ko(Oc(y),Te,Ne))),De=(Te,Ne)=>Ne().each(Fe=>{const rt=D(Fe,at=>Kc(at));H((at,Tt)=>{const Rt=Os(Kt.fromDom(y.getDoc())),At=((Nt,Gt,Qt,lt)=>({selection:kf(Nt),clipboard:Qt,generators:lt}))(Oc(y),0,rt,Rt);Te(at,At).each(U)})}),Ze=Te=>(Ne,Fe)=>((rt,at)=>Pe(rt,at)?ie.from(rt[at]):ie.none())(Fe,"type").each(rt=>{ne(Te(rt),Fe.no_events)});tn({mceTableSplitCells:()=>ne(_.unmergeCells),mceTableMergeCells:()=>ne(_.mergeCells),mceTableInsertRowBefore:()=>ne(_.insertRowsBefore),mceTableInsertRowAfter:()=>ne(_.insertRowsAfter),mceTableInsertColBefore:()=>ne(_.insertColumnsBefore),mceTableInsertColAfter:()=>ne(_.insertColumnsAfter),mceTableDeleteCol:()=>ne(_.deleteColumn),mceTableDeleteRow:()=>ne(_.deleteRow),mceTableCutCol:()=>ye().each(Te=>{rh(Te),ne(_.deleteColumn)}),mceTableCutRow:()=>se().each(Te=>{DC(Te),ne(_.deleteRow)}),mceTableCopyCol:()=>ye().each(Te=>rh(Te)),mceTableCopyRow:()=>se().each(Te=>DC(Te)),mceTablePasteColBefore:()=>De(_.pasteColsBefore,vp),mceTablePasteColAfter:()=>De(_.pasteColsAfter,vp),mceTablePasteRowBefore:()=>De(_.pasteRowsBefore,Mc),mceTablePasteRowAfter:()=>De(_.pasteRowsAfter,Mc),mceTableDelete:()=>Pr(y).each(Te=>{ml(Te,T).filter(Le(T)).each(Ne=>{const Fe=Kt.fromText("");if(Mu(Ne,Fe),ir(Ne),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const rt=y.dom.createRng();rt.setStart(Fe.dom,0),rt.setEnd(Fe.dom,0),y.selection.setRng(rt),y.nodeChanged()}})}),mceTableCellToggleClass:(Te,Ne)=>{H(Fe=>{const rt=Oc(y),at=Mt(rt,Rt=>y.formatter.match("tablecellclass",{value:Ne},Rt.dom)),Tt=at?y.formatter.remove:y.formatter.apply;Ke(rt,Rt=>Tt("tablecellclass",{value:Ne},Rt.dom)),Fd(y,Fe.dom,r0)})},mceTableToggleClass:(Te,Ne)=>{H(Fe=>{y.formatter.toggle("tableclass",{value:Ne},Fe.dom),Fd(y,Fe.dom,r0)})},mceTableToggleCaption:()=>{Pr(y).each(Te=>{ml(Te,T).each(Ne=>{mt(Ne,"caption").fold(()=>{const Fe=Kt.fromTag("caption");mr(Fe,Kt.fromText("Caption")),((rt,at,Tt)=>{Pu(rt,0).fold(()=>{mr(rt,at)},Rt=>{rn(Rt,at)})})(Ne,Fe),y.selection.setCursorLocation(Fe.dom,0)},Fe=>{cs("caption")(Te)&&Ul("td",Ne).each(rt=>y.selection.setCursorLocation(rt.dom,0)),ir(Fe)}),Fd(y,Ne.dom,vi)})})},mceTableSizingMode:(Te,Ne)=>(Fe=>Pr(y).each(rt=>{W(y)||I(y)||ju(y)||ml(rt,T).each(at=>{Fe!=="relative"||l0(at)?Fe!=="fixed"||ur(at)?Fe!=="responsive"||Yu(at)||fa(at):bl(at):nh(at),Sr(at),Fd(y,at.dom,vi)})}))(Ne),mceTableCellType:Ze(Te=>Te==="th"?_.makeCellsHeader:_.unmakeCellsHeader),mceTableColType:Ze(Te=>Te==="th"?_.makeColumnsHeader:_.unmakeColumnsHeader),mceTableRowType:Ze(Te=>{switch(Te){case"header":return _.makeRowsHeader;case"footer":return _.makeRowsFooter;default:return _.makeRowsBody}})},(Te,Ne)=>y.addCommand(Ne,Te)),y.addCommand("mceInsertTable",(Te,Ne)=>{((Fe,rt,at,Tt={})=>{const Rt=At=>$(At)&&At>0;if(Rt(rt)&&Rt(at)){const At=Tt.headerRows||0,Nt=Tt.headerColumns||0;return Jv(Fe,at,rt,Nt,At)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,Ne.rows,Ne.columns,Ne.options)}),y.addCommand("mceTableApplyCellStyle",(Te,Ne)=>{const Fe=Tt=>"tablecell"+Tt.toLowerCase().replace("-","");if(!v(Ne))return;const rt=$t(Oc(y),$1);if(rt.length===0)return;const at=((Tt,Rt)=>{const At={};return((Nt,Gt,Qt,lt)=>{tn(Nt,(yn,Yn)=>{(Gt(yn,Yn)?Qt:lt)(yn,Yn)})})(Tt,Rt,(Nt=>(Gt,Qt)=>{Nt[Qt]=Gt})(At),Z),At})(Ne,(Tt,Rt)=>y.formatter.has(Fe(Rt))&&g(Tt));(Tt=>{for(const Rt in Tt)if(Qn.call(Tt,Rt))return!1;return!0})(at)||(tn(at,(Tt,Rt)=>{const At=Fe(Rt);Ke(rt,Nt=>{Tt===""?y.formatter.remove(At,{value:null},Nt.dom,!0):y.formatter.apply(At,{value:Tt},Nt.dom)})}),M(rt[0]).each(Tt=>Fd(y,Tt.dom,r0)))})},ni=Fm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ps={before:ni.before,on:ni.on,after:ni.after,cata:(y,_,T,M)=>y.fold(_,T,M),getStart:y=>y.fold(X,X,X)},Er=(y,_)=>({selection:y,kill:_}),qr=(y,_)=>{const T=y.document.createRange();return T.selectNode(_.dom),T},c0=(y,_)=>{const T=y.document.createRange();return u0(T,_),T},u0=(y,_)=>y.selectNodeContents(_.dom),Tx=(y,_,T)=>{const M=y.document.createRange();var H;return H=M,_.fold(U=>{H.setStartBefore(U.dom)},(U,ne)=>{H.setStart(U.dom,ne)},U=>{H.setStartAfter(U.dom)}),((U,ne)=>{ne.fold(se=>{U.setEndBefore(se.dom)},(se,ye)=>{U.setEnd(se.dom,ye)},se=>{U.setEndAfter(se.dom)})})(M,T),M},Qv=(y,_,T,M,H)=>{const U=y.document.createRange();return U.setStart(_.dom,T),U.setEnd(M.dom,H),U},Ox=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),ih=Fm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),d0=(y,_,T)=>_(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset),f0=(y,_)=>{const T=((M,H)=>H.match({domRange:U=>({ltr:K(U),rtl:ie.none}),relative:(U,ne)=>({ltr:Oi(()=>Tx(M,U,ne)),rtl:Oi(()=>ie.some(Tx(M,ne,U)))}),exact:(U,ne,se,ye)=>({ltr:Oi(()=>Qv(M,U,ne,se,ye)),rtl:Oi(()=>ie.some(Qv(M,se,ye,U,ne)))})}))(y,_);return((M,H)=>{const U=H.ltr();return U.collapsed?H.rtl().filter(ne=>ne.collapsed===!1).map(ne=>ih.rtl(Kt.fromDom(ne.endContainer),ne.endOffset,Kt.fromDom(ne.startContainer),ne.startOffset)).getOrThunk(()=>d0(0,ih.ltr,U)):d0(0,ih.ltr,U)})(0,T)},Dx=(y,_)=>f0(y,_).match({ltr:(T,M,H,U)=>{const ne=y.document.createRange();return ne.setStart(T.dom,M),ne.setEnd(H.dom,U),ne},rtl:(T,M,H,U)=>{const ne=y.document.createRange();return ne.setStart(H.dom,U),ne.setEnd(T.dom,M),ne}});ih.ltr,ih.rtl;const eb=(y,_,T,M)=>({start:y,soffset:_,finish:T,foffset:M}),yl=(y,_,T,M)=>({start:Ps.on(y,_),finish:Ps.on(T,M)}),Rx=(y,_)=>{const T=Dx(y,_);return eb(Kt.fromDom(T.startContainer),T.startOffset,Kt.fromDom(T.endContainer),T.endOffset)},za=yl,tb=(y,_,T,M,H)=>zs(T,M)?ie.none():iu(T,M,_).bind(U=>{const ne=U.boxes.getOr([]);return ne.length>1?(H(y,ne,U.start,U.finish),ie.some(Er(ie.some(za(T,0,T,Wr(T))),!0))):ie.none()}),ah=(y,_)=>({item:y,mode:_}),du=(y,_,T,M=Yr)=>y.property().parent(_).map(H=>ah(H,M)),Yr=(y,_,T,M=Zm)=>T.sibling(y,_).map(H=>ah(H,M)),Zm=(y,_,T,M=Zm)=>{const H=y.property().children(_);return T.first(H).map(U=>ah(U,M))},Ix=[{current:du,next:Yr,fallback:ie.none()},{current:Yr,next:Zm,fallback:ie.some(du)},{current:Zm,next:Zm,fallback:ie.some(Yr)}],Nx=(y,_,T,M,H=Ix)=>pt(H,U=>U.current===T).bind(U=>U.current(y,_,M,U.next).orThunk(()=>U.fallback.bind(ne=>Nx(y,_,ne,M)))),nb=(y,_,T,M,H,U)=>Nx(y,_,M,H).bind(ne=>U(ne.item)?ie.none():T(ne.item)?ie.some(ne.item):nb(y,ne.item,T,ne.mode,H,U)),Vd=y=>_=>y.property().children(_).length===0,hE=(y,_,T,M)=>nb(y,_,T,Yr,{sibling:(H,U)=>H.query().prevSibling(U),first:H=>H.length>0?ie.some(H[H.length-1]):ie.none()},M),ob=(y,_,T,M)=>nb(y,_,T,Yr,{sibling:(H,U)=>H.query().nextSibling(U),first:H=>H.length>0?ie.some(H[0]):ie.none()},M),jm=Cf(),IC=(y,_)=>((T,M,H)=>hE(T,M,Vd(T),H))(jm,y,_),sb=(y,_)=>((T,M,H)=>ob(T,M,Vd(T),H))(jm,y,_),rb=Fm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),m0=y=>Je(y,"tr"),bp={...rb,verify:(y,_,T,M,H,U,ne)=>Je(M,"td,th",ne).bind(se=>Je(_,"td,th",ne).map(ye=>zs(se,ye)?zs(M,se)&&Wr(se)===H?U(ye):rb.none("in same cell"):_f(m0,[se,ye]).fold(()=>((De,Ze,Te)=>{const Ne=De.getRect(Ze),Fe=De.getRect(Te);return Fe.right>Ne.left&&Fe.left<Ne.right})(y,ye,se)?rb.success():U(ye),De=>U(ye)))).getOr(rb.none("default")),cata:(y,_,T,M,H)=>y.fold(_,T,M,H)},g0=cs("br"),Ha=(y,_,T)=>_(y,T).bind(M=>wo(M)&&Dm(M).trim().length===0?Ha(M,_,T):ie.some(M)),Px=(y,_,T,M)=>((H,U)=>Pu(H,U).filter(g0).orThunk(()=>Pu(H,U-1).filter(g0)))(_,T).bind(H=>M.traverse(H).fold(()=>Ha(H,M.gather,y).map(M.relative),U=>(ne=>ul(ne).bind(se=>{const ye=Ti(se);return((De,Ze)=>Lt(De,fe(zs,Ze)))(ye,ne).map(De=>((Ze,Te,Ne,Fe)=>({parent:Ze,children:Te,element:Ne,index:Fe}))(se,ye,ne,De))}))(U).map(ne=>Ps.on(ne.parent,ne.index)))),zd=(y,_)=>({left:y.left,top:y.top+_,right:y.right,bottom:y.bottom+_}),ib=(y,_)=>({left:y.left,top:y.top-_,right:y.right,bottom:y.bottom-_}),Xu=(y,_,T)=>({left:y.left+_,top:y.top+T,right:y.right+_,bottom:y.bottom+T}),ab=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),lb=(y,_)=>ie.some(y.getRect(_)),Km=(y,_,T)=>On(_)?lb(y,_).map(ab):wo(_)?((M,H,U)=>U>=0&&U<Wr(H)?M.getRangedRect(H,U,H,U+1):U>0?M.getRangedRect(H,U-1,H,U):ie.none())(y,_,T).map(ab):ie.none(),lh=(y,_)=>On(_)?lb(y,_).map(ab):wo(_)?y.getRangedRect(_,0,_,Wr(_)).map(ab):ie.none(),Bc=Fm([{none:[]},{retry:["caret"]}]),cb=(y,_,T)=>nt(_,Xg).fold(te,M=>lh(y,M).exists(H=>((U,ne)=>U.left<ne.left||Math.abs(ne.right-U.left)<1||U.left>ne.right)(T,H))),pE={point:y=>y.bottom,adjuster:(y,_,T,M,H)=>{const U=zd(H,5);return Math.abs(T.bottom-M.bottom)<1||T.top>H.bottom?Bc.retry(U):T.top===H.bottom?Bc.retry(zd(H,1)):cb(y,_,H)?Bc.retry(Xu(U,5,0)):Bc.none()},move:zd,gather:sb},ic=(y,_,T,M,H)=>H===0?ie.some(M):((U,ne,se)=>U.elementFromPoint(ne,se).filter(ye=>Ft(ye)==="table").isSome())(y,M.left,_.point(M))?((U,ne,se,ye,De)=>ic(U,ne,se,ne.move(ye,5),De))(y,_,T,M,H-1):y.situsFromPoint(M.left,_.point(M)).bind(U=>U.start.fold(ie.none,ne=>lh(y,ne).bind(se=>_.adjuster(y,ne,se,T,M).fold(ie.none,ye=>ic(y,_,T,ye,H-1))).orThunk(()=>ie.some(M)),ie.none)),Hd=(y,_,T)=>{const M=y.move(T,5),H=ic(_,y,T,M,100).getOr(M);return((U,ne,se)=>U.point(ne)>se.getInnerHeight()?ie.some(U.point(ne)-se.getInnerHeight()):U.point(ne)<0?ie.some(-U.point(ne)):ie.none())(y,H,_).fold(()=>_.situsFromPoint(H.left,y.point(H)),U=>(_.scrollBy(0,U),_.situsFromPoint(H.left,y.point(H)-U)))},Lc={tryUp:fe(Hd,{point:y=>y.top,adjuster:(y,_,T,M,H)=>{const U=ib(H,5);return Math.abs(T.top-M.top)<1||T.bottom<H.top?Bc.retry(U):T.bottom===H.top?Bc.retry(ib(H,1)):cb(y,_,H)?Bc.retry(Xu(U,5,0)):Bc.none()},move:ib,gather:IC}),tryDown:fe(Hd,pE),getJumpSize:K(5)},Mx=(y,_,T)=>y.getSelection().bind(M=>((H,U,ne,se)=>(g0(U)?((De,Ze,Te)=>Te.traverse(Ze).orThunk(()=>Ha(Ze,Te.gather,De)).map(Te.relative))(H,U,se):Px(H,U,ne,se)).map(De=>({start:De,finish:De})))(_,M.finish,M.foffset,T).fold(()=>ie.some(fo(M.finish,M.foffset)),H=>{const U=y.fromSitus(H);return ne=bp.verify(y,M.finish,M.foffset,U.finish,U.foffset,T.failure,_),bp.cata(ne,se=>ie.none(),()=>ie.none(),se=>ie.some(fo(se,0)),se=>ie.some(fo(se,Wr(se))));var ne})),_i=(y,_,T,M,H,U)=>U===0?ie.none():vE(y,_,T,M,H).bind(ne=>{const se=y.fromSitus(ne),ye=bp.verify(y,T,M,se.finish,se.foffset,H.failure,_);return bp.cata(ye,()=>ie.none(),()=>ie.some(ne),De=>zs(T,De)&&M===0?Fc(y,T,M,ib,H):_i(y,_,De,0,H,U-1),De=>zs(T,De)&&M===Wr(De)?Fc(y,T,M,zd,H):_i(y,_,De,Wr(De),H,U-1))}),Fc=(y,_,T,M,H)=>Km(y,_,T).bind(U=>xl(y,H,M(U,Lc.getJumpSize()))),xl=(y,_,T)=>{const M=V1().browser;return M.isChromium()||M.isSafari()||M.isFirefox()?_.retry(y,T):ie.none()},vE=(y,_,T,M,H)=>Km(y,T,M).bind(U=>xl(y,H,U)),Pf=(y,_,T,M,H)=>Je(M,"td,th",_).bind(U=>Je(U,"table",_).bind(ne=>((se,ye)=>Ee(se,De=>ul(De).exists(Ze=>zs(Ze,ye)),void 0).isSome())(H,ne)?((se,ye,De)=>Mx(se,ye,De).bind(Ze=>_i(se,ye,Ze.element,Ze.offset,De,20).map(se.fromSitus)))(y,_,T).bind(se=>Je(se.finish,"td,th",_).map(ye=>({start:U,finish:ye,range:se}))):ie.none())),$d=(y,_,T,M,H,U)=>U(M,_).orThunk(()=>Pf(y,_,T,M,H).map(ne=>{const se=ne.range;return Er(ie.some(za(se.start,se.soffset,se.finish,se.foffset)),!0)})),yp=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(M=>{const H=Is(M,"tr");return zs(T,H[0])?((U,ne,se)=>hE(jm,U,ye=>su(ye).isSome(),se))(M,0,_).map(U=>{const ne=Wr(U);return Er(ie.some(za(U,ne,U,ne)),!0)}):ie.none()})),Gm=(y,_)=>Je(y,"tr",_).bind(T=>Je(T,"table",_).bind(M=>{const H=Is(M,"tr");return zs(T,H[H.length-1])?((U,ne,se)=>ob(jm,U,ye=>$g(ye).isSome(),se))(M,0,_).map(U=>Er(ie.some(za(U,0,U,0)),!0)):ie.none()})),Kl=(y,_,T,M,H,U,ne)=>Pf(y,T,M,H,U).bind(se=>tb(_,T,se.start,se.finish,ne)),h0=y=>{let _=y;return{get:()=>_,set:T=>{_=T}}},p0=()=>{const y=(_=>{const T=h0(ie.none()),M=()=>T.get().each(_);return{clear:()=>{M(),T.set(ie.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:H=>{M(),T.set(ie.some(H))}}})(Z);return{...y,on:_=>y.get().each(_)}},ub=(y,_)=>Je(y,"td,th",_),v0=y=>Nu(y).exists(ao),NC={traverse:Wl,gather:sb,relative:Ps.before,retry:Lc.tryDown,failure:bp.failedDown},db={traverse:io,gather:IC,relative:Ps.before,retry:Lc.tryUp,failure:bp.failedUp},Ud=y=>_=>_===y,fb=Ud(38),ch=Ud(40),uh=y=>y>=37&&y<=40,Mf={isBackward:Ud(37),isForward:Ud(39)},Bf={isBackward:Ud(39),isForward:Ud(37)},mb=Fm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lf={domRange:mb.domRange,relative:mb.relative,exact:mb.exact,exactFromRange:y=>mb.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const _=(T=>T.match({domRange:M=>Kt.fromDom(M.startContainer),relative:(M,H)=>Ps.getStart(M),exact:(M,H,U,ne)=>M}))(y);return Kt.fromDom(wc(_).dom.defaultView)},range:eb},Ff=(y,_)=>{const T=Ft(y);return T==="input"?Ps.after(y):st(["br","img"],T)?_===0?Ps.before(y):Ps.after(y):Ps.on(y,_)},Vf=y=>ie.from(y.getSelection()),dh=(y,_)=>{Vf(y).each(T=>{T.removeAllRanges(),T.addRange(_)})},b0=(y,_,T,M,H)=>{const U=Qv(y,_,T,M,H);dh(y,U)},xp=(y,_)=>f0(y,_).match({ltr:(T,M,H,U)=>{b0(y,T,M,H,U)},rtl:(T,M,H,U)=>{Vf(y).each(ne=>{if(ne.setBaseAndExtent)ne.setBaseAndExtent(T.dom,M,H.dom,U);else if(ne.extend)try{((se,ye,De,Ze,Te,Ne)=>{ye.collapse(De.dom,Ze),ye.extend(Te.dom,Ne)})(0,ne,T,M,H,U)}catch{b0(y,H,U,T,M)}else b0(y,H,U,T,M)})}}),y0=(y,_,T,M,H)=>{const U=((ne,se,ye,De)=>{const Ze=Ff(ne,se),Te=Ff(ye,De);return Lf.relative(Ze,Te)})(_,T,M,H);xp(y,U)},Bx=(y,_,T)=>{const M=((H,U)=>{const ne=H.fold(Ps.before,Ff,Ps.after),se=U.fold(Ps.before,Ff,Ps.after);return Lf.relative(ne,se)})(_,T);xp(y,M)},wp=y=>{if(y.rangeCount>0){const _=y.getRangeAt(0),T=y.getRangeAt(y.rangeCount-1);return ie.some(eb(Kt.fromDom(_.startContainer),_.startOffset,Kt.fromDom(T.endContainer),T.endOffset))}return ie.none()},Si=y=>{if(y.anchorNode===null||y.focusNode===null)return wp(y);{const _=Kt.fromDom(y.anchorNode),T=Kt.fromDom(y.focusNode);return((M,H,U,ne)=>{const se=((De,Ze,Te,Ne)=>{const Fe=Iu(De).dom.createRange();return Fe.setStart(De.dom,Ze),Fe.setEnd(Te.dom,Ne),Fe})(M,H,U,ne),ye=zs(M,U)&&H===ne;return se.collapsed&&!ye})(_,y.anchorOffset,T,y.focusOffset)?ie.some(eb(_,y.anchorOffset,T,y.focusOffset)):wp(y)}},Lx=(y,_,T=!0)=>{const M=(T?c0:qr)(y,_);dh(y,M)},PC=y=>(_=>Vf(_).filter(T=>T.rangeCount>0).bind(Si))(y).map(_=>Lf.exact(_.start,_.soffset,_.finish,_.foffset)),Fx=(y,_,T)=>((M,H,U)=>((ne,se,ye)=>ne.caretPositionFromPoint?((De,Ze,Te)=>{var Ne;return ie.from((Ne=De.caretPositionFromPoint)===null||Ne===void 0?void 0:Ne.call(De,Ze,Te)).bind(Fe=>{if(Fe.offsetNode===null)return ie.none();const rt=De.createRange();return rt.setStart(Fe.offsetNode,Fe.offset),rt.collapse(),ie.some(rt)})})(ne,se,ye):ne.caretRangeFromPoint?((De,Ze,Te)=>{var Ne;return ie.from((Ne=De.caretRangeFromPoint)===null||Ne===void 0?void 0:Ne.call(De,Ze,Te))})(ne,se,ye):ie.none())(M.document,H,U).map(ne=>eb(Kt.fromDom(ne.startContainer),ne.startOffset,Kt.fromDom(ne.endContainer),ne.endOffset)))(y,_,T),Vx=y=>({elementFromPoint:(_,T)=>Kt.fromPoint(Kt.fromDom(y.document),_,T),getRect:_=>_.dom.getBoundingClientRect(),getRangedRect:(_,T,M,H)=>{const U=Lf.exact(_,T,M,H);return((ne,se)=>(ye=>{const De=ye.getClientRects(),Ze=De.length>0?De[0]:ye.getBoundingClientRect();return Ze.width>0||Ze.height>0?ie.some(Ze).map(Ox):ie.none()})(Dx(ne,se)))(y,U)},getSelection:()=>PC(y).map(_=>Rx(y,_)),fromSitus:_=>{const T=Lf.relative(_.start,_.finish);return Rx(y,T)},situsFromPoint:(_,T)=>Fx(y,_,T).map(M=>yl(M.start,M.soffset,M.finish,M.foffset)),clearSelection:()=>{(_=>{Vf(_).each(T=>T.removeAllRanges())})(y)},collapseSelection:(_=!1)=>{PC(y).each(T=>T.fold(M=>M.collapse(_),(M,H)=>{const U=_?M:H;Bx(y,U,U)},(M,H,U,ne)=>{const se=_?M:U,ye=_?H:ne;y0(y,se,ye,se,ye)}))},setSelection:_=>{y0(y,_.start,_.soffset,_.finish,_.foffset)},setRelativeSelection:(_,T)=>{Bx(y,_,T)},selectNode:_=>{Lx(y,_,!1)},selectContents:_=>{Lx(y,_)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(_=>{const T=_!==void 0?_.dom:document,M=T.body.scrollLeft||T.documentElement.scrollLeft,H=T.body.scrollTop||T.documentElement.scrollTop;return Ja(M,H)})(Kt.fromDom(y.document)).top,scrollBy:(_,T)=>{((M,H,U)=>{const ne=(U!==void 0?U.dom:document).defaultView;ne&&ne.scrollBy(M,H)})(_,T,Kt.fromDom(y.document))}}),zf=(y,_)=>({rows:y,cols:_}),x0=y=>nt(y,An).exists(ao),gb=(y,_)=>x0(y)||x0(_),zx=y=>y.dom.classList!==void 0,bE=(y,_)=>((T,M,H)=>{const U=((ne,se)=>{const ye=hn(ne,se);return ye===void 0||ye===""?[]:ye.split(" ")})(T,M).concat([H]);return fs(T,M,U.join(" ")),!0})(y,"class",_),Hf=(y,_)=>{zx(y)?y.dom.classList.add(_):bE(y,_)},hb=(y,_)=>zx(y)&&y.dom.classList.contains(_),MC=()=>({tag:"none"}),BC=y=>({tag:"multiple",elements:y}),fu=y=>({tag:"single",element:y}),Hx=y=>{const _=Kt.fromDom((se=>{if(P(se.target)){const ye=Kt.fromDom(se.target);if(On(ye)&&P(ye.dom.shadowRoot)&&se.composed&&se.composedPath){const De=se.composedPath();if(De)return fn(De)}}return ie.from(se.target)})(y).getOr(y.target)),T=()=>y.stopPropagation(),M=()=>y.preventDefault(),H=(U=M,ne=T,(...se)=>U(ne.apply(null,se)));var U,ne;return((se,ye,De,Ze,Te,Ne,Fe)=>({target:se,x:ye,y:De,stop:Ze,prevent:Te,kill:Ne,raw:Fe}))(_,y.clientX,y.clientY,T,M,H,y)},w0=(y,_,T,M)=>{y.dom.removeEventListener(_,T,M)},LC=Ce,fh=(y,_,T)=>((M,H,U,ne)=>((se,ye,De,Ze,Te)=>{const Ne=((Fe,rt)=>at=>{Fe(at)&&rt(Hx(at))})(De,Ze);return se.dom.addEventListener(ye,Ne,Te),{unbind:fe(w0,se,ye,Ne,Te)}})(M,H,U,ne,!1))(y,_,LC,T),Cp=Hx,pb=y=>!hb(Kt.fromDom(y.target),"ephox-snooker-resizer-bar"),FC=(y,_)=>{const T=(H=Ef.selectedSelector,{get:()=>Tc(Kt.fromDom(y.getBody()),H).fold(()=>gr(Ac(y),jr(y)).fold(MC,fu),BC)}),M=((U,ne,se)=>{const ye=Ne=>{vo(Ne,U.selected),vo(Ne,U.firstSelected),vo(Ne,U.lastSelected)},De=Ne=>{fs(Ne,U.selected,"1")},Ze=Ne=>{Te(Ne),se()},Te=Ne=>{const Fe=Is(Ne,`${U.selectedSelector},${U.firstSelectedSelector},${U.lastSelectedSelector}`);Ke(Fe,ye)};return{clearBeforeUpdate:Te,clear:Ze,selectRange:(Ne,Fe,rt,at)=>{Ze(Ne),Ke(Fe,De),fs(rt,U.firstSelected,"1"),fs(at,U.lastSelected,"1"),ne(Fe,rt,at)},selectedSelector:U.selectedSelector,firstSelectedSelector:U.firstSelectedSelector,lastSelectedSelector:U.lastSelectedSelector}})(Ef,(U,ne,se)=>{ml(ne).each(ye=>{const De=D(U,Fe=>Fe.dom),Ze=Id(y),Te=Xs(Z,Kt.fromDom(y.getDoc()),Ze),Ne=((Fe,rt,at)=>{const Tt=Do(Fe);return Md(Tt,rt).map(Rt=>{const At=kr(Tt,at,!1),{rows:Nt}=Ys(At),Gt=((lt,yn)=>{const Yn=lt.slice(0,yn[yn.length-1].row+1),yo=Vv(Yn);return Ye(yo,oo=>{const Xn=oo.cells.slice(0,yn[yn.length-1].column+1);return D(Xn,bo=>bo.element)})})(Nt,Rt),Qt=((lt,yn)=>{const Yn=lt.slice(yn[0].row+yn[0].rowspan-1,lt.length),yo=Vv(Yn);return Ye(yo,oo=>{const Xn=oo.cells.slice(yn[0].column+yn[0].colspan-1,oo.cells.length);return D(Xn,bo=>bo.element)})})(Nt,Rt);return{upOrLeftCells:Gt,downOrRightCells:Qt}})})(ye,{selection:Oc(y)},Te).map(Fe=>To(Fe,rt=>D(rt,at=>at.dom))).getOrUndefined();((Fe,rt,at,Tt,Rt)=>{Fe.dispatch("TableSelectionChange",{cells:rt,start:at,finish:Tt,otherCells:Rt})})(y,De,ne.dom,se.dom,Ne)})},()=>(U=>{U.dispatch("TableSelectionClear")})(y));var H;return y.on("init",U=>{const ne=y.getWin(),se=bs(y),ye=jr(y),De=((at,Tt,Rt,At)=>{const Nt=((Gt,Qt,lt,yn)=>{const Yn=p0(),yo=Yn.clear,oo=Xn=>{Yn.on(bo=>{yn.clearBeforeUpdate(Qt),ub(Xn.target,lt).each(Ko=>{iu(bo,Ko,lt).each(oi=>{const Ta=oi.boxes.getOr([]);if(Ta.length===1){const Ki=Ta[0],ac=Tn(Ki)==="false",Jm=Wt(po(Xn.target),Ki,zs);ac&&Jm&&yn.selectRange(Qt,Ta,Ki,Ki)}else Ta.length>1&&(yn.selectRange(Qt,Ta,oi.start,oi.finish),Gt.selectContents(Ko))})})})};return{clearstate:yo,mousedown:Xn=>{yn.clear(Qt),ub(Xn.target,lt).filter(v0).each(Yn.set)},mouseover:Xn=>{oo(Xn)},mouseup:Xn=>{oo(Xn),yo()}}})(Vx(at),Tt,Rt,At);return{clearstate:Nt.clearstate,mousedown:Nt.mousedown,mouseover:Nt.mouseover,mouseup:Nt.mouseup}})(ne,se,ye,M),Ze=((at,Tt,Rt,At)=>{const Nt=Vx(at),Gt=()=>(At.clear(Tt),ie.none());return{keydown:(Qt,lt,yn,Yn,yo,oo)=>{const Xn=Qt.raw,bo=Xn.which,Ko=Xn.shiftKey===!0;return Bv(Tt,At.selectedSelector).fold(()=>(uh(bo)&&!Ko&&At.clearBeforeUpdate(Tt),uh(bo)&&Ko&&!gb(lt,Yn)?ie.none:ch(bo)&&Ko?fe(Kl,Nt,Tt,Rt,NC,Yn,lt,At.selectRange):fb(bo)&&Ko?fe(Kl,Nt,Tt,Rt,db,Yn,lt,At.selectRange):ch(bo)?fe($d,Nt,Rt,NC,Yn,lt,Gm):fb(bo)?fe($d,Nt,Rt,db,Yn,lt,yp):ie.none),Ta=>{const Ki=ac=>()=>Q(ac,Oa=>((Ju,Sp,Wf,kp,T0)=>ua(kp,Ju,Sp,T0.firstSelectedSelector,T0.lastSelectedSelector).map(Zf=>(T0.clearBeforeUpdate(Wf),T0.selectRange(Wf,Zf.boxes,Zf.start,Zf.finish),Zf.boxes)))(Oa.rows,Oa.cols,Tt,Ta,At)).fold(()=>Sf(Tt,At.firstSelectedSelector,At.lastSelectedSelector).map(Oa=>{const Ju=ch(bo)||oo.isForward(bo)?Ps.after:Ps.before;return Nt.setRelativeSelection(Ps.on(Oa.first,0),Ju(Oa.table)),At.clear(Tt),Er(ie.none(),!0)}),Oa=>ie.some(Er(ie.none(),!0)));return uh(bo)&&Ko&&!gb(lt,Yn)?ie.none:ch(bo)&&Ko?Ki([zf(1,0)]):fb(bo)&&Ko?Ki([zf(-1,0)]):oo.isBackward(bo)&&Ko?Ki([zf(0,-1),zf(-1,0)]):oo.isForward(bo)&&Ko?Ki([zf(0,1),zf(1,0)]):uh(bo)&&!Ko?Gt:ie.none})()},keyup:(Qt,lt,yn,Yn,yo)=>Bv(Tt,At.selectedSelector).fold(()=>{const oo=Qt.raw,Xn=oo.which;return oo.shiftKey===!0&&uh(Xn)&&gb(lt,Yn)?((bo,Ko,oi,Ta,Ki,ac,Jm)=>zs(oi,Ki)&&Ta===ac?ie.none():Je(oi,"td,th",Ko).bind(Oa=>Je(Ki,"td,th",Ko).bind(Ju=>tb(bo,Ko,Oa,Ju,Jm))))(Tt,Rt,lt,yn,Yn,yo,At.selectRange):ie.none()},ie.none)}})(ne,se,ye,M),Te=((at,Tt,Rt,At)=>{const Nt=Vx(at);return(Gt,Qt)=>{At.clearBeforeUpdate(Tt),iu(Gt,Qt,Rt).each(lt=>{const yn=lt.boxes.getOr([]);At.selectRange(Tt,yn,lt.start,lt.finish),Nt.selectContents(Qt),Nt.collapseSelection()})}})(ne,se,ye,M);y.on("TableSelectorChange",at=>Te(at.start,at.finish));const Ne=(at,Tt)=>{(Rt=>Rt.raw.shiftKey===!0)(at)&&(Tt.kill&&at.kill(),Tt.selection.each(Rt=>{const At=Lf.relative(Rt.start,Rt.finish),Nt=Dx(ne,At);y.selection.setRng(Nt)}))},Fe=at=>at.button===0,rt=(()=>{const at=h0(Kt.fromDom(se)),Tt=h0(0);return{touchEnd:Rt=>{const At=Kt.fromDom(Rt.target);if(cs("td")(At)||cs("th")(At)){const Nt=at.get(),Gt=Tt.get();zs(Nt,At)&&Rt.timeStamp-Gt<300&&(Rt.preventDefault(),Te(At,At))}at.set(At),Tt.set(Rt.timeStamp)}}})();y.on("dragstart",at=>{De.clearstate()}),y.on("mousedown",at=>{Fe(at)&&pb(at)&&De.mousedown(Cp(at))}),y.on("mouseover",at=>{var Tt;(Tt=at).buttons!==void 0&&!(1&Tt.buttons)||!pb(at)||De.mouseover(Cp(at))}),y.on("mouseup",at=>{Fe(at)&&pb(at)&&De.mouseup(Cp(at))}),y.on("touchend",rt.touchEnd),y.on("keyup",at=>{const Tt=Cp(at);if(Tt.raw.shiftKey&&uh(Tt.raw.which)){const Rt=y.selection.getRng(),At=Kt.fromDom(Rt.startContainer),Nt=Kt.fromDom(Rt.endContainer);Ze.keyup(Tt,At,Rt.startOffset,Nt,Rt.endOffset).each(Gt=>{Ne(Tt,Gt)})}}),y.on("keydown",at=>{const Tt=Cp(at);_.hide();const Rt=y.selection.getRng(),At=Kt.fromDom(Rt.startContainer),Nt=Kt.fromDom(Rt.endContainer),Gt=Bo(Mf,Bf)(Kt.fromDom(y.selection.getStart()));Ze.keydown(Tt,At,Rt.startOffset,Nt,Rt.endOffset,Gt).each(Qt=>{Ne(Tt,Qt)}),_.show()}),y.on("NodeChange",()=>{const at=y.selection,Tt=Kt.fromDom(at.getStart()),Rt=Kt.fromDom(at.getEnd());_f(ml,[Tt,Rt]).fold(()=>M.clear(se),Z)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(Ef.firstSelected),y.serializer.addTempAttr(Ef.lastSelected)}),{getSelectedCells:()=>((U,ne,se,ye)=>{switch(U.tag){case"none":return ne();case"single":return(De=>[De.dom])(U.element);case"multiple":return(De=>D(De,Ze=>Ze.dom))(U.elements)}})(T.get(),K([])),clearSelectedCells:U=>M.clear(Kt.fromDom(U))}},mu=y=>{let _=[];return{bind:T=>{if(T===void 0)throw new Error("Event bind error: undefined handler");_.push(T)},unbind:T=>{_=$t(_,M=>M!==T)},trigger:(...T)=>{const M={};Ke(y,(H,U)=>{M[H]=T[U]}),Ke(_,H=>{H(M)})}}},qm=y=>({registry:To(y,_=>({bind:_.bind,unbind:_.unbind})),trigger:To(y,_=>_.trigger)}),vb=y=>y.slice(0).sort(),bb=(y,_)=>{const T=$t(_,M=>!st(y,M));T.length>0&&(M=>{throw new Error("Unsupported keys for object: "+vb(M).join(", "))})(T)},C0=y=>((_,T)=>((M,H,U)=>{if(H.length===0)throw new Error("You must specify at least one required field.");return((ne,se)=>{if(!x(se))throw new Error("The "+ne+" fields must be an array. Was: "+se+".");Ke(se,ye=>{if(!g(ye))throw new Error("The value "+ye+" in the "+ne+" fields was not a string.")})})("required",H),(ne=>{const se=vb(ne);pt(se,(ye,De)=>De<se.length-1&&ye===se[De+1]).each(ye=>{throw new Error("The field: "+ye+" occurs more than once in the combined fields: ["+se.join(", ")+"].")})})(H),ne=>{const se=xs(ne);Mt(H,De=>st(se,De))||((De,Ze)=>{throw new Error("All required keys ("+vb(De).join(", ")+") were not specified. Specified keys were: "+vb(Ze).join(", ")+".")})(H,se),M(H,se);const ye=$t(H,De=>!U.validate(ne[De],De));return ye.length>0&&((De,Ze)=>{throw new Error("All values need to be of type: "+Ze+". Keys ("+vb(De).join(", ")+") were not.")})(ye,U.label),ne}})(_,T,{validate:B,label:"function"}))(bb,y),yb=C0(["compare","extract","mutate","sink"]),ga=C0(["element","start","stop","destroy"]),_0=C0(["forceDrop","drop","move","delayDrop"]),Ym=()=>{const y=(()=>{const M=qm({move:mu(["info"])});return{onEvent:Z,reset:Z,events:M.registry}})(),_=(()=>{let M=ie.none();const H=qm({move:mu(["info"])});return{onEvent:(U,ne)=>{ne.extract(U).each(se=>{((De,Ze)=>{const Te=M.map(Ne=>De.compare(Ne,Ze));return M=ie.some(Ze),Te})(ne,se).each(De=>{H.trigger.move(De)})})},reset:()=>{M=ie.none()},events:H.registry}})();let T=y;return{on:()=>{T.reset(),T=_},off:()=>{T.reset(),T=y},isOn:()=>T===_,onEvent:(M,H)=>{T.onEvent(M,H)},events:_.events}},Xm=y=>{const _=y.replace(/\./g,"-");return{resolve:T=>_+"-"+T}},xb=Xm("ephox-dragster").resolve;var S0=yb({compare:(y,_)=>Ja(_.left-y.left,_.top-y.top),extract:y=>ie.some(Ja(y.x,y.y)),sink:(y,_)=>{const T=(se=>{const ye={layerClass:xb("blocker"),...se},De=Kt.fromTag("div");return fs(De,"role","presentation"),Il(De,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Hf(De,xb("blocker")),Hf(De,ye.layerClass),{element:K(De),destroy:()=>{ir(De)}}})(_),M=fh(T.element(),"mousedown",y.forceDrop),H=fh(T.element(),"mouseup",y.drop),U=fh(T.element(),"mousemove",y.move),ne=fh(T.element(),"mouseout",y.delayDrop);return ga({element:T.element,start:se=>{mr(se,T.element())},stop:()=>{ir(T.element())},destroy:()=>{T.destroy(),H.unbind(),U.unbind(),ne.unbind(),M.unbind()}})},mutate:(y,_)=>{y.mutate(_.left,_.top)}});const mh=Xm("ephox-snooker").resolve,$f=mh("resizer-bar"),$x=mh("resizer-rows"),k0=mh("resizer-cols"),sl=y=>{const _=Is(y.parent(),"."+$f);Ke(_,ir)},Uf=(y,_,T)=>{const M=y.origin();Ke(_,H=>{H.each(U=>{const ne=T(M,U);Hf(ne,$f),mr(y.parent(),ne)})})},Ux=(y,_,T,M,H)=>{const U=bf(T),ne=_.isResizable,se=M.length>0?zu.positions(M,T):[],ye=se.length>0?((Te,Ne)=>Ye(Te.all,(Fe,rt)=>Ne(Fe.element)?[rt]:[]))(y,ne):[];((Te,Ne,Fe,rt)=>{Uf(Te,Ne,(at,Tt)=>{const Rt=((At,Nt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Il(yn,{position:"absolute",left:Nt+"px",top:Gt-3.5+"px",height:"7px",width:Qt+"px"}),Tr(yn,{"data-row":At,role:"presentation"}),yn})(Tt.row,Fe.left-at.left,Tt.y-at.top,rt);return Hf(Rt,$x),Rt})})(_,$t(se,(Te,Ne)=>Se(ye,Fe=>Ne===Fe)),U,Fg(T));const De=H.length>0?yf.positions(H,T):[],Ze=De.length>0?((Te,Ne)=>{const Fe=[];return Me(Te.grid.columns,rt=>{ks(Te,rt).map(at=>at.element).forall(Ne)&&Fe.push(rt)}),$t(Fe,rt=>{const at=$i(Te,Tt=>Tt.column===rt);return Mt(at,Tt=>Ne(Tt.element))})})(y,ne):[];((Te,Ne,Fe,rt)=>{Uf(Te,Ne,(at,Tt)=>{const Rt=((At,Nt,Gt,Qt,lt)=>{const yn=Kt.fromTag("div");return Il(yn,{position:"absolute",left:Nt-3.5+"px",top:Gt+"px",height:lt+"px",width:"7px"}),Tr(yn,{"data-column":At,role:"presentation"}),yn})(Tt.col,Tt.x-at.left,Fe.top-at.top,0,rt);return Hf(Rt,k0),Rt})})(_,$t(De,(Te,Ne)=>Se(Ze,Fe=>Ne===Fe)),U,Av(T))},xt=(y,_)=>{if(sl(y),y.isResizable(_)){const T=Do(_),M=Od(T),H=tp(T);Ux(T,y,_,M,H)}},_p=(y,_)=>{const T=Is(y.parent(),"."+$f);Ke(T,_)},yE=y=>{_p(y,_=>{_o(_,"display","none")})},VC=y=>{_p(y,_=>{_o(_,"display","block")})},E0=mh("resizer-bar-dragging"),gu=y=>{const _=(()=>{const Te=qm({drag:mu(["xDelta","yDelta","target"])});let Ne=ie.none();const Fe=(()=>{const rt=qm({drag:mu(["xDelta","yDelta"])});return{mutate:(at,Tt)=>{rt.trigger.drag(at,Tt)},events:rt.registry}})();return Fe.events.drag.bind(rt=>{Ne.each(at=>{Te.trigger.drag(rt.xDelta,rt.yDelta,at)})}),{assign:rt=>{Ne=ie.some(rt)},get:()=>Ne,mutate:Fe.mutate,events:Te.registry}})(),T=((Te,Ne={})=>{var Fe;return((rt,at,Tt)=>{let Rt=!1;const At=qm({start:mu([]),stop:mu([])}),Nt=Ym(),Gt=()=>{yn.stop(),Nt.isOn()&&(Nt.off(),At.trigger.stop())},Qt=((Yn,yo)=>{let oo=null;const Xn=()=>{S(oo)||(clearTimeout(oo),oo=null)};return{cancel:Xn,throttle:(...bo)=>{Xn(),oo=setTimeout(()=>{oo=null,Yn.apply(null,bo)},200)}}})(Gt);Nt.events.move.bind(Yn=>{at.mutate(rt,Yn.info)});const lt=Yn=>(...yo)=>{Rt&&Yn.apply(null,yo)},yn=at.sink(_0({forceDrop:Gt,drop:lt(Gt),move:lt(Yn=>{Qt.cancel(),Nt.onEvent(Yn,at)}),delayDrop:lt(Qt.throttle)}),Tt);return{element:yn.element,go:Yn=>{yn.start(Yn),Nt.on(),At.trigger.start()},on:()=>{Rt=!0},off:()=>{Rt=!1},isActive:()=>Rt,destroy:()=>{yn.destroy()},events:At.registry}})(Te,(Fe=Ne.mode)!==null&&Fe!==void 0?Fe:S0,Ne)})(_,{});let M=ie.none();const H=(Te,Ne)=>ie.from(hn(Te,Ne));_.events.drag.bind(Te=>{H(Te.target,"data-row").each(Ne=>{const Fe=df(Te.target,"top");_o(Te.target,"top",Fe+Te.yDelta+"px")}),H(Te.target,"data-column").each(Ne=>{const Fe=df(Te.target,"left");_o(Te.target,"left",Fe+Te.xDelta+"px")})});const U=(Te,Ne)=>df(Te,Ne)-wr(Te,"data-initial-"+Ne,0);T.events.stop.bind(()=>{_.get().each(Te=>{M.each(Ne=>{H(Te,"data-row").each(Fe=>{const rt=U(Te,"top");vo(Te,"data-initial-top"),Ze.trigger.adjustHeight(Ne,rt,parseInt(Fe,10))}),H(Te,"data-column").each(Fe=>{const rt=U(Te,"left");vo(Te,"data-initial-left"),Ze.trigger.adjustWidth(Ne,rt,parseInt(Fe,10))}),xt(y,Ne)})})});const ne=(Te,Ne)=>{Ze.trigger.startAdjust(),_.assign(Te),fs(Te,"data-initial-"+Ne,df(Te,Ne)),Hf(Te,E0),_o(Te,"opacity","0.2"),T.go(y.parent())},se=fh(y.parent(),"mousedown",Te=>{var Ne;Ne=Te.target,hb(Ne,$x)&&ne(Te.target,"top"),(Fe=>hb(Fe,k0))(Te.target)&&ne(Te.target,"left")}),ye=Te=>zs(Te,y.view()),De=fh(y.view(),"mouseover",Te=>{var Ne;(Ne=Te.target,Je(Ne,"table",ye).filter(ao)).fold(()=>{qa(Te.target)&&sl(y)},Fe=>{T.isActive()&&(M=ie.some(Fe),xt(y,Fe))})}),Ze=qm({adjustHeight:mu(["table","delta","row"]),adjustWidth:mu(["table","delta","column"]),startAdjust:mu([])});return{destroy:()=>{se.unbind(),De.unbind(),T.destroy(),sl(y)},refresh:Te=>{xt(y,Te)},on:T.on,off:T.off,hideBars:fe(yE,y),showBars:fe(VC,y),events:Ze.registry}},A0=y=>P(y)&&y.nodeName==="TABLE",wb="bar-",Wx=y=>hn(y,"data-mce-resize")!=="false",Zx=y=>{const _=p0(),T=p0(),M=p0();let H,U,ne,se;const ye=Te=>If(y,Te),De=()=>Wg(y)?W1():Gu(),Ze=(Te,Ne,Fe,rt)=>{const at=(At=>{return ho(Nt=At,"corner-")?((Gt,Qt)=>Gt.substring(7))(Nt):Nt;var Nt})(Ne),Tt=sn(at,"e"),Rt=ho(at,"n");if(U===""&&nh(Te),se===""&&(At=>{const Nt=(Gt=>Dd(Gt)+"px")(At);js(At,ie.none(),ie.some(Nt)),uu(At)})(Te),Fe!==H&&U!==""){_o(Te,"width",U);const At=De(),Nt=ye(Te),Gt=Wg(y)||Tt?(Qt=>lu(Qt).columns)(Te)-1:0;Bd(Te,Fe-H,Gt,At,Nt)}else if((At=>/^(\d+(\.\d+)?)%$/.test(At))(U)){const At=parseFloat(U.replace("%",""));_o(Te,"width",Fe*At/H+"%")}if((At=>/^(\d+(\.\d+)?)px$/.test(At))(U)&&(At=>{const Nt=Do(At);Sc(Nt)||Ke(Dr(At),Gt=>{const Qt=ta(Gt,"width");_o(Gt,"width",Qt),vo(Gt,"width")})})(Te),rt!==ne&&se!==""){_o(Te,"height",se);const At=Rt?0:(Nt=>lu(Nt).rows)(Te)-1;Gg(Te,rt-ne,At)}};return y.on("init",()=>{const Te=((Ne,Fe)=>Ne.inline?((rt,at,Tt)=>({parent:K(at),view:K(rt),origin:K(Ja(0,0)),isResizable:Tt}))(Kt.fromDom(Ne.getBody()),(()=>{const rt=Kt.fromTag("div");return Il(rt,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),mr(qc(Kt.fromDom(document)),rt),rt})(),Fe):((rt,at)=>{const Tt=Oo(rt)?(Rt=>Kt.fromDom(wc(Rt).dom.documentElement))(rt):rt;return{parent:K(Tt),view:K(rt),origin:K(Ja(0,0)),isResizable:at}})(Kt.fromDom(Ne.getDoc()),Fe))(y,Wx);if(M.set(Te),(Ne=>{const Fe=Ne.options.get("object_resizing");return st(Fe.split(","),"table")})(y)&&oe(y)){const Ne=((Fe,rt,at)=>{const Tt=zu,Rt=yf,At=gu(Fe),Nt=qm({beforeResize:mu(["table","type"]),afterResize:mu(["table","type"]),startDrag:mu([])});return At.events.adjustHeight.bind(Gt=>{const Qt=Gt.table;Nt.trigger.beforeResize(Qt,"row");const lt=Tt.delta(Gt.delta,Qt);Gg(Qt,lt,Gt.row),Nt.trigger.afterResize(Qt,"row")}),At.events.startAdjust.bind(Gt=>{Nt.trigger.startDrag()}),At.events.adjustWidth.bind(Gt=>{const Qt=Gt.table;Nt.trigger.beforeResize(Qt,"col");const lt=Rt.delta(Gt.delta,Qt),yn=at(Qt);Bd(Qt,lt,Gt.column,rt,yn),Nt.trigger.afterResize(Qt,"col")}),{on:At.on,off:At.off,refreshBars:At.refresh,hideBars:At.hideBars,showBars:At.showBars,destroy:At.destroy,events:Nt.registry}})(Te,De(),ye);Ne.on(),Ne.events.startDrag.bind(Fe=>{_.set(y.selection.getRng())}),Ne.events.beforeResize.bind(Fe=>{const rt=Fe.table.dom;((at,Tt,Rt,At,Nt)=>{at.dispatch("ObjectResizeStart",{target:Tt,width:Rt,height:At,origin:Nt})})(y,rt,Im(rt),Nm(rt),wb+Fe.type)}),Ne.events.afterResize.bind(Fe=>{const rt=Fe.table,at=rt.dom;Sr(rt),_.on(Tt=>{y.selection.setRng(Tt),y.focus()}),((Tt,Rt,At,Nt,Gt)=>{Tt.dispatch("ObjectResized",{target:Rt,width:At,height:Nt,origin:Gt})})(y,at,Im(at),Nm(at),wb+Fe.type),y.undoManager.add()}),T.set(Ne)}}),y.on("ObjectResizeStart",Te=>{const Ne=Te.target;if(A0(Ne)){const Fe=Kt.fromDom(Ne);Ke(y.dom.select(".mce-clonedresizable"),rt=>{y.dom.addClass(rt,"mce-"+Ug(y)+"-columns")}),!ur(Fe)&&I(y)?bl(Fe):!l0(Fe)&&ju(y)&&nh(Fe),Yu(Fe)&&ho(Te.origin,wb)&&nh(Fe),H=Te.width,U=W(y)?"":vC(y,Ne).getOr(""),ne=Te.height,se=Nv(y,Ne).getOr("")}}),y.on("ObjectResized",Te=>{const Ne=Te.target;if(A0(Ne)){const Fe=Kt.fromDom(Ne),rt=Te.origin;(at=>ho(at,"corner-"))(rt)&&Ze(Fe,rt,Te.width,Te.height),Sr(Fe),Fd(y,Fe.dom,r0)}}),y.on("SwitchMode",()=>{T.on(Te=>{y.mode.isReadOnly()?Te.hideBars():Te.showBars()})}),y.on("dragstart dragend",Te=>{T.on(Ne=>{Te.type==="dragstart"?(Ne.hideBars(),Ne.off()):(Ne.on(),Ne.showBars())})}),y.on("remove",()=>{T.on(Te=>{Te.destroy()}),M.on(Te=>{((Ne,Fe)=>{Ne.inline&&ir(Fe.parent())})(y,Te)})}),{refresh:Te=>{T.on(Ne=>Ne.refreshBars(Kt.fromDom(Te)))},hide:()=>{T.on(Te=>Te.hideBars())},show:()=>{T.on(Te=>Te.showBars())}}},xE=y=>{(H=>{const U=H.options.register;U("table_clone_elements",{processor:"string[]"}),U("table_use_colgroups",{processor:"boolean",default:!0}),U("table_header_type",{processor:ne=>{const se=st(["section","cells","sectionCells","auto"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),U("table_sizing_mode",{processor:"string",default:"auto"}),U("table_default_attributes",{processor:"object",default:{border:"1"}}),U("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),U("table_column_resizing",{processor:ne=>{const se=st(["preservetable","resizetable"],ne);return se?{value:ne,valid:se}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),U("table_resize_bars",{processor:"boolean",default:!0}),U("table_style_by_css",{processor:"boolean",default:!0}),U("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const _=Zx(y),T=FC(y,_),M=Sx(y,_,T);return Mr(y,M),((H,U)=>{const ne=jr(H),se=ye=>gr(Ac(H)).bind(De=>ml(De,ne).map(Ze=>{const Te=ko(Oc(H),Ze,De);return ye(Ze,Te)})).getOr("");tn({mceTableRowType:()=>se(U.getTableRowType),mceTableCellType:()=>se(U.getTableCellType),mceTableColType:()=>se(U.getTableColType)},(ye,De)=>H.addQueryValueHandler(De,ye))})(y,M),Dc(y,M),{getSelectedCells:T.getSelectedCells,clearSelectedCells:T.clearSelectedCells}};n.add("dom",y=>({table:xE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(I,W,oe)=>{var Oe;return oe(I,W.prototype)?!0:((Oe=I.constructor)===null||Oe===void 0?void 0:Oe.name)===W.name},l=I=>{const W=typeof I;return I===null?"null":W==="object"&&Array.isArray(I)?"array":W==="object"&&r(I,String,(oe,Oe)=>Oe.isPrototypeOf(oe))?"string":W},d=I=>W=>l(W)===I,g=I=>W=>typeof W===I,v=d("string"),x=d("object"),S=d("array"),O=g("boolean"),V=I=>I==null,P=I=>!V(I),B=g("function"),$=g("number"),Z=()=>{},K=(I,W)=>oe=>I(W(oe)),X=I=>()=>I,ae=(I,W)=>I===W;function fe(I,...W){return(...oe)=>{const Oe=W.concat(oe);return I.apply(null,Oe)}}const Le=I=>W=>!I(W),Re=X(!1);class te{constructor(W,oe){this.tag=W,this.value=oe}static some(W){return new te(!0,W)}static none(){return te.singletonNone}fold(W,oe){return this.tag?oe(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?te.some(W(this.value)):te.none()}bind(W){return this.tag?W(this.value):te.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:te.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return P(W)?te.some(W):te.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}te.singletonNone=new te(!1);const Ce=Array.prototype.slice,ie=Array.prototype.indexOf,Ue=Array.prototype.push,We=(I,W)=>ie.call(I,W),qe=(I,W)=>We(I,W)>-1,st=(I,W)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const $e=I[oe];if(W($e,oe))return!0}return!1},Se=(I,W)=>{const oe=I.length,Oe=new Array(oe);for(let $e=0;$e<oe;$e++){const Dt=I[$e];Oe[$e]=W(Dt,$e)}return Oe},Me=(I,W)=>{for(let oe=0,Oe=I.length;oe<Oe;oe++){const $e=I[oe];W($e,oe)}},D=(I,W)=>{const oe=[];for(let Oe=0,$e=I.length;Oe<$e;Oe++){const Dt=I[Oe];W(Dt,Oe)&&oe.push(Dt)}return oe},Ke=(I,W)=>{if(I.length===0)return[];{let oe=W(I[0]);const Oe=[];let $e=[];for(let Dt=0,Wn=I.length;Dt<Wn;Dt++){const po=I[Dt],ao=W(po);ao!==oe&&(Oe.push($e),$e=[]),oe=ao,$e.push(po)}return $e.length!==0&&Oe.push($e),Oe}},ct=(I,W,oe)=>(Me(I,(Oe,$e)=>{oe=W(oe,Oe,$e)}),oe),$t=(I,W,oe)=>{for(let Oe=0,$e=I.length;Oe<$e;Oe++){const Dt=I[Oe];if(W(Dt,Oe))return te.some(Dt);if(oe(Dt,Oe))break}return te.none()},Jt=(I,W)=>$t(I,W,Re),et=I=>{const W=[];for(let oe=0,Oe=I.length;oe<Oe;++oe){if(!S(I[oe]))throw new Error("Arr.flatten item "+oe+" was not an array, input: "+I);Ue.apply(W,I[oe])}return W},pt=(I,W)=>et(Se(I,W)),Lt=I=>{const W=Ce.call(I,0);return W.reverse(),W},tt=(I,W)=>W>=0&&W<I.length?te.some(I[W]):te.none(),Ye=I=>tt(I,0),Mt=I=>tt(I,I.length-1),no=(I,W)=>{const oe=[],Oe=B(W)?$e=>st(oe,Dt=>W(Dt,$e)):$e=>qe(oe,$e);for(let $e=0,Dt=I.length;$e<Dt;$e++){const Wn=I[$e];Oe(Wn)||oe.push(Wn)}return oe},Fn=(I,W,oe=ae)=>I.exists(Oe=>oe(Oe,W)),fn=(I,W,oe=ae)=>_n(I,W,oe).getOr(I.isNone()&&W.isNone()),_n=(I,W,oe)=>I.isSome()&&W.isSome()?te.some(oe(I.getOrDie(),W.getOrDie())):te.none(),Q=8,xs=11,Qn=1,tn=3,To=(I,W)=>{const Oe=(W||document).createElement("div");if(Oe.innerHTML=I,!Oe.hasChildNodes()||Oe.childNodes.length>1){const $e="HTML does not have a single root node";throw console.error($e,I),new Error($e)}return be(Oe.childNodes[0])},je=(I,W)=>{const Oe=(W||document).createElement(I);return be(Oe)},re=(I,W)=>{const Oe=(W||document).createTextNode(I);return be(Oe)},be=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},he={fromHtml:To,fromTag:je,fromText:re,fromDom:be,fromPoint:(I,W,oe)=>te.from(I.dom.elementFromPoint(W,oe)).map(be)},gt=(I,W)=>{const oe=I.dom;if(oe.nodeType!==Qn)return!1;{const Oe=oe;if(Oe.matches!==void 0)return Oe.matches(W);if(Oe.msMatchesSelector!==void 0)return Oe.msMatchesSelector(W);if(Oe.webkitMatchesSelector!==void 0)return Oe.webkitMatchesSelector(W);if(Oe.mozMatchesSelector!==void 0)return Oe.mozMatchesSelector(W);throw new Error("Browser lacks native selectors")}},zt=(I,W)=>I.dom===W.dom,vt=(I,W)=>{const oe=I.dom,Oe=W.dom;return oe===Oe?!1:oe.contains(Oe)},Ft=gt,Vt=typeof window<"u"?window:Function("return this;")(),wn=(I,W)=>{let oe=W??Vt;for(let Oe=0;Oe<I.length&&oe!==void 0&&oe!==null;++Oe)oe=oe[I[Oe]];return oe},cn=(I,W)=>{const oe=I.split(".");return wn(oe,W)},An=(I,W)=>cn(I,W),On=(I,W)=>{const oe=An(I,W);if(oe==null)throw new Error(I+" not available on this browser");return oe},wo=Object.getPrototypeOf,Oo=I=>On("HTMLElement",I),Ho=I=>{const W=cn("ownerDocument.defaultView",I);return x(I)&&(Oo(W).prototype.isPrototypeOf(I)||/^HTML\w*Element$/.test(wo(I).constructor.name))},cs=I=>I.dom.nodeName.toLowerCase(),rr=I=>I.dom.nodeType,fs=I=>W=>rr(W)===I,Tr=I=>rr(I)===Q||cs(I)==="#comment",hn=I=>Eo(I)&&Ho(I.dom),Eo=fs(Qn),vo=fs(tn),tr=fs(xs),ea=I=>W=>Eo(W)&&cs(W)===I,Kt=I=>te.from(I.dom.parentNode).map(he.fromDom),gi=I=>te.from(I.dom.parentElement).map(he.fromDom),ss=I=>te.from(I.dom.nextSibling).map(he.fromDom),Ul=I=>Se(I.dom.childNodes,he.fromDom),zs=(I,W)=>{const oe=I.dom.childNodes;return te.from(oe[W]).map(he.fromDom)},ei=I=>zs(I,0),bm=I=>zs(I,I.dom.childNodes.length-1),Iu=I=>tr(I)&&P(I.dom.host),wc=I=>he.fromDom(I.dom.getRootNode()),ul=I=>{const W=wc(I);return Iu(W)?te.some(W):te.none()},Nu=I=>he.fromDom(I.dom.host),Ts=I=>{const W=vo(I)?I.dom.parentNode:I.dom;if(W==null||W.ownerDocument===null)return!1;const oe=W.ownerDocument;return ul(he.fromDom(W)).fold(()=>oe.body.contains(W),K(Ts,Nu))};var io=(I,W,oe,Oe,$e)=>I(oe,Oe)?te.some(oe):B($e)&&$e(oe)?te.none():W(oe,Oe,$e);const Wl=(I,W,oe)=>{let Oe=I.dom;const $e=B(oe)?oe:Re;for(;Oe.parentNode;){Oe=Oe.parentNode;const Dt=he.fromDom(Oe);if(W(Dt))return te.some(Dt);if($e(Dt))break}return te.none()},Ti=(I,W,oe)=>io(($e,Dt)=>Dt($e),Wl,I,W,oe),Pu=(I,W,oe)=>Wl(I,Oe=>gt(Oe,W),oe),rn=(I,W,oe)=>io(($e,Dt)=>gt($e,Dt),Pu,I,W,oe),Mu=I=>rn(I,"[contenteditable]"),ym=(I,W=!1)=>Ts(I)?I.dom.isContentEditable:Mu(I).fold(X(W),oe=>mr(oe)==="true"),mr=I=>I.dom.contentEditable,xm=(I,W)=>{Kt(I).each(Oe=>{Oe.dom.insertBefore(W.dom,I.dom)})},Ga=(I,W)=>{ss(I).fold(()=>{Kt(I).each($e=>{dl($e,W)})},Oe=>{xm(Oe,W)})},Dl=(I,W)=>{ei(I).fold(()=>{dl(I,W)},Oe=>{I.dom.insertBefore(W.dom,Oe.dom)})},dl=(I,W)=>{I.dom.appendChild(W.dom)},ir=(I,W)=>{Me(W,oe=>{xm(I,oe)})},Ca=(I,W)=>{Me(W,oe=>{dl(I,oe)})},Rl=I=>{I.dom.textContent="",Me(Ul(I),W=>{wm(W)})},wm=I=>{const W=I.dom;W.parentNode!==null&&W.parentNode.removeChild(W)};var Kc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Gc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),uf=tinymce.util.Tools.resolve("tinymce.util.VK");const _d=I=>Se(I,he.fromDom),rs=Object.keys,Lr=(I,W)=>{const oe=rs(I);for(let Oe=0,$e=oe.length;Oe<$e;Oe++){const Dt=oe[Oe],Wn=I[Dt];W(Wn,Dt)}},ii=I=>(W,oe)=>{I[oe]=W},Cm=(I,W,oe,Oe)=>{Lr(I,($e,Dt)=>{(W($e,Dt)?oe:Oe)($e,Dt)})},qa=(I,W)=>{const oe={};return Cm(I,W,ii(oe),Z),oe},qc=(I,W,oe)=>{if(v(oe)||O(oe)||$(oe))I.setAttribute(W,oe+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",oe,":: Element ",I),new Error("Attribute value was not simple")},_a=(I,W)=>{const oe=I.dom;Lr(W,(Oe,$e)=>{qc(oe,$e,Oe)})},Sa=I=>ct(I.dom.attributes,(W,oe)=>(W[oe.name]=oe.value,W),{}),Yc=(I,W)=>he.fromDom(I.dom.cloneNode(W)),Is=I=>Yc(I,!0),ar=(I,W)=>{const oe=he.fromTag(W),Oe=Sa(I);return _a(oe,Oe),oe},Ee=(I,W)=>{const oe=ar(I,W);Ga(I,oe);const Oe=Ul(I);return Ca(oe,Oe),wm(I),oe};var nt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ie=tinymce.util.Tools.resolve("tinymce.util.Tools");const mt=I=>W=>P(W)&&W.nodeName.toLowerCase()===I,ut=I=>W=>P(W)&&I.test(W.nodeName),Je=I=>P(I)&&I.nodeType===3,Wt=I=>P(I)&&I.nodeType===1,nn=ut(/^(OL|UL|DL)$/),un=ut(/^(OL|UL)$/),vn=mt("ol"),an=ut(/^(LI|DT|DD)$/),ho=ut(/^(DT|DD)$/),sn=ut(/^(TH|TD)$/),Ss=mt("br"),Po=I=>{var W;return((W=I.parentNode)===null||W===void 0?void 0:W.firstChild)===I},Zo=(I,W)=>P(W)&&W.nodeName in I.schema.getTextBlockElements(),Or=(I,W)=>P(I)&&I.nodeName in W,_o=(I,W)=>P(W)&&W.nodeName in I.schema.getVoidElements(),Il=(I,W)=>Ss(W)?I.isBlock(W.nextSibling)&&!Ss(W.previousSibling):!1,ta=(I,W,oe)=>{const Oe=I.isEmpty(W);return oe&&I.select("span[data-mce-type=bookmark]",W).length>0?!1:Oe},co=(I,W)=>I.isChildOf(W,I.getRoot()),Ya=I=>W=>W.options.get(I),fl=I=>{const W=I.options.register;W("lists_indent_on_tab",{processor:"boolean",default:!0})},wr=Ya("lists_indent_on_tab"),Sd=Ya("forced_root_block"),$r=Ya("forced_root_block_attrs"),df=(I,W,oe={})=>{const Oe=I.dom,$e=I.schema.getBlockElements(),Dt=Oe.createFragment(),Wn=Sd(I),po=$r(I);let ao,Tn,bs=!1;for(Tn=Oe.create(Wn,{...po,...oe.style?{style:oe.style}:{}}),Or(W.firstChild,$e)||Dt.appendChild(Tn);ao=W.firstChild;){const jr=ao.nodeName;!bs&&(jr!=="SPAN"||ao.getAttribute("data-mce-type")!=="bookmark")&&(bs=!0),Or(ao,$e)?(Dt.appendChild(ao),Tn=null):(Tn||(Tn=Oe.create(Wn,po),Dt.appendChild(Tn)),Tn.appendChild(ao))}return!bs&&Tn&&Tn.appendChild(Oe.create("br",{"data-mce-bogus":"1"})),Dt},Nl=nt.DOM,ws=(I,W,oe)=>{const Oe=Tn=>{const bs=Tn.parentNode;bs&&Ie.each($e,jr=>{bs.insertBefore(jr,oe.parentNode)}),Nl.remove(Tn)},$e=Nl.select('span[data-mce-type="bookmark"]',W),Dt=df(I,oe),Wn=Nl.createRng();Wn.setStartAfter(oe),Wn.setEndAfter(W);const po=Wn.extractContents();for(let Tn=po.firstChild;Tn;Tn=Tn.firstChild)if(Tn.nodeName==="LI"&&I.dom.isEmpty(Tn)){Nl.remove(Tn);break}I.dom.isEmpty(po)||Nl.insertAfter(po,W),Nl.insertAfter(Dt,W);const ao=oe.parentElement;ao&&ta(I.dom,ao)&&Oe(ao),Nl.remove(oe),ta(I.dom,W)&&Nl.remove(W)},Bu=ea("dd"),_m=ea("dt"),Jh=(I,W)=>{Bu(W)?Ee(W,"dt"):_m(W)&&gi(W).each(oe=>ws(I,oe.dom,W.dom))},Dr=I=>{_m(I)&&Ee(I,"dd")},Cc=(I,W,oe)=>{W==="Indent"?Me(oe,Dr):Me(oe,Oe=>Jh(I,Oe))},ml=(I,W)=>{if(Je(I))return{container:I,offset:W};const oe=Kc.getNode(I,W);return Je(oe)?{container:oe,offset:W>=I.childNodes.length?oe.data.length:0}:oe.previousSibling&&Je(oe.previousSibling)?{container:oe.previousSibling,offset:oe.previousSibling.data.length}:oe.nextSibling&&Je(oe.nextSibling)?{container:oe.nextSibling,offset:0}:{container:I,offset:W}},qs=I=>{const W=I.cloneRange(),oe=ml(I.startContainer,I.startOffset);W.setStart(oe.container,oe.offset);const Oe=ml(I.endContainer,I.endOffset);return W.setEnd(Oe.container,Oe.offset),W},Sm=["OL","UL","DL"],Pl=Sm.join(","),na=(I,W)=>{const oe=W||I.selection.getStart(!0);return I.dom.getParent(oe,Pl,kd(I,oe))},Mg=(I,W)=>P(I)&&W.length===1&&W[0]===I,Oi=I=>D(I.querySelectorAll(Pl),nn),Xa=I=>{const W=na(I),oe=I.selection.getSelectedBlocks();return Mg(W,oe)?Oi(W):D(oe,Oe=>nn(Oe)&&W!==Oe)},oa=(I,W)=>{const oe=Ie.map(W,Oe=>{const $e=I.dom.getParent(Oe,"li,dd,dt",kd(I,Oe));return $e||Oe});return no(oe)},Ml=I=>{const W=I.selection.getSelectedBlocks();return D(oa(I,W),an)},Qh=I=>D(Ml(I),ho),Mo=(I,W)=>{const oe=I.dom.getParents(W,"TD,TH");return oe.length>0?oe[0]:I.getBody()},Xc=(I,W)=>!nn(W)&&!an(W)&&st(Sm,oe=>I.isValidChild(W.nodeName,oe)),kd=(I,W)=>{const oe=I.dom.getParents(W,I.dom.isBlock),Oe=Dt=>Dt.nodeName.toLowerCase()!==Sd(I);return Jt(oe,Dt=>Oe(Dt)&&Xc(I.schema,Dt)).getOr(I.getBody())},Lu=I=>Kt(I).exists(W=>an(W.dom)&&ei(W).exists(oe=>!nn(oe.dom))&&bm(W).exists(oe=>!nn(oe.dom))),Sv=(I,W)=>{const oe=I.dom.getParents(W,"ol,ul",kd(I,W));return Mt(oe)},Xy=I=>{const W=Sv(I,I.selection.getStart()),oe=D(I.selection.getSelectedBlocks(),un);return W.toArray().concat(oe)},P1=I=>{const W=I.selection.getStart();return I.dom.getParents(W,"ol,ul",kd(I,W))},M1=I=>{const W=Xy(I),oe=P1(I);return Jt(oe,Oe=>Lu(he.fromDom(Oe))).fold(()=>pC(I,W),Oe=>[Oe])},pC=(I,W)=>{const oe=Se(W,Oe=>Sv(I,Oe).getOr(Oe));return no(oe)},ep=I=>/\btox\-/.test(I.className),B1=(I,W)=>$t(I,nn,sn).exists(oe=>oe.nodeName===W&&!ep(oe)),Xt=(I,W)=>W!==null&&!I.dom.isEditable(W),ff=I=>{const W=na(I);return Xt(I,W)},mf=(I,W)=>{const oe=I.dom.getParent(W,"ol,ul,dl");return Xt(I,oe)},L1=(I,W)=>{const oe=I.selection.getNode();return W({parents:I.dom.getParents(oe),element:oe}),I.on("NodeChange",W),()=>I.off("NodeChange",W)},sa=(I,W)=>{const Oe=document.createDocumentFragment();return Me(I,$e=>{Oe.appendChild($e.dom)}),he.fromDom(Oe)},gf=(I,W,oe)=>I.dispatch("ListMutation",{action:W,element:oe}),Jy=(I=>W=>W.replace(I,""))(/^\s+|\s+$/g),Qy=I=>I.length>0,kv=I=>!Qy(I),ex=I=>I.style!==void 0&&B(I.style.getPropertyValue),F1=(I,W,oe)=>{if(!v(oe))throw console.error("Invalid call to CSS.set. Property ",W,":: Value ",oe,":: Element ",I),new Error("CSS value must be a string: "+oe);ex(I)&&I.style.setProperty(W,oe)},tx=(I,W,oe)=>{const Oe=I.dom;F1(Oe,W,oe)},Lg=I=>Ft(I,"OL,UL"),V1=I=>Ft(I,"LI"),hf=I=>ei(I).exists(Lg),pf=I=>bm(I).exists(Lg),ra=I=>"listAttributes"in I,gl=I=>"isComment"in I,Fg=I=>"isFragment"in I,Go=I=>I.depth>0,Ed=I=>I.isSelected,Vg=I=>{const W=Ul(I),oe=pf(I)?W.slice(0,-1):W;return Se(oe,Is)},zg=(I,W,oe)=>Kt(I).filter(Eo).map(Oe=>({depth:W,dirty:!1,isSelected:oe,content:Vg(I),itemAttributes:Sa(I),listAttributes:Sa(Oe),listType:cs(Oe),isInPreviousLi:!1})),Na=(I,W)=>{dl(I.item,W.list)},Ur=I=>{for(let W=1;W<I.length;W++)Na(I[W-1],I[W])},lr=(I,W)=>{_n(Mt(I),Ye(W),Na)},Hi=(I,W)=>{const oe={list:he.fromTag(W,I),item:he.fromTag("li",I)};return dl(oe.list,oe.item),oe},Ys=(I,W,oe)=>{const Oe=[];for(let $e=0;$e<oe;$e++)Oe.push(Hi(I,ra(W)?W.listType:W.parentListType));return Oe},vf=(I,W)=>{for(let oe=0;oe<I.length-1;oe++)tx(I[oe].item,"list-style-type","none");Mt(I).each(oe=>{ra(W)&&(_a(oe.list,W.listAttributes),_a(oe.item,W.itemAttributes)),Ca(oe.item,W.content)})},km=(I,W)=>{cs(I.list)!==W.listType&&(I.list=Ee(I.list,W.listType)),_a(I.list,W.listAttributes)},xi=(I,W,oe)=>{const Oe=he.fromTag("li",I);return _a(Oe,W),Ca(Oe,oe),Oe},Pa=(I,W)=>{dl(I.list,W),I.item=W},ka=(I,W,oe)=>{const Oe=W.slice(0,oe.depth);return Mt(Oe).each($e=>{if(ra(oe)){const Dt=xi(I,oe.itemAttributes,oe.content);Pa($e,Dt),km($e,oe)}else if(Fg(oe))Ca($e.item,oe.content);else{const Dt=he.fromHtml(`<!--${oe.content}-->`);dl($e.list,Dt)}}),Oe},Jc=(I,W,oe)=>{const Oe=Ys(I,oe,oe.depth-W.length);return Ur(Oe),vf(Oe,oe),lr(W,Oe),W.concat(Oe)},Ad=(I,W)=>{let oe=te.none();const Oe=ct(W,($e,Dt,Wn)=>gl(Dt)?Wn===0?(oe=te.some(Dt),$e):ka(I,$e,Dt):Dt.depth>$e.length?Jc(I,$e,Dt):ka(I,$e,Dt),[]);return oe.each($e=>{const Dt=he.fromHtml(`<!--${$e.content}-->`);Ye(Oe).each(Wn=>{Dl(Wn.list,Dt)})}),Ye(Oe).map($e=>$e.list)},Do=(I,W)=>{switch(I){case"Indent":W.depth++;break;case"Outdent":W.depth--;break;case"Flatten":W.depth=0}W.dirty=!0},ai=(I,W)=>{ra(I)&&ra(W)&&(I.listType=W.listType,I.listAttributes={...W.listAttributes})},hl=I=>{I.listAttributes=qa(I.listAttributes,(W,oe)=>oe!=="start")},Td=(I,W)=>{const oe=I[W].depth,Oe=Dt=>Dt.depth===oe&&!Dt.dirty,$e=Dt=>Dt.depth<oe;return $t(Lt(I.slice(0,W)),Oe,$e).orThunk(()=>$t(I.slice(W+1),Oe,$e))},$i=I=>(Me(I,(W,oe)=>{Td(I,oe).fold(()=>{W.dirty&&ra(W)&&hl(W)},Oe=>ai(W,Oe))}),I),Bn=I=>{let W=I;return{get:()=>W,set:$e=>{W=$e}}},_c=(I,W,oe,Oe)=>{var $e;if(Tr(Oe))return[{depth:I+1,content:($e=Oe.dom.nodeValue)!==null&&$e!==void 0?$e:"",dirty:!1,isSelected:!1,isComment:!0}];W.each(po=>{zt(po.start,Oe)&&oe.set(!0)});const Dt=zg(Oe,I,oe.get());W.each(po=>{zt(po.end,Oe)&&oe.set(!1)});const Wn=bm(Oe).filter(Lg).map(po=>ks(I,W,oe,po)).getOr([]);return Dt.toArray().concat(Wn)},Sc=(I,W,oe,Oe)=>ei(Oe).filter(Lg).fold(()=>_c(I,W,oe,Oe),$e=>{const Dt=ct(Ul(Oe),(Wn,po,ao)=>{if(ao===0)return Wn;if(V1(po))return Wn.concat(_c(I,W,oe,po));{const Tn={isFragment:!0,depth:I,content:[po],isSelected:!1,dirty:!1,parentListType:cs($e)};return Wn.concat(Tn)}},[]);return ks(I,W,oe,$e).concat(Dt)}),ks=(I,W,oe,Oe)=>pt(Ul(Oe),$e=>{const Dt=Lg($e)?ks:Sc,Wn=I+1;return Dt(Wn,W,oe,$e)}),tp=(I,W)=>{const oe=Bn(!1),Oe=0;return Se(I,$e=>({sourceList:$e,entries:ks(Oe,W,oe,$e)}))},Ev=(I,W)=>{const oe=$i(W);return Se(oe,Oe=>{const $e=gl(Oe)?sa([he.fromHtml(`<!--${Oe.content}-->`)]):sa(Oe.content),Dt=ra(Oe)?Oe.itemAttributes:{};return he.fromDom(df(I,$e.dom,Dt))})},Od=(I,W)=>{const oe=$i(W);return Ad(I.contentDocument,oe).toArray()},Bo=(I,W)=>pt(Ke(W,Go),oe=>Ye(oe).exists(Go)?Od(I,oe):Ev(I,oe)),Ma=(I,W)=>{Me(D(I,Ed),oe=>Do(W,oe))},np=I=>{const W=Se(Ml(I),he.fromDom);return _n(Jt(W,Le(hf)),Jt(Lt(W),Le(hf)),(oe,Oe)=>({start:oe,end:Oe}))},Dd=(I,W,oe)=>{const Oe=tp(W,np(I));Me(Oe,$e=>{Ma($e.entries,oe);const Dt=Bo(I,$e.entries);Me(Dt,Wn=>{gf(I,oe==="Indent"?"IndentList":"OutdentList",Wn.dom)}),ir($e.sourceList,Dt),wm($e.sourceList)})},Av=(I,W)=>{const oe=_d(M1(I)),Oe=_d(Qh(I));let $e=!1;if(oe.length||Oe.length){const Dt=I.selection.getBookmark();Dd(I,oe,W),Cc(I,W,Oe),I.selection.moveToBookmark(Dt),I.selection.setRng(qs(I.selection.getRng())),I.nodeChanged(),$e=!0}return $e},Qc=(I,W)=>!ff(I)&&Av(I,W),Ja=I=>Qc(I,"Indent"),eu=I=>Qc(I,"Outdent"),bf=I=>Qc(I,"Flatten"),Be="\uFEFF",Em=I=>I===Be,Ns=(I,W,oe)=>Wl(I,W,oe).isSome(),Tv=(I,W)=>Ns(I,fe(zt,W));var Hg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const tu=nt.DOM,qo=I=>{const W={},oe=Oe=>{let $e=I[Oe?"startContainer":"endContainer"],Dt=I[Oe?"startOffset":"endOffset"];if(Wt($e)){const Wn=tu.create("span",{"data-mce-type":"bookmark"});$e.hasChildNodes()?(Dt=Math.min(Dt,$e.childNodes.length-1),Oe?$e.insertBefore(Wn,$e.childNodes[Dt]):tu.insertAfter(Wn,$e.childNodes[Dt])):$e.appendChild(Wn),$e=Wn,Dt=0}W[Oe?"startContainer":"endContainer"]=$e,W[Oe?"startOffset":"endOffset"]=Dt};return oe(!0),I.collapsed||oe(),W},ia=I=>{const W=Oe=>{const $e=po=>{var ao;let Tn=(ao=po.parentNode)===null||ao===void 0?void 0:ao.firstChild,bs=0;for(;Tn;){if(Tn===po)return bs;(!Wt(Tn)||Tn.getAttribute("data-mce-type")!=="bookmark")&&bs++,Tn=Tn.nextSibling}return-1};let Dt=I[Oe?"startContainer":"endContainer"],Wn=I[Oe?"startOffset":"endOffset"];if(Dt){if(Wt(Dt)&&Dt.parentNode){const po=Dt;Wn=$e(Dt),Dt=Dt.parentNode,tu.remove(po),!Dt.hasChildNodes()&&tu.isBlock(Dt)&&Dt.appendChild(tu.create("br"))}I[Oe?"startContainer":"endContainer"]=Dt,I[Oe?"startOffset":"endOffset"]=Wn}};W(!0),W();const oe=tu.createRng();return oe.setStart(I.startContainer,I.startOffset),I.endContainer&&oe.setEnd(I.endContainer,I.endOffset),qs(oe)},Fu=I=>{switch(I){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},tc=(I,W,oe)=>{const Oe=oe["list-style-type"]?oe["list-style-type"]:null;I.setStyle(W,"list-style-type",Oe)},Vu=(I,W)=>{Ie.each(W,(oe,Oe)=>{I.setAttribute(Oe,oe)})},zu=(I,W,oe)=>{Vu(W,oe["list-attributes"]),Ie.each(I.select("li",W),Oe=>{Vu(Oe,oe["list-item-attributes"])})},aa=(I,W,oe)=>{tc(I,W,oe),zu(I,W,oe)},yf=(I,W,oe)=>{Ie.each(oe,Oe=>I.setStyle(W,Oe,""))},Am=(I,W)=>P(W)&&!Or(W,I.schema.getBlockElements()),Ov=(I,W,oe,Oe)=>{let $e=W[oe?"startContainer":"endContainer"];const Dt=W[oe?"startOffset":"endOffset"];Wt($e)&&($e=$e.childNodes[Math.min(Dt,$e.childNodes.length-1)]||$e),!oe&&Ss($e.nextSibling)&&($e=$e.nextSibling);const Wn=ao=>{for(;!I.dom.isBlock(ao)&&ao.parentNode&&Oe!==ao;)ao=ao.parentNode;return ao},po=(ao,Tn)=>{var bs;const jr=new Gc(ao,Wn(ao)),Sr=Tn?"next":"prev";let Ac;for(;Ac=jr[Sr]();)if(!(_o(I,Ac)||Em(Ac.textContent)||((bs=Ac.textContent)===null||bs===void 0?void 0:bs.length)===0))return te.some(Ac);return te.none()};if(oe&&Je($e))if(Em($e.textContent))$e=po($e,!1).getOr($e);else for($e.parentNode!==null&&Am(I,$e.parentNode)&&($e=$e.parentNode);$e.previousSibling!==null&&(Am(I,$e.previousSibling)||Je($e.previousSibling));)$e=$e.previousSibling;if(!oe&&Je($e))if(Em($e.textContent))$e=po($e,!0).getOr($e);else for($e.parentNode!==null&&Am(I,$e.parentNode)&&($e=$e.parentNode);$e.nextSibling!==null&&(Am(I,$e.nextSibling)||Je($e.nextSibling));)$e=$e.nextSibling;for(;$e.parentNode!==Oe;){const ao=$e.parentNode;if(Zo(I,$e)||/^(TD|TH)$/.test(ao.nodeName))return $e;$e=ao}return $e},wi=(I,W,oe)=>{const Oe=[],$e=I.dom,Dt=Ov(I,W,!0,oe),Wn=Ov(I,W,!1,oe);let po;const ao=[];for(let Tn=Dt;Tn&&(ao.push(Tn),Tn!==Wn);Tn=Tn.nextSibling);return Ie.each(ao,Tn=>{var bs;if(Zo(I,Tn)){Oe.push(Tn),po=null;return}if($e.isBlock(Tn)||Ss(Tn)){Ss(Tn)&&$e.remove(Tn),po=null;return}const jr=Tn.nextSibling;if(Hg.isBookmarkNode(Tn)&&(nn(jr)||Zo(I,jr)||!jr&&Tn.parentNode===oe)){po=null;return}po||(po=$e.create("p"),(bs=Tn.parentNode)===null||bs===void 0||bs.insertBefore(po,Tn),Oe.push(po)),po.appendChild(Tn)}),Oe},Un=(I,W,oe)=>{const Oe=I.getStyle(W,"list-style-type");let $e=oe?oe["list-style-type"]:"";return $e=$e===null?"":$e,Oe===$e},Hu=(I,W)=>{const oe=I.selection.getStart(!0),Oe=Ov(I,W,!0,I.getBody());return Tv(he.fromDom(Oe),he.fromDom(W.commonAncestorContainer))?W.commonAncestorContainer:oe},Tm=(I,W,oe)=>{const Oe=I.selection.getRng();let $e="LI";const Dt=kd(I,Hu(I,Oe)),Wn=I.dom;if(Wn.getContentEditable(I.selection.getNode())==="false")return;W=W.toUpperCase(),W==="DL"&&($e="DT");const po=qo(Oe),ao=D(wi(I,Oe,Dt),I.dom.isEditable);Ie.each(ao,Tn=>{let bs;const jr=Tn.previousSibling,Sr=Tn.parentNode;an(Sr)||(jr&&nn(jr)&&jr.nodeName===W&&Un(Wn,jr,oe)?(bs=jr,Tn=Wn.rename(Tn,$e),jr.appendChild(Tn)):(bs=Wn.create(W),Sr.insertBefore(bs,Tn),bs.appendChild(Tn),Tn=Wn.rename(Tn,$e)),yf(Wn,Tn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),aa(Wn,bs,oe),Rd(I.dom,bs))}),I.selection.setRng(ia(po))},la=(I,W)=>nn(I)&&I.nodeName===(W==null?void 0:W.nodeName),$u=(I,W,oe)=>{const Oe=I.getStyle(W,"list-style-type",!0),$e=I.getStyle(oe,"list-style-type",!0);return Oe===$e},Bl=(I,W)=>I.className===W.className,Uu=(I,W,oe)=>la(W,oe)&&$u(I,W,oe)&&Bl(W,oe),Rd=(I,W)=>{let oe,Oe=W.nextSibling;if(Uu(I,W,Oe)){const $e=Oe;for(;oe=$e.firstChild;)W.appendChild(oe);I.remove($e)}if(Oe=W.previousSibling,Uu(I,W,Oe)){const $e=Oe;for(;oe=$e.lastChild;)W.insertBefore(oe,W.firstChild);I.remove($e)}},Ci=(I,W,oe,Oe)=>{if(W.nodeName!==oe){const $e=I.dom.rename(W,oe);aa(I.dom,$e,Oe),gf(I,Fu(oe),$e)}else aa(I.dom,W,Oe),gf(I,Fu(oe),W)},nc=(I,W,oe,Oe)=>{if(W.classList.forEach(($e,Dt,Wn)=>{$e.startsWith("tox-")&&(Wn.remove($e),Wn.length===0&&W.removeAttribute("class"))}),W.nodeName!==oe){const $e=I.dom.rename(W,oe);aa(I.dom,$e,Oe),gf(I,Fu(oe),$e)}else aa(I.dom,W,Oe),gf(I,Fu(oe),W)},nu=(I,W,oe,Oe,$e)=>{const Dt=nn(W);if(Dt&&W.nodeName===Oe&&!Om($e)&&!ep(W))bf(I);else{Tm(I,Oe,$e);const Wn=qo(I.selection.getRng()),po=Dt?[W,...oe]:oe,ao=Dt&&ep(W)?nc:Ci;Ie.each(po,Tn=>{ao(I,Tn,Oe,$e)}),I.selection.setRng(ia(Wn))}},Om=I=>"list-style-type"in I,z1=(I,W,oe,Oe)=>{if(W!==I.getBody())if(W)if(W.nodeName===oe&&!Om(Oe)&&!ep(W))bf(I);else{const $e=qo(I.selection.getRng());ep(W)&&W.classList.forEach((Wn,po,ao)=>{Wn.startsWith("tox-")&&(ao.remove(Wn),ao.length===0&&W.removeAttribute("class"))}),aa(I.dom,W,Oe);const Dt=I.dom.rename(W,oe);Rd(I.dom,Dt),I.selection.setRng(ia($e)),Tm(I,oe,Oe),gf(I,Fu(oe),Dt)}else Tm(I,oe,Oe),gf(I,Fu(oe),W)},Wu=(I,W,oe)=>{const Oe=na(I);if(mf(I,Oe))return;const $e=Xa(I),Dt=x(oe)?oe:{};$e.length>0?nu(I,Oe,$e,W,Dt):z1(I,Oe,W,Dt)},xf=nt.DOM,Dv=(I,W)=>{const oe=W.parentElement;if(oe&&oe.nodeName==="LI"&&oe.firstChild===W){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"?(Oe.appendChild(W),ta(I,oe)&&xf.remove(oe)):xf.setStyle(oe,"listStyleType","none")}if(nn(oe)){const Oe=oe.previousSibling;Oe&&Oe.nodeName==="LI"&&Oe.appendChild(W)}},Cr=(I,W)=>{const oe=Ie.grep(I.select("ol,ul",W));Ie.each(oe,Oe=>{Dv(I,Oe)})},Ba=(I,W,oe,Oe)=>{let $e=W.startContainer;const Dt=W.startOffset;if(Je($e)&&(oe?Dt<$e.data.length:Dt>0))return $e;const Wn=I.schema.getNonEmptyElements();Wt($e)&&($e=Kc.getNode($e,Dt));const po=new Gc($e,Oe);oe&&Il(I.dom,$e)&&po.next();const ao=oe?po.next.bind(po):po.prev2.bind(po);for(;$e=ao();)if($e.nodeName==="LI"&&!$e.hasChildNodes()||Wn[$e.nodeName]||Je($e)&&$e.data.length>0)return $e;return null},Ea=(I,W)=>{const oe=W.childNodes;return oe.length===1&&!nn(oe[0])&&I.isBlock(oe[0])},Qa=I=>te.from(I).map(he.fromDom).filter(hn).exists(W=>ym(W)&&!qe(["details"],cs(W))),hi=(I,W)=>{Ea(I,W)&&Qa(W.firstChild)&&I.remove(W.firstChild,!0)},op=(I,W,oe)=>{let Oe;const $e=Ea(I,oe)?oe.firstChild:oe;if(hi(I,W),!ta(I,W,!0))for(;Oe=W.firstChild;)$e.appendChild(Oe)},li=(I,W,oe)=>{let Oe;const $e=W.parentNode;if(!co(I,W)||!co(I,oe))return;nn(oe.lastChild)&&(Oe=oe.lastChild),$e===oe.lastChild&&Ss($e.previousSibling)&&I.remove($e.previousSibling);const Dt=oe.lastChild;Dt&&Ss(Dt)&&W.hasChildNodes()&&I.remove(Dt),ta(I,oe,!0)&&Rl(he.fromDom(oe)),op(I,W,oe),Oe&&oe.appendChild(Oe);const po=vt(he.fromDom(oe),he.fromDom(W))?I.getParents(W,nn,oe):[];I.remove(W),Me(po,ao=>{ta(I,ao)&&ao!==I.getRoot()&&I.remove(ao)})},Ui=(I,W,oe)=>{Rl(he.fromDom(oe)),li(I.dom,W,oe),I.selection.setCursorLocation(oe,0)},ou=(I,W,oe,Oe)=>{const $e=I.dom;if($e.isEmpty(Oe))Ui(I,oe,Oe);else{const Dt=qo(W);li($e,oe,Oe),I.selection.setRng(ia(Dt))}},Ot=(I,W,oe,Oe)=>{const $e=qo(W);li(I.dom,oe,Oe);const Dt=ia($e);I.selection.setRng(Dt)},Wi=(I,W)=>{const oe=I.dom,Oe=I.selection,$e=Oe.getStart(),Dt=Mo(I,$e),Wn=oe.getParent(Oe.getStart(),"LI",Dt);if(Wn){const po=Wn.parentElement;if(po===I.getBody()&&ta(oe,po))return!0;const ao=qs(Oe.getRng()),Tn=oe.getParent(Ba(I,ao,W,Dt),"LI",Dt),bs=Tn&&(W?oe.isChildOf(Wn,Tn):oe.isChildOf(Tn,Wn));if(Tn&&Tn!==Wn&&!bs)return I.undoManager.transact(()=>{W?ou(I,ao,Tn,Wn):Po(Wn)?eu(I):Ot(I,ao,Wn,Tn)}),!0;if(bs&&!W&&Tn!==Wn)return I.undoManager.transact(()=>{if(ao.commonAncestorContainer.parentElement){const jr=qo(ao),Sr=ao.commonAncestorContainer.parentElement;op(oe,ao.commonAncestorContainer.parentElement,Tn),Sr.remove();const Ac=ia(jr);I.selection.setRng(Ac)}}),!0;if(!Tn&&!W&&ao.startOffset===0&&ao.endOffset===0)return I.undoManager.transact(()=>{bf(I)}),!0}return!1},sp=(I,W,oe)=>{const Oe=I.getParent(W.parentNode,I.isBlock,oe);I.remove(W),Oe&&I.isEmpty(Oe)&&I.remove(Oe)},_r=(I,W)=>{const oe=I.dom,Oe=I.selection.getStart(),$e=Mo(I,Oe),Dt=oe.getParent(Oe,oe.isBlock,$e);if(Dt&&oe.isEmpty(Dt,void 0,{checkRootAsContent:!0})){const Wn=qs(I.selection.getRng()),po=oe.getParent(Ba(I,Wn,W,$e),"LI",$e);if(po){const ao=Sr=>qe(["td","th","caption"],cs(Sr)),Tn=Sr=>Sr.dom===$e,bs=Ti(he.fromDom(po),ao,Tn),jr=Ti(he.fromDom(Wn.startContainer),ao,Tn);return fn(bs,jr,zt)?(I.undoManager.transact(()=>{const Sr=po.parentNode;sp(oe,Dt,$e),Rd(oe,Sr),I.selection.select(po,!0),I.selection.collapse(W)}),!0):!1}}return!1},Zu=(I,W)=>Wi(I,W)||_r(I,W),La=I=>{const W=I.selection.getStart(),oe=Mo(I,W);return I.dom.getParent(W,"LI,DT,DD",oe)||Ml(I).length>0},kc=I=>La(I)?(I.undoManager.transact(()=>{I.execCommand("Delete"),Cr(I.dom,I.getBody())}),!0):!1,Dm=(I,W)=>{const oe=I.selection;return!mf(I,oe.getNode())&&(oe.isCollapsed()?Zu(I,W):kc(I))},el=I=>{I.on("ExecCommand",W=>{const oe=W.command.toLowerCase();(oe==="delete"||oe==="forwarddelete")&&La(I)&&Cr(I.dom,I.getBody())}),I.on("keydown",W=>{W.keyCode===uf.BACKSPACE?Dm(I,!1)&&W.preventDefault():W.keyCode===uf.DELETE&&Dm(I,!0)&&W.preventDefault()})},jo=I=>({backspaceDelete:W=>{Dm(I,W)}}),Wr=(I,W)=>{const oe=na(I);oe===null||mf(I,oe)||I.undoManager.transact(()=>{x(W.styles)&&I.dom.setStyles(oe,W.styles),x(W.attrs)&&Lr(W.attrs,(Oe,$e)=>I.dom.setAttrib(oe,$e,Oe))})},wf=I=>{const W=Lt(Jy(I).split("")),oe=Se(W,(Oe,$e)=>{const Dt=Oe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,$e)*Dt});return ct(oe,(Oe,$e)=>Oe+$e,0)},Fr=I=>{if(I--,I<0)return"";{const W=I%26,oe=Math.floor(I/26),Oe=Fr(oe),$e=String.fromCharCode(65+W);return Oe+$e}},$g=I=>/^[A-Z]+$/.test(I),su=I=>/^[a-z]+$/.test(I),H1=I=>/^[0-9]+$/.test(I),Rr=I=>H1(I)?2:$g(I)?0:su(I)?1:kv(I)?3:4,it=I=>{switch(Rr(I)){case 2:return te.some({listStyleType:te.none(),start:I});case 0:return te.some({listStyleType:te.some("upper-alpha"),start:wf(I).toString()});case 1:return te.some({listStyleType:te.some("lower-alpha"),start:wf(I).toString()});case 3:return te.some({listStyleType:te.none(),start:""});case 4:return te.none()}},Fa=I=>{const W=parseInt(I.start,10);return Fn(I.listStyleType,"upper-alpha")?Fr(W):Fn(I.listStyleType,"lower-alpha")?Fr(W).toLowerCase():I.start},Zr=I=>{const W=na(I);!vn(W)||mf(I,W)||I.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Fa({start:I.dom.getAttrib(W,"start","1"),listStyleType:te.from(I.dom.getStyle(W,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:oe=>{const Oe=oe.getData();it(Oe.start).each($e=>{I.execCommand("mceListUpdate",!1,{attrs:{start:$e.start==="1"?"":$e.start},styles:{"list-style-type":$e.listStyleType.getOr("")}})}),oe.close()}})},Zl=(I,W)=>()=>{const oe=na(I);return P(oe)&&oe.nodeName===W},Ec=I=>{I.addCommand("mceListProps",()=>{Zr(I)})},ti=I=>{I.on("BeforeExecCommand",W=>{const oe=W.command.toLowerCase();oe==="indent"?Ja(I):oe==="outdent"&&eu(I)}),I.addCommand("InsertUnorderedList",(W,oe)=>{Wu(I,"UL",oe)}),I.addCommand("InsertOrderedList",(W,oe)=>{Wu(I,"OL",oe)}),I.addCommand("InsertDefinitionList",(W,oe)=>{Wu(I,"DL",oe)}),I.addCommand("RemoveList",()=>{bf(I)}),Ec(I),I.addCommand("mceListUpdate",(W,oe)=>{x(oe)&&Wr(I,oe)}),I.addQueryStateHandler("InsertUnorderedList",Zl(I,"UL")),I.addQueryStateHandler("InsertOrderedList",Zl(I,"OL")),I.addQueryStateHandler("InsertDefinitionList",Zl(I,"DL"))};var Xs=tinymce.util.Tools.resolve("tinymce.html.Node");const Os=I=>I.type===3,Va=I=>I.length===0,jl=I=>{const W=($e,Dt)=>{const Wn=Xs.create("li");Me($e,po=>Wn.append(po)),Dt?I.insert(Wn,Dt,!0):I.append(Wn)},oe=($e,Dt)=>Os(Dt)?[...$e,Dt]:!Va($e)&&!Os(Dt)?(W($e,Dt),[]):$e,Oe=ct(I.children(),oe,[]);Va(Oe)||W(Oe)},ru=I=>{I.on("PreInit",()=>{const{parser:W}=I;W.addNodeFilter("ul,ol",oe=>Me(oe,jl))})},Id=I=>{I.on("keydown",W=>{W.keyCode!==uf.TAB||uf.metaKeyPressed(W)||I.undoManager.transact(()=>{(W.shiftKey?eu(I):Ja(I))&&W.preventDefault()})})},Rm=I=>{wr(I)&&Id(I),el(I)},Ug=(I,W)=>oe=>{const Oe=$e=>{oe.setActive(B1($e.parents,W)),oe.setEnabled(!mf(I,$e.element)&&I.selection.isEditable())};return oe.setEnabled(I.selection.isEditable()),L1(I,Oe)},Wg=I=>{const W=oe=>()=>I.execCommand(oe);I.hasPlugin("advlist")||(I.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:W("InsertOrderedList"),onSetup:Ug(I,"OL")}),I.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:W("InsertUnorderedList"),onSetup:Ug(I,"UL")}))},Rv=(I,W)=>oe=>L1(I,$e=>oe.setEnabled(B1($e.parents,W)&&!mf(I,$e.element))),Iv=I=>{const W={text:"List properties...",icon:"ordered-list",onAction:()=>I.execCommand("mceListProps"),onSetup:Rv(I,"OL")};I.ui.registry.addMenuItem("listprops",W),I.ui.registry.addContextMenu("lists",{update:oe=>{const Oe=na(I,oe);return vn(Oe)?["listprops"]:[]}})};var ju=()=>{n.add("lists",I=>(fl(I),ru(I),I.hasPlugin("rtc",!0)?Ec(I):(Rm(I),ti(I)),Wg(I),Iv(I),jo(I)))};ju()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const r=(re,be)=>re.dispatch("insertCustomChar",{chr:be}),l=(re,be)=>{const Pe=r(re,be).chr;re.execCommand("mceInsertContent",!1,Pe)},d=(re,be,Pe)=>{var he;return Pe(re,be.prototype)?!0:((he=re.constructor)===null||he===void 0?void 0:he.name)===be.name},g=re=>{const be=typeof re;return re===null?"null":be==="object"&&Array.isArray(re)?"array":be==="object"&&d(re,String,(Pe,he)=>he.isPrototypeOf(Pe))?"string":be},v=re=>be=>g(be)===re,x=re=>be=>typeof be===re,S=re=>be=>re===be,O=v("array"),V=S(null),P=S(void 0),B=re=>re==null,$=re=>!B(re),Z=x("function"),X=(re=>()=>re)(!1);class ae{constructor(be,Pe){this.tag=be,this.value=Pe}static some(be){return new ae(!0,be)}static none(){return ae.singletonNone}fold(be,Pe){return this.tag?Pe(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?ae.some(be(this.value)):ae.none()}bind(be){return this.tag?be(this.value):ae.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:ae.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return $(be)?ae.some(be):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const fe=Array.prototype.push,Le=(re,be)=>{const Pe=re.length,he=new Array(Pe);for(let gt=0;gt<Pe;gt++){const zt=re[gt];he[gt]=be(zt,gt)}return he},Re=(re,be)=>{for(let Pe=0,he=re.length;Pe<he;Pe++){const gt=re[Pe];be(gt,Pe)}},te=(re,be,Pe)=>{for(let he=0,gt=re.length;he<gt;he++){const zt=re[he];if(be(zt,he))return ae.some(zt);if(Pe(zt,he))break}return ae.none()},Ce=(re,be)=>te(re,be,X),ie=re=>{const be=[];for(let Pe=0,he=re.length;Pe<he;++Pe){if(!O(re[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+re);fe.apply(be,re[Pe])}return be},Ue=(re,be)=>ie(Le(re,be));var We=tinymce.util.Tools.resolve("tinymce.util.Tools");const qe=re=>be=>be.options.get(re),st=re=>{const be=re.options.register,Pe=he=>Z(he)||O(he);be("charmap",{processor:Pe}),be("charmap_append",{processor:Pe})},Se=qe("charmap"),Me=qe("charmap_append"),D=We.isArray,Ke="User Defined",ct=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],$t=re=>We.grep(re,be=>D(be)&&be.length===2),Jt=re=>D(re)?$t(re):typeof re=="function"?re():[],et=(re,be)=>{const Pe=Se(re);Pe&&(be=[{name:Ke,characters:Jt(Pe)}]);const he=Me(re);if(he){const gt=We.grep(be,zt=>zt.name===Ke);return gt.length?(gt[0].characters=[...gt[0].characters,...Jt(he)],be):be.concat({name:Ke,characters:Jt(he)})}return be},pt=re=>{const be=et(re,ct());return be.length>1?[{name:"All",characters:Ue(be,Pe=>Pe.characters)}].concat(be):be},Lt=re=>({getCharMap:()=>pt(re),insertChar:he=>{l(re,he)}}),tt=re=>{let be=re;return{get:()=>be,set:gt=>{be=gt}}},Ye=(re,be)=>{let Pe=null;const he=()=>{V(Pe)||(clearTimeout(Pe),Pe=null)};return{cancel:he,throttle:(...zt)=>{he(),Pe=setTimeout(()=>{Pe=null,re.apply(null,zt)},be)}}},Mt=(re,be,Pe=0,he)=>{const gt=re.indexOf(be,Pe);return gt!==-1?P(he)?!0:gt+be.length<=he:!1},no=String.fromCodePoint,Fn=(re,be,Pe)=>Mt(no(re).toLowerCase(),Pe)?!0:Mt(be.toLowerCase(),Pe)||Mt(be.toLowerCase().replace(/\s+/g,""),Pe),fn=(re,be)=>{const Pe=[],he=be.toLowerCase();return Re(re.characters,gt=>{Fn(gt[0],gt[1],he)&&Pe.push(gt)}),Le(Pe,gt=>({text:gt[1],value:no(gt[0]),icon:no(gt[0])}))},_n="pattern",Q=(re,be)=>{const Pe=()=>[{label:"Search",type:"input",name:_n},{type:"collection",name:"results"}],he=()=>Le(be,Oo=>({title:Oo.name,name:Oo.name,items:Pe()})),gt=()=>({type:"panel",items:Pe()}),zt=()=>({type:"tabpanel",tabs:he()}),vt=be.length===1?tt(Ke):tt("All"),Ft=(Oo,Ho)=>{Ce(be,cs=>cs.name===vt.get()).each(cs=>{const rr=fn(cs,Ho);Oo.setData({results:rr})})},wn=Ye(Oo=>{const Ho=Oo.getData().pattern;Ft(Oo,Ho)},40),cn=be.length===1?gt():zt(),An={pattern:"",results:fn(be[0],"")},On={title:"Special Character",size:"normal",body:cn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:An,onAction:(Oo,Ho)=>{Ho.name==="results"&&(l(re,Ho.value),Oo.close())},onTabChange:(Oo,Ho)=>{vt.set(Ho.newTabName),wn.throttle(Oo)},onChange:(Oo,Ho)=>{Ho.name===_n&&wn.throttle(Oo)}};re.windowManager.open(On).focus(_n)},xs=(re,be)=>{re.addCommand("mceShowCharmap",()=>{Q(re,be)})},Qn=(re,be)=>{re.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Pe,he)=>new Promise((gt,zt)=>{gt(fn(be,Pe))}),onAction:(Pe,he,gt)=>{re.selection.setRng(he),re.insertContent(gt),Pe.hide()}})},tn=re=>be=>{const Pe=()=>{be.setEnabled(re.selection.isEditable())};return re.on("NodeChange",Pe),Pe(),()=>{re.off("NodeChange",Pe)}},To=re=>{const be=()=>re.execCommand("mceShowCharmap");re.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:be,onSetup:tn(re)}),re.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:be,onSetup:tn(re)})};var je=()=>{n.add("charmap",re=>{st(re);const be=pt(re);return xs(re,be),To(re),Qn(re,be[0]),Lt(re)})};je()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager");const l=(re=>be=>re===be)(null),d=re=>re,g=(re,be)=>{const Pe=re.length,he=new Array(Pe);for(let gt=0;gt<Pe;gt++){const zt=re[gt];he[gt]=be(zt,gt)}return he},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},O=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],V="",P=new RegExp("^"+x.punctuation+"$"),B=/^\s+$/,$=O,Z=S.OTHER,K=re=>{let be=Z;const Pe=$.length;for(let he=0;he<Pe;++he){const gt=$[he];if(gt&&gt.test(re)){be=he;break}}return be},X=re=>{const be={};return Pe=>{if(be[Pe])return be[Pe];{const he=re(Pe);return be[Pe]=he,he}}},ae=re=>{const be=X(K);return g(re,be)},fe=(re,be)=>{const Pe=re[be],he=re[be+1];if(be<0||be>re.length-1&&be!==0||Pe===S.ALETTER&&he===S.ALETTER)return!1;const gt=re[be+2];if(Pe===S.ALETTER&&(he===S.MIDLETTER||he===S.MIDNUMLET||he===S.AT)&&gt===S.ALETTER)return!1;const zt=re[be-1];return(Pe===S.MIDLETTER||Pe===S.MIDNUMLET||he===S.AT)&&he===S.ALETTER&&zt===S.ALETTER||(Pe===S.NUMERIC||Pe===S.ALETTER)&&(he===S.NUMERIC||he===S.ALETTER)||(Pe===S.MIDNUM||Pe===S.MIDNUMLET)&&he===S.NUMERIC&&zt===S.NUMERIC||Pe===S.NUMERIC&&(he===S.MIDNUM||he===S.MIDNUMLET)&&gt===S.NUMERIC||(Pe===S.EXTEND||Pe===S.FORMAT)&&(he===S.ALETTER||he===S.NUMERIC||he===S.KATAKANA||he===S.EXTEND||he===S.FORMAT)||(he===S.EXTEND||he===S.FORMAT&&(gt===S.ALETTER||gt===S.NUMERIC||gt===S.KATAKANA||gt===S.EXTEND||gt===S.FORMAT))&&(Pe===S.ALETTER||Pe===S.NUMERIC||Pe===S.KATAKANA||Pe===S.EXTEND||Pe===S.FORMAT)||Pe===S.CR&&he===S.LF?!1:Pe===S.NEWLINE||Pe===S.CR||Pe===S.LF||he===S.NEWLINE||he===S.CR||he===S.LF?!0:!(Pe===S.KATAKANA&&he===S.KATAKANA||he===S.EXTENDNUMLET&&(Pe===S.ALETTER||Pe===S.NUMERIC||Pe===S.KATAKANA||Pe===S.EXTENDNUMLET)||Pe===S.EXTENDNUMLET&&(he===S.ALETTER||he===S.NUMERIC||he===S.KATAKANA)||Pe===S.AT)},Le=V,Re=B,te=P,Ce=re=>re==="http"||re==="https",ie=(re,be)=>{let Pe;for(Pe=be;Pe<re.length&&!Re.test(re[Pe]);Pe++);return Pe},Ue=(re,be)=>{const Pe=ie(re,be+1);return re.slice(be+1,Pe).join(Le).substr(0,3)==="://"?Pe:be},We=(re,be,Pe,he)=>{const gt=[],zt=[];let vt=[];for(let Ft=0;Ft<Pe.length;++Ft)if(vt.push(re[Ft]),fe(Pe,Ft)){const Vt=be[Ft];if((he.includeWhitespace||!Re.test(Vt))&&(he.includePunctuation||!te.test(Vt))){const wn=Ft-vt.length+1,cn=Ft+1,An=be.slice(wn,cn).join(Le);if(Ce(An)){const On=Ue(be,Ft),wo=re.slice(cn,On);Array.prototype.push.apply(vt,wo),Ft=On}be[Ft+1]==="."&&/^([a-zA-Z]\.)+$/.test(An+".")?(vt.push(re[Ft+1]),zt.push({start:wn,end:cn+1})):zt.push({start:wn,end:cn}),gt.push(vt)}vt=[]}return{words:gt,indices:zt}},qe=()=>({includeWhitespace:!1,includePunctuation:!1}),st=(re,be,Pe)=>{Pe={...qe(),...Pe};const he=g(re,be),gt=ae(he);return We(re,he,gt,Pe)},Me=(re,be,Pe)=>st(re,be,Pe).words,D=re=>re.replace(/\uFEFF/g,"");var Ke=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ct=(re,be)=>{const Pe=be.getBlockElements(),he=be.getVoidElements(),gt=wn=>Pe[wn.nodeName]||he[wn.nodeName],zt=[];let vt="";const Ft=new Ke(re,re);let Vt;for(;Vt=Ft.next();)Vt.nodeType===3?vt+=D(Vt.data):gt(Vt)&&vt.length&&(zt.push(vt),vt="");return vt.length&&zt.push(vt),zt},$t=re=>re.replace(/\u200B/g,""),Jt=re=>re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,et=(re,be)=>{const Pe=$t(ct(re,be).join(`
`));return Me(Pe.split(""),d).length},pt=(re,be)=>{const Pe=ct(re,be).join("");return Jt(Pe)},Lt=(re,be)=>{const Pe=ct(re,be).join("").replace(/\s/g,"");return Jt(Pe)},tt=(re,be)=>()=>be(re.getBody(),re.schema),Ye=(re,be)=>()=>be(re.selection.getRng().cloneContents(),re.schema),Mt=re=>tt(re,et),no=re=>({body:{getWordCount:Mt(re),getCharacterCount:tt(re,pt),getCharacterCountWithoutSpaces:tt(re,Lt)},selection:{getWordCount:Ye(re,et),getCharacterCount:Ye(re,pt),getCharacterCountWithoutSpaces:Ye(re,Lt)},getCount:Mt(re)}),Fn=(re,be)=>{re.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(be.body.getWordCount()),String(be.selection.getWordCount())],["Characters (no spaces)",String(be.body.getCharacterCountWithoutSpaces()),String(be.selection.getCharacterCountWithoutSpaces())],["Characters",String(be.body.getCharacterCount()),String(be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},fn=(re,be)=>{re.addCommand("mceWordCount",()=>Fn(re,be))},_n=(re,be)=>{let Pe=null;return{cancel:()=>{l(Pe)||(clearTimeout(Pe),Pe=null)},throttle:(...zt)=>{l(Pe)&&(Pe=setTimeout(()=>{Pe=null,re.apply(null,zt)},be))}}};var Q=tinymce.util.Tools.resolve("tinymce.util.Delay");const xs=(re,be)=>{re.dispatch("wordCountUpdate",{wordCount:{words:be.body.getWordCount(),characters:be.body.getCharacterCount(),charactersWithoutSpaces:be.body.getCharacterCountWithoutSpaces()}})},Qn=(re,be)=>{xs(re,be)},tn=(re,be,Pe)=>{const he=_n(()=>Qn(re,be),Pe);re.on("init",()=>{Qn(re,be),Q.setEditorTimeout(re,()=>{re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",he.throttle)},0),re.on("remove",he.cancel)})},To=re=>{const be=()=>re.execCommand("mceWordCount");re.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:be}),re.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:be})};var je=(re=300)=>{n.add("wordcount",be=>{const Pe=no(be);return fn(be,Pe),To(be),tn(be,Pe,re),Pe})};je()})();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var P0e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],M0e=function(n){return P0e.map(function(r){return r.toLowerCase()}).indexOf(n.toLowerCase())!==-1},B0e=function(n,r,l){Object.keys(r).filter(M0e).forEach(function(d){var g=r[d];typeof g=="function"&&(d==="onInit"?g(n,l):l.on(d.substring(2),function(v){return g(v,l)}))})},L0e=function(n,r,l,d){var g=n.modelEvents?n.modelEvents:null,v=Array.isArray(g)?g.join(" "):g;Gn(d,function(x,S){l&&typeof x=="string"&&x!==S&&x!==l.getContent({format:n.outputFormat})&&l.setContent(x)}),l.on(v||"change input undo redo",function(){r.emit("update:modelValue",l.getContent({format:n.outputFormat}))})},F0e=function(n,r,l,d,g,v){d.setContent(v()),l.attrs["onUpdate:modelValue"]&&L0e(r,l,d,g),B0e(n,l.attrs,d)},Pq=0,hee=function(n){var r=Date.now(),l=Math.floor(Math.random()*1e9);return Pq++,n+"_"+l+Pq+String(r)},V0e=function(n){return n!==null&&n.tagName.toLowerCase()==="textarea"},Mq=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},z0e=function(n,r){return Mq(n).concat(Mq(r))},H0e=function(n){return n==null},Bq=function(){return{listeners:[],scriptId:hee("tiny-script"),scriptLoaded:!1}},$0e=function(){var n=Bq(),r=function(g,v,x,S){var O=v.createElement("script");O.referrerPolicy="origin",O.type="application/javascript",O.id=g,O.src=x;var V=function(){O.removeEventListener("load",V),S()};O.addEventListener("load",V),v.head&&v.head.appendChild(O)},l=function(g,v,x){n.scriptLoaded?x():(n.listeners.push(x),g.getElementById(n.scriptId)||r(n.scriptId,g,v,function(){n.listeners.forEach(function(S){return S()}),n.scriptLoaded=!0}))},d=function(){n=Bq()};return{load:l,reinitialize:d}},U0e=$0e(),W0e=function(){return typeof window<"u"?window:global},Gw=function(){var n=W0e();return n&&n.tinymce?n.tinymce:null},Z0e={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return n==="html"||n==="text"}}},uv=function(){return uv=Object.assign||function(n){for(var r,l=1,d=arguments.length;l<d;l++){r=arguments[l];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(n[g]=r[g])}return n},uv.apply(this,arguments)},j0e=function(n,r,l,d){return n(d||"div",{id:r,ref:l})},K0e=function(n,r,l){return n("textarea",{id:r,visibility:"hidden",ref:l})},m$={selector:void 0,target:void 0},G0e=kY({props:Z0e,setup:function(n,r){var l=n.init?uv(uv({},n.init),m$):uv({},m$),d=wD(n),g=d.disabled,v=d.modelValue,x=d.tagName,S=Mn(null),O=null,V=n.id||hee("tiny-vue"),P=n.init&&n.init.inline||n.inline,B=!!r.attrs["onUpdate:modelValue"],$=!0,Z=n.initialValue?n.initialValue:"",K="",X=function(Le){return B?function(){return v!=null&&v.value?v.value:""}:function(){return Le?Z:K}},ae=function(){var Le=X($),Re=uv(uv({},l),{readonly:n.disabled,target:S.value,plugins:z0e(l.plugins,n.plugins),toolbar:n.toolbar||l.toolbar,inline:P,setup:function(te){O=te,te.on("init",function(Ce){return F0e(Ce,n,r,te,v,Le)}),typeof l.setup=="function"&&l.setup(te)}});V0e(S.value)&&(S.value.style.visibility=""),Gw().init(Re),$=!1};Gn(g,function(Le){var Re;O!==null&&(typeof((Re=O.mode)===null||Re===void 0?void 0:Re.set)=="function"?O.mode.set(Le?"readonly":"design"):O.setMode(Le?"readonly":"design"))}),Gn(x,function(Le){var Re;B||(K=O.getContent()),(Re=Gw())===null||Re===void 0||Re.remove(O),Ar(function(){return ae()})}),Du(function(){if(Gw()!==null)ae();else if(S.value&&S.value.ownerDocument){var Le=n.cloudChannel?n.cloudChannel:"7",Re=n.apiKey?n.apiKey:"no-api-key",te=H0e(n.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(Re,"/tinymce/").concat(Le,"/tinymce.min.js"):n.tinymceScriptSrc;U0e.load(S.value.ownerDocument,te,ae)}}),xc(function(){Gw()!==null&&Gw().remove(O)}),P||(vU(function(){$||ae()}),z8(function(){var Le;B||(K=O.getContent()),(Le=Gw())===null||Le===void 0||Le.remove(O)}));var fe=function(Le){var Re;K=O.getContent(),(Re=Gw())===null||Re===void 0||Re.remove(O),l=uv(uv(uv({},l),Le),m$),Ar(function(){return ae()})};return r.expose({rerender:fe,getEditor:function(){return O}}),function(){return P?j0e(xv,V,S,n.tagName):K0e(xv,V,S)}}});const q0e=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}",Y0e=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}",X0e={class:"app-own-summary-text-wrapper"},J0e=["for"],Q0e=["innerHTML"],pee={__name:"OwnSummaryText",props:["editorId"],setup(n){const r=yc(),l=Vy(),d=n;function g(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap"}function v(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}function x(){return{underline:{inline:"u",remove:"all"}}}function S(){return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}function O(){Z(),K()}function V(){r.updateContent(!0),Z()}function P(){r.updateContent(!0)}function B(){l.zoomSummaryTextIn(),Z()}function $(){l.zoomSummaryTextOut(),Z()}function Z(){try{const X=N0e.get(d.editorId);X&&(X.dom.setStyle(X.dom.doc.body,"font-size",l.summary_text_zoom+"rem"),X.dom.setStyle(X.dom.select("h1"),"font-size",l.summary_text_zoom*1.3+"rem"),X.dom.setStyle(X.dom.select("h2"),"font-size",l.summary_text_zoom*1.15+"rem"),X.dom.setStyle(X.dom.select("h3"),"font-size",l.summary_text_zoom+"rem"),X.dom.setStyle(X.dom.select("h4"),"font-size",l.summary_text_zoom+"rem"),X.dom.setStyle(X.dom.select("h5"),"font-size",l.summary_text_zoom+"rem"),X.dom.setStyle(X.dom.select("h6"),"font-size",l.summary_text_zoom+"rem"))}catch{}}function K(){for(const X of document.getElementsByClassName("tox-tinymce-aux"))X.classList.add("headlines-three")}return(X,ae)=>(Ln(),ds("div",X0e,[Ve("label",{for:d.editorId,class:"hidden"},"Verborgenes Feld zum Gutachten",8,J0e),le(r).isOwnDisabled?As("",!0):(Ln(),or(le(G0e),{key:0,id:d.editorId,modelValue:le(r).editSummary.text,"onUpdate:modelValue":ae[0]||(ae[0]=fe=>le(r).editSummary.text=fe),onChange:V,onKeyup:P,onInit:O,"api-key":"no-api-key",init:{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!0,elementpath:!1,branding:!1,plugins:"lists charmap wordcount",toolbar:g(),valid_elements:v(),formats:x(),style_formats:S(),custom_undo_redo_levels:10,skin:"default",content_css:"default",content_style:le(q0e).toString()+`
`+le(Y0e).toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:"Editor Gutachten",paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:function(fe){fe.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:$}),fe.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:B})}}},null,8,["id","modelValue","init"])),le(r).isOwnDisabled?(Ln(),ds("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:le(r).editSummary.text},null,8,Q0e)):As("",!0)]))}},eye={id:"app-own-summary-wrapper"},tye={id:"app-own-summary-points"},nye={__name:"OwnSummary",props:["showCriteria","showText"],setup(n){const r=ps(),l=n;function d(){switch((l.showCriteria?1:0)+(l.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",eye,[l.showCriteria?(Ln(),ds("div",{key:0,class:xd(d())},[v[0]||(v[0]=Ve("h2",{class:"headline"},"bersicht",-1)),G(mee,{class:"content",corrector_key:le(r).correctorKey},null,8,["corrector_key"])],2)):As("",!0),l.showText?(Ln(),ds("div",{key:1,class:xd(d())},[v[1]||(v[1]=Ve("h2",{class:"headline"},"Gutachten",-1)),G(pee,{class:"content",editorId:"summary"})],2)):As("",!0),Ve("div",tye,[v[2]||(v[2]=Ve("h2",{class:"headline"},"Gesamtbewertung",-1)),G(R0e,{class:"content"})])]))}},oye=Ol(nye,[["__scopeId","data-v-d1ede28d"]]),sye={id:"app-summary-points-wrapper"},rye=["max"],iye={__name:"SummaryPoints",props:["corrector_key"],setup(n){const r=um(),l=Wy(),d=yc(),g=n,v=Mn(0),x=Mn(""),S=Mn(""),O=d.getForCorrector(g.corrector_key);if(O){v.value=O.points;const V=l.getLevel(O.grade_key);V&&(x.value=V.title),S.value=d.getInclusionText(O)}return(V,P)=>(Ln(),ds("div",sye,[P[2]||(P[2]=Ve("label",{for:"appSummaryPoints"},[Ve("strong",null,"Wertung:")],-1)),lo(Ve("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:le(r).max_points,"onUpdate:modelValue":P[0]||(P[0]=B=>v.value=B)},null,8,rye),[[$y,v.value]]),P[3]||(P[3]=yr(" Punkte  ")),P[4]||(P[4]=Ve("strong",null,"Notenstufe:",-1)),yr(" "+ls(x.value)+" ",1),Ve("p",null,[P[1]||(P[1]=Ve("strong",null,"Einbeziehen:",-1)),yr(" "+ls(S.value),1)])]))}},aye=Ol(iye,[["__scopeId","data-v-5ce9c5c8"]]),lye={class:"app-summary-text-wrapper"},cye=["innerHTML"],uye={__name:"SummaryText",props:["corrector_key"],setup(n){const r=yc(),l=n;function d(){let g=r.getForCorrector(l.corrector_key);if(g)return g.text}return(g,v)=>(Ln(),ds("div",lye,[Ve("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:d()},null,8,cye)]))}},dye=Ol(uye,[["__scopeId","data-v-089a3707"]]),fye={id:"app-other-summary-wrapper"},mye={key:2},gye={key:3},hye={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(n){const r=n,l=yc();function d(){switch((r.showCriteria?1:0)+(r.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,v)=>(Ln(),ds("div",fye,[r.showCriteria&&le(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:0,class:xd(d())},[v[0]||(v[0]=Ve("div",{class:"headline"},"bersicht",-1)),G(mee,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):As("",!0),r.showText&&le(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",{key:1,class:xd(d())},[v[1]||(v[1]=Ve("div",{class:"headline"},"Gutachten",-1)),G(dye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])],2)):As("",!0),le(l).getAuthorizationForCorrector(r.corrector_key)?(Ln(),ds("div",mye,[v[2]||(v[2]=Ve("div",{class:"headline"},"Gesamtbewertung",-1)),G(aye,{class:"content",corrector_key:r.corrector_key},null,8,["corrector_key"])])):As("",!0),le(l).getAuthorizationForCorrector(r.corrector_key)?As("",!0):(Ln(),ds("div",gye," Diese Korrektur ist noch nicht autorisiert. "))]))}},Lq=Ol(hye,[["__scopeId","data-v-1f4a6ccd"]]),pye=Dn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...uL(),...tW()},"VTextarea"),vye=Ro()({name:"VTextarea",directives:{Intersect:qU},inheritAttrs:!1,props:pye(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,r){let{attrs:l,emit:d,slots:g}=r;const v=zi(n,"modelValue"),{isFocused:x,focus:S,blur:O}=cL(n),V=Ge(()=>typeof n.counterValue=="function"?n.counterValue(v.value):(v.value||"").toString().length),P=Ge(()=>{if(l.maxlength)return l.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter});function B(Se,Me){var D,Ke;!n.autofocus||!Se||(Ke=(D=Me[0].target)==null?void 0:D.focus)==null||Ke.call(D)}const $=Mn(),Z=Mn(),K=Ao(""),X=Mn(),ae=Ge(()=>n.persistentPlaceholder||x.value||n.active);function fe(){var Se;X.value!==document.activeElement&&((Se=X.value)==null||Se.focus()),x.value||S()}function Le(Se){fe(),d("click:control",Se)}function Re(Se){d("mousedown:control",Se)}function te(Se){Se.stopPropagation(),fe(),Ar(()=>{v.value="",gX(n["onClick:clear"],Se)})}function Ce(Se){var D;const Me=Se.target;if(v.value=Me.value,(D=n.modelModifiers)!=null&&D.trim){const Ke=[Me.selectionStart,Me.selectionEnd];Ar(()=>{Me.selectionStart=Ke[0],Me.selectionEnd=Ke[1]})}}const ie=Mn(),Ue=Mn(+n.rows),We=Ge(()=>["plain","underlined"].includes(n.variant));cf(()=>{n.autoGrow||(Ue.value=+n.rows)});function qe(){n.autoGrow&&Ar(()=>{if(!ie.value||!Z.value)return;const Se=getComputedStyle(ie.value),Me=getComputedStyle(Z.value.$el),D=parseFloat(Se.getPropertyValue("--v-field-padding-top"))+parseFloat(Se.getPropertyValue("--v-input-padding-top"))+parseFloat(Se.getPropertyValue("--v-field-padding-bottom")),Ke=ie.value.scrollHeight,ct=parseFloat(Se.lineHeight),$t=Math.max(parseFloat(n.rows)*ct+D,parseFloat(Me.getPropertyValue("--v-input-control-height"))),Jt=parseFloat(n.maxRows)*ct+D||1/0,et=$h(Ke??0,$t,Jt);Ue.value=Math.floor((et-D)/ct),K.value=hs(et)})}Du(qe),Gn(v,qe),Gn(()=>n.rows,qe),Gn(()=>n.maxRows,qe),Gn(()=>n.density,qe);let st;return Gn(ie,Se=>{Se?(st=new ResizeObserver(qe),st.observe(ie.value)):st==null||st.disconnect()}),xc(()=>{st==null||st.disconnect()}),vs(()=>{const Se=!!(g.counter||n.counter||n.counterValue),Me=!!(Se||g.details),[D,Ke]=Z8(l),{modelValue:ct,...$t}=Gk.filterProps(n),Jt=xQ(n);return G(Gk,Wo({ref:$,modelValue:v.value,"onUpdate:modelValue":et=>v.value=et,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":We.value},n.class],style:n.style},D,$t,{centerAffix:Ue.value===1&&!We.value,focused:x.value}),{...g,default:et=>{let{id:pt,isDisabled:Lt,isDirty:tt,isReadonly:Ye,isValid:Mt}=et;return G(nW,Wo({ref:Z,style:{"--v-textarea-control-height":K.value},onClick:Le,onMousedown:Re,"onClick:clear":te,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},Jt,{id:pt.value,active:ae.value||tt.value,centerAffix:Ue.value===1&&!We.value,dirty:tt.value||n.dirty,disabled:Lt.value,focused:x.value,error:Mt.value===!1}),{...g,default:no=>{let{props:{class:Fn,...fn}}=no;return G(us,null,[n.prefix&&G("span",{class:"v-text-field__prefix"},[n.prefix]),lo(G("textarea",Wo({ref:X,class:Fn,value:v.value,onInput:Ce,autofocus:n.autofocus,readonly:Ye.value,disabled:Lt.value,placeholder:n.placeholder,rows:n.rows,name:n.name,onFocus:fe,onBlur:O},fn,Ke),null),[[Gy("intersect"),{handler:B},null,{once:!0}]]),n.autoGrow&&lo(G("textarea",{class:[Fn,"v-textarea__sizer"],id:`${fn.id}-sizer`,"onUpdate:modelValue":_n=>v.value=_n,ref:ie,readonly:!0,"aria-hidden":"true"},null),[[$y,v.value]]),n.suffix&&G("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:Me?et=>{var pt;return G(us,null,[(pt=g.details)==null?void 0:pt.call(g,et),Se&&G(us,null,[G("span",null,null),G(yQ,{active:n.persistentCounter||x.value,value:V.value,max:P.value,disabled:n.disabled},g.counter)])])}:void 0})}),sE({},$,Z,X)}}),bye={key:0},yye=["id","value"],xye=["for"],wye={key:1},Cye=["id","max","disabled"],_ye=["for"],Sye=["id","disabled"],kye=["for"],Eye=["id","disabled"],Aye=["for"],Tye=["id"],Oye={__name:"MarkingComment",props:["comment"],setup(n){const r=ps(),l=Au(),d=yc(),g=um(),v=Uh(),x=_1(),O=n.comment;Du(()=>{const Z=document.getElementById("appCommentContainer"+O.key);for(const K of Z.getElementsByTagName("label"))K.getAttribute("for").includes("app-comment-")&&(K.classList.add("sr-only"),K.getAttribute("aria-hidden")=="true"?K.getAttribute("for").includes("-sizer")||K.setAttribute("for",K.getAttribute("for")+"-sizer"):K.setAttribute("id","app-comment-"+O.key+"-messages"));for(const K of Z.getElementsByTagName("textarea"))K.style.marginTop="-10px"});function V(Z){return Z.key==l.selectedKey?Z.rating_excellent?"#BBEBA5":Z.rating_cardinal?"#FCB494":"#94C3FC":Z.prefix=="own"?Z.rating_excellent?"#E3EFDD":Z.rating_cardinal?"#FBDED1":"#D8E5F4":Z.rating_excellent?"#F7F9F7":Z.rating_cardinal?"#FCF6F4":"#F5F7FB"}function P(Z){return Z.points==0?"white":Z.corrector_key!=r.correctorKey?"grey":l.getPointsOfCorrector(Z.corrector_key)>g.max_points?"red":"grey"}async function B(Z){l.selectComment(Z.key),Z.rating_excellent&&(Z.rating_cardinal=!1),l.setMarkerChange(),l.updateComment(Z)}async function $(Z){l.selectComment(Z.key),Z.rating_cardinal&&(Z.rating_excellent=!1),l.setMarkerChange(),l.updateComment(Z)}return(Z,K)=>(Ln(),or(SQ,{id:"appCommentContainer"+le(O).key,key:le(O).key},{default:Pt(()=>[G(Bk,{class:"row",dense:""},{default:Pt(()=>[G(im,{class:"col"},{default:Pt(()=>[G(qn,{size:"small",icon:le(O).getMarkIcon()},null,8,["icon"]),K[16]||(K[16]=yr("  ")),Ve("button",{tabindex:"0",class:xd("commentLabel "+(le(O).key==le(l).selectedKey?"selected":"")),onClick:K[0]||(K[0]=X=>le(l).selectComment(le(O).key))},ls(le(O).label),3)]),_:1}),G(im,{class:"col"},{default:Pt(()=>[lo(G(xo,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",onClick:K[1]||(K[1]=X=>le(l).deleteComment(le(O).key))},{default:Pt(()=>K[17]||(K[17]=[Ve("span",{class:"sr-only"},"Anmerkung lschen",-1)])),_:1},512),[[zo,le(O).corrector_key==le(r).correctorKey&&!le(d).isOwnDisabled]])]),_:1}),G(im,{class:"col"},{default:Pt(()=>[le(v).getCorrectorHasCriteria(le(O).corrector_key)?lo((Ln(),ds("span",bye,[Ve("input",{class:"pointsInput",disabled:"disabled",id:"pointsInput"+le(O).key,value:le(x).getSumOfPointsForComment(le(O).key)},null,8,yye),Ve("label",{for:"pointsInput"+le(O).key,onClick:K[2]||(K[2]=X=>le(l).selectComment(le(O).key))}," Pkt.",8,xye)],512)),[[zo,le(O).key==le(l).selectedKey||le(x).getCommentHasPoints(le(O).key)]]):As("",!0),le(v).getCorrectorHasCriteria(le(O).corrector_key)?As("",!0):lo((Ln(),ds("span",wye,[lo(Ve("input",{class:"pointsInput",type:"number",min:"0",style:bD("color: "+P(le(O))+";"),id:"pointsInput"+le(O).key,max:le(g).max_points,disabled:le(d).isOwnDisabled||le(O).corrector_key!=le(r).correctorKey,onChange:K[3]||(K[3]=X=>le(l).updateComment(le(O))),"onUpdate:modelValue":K[4]||(K[4]=X=>le(O).points=X)},null,44,Cye),[[$y,le(O).points]]),Ve("label",{for:"pointsInput"+le(O).key,onClick:K[5]||(K[5]=X=>le(l).selectComment(le(O).key))}," Pkt.",8,_ye)],512)),[[zo,le(O).key==le(l).selectedKey||le(O).points>0]])]),_:1}),G(im,{class:"col"},{default:Pt(()=>[lo(Ve("span",null,[lo(Ve("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":K[6]||(K[6]=X=>le(O).rating_excellent=X),id:"ratingExcellent"+le(O).key,disabled:le(d).isOwnDisabled||le(O).corrector_key!=le(r).correctorKey,onChange:K[7]||(K[7]=X=>B(le(O)))},null,40,Sye),[[rG,le(O).rating_excellent]]),Ve("label",{for:"ratingExcellent"+le(O).key,onClick:K[8]||(K[8]=X=>le(l).selectComment(le(O).key))},""+ls(le(g).positive_rating),9,kye)],512),[[zo,le(O).rating_excellent||le(O).key==le(l).selectedKey]])]),_:1}),G(im,{class:"col"},{default:Pt(()=>[lo(Ve("span",null,[lo(Ve("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":K[9]||(K[9]=X=>le(O).rating_cardinal=X),id:"ratingCardinal"+le(O).key,disabled:le(d).isOwnDisabled||le(O).corrector_key!=le(r).correctorKey,onChange:K[10]||(K[10]=X=>$(le(O)))},null,40,Eye),[[rG,le(O).rating_cardinal]]),Ve("label",{for:"ratingCardinal"+le(O).key,onClick:K[11]||(K[11]=X=>le(l).selectComment(le(O).key))},""+ls(le(g).negative_rating),9,Aye)],512),[[zo,le(O).rating_cardinal||le(O).key==le(l).selectedKey]])]),_:1})]),_:1}),G(Bk,null,{default:Pt(()=>[Ve("div",{id:"appCommentWrapper"+le(O).key,class:"commentWrapper"},[lo(G(vye,{class:"comment","bg-color":V(le(O)),rounded:"0",density:"compact",variant:"solo",id:"app-comment-"+le(O).key,label:"Anmerkung zu Markierung "+le(O).label,rows:"1","auto-grow":"",readonly:le(d).isOwnDisabled||le(O).corrector_key!=le(r).correctorKey,onClick:K[12]||(K[12]=X=>le(l).selectComment(le(O).key)),onChange:K[13]||(K[13]=X=>le(l).updateComment(le(O))),onKeyup:K[14]||(K[14]=X=>le(l).updateComment(le(O))),modelValue:le(O).comment,"onUpdate:modelValue":K[15]||(K[15]=X=>le(O).comment=X)},null,8,["bg-color","id","label","readonly","modelValue"]),[[zo,le(O).comment!=""||le(O).key==le(l).selectedKey]])],8,Tye)]),_:1})]),_:1},8,["id"]))}},Dye=Ol(Oye,[["__scopeId","data-v-432045bd"]]),Rye={id:"appMarkingComments"},Iye={__name:"MarkingComments",setup(n){const r=Au();async function l(){await Ar();let g=document.getElementById("appCommentWrapper"+r.selectedKey);if(g){let v=g.querySelector("textarea");v&&v.focus()}}Gn(()=>r.selectionChange,l);async function d(){await Ar();let g=document.getElementById("appCommentContainer"+r.firstVisibleKey);g&&g.scrollIntoView()}return Gn(()=>r.firstVisibleKey,d),(g,v)=>(Ln(),ds("div",Rye,[(Ln(!0),ds(us,null,lC(le(r).activeComments,x=>(Ln(),or(Dye,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},Nye={class:"appMarkingPointsWrapper"},Pye={key:0,class:"info"},Mye={class:"col-mid text-right"},Bye={class:"col-left"},Lye=["for"],Fye={class:"col-mid text-right"},Vye=["onUpdate:modelValue","id","disabled","max","onChange"],zye={class:"col-mid text-right"},Hye={class:"sum-points"},$ye={class:"col-right text-right"},Uye={__name:"MarkingPoints",setup(n){const r=Uh(),l=Au(),d=_1(),g=ps(),v=yc();mm();let x=Mn(""),S=Mn(""),O=Mn({});async function V(){const B=l.getComment(l.selectedKey);x.value=B?B.key:"",S.value=B?B.corrector_key:g.correctorKey,O.value={};for(const $ of r.getCorrectorCriteria(S.value))O.value[$.key]=d.getValueByRelation(l.selectedKey,$.key)}V(),Gn(()=>l.selectionChange,V);function P(B){d.setValueByRelation(l.selectedKey,B,O.value[B])}return(B,$)=>(Ln(),ds("div",Nye,[le(S)==""?(Ln(),ds("p",Pye," Bitte Kommentar auswhlen. ")):As("",!0),le(S)!=""?(Ln(),or(rC,{key:1,density:"compact"},{default:Pt(()=>[Ve("thead",null,[Ve("tr",null,[$[1]||($[1]=Ve("th",{class:"col-left"}," Kriterium ",-1)),Ve("th",Mye,[$[0]||($[0]=yr(" Punkte ")),lo(Ve("span",{class:"commentLabel"},ls(le(l).selectedLabel),513),[[zo,le(l).selectedKey!=""]])]),$[2]||($[2]=Ve("th",{class:"col-right text-right"}," Summe / max. ",-1))])]),Ve("tbody",null,[(Ln(!0),ds(us,null,lC(le(r).getCorrectorCriteria(le(S)),Z=>(Ln(),ds("tr",{key:Z.key},[Ve("td",Bye,[Ve("label",{for:"app-points-input-"+Z.key},ls(Z.title),9,Lye)]),Ve("td",Fye,[lo(Ve("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":K=>le(O)[Z.key]=K,id:"app-points-input-"+Z.key,disabled:le(v).isOwnDisabled||le(x)==""||le(S)!=le(g).correctorKey,max:Z.points,onChange:K=>P(Z.key)},null,40,Vye),[[$y,le(O)[Z.key]]])]),Ve("td",{class:xd("col-right text-right "+(le(d).getPointsOfCriterionExceeded(Z,le(S))?"red":""))},ls(le(d).getSumOfPointsForCriterion(Z,le(S)))+" / "+ls(Z.points),3)]))),128)),Ve("tr",null,[$[3]||($[3]=Ve("td",{class:"col-left"},[Ve("strong",null,"Summe")],-1)),Ve("td",zye,[Ve("strong",Hye,ls(le(d).getSumOfPointsForComment(le(x))),1)]),Ve("td",$ye,[Ve("strong",null,ls(le(d).getSumOfPointsForCorrector(le(S))+" / "+le(r).sumOfMaxPoints),1)])])])]),_:1})):As("",!0)]))}},Wye=Ol(Uye,[["__scopeId","data-v-d6c357b9"]]),Zye={id:"app-marking-wrapper"},jye={key:3},Kye={__name:"Marking",setup(n){const r=ps(),l=mm(),d=Uh(),g=yc();function v(){return l.showMarkingComments&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function x(){return l.showMarkingPoints&&d.hasAnyCriteria&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function S(){return l.showMarkingText&&(!r.isForReviewOrStitch||g.isOneAuthorized)}function O(){switch((v()?1:0)+(x()?1:0)+(S()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third"}}return(V,P)=>(Ln(),ds("div",Zye,[v()?(Ln(),ds("div",{key:0,class:xd(O())},[P[0]||(P[0]=Ve("h2",{class:"headline"},"Anmerkungen",-1)),G(Iye,{class:"content"})],2)):As("",!0),x()?(Ln(),ds("div",{key:1,class:xd(O())},[P[1]||(P[1]=Ve("h2",{class:"headline"},"Bewertung",-1)),G(Wye,{class:"content"})],2)):As("",!0),S()?(Ln(),ds("div",{key:2,class:xd(O())},[P[2]||(P[2]=Ve("h2",{class:"headline"},"Gutachten",-1)),G(pee,{class:"content",editorId:"marking"})],2)):As("",!0),le(r).isForReviewOrStitch&&!le(g).isOneAuthorized?(Ln(),ds("div",jye," Fr diese Abgabe ist noch keine Korrektur autorisiert. ")):As("",!0)]))}},Gye=Ol(Kye,[["__scopeId","data-v-2a8fb273"]]),qye=Dn({scrollable:Boolean,...Ls(),...Yh(),...Qi({tag:"main"})},"VMain"),vee=Ro()({name:"VMain",props:qye(),setup(n,r){let{slots:l}=r;const{dimensionStyles:d}=Xh(n),{mainStyles:g}=Lme(),{ssrBootStyles:v}=dL();return vs(()=>G(n.tag,{class:["v-main",{"v-main--scrollable":n.scrollable},n.class],style:[g.value,v.value,d.value,n.style]},{default:()=>{var x,S;return[n.scrollable?G("div",{class:"v-main__scroller"},[(x=l.default)==null?void 0:x.call(l)]):(S=l.default)==null?void 0:S.call(l)]}})),{}}}),Yye={id:"app-main-container"},Xye={class:"col-header"},Jye={class:"headline"},Qye={class:"col-content"},exe={class:"col-header"},txe={class:"headline"},nxe={class:"sr-only"},oxe={class:"sr-only"},sxe={class:"sr-only"},rxe={class:"sr-only"},ixe={class:"sr-only"},axe={class:"sr-only"},lxe={class:"sr-only"},cxe={class:"col-content"},uxe={__name:"MainContent",setup(n){const r=ps(),l=mm(),d=uC(),g=Au(),v=Uh(),x=k8();return document.addEventListener("keydown",l.handleKeyDown),(S,O)=>(Ln(),ds(us,null,[G(vee,{"fill-height":""},{default:Pt(()=>[Ve("div",Yye,[lo(Ve("section",{class:xd(["column",{colExpanded:le(l).isLeftExpanded,colNormal:!le(l).isLeftExpanded}])},[Ve("div",Xye,[Ve("h1",Jye,ls(le(l).isInstructionsVisible?"Aufgabenstellung":le(l).isInstructionsPdfVisible?"Aufgabenstellung (PDF)":le(l).isSolutionVisible?"Lsungshinweise":le(l).isSolutionPdfVisible?"Lsungshinweise (PDF)":le(l).isEssayVisible?"Abgegebener Text":le(l).isResourcesVisible?le(d).activeTitle:le(l).isLeftCorrectorVisible?le(l).leftCorrectorTitle:""),1),G(w1,{density:"comfortable"},{default:Pt(()=>[lo(G(xo,{size:"small",onClick:O[0]||(O[0]=V=>le(l).toggleLeftSummaryCriteria())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showLeftSummaryCriteria]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showLeftSummaryCriteria]]),O[15]||(O[15]=Ve("span",null,"bersicht",-1))]),_:1},512),[[zo,le(l).isLeftCorrectorVisible]]),lo(G(xo,{size:"small",onClick:O[1]||(O[1]=V=>le(l).toggleLeftSummaryText())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showLeftSummaryText]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showLeftSummaryText]]),O[16]||(O[16]=Ve("span",null,"Gutachten",-1))]),_:1},512),[[zo,le(l).isLeftCorrectorVisible]]),lo(G(xo,{size:"small",onClick:O[2]||(O[2]=V=>le(l).setLeftExpanded(!1))},{default:Pt(()=>[G(qn,{icon:"mdi-chevron-left"}),Ve("span",null,ls(le(l).isMarkingSelected?"Korrektur":le(l).isSummarySelected?"Gesamteindruck":le(l).isRightCorrectorSelected?le(l).rightCorrectorTitle:""),1)]),_:1},512),[[zo,le(l).isLeftExpanded]]),lo(G(xo,{size:"small",onClick:O[3]||(O[3]=V=>le(l).setLeftExpanded(!0))},{default:Pt(()=>[O[17]||(O[17]=Ve("span",{"aria-hidden":"true"},"Erweitern",-1)),O[18]||(O[18]=Ve("span",{id:"app-expand-left-column",class:"sr-only"},"Linke Spalte erweitern",-1)),G(qn,{icon:"mdi-chevron-right"})]),_:1},512),[[zo,!le(l).isLeftExpanded]])]),_:1})]),Ve("div",Qye,[le(l).isInstructionsVisible?(Ln(),or($be,{key:0})):As("",!0),le(l).isInstructionsPdfVisible?(Ln(),or(Zbe,{key:1})):As("",!0),le(l).isSolutionVisible?(Ln(),or(Gbe,{key:2})):As("",!0),le(l).isSolutionPdfVisible?(Ln(),or(Xbe,{key:3})):As("",!0),le(l).isEssayVisible&&!le(x).hasPages?(Ln(),or(a1e,{key:4})):As("",!0),le(l).isEssayVisible&&le(x).hasPages?(Ln(),or(w0e,{key:5})):As("",!0),le(l).isResourcesVisible?(Ln(),or(n1e,{key:6})):As("",!0),le(l).isLeftCorrectorVisible?(Ln(),or(Lq,{key:7,corrector_key:le(l).leftCorrectorKey,showCriteria:le(l).showLeftSummaryCriteria,showText:le(l).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):As("",!0)])],2),[[zo,le(l).isLeftVisible]]),lo(Ve("section",{class:xd(["column",{colExpanded:le(l).isRightExpanded,colNormal:!le(l).isRightExpanded}])},[Ve("div",exe,[Ve("h1",txe,ls(le(l).isMarkingVisible?"Korrektur":le(l).isSummaryVisible?"Eigener Gesamteindruck":le(l).isRightCorrectorVisible?le(l).rightCorrectorTitle:""),1),G(w1,{density:"comfortable"},{default:Pt(()=>[le(l).isMarkingVisible?(Ln(),or(xo,{key:0,size:"small",variant:"plain",onClick:O[4]||(O[4]=V=>le(g).setShowOtherCorrectors(!le(g).isOtherCorrectorsShown))},{default:Pt(()=>[G(qn,{icon:le(g).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),Ve("span",nxe,ls("Andere Korrektoren zeigen"+(le(g).isOtherCorrectorsShown?", ist ausgewhlt":"")),1)]),_:1})):As("",!0),le(l).isMarkingVisible?(Ln(),or(xo,{key:1,size:"small",variant:"plain",disabled:!le(g).isFilterActive,onClick:O[5]||(O[5]=V=>le(g).resetFilter())},{default:Pt(()=>[G(qn,{icon:le(g).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),Ve("span",oxe,ls("Filter aktiv"+(le(g).isFilterActive?", ist ausgewhlt":"")),1)]),_:1},8,["disabled"])):As("",!0),lo(G(xo,{size:"small",onClick:O[6]||(O[6]=V=>le(l).toggleMarkingComments())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showMarkingComments]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showMarkingComments]]),O[19]||(O[19]=Ve("span",null,"Anmerkungen",-1)),Ve("span",sxe,ls("anzeigen"+(le(l).showMarkingComments?", ist ausgewhlt":"")),1)]),_:1},512),[[zo,le(l).isMarkingVisible]]),lo(G(xo,{size:"small",onClick:O[7]||(O[7]=V=>le(l).toggleMarkingPoints())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showMarkingPoints]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showMarkingPoints]]),O[20]||(O[20]=Ve("span",null,"Bewertung",-1)),Ve("span",rxe,ls("anzeigen"+(le(l).showMarkingPoints?", ist ausgewhlt":"")),1)]),_:1},512),[[zo,le(v).hasAnyCriteria&&le(l).isMarkingVisible]]),lo(G(xo,{size:"small",onClick:O[8]||(O[8]=V=>le(l).toggleMarkingText())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showMarkingText]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showMarkingText]]),O[21]||(O[21]=Ve("span",null,"Gutachten",-1)),Ve("span",ixe,ls("anzeigen"+(le(l).showMarkingText?", ist ausgewhlt":"")),1)]),_:1},512),[[zo,!le(r).isForReviewOrStitch&&le(l).isMarkingVisible]]),lo(G(xo,{size:"small",onClick:O[9]||(O[9]=V=>le(l).toggleRightSummaryCriteria())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showRightSummaryCriteria]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showRightSummaryCriteria]]),O[22]||(O[22]=Ve("span",null,"bersicht",-1)),Ve("span",axe,ls("anzeigen"+(le(l).showRightSummaryCriteria?", ist ausgewhlt":"")),1)]),_:1},512),[[zo,le(l).isSummaryVisible||le(l).isRightCorrectorVisible]]),lo(G(xo,{size:"small",onClick:O[10]||(O[10]=V=>le(l).toggleRightSummaryText())},{default:Pt(()=>[lo(G(qn,{icon:"mdi-checkbox-outline"},null,512),[[zo,le(l).showRightSummaryText]]),lo(G(qn,{icon:"mdi-checkbox-blank-outline"},null,512),[[zo,!le(l).showRightSummaryText]]),O[23]||(O[23]=Ve("span",null,"Gutachten",-1)),Ve("span",lxe,ls("anzeigen"+(le(l).showRightSummaryText?", ist ausgewhlt":"")),1)]),_:1},512),[[zo,le(l).isSummaryVisible||le(l).isRightCorrectorVisible]]),lo(G(xo,{size:"small",onClick:O[11]||(O[11]=V=>le(l).setRightExpanded(!1))},{default:Pt(()=>[Ve("span",null,ls(le(l).isInstructionsSelected?"Aufgabenstellung":le(l).isEssaySelected?"Abgegebener Text":le(l).isResourcesSelected?le(d).activeTitle:le(l).isLeftCorrectorSelected?le(l).leftCorrectorTitle:""),1),G(qn,{icon:"mdi-chevron-right"})]),_:1},512),[[zo,le(l).isRightExpanded]]),lo(G(xo,{size:"small",onClick:O[12]||(O[12]=V=>le(l).setRightExpanded(!0))},{default:Pt(()=>[G(qn,{icon:"mdi-chevron-left"}),O[24]||(O[24]=Ve("span",{"aria-hidden":"true"},"Erweitern",-1)),O[25]||(O[25]=Ve("span",{id:"app-expand-right-column",class:"sr-only"},"Rechte Spalte erweitern",-1))]),_:1},512),[[zo,!le(l).isRightExpanded]])]),_:1})]),Ve("div",cxe,[le(l).isSummaryVisible?(Ln(),or(oye,{key:0,showCriteria:le(l).showRightSummaryCriteria,showText:le(l).showRightSummaryText},null,8,["showCriteria","showText"])):As("",!0),le(l).isRightCorrectorVisible?(Ln(),or(Lq,{key:1,corrector_key:le(l).rightCorrectorKey,showCriteria:le(l).showRightSummaryCriteria,showText:le(l).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):As("",!0),le(l).isMarkingVisible?(Ln(),or(Gye,{key:2})):As("",!0)])],2),[[zo,le(l).isRightVisible]])])]),_:1}),G(pv,{persistent:"",modelValue:le(r).showSendFailure,"onUpdate:modelValue":O[14]||(O[14]=V=>le(r).showSendFailure=V)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>O[26]||(O[26]=[Ve("p",null,"Ihre letzen nderungen zu dieser Korrektur konnten nicht bertragen werden, sind aber lokal gespeichert.",-1),Ve("p",null,"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu).",-1),Ve("p",null,"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern.",-1)])),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:O[13]||(O[13]=V=>le(r).setShowSendFailure(!1))},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-close"}),O[27]||(O[27]=Ve("span",null,"Meldung schlieen",-1))]),_:1}),G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),O[28]||(O[28]=Ve("span",null,"Korrektur abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},dxe=Ol(uxe,[["__scopeId","data-v-8faf4baa"]]),fxe={__name:"StartupContent",setup(n){const r=ps(),l=Uy(),d=mv();return(g,v)=>(Ln(),or(vee,{"fill-height":""},{default:Pt(()=>[G(VQ,{elevation:"1",color:"white",density:"compact"},{default:Pt(()=>[v[5]||(v[5]=Ve("p",null,"Lade Daten...",-1)),G(iW),G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),v[4]||(v[4]=Ve("span",null,"Meine Korrekturen",-1))]),_:1},8,["href"])]),_:1}),G(pv,{persistent:"",modelValue:le(r).showInitFailure,"onUpdate:modelValue":v[0]||(v[0]=x=>le(r).showInitFailure=x)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>v[6]||(v[6]=[Ve("p",null,"Beim Laden der Basisdaten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),v[7]||(v[7]=Ve("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),G(pv,{persistent:"",modelValue:le(r).showItemLoadFailure,"onUpdate:modelValue":v[1]||(v[1]=x=>le(r).showItemLoadFailure=x)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>v[8]||(v[8]=[Ve("p",null,"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),v[9]||(v[9]=Ve("span",null,"Beenden",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),G(pv,{persistent:"",modelValue:le(r).showDataReplaceConfirmation,"onUpdate:modelValue":v[2]||(v[2]=x=>le(r).showDataReplaceConfirmation=x)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>[v[10]||(v[10]=Ve("p",null,"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:",-1)),Ve("p",null,[Ve("strong",null,ls(le(l).title)+": "+ls(le(d).getItem(le(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[11]||(v[11]=Ve("p",null,"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?",-1))]),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:le(r).initAfterReplaceDataConfirmed},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-reload"}),v[12]||(v[12]=Ve("span",null,"Verwerfen und Laden",-1))]),_:1},8,["onClick"]),G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),v[13]||(v[13]=Ve("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),G(pv,{persistent:"",modelValue:le(r).showItemReplaceConfirmation,"onUpdate:modelValue":v[3]||(v[3]=x=>le(r).showItemReplaceConfirmation=x)},{default:Pt(()=>[G(hv,null,{default:Pt(()=>[G(zh,null,{default:Pt(()=>[v[14]||(v[14]=Ve("p",null,"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:",-1)),Ve("p",null,[Ve("strong",null,ls(le(l).title)+": "+ls(le(d).getItem(le(r).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),v[15]||(v[15]=Ve("p",null,"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen.",-1))]),_:1}),G(Vh,null,{default:Pt(()=>[G(xo,{onClick:le(r).initAfterKeepDataConfirmed},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-pencil-outline"}),v[16]||(v[16]=Ve("span",null,"Mit lokalen Daten weiter arbeiten",-1))]),_:1},8,["onClick"]),G(xo,{onClick:le(r).initAfterReplaceDataConfirmed},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-trash-can-outline"}),v[17]||(v[17]=Ve("span",null,"Lokale Daten verwerfen",-1))]),_:1},8,["onClick"]),G(xo,{href:le(r).returnUrl},{default:Pt(()=>[G(qn,{left:"",icon:"mdi-logout-variant"}),v[18]||(v[18]=Ve("span",null,"Abbrechen",-1))]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},mxe=Dn({...Ls(),...Bme({fullHeight:!0}),...cl()},"VApp"),gxe=Ro()({name:"VApp",props:mxe(),setup(n,r){let{slots:l}=r;const d=$l(n),{layoutClasses:g,getLayoutItem:v,items:x,layoutRef:S}=Vme(n),{rtlClasses:O}=Ng();return vs(()=>{var V;return G("div",{ref:S,class:["v-application",d.themeClasses.value,g.value,O.value,n.class],style:[n.style]},[G("div",{class:"v-application__wrap"},[(V=l.default)==null?void 0:V.call(l)])])}),{getLayoutItem:v,items:x,theme:d}}}),hxe={__name:"App",setup(n){const r=ps();return r.init(),(l,d)=>(Ln(),or(gxe,{"fill-height":""},{default:Pt(()=>[le(r).initialized?As("",!0):(Ln(),or(fxe,{key:0})),le(r).initialized?(Ln(),or(Tbe,{key:1})):As("",!0),le(r).initialized?(Ln(),or(Vbe,{key:2})):As("",!0),le(r).initialized?(Ln(),or(dxe,{key:3})):As("",!0)]),_:1}))}},bee=Bde(hxe);Yme(bee);bee.mount("#app");
