var gde=Object.defineProperty;var hde=(t,s,a)=>s in t?gde(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var xn=(t,s,a)=>hde(t,typeof s!="symbol"?s+"":s,a);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const h of g)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function a(g){const h={};return g.integrity&&(h.integrity=g.integrity),g.referrerPolicy&&(h.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?h.credentials="include":g.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(g){if(g.ep)return;g.ep=!0;const h=a(g);fetch(g.href,h)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pW(t){const s=Object.create(null);for(const a of t.split(","))s[a]=1;return a=>a in s}const Hi={},fE=[],Fb=()=>{},pde=()=>!1,O8=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bW=t=>t.startsWith("onUpdate:"),lc=Object.assign,vW=(t,s)=>{const a=t.indexOf(s);a>-1&&t.splice(a,1)},bde=Object.prototype.hasOwnProperty,hi=(t,s)=>bde.call(t,s),Xo=Array.isArray,mE=t=>rR(t)==="[object Map]",EE=t=>rR(t)==="[object Set]",NG=t=>rR(t)==="[object Date]",Rr=t=>typeof t=="function",el=t=>typeof t=="string",zb=t=>typeof t=="symbol",Di=t=>t!==null&&typeof t=="object",PX=t=>(Di(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),LX=Object.prototype.toString,rR=t=>LX.call(t),vde=t=>rR(t).slice(8,-1),MX=t=>rR(t)==="[object Object]",yW=t=>el(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gD=pW(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D8=t=>{const s=Object.create(null);return a=>s[a]||(s[a]=t(a))},yde=/-(\w)/g,Ld=D8(t=>t.replace(yde,(s,a)=>a?a.toUpperCase():"")),xde=/\B([A-Z])/g,$C=D8(t=>t.replace(xde,"-$1").toLowerCase()),r0=D8(t=>t.charAt(0).toUpperCase()+t.slice(1)),DH=D8(t=>t?`on${r0(t)}`:""),px=(t,s)=>!Object.is(t,s),LB=(t,...s)=>{for(let a=0;a<t.length;a++)t[a](...s)},SU=(t,s,a,u=!1)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,writable:u,value:a})},YB=t=>{const s=parseFloat(t);return isNaN(s)?t:s},wde=t=>{const s=el(t)?Number(t):NaN;return isNaN(s)?t:s};let PG;const R8=()=>PG||(PG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ir(t){if(Xo(t)){const s={};for(let a=0;a<t.length;a++){const u=t[a],g=el(u)?kde(u):Ir(u);if(g)for(const h in g)s[h]=g[h]}return s}else if(el(t)||Di(t))return t}const Cde=/;(?![^(]*\))/g,_de=/:([^]+)/,Sde=/\/\*[^]*?\*\//g;function kde(t){const s={};return t.replace(Sde,"").split(Cde).forEach(a=>{if(a){const u=a.split(_de);u.length>1&&(s[u[0].trim()]=u[1].trim())}}),s}function go(t){let s="";if(el(t))s=t;else if(Xo(t))for(let a=0;a<t.length;a++){const u=go(t[a]);u&&(s+=u+" ")}else if(Di(t))for(const a in t)t[a]&&(s+=a+" ");return s.trim()}const Ede="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ade=pW(Ede);function BX(t){return!!t||t===""}function Tde(t,s){if(t.length!==s.length)return!1;let a=!0;for(let u=0;a&&u<t.length;u++)a=sR(t[u],s[u]);return a}function sR(t,s){if(t===s)return!0;let a=NG(t),u=NG(s);if(a||u)return a&&u?t.getTime()===s.getTime():!1;if(a=zb(t),u=zb(s),a||u)return t===s;if(a=Xo(t),u=Xo(s),a||u)return a&&u?Tde(t,s):!1;if(a=Di(t),u=Di(s),a||u){if(!a||!u)return!1;const g=Object.keys(t).length,h=Object.keys(s).length;if(g!==h)return!1;for(const x in t){const w=t.hasOwnProperty(x),T=s.hasOwnProperty(x);if(w&&!T||!w&&T||!sR(t[x],s[x]))return!1}}return String(t)===String(s)}function xW(t,s){return t.findIndex(a=>sR(a,s))}const FX=t=>!!(t&&t.__v_isRef===!0),pt=t=>el(t)?t:t==null?"":Xo(t)||Di(t)&&(t.toString===LX||!Rr(t.toString))?FX(t)?pt(t.value):JSON.stringify(t,$X,2):String(t),$X=(t,s)=>FX(s)?$X(t,s.value):mE(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((a,[u,g],h)=>(a[RH(u,h)+" =>"]=g,a),{})}:EE(s)?{[`Set(${s.size})`]:[...s.values()].map(a=>RH(a))}:zb(s)?RH(s):Di(s)&&!Xo(s)&&!MX(s)?String(s):s,RH=(t,s="")=>{var a;return zb(t)?`Symbol(${(a=t.description)!=null?a:s})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bu;class VX{constructor(s=!1){this.detached=s,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bu,!s&&Bu&&(this.index=(Bu.scopes||(Bu.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,a;if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].pause();for(s=0,a=this.effects.length;s<a;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,a;if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].resume();for(s=0,a=this.effects.length;s<a;s++)this.effects[s].resume()}}run(s){if(this._active){const a=Bu;try{return Bu=this,s()}finally{Bu=a}}}on(){++this._on===1&&(this.prevScope=Bu,Bu=this)}off(){this._on>0&&--this._on===0&&(Bu=this.prevScope,this.prevScope=void 0)}stop(s){if(this._active){this._active=!1;let a,u;for(a=0,u=this.effects.length;a<u;a++)this.effects[a].stop();for(this.effects.length=0,a=0,u=this.cleanups.length;a<u;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,u=this.scopes.length;a<u;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!s){const g=this.parent.scopes.pop();g&&g!==this&&(this.parent.scopes[this.index]=g,g.index=this.index)}this.parent=void 0}}}function yx(t){return new VX(t)}function wW(){return Bu}function cc(t,s=!1){Bu&&Bu.cleanups.push(t)}let oa;const IH=new WeakSet;class zX{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bu&&Bu.active&&Bu.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,IH.has(this)&&(IH.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||UX(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,LG(this),WX(this);const s=oa,a=cp;oa=this,cp=!0;try{return this.fn()}finally{KX(this),oa=s,cp=a,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)SW(s);this.deps=this.depsTail=void 0,LG(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?IH.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kU(this)&&this.run()}get dirty(){return kU(this)}}let HX=0,hD,pD;function UX(t,s=!1){if(t.flags|=8,s){t.next=pD,pD=t;return}t.next=hD,hD=t}function CW(){HX++}function _W(){if(--HX>0)return;if(pD){let s=pD;for(pD=void 0;s;){const a=s.next;s.next=void 0,s.flags&=-9,s=a}}let t;for(;hD;){let s=hD;for(hD=void 0;s;){const a=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(u){t||(t=u)}s=a}}if(t)throw t}function WX(t){for(let s=t.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function KX(t){let s,a=t.depsTail,u=a;for(;u;){const g=u.prevDep;u.version===-1?(u===a&&(a=g),SW(u),Ode(u)):s=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=g}t.deps=s,t.depsTail=a}function kU(t){for(let s=t.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(jX(s.dep.computed)||s.dep.version!==s.version))return!0;return!!t._dirty}function jX(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===AD)||(t.globalVersion=AD,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!kU(t))))return;t.flags|=2;const s=t.dep,a=oa,u=cp;oa=t,cp=!0;try{WX(t);const g=t.fn(t._value);(s.version===0||px(g,t._value))&&(t.flags|=128,t._value=g,s.version++)}catch(g){throw s.version++,g}finally{oa=a,cp=u,KX(t),t.flags&=-3}}function SW(t,s=!1){const{dep:a,prevSub:u,nextSub:g}=t;if(u&&(u.nextSub=g,t.prevSub=void 0),g&&(g.prevSub=u,t.nextSub=void 0),a.subs===t&&(a.subs=u,!u&&a.computed)){a.computed.flags&=-5;for(let h=a.computed.deps;h;h=h.nextDep)SW(h,!0)}!s&&!--a.sc&&a.map&&a.map.delete(a.key)}function Ode(t){const{prevDep:s,nextDep:a}=t;s&&(s.nextDep=a,t.prevDep=void 0),a&&(a.prevDep=s,t.nextDep=void 0)}let cp=!0;const ZX=[];function X1(){ZX.push(cp),cp=!1}function J1(){const t=ZX.pop();cp=t===void 0?!0:t}function LG(t){const{cleanup:s}=t;if(t.cleanup=void 0,s){const a=oa;oa=void 0;try{s()}finally{oa=a}}}let AD=0;class Dde{constructor(s,a){this.sub=s,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class kW{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(s){if(!oa||!cp||oa===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==oa)a=this.activeLink=new Dde(oa,this),oa.deps?(a.prevDep=oa.depsTail,oa.depsTail.nextDep=a,oa.depsTail=a):oa.deps=oa.depsTail=a,GX(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const u=a.nextDep;u.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=u),a.prevDep=oa.depsTail,a.nextDep=void 0,oa.depsTail.nextDep=a,oa.depsTail=a,oa.deps===a&&(oa.deps=u)}return a}trigger(s){this.version++,AD++,this.notify(s)}notify(s){CW();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{_W()}}}function GX(t){if(t.dep.sc++,t.sub.flags&4){const s=t.dep.computed;if(s&&!t.dep.subs){s.flags|=20;for(let u=s.deps;u;u=u.nextDep)GX(u)}const a=t.dep.subs;a!==t&&(t.prevSub=a,a&&(a.nextSub=t)),t.dep.subs=t}}const XB=new WeakMap,RC=Symbol(""),EU=Symbol(""),TD=Symbol("");function Fu(t,s,a){if(cp&&oa){let u=XB.get(t);u||XB.set(t,u=new Map);let g=u.get(a);g||(u.set(a,g=new kW),g.map=u,g.key=a),g.track()}}function K1(t,s,a,u,g,h){const x=XB.get(t);if(!x){AD++;return}const w=T=>{T&&T.trigger()};if(CW(),s==="clear")x.forEach(w);else{const T=Xo(t),I=T&&yW(a);if(T&&a==="length"){const R=Number(u);x.forEach((N,H)=>{(H==="length"||H===TD||!zb(H)&&H>=R)&&w(N)})}else switch((a!==void 0||x.has(void 0))&&w(x.get(a)),I&&w(x.get(TD)),s){case"add":T?I&&w(x.get("length")):(w(x.get(RC)),mE(t)&&w(x.get(EU)));break;case"delete":T||(w(x.get(RC)),mE(t)&&w(x.get(EU)));break;case"set":mE(t)&&w(x.get(RC));break}}_W()}function Rde(t,s){const a=XB.get(t);return a&&a.get(s)}function qk(t){const s=gr(t);return s===t?s:(Fu(s,"iterate",TD),Zg(t)?s:s.map(ou))}function I8(t){return Fu(t=gr(t),"iterate",TD),t}const Ide={__proto__:null,[Symbol.iterator](){return NH(this,Symbol.iterator,ou)},concat(...t){return qk(this).concat(...t.map(s=>Xo(s)?qk(s):s))},entries(){return NH(this,"entries",t=>(t[1]=ou(t[1]),t))},every(t,s){return $1(this,"every",t,s,void 0,arguments)},filter(t,s){return $1(this,"filter",t,s,a=>a.map(ou),arguments)},find(t,s){return $1(this,"find",t,s,ou,arguments)},findIndex(t,s){return $1(this,"findIndex",t,s,void 0,arguments)},findLast(t,s){return $1(this,"findLast",t,s,ou,arguments)},findLastIndex(t,s){return $1(this,"findLastIndex",t,s,void 0,arguments)},forEach(t,s){return $1(this,"forEach",t,s,void 0,arguments)},includes(...t){return PH(this,"includes",t)},indexOf(...t){return PH(this,"indexOf",t)},join(t){return qk(this).join(t)},lastIndexOf(...t){return PH(this,"lastIndexOf",t)},map(t,s){return $1(this,"map",t,s,void 0,arguments)},pop(){return sD(this,"pop")},push(...t){return sD(this,"push",t)},reduce(t,...s){return MG(this,"reduce",t,s)},reduceRight(t,...s){return MG(this,"reduceRight",t,s)},shift(){return sD(this,"shift")},some(t,s){return $1(this,"some",t,s,void 0,arguments)},splice(...t){return sD(this,"splice",t)},toReversed(){return qk(this).toReversed()},toSorted(t){return qk(this).toSorted(t)},toSpliced(...t){return qk(this).toSpliced(...t)},unshift(...t){return sD(this,"unshift",t)},values(){return NH(this,"values",ou)}};function NH(t,s,a){const u=I8(t),g=u[s]();return u!==t&&!Zg(t)&&(g._next=g.next,g.next=()=>{const h=g._next();return h.value&&(h.value=a(h.value)),h}),g}const Nde=Array.prototype;function $1(t,s,a,u,g,h){const x=I8(t),w=x!==t&&!Zg(t),T=x[s];if(T!==Nde[s]){const N=T.apply(t,h);return w?ou(N):N}let I=a;x!==t&&(w?I=function(N,H){return a.call(this,ou(N),H,t)}:a.length>2&&(I=function(N,H){return a.call(this,N,H,t)}));const R=T.call(x,I,u);return w&&g?g(R):R}function MG(t,s,a,u){const g=I8(t);let h=a;return g!==t&&(Zg(t)?a.length>3&&(h=function(x,w,T){return a.call(this,x,w,T,t)}):h=function(x,w,T){return a.call(this,x,ou(w),T,t)}),g[s](h,...u)}function PH(t,s,a){const u=gr(t);Fu(u,"iterate",TD);const g=u[s](...a);return(g===-1||g===!1)&&TW(a[0])?(a[0]=gr(a[0]),u[s](...a)):g}function sD(t,s,a=[]){X1(),CW();const u=gr(t)[s].apply(t,a);return _W(),J1(),u}const Pde=pW("__proto__,__v_isRef,__isVue"),qX=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zb));function Lde(t){zb(t)||(t=String(t));const s=gr(this);return Fu(s,"has",t),s.hasOwnProperty(t)}class YX{constructor(s=!1,a=!1){this._isReadonly=s,this._isShallow=a}get(s,a,u){if(a==="__v_skip")return s.__v_skip;const g=this._isReadonly,h=this._isShallow;if(a==="__v_isReactive")return!g;if(a==="__v_isReadonly")return g;if(a==="__v_isShallow")return h;if(a==="__v_raw")return u===(g?h?Kde:eJ:h?QX:JX).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(u)?s:void 0;const x=Xo(s);if(!g){let T;if(x&&(T=Ide[a]))return T;if(a==="hasOwnProperty")return Lde}const w=Reflect.get(s,a,Qs(s)?s:u);return(zb(a)?qX.has(a):Pde(a))||(g||Fu(s,"get",a),h)?w:Qs(w)?x&&yW(a)?w:w.value:Di(w)?g?AE(w):Gl(w):w}}class XX extends YX{constructor(s=!1){super(!1,s)}set(s,a,u,g){let h=s[a];if(!this._isShallow){const T=xx(h);if(!Zg(u)&&!xx(u)&&(h=gr(h),u=gr(u)),!Xo(s)&&Qs(h)&&!Qs(u))return T?!1:(h.value=u,!0)}const x=Xo(s)&&yW(a)?Number(a)<s.length:hi(s,a),w=Reflect.set(s,a,u,Qs(s)?s:g);return s===gr(g)&&(x?px(u,h)&&K1(s,"set",a,u):K1(s,"add",a,u)),w}deleteProperty(s,a){const u=hi(s,a);s[a];const g=Reflect.deleteProperty(s,a);return g&&u&&K1(s,"delete",a,void 0),g}has(s,a){const u=Reflect.has(s,a);return(!zb(a)||!qX.has(a))&&Fu(s,"has",a),u}ownKeys(s){return Fu(s,"iterate",Xo(s)?"length":RC),Reflect.ownKeys(s)}}class Mde extends YX{constructor(s=!1){super(!0,s)}set(s,a){return!0}deleteProperty(s,a){return!0}}const Bde=new XX,Fde=new Mde,$de=new XX(!0);const AU=t=>t,hB=t=>Reflect.getPrototypeOf(t);function Vde(t,s,a){return function(...u){const g=this.__v_raw,h=gr(g),x=mE(h),w=t==="entries"||t===Symbol.iterator&&x,T=t==="keys"&&x,I=g[t](...u),R=a?AU:s?JB:ou;return!s&&Fu(h,"iterate",T?EU:RC),{next(){const{value:N,done:H}=I.next();return H?{value:N,done:H}:{value:w?[R(N[0]),R(N[1])]:R(N),done:H}},[Symbol.iterator](){return this}}}}function pB(t){return function(...s){return t==="delete"?!1:t==="clear"?void 0:this}}function zde(t,s){const a={get(g){const h=this.__v_raw,x=gr(h),w=gr(g);t||(px(g,w)&&Fu(x,"get",g),Fu(x,"get",w));const{has:T}=hB(x),I=s?AU:t?JB:ou;if(T.call(x,g))return I(h.get(g));if(T.call(x,w))return I(h.get(w));h!==x&&h.get(g)},get size(){const g=this.__v_raw;return!t&&Fu(gr(g),"iterate",RC),Reflect.get(g,"size",g)},has(g){const h=this.__v_raw,x=gr(h),w=gr(g);return t||(px(g,w)&&Fu(x,"has",g),Fu(x,"has",w)),g===w?h.has(g):h.has(g)||h.has(w)},forEach(g,h){const x=this,w=x.__v_raw,T=gr(w),I=s?AU:t?JB:ou;return!t&&Fu(T,"iterate",RC),w.forEach((R,N)=>g.call(h,I(R),I(N),x))}};return lc(a,t?{add:pB("add"),set:pB("set"),delete:pB("delete"),clear:pB("clear")}:{add(g){!s&&!Zg(g)&&!xx(g)&&(g=gr(g));const h=gr(this);return hB(h).has.call(h,g)||(h.add(g),K1(h,"add",g,g)),this},set(g,h){!s&&!Zg(h)&&!xx(h)&&(h=gr(h));const x=gr(this),{has:w,get:T}=hB(x);let I=w.call(x,g);I||(g=gr(g),I=w.call(x,g));const R=T.call(x,g);return x.set(g,h),I?px(h,R)&&K1(x,"set",g,h):K1(x,"add",g,h),this},delete(g){const h=gr(this),{has:x,get:w}=hB(h);let T=x.call(h,g);T||(g=gr(g),T=x.call(h,g)),w&&w.call(h,g);const I=h.delete(g);return T&&K1(h,"delete",g,void 0),I},clear(){const g=gr(this),h=g.size!==0,x=g.clear();return h&&K1(g,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(g=>{a[g]=Vde(g,t,s)}),a}function EW(t,s){const a=zde(t,s);return(u,g,h)=>g==="__v_isReactive"?!t:g==="__v_isReadonly"?t:g==="__v_raw"?u:Reflect.get(hi(a,g)&&g in u?a:u,g,h)}const Hde={get:EW(!1,!1)},Ude={get:EW(!1,!0)},Wde={get:EW(!0,!1)};const JX=new WeakMap,QX=new WeakMap,eJ=new WeakMap,Kde=new WeakMap;function jde(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zde(t){return t.__v_skip||!Object.isExtensible(t)?0:jde(vde(t))}function Gl(t){return xx(t)?t:AW(t,!1,Bde,Hde,JX)}function Gde(t){return AW(t,!1,$de,Ude,QX)}function AE(t){return AW(t,!0,Fde,Wde,eJ)}function AW(t,s,a,u,g){if(!Di(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const h=Zde(t);if(h===0)return t;const x=g.get(t);if(x)return x;const w=new Proxy(t,h===2?u:a);return g.set(t,w),w}function bx(t){return xx(t)?bx(t.__v_raw):!!(t&&t.__v_isReactive)}function xx(t){return!!(t&&t.__v_isReadonly)}function Zg(t){return!!(t&&t.__v_isShallow)}function TW(t){return t?!!t.__v_raw:!1}function gr(t){const s=t&&t.__v_raw;return s?gr(s):t}function OW(t){return!hi(t,"__v_skip")&&Object.isExtensible(t)&&SU(t,"__v_skip",!0),t}const ou=t=>Di(t)?Gl(t):t,JB=t=>Di(t)?AE(t):t;function Qs(t){return t?t.__v_isRef===!0:!1}function zn(t){return tJ(t,!1)}function ho(t){return tJ(t,!0)}function tJ(t,s){return Qs(t)?t:new qde(t,s)}class qde{constructor(s,a){this.dep=new kW,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?s:gr(s),this._value=a?s:ou(s),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(s){const a=this._rawValue,u=this.__v_isShallow||Zg(s)||xx(s);s=u?s:gr(s),px(s,a)&&(this._rawValue=s,this._value=u?s:ou(s),this.dep.trigger())}}function le(t){return Qs(t)?t.value:t}function Hb(t){return Rr(t)?t():le(t)}const Yde={get:(t,s,a)=>s==="__v_raw"?t:le(Reflect.get(t,s,a)),set:(t,s,a,u)=>{const g=t[s];return Qs(g)&&!Qs(a)?(g.value=a,!0):Reflect.set(t,s,a,u)}};function nJ(t){return bx(t)?t:new Proxy(t,Yde)}function N8(t){const s=Xo(t)?new Array(t.length):{};for(const a in t)s[a]=oJ(t,a);return s}class Xde{constructor(s,a,u){this._object=s,this._key=a,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Rde(gr(this._object),this._key)}}class Jde{constructor(s){this._getter=s,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gn(t,s,a){return Qs(t)?t:Rr(t)?new Jde(t):Di(t)&&arguments.length>1?oJ(t,s,a):zn(t)}function oJ(t,s,a){const u=t[s];return Qs(u)?u:new Xde(t,s,a)}class Qde{constructor(s,a,u){this.fn=s,this.setter=a,this._value=void 0,this.dep=new kW(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=AD-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&oa!==this)return UX(this,!0),!0}get value(){const s=this.dep.track();return jX(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function efe(t,s,a=!1){let u,g;return Rr(t)?u=t:(u=t.get,g=t.set),new Qde(u,g,a)}const bB={},QB=new WeakMap;let EC;function tfe(t,s=!1,a=EC){if(a){let u=QB.get(a);u||QB.set(a,u=[]),u.push(t)}}function nfe(t,s,a=Hi){const{immediate:u,deep:g,once:h,scheduler:x,augmentJob:w,call:T}=a,I=U=>g?U:Zg(U)||g===!1||g===0?j1(U,1):j1(U);let R,N,H,W,Z=!1,J=!1;if(Qs(t)?(N=()=>t.value,Z=Zg(t)):bx(t)?(N=()=>I(t),Z=!0):Xo(t)?(J=!0,Z=t.some(U=>bx(U)||Zg(U)),N=()=>t.map(U=>{if(Qs(U))return U.value;if(bx(U))return I(U);if(Rr(U))return T?T(U,2):U()})):Rr(t)?s?N=T?()=>T(t,2):t:N=()=>{if(H){X1();try{H()}finally{J1()}}const U=EC;EC=R;try{return T?T(t,3,[W]):t(W)}finally{EC=U}}:N=Fb,s&&g){const U=N,de=g===!0?1/0:g;N=()=>j1(U(),de)}const se=wW(),j=()=>{R.stop(),se&&se.active&&vW(se.effects,R)};if(h&&s){const U=s;s=(...de)=>{U(...de),j()}}let he=J?new Array(t.length).fill(bB):bB;const ae=U=>{if(!(!(R.flags&1)||!R.dirty&&!U))if(s){const de=R.run();if(g||Z||(J?de.some((oe,Ve)=>px(oe,he[Ve])):px(de,he))){H&&H();const oe=EC;EC=R;try{const Ve=[de,he===bB?void 0:J&&he[0]===bB?[]:he,W];he=de,T?T(s,3,Ve):s(...Ve)}finally{EC=oe}}}else R.run()};return w&&w(ae),R=new zX(N),R.scheduler=x?()=>x(ae,!1):ae,W=U=>tfe(U,!1,R),H=R.onStop=()=>{const U=QB.get(R);if(U){if(T)T(U,4);else for(const de of U)de();QB.delete(R)}},s?u?ae(!0):he=R.run():x?x(ae.bind(null,!0),!0):R.run(),j.pause=R.pause.bind(R),j.resume=R.resume.bind(R),j.stop=j,j}function j1(t,s=1/0,a){if(s<=0||!Di(t)||t.__v_skip||(a=a||new Set,a.has(t)))return t;if(a.add(t),s--,Qs(t))j1(t.value,s,a);else if(Xo(t))for(let u=0;u<t.length;u++)j1(t[u],s,a);else if(EE(t)||mE(t))t.forEach(u=>{j1(u,s,a)});else if(MX(t)){for(const u in t)j1(t[u],s,a);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&j1(t[u],s,a)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function iR(t,s,a,u){try{return u?t(...u):t()}catch(g){P8(g,s,a)}}function fp(t,s,a,u){if(Rr(t)){const g=iR(t,s,a,u);return g&&PX(g)&&g.catch(h=>{P8(h,s,a)}),g}if(Xo(t)){const g=[];for(let h=0;h<t.length;h++)g.push(fp(t[h],s,a,u));return g}}function P8(t,s,a,u=!0){const g=s?s.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=s&&s.appContext.config||Hi;if(s){let w=s.parent;const T=s.proxy,I=`https://vuejs.org/error-reference/#runtime-${a}`;for(;w;){const R=w.ec;if(R){for(let N=0;N<R.length;N++)if(R[N](t,T,I)===!1)return}w=w.parent}if(h){X1(),iR(h,null,10,[t,T,I]),J1();return}}ofe(t,a,g,u,x)}function ofe(t,s,a,u=!0,g=!1){if(g)throw t;console.error(t)}const Id=[];let Nb=-1;const gE=[];let ux=null,iE=0;const rJ=Promise.resolve();let e8=null;function Jo(t){const s=e8||rJ;return t?s.then(this?t.bind(this):t):s}function rfe(t){let s=Nb+1,a=Id.length;for(;s<a;){const u=s+a>>>1,g=Id[u],h=OD(g);h<t||h===t&&g.flags&2?s=u+1:a=u}return s}function DW(t){if(!(t.flags&1)){const s=OD(t),a=Id[Id.length-1];!a||!(t.flags&2)&&s>=OD(a)?Id.push(t):Id.splice(rfe(s),0,t),t.flags|=1,sJ()}}function sJ(){e8||(e8=rJ.then(aJ))}function sfe(t){Xo(t)?gE.push(...t):ux&&t.id===-1?ux.splice(iE+1,0,t):t.flags&1||(gE.push(t),t.flags|=1),sJ()}function BG(t,s,a=Nb+1){for(;a<Id.length;a++){const u=Id[a];if(u&&u.flags&2){if(t&&u.id!==t.uid)continue;Id.splice(a,1),a--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function iJ(t){if(gE.length){const s=[...new Set(gE)].sort((a,u)=>OD(a)-OD(u));if(gE.length=0,ux){ux.push(...s);return}for(ux=s,iE=0;iE<ux.length;iE++){const a=ux[iE];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}ux=null,iE=0}}const OD=t=>t.id==null?t.flags&2?-1:1/0:t.id;function aJ(t){try{for(Nb=0;Nb<Id.length;Nb++){const s=Id[Nb];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),iR(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Nb<Id.length;Nb++){const s=Id[Nb];s&&(s.flags&=-2)}Nb=-1,Id.length=0,iJ(),e8=null,(Id.length||gE.length)&&aJ()}}let Pd=null,lJ=null;function t8(t){const s=Pd;return Pd=t,lJ=t&&t.type.__scopeId||null,s}function xt(t,s=Pd,a){if(!s||t._n)return t;const u=(...g)=>{u._d&&XG(-1);const h=t8(s);let x;try{x=t(...g)}finally{t8(h),u._d&&XG(1)}return x};return u._n=!0,u._c=!0,u._d=!0,u}function Fn(t,s){if(Pd===null)return t;const a=$8(Pd),u=t.dirs||(t.dirs=[]);for(let g=0;g<s.length;g++){let[h,x,w,T=Hi]=s[g];h&&(Rr(h)&&(h={mounted:h,updated:h}),h.deep&&j1(x),u.push({dir:h,instance:a,value:x,oldValue:void 0,arg:w,modifiers:T}))}return t}function xC(t,s,a,u){const g=t.dirs,h=s&&s.dirs;for(let x=0;x<g.length;x++){const w=g[x];h&&(w.oldValue=h[x].value);let T=w.dir[u];T&&(X1(),fp(T,a,8,[t.el,w,t,s]),J1())}}const cJ=Symbol("_vte"),uJ=t=>t.__isTeleport,bD=t=>t&&(t.disabled||t.disabled===""),FG=t=>t&&(t.defer||t.defer===""),$G=t=>typeof SVGElement<"u"&&t instanceof SVGElement,VG=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,TU=(t,s)=>{const a=t&&t.to;return el(a)?s?s(a):null:a},dJ={name:"Teleport",__isTeleport:!0,process(t,s,a,u,g,h,x,w,T,I){const{mc:R,pc:N,pbc:H,o:{insert:W,querySelector:Z,createText:J,createComment:se}}=I,j=bD(s.props);let{shapeFlag:he,children:ae,dynamicChildren:U}=s;if(t==null){const de=s.el=J(""),oe=s.anchor=J("");W(de,a,u),W(oe,a,u);const Ve=(Xe,rt)=>{he&16&&(g&&g.isCE&&(g.ce._teleportTarget=Xe),R(ae,Xe,rt,g,h,x,w,T))},Me=()=>{const Xe=s.target=TU(s.props,Z),rt=fJ(Xe,s,J,W);Xe&&(x!=="svg"&&$G(Xe)?x="svg":x!=="mathml"&&VG(Xe)&&(x="mathml"),j||(Ve(Xe,rt),MB(s,!1)))};j&&(Ve(a,oe),MB(s,!0)),FG(s.props)?(s.el.__isMounted=!1,Rd(()=>{Me(),delete s.el.__isMounted},h)):Me()}else{if(FG(s.props)&&t.el.__isMounted===!1){Rd(()=>{dJ.process(t,s,a,u,g,h,x,w,T,I)},h);return}s.el=t.el,s.targetStart=t.targetStart;const de=s.anchor=t.anchor,oe=s.target=t.target,Ve=s.targetAnchor=t.targetAnchor,Me=bD(t.props),Xe=Me?a:oe,rt=Me?de:Ve;if(x==="svg"||$G(oe)?x="svg":(x==="mathml"||VG(oe))&&(x="mathml"),U?(H(t.dynamicChildren,U,Xe,g,h,x,w),MW(t,s,!0)):T||N(t,s,Xe,rt,g,h,x,w,!1),j)Me?s.props&&t.props&&s.props.to!==t.props.to&&(s.props.to=t.props.to):vB(s,a,de,I,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const Oe=s.target=TU(s.props,Z);Oe&&vB(s,Oe,null,I,0)}else Me&&vB(s,oe,Ve,I,1);MB(s,j)}},remove(t,s,a,{um:u,o:{remove:g}},h){const{shapeFlag:x,children:w,anchor:T,targetStart:I,targetAnchor:R,target:N,props:H}=t;if(N&&(g(I),g(R)),h&&g(T),x&16){const W=h||!bD(H);for(let Z=0;Z<w.length;Z++){const J=w[Z];u(J,s,a,W,!!J.dynamicChildren)}}},move:vB,hydrate:ife};function vB(t,s,a,{o:{insert:u},m:g},h=2){h===0&&u(t.targetAnchor,s,a);const{el:x,anchor:w,shapeFlag:T,children:I,props:R}=t,N=h===2;if(N&&u(x,s,a),(!N||bD(R))&&T&16)for(let H=0;H<I.length;H++)g(I[H],s,a,2);N&&u(w,s,a)}function ife(t,s,a,u,g,h,{o:{nextSibling:x,parentNode:w,querySelector:T,insert:I,createText:R}},N){const H=s.target=TU(s.props,T);if(H){const W=bD(s.props),Z=H._lpa||H.firstChild;if(s.shapeFlag&16)if(W)s.anchor=N(x(t),s,w(t),a,u,g,h),s.targetStart=Z,s.targetAnchor=Z&&x(Z);else{s.anchor=x(t);let J=Z;for(;J;){if(J&&J.nodeType===8){if(J.data==="teleport start anchor")s.targetStart=J;else if(J.data==="teleport anchor"){s.targetAnchor=J,H._lpa=s.targetAnchor&&x(s.targetAnchor);break}}J=x(J)}s.targetAnchor||fJ(H,s,R,I),N(Z&&x(Z),s,H,a,u,g,h)}MB(s,W)}return s.anchor&&x(s.anchor)}const afe=dJ;function MB(t,s){const a=t.ctx;if(a&&a.ut){let u,g;for(s?(u=t.el,g=t.anchor):(u=t.targetStart,g=t.targetAnchor);u&&u!==g;)u.nodeType===1&&u.setAttribute("data-v-owner",a.uid),u=u.nextSibling;a.ut()}}function fJ(t,s,a,u){const g=s.targetStart=a(""),h=s.targetAnchor=a("");return g[cJ]=h,t&&(u(g,t),u(h,t)),h}const dx=Symbol("_leaveCb"),yB=Symbol("_enterCb");function mJ(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ku(()=>{t.isMounted=!0}),Dc(()=>{t.isUnmounting=!0}),t}const Vg=[Function,Array],gJ={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vg,onEnter:Vg,onAfterEnter:Vg,onEnterCancelled:Vg,onBeforeLeave:Vg,onLeave:Vg,onAfterLeave:Vg,onLeaveCancelled:Vg,onBeforeAppear:Vg,onAppear:Vg,onAfterAppear:Vg,onAppearCancelled:Vg},hJ=t=>{const s=t.subTree;return s.component?hJ(s.component):s},lfe={name:"BaseTransition",props:gJ,setup(t,{slots:s}){const a=TE(),u=mJ();return()=>{const g=s.default&&RW(s.default(),!0);if(!g||!g.length)return;const h=pJ(g),x=gr(t),{mode:w}=x;if(u.isLeaving)return LH(h);const T=zG(h);if(!T)return LH(h);let I=DD(T,x,u,a,N=>I=N);T.type!==Vu&&LC(T,I);let R=a.subTree&&zG(a.subTree);if(R&&R.type!==Vu&&!AC(T,R)&&hJ(a).type!==Vu){let N=DD(R,x,u,a);if(LC(R,N),w==="out-in"&&T.type!==Vu)return u.isLeaving=!0,N.afterLeave=()=>{u.isLeaving=!1,a.job.flags&8||a.update(),delete N.afterLeave,R=void 0},LH(h);w==="in-out"&&T.type!==Vu?N.delayLeave=(H,W,Z)=>{const J=bJ(u,R);J[String(R.key)]=R,H[dx]=()=>{W(),H[dx]=void 0,delete I.delayedLeave,R=void 0},I.delayedLeave=()=>{Z(),delete I.delayedLeave,R=void 0}}:R=void 0}else R&&(R=void 0);return h}}};function pJ(t){let s=t[0];if(t.length>1){for(const a of t)if(a.type!==Vu){s=a;break}}return s}const cfe=lfe;function bJ(t,s){const{leavingVNodes:a}=t;let u=a.get(s.type);return u||(u=Object.create(null),a.set(s.type,u)),u}function DD(t,s,a,u,g){const{appear:h,mode:x,persisted:w=!1,onBeforeEnter:T,onEnter:I,onAfterEnter:R,onEnterCancelled:N,onBeforeLeave:H,onLeave:W,onAfterLeave:Z,onLeaveCancelled:J,onBeforeAppear:se,onAppear:j,onAfterAppear:he,onAppearCancelled:ae}=s,U=String(t.key),de=bJ(a,t),oe=(Xe,rt)=>{Xe&&fp(Xe,u,9,rt)},Ve=(Xe,rt)=>{const Oe=rt[1];oe(Xe,rt),Xo(Xe)?Xe.every(Te=>Te.length<=1)&&Oe():Xe.length<=1&&Oe()},Me={mode:x,persisted:w,beforeEnter(Xe){let rt=T;if(!a.isMounted)if(h)rt=se||T;else return;Xe[dx]&&Xe[dx](!0);const Oe=de[U];Oe&&AC(t,Oe)&&Oe.el[dx]&&Oe.el[dx](),oe(rt,[Xe])},enter(Xe){let rt=I,Oe=R,Te=N;if(!a.isMounted)if(h)rt=j||I,Oe=he||R,Te=ae||N;else return;let D=!1;const qe=Xe[yB]=lt=>{D||(D=!0,lt?oe(Te,[Xe]):oe(Oe,[Xe]),Me.delayedLeave&&Me.delayedLeave(),Xe[yB]=void 0)};rt?Ve(rt,[Xe,qe]):qe()},leave(Xe,rt){const Oe=String(t.key);if(Xe[yB]&&Xe[yB](!0),a.isUnmounting)return rt();oe(H,[Xe]);let Te=!1;const D=Xe[dx]=qe=>{Te||(Te=!0,rt(),qe?oe(J,[Xe]):oe(Z,[Xe]),Xe[dx]=void 0,de[Oe]===t&&delete de[Oe])};de[Oe]=t,W?Ve(W,[Xe,D]):D()},clone(Xe){const rt=DD(Xe,s,a,u,g);return g&&g(rt),rt}};return Me}function LH(t){if(L8(t))return t=e0(t),t.children=null,t}function zG(t){if(!L8(t))return uJ(t.type)&&t.children?pJ(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:s,children:a}=t;if(a){if(s&16)return a[0];if(s&32&&Rr(a.default))return a.default()}}function LC(t,s){t.shapeFlag&6&&t.component?(t.transition=s,LC(t.component.subTree,s)):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function RW(t,s=!1,a){let u=[],g=0;for(let h=0;h<t.length;h++){let x=t[h];const w=a==null?x.key:String(a)+String(x.key!=null?x.key:h);x.type===lr?(x.patchFlag&128&&g++,u=u.concat(RW(x.children,s,w))):(s||x.type!==Vu)&&u.push(w!=null?e0(x,{key:w}):x)}if(g>1)for(let h=0;h<u.length;h++)u[h].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function vJ(t,s){return Rr(t)?lc({name:t.name},s,{setup:t}):t}function s0(){const t=TE();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function yJ(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vD(t,s,a,u,g=!1){if(Xo(t)){t.forEach((Z,J)=>vD(Z,s&&(Xo(s)?s[J]:s),a,u,g));return}if(yD(u)&&!g){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&vD(t,s,a,u.component.subTree);return}const h=u.shapeFlag&4?$8(u.component):u.el,x=g?null:h,{i:w,r:T}=t,I=s&&s.r,R=w.refs===Hi?w.refs={}:w.refs,N=w.setupState,H=gr(N),W=N===Hi?()=>!1:Z=>hi(H,Z);if(I!=null&&I!==T&&(el(I)?(R[I]=null,W(I)&&(N[I]=null)):Qs(I)&&(I.value=null)),Rr(T))iR(T,w,12,[x,R]);else{const Z=el(T),J=Qs(T);if(Z||J){const se=()=>{if(t.f){const j=Z?W(T)?N[T]:R[T]:T.value;g?Xo(j)&&vW(j,h):Xo(j)?j.includes(h)||j.push(h):Z?(R[T]=[h],W(T)&&(N[T]=R[T])):(T.value=[h],t.k&&(R[t.k]=T.value))}else Z?(R[T]=x,W(T)&&(N[T]=x)):J&&(T.value=x,t.k&&(R[t.k]=x))};x?(se.id=-1,Rd(se,a)):se()}}}R8().requestIdleCallback;R8().cancelIdleCallback;const yD=t=>!!t.type.__asyncLoader,L8=t=>t.type.__isKeepAlive;function IW(t,s){xJ(t,"a",s)}function M8(t,s){xJ(t,"da",s)}function xJ(t,s,a=Oc){const u=t.__wdc||(t.__wdc=()=>{let g=a;for(;g;){if(g.isDeactivated)return;g=g.parent}return t()});if(B8(s,u,a),a){let g=a.parent;for(;g&&g.parent;)L8(g.parent.vnode)&&ufe(u,s,a,g),g=g.parent}}function ufe(t,s,a,u){const g=B8(s,t,u,!0);wJ(()=>{vW(u[s],g)},a)}function B8(t,s,a=Oc,u=!1){if(a){const g=a[t]||(a[t]=[]),h=s.__weh||(s.__weh=(...x)=>{X1();const w=cR(a),T=fp(s,a,t,x);return w(),J1(),T});return u?g.unshift(h):g.push(h),h}}const i0=t=>(s,a=Oc)=>{(!ND||t==="sp")&&B8(t,(...u)=>s(...u),a)},aR=i0("bm"),Ku=i0("m"),dfe=i0("bu"),NW=i0("u"),Dc=i0("bum"),wJ=i0("um"),ffe=i0("sp"),mfe=i0("rtg"),gfe=i0("rtc");function hfe(t,s=Oc){B8("ec",t,s)}const pfe="components",bfe=Symbol.for("v-ndc");function vfe(t){return el(t)&&yfe(pfe,t,!1)||t}function yfe(t,s,a=!0,u=!1){const g=Pd||Oc;if(g){const h=g.type;{const w=sme(h,!1);if(w&&(w===s||w===Ld(s)||w===r0(Ld(s))))return h}const x=HG(g[t]||h[t],s)||HG(g.appContext[t],s);return!x&&u?h:x}}function HG(t,s){return t&&(t[s]||t[Ld(s)]||t[r0(Ld(s))])}function Q1(t,s,a,u){let g;const h=a,x=Xo(t);if(x||el(t)){const w=x&&bx(t);let T=!1,I=!1;w&&(T=!Zg(t),I=xx(t),t=I8(t)),g=new Array(t.length);for(let R=0,N=t.length;R<N;R++)g[R]=s(T?I?JB(ou(t[R])):ou(t[R]):t[R],R,void 0,h)}else if(typeof t=="number"){g=new Array(t);for(let w=0;w<t;w++)g[w]=s(w+1,w,void 0,h)}else if(Di(t))if(t[Symbol.iterator])g=Array.from(t,(w,T)=>s(w,T,void 0,h));else{const w=Object.keys(t);g=new Array(w.length);for(let T=0,I=w.length;T<I;T++){const R=w[T];g[T]=s(t[R],R,T,h)}}else g=[];return g}const OU=t=>t?$J(t)?$8(t):OU(t.parent):null,xD=lc(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>OU(t.parent),$root:t=>OU(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_J(t),$forceUpdate:t=>t.f||(t.f=()=>{DW(t.update)}),$nextTick:t=>t.n||(t.n=Jo.bind(t.proxy)),$watch:t=>zfe.bind(t)}),MH=(t,s)=>t!==Hi&&!t.__isScriptSetup&&hi(t,s),xfe={get({_:t},s){if(s==="__v_skip")return!0;const{ctx:a,setupState:u,data:g,props:h,accessCache:x,type:w,appContext:T}=t;let I;if(s[0]!=="$"){const W=x[s];if(W!==void 0)switch(W){case 1:return u[s];case 2:return g[s];case 4:return a[s];case 3:return h[s]}else{if(MH(u,s))return x[s]=1,u[s];if(g!==Hi&&hi(g,s))return x[s]=2,g[s];if((I=t.propsOptions[0])&&hi(I,s))return x[s]=3,h[s];if(a!==Hi&&hi(a,s))return x[s]=4,a[s];DU&&(x[s]=0)}}const R=xD[s];let N,H;if(R)return s==="$attrs"&&Fu(t.attrs,"get",""),R(t);if((N=w.__cssModules)&&(N=N[s]))return N;if(a!==Hi&&hi(a,s))return x[s]=4,a[s];if(H=T.config.globalProperties,hi(H,s))return H[s]},set({_:t},s,a){const{data:u,setupState:g,ctx:h}=t;return MH(g,s)?(g[s]=a,!0):u!==Hi&&hi(u,s)?(u[s]=a,!0):hi(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(h[s]=a,!0)},has({_:{data:t,setupState:s,accessCache:a,ctx:u,appContext:g,propsOptions:h}},x){let w;return!!a[x]||t!==Hi&&hi(t,x)||MH(s,x)||(w=h[0])&&hi(w,x)||hi(u,x)||hi(xD,x)||hi(g.config.globalProperties,x)},defineProperty(t,s,a){return a.get!=null?t._.accessCache[s]=0:hi(a,"value")&&this.set(t,s,a.value,null),Reflect.defineProperty(t,s,a)}};function UG(t){return Xo(t)?t.reduce((s,a)=>(s[a]=null,s),{}):t}let DU=!0;function wfe(t){const s=_J(t),a=t.proxy,u=t.ctx;DU=!1,s.beforeCreate&&WG(s.beforeCreate,t,"bc");const{data:g,computed:h,methods:x,watch:w,provide:T,inject:I,created:R,beforeMount:N,mounted:H,beforeUpdate:W,updated:Z,activated:J,deactivated:se,beforeDestroy:j,beforeUnmount:he,destroyed:ae,unmounted:U,render:de,renderTracked:oe,renderTriggered:Ve,errorCaptured:Me,serverPrefetch:Xe,expose:rt,inheritAttrs:Oe,components:Te,directives:D,filters:qe}=s;if(I&&Cfe(I,u,null),x)for(const Yt in x){const ct=x[Yt];Rr(ct)&&(u[Yt]=ct.bind(a))}if(g){const Yt=g.call(a,a);Di(Yt)&&(t.data=Gl(Yt))}if(DU=!0,h)for(const Yt in h){const ct=h[Yt],kn=Rr(ct)?ct.bind(a,a):Rr(ct.get)?ct.get.bind(a,a):Fb,Et=!Rr(ct)&&Rr(ct.set)?ct.set.bind(a):Fb,Qe=Dt({get:kn,set:Et});Object.defineProperty(u,Yt,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Le=>Qe.value=Le})}if(w)for(const Yt in w)CJ(w[Yt],u,a,Yt);if(T){const Yt=Rr(T)?T.call(a):T;Reflect.ownKeys(Yt).forEach(ct=>{Bd(ct,Yt[ct])})}R&&WG(R,t,"c");function zt(Yt,ct){Xo(ct)?ct.forEach(kn=>Yt(kn.bind(a))):ct&&Yt(ct.bind(a))}if(zt(aR,N),zt(Ku,H),zt(dfe,W),zt(NW,Z),zt(IW,J),zt(M8,se),zt(hfe,Me),zt(gfe,oe),zt(mfe,Ve),zt(Dc,he),zt(wJ,U),zt(ffe,Xe),Xo(rt))if(rt.length){const Yt=t.exposed||(t.exposed={});rt.forEach(ct=>{Object.defineProperty(Yt,ct,{get:()=>a[ct],set:kn=>a[ct]=kn})})}else t.exposed||(t.exposed={});de&&t.render===Fb&&(t.render=de),Oe!=null&&(t.inheritAttrs=Oe),Te&&(t.components=Te),D&&(t.directives=D),Xe&&yJ(t)}function Cfe(t,s,a=Fb){Xo(t)&&(t=RU(t));for(const u in t){const g=t[u];let h;Di(g)?"default"in g?h=Wi(g.from||u,g.default,!0):h=Wi(g.from||u):h=Wi(g),Qs(h)?Object.defineProperty(s,u,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):s[u]=h}}function WG(t,s,a){fp(Xo(t)?t.map(u=>u.bind(s.proxy)):t.bind(s.proxy),s,a)}function CJ(t,s,a,u){let g=u.includes(".")?PJ(a,u):()=>a[u];if(el(t)){const h=s[t];Rr(h)&&Rn(g,h)}else if(Rr(t))Rn(g,t.bind(a));else if(Di(t))if(Xo(t))t.forEach(h=>CJ(h,s,a,u));else{const h=Rr(t.handler)?t.handler.bind(a):s[t.handler];Rr(h)&&Rn(g,h,t)}}function _J(t){const s=t.type,{mixins:a,extends:u}=s,{mixins:g,optionsCache:h,config:{optionMergeStrategies:x}}=t.appContext,w=h.get(s);let T;return w?T=w:!g.length&&!a&&!u?T=s:(T={},g.length&&g.forEach(I=>n8(T,I,x,!0)),n8(T,s,x)),Di(s)&&h.set(s,T),T}function n8(t,s,a,u=!1){const{mixins:g,extends:h}=s;h&&n8(t,h,a,!0),g&&g.forEach(x=>n8(t,x,a,!0));for(const x in s)if(!(u&&x==="expose")){const w=_fe[x]||a&&a[x];t[x]=w?w(t[x],s[x]):s[x]}return t}const _fe={data:KG,props:jG,emits:jG,methods:mD,computed:mD,beforeCreate:Od,created:Od,beforeMount:Od,mounted:Od,beforeUpdate:Od,updated:Od,beforeDestroy:Od,beforeUnmount:Od,destroyed:Od,unmounted:Od,activated:Od,deactivated:Od,errorCaptured:Od,serverPrefetch:Od,components:mD,directives:mD,watch:kfe,provide:KG,inject:Sfe};function KG(t,s){return s?t?function(){return lc(Rr(t)?t.call(this,this):t,Rr(s)?s.call(this,this):s)}:s:t}function Sfe(t,s){return mD(RU(t),RU(s))}function RU(t){if(Xo(t)){const s={};for(let a=0;a<t.length;a++)s[t[a]]=t[a];return s}return t}function Od(t,s){return t?[...new Set([].concat(t,s))]:s}function mD(t,s){return t?lc(Object.create(null),t,s):s}function jG(t,s){return t?Xo(t)&&Xo(s)?[...new Set([...t,...s])]:lc(Object.create(null),UG(t),UG(s??{})):s}function kfe(t,s){if(!t)return s;if(!s)return t;const a=lc(Object.create(null),t);for(const u in s)a[u]=Od(t[u],s[u]);return a}function SJ(){return{app:null,config:{isNativeTag:pde,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Efe=0;function Afe(t,s){return function(u,g=null){Rr(u)||(u=lc({},u)),g!=null&&!Di(g)&&(g=null);const h=SJ(),x=new WeakSet,w=[];let T=!1;const I=h.app={_uid:Efe++,_component:u,_props:g,_container:null,_context:h,_instance:null,version:ame,get config(){return h.config},set config(R){},use(R,...N){return x.has(R)||(R&&Rr(R.install)?(x.add(R),R.install(I,...N)):Rr(R)&&(x.add(R),R(I,...N))),I},mixin(R){return h.mixins.includes(R)||h.mixins.push(R),I},component(R,N){return N?(h.components[R]=N,I):h.components[R]},directive(R,N){return N?(h.directives[R]=N,I):h.directives[R]},mount(R,N,H){if(!T){const W=I._ceVNode||ie(u,g);return W.appContext=h,H===!0?H="svg":H===!1&&(H=void 0),t(W,R,H),T=!0,I._container=R,R.__vue_app__=I,$8(W.component)}},onUnmount(R){w.push(R)},unmount(){T&&(fp(w,I._instance,16),t(null,I._container),delete I._container.__vue_app__)},provide(R,N){return h.provides[R]=N,I},runWithContext(R){const N=IC;IC=I;try{return R()}finally{IC=N}}};return I}}let IC=null;function Bd(t,s){if(Oc){let a=Oc.provides;const u=Oc.parent&&Oc.parent.provides;u===a&&(a=Oc.provides=Object.create(u)),a[t]=s}}function Wi(t,s,a=!1){const u=Oc||Pd;if(u||IC){let g=IC?IC._context.provides:u?u.parent==null||u.ce?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(g&&t in g)return g[t];if(arguments.length>1)return a&&Rr(s)?s.call(u&&u.proxy):s}}function Tfe(){return!!(Oc||Pd||IC)}const kJ={},EJ=()=>Object.create(kJ),AJ=t=>Object.getPrototypeOf(t)===kJ;function Ofe(t,s,a,u=!1){const g={},h=EJ();t.propsDefaults=Object.create(null),TJ(t,s,g,h);for(const x in t.propsOptions[0])x in g||(g[x]=void 0);a?t.props=u?g:Gde(g):t.type.props?t.props=g:t.props=h,t.attrs=h}function Dfe(t,s,a,u){const{props:g,attrs:h,vnode:{patchFlag:x}}=t,w=gr(g),[T]=t.propsOptions;let I=!1;if((u||x>0)&&!(x&16)){if(x&8){const R=t.vnode.dynamicProps;for(let N=0;N<R.length;N++){let H=R[N];if(F8(t.emitsOptions,H))continue;const W=s[H];if(T)if(hi(h,H))W!==h[H]&&(h[H]=W,I=!0);else{const Z=Ld(H);g[Z]=IU(T,w,Z,W,t,!1)}else W!==h[H]&&(h[H]=W,I=!0)}}}else{TJ(t,s,g,h)&&(I=!0);let R;for(const N in w)(!s||!hi(s,N)&&((R=$C(N))===N||!hi(s,R)))&&(T?a&&(a[N]!==void 0||a[R]!==void 0)&&(g[N]=IU(T,w,N,void 0,t,!0)):delete g[N]);if(h!==w)for(const N in h)(!s||!hi(s,N))&&(delete h[N],I=!0)}I&&K1(t.attrs,"set","")}function TJ(t,s,a,u){const[g,h]=t.propsOptions;let x=!1,w;if(s)for(let T in s){if(gD(T))continue;const I=s[T];let R;g&&hi(g,R=Ld(T))?!h||!h.includes(R)?a[R]=I:(w||(w={}))[R]=I:F8(t.emitsOptions,T)||(!(T in u)||I!==u[T])&&(u[T]=I,x=!0)}if(h){const T=gr(a),I=w||Hi;for(let R=0;R<h.length;R++){const N=h[R];a[N]=IU(g,T,N,I[N],t,!hi(I,N))}}return x}function IU(t,s,a,u,g,h){const x=t[a];if(x!=null){const w=hi(x,"default");if(w&&u===void 0){const T=x.default;if(x.type!==Function&&!x.skipFactory&&Rr(T)){const{propsDefaults:I}=g;if(a in I)u=I[a];else{const R=cR(g);u=I[a]=T.call(null,s),R()}}else u=T;g.ce&&g.ce._setProp(a,u)}x[0]&&(h&&!w?u=!1:x[1]&&(u===""||u===$C(a))&&(u=!0))}return u}const Rfe=new WeakMap;function OJ(t,s,a=!1){const u=a?Rfe:s.propsCache,g=u.get(t);if(g)return g;const h=t.props,x={},w=[];let T=!1;if(!Rr(t)){const R=N=>{T=!0;const[H,W]=OJ(N,s,!0);lc(x,H),W&&w.push(...W)};!a&&s.mixins.length&&s.mixins.forEach(R),t.extends&&R(t.extends),t.mixins&&t.mixins.forEach(R)}if(!h&&!T)return Di(t)&&u.set(t,fE),fE;if(Xo(h))for(let R=0;R<h.length;R++){const N=Ld(h[R]);ZG(N)&&(x[N]=Hi)}else if(h)for(const R in h){const N=Ld(R);if(ZG(N)){const H=h[R],W=x[N]=Xo(H)||Rr(H)?{type:H}:lc({},H),Z=W.type;let J=!1,se=!0;if(Xo(Z))for(let j=0;j<Z.length;++j){const he=Z[j],ae=Rr(he)&&he.name;if(ae==="Boolean"){J=!0;break}else ae==="String"&&(se=!1)}else J=Rr(Z)&&Z.name==="Boolean";W[0]=J,W[1]=se,(J||hi(W,"default"))&&w.push(N)}}const I=[x,w];return Di(t)&&u.set(t,I),I}function ZG(t){return t[0]!=="$"&&!gD(t)}const PW=t=>t[0]==="_"||t==="$stable",LW=t=>Xo(t)?t.map(Lb):[Lb(t)],Ife=(t,s,a)=>{if(s._n)return s;const u=xt((...g)=>LW(s(...g)),a);return u._c=!1,u},DJ=(t,s,a)=>{const u=t._ctx;for(const g in t){if(PW(g))continue;const h=t[g];if(Rr(h))s[g]=Ife(g,h,u);else if(h!=null){const x=LW(h);s[g]=()=>x}}},RJ=(t,s)=>{const a=LW(s);t.slots.default=()=>a},IJ=(t,s,a)=>{for(const u in s)(a||!PW(u))&&(t[u]=s[u])},Nfe=(t,s,a)=>{const u=t.slots=EJ();if(t.vnode.shapeFlag&32){const g=s.__;g&&SU(u,"__",g,!0);const h=s._;h?(IJ(u,s,a),a&&SU(u,"_",h,!0)):DJ(s,u)}else s&&RJ(t,s)},Pfe=(t,s,a)=>{const{vnode:u,slots:g}=t;let h=!0,x=Hi;if(u.shapeFlag&32){const w=s._;w?a&&w===1?h=!1:IJ(g,s,a):(h=!s.$stable,DJ(s,g)),x=s}else s&&(RJ(t,s),x={default:1});if(h)for(const w in g)!PW(w)&&x[w]==null&&delete g[w]},Rd=Gfe;function Lfe(t){return Mfe(t)}function Mfe(t,s){const a=R8();a.__VUE__=!0;const{insert:u,remove:g,patchProp:h,createElement:x,createText:w,createComment:T,setText:I,setElementText:R,parentNode:N,nextSibling:H,setScopeId:W=Fb,insertStaticContent:Z}=t,J=(We,et,xe,Ae=null,$e=null,be=null,Ce=void 0,Ne=null,je=!!et.dynamicChildren)=>{if(We===et)return;We&&!AC(We,et)&&(Ae=nn(We),Le(We,$e,be,!0),We=null),et.patchFlag===-2&&(je=!1,et.dynamicChildren=null);const{type:gt,ref:sn,shapeFlag:Ut}=et;switch(gt){case lR:se(We,et,xe,Ae);break;case Vu:j(We,et,xe,Ae);break;case FH:We==null&&he(et,xe,Ae,Ce);break;case lr:Te(We,et,xe,Ae,$e,be,Ce,Ne,je);break;default:Ut&1?de(We,et,xe,Ae,$e,be,Ce,Ne,je):Ut&6?D(We,et,xe,Ae,$e,be,Ce,Ne,je):(Ut&64||Ut&128)&&gt.process(We,et,xe,Ae,$e,be,Ce,Ne,je,Kt)}sn!=null&&$e?vD(sn,We&&We.ref,be,et||We,!et):sn==null&&We&&We.ref!=null&&vD(We.ref,null,be,We,!0)},se=(We,et,xe,Ae)=>{if(We==null)u(et.el=w(et.children),xe,Ae);else{const $e=et.el=We.el;et.children!==We.children&&I($e,et.children)}},j=(We,et,xe,Ae)=>{We==null?u(et.el=T(et.children||""),xe,Ae):et.el=We.el},he=(We,et,xe,Ae)=>{[We.el,We.anchor]=Z(We.children,et,xe,Ae,We.el,We.anchor)},ae=({el:We,anchor:et},xe,Ae)=>{let $e;for(;We&&We!==et;)$e=H(We),u(We,xe,Ae),We=$e;u(et,xe,Ae)},U=({el:We,anchor:et})=>{let xe;for(;We&&We!==et;)xe=H(We),g(We),We=xe;g(et)},de=(We,et,xe,Ae,$e,be,Ce,Ne,je)=>{et.type==="svg"?Ce="svg":et.type==="math"&&(Ce="mathml"),We==null?oe(et,xe,Ae,$e,be,Ce,Ne,je):Xe(We,et,$e,be,Ce,Ne,je)},oe=(We,et,xe,Ae,$e,be,Ce,Ne)=>{let je,gt;const{props:sn,shapeFlag:Ut,transition:bn,dirs:qn}=We;if(je=We.el=x(We.type,be,sn&&sn.is,sn),Ut&8?R(je,We.children):Ut&16&&Me(We.children,je,null,Ae,$e,BH(We,be),Ce,Ne),qn&&xC(We,null,Ae,"created"),Ve(je,We,We.scopeId,Ce,Ae),sn){for(const Fo in sn)Fo!=="value"&&!gD(Fo)&&h(je,Fo,null,sn[Fo],be,Ae);"value"in sn&&h(je,"value",null,sn.value,be),(gt=sn.onVnodeBeforeMount)&&Tb(gt,Ae,We)}qn&&xC(We,null,Ae,"beforeMount");const eo=Bfe($e,bn);eo&&bn.beforeEnter(je),u(je,et,xe),((gt=sn&&sn.onVnodeMounted)||eo||qn)&&Rd(()=>{gt&&Tb(gt,Ae,We),eo&&bn.enter(je),qn&&xC(We,null,Ae,"mounted")},$e)},Ve=(We,et,xe,Ae,$e)=>{if(xe&&W(We,xe),Ae)for(let be=0;be<Ae.length;be++)W(We,Ae[be]);if($e){let be=$e.subTree;if(et===be||MJ(be.type)&&(be.ssContent===et||be.ssFallback===et)){const Ce=$e.vnode;Ve(We,Ce,Ce.scopeId,Ce.slotScopeIds,$e.parent)}}},Me=(We,et,xe,Ae,$e,be,Ce,Ne,je=0)=>{for(let gt=je;gt<We.length;gt++){const sn=We[gt]=Ne?fx(We[gt]):Lb(We[gt]);J(null,sn,et,xe,Ae,$e,be,Ce,Ne)}},Xe=(We,et,xe,Ae,$e,be,Ce)=>{const Ne=et.el=We.el;let{patchFlag:je,dynamicChildren:gt,dirs:sn}=et;je|=We.patchFlag&16;const Ut=We.props||Hi,bn=et.props||Hi;let qn;if(xe&&wC(xe,!1),(qn=bn.onVnodeBeforeUpdate)&&Tb(qn,xe,et,We),sn&&xC(et,We,xe,"beforeUpdate"),xe&&wC(xe,!0),(Ut.innerHTML&&bn.innerHTML==null||Ut.textContent&&bn.textContent==null)&&R(Ne,""),gt?rt(We.dynamicChildren,gt,Ne,xe,Ae,BH(et,$e),be):Ce||ct(We,et,Ne,null,xe,Ae,BH(et,$e),be,!1),je>0){if(je&16)Oe(Ne,Ut,bn,xe,$e);else if(je&2&&Ut.class!==bn.class&&h(Ne,"class",null,bn.class,$e),je&4&&h(Ne,"style",Ut.style,bn.style,$e),je&8){const eo=et.dynamicProps;for(let Fo=0;Fo<eo.length;Fo++){const Ro=eo[Fo],Zr=Ut[Ro],cr=bn[Ro];(cr!==Zr||Ro==="value")&&h(Ne,Ro,Zr,cr,$e,xe)}}je&1&&We.children!==et.children&&R(Ne,et.children)}else!Ce&&gt==null&&Oe(Ne,Ut,bn,xe,$e);((qn=bn.onVnodeUpdated)||sn)&&Rd(()=>{qn&&Tb(qn,xe,et,We),sn&&xC(et,We,xe,"updated")},Ae)},rt=(We,et,xe,Ae,$e,be,Ce)=>{for(let Ne=0;Ne<et.length;Ne++){const je=We[Ne],gt=et[Ne],sn=je.el&&(je.type===lr||!AC(je,gt)||je.shapeFlag&198)?N(je.el):xe;J(je,gt,sn,null,Ae,$e,be,Ce,!0)}},Oe=(We,et,xe,Ae,$e)=>{if(et!==xe){if(et!==Hi)for(const be in et)!gD(be)&&!(be in xe)&&h(We,be,et[be],null,$e,Ae);for(const be in xe){if(gD(be))continue;const Ce=xe[be],Ne=et[be];Ce!==Ne&&be!=="value"&&h(We,be,Ne,Ce,$e,Ae)}"value"in xe&&h(We,"value",et.value,xe.value,$e)}},Te=(We,et,xe,Ae,$e,be,Ce,Ne,je)=>{const gt=et.el=We?We.el:w(""),sn=et.anchor=We?We.anchor:w("");let{patchFlag:Ut,dynamicChildren:bn,slotScopeIds:qn}=et;qn&&(Ne=Ne?Ne.concat(qn):qn),We==null?(u(gt,xe,Ae),u(sn,xe,Ae),Me(et.children||[],xe,sn,$e,be,Ce,Ne,je)):Ut>0&&Ut&64&&bn&&We.dynamicChildren?(rt(We.dynamicChildren,bn,xe,$e,be,Ce,Ne),(et.key!=null||$e&&et===$e.subTree)&&MW(We,et,!0)):ct(We,et,xe,sn,$e,be,Ce,Ne,je)},D=(We,et,xe,Ae,$e,be,Ce,Ne,je)=>{et.slotScopeIds=Ne,We==null?et.shapeFlag&512?$e.ctx.activate(et,xe,Ae,Ce,je):qe(et,xe,Ae,$e,be,Ce,je):lt(We,et,je)},qe=(We,et,xe,Ae,$e,be,Ce)=>{const Ne=We.component=eme(We,Ae,$e);if(L8(We)&&(Ne.ctx.renderer=Kt),tme(Ne,!1,Ce),Ne.asyncDep){if($e&&$e.registerDep(Ne,zt,Ce),!We.el){const je=Ne.subTree=ie(Vu);j(null,je,et,xe)}}else zt(Ne,We,et,xe,$e,be,Ce)},lt=(We,et,xe)=>{const Ae=et.component=We.component;if(jfe(We,et,xe))if(Ae.asyncDep&&!Ae.asyncResolved){Yt(Ae,et,xe);return}else Ae.next=et,Ae.update();else et.el=We.el,Ae.vnode=et},zt=(We,et,xe,Ae,$e,be,Ce)=>{const Ne=()=>{if(We.isMounted){let{next:Ut,bu:bn,u:qn,parent:eo,vnode:Fo}=We;{const wr=NJ(We);if(wr){Ut&&(Ut.el=Fo.el,Yt(We,Ut,Ce)),wr.asyncDep.then(()=>{We.isUnmounted||Ne()});return}}let Ro=Ut,Zr;wC(We,!1),Ut?(Ut.el=Fo.el,Yt(We,Ut,Ce)):Ut=Fo,bn&&LB(bn),(Zr=Ut.props&&Ut.props.onVnodeBeforeUpdate)&&Tb(Zr,eo,Ut,Fo),wC(We,!0);const cr=qG(We),ti=We.subTree;We.subTree=cr,J(ti,cr,N(ti.el),nn(ti),We,$e,be),Ut.el=cr.el,Ro===null&&Zfe(We,cr.el),qn&&Rd(qn,$e),(Zr=Ut.props&&Ut.props.onVnodeUpdated)&&Rd(()=>Tb(Zr,eo,Ut,Fo),$e)}else{let Ut;const{el:bn,props:qn}=et,{bm:eo,m:Fo,parent:Ro,root:Zr,type:cr}=We,ti=yD(et);wC(We,!1),eo&&LB(eo),!ti&&(Ut=qn&&qn.onVnodeBeforeMount)&&Tb(Ut,Ro,et),wC(We,!0);{Zr.ce&&Zr.ce._def.shadowRoot!==!1&&Zr.ce._injectChildStyle(cr);const wr=We.subTree=qG(We);J(null,wr,xe,Ae,We,$e,be),et.el=wr.el}if(Fo&&Rd(Fo,$e),!ti&&(Ut=qn&&qn.onVnodeMounted)){const wr=et;Rd(()=>Tb(Ut,Ro,wr),$e)}(et.shapeFlag&256||Ro&&yD(Ro.vnode)&&Ro.vnode.shapeFlag&256)&&We.a&&Rd(We.a,$e),We.isMounted=!0,et=xe=Ae=null}};We.scope.on();const je=We.effect=new zX(Ne);We.scope.off();const gt=We.update=je.run.bind(je),sn=We.job=je.runIfDirty.bind(je);sn.i=We,sn.id=We.uid,je.scheduler=()=>DW(sn),wC(We,!0),gt()},Yt=(We,et,xe)=>{et.component=We;const Ae=We.vnode.props;We.vnode=et,We.next=null,Dfe(We,et.props,Ae,xe),Pfe(We,et.children,xe),X1(),BG(We),J1()},ct=(We,et,xe,Ae,$e,be,Ce,Ne,je=!1)=>{const gt=We&&We.children,sn=We?We.shapeFlag:0,Ut=et.children,{patchFlag:bn,shapeFlag:qn}=et;if(bn>0){if(bn&128){Et(gt,Ut,xe,Ae,$e,be,Ce,Ne,je);return}else if(bn&256){kn(gt,Ut,xe,Ae,$e,be,Ce,Ne,je);return}}qn&8?(sn&16&&Tn(gt,$e,be),Ut!==gt&&R(xe,Ut)):sn&16?qn&16?Et(gt,Ut,xe,Ae,$e,be,Ce,Ne,je):Tn(gt,$e,be,!0):(sn&8&&R(xe,""),qn&16&&Me(Ut,xe,Ae,$e,be,Ce,Ne,je))},kn=(We,et,xe,Ae,$e,be,Ce,Ne,je)=>{We=We||fE,et=et||fE;const gt=We.length,sn=et.length,Ut=Math.min(gt,sn);let bn;for(bn=0;bn<Ut;bn++){const qn=et[bn]=je?fx(et[bn]):Lb(et[bn]);J(We[bn],qn,xe,null,$e,be,Ce,Ne,je)}gt>sn?Tn(We,$e,be,!0,!1,Ut):Me(et,xe,Ae,$e,be,Ce,Ne,je,Ut)},Et=(We,et,xe,Ae,$e,be,Ce,Ne,je)=>{let gt=0;const sn=et.length;let Ut=We.length-1,bn=sn-1;for(;gt<=Ut&&gt<=bn;){const qn=We[gt],eo=et[gt]=je?fx(et[gt]):Lb(et[gt]);if(AC(qn,eo))J(qn,eo,xe,null,$e,be,Ce,Ne,je);else break;gt++}for(;gt<=Ut&&gt<=bn;){const qn=We[Ut],eo=et[bn]=je?fx(et[bn]):Lb(et[bn]);if(AC(qn,eo))J(qn,eo,xe,null,$e,be,Ce,Ne,je);else break;Ut--,bn--}if(gt>Ut){if(gt<=bn){const qn=bn+1,eo=qn<sn?et[qn].el:Ae;for(;gt<=bn;)J(null,et[gt]=je?fx(et[gt]):Lb(et[gt]),xe,eo,$e,be,Ce,Ne,je),gt++}}else if(gt>bn)for(;gt<=Ut;)Le(We[gt],$e,be,!0),gt++;else{const qn=gt,eo=gt,Fo=new Map;for(gt=eo;gt<=bn;gt++){const uo=et[gt]=je?fx(et[gt]):Lb(et[gt]);uo.key!=null&&Fo.set(uo.key,gt)}let Ro,Zr=0;const cr=bn-eo+1;let ti=!1,wr=0;const ji=new Array(cr);for(gt=0;gt<cr;gt++)ji[gt]=0;for(gt=qn;gt<=Ut;gt++){const uo=We[gt];if(Zr>=cr){Le(uo,$e,be,!0);continue}let Oo;if(uo.key!=null)Oo=Fo.get(uo.key);else for(Ro=eo;Ro<=bn;Ro++)if(ji[Ro-eo]===0&&AC(uo,et[Ro])){Oo=Ro;break}Oo===void 0?Le(uo,$e,be,!0):(ji[Oo-eo]=gt+1,Oo>=wr?wr=Oo:ti=!0,J(uo,et[Oo],xe,null,$e,be,Ce,Ne,je),Zr++)}const En=ti?Ffe(ji):fE;for(Ro=En.length-1,gt=cr-1;gt>=0;gt--){const uo=eo+gt,Oo=et[uo],ci=uo+1<sn?et[uo+1].el:Ae;ji[gt]===0?J(null,Oo,xe,ci,$e,be,Ce,Ne,je):ti&&(Ro<0||gt!==En[Ro]?Qe(Oo,xe,ci,2):Ro--)}}},Qe=(We,et,xe,Ae,$e=null)=>{const{el:be,type:Ce,transition:Ne,children:je,shapeFlag:gt}=We;if(gt&6){Qe(We.component.subTree,et,xe,Ae);return}if(gt&128){We.suspense.move(et,xe,Ae);return}if(gt&64){Ce.move(We,et,xe,Kt);return}if(Ce===lr){u(be,et,xe);for(let Ut=0;Ut<je.length;Ut++)Qe(je[Ut],et,xe,Ae);u(We.anchor,et,xe);return}if(Ce===FH){ae(We,et,xe);return}if(Ae!==2&&gt&1&&Ne)if(Ae===0)Ne.beforeEnter(be),u(be,et,xe),Rd(()=>Ne.enter(be),$e);else{const{leave:Ut,delayLeave:bn,afterLeave:qn}=Ne,eo=()=>{We.ctx.isUnmounted?g(be):u(be,et,xe)},Fo=()=>{Ut(be,()=>{eo(),qn&&qn()})};bn?bn(be,eo,Fo):Fo()}else u(be,et,xe)},Le=(We,et,xe,Ae=!1,$e=!1)=>{const{type:be,props:Ce,ref:Ne,children:je,dynamicChildren:gt,shapeFlag:sn,patchFlag:Ut,dirs:bn,cacheIndex:qn}=We;if(Ut===-2&&($e=!1),Ne!=null&&(X1(),vD(Ne,null,xe,We,!0),J1()),qn!=null&&(et.renderCache[qn]=void 0),sn&256){et.ctx.deactivate(We);return}const eo=sn&1&&bn,Fo=!yD(We);let Ro;if(Fo&&(Ro=Ce&&Ce.onVnodeBeforeUnmount)&&Tb(Ro,et,We),sn&6)Ht(We.component,xe,Ae);else{if(sn&128){We.suspense.unmount(xe,Ae);return}eo&&xC(We,null,et,"beforeUnmount"),sn&64?We.type.remove(We,et,xe,Kt,Ae):gt&&!gt.hasOnce&&(be!==lr||Ut>0&&Ut&64)?Tn(gt,et,xe,!1,!0):(be===lr&&Ut&384||!$e&&sn&16)&&Tn(je,et,xe),Ae&&ft(We)}(Fo&&(Ro=Ce&&Ce.onVnodeUnmounted)||eo)&&Rd(()=>{Ro&&Tb(Ro,et,We),eo&&xC(We,null,et,"unmounted")},xe)},ft=We=>{const{type:et,el:xe,anchor:Ae,transition:$e}=We;if(et===lr){po(xe,Ae);return}if(et===FH){U(We);return}const be=()=>{g(xe),$e&&!$e.persisted&&$e.afterLeave&&$e.afterLeave()};if(We.shapeFlag&1&&$e&&!$e.persisted){const{leave:Ce,delayLeave:Ne}=$e,je=()=>Ce(xe,be);Ne?Ne(We.el,be,je):je()}else be()},po=(We,et)=>{let xe;for(;We!==et;)xe=H(We),g(We),We=xe;g(et)},Ht=(We,et,xe)=>{const{bum:Ae,scope:$e,job:be,subTree:Ce,um:Ne,m:je,a:gt,parent:sn,slots:{__:Ut}}=We;GG(je),GG(gt),Ae&&LB(Ae),sn&&Xo(Ut)&&Ut.forEach(bn=>{sn.renderCache[bn]=void 0}),$e.stop(),be&&(be.flags|=8,Le(Ce,We,et,xe)),Ne&&Rd(Ne,et),Rd(()=>{We.isUnmounted=!0},et),et&&et.pendingBranch&&!et.isUnmounted&&We.asyncDep&&!We.asyncResolved&&We.suspenseId===et.pendingId&&(et.deps--,et.deps===0&&et.resolve())},Tn=(We,et,xe,Ae=!1,$e=!1,be=0)=>{for(let Ce=be;Ce<We.length;Ce++)Le(We[Ce],et,xe,Ae,$e)},nn=We=>{if(We.shapeFlag&6)return nn(We.component.subTree);if(We.shapeFlag&128)return We.suspense.next();const et=H(We.anchor||We.el),xe=et&&et[cJ];return xe?H(xe):et};let Q=!1;const co=(We,et,xe)=>{We==null?et._vnode&&Le(et._vnode,null,null,!0):J(et._vnode||null,We,et,null,null,null,xe),et._vnode=We,Q||(Q=!0,BG(),iJ(),Q=!1)},Kt={p:J,um:Le,m:Qe,r:ft,mt:qe,mc:Me,pc:ct,pbc:rt,n:nn,o:t};return{render:co,hydrate:void 0,createApp:Afe(co)}}function BH({type:t,props:s},a){return a==="svg"&&t==="foreignObject"||a==="mathml"&&t==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:a}function wC({effect:t,job:s},a){a?(t.flags|=32,s.flags|=4):(t.flags&=-33,s.flags&=-5)}function Bfe(t,s){return(!t||t&&!t.pendingBranch)&&s&&!s.persisted}function MW(t,s,a=!1){const u=t.children,g=s.children;if(Xo(u)&&Xo(g))for(let h=0;h<u.length;h++){const x=u[h];let w=g[h];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=g[h]=fx(g[h]),w.el=x.el),!a&&w.patchFlag!==-2&&MW(x,w)),w.type===lR&&(w.el=x.el),w.type===Vu&&!w.el&&(w.el=x.el)}}function Ffe(t){const s=t.slice(),a=[0];let u,g,h,x,w;const T=t.length;for(u=0;u<T;u++){const I=t[u];if(I!==0){if(g=a[a.length-1],t[g]<I){s[u]=g,a.push(u);continue}for(h=0,x=a.length-1;h<x;)w=h+x>>1,t[a[w]]<I?h=w+1:x=w;I<t[a[h]]&&(h>0&&(s[u]=a[h-1]),a[h]=u)}}for(h=a.length,x=a[h-1];h-- >0;)a[h]=x,x=s[x];return a}function NJ(t){const s=t.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:NJ(s)}function GG(t){if(t)for(let s=0;s<t.length;s++)t[s].flags|=8}const $fe=Symbol.for("v-scx"),Vfe=()=>Wi($fe);function Md(t,s){return BW(t,null,s)}function Rn(t,s,a){return BW(t,s,a)}function BW(t,s,a=Hi){const{immediate:u,deep:g,flush:h,once:x}=a,w=lc({},a),T=s&&u||!s&&h!=="post";let I;if(ND){if(h==="sync"){const W=Vfe();I=W.__watcherHandles||(W.__watcherHandles=[])}else if(!T){const W=()=>{};return W.stop=Fb,W.resume=Fb,W.pause=Fb,W}}const R=Oc;w.call=(W,Z,J)=>fp(W,R,Z,J);let N=!1;h==="post"?w.scheduler=W=>{Rd(W,R&&R.suspense)}:h!=="sync"&&(N=!0,w.scheduler=(W,Z)=>{Z?W():DW(W)}),w.augmentJob=W=>{s&&(W.flags|=4),N&&(W.flags|=2,R&&(W.id=R.uid,W.i=R))};const H=nfe(t,s,w);return ND&&(I?I.push(H):T&&H()),H}function zfe(t,s,a){const u=this.proxy,g=el(t)?t.includes(".")?PJ(u,t):()=>u[t]:t.bind(u,u);let h;Rr(s)?h=s:(h=s.handler,a=s);const x=cR(this),w=BW(g,h.bind(u),a);return x(),w}function PJ(t,s){const a=s.split(".");return()=>{let u=t;for(let g=0;g<a.length&&u;g++)u=u[a[g]];return u}}const Hfe=(t,s)=>s==="modelValue"||s==="model-value"?t.modelModifiers:t[`${s}Modifiers`]||t[`${Ld(s)}Modifiers`]||t[`${$C(s)}Modifiers`];function Ufe(t,s,...a){if(t.isUnmounted)return;const u=t.vnode.props||Hi;let g=a;const h=s.startsWith("update:"),x=h&&Hfe(u,s.slice(7));x&&(x.trim&&(g=a.map(R=>el(R)?R.trim():R)),x.number&&(g=a.map(YB)));let w,T=u[w=DH(s)]||u[w=DH(Ld(s))];!T&&h&&(T=u[w=DH($C(s))]),T&&fp(T,t,6,g);const I=u[w+"Once"];if(I){if(!t.emitted)t.emitted={};else if(t.emitted[w])return;t.emitted[w]=!0,fp(I,t,6,g)}}function LJ(t,s,a=!1){const u=s.emitsCache,g=u.get(t);if(g!==void 0)return g;const h=t.emits;let x={},w=!1;if(!Rr(t)){const T=I=>{const R=LJ(I,s,!0);R&&(w=!0,lc(x,R))};!a&&s.mixins.length&&s.mixins.forEach(T),t.extends&&T(t.extends),t.mixins&&t.mixins.forEach(T)}return!h&&!w?(Di(t)&&u.set(t,null),null):(Xo(h)?h.forEach(T=>x[T]=null):lc(x,h),Di(t)&&u.set(t,x),x)}function F8(t,s){return!t||!O8(s)?!1:(s=s.slice(2).replace(/Once$/,""),hi(t,s[0].toLowerCase()+s.slice(1))||hi(t,$C(s))||hi(t,s))}function qG(t){const{type:s,vnode:a,proxy:u,withProxy:g,propsOptions:[h],slots:x,attrs:w,emit:T,render:I,renderCache:R,props:N,data:H,setupState:W,ctx:Z,inheritAttrs:J}=t,se=t8(t);let j,he;try{if(a.shapeFlag&4){const U=g||u,de=U;j=Lb(I.call(de,U,R,N,W,H,Z)),he=w}else{const U=s;j=Lb(U.length>1?U(N,{attrs:w,slots:x,emit:T}):U(N,null)),he=s.props?w:Wfe(w)}}catch(U){wD.length=0,P8(U,t,1),j=ie(Vu)}let ae=j;if(he&&J!==!1){const U=Object.keys(he),{shapeFlag:de}=ae;U.length&&de&7&&(h&&U.some(bW)&&(he=Kfe(he,h)),ae=e0(ae,he,!1,!0))}return a.dirs&&(ae=e0(ae,null,!1,!0),ae.dirs=ae.dirs?ae.dirs.concat(a.dirs):a.dirs),a.transition&&LC(ae,a.transition),j=ae,t8(se),j}const Wfe=t=>{let s;for(const a in t)(a==="class"||a==="style"||O8(a))&&((s||(s={}))[a]=t[a]);return s},Kfe=(t,s)=>{const a={};for(const u in t)(!bW(u)||!(u.slice(9)in s))&&(a[u]=t[u]);return a};function jfe(t,s,a){const{props:u,children:g,component:h}=t,{props:x,children:w,patchFlag:T}=s,I=h.emitsOptions;if(s.dirs||s.transition)return!0;if(a&&T>=0){if(T&1024)return!0;if(T&16)return u?YG(u,x,I):!!x;if(T&8){const R=s.dynamicProps;for(let N=0;N<R.length;N++){const H=R[N];if(x[H]!==u[H]&&!F8(I,H))return!0}}}else return(g||w)&&(!w||!w.$stable)?!0:u===x?!1:u?x?YG(u,x,I):!0:!!x;return!1}function YG(t,s,a){const u=Object.keys(s);if(u.length!==Object.keys(t).length)return!0;for(let g=0;g<u.length;g++){const h=u[g];if(s[h]!==t[h]&&!F8(a,h))return!0}return!1}function Zfe({vnode:t,parent:s},a){for(;s;){const u=s.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=s.vnode).el=a,s=s.parent;else break}}const MJ=t=>t.__isSuspense;function Gfe(t,s){s&&s.pendingBranch?Xo(t)?s.effects.push(...t):s.effects.push(t):sfe(t)}const lr=Symbol.for("v-fgt"),lR=Symbol.for("v-txt"),Vu=Symbol.for("v-cmt"),FH=Symbol.for("v-stc"),wD=[];let _m=null;function On(t=!1){wD.push(_m=t?null:[])}function qfe(){wD.pop(),_m=wD[wD.length-1]||null}let RD=1;function XG(t,s=!1){RD+=t,t<0&&_m&&s&&(_m.hasOnce=!0)}function BJ(t){return t.dynamicChildren=RD>0?_m||fE:null,qfe(),RD>0&&_m&&_m.push(t),t}function Bo(t,s,a,u,g,h){return BJ(te(t,s,a,u,g,h,!0))}function es(t,s,a,u,g){return BJ(ie(t,s,a,u,g,!0))}function ID(t){return t?t.__v_isVNode===!0:!1}function AC(t,s){return t.type===s.type&&t.key===s.key}const FJ=({key:t})=>t??null,BB=({ref:t,ref_key:s,ref_for:a})=>(typeof t=="number"&&(t=""+t),t!=null?el(t)||Qs(t)||Rr(t)?{i:Pd,r:t,k:s,f:!!a}:t:null);function te(t,s=null,a=null,u=0,g=null,h=t===lr?0:1,x=!1,w=!1){const T={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&FJ(s),ref:s&&BB(s),scopeId:lJ,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:u,dynamicProps:g,dynamicChildren:null,appContext:null,ctx:Pd};return w?(FW(T,a),h&128&&t.normalize(T)):a&&(T.shapeFlag|=el(a)?8:16),RD>0&&!x&&_m&&(T.patchFlag>0||h&6)&&T.patchFlag!==32&&_m.push(T),T}const ie=Yfe;function Yfe(t,s=null,a=null,u=0,g=null,h=!1){if((!t||t===bfe)&&(t=Vu),ID(t)){const w=e0(t,s,!0);return a&&FW(w,a),RD>0&&!h&&_m&&(w.shapeFlag&6?_m[_m.indexOf(t)]=w:_m.push(w)),w.patchFlag=-2,w}if(ime(t)&&(t=t.__vccOpts),s){s=Xfe(s);let{class:w,style:T}=s;w&&!el(w)&&(s.class=go(w)),Di(T)&&(TW(T)&&!Xo(T)&&(T=lc({},T)),s.style=Ir(T))}const x=el(t)?1:MJ(t)?128:uJ(t)?64:Di(t)?4:Rr(t)?2:0;return te(t,s,a,u,g,x,h,!0)}function Xfe(t){return t?TW(t)||AJ(t)?lc({},t):t:null}function e0(t,s,a=!1,u=!1){const{props:g,ref:h,patchFlag:x,children:w,transition:T}=t,I=s?Po(g||{},s):g,R={__v_isVNode:!0,__v_skip:!0,type:t.type,props:I,key:I&&FJ(I),ref:s&&s.ref?a&&h?Xo(h)?h.concat(BB(s)):[h,BB(s)]:BB(s):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:w,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==lr?x===-1?16:x|16:x,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:T,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&e0(t.ssContent),ssFallback:t.ssFallback&&e0(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return T&&u&&LC(R,T.clone(R)),R}function xs(t=" ",s=0){return ie(lR,null,t,s)}function vr(t="",s=!1){return s?(On(),es(Vu,null,t)):ie(Vu,null,t)}function Lb(t){return t==null||typeof t=="boolean"?ie(Vu):Xo(t)?ie(lr,null,t.slice()):ID(t)?fx(t):ie(lR,null,String(t))}function fx(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:e0(t)}function FW(t,s){let a=0;const{shapeFlag:u}=t;if(s==null)s=null;else if(Xo(s))a=16;else if(typeof s=="object")if(u&65){const g=s.default;g&&(g._c&&(g._d=!1),FW(t,g()),g._c&&(g._d=!0));return}else{a=32;const g=s._;!g&&!AJ(s)?s._ctx=Pd:g===3&&Pd&&(Pd.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else Rr(s)?(s={default:s,_ctx:Pd},a=32):(s=String(s),u&64?(a=16,s=[xs(s)]):a=8);t.children=s,t.shapeFlag|=a}function Po(...t){const s={};for(let a=0;a<t.length;a++){const u=t[a];for(const g in u)if(g==="class")s.class!==u.class&&(s.class=go([s.class,u.class]));else if(g==="style")s.style=Ir([s.style,u.style]);else if(O8(g)){const h=s[g],x=u[g];x&&h!==x&&!(Xo(h)&&h.includes(x))&&(s[g]=h?[].concat(h,x):x)}else g!==""&&(s[g]=u[g])}return s}function Tb(t,s,a,u=null){fp(t,s,7,[a,u])}const Jfe=SJ();let Qfe=0;function eme(t,s,a){const u=t.type,g=(s?s.appContext:t.appContext)||Jfe,h={uid:Qfe++,vnode:t,type:u,parent:s,appContext:g,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new VX(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(g.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:OJ(u,g),emitsOptions:LJ(u,g),emit:null,emitted:null,propsDefaults:Hi,inheritAttrs:u.inheritAttrs,ctx:Hi,data:Hi,props:Hi,attrs:Hi,slots:Hi,refs:Hi,setupState:Hi,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=s?s.root:h,h.emit=Ufe.bind(null,h),t.ce&&t.ce(h),h}let Oc=null;const TE=()=>Oc||Pd;let o8,NU;{const t=R8(),s=(a,u)=>{let g;return(g=t[a])||(g=t[a]=[]),g.push(u),h=>{g.length>1?g.forEach(x=>x(h)):g[0](h)}};o8=s("__VUE_INSTANCE_SETTERS__",a=>Oc=a),NU=s("__VUE_SSR_SETTERS__",a=>ND=a)}const cR=t=>{const s=Oc;return o8(t),t.scope.on(),()=>{t.scope.off(),o8(s)}},JG=()=>{Oc&&Oc.scope.off(),o8(null)};function $J(t){return t.vnode.shapeFlag&4}let ND=!1;function tme(t,s=!1,a=!1){s&&NU(s);const{props:u,children:g}=t.vnode,h=$J(t);Ofe(t,u,h,s),Nfe(t,g,a||s);const x=h?nme(t,s):void 0;return s&&NU(!1),x}function nme(t,s){const a=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xfe);const{setup:u}=a;if(u){X1();const g=t.setupContext=u.length>1?rme(t):null,h=cR(t),x=iR(u,t,0,[t.props,g]),w=PX(x);if(J1(),h(),(w||t.sp)&&!yD(t)&&yJ(t),w){if(x.then(JG,JG),s)return x.then(T=>{QG(t,T)}).catch(T=>{P8(T,t,0)});t.asyncDep=x}else QG(t,x)}else VJ(t)}function QG(t,s,a){Rr(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:Di(s)&&(t.setupState=nJ(s)),VJ(t)}function VJ(t,s,a){const u=t.type;t.render||(t.render=u.render||Fb);{const g=cR(t);X1();try{wfe(t)}finally{J1(),g()}}}const ome={get(t,s){return Fu(t,"get",""),t[s]}};function rme(t){const s=a=>{t.exposed=a||{}};return{attrs:new Proxy(t.attrs,ome),slots:t.slots,emit:t.emit,expose:s}}function $8(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nJ(OW(t.exposed)),{get(s,a){if(a in s)return s[a];if(a in xD)return xD[a](t)},has(s,a){return a in s||a in xD}})):t.proxy}function sme(t,s=!0){return Rr(t)?t.displayName||t.name:t.name||s&&t.__name}function ime(t){return Rr(t)&&"__vccOpts"in t}const Dt=(t,s)=>efe(t,s,ND);function Ub(t,s,a){const u=arguments.length;return u===2?Di(s)&&!Xo(s)?ID(s)?ie(t,null,[s]):ie(t,s):ie(t,null,s):(u>3?a=Array.prototype.slice.call(arguments,2):u===3&&ID(a)&&(a=[a]),ie(t,s,a))}const ame="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let PU;const eq=typeof window<"u"&&window.trustedTypes;if(eq)try{PU=eq.createPolicy("vue",{createHTML:t=>t})}catch{}const zJ=PU?t=>PU.createHTML(t):t=>t,lme="http://www.w3.org/2000/svg",cme="http://www.w3.org/1998/Math/MathML",W1=typeof document<"u"?document:null,tq=W1&&W1.createElement("template"),ume={insert:(t,s,a)=>{s.insertBefore(t,a||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,a,u)=>{const g=s==="svg"?W1.createElementNS(lme,t):s==="mathml"?W1.createElementNS(cme,t):a?W1.createElement(t,{is:a}):W1.createElement(t);return t==="select"&&u&&u.multiple!=null&&g.setAttribute("multiple",u.multiple),g},createText:t=>W1.createTextNode(t),createComment:t=>W1.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>W1.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},insertStaticContent(t,s,a,u,g,h){const x=a?a.previousSibling:s.lastChild;if(g&&(g===h||g.nextSibling))for(;s.insertBefore(g.cloneNode(!0),a),!(g===h||!(g=g.nextSibling)););else{tq.innerHTML=zJ(u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t);const w=tq.content;if(u==="svg"||u==="mathml"){const T=w.firstChild;for(;T.firstChild;)w.appendChild(T.firstChild);w.removeChild(T)}s.insertBefore(w,a)}return[x?x.nextSibling:s.firstChild,a?a.previousSibling:s.lastChild]}},sx="transition",iD="animation",pE=Symbol("_vtc"),HJ={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UJ=lc({},gJ,HJ),dme=t=>(t.displayName="Transition",t.props=UJ,t),wx=dme((t,{slots:s})=>Ub(cfe,WJ(t),s)),CC=(t,s=[])=>{Xo(t)?t.forEach(a=>a(...s)):t&&t(...s)},nq=t=>t?Xo(t)?t.some(s=>s.length>1):t.length>1:!1;function WJ(t){const s={};for(const Te in t)Te in HJ||(s[Te]=t[Te]);if(t.css===!1)return s;const{name:a="v",type:u,duration:g,enterFromClass:h=`${a}-enter-from`,enterActiveClass:x=`${a}-enter-active`,enterToClass:w=`${a}-enter-to`,appearFromClass:T=h,appearActiveClass:I=x,appearToClass:R=w,leaveFromClass:N=`${a}-leave-from`,leaveActiveClass:H=`${a}-leave-active`,leaveToClass:W=`${a}-leave-to`}=t,Z=fme(g),J=Z&&Z[0],se=Z&&Z[1],{onBeforeEnter:j,onEnter:he,onEnterCancelled:ae,onLeave:U,onLeaveCancelled:de,onBeforeAppear:oe=j,onAppear:Ve=he,onAppearCancelled:Me=ae}=s,Xe=(Te,D,qe,lt)=>{Te._enterCancelled=lt,lx(Te,D?R:w),lx(Te,D?I:x),qe&&qe()},rt=(Te,D)=>{Te._isLeaving=!1,lx(Te,N),lx(Te,W),lx(Te,H),D&&D()},Oe=Te=>(D,qe)=>{const lt=Te?Ve:he,zt=()=>Xe(D,Te,qe);CC(lt,[D,zt]),oq(()=>{lx(D,Te?T:h),Ib(D,Te?R:w),nq(lt)||rq(D,u,J,zt)})};return lc(s,{onBeforeEnter(Te){CC(j,[Te]),Ib(Te,h),Ib(Te,x)},onBeforeAppear(Te){CC(oe,[Te]),Ib(Te,T),Ib(Te,I)},onEnter:Oe(!1),onAppear:Oe(!0),onLeave(Te,D){Te._isLeaving=!0;const qe=()=>rt(Te,D);Ib(Te,N),Te._enterCancelled?(Ib(Te,H),LU()):(LU(),Ib(Te,H)),oq(()=>{Te._isLeaving&&(lx(Te,N),Ib(Te,W),nq(U)||rq(Te,u,se,qe))}),CC(U,[Te,qe])},onEnterCancelled(Te){Xe(Te,!1,void 0,!0),CC(ae,[Te])},onAppearCancelled(Te){Xe(Te,!0,void 0,!0),CC(Me,[Te])},onLeaveCancelled(Te){rt(Te),CC(de,[Te])}})}function fme(t){if(t==null)return null;if(Di(t))return[$H(t.enter),$H(t.leave)];{const s=$H(t);return[s,s]}}function $H(t){return wde(t)}function Ib(t,s){s.split(/\s+/).forEach(a=>a&&t.classList.add(a)),(t[pE]||(t[pE]=new Set)).add(s)}function lx(t,s){s.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const a=t[pE];a&&(a.delete(s),a.size||(t[pE]=void 0))}function oq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let mme=0;function rq(t,s,a,u){const g=t._endId=++mme,h=()=>{g===t._endId&&u()};if(a!=null)return setTimeout(h,a);const{type:x,timeout:w,propCount:T}=KJ(t,s);if(!x)return u();const I=x+"end";let R=0;const N=()=>{t.removeEventListener(I,H),h()},H=W=>{W.target===t&&++R>=T&&N()};setTimeout(()=>{R<T&&N()},w+1),t.addEventListener(I,H)}function KJ(t,s){const a=window.getComputedStyle(t),u=Z=>(a[Z]||"").split(", "),g=u(`${sx}Delay`),h=u(`${sx}Duration`),x=sq(g,h),w=u(`${iD}Delay`),T=u(`${iD}Duration`),I=sq(w,T);let R=null,N=0,H=0;s===sx?x>0&&(R=sx,N=x,H=h.length):s===iD?I>0&&(R=iD,N=I,H=T.length):(N=Math.max(x,I),R=N>0?x>I?sx:iD:null,H=R?R===sx?h.length:T.length:0);const W=R===sx&&/\b(transform|all)(,|$)/.test(u(`${sx}Property`).toString());return{type:R,timeout:N,propCount:H,hasTransform:W}}function sq(t,s){for(;t.length<s.length;)t=t.concat(t);return Math.max(...s.map((a,u)=>iq(a)+iq(t[u])))}function iq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function LU(){return document.body.offsetHeight}function gme(t,s,a){const u=t[pE];u&&(s=(s?[s,...u]:[...u]).join(" ")),s==null?t.removeAttribute("class"):a?t.setAttribute("class",s):t.className=s}const r8=Symbol("_vod"),jJ=Symbol("_vsh"),Ao={beforeMount(t,{value:s},{transition:a}){t[r8]=t.style.display==="none"?"":t.style.display,a&&s?a.beforeEnter(t):aD(t,s)},mounted(t,{value:s},{transition:a}){a&&s&&a.enter(t)},updated(t,{value:s,oldValue:a},{transition:u}){!s!=!a&&(u?s?(u.beforeEnter(t),aD(t,!0),u.enter(t)):u.leave(t,()=>{aD(t,!1)}):aD(t,s))},beforeUnmount(t,{value:s}){aD(t,s)}};function aD(t,s){t.style.display=s?t[r8]:"none",t[jJ]=!s}const hme=Symbol(""),pme=/(^|;)\s*display\s*:/;function bme(t,s,a){const u=t.style,g=el(a);let h=!1;if(a&&!g){if(s)if(el(s))for(const x of s.split(";")){const w=x.slice(0,x.indexOf(":")).trim();a[w]==null&&FB(u,w,"")}else for(const x in s)a[x]==null&&FB(u,x,"");for(const x in a)x==="display"&&(h=!0),FB(u,x,a[x])}else if(g){if(s!==a){const x=u[hme];x&&(a+=";"+x),u.cssText=a,h=pme.test(a)}}else s&&t.removeAttribute("style");r8 in t&&(t[r8]=h?u.display:"",t[jJ]&&(u.display="none"))}const aq=/\s*!important$/;function FB(t,s,a){if(Xo(a))a.forEach(u=>FB(t,s,u));else if(a==null&&(a=""),s.startsWith("--"))t.setProperty(s,a);else{const u=vme(t,s);aq.test(a)?t.setProperty($C(u),a.replace(aq,""),"important"):t[u]=a}}const lq=["Webkit","Moz","ms"],VH={};function vme(t,s){const a=VH[s];if(a)return a;let u=Ld(s);if(u!=="filter"&&u in t)return VH[s]=u;u=r0(u);for(let g=0;g<lq.length;g++){const h=lq[g]+u;if(h in t)return VH[s]=h}return s}const cq="http://www.w3.org/1999/xlink";function uq(t,s,a,u,g,h=Ade(s)){u&&s.startsWith("xlink:")?a==null?t.removeAttributeNS(cq,s.slice(6,s.length)):t.setAttributeNS(cq,s,a):a==null||h&&!BX(a)?t.removeAttribute(s):t.setAttribute(s,h?"":zb(a)?String(a):a)}function dq(t,s,a,u,g){if(s==="innerHTML"||s==="textContent"){a!=null&&(t[s]=s==="innerHTML"?zJ(a):a);return}const h=t.tagName;if(s==="value"&&h!=="PROGRESS"&&!h.includes("-")){const w=h==="OPTION"?t.getAttribute("value")||"":t.value,T=a==null?t.type==="checkbox"?"on":"":String(a);(w!==T||!("_value"in t))&&(t.value=T),a==null&&t.removeAttribute(s),t._value=a;return}let x=!1;if(a===""||a==null){const w=typeof t[s];w==="boolean"?a=BX(a):a==null&&w==="string"?(a="",x=!0):w==="number"&&(a=0,x=!0)}try{t[s]=a}catch{}x&&t.removeAttribute(g||s)}function mx(t,s,a,u){t.addEventListener(s,a,u)}function yme(t,s,a,u){t.removeEventListener(s,a,u)}const fq=Symbol("_vei");function xme(t,s,a,u,g=null){const h=t[fq]||(t[fq]={}),x=h[s];if(u&&x)x.value=u;else{const[w,T]=wme(s);if(u){const I=h[s]=Sme(u,g);mx(t,w,I,T)}else x&&(yme(t,w,x,T),h[s]=void 0)}}const mq=/(?:Once|Passive|Capture)$/;function wme(t){let s;if(mq.test(t)){s={};let u;for(;u=t.match(mq);)t=t.slice(0,t.length-u[0].length),s[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$C(t.slice(2)),s]}let zH=0;const Cme=Promise.resolve(),_me=()=>zH||(Cme.then(()=>zH=0),zH=Date.now());function Sme(t,s){const a=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=a.attached)return;fp(kme(u,a.value),s,5,[u])};return a.value=t,a.attached=_me(),a}function kme(t,s){if(Xo(s)){const a=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{a.call(t),t._stopped=!0},s.map(u=>g=>!g._stopped&&u&&u(g))}else return s}const gq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Eme=(t,s,a,u,g,h)=>{const x=g==="svg";s==="class"?gme(t,u,x):s==="style"?bme(t,a,u):O8(s)?bW(s)||xme(t,s,a,u,h):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Ame(t,s,u,x))?(dq(t,s,u),!t.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&uq(t,s,u,x,h,s!=="value")):t._isVueCE&&(/[A-Z]/.test(s)||!el(u))?dq(t,Ld(s),u,h,s):(s==="true-value"?t._trueValue=u:s==="false-value"&&(t._falseValue=u),uq(t,s,u,x))};function Ame(t,s,a,u){if(u)return!!(s==="innerHTML"||s==="textContent"||s in t&&gq(s)&&Rr(a));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="autocorrect"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const g=t.tagName;if(g==="IMG"||g==="VIDEO"||g==="CANVAS"||g==="SOURCE")return!1}return gq(s)&&el(a)?!1:s in t}const ZJ=new WeakMap,GJ=new WeakMap,s8=Symbol("_moveCb"),hq=Symbol("_enterCb"),Tme=t=>(delete t.props.mode,t),Ome=Tme({name:"TransitionGroup",props:lc({},UJ,{tag:String,moveClass:String}),setup(t,{slots:s}){const a=TE(),u=mJ();let g,h;return NW(()=>{if(!g.length)return;const x=t.moveClass||`${t.name||"v"}-move`;if(!Nme(g[0].el,a.vnode.el,x)){g=[];return}g.forEach(Dme),g.forEach(Rme);const w=g.filter(Ime);LU(),w.forEach(T=>{const I=T.el,R=I.style;Ib(I,x),R.transform=R.webkitTransform=R.transitionDuration="";const N=I[s8]=H=>{H&&H.target!==I||(!H||/transform$/.test(H.propertyName))&&(I.removeEventListener("transitionend",N),I[s8]=null,lx(I,x))};I.addEventListener("transitionend",N)}),g=[]}),()=>{const x=gr(t),w=WJ(x);let T=x.tag||lr;if(g=[],h)for(let I=0;I<h.length;I++){const R=h[I];R.el&&R.el instanceof Element&&(g.push(R),LC(R,DD(R,w,u,a)),ZJ.set(R,R.el.getBoundingClientRect()))}h=s.default?RW(s.default()):[];for(let I=0;I<h.length;I++){const R=h[I];R.key!=null&&LC(R,DD(R,w,u,a))}return ie(T,null,h)}}}),$W=Ome;function Dme(t){const s=t.el;s[s8]&&s[s8](),s[hq]&&s[hq]()}function Rme(t){GJ.set(t,t.el.getBoundingClientRect())}function Ime(t){const s=ZJ.get(t),a=GJ.get(t),u=s.left-a.left,g=s.top-a.top;if(u||g){const h=t.el.style;return h.transform=h.webkitTransform=`translate(${u}px,${g}px)`,h.transitionDuration="0s",t}}function Nme(t,s,a){const u=t.cloneNode(),g=t[pE];g&&g.forEach(w=>{w.split(/\s+/).forEach(T=>T&&u.classList.remove(T))}),a.split(/\s+/).forEach(w=>w&&u.classList.add(w)),u.style.display="none";const h=s.nodeType===1?s:s.parentNode;h.appendChild(u);const{hasTransform:x}=KJ(u);return h.removeChild(u),x}const bE=t=>{const s=t.props["onUpdate:modelValue"]||!1;return Xo(s)?a=>LB(s,a):s};function Pme(t){t.target.composing=!0}function pq(t){const s=t.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const G1=Symbol("_assign"),t0={created(t,{modifiers:{lazy:s,trim:a,number:u}},g){t[G1]=bE(g);const h=u||g.props&&g.props.type==="number";mx(t,s?"change":"input",x=>{if(x.target.composing)return;let w=t.value;a&&(w=w.trim()),h&&(w=YB(w)),t[G1](w)}),a&&mx(t,"change",()=>{t.value=t.value.trim()}),s||(mx(t,"compositionstart",Pme),mx(t,"compositionend",pq),mx(t,"change",pq))},mounted(t,{value:s}){t.value=s??""},beforeUpdate(t,{value:s,oldValue:a,modifiers:{lazy:u,trim:g,number:h}},x){if(t[G1]=bE(x),t.composing)return;const w=(h||t.type==="number")&&!/^0\d/.test(t.value)?YB(t.value):t.value,T=s??"";w!==T&&(document.activeElement===t&&t.type!=="range"&&(u&&s===a||g&&t.value.trim()===T)||(t.value=T))}},bq={deep:!0,created(t,s,a){t[G1]=bE(a),mx(t,"change",()=>{const u=t._modelValue,g=PD(t),h=t.checked,x=t[G1];if(Xo(u)){const w=xW(u,g),T=w!==-1;if(h&&!T)x(u.concat(g));else if(!h&&T){const I=[...u];I.splice(w,1),x(I)}}else if(EE(u)){const w=new Set(u);h?w.add(g):w.delete(g),x(w)}else x(qJ(t,h))})},mounted:vq,beforeUpdate(t,s,a){t[G1]=bE(a),vq(t,s,a)}};function vq(t,{value:s,oldValue:a},u){t._modelValue=s;let g;if(Xo(s))g=xW(s,u.props.value)>-1;else if(EE(s))g=s.has(u.props.value);else{if(s===a)return;g=sR(s,qJ(t,!0))}t.checked!==g&&(t.checked=g)}const xB={deep:!0,created(t,{value:s,modifiers:{number:a}},u){const g=EE(s);mx(t,"change",()=>{const h=Array.prototype.filter.call(t.options,x=>x.selected).map(x=>a?YB(PD(x)):PD(x));t[G1](t.multiple?g?new Set(h):h:h[0]),t._assigning=!0,Jo(()=>{t._assigning=!1})}),t[G1]=bE(u)},mounted(t,{value:s}){yq(t,s)},beforeUpdate(t,s,a){t[G1]=bE(a)},updated(t,{value:s}){t._assigning||yq(t,s)}};function yq(t,s){const a=t.multiple,u=Xo(s);if(!(a&&!u&&!EE(s))){for(let g=0,h=t.options.length;g<h;g++){const x=t.options[g],w=PD(x);if(a)if(u){const T=typeof w;T==="string"||T==="number"?x.selected=s.some(I=>String(I)===String(w)):x.selected=xW(s,w)>-1}else x.selected=s.has(w);else if(sR(PD(x),s)){t.selectedIndex!==g&&(t.selectedIndex=g);return}}!a&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function PD(t){return"_value"in t?t._value:t.value}function qJ(t,s){const a=s?"_trueValue":"_falseValue";return a in t?t[a]:s}const Lme=lc({patchProp:Eme},ume);let xq;function Mme(){return xq||(xq=Lfe(Lme))}const Bme=(...t)=>{const s=Mme().createApp(...t),{mount:a}=s;return s.mount=u=>{const g=$me(u);if(!g)return;const h=s._component;!Rr(h)&&!h.render&&!h.template&&(h.template=g.innerHTML),g.nodeType===1&&(g.textContent="");const x=a(g,!1,Fme(g));return g instanceof Element&&(g.removeAttribute("v-cloak"),g.setAttribute("data-v-app","")),x},s};function Fme(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $me(t){return el(t)?document.querySelector(t):t}function Gg(t,s){let a;function u(){a=yx(),a.run(()=>s.length?s(()=>{a==null||a.stop(),u()}):s())}Rn(t,g=>{g&&!a?u():g||(a==null||a.stop(),a=void 0)},{immediate:!0}),cc(()=>{a==null||a.stop()})}const ei=typeof window<"u",VW=ei&&"IntersectionObserver"in window,Vme=ei&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),zme=ei&&"matchMedia"in window&&typeof window.matchMedia=="function";function wq(t,s,a){Hme(t,s),s.set(t,a)}function Hme(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cq(t,s,a){return t.set(YJ(t,s),a),a}function V1(t,s){return t.get(YJ(t,s))}function YJ(t,s,a){if(typeof t=="function"?t===s:t.has(s))return arguments.length<3?s:a;throw new TypeError("Private element is not present on this object")}function XJ(t,s,a){const u=s.length-1;if(u<0)return t===void 0?a:t;for(let g=0;g<u;g++){if(t==null)return a;t=t[s[g]]}return t==null||t[s[u]]===void 0?a:t[s[u]]}function qg(t,s){if(t===s)return!0;if(t instanceof Date&&s instanceof Date&&t.getTime()!==s.getTime()||t!==Object(t)||s!==Object(s))return!1;const a=Object.keys(t);return a.length!==Object.keys(s).length?!1:a.every(u=>qg(t[u],s[u]))}function MU(t,s,a){return t==null||!s||typeof s!="string"?a:t[s]!==void 0?t[s]:(s=s.replace(/\[(\w+)\]/g,".$1"),s=s.replace(/^\./,""),XJ(t,s.split("."),a))}function Ug(t,s,a){if(s===!0)return t===void 0?a:t;if(s==null||typeof s=="boolean")return a;if(t!==Object(t)){if(typeof s!="function")return a;const g=s(t,a);return typeof g>"u"?a:g}if(typeof s=="string")return MU(t,s,a);if(Array.isArray(s))return XJ(t,s,a);if(typeof s!="function")return a;const u=s(t,a);return typeof u>"u"?a:u}function JJ(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(a,u)=>s+u)}function yr(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const a=Number(t);return isNaN(a)?String(t):isFinite(a)?`${a}${s}`:void 0}function BU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function _q(t){let s;return t!==null&&typeof t=="object"&&((s=Object.getPrototypeOf(t))===Object.prototype||s===null)}function QJ(t){if(t&&"$el"in t){const s=t.$el;return(s==null?void 0:s.nodeType)===Node.TEXT_NODE?s.nextElementSibling:s}return t}const FU=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function HH(t,s){return s.every(a=>t.hasOwnProperty(a))}function V8(t,s){const a={};for(const u of s)Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=t[u]);return a}function Sq(t,s,a){const u=Object.create(null),g=Object.create(null);for(const h in t)s.some(x=>x instanceof RegExp?x.test(h):x===h)?u[h]=t[h]:g[h]=t[h];return[u,g]}function kx(t,s){const a={...t};return s.forEach(u=>delete a[u]),a}const eQ=/^on[^a-z]/,tQ=t=>eQ.test(t),Ume=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function z8(t){const[s,a]=Sq(t,[eQ]),u=kx(s,Ume),[g,h]=Sq(a,["class","style","id",/^data-/]);return Object.assign(g,s),Object.assign(h,u),[g,h]}function xf(t){return t==null?[]:Array.isArray(t)?t:[t]}function Wme(t,s){let a=0;const u=function(){for(var g=arguments.length,h=new Array(g),x=0;x<g;x++)h[x]=arguments[x];clearTimeout(a),a=setTimeout(()=>t(...h),le(s))};return u.clear=()=>{clearTimeout(a)},u.immediate=t,u}function wf(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(s,Math.min(a,t))}function kq(t,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+a.repeat(Math.max(0,s-t.length))}function Eq(t,s){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,s-t.length))+t}function Kme(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const a=[];let u=0;for(;u<t.length;)a.push(t.substr(u,s)),u+=s;return a}function Uu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;const u={};for(const g in t)u[g]=t[g];for(const g in s){const h=t[g],x=s[g];if(_q(h)&&_q(x)){u[g]=Uu(h,x,a);continue}if(a&&Array.isArray(h)&&Array.isArray(x)){u[g]=a(h,x);continue}u[g]=x}return u}function nQ(t){return t.map(s=>s.type===lr?nQ(s.children):s).flat()}function NC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(NC.cache.has(t))return NC.cache.get(t);const s=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return NC.cache.set(t,s),s}NC.cache=new Map;function lE(t,s){if(!s||typeof s!="object")return[];if(Array.isArray(s))return s.map(a=>lE(t,a)).flat(1);if(s.suspense)return lE(t,s.ssContent);if(Array.isArray(s.children))return s.children.map(a=>lE(t,a)).flat(1);if(s.component){if(Object.getOwnPropertySymbols(s.component.provides).includes(t))return[s.component];if(s.component.subTree)return lE(t,s.component.subTree).flat(1)}return[]}var Yk=new WeakMap,_C=new WeakMap;class oQ{constructor(s){wq(this,Yk,[]),wq(this,_C,0),this.size=s}get isFull(){return V1(Yk,this).length===this.size}push(s){V1(Yk,this)[V1(_C,this)]=s,Cq(_C,this,(V1(_C,this)+1)%this.size)}values(){return V1(Yk,this).slice(V1(_C,this)).concat(V1(Yk,this).slice(0,V1(_C,this)))}clear(){V1(Yk,this).length=0,Cq(_C,this,0)}}function zW(t){const s=Gl({});Md(()=>{const u=t();for(const g in u)s[g]=u[g]},{flush:"sync"});const a={};for(const u in s)a[u]=gn(()=>s[u]);return a}function i8(t,s){return t.includes(s)}function rQ(t){return t[2].toLowerCase()+t.slice(3)}const Cf=()=>[Function,Array];function Aq(t,s){return s="on"+r0(s),!!(t[s]||t[`${s}Once`]||t[`${s}Capture`]||t[`${s}OnceCapture`]||t[`${s}CaptureOnce`])}function HW(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];if(Array.isArray(t))for(const g of t)g(...a);else typeof t=="function"&&t(...a)}function LD(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const a=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(u=>`${u}${s?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(a)]}function sQ(t,s,a){let u,g=t.indexOf(document.activeElement);const h=s==="next"?1:-1;do g+=h,u=t[g];while((!u||u.offsetParent==null||!((a==null?void 0:a(u))??!0))&&g<t.length&&g>=0);return u}function CD(t,s){var u,g,h,x;const a=LD(t);if(s==null)(t===document.activeElement||!t.contains(document.activeElement))&&((u=a[0])==null||u.focus());else if(s==="first")(g=a[0])==null||g.focus();else if(s==="last")(h=a.at(-1))==null||h.focus();else if(typeof s=="number")(x=a[s])==null||x.focus();else{const w=sQ(a,s);w?w.focus():CD(t,s==="next"?"first":"last")}}function jme(){}function vE(t,s){if(!(ei&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${s})`)))return null;try{return!!t&&t.matches(s)}catch{return null}}function UW(t){return t.some(s=>ID(s)?s.type===Vu?!1:s.type!==lr||UW(s.children):!0)?t:null}function Zme(t,s){if(!ei||t===0)return s(),()=>{};const a=window.setTimeout(s,t);return()=>window.clearTimeout(a)}function Gme(t,s){const a=t.clientX,u=t.clientY,g=s.getBoundingClientRect(),h=g.left,x=g.top,w=g.right,T=g.bottom;return a>=h&&a<=w&&u>=x&&u<=T}function $U(){const t=ho(),s=a=>{t.value=a};return Object.defineProperty(s,"value",{enumerable:!0,get:()=>t.value,set:a=>t.value=a}),Object.defineProperty(s,"el",{enumerable:!0,get:()=>QJ(t.value)}),s}function a8(t){const s=t.key.length===1,a=!t.ctrlKey&&!t.metaKey&&!t.altKey;return s&&a}function VU(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function qme(t){const s={};for(const a in t)s[Ld(a)]=t[a];return s}function Yme(t){const s=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(a=>{let[u,g]=a;return s.includes(u)?!!g:g!==void 0}))}const iQ=["top","bottom"],Xme=["start","end","left","right"];function zU(t,s){let[a,u]=t.split(" ");return u||(u=i8(iQ,a)?"start":i8(Xme,a)?"top":"center"),{side:HU(a,s),align:HU(u,s)}}function HU(t,s){return t==="start"?s?"right":"left":t==="end"?s?"left":"right":t}function UH(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function WH(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Tq(t){return{side:t.align,align:t.side}}function Oq(t){return i8(iQ,t.side)?"y":"x"}class $b{constructor(s){let{x:a,y:u,width:g,height:h}=s;this.x=a,this.y=u,this.width=g,this.height=h}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Dq(t,s){return{x:{before:Math.max(0,s.left-t.left),after:Math.max(0,t.right-s.right)},y:{before:Math.max(0,s.top-t.top),after:Math.max(0,t.bottom-s.bottom)}}}function aQ(t){return Array.isArray(t)?new $b({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function Jme(t){if(t===document.documentElement)return visualViewport?new $b({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new $b({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const s=t.getBoundingClientRect();return new $b({x:s.x,y:s.y,width:t.clientWidth,height:t.clientHeight})}}function WW(t){const s=t.getBoundingClientRect(),a=getComputedStyle(t),u=a.transform;if(u){let g,h,x,w,T;if(u.startsWith("matrix3d("))g=u.slice(9,-1).split(/, /),h=Number(g[0]),x=Number(g[5]),w=Number(g[12]),T=Number(g[13]);else if(u.startsWith("matrix("))g=u.slice(7,-1).split(/, /),h=Number(g[0]),x=Number(g[3]),w=Number(g[4]),T=Number(g[5]);else return new $b(s);const I=a.transformOrigin,R=s.x-w-(1-h)*parseFloat(I),N=s.y-T-(1-x)*parseFloat(I.slice(I.indexOf(" ")+1)),H=h?s.width/h:t.offsetWidth+1,W=x?s.height/x:t.offsetHeight+1;return new $b({x:R,y:N,width:H,height:W})}else return new $b(s)}function cE(t,s,a){if(typeof t.animate>"u")return{finished:Promise.resolve()};let u;try{u=t.animate(s,a)}catch{return{finished:Promise.resolve()}}return typeof u.finished>"u"&&(u.finished=new Promise(g=>{u.onfinish=()=>{g(u)}})),u}const $B=new WeakMap;function Qme(t,s){Object.keys(s).forEach(a=>{if(tQ(a)){const u=rQ(a),g=$B.get(t);if(s[a]==null)g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))});else if(!g||![...g].some(h=>h[0]===u&&h[1]===s[a])){t.addEventListener(u,s[a]);const h=g||new Set;h.add([u,s[a]]),$B.has(t)||$B.set(t,h)}}else s[a]==null?t.removeAttribute(a):t.setAttribute(a,s[a])})}function ege(t,s){Object.keys(s).forEach(a=>{if(tQ(a)){const u=rQ(a),g=$B.get(t);g==null||g.forEach(h=>{const[x,w]=h;x===u&&(t.removeEventListener(u,w),g.delete(h))})}else t.removeAttribute(a)})}const Xk=2.4,Rq=.2126729,Iq=.7151522,Nq=.072175,tge=.55,nge=.58,oge=.57,rge=.62,wB=.03,Pq=1.45,sge=5e-4,ige=1.25,age=1.25,Lq=.078,Mq=12.82051282051282,CB=.06,Bq=.001;function Fq(t,s){const a=(t.r/255)**Xk,u=(t.g/255)**Xk,g=(t.b/255)**Xk,h=(s.r/255)**Xk,x=(s.g/255)**Xk,w=(s.b/255)**Xk;let T=a*Rq+u*Iq+g*Nq,I=h*Rq+x*Iq+w*Nq;if(T<=wB&&(T+=(wB-T)**Pq),I<=wB&&(I+=(wB-I)**Pq),Math.abs(I-T)<sge)return 0;let R;if(I>T){const N=(I**tge-T**nge)*ige;R=N<Bq?0:N<Lq?N-N*Mq*CB:N-CB}else{const N=(I**rge-T**oge)*age;R=N>-Bq?0:N>-Lq?N-N*Mq*CB:N+CB}return R*100}function lQ(t,s){s=Array.isArray(s)?s.slice(0,-1).map(a=>`'${a}'`).join(", ")+` or '${s.at(-1)}'`:`'${s}'`}const l8=.20689655172413793,lge=t=>t>l8**3?Math.cbrt(t):t/(3*l8**2)+4/29,cge=t=>t>l8?t**3:3*l8**2*(t-4/29);function cQ(t){const s=lge,a=s(t[1]);return[116*a-16,500*(s(t[0]/.95047)-a),200*(a-s(t[2]/1.08883))]}function uQ(t){const s=cge,a=(t[0]+16)/116;return[s(a+t[1]/500)*.95047,s(a),s(a-t[2]/200)*1.08883]}const uge=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],dge=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,fge=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],mge=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function dQ(t){const s=Array(3),a=dge,u=uge;for(let g=0;g<3;++g)s[g]=Math.round(wf(a(u[g][0]*t[0]+u[g][1]*t[1]+u[g][2]*t[2]))*255);return{r:s[0],g:s[1],b:s[2]}}function KW(t){let{r:s,g:a,b:u}=t;const g=[0,0,0],h=mge,x=fge;s=h(s/255),a=h(a/255),u=h(u/255);for(let w=0;w<3;++w)g[w]=x[w][0]*s+x[w][1]*a+x[w][2]*u;return g}function UU(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function gge(t){return UU(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const $q=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,hge={rgb:(t,s,a,u)=>({r:t,g:s,b:a,a:u}),rgba:(t,s,a,u)=>({r:t,g:s,b:a,a:u}),hsl:(t,s,a,u)=>Vq({h:t,s,l:a,a:u}),hsla:(t,s,a,u)=>Vq({h:t,s,l:a,a:u}),hsv:(t,s,a,u)=>MD({h:t,s,v:a,a:u}),hsva:(t,s,a,u)=>MD({h:t,s,v:a,a:u})};function Bb(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&$q.test(t)){const{groups:s}=t.match($q),{fn:a,values:u}=s,g=u.split(/,\s*|\s*\/\s*|\s+/).map((h,x)=>h.endsWith("%")||x>0&&x<3&&["hsl","hsla","hsv","hsva"].includes(a)?parseFloat(h)/100:parseFloat(h));return hge[a](...g)}else if(typeof t=="string"){let s=t.startsWith("#")?t.slice(1):t;return[3,4].includes(s.length)?s=s.split("").map(a=>a+a).join(""):[6,8].includes(s.length),bge(s)}else if(typeof t=="object"){if(HH(t,["r","g","b"]))return t;if(HH(t,["h","s","l"]))return MD(fQ(t));if(HH(t,["h","s","v"]))return MD(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function MD(t){const{h:s,s:a,v:u,a:g}=t,h=w=>{const T=(w+s/60)%6;return u-u*a*Math.max(Math.min(T,4-T,1),0)},x=[h(5),h(3),h(1)].map(w=>Math.round(w*255));return{r:x[0],g:x[1],b:x[2],a:g}}function Vq(t){return MD(fQ(t))}function fQ(t){const{h:s,s:a,l:u,a:g}=t,h=u+a*Math.min(u,1-u),x=h===0?0:2-2*u/h;return{h:s,s:x,v:h,a:g}}function _B(t){const s=Math.round(t).toString(16);return("00".substr(0,2-s.length)+s).toUpperCase()}function pge(t){let{r:s,g:a,b:u,a:g}=t;return`#${[_B(s),_B(a),_B(u),g!==void 0?_B(Math.round(g*255)):""].join("")}`}function bge(t){t=vge(t);let[s,a,u,g]=Kme(t,2).map(h=>parseInt(h,16));return g=g===void 0?g:g/255,{r:s,g:a,b:u,a:g}}function vge(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(s=>s+s).join("")),t.length!==6&&(t=kq(kq(t,6),8,"F")),t}function yge(t,s){const a=cQ(KW(t));return a[0]=a[0]+s*10,dQ(uQ(a))}function xge(t,s){const a=cQ(KW(t));return a[0]=a[0]-s*10,dQ(uQ(a))}function wge(t){const s=Bb(t);return KW(s)[1]}function mQ(t){const s=Math.abs(Fq(Bb(0),Bb(t)));return Math.abs(Fq(Bb(16777215),Bb(t)))>Math.min(s,50)?"#fff":"#000"}function Ln(t,s){return a=>Object.keys(t).reduce((u,g)=>{const x=typeof t[g]=="object"&&t[g]!=null&&!Array.isArray(t[g])?t[g]:{type:t[g]};return a&&g in a?u[g]={...x,default:a[g]}:u[g]=x,s&&!u[g].source&&(u[g].source=s),u},{})}const zr=Ln({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function $l(t,s){const a=TE();if(!a)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return a}function jb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const s=$l(t).type;return NC((s==null?void 0:s.aliasName)||(s==null?void 0:s.name))}function Cge(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$l("injectSelf");const{provides:a}=s;if(a&&t in a)return a[t]}const yE=Symbol.for("vuetify:defaults");function _ge(t){return zn(t)}function jW(){const t=Wi(yE);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Ex(t,s){const a=jW(),u=zn(t),g=Dt(()=>{if(le(s==null?void 0:s.disabled))return a.value;const x=le(s==null?void 0:s.scoped),w=le(s==null?void 0:s.reset),T=le(s==null?void 0:s.root);if(u.value==null&&!(x||w||T))return a.value;let I=Uu(u.value,{prev:a.value});if(x)return I;if(w||T){const R=Number(w||1/0);for(let N=0;N<=R&&!(!I||!("prev"in I));N++)I=I.prev;return I&&typeof T=="string"&&T in I&&(I=Uu(Uu(I,{prev:I}),I[T])),I}return I.prev?Uu(I.prev,I):I});return Bd(yE,g),g}function Sge(t,s){return t.props&&(typeof t.props[s]<"u"||typeof t.props[NC(s)]<"u")}function kge(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jW();const u=$l("useDefaults");if(s=s??u.type.name??u.type.__name,!s)throw new Error("[Vuetify] Could not determine component name");const g=Dt(()=>{var T;return(T=a.value)==null?void 0:T[t._as??s]}),h=new Proxy(t,{get(T,I){var W,Z,J,se;const R=Reflect.get(T,I);if(I==="class"||I==="style")return[(W=g.value)==null?void 0:W[I],R].filter(j=>j!=null);if(Sge(u.vnode,I))return R;const N=(Z=g.value)==null?void 0:Z[I];if(N!==void 0)return N;const H=(se=(J=a.value)==null?void 0:J.global)==null?void 0:se[I];return H!==void 0?H:R}}),x=ho();Md(()=>{if(g.value){const T=Object.entries(g.value).filter(I=>{let[R]=I;return R.startsWith(R[0].toUpperCase())});x.value=T.length?Object.fromEntries(T):void 0}else x.value=void 0});function w(){const T=Cge(yE,u);Bd(yE,Dt(()=>x.value?Uu((T==null?void 0:T.value)??{},x.value):T==null?void 0:T.value))}return{props:h,provideSubDefaults:w}}function OE(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Ln(t.props??{},t.name)();const s=Object.keys(t.props).filter(a=>a!=="class"&&a!=="style");t.filterProps=function(u){return V8(u,s)},t.props._as=String,t.setup=function(u,g){const h=jW();if(!h.value)return t._setup(u,g);const{props:x,provideSubDefaults:w}=kge(u,u._as??t.name,h),T=t._setup(x,g);return w(),T}}return t}function Mo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return s=>(t?OE:vJ)(s)}function H8(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;return Mo()({name:a??r0(Ld(t.replace(/__/g,"-"))),props:{tag:{type:String,default:s},...zr()},setup(u,g){let{slots:h}=g;return()=>{var x;return Ub(u.tag,{class:[t,u.class],style:u.style},(x=h.default)==null?void 0:x.call(h))}}})}function gQ(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const s=t.getRootNode();return s!==document&&s.getRootNode({composed:!0})!==document?null:s}const c8="cubic-bezier(0.4, 0, 0.2, 1)",Ege="cubic-bezier(0.0, 0, 0.2, 1)",Age="cubic-bezier(0.4, 0, 1, 1)";function hQ(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(s?Tge(t):ZW(t))return t;t=t.parentElement}return document.scrollingElement}function u8(t,s){const a=[];if(s&&t&&!s.contains(t))return a;for(;t&&(ZW(t)&&a.push(t),t!==s);)t=t.parentElement;return a}function ZW(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(t);return s.overflowY==="scroll"||s.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Tge(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const s=window.getComputedStyle(t);return["scroll","auto"].includes(s.overflowY)}function Oge(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function xr(t){const s=$l("useRender");s.render=t}function Ki(t,s,a){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N=>N,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:N=>N;const h=$l("useProxiedModel"),x=zn(t[s]!==void 0?t[s]:a),w=NC(s),I=Dt(w!==s?()=>{var N,H,W,Z;return t[s],!!(((N=h.vnode.props)!=null&&N.hasOwnProperty(s)||(H=h.vnode.props)!=null&&H.hasOwnProperty(w))&&((W=h.vnode.props)!=null&&W.hasOwnProperty(`onUpdate:${s}`)||(Z=h.vnode.props)!=null&&Z.hasOwnProperty(`onUpdate:${w}`)))}:()=>{var N,H;return t[s],!!((N=h.vnode.props)!=null&&N.hasOwnProperty(s)&&((H=h.vnode.props)!=null&&H.hasOwnProperty(`onUpdate:${s}`)))});Gg(()=>!I.value,()=>{Rn(()=>t[s],N=>{x.value=N})});const R=Dt({get(){const N=t[s];return u(I.value?N:x.value)},set(N){const H=g(N),W=gr(I.value?t[s]:x.value);W===H||u(W)===N||(x.value=H,h==null||h.emit(`update:${s}`,H))}});return Object.defineProperty(R,"externalValue",{get:()=>I.value?t[s]:x.value}),R}const Dge={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"}},zq="$vuetify.",Hq=(t,s)=>t.replace(/\{(\d+)\}/g,(a,u)=>String(s[Number(u)])),pQ=(t,s,a)=>function(u){for(var g=arguments.length,h=new Array(g>1?g-1:0),x=1;x<g;x++)h[x-1]=arguments[x];if(!u.startsWith(zq))return Hq(u,h);const w=u.replace(zq,""),T=t.value&&a.value[t.value],I=s.value&&a.value[s.value];let R=MU(T,w,null);return R||(`${u}${t.value}`,R=MU(I,w,null)),R||(R=u),typeof R!="string"&&(R=u),Hq(R,h)};function GW(t,s){return(a,u)=>new Intl.NumberFormat([t.value,s.value],u).format(a)}function bQ(t,s){return GW(t,s)(.1).includes(",")?",":"."}function KH(t,s,a){const u=Ki(t,s,t[s]??a.value);return u.value=t[s]??a.value,Rn(a,g=>{t[s]==null&&(u.value=a.value)}),u}function vQ(t){return s=>{const a=KH(s,"locale",t.current),u=KH(s,"fallback",t.fallback),g=KH(s,"messages",t.messages);return{name:"vuetify",current:a,fallback:u,messages:g,decimalSeparator:gn(()=>bQ(a,u)),t:pQ(a,u,g),n:GW(a,u),provide:vQ({current:a,fallback:u,messages:g})}}}function Rge(t){const s=ho((t==null?void 0:t.locale)??"en"),a=ho((t==null?void 0:t.fallback)??"en"),u=zn({en:Dge,...t==null?void 0:t.messages});return{name:"vuetify",current:s,fallback:a,messages:u,decimalSeparator:gn(()=>(t==null?void 0:t.decimalSeparator)??bQ(s,a)),t:pQ(s,a,u),n:GW(s,a),provide:vQ({current:s,fallback:a,messages:u})}}const d8=Symbol.for("vuetify:locale");function Ige(t){return t.name!=null}function Nge(t){const s=t!=null&&t.adapter&&Ige(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Rge(t),a=Lge(s,t);return{...s,...a}}function uR(){const t=Wi(d8);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Pge(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Lge(t,s){const a=zn((s==null?void 0:s.rtl)??Pge()),u=Dt(()=>a.value[t.current.value]??!1);return{isRtl:u,rtl:a,rtlClasses:gn(()=>`v-locale--is-${u.value?"rtl":"ltr"}`)}}function Xg(){const t=Wi(d8);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function dR(t){const s=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(s):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(s):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(s):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(s):return{firstDay:6,firstWeekSize:1};case s==="MV":return{firstDay:5,firstWeekSize:1};case s==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Mge(t,s,a){var R;const u=[];let g=[];const h=yQ(t),x=xQ(t),w=a??((R=dR(s))==null?void 0:R.firstDay)??0,T=(h.getDay()-w+7)%7,I=(x.getDay()-w+7)%7;for(let N=0;N<T;N++){const H=new Date(h);H.setDate(H.getDate()-(T-N)),g.push(H)}for(let N=1;N<=x.getDate();N++){const H=new Date(t.getFullYear(),t.getMonth(),N);g.push(H),g.length===7&&(u.push(g),g=[])}for(let N=1;N<7-I;N++){const H=new Date(x);H.setDate(H.getDate()+N),g.push(H)}return g.length>0&&u.push(g),u}function WU(t,s,a){var h;const u=a??((h=dR(s))==null?void 0:h.firstDay)??0,g=new Date(t);for(;g.getDay()!==u;)g.setDate(g.getDate()-1);return g}function Bge(t,s){var g;const a=new Date(t),u=((((g=dR(s))==null?void 0:g.firstDay)??0)+6)%7;for(;a.getDay()!==u;)a.setDate(a.getDate()+1);return a}function yQ(t){return new Date(t.getFullYear(),t.getMonth(),1)}function xQ(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function Fge(t){const s=t.split("-").map(Number);return new Date(s[0],s[1]-1,s[2])}const $ge=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function wQ(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let s;if($ge.test(t))return Fge(t);if(s=Date.parse(t),!isNaN(s))return new Date(s)}return null}const Uq=new Date(2e3,0,2);function Vge(t,s,a){var g;const u=s??((g=dR(t))==null?void 0:g.firstDay)??0;return JJ(7).map(h=>{const x=new Date(Uq);return x.setDate(Uq.getDate()+u+h),new Intl.DateTimeFormat(t,{weekday:a??"narrow"}).format(x)})}function zge(t,s,a,u){const g=wQ(t)??new Date,h=u==null?void 0:u[s];if(typeof h=="function")return h(g,s,a);let x={};switch(s){case"fullDate":x={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":x={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const w=g.getDate(),T=new Intl.DateTimeFormat(a,{month:"long"}).format(g);return`${w} ${T}`;case"normalDateWithWeekday":x={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":x={month:"short",day:"numeric"};break;case"year":x={year:"numeric"};break;case"month":x={month:"long"};break;case"monthShort":x={month:"short"};break;case"monthAndYear":x={month:"long",year:"numeric"};break;case"monthAndDate":x={month:"long",day:"numeric"};break;case"weekday":x={weekday:"long"};break;case"weekdayShort":x={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(a).format(g.getDate());case"hours12h":x={hour:"numeric",hour12:!0};break;case"hours24h":x={hour:"numeric",hour12:!1};break;case"minutes":x={minute:"numeric"};break;case"seconds":x={second:"numeric"};break;case"fullTime":x={hour:"numeric",minute:"numeric"};break;case"fullTime12h":x={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":x={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":x={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":x={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(a,x).format(g).replace(/, /g," ");case"keyboardDateTime12h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(a,x).format(g).replace(/, /g," ");case"keyboardDateTime24h":return x={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(a,x).format(g).replace(/, /g," ");default:x=h??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(a,x).format(g)}function Hge(t,s){const a=t.toJsDate(s),u=a.getFullYear(),g=Eq(String(a.getMonth()+1),2,"0"),h=Eq(String(a.getDate()),2,"0");return`${u}-${g}-${h}`}function Uge(t){const[s,a,u]=t.split("-").map(Number);return new Date(s,a-1,u)}function Wge(t,s){const a=new Date(t);return a.setMinutes(a.getMinutes()+s),a}function Kge(t,s){const a=new Date(t);return a.setHours(a.getHours()+s),a}function VB(t,s){const a=new Date(t);return a.setDate(a.getDate()+s),a}function jge(t,s){const a=new Date(t);return a.setDate(a.getDate()+s*7),a}function Zge(t,s){const a=new Date(t);return a.setDate(1),a.setMonth(a.getMonth()+s),a}function KU(t){return t.getFullYear()}function Gge(t){return t.getMonth()}function qge(t,s,a,u){const g=dR(s),h=a??(g==null?void 0:g.firstDay)??0,x=u??(g==null?void 0:g.firstWeekSize)??1;function w(W){const Z=new Date(W,0,1);return 7-jU(Z,WU(Z,s,h),"days")}let T=KU(t);const I=VB(WU(t,s,h),6);T<KU(I)&&w(T+1)>=x&&T++;const R=new Date(T,0,1),N=w(T),H=N>=x?VB(R,N-7):VB(R,N);return 1+jU(CQ(t),m8(H),"weeks")}function Yge(t){return t.getDate()}function Xge(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function Jge(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function Qge(t){return t.getHours()}function ehe(t){return t.getMinutes()}function the(t){return new Date(t.getFullYear(),0,1)}function nhe(t){return new Date(t.getFullYear(),11,31)}function ohe(t,s){return f8(t,s[0])&&ihe(t,s[1])}function rhe(t){const s=new Date(t);return s instanceof Date&&!isNaN(s.getTime())}function f8(t,s){return t.getTime()>s.getTime()}function she(t,s){return f8(m8(t),m8(s))}function ihe(t,s){return t.getTime()<s.getTime()}function Wq(t,s){return t.getTime()===s.getTime()}function ahe(t,s){return t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}function lhe(t,s){return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}function che(t,s){return t.getFullYear()===s.getFullYear()}function jU(t,s,a){const u=new Date(t),g=new Date(s);switch(a){case"years":return u.getFullYear()-g.getFullYear();case"quarters":return Math.floor((u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12)/4);case"months":return u.getMonth()-g.getMonth()+(u.getFullYear()-g.getFullYear())*12;case"weeks":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60*24));case"hours":return Math.floor((u.getTime()-g.getTime())/(1e3*60*60));case"minutes":return Math.floor((u.getTime()-g.getTime())/(1e3*60));case"seconds":return Math.floor((u.getTime()-g.getTime())/1e3);default:return u.getTime()-g.getTime()}}function uhe(t,s){const a=new Date(t);return a.setHours(s),a}function dhe(t,s){const a=new Date(t);return a.setMinutes(s),a}function fhe(t,s){const a=new Date(t);return a.setMonth(s),a}function mhe(t,s){const a=new Date(t);return a.setDate(s),a}function ghe(t,s){const a=new Date(t);return a.setFullYear(s),a}function m8(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function CQ(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class hhe{constructor(s){this.locale=s.locale,this.formats=s.formats}date(s){return wQ(s)}toJsDate(s){return s}toISO(s){return Hge(this,s)}parseISO(s){return Uge(s)}addMinutes(s,a){return Wge(s,a)}addHours(s,a){return Kge(s,a)}addDays(s,a){return VB(s,a)}addWeeks(s,a){return jge(s,a)}addMonths(s,a){return Zge(s,a)}getWeekArray(s,a){const u=a!==void 0?Number(a):void 0;return Mge(s,this.locale,u)}startOfWeek(s,a){const u=a!==void 0?Number(a):void 0;return WU(s,this.locale,u)}endOfWeek(s){return Bge(s,this.locale)}startOfMonth(s){return yQ(s)}endOfMonth(s){return xQ(s)}format(s,a){return zge(s,a,this.locale,this.formats)}isEqual(s,a){return Wq(s,a)}isValid(s){return rhe(s)}isWithinRange(s,a){return ohe(s,a)}isAfter(s,a){return f8(s,a)}isAfterDay(s,a){return she(s,a)}isBefore(s,a){return!f8(s,a)&&!Wq(s,a)}isSameDay(s,a){return ahe(s,a)}isSameMonth(s,a){return lhe(s,a)}isSameYear(s,a){return che(s,a)}setMinutes(s,a){return dhe(s,a)}setHours(s,a){return uhe(s,a)}setMonth(s,a){return fhe(s,a)}setDate(s,a){return mhe(s,a)}setYear(s,a){return ghe(s,a)}getDiff(s,a,u){return jU(s,a,u)}getWeekdays(s,a){const u=s!==void 0?Number(s):void 0;return Vge(this.locale,u,a)}getYear(s){return KU(s)}getMonth(s){return Gge(s)}getWeek(s,a,u){const g=a!==void 0?Number(a):void 0;return qge(s,this.locale,g,u)}getDate(s){return Yge(s)}getNextMonth(s){return Xge(s)}getPreviousMonth(s){return Jge(s)}getHours(s){return Qge(s)}getMinutes(s){return ehe(s)}startOfDay(s){return m8(s)}endOfDay(s){return CQ(s)}startOfYear(s){return the(s)}endOfYear(s){return nhe(s)}}const phe=Symbol.for("vuetify:date-options"),Kq=Symbol.for("vuetify:date-adapter");function bhe(t,s){const a=Uu({adapter:hhe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:a,instance:vhe(a,s)}}function vhe(t,s){const a=Gl(typeof t.adapter=="function"?new t.adapter({locale:t.locale[s.current.value]??s.current.value,formats:t.formats}):t.adapter);return Rn(s.current,u=>{a.locale=t.locale[u]??u??a.locale}),a}const U8=["sm","md","lg","xl","xxl"],ZU=Symbol.for("vuetify:display"),jq={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},yhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jq;return Uu(jq,t)};function Zq(t){return ei&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Gq(t){return ei&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function qq(t){const s=ei&&!t?window.navigator.userAgent:"ssr";function a(Z){return!!s.match(Z)}const u=a(/android/i),g=a(/iphone|ipad|ipod/i),h=a(/cordova/i),x=a(/electron/i),w=a(/chrome/i),T=a(/edge/i),I=a(/firefox/i),R=a(/opera/i),N=a(/win/i),H=a(/mac/i),W=a(/linux/i);return{android:u,ios:g,cordova:h,electron:x,chrome:w,edge:T,firefox:I,opera:R,win:N,mac:H,linux:W,touch:Vme,ssr:s==="ssr"}}function xhe(t,s){const{thresholds:a,mobileBreakpoint:u}=yhe(t),g=ho(Gq(s)),h=ho(qq(s)),x=Gl({}),w=ho(Zq(s));function T(){g.value=Gq(),w.value=Zq()}function I(){T(),h.value=qq()}return Md(()=>{const R=w.value<a.sm,N=w.value<a.md&&!R,H=w.value<a.lg&&!(N||R),W=w.value<a.xl&&!(H||N||R),Z=w.value<a.xxl&&!(W||H||N||R),J=w.value>=a.xxl,se=R?"xs":N?"sm":H?"md":W?"lg":Z?"xl":"xxl",j=typeof u=="number"?u:a[u],he=w.value<j;x.xs=R,x.sm=N,x.md=H,x.lg=W,x.xl=Z,x.xxl=J,x.smAndUp=!R,x.mdAndUp=!(R||N),x.lgAndUp=!(R||N||H),x.xlAndUp=!(R||N||H||W),x.smAndDown=!(H||W||Z||J),x.mdAndDown=!(W||Z||J),x.lgAndDown=!(Z||J),x.xlAndDown=!J,x.name=se,x.height=g.value,x.width=w.value,x.mobile=he,x.mobileBreakpoint=u,x.platform=h.value,x.thresholds=a}),ei&&(window.addEventListener("resize",T,{passive:!0}),cc(()=>{window.removeEventListener("resize",T)},!0)),{...N8(x),update:I,ssr:!!s}}const _Q=Ln({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function W8(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const a=Wi(ZU);if(!a)throw new Error("Could not find Vuetify display injection");const u=Dt(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?a.width.value<t.mobileBreakpoint:t.mobileBreakpoint?a.width.value<a.thresholds.value[t.mobileBreakpoint]:t.mobile===null?a.mobile.value:!1),g=gn(()=>s?{[`${s}--mobile`]:u.value}:{});return{...a,displayClasses:g,mobile:u}}const SQ=Symbol.for("vuetify:goto");function kQ(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function whe(t){return qW(t)??(document.scrollingElement||document.body)}function qW(t){return typeof t=="string"?document.querySelector(t):QJ(t)}function jH(t,s,a){if(typeof t=="number")return s&&a?-t:t;let u=qW(t),g=0;for(;u;)g+=s?u.offsetLeft:u.offsetTop,u=u.offsetParent;return g}function Che(t,s){return{rtl:s.isRtl,options:Uu(kQ(),t)}}async function Yq(t,s,a,u){const g=a?"scrollLeft":"scrollTop",h=Uu((u==null?void 0:u.options)??kQ(),s),x=u==null?void 0:u.rtl.value,w=(typeof t=="number"?t:qW(t))??0,T=h.container==="parent"&&w instanceof HTMLElement?w.parentElement:whe(h.container),I=typeof h.easing=="function"?h.easing:h.patterns[h.easing];if(!I)throw new TypeError(`Easing function "${h.easing}" not found.`);let R;if(typeof w=="number")R=jH(w,a,x);else if(R=jH(w,a,x)-jH(T,a,x),h.layout){const Z=window.getComputedStyle(w).getPropertyValue("--v-layout-top");Z&&(R-=parseInt(Z,10))}R+=h.offset,R=She(T,R,!!x,!!a);const N=T[g]??0;if(R===N)return Promise.resolve(R);const H=performance.now();return new Promise(W=>requestAnimationFrame(function Z(J){const j=(J-H)/h.duration,he=Math.floor(N+(R-N)*I(wf(j,0,1)));if(T[g]=he,j>=1&&Math.abs(he-T[g])<10)return W(R);if(j>2)return W(T[g]);requestAnimationFrame(Z)}))}function _he(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=Wi(SQ),{isRtl:a}=Xg();if(!s)throw new Error("[Vuetify] Could not find injected goto instance");const u={...s,rtl:gn(()=>s.rtl.value||a.value)};async function g(h,x){return Yq(h,Uu(t,x),!1,u)}return g.horizontal=async(h,x)=>Yq(h,Uu(t,x),!0,u),g}function She(t,s,a,u){const{scrollWidth:g,scrollHeight:h}=t,[x,w]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let T,I;return u?a?(T=-(g-x),I=0):(T=0,I=g-x):(T=0,I=h+-w),wf(s,T,I)}const khe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace"},Ehe={component:t=>Ub(AQ,{...t,class:"mdi"})},zs=[String,Function,Object,Array],GU=Symbol.for("vuetify:icons"),K8=Ln({icon:{type:zs},tag:{type:[String,Object,Function],required:!0}},"icon"),Xq=Mo()({name:"VComponentIcon",props:K8(),setup(t,s){let{slots:a}=s;return()=>{const u=t.icon;return ie(t.tag,null,{default:()=>{var g;return[t.icon?ie(u,null,null):(g=a.default)==null?void 0:g.call(a)]}})}}}),EQ=OE({name:"VSvgIcon",inheritAttrs:!1,props:K8(),setup(t,s){let{attrs:a}=s;return()=>ie(t.tag,Po(a,{style:null}),{default:()=>[te("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(u=>Array.isArray(u)?te("path",{d:u[0],"fill-opacity":u[1]},null):te("path",{d:u},null)):te("path",{d:t.icon},null)])]})}});OE({name:"VLigatureIcon",props:K8(),setup(t){return()=>ie(t.tag,null,{default:()=>[t.icon]})}});const AQ=OE({name:"VClassIcon",props:K8(),setup(t){return()=>ie(t.tag,{class:go(t.icon)},null)}});function Ahe(){return{svg:{component:EQ},class:{component:AQ}}}function The(t){const s=Ahe(),a=(t==null?void 0:t.defaultSet)??"mdi";return a==="mdi"&&!s.mdi&&(s.mdi=Ehe),Uu({defaultSet:a,sets:s,aliases:{...khe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Ohe=t=>{const s=Wi(GU);if(!s)throw new Error("Missing Vuetify Icons provide!");return{iconData:Dt(()=>{var T;const u=Hb(t);if(!u)return{component:Xq};let g=u;if(typeof g=="string"&&(g=g.trim(),g.startsWith("$")&&(g=(T=s.aliases)==null?void 0:T[g.slice(1)])),Array.isArray(g))return{component:EQ,icon:g};if(typeof g!="string")return{component:Xq,icon:g};const h=Object.keys(s.sets).find(I=>typeof g=="string"&&g.startsWith(`${I}:`)),x=h?g.slice(h.length+1):g;return{component:s.sets[h??s.defaultSet].component,icon:x}})}},BD=Symbol.for("vuetify:theme"),vl=Ln({theme:String},"theme");function Jq(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Dhe(){var u,g;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jq();const s=Jq();if(!t)return{...s,isDisabled:!0};const a={};for(const[h,x]of Object.entries(t.themes??{})){const w=x.dark||h==="dark"?(u=s.themes)==null?void 0:u.dark:(g=s.themes)==null?void 0:g.light;a[h]=Uu(w,x)}return Uu(s,{...t,themes:a})}function SC(t,s,a,u){t.push(`${Phe(s,u)} {
`,...a.map(g=>`  ${g};
`),`}
`)}function Qq(t,s){const a=t.dark?2:1,u=t.dark?1:2,g=[];for(const[h,x]of Object.entries(t.colors)){const w=Bb(x);g.push(`--${s}theme-${h}: ${w.r},${w.g},${w.b}`),h.startsWith("on-")||g.push(`--${s}theme-${h}-overlay-multiplier: ${wge(x)>.18?a:u}`)}for(const[h,x]of Object.entries(t.variables)){const w=typeof x=="string"&&x.startsWith("#")?Bb(x):void 0,T=w?`${w.r}, ${w.g}, ${w.b}`:void 0;g.push(`--${s}${h}: ${T??x}`)}return g}function Rhe(t,s,a){const u={};if(a)for(const g of["lighten","darken"]){const h=g==="lighten"?yge:xge;for(const x of JJ(a[g],1))u[`${t}-${g}-${x}`]=pge(h(Bb(s),x))}return u}function Ihe(t,s){if(!s)return{};let a={};for(const u of s.colors){const g=t[u];g&&(a={...a,...Rhe(u,g,s)})}return a}function Nhe(t){const s={};for(const a of Object.keys(t)){if(a.startsWith("on-")||t[`on-${a}`])continue;const u=`on-${a}`,g=Bb(t[a]);s[u]=mQ(g)}return s}function Phe(t,s){if(!s)return t;const a=`:where(${s})`;return t===":root"?a:`${a} ${t}`}function Lhe(t,s,a){const u=Mhe(t,s);u&&(u.innerHTML=a)}function Mhe(t,s){if(!ei)return null;let a=document.getElementById(t);return a||(a=document.createElement("style"),a.id=t,a.type="text/css",s&&a.setAttribute("nonce",s),document.head.appendChild(a)),a}function Bhe(t){const s=Dhe(t),a=ho(s.defaultTheme),u=zn(s.themes),g=ho("light"),h=Dt({get(){return a.value==="system"?g.value:a.value},set(j){a.value=j}}),x=Dt(()=>{const j={};for(const[he,ae]of Object.entries(u.value)){const U={...ae.colors,...Ihe(ae.colors,s.variations)};j[he]={...ae,colors:{...U,...Nhe(U)}}}return j}),w=gn(()=>x.value[h.value]),T=Dt(()=>{var U;const j=[],he=s.unimportant?"":" !important",ae=s.scoped?s.prefix:"";(U=w.value)!=null&&U.dark&&SC(j,":root",["color-scheme: dark"],s.scope),SC(j,":root",Qq(w.value,s.prefix),s.scope);for(const[de,oe]of Object.entries(x.value))SC(j,`.${s.prefix}theme--${de}`,[`color-scheme: ${oe.dark?"dark":"normal"}`,...Qq(oe,s.prefix)],s.scope);if(s.utilities){const de=[],oe=[],Ve=new Set(Object.values(x.value).flatMap(Me=>Object.keys(Me.colors)));for(const Me of Ve)Me.startsWith("on-")?SC(oe,`.${Me}`,[`color: rgb(var(--${s.prefix}theme-${Me}))${he}`],s.scope):(SC(de,`.${ae}bg-${Me}`,[`--${s.prefix}theme-overlay-multiplier: var(--${s.prefix}theme-${Me}-overlay-multiplier)`,`background-color: rgb(var(--${s.prefix}theme-${Me}))${he}`,`color: rgb(var(--${s.prefix}theme-on-${Me}))${he}`],s.scope),SC(oe,`.${ae}text-${Me}`,[`color: rgb(var(--${s.prefix}theme-${Me}))${he}`],s.scope),SC(oe,`.${ae}border-${Me}`,[`--${s.prefix}border-color: var(--${s.prefix}theme-${Me})`],s.scope));j.push(...de,...oe)}return j.map((de,oe)=>oe===0?de:`    ${de}`).join("")}),I=gn(()=>s.isDisabled?void 0:`${s.prefix}theme--${h.value}`),R=gn(()=>Object.keys(x.value));if(zme){let he=function(){g.value=j.matches?"dark":"light"};var se=he;const j=window.matchMedia("(prefers-color-scheme: dark)");he(),j.addEventListener("change",he,{passive:!0}),wW()&&cc(()=>{j.removeEventListener("change",he)})}function N(j){if(s.isDisabled)return;const he=j._context.provides.usehead;if(he){let de=function(){return{style:[{textContent:T.value,id:s.stylesheetId,nonce:s.cspNonce||!1}]}};var ae=de;if(he.push){const oe=he.push(de);ei&&Rn(T,()=>{oe.patch(de)})}else ei?(he.addHeadObjs(gn(de)),Md(()=>he.updateDOM())):he.addHeadObjs(de())}else{let de=function(){Lhe(s.stylesheetId,s.cspNonce,T.value)};var U=de;ei?Rn(T,de,{immediate:!0}):de()}}function H(j){R.value.includes(j)&&(h.value=j)}function W(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.value;const he=j.indexOf(h.value),ae=he===-1?0:(he+1)%j.length;H(j[ae])}function Z(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];W(j)}const J=new Proxy(h,{get(j,he){return Reflect.get(j,he)},set(j,he,ae){return he==="value"&&lQ(`theme.global.name.value = ${ae}`,`theme.change('${ae}')`),Reflect.set(j,he,ae)}});return{install:N,change:H,cycle:W,toggle:Z,isDisabled:s.isDisabled,name:h,themes:u,current:w,computedThemes:x,prefix:s.prefix,themeClasses:I,styles:T,global:{name:J,current:w}}}function uc(t){$l("provideTheme");const s=Wi(BD,null);if(!s)throw new Error("Could not find Vuetify theme injection");const a=gn(()=>t.theme??s.name.value),u=gn(()=>s.themes.value[a.value]),g=gn(()=>s.isDisabled?void 0:`${s.prefix}theme--${a.value}`),h={...s,name:a,current:u,themeClasses:g};return Bd(BD,h),h}function Fhe(){$l("useTheme");const t=Wi(BD,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function xE(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const a=$U(),u=zn();if(ei){const g=new ResizeObserver(h=>{h.length&&(s==="content"?u.value=h[0].contentRect:u.value=h[0].target.getBoundingClientRect())});Dc(()=>{g.disconnect()}),Rn(()=>a.el,(h,x)=>{x&&(g.unobserve(x),u.value=void 0),h&&g.observe(h)},{flush:"post"})}return{resizeRef:a,contentRect:AE(u)}}const g8=Symbol.for("vuetify:layout"),TQ=Symbol.for("vuetify:layout-item"),eY=1e3,$he=Ln({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),OQ=Ln({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Vhe(){const t=Wi(g8);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function DQ(t){const s=Wi(g8);if(!s)throw new Error("[Vuetify] Could not find injected layout");const a=t.id??`layout-item-${s0()}`,u=$l("useLayoutItem");Bd(TQ,{id:a});const g=ho(!1);M8(()=>g.value=!0),IW(()=>g.value=!1);const{layoutItemStyles:h,layoutItemScrimStyles:x}=s.register(u,{...t,active:Dt(()=>g.value?!1:t.active.value),id:a});return Dc(()=>s.unregister(a)),{layoutItemStyles:h,layoutRect:s.layoutRect,layoutItemScrimStyles:x}}const zhe=(t,s,a,u)=>{let g={top:0,left:0,right:0,bottom:0};const h=[{id:"",layer:{...g}}];for(const x of t){const w=s.get(x),T=a.get(x),I=u.get(x);if(!w||!T||!I)continue;const R={...g,[w.value]:parseInt(g[w.value],10)+(I.value?parseInt(T.value,10):0)};h.push({id:x,layer:R}),g=R}return h};function Hhe(t){const s=Wi(g8,null),a=Dt(()=>s?s.rootZIndex.value-100:eY),u=zn([]),g=Gl(new Map),h=Gl(new Map),x=Gl(new Map),w=Gl(new Map),T=Gl(new Map),{resizeRef:I,contentRect:R}=xE(),N=Dt(()=>{const oe=new Map,Ve=t.overlaps??[];for(const Me of Ve.filter(Xe=>Xe.includes(":"))){const[Xe,rt]=Me.split(":");if(!u.value.includes(Xe)||!u.value.includes(rt))continue;const Oe=g.get(Xe),Te=g.get(rt),D=h.get(Xe),qe=h.get(rt);!Oe||!Te||!D||!qe||(oe.set(rt,{position:Oe.value,amount:parseInt(D.value,10)}),oe.set(Xe,{position:Te.value,amount:-parseInt(qe.value,10)}))}return oe}),H=Dt(()=>{const oe=[...new Set([...x.values()].map(Me=>Me.value))].sort((Me,Xe)=>Me-Xe),Ve=[];for(const Me of oe){const Xe=u.value.filter(rt=>{var Oe;return((Oe=x.get(rt))==null?void 0:Oe.value)===Me});Ve.push(...Xe)}return zhe(Ve,g,h,w)}),W=Dt(()=>!Array.from(T.values()).some(oe=>oe.value)),Z=Dt(()=>H.value[H.value.length-1].layer),J=gn(()=>({"--v-layout-left":yr(Z.value.left),"--v-layout-right":yr(Z.value.right),"--v-layout-top":yr(Z.value.top),"--v-layout-bottom":yr(Z.value.bottom),...W.value?void 0:{transition:"none"}})),se=Dt(()=>H.value.slice(1).map((oe,Ve)=>{let{id:Me}=oe;const{layer:Xe}=H.value[Ve],rt=h.get(Me),Oe=g.get(Me);return{id:Me,...Xe,size:Number(rt.value),position:Oe.value}})),j=oe=>se.value.find(Ve=>Ve.id===oe),he=$l("createLayout"),ae=ho(!1);Ku(()=>{ae.value=!0}),Bd(g8,{register:(oe,Ve)=>{let{id:Me,order:Xe,position:rt,layoutSize:Oe,elementSize:Te,active:D,disableTransitions:qe,absolute:lt}=Ve;x.set(Me,Xe),g.set(Me,rt),h.set(Me,Oe),w.set(Me,D),qe&&T.set(Me,qe);const Yt=lE(TQ,he==null?void 0:he.vnode).indexOf(oe);Yt>-1?u.value.splice(Yt,0,Me):u.value.push(Me);const ct=Dt(()=>se.value.findIndex(Le=>Le.id===Me)),kn=Dt(()=>a.value+H.value.length*2-ct.value*2),Et=Dt(()=>{const Le=rt.value==="left"||rt.value==="right",ft=rt.value==="right",po=rt.value==="bottom",Ht=Te.value??Oe.value,Tn=Ht===0?"%":"px",nn={[rt.value]:0,zIndex:kn.value,transform:`translate${Le?"X":"Y"}(${(D.value?0:-(Ht===0?100:Ht))*(ft||po?-1:1)}${Tn})`,position:lt.value||a.value!==eY?"absolute":"fixed",...W.value?void 0:{transition:"none"}};if(!ae.value)return nn;const Q=se.value[ct.value];if(!Q)throw new Error(`[Vuetify] Could not find layout item "${Me}"`);const co=N.value.get(Me);return co&&(Q[co.position]+=co.amount),{...nn,height:Le?`calc(100% - ${Q.top}px - ${Q.bottom}px)`:Te.value?`${Te.value}px`:void 0,left:ft?void 0:`${Q.left}px`,right:ft?`${Q.right}px`:void 0,top:rt.value!=="bottom"?`${Q.top}px`:void 0,bottom:rt.value!=="top"?`${Q.bottom}px`:void 0,width:Le?Te.value?`${Te.value}px`:void 0:`calc(100% - ${Q.left}px - ${Q.right}px)`}}),Qe=Dt(()=>({zIndex:kn.value-1}));return{layoutItemStyles:Et,layoutItemScrimStyles:Qe,zIndex:kn}},unregister:oe=>{x.delete(oe),g.delete(oe),h.delete(oe),w.delete(oe),T.delete(oe),u.value=u.value.filter(Ve=>Ve!==oe)},mainRect:Z,mainStyles:J,getLayoutItem:j,items:se,layoutRect:R,rootZIndex:a});const U=gn(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),de=gn(()=>({zIndex:s?a.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:U,layoutStyles:de,getLayoutItem:j,items:se,layoutRect:R,layoutRef:I}}function RQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:s,...a}=t,u=Uu(s,a),{aliases:g={},components:h={},directives:x={}}=u,w=yx();return w.run(()=>{const T=_ge(u.defaults),I=xhe(u.display,u.ssr),R=Bhe(u.theme),N=The(u.icons),H=Nge(u.locale),W=bhe(u.date,H),Z=Che(u.goTo,H);function J(j){for(const ae in x)j.directive(ae,x[ae]);for(const ae in h)j.component(ae,h[ae]);for(const ae in g)j.component(ae,OE({...g[ae],name:ae,aliasName:g[ae].name}));const he=yx();if(he.run(()=>{R.install(j)}),j.onUnmount(()=>he.stop()),j.provide(yE,T),j.provide(ZU,I),j.provide(BD,R),j.provide(GU,N),j.provide(d8,H),j.provide(phe,W.options),j.provide(Kq,W.instance),j.provide(SQ,Z),ei&&u.ssr)if(j.$nuxt)j.$nuxt.hook("app:suspense:resolve",()=>{I.update()});else{const{mount:ae}=j;j.mount=function(){const U=ae(...arguments);return Jo(()=>I.update()),j.mount=ae,U}}j.mixin({computed:{$vuetify(){return Gl({defaults:Jk.call(this,yE),display:Jk.call(this,ZU),theme:Jk.call(this,BD),icons:Jk.call(this,GU),locale:Jk.call(this,d8),date:Jk.call(this,Kq)})}}})}function se(){w.stop()}return{install:J,unmount:se,defaults:T,display:I,theme:R,icons:N,locale:H,date:W,goTo:Z}})}const Uhe="3.9.0";RQ.version=Uhe;function Jk(t){var u,g;const s=this.$,a=((u=s.parent)==null?void 0:u.provides)??((g=s.vnode.appContext)==null?void 0:g.provides);if(a&&t in a)return a[t]}const Whe=RQ({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}});/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let IQ;const j8=t=>IQ=t,NQ=Symbol();function qU(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var _D;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(_D||(_D={}));function Khe(){const t=yx(!0),s=t.run(()=>zn({}));let a=[],u=[];const g=OW({install(h){j8(g),g._a=h,h.provide(NQ,g),h.config.globalProperties.$pinia=g,u.forEach(x=>a.push(x)),u=[]},use(h){return this._a?a.push(h):u.push(h),this},_p:a,_a:null,_e:t,_s:new Map,state:s});return g}const PQ=()=>{};function tY(t,s,a,u=PQ){t.push(s);const g=()=>{const h=t.indexOf(s);h>-1&&(t.splice(h,1),u())};return!a&&wW()&&cc(g),g}function Qk(t,...s){t.slice().forEach(a=>{a(...s)})}const jhe=t=>t(),nY=Symbol(),ZH=Symbol();function YU(t,s){t instanceof Map&&s instanceof Map?s.forEach((a,u)=>t.set(u,a)):t instanceof Set&&s instanceof Set&&s.forEach(t.add,t);for(const a in s){if(!s.hasOwnProperty(a))continue;const u=s[a],g=t[a];qU(g)&&qU(u)&&t.hasOwnProperty(a)&&!Qs(u)&&!bx(u)?t[a]=YU(g,u):t[a]=u}return t}const Zhe=Symbol();function Ghe(t){return!qU(t)||!t.hasOwnProperty(Zhe)}const{assign:cx}=Object;function qhe(t){return!!(Qs(t)&&t.effect)}function Yhe(t,s,a,u){const{state:g,actions:h,getters:x}=s,w=a.state.value[t];let T;function I(){w||(a.state.value[t]=g?g():{});const R=N8(a.state.value[t]);return cx(R,h,Object.keys(x||{}).reduce((N,H)=>(N[H]=OW(Dt(()=>{j8(a);const W=a._s.get(t);return x[H].call(W,W)})),N),{}))}return T=LQ(t,I,s,a,u,!0),T}function LQ(t,s,a={},u,g,h){let x;const w=cx({actions:{}},a),T={deep:!0};let I,R,N=[],H=[],W;const Z=u.state.value[t];!h&&!Z&&(u.state.value[t]={}),zn({});let J;function se(Me){let Xe;I=R=!1,typeof Me=="function"?(Me(u.state.value[t]),Xe={type:_D.patchFunction,storeId:t,events:W}):(YU(u.state.value[t],Me),Xe={type:_D.patchObject,payload:Me,storeId:t,events:W});const rt=J=Symbol();Jo().then(()=>{J===rt&&(I=!0)}),R=!0,Qk(N,Xe,u.state.value[t])}const j=h?function(){const{state:Xe}=a,rt=Xe?Xe():{};this.$patch(Oe=>{cx(Oe,rt)})}:PQ;function he(){x.stop(),N=[],H=[],u._s.delete(t)}const ae=(Me,Xe="")=>{if(nY in Me)return Me[ZH]=Xe,Me;const rt=function(){j8(u);const Oe=Array.from(arguments),Te=[],D=[];function qe(Yt){Te.push(Yt)}function lt(Yt){D.push(Yt)}Qk(H,{args:Oe,name:rt[ZH],store:de,after:qe,onError:lt});let zt;try{zt=Me.apply(this&&this.$id===t?this:de,Oe)}catch(Yt){throw Qk(D,Yt),Yt}return zt instanceof Promise?zt.then(Yt=>(Qk(Te,Yt),Yt)).catch(Yt=>(Qk(D,Yt),Promise.reject(Yt))):(Qk(Te,zt),zt)};return rt[nY]=!0,rt[ZH]=Xe,rt},U={_p:u,$id:t,$onAction:tY.bind(null,H),$patch:se,$reset:j,$subscribe(Me,Xe={}){const rt=tY(N,Me,Xe.detached,()=>Oe()),Oe=x.run(()=>Rn(()=>u.state.value[t],Te=>{(Xe.flush==="sync"?R:I)&&Me({storeId:t,type:_D.direct,events:W},Te)},cx({},T,Xe)));return rt},$dispose:he},de=Gl(U);u._s.set(t,de);const Ve=(u._a&&u._a.runWithContext||jhe)(()=>u._e.run(()=>(x=yx()).run(()=>s({action:ae}))));for(const Me in Ve){const Xe=Ve[Me];if(Qs(Xe)&&!qhe(Xe)||bx(Xe))h||(Z&&Ghe(Xe)&&(Qs(Xe)?Xe.value=Z[Me]:YU(Xe,Z[Me])),u.state.value[t][Me]=Xe);else if(typeof Xe=="function"){const rt=ae(Xe,Me);Ve[Me]=rt,w.actions[Me]=Xe}}return cx(de,Ve),cx(gr(de),Ve),Object.defineProperty(de,"$state",{get:()=>u.state.value[t],set:Me=>{se(Xe=>{cx(Xe,Me)})}}),u._p.forEach(Me=>{cx(de,x.run(()=>Me({store:de,app:u._a,pinia:u,options:w})))}),Z&&h&&a.hydrate&&a.hydrate(de.$state,Z),I=!0,R=!0,de}/*! #__NO_SIDE_EFFECTS__ */function su(t,s,a){let u,g;const h=typeof s=="function";typeof t=="string"?(u=t,g=h?a:s):(g=t,u=t.id);function x(w,T){const I=Tfe();return w=w||(I?Wi(NQ,null):null),w&&j8(w),w=IQ,w._s.has(u)||(h?LQ(u,s,g,w):Yhe(u,g,w)),w._s.get(u)}return x.$id=u,x}const Xhe=Khe();/*!
  * shared v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const oY=typeof window<"u",MQ=(t,s=!1)=>s?Symbol.for(t):Symbol(t),Jhe=(t,s,a)=>Qhe({l:t,k:s,s:a}),Qhe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),vf=t=>typeof t=="number"&&isFinite(t),h8=t=>FQ(t)==="[object RegExp]",epe=t=>zu(t)&&Object.keys(t).length===0,DE=Object.assign,tpe=Object.create,Wu=(t=null)=>tpe(t);let rY;const YW=()=>rY||(rY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Wu());function sY(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const npe=Object.prototype.hasOwnProperty;function ip(t,s){return npe.call(t,s)}const Wb=Array.isArray,bl=t=>typeof t=="function",ws=t=>typeof t=="string",Nd=t=>typeof t=="boolean",Ja=t=>t!==null&&typeof t=="object",ope=t=>Ja(t)&&bl(t.then)&&bl(t.catch),BQ=Object.prototype.toString,FQ=t=>BQ.call(t),zu=t=>FQ(t)==="[object Object]",rpe=t=>t==null?"":Wb(t)||zu(t)&&t.toString===BQ?JSON.stringify(t,null,2):String(t);function XW(t,s=""){return t.reduce((a,u,g)=>g===0?a+u:a+s+u,"")}function spe(t,s){typeof console<"u"&&(console.warn("[intlify] "+t),s&&console.warn(s.stack))}const SB=t=>!Ja(t)||Wb(t);function zB(t,s){if(SB(t)||SB(s))throw new Error("Invalid value");const a=[{src:t,des:s}];for(;a.length;){const{src:u,des:g}=a.pop();Object.keys(u).forEach(h=>{h!=="__proto__"&&(Ja(u[h])&&!Ja(g[h])&&(g[h]=Array.isArray(u[h])?[]:Wu()),SB(g[h])||SB(u[h])?g[h]=u[h]:a.push({src:u[h],des:g[h]}))})}}/*!
  * message-compiler v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ipe(t,s,a){return{line:t,column:s,offset:a}}function XU(t,s,a){return{start:t,end:s}}const Ci={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},ape=17;function Z8(t,s,a={}){const{domain:u,messages:g,args:h}=a,x=t,w=new SyntaxError(String(x));return w.code=t,s&&(w.location=s),w.domain=u,w}function lpe(t){throw t}const z1=" ",cpe="\r",Dd=`
`,upe="\u2028",dpe="\u2029";function fpe(t){const s=t;let a=0,u=1,g=1,h=0;const x=Ve=>s[Ve]===cpe&&s[Ve+1]===Dd,w=Ve=>s[Ve]===Dd,T=Ve=>s[Ve]===dpe,I=Ve=>s[Ve]===upe,R=Ve=>x(Ve)||w(Ve)||T(Ve)||I(Ve),N=()=>a,H=()=>u,W=()=>g,Z=()=>h,J=Ve=>x(Ve)||T(Ve)||I(Ve)?Dd:s[Ve],se=()=>J(a),j=()=>J(a+h);function he(){return h=0,R(a)&&(u++,g=0),x(a)&&a++,a++,g++,s[a]}function ae(){return x(a+h)&&h++,h++,s[a+h]}function U(){a=0,u=1,g=1,h=0}function de(Ve=0){h=Ve}function oe(){const Ve=a+h;for(;Ve!==a;)he();h=0}return{index:N,line:H,column:W,peekOffset:Z,charAt:J,currentChar:se,currentPeek:j,next:he,peek:ae,reset:U,resetPeek:de,skipToPeek:oe}}const ix=void 0,mpe=".",iY="'",gpe="tokenizer";function hpe(t,s={}){const a=s.location!==!1,u=fpe(t),g=()=>u.index(),h=()=>ipe(u.line(),u.column(),u.index()),x=h(),w=g(),T={currentType:13,offset:w,startLoc:x,endLoc:x,lastType:13,lastOffset:w,lastStartLoc:x,lastEndLoc:x,braceNest:0,inLinked:!1,text:""},I=()=>T,{onError:R}=s;function N(Ce,Ne,je,...gt){const sn=I();if(Ne.column+=je,Ne.offset+=je,R){const Ut=a?XU(sn.startLoc,Ne):null,bn=Z8(Ce,Ut,{domain:gpe,args:gt});R(bn)}}function H(Ce,Ne,je){Ce.endLoc=h(),Ce.currentType=Ne;const gt={type:Ne};return a&&(gt.loc=XU(Ce.startLoc,Ce.endLoc)),je!=null&&(gt.value=je),gt}const W=Ce=>H(Ce,13);function Z(Ce,Ne){return Ce.currentChar()===Ne?(Ce.next(),Ne):(N(Ci.EXPECTED_TOKEN,h(),0,Ne),"")}function J(Ce){let Ne="";for(;Ce.currentPeek()===z1||Ce.currentPeek()===Dd;)Ne+=Ce.currentPeek(),Ce.peek();return Ne}function se(Ce){const Ne=J(Ce);return Ce.skipToPeek(),Ne}function j(Ce){if(Ce===ix)return!1;const Ne=Ce.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne===95}function he(Ce){if(Ce===ix)return!1;const Ne=Ce.charCodeAt(0);return Ne>=48&&Ne<=57}function ae(Ce,Ne){const{currentType:je}=Ne;if(je!==2)return!1;J(Ce);const gt=j(Ce.currentPeek());return Ce.resetPeek(),gt}function U(Ce,Ne){const{currentType:je}=Ne;if(je!==2)return!1;J(Ce);const gt=Ce.currentPeek()==="-"?Ce.peek():Ce.currentPeek(),sn=he(gt);return Ce.resetPeek(),sn}function de(Ce,Ne){const{currentType:je}=Ne;if(je!==2)return!1;J(Ce);const gt=Ce.currentPeek()===iY;return Ce.resetPeek(),gt}function oe(Ce,Ne){const{currentType:je}=Ne;if(je!==7)return!1;J(Ce);const gt=Ce.currentPeek()===".";return Ce.resetPeek(),gt}function Ve(Ce,Ne){const{currentType:je}=Ne;if(je!==8)return!1;J(Ce);const gt=j(Ce.currentPeek());return Ce.resetPeek(),gt}function Me(Ce,Ne){const{currentType:je}=Ne;if(!(je===7||je===11))return!1;J(Ce);const gt=Ce.currentPeek()===":";return Ce.resetPeek(),gt}function Xe(Ce,Ne){const{currentType:je}=Ne;if(je!==9)return!1;const gt=()=>{const Ut=Ce.currentPeek();return Ut==="{"?j(Ce.peek()):Ut==="@"||Ut==="|"||Ut===":"||Ut==="."||Ut===z1||!Ut?!1:Ut===Dd?(Ce.peek(),gt()):Oe(Ce,!1)},sn=gt();return Ce.resetPeek(),sn}function rt(Ce){J(Ce);const Ne=Ce.currentPeek()==="|";return Ce.resetPeek(),Ne}function Oe(Ce,Ne=!0){const je=(sn=!1,Ut="")=>{const bn=Ce.currentPeek();return bn==="{"||bn==="@"||!bn?sn:bn==="|"?!(Ut===z1||Ut===Dd):bn===z1?(Ce.peek(),je(!0,z1)):bn===Dd?(Ce.peek(),je(!0,Dd)):!0},gt=je();return Ne&&Ce.resetPeek(),gt}function Te(Ce,Ne){const je=Ce.currentChar();return je===ix?ix:Ne(je)?(Ce.next(),je):null}function D(Ce){const Ne=Ce.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36}function qe(Ce){return Te(Ce,D)}function lt(Ce){const Ne=Ce.charCodeAt(0);return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57||Ne===95||Ne===36||Ne===45}function zt(Ce){return Te(Ce,lt)}function Yt(Ce){const Ne=Ce.charCodeAt(0);return Ne>=48&&Ne<=57}function ct(Ce){return Te(Ce,Yt)}function kn(Ce){const Ne=Ce.charCodeAt(0);return Ne>=48&&Ne<=57||Ne>=65&&Ne<=70||Ne>=97&&Ne<=102}function Et(Ce){return Te(Ce,kn)}function Qe(Ce){let Ne="",je="";for(;Ne=ct(Ce);)je+=Ne;return je}function Le(Ce){let Ne="";for(;;){const je=Ce.currentChar();if(je==="{"||je==="}"||je==="@"||je==="|"||!je)break;if(je===z1||je===Dd)if(Oe(Ce))Ne+=je,Ce.next();else{if(rt(Ce))break;Ne+=je,Ce.next()}else Ne+=je,Ce.next()}return Ne}function ft(Ce){se(Ce);let Ne="",je="";for(;Ne=zt(Ce);)je+=Ne;return Ce.currentChar()===ix&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),je}function po(Ce){se(Ce);let Ne="";return Ce.currentChar()==="-"?(Ce.next(),Ne+=`-${Qe(Ce)}`):Ne+=Qe(Ce),Ce.currentChar()===ix&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne}function Ht(Ce){return Ce!==iY&&Ce!==Dd}function Tn(Ce){se(Ce),Z(Ce,"'");let Ne="",je="";for(;Ne=Te(Ce,Ht);)Ne==="\\"?je+=nn(Ce):je+=Ne;const gt=Ce.currentChar();return gt===Dd||gt===ix?(N(Ci.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,h(),0),gt===Dd&&(Ce.next(),Z(Ce,"'")),je):(Z(Ce,"'"),je)}function nn(Ce){const Ne=Ce.currentChar();switch(Ne){case"\\":case"'":return Ce.next(),`\\${Ne}`;case"u":return Q(Ce,Ne,4);case"U":return Q(Ce,Ne,6);default:return N(Ci.UNKNOWN_ESCAPE_SEQUENCE,h(),0,Ne),""}}function Q(Ce,Ne,je){Z(Ce,Ne);let gt="";for(let sn=0;sn<je;sn++){const Ut=Et(Ce);if(!Ut){N(Ci.INVALID_UNICODE_ESCAPE_SEQUENCE,h(),0,`\\${Ne}${gt}${Ce.currentChar()}`);break}gt+=Ut}return`\\${Ne}${gt}`}function co(Ce){return Ce!=="{"&&Ce!=="}"&&Ce!==z1&&Ce!==Dd}function Kt(Ce){se(Ce);let Ne="",je="";for(;Ne=Te(Ce,co);)je+=Ne;return je}function pn(Ce){let Ne="",je="";for(;Ne=qe(Ce);)je+=Ne;return je}function We(Ce){const Ne=je=>{const gt=Ce.currentChar();return gt==="{"||gt==="@"||gt==="|"||gt==="("||gt===")"||!gt||gt===z1?je:(je+=gt,Ce.next(),Ne(je))};return Ne("")}function et(Ce){se(Ce);const Ne=Z(Ce,"|");return se(Ce),Ne}function xe(Ce,Ne){let je=null;switch(Ce.currentChar()){case"{":return Ne.braceNest>=1&&N(Ci.NOT_ALLOW_NEST_PLACEHOLDER,h(),0),Ce.next(),je=H(Ne,2,"{"),se(Ce),Ne.braceNest++,je;case"}":return Ne.braceNest>0&&Ne.currentType===2&&N(Ci.EMPTY_PLACEHOLDER,h(),0),Ce.next(),je=H(Ne,3,"}"),Ne.braceNest--,Ne.braceNest>0&&se(Ce),Ne.inLinked&&Ne.braceNest===0&&(Ne.inLinked=!1),je;case"@":return Ne.braceNest>0&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),je=Ae(Ce,Ne)||W(Ne),Ne.braceNest=0,je;default:{let sn=!0,Ut=!0,bn=!0;if(rt(Ce))return Ne.braceNest>0&&N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),je=H(Ne,1,et(Ce)),Ne.braceNest=0,Ne.inLinked=!1,je;if(Ne.braceNest>0&&(Ne.currentType===4||Ne.currentType===5||Ne.currentType===6))return N(Ci.UNTERMINATED_CLOSING_BRACE,h(),0),Ne.braceNest=0,$e(Ce,Ne);if(sn=ae(Ce,Ne))return je=H(Ne,4,ft(Ce)),se(Ce),je;if(Ut=U(Ce,Ne))return je=H(Ne,5,po(Ce)),se(Ce),je;if(bn=de(Ce,Ne))return je=H(Ne,6,Tn(Ce)),se(Ce),je;if(!sn&&!Ut&&!bn)return je=H(Ne,12,Kt(Ce)),N(Ci.INVALID_TOKEN_IN_PLACEHOLDER,h(),0,je.value),se(Ce),je;break}}return je}function Ae(Ce,Ne){const{currentType:je}=Ne;let gt=null;const sn=Ce.currentChar();switch((je===7||je===8||je===11||je===9)&&(sn===Dd||sn===z1)&&N(Ci.INVALID_LINKED_FORMAT,h(),0),sn){case"@":return Ce.next(),gt=H(Ne,7,"@"),Ne.inLinked=!0,gt;case".":return se(Ce),Ce.next(),H(Ne,8,".");case":":return se(Ce),Ce.next(),H(Ne,9,":");default:return rt(Ce)?(gt=H(Ne,1,et(Ce)),Ne.braceNest=0,Ne.inLinked=!1,gt):oe(Ce,Ne)||Me(Ce,Ne)?(se(Ce),Ae(Ce,Ne)):Ve(Ce,Ne)?(se(Ce),H(Ne,11,pn(Ce))):Xe(Ce,Ne)?(se(Ce),sn==="{"?xe(Ce,Ne)||gt:H(Ne,10,We(Ce))):(je===7&&N(Ci.INVALID_LINKED_FORMAT,h(),0),Ne.braceNest=0,Ne.inLinked=!1,$e(Ce,Ne))}}function $e(Ce,Ne){let je={type:13};if(Ne.braceNest>0)return xe(Ce,Ne)||W(Ne);if(Ne.inLinked)return Ae(Ce,Ne)||W(Ne);switch(Ce.currentChar()){case"{":return xe(Ce,Ne)||W(Ne);case"}":return N(Ci.UNBALANCED_CLOSING_BRACE,h(),0),Ce.next(),H(Ne,3,"}");case"@":return Ae(Ce,Ne)||W(Ne);default:{if(rt(Ce))return je=H(Ne,1,et(Ce)),Ne.braceNest=0,Ne.inLinked=!1,je;if(Oe(Ce))return H(Ne,0,Le(Ce));break}}return je}function be(){const{currentType:Ce,offset:Ne,startLoc:je,endLoc:gt}=T;return T.lastType=Ce,T.lastOffset=Ne,T.lastStartLoc=je,T.lastEndLoc=gt,T.offset=g(),T.startLoc=h(),u.currentChar()===ix?H(T,13):$e(u,T)}return{nextToken:be,currentOffset:g,currentPosition:h,context:I}}const ppe="parser",bpe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function vpe(t,s,a){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const u=parseInt(s||a,16);return u<=55295||u>=57344?String.fromCodePoint(u):""}}}function ype(t={}){const s=t.location!==!1,{onError:a}=t;function u(j,he,ae,U,...de){const oe=j.currentPosition();if(oe.offset+=U,oe.column+=U,a){const Ve=s?XU(ae,oe):null,Me=Z8(he,Ve,{domain:ppe,args:de});a(Me)}}function g(j,he,ae){const U={type:j};return s&&(U.start=he,U.end=he,U.loc={start:ae,end:ae}),U}function h(j,he,ae,U){s&&(j.end=he,j.loc&&(j.loc.end=ae))}function x(j,he){const ae=j.context(),U=g(3,ae.offset,ae.startLoc);return U.value=he,h(U,j.currentOffset(),j.currentPosition()),U}function w(j,he){const ae=j.context(),{lastOffset:U,lastStartLoc:de}=ae,oe=g(5,U,de);return oe.index=parseInt(he,10),j.nextToken(),h(oe,j.currentOffset(),j.currentPosition()),oe}function T(j,he){const ae=j.context(),{lastOffset:U,lastStartLoc:de}=ae,oe=g(4,U,de);return oe.key=he,j.nextToken(),h(oe,j.currentOffset(),j.currentPosition()),oe}function I(j,he){const ae=j.context(),{lastOffset:U,lastStartLoc:de}=ae,oe=g(9,U,de);return oe.value=he.replace(bpe,vpe),j.nextToken(),h(oe,j.currentOffset(),j.currentPosition()),oe}function R(j){const he=j.nextToken(),ae=j.context(),{lastOffset:U,lastStartLoc:de}=ae,oe=g(8,U,de);return he.type!==11?(u(j,Ci.UNEXPECTED_EMPTY_LINKED_MODIFIER,ae.lastStartLoc,0),oe.value="",h(oe,U,de),{nextConsumeToken:he,node:oe}):(he.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ae.lastStartLoc,0,Ob(he)),oe.value=he.value||"",h(oe,j.currentOffset(),j.currentPosition()),{node:oe})}function N(j,he){const ae=j.context(),U=g(7,ae.offset,ae.startLoc);return U.value=he,h(U,j.currentOffset(),j.currentPosition()),U}function H(j){const he=j.context(),ae=g(6,he.offset,he.startLoc);let U=j.nextToken();if(U.type===8){const de=R(j);ae.modifier=de.node,U=de.nextConsumeToken||j.nextToken()}switch(U.type!==9&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(U)),U=j.nextToken(),U.type===2&&(U=j.nextToken()),U.type){case 10:U.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(U)),ae.key=N(j,U.value||"");break;case 4:U.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(U)),ae.key=T(j,U.value||"");break;case 5:U.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(U)),ae.key=w(j,U.value||"");break;case 6:U.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(U)),ae.key=I(j,U.value||"");break;default:{u(j,Ci.UNEXPECTED_EMPTY_LINKED_KEY,he.lastStartLoc,0);const de=j.context(),oe=g(7,de.offset,de.startLoc);return oe.value="",h(oe,de.offset,de.startLoc),ae.key=oe,h(ae,de.offset,de.startLoc),{nextConsumeToken:U,node:ae}}}return h(ae,j.currentOffset(),j.currentPosition()),{node:ae}}function W(j){const he=j.context(),ae=he.currentType===1?j.currentOffset():he.offset,U=he.currentType===1?he.endLoc:he.startLoc,de=g(2,ae,U);de.items=[];let oe=null;do{const Xe=oe||j.nextToken();switch(oe=null,Xe.type){case 0:Xe.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(Xe)),de.items.push(x(j,Xe.value||""));break;case 5:Xe.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(Xe)),de.items.push(w(j,Xe.value||""));break;case 4:Xe.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(Xe)),de.items.push(T(j,Xe.value||""));break;case 6:Xe.value==null&&u(j,Ci.UNEXPECTED_LEXICAL_ANALYSIS,he.lastStartLoc,0,Ob(Xe)),de.items.push(I(j,Xe.value||""));break;case 7:{const rt=H(j);de.items.push(rt.node),oe=rt.nextConsumeToken||null;break}}}while(he.currentType!==13&&he.currentType!==1);const Ve=he.currentType===1?he.lastOffset:j.currentOffset(),Me=he.currentType===1?he.lastEndLoc:j.currentPosition();return h(de,Ve,Me),de}function Z(j,he,ae,U){const de=j.context();let oe=U.items.length===0;const Ve=g(1,he,ae);Ve.cases=[],Ve.cases.push(U);do{const Me=W(j);oe||(oe=Me.items.length===0),Ve.cases.push(Me)}while(de.currentType!==13);return oe&&u(j,Ci.MUST_HAVE_MESSAGES_IN_PLURAL,ae,0),h(Ve,j.currentOffset(),j.currentPosition()),Ve}function J(j){const he=j.context(),{offset:ae,startLoc:U}=he,de=W(j);return he.currentType===13?de:Z(j,ae,U,de)}function se(j){const he=hpe(j,DE({},t)),ae=he.context(),U=g(0,ae.offset,ae.startLoc);return s&&U.loc&&(U.loc.source=j),U.body=J(he),t.onCacheKey&&(U.cacheKey=t.onCacheKey(j)),ae.currentType!==13&&u(he,Ci.UNEXPECTED_LEXICAL_ANALYSIS,ae.lastStartLoc,0,j[ae.offset]||""),h(U,he.currentOffset(),he.currentPosition()),U}return{parse:se}}function Ob(t){if(t.type===13)return"EOF";const s=(t.value||"").replace(/\r?\n/gu,"\\n");return s.length>10?s.slice(0,9)+"":s}function xpe(t,s={}){const a={ast:t,helpers:new Set};return{context:()=>a,helper:h=>(a.helpers.add(h),h)}}function aY(t,s){for(let a=0;a<t.length;a++)JW(t[a],s)}function JW(t,s){switch(t.type){case 1:aY(t.cases,s),s.helper("plural");break;case 2:aY(t.items,s);break;case 6:{JW(t.key,s),s.helper("linked"),s.helper("type");break}case 5:s.helper("interpolate"),s.helper("list");break;case 4:s.helper("interpolate"),s.helper("named");break}}function wpe(t,s={}){const a=xpe(t);a.helper("normalize"),t.body&&JW(t.body,a);const u=a.context();t.helpers=Array.from(u.helpers)}function Cpe(t){const s=t.body;return s.type===2?lY(s):s.cases.forEach(a=>lY(a)),t}function lY(t){if(t.items.length===1){const s=t.items[0];(s.type===3||s.type===9)&&(t.static=s.value,delete s.value)}else{const s=[];for(let a=0;a<t.items.length;a++){const u=t.items[a];if(!(u.type===3||u.type===9)||u.value==null)break;s.push(u.value)}if(s.length===t.items.length){t.static=XW(s);for(let a=0;a<t.items.length;a++){const u=t.items[a];(u.type===3||u.type===9)&&delete u.value}}}}function aE(t){switch(t.t=t.type,t.type){case 0:{const s=t;aE(s.body),s.b=s.body,delete s.body;break}case 1:{const s=t,a=s.cases;for(let u=0;u<a.length;u++)aE(a[u]);s.c=a,delete s.cases;break}case 2:{const s=t,a=s.items;for(let u=0;u<a.length;u++)aE(a[u]);s.i=a,delete s.items,s.static&&(s.s=s.static,delete s.static);break}case 3:case 9:case 8:case 7:{const s=t;s.value&&(s.v=s.value,delete s.value);break}case 6:{const s=t;aE(s.key),s.k=s.key,delete s.key,s.modifier&&(aE(s.modifier),s.m=s.modifier,delete s.modifier);break}case 5:{const s=t;s.i=s.index,delete s.index;break}case 4:{const s=t;s.k=s.key,delete s.key;break}}delete t.type}function _pe(t,s){const{filename:a,breakLineCode:u,needIndent:g}=s,h=s.location!==!1,x={filename:a,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:u,needIndent:g,indentLevel:0};h&&t.loc&&(x.source=t.loc.source);const w=()=>x;function T(J,se){x.code+=J}function I(J,se=!0){const j=se?u:"";T(g?j+"  ".repeat(J):j)}function R(J=!0){const se=++x.indentLevel;J&&I(se)}function N(J=!0){const se=--x.indentLevel;J&&I(se)}function H(){I(x.indentLevel)}return{context:w,push:T,indent:R,deindent:N,newline:H,helper:J=>`_${J}`,needIndent:()=>x.needIndent}}function Spe(t,s){const{helper:a}=t;t.push(`${a("linked")}(`),wE(t,s.key),s.modifier?(t.push(", "),wE(t,s.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function kpe(t,s){const{helper:a,needIndent:u}=t;t.push(`${a("normalize")}([`),t.indent(u());const g=s.items.length;for(let h=0;h<g&&(wE(t,s.items[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}function Epe(t,s){const{helper:a,needIndent:u}=t;if(s.cases.length>1){t.push(`${a("plural")}([`),t.indent(u());const g=s.cases.length;for(let h=0;h<g&&(wE(t,s.cases[h]),h!==g-1);h++)t.push(", ");t.deindent(u()),t.push("])")}}function Ape(t,s){s.body?wE(t,s.body):t.push("null")}function wE(t,s){const{helper:a}=t;switch(s.type){case 0:Ape(t,s);break;case 1:Epe(t,s);break;case 2:kpe(t,s);break;case 6:Spe(t,s);break;case 8:t.push(JSON.stringify(s.value),s);break;case 7:t.push(JSON.stringify(s.value),s);break;case 5:t.push(`${a("interpolate")}(${a("list")}(${s.index}))`,s);break;case 4:t.push(`${a("interpolate")}(${a("named")}(${JSON.stringify(s.key)}))`,s);break;case 9:t.push(JSON.stringify(s.value),s);break;case 3:t.push(JSON.stringify(s.value),s);break}}const Tpe=(t,s={})=>{const a=ws(s.mode)?s.mode:"normal",u=ws(s.filename)?s.filename:"message.intl";s.sourceMap;const g=s.breakLineCode!=null?s.breakLineCode:a==="arrow"?";":`
`,h=s.needIndent?s.needIndent:a!=="arrow",x=t.helpers||[],w=_pe(t,{filename:u,breakLineCode:g,needIndent:h});w.push(a==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),w.indent(h),x.length>0&&(w.push(`const { ${XW(x.map(R=>`${R}: _${R}`),", ")} } = ctx`),w.newline()),w.push("return "),wE(w,t),w.deindent(h),w.push("}"),delete t.helpers;const{code:T,map:I}=w.context();return{ast:t,code:T,map:I?I.toJSON():void 0}};function Ope(t,s={}){const a=DE({},s),u=!!a.jit,g=!!a.minify,h=a.optimize==null?!0:a.optimize,w=ype(a).parse(t);return u?(h&&Cpe(w),g&&aE(w),{ast:w,code:""}):(wpe(w,a),Tpe(w,a))}/*!
  * core-base v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Dpe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(YW().__INTLIFY_PROD_DEVTOOLS__=!1)}function vx(t){return Ja(t)&&QW(t)===0&&(ip(t,"b")||ip(t,"body"))}const $Q=["b","body"];function Rpe(t){return Ax(t,$Q)}const VQ=["c","cases"];function Ipe(t){return Ax(t,VQ,[])}const zQ=["s","static"];function Npe(t){return Ax(t,zQ)}const HQ=["i","items"];function Ppe(t){return Ax(t,HQ,[])}const UQ=["t","type"];function QW(t){return Ax(t,UQ)}const WQ=["v","value"];function kB(t,s){const a=Ax(t,WQ);if(a!=null)return a;throw FD(s)}const KQ=["m","modifier"];function Lpe(t){return Ax(t,KQ)}const jQ=["k","key"];function Mpe(t){const s=Ax(t,jQ);if(s)return s;throw FD(6)}function Ax(t,s,a){for(let u=0;u<s.length;u++){const g=s[u];if(ip(t,g)&&t[g]!=null)return t[g]}return a}const Bpe=[...$Q,...VQ,...zQ,...HQ,...jQ,...KQ,...WQ,...UQ];function FD(t){return new Error(`unhandled node type: ${t}`)}function GH(t){return a=>Fpe(a,t)}function Fpe(t,s){const a=Rpe(s);if(a==null)throw FD(0);if(QW(a)===1){const h=Ipe(a);return t.plural(h.reduce((x,w)=>[...x,cY(t,w)],[]))}else return cY(t,a)}function cY(t,s){const a=Npe(s);if(a!=null)return t.type==="text"?a:t.normalize([a]);{const u=Ppe(s).reduce((g,h)=>[...g,JU(t,h)],[]);return t.normalize(u)}}function JU(t,s){const a=QW(s);switch(a){case 3:return kB(s,a);case 9:return kB(s,a);case 4:{const u=s;if(ip(u,"k")&&u.k)return t.interpolate(t.named(u.k));if(ip(u,"key")&&u.key)return t.interpolate(t.named(u.key));throw FD(a)}case 5:{const u=s;if(ip(u,"i")&&vf(u.i))return t.interpolate(t.list(u.i));if(ip(u,"index")&&vf(u.index))return t.interpolate(t.list(u.index));throw FD(a)}case 6:{const u=s,g=Lpe(u),h=Mpe(u);return t.linked(JU(t,h),g?JU(t,g):void 0,t.type)}case 7:return kB(s,a);case 8:return kB(s,a);default:throw new Error(`unhandled node on format message part: ${a}`)}}const $pe=t=>t;let EB=Wu();function Vpe(t,s={}){let a=!1;const u=s.onError||lpe;return s.onError=g=>{a=!0,u(g)},{...Ope(t,s),detectError:a}}function zpe(t,s){if(ws(t)){Nd(s.warnHtmlMessage)&&s.warnHtmlMessage;const u=(s.onCacheKey||$pe)(t),g=EB[u];if(g)return g;const{ast:h,detectError:x}=Vpe(t,{...s,location:!1,jit:!0}),w=GH(h);return x?w:EB[u]=w}else{const a=t.cacheKey;if(a){const u=EB[a];return u||(EB[a]=GH(t))}else return GH(t)}}let $D=null;function Hpe(t){$D=t}function Upe(t,s,a){$D&&$D.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:s,meta:a})}const Wpe=Kpe("function:translate");function Kpe(t){return s=>$D&&$D.emit(t,s)}const HB={INVALID_ARGUMENT:ape,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},jpe=24;function UB(t){return Z8(t,null,void 0)}function Zpe(t,s){return s.locale!=null?uY(s.locale):uY(t.locale)}let qH;function uY(t){if(ws(t))return t;if(bl(t)){if(t.resolvedOnce&&qH!=null)return qH;if(t.constructor.name==="Function"){const s=t();if(ope(s))throw UB(HB.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return qH=s}else throw UB(HB.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw UB(HB.NOT_SUPPORT_LOCALE_TYPE)}function Gpe(t,s,a){return[...new Set([a,...Wb(s)?s:Ja(s)?Object.keys(s):ws(s)?[s]:[a]])]}function qpe(t,s){return Ja(t)?t[s]:null}const Ype="11.1.9",ZQ=-1,QU="en-US",dY=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Xpe(){return{upper:(t,s)=>s==="text"&&ws(t)?t.toUpperCase():s==="vnode"&&Ja(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,s)=>s==="text"&&ws(t)?t.toLowerCase():s==="vnode"&&Ja(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,s)=>s==="text"&&ws(t)?dY(t):s==="vnode"&&Ja(t)&&"__v_isVNode"in t?dY(t.children):t}}let GQ;function Jpe(t){GQ=t}let qQ=null;const Qpe=t=>{qQ=t},ebe=()=>qQ;let YQ=null;const fY=t=>{YQ=t},tbe=()=>YQ;let mY=0;function nbe(t={}){const s=bl(t.onWarn)?t.onWarn:spe,a=ws(t.version)?t.version:Ype,u=ws(t.locale)||bl(t.locale)?t.locale:QU,g=bl(u)?QU:u,h=Wb(t.fallbackLocale)||zu(t.fallbackLocale)||ws(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:g,x=zu(t.messages)?t.messages:YH(g),w=zu(t.datetimeFormats)?t.datetimeFormats:YH(g),T=zu(t.numberFormats)?t.numberFormats:YH(g),I=DE(Wu(),t.modifiers,Xpe()),R=t.pluralRules||Wu(),N=bl(t.missing)?t.missing:null,H=Nd(t.missingWarn)||h8(t.missingWarn)?t.missingWarn:!0,W=Nd(t.fallbackWarn)||h8(t.fallbackWarn)?t.fallbackWarn:!0,Z=!!t.fallbackFormat,J=!!t.unresolving,se=bl(t.postTranslation)?t.postTranslation:null,j=zu(t.processor)?t.processor:null,he=Nd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,ae=!!t.escapeParameter,U=bl(t.messageCompiler)?t.messageCompiler:GQ,de=bl(t.messageResolver)?t.messageResolver:qpe,oe=bl(t.localeFallbacker)?t.localeFallbacker:Gpe,Ve=Ja(t.fallbackContext)?t.fallbackContext:void 0,Me=t,Xe=Ja(Me.__datetimeFormatters)?Me.__datetimeFormatters:new Map,rt=Ja(Me.__numberFormatters)?Me.__numberFormatters:new Map,Oe=Ja(Me.__meta)?Me.__meta:{};mY++;const Te={version:a,cid:mY,locale:u,fallbackLocale:h,messages:x,modifiers:I,pluralRules:R,missing:N,missingWarn:H,fallbackWarn:W,fallbackFormat:Z,unresolving:J,postTranslation:se,processor:j,warnHtmlMessage:he,escapeParameter:ae,messageCompiler:U,messageResolver:de,localeFallbacker:oe,fallbackContext:Ve,onWarn:s,__meta:Oe};return Te.datetimeFormats=w,Te.numberFormats=T,Te.__datetimeFormatters=Xe,Te.__numberFormatters=rt,__INTLIFY_PROD_DEVTOOLS__&&Upe(Te,a,Oe),Te}const YH=t=>({[t]:Wu()});function obe(t,s,a,u,g){const{missing:h,onWarn:x}=t;if(h!==null){const w=h(t,a,s,g);return ws(w)?w:s}else return s}function lD(t,s,a){const u=t;u.__localeChainCache=new Map,t.localeFallbacker(t,a,s)}function rbe(t,s){return t===s?!1:t.split("-")[0]===s.split("-")[0]}function sbe(t,s){const a=s.indexOf(t);if(a===-1)return!1;for(let u=a+1;u<s.length;u++)if(rbe(t,s[u]))return!0;return!1}const ibe=t=>t,abe=t=>"",lbe="text",cbe=t=>t.length===0?"":XW(t),ube=rpe;function gY(t,s){return t=Math.abs(t),s===2?t?t>1?1:0:1:t?Math.min(t,2):0}function dbe(t){const s=vf(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(vf(t.named.count)||vf(t.named.n))?vf(t.named.count)?t.named.count:vf(t.named.n)?t.named.n:s:s}function fbe(t,s){s.count||(s.count=t),s.n||(s.n=t)}function mbe(t={}){const s=t.locale,a=dbe(t),u=Ja(t.pluralRules)&&ws(s)&&bl(t.pluralRules[s])?t.pluralRules[s]:gY,g=Ja(t.pluralRules)&&ws(s)&&bl(t.pluralRules[s])?gY:void 0,h=j=>j[u(a,j.length,g)],x=t.list||[],w=j=>x[j],T=t.named||Wu();vf(t.pluralIndex)&&fbe(a,T);const I=j=>T[j];function R(j,he){const ae=bl(t.messages)?t.messages(j,!!he):Ja(t.messages)?t.messages[j]:!1;return ae||(t.parent?t.parent.message(j):abe)}const N=j=>t.modifiers?t.modifiers[j]:ibe,H=zu(t.processor)&&bl(t.processor.normalize)?t.processor.normalize:cbe,W=zu(t.processor)&&bl(t.processor.interpolate)?t.processor.interpolate:ube,Z=zu(t.processor)&&ws(t.processor.type)?t.processor.type:lbe,se={list:w,named:I,plural:h,linked:(j,...he)=>{const[ae,U]=he;let de="text",oe="";he.length===1?Ja(ae)?(oe=ae.modifier||oe,de=ae.type||de):ws(ae)&&(oe=ae||oe):he.length===2&&(ws(ae)&&(oe=ae||oe),ws(U)&&(de=U||de));const Ve=R(j,!0)(se),Me=de==="vnode"&&Wb(Ve)&&oe?Ve[0]:Ve;return oe?N(oe)(Me,de):Me},message:R,type:Z,interpolate:W,normalize:H,values:DE(Wu(),x,T)};return se}const hY=()=>"",rp=t=>bl(t);function gbe(t,...s){const{fallbackFormat:a,postTranslation:u,unresolving:g,messageCompiler:h,fallbackLocale:x,messages:w}=t,[T,I]=QQ(...s),R=Nd(I.missingWarn)?I.missingWarn:t.missingWarn,N=Nd(I.fallbackWarn)?I.fallbackWarn:t.fallbackWarn,H=Nd(I.escapeParameter)?I.escapeParameter:t.escapeParameter,W=!!I.resolvedMessage,Z=ws(I.default)||Nd(I.default)?Nd(I.default)?h?T:()=>T:I.default:a?h?T:()=>T:null,J=a||Z!=null&&(ws(Z)||bl(Z)),se=Zpe(t,I);H&&hbe(I);let[j,he,ae]=W?[T,se,w[se]||Wu()]:XQ(t,T,se,x,N,R),U=j,de=T;if(!W&&!(ws(U)||vx(U)||rp(U))&&J&&(U=Z,de=U),!W&&(!(ws(U)||vx(U)||rp(U))||!ws(he)))return g?ZQ:T;let oe=!1;const Ve=()=>{oe=!0},Me=rp(U)?U:JQ(t,T,he,U,de,Ve);if(oe)return U;const Xe=vbe(t,he,ae,I),rt=mbe(Xe),Oe=pbe(t,Me,rt),Te=u?u(Oe,T):Oe;if(__INTLIFY_PROD_DEVTOOLS__){const D={timestamp:Date.now(),key:ws(T)?T:rp(U)?U.key:"",locale:he||(rp(U)?U.locale:""),format:ws(U)?U:rp(U)?U.source:"",message:Te};D.meta=DE({},t.__meta,ebe()||{}),Wpe(D)}return Te}function hbe(t){Wb(t.list)?t.list=t.list.map(s=>ws(s)?sY(s):s):Ja(t.named)&&Object.keys(t.named).forEach(s=>{ws(t.named[s])&&(t.named[s]=sY(t.named[s]))})}function XQ(t,s,a,u,g,h){const{messages:x,onWarn:w,messageResolver:T,localeFallbacker:I}=t,R=I(t,u,a);let N=Wu(),H,W=null;const Z="translate";for(let J=0;J<R.length&&(H=R[J],N=x[H]||Wu(),(W=T(N,s))===null&&(W=N[s]),!(ws(W)||vx(W)||rp(W)));J++)if(!sbe(H,R)){const se=obe(t,s,H,h,Z);se!==s&&(W=se)}return[W,H,N]}function JQ(t,s,a,u,g,h){const{messageCompiler:x,warnHtmlMessage:w}=t;if(rp(u)){const I=u;return I.locale=I.locale||a,I.key=I.key||s,I}if(x==null){const I=()=>u;return I.locale=a,I.key=s,I}const T=x(u,bbe(t,a,g,u,w,h));return T.locale=a,T.key=s,T.source=u,T}function pbe(t,s,a){return s(a)}function QQ(...t){const[s,a,u]=t,g=Wu();if(!ws(s)&&!vf(s)&&!rp(s)&&!vx(s))throw UB(HB.INVALID_ARGUMENT);const h=vf(s)?String(s):(rp(s),s);return vf(a)?g.plural=a:ws(a)?g.default=a:zu(a)&&!epe(a)?g.named=a:Wb(a)&&(g.list=a),vf(u)?g.plural=u:ws(u)?g.default=u:zu(u)&&DE(g,u),[h,g]}function bbe(t,s,a,u,g,h){return{locale:s,key:a,warnHtmlMessage:g,onError:x=>{throw h&&h(x),x},onCacheKey:x=>Jhe(s,a,x)}}function vbe(t,s,a,u){const{modifiers:g,pluralRules:h,messageResolver:x,fallbackLocale:w,fallbackWarn:T,missingWarn:I,fallbackContext:R}=t,H={locale:s,modifiers:g,pluralRules:h,messages:(W,Z)=>{let J=x(a,W);if(J==null&&(R||Z)){const[,,se]=XQ(R||t,W,s,w,T,I);J=x(se,W)}if(ws(J)||vx(J)){let se=!1;const he=JQ(t,W,s,J,W,()=>{se=!0});return se?hY:he}else return rp(J)?J:hY}};return t.processor&&(H.processor=t.processor),u.list&&(H.list=u.list),u.named&&(H.named=u.named),vf(u.plural)&&(H.pluralIndex=u.plural),H}Dpe();/*!
  * petite-vue-i18n v11.1.9
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const ybe="11.1.9";function xbe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(YW().__INTLIFY_PROD_DEVTOOLS__=!1)}const p8={UNEXPECTED_RETURN_TYPE:jpe,UNEXPECTED_ERROR:32};function b8(t,...s){return Z8(t,null,void 0)}const wbe=MQ("__setPluralRules");function VD(t){if(!Ja(t)||vx(t))return t;for(const s in t)if(ip(t,s))if(!s.includes("."))Ja(t[s])&&VD(t[s]);else{const a=s.split("."),u=a.length-1;let g=t,h=!1;for(let x=0;x<u;x++){if(a[x]==="__proto__")throw new Error(`unsafe key: ${a[x]}`);if(a[x]in g||(g[a[x]]=Wu()),!Ja(g[a[x]])){h=!0;break}g=g[a[x]]}if(h||(vx(g)?Bpe.includes(a[u])||delete t[s]:(g[a[u]]=t[s],delete t[s])),!vx(g)){const x=g[a[u]];Ja(x)&&VD(x)}}return t}function Cbe(t,s){const{messages:a,__i18n:u,messageResolver:g,flatJson:h}=s,x=zu(a)?a:Wb(u)?Wu():{[t]:Wu()};if(Wb(u)&&u.forEach(w=>{if("locale"in w&&"resource"in w){const{locale:T,resource:I}=w;T?(x[T]=x[T]||Wu(),zB(I,x[T])):zB(I,x)}else ws(w)&&zB(JSON.parse(w),x)}),g==null&&h)for(const w in x)ip(x,w)&&VD(x[w]);return x}function _be(t){return t.type}const pY="__INTLIFY_META__";let bY=0;function vY(t){return(s,a,u,g)=>t(a,u,TE()||void 0,g)}const Sbe=()=>{const t=TE();let s=null;return t&&(s=_be(t)[pY])?{[pY]:s}:null};function kbe(t={}){const{__root:s,__injectWithOption:a}=t,u=s===void 0,g=t.flatJson,h=oY?zn:ho;let x=Nd(t.inheritLocale)?t.inheritLocale:!0;const w=h(s&&x?s.locale.value:ws(t.locale)?t.locale:QU),T=h(s&&x?s.fallbackLocale.value:ws(t.fallbackLocale)||Wb(t.fallbackLocale)||zu(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:w.value),I=h(Cbe(w.value,t));let R=s?s.missingWarn:Nd(t.missingWarn)||h8(t.missingWarn)?t.missingWarn:!0,N=s?s.fallbackWarn:Nd(t.fallbackWarn)||h8(t.fallbackWarn)?t.fallbackWarn:!0,H=s?s.fallbackRoot:Nd(t.fallbackRoot)?t.fallbackRoot:!0,W=!!t.fallbackFormat,Z=bl(t.missing)?t.missing:null,J=bl(t.missing)?vY(t.missing):null,se=bl(t.postTranslation)?t.postTranslation:null,j=s?s.warnHtmlMessage:Nd(t.warnHtmlMessage)?t.warnHtmlMessage:!0,he=!!t.escapeParameter;const ae=s?s.modifiers:zu(t.modifiers)?t.modifiers:{};let U=t.pluralRules||s&&s.pluralRules,de;de=(()=>{u&&fY(null);const Le={version:ybe,locale:w.value,fallbackLocale:T.value,messages:I.value,modifiers:ae,pluralRules:U,missing:J===null?void 0:J,missingWarn:R,fallbackWarn:N,fallbackFormat:W,unresolving:!0,postTranslation:se===null?void 0:se,warnHtmlMessage:j,escapeParameter:he,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}},ft=nbe(Le);return u&&fY(ft),ft})(),lD(de,w.value,T.value);function Ve(){return[w.value,T.value,I.value]}const Me=Dt({get:()=>w.value,set:Le=>{de.locale=Le,w.value=Le}}),Xe=Dt({get:()=>T.value,set:Le=>{de.fallbackLocale=Le,T.value=Le,lD(de,w.value,Le)}}),rt=Dt(()=>I.value);function Oe(){return bl(se)?se:null}function Te(Le){se=Le,de.postTranslation=Le}function D(){return Z}function qe(Le){Le!==null&&(J=vY(Le)),Z=Le,de.missing=J}const lt=(Le,ft,po,Ht,Tn,nn)=>{Ve();let Q;try{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=s?tbe():void 0),Q=Le(de)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(de.fallbackContext=void 0)}if(vf(Q)&&Q===ZQ||po==="translate exists"){const[co,Kt]=ft();return s&&H?Ht(s):Tn(co)}else{if(nn(Q))return Q;throw b8(p8.UNEXPECTED_RETURN_TYPE)}};function zt(...Le){return lt(ft=>Reflect.apply(gbe,null,[ft,...Le]),()=>QQ(...Le),"translate",ft=>Reflect.apply(ft.t,ft,[...Le]),ft=>ft,ft=>ws(ft))}function Yt(Le){U=Le,de.pluralRules=U}function ct(Le){return I.value[Le]||{}}function kn(Le,ft){if(g){const po={[Le]:ft};for(const Ht in po)ip(po,Ht)&&VD(po[Ht]);ft=po[Le]}I.value[Le]=ft,de.messages=I.value}function Et(Le,ft){I.value[Le]=I.value[Le]||{};const po={[Le]:ft};if(g)for(const Ht in po)ip(po,Ht)&&VD(po[Ht]);ft=po[Le],zB(ft,I.value[Le]),de.messages=I.value}return bY++,s&&oY&&(Rn(s.locale,Le=>{x&&(w.value=Le,de.locale=Le,lD(de,w.value,T.value))}),Rn(s.fallbackLocale,Le=>{x&&(T.value=Le,de.fallbackLocale=Le,lD(de,w.value,T.value))})),{id:bY,locale:Me,fallbackLocale:Xe,get inheritLocale(){return x},set inheritLocale(Le){x=Le,Le&&s&&(w.value=s.locale.value,T.value=s.fallbackLocale.value,lD(de,w.value,T.value))},get availableLocales(){return Object.keys(I.value).sort()},messages:rt,get modifiers(){return ae},get pluralRules(){return U||{}},get isGlobal(){return u},get missingWarn(){return R},set missingWarn(Le){R=Le,de.missingWarn=R},get fallbackWarn(){return N},set fallbackWarn(Le){N=Le,de.fallbackWarn=N},get fallbackRoot(){return H},set fallbackRoot(Le){H=Le},get fallbackFormat(){return W},set fallbackFormat(Le){W=Le,de.fallbackFormat=W},get warnHtmlMessage(){return j},set warnHtmlMessage(Le){j=Le,de.warnHtmlMessage=Le},get escapeParameter(){return he},set escapeParameter(Le){he=Le,de.escapeParameter=Le},t:zt,getLocaleMessage:ct,setLocaleMessage:kn,mergeLocaleMessage:Et,getPostTranslationHandler:Oe,setPostTranslationHandler:Te,getMissingHandler:D,setMissingHandler:qe,[wbe]:Yt}}function Ebe(t={}){const s=Nd(t.globalInjection)?t.globalInjection:!0,a=new Map,[u,g]=Abe(t),h=MQ("");function x(R){return a.get(R)||null}function w(R,N){a.set(R,N)}function T(R){a.delete(R)}const I={get mode(){return"composition"},async install(R,...N){if(R.__VUE_I18N_SYMBOL__=h,R.provide(R.__VUE_I18N_SYMBOL__,I),zu(N[0])){const Z=N[0];I.__composerExtend=Z.__composerExtend,I.__vueI18nExtend=Z.__vueI18nExtend}let H=null;s&&(H=Obe(R,I.global));const W=R.unmount;R.unmount=()=>{H&&H(),I.dispose(),W()}},get global(){return g},dispose(){u.stop()},__instances:a,__getInstance:x,__setInstance:w,__deleteInstance:T};return I}function Abe(t,s){const a=yx(),u=a.run(()=>kbe(t));if(u==null)throw b8(p8.UNEXPECTED_ERROR);return[a,u]}const Tbe=["locale","fallbackLocale","availableLocales"],yY=["t"];function Obe(t,s){const a=Object.create(null);return Tbe.forEach(g=>{const h=Object.getOwnPropertyDescriptor(s,g);if(!h)throw b8(p8.UNEXPECTED_ERROR);const x=Qs(h.value)?{get(){return h.value.value},set(w){h.value.value=w}}:{get(){return h.get&&h.get()}};Object.defineProperty(a,g,x)}),t.config.globalProperties.$i18n=a,yY.forEach(g=>{const h=Object.getOwnPropertyDescriptor(s,g);if(!h||!h.value)throw b8(p8.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${g}`,h)}),()=>{delete t.config.globalProperties.$i18n,yY.forEach(g=>{delete t.config.globalProperties[`$${g}`]})}}xbe();Jpe(zpe);if(__INTLIFY_PROD_DEVTOOLS__){const t=YW();t.__INTLIFY__=!0,Hpe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const XH=t=>t&&typeof t=="object"&&!Array.isArray(t),eW=(t,...s)=>{if(!s.length)return t;const a=s.shift();if(XH(t)&&XH(a))for(const u in a)XH(a[u])?(t[u]||Object.assign(t,{[u]:{}}),eW(t[u],a[u])):Object.assign(t,{[u]:a[u]});return eW(t,...s)},Dbe=eW({},{de:{allAnnotations:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCancel:{t:0,b:{t:2,i:[{t:3}],s:"Abbrechen"}},allClose:{t:0,b:{t:2,i:[{t:3}],s:"Schlieen"}},allCloseMessage:{t:0,b:{t:2,i:[{t:3}],s:"Meldung schlieen"}},allComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},allCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur"}},allEnd:{t:0,b:{t:2,i:[{t:3}],s:"Beenden"}},allEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},allEssayNoCorrectionAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"Fr diese Abgabe ist noch keine Korrektur autorisiert."}},allGeneralPoints:{t:0,b:{t:2,i:[{t:3}],s:"Kopfnoten"}},allGeneralPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Punkte (Kopfnoten)"}},allInstructions:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung"}},allInstructionsPdf:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung (PDF)"}},allIsSelected:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},allLoad:{t:0,b:{t:2,i:[{t:3}],s:"Laden"}},allMark:{t:0,b:{t:2,i:[{t:3}],s:"Markieren"}},allNotes:{t:0,b:{t:2,i:[{t:3}],s:"Notizen"}},allNotesWillPurged:{t:0,b:{t:2,i:[{t:3}],s:"Notizen, werden bei der Abgabe verworfen"}},allNumCharacters:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" Zeichen"}]}},allNumWords:{t:0,b:{t:1,c:[{t:2,i:[{t:4,k:"n"},{t:3,v:" Wort"}]},{t:2,i:[{t:4,k:"n"},{t:3,v:" Wrter"}]}]}},allOk:{t:0,b:{t:2,i:[{t:3}],s:"Ok"}},allOr:{t:0,b:{t:2,i:[{t:3}],s:"or"}},allOverview:{t:0,b:{t:2,i:[{t:3}],s:"bersicht"}},allOwnSummary:{t:0,b:{t:2,i:[{t:3}],s:"Eigenes Gutachten"}},allPartialPoints:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte"}},allPartialPointsLong:{t:0,b:{t:2,i:[{t:3}],s:"Teilpunkte zur Anmerkung"}},allPoints:{t:0,b:{t:1,c:[{t:2,i:[{t:3}],s:"Punkt"},{t:2,i:[{t:3}],s:"Punkte"}]}},allShow:{t:0,b:{t:2,i:[{t:3}],s:"anzeigen"}},allSelect:{t:0,b:{t:2,i:[{t:3}],s:"Auswhlen"}},allSolution:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise"}},allSolutionPdf:{t:0,b:{t:2,i:[{t:3}],s:"Lsungshinweise (PDF)"}},allSummary:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten"}},appBarReturn:{t:0,b:{t:2,i:[{t:3}],s:"Korrekturen"}},authorizationAuthorizeAndContinue:{t:0,b:{t:2,i:[{t:3}],s:"Autorisieren und Weiter"}},authorizationAuthorizeAndClose:{t:0,b:{t:2,i:[{t:3}],s:"Autorisieren und Schlieen"}},authorizationButton:{t:0,b:{t:2,i:[{t:3}],s:"Autorisieren..."}},authorizationEditIncludes:{t:0,b:{t:2,i:[{t:3}],s:"Einbezug bearbeiten"}},authorizationGradeTitle:{t:0,b:{t:2,i:[{t:3}],s:"Notenstufe:"}},authorizationPleaseEnterPoints:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie eine Bewertung ein, damit eine Notenstufe vergeben werden kann."}},authorizationPleaseEnterSummary:{t:0,b:{t:2,i:[{t:3}],s:"Bitte geben Sie einen Gutachten-Text ein."}},authorizationPointsLabel:{t:0,b:{t:2,i:[{t:3}],s:"Bewertung:"}},authorizationPointsSuffix:{t:0,b:{t:2,i:[{t:3}],s:"Punkte"}},authorizationPointsToCommentsAndCriteria:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Anmerkungen und Kriterien"}]}},authorizationPointsToComments:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Anmerkungen"}]}},authorizationPointsToCriteria:{t:0,b:{t:2,i:[{t:4,k:"n"},{t:3,v:" zu Kriterien"}]}},authorizationPointsMismatch:{t:0,b:{t:2,i:[{t:3,v:"Ihre Bewertung weicht von der einbezogenen Summe der Teilpunkte ("},{t:5,i:0},{t:3,v:") ab!"}]}},authorizationSummaryLabel:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten:"}},authorizationSummaryEdit:{t:0,b:{t:2,i:[{t:3}],s:"Gutachten bearbeiten"}},authorizationWarnFinalize:{t:0,b:{t:2,i:[{t:3}],s:"Durch die Autorisierung wird Ihre Korrektur festgeschrieben. Sie knnen sie anschlieend nicht mehr ndern. Mchten Sie Ihre Korrektur autorisieren?"}},authorizationWarnStitchDecision:{t:0,b:{t:2,i:[{t:3,v:"Ihre Punktevergabe wird einen Stichentscheid erfordern: "},{t:5,i:0}]}},authorizationTitle:{t:0,b:{t:2,i:[{t:3,v:"Korrektur von "},{t:5,i:0},{t:3,v:" autorisieren"}]}},essayImageZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige Text vergrern"}},essayImageZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Anzeige Text verkleinern"}},essayZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe Text vergrern"}},essayZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe Text verkleinern"}},helpAction:{t:0,b:{t:2,i:[{t:3}],s:"Aktion"}},helpCloseHelp:{t:0,b:{t:2,i:[{t:3}],s:"Hilfe schlieen"}},helpCommandBold:{t:0,b:{t:2,i:[{t:3}],s:"Fett"}},helpCommandH1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},helpCommandH2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},helpCommandH3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},helpCommandH4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},helpCommandH5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},helpCommandH6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},helpCommandItalic:{t:0,b:{t:2,i:[{t:3}],s:"Kursiv"}},helpCommandParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},helpCommandRedo:{t:0,b:{t:2,i:[{t:3}],s:"Wiederholen"}},helpCommandSelectAll:{t:0,b:{t:2,i:[{t:3}],s:"Alles auswhlen"}},helpCommundUnderline:{t:0,b:{t:2,i:[{t:3}],s:"Unterstrichen"}},helpCommandUndo:{t:0,b:{t:2,i:[{t:3}],s:"Rckgngig machen"}},helpComments:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkungen"}},helpCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},helpCommentsJumpToCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Zu Bewertungskriterien springen (falls vorhanden)"}},helpCommentsJumpToMark:{t:0,b:{t:2,i:[{t:3}],s:"Zur Markierung im Text springen"}},helpCommentsReturnFromCriteria:{t:0,b:{t:2,i:[{t:3}],s:"Von Bewertungskriterien zurckkehren"}},helpCommentsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bearbeitung ffnen"}},helpEssay:{t:0,b:{t:2,i:[{t:3}],s:"Abgabe-Text"}},helpEssayCreateComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung fr Auswahl erzeugen"}},helpEssayJumpToComment:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung bei Cursor anspringen"}},helpEssayMoveCursor:{t:0,b:{t:2,i:[{t:3}],s:"Cursor bewegen"}},helpEssaySelectText:{t:0,b:{t:2,i:[{t:3}],s:"Text auswhlen"}},helpEssayUnselectText:{t:0,b:{t:2,i:[{t:3}],s:"Textauswahl entfernen"}},helpContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt linke Spalte"}},helpContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Inhalt rechte Spalte"}},helpEditorCommands:{t:0,b:{t:2,i:[{t:3}],s:"Tastenbefehle im Gutachten"}},helpEditorNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Navigation im Gutachten"}},helpGeneralNavigation:{t:0,b:{t:2,i:[{t:3}],s:"Allgemeine Navigation"}},helpHeaderButtons:{t:0,b:{t:2,i:[{t:3}],s:"Header Schaltflchen"}},helpNavigationButtons:{t:0,b:{t:2,i:[{t:3}],s:"Navigationsleiste Schaltflchen"}},helpKeyEsc:{t:0,b:{t:2,i:[{t:3}],s:"Esc"}},helpKeyAlt0:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 0"}},helpKeyAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 1"}},helpKeyAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Alt + 2"}},helpKeyAltDel:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Entfernen"}},helpKeyAltF10:{t:0,b:{t:2,i:[{t:3}],s:"Alt + F10"}},helpKeyAltNum:{t:0,b:{t:2,i:[{t:3}],s:"Alt + #"}},helpKeyAltReturn:{t:0,b:{t:2,i:[{t:3}],s:"Alt + Eingabetaste"}},helpKeyCtrlA:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + A"}},helpKeyCtrlB:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + B"}},helpKeyCtrlI:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + I"}},helpKeyCtrlU:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + U"}},helpKeyCtrlYOrCtrlShiftZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Y oder Ctrl + Shift + Z"}},helpKeyCtrlZ:{t:0,b:{t:2,i:[{t:3}],s:"Ctrl + Z"}},helpKeyReturn:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste"}},helpKeyReturnOnFocusedLabel:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Etikett im Focus"}},helpKeyReturnOnFocusedPoints:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste auf Punkten im Focus"}},helpKeyReturnWhenNotSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste, wenn kein Text ausgewhlt"}},helpKeyReturnWhenSelected:{t:0,b:{t:2,i:[{t:3}],s:"Eingabetaste wenn Text ausgewht"}},helpKeyShiftAlt1:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 1"}},helpKeyShiftAlt2:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 2"}},helpKeyShiftAlt3:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 3"}},helpKeyShiftAlt4:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 4"}},helpKeyShiftAlt5:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 5"}},helpKeyShiftAlt6:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 6"}},helpKeyShiftAlt7:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Alt + 7"}},helpKeyShiftTab:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Tab"}},helpKeysArrows:{t:0,b:{t:2,i:[{t:3}],s:"Pfeiltasten"}},helpKeysLeftRight:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil links und rechts"}},helpKeysShiftArrows:{t:0,b:{t:2,i:[{t:3}],s:"Shift + Pfeiltasten"}},helpKeyTab:{t:0,b:{t:2,i:[{t:3}],s:"Tab"}},helpKeysUpDown:{t:0,b:{t:2,i:[{t:3}],s:"Pfeil abwrts und aufwrts"}},helpNextElement:{t:0,b:{t:2,i:[{t:3}],s:"Nchstes Element"}},helpPopupBlockFormatsClose:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate schlieen"}},helpPopupBlockFormatsNavigate:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup zwischen Absatzformaten wechseln"}},helpPopupBlockFormatsSelect:{t:0,b:{t:2,i:[{t:3}],s:"Im Popup ein Absatzformat whlen"}},helpPopupBlockFormatsShow:{t:0,b:{t:2,i:[{t:3}],s:"Popup der Absatzformate aufklappen"}},helpPreviousElement:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriges Element"}},helpShortcut:{t:0,b:{t:2,i:[{t:3}],s:"Tastenkombination"}},helpToolbarFocusIn:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste wechseln"}},helpToolbarFocusOut:{t:0,b:{t:2,i:[{t:3}],s:"Symbolleiste verlassen"}},helpToolbarNavigate:{t:0,b:{t:2,i:[{t:3}],s:"In Symbolleiste zwischen Schaltflchen wechseln"}},instructionsZoomOut:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text verkleinern"}},instructionsZoomIn:{t:0,b:{t:2,i:[{t:3}],s:"Aufgabenstellung Text vergrern"}},itemsLoadData:{t:0,b:{t:2,i:[{t:3}],s:"Lade Daten ..."}},itemsPreviousWriter:{t:0,b:{t:2,i:[{t:3}],s:"Vorheriger Teilnehmer"}},itemsNextWriter:{t:0,b:{t:2,i:[{t:3}],s:"Nchster Teilnehmer"}},itemsSuffixAuthorized:{t:0,b:{t:2,i:[{t:3}],s:"- autorisiert"}},itemsSuffixFinalised:{t:0,b:{t:2,i:[{t:3}],s:"- finalisiert"}},itemsSuffixOpen:{t:0,b:{t:2,i:[{t:3}],s:"- offen"}},itemsWriter:{t:0,b:{t:2,i:[{t:3}],s:"Teilnehmer/in"}},mainContentExpand:{t:0,b:{t:2,i:[{t:3}],s:"Erweitern"}},mainContentExpandLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte erweitern"}},mainContentExpandRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte erweitern"}},mainContentLeftColumn:{t:0,b:{t:2,i:[{t:3}],s:"Linke Spalte"}},mainContentRightColumn:{t:0,b:{t:2,i:[{t:3}],s:"Rechte Spalte"}},mainContentSendFailureLine1:{t:0,b:{t:2,i:[{t:3}],s:"Ihre letzen nderungen zu dieser Korrektur konnten nicht bertragen werden, sind aber lokal gespeichert."}},mainContentSendFailureLine2:{t:0,b:{t:2,i:[{t:3}],s:"Sie knnen diese Meldung schlieen und warten bis Ihre nderungen wieder automatisch gespeichert werden (Siehe Seitenfu)."}},mainContentSendFailureLine3:{t:0,b:{t:2,i:[{t:3}],s:"Alternativ knnen Sie die Korrektur jetzt abbrechen und spter wieder aufrufen, um die nderungen nachtrglich zu speichern."}},mainContentShowOtherCorrectors:{t:0,b:{t:2,i:[{t:3}],s:"Andere Korrektoren zeigen"}},mainContentStopCorrection:{t:0,b:{t:2,i:[{t:3}],s:"Korrektur abbrechen"}},markingCommentsCriteriaCriterion:{t:0,b:{t:2,i:[{t:3}],s:"Kriterium"}},markingCommentCriteriaPleaseSelect:{t:0,b:{t:2,i:[{t:3}],s:"Bitte whlen Sie eine Anmerkung aus."}},markingCommentCriteriaSumOfMax:{t:0,b:{t:2,i:[{t:3}],s:"Summe /max."}},markingCommentsCommentForLabel:{t:0,b:{t:2,i:[{t:3,v:"Anmerkung zur Markierung "},{t:5,i:0}]}},markingCommentsDelete:{t:0,b:{t:2,i:[{t:3}],s:"Anmerkung lschen"}},markingGeneralCriteriaMax:{t:0,b:{t:2,i:[{t:3}],s:"max."}},navBarSelected:{t:0,b:{t:2,i:[{t:3}],s:" (ausgewhlt)"}},navBarSelectedAria:{t:0,b:{t:2,i:[{t:3}],s:", ist ausgewhlt"}},settingsHeading:{t:0,b:{t:2,i:[{t:3}],s:"berschrift"}},settingsHeading1:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 1"}},settingsHeading2:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 2"}},settingsHeading3:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 3"}},settingsHeading4:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 4"}},settingsHeading5:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 5"}},settingsHeading6:{t:0,b:{t:2,i:[{t:3}],s:"berschrift 6"}},settingsListElement:{t:0,b:{t:2,i:[{t:3}],s:"Listenelement"}},settingsParagraph:{t:0,b:{t:2,i:[{t:3}],s:"Absatz"}},settingsTypewriter:{t:0,b:{t:2,i:[{t:3}],s:"Maschinenschrift"}},startupContentLoadData:{t:0,b:{t:2,i:[{t:3}],s:"LadeDaten..."}},startupContentLoadError:{t:0,b:{t:2,i:[{t:3}],s:"Beim Laden der Daten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden."}},startupContentOverwriteInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben eines anderen Benutzers oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden. Durch das Laden werden diese Eingaben gelscht."}},startupContentOverwriteQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie die neue Aufgabe laden?"}},startupContentReloadInfo:{t:0,b:{t:2,i:[{t:3}],s:"In Ihrem Browser sind Eingaben vorhanden, die noch nicht bertragen wurden. Die letzte im System gespeicherte Eingabe scheint aber nicht aus diesem Browser zu stammen. Das kann z.B. passieren, wenn Ihre Netzverbindung unterbrochen wurde und Sie anschlieend in einem anderen Browser weitergearbeitet haben. Durch das Laden werden Ihre Eingaben im Browser berschrieben."}},startupContentReloadQuestion:{t:0,b:{t:2,i:[{t:3}],s:"Mchten Sie die Eingabe vom System laden?"}},tinyHelperIframeAriaText:{t:0,b:{t:2,i:[{t:3}],s:"Editor Gutachten"}}}}),G8=Ebe({locale:"de",messages:Dbe});function Rbe(t){t.use(Whe).use(Xhe).use(G8)}var AB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TB(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var JH={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var xY;function Ibe(){return xY||(xY=1,function(t,s){(function(a){t.exports=a()})(function(){return function a(u,g,h){function x(I,R){if(!g[I]){if(!u[I]){var N=typeof TB=="function"&&TB;if(!R&&N)return N(I,!0);if(w)return w(I,!0);var H=new Error("Cannot find module '"+I+"'");throw H.code="MODULE_NOT_FOUND",H}var W=g[I]={exports:{}};u[I][0].call(W.exports,function(Z){var J=u[I][1][Z];return x(J||Z)},W,W.exports,a,u,g,h)}return g[I].exports}for(var w=typeof TB=="function"&&TB,T=0;T<h.length;T++)x(h[T]);return x}({1:[function(a,u,g){(function(h){var x=h.MutationObserver||h.WebKitMutationObserver,w;if(x){var T=0,I=new x(Z),R=h.document.createTextNode("");I.observe(R,{characterData:!0}),w=function(){R.data=T=++T%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var N=new h.MessageChannel;N.port1.onmessage=Z,w=function(){N.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?w=function(){var se=h.document.createElement("script");se.onreadystatechange=function(){Z(),se.onreadystatechange=null,se.parentNode.removeChild(se),se=null},h.document.documentElement.appendChild(se)}:w=function(){setTimeout(Z,0)};var H,W=[];function Z(){H=!0;for(var se,j,he=W.length;he;){for(j=W,W=[],se=-1;++se<he;)j[se]();he=W.length}H=!1}u.exports=J;function J(se){W.push(se)===1&&!H&&w()}}).call(this,typeof AB<"u"?AB:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,u,g){var h=a(1);function x(){}var w={},T=["REJECTED"],I=["FULFILLED"],R=["PENDING"];u.exports=N;function N(de){if(typeof de!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,de!==x&&J(this,de)}N.prototype.catch=function(de){return this.then(null,de)},N.prototype.then=function(de,oe){if(typeof de!="function"&&this.state===I||typeof oe!="function"&&this.state===T)return this;var Ve=new this.constructor(x);if(this.state!==R){var Me=this.state===I?de:oe;W(Ve,Me,this.outcome)}else this.queue.push(new H(Ve,de,oe));return Ve};function H(de,oe,Ve){this.promise=de,typeof oe=="function"&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),typeof Ve=="function"&&(this.onRejected=Ve,this.callRejected=this.otherCallRejected)}H.prototype.callFulfilled=function(de){w.resolve(this.promise,de)},H.prototype.otherCallFulfilled=function(de){W(this.promise,this.onFulfilled,de)},H.prototype.callRejected=function(de){w.reject(this.promise,de)},H.prototype.otherCallRejected=function(de){W(this.promise,this.onRejected,de)};function W(de,oe,Ve){h(function(){var Me;try{Me=oe(Ve)}catch(Xe){return w.reject(de,Xe)}Me===de?w.reject(de,new TypeError("Cannot resolve promise with itself")):w.resolve(de,Me)})}w.resolve=function(de,oe){var Ve=se(Z,oe);if(Ve.status==="error")return w.reject(de,Ve.value);var Me=Ve.value;if(Me)J(de,Me);else{de.state=I,de.outcome=oe;for(var Xe=-1,rt=de.queue.length;++Xe<rt;)de.queue[Xe].callFulfilled(oe)}return de},w.reject=function(de,oe){de.state=T,de.outcome=oe;for(var Ve=-1,Me=de.queue.length;++Ve<Me;)de.queue[Ve].callRejected(oe);return de};function Z(de){var oe=de&&de.then;if(de&&(typeof de=="object"||typeof de=="function")&&typeof oe=="function")return function(){oe.apply(de,arguments)}}function J(de,oe){var Ve=!1;function Me(Te){Ve||(Ve=!0,w.reject(de,Te))}function Xe(Te){Ve||(Ve=!0,w.resolve(de,Te))}function rt(){oe(Xe,Me)}var Oe=se(rt);Oe.status==="error"&&Me(Oe.value)}function se(de,oe){var Ve={};try{Ve.value=de(oe),Ve.status="success"}catch(Me){Ve.status="error",Ve.value=Me}return Ve}N.resolve=j;function j(de){return de instanceof this?de:w.resolve(new this(x),de)}N.reject=he;function he(de){var oe=new this(x);return w.reject(oe,de)}N.all=ae;function ae(de){var oe=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=de.length,Me=!1;if(!Ve)return this.resolve([]);for(var Xe=new Array(Ve),rt=0,Oe=-1,Te=new this(x);++Oe<Ve;)D(de[Oe],Oe);return Te;function D(qe,lt){oe.resolve(qe).then(zt,function(Yt){Me||(Me=!0,w.reject(Te,Yt))});function zt(Yt){Xe[lt]=Yt,++rt===Ve&&!Me&&(Me=!0,w.resolve(Te,Xe))}}}N.race=U;function U(de){var oe=this;if(Object.prototype.toString.call(de)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ve=de.length,Me=!1;if(!Ve)return this.resolve([]);for(var Xe=-1,rt=new this(x);++Xe<Ve;)Oe(de[Xe]);return rt;function Oe(Te){oe.resolve(Te).then(function(D){Me||(Me=!0,w.resolve(rt,D))},function(D){Me||(Me=!0,w.reject(rt,D))})}}},{1:1}],3:[function(a,u,g){(function(h){typeof h.Promise!="function"&&(h.Promise=a(2))}).call(this,typeof AB<"u"?AB:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,u,g){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re};function x(Re,st){if(!(Re instanceof st))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var T=w();function I(){try{if(!T||!T.open)return!1;var Re=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),st=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Re||st)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function R(Re,st){Re=Re||[],st=st||{};try{return new Blob(Re,st)}catch(nt){if(nt.name!=="TypeError")throw nt;for(var ze=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,yt=new ze,ht=0;ht<Re.length;ht+=1)yt.append(Re[ht]);return yt.getBlob(st.type)}}typeof Promise>"u"&&a(3);var N=Promise;function H(Re,st){st&&Re.then(function(ze){st(null,ze)},function(ze){st(ze)})}function W(Re,st,ze){typeof st=="function"&&Re.then(st),typeof ze=="function"&&Re.catch(ze)}function Z(Re){return typeof Re!="string"&&(console.warn(Re+" used as a key, but it is not a string."),Re=String(Re)),Re}function J(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var se="local-forage-detect-blob-support",j=void 0,he={},ae=Object.prototype.toString,U="readonly",de="readwrite";function oe(Re){for(var st=Re.length,ze=new ArrayBuffer(st),yt=new Uint8Array(ze),ht=0;ht<st;ht++)yt[ht]=Re.charCodeAt(ht);return ze}function Ve(Re){return new N(function(st){var ze=Re.transaction(se,de),yt=R([""]);ze.objectStore(se).put(yt,"key"),ze.onabort=function(ht){ht.preventDefault(),ht.stopPropagation(),st(!1)},ze.oncomplete=function(){var ht=navigator.userAgent.match(/Chrome\/(\d+)/),nt=navigator.userAgent.match(/Edge\//);st(nt||!ht||parseInt(ht[1],10)>=43)}}).catch(function(){return!1})}function Me(Re){return typeof j=="boolean"?N.resolve(j):Ve(Re).then(function(st){return j=st,j})}function Xe(Re){var st=he[Re.name],ze={};ze.promise=new N(function(yt,ht){ze.resolve=yt,ze.reject=ht}),st.deferredOperations.push(ze),st.dbReady?st.dbReady=st.dbReady.then(function(){return ze.promise}):st.dbReady=ze.promise}function rt(Re){var st=he[Re.name],ze=st.deferredOperations.pop();if(ze)return ze.resolve(),ze.promise}function Oe(Re,st){var ze=he[Re.name],yt=ze.deferredOperations.pop();if(yt)return yt.reject(st),yt.promise}function Te(Re,st){return new N(function(ze,yt){if(he[Re.name]=he[Re.name]||Le(),Re.db)if(st)Xe(Re),Re.db.close();else return ze(Re.db);var ht=[Re.name];st&&ht.push(Re.version);var nt=T.open.apply(T,ht);st&&(nt.onupgradeneeded=function(Gt){var an=nt.result;try{an.createObjectStore(Re.storeName),Gt.oldVersion<=1&&an.createObjectStore(se)}catch(mn){if(mn.name==="ConstraintError")console.warn('The database "'+Re.name+'" has been upgraded from version '+Gt.oldVersion+" to version "+Gt.newVersion+', but the storage "'+Re.storeName+'" already exists.');else throw mn}}),nt.onerror=function(Gt){Gt.preventDefault(),yt(nt.error)},nt.onsuccess=function(){var Gt=nt.result;Gt.onversionchange=function(an){an.target.close()},ze(Gt),rt(Re)}})}function D(Re){return Te(Re,!1)}function qe(Re){return Te(Re,!0)}function lt(Re,st){if(!Re.db)return!0;var ze=!Re.db.objectStoreNames.contains(Re.storeName),yt=Re.version<Re.db.version,ht=Re.version>Re.db.version;if(yt&&(Re.version!==st&&console.warn('The database "'+Re.name+`" can't be downgraded from version `+Re.db.version+" to version "+Re.version+"."),Re.version=Re.db.version),ht||ze){if(ze){var nt=Re.db.version+1;nt>Re.version&&(Re.version=nt)}return!0}return!1}function zt(Re){return new N(function(st,ze){var yt=new FileReader;yt.onerror=ze,yt.onloadend=function(ht){var nt=btoa(ht.target.result||"");st({__local_forage_encoded_blob:!0,data:nt,type:Re.type})},yt.readAsBinaryString(Re)})}function Yt(Re){var st=oe(atob(Re.data));return R([st],{type:Re.type})}function ct(Re){return Re&&Re.__local_forage_encoded_blob}function kn(Re){var st=this,ze=st._initReady().then(function(){var yt=he[st._dbInfo.name];if(yt&&yt.dbReady)return yt.dbReady});return W(ze,Re,Re),ze}function Et(Re){Xe(Re);for(var st=he[Re.name],ze=st.forages,yt=0;yt<ze.length;yt++){var ht=ze[yt];ht._dbInfo.db&&(ht._dbInfo.db.close(),ht._dbInfo.db=null)}return Re.db=null,D(Re).then(function(nt){return Re.db=nt,lt(Re)?qe(Re):nt}).then(function(nt){Re.db=st.db=nt;for(var Gt=0;Gt<ze.length;Gt++)ze[Gt]._dbInfo.db=nt}).catch(function(nt){throw Oe(Re,nt),nt})}function Qe(Re,st,ze,yt){yt===void 0&&(yt=1);try{var ht=Re.db.transaction(Re.storeName,st);ze(null,ht)}catch(nt){if(yt>0&&(!Re.db||nt.name==="InvalidStateError"||nt.name==="NotFoundError"))return N.resolve().then(function(){if(!Re.db||nt.name==="NotFoundError"&&!Re.db.objectStoreNames.contains(Re.storeName)&&Re.version<=Re.db.version)return Re.db&&(Re.version=Re.db.version+1),qe(Re)}).then(function(){return Et(Re).then(function(){Qe(Re,st,ze,yt-1)})}).catch(ze);ze(nt)}}function Le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ft(Re){var st=this,ze={db:null};if(Re)for(var yt in Re)ze[yt]=Re[yt];var ht=he[ze.name];ht||(ht=Le(),he[ze.name]=ht),ht.forages.push(st),st._initReady||(st._initReady=st.ready,st.ready=kn);var nt=[];function Gt(){return N.resolve()}for(var an=0;an<ht.forages.length;an++){var mn=ht.forages[an];mn!==st&&nt.push(mn._initReady().catch(Gt))}var Cn=ht.forages.slice(0);return N.all(nt).then(function(){return ze.db=ht.db,D(ze)}).then(function(dn){return ze.db=dn,lt(ze,st._defaultConfig.version)?qe(ze):dn}).then(function(dn){ze.db=ht.db=dn,st._dbInfo=ze;for(var _o=0;_o<Cn.length;_o++){var cn=Cn[_o];cn!==st&&(cn._dbInfo.db=ze.db,cn._dbInfo.version=ze.version)}})}function po(Re,st){var ze=this;Re=Z(Re);var yt=new N(function(ht,nt){ze.ready().then(function(){Qe(ze._dbInfo,U,function(Gt,an){if(Gt)return nt(Gt);try{var mn=an.objectStore(ze._dbInfo.storeName),Cn=mn.get(Re);Cn.onsuccess=function(){var dn=Cn.result;dn===void 0&&(dn=null),ct(dn)&&(dn=Yt(dn)),ht(dn)},Cn.onerror=function(){nt(Cn.error)}}catch(dn){nt(dn)}})}).catch(nt)});return H(yt,st),yt}function Ht(Re,st){var ze=this,yt=new N(function(ht,nt){ze.ready().then(function(){Qe(ze._dbInfo,U,function(Gt,an){if(Gt)return nt(Gt);try{var mn=an.objectStore(ze._dbInfo.storeName),Cn=mn.openCursor(),dn=1;Cn.onsuccess=function(){var _o=Cn.result;if(_o){var cn=_o.value;ct(cn)&&(cn=Yt(cn));var Tr=Re(cn,_o.key,dn++);Tr!==void 0?ht(Tr):_o.continue()}else ht()},Cn.onerror=function(){nt(Cn.error)}}catch(_o){nt(_o)}})}).catch(nt)});return H(yt,st),yt}function Tn(Re,st,ze){var yt=this;Re=Z(Re);var ht=new N(function(nt,Gt){var an;yt.ready().then(function(){return an=yt._dbInfo,ae.call(st)==="[object Blob]"?Me(an.db).then(function(mn){return mn?st:zt(st)}):st}).then(function(mn){Qe(yt._dbInfo,de,function(Cn,dn){if(Cn)return Gt(Cn);try{var _o=dn.objectStore(yt._dbInfo.storeName);mn===null&&(mn=void 0);var cn=_o.put(mn,Re);dn.oncomplete=function(){mn===void 0&&(mn=null),nt(mn)},dn.onabort=dn.onerror=function(){var Tr=cn.error?cn.error:cn.transaction.error;Gt(Tr)}}catch(Tr){Gt(Tr)}})}).catch(Gt)});return H(ht,ze),ht}function nn(Re,st){var ze=this;Re=Z(Re);var yt=new N(function(ht,nt){ze.ready().then(function(){Qe(ze._dbInfo,de,function(Gt,an){if(Gt)return nt(Gt);try{var mn=an.objectStore(ze._dbInfo.storeName),Cn=mn.delete(Re);an.oncomplete=function(){ht()},an.onerror=function(){nt(Cn.error)},an.onabort=function(){var dn=Cn.error?Cn.error:Cn.transaction.error;nt(dn)}}catch(dn){nt(dn)}})}).catch(nt)});return H(yt,st),yt}function Q(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){Qe(st._dbInfo,de,function(nt,Gt){if(nt)return ht(nt);try{var an=Gt.objectStore(st._dbInfo.storeName),mn=an.clear();Gt.oncomplete=function(){yt()},Gt.onabort=Gt.onerror=function(){var Cn=mn.error?mn.error:mn.transaction.error;ht(Cn)}}catch(Cn){ht(Cn)}})}).catch(ht)});return H(ze,Re),ze}function co(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){Qe(st._dbInfo,U,function(nt,Gt){if(nt)return ht(nt);try{var an=Gt.objectStore(st._dbInfo.storeName),mn=an.count();mn.onsuccess=function(){yt(mn.result)},mn.onerror=function(){ht(mn.error)}}catch(Cn){ht(Cn)}})}).catch(ht)});return H(ze,Re),ze}function Kt(Re,st){var ze=this,yt=new N(function(ht,nt){if(Re<0){ht(null);return}ze.ready().then(function(){Qe(ze._dbInfo,U,function(Gt,an){if(Gt)return nt(Gt);try{var mn=an.objectStore(ze._dbInfo.storeName),Cn=!1,dn=mn.openKeyCursor();dn.onsuccess=function(){var _o=dn.result;if(!_o){ht(null);return}Re===0||Cn?ht(_o.key):(Cn=!0,_o.advance(Re))},dn.onerror=function(){nt(dn.error)}}catch(_o){nt(_o)}})}).catch(nt)});return H(yt,st),yt}function pn(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){Qe(st._dbInfo,U,function(nt,Gt){if(nt)return ht(nt);try{var an=Gt.objectStore(st._dbInfo.storeName),mn=an.openKeyCursor(),Cn=[];mn.onsuccess=function(){var dn=mn.result;if(!dn){yt(Cn);return}Cn.push(dn.key),dn.continue()},mn.onerror=function(){ht(mn.error)}}catch(dn){ht(dn)}})}).catch(ht)});return H(ze,Re),ze}function We(Re,st){st=J.apply(this,arguments);var ze=this.config();Re=typeof Re!="function"&&Re||{},Re.name||(Re.name=Re.name||ze.name,Re.storeName=Re.storeName||ze.storeName);var yt=this,ht;if(!Re.name)ht=N.reject("Invalid arguments");else{var nt=Re.name===ze.name&&yt._dbInfo.db,Gt=nt?N.resolve(yt._dbInfo.db):D(Re).then(function(an){var mn=he[Re.name],Cn=mn.forages;mn.db=an;for(var dn=0;dn<Cn.length;dn++)Cn[dn]._dbInfo.db=an;return an});Re.storeName?ht=Gt.then(function(an){if(an.objectStoreNames.contains(Re.storeName)){var mn=an.version+1;Xe(Re);var Cn=he[Re.name],dn=Cn.forages;an.close();for(var _o=0;_o<dn.length;_o++){var cn=dn[_o];cn._dbInfo.db=null,cn._dbInfo.version=mn}var Tr=new N(function(Ko,Qo){var Bs=T.open(Re.name,mn);Bs.onerror=function(Io){var Xl=Bs.result;Xl.close(),Qo(Io)},Bs.onupgradeneeded=function(){var Io=Bs.result;Io.deleteObjectStore(Re.storeName)},Bs.onsuccess=function(){var Io=Bs.result;Io.close(),Ko(Io)}});return Tr.then(function(Ko){Cn.db=Ko;for(var Qo=0;Qo<dn.length;Qo++){var Bs=dn[Qo];Bs._dbInfo.db=Ko,rt(Bs._dbInfo)}}).catch(function(Ko){throw(Oe(Re,Ko)||N.resolve()).catch(function(){}),Ko})}}):ht=Gt.then(function(an){Xe(Re);var mn=he[Re.name],Cn=mn.forages;an.close();for(var dn=0;dn<Cn.length;dn++){var _o=Cn[dn];_o._dbInfo.db=null}var cn=new N(function(Tr,Ko){var Qo=T.deleteDatabase(Re.name);Qo.onerror=function(){var Bs=Qo.result;Bs&&Bs.close(),Ko(Qo.error)},Qo.onblocked=function(){console.warn('dropInstance blocked for database "'+Re.name+'" until all open connections are closed')},Qo.onsuccess=function(){var Bs=Qo.result;Bs&&Bs.close(),Tr(Bs)}});return cn.then(function(Tr){mn.db=Tr;for(var Ko=0;Ko<Cn.length;Ko++){var Qo=Cn[Ko];rt(Qo._dbInfo)}}).catch(function(Tr){throw(Oe(Re,Tr)||N.resolve()).catch(function(){}),Tr})})}return H(ht,st),ht}var et={_driver:"asyncStorage",_initStorage:ft,_support:I(),iterate:Ht,getItem:po,setItem:Tn,removeItem:nn,clear:Q,length:co,key:Kt,keys:pn,dropInstance:We};function xe(){return typeof openDatabase=="function"}var Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",be=/^~~local_forage_type~([^~]+)~/,Ce="__lfsc__:",Ne=Ce.length,je="arbf",gt="blob",sn="si08",Ut="ui08",bn="uic8",qn="si16",eo="si32",Fo="ur16",Ro="ui32",Zr="fl32",cr="fl64",ti=Ne+je.length,wr=Object.prototype.toString;function ji(Re){var st=Re.length*.75,ze=Re.length,yt,ht=0,nt,Gt,an,mn;Re[Re.length-1]==="="&&(st--,Re[Re.length-2]==="="&&st--);var Cn=new ArrayBuffer(st),dn=new Uint8Array(Cn);for(yt=0;yt<ze;yt+=4)nt=Ae.indexOf(Re[yt]),Gt=Ae.indexOf(Re[yt+1]),an=Ae.indexOf(Re[yt+2]),mn=Ae.indexOf(Re[yt+3]),dn[ht++]=nt<<2|Gt>>4,dn[ht++]=(Gt&15)<<4|an>>2,dn[ht++]=(an&3)<<6|mn&63;return Cn}function En(Re){var st=new Uint8Array(Re),ze="",yt;for(yt=0;yt<st.length;yt+=3)ze+=Ae[st[yt]>>2],ze+=Ae[(st[yt]&3)<<4|st[yt+1]>>4],ze+=Ae[(st[yt+1]&15)<<2|st[yt+2]>>6],ze+=Ae[st[yt+2]&63];return st.length%3===2?ze=ze.substring(0,ze.length-1)+"=":st.length%3===1&&(ze=ze.substring(0,ze.length-2)+"=="),ze}function uo(Re,st){var ze="";if(Re&&(ze=wr.call(Re)),Re&&(ze==="[object ArrayBuffer]"||Re.buffer&&wr.call(Re.buffer)==="[object ArrayBuffer]")){var yt,ht=Ce;Re instanceof ArrayBuffer?(yt=Re,ht+=je):(yt=Re.buffer,ze==="[object Int8Array]"?ht+=sn:ze==="[object Uint8Array]"?ht+=Ut:ze==="[object Uint8ClampedArray]"?ht+=bn:ze==="[object Int16Array]"?ht+=qn:ze==="[object Uint16Array]"?ht+=Fo:ze==="[object Int32Array]"?ht+=eo:ze==="[object Uint32Array]"?ht+=Ro:ze==="[object Float32Array]"?ht+=Zr:ze==="[object Float64Array]"?ht+=cr:st(new Error("Failed to get type for BinaryArray"))),st(ht+En(yt))}else if(ze==="[object Blob]"){var nt=new FileReader;nt.onload=function(){var Gt=$e+Re.type+"~"+En(this.result);st(Ce+gt+Gt)},nt.readAsArrayBuffer(Re)}else try{st(JSON.stringify(Re))}catch(Gt){console.error("Couldn't convert value into a JSON string: ",Re),st(null,Gt)}}function Oo(Re){if(Re.substring(0,Ne)!==Ce)return JSON.parse(Re);var st=Re.substring(ti),ze=Re.substring(Ne,ti),yt;if(ze===gt&&be.test(st)){var ht=st.match(be);yt=ht[1],st=st.substring(ht[0].length)}var nt=ji(st);switch(ze){case je:return nt;case gt:return R([nt],{type:yt});case sn:return new Int8Array(nt);case Ut:return new Uint8Array(nt);case bn:return new Uint8ClampedArray(nt);case qn:return new Int16Array(nt);case Fo:return new Uint16Array(nt);case eo:return new Int32Array(nt);case Ro:return new Uint32Array(nt);case Zr:return new Float32Array(nt);case cr:return new Float64Array(nt);default:throw new Error("Unkown type: "+ze)}}var ci={serialize:uo,deserialize:Oo,stringToBuffer:ji,bufferToString:En};function tl(Re,st,ze,yt){Re.executeSql("CREATE TABLE IF NOT EXISTS "+st.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ze,yt)}function Xt(Re){var st=this,ze={db:null};if(Re)for(var yt in Re)ze[yt]=typeof Re[yt]!="string"?Re[yt].toString():Re[yt];var ht=new N(function(nt,Gt){try{ze.db=openDatabase(ze.name,String(ze.version),ze.description,ze.size)}catch(an){return Gt(an)}ze.db.transaction(function(an){tl(an,ze,function(){st._dbInfo=ze,nt()},function(mn,Cn){Gt(Cn)})},Gt)});return ze.serializer=ci,ht}function pi(Re,st,ze,yt,ht,nt){Re.executeSql(ze,yt,ht,function(Gt,an){an.code===an.SYNTAX_ERR?Gt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[st.storeName],function(mn,Cn){Cn.rows.length?nt(mn,an):tl(mn,st,function(){mn.executeSql(ze,yt,ht,nt)},nt)},nt):nt(Gt,an)},nt)}function ur(Re,st){var ze=this;Re=Z(Re);var yt=new N(function(ht,nt){ze.ready().then(function(){var Gt=ze._dbInfo;Gt.db.transaction(function(an){pi(an,Gt,"SELECT * FROM "+Gt.storeName+" WHERE key = ? LIMIT 1",[Re],function(mn,Cn){var dn=Cn.rows.length?Cn.rows.item(0).value:null;dn&&(dn=Gt.serializer.deserialize(dn)),ht(dn)},function(mn,Cn){nt(Cn)})})}).catch(nt)});return H(yt,st),yt}function ql(Re,st){var ze=this,yt=new N(function(ht,nt){ze.ready().then(function(){var Gt=ze._dbInfo;Gt.db.transaction(function(an){pi(an,Gt,"SELECT * FROM "+Gt.storeName,[],function(mn,Cn){for(var dn=Cn.rows,_o=dn.length,cn=0;cn<_o;cn++){var Tr=dn.item(cn),Ko=Tr.value;if(Ko&&(Ko=Gt.serializer.deserialize(Ko)),Ko=Re(Ko,Tr.key,cn+1),Ko!==void 0){ht(Ko);return}}ht()},function(mn,Cn){nt(Cn)})})}).catch(nt)});return H(yt,st),yt}function Wr(Re,st,ze,yt){var ht=this;Re=Z(Re);var nt=new N(function(Gt,an){ht.ready().then(function(){st===void 0&&(st=null);var mn=st,Cn=ht._dbInfo;Cn.serializer.serialize(st,function(dn,_o){_o?an(_o):Cn.db.transaction(function(cn){pi(cn,Cn,"INSERT OR REPLACE INTO "+Cn.storeName+" (key, value) VALUES (?, ?)",[Re,dn],function(){Gt(mn)},function(Tr,Ko){an(Ko)})},function(cn){if(cn.code===cn.QUOTA_ERR){if(yt>0){Gt(Wr.apply(ht,[Re,mn,ze,yt-1]));return}an(cn)}})})}).catch(an)});return H(nt,ze),nt}function ni(Re,st,ze){return Wr.apply(this,[Re,st,ze,1])}function Dm(Re,st){var ze=this;Re=Z(Re);var yt=new N(function(ht,nt){ze.ready().then(function(){var Gt=ze._dbInfo;Gt.db.transaction(function(an){pi(an,Gt,"DELETE FROM "+Gt.storeName+" WHERE key = ?",[Re],function(){ht()},function(mn,Cn){nt(Cn)})})}).catch(nt)});return H(yt,st),yt}function Zu(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){var nt=st._dbInfo;nt.db.transaction(function(Gt){pi(Gt,nt,"DELETE FROM "+nt.storeName,[],function(){yt()},function(an,mn){ht(mn)})})}).catch(ht)});return H(ze,Re),ze}function Rc(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){var nt=st._dbInfo;nt.db.transaction(function(Gt){pi(Gt,nt,"SELECT COUNT(key) as c FROM "+nt.storeName,[],function(an,mn){var Cn=mn.rows.item(0).c;yt(Cn)},function(an,mn){ht(mn)})})}).catch(ht)});return H(ze,Re),ze}function xl(Re,st){var ze=this,yt=new N(function(ht,nt){ze.ready().then(function(){var Gt=ze._dbInfo;Gt.db.transaction(function(an){pi(an,Gt,"SELECT key FROM "+Gt.storeName+" WHERE id = ? LIMIT 1",[Re+1],function(mn,Cn){var dn=Cn.rows.length?Cn.rows.item(0).key:null;ht(dn)},function(mn,Cn){nt(Cn)})})}).catch(nt)});return H(yt,st),yt}function Gu(Re){var st=this,ze=new N(function(yt,ht){st.ready().then(function(){var nt=st._dbInfo;nt.db.transaction(function(Gt){pi(Gt,nt,"SELECT key FROM "+nt.storeName,[],function(an,mn){for(var Cn=[],dn=0;dn<mn.rows.length;dn++)Cn.push(mn.rows.item(dn).key);yt(Cn)},function(an,mn){ht(mn)})})}).catch(ht)});return H(ze,Re),ze}function Nr(Re){return new N(function(st,ze){Re.transaction(function(yt){yt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ht,nt){for(var Gt=[],an=0;an<nt.rows.length;an++)Gt.push(nt.rows.item(an).name);st({db:Re,storeNames:Gt})},function(ht,nt){ze(nt)})},function(yt){ze(yt)})})}function fo(Re,st){st=J.apply(this,arguments);var ze=this.config();Re=typeof Re!="function"&&Re||{},Re.name||(Re.name=Re.name||ze.name,Re.storeName=Re.storeName||ze.storeName);var yt=this,ht;return Re.name?ht=new N(function(nt){var Gt;Re.name===ze.name?Gt=yt._dbInfo.db:Gt=openDatabase(Re.name,"","",0),Re.storeName?nt({db:Gt,storeNames:[Re.storeName]}):nt(Nr(Gt))}).then(function(nt){return new N(function(Gt,an){nt.db.transaction(function(mn){function Cn(Tr){return new N(function(Ko,Qo){mn.executeSql("DROP TABLE IF EXISTS "+Tr,[],function(){Ko()},function(Bs,Io){Qo(Io)})})}for(var dn=[],_o=0,cn=nt.storeNames.length;_o<cn;_o++)dn.push(Cn(nt.storeNames[_o]));N.all(dn).then(function(){Gt()}).catch(function(Tr){an(Tr)})},function(mn){an(mn)})})}):ht=N.reject("Invalid arguments"),H(ht,st),ht}var Yl={_driver:"webSQLStorage",_initStorage:Xt,_support:xe(),iterate:ql,getItem:ur,setItem:ni,removeItem:Dm,clear:Zu,length:Rc,key:xl,keys:Gu,dropInstance:fo};function Ri(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function qu(Re,st){var ze=Re.name+"/";return Re.storeName!==st.storeName&&(ze+=Re.storeName+"/"),ze}function un(){var Re="_localforage_support_test";try{return localStorage.setItem(Re,!0),localStorage.removeItem(Re),!1}catch{return!0}}function Yu(){return!un()||localStorage.length>0}function Rm(Re){var st=this,ze={};if(Re)for(var yt in Re)ze[yt]=Re[yt];return ze.keyPrefix=qu(Re,st._defaultConfig),Yu()?(st._dbInfo=ze,ze.serializer=ci,N.resolve()):N.reject()}function hs(Re){var st=this,ze=st.ready().then(function(){for(var yt=st._dbInfo.keyPrefix,ht=localStorage.length-1;ht>=0;ht--){var nt=localStorage.key(ht);nt.indexOf(yt)===0&&localStorage.removeItem(nt)}});return H(ze,Re),ze}function Im(Re,st){var ze=this;Re=Z(Re);var yt=ze.ready().then(function(){var ht=ze._dbInfo,nt=localStorage.getItem(ht.keyPrefix+Re);return nt&&(nt=ht.serializer.deserialize(nt)),nt});return H(yt,st),yt}function nl(Re,st){var ze=this,yt=ze.ready().then(function(){for(var ht=ze._dbInfo,nt=ht.keyPrefix,Gt=nt.length,an=localStorage.length,mn=1,Cn=0;Cn<an;Cn++){var dn=localStorage.key(Cn);if(dn.indexOf(nt)===0){var _o=localStorage.getItem(dn);if(_o&&(_o=ht.serializer.deserialize(_o)),_o=Re(_o,dn.substring(Gt),mn++),_o!==void 0)return _o}}});return H(yt,st),yt}function Vl(Re,st){var ze=this,yt=ze.ready().then(function(){var ht=ze._dbInfo,nt;try{nt=localStorage.key(Re)}catch{nt=null}return nt&&(nt=nt.substring(ht.keyPrefix.length)),nt});return H(yt,st),yt}function wl(Re){var st=this,ze=st.ready().then(function(){for(var yt=st._dbInfo,ht=localStorage.length,nt=[],Gt=0;Gt<ht;Gt++){var an=localStorage.key(Gt);an.indexOf(yt.keyPrefix)===0&&nt.push(an.substring(yt.keyPrefix.length))}return nt});return H(ze,Re),ze}function ls(Re){var st=this,ze=st.keys().then(function(yt){return yt.length});return H(ze,Re),ze}function Sa(Re,st){var ze=this;Re=Z(Re);var yt=ze.ready().then(function(){var ht=ze._dbInfo;localStorage.removeItem(ht.keyPrefix+Re)});return H(yt,st),yt}function zl(Re,st,ze){var yt=this;Re=Z(Re);var ht=yt.ready().then(function(){st===void 0&&(st=null);var nt=st;return new N(function(Gt,an){var mn=yt._dbInfo;mn.serializer.serialize(st,function(Cn,dn){if(dn)an(dn);else try{localStorage.setItem(mn.keyPrefix+Re,Cn),Gt(nt)}catch(_o){(_o.name==="QuotaExceededError"||_o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&an(_o),an(_o)}})})});return H(ht,ze),ht}function Nm(Re,st){if(st=J.apply(this,arguments),Re=typeof Re!="function"&&Re||{},!Re.name){var ze=this.config();Re.name=Re.name||ze.name,Re.storeName=Re.storeName||ze.storeName}var yt=this,ht;return Re.name?ht=new N(function(nt){Re.storeName?nt(qu(Re,yt._defaultConfig)):nt(Re.name+"/")}).then(function(nt){for(var Gt=localStorage.length-1;Gt>=0;Gt--){var an=localStorage.key(Gt);an.indexOf(nt)===0&&localStorage.removeItem(an)}}):ht=N.reject("Invalid arguments"),H(ht,st),ht}var iu={_driver:"localStorageWrapper",_initStorage:Rm,_support:Ri(),iterate:nl,getItem:Im,setItem:zl,removeItem:Sa,clear:hs,length:ls,key:Vl,keys:wl,dropInstance:Nm},au=function(st,ze){return st===ze||typeof st=="number"&&typeof ze=="number"&&isNaN(st)&&isNaN(ze)},kf=function(st,ze){for(var yt=st.length,ht=0;ht<yt;){if(au(st[ht],ze))return!0;ht++}return!1},Fd=Array.isArray||function(Re){return Object.prototype.toString.call(Re)==="[object Array]"},dr={},Ms={},ui={INDEXEDDB:et,WEBSQL:Yl,LOCALSTORAGE:iu},Pm=[ui.INDEXEDDB._driver,ui.WEBSQL._driver,ui.LOCALSTORAGE._driver],ol=["dropInstance"],lu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ol),ka={description:"",driver:Pm.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ea(Re,st){Re[st]=function(){var ze=arguments;return Re.ready().then(function(){return Re[st].apply(Re,ze)})}}function cu(){for(var Re=1;Re<arguments.length;Re++){var st=arguments[Re];if(st)for(var ze in st)st.hasOwnProperty(ze)&&(Fd(st[ze])?arguments[0][ze]=st[ze].slice():arguments[0][ze]=st[ze])}return arguments[0]}var Mr=function(){function Re(st){x(this,Re);for(var ze in ui)if(ui.hasOwnProperty(ze)){var yt=ui[ze],ht=yt._driver;this[ze]=ht,dr[ht]||this.defineDriver(yt)}this._defaultConfig=cu({},ka),this._config=cu({},this._defaultConfig,st),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Re.prototype.config=function(ze){if((typeof ze>"u"?"undefined":h(ze))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var yt in ze){if(yt==="storeName"&&(ze[yt]=ze[yt].replace(/\W/g,"_")),yt==="version"&&typeof ze[yt]!="number")return new Error("Database version must be a number.");this._config[yt]=ze[yt]}return"driver"in ze&&ze.driver?this.setDriver(this._config.driver):!0}else return typeof ze=="string"?this._config[ze]:this._config},Re.prototype.defineDriver=function(ze,yt,ht){var nt=new N(function(Gt,an){try{var mn=ze._driver,Cn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ze._driver){an(Cn);return}for(var dn=lu.concat("_initStorage"),_o=0,cn=dn.length;_o<cn;_o++){var Tr=dn[_o],Ko=!kf(ol,Tr);if((Ko||ze[Tr])&&typeof ze[Tr]!="function"){an(Cn);return}}var Qo=function(){for(var Xl=function(Ts){return function(){var Ef=new Error("Method "+Ts+" is not implemented by the current driver"),oi=N.reject(Ef);return H(oi,arguments[arguments.length-1]),oi}},Aa=0,bo=ol.length;Aa<bo;Aa++){var rl=ol[Aa];ze[rl]||(ze[rl]=Xl(rl))}};Qo();var Bs=function(Xl){dr[mn]&&console.info("Redefining LocalForage driver: "+mn),dr[mn]=ze,Ms[mn]=Xl,Gt()};"_support"in ze?ze._support&&typeof ze._support=="function"?ze._support().then(Bs,an):Bs(!!ze._support):Bs(!0)}catch(Io){an(Io)}});return W(nt,yt,ht),nt},Re.prototype.driver=function(){return this._driver||null},Re.prototype.getDriver=function(ze,yt,ht){var nt=dr[ze]?N.resolve(dr[ze]):N.reject(new Error("Driver not found."));return W(nt,yt,ht),nt},Re.prototype.getSerializer=function(ze){var yt=N.resolve(ci);return W(yt,ze),yt},Re.prototype.ready=function(ze){var yt=this,ht=yt._driverSet.then(function(){return yt._ready===null&&(yt._ready=yt._initDriver()),yt._ready});return W(ht,ze,ze),ht},Re.prototype.setDriver=function(ze,yt,ht){var nt=this;Fd(ze)||(ze=[ze]);var Gt=this._getSupportedDrivers(ze);function an(){nt._config.driver=nt.driver()}function mn(_o){return nt._extend(_o),an(),nt._ready=nt._initStorage(nt._config),nt._ready}function Cn(_o){return function(){var cn=0;function Tr(){for(;cn<_o.length;){var Ko=_o[cn];return cn++,nt._dbInfo=null,nt._ready=null,nt.getDriver(Ko).then(mn).catch(Tr)}an();var Qo=new Error("No available storage method found.");return nt._driverSet=N.reject(Qo),nt._driverSet}return Tr()}}var dn=this._driverSet!==null?this._driverSet.catch(function(){return N.resolve()}):N.resolve();return this._driverSet=dn.then(function(){var _o=Gt[0];return nt._dbInfo=null,nt._ready=null,nt.getDriver(_o).then(function(cn){nt._driver=cn._driver,an(),nt._wrapLibraryMethodsWithReady(),nt._initDriver=Cn(Gt)})}).catch(function(){an();var _o=new Error("No available storage method found.");return nt._driverSet=N.reject(_o),nt._driverSet}),W(this._driverSet,yt,ht),this._driverSet},Re.prototype.supports=function(ze){return!!Ms[ze]},Re.prototype._extend=function(ze){cu(this,ze)},Re.prototype._getSupportedDrivers=function(ze){for(var yt=[],ht=0,nt=ze.length;ht<nt;ht++){var Gt=ze[ht];this.supports(Gt)&&yt.push(Gt)}return yt},Re.prototype._wrapLibraryMethodsWithReady=function(){for(var ze=0,yt=lu.length;ze<yt;ze++)Ea(this,lu[ze])},Re.prototype.createInstance=function(ze){return new Re(ze)},Re}(),cs=new Mr;u.exports=cs},{3:3}]},{},[4])(4)})}(JH)),JH.exports}var Nbe=Ibe();const ju=eK(Nbe);function eee(t,s){return function(){return t.apply(s,arguments)}}const{toString:Pbe}=Object.prototype,{getPrototypeOf:tK}=Object,{iterator:q8,toStringTag:tee}=Symbol,Y8=(t=>s=>{const a=Pbe.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),gp=t=>(t=t.toLowerCase(),s=>Y8(s)===t),X8=t=>s=>typeof s===t,{isArray:RE}=Array,zD=X8("undefined");function Lbe(t){return t!==null&&!zD(t)&&t.constructor!==null&&!zD(t.constructor)&&_f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nee=gp("ArrayBuffer");function Mbe(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&nee(t.buffer),s}const Bbe=X8("string"),_f=X8("function"),oee=X8("number"),J8=t=>t!==null&&typeof t=="object",Fbe=t=>t===!0||t===!1,WB=t=>{if(Y8(t)!=="object")return!1;const s=tK(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(tee in t)&&!(q8 in t)},$be=gp("Date"),Vbe=gp("File"),zbe=gp("Blob"),Hbe=gp("FileList"),Ube=t=>J8(t)&&_f(t.pipe),Wbe=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||_f(t.append)&&((s=Y8(t))==="formdata"||s==="object"&&_f(t.toString)&&t.toString()==="[object FormData]"))},Kbe=gp("URLSearchParams"),[jbe,Zbe,Gbe,qbe]=["ReadableStream","Request","Response","Headers"].map(gp),Ybe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fR(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let u,g;if(typeof t!="object"&&(t=[t]),RE(t))for(u=0,g=t.length;u<g;u++)s.call(null,t[u],u,t);else{const h=a?Object.getOwnPropertyNames(t):Object.keys(t),x=h.length;let w;for(u=0;u<x;u++)w=h[u],s.call(null,t[w],w,t)}}function ree(t,s){s=s.toLowerCase();const a=Object.keys(t);let u=a.length,g;for(;u-- >0;)if(g=a[u],s===g.toLowerCase())return g;return null}const TC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,see=t=>!zD(t)&&t!==TC;function tW(){const{caseless:t}=see(this)&&this||{},s={},a=(u,g)=>{const h=t&&ree(s,g)||g;WB(s[h])&&WB(u)?s[h]=tW(s[h],u):WB(u)?s[h]=tW({},u):RE(u)?s[h]=u.slice():s[h]=u};for(let u=0,g=arguments.length;u<g;u++)arguments[u]&&fR(arguments[u],a);return s}const Xbe=(t,s,a,{allOwnKeys:u}={})=>(fR(s,(g,h)=>{a&&_f(g)?t[h]=eee(g,a):t[h]=g},{allOwnKeys:u}),t),Jbe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Qbe=(t,s,a,u)=>{t.prototype=Object.create(s.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},eve=(t,s,a,u)=>{let g,h,x;const w={};if(s=s||{},t==null)return s;do{for(g=Object.getOwnPropertyNames(t),h=g.length;h-- >0;)x=g[h],(!u||u(x,t,s))&&!w[x]&&(s[x]=t[x],w[x]=!0);t=a!==!1&&tK(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},tve=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const u=t.indexOf(s,a);return u!==-1&&u===a},nve=t=>{if(!t)return null;if(RE(t))return t;let s=t.length;if(!oee(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},ove=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&tK(Uint8Array)),rve=(t,s)=>{const u=(t&&t[q8]).call(t);let g;for(;(g=u.next())&&!g.done;){const h=g.value;s.call(t,h[0],h[1])}},sve=(t,s)=>{let a;const u=[];for(;(a=t.exec(s))!==null;)u.push(a);return u},ive=gp("HTMLFormElement"),ave=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,u,g){return u.toUpperCase()+g}),wY=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),lve=gp("RegExp"),iee=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),u={};fR(a,(g,h)=>{let x;(x=s(g,h,t))!==!1&&(u[h]=x||g)}),Object.defineProperties(t,u)},cve=t=>{iee(t,(s,a)=>{if(_f(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const u=t[a];if(_f(u)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},uve=(t,s)=>{const a={},u=g=>{g.forEach(h=>{a[h]=!0})};return RE(t)?u(t):u(String(t).split(s)),a},dve=()=>{},fve=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function mve(t){return!!(t&&_f(t.append)&&t[tee]==="FormData"&&t[q8])}const gve=t=>{const s=new Array(10),a=(u,g)=>{if(J8(u)){if(s.indexOf(u)>=0)return;if(!("toJSON"in u)){s[g]=u;const h=RE(u)?[]:{};return fR(u,(x,w)=>{const T=a(x,g+1);!zD(T)&&(h[w]=T)}),s[g]=void 0,h}}return u};return a(t,0)},hve=gp("AsyncFunction"),pve=t=>t&&(J8(t)||_f(t))&&_f(t.then)&&_f(t.catch),aee=((t,s)=>t?setImmediate:s?((a,u)=>(TC.addEventListener("message",({source:g,data:h})=>{g===TC&&h===a&&u.length&&u.shift()()},!1),g=>{u.push(g),TC.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",_f(TC.postMessage)),bve=typeof queueMicrotask<"u"?queueMicrotask.bind(TC):typeof process<"u"&&process.nextTick||aee,vve=t=>t!=null&&_f(t[q8]),Zt={isArray:RE,isArrayBuffer:nee,isBuffer:Lbe,isFormData:Wbe,isArrayBufferView:Mbe,isString:Bbe,isNumber:oee,isBoolean:Fbe,isObject:J8,isPlainObject:WB,isReadableStream:jbe,isRequest:Zbe,isResponse:Gbe,isHeaders:qbe,isUndefined:zD,isDate:$be,isFile:Vbe,isBlob:zbe,isRegExp:lve,isFunction:_f,isStream:Ube,isURLSearchParams:Kbe,isTypedArray:ove,isFileList:Hbe,forEach:fR,merge:tW,extend:Xbe,trim:Ybe,stripBOM:Jbe,inherits:Qbe,toFlatObject:eve,kindOf:Y8,kindOfTest:gp,endsWith:tve,toArray:nve,forEachEntry:rve,matchAll:sve,isHTMLForm:ive,hasOwnProperty:wY,hasOwnProp:wY,reduceDescriptors:iee,freezeMethods:cve,toObjectSet:uve,toCamelCase:ave,noop:dve,toFiniteNumber:fve,findKey:ree,global:TC,isContextDefined:see,isSpecCompliantForm:mve,toJSONObject:gve,isAsyncFn:hve,isThenable:pve,setImmediate:aee,asap:bve,isIterable:vve};function jr(t,s,a,u,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),u&&(this.request=u),g&&(this.response=g,this.status=g.status?g.status:null)}Zt.inherits(jr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Zt.toJSONObject(this.config),code:this.code,status:this.status}}});const lee=jr.prototype,cee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cee[t]={value:t}});Object.defineProperties(jr,cee);Object.defineProperty(lee,"isAxiosError",{value:!0});jr.from=(t,s,a,u,g,h)=>{const x=Object.create(lee);return Zt.toFlatObject(t,x,function(T){return T!==Error.prototype},w=>w!=="isAxiosError"),jr.call(x,t.message,s,a,u,g),x.cause=t,x.name=t.name,h&&Object.assign(x,h),x};const yve=null;function nW(t){return Zt.isPlainObject(t)||Zt.isArray(t)}function uee(t){return Zt.endsWith(t,"[]")?t.slice(0,-2):t}function CY(t,s,a){return t?t.concat(s).map(function(g,h){return g=uee(g),!a&&h?"["+g+"]":g}).join(a?".":""):s}function xve(t){return Zt.isArray(t)&&!t.some(nW)}const wve=Zt.toFlatObject(Zt,{},null,function(s){return/^is[A-Z]/.test(s)});function Q8(t,s,a){if(!Zt.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=Zt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(J,se){return!Zt.isUndefined(se[J])});const u=a.metaTokens,g=a.visitor||R,h=a.dots,x=a.indexes,T=(a.Blob||typeof Blob<"u"&&Blob)&&Zt.isSpecCompliantForm(s);if(!Zt.isFunction(g))throw new TypeError("visitor must be a function");function I(Z){if(Z===null)return"";if(Zt.isDate(Z))return Z.toISOString();if(Zt.isBoolean(Z))return Z.toString();if(!T&&Zt.isBlob(Z))throw new jr("Blob is not supported. Use a Buffer instead.");return Zt.isArrayBuffer(Z)||Zt.isTypedArray(Z)?T&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function R(Z,J,se){let j=Z;if(Z&&!se&&typeof Z=="object"){if(Zt.endsWith(J,"{}"))J=u?J:J.slice(0,-2),Z=JSON.stringify(Z);else if(Zt.isArray(Z)&&xve(Z)||(Zt.isFileList(Z)||Zt.endsWith(J,"[]"))&&(j=Zt.toArray(Z)))return J=uee(J),j.forEach(function(ae,U){!(Zt.isUndefined(ae)||ae===null)&&s.append(x===!0?CY([J],U,h):x===null?J:J+"[]",I(ae))}),!1}return nW(Z)?!0:(s.append(CY(se,J,h),I(Z)),!1)}const N=[],H=Object.assign(wve,{defaultVisitor:R,convertValue:I,isVisitable:nW});function W(Z,J){if(!Zt.isUndefined(Z)){if(N.indexOf(Z)!==-1)throw Error("Circular reference detected in "+J.join("."));N.push(Z),Zt.forEach(Z,function(j,he){(!(Zt.isUndefined(j)||j===null)&&g.call(s,j,Zt.isString(he)?he.trim():he,J,H))===!0&&W(j,J?J.concat(he):[he])}),N.pop()}}if(!Zt.isObject(t))throw new TypeError("data must be an object");return W(t),s}function _Y(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return s[u]})}function nK(t,s){this._pairs=[],t&&Q8(t,this,s)}const dee=nK.prototype;dee.append=function(s,a){this._pairs.push([s,a])};dee.toString=function(s){const a=s?function(u){return s.call(this,u,_Y)}:_Y;return this._pairs.map(function(g){return a(g[0])+"="+a(g[1])},"").join("&")};function Cve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fee(t,s,a){if(!s)return t;const u=a&&a.encode||Cve;Zt.isFunction(a)&&(a={serialize:a});const g=a&&a.serialize;let h;if(g?h=g(s,a):h=Zt.isURLSearchParams(s)?s.toString():new nK(s,a).toString(u),h){const x=t.indexOf("#");x!==-1&&(t=t.slice(0,x)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class SY{constructor(){this.handlers=[]}use(s,a,u){return this.handlers.push({fulfilled:s,rejected:a,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Zt.forEach(this.handlers,function(u){u!==null&&s(u)})}}const mee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_ve=typeof URLSearchParams<"u"?URLSearchParams:nK,Sve=typeof FormData<"u"?FormData:null,kve=typeof Blob<"u"?Blob:null,Eve={isBrowser:!0,classes:{URLSearchParams:_ve,FormData:Sve,Blob:kve},protocols:["http","https","file","blob","url","data"]},oK=typeof window<"u"&&typeof document<"u",oW=typeof navigator=="object"&&navigator||void 0,Ave=oK&&(!oW||["ReactNative","NativeScript","NS"].indexOf(oW.product)<0),Tve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ove=oK&&window.location.href||"http://localhost",Dve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oK,hasStandardBrowserEnv:Ave,hasStandardBrowserWebWorkerEnv:Tve,navigator:oW,origin:Ove},Symbol.toStringTag,{value:"Module"})),Hu={...Dve,...Eve};function Rve(t,s){return Q8(t,new Hu.classes.URLSearchParams,Object.assign({visitor:function(a,u,g,h){return Hu.isNode&&Zt.isBuffer(a)?(this.append(u,a.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}function Ive(t){return Zt.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Nve(t){const s={},a=Object.keys(t);let u;const g=a.length;let h;for(u=0;u<g;u++)h=a[u],s[h]=t[h];return s}function gee(t){function s(a,u,g,h){let x=a[h++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),T=h>=a.length;return x=!x&&Zt.isArray(g)?g.length:x,T?(Zt.hasOwnProp(g,x)?g[x]=[g[x],u]:g[x]=u,!w):((!g[x]||!Zt.isObject(g[x]))&&(g[x]=[]),s(a,u,g[x],h)&&Zt.isArray(g[x])&&(g[x]=Nve(g[x])),!w)}if(Zt.isFormData(t)&&Zt.isFunction(t.entries)){const a={};return Zt.forEachEntry(t,(u,g)=>{s(Ive(u),g,a,0)}),a}return null}function Pve(t,s,a){if(Zt.isString(t))try{return(s||JSON.parse)(t),Zt.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(a||JSON.stringify)(t)}const mR={transitional:mee,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const u=a.getContentType()||"",g=u.indexOf("application/json")>-1,h=Zt.isObject(s);if(h&&Zt.isHTMLForm(s)&&(s=new FormData(s)),Zt.isFormData(s))return g?JSON.stringify(gee(s)):s;if(Zt.isArrayBuffer(s)||Zt.isBuffer(s)||Zt.isStream(s)||Zt.isFile(s)||Zt.isBlob(s)||Zt.isReadableStream(s))return s;if(Zt.isArrayBufferView(s))return s.buffer;if(Zt.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let w;if(h){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Rve(s,this.formSerializer).toString();if((w=Zt.isFileList(s))||u.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return Q8(w?{"files[]":s}:s,T&&new T,this.formSerializer)}}return h||g?(a.setContentType("application/json",!1),Pve(s)):s}],transformResponse:[function(s){const a=this.transitional||mR.transitional,u=a&&a.forcedJSONParsing,g=this.responseType==="json";if(Zt.isResponse(s)||Zt.isReadableStream(s))return s;if(s&&Zt.isString(s)&&(u&&!this.responseType||g)){const x=!(a&&a.silentJSONParsing)&&g;try{return JSON.parse(s)}catch(w){if(x)throw w.name==="SyntaxError"?jr.from(w,jr.ERR_BAD_RESPONSE,this,null,this.response):w}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hu.classes.FormData,Blob:Hu.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Zt.forEach(["delete","get","head","post","put","patch"],t=>{mR.headers[t]={}});const Lve=Zt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mve=t=>{const s={};let a,u,g;return t&&t.split(`
`).forEach(function(x){g=x.indexOf(":"),a=x.substring(0,g).trim().toLowerCase(),u=x.substring(g+1).trim(),!(!a||s[a]&&Lve[a])&&(a==="set-cookie"?s[a]?s[a].push(u):s[a]=[u]:s[a]=s[a]?s[a]+", "+u:u)}),s},kY=Symbol("internals");function cD(t){return t&&String(t).trim().toLowerCase()}function KB(t){return t===!1||t==null?t:Zt.isArray(t)?t.map(KB):String(t)}function Bve(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=a.exec(t);)s[u[1]]=u[2];return s}const Fve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function QH(t,s,a,u,g){if(Zt.isFunction(u))return u.call(this,s,a);if(g&&(s=a),!!Zt.isString(s)){if(Zt.isString(u))return s.indexOf(u)!==-1;if(Zt.isRegExp(u))return u.test(s)}}function $ve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,u)=>a.toUpperCase()+u)}function Vve(t,s){const a=Zt.toCamelCase(" "+s);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+a,{value:function(g,h,x){return this[u].call(this,s,g,h,x)},configurable:!0})})}let Sf=class{constructor(s){s&&this.set(s)}set(s,a,u){const g=this;function h(w,T,I){const R=cD(T);if(!R)throw new Error("header name must be a non-empty string");const N=Zt.findKey(g,R);(!N||g[N]===void 0||I===!0||I===void 0&&g[N]!==!1)&&(g[N||T]=KB(w))}const x=(w,T)=>Zt.forEach(w,(I,R)=>h(I,R,T));if(Zt.isPlainObject(s)||s instanceof this.constructor)x(s,a);else if(Zt.isString(s)&&(s=s.trim())&&!Fve(s))x(Mve(s),a);else if(Zt.isObject(s)&&Zt.isIterable(s)){let w={},T,I;for(const R of s){if(!Zt.isArray(R))throw TypeError("Object iterator must return a key-value pair");w[I=R[0]]=(T=w[I])?Zt.isArray(T)?[...T,R[1]]:[T,R[1]]:R[1]}x(w,a)}else s!=null&&h(a,s,u);return this}get(s,a){if(s=cD(s),s){const u=Zt.findKey(this,s);if(u){const g=this[u];if(!a)return g;if(a===!0)return Bve(g);if(Zt.isFunction(a))return a.call(this,g,u);if(Zt.isRegExp(a))return a.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=cD(s),s){const u=Zt.findKey(this,s);return!!(u&&this[u]!==void 0&&(!a||QH(this,this[u],u,a)))}return!1}delete(s,a){const u=this;let g=!1;function h(x){if(x=cD(x),x){const w=Zt.findKey(u,x);w&&(!a||QH(u,u[w],w,a))&&(delete u[w],g=!0)}}return Zt.isArray(s)?s.forEach(h):h(s),g}clear(s){const a=Object.keys(this);let u=a.length,g=!1;for(;u--;){const h=a[u];(!s||QH(this,this[h],h,s,!0))&&(delete this[h],g=!0)}return g}normalize(s){const a=this,u={};return Zt.forEach(this,(g,h)=>{const x=Zt.findKey(u,h);if(x){a[x]=KB(g),delete a[h];return}const w=s?$ve(h):String(h).trim();w!==h&&delete a[h],a[w]=KB(g),u[w]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return Zt.forEach(this,(u,g)=>{u!=null&&u!==!1&&(a[g]=s&&Zt.isArray(u)?u.join(", "):u)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const u=new this(s);return a.forEach(g=>u.set(g)),u}static accessor(s){const u=(this[kY]=this[kY]={accessors:{}}).accessors,g=this.prototype;function h(x){const w=cD(x);u[w]||(Vve(g,x),u[w]=!0)}return Zt.isArray(s)?s.forEach(h):h(s),this}};Sf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Zt.reduceDescriptors(Sf.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(u){this[a]=u}}});Zt.freezeMethods(Sf);function eU(t,s){const a=this||mR,u=s||a,g=Sf.from(u.headers);let h=u.data;return Zt.forEach(t,function(w){h=w.call(a,h,g.normalize(),s?s.status:void 0)}),g.normalize(),h}function hee(t){return!!(t&&t.__CANCEL__)}function IE(t,s,a){jr.call(this,t??"canceled",jr.ERR_CANCELED,s,a),this.name="CanceledError"}Zt.inherits(IE,jr,{__CANCEL__:!0});function pee(t,s,a){const u=a.config.validateStatus;!a.status||!u||u(a.status)?t(a):s(new jr("Request failed with status code "+a.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function zve(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Hve(t,s){t=t||10;const a=new Array(t),u=new Array(t);let g=0,h=0,x;return s=s!==void 0?s:1e3,function(T){const I=Date.now(),R=u[h];x||(x=I),a[g]=T,u[g]=I;let N=h,H=0;for(;N!==g;)H+=a[N++],N=N%t;if(g=(g+1)%t,g===h&&(h=(h+1)%t),I-x<s)return;const W=R&&I-R;return W?Math.round(H*1e3/W):void 0}}function Uve(t,s){let a=0,u=1e3/s,g,h;const x=(I,R=Date.now())=>{a=R,g=null,h&&(clearTimeout(h),h=null),t.apply(null,I)};return[(...I)=>{const R=Date.now(),N=R-a;N>=u?x(I,R):(g=I,h||(h=setTimeout(()=>{h=null,x(g)},u-N)))},()=>g&&x(g)]}const v8=(t,s,a=3)=>{let u=0;const g=Hve(50,250);return Uve(h=>{const x=h.loaded,w=h.lengthComputable?h.total:void 0,T=x-u,I=g(T),R=x<=w;u=x;const N={loaded:x,total:w,progress:w?x/w:void 0,bytes:T,rate:I||void 0,estimated:I&&w&&R?(w-x)/I:void 0,event:h,lengthComputable:w!=null,[s?"download":"upload"]:!0};t(N)},a)},EY=(t,s)=>{const a=t!=null;return[u=>s[0]({lengthComputable:a,total:t,loaded:u}),s[1]]},AY=t=>(...s)=>Zt.asap(()=>t(...s)),Wve=Hu.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,Hu.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(Hu.origin),Hu.navigator&&/(msie|trident)/i.test(Hu.navigator.userAgent)):()=>!0,Kve=Hu.hasStandardBrowserEnv?{write(t,s,a,u,g,h){const x=[t+"="+encodeURIComponent(s)];Zt.isNumber(a)&&x.push("expires="+new Date(a).toGMTString()),Zt.isString(u)&&x.push("path="+u),Zt.isString(g)&&x.push("domain="+g),h===!0&&x.push("secure"),document.cookie=x.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zve(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function bee(t,s,a){let u=!jve(s);return t&&(u||a==!1)?Zve(t,s):s}const TY=t=>t instanceof Sf?{...t}:t;function MC(t,s){s=s||{};const a={};function u(I,R,N,H){return Zt.isPlainObject(I)&&Zt.isPlainObject(R)?Zt.merge.call({caseless:H},I,R):Zt.isPlainObject(R)?Zt.merge({},R):Zt.isArray(R)?R.slice():R}function g(I,R,N,H){if(Zt.isUndefined(R)){if(!Zt.isUndefined(I))return u(void 0,I,N,H)}else return u(I,R,N,H)}function h(I,R){if(!Zt.isUndefined(R))return u(void 0,R)}function x(I,R){if(Zt.isUndefined(R)){if(!Zt.isUndefined(I))return u(void 0,I)}else return u(void 0,R)}function w(I,R,N){if(N in s)return u(I,R);if(N in t)return u(void 0,I)}const T={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(I,R,N)=>g(TY(I),TY(R),N,!0)};return Zt.forEach(Object.keys(Object.assign({},t,s)),function(R){const N=T[R]||g,H=N(t[R],s[R],R);Zt.isUndefined(H)&&N!==w||(a[R]=H)}),a}const vee=t=>{const s=MC({},t);let{data:a,withXSRFToken:u,xsrfHeaderName:g,xsrfCookieName:h,headers:x,auth:w}=s;s.headers=x=Sf.from(x),s.url=fee(bee(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let T;if(Zt.isFormData(a)){if(Hu.hasStandardBrowserEnv||Hu.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if((T=x.getContentType())!==!1){const[I,...R]=T?T.split(";").map(N=>N.trim()).filter(Boolean):[];x.setContentType([I||"multipart/form-data",...R].join("; "))}}if(Hu.hasStandardBrowserEnv&&(u&&Zt.isFunction(u)&&(u=u(s)),u||u!==!1&&Wve(s.url))){const I=g&&h&&Kve.read(h);I&&x.set(g,I)}return s},Gve=typeof XMLHttpRequest<"u",qve=Gve&&function(t){return new Promise(function(a,u){const g=vee(t);let h=g.data;const x=Sf.from(g.headers).normalize();let{responseType:w,onUploadProgress:T,onDownloadProgress:I}=g,R,N,H,W,Z;function J(){W&&W(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(R),g.signal&&g.signal.removeEventListener("abort",R)}let se=new XMLHttpRequest;se.open(g.method.toUpperCase(),g.url,!0),se.timeout=g.timeout;function j(){if(!se)return;const ae=Sf.from("getAllResponseHeaders"in se&&se.getAllResponseHeaders()),de={data:!w||w==="text"||w==="json"?se.responseText:se.response,status:se.status,statusText:se.statusText,headers:ae,config:t,request:se};pee(function(Ve){a(Ve),J()},function(Ve){u(Ve),J()},de),se=null}"onloadend"in se?se.onloadend=j:se.onreadystatechange=function(){!se||se.readyState!==4||se.status===0&&!(se.responseURL&&se.responseURL.indexOf("file:")===0)||setTimeout(j)},se.onabort=function(){se&&(u(new jr("Request aborted",jr.ECONNABORTED,t,se)),se=null)},se.onerror=function(){u(new jr("Network Error",jr.ERR_NETWORK,t,se)),se=null},se.ontimeout=function(){let U=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const de=g.transitional||mee;g.timeoutErrorMessage&&(U=g.timeoutErrorMessage),u(new jr(U,de.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,t,se)),se=null},h===void 0&&x.setContentType(null),"setRequestHeader"in se&&Zt.forEach(x.toJSON(),function(U,de){se.setRequestHeader(de,U)}),Zt.isUndefined(g.withCredentials)||(se.withCredentials=!!g.withCredentials),w&&w!=="json"&&(se.responseType=g.responseType),I&&([H,Z]=v8(I,!0),se.addEventListener("progress",H)),T&&se.upload&&([N,W]=v8(T),se.upload.addEventListener("progress",N),se.upload.addEventListener("loadend",W)),(g.cancelToken||g.signal)&&(R=ae=>{se&&(u(!ae||ae.type?new IE(null,t,se):ae),se.abort(),se=null)},g.cancelToken&&g.cancelToken.subscribe(R),g.signal&&(g.signal.aborted?R():g.signal.addEventListener("abort",R)));const he=zve(g.url);if(he&&Hu.protocols.indexOf(he)===-1){u(new jr("Unsupported protocol "+he+":",jr.ERR_BAD_REQUEST,t));return}se.send(h||null)})},Yve=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let u=new AbortController,g;const h=function(I){if(!g){g=!0,w();const R=I instanceof Error?I:this.reason;u.abort(R instanceof jr?R:new IE(R instanceof Error?R.message:R))}};let x=s&&setTimeout(()=>{x=null,h(new jr(`timeout ${s} of ms exceeded`,jr.ETIMEDOUT))},s);const w=()=>{t&&(x&&clearTimeout(x),x=null,t.forEach(I=>{I.unsubscribe?I.unsubscribe(h):I.removeEventListener("abort",h)}),t=null)};t.forEach(I=>I.addEventListener("abort",h));const{signal:T}=u;return T.unsubscribe=()=>Zt.asap(w),T}},Xve=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let u=0,g;for(;u<a;)g=u+s,yield t.slice(u,g),u=g},Jve=async function*(t,s){for await(const a of Qve(t))yield*Xve(a,s)},Qve=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:u}=await s.read();if(a)break;yield u}}finally{await s.cancel()}},OY=(t,s,a,u)=>{const g=Jve(t,s);let h=0,x,w=T=>{x||(x=!0,u&&u(T))};return new ReadableStream({async pull(T){try{const{done:I,value:R}=await g.next();if(I){w(),T.close();return}let N=R.byteLength;if(a){let H=h+=N;a(H)}T.enqueue(new Uint8Array(R))}catch(I){throw w(I),I}},cancel(T){return w(T),g.return()}},{highWaterMark:2})},eF=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yee=eF&&typeof ReadableStream=="function",e1e=eF&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),xee=(t,...s)=>{try{return!!t(...s)}catch{return!1}},t1e=yee&&xee(()=>{let t=!1;const s=new Request(Hu.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),DY=64*1024,rW=yee&&xee(()=>Zt.isReadableStream(new Response("").body)),y8={stream:rW&&(t=>t.body)};eF&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!y8[s]&&(y8[s]=Zt.isFunction(t[s])?a=>a[s]():(a,u)=>{throw new jr(`Response type '${s}' is not supported`,jr.ERR_NOT_SUPPORT,u)})})})(new Response);const n1e=async t=>{if(t==null)return 0;if(Zt.isBlob(t))return t.size;if(Zt.isSpecCompliantForm(t))return(await new Request(Hu.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Zt.isArrayBufferView(t)||Zt.isArrayBuffer(t))return t.byteLength;if(Zt.isURLSearchParams(t)&&(t=t+""),Zt.isString(t))return(await e1e(t)).byteLength},o1e=async(t,s)=>{const a=Zt.toFiniteNumber(t.getContentLength());return a??n1e(s)},r1e=eF&&(async t=>{let{url:s,method:a,data:u,signal:g,cancelToken:h,timeout:x,onDownloadProgress:w,onUploadProgress:T,responseType:I,headers:R,withCredentials:N="same-origin",fetchOptions:H}=vee(t);I=I?(I+"").toLowerCase():"text";let W=Yve([g,h&&h.toAbortSignal()],x),Z;const J=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let se;try{if(T&&t1e&&a!=="get"&&a!=="head"&&(se=await o1e(R,u))!==0){let de=new Request(s,{method:"POST",body:u,duplex:"half"}),oe;if(Zt.isFormData(u)&&(oe=de.headers.get("content-type"))&&R.setContentType(oe),de.body){const[Ve,Me]=EY(se,v8(AY(T)));u=OY(de.body,DY,Ve,Me)}}Zt.isString(N)||(N=N?"include":"omit");const j="credentials"in Request.prototype;Z=new Request(s,{...H,signal:W,method:a.toUpperCase(),headers:R.normalize().toJSON(),body:u,duplex:"half",credentials:j?N:void 0});let he=await fetch(Z,H);const ae=rW&&(I==="stream"||I==="response");if(rW&&(w||ae&&J)){const de={};["status","statusText","headers"].forEach(Xe=>{de[Xe]=he[Xe]});const oe=Zt.toFiniteNumber(he.headers.get("content-length")),[Ve,Me]=w&&EY(oe,v8(AY(w),!0))||[];he=new Response(OY(he.body,DY,Ve,()=>{Me&&Me(),J&&J()}),de)}I=I||"text";let U=await y8[Zt.findKey(y8,I)||"text"](he,t);return!ae&&J&&J(),await new Promise((de,oe)=>{pee(de,oe,{data:U,headers:Sf.from(he.headers),status:he.status,statusText:he.statusText,config:t,request:Z})})}catch(j){throw J&&J(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new jr("Network Error",jr.ERR_NETWORK,t,Z),{cause:j.cause||j}):jr.from(j,j&&j.code,t,Z)}}),sW={http:yve,xhr:qve,fetch:r1e};Zt.forEach(sW,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const RY=t=>`- ${t}`,s1e=t=>Zt.isFunction(t)||t===null||t===!1,wee={getAdapter:t=>{t=Zt.isArray(t)?t:[t];const{length:s}=t;let a,u;const g={};for(let h=0;h<s;h++){a=t[h];let x;if(u=a,!s1e(a)&&(u=sW[(x=String(a)).toLowerCase()],u===void 0))throw new jr(`Unknown adapter '${x}'`);if(u)break;g[x||"#"+h]=u}if(!u){const h=Object.entries(g).map(([w,T])=>`adapter ${w} `+(T===!1?"is not supported by the environment":"is not available in the build"));let x=s?h.length>1?`since :
`+h.map(RY).join(`
`):" "+RY(h[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u},adapters:sW};function tU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new IE(null,t)}function IY(t){return tU(t),t.headers=Sf.from(t.headers),t.data=eU.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wee.getAdapter(t.adapter||mR.adapter)(t).then(function(u){return tU(t),u.data=eU.call(t,t.transformResponse,u),u.headers=Sf.from(u.headers),u},function(u){return hee(u)||(tU(t),u&&u.response&&(u.response.data=eU.call(t,t.transformResponse,u.response),u.response.headers=Sf.from(u.response.headers))),Promise.reject(u)})}const Cee="1.10.0",tF={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{tF[t]=function(u){return typeof u===t||"a"+(s<1?"n ":" ")+t}});const NY={};tF.transitional=function(s,a,u){function g(h,x){return"[Axios v"+Cee+"] Transitional option '"+h+"'"+x+(u?". "+u:"")}return(h,x,w)=>{if(s===!1)throw new jr(g(x," has been removed"+(a?" in "+a:"")),jr.ERR_DEPRECATED);return a&&!NY[x]&&(NY[x]=!0,console.warn(g(x," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(h,x,w):!0}};tF.spelling=function(s){return(a,u)=>(console.warn(`${u} is likely a misspelling of ${s}`),!0)};function i1e(t,s,a){if(typeof t!="object")throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let g=u.length;for(;g-- >0;){const h=u[g],x=s[h];if(x){const w=t[h],T=w===void 0||x(w,h,t);if(T!==!0)throw new jr("option "+h+" must be "+T,jr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new jr("Unknown option "+h,jr.ERR_BAD_OPTION)}}const jB={assertOptions:i1e,validators:tF},Db=jB.validators;let PC=class{constructor(s){this.defaults=s||{},this.interceptors={request:new SY,response:new SY}}async request(s,a){try{return await this._request(s,a)}catch(u){if(u instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const h=g.stack?g.stack.replace(/^.+\n/,""):"";try{u.stack?h&&!String(u.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+h):u.stack=h}catch{}}throw u}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=MC(this.defaults,a);const{transitional:u,paramsSerializer:g,headers:h}=a;u!==void 0&&jB.assertOptions(u,{silentJSONParsing:Db.transitional(Db.boolean),forcedJSONParsing:Db.transitional(Db.boolean),clarifyTimeoutError:Db.transitional(Db.boolean)},!1),g!=null&&(Zt.isFunction(g)?a.paramsSerializer={serialize:g}:jB.assertOptions(g,{encode:Db.function,serialize:Db.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),jB.assertOptions(a,{baseUrl:Db.spelling("baseURL"),withXsrfToken:Db.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let x=h&&Zt.merge(h.common,h[a.method]);h&&Zt.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete h[Z]}),a.headers=Sf.concat(x,h);const w=[];let T=!0;this.interceptors.request.forEach(function(J){typeof J.runWhen=="function"&&J.runWhen(a)===!1||(T=T&&J.synchronous,w.unshift(J.fulfilled,J.rejected))});const I=[];this.interceptors.response.forEach(function(J){I.push(J.fulfilled,J.rejected)});let R,N=0,H;if(!T){const Z=[IY.bind(this),void 0];for(Z.unshift.apply(Z,w),Z.push.apply(Z,I),H=Z.length,R=Promise.resolve(a);N<H;)R=R.then(Z[N++],Z[N++]);return R}H=w.length;let W=a;for(N=0;N<H;){const Z=w[N++],J=w[N++];try{W=Z(W)}catch(se){J.call(this,se);break}}try{R=IY.call(this,W)}catch(Z){return Promise.reject(Z)}for(N=0,H=I.length;N<H;)R=R.then(I[N++],I[N++]);return R}getUri(s){s=MC(this.defaults,s);const a=bee(s.baseURL,s.url,s.allowAbsoluteUrls);return fee(a,s.params,s.paramsSerializer)}};Zt.forEach(["delete","get","head","options"],function(s){PC.prototype[s]=function(a,u){return this.request(MC(u||{},{method:s,url:a,data:(u||{}).data}))}});Zt.forEach(["post","put","patch"],function(s){function a(u){return function(h,x,w){return this.request(MC(w||{},{method:s,headers:u?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}PC.prototype[s]=a(),PC.prototype[s+"Form"]=a(!0)});let a1e=class _ee{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(h){a=h});const u=this;this.promise.then(g=>{if(!u._listeners)return;let h=u._listeners.length;for(;h-- >0;)u._listeners[h](g);u._listeners=null}),this.promise.then=g=>{let h;const x=new Promise(w=>{u.subscribe(w),h=w}).then(g);return x.cancel=function(){u.unsubscribe(h)},x},s(function(h,x,w){u.reason||(u.reason=new IE(h,x,w),a(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=u=>{s.abort(u)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new _ee(function(g){s=g}),cancel:s}}};function l1e(t){return function(a){return t.apply(null,a)}}function c1e(t){return Zt.isObject(t)&&t.isAxiosError===!0}const iW={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iW).forEach(([t,s])=>{iW[s]=t});function See(t){const s=new PC(t),a=eee(PC.prototype.request,s);return Zt.extend(a,PC.prototype,s,{allOwnKeys:!0}),Zt.extend(a,s,null,{allOwnKeys:!0}),a.create=function(g){return See(MC(t,g))},a}const Ui=See(mR);Ui.Axios=PC;Ui.CanceledError=IE;Ui.CancelToken=a1e;Ui.isCancel=hee;Ui.VERSION=Cee;Ui.toFormData=Q8;Ui.AxiosError=jr;Ui.Cancel=Ui.CanceledError;Ui.all=function(s){return Promise.all(s)};Ui.spread=l1e;Ui.isAxiosError=c1e;Ui.mergeConfig=MC;Ui.AxiosHeaders=Sf;Ui.formToJSON=t=>gee(Zt.isHTMLForm(t)?new FormData(t):t);Ui.getAdapter=wee.getAdapter;Ui.HttpStatusCode=iW;Ui.default=Ui;const{Axios:PSe,AxiosError:LSe,CanceledError:MSe,isCancel:BSe,CancelToken:FSe,VERSION:$Se,all:VSe,Cancel:zSe,isAxiosError:HSe,spread:USe,toFormData:WSe,AxiosHeaders:KSe,HttpStatusCode:jSe,formToJSON:ZSe,getAdapter:GSe,mergeConfig:qSe}=Ui;/*! js-cookie v3.0.5 | MIT */function OB(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var u in a)t[u]=a[u]}return t}var u1e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function aW(t,s){function a(g,h,x){if(!(typeof document>"u")){x=OB({},s,x),typeof x.expires=="number"&&(x.expires=new Date(Date.now()+x.expires*864e5)),x.expires&&(x.expires=x.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var T in x)x[T]&&(w+="; "+T,x[T]!==!0&&(w+="="+x[T].split(";")[0]));return document.cookie=g+"="+t.write(h,g)+w}}function u(g){if(!(typeof document>"u"||arguments.length&&!g)){for(var h=document.cookie?document.cookie.split("; "):[],x={},w=0;w<h.length;w++){var T=h[w].split("="),I=T.slice(1).join("=");try{var R=decodeURIComponent(T[0]);if(x[R]=t.read(I,R),g===R)break}catch{}}return g?x[g]:x}}return Object.create({set:a,get:u,remove:function(g,h){a(g,"",OB({},h,{expires:-1}))},withAttributes:function(g){return aW(this.converter,OB({},this.attributes,g))},withConverter:function(g){return aW(OB({},this.converter,g),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}var ys=aW(u1e,{path:"/"});const Zl=class Zl{constructor(s={}){xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"text","");xn(this,"points",null);xn(this,"grade_key","");xn(this,"last_change",null);xn(this,"is_authorized",!1);xn(this,"include_comments",null);xn(this,"include_comment_ratings",null);xn(this,"include_comment_points",null);xn(this,"include_criteria_points",null);this.setData(s)}setData(s){s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.text!==void 0&&s.text!==null&&(this.text=s.text.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseInt(s.points)),s.grade_key!==void 0&&s.grade_key!==null&&(this.grade_key=s.grade_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change)),s.is_authorized!==void 0&&s.is_authorized!==null&&(this.is_authorized=!!s.is_authorized),s.include_comments!==void 0&&s.include_comments!==null&&(this.include_comments=this.transformInclusion(s.include_comments)),s.include_comment_ratings!==void 0&&s.include_comment_ratings!==null&&(this.include_comment_ratings=this.transformInclusion(s.include_comment_ratings)),s.include_comment_points!==void 0&&s.include_comment_points!==null&&(this.include_comment_points=this.transformInclusion(s.include_comment_points)),s.include_criteria_points!==void 0&&s.include_criteria_points!==null&&(this.include_criteria_points=this.transformInclusion(s.include_criteria_points))}transformInclusion(s){if(s===null)return null;if(s=parseInt(s),s<=Zl.INCLUDE_NOT)return Zl.INCLUDE_NOT;if(s==Zl.INCLUDE_INFO)return Zl.INCLUDE_INFO;if(s>=Zl.INCLUDE_RELEVANT)return Zl.INCLUDE_RELEVANT}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,text:this.text,points:this.points,grade_key:this.grade_key,last_change:this.last_change,is_authorized:this.is_authorized,include_comments:this.include_comments,include_comment_ratings:this.include_comment_ratings,include_comment_points:this.include_comment_points,include_criteria_points:this.include_criteria_points}}getInclusionSettings(s={}){return{include_comments:this.include_comments??s.include_comments??Zl.INCLUDE_INFO,include_comment_ratings:this.include_comment_ratings??s.include_comment_ratings??Zl.INCLUDE_INFO,include_comment_points:this.include_comment_points??s.include_comment_points??Zl.INCLUDE_INFO,include_criteria_points:this.include_criteria_points??s.include_criteria_points??Zl.INCLUDE_INFO}}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getClone(){return new Zl(this.getData())}isEqual(s){for(const a in this)if(this[a]!==s[a])return!1;return!0}};xn(Zl,"INCLUDE_NOT",0),xn(Zl,"INCLUDE_INFO",1),xn(Zl,"INCLUDE_RELEVANT",2),xn(Zl,"ALLOWED_INCLUSIONS",[Zl.INCLUDE_NOT,Zl.INCLUDE_INFO,Zl.INCLUDE_RELEVANT]);let br=Zl;const nU=ju.createInstance({storeName:"corrector-settings",description:"Settings data"}),ru=su("settings",{state:()=>({mutual_visibility:!1,multi_color_highlight:!1,max_points:0,max_auto_distance:0,stitch_when_distance:!1,stitch_when_decimals:!1,positive_rating:"Exzellent",negative_rating:"Kardinal",headline_scheme:null,fixed_inclusions:!1,include_comments:br.INCLUDE_INFO,include_comment_ratings:br.INCLUDE_INFO,include_comment_points:br.INCLUDE_INFO,include_criteria_points:br.INCLUDE_INFO}),getters:{ratingLabels:t=>'"'+t.positive_rating+'" und "'+t.negative_rating+'"',headlineClass:t=>t.headline_scheme==="three"?"headlines-three":"",summaryInclusions:t=>({include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points}),inclusionsChangeable:t=>t.fixed_inclusions==!1,inclusionsPossible:t=>t.fixed_inclusions==!1||t.include_comments!=br.INCLUDE_NOT||t.include_comment_ratings!=br.INCLUDE_NOT||t.include_comment_points!=br.INCLUDE_NOT||t.include_criteria_points!=br.INCLUDE_NOT},actions:{async clearStorage(){try{await nU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await nU.getItem("settings");this.$patch(t)}catch(t){console.log(t)}},async loadFromData(t){try{await nU.setItem("settings",t),this.$patch(t)}catch(s){console.log(s)}}}}),oU=ju.createInstance({storeName:"corrector-task",description:"Task data"}),Cx=su("task",{state:()=>({title:null,instructions:null,solution:null,correction_end:null,remaining_time:null}),getters:{hasInstructions:t=>!!t.instructions,hasSolution:t=>!!t.solution,hasCorrectionEnd:t=>!!t.correction_end,correctionEndReached:t=>t.remaining_time===0},actions:{async clearStorage(){try{await oU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){ar();try{const t=await oU.getItem("task");this.$patch(t)}catch(t){console.log(t)}this.updateRemainingTime()},async loadFromData(t){ar();try{await oU.setItem("task",t),this.$patch(t)}catch(s){console.log(s)}this.updateRemainingTime()},updateRemainingTime(){const t=ar();this.correction_end?this.remaining_time=Math.max(0,this.correction_end-t.getServerTime(Date.now())):this.remaining_time=null}}}),H1=ju.createInstance({storeName:"corrector-resources",description:"Resource data"}),BC=su("resources",{state:()=>({keys:[],resources:[],activeKey:""}),getters:{hasResources:t=>t.resources.length>0,hasInstruction:t=>!!t.resources.find(a=>a.type=="instruct"),hasSolution:t=>!!t.resources.find(a=>a.type=="solution"),instruction:t=>t.resources.find(s=>s.type=="instruct"),solution:t=>t.resources.find(s=>s.type=="solution"),hasFileOrUrlResources:t=>!!t.resources.find(a=>a.type=="file"||a.type=="url"),fileOrUrlResources:t=>t.resources.filter(s=>s.type=="file"||s.type=="url"),activeTitle:t=>{const s=t.resources.find(a=>a.key==t.activeKey);return s?s.title:""},getResource:t=>function(a){return t.resources.find(u=>u.key==a)},getResourceIsActive:t=>function(a){return t.activeKey==a.key}},actions:{async clearStorage(){try{await H1.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await H1.getItem("resourceKeys");t&&(this.keys=JSON.parse(t)),this.activeKey=await H1.getItem("activeKey")??"";for(const s of this.keys){const a=await H1.getItem(s);this.resources.push(a)}this.loadFiles()}catch(t){console.log(t)}},async loadFromData(t){const s=ar();try{await H1.clear(),this.$reset();for(const a of t)a.type!="url"&&(a.url=s.getResourceUrl(a.key)),this.resources.push(a),this.keys.push(a.key),await H1.setItem(a.key,a);await H1.setItem("resourceKeys",JSON.stringify(this.keys)),await H1.setItem("activeKey",this.activeKey),this.loadFiles()}catch(a){console.log(a)}},async selectResource(t){this.activeKey=t.key,await H1.setItem("activeKey",this.activeKey)},async loadFiles(){for(const t of this.keys){let s=this.getResource(t),a=null;if(s.type!="url")try{console.log("preload "+s.title+"..."),a=await Ui(s.url,{responseType:"blob",timeout:6e4})}catch(u){console.error(u)}}}}});class lW{constructor(s={}){xn(this,"key","");xn(this,"title","");xn(this,"correction_allowed",!1);xn(this,"authorization_allowed",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.correction_allowed!==void 0&&s.correction_allowed!==null&&(this.correction_allowed=!!s.correction_allowed),s.authorization_allowed!==void 0&&s.authorization_allowed!==null&&(this.authorization_allowed=!!s.authorization_allowed)}getKey(){return this.key}getData(){return{key:this.key,title:this.title,correction_allowed:this.correction_allowed,authorization_allowed:this.authorization_allowed}}}const U1=ju.createInstance({storeName:"corrector-items",description:"Items data"}),Mb=su("items",{state:()=>({keys:[],items:[]}),getters:{hasItems:t=>t.keys.length>0,firstKey:t=>t.keys.length>0?t.keys[0]:"",lastKey:t=>t.keys.length>0?t.keys[t.keys.length-1]:"",correctionAllowed:t=>t.currentItem.correction_allowed,authorizationAllowed:t=>t.currentItem.authorization_allowed,currentItem:t=>{const s=ar();return t.items.find(a=>a.key==s.itemKey)},getPreviousKey:t=>function(a){for(let u=1;u<t.keys.length;u++)if(t.keys[u]==a)return t.keys[u-1];return""},getNextKey:t=>function(a){for(let u=0;u<t.keys.length-1;u++)if(t.keys[u]==a)return t.keys[u+1];return""},getItem:t=>function(a,u=null){for(const g of t.items)if(g.key==a)return g;return u}},actions:{async clearStorage(){try{await U1.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await U1.getItem("itemKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const a=new lW(JSON.parse(await U1.getItem(s)));this.items.push(a)}}catch(t){console.log(t)}},async loadFromData(t){try{await U1.clear(),this.$reset();for(const s of t){const a=new lW(s);this.items.push(a),this.keys.push(a.key),await U1.setItem(a.key,JSON.stringify(a.getData()))}await U1.setItem("itemKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}},async addItem(t){try{this.keys.includes(t.key)||(this.items.unshift(t),this.keys.unshift(t.key),await U1.setItem(t.key,JSON.stringify(t.getData())),await U1.setItem("itemKeys",JSON.stringify(this.keys)))}catch(s){console.log(s)}},async updateItem(t){const s=this.items.findIndex(a=>a.key===t.key);if(s!==-1){this.items[s]=t,await U1.setItem(t.key,JSON.stringify(t.getData()));return}}}}),eE=ju.createInstance({storeName:"corrector-levels",description:"Grade level data"}),_x=su("levels",{state:()=>({keys:[],levels:[]}),getters:{hasLevels:t=>t.levels.length>0,getLevel:t=>function(a){return t.levels.find(u=>u.key==a)},getLevelForPoints:t=>function(a){if(a===null)return null;let u=null,g=0;for(let h=0;h<t.levels.length;h++)t.levels[h].min_points<=a&&t.levels[h].min_points>=g&&(u=t.levels[h],g=u.points);return u}},actions:{async clearStorage(){try{await eE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await eE.getItem("levelKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const a=await eE.getItem(s);this.levels.push(a)}}catch(t){console.log(t)}},async loadFromData(t){try{await eE.clear(),this.$reset();for(const s of t)this.levels.push(s),this.keys.push(s.key),await eE.setItem(s.key,s);await eE.setItem("levelKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),DB=ju.createInstance({storeName:"corrector-essay",description:"Essay data"}),HD=su("essay",{state:()=>({text:null,started:null,ended:null,authorized:null,correction_finalized:null,final_points:null,stitch_comment:null}),getters:{isFinalized:t=>t.correction_finalized,grade:t=>{let a=_x().getLevelForPoints(t.final_points);return a!==null?a.title:""},gradeKey:t=>{let a=_x().getLevelForPoints(t.final_points);return a!==null?a.key:""}},actions:{async clearStorage(){try{await DB.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await DB.getItem("settings");this.$patch(t)}catch(t){console.log(t)}},async loadFromData(t){try{await DB.setItem("settings",t),this.$patch(t)}catch(s){console.log(s)}},async saveStitchDecision(){const t=ar(),s=t.getServerTime(Date.now()),a={final_points:this.final_points,stitch_comment:this.stitch_comment,grade_key:this.gradeKey,correction_finalized:s};await t.saveStitchDecisionToBackend(a)&&(this.correction_finalized=s,await DB.setItem("settings",{text:this.text,started:this.started,ended:this.ended,authorized:this.authorized,correction_finalized:this.correction_finalized,final_points:this.final_points,stitch_comment:this.stitch_comment}))}}});class PY{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"page_no",0);xn(this,"width",0);xn(this,"height",0);xn(this,"url",null);xn(this,"thumb_width",null);xn(this,"thumb_height",null);xn(this,"thumb_url",null);xn(this,"objectUrl",null);xn(this,"thumbObjectUrl",null);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.page_no!==void 0&&s.page_no!==null&&(this.page_no=parseInt(s.page_no)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.url!==void 0&&s.url!==null&&(this.url=s.url.toString()),s.thumb_width!==void 0&&s.thumb_width!==null&&(this.thumb_width=parseInt(s.thumb_width)),s.thumb_height!==void 0&&s.thumb_height!==null&&(this.thumb_height=parseInt(s.thumb_height)),s.thumb_url!==void 0&&s.thumb_url!==null&&(this.thumb_url=s.thumb_url.toString())}getData(){return{key:this.key,item_key:this.item_key,page_no:this.page_no,width:this.width,height:this.height,url:this.url,thumb_width:this.thumb_width,thumb_height:this.thumb_height,thumb_url:this.url}}}const tE=ju.createInstance({storeName:"corrector-pages",description:"Corrector page data"}),x8=su("pages",{state:()=>({keys:[],pages:{},selectedKey:"",minPage:0,maxPage:0,loadedThumbs:0,loadedImages:0}),getters:{hasPages:t=>Object.keys(t.pages).length>0,selectedPage:t=>t.pages[t.selectedKey]??null,selectedPageNo:t=>t.selectedPage?t.selectedPage.page_no:null,currentPages:t=>{let s=[];for(const a in t.pages)s.push(t.pages[a]);return s},getPage:t=>function(a){return t.pages[a]??null},getPageByPageNo:t=>function(a){for(const u in t.pages)if(t.pages[u].page_no==a)return t.pages[u];return null}},actions:{selectPage(t){this.selectedKey!=t&&(this.selectedKey=t)},selectByPageNo(t){for(const s in this.pages)if(this.pages[s].page_no==t)return this.selectedKey=s,!0;return!1},calculateMinMaxPage(){let t=null,s=null;for(const a in this.pages)(t===null||this.pages[a].page_no<t)&&(t=this.pages[a].page_no),(s===null||this.pages[a].page_no>s)&&(s=this.pages[a].page_no);t!==null&&(this.minPage=t),s!==null&&(this.maxPage=s)},async clearStorage(){try{await tE.clear()}catch(t){console.log(t)}this.purgeFiles(),this.$reset()},async loadFromStorage(){const t=ar();try{this.purgeFiles(),this.$reset();const s=await tE.getItem("keys");s&&(this.keys=JSON.parse(s));for(const a of this.keys){const u=new PY(JSON.parse(await tE.getItem(a)));u.item_key==t.itemKey&&(this.pages[a]=u)}this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(s){console.log(s)}},async loadFromData(t){const s=ar();try{await tE.clear(),this.purgeFiles(),this.$reset();for(const a of t){const u=new PY(a);u.url=s.getImageUrl(u.key,u.item_key),u.thumb_url=s.getThumbUrl(u.key,u.item_key),this.keys.push(u.key),await tE.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&(this.pages[u.key]=u)}await tE.setItem("keys",JSON.stringify(this.keys)),this.calculateMinMaxPage(),this.selectByPageNo(this.minPage),this.loadFiles()}catch(a){console.log(a)}},async loadFiles(){try{for(const t in this.pages){const s=this.pages[t];let a;s&&(console.log("preload page "+s.page_no+"..."),a=await Ui(s.url,{responseType:"blob",timeout:6e4}),this.loadedImages++,console.log("preload thumbnail "+s.page_no+"..."),a=await Ui(s.thumb_url,{responseType:"blob",timeout:6e4}),this.loadedThumbs++)}}catch(t){console.error(t)}},purgeFiles(){for(const t in this.pages){const s=this.pages[t];s&&(s.thumbObjectUrl!==null&&(s.thumbObjectUrl=null),s.objectUrl!==null&&(s.objectUrl=null))}this.loadedThumbs=0,this.loadedImages=0}}});class d1e{constructor(s={}){xn(this,"key","");xn(this,"corrector_key","");xn(this,"title","");xn(this,"description","");xn(this,"points",0);xn(this,"is_general",!1);s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.description!==void 0&&s.description!==null&&(this.description=s.description.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseInt(s.points)),s.is_general!==void 0&&s.is_general!==null&&(this.is_general=!!s.is_general)}getData(){return{key:this.key,corrector_key:this.corrector_key,title:this.title,description:this.description,points:this.points,is_general:this.is_general}}}const nE=ju.createInstance({storeName:"corrector-criteria",description:"Rating criterion data"}),Em=su("criteria",{state:()=>({keys:[],criteria:[]}),getters:{hasCommentCriteria:t=>{const a=Vb().correctorKeys;return!!t.criteria.find(u=>!u.is_general&&(u.corrector_key==""||a.includes(u.corrector_key)))},hasOwnCriteria:t=>{const s=ar();return!!t.criteria.find(a=>a.corrector_key==""||a.corrector_key==s.correctorKey)},hasOwnGeneralCriteria:t=>{const s=ar();return!!t.criteria.find(a=>a.is_general&&(a.corrector_key==""||a.corrector_key==s.correctorKey))},hasOwnCommentCriteria:t=>{const s=ar();return!!t.criteria.find(a=>!a.is_general&&(a.corrector_key==""||a.corrector_key==s.correctorKey))},ownCriteria:t=>{const s=ar();return t.criteria.filter(a=>a.corrector_key==""||a.corrector_key==s.correctorKey)},getCriterion:t=>function(a){return t.criteria.find(u=>u.key==a)},getCorrectorHasCriteria:t=>function(a){return!!t.criteria.find(u=>u.corrector_key==""||u.corrector_key==a)},getCorrectorHasGeneralCriteria:t=>function(a){return!!t.criteria.find(u=>u.is_general&&(u.corrector_key==""||u.corrector_key==a))},getCorrectorHasCommentCriteria:t=>function(a){return!!t.criteria.find(u=>!u.is_general&&(u.corrector_key==""||u.corrector_key==a))},getCorrectorGeneralCriteria:t=>function(a){return t.criteria.filter(u=>u.is_general&&(u.corrector_key==""||u.corrector_key==a))},getCorrectorCommentCriteria:t=>function(a){return t.criteria.filter(u=>!u.is_general&&(u.corrector_key==""||u.corrector_key==a))}},actions:{async clearStorage(){try{await nE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await nE.getItem("criterionKeys");t&&(this.keys=JSON.parse(t));for(const s of this.keys){const a=await nE.getItem(s);this.criteria.push(a)}}catch(t){console.log(t)}},async loadFromData(t){try{await nE.clear(),this.$reset();for(const s of t){const a=new d1e(s);this.criteria.push(a),this.keys.push(a.key),await nE.setItem(a.key,a.getData())}await nE.setItem("criterionKeys",JSON.stringify(this.keys))}catch(s){console.log(s)}}}}),Xa=class Xa{constructor(s={}){xn(this,"action",null);xn(this,"type",null);xn(this,"key","");xn(this,"item_key","");xn(this,"last_change",0);this.setData(s),this.last_change==0&&(this.last_change=Date.now())}setData(s){s.action!==void 0&&Xa.ALLOWED_ACTIONS.includes(s.action)&&(this.action=s.action.toString()),s.type!==void 0&&Xa.ALLOWED_TYPES.includes(s.type)&&(this.type=s.type.toString()),s.key!==void 0&&s.key!==null&&(this.key=s.key.toString()),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.last_change!==void 0&&s.last_change!==null&&(this.last_change=parseInt(s.last_change))}getData(){return{action:this.action,type:this.type,key:this.key,item_key:this.item_key,last_change:this.last_change}}isValid(){return Xa.ALLOWED_TYPES.includes(this.type)&&Xa.ALLOWED_ACTIONS.includes(this.action)&&this.key!=""&&(this.item_key!=""||this.type==Xa.TYPE_SNIPPETS)}};xn(Xa,"ACTION_SAVE","save"),xn(Xa,"ACTION_DELETE","delete"),xn(Xa,"ALLOWED_ACTIONS",[Xa.ACTION_SAVE,Xa.ACTION_DELETE]),xn(Xa,"TYPE_COMMENT","comment"),xn(Xa,"TYPE_POINTS","points"),xn(Xa,"TYPE_SUMMARY","summary"),xn(Xa,"TYPE_PREFERENCES","preferences"),xn(Xa,"TYPE_SNIPPETS","snippets"),xn(Xa,"ALLOWED_TYPES",[Xa.TYPE_COMMENT,Xa.TYPE_POINTS,Xa.TYPE_SUMMARY,Xa.TYPE_PREFERENCES,Xa.TYPE_SNIPPETS]);let Sr=Xa;const RB=ju.createInstance({storeName:"corrector-changes",description:"Corrector changes data"});function LY(){const t={changes:{}};for(const s of Sr.ALLOWED_TYPES)t.changes[s]={};return t}const Qa=su("changes",{state:()=>LY(),getters:{countChanges:t=>{let s=0;for(const a in t.changes)s+=Object.keys(t.changes[a]).length;return s},getCountOfChangesFor:t=>function(a){return Sr.ALLOWED_TYPES.includes(a)?Object.keys(t.changes[a]).length:(console.log("wrong type"+a),0)},getChangesFor:t=>function(a,u=0){if(!Sr.ALLOWED_TYPES.includes(a))return[];const g=[];for(const h in t.changes[a]){const x=t.changes[a][h];(u==0||x.last_change<=u)&&g.push(x)}return g}},actions:{async clearStorage(){try{await RB.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=LY();try{for(const s in t.changes){const a=await RB.getItem(s);if(a){const u=JSON.parse(a);if(typeof u=="object"&&u!==null)for(const g in u)t.changes[s][g]=new Sr(u[g])}}}catch(s){console.log(s)}this.$patch(t)},async saveChangesOfTypeToStorage(t){const s={};for(const a in this.changes[t]){const u=this.changes[t][a];s[a]=u.getData()}await RB.setItem(t,JSON.stringify(s))},async hasChangesInStorage(){for(const t in this.changes){const s=await RB.getItem(t);if(s){const a=JSON.parse(s);if(Object.keys(a).length>0)return!0}}return!1},async setChange(t){t.isValid()&&(this.changes[t.type][t.key]=t,await this.saveChangesOfTypeToStorage(t.type))},async unsetChange(t){t.isValid()&&(delete this.changes[t.type][t.key],await this.saveChangesOfTypeToStorage(t.type))},async setChangesSent(t,s,a){const u=this.changes[t];let g=!1;for(const h in s){const x=s[h],w=u[h];w&&(w.last_change<=a?(delete u[h],g=!0):(x==null||x!=h)&&(w.key=x,u[x]=w,delete u[h],g=!0))}g&&await this.saveChangesOfTypeToStorage(t)}}});class uD{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"comment_key","");xn(this,"criterion_key","");xn(this,"points",0);s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.comment_key!==void 0&&s.comment_key!==null&&(this.comment_key=s.comment_key.toString()),s.criterion_key!==void 0&&s.criterion_key!==null&&(this.criterion_key=s.criterion_key.toString()),s.points!==void 0&&s.points!==null&&(this.points=parseFloat(s.points))}setPoints(s){this.points=parseFloat(s)}getData(){return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,comment_key:this.comment_key,criterion_key:this.criterion_key,points:this.points}}}const Ml=ju.createInstance({storeName:"corrector-points",description:"Corrector points data"}),Yg=su("points",{state:()=>({keys:[],points:[],unsentChanges:{}}),getters:{getCommentHasPoints:t=>function(a){return t.points.find(u=>u.comment_key==a&&u.points!=0)!==void 0},getCommentHasPointsForCriterion:t=>function(a,u){return t.points.find(g=>g.comment_key==a&&g.criterion_key==u&&g.points!=0)!==void 0},getSumOfPointsForCorrector:t=>function(a,u=null,g=null){let h=0;return t.points.filter(x=>x.corrector_key==a&&(u===null||u==(x.comment_key!=""))&&(g===null||g==(x.criterion_key!=""))).forEach(x=>h+=x.points),h},getSumOfPointsForComment:t=>function(a){let u=0;return t.points.filter(g=>g.comment_key==a).forEach(g=>u+=g.points),u},getSumOfPointsForCriterion:t=>function(a,u){let g=0;return t.points.filter(h=>h.criterion_key==a.key&&h.corrector_key==u).forEach(h=>g+=h.points),g},getPointsOfCriterionExceeded:t=>function(a,u){let g=0;return t.points.filter(h=>h.criterion_key==a.key&&h.corrector_key==u).forEach(h=>g+=h.points),g>a.points},getObjectsForCorrector:t=>function(a){return t.points.filter(u=>u.corrector_key==a)},getObjectByData:t=>function(a,u,g){return t.points.find(h=>h.corrector_key==a&&h.comment_key==u&&h.criterion_key==g)}},actions:{async setValueByCommentOrCriterion(t,s,a){const u=ar();let g=this.getObjectByData(u.correctorKey,t,s);g?a?(g.setPoints(a),this.updatePoints(g)):this.deletePoints(g.key):(t||s)&&a&&this.createPoints(t,s,a)},async createPoints(t,s,a){console.log("createPoints: ",t,s,a);const u=ar(),g=new uD({item_key:u.itemKey,corrector_key:u.correctorKey,comment_key:t,criterion_key:s,points:a});this.keys.push(g.key),this.points.push(g),await Ml.setItem(g.key,JSON.stringify(g.getData())),await Ml.setItem("keys",JSON.stringify(this.keys)),await Qa().setChange(new Sr({type:Sr.TYPE_POINTS,action:Sr.ACTION_SAVE,key:g.key,item_key:g.item_key}))},async updatePoints(t){this.keys.includes(t.key)&&(await Ml.setItem(t.key,JSON.stringify(t.getData())),await Qa().setChange(new Sr({type:Sr.TYPE_POINTS,action:Sr.ACTION_SAVE,key:t.key,item_key:t.item_key})))},async deletePoints(t){const s=this.points.find(g=>g.key==t);this.points=this.points.filter(g=>g.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(g=>g!=t),await Ml.setItem("keys",JSON.stringify(this.keys)),await Ml.removeItem(t));const a=Qa(),u=new Sr({type:Sr.TYPE_POINTS,action:Sr.ACTION_DELETE,key:s.key,item_key:s.item_key});t.substr(0,4)=="temp"?await a.unsetChange(u):await a.setChange(u)},async deletePointsOfComment(t){this.points.filter(s=>s.comment_key==t).forEach(s=>this.deletePoints(s.key))},async clearStorage(){try{await Ml.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=ar();try{this.$reset();const s=await Ml.getItem("keys");s&&(this.keys=JSON.parse(s)),this.points=[];for(const a of this.keys){let u=JSON.parse(await Ml.getItem(a)),g=new uD(u);g.item_key==t.itemKey&&this.points.push(g)}}catch(s){console.log(s)}},async loadFromData(t){const s=ar();try{await Ml.clear(),this.$reset();for(const a of t){const u=new uD(a);this.keys.push(u.key),await Ml.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.points.push(u)}await Ml.setItem("keys",JSON.stringify(this.keys))}catch(a){console.log(a)}},async getChangedData(t=0){const s=ar(),a=Qa(),u=[];for(const g of a.getChangesFor(Sr.TYPE_POINTS,t)){const h=await Ml.getItem(g.key);h?u.push(s.getChangeDataToSend(g,JSON.parse(h))):u.push(s.getChangeDataToSend(g))}return u},async updateKeys(t={}){let s=[],a=[],u=[];for(const g of this.keys)if(g in t){if(t[g]==null)s.push(g);else if(g!=t[g]){let h=new uD(await Ml.getItem(g));h.key=t[g],a.push(g),u.push(h)}}this.selectedKey="",this.points=this.points.filter(g=>!s.includes(g.key));for(const g of this.points)a.includes(g.key)&&(g.key=t[g.key]);this.keys=this.keys.filter(g=>!s.includes(g)&&!a.includes(g));for(const g of s)await Ml.removeItem(g);for(const g of a)this.keys.push(t[g]),await Ml.removeItem(g);for(const g of u)await Ml.setItem(g.key,JSON.stringify(g.getData()));await Ml.setItem("keys",JSON.stringify(this.keys))},async changeCommentKeys(t){let s=[],a=[];for(const u of this.keys){let g=new uD(await Ml.getItem(u));g.comment_key in t&&(t[g.comment_key]==null?s.push(u):g.comment_key!=t[g.comment_key]&&(g.comment_key=t[g.comment_key],a.push(g)))}this.points=this.points.filter(u=>!s.includes(u.key));for(const u of this.points)u.comment_key in t&&(u.comment_key=t[u.comment_key]);for(const u of s)await Ml.removeItem(u);for(const u of a)await Ml.setItem(u.key,JSON.stringify(u.getData()));this.keys=this.keys.filter(u=>!s.includes(u)),await Ml.setItem("keys",JSON.stringify(this.keys))}}});class dD{constructor(s={}){xn(this,"x",0);xn(this,"y",0);s.x!==void 0&&s.x!==null&&(this.x=parseInt(s.x)),s.y!==void 0&&s.y!==null&&(this.y=parseInt(s.y))}getData(){return{x:this.x,y:this.y}}}const Ca=class Ca{constructor(s={}){xn(this,"key","");xn(this,"shape","");xn(this,"pos",new dD(0,0));xn(this,"end",new dD(0,0));xn(this,"width",0);xn(this,"height",0);xn(this,"polygon",[]);xn(this,"symbol","");this.setData(s)}setData(s){if(s.key!==void 0&&s.key!==null&&(this.key=s.key),s.shape!==void 0&&Ca.ALLOWED_SHAPES.includes(s.shape)&&(this.shape=s.shape.toString()),s.pos!==void 0&&s.pos!==null&&(this.pos=new dD(s.pos)),s.end!==void 0&&s.end!==null&&(this.end=new dD(s.end)),s.width!==void 0&&s.width!==null&&(this.width=parseInt(s.width)),s.height!==void 0&&s.height!==null&&(this.height=parseInt(s.height)),s.polygon!==void 0&&Array.isArray(s.polygon))for(const a of s.polygon)this.polygon.push(new dD(a));s.symbol!==void 0&&s.symbol!==null&&(this.symbol=s.symbol.toString())}getData(){let s=[];for(const a of this.polygon)s.push(a.getData());return{key:this.key,shape:this.shape,pos:this.pos.getData(),end:this.end.getData(),width:this.width,height:this.height,polygon:s,symbol:this.symbol}}getIcon(){switch(this.shape){case Ca.SHAPE_LINE:return"mdi-minus";case Ca.SHAPE_WAVE:return"mdi-wave";case Ca.SHAPE_RECTANGLE:return"mdi-rectangle-outline";case Ca.SHAPE_POLYGON:return"mdi-vector-triangle";case Ca.SHAPE_CIRCLE:switch(this.symbol){case Ca.SYMBOL_CHECK:return"mdi-check";case Ca.SYMBOL_CROSS:return"mdi-close";case Ca.SYMBOL_QUESTION:return"mdi-help"}}return""}};xn(Ca,"SHAPE_CIRCLE","circle"),xn(Ca,"SHAPE_RECTANGLE","rectangle"),xn(Ca,"SHAPE_POLYGON","polygon"),xn(Ca,"SHAPE_LINE","line"),xn(Ca,"SHAPE_WAVE","wave"),xn(Ca,"ALLOWED_SHAPES",[Ca.SHAPE_CIRCLE,Ca.SHAPE_RECTANGLE,Ca.SHAPE_POLYGON,Ca.SHAPE_LINE,Ca.SHAPE_WAVE]),xn(Ca,"SYMBOL_CHECK",""),xn(Ca,"SYMBOL_CROSS",""),xn(Ca,"SYMBOL_QUESTION","?");let wm=Ca;const op=class op{constructor(s={}){xn(this,"key","");xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"start_position",0);xn(this,"end_position",0);xn(this,"parent_number",0);xn(this,"comment","");xn(this,"rating_excellent",!1);xn(this,"rating_cardinal",!1);xn(this,"label","");xn(this,"prefix","");xn(this,"marks",[]);xn(this,"deleted",!1);if(s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key="temp"+Math.random().toString(),s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.start_position!==void 0&&s.start_position!==null&&(this.start_position=parseInt(s.start_position)),s.end_position!==void 0&&s.end_position!==null&&(this.end_position=parseInt(s.end_position)),s.parent_number!==void 0&&s.parent_number!==null&&(this.parent_number=parseInt(s.parent_number)),s.comment!==void 0&&s.comment!==null&&(this.comment=s.comment.toString()),s.rating==op.RAITNG_EXCELLENT?this.rating_excellent=!0:s.rating==op.RATING_CARDINAL&&(this.rating_cardinal=!0),s.marks!==void 0&&Array.isArray(s.marks))for(const a of s.marks)this.addMarkData(a)}addMarkData(s){this.marks.push(new wm(s)),this.calculateStartPositon()}updateMarkData(s){for(const a of this.marks)a.key==s.key&&a.setData(s);this.calculateStartPositon()}getMarkIcon(){for(const s of this.marks)return s.getIcon();return null}getMarkByKey(s){for(const a of this.marks)if(a.key==s)return a;return null}getMarkColor(s){const a=s.shape==wm.SHAPE_CIRCLE||s.shape==wm.SHAPE_POLYGON||s.shape==wm.SHAPE_RECTANGLE;return this.prefix=="own"?this.rating_excellent?a?"#E3EFDD80":"#19e62e":this.rating_cardinal?a?"#FBDED180":"#bc4710":a?"#D8E5F480":"#3365ff":this.rating_excellent?a?"#F7F9F780":"#19e62e":this.rating_cardinal?a?"#FCF6F480":"#bc4710":a?"#F5F7FB80":"#3365ff"}getMarkSelectedColor(s){const a=s.shape==wm.SHAPE_CIRCLE||s.shape==wm.SHAPE_POLYGON||s.shape==wm.SHAPE_RECTANGLE;return this.rating_excellent?a?"#BBEBA5A0":"#19e62e":this.rating_cardinal?a?"#FCB494A0":"#bc4710":a?"#94C3FCA0":"#3365ff"}calculateStartPositon(){let s=null;for(const a of this.marks)(s===null||a.pos.y>s)&&(s=a.pos.y);s!==null&&(this.start_position=s)}hasMarkKey(s){for(const a of this.marks)if(a.key==s)return!0;return!1}getData(){let s=[];for(const a of this.marks)s.push(a.getData());return{key:this.key,item_key:this.item_key,corrector_key:this.corrector_key,start_position:this.start_position,end_position:this.end_position,parent_number:this.parent_number,comment:this.comment,rating:this.rating_excellent?op.RAITNG_EXCELLENT:this.rating_cardinal?op.RATING_CARDINAL:"",marks:s}}};xn(op,"RATING_CARDINAL","cardinal"),xn(op,"RAITNG_EXCELLENT","excellent"),xn(op,"ALLOWED_RATING",[op.RATING_CARDINAL,op.RAITNG_EXCELLENT]);let OC=op;const Bl=ju.createInstance({storeName:"corrector-comments",description:"Corrector comments data"}),yf=su("comments",{state:()=>({keys:[],comments:[],showOtherCorrectors:!0,markerChange:0,selectionChange:0,filterChange:0,caretRequest:0,selectedKey:"",firstVisibleKey:"",filterKeys:[]}),getters:{selectedComment(t){return t.getComment(t.selectedKey)},selectedLabel(t){let s=t.getComment(t.selectedKey);return s?s.label:""},activeComments:t=>{const s=ar();return t.comments.filter(a=>(t.showOtherCorrectors||a.corrector_key==s.correctorKey)&&(t.filterKeys.length==0||t.filterKeys.includes(a.key)))},isOtherCorrectorsShown:t=>t.showOtherCorrectors,isFilterActive:t=>t.filterKeys.length>0,getComment:t=>function(a){return t.comments.find(u=>u.key==a)},getCommentByMarkKey:t=>function(a){return t.comments.find(u=>u.hasMarkKey(a))},getActiveCommentsInRange:t=>function(a,u){return t.activeComments.filter(g=>g.start_position<=u&&g.end_position>=a)},getActiveCommentsByStartPosition:t=>function(a){return t.activeComments.filter(u=>u.start_position==a)},getActiveCommentsByParentNumber:t=>function(a){return t.activeComments.filter(u=>u.parent_number==a)},getCountOfExcellent:t=>function(a){return t.comments.filter(u=>u.corrector_key==a&&u.rating_excellent).length},getCountOfCardinal:t=>function(a){return t.comments.filter(u=>u.corrector_key==a&&u.rating_cardinal).length}},actions:{setFirstVisibleComment(t){this.firstVisibleKey=t},setMarkerChange(){this.markerChange=Date.now()},setFilterChange(){this.filterChange=Date.now()},setCaretRequest(){this.caretRequest=Date.now()},selectComment(t,s=!0){this.selectedKey=t,s&&(this.selectionChange=Date.now())},async createComment(t,s,a){let u=new OC({start_position:t,end_position:s,parent_number:a});return await this.addComment(u),u.key},async addComment(t){const s=ar(),a=Qa();return t.item_key=s.itemKey,t.corrector_key=s.correctorKey,this.keys.push(t.key),this.filterKeys.length>0&&(this.filterKeys.push(t.key),this.setFilterChange()),this.comments.push(t),await this.sortAndLabelComments(),this.setMarkerChange(),this.selectComment(t.key,!0),await Bl.setItem(t.key,JSON.stringify(t.getData())),await Bl.setItem("keys",JSON.stringify(this.keys)),await a.setChange(new Sr({type:Sr.TYPE_COMMENT,action:Sr.ACTION_SAVE,key:t.key,item_key:t.item_key})),t.key},async updateComment(t,s=!1){const a=ar(),u=ac(),g=Qa();this.keys.includes(t.key)&&t.corrector_key==a.correctorKey&&!u.isOwnDisabled&&(await Bl.setItem(t.key,JSON.stringify(t.getData())),await g.setChange(new Sr({type:Sr.TYPE_COMMENT,action:Sr.ACTION_SAVE,key:t.key,item_key:t.item_key})),s&&(await this.sortAndLabelComments(),this.setMarkerChange()))},async deleteComment(t){await this.removeComment(t),await this.sortAndLabelComments(),this.setMarkerChange()},async removeComment(t){const s=Qa();await Yg().deletePointsOfComment(t),this.selectedKey==t&&this.selectComment("",!0);const u=this.comments.find(h=>h.key==t);this.comments=this.comments.filter(h=>h.key!=t),this.keys.includes(t)&&(this.keys=this.keys.filter(h=>h!=t),await Bl.setItem("keys",JSON.stringify(this.keys)),await Bl.removeItem(t));const g=new Sr({type:Sr.TYPE_COMMENT,action:Sr.ACTION_DELETE,key:u.key,item_key:u.item_key});t.substr(0,4)=="temp"?await s.unsetChange(g):await s.setChange(g)},async sortAndLabelComments(){const t=ar(),s=Vb();this.comments=this.comments.sort(f1e);let a=0,u={};for(const g of this.comments){const h=s.getCorrector(g.corrector_key),x=h?h.initials:"??";if(g.parent_number>a){a=g.parent_number;for(const w of s.correctorKeys)u[w]=0;u[g.corrector_key]=1}else u[g.corrector_key]++;g.label=x+" "+a.toString()+"."+u[g.corrector_key].toString(),g.prefix=g.corrector_key==t.correctorKey?"own":"other"}},setFilterByRating(t,s,a){this.filterKeys=[];for(const u of this.comments)u.corrector_key==t&&u.rating_excellent==s&&u.rating_cardinal==a&&this.filterKeys.push(u.key);this.setFilterChange()},setFilterByPoints(t){const s=Yg();this.filterKeys=[];for(const a of this.comments)a.corrector_key==t&&s.getCommentHasPoints(a.key)&&this.filterKeys.push(a.key);this.setFilterChange()},setFilterByCriterion(t,s){const a=Yg();this.filterKeys=[];for(const u of this.comments)u.corrector_key==t&&a.getCommentHasPointsForCriterion(u.key,s)&&this.filterKeys.push(u.key);this.setFilterChange()},resetFilter(){this.filterKeys=[],this.setFilterChange()},async setShowOtherCorrectors(t){this.showOtherCorrectors=!!t,this.markerChange=Date.now(),await Bl.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))},async clearStorage(){try{await Bl.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=ar();try{this.$reset();const s=await Bl.getItem("keys");s&&(this.keys=JSON.parse(s)),this.showOtherCorrectors=!!JSON.parse(await Bl.getItem("showOtherCorrectors"));for(const a of this.keys){const u=new OC(JSON.parse(await Bl.getItem(a)));u.item_key==t.itemKey&&this.comments.push(u)}await this.sortAndLabelComments()}catch(s){console.log(s)}},async loadFromData(t){const s=ar();try{this.$reset(),this.showOtherCorrectors=!!JSON.parse(await Bl.getItem("showOtherCorrectors")),await Bl.clear();for(const a of t){const u=new OC(a);this.keys.push(u.key),await Bl.setItem(u.key,JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.comments.push(u)}await this.sortAndLabelComments(),await Bl.setItem("keys",JSON.stringify(this.keys)),await Bl.setItem("showOtherCorrectors",JSON.stringify(this.showOtherCorrectors))}catch(a){console.log(a)}},async getChangedData(t=0){const s=ar(),a=Qa(),u=[];for(const g of a.getChangesFor(Sr.TYPE_COMMENT,t)){const h=await Bl.getItem(g.key);h?u.push(s.getChangeDataToSend(g,JSON.parse(h))):u.push(s.getChangeDataToSend(g))}return u},async updateKeys(t={}){let s=[],a=[],u=[];for(const x of this.keys)if(x in t){if(t[x]==null)s.push(x);else if(x!=t[x]){let w=new OC(JSON.parse(await Bl.getItem(x)));w.key=t[x],a.push(x),u.push(w)}}let g=null;a.includes(this.selectedKey)&&(g=t[this.selectedKey],this.selectComment(g,!1)),this.comments=this.comments.filter(x=>!s.includes(x.key));for(const x of this.comments)a.includes(x.key)&&(x.key=t[x.key]);let h=[];for(const x of this.filterKeys)a.includes(x)?h.push(t[x]):h.push(x);this.filterKeys=h,this.keys=this.keys.filter(x=>!s.includes(x)&&!a.includes(x));for(const x of s)await Bl.removeItem(x);for(const x of a)this.keys.push(t[x]),await Bl.removeItem(x);for(const x of u)await Bl.setItem(x.key,JSON.stringify(x.getData()));return await Bl.setItem("keys",JSON.stringify(this.keys)),g}}}),f1e=function(t,s){return t.parent_number<s.parent_number?-1:t.parent_number>s.parent_number?1:t.start_position<s.start_position?-1:t.start_position>s.start_position?1:0},rU=ju.createInstance({storeName:"corrector-preferences",description:"Preferences data"}),q1=su("preferences",{state:()=>({essay_page_zoom:.25,essay_text_zoom:1,summary_text_zoom:1,include_comments:br.INCLUDE_INFO,include_comment_ratings:br.INCLUDE_INFO,include_comment_points:br.INCLUDE_INFO,include_criteria_points:br.INCLUDE_INFO}),getters:{allData:t=>({essay_page_zoom:t.essay_page_zoom,essay_text_zoom:t.essay_text_zoom,summary_text_zoom:t.summary_text_zoom,include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points}),summaryInclusions:t=>({include_comments:t.include_comments,include_comment_ratings:t.include_comment_ratings,include_comment_points:t.include_comment_points,include_criteria_points:t.include_criteria_points})},actions:{async clearStorage(){try{await rU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{const t=await rU.getItem("preferences");t&&this.$patch(t)}catch(t){console.log(t)}},async saveToStorage(){try{await rU.setItem("preferences",this.allData)}catch(t){console.log(t)}},async loadFromData(t){try{this.$patch(t),this.sent=!0,await this.saveToStorage()}catch(s){console.log(s)}},async update(){const t=Qa(),s=ar();await this.saveToStorage(),s.correctorKey&&await t.setChange(new Sr({type:Sr.TYPE_PREFERENCES,action:Sr.ACTION_SAVE,key:"preferences",item_key:s.itemKey}))},async getChangedData(t=0){const s=ar(),a=Qa(),u=[];for(const g of a.getChangesFor(Sr.TYPE_PREFERENCES,t))u.push(s.getChangeDataToSend(g,this.allData));return u},setSummaryInclusions(t){this.include_comments=t.include_comments,this.include_comment_ratings=t.include_comment_ratings,this.include_comment_points=t.include_comment_points,this.include_criteria_points=t.include_criteria_points,this.update()},zoomEssayPageIn(){this.essay_page_zoom=this.essay_page_zoom*1.1,this.update()},zoomEssayPageOut(){this.essay_page_zoom=this.essay_page_zoom*.9,this.update()},zoomEssayTextIn(){this.essay_text_zoom=this.essay_text_zoom*1.1,this.update()},zoomEssayTextOut(){this.essay_text_zoom=this.essay_text_zoom*.9,this.update()},zoomSummaryTextIn(){this.summary_text_zoom=this.summary_text_zoom*1.1,this.update()},zoomSummaryTextOut(){this.summary_text_zoom=this.summary_text_zoom*.9,this.update()}}}),ax=ju.createInstance({storeName:"corrector-summaries",description:"Corrector summaries data"}),sU=200;function m1e(){return{keys:[],summaries:{},editSummary:new br,lastCheck:0}}let IB=0;const ac=su("summaries",{state:()=>m1e(),getters:{isOwnDisabled:t=>t.editSummary.corrector_key==""||t.editSummary.is_authorized,isOwnAuthorized:t=>t.editSummary.is_authorized,isOneAuthorized:t=>{for(const s in t.summaries)if(t.summaries[s].is_authorized)return!0;return!1},areOthersAuthorized:t=>{for(const s in t.summaries){const a=t.summaries[s];if(a.getKey()!=t.editSummary.getKey()&&!a.is_authorized)return!1}return!0},currentPartialPointsAreIncluded:t=>Em().hasOwnCriteria?t.currentInclusionSettings.include_criteria_points>br.INCLUDE_NOT:t.currentInclusionSettings.include_comment_points>br.INCLUDE_NOT,currentGradeTitle(t){if(t.editSummary.grade_key){let a=_x().getLevel(t.editSummary.grade_key);if(a)return a.title}return"ohne Notenstufe"},currentInclusionSettings:t=>{const s=ru(),a=q1();return s.fixed_inclusions?s.summaryInclusions:t.editSummary.getInclusionSettings(a.summaryInclusions)},getAuthorizationForCorrector:t=>function(a){for(const u in t.summaries){const g=t.summaries[u];if(g.corrector_key==a)return g.is_authorized}return!1},getForCorrector:t=>function(a){for(const u in t.summaries){const g=t.summaries[u];if(g.corrector_key==a)return g}return null},getInclusionText:t=>{const s=ru(),a=Em();return function(g){let h="",x={};return g.corrector_key==t.editSummary.corrector_key?x=t.currentInclusionSettings:x=g.getInclusionSettings(),x.include_comments==br.INCLUDE_INFO?h=(h?h+", ":"")+"Anmerkungen (i)":x.include_comments==br.INCLUDE_RELEVANT&&(h=(h?h+", ":"")+"Anmerkungen (r)"),x.include_comment_ratings==br.INCLUDE_INFO?h=(h?h+", ":"")+s.ratingLabels+" (i)":x.include_comment_ratings==br.INCLUDE_RELEVANT&&(h=(h?h+", ":"")+s.ratingLabels+" (r)"),x.include_comment_points==br.INCLUDE_INFO?h=(h?h+", ":"")+"Punkte zu Anmerkungen (i)":x.include_comment_points==br.INCLUDE_RELEVANT&&(h=(h?h+", ":"")+"Punkte zu Anmerkungen (r)"),a.hasOwnCriteria&&(x.include_criteria_points==br.INCLUDE_INFO?h=(h?h+", ":"")+"Punkte zu Kriterien (i)":x.include_criteria_points==br.INCLUDE_RELEVANT&&(h=(h?h+", ":"")+"Punkte Kriterien (r)")),h==""&&(h="keine Detail-Informationen"),h}},stitchReasonText:t=>{let s=null,a=null,u=0,g=0;for(const x in t.summaries){const w=t.summaries[x].points;w!==null&&(u+=w,g++,(s===null||w<s)&&(s=w),(a===null||w>a)&&(a=w))}if(g==0)return"";const h=ru();if(h.stitch_when_distance&&a-s>h.max_auto_distance)return"Der Punkteunterschied bersteigt "+h.max_auto_distance+" Punkte!";if(h.stitch_when_decimals){let x=u/g;if(Math.floor(x)<x)return"Der Punktedurchschnitt "+x+" ist keine ganze Zahl!"}return""},minPoints:t=>{let s=null;for(const a in t.summaries){const u=t.summaries[a].points;(s===null||u<s)&&(s=u)}return s},maxPoints:t=>{let s=null;for(const a in t.summaries){const u=t.summaries[a].points;(s===null||u>s)&&(s=u)}return s}},actions:{async clearStorage(){try{await ax.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=ar();try{this.$reset();const s=await ax.getItem("keys");s&&(this.keys=JSON.parse(s));for(const a of this.keys){const u=new br(JSON.parse(await ax.getItem(a)));u.item_key==t.itemKey&&(this.summaries[a]=u),u.corrector_key==t.correctorKey&&(this.editSummary=u.getClone())}}catch(s){console.log(s)}IB=0,t.setInterval("summariesStore.updateContent",this.updateContent,sU)},async loadFromData(t){const s=ar();try{await ax.clear(),this.$reset();for(const a of t){const u=new br(a);this.keys.push(u.getKey()),await ax.setItem(u.getKey(),JSON.stringify(u.getData())),u.item_key==s.itemKey&&(this.summaries[u.getKey()]=u),u.corrector_key==s.correctorKey&&(this.editSummary=u.getClone())}await ax.setItem("keys",JSON.stringify(this.keys))}catch(a){console.log(a)}IB=0,s.setInterval("summariesStore.updateContent",this.updateContent,sU)},async updateContent(t=!1,s=!1){const a=this.summaries[this.editSummary.getKey()]??new br;if(a.is_authorized)return;const u=Date.now();if(u-this.lastCheck<sU&&!s||IB++&&!s||Cx().correctionEndReached)return;const h=ru();isNaN(this.editSummary.points)?this.editSummary.points=null:this.editSummary.points<0?this.editSummary.points=0:this.editSummary.points>h.max_points&&(this.editSummary.points=h.max_points);let w=_x().getLevelForPoints(this.editSummary.points);w?this.editSummary.grade_key=w.key:this.editSummary.grade_key="";try{const T=this.editSummary.getClone();if(!T.isEqual(a)&&this.keys.includes(T.getKey())){const I=ar(),R=Qa();T.last_change=I.getServerTime(Date.now()),this.editSummary.setData(T.getData()),this.summaries[T.getKey()]=T,await ax.setItem(a.getKey(),JSON.stringify(T.getData())),await R.setChange(new Sr({type:Sr.TYPE_SUMMARY,action:Sr.ACTION_SAVE,key:T.getKey(),item_key:T.item_key})),console.log("Save Change ","| Editor: ",t,"| Duration:",Date.now()-u,"ms")}this.lastCheck=u}catch(T){console.error(T)}IB=0},async getChangedData(t=0){const s=ar(),a=Qa(),u=[];for(const g of a.getChangesFor(Sr.TYPE_SUMMARY,t)){const h=await ax.getItem(g.key);h?u.push(s.getChangeDataToSend(g,JSON.parse(h))):u.push(s.getChangeDataToSend(g))}return u},async setOwnAuthorized(){this.editSummary.is_authorized=!0,this.editSummary.setData(this.currentInclusionSettings),await this.updateContent(!1,!0)}}}),ED=class ED{constructor(s={}){xn(this,"key","");xn(this,"purpose","");xn(this,"text","");xn(this,"deleted",!1);s.key!==void 0&&s.key!==null?this.key=s.key.toString():this.key=ED.newKey(),s.purpose!==void 0&&s.purpose!==null&&(this.purpose=s.purpose.toString()),s.text!==void 0&&s.text!==null&&(this.text=s.text.toString())}static newKey(){return"SNIP_"+Math.random().toString()}static compare(s,a){return s.text<a.text?-1:s.text>a.text?1:0}getData(){return{key:this.key,purpose:this.purpose,text:this.text}}};xn(ED,"FOR_COMMENT","for_comment"),xn(ED,"FOR_SUMMARY","for_summary");let Ac=ED;const zg=ju.createInstance({storeName:"corrector-snippets",description:"Text Snippets"}),SD=su("snippets",{state:()=>({keys:[],snippets:[],selection_open:!1,open_for_purpose:null,open_for_key:null,insert_text:"",select:null,edit:new Ac}),getters:{forComment:t=>t.snippets.filter(s=>s.purpose==Ac.FOR_COMMENT),forSummary:t=>t.snippets.filter(s=>s.purpose==Ac.FOR_SUMMARY),has:t=>function(a){return t.keys.includes(a)},get:t=>function(a){return t.snippets.find(u=>u.key==a)}},actions:{openSelection(t,s){this.open_for_purpose=t,this.open_for_key=s,this.insert_text="",this.selection_open=!0},async clearStorage(){try{await zg.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await zg.getItem("keys");t&&(this.keys=JSON.parse(t));for(const s of this.keys)this.snippets.push(new Ac(JSON.parse(await zg.getItem(s)))),this.snippets=this.snippets.sort(Ac.compare)}catch(t){console.log(t)}},async loadFromData(t){try{await zg.clear(),this.$reset();for(const s of t){const a=new Ac(s);this.keys.push(a.key),await zg.setItem(a.key,JSON.stringify(a.getData())),this.snippets.push(a),this.snippets=this.snippets.sort(Ac.compare)}await zg.setItem("keys",JSON.stringify(this.keys))}catch(s){console.log(s)}},async createSnippet(t){this.keys.push(t.key),this.snippets.push(t),this.snippets=this.snippets.sort(Ac.compare),await zg.setItem(t.key,JSON.stringify(t.getData())),await zg.setItem("keys",JSON.stringify(this.keys)),await Qa().setChange(new Sr({type:Sr.TYPE_SNIPPETS,action:Sr.ACTION_SAVE,key:t.key}))},async updateSnippet(t){this.has(t.key)&&(this.snippets=this.snippets.sort(Ac.compare),await zg.setItem(t.key,JSON.stringify(t.getData())),await Qa().setChange(new Sr({type:Sr.TYPE_SNIPPETS,action:Sr.ACTION_SAVE,key:t.key})))},async deleteSnippet(t){this.has(t)&&(this.snippets=this.snippets.filter(a=>a.key!=t).sort(Ac.compare),this.keys=this.keys.filter(a=>a!=t),await zg.setItem("keys",JSON.stringify(this.keys)),await zg.removeItem(t),await Qa().setChange(new Sr({type:Sr.TYPE_SNIPPETS,action:Sr.ACTION_DELETE,key:t})))},async getChangedData(t=0){const s=ar(),a=Qa(),u=[];for(const g of a.getChangesFor(Sr.TYPE_SNIPPETS,t)){const h=await zg.getItem(g.key);h?u.push(s.getChangeDataToSend(g,JSON.parse(h))):u.push(s.getChangeDataToSend(g))}return u}}});var iU={exports:{}},aU={exports:{}},MY;function g1e(){return MY||(MY=1,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(a,u){return a<<u|a>>>32-u},rotr:function(a,u){return a<<32-u|a>>>u},endian:function(a){if(a.constructor==Number)return s.rotl(a,8)&16711935|s.rotl(a,24)&4278255360;for(var u=0;u<a.length;u++)a[u]=s.endian(a[u]);return a},randomBytes:function(a){for(var u=[];a>0;a--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(a){for(var u=[],g=0,h=0;g<a.length;g++,h+=8)u[h>>>5]|=a[g]<<24-h%32;return u},wordsToBytes:function(a){for(var u=[],g=0;g<a.length*32;g+=8)u.push(a[g>>>5]>>>24-g%32&255);return u},bytesToHex:function(a){for(var u=[],g=0;g<a.length;g++)u.push((a[g]>>>4).toString(16)),u.push((a[g]&15).toString(16));return u.join("")},hexToBytes:function(a){for(var u=[],g=0;g<a.length;g+=2)u.push(parseInt(a.substr(g,2),16));return u},bytesToBase64:function(a){for(var u=[],g=0;g<a.length;g+=3)for(var h=a[g]<<16|a[g+1]<<8|a[g+2],x=0;x<4;x++)g*8+x*6<=a.length*8?u.push(t.charAt(h>>>6*(3-x)&63)):u.push("=");return u.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],g=0,h=0;g<a.length;h=++g%4)h!=0&&u.push((t.indexOf(a.charAt(g-1))&Math.pow(2,-2*h+8)-1)<<h*2|t.indexOf(a.charAt(g))>>>6-h*2);return u}};aU.exports=s}()),aU.exports}var lU,BY;function FY(){if(BY)return lU;BY=1;var t={utf8:{stringToBytes:function(s){return t.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(t.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var a=[],u=0;u<s.length;u++)a.push(s.charCodeAt(u)&255);return a},bytesToString:function(s){for(var a=[],u=0;u<s.length;u++)a.push(String.fromCharCode(s[u]));return a.join("")}}};return lU=t,lU}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var cU,$Y;function h1e(){if($Y)return cU;$Y=1,cU=function(a){return a!=null&&(t(a)||s(a)||!!a._isBuffer)};function t(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function s(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&t(a.slice(0,0))}return cU}var VY;function p1e(){return VY||(VY=1,function(){var t=g1e(),s=FY().utf8,a=h1e(),u=FY().bin,g=function(h,x){h.constructor==String?x&&x.encoding==="binary"?h=u.stringToBytes(h):h=s.stringToBytes(h):a(h)?h=Array.prototype.slice.call(h,0):!Array.isArray(h)&&h.constructor!==Uint8Array&&(h=h.toString());for(var w=t.bytesToWords(h),T=h.length*8,I=1732584193,R=-271733879,N=-1732584194,H=271733878,W=0;W<w.length;W++)w[W]=(w[W]<<8|w[W]>>>24)&16711935|(w[W]<<24|w[W]>>>8)&4278255360;w[T>>>5]|=128<<T%32,w[(T+64>>>9<<4)+14]=T;for(var Z=g._ff,J=g._gg,se=g._hh,j=g._ii,W=0;W<w.length;W+=16){var he=I,ae=R,U=N,de=H;I=Z(I,R,N,H,w[W+0],7,-680876936),H=Z(H,I,R,N,w[W+1],12,-389564586),N=Z(N,H,I,R,w[W+2],17,606105819),R=Z(R,N,H,I,w[W+3],22,-1044525330),I=Z(I,R,N,H,w[W+4],7,-176418897),H=Z(H,I,R,N,w[W+5],12,1200080426),N=Z(N,H,I,R,w[W+6],17,-1473231341),R=Z(R,N,H,I,w[W+7],22,-45705983),I=Z(I,R,N,H,w[W+8],7,1770035416),H=Z(H,I,R,N,w[W+9],12,-1958414417),N=Z(N,H,I,R,w[W+10],17,-42063),R=Z(R,N,H,I,w[W+11],22,-1990404162),I=Z(I,R,N,H,w[W+12],7,1804603682),H=Z(H,I,R,N,w[W+13],12,-40341101),N=Z(N,H,I,R,w[W+14],17,-1502002290),R=Z(R,N,H,I,w[W+15],22,1236535329),I=J(I,R,N,H,w[W+1],5,-165796510),H=J(H,I,R,N,w[W+6],9,-1069501632),N=J(N,H,I,R,w[W+11],14,643717713),R=J(R,N,H,I,w[W+0],20,-373897302),I=J(I,R,N,H,w[W+5],5,-701558691),H=J(H,I,R,N,w[W+10],9,38016083),N=J(N,H,I,R,w[W+15],14,-660478335),R=J(R,N,H,I,w[W+4],20,-405537848),I=J(I,R,N,H,w[W+9],5,568446438),H=J(H,I,R,N,w[W+14],9,-1019803690),N=J(N,H,I,R,w[W+3],14,-187363961),R=J(R,N,H,I,w[W+8],20,1163531501),I=J(I,R,N,H,w[W+13],5,-1444681467),H=J(H,I,R,N,w[W+2],9,-51403784),N=J(N,H,I,R,w[W+7],14,1735328473),R=J(R,N,H,I,w[W+12],20,-1926607734),I=se(I,R,N,H,w[W+5],4,-378558),H=se(H,I,R,N,w[W+8],11,-2022574463),N=se(N,H,I,R,w[W+11],16,1839030562),R=se(R,N,H,I,w[W+14],23,-35309556),I=se(I,R,N,H,w[W+1],4,-1530992060),H=se(H,I,R,N,w[W+4],11,1272893353),N=se(N,H,I,R,w[W+7],16,-155497632),R=se(R,N,H,I,w[W+10],23,-1094730640),I=se(I,R,N,H,w[W+13],4,681279174),H=se(H,I,R,N,w[W+0],11,-358537222),N=se(N,H,I,R,w[W+3],16,-722521979),R=se(R,N,H,I,w[W+6],23,76029189),I=se(I,R,N,H,w[W+9],4,-640364487),H=se(H,I,R,N,w[W+12],11,-421815835),N=se(N,H,I,R,w[W+15],16,530742520),R=se(R,N,H,I,w[W+2],23,-995338651),I=j(I,R,N,H,w[W+0],6,-198630844),H=j(H,I,R,N,w[W+7],10,1126891415),N=j(N,H,I,R,w[W+14],15,-1416354905),R=j(R,N,H,I,w[W+5],21,-57434055),I=j(I,R,N,H,w[W+12],6,1700485571),H=j(H,I,R,N,w[W+3],10,-1894986606),N=j(N,H,I,R,w[W+10],15,-1051523),R=j(R,N,H,I,w[W+1],21,-2054922799),I=j(I,R,N,H,w[W+8],6,1873313359),H=j(H,I,R,N,w[W+15],10,-30611744),N=j(N,H,I,R,w[W+6],15,-1560198380),R=j(R,N,H,I,w[W+13],21,1309151649),I=j(I,R,N,H,w[W+4],6,-145523070),H=j(H,I,R,N,w[W+11],10,-1120210379),N=j(N,H,I,R,w[W+2],15,718787259),R=j(R,N,H,I,w[W+9],21,-343485551),I=I+he>>>0,R=R+ae>>>0,N=N+U>>>0,H=H+de>>>0}return t.endian([I,R,N,H])};g._ff=function(h,x,w,T,I,R,N){var H=h+(x&w|~x&T)+(I>>>0)+N;return(H<<R|H>>>32-R)+x},g._gg=function(h,x,w,T,I,R,N){var H=h+(x&T|w&~T)+(I>>>0)+N;return(H<<R|H>>>32-R)+x},g._hh=function(h,x,w,T,I,R,N){var H=h+(x^w^T)+(I>>>0)+N;return(H<<R|H>>>32-R)+x},g._ii=function(h,x,w,T,I,R,N){var H=h+(w^(x|~T))+(I>>>0)+N;return(H<<R|H>>>32-R)+x},g._blocksize=16,g._digestsize=16,iU.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var w=t.wordsToBytes(g(h,x));return x&&x.asBytes?w:x&&x.asString?u.bytesToString(w):t.bytesToHex(w)}}()),iU.exports}var b1e=p1e();const v1e=eK(b1e),zY=5e3,ar=su("api",{state:()=>({backendUrl:"",returnUrl:"",userKey:"",environmentKey:"",correctorKey:"",itemKey:"",dataToken:"",fileToken:"",timeOffset:0,isReview:!1,isStitchDecision:!1,initialized:!1,showInitFailure:!1,showItemLoadFailure:!1,showAuthorization:!1,showSendFailure:!1,showDataReplaceConfirmation:!1,showItemReplaceConfirmation:!1,lastSendingTry:0,lastLoadingTry:0,intervals:{}}),getters:{isLoading:t=>t.lastLoadingTry>0,isForReviewOrStitch:t=>t.isReview||t.isStitchDecision,storedItemKey:t=>localStorage.getItem("correctorItemKey"),getRequestConfig:t=>function(a){let u=t.backendUrl,g=new URLSearchParams,h=u.search(/\?+/);return h!=-1&&(g=new URLSearchParams(u.substr(h)),u=u.substr(0,h)),g.append("LongEssayUser",t.userKey),g.append("LongEssayEnvironment",t.environmentKey),g.append("LongEssayIsReview",t.isReview?"1":"0"),g.append("LongEssayIsStitchDecision",t.isStitchDecision?"1":"0"),g.append("LongEssaySignature",v1e(t.userKey+t.environmentKey+a)),{baseURL:u,params:g,timeout:3e4,responseType:"json",responseEncoding:"utf8"}},getResourceUrl:t=>function(a){const u=this.getRequestConfig(this.fileToken);return u.baseURL+"/file/"+a+"?"+u.params.toString()},getImageUrl:t=>function(a,u){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/image/"+u+"/"+a+"?"+g.params.toString()},getThumbUrl:t=>function(a,u){const g=this.getRequestConfig(this.fileToken);return g.baseURL+"/thumb/"+u+"/"+a+"?"+g.params.toString()},getServerTime:t=>function(a){return Math.floor((a-t.timeOffset)/1e3)},getChangeDataToSend:t=>function(a,u=null){const g=a.getData();return u&&(g.payload=u),g.server_time=t.getServerTime(a.last_change),g}},actions:{async init(){let t=!1,s=!1;if(this.backendUrl=localStorage.getItem("correctorBackendUrl"),this.returnUrl=localStorage.getItem("correctorReturnUrl"),this.userKey=localStorage.getItem("correctorUserKey"),this.environmentKey=localStorage.getItem("correctorEnvironmentKey"),this.correctorKey=localStorage.getItem("correctorCorrectorKey"),this.itemKey=localStorage.getItem("correctorItemKey"),this.dataToken=localStorage.getItem("correctorDataToken"),this.fileToken=localStorage.getItem("correctorFileToken"),this.timeOffset=Math.floor(localStorage.getItem("correctorTimeOffset")??0),this.isReview=!!localStorage.getItem("correctorIsReview"),this.isStitchDecision=!!localStorage.getItem("correctorIsStitchDecision"),ys.get("LongEssayUser")!=null&&ys.get("LongEssayUser")!==this.userKey&&(this.userKey=ys.get("LongEssayUser"),t=!0),ys.get("LongEssayEnvironment")!=null&&ys.get("LongEssayEnvironment")!==this.environmentKey&&(this.environmentKey=ys.get("LongEssayEnvironment"),t=!0),ys.get("LongEssayCorrector")!=null&&ys.get("LongEssayCorrector")!==this.correctorKey&&(this.correctorKey=ys.get("LongEssayCorrector"),t=!0),ys.get("LongEssayIsReview")!=null&&ys.get("LongEssayIsReview")=="1"!==this.isReview&&(this.isReview=ys.get("LongEssayIsReview")=="1",t=!0),ys.get("LongEssayIsReview")!=null&&ys.get("LongEssayIsStitchDecision")=="1"!==this.isStitchDecision&&(this.isStitchDecision=ys.get("LongEssayIsStitchDecision")=="1",t=!0),this.isForReviewOrStitch&&(this.correctorKey=""),ys.get("LongEssayItem")!=null&&ys.get("LongEssayItem")!==this.itemKey&&(this.itemKey=ys.get("LongEssayItem"),s=!0),ys.get("LongEssayBackend")!=null&&ys.get("LongEssayBackend")!==this.backendUrl&&(this.backendUrl=ys.get("LongEssayBackend")),ys.get("LongEssayReturn")!=null&&ys.get("LongEssayReturn")!==this.returnUrl&&(this.returnUrl=ys.get("LongEssayReturn")),ys.get("LongEssayToken")!=null&&ys.get("LongEssayToken")!==this.dataToken&&(this.dataToken=ys.get("LongEssayToken")),!this.backendUrl||!this.returnUrl||!this.userKey||!this.environmentKey||!this.dataToken){this.showInitFailure=!0;return}await Qa().hasChangesInStorage()?t?(console.log("init: open saving, new context"),await this.loadDataFromStorage(),this.showDataReplaceConfirmation=!0):s?(console.log("init: open saving, same context, new item"),await this.loadDataFromStorage(),this.showItemReplaceConfirmation=!0):(console.log("init: open saving, same context, same item"),await this.loadDataFromStorage(),this.initAfterKeepDataConfirmed()):(console.log("init: no open saving"),this.initAfterReplaceDataConfirmed())},async initAfterReplaceDataConfirmed(){console.log("initAfterReplaceDataConfirmed"),this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,await this.loadDataFromBackend()&&(await this.loadItemFromBackend(this.itemKey),this.finishInitialisation()),this.updateConfig()},async initAfterKeepDataConfirmed(){console.log("initAfterKeepDataConfirmed");const t=Mb();this.showDataReplaceConfirmation=!1,this.showItemReplaceConfirmation=!1,this.itemKey=localStorage.getItem("correctorItemKey"),await await this.loadItemFromStorage(this.itemKey);const s=t.getItem(this.itemKey);await this.loadDataFromBackend()&&(await t.addItem(s),await this.loadItemFromStorage(this.itemKey),this.finishInitialisation()),this.updateConfig()},finishInitialisation(){const t=yf(),s=Fl(),a=Vb();if(this.isForReviewOrStitch&&t.setShowOtherCorrectors(!0),this.isStitchDecision){let u=0;for(const g of a.correctors)if(s.selectCorrector(g.corrector_key),u++,u==2)break}this.initialized=!0},updateConfig(){ys.remove("LongEssayBackend"),ys.remove("LongEssayReturn"),ys.remove("LongEssayUser"),ys.remove("LongEssayEnvironment"),ys.remove("LongEssayCorrector"),ys.remove("LongEssayItem"),ys.remove("LongEssayToken"),ys.remove("LongEssayIsReview"),ys.remove("LongEssayIsStitchDecision"),localStorage.setItem("correctorBackendUrl",this.backendUrl),localStorage.setItem("correctorReturnUrl",this.returnUrl),localStorage.setItem("correctorUserKey",this.userKey),localStorage.setItem("correctorEnvironmentKey",this.environmentKey),localStorage.setItem("correctorCorrectorKey",this.correctorKey),localStorage.setItem("correctorItemKey",this.itemKey),localStorage.setItem("correctorDataToken",this.dataToken),localStorage.setItem("correctorFileToken",this.fileToken),localStorage.setItem("correctorIsReview",this.isReview?"1":""),localStorage.setItem("correctorIsStitchDecision",this.isStitchDecision?"1":"")},async loadDataFromStorage(){console.log("loadDataFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const t=Em(),s=Mb(),a=Fl(),u=_x(),g=q1(),h=BC(),x=ru(),w=Cx(),T=SD();return await t.loadFromStorage(),await s.loadFromStorage(),await a.loadFromStorage(),await u.loadFromStorage(),await g.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await w.loadFromStorage(),await T.loadFromStorage(),this.setLoading(!1),!0},async loadItemFromStorage(t){console.log("loadItemFromStorage..."),this.setLoading(!0),this.clearAllIntervals();const s=Mb();(t==""||s.getItem(t)==null)&&(t=s.firstKey),this.itemKey=t,localStorage.setItem("itemKey",this.itemKey);const a=Qa(),u=yf(),g=Vb(),h=HD(),x=x8(),w=Yg(),T=ac();return await a.loadFromStorage(),await u.loadFromStorage(),await g.loadFromStorage(),await h.loadFromStorage(),await x.loadFromStorage(),await w.loadFromStorage(),await T.loadFromStorage(),u.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,zY),!0},async loadDataFromBackend(){console.log("loadDataFromBackend..."),this.setLoading(!0),this.clearAllIntervals();let t={};try{t=await Ui.get("/data",this.getRequestConfig(this.dataToken)),this.setTimeOffset(t),this.refreshToken(t)}catch(R){return console.error(R),this.showInitFailure=!0,this.setLoading(!1),!1}const s=Em(),a=Mb(),u=Fl(),g=_x(),h=q1(),x=BC(),w=ru(),T=Cx(),I=SD();return await s.loadFromData(t.data.criteria),await a.loadFromData(t.data.items),await u.clearStorage(),await g.loadFromData(t.data.levels),await h.loadFromData(t.data.preferences),await x.loadFromData(t.data.resources),await w.loadFromData(t.data.settings),await T.loadFromData(t.data.task),await I.loadFromData(t.data.snippets),this.setLoading(!1),!0},async loadItemFromBackend(t){console.log("loadItemFromBackend..."),this.setLoading(!0),this.clearAllIntervals();const s=Mb();(t==""||s.getItem(t)==null)&&(t=s.firstKey);let a={};try{a=await Ui.get("/item/"+t,this.getRequestConfig(this.dataToken)),this.setTimeOffset(a),this.refreshToken(a)}catch(R){return console.error(R),this.showItemLoadFailure=!0,this.setLoading(!1),!1}this.itemKey=t,localStorage.setItem("itemKey",this.itemKey),s.updateItem(new lW(a.data.item));const u=Qa(),g=Vb(),h=yf(),x=HD(),w=x8(),T=Yg(),I=ac();return await u.clearStorage(),await g.loadFromData(a.data.correctors),await h.loadFromData(a.data.comments),await x.loadFromData(a.data.essay),await w.loadFromData(a.data.pages),await T.loadFromData(a.data.points),await I.loadFromData(a.data.summaries),h.setMarkerChange(),this.setLoading(!1),s.correctionAllowed&&this.setInterval("apiStore.saveChangesToBackend",this.saveChangesToBackend,zY),!0},async saveChangesToBackend(t=!1){const s=Qa(),a=yf(),u=Yg(),g=ac(),h=SD(),x=q1();if(!await this.isSending(!0)){this.setSending(!0);try{const w={comments:await a.getChangedData(this.lastSendingTry),points:await u.getChangedData(this.lastSendingTry),summaries:await g.getChangedData(this.lastSendingTry),snippets:await h.getChangedData(this.lastSendingTry),preferences:await x.getChangedData(this.lastSendingTry)},T=await Ui.put("/changes/"+this.itemKey,w,this.getRequestConfig(this.dataToken));this.setTimeOffset(T),this.refreshToken(T);const I=await a.updateKeys(T.data.comments);await u.changeCommentKeys(T.data.comments),await u.updateKeys(T.data.points),I!==null&&await a.selectComment(I,!0),await s.setChangesSent(Sr.TYPE_COMMENT,T.data.comments,this.lastSendingTry),await s.setChangesSent(Sr.TYPE_POINTS,T.data.points,this.lastSendingTry),await s.setChangesSent(Sr.TYPE_SUMMARY,T.data.summaries,this.lastSendingTry),await s.setChangesSent(Sr.TYPE_SNIPPETS,T.data.snippets,this.lastSendingTry),await s.setChangesSent(Sr.TYPE_PREFERENCES,T.data.preferences,this.lastSendingTry)}catch(w){return console.error(w),this.setSending(!1),!1}this.setSending(!1)}return!0},async saveStitchDecisionToBackend(t){let s={};try{return s=await Ui.put("/stitch/"+this.itemKey,t,this.getRequestConfig(this.dataToken)),this.setTimeOffset(s),this.refreshToken(s),!0}catch(a){return console.error(a),!1}},setTimeOffset(t){if(t.headers.longessaytime){const s=t.headers.longessaytime*1e3,a=Date.now();this.timeOffset=a-s,localStorage.setItem("writerTimeOffset",this.timeOffset)}},refreshToken(t){t.headers.longessaydatatoken&&(this.dataToken=t.headers.longessaydatatoken,localStorage.setItem("correctorDataToken",this.dataToken)),t.headers.longessayfiletoken&&(this.fileToken=t.headers.longessayfiletoken,localStorage.setItem("correctorFileToken",this.fileToken))},async isSending(t=!1){if(t){let s=0;for(;s<5&&this.lastSendingTry>0;)s++,await new Promise(a=>setTimeout(a,1e3))}return this.lastSendingTry>0},setSending(t){t?this.lastSendingTry=Date.now():this.lastSendingTry=0},setLoading(t){t?this.lastLoadingTry=Date.now():this.lastLoadingTry=0},setShowAuthorization(t){this.showAuthorization=t},setShowSendFailure(t){this.showSendFailure=t},setInterval(t,s,a){t in this.intervals&&(console.log("clear interval "+t),clearInterval(this.intervals[t])),console.log("set interval "+t),this.intervals[t]=setInterval(s,a)},clearAllIntervals(){console.log("clear all intervals ");for(const t in this.intervals)console.log("clear interval "+t),clearInterval(this.intervals[t]),delete this.intervals[t]}}});class HY{constructor(s={}){xn(this,"item_key","");xn(this,"corrector_key","");xn(this,"title","");xn(this,"initials","");xn(this,"position",0);s.item_key!==void 0&&s.item_key!==null&&(this.item_key=s.item_key.toString()),s.corrector_key!==void 0&&s.corrector_key!==null&&(this.corrector_key=s.corrector_key.toString()),s.title!==void 0&&s.title!==null&&(this.title=s.title.toString()),s.initials!==void 0&&s.initials!==null&&(this.initials=s.initials.toString().toUpperCase()),s.position!==void 0&&s.position!==null&&(this.position=parseInt(s.position))}getKey(){return"ITM-"+this.item_key+"-COR-"+this.corrector_key}getData(){return{item_key:this.item_key,corrector_key:this.corrector_key,title:this.title,initials:this.initials,position:this.position}}}const oE=ju.createInstance({storeName:"corrector-correctors",description:"Correctors data"}),Vb=su("correctors",{state:()=>({keys:[],correctors:[]}),getters:{countCorrectors:t=>t.correctors.length,correctorKeys:t=>{let s=[];for(const a of t.correctors)s.push(a.corrector_key);return s},otherCorrectors:t=>{const s=ar();return t.correctors.filter(a=>a.corrector_key!=s.correctorKey).sort((a,u)=>a.position-u.position)},getPositionText:t=>function(a){if(t.correctors.length<=1)return"";const u=t.correctors.find(g=>g.corrector_key==a);return u?u.position==0?"(Erstkorrektur)":u.position==1?"(Zweitkorrektur)":u.position==t.correctors.length-1?"(Endkorrektur)":"("+(u.position+1)+". Korrektur)":""},getCorrector:t=>function(a){return t.correctors.find(u=>u.corrector_key==a)}},actions:{async clearStorage(){try{await oE.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){const t=ar();try{this.$reset();const s=await oE.getItem("correctorKeys");s&&(this.keys=JSON.parse(s));for(const a of this.keys){const u=new HY(JSON.parse(await oE.getItem(a)));u.item_key==t.itemKey&&this.correctors.push(u)}}catch(s){console.log(s)}},async loadFromData(t){const s=ar();try{await oE.clear(),this.$reset();for(const a of t){const u=new HY(a);this.keys.push(u.getKey()),await oE.setItem(u.getKey(),JSON.stringify(u.getData())),u.item_key==s.itemKey&&this.correctors.push(u)}await oE.setItem("correctorKeys",JSON.stringify(this.keys))}catch(a){console.log(a)}}}}),uU=ju.createInstance({storeName:"corrector-layout",description:"Layout data"}),Fl=su("layout",{state:()=>({expandedColumn:"none",leftContent:"essay",rightContent:"marking",showMarkingComments:!0,showMarkingGeneralCriteria:!0,showMarkingCommentCriteria:!0,showMarkingText:!1,showLeftSummaryCriteria:!0,showRightSummaryCriteria:!0,showLeftSummaryText:!0,showRightSummaryText:!0,leftCorrectorKey:"",rightCorrectorKey:"",showIncludesPopup:!1,focusTarget:"",focusChange:0}),getters:{isLeftExpanded:t=>t.expandedColumn=="left",isRightExpanded:t=>t.expandedColumn=="right",isInstructionsSelected:t=>t.leftContent=="instructions",isInstructionsPdfSelected:t=>t.leftContent=="instructionsPdf",isSolutionSelected:t=>t.leftContent=="solution",isSolutionPdfSelected:t=>t.leftContent=="solutionPdf",isResourcesSelected:t=>t.leftContent=="resources",isEssaySelected:t=>t.leftContent=="essay",isSummarySelected:t=>t.rightContent=="summary",isMarkingSelected:t=>t.rightContent=="marking",isLeftCorrectorSelected:t=>t.leftContent=="corrector",isRightCorrectorSelected:t=>t.rightContent=="corrector",isInstructionsVisible:t=>t.isInstructionsSelected&&t.isLeftVisible,isInstructionsPdfVisible:t=>t.isInstructionsPdfSelected&&t.isLeftVisible,isSolutionVisible:t=>t.isSolutionSelected&&t.isLeftVisible,isSolutionPdfVisible:t=>t.isSolutionPdfSelected&&t.isLeftVisible,isResourcesVisible:t=>t.isResourcesSelected&&t.isLeftVisible,isEssayVisible:t=>t.isEssaySelected&&t.isLeftVisible,isSummaryVisible:t=>t.isSummarySelected&&t.isRightVisible,isMarkingVisible:t=>t.isMarkingSelected&&t.isRightVisible,isLeftCorrectorVisible:t=>t.isLeftCorrectorSelected&&t.isLeftVisible,isRightCorrectorVisible:t=>t.isRightCorrectorSelected&&t.isRightVisible,isLeftVisible:t=>!ar().isLoading&&t.expandedColumn!="right",isRightVisible:t=>!ar().isLoading&&t.expandedColumn!="left",leftCorrectorTitle:t=>{const s=Vb(),a=s.getCorrector(t.leftCorrectorKey);return a?"Korrektur von "+a.title+" "+s.getPositionText(a.corrector_key):""},rightCorrectorTitle:t=>{const s=Vb(),a=s.getCorrector(t.rightCorrectorKey);return a?"Korrektur von "+a.title+" "+s.getPositionText(a.corrector_key):""},getCorrectorIsVisible:t=>function(a){return t.leftCorrectorKey==a&&t.isLeftCorrectorVisible||t.rightCorrectorKey==a&&t.isRightCorrectorVisible}},actions:{async clearStorage(){try{await uU.clear()}catch(t){console.log(t)}this.$reset()},async loadFromStorage(){try{this.$reset();const t=await uU.getItem("layout");t&&(this.expandedColumn=t.expandedColumn,this.rightContent=t.rightContent,this.showMarkingComments=!!t.showMarkingComments,this.showMarkingGeneralCriteria=!!t.showMarkingGeneralCriteria,this.showMarkingCommentCriteria=!!t.showMarkingCommentCriteria,this.showMarkingText=!!t.showMarkingText,this.showLeftSummaryCriteria=!!t.showLeftSummaryCriteria,this.showRightSummaryCriteria=!!t.showRightSummaryCriteria,this.showLeftSummaryText=!!t.showLeftSummaryText,this.showRightSummaryText=!!t.showRightSummaryText),!this.showMarkingComments&&!this.showMarkingGeneralCriteria&&!this.showMarkingCommentCriteria&&(this.showMarkingComments=!0),!this.showLeftSummaryCriteria&&!this.showLeftSummaryText&&(this.showLeftSummaryCriteria=!0),!this.showRightSummaryCriteria&&!this.showRightSummaryText&&(this.showRightSummaryCriteria=!0)}catch(t){console.log(t)}},async saveToStorage(){try{await uU.setItem("layout",{expandedColumn:this.expandedColumn,leftContent:this.leftContent,rightContent:this.rightContent,showMarkingComments:this.showMarkingComments,showMarkingGeneralCriteria:this.showMarkingGeneralCriteria,showMarkingCommentCriteria:this.showMarkingCommentCriteria,showMarkingText:this.showMarkingText,showLeftSummaryCriteria:this.showLeftSummaryCriteria,showRightSummaryCriteria:this.showRightSummaryCriteria,showLeftSummaryText:this.showLeftSummaryText,showRightSummaryText:this.showRightSummaryText})}catch(t){console.log(t)}},showInstructions(){this.leftContent="instructions",this.setLeftVisible(),this.saveToStorage()},showInstructionsPdf(){this.leftContent="instructionsPdf",this.setLeftVisible(),this.saveToStorage()},showSolution(){this.leftContent="solution",this.setLeftVisible(),this.saveToStorage()},showSolutionPdf(){this.leftContent="solutionPdf",this.setLeftVisible(),this.saveToStorage()},showResources(){this.leftContent="resources",this.setLeftVisible(),this.saveToStorage()},showLeftCorrector(){this.leftContent="corrector",this.setLeftVisible(),this.saveToStorage()},showRightCorrector(){this.rightContent="corrector",this.setRightVisible(),this.saveToStorage()},showEssay(){this.leftContent="essay",this.setLeftVisible(),this.saveToStorage()},showMarking(){this.rightContent="marking",this.setRightVisible(),this.saveToStorage()},showSummary(){this.rightContent="summary",this.setRightVisible(),this.saveToStorage()},showOwnSummaryText(){this.rightContent="summary",this.showRightSummaryText=!0,this.setRightVisible("ownSummary"),this.saveToStorage()},setLeftVisible(t=null){if(this.isLeftVisible||(this.expandedColumn="left",this.saveToStorage()),t===null)switch(this.leftContent){case"instructions":case"solution":case"essay":t=this.leftContent;break}this.setFocusChange(t??"appHeadLeft")},setRightVisible(t=null){this.isRightVisible||(this.expandedColumn="right",this.saveToStorage()),this.setFocusChange(t??"appHeadRight")},setLeftExpanded(t){this.expandedColumn=t?"left":"none",this.saveToStorage()},setRightExpanded(t){this.expandedColumn=t?"right":"none",this.saveToStorage()},focusMarkingCommentCriteriaSum(){this.showMarkingComments||(this.showMarkingComments=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteriaSum")},focusMarkingGeneralCriteria(){this.showMarkingGeneralCriteria||(this.showMarkingGeneralCriteria=!0,this.saveToStorage()),this.setFocusChange("markingGeneralCriteria")},focusMarkingCommentCriteria(){this.showMarkingCommentCriteria||(this.showMarkingCommentCriteria=!0,this.saveToStorage()),this.setFocusChange("markingCommentCriteria")},toggleMarkingComments(){this.showMarkingComments=!this.showMarkingComments,this.saveToStorage()},toggleMarkingGeneralCriteria(){this.showMarkingGeneralCriteria=!this.showMarkingGeneralCriteria,this.saveToStorage()},toggleMarkingCommentCriteria(){this.showMarkingCommentCriteria=!this.showMarkingCommentCriteria,this.saveToStorage()},toggleMarkingText(){this.showMarkingText=!this.showMarkingText,this.saveToStorage()},toggleLeftSummaryCriteria(){this.showLeftSummaryCriteria=!this.showLeftSummaryCriteria,this.saveToStorage()},toggleRightSummaryCriteria(){this.showRightSummaryCriteria=!this.showRightSummaryCriteria,this.saveToStorage()},toggleLeftSummaryText(){this.showLeftSummaryText=!this.showLeftSummaryText,this.saveToStorage()},toggleRightSummaryText(){this.showRightSummaryText=!this.showRightSummaryText,this.saveToStorage()},selectCorrector(t){const s=ar(),a=Vb();this.leftCorrectorKey==t?this.showLeftCorrector():this.rightCorrectorKey==t?this.showRightCorrector():s.isForReviewOrStitch?a.countCorrectors==1?(this.rightCorrectorKey=t,this.showRightCorrector()):this.leftCorrectorKey==""?(this.leftCorrectorKey=t,this.showLeftCorrector()):this.rightCorrectorKey==""?(this.rightCorrectorKey=t,this.showRightCorrector()):(this.leftCorrectorKey=t,this.showLeftCorrector()):(this.leftCorrectorKey=t,this.showLeftCorrector())},setFocusChange(t){this.focusTarget=t,this.focusChange=Date.now()},handleKeyDown(t){if(t.altKey)switch(t.key){case"0":this.setFocusChange("header");break;case"1":this.setLeftVisible();break;case"2":this.setRightVisible();break;case"#":this.setFocusChange("navigation");break}}}}),yl=(t,s)=>{const a=t.__vccOpts||t;for(const[u,g]of s)a[u]=g;return a},a0=Ln({border:[Boolean,Number,String]},"border");function l0(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{borderClasses:Dt(()=>{const u=t.border;return u===!0||u===""?`${s}--border`:typeof u=="string"||u===0?String(u).split(" ").map(g=>`border-${g}`):[]})}}const y1e=[null,"default","comfortable","compact"],Jg=Ln({density:{type:String,default:"default",validator:t=>y1e.includes(t)}},"density");function hp(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{densityClasses:gn(()=>`${s}--density-${t.density}`)}}const c0=Ln({elevation:{type:[Number,String],validator(t){const s=parseInt(t);return!isNaN(s)&&s>=0&&s<=24}}},"elevation");function u0(t){return{elevationClasses:gn(()=>{const a=Qs(t)?t.value:t.elevation;return a==null?[]:[`elevation-${a}`]})}}const Am=Ln({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Tm(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{roundedClasses:Dt(()=>{const u=Qs(t)?t.value:t.rounded,g=Qs(t)?t.value:t.tile,h=[];if(u===!0||u==="")h.push(`${s}--rounded`);else if(typeof u=="string"||u===0)for(const x of String(u).split(" "))h.push(`rounded-${x}`);else(g||u===!1)&&h.push("rounded-0");return h})}}const ra=Ln({tag:{type:[String,Object,Function],default:"div"}},"tag");function rK(t){return zW(()=>{const s=Hb(t),a=[],u={};if(s.background)if(UU(s.background)){if(u.backgroundColor=s.background,!s.text&&gge(s.background)){const g=Bb(s.background);if(g.a==null||g.a===1){const h=mQ(g);u.color=h,u.caretColor=h}}}else a.push(`bg-${s.background}`);return s.text&&(UU(s.text)?(u.color=s.text,u.caretColor=s.text):a.push(`text-${s.text}`)),{colorClasses:a,colorStyles:u}})}function mp(t){const{colorClasses:s,colorStyles:a}=rK(()=>({text:Hb(t)}));return{textColorClasses:s,textColorStyles:a}}function up(t){const{colorClasses:s,colorStyles:a}=rK(()=>({background:Hb(t)}));return{backgroundColorClasses:s,backgroundColorStyles:a}}const x1e=["elevated","flat","tonal","outlined","text","plain"];function NE(t,s){return te(lr,null,[t&&te("span",{key:"overlay",class:go(`${s}__overlay`)},null),te("span",{key:"underlay",class:go(`${s}__underlay`)},null)])}const d0=Ln({color:String,variant:{type:String,default:"elevated",validator:t=>x1e.includes(t)}},"variant");function PE(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const a=gn(()=>{const{variant:h}=Hb(t);return`${s}--variant-${h}`}),{colorClasses:u,colorStyles:g}=rK(()=>{const{variant:h,color:x}=Hb(t);return{[["elevated","flat"].includes(h)?"background":"text"]:x}});return{colorClasses:u,colorStyles:g,variantClasses:a}}const kee=Ln({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...a0(),...zr(),...Jg(),...c0(),...Am(),...ra(),...vl(),...d0()},"VBtnGroup"),Z1=Mo()({name:"VBtnGroup",props:kee(),setup(t,s){let{slots:a}=s;const{themeClasses:u}=uc(t),{densityClasses:g}=hp(t),{borderClasses:h}=l0(t),{elevationClasses:x}=u0(t),{roundedClasses:w}=Tm(t);Ex({VBtn:{height:gn(()=>t.direction==="horizontal"?"auto":null),baseColor:gn(()=>t.baseColor),color:gn(()=>t.color),density:gn(()=>t.density),flat:!0,variant:gn(()=>t.variant)}}),xr(()=>ie(t.tag,{class:go(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},u.value,h.value,g.value,x.value,w.value,t.class]),style:Ir(t.style)},a))}}),sK=Ln({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Eee=Ln({value:null,disabled:Boolean,selectedClass:String},"group-item");function Aee(t,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const u=$l("useGroupItem");if(!u)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const g=s0();Bd(Symbol.for(`${s.description}:id`),g);const h=Wi(s,null);if(!h){if(!a)return h;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${s.description}`)}const x=gn(()=>t.value),w=Dt(()=>!!(h.disabled.value||t.disabled));h.register({id:g,value:x,disabled:w},u),Dc(()=>{h.unregister(g)});const T=Dt(()=>h.isSelected(g)),I=Dt(()=>h.items.value[0].id===g),R=Dt(()=>h.items.value[h.items.value.length-1].id===g),N=Dt(()=>T.value&&[h.selectedClass.value,t.selectedClass]);return Rn(T,H=>{u.emit("group:selected",{value:H})},{flush:"sync"}),{id:g,isSelected:T,isFirst:I,isLast:R,toggle:()=>h.select(g,!T.value),select:H=>h.select(g,H),selectedClass:N,value:x,disabled:w,group:h}}function iK(t,s){let a=!1;const u=Gl([]),g=Ki(t,"modelValue",[],H=>H==null?[]:Tee(u,xf(H)),H=>{const W=C1e(u,H);return t.multiple?W:W[0]}),h=$l("useGroup");function x(H,W){const Z=H,J=Symbol.for(`${s.description}:id`),j=lE(J,h==null?void 0:h.vnode).indexOf(W);le(Z.value)==null&&(Z.value=j,Z.useIndexAsValue=!0),j>-1?u.splice(j,0,Z):u.push(Z)}function w(H){if(a)return;T();const W=u.findIndex(Z=>Z.id===H);u.splice(W,1)}function T(){const H=u.find(W=>!W.disabled);H&&t.mandatory==="force"&&!g.value.length&&(g.value=[H.id])}Ku(()=>{T()}),Dc(()=>{a=!0}),NW(()=>{for(let H=0;H<u.length;H++)u[H].useIndexAsValue&&(u[H].value=H)});function I(H,W){const Z=u.find(J=>J.id===H);if(!(W&&(Z!=null&&Z.disabled)))if(t.multiple){const J=g.value.slice(),se=J.findIndex(he=>he===H),j=~se;if(W=W??!j,j&&t.mandatory&&J.length<=1||!j&&t.max!=null&&J.length+1>t.max)return;se<0&&W?J.push(H):se>=0&&!W&&J.splice(se,1),g.value=J}else{const J=g.value.includes(H);if(t.mandatory&&J||!J&&!W)return;g.value=W??!J?[H]:[]}}function R(H){if(t.multiple,g.value.length){const W=g.value[0],Z=u.findIndex(j=>j.id===W);let J=(Z+H)%u.length,se=u[J];for(;se.disabled&&J!==Z;)J=(J+H)%u.length,se=u[J];if(se.disabled)return;g.value=[u[J].id]}else{const W=u.find(Z=>!Z.disabled);W&&(g.value=[W.id])}}const N={register:x,unregister:w,selected:g,select:I,disabled:gn(()=>t.disabled),prev:()=>R(u.length-1),next:()=>R(1),isSelected:H=>g.value.includes(H),selectedClass:gn(()=>t.selectedClass),items:gn(()=>u),getItemIndex:H=>w1e(u,H)};return Bd(s,N),N}function w1e(t,s){const a=Tee(t,[s]);return a.length?t.findIndex(u=>u.id===a[0]):-1}function Tee(t,s){const a=[];return s.forEach(u=>{const g=t.find(x=>qg(u,x.value)),h=t[u];(g==null?void 0:g.value)!=null?a.push(g.id):h!=null&&a.push(h.id)}),a}function C1e(t,s){const a=[];return s.forEach(u=>{const g=t.findIndex(h=>h.id===u);if(~g){const h=t[g];a.push(h.value!=null?h.value:g)}}),a}const Oee=Symbol.for("vuetify:v-btn-toggle"),_1e=Ln({...kee(),...sK()},"VBtnToggle"),S1e=Mo()({name:"VBtnToggle",props:_1e(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const{isSelected:u,next:g,prev:h,select:x,selected:w}=iK(t,Oee);return xr(()=>{const T=Z1.filterProps(t);return ie(Z1,Po({class:["v-btn-toggle",t.class]},T,{style:t.style}),{default:()=>{var I;return[(I=a.default)==null?void 0:I.call(a,{isSelected:u,next:g,prev:h,select:x,selected:w})]}})}),{next:g,prev:h,select:x}}}),k1e=Ln({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),_a=Mo(!1)({name:"VDefaultsProvider",props:k1e(),setup(t,s){let{slots:a}=s;const{defaults:u,disabled:g,reset:h,root:x,scoped:w}=N8(t);return Ex(u,{reset:h,root:x,scoped:w,disabled:g}),()=>{var T;return(T=a.default)==null?void 0:T.call(a)}}}),E1e=["x-small","small","default","large","x-large"],gR=Ln({size:{type:[String,Number],default:"default"}},"size");function hR(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return zW(()=>{const a=t.size;let u,g;return i8(E1e,a)?u=`${s}--size-${a}`:a&&(g={width:yr(a),height:yr(a)}),{sizeClasses:u,sizeStyles:g}})}const A1e=Ln({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:zs,opacity:[String,Number],...zr(),...gR(),...ra({tag:"i"}),...vl()},"VIcon"),Un=Mo()({name:"VIcon",props:A1e(),setup(t,s){let{attrs:a,slots:u}=s;const g=ho(),{themeClasses:h}=Fhe(),{iconData:x}=Ohe(()=>g.value||t.icon),{sizeClasses:w}=hR(t),{textColorClasses:T,textColorStyles:I}=mp(()=>t.color);return xr(()=>{var H,W;const R=(H=u.default)==null?void 0:H.call(u);R&&(g.value=(W=nQ(R).filter(Z=>Z.type===lR&&Z.children&&typeof Z.children=="string")[0])==null?void 0:W.children);const N=!!(a.onClick||a.onClickOnce);return ie(x.value.component,{tag:t.tag,icon:x.value.icon,class:go(["v-icon","notranslate",h.value,w.value,T.value,{"v-icon--clickable":N,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Ir([{"--v-icon-opacity":t.opacity},w.value?void 0:{fontSize:yr(t.size),height:yr(t.size),width:yr(t.size)},I.value,t.style]),role:N?"button":void 0,"aria-hidden":!N,tabindex:N?t.disabled?-1:0:void 0},{default:()=>[R]})}),{}}});function Dee(t,s){const a=zn(),u=ho(!1);if(VW){const g=new IntersectionObserver(h=>{u.value=!!h.find(x=>x.isIntersecting)},s);cc(()=>{g.disconnect()}),Rn(a,(h,x)=>{x&&(g.unobserve(x),u.value=!1),h&&g.observe(h)},{flush:"post"})}return{intersectionRef:a,isIntersecting:u}}const T1e=Ln({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...zr(),...gR(),...ra({tag:"div"}),...vl()},"VProgressCircular"),O1e=Mo()({name:"VProgressCircular",props:T1e(),setup(t,s){let{slots:a}=s;const u=20,g=2*Math.PI*u,h=zn(),{themeClasses:x}=uc(t),{sizeClasses:w,sizeStyles:T}=hR(t),{textColorClasses:I,textColorStyles:R}=mp(()=>t.color),{textColorClasses:N,textColorStyles:H}=mp(()=>t.bgColor),{intersectionRef:W,isIntersecting:Z}=Dee(),{resizeRef:J,contentRect:se}=xE(),j=gn(()=>wf(parseFloat(t.modelValue),0,100)),he=gn(()=>Number(t.width)),ae=gn(()=>T.value?Number(t.size):se.value?se.value.width:Math.max(he.value,32)),U=gn(()=>u/(1-he.value/ae.value)*2),de=gn(()=>he.value/ae.value*U.value),oe=gn(()=>yr((100-j.value)/100*g));return Md(()=>{W.value=h.value,J.value=h.value}),xr(()=>ie(t.tag,{ref:h,class:go(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":Z.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},x.value,w.value,I.value,t.class]),style:Ir([T.value,R.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:j.value},{default:()=>[te("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${U.value} ${U.value}`},[te("circle",{class:go(["v-progress-circular__underlay",N.value]),style:Ir(H.value),fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":0},null),te("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:u,"stroke-width":de.value,"stroke-dasharray":g,"stroke-dashoffset":oe.value},null)]),a.default&&te("div",{class:"v-progress-circular__content"},[a.default({value:j.value})])]})),{}}}),pp=Ln({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function bp(t){return{dimensionStyles:Dt(()=>{const a={},u=yr(t.height),g=yr(t.maxHeight),h=yr(t.maxWidth),x=yr(t.minHeight),w=yr(t.minWidth),T=yr(t.width);return u!=null&&(a.height=u),g!=null&&(a.maxHeight=g),h!=null&&(a.maxWidth=h),x!=null&&(a.minHeight=x),w!=null&&(a.minWidth=w),T!=null&&(a.width=T),a})}}const UY={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},nF=Ln({location:String},"location");function oF(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2?arguments[2]:void 0;const{isRtl:u}=Xg();return{locationStyles:Dt(()=>{if(!t.location)return{};const{side:h,align:x}=zU(t.location.split(" ").length>1?t.location:`${t.location} center`,u.value);function w(I){return a?a(I):0}const T={};return h!=="center"&&(s?T[UY[h]]=`calc(100% - ${w(h)}px)`:T[h]=0),x!=="center"?s?T[UY[x]]=`calc(100% - ${w(x)}px)`:T[x]=0:(h==="center"?T.top=T.left="50%":T[{top:"left",bottom:"left",left:"top",right:"top"}[h]]="50%",T.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[h]),T})}}const D1e=Ln({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...zr(),...nF({location:"top"}),...Am(),...ra(),...vl()},"VProgressLinear"),R1e=Mo()({name:"VProgressLinear",props:D1e(),emits:{"update:modelValue":t=>!0},setup(t,s){var Oe;let{slots:a}=s;const u=Ki(t,"modelValue"),{isRtl:g,rtlClasses:h}=Xg(),{themeClasses:x}=uc(t),{locationStyles:w}=oF(t),{textColorClasses:T,textColorStyles:I}=mp(()=>t.color),{backgroundColorClasses:R,backgroundColorStyles:N}=up(()=>t.bgColor||t.color),{backgroundColorClasses:H,backgroundColorStyles:W}=up(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:Z,backgroundColorStyles:J}=up(()=>t.color),{roundedClasses:se}=Tm(t),{intersectionRef:j,isIntersecting:he}=Dee(),ae=Dt(()=>parseFloat(t.max)),U=Dt(()=>parseFloat(t.height)),de=Dt(()=>wf(parseFloat(t.bufferValue)/ae.value*100,0,100)),oe=Dt(()=>wf(parseFloat(u.value)/ae.value*100,0,100)),Ve=Dt(()=>g.value!==t.reverse),Me=Dt(()=>t.indeterminate?"fade-transition":"slide-x-transition"),Xe=ei&&((Oe=window.matchMedia)==null?void 0:Oe.call(window,"(forced-colors: active)").matches);function rt(Te){if(!j.value)return;const{left:D,right:qe,width:lt}=j.value.getBoundingClientRect(),zt=Ve.value?lt-Te.clientX+(qe-lt):Te.clientX-D;u.value=Math.round(zt/lt*ae.value)}return xr(()=>ie(t.tag,{ref:j,class:go(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&he.value,"v-progress-linear--reverse":Ve.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},se.value,x.value,h.value,t.class]),style:Ir([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?yr(U.value):0,"--v-progress-linear-height":yr(U.value),...t.absolute?w.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(u.value),ae.value),onClick:t.clickable&&rt},{default:()=>[t.stream&&te("div",{key:"stream",class:go(["v-progress-linear__stream",T.value]),style:{...I.value,[Ve.value?"left":"right"]:yr(-U.value),borderTop:`${yr(U.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${yr(U.value/4)})`,width:yr(100-de.value,"%"),"--v-progress-linear-stream-to":yr(U.value*(Ve.value?1:-1))}},null),te("div",{class:go(["v-progress-linear__background",Xe?void 0:R.value]),style:Ir([N.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),te("div",{class:go(["v-progress-linear__buffer",Xe?void 0:H.value]),style:Ir([W.value,{opacity:parseFloat(t.bufferOpacity),width:yr(de.value,"%")}])},null),ie(wx,{name:Me.value},{default:()=>[t.indeterminate?te("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Te=>te("div",{key:Te,class:go(["v-progress-linear__indeterminate",Te,Xe?void 0:Z.value]),style:Ir(J.value)},null))]):te("div",{class:go(["v-progress-linear__determinate",Xe?void 0:Z.value]),style:Ir([J.value,{width:yr(oe.value,"%")}])},null)]}),a.default&&te("div",{class:"v-progress-linear__content"},[a.default({value:oe.value,buffer:de.value})])]})),{}}}),aK=Ln({loading:[Boolean,String]},"loader");function lK(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{loaderClasses:gn(()=>({[`${s}--loading`]:t.loading}))}}function Ree(t,s){var u;let{slots:a}=s;return te("div",{class:go(`${t.name}__loader`)},[((u=a.default)==null?void 0:u.call(a,{color:t.color,isActive:t.active}))||ie(R1e,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const I1e=["static","relative","fixed","absolute","sticky"],cK=Ln({position:{type:String,validator:t=>I1e.includes(t)}},"position");function uK(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();return{positionClasses:gn(()=>t.position?`${s}--${t.position}`:void 0)}}function N1e(){const t=$l("useRoute");return Dt(()=>{var s;return(s=t==null?void 0:t.proxy)==null?void 0:s.$route})}function Iee(){var t,s;return(s=(t=$l("useRouter"))==null?void 0:t.proxy)==null?void 0:s.$router}function rF(t,s){var R,N;const a=vfe("RouterLink"),u=gn(()=>!!(t.href||t.to)),g=Dt(()=>(u==null?void 0:u.value)||Aq(s,"click")||Aq(t,"click"));if(typeof a=="string"||!("useLink"in a)){const H=gn(()=>t.href);return{isLink:u,isClickable:g,href:H,linkProps:Gl({href:H})}}const h=a.useLink({to:gn(()=>t.to||""),replace:gn(()=>t.replace)}),x=Dt(()=>t.to?h:void 0),w=N1e(),T=Dt(()=>{var H,W,Z;return x.value?t.exact?w.value?((Z=x.value.isExactActive)==null?void 0:Z.value)&&qg(x.value.route.value.query,w.value.query):((W=x.value.isExactActive)==null?void 0:W.value)??!1:((H=x.value.isActive)==null?void 0:H.value)??!1:!1}),I=Dt(()=>{var H;return t.to?(H=x.value)==null?void 0:H.route.value.href:t.href});return{isLink:u,isClickable:g,isActive:T,route:(R=x.value)==null?void 0:R.route,navigate:(N=x.value)==null?void 0:N.navigate,href:I,linkProps:Gl({href:I,"aria-current":gn(()=>T.value?"page":void 0)})}}const sF=Ln({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let dU=!1;function P1e(t,s){let a=!1,u,g;ei&&(t!=null&&t.beforeEach)&&(Jo(()=>{window.addEventListener("popstate",h),u=t.beforeEach((x,w,T)=>{dU?a?s(T):T():setTimeout(()=>a?s(T):T()),dU=!0}),g=t==null?void 0:t.afterEach(()=>{dU=!1})}),cc(()=>{window.removeEventListener("popstate",h),u==null||u(),g==null||g()}));function h(x){var w;(w=x.state)!=null&&w.replaced||(a=!0,setTimeout(()=>a=!1))}}function L1e(t,s){Rn(()=>{var a;return(a=t.isActive)==null?void 0:a.value},a=>{t.isLink.value&&a!=null&&s&&Jo(()=>{s(a)})},{immediate:!0})}const cW=Symbol("rippleStop"),M1e=80;function WY(t,s){t.style.transform=s,t.style.webkitTransform=s}function uW(t){return t.constructor.name==="TouchEvent"}function Nee(t){return t.constructor.name==="KeyboardEvent"}const B1e=function(t,s){var N;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,g=0;if(!Nee(t)){const H=s.getBoundingClientRect(),W=uW(t)?t.touches[t.touches.length-1]:t;u=W.clientX-H.left,g=W.clientY-H.top}let h=0,x=.3;(N=s._ripple)!=null&&N.circle?(x=.15,h=s.clientWidth/2,h=a.center?h:h+Math.sqrt((u-h)**2+(g-h)**2)/4):h=Math.sqrt(s.clientWidth**2+s.clientHeight**2)/2;const w=`${(s.clientWidth-h*2)/2}px`,T=`${(s.clientHeight-h*2)/2}px`,I=a.center?w:`${u-h}px`,R=a.center?T:`${g-h}px`;return{radius:h,scale:x,x:I,y:R,centerX:w,centerY:T}},w8={show(t,s){var W;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((W=s==null?void 0:s._ripple)!=null&&W.enabled))return;const u=document.createElement("span"),g=document.createElement("span");u.appendChild(g),u.className="v-ripple__container",a.class&&(u.className+=` ${a.class}`);const{radius:h,scale:x,x:w,y:T,centerX:I,centerY:R}=B1e(t,s,a),N=`${h*2}px`;g.className="v-ripple__animation",g.style.width=N,g.style.height=N,s.appendChild(u);const H=window.getComputedStyle(s);H&&H.position==="static"&&(s.style.position="relative",s.dataset.previousPosition="static"),g.classList.add("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--visible"),WY(g,`translate(${w}, ${T}) scale3d(${x},${x},${x})`),g.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.classList.remove("v-ripple__animation--enter"),g.classList.add("v-ripple__animation--in"),WY(g,`translate(${I}, ${R}) scale3d(1,1,1)`)})})},hide(t){var h;if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const s=t.getElementsByClassName("v-ripple__animation");if(s.length===0)return;const a=s[s.length-1];if(a.dataset.isHiding)return;a.dataset.isHiding="true";const u=performance.now()-Number(a.dataset.activated),g=Math.max(250-u,0);setTimeout(()=>{a.classList.remove("v-ripple__animation--in"),a.classList.add("v-ripple__animation--out"),setTimeout(()=>{var w;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((w=a.parentNode)==null?void 0:w.parentNode)===t&&t.removeChild(a.parentNode)},300)},g)}};function Pee(t){return typeof t>"u"||!!t}function UD(t){const s={},a=t.currentTarget;if(!(!(a!=null&&a._ripple)||a._ripple.touched||t[cW])){if(t[cW]=!0,uW(t))a._ripple.touched=!0,a._ripple.isTouch=!0;else if(a._ripple.isTouch)return;if(s.center=a._ripple.centered||Nee(t),a._ripple.class&&(s.class=a._ripple.class),uW(t)){if(a._ripple.showTimerCommit)return;a._ripple.showTimerCommit=()=>{w8.show(t,a,s)},a._ripple.showTimer=window.setTimeout(()=>{var u;(u=a==null?void 0:a._ripple)!=null&&u.showTimerCommit&&(a._ripple.showTimerCommit(),a._ripple.showTimerCommit=null)},M1e)}else w8.show(t,a,s)}}function KY(t){t[cW]=!0}function Cm(t){const s=t.currentTarget;if(s!=null&&s._ripple){if(window.clearTimeout(s._ripple.showTimer),t.type==="touchend"&&s._ripple.showTimerCommit){s._ripple.showTimerCommit(),s._ripple.showTimerCommit=null,s._ripple.showTimer=window.setTimeout(()=>{Cm(t)});return}window.setTimeout(()=>{s._ripple&&(s._ripple.touched=!1)}),w8.hide(s)}}function Lee(t){const s=t.currentTarget;s!=null&&s._ripple&&(s._ripple.showTimerCommit&&(s._ripple.showTimerCommit=null),window.clearTimeout(s._ripple.showTimer))}let WD=!1;function jY(t,s){!WD&&s.includes(t.keyCode)&&(WD=!0,UD(t))}function Mee(t){WD=!1,Cm(t)}function Bee(t){WD&&(WD=!1,Cm(t))}function Fee(t,s,a){const{value:u,modifiers:g}=s,h=Pee(u);h||w8.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=h,t._ripple.centered=g.center,t._ripple.circle=g.circle;const x=BU(u)?u:{};x.class&&(t._ripple.class=x.class);const w=x.keys??[FU.enter,FU.space];if(t._ripple.keyDownHandler=T=>jY(T,w),h&&!a){if(g.stop){t.addEventListener("touchstart",KY,{passive:!0}),t.addEventListener("mousedown",KY);return}t.addEventListener("touchstart",UD,{passive:!0}),t.addEventListener("touchend",Cm,{passive:!0}),t.addEventListener("touchmove",Lee,{passive:!0}),t.addEventListener("touchcancel",Cm),t.addEventListener("mousedown",UD),t.addEventListener("mouseup",Cm),t.addEventListener("mouseleave",Cm),t.addEventListener("keydown",T=>jY(T,w)),t.addEventListener("keyup",Mee),t.addEventListener("blur",Bee),t.addEventListener("dragstart",Cm,{passive:!0})}else!h&&a&&$ee(t)}function $ee(t){var s;t.removeEventListener("mousedown",UD),t.removeEventListener("touchstart",UD),t.removeEventListener("touchend",Cm),t.removeEventListener("touchmove",Lee),t.removeEventListener("touchcancel",Cm),t.removeEventListener("mouseup",Cm),t.removeEventListener("mouseleave",Cm),(s=t._ripple)!=null&&s.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",Mee),t.removeEventListener("dragstart",Cm),t.removeEventListener("blur",Bee)}function F1e(t,s){Fee(t,s,!1)}function $1e(t){$ee(t),delete t._ripple}function V1e(t,s){if(s.value===s.oldValue)return;const a=Pee(s.oldValue);Fee(t,s,a)}const n0={mounted:F1e,unmounted:$1e,updated:V1e},z1e=Ln({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Oee},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:zs,appendIcon:zs,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...a0(),...zr(),...Jg(),...pp(),...c0(),...Eee(),...aK(),...nF(),...cK(),...Am(),...sF(),...gR(),...ra({tag:"button"}),...vl(),...d0({variant:"elevated"})},"VBtn"),Co=Mo()({name:"VBtn",props:z1e(),emits:{"group:selected":t=>!0},setup(t,s){let{attrs:a,slots:u}=s;const{themeClasses:g}=uc(t),{borderClasses:h}=l0(t),{densityClasses:x}=hp(t),{dimensionStyles:w}=bp(t),{elevationClasses:T}=u0(t),{loaderClasses:I}=lK(t),{locationStyles:R}=oF(t),{positionClasses:N}=uK(t),{roundedClasses:H}=Tm(t),{sizeClasses:W,sizeStyles:Z}=hR(t),J=Aee(t,t.symbol,!1),se=rF(t,a),j=Dt(()=>{var Oe;return t.active!==void 0?t.active:se.isLink.value?(Oe=se.isActive)==null?void 0:Oe.value:J==null?void 0:J.isSelected.value}),he=gn(()=>j.value?t.activeColor??t.color:t.color),ae=Dt(()=>{var Te,D;return{color:(J==null?void 0:J.isSelected.value)&&(!se.isLink.value||((Te=se.isActive)==null?void 0:Te.value))||!J||((D=se.isActive)==null?void 0:D.value)?he.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:U,colorStyles:de,variantClasses:oe}=PE(ae),Ve=Dt(()=>(J==null?void 0:J.disabled.value)||t.disabled),Me=gn(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),Xe=Dt(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function rt(Oe){var Te;Ve.value||se.isLink.value&&(Oe.metaKey||Oe.ctrlKey||Oe.shiftKey||Oe.button!==0||a.target==="_blank")||((Te=se.navigate)==null||Te.call(se,Oe),J==null||J.toggle())}return L1e(se,J==null?void 0:J.select),xr(()=>{const Oe=se.isLink.value?"a":t.tag,Te=!!(t.prependIcon||u.prepend),D=!!(t.appendIcon||u.append),qe=!!(t.icon&&t.icon!==!0);return Fn(ie(Oe,Po({type:Oe==="a"?void 0:"button",class:["v-btn",J==null?void 0:J.selectedClass.value,{"v-btn--active":j.value,"v-btn--block":t.block,"v-btn--disabled":Ve.value,"v-btn--elevated":Me.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},g.value,h.value,U.value,x.value,T.value,I.value,N.value,H.value,W.value,oe.value,t.class],style:[de.value,w.value,R.value,Z.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:Ve.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:rt,value:Xe.value},se.linkProps),{default:()=>{var lt;return[NE(!0,"v-btn"),!t.icon&&Te&&te("span",{key:"prepend",class:"v-btn__prepend"},[u.prepend?ie(_a,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},u.prepend):ie(Un,{key:"prepend-icon",icon:t.prependIcon},null)]),te("span",{class:"v-btn__content","data-no-activator":""},[!u.default&&qe?ie(Un,{key:"content-icon",icon:t.icon},null):ie(_a,{key:"content-defaults",disabled:!qe,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var zt;return[((zt=u.default)==null?void 0:zt.call(u))??pt(t.text)]}})]),!t.icon&&D&&te("span",{key:"append",class:"v-btn__append"},[u.append?ie(_a,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},u.append):ie(Un,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&te("span",{key:"loader",class:"v-btn__loader"},[((lt=u.loader)==null?void 0:lt.call(u))??ie(O1e,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[n0,!Ve.value&&t.ripple,"",{center:!!t.icon}]])}),{group:J}}}),Kg=Mo()({name:"VCardActions",props:zr(),setup(t,s){let{slots:a}=s;return Ex({VBtn:{slim:!0,variant:"text"}}),xr(()=>{var u;return te("div",{class:go(["v-card-actions",t.class]),style:Ir(t.style)},[(u=a.default)==null?void 0:u.call(a)])}),{}}}),H1e=Ln({opacity:[Number,String],...zr(),...ra()},"VCardSubtitle"),U1e=Mo()({name:"VCardSubtitle",props:H1e(),setup(t,s){let{slots:a}=s;return xr(()=>ie(t.tag,{class:go(["v-card-subtitle",t.class]),style:Ir([{"--v-card-subtitle-opacity":t.opacity},t.style])},a)),{}}}),pR=H8("v-card-title");function W1e(t){return{aspectStyles:Dt(()=>{const s=Number(t.aspectRatio);return s?{paddingBottom:String(1/s*100)+"%"}:void 0})}}const Vee=Ln({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...zr(),...pp()},"VResponsive"),ZY=Mo()({name:"VResponsive",props:Vee(),setup(t,s){let{slots:a}=s;const{aspectStyles:u}=W1e(t),{dimensionStyles:g}=bp(t);return xr(()=>{var h;return te("div",{class:go(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Ir([g.value,t.style])},[te("div",{class:"v-responsive__sizer",style:Ir(u.value)},null),(h=a.additional)==null?void 0:h.call(a),a.default&&te("div",{class:go(["v-responsive__content",t.contentClass])},[a.default()])])}),{}}}),LE=Ln({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),gx=(t,s)=>{let{slots:a}=s;const{transition:u,disabled:g,group:h,...x}=t,{component:w=h?$W:wx,...T}=BU(u)?u:{};let I;return BU(u)?I=Po(T,Yme({disabled:g,group:h}),x):I=Po({name:g||!u?"":u},x),Ub(w,I,a)};function K1e(t,s){if(!VW)return;const a=s.modifiers||{},u=s.value,{handler:g,options:h}=typeof u=="object"?u:{handler:u,options:{}},x=new IntersectionObserver(function(){var N;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1?arguments[1]:void 0;const I=(N=t._observe)==null?void 0:N[s.instance.$.uid];if(!I)return;const R=w.some(H=>H.isIntersecting);g&&(!a.quiet||I.init)&&(!a.once||R||I.init)&&g(R,w,T),R&&a.once?zee(t,s):I.init=!0},h);t._observe=Object(t._observe),t._observe[s.instance.$.uid]={init:!1,observer:x},x.observe(t)}function zee(t,s){var u;const a=(u=t._observe)==null?void 0:u[s.instance.$.uid];a&&(a.observer.unobserve(t),delete t._observe[s.instance.$.uid])}const CE={mounted:K1e,unmounted:zee},j1e=Ln({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Vee(),...zr(),...Am(),...LE()},"VImg"),bR=Mo()({name:"VImg",directives:{vIntersect:CE},props:j1e(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,s){let{emit:a,slots:u}=s;const{backgroundColorClasses:g,backgroundColorStyles:h}=up(()=>t.color),{roundedClasses:x}=Tm(t),w=$l("VImg"),T=ho(""),I=zn(),R=ho(t.eager?"loading":"idle"),N=ho(),H=ho(),W=Dt(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),Z=Dt(()=>W.value.aspect||N.value/H.value||0);Rn(()=>t.src,()=>{J(R.value!=="idle")}),Rn(Z,(Te,D)=>{!Te&&D&&I.value&&U(I.value)}),aR(()=>J());function J(Te){if(!(t.eager&&Te)&&!(VW&&!Te&&!t.eager)){if(R.value="loading",W.value.lazySrc){const D=new Image;D.src=W.value.lazySrc,U(D,null)}W.value.src&&Jo(()=>{var D;a("loadstart",((D=I.value)==null?void 0:D.currentSrc)||W.value.src),setTimeout(()=>{var qe;if(!w.isUnmounted)if((qe=I.value)!=null&&qe.complete){if(I.value.naturalWidth||j(),R.value==="error")return;Z.value||U(I.value,null),R.value==="loading"&&se()}else Z.value||U(I.value),he()})})}}function se(){var Te;w.isUnmounted||(he(),U(I.value),R.value="loaded",a("load",((Te=I.value)==null?void 0:Te.currentSrc)||W.value.src))}function j(){var Te;w.isUnmounted||(R.value="error",a("error",((Te=I.value)==null?void 0:Te.currentSrc)||W.value.src))}function he(){const Te=I.value;Te&&(T.value=Te.currentSrc||Te.src)}let ae=-1;Dc(()=>{clearTimeout(ae)});function U(Te){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const qe=()=>{if(clearTimeout(ae),w.isUnmounted)return;const{naturalHeight:lt,naturalWidth:zt}=Te;lt||zt?(N.value=zt,H.value=lt):!Te.complete&&R.value==="loading"&&D!=null?ae=window.setTimeout(qe,D):(Te.currentSrc.endsWith(".svg")||Te.currentSrc.startsWith("data:image/svg+xml"))&&(N.value=1,H.value=1)};qe()}const de=gn(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),oe=()=>{var qe;if(!W.value.src||R.value==="idle")return null;const Te=te("img",{class:go(["v-img__img",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:W.value.src,srcset:W.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:I,onLoad:se,onError:j},null),D=(qe=u.sources)==null?void 0:qe.call(u);return ie(gx,{transition:t.transition,appear:!0},{default:()=>[Fn(D?te("picture",{class:"v-img__picture"},[D,Te]):Te,[[Ao,R.value==="loaded"]])]})},Ve=()=>ie(gx,{transition:t.transition},{default:()=>[W.value.lazySrc&&R.value!=="loaded"&&te("img",{class:go(["v-img__img","v-img__img--preload",de.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:W.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),Me=()=>u.placeholder?ie(gx,{transition:t.transition,appear:!0},{default:()=>[(R.value==="loading"||R.value==="error"&&!u.error)&&te("div",{class:"v-img__placeholder"},[u.placeholder()])]}):null,Xe=()=>u.error?ie(gx,{transition:t.transition,appear:!0},{default:()=>[R.value==="error"&&te("div",{class:"v-img__error"},[u.error()])]}):null,rt=()=>t.gradient?te("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,Oe=ho(!1);{const Te=Rn(Z,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{Oe.value=!0})}),Te())})}return xr(()=>{const Te=ZY.filterProps(t);return Fn(ie(ZY,Po({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!Oe.value},g.value,x.value,t.class],style:[{width:yr(t.width==="auto"?N.value:t.width)},h.value,t.style]},Te,{aspectRatio:Z.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>te(lr,null,[ie(oe,null,null),ie(Ve,null,null),ie(rt,null,null),ie(Me,null,null),ie(Xe,null,null)]),default:u.default}),[[CE,{handler:J,options:t.options},null,{once:!0}]])}),{currentSrc:T,image:I,state:R,naturalWidth:N,naturalHeight:H}}}),Z1e=Ln({start:Boolean,end:Boolean,icon:zs,image:String,text:String,...a0(),...zr(),...Jg(),...Am(),...gR(),...ra(),...vl(),...d0({variant:"flat"})},"VAvatar"),Sx=Mo()({name:"VAvatar",props:Z1e(),setup(t,s){let{slots:a}=s;const{themeClasses:u}=uc(t),{borderClasses:g}=l0(t),{colorClasses:h,colorStyles:x,variantClasses:w}=PE(t),{densityClasses:T}=hp(t),{roundedClasses:I}=Tm(t),{sizeClasses:R,sizeStyles:N}=hR(t);return xr(()=>ie(t.tag,{class:go(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},u.value,g.value,h.value,T.value,I.value,R.value,w.value,t.class]),style:Ir([x.value,N.value,t.style])},{default:()=>[a.default?ie(_a,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[a.default()]}):t.image?ie(bR,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?ie(Un,{key:"icon",icon:t.icon},null):t.text,NE(!1,"v-avatar")]})),{}}}),G1e=Ln({appendAvatar:String,appendIcon:zs,prependAvatar:String,prependIcon:zs,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...zr(),...Jg()},"VCardItem"),q1e=Mo()({name:"VCardItem",props:G1e(),setup(t,s){let{slots:a}=s;return xr(()=>{var I;const u=!!(t.prependAvatar||t.prependIcon),g=!!(u||a.prepend),h=!!(t.appendAvatar||t.appendIcon),x=!!(h||a.append),w=!!(t.title!=null||a.title),T=!!(t.subtitle!=null||a.subtitle);return te("div",{class:go(["v-card-item",t.class]),style:Ir(t.style)},[g&&te("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?ie(_a,{key:"prepend-defaults",disabled:!u,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},a.prepend):te(lr,null,[t.prependAvatar&&ie(Sx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ie(Un,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),te("div",{class:"v-card-item__content"},[w&&ie(pR,{key:"title"},{default:()=>{var R;return[((R=a.title)==null?void 0:R.call(a))??pt(t.title)]}}),T&&ie(U1e,{key:"subtitle"},{default:()=>{var R;return[((R=a.subtitle)==null?void 0:R.call(a))??pt(t.subtitle)]}}),(I=a.default)==null?void 0:I.call(a)]),x&&te("div",{key:"append",class:"v-card-item__append"},[a.append?ie(_a,{key:"append-defaults",disabled:!h,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},a.append):te(lr,null,[t.appendIcon&&ie(Un,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ie(Sx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),Y1e=Ln({opacity:[Number,String],...zr(),...ra()},"VCardText"),jg=Mo()({name:"VCardText",props:Y1e(),setup(t,s){let{slots:a}=s;return xr(()=>ie(t.tag,{class:go(["v-card-text",t.class]),style:Ir([{"--v-card-text-opacity":t.opacity},t.style])},a)),{}}}),X1e=Ln({appendAvatar:String,appendIcon:zs,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...a0(),...zr(),...Jg(),...pp(),...c0(),...aK(),...nF(),...cK(),...Am(),...sF(),...ra(),...vl(),...d0({variant:"elevated"})},"VCard"),ap=Mo()({name:"VCard",directives:{vRipple:n0},props:X1e(),setup(t,s){let{attrs:a,slots:u}=s;const{themeClasses:g}=uc(t),{borderClasses:h}=l0(t),{colorClasses:x,colorStyles:w,variantClasses:T}=PE(t),{densityClasses:I}=hp(t),{dimensionStyles:R}=bp(t),{elevationClasses:N}=u0(t),{loaderClasses:H}=lK(t),{locationStyles:W}=oF(t),{positionClasses:Z}=uK(t),{roundedClasses:J}=Tm(t),se=rF(t,a);return xr(()=>{const j=t.link!==!1&&se.isLink.value,he=!t.disabled&&t.link!==!1&&(t.link||se.isClickable.value),ae=j?"a":t.tag,U=!!(u.title||t.title!=null),de=!!(u.subtitle||t.subtitle!=null),oe=U||de,Ve=!!(u.append||t.appendAvatar||t.appendIcon),Me=!!(u.prepend||t.prependAvatar||t.prependIcon),Xe=!!(u.image||t.image),rt=oe||Me||Ve,Oe=!!(u.text||t.text!=null);return Fn(ie(ae,Po({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":he},g.value,h.value,x.value,I.value,N.value,H.value,Z.value,J.value,T.value,t.class],style:[w.value,R.value,W.value,t.style],onClick:he&&se.navigate,tabindex:t.disabled?-1:void 0},se.linkProps),{default:()=>{var Te;return[Xe&&te("div",{key:"image",class:"v-card__image"},[u.image?ie(_a,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},u.image):ie(bR,{key:"image-img",cover:!0,src:t.image},null)]),ie(Ree,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:u.loader}),rt&&ie(q1e,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:u.item,prepend:u.prepend,title:u.title,subtitle:u.subtitle,append:u.append}),Oe&&ie(jg,{key:"text"},{default:()=>{var D;return[((D=u.text)==null?void 0:D.call(u))??t.text]}}),(Te=u.default)==null?void 0:Te.call(u),u.actions&&ie(Kg,null,{default:u.actions}),NE(he,"v-card")]}}),[[n0,he&&t.ripple]])}),{}}}),J1e=Ln({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Om(t,s,a){return Mo()({name:t,props:J1e({mode:a,origin:s}),setup(u,g){let{slots:h}=g;const x={onBeforeEnter(w){u.origin&&(w.style.transformOrigin=u.origin)},onLeave(w){if(u.leaveAbsolute){const{offsetTop:T,offsetLeft:I,offsetWidth:R,offsetHeight:N}=w;w._transitionInitialStyles={position:w.style.position,top:w.style.top,left:w.style.left,width:w.style.width,height:w.style.height},w.style.position="absolute",w.style.top=`${T}px`,w.style.left=`${I}px`,w.style.width=`${R}px`,w.style.height=`${N}px`}u.hideOnLeave&&w.style.setProperty("display","none","important")},onAfterLeave(w){if(u.leaveAbsolute&&(w!=null&&w._transitionInitialStyles)){const{position:T,top:I,left:R,width:N,height:H}=w._transitionInitialStyles;delete w._transitionInitialStyles,w.style.position=T||"",w.style.top=I||"",w.style.left=R||"",w.style.width=N||"",w.style.height=H||""}}};return()=>{const w=u.group?$W:wx;return Ub(w,{name:u.disabled?"":t,css:!u.disabled,...u.group?void 0:{mode:u.mode},...u.disabled?{}:x},h.default)}}})}function Hee(t,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Mo()({name:t,props:{mode:{type:String,default:a},disabled:Boolean,group:Boolean},setup(u,g){let{slots:h}=g;const x=u.group?$W:wx;return()=>Ub(x,{name:u.disabled?"":t,css:!u.disabled,...u.disabled?{}:s},h.default)}})}function Uee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",u=Ld(`offset-${a}`);return{onBeforeEnter(x){x._parent=x.parentNode,x._initialStyle={transition:x.style.transition,overflow:x.style.overflow,[a]:x.style[a]}},onEnter(x){const w=x._initialStyle;if(!w)return;x.style.setProperty("transition","none","important"),x.style.overflow="hidden";const T=`${x[u]}px`;x.style[a]="0",x.offsetHeight,x.style.transition=w.transition,t&&x._parent&&x._parent.classList.add(t),requestAnimationFrame(()=>{x.style[a]=T})},onAfterEnter:h,onEnterCancelled:h,onLeave(x){x._initialStyle={transition:"",overflow:x.style.overflow,[a]:x.style[a]},x.style.overflow="hidden",x.style[a]=`${x[u]}px`,x.offsetHeight,requestAnimationFrame(()=>x.style[a]="0")},onAfterLeave:g,onLeaveCancelled:g};function g(x){t&&x._parent&&x._parent.classList.remove(t),h(x)}function h(x){if(!x._initialStyle)return;const w=x._initialStyle[a];x.style.overflow=x._initialStyle.overflow,w!=null&&(x.style[a]=w),delete x._initialStyle}}const Q1e=Ln({target:[Object,Array]},"v-dialog-transition"),fU=new WeakMap,dK=Mo()({name:"VDialogTransition",props:Q1e(),setup(t,s){let{slots:a}=s;const u={onBeforeEnter(g){g.style.pointerEvents="none",g.style.visibility="hidden"},async onEnter(g,h){var W;await new Promise(Z=>requestAnimationFrame(Z)),await new Promise(Z=>requestAnimationFrame(Z)),g.style.visibility="";const x=qY(t.target,g),{x:w,y:T,sx:I,sy:R,speed:N}=x;fU.set(g,x);const H=cE(g,[{transform:`translate(${w}px, ${T}px) scale(${I}, ${R})`,opacity:0},{}],{duration:225*N,easing:Ege});(W=GY(g))==null||W.forEach(Z=>{cE(Z,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*N,easing:c8})}),H.finished.then(()=>h())},onAfterEnter(g){g.style.removeProperty("pointer-events")},onBeforeLeave(g){g.style.pointerEvents="none"},async onLeave(g,h){var W;await new Promise(Z=>requestAnimationFrame(Z));let x;!fU.has(g)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?x=qY(t.target,g):x=fU.get(g);const{x:w,y:T,sx:I,sy:R,speed:N}=x;cE(g,[{},{transform:`translate(${w}px, ${T}px) scale(${I}, ${R})`,opacity:0}],{duration:125*N,easing:Age}).finished.then(()=>h()),(W=GY(g))==null||W.forEach(Z=>{cE(Z,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*N,easing:c8})})},onAfterLeave(g){g.style.removeProperty("pointer-events")}};return()=>t.target?ie(wx,Po({name:"dialog-transition"},u,{css:!1}),a):ie(wx,{name:"dialog-transition"},a)}});function GY(t){var a;const s=(a=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return s&&[...s]}function qY(t,s){const a=aQ(t),u=WW(s),[g,h]=getComputedStyle(s).transformOrigin.split(" ").map(j=>parseFloat(j)),[x,w]=getComputedStyle(s).getPropertyValue("--v-overlay-anchor-origin").split(" ");let T=a.left+a.width/2;x==="left"||w==="left"?T-=a.width/2:(x==="right"||w==="right")&&(T+=a.width/2);let I=a.top+a.height/2;x==="top"||w==="top"?I-=a.height/2:(x==="bottom"||w==="bottom")&&(I+=a.height/2);const R=a.width/u.width,N=a.height/u.height,H=Math.max(1,R,N),W=R/H||0,Z=N/H||0,J=u.width*u.height/(window.innerWidth*window.innerHeight),se=J>.12?Math.min(1.5,(J-.12)*10+1):1;return{x:T-(g+u.left),y:I-(h+u.top),sx:W,sy:Z,speed:se}}Om("fab-transition","center center","out-in");Om("dialog-bottom-transition");Om("dialog-top-transition");const YY=Om("fade-transition");Om("scale-transition");Om("scroll-x-transition");Om("scroll-x-reverse-transition");Om("scroll-y-transition");Om("scroll-y-reverse-transition");Om("slide-x-transition");Om("slide-x-reverse-transition");const Wee=Om("slide-y-transition");Om("slide-y-reverse-transition");const Kee=Hee("expand-transition",Uee()),jee=Hee("expand-x-transition",Uee("",!0));function mU(t,s){return{x:t.x+s.x,y:t.y+s.y}}function e0e(t,s){return{x:t.x-s.x,y:t.y-s.y}}function XY(t,s){if(t.side==="top"||t.side==="bottom"){const{side:a,align:u}=t,g=u==="left"?0:u==="center"?s.width/2:u==="right"?s.width:u,h=a==="top"?0:a==="bottom"?s.height:a;return mU({x:g,y:h},s)}else if(t.side==="left"||t.side==="right"){const{side:a,align:u}=t,g=a==="left"?0:a==="right"?s.width:a,h=u==="top"?0:u==="center"?s.height/2:u==="bottom"?s.height:u;return mU({x:g,y:h},s)}return mU({x:s.width/2,y:s.height/2},s)}const Zee={static:o0e,connected:s0e},t0e=Ln({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Zee},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function n0e(t,s){const a=zn({}),u=zn();ei&&Gg(()=>!!(s.isActive.value&&t.locationStrategy),w=>{var T,I;Rn(()=>t.locationStrategy,w),cc(()=>{window.removeEventListener("resize",g),visualViewport==null||visualViewport.removeEventListener("resize",h),visualViewport==null||visualViewport.removeEventListener("scroll",x),u.value=void 0}),window.addEventListener("resize",g,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",h,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",x,{passive:!0}),typeof t.locationStrategy=="function"?u.value=(T=t.locationStrategy(s,t,a))==null?void 0:T.updateLocation:u.value=(I=Zee[t.locationStrategy](s,t,a))==null?void 0:I.updateLocation});function g(w){var T;(T=u.value)==null||T.call(u,w)}function h(w){var T;(T=u.value)==null||T.call(u,w)}function x(w){var T;(T=u.value)==null||T.call(u,w)}return{contentStyles:a,updateLocation:u}}function o0e(){}function r0e(t,s){const a=WW(t);return s?a.x+=parseFloat(t.style.right||0):a.x-=parseFloat(t.style.left||0),a.y-=parseFloat(t.style.top||0),a}function s0e(t,s,a){(Array.isArray(t.target.value)||Oge(t.target.value))&&Object.assign(a.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:g,preferredOrigin:h}=zW(()=>{const j=zU(s.location,t.isRtl.value),he=s.origin==="overlap"?j:s.origin==="auto"?UH(j):zU(s.origin,t.isRtl.value);return j.side===he.side&&j.align===WH(he).align?{preferredAnchor:Tq(j),preferredOrigin:Tq(he)}:{preferredAnchor:j,preferredOrigin:he}}),[x,w,T,I]=["minWidth","minHeight","maxWidth","maxHeight"].map(j=>Dt(()=>{const he=parseFloat(s[j]);return isNaN(he)?1/0:he})),R=Dt(()=>{if(Array.isArray(s.offset))return s.offset;if(typeof s.offset=="string"){const j=s.offset.split(" ").map(parseFloat);return j.length<2&&j.push(0),j}return typeof s.offset=="number"?[s.offset,0]:[0,0]});let N=!1,H=-1;const W=new oQ(4),Z=new ResizeObserver(()=>{if(!N)return;if(requestAnimationFrame(he=>{he!==H&&W.clear(),requestAnimationFrame(ae=>{H=ae})}),W.isFull){const he=W.values();if(qg(he.at(-1),he.at(-3))&&!qg(he.at(-1),he.at(-2)))return}const j=se();j&&W.push(j.flipped)});Rn([t.target,t.contentEl],(j,he)=>{let[ae,U]=j,[de,oe]=he;de&&!Array.isArray(de)&&Z.unobserve(de),ae&&!Array.isArray(ae)&&Z.observe(ae),oe&&Z.unobserve(oe),U&&Z.observe(U)},{immediate:!0}),cc(()=>{Z.disconnect()});let J=new $b({x:0,y:0,width:0,height:0});function se(){if(N=!1,requestAnimationFrame(()=>N=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(J=aQ(t.target.value));const j=r0e(t.contentEl.value,t.isRtl.value),he=u8(t.contentEl.value),ae=12;he.length||(he.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(j.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),j.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const U=he.reduce((D,qe)=>{const lt=Jme(qe);return D?new $b({x:Math.max(D.left,lt.left),y:Math.max(D.top,lt.top),width:Math.min(D.right,lt.right)-Math.max(D.left,lt.left),height:Math.min(D.bottom,lt.bottom)-Math.max(D.top,lt.top)}):lt},void 0);U.x+=ae,U.y+=ae,U.width-=ae*2,U.height-=ae*2;let de={anchor:g.value,origin:h.value};function oe(D){const qe=new $b(j),lt=XY(D.anchor,J),zt=XY(D.origin,qe);let{x:Yt,y:ct}=e0e(lt,zt);switch(D.anchor.side){case"top":ct-=R.value[0];break;case"bottom":ct+=R.value[0];break;case"left":Yt-=R.value[0];break;case"right":Yt+=R.value[0];break}switch(D.anchor.align){case"top":ct-=R.value[1];break;case"bottom":ct+=R.value[1];break;case"left":Yt-=R.value[1];break;case"right":Yt+=R.value[1];break}return qe.x+=Yt,qe.y+=ct,qe.width=Math.min(qe.width,T.value),qe.height=Math.min(qe.height,I.value),{overflows:Dq(qe,U),x:Yt,y:ct}}let Ve=0,Me=0;const Xe={x:0,y:0},rt={x:!1,y:!1};let Oe=-1;for(;!(Oe++>10);){const{x:D,y:qe,overflows:lt}=oe(de);Ve+=D,Me+=qe,j.x+=D,j.y+=qe;{const zt=Oq(de.anchor),Yt=lt.x.before||lt.x.after,ct=lt.y.before||lt.y.after;let kn=!1;if(["x","y"].forEach(Et=>{if(Et==="x"&&Yt&&!rt.x||Et==="y"&&ct&&!rt.y){const Qe={anchor:{...de.anchor},origin:{...de.origin}},Le=Et==="x"?zt==="y"?WH:UH:zt==="y"?UH:WH;Qe.anchor=Le(Qe.anchor),Qe.origin=Le(Qe.origin);const{overflows:ft}=oe(Qe);(ft[Et].before<=lt[Et].before&&ft[Et].after<=lt[Et].after||ft[Et].before+ft[Et].after<(lt[Et].before+lt[Et].after)/2)&&(de=Qe,kn=rt[Et]=!0)}}),kn)continue}lt.x.before&&(Ve+=lt.x.before,j.x+=lt.x.before),lt.x.after&&(Ve-=lt.x.after,j.x-=lt.x.after),lt.y.before&&(Me+=lt.y.before,j.y+=lt.y.before),lt.y.after&&(Me-=lt.y.after,j.y-=lt.y.after);{const zt=Dq(j,U);Xe.x=U.width-zt.x.before-zt.x.after,Xe.y=U.height-zt.y.before-zt.y.after,Ve+=zt.x.before,j.x+=zt.x.before,Me+=zt.y.before,j.y+=zt.y.before}break}const Te=Oq(de.anchor);return Object.assign(a.value,{"--v-overlay-anchor-origin":`${de.anchor.side} ${de.anchor.align}`,transformOrigin:`${de.origin.side} ${de.origin.align}`,top:yr(gU(Me)),left:t.isRtl.value?void 0:yr(gU(Ve)),right:t.isRtl.value?yr(gU(-Ve)):void 0,minWidth:yr(Te==="y"?Math.min(x.value,J.width):x.value),maxWidth:yr(JY(wf(Xe.x,x.value===1/0?0:x.value,T.value))),maxHeight:yr(JY(wf(Xe.y,w.value===1/0?0:w.value,I.value)))}),{available:Xe,contentBox:j,flipped:rt}}return Rn(()=>[g.value,h.value,s.offset,s.minWidth,s.minHeight,s.maxWidth,s.maxHeight],()=>se()),Jo(()=>{const j=se();if(!j)return;const{available:he,contentBox:ae}=j;ae.height>he.y&&requestAnimationFrame(()=>{se(),requestAnimationFrame(()=>{se()})})}),{updateLocation:se}}function gU(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function JY(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let dW=!0;const C8=[];function i0e(t){!dW||C8.length?(C8.push(t),fW()):(dW=!1,t(),fW())}let QY=-1;function fW(){cancelAnimationFrame(QY),QY=requestAnimationFrame(()=>{const t=C8.shift();t&&t(),C8.length?fW():dW=!0})}const ZB={none:null,close:c0e,block:u0e,reposition:d0e},a0e=Ln({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in ZB}},"VOverlay-scroll-strategies");function l0e(t,s){if(!ei)return;let a;Md(async()=>{a==null||a.stop(),s.isActive.value&&t.scrollStrategy&&(a=yx(),await new Promise(u=>setTimeout(u)),a.active&&a.run(()=>{var u;typeof t.scrollStrategy=="function"?t.scrollStrategy(s,t,a):(u=ZB[t.scrollStrategy])==null||u.call(ZB,s,t,a)}))}),cc(()=>{a==null||a.stop()})}function c0e(t){function s(a){t.isActive.value=!1}Gee(t.targetEl.value??t.contentEl.value,s)}function u0e(t,s){var x;const a=(x=t.root.value)==null?void 0:x.offsetParent,u=[...new Set([...u8(t.targetEl.value,s.contained?a:void 0),...u8(t.contentEl.value,s.contained?a:void 0)])].filter(w=>!w.classList.contains("v-overlay-scroll-blocked")),g=window.innerWidth-document.documentElement.offsetWidth,h=(w=>ZW(w)&&w)(a||document.documentElement);h&&t.root.value.classList.add("v-overlay--scroll-blocked"),u.forEach((w,T)=>{w.style.setProperty("--v-body-scroll-x",yr(-w.scrollLeft)),w.style.setProperty("--v-body-scroll-y",yr(-w.scrollTop)),w!==document.documentElement&&w.style.setProperty("--v-scrollbar-offset",yr(g)),w.classList.add("v-overlay-scroll-blocked")}),cc(()=>{u.forEach((w,T)=>{const I=parseFloat(w.style.getPropertyValue("--v-body-scroll-x")),R=parseFloat(w.style.getPropertyValue("--v-body-scroll-y")),N=w.style.scrollBehavior;w.style.scrollBehavior="auto",w.style.removeProperty("--v-body-scroll-x"),w.style.removeProperty("--v-body-scroll-y"),w.style.removeProperty("--v-scrollbar-offset"),w.classList.remove("v-overlay-scroll-blocked"),w.scrollLeft=-I,w.scrollTop=-R,w.style.scrollBehavior=N}),h&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function d0e(t,s,a){let u=!1,g=-1,h=-1;function x(w){i0e(()=>{var R,N;const T=performance.now();(N=(R=t.updateLocation).value)==null||N.call(R,w),u=(performance.now()-T)/(1e3/60)>2})}h=(typeof requestIdleCallback>"u"?w=>w():requestIdleCallback)(()=>{a.run(()=>{Gee(t.targetEl.value??t.contentEl.value,w=>{u?(cancelAnimationFrame(g),g=requestAnimationFrame(()=>{g=requestAnimationFrame(()=>{x(w)})})):x(w)})})}),cc(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(h),cancelAnimationFrame(g)})}function Gee(t,s){const a=[document,...u8(t)];a.forEach(u=>{u.addEventListener("scroll",s,{passive:!0})}),cc(()=>{a.forEach(u=>{u.removeEventListener("scroll",s)})})}const mW=Symbol.for("vuetify:v-menu"),qee=Ln({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Yee(t,s){let a=()=>{};function u(x){a==null||a();const w=Number(x?t.openDelay:t.closeDelay);return new Promise(T=>{a=Zme(w,()=>{s==null||s(x),T(x)})})}function g(){return u(!0)}function h(){return u(!1)}return{clearDelay:a,runOpenDelay:g,runCloseDelay:h}}const f0e=Ln({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...qee()},"VOverlay-activator");function m0e(t,s){let{isActive:a,isTop:u,contentEl:g}=s;const h=$l("useActivator"),x=zn();let w=!1,T=!1,I=!0;const R=Dt(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),N=Dt(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!R.value),{runOpenDelay:H,runCloseDelay:W}=Yee(t,Me=>{Me===(t.openOnHover&&w||R.value&&T)&&!(t.openOnHover&&a.value&&!u.value)&&(a.value!==Me&&(I=!0),a.value=Me)}),Z=zn(),J={onClick:Me=>{Me.stopPropagation(),x.value=Me.currentTarget||Me.target,a.value||(Z.value=[Me.clientX,Me.clientY]),a.value=!a.value},onMouseenter:Me=>{var Xe;(Xe=Me.sourceCapabilities)!=null&&Xe.firesTouchEvents||(w=!0,x.value=Me.currentTarget||Me.target,H())},onMouseleave:Me=>{w=!1,W()},onFocus:Me=>{vE(Me.target,":focus-visible")!==!1&&(T=!0,Me.stopPropagation(),x.value=Me.currentTarget||Me.target,H())},onBlur:Me=>{T=!1,Me.stopPropagation(),W()}},se=Dt(()=>{const Me={};return N.value&&(Me.onClick=J.onClick),t.openOnHover&&(Me.onMouseenter=J.onMouseenter,Me.onMouseleave=J.onMouseleave),R.value&&(Me.onFocus=J.onFocus,Me.onBlur=J.onBlur),Me}),j=Dt(()=>{const Me={};if(t.openOnHover&&(Me.onMouseenter=()=>{w=!0,H()},Me.onMouseleave=()=>{w=!1,W()}),R.value&&(Me.onFocusin=()=>{T=!0,H()},Me.onFocusout=()=>{T=!1,W()}),t.closeOnContentClick){const Xe=Wi(mW,null);Me.onClick=()=>{a.value=!1,Xe==null||Xe.closeParents()}}return Me}),he=Dt(()=>{const Me={};return t.openOnHover&&(Me.onMouseenter=()=>{I&&(w=!0,I=!1,H())},Me.onMouseleave=()=>{w=!1,W()}),Me});Rn(u,Me=>{var Xe;Me&&(t.openOnHover&&!w&&(!R.value||!T)||R.value&&!T&&(!t.openOnHover||!w))&&!((Xe=g.value)!=null&&Xe.contains(document.activeElement))&&(a.value=!1)}),Rn(a,Me=>{Me||setTimeout(()=>{Z.value=void 0})},{flush:"post"});const ae=$U();Md(()=>{ae.value&&Jo(()=>{x.value=ae.el})});const U=$U(),de=Dt(()=>t.target==="cursor"&&Z.value?Z.value:U.value?U.el:Xee(t.target,h)||x.value),oe=Dt(()=>Array.isArray(de.value)?void 0:de.value);let Ve;return Rn(()=>!!t.activator,Me=>{Me&&ei?(Ve=yx(),Ve.run(()=>{g0e(t,h,{activatorEl:x,activatorEvents:se})})):Ve&&Ve.stop()},{flush:"post",immediate:!0}),cc(()=>{Ve==null||Ve.stop()}),{activatorEl:x,activatorRef:ae,target:de,targetEl:oe,targetRef:U,activatorEvents:se,contentEvents:j,scrimEvents:he}}function g0e(t,s,a){let{activatorEl:u,activatorEvents:g}=a;Rn(()=>t.activator,(T,I)=>{if(I&&T!==I){const R=w(I);R&&x(R)}T&&Jo(()=>h())},{immediate:!0}),Rn(()=>t.activatorProps,()=>{h()}),cc(()=>{x()});function h(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;T&&Qme(T,Po(g.value,I))}function x(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w(),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;T&&ege(T,Po(g.value,I))}function w(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const I=Xee(T,s);return u.value=(I==null?void 0:I.nodeType)===Node.ELEMENT_NODE?I:void 0,u.value}}function Xee(t,s){var u,g;if(!t)return;let a;if(t==="parent"){let h=(g=(u=s==null?void 0:s.proxy)==null?void 0:u.$el)==null?void 0:g.parentNode;for(;h!=null&&h.hasAttribute("data-no-activator");)h=h.parentNode;a=h}else typeof t=="string"?a=document.querySelector(t):"$el"in t?a=t.$el:a=t;return a}function h0e(){if(!ei)return ho(!1);const{ssr:t}=W8();if(t){const s=ho(!1);return Ku(()=>{s.value=!0}),s}else return ho(!0)}const p0e=Ln({eager:Boolean},"lazy");function b0e(t,s){const a=ho(!1),u=gn(()=>a.value||t.eager||s.value);Rn(s,()=>a.value=!0);function g(){t.eager||(a.value=!1)}return{isBooted:a,hasContent:u,onAfterLeave:g}}function iF(){const s=$l("useScopeId").vnode.scopeId;return{scopeId:s?{[s]:""}:void 0}}const eX=Symbol.for("vuetify:stack"),fD=Gl([]);function v0e(t,s,a){const u=$l("useStack"),g=!a,h=Wi(eX,void 0),x=Gl({activeChildren:new Set});Bd(eX,x);const w=ho(Number(Hb(s)));Gg(t,()=>{var N;const R=(N=fD.at(-1))==null?void 0:N[1];w.value=R?R+10:Number(Hb(s)),g&&fD.push([u.uid,w.value]),h==null||h.activeChildren.add(u.uid),cc(()=>{if(g){const H=gr(fD).findIndex(W=>W[0]===u.uid);fD.splice(H,1)}h==null||h.activeChildren.delete(u.uid)})});const T=ho(!0);g&&Md(()=>{var N;const R=((N=fD.at(-1))==null?void 0:N[0])===u.uid;setTimeout(()=>T.value=R)});const I=gn(()=>!x.activeChildren.size);return{globalTop:AE(T),localTop:I,stackStyles:gn(()=>({zIndex:w.value}))}}function y0e(t){return{teleportTarget:Dt(()=>{const a=t();if(a===!0||!ei)return;const u=a===!1?document.body:typeof a=="string"?document.querySelector(a):a;if(u==null)return;let g=[...u.children].find(h=>h.matches(".v-overlay-container"));return g||(g=document.createElement("div"),g.className="v-overlay-container",u.appendChild(g)),g})}}function x0e(){return!0}function Jee(t,s,a){if(!t||Qee(t,a)===!1)return!1;const u=gQ(s);if(typeof ShadowRoot<"u"&&u instanceof ShadowRoot&&u.host===t.target)return!1;const g=(typeof a.value=="object"&&a.value.include||(()=>[]))();return g.push(s),!g.some(h=>h==null?void 0:h.contains(t.target))}function Qee(t,s){return(typeof s.value=="object"&&s.value.closeConditional||x0e)(t)}function w0e(t,s,a){const u=typeof a.value=="function"?a.value:a.value.handler;t.shadowTarget=t.target,s._clickOutside.lastMousedownWasOutside&&Jee(t,s,a)&&setTimeout(()=>{Qee(t,a)&&u&&u(t)},0)}function tX(t,s){const a=gQ(t);s(document),typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&s(a)}const nX={mounted(t,s){const a=g=>w0e(g,t,s),u=g=>{t._clickOutside.lastMousedownWasOutside=Jee(g,t,s)};tX(t,g=>{g.addEventListener("click",a,!0),g.addEventListener("mousedown",u,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[s.instance.$.uid]={onClick:a,onMousedown:u}},beforeUnmount(t,s){t._clickOutside&&(tX(t,a=>{var h;if(!a||!((h=t._clickOutside)!=null&&h[s.instance.$.uid]))return;const{onClick:u,onMousedown:g}=t._clickOutside[s.instance.$.uid];a.removeEventListener("click",u,!0),a.removeEventListener("mousedown",g,!0)}),delete t._clickOutside[s.instance.$.uid])}};function C0e(t){const{modelValue:s,color:a,...u}=t;return ie(wx,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&te("div",Po({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},u),null)]})}const fK=Ln({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...f0e(),...zr(),...pp(),...p0e(),...t0e(),...a0e(),...vl(),...LE()},"VOverlay"),_8=Mo()({name:"VOverlay",directives:{vClickOutside:nX},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...fK()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,s){let{slots:a,attrs:u,emit:g}=s;const h=$l("VOverlay"),x=zn(),w=zn(),T=zn(),I=Ki(t,"modelValue"),R=Dt({get:()=>I.value,set:nn=>{nn&&t.disabled||(I.value=nn)}}),{themeClasses:N}=uc(t),{rtlClasses:H,isRtl:W}=Xg(),{hasContent:Z,onAfterLeave:J}=b0e(t,R),se=up(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:j,localTop:he,stackStyles:ae}=v0e(R,()=>t.zIndex,t._disableGlobalStack),{activatorEl:U,activatorRef:de,target:oe,targetEl:Ve,targetRef:Me,activatorEvents:Xe,contentEvents:rt,scrimEvents:Oe}=m0e(t,{isActive:R,isTop:he,contentEl:T}),{teleportTarget:Te}=y0e(()=>{var co,Kt,pn;const nn=t.attach||t.contained;if(nn)return nn;const Q=((co=U==null?void 0:U.value)==null?void 0:co.getRootNode())||((pn=(Kt=h.proxy)==null?void 0:Kt.$el)==null?void 0:pn.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:D}=bp(t),qe=h0e(),{scopeId:lt}=iF();Rn(()=>t.disabled,nn=>{nn&&(R.value=!1)});const{contentStyles:zt,updateLocation:Yt}=n0e(t,{isRtl:W,contentEl:T,target:oe,isActive:R});l0e(t,{root:x,contentEl:T,targetEl:Ve,isActive:R,updateLocation:Yt});function ct(nn){g("click:outside",nn),t.persistent?po():R.value=!1}function kn(nn){return R.value&&j.value&&(!t.scrim||nn.target===w.value||nn instanceof MouseEvent&&nn.shadowTarget===w.value)}ei&&Rn(R,nn=>{nn?window.addEventListener("keydown",Et):window.removeEventListener("keydown",Et)},{immediate:!0}),Dc(()=>{ei&&window.removeEventListener("keydown",Et)});function Et(nn){var Q,co,Kt;nn.key==="Escape"&&j.value&&((Q=T.value)!=null&&Q.contains(document.activeElement)||g("keydown",nn),t.persistent?po():(R.value=!1,(co=T.value)!=null&&co.contains(document.activeElement)&&((Kt=U.value)==null||Kt.focus())))}function Qe(nn){nn.key==="Escape"&&!j.value||g("keydown",nn)}const Le=Iee();Gg(()=>t.closeOnBack,()=>{P1e(Le,nn=>{j.value&&R.value?(nn(!1),t.persistent?po():R.value=!1):nn()})});const ft=zn();Rn(()=>R.value&&(t.absolute||t.contained)&&Te.value==null,nn=>{if(nn){const Q=hQ(x.value);Q&&Q!==document.scrollingElement&&(ft.value=Q.scrollTop)}});function po(){t.noClickAnimation||T.value&&cE(T.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:c8})}function Ht(){g("afterEnter")}function Tn(){J(),g("afterLeave")}return xr(()=>{var nn;return te(lr,null,[(nn=a.activator)==null?void 0:nn.call(a,{isActive:R.value,targetRef:Me,props:Po({ref:de},Xe.value,t.activatorProps)}),qe.value&&Z.value&&ie(afe,{disabled:!Te.value,to:Te.value},{default:()=>[te("div",Po({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":R.value,"v-overlay--contained":t.contained},N.value,H.value,t.class],style:[ae.value,{"--v-overlay-opacity":t.opacity,top:yr(ft.value)},t.style],ref:x,onKeydown:Qe},lt,u),[ie(C0e,Po({color:se,modelValue:R.value&&!!t.scrim,ref:w},Oe.value),null),ie(gx,{appear:!0,persisted:!0,transition:t.transition,target:oe.value,onAfterEnter:Ht,onAfterLeave:Tn},{default:()=>{var Q;return[Fn(te("div",Po({ref:T,class:["v-overlay__content",t.contentClass],style:[D.value,zt.value]},rt.value,t.contentProps),[(Q=a.default)==null?void 0:Q.call(a,{isActive:R})]),[[Ao,R.value],[nX,{handler:ct,closeConditional:kn,include:()=>[U.value]}]])]}})])]})])}),{activatorEl:U,scrimEl:w,target:oe,animateClick:po,contentEl:T,globalTop:j,localTop:he,updateLocation:Yt}}}),hU=Symbol("Forwarded refs");function pU(t,s){let a=t;for(;a;){const u=Reflect.getOwnPropertyDescriptor(a,s);if(u)return u;a=Object.getPrototypeOf(a)}}function VC(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return t[hU]=a,new Proxy(t,{get(g,h){if(Reflect.has(g,h))return Reflect.get(g,h);if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const x of a)if(x.value&&Reflect.has(x.value,h)){const w=Reflect.get(x.value,h);return typeof w=="function"?w.bind(x.value):w}}},has(g,h){if(Reflect.has(g,h))return!0;if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const x of a)if(x.value&&Reflect.has(x.value,h))return!0;return!1},set(g,h,x){if(Reflect.has(g,h))return Reflect.set(g,h,x);if(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))return!1;for(const w of a)if(w.value&&Reflect.has(w.value,h))return Reflect.set(w.value,h,x);return!1},getOwnPropertyDescriptor(g,h){var w;const x=Reflect.getOwnPropertyDescriptor(g,h);if(x)return x;if(!(typeof h=="symbol"||h.startsWith("$")||h.startsWith("__"))){for(const T of a){if(!T.value)continue;const I=pU(T.value,h)??("_"in T.value?pU((w=T.value._)==null?void 0:w.setupState,h):void 0);if(I)return I}for(const T of a){const I=T.value&&T.value[hU];if(!I)continue;const R=I.slice();for(;R.length;){const N=R.shift(),H=pU(N.value,h);if(H)return H;const W=N.value&&N.value[hU];W&&R.push(...W)}}}}})}const _0e=Ln({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...fK({origin:"center center",scrollStrategy:"block",transition:{component:dK},zIndex:2400})},"VDialog"),lp=Mo()({name:"VDialog",props:_0e(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,s){let{emit:a,slots:u}=s;const g=Ki(t,"modelValue"),{scopeId:h}=iF(),x=zn();function w(R){var W,Z;const N=R.relatedTarget,H=R.target;if(N!==H&&((W=x.value)!=null&&W.contentEl)&&((Z=x.value)!=null&&Z.globalTop)&&![document,x.value.contentEl].includes(H)&&!x.value.contentEl.contains(H)){const J=LD(x.value.contentEl);if(!J.length)return;const se=J[0],j=J[J.length-1];N===se?j.focus():se.focus()}}Dc(()=>{document.removeEventListener("focusin",w)}),ei&&Rn(()=>g.value&&t.retainFocus,R=>{R?document.addEventListener("focusin",w):document.removeEventListener("focusin",w)},{immediate:!0});function T(){var R;a("afterEnter"),(t.scrim||t.retainFocus)&&((R=x.value)!=null&&R.contentEl)&&!x.value.contentEl.contains(document.activeElement)&&x.value.contentEl.focus({preventScroll:!0})}function I(){a("afterLeave")}return Rn(g,async R=>{var N;R||(await Jo(),(N=x.value.activatorEl)==null||N.focus({preventScroll:!0}))}),xr(()=>{const R=_8.filterProps(t),N=Po({"aria-haspopup":"dialog"},t.activatorProps),H=Po({tabindex:-1},t.contentProps);return ie(_8,Po({ref:x,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},R,{modelValue:g.value,"onUpdate:modelValue":W=>g.value=W,"aria-modal":"true",activatorProps:N,contentProps:H,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:T,onAfterLeave:I},h),{activator:u.activator,default:function(){for(var W=arguments.length,Z=new Array(W),J=0;J<W;J++)Z[J]=arguments[J];return ie(_a,{root:"VDialog"},{default:()=>{var se;return[(se=u.default)==null?void 0:se.call(u,...Z)]}})}})}),VC({},x)}}),S0e=Ln({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...zr(),...Jg(),...ra(),...vl()},"VTable"),sp=Mo()({name:"VTable",props:S0e(),setup(t,s){let{slots:a,emit:u}=s;const{themeClasses:g}=uc(t),{densityClasses:h}=hp(t);return xr(()=>ie(t.tag,{class:go(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},g.value,h.value,t.class]),style:Ir(t.style)},{default:()=>{var x,w,T;return[(x=a.top)==null?void 0:x.call(a),a.default?te("div",{class:"v-table__wrapper",style:{height:yr(t.height)}},[te("table",null,[a.default()])]):(w=a.wrapper)==null?void 0:w.call(a),(T=a.bottom)==null?void 0:T.call(a)]}})),{}}}),k0e={width:"50%"},E0e={width:"50%"},A0e={width:"50%"},T0e={width:"50%"},O0e={width:"50%"},D0e={width:"50%"},R0e={width:"50%"},I0e={width:"50%"},N0e={__name:"Help",setup(t){const s=Fl();return(a,u)=>(On(),Bo(lr,null,[ie(Co,{class:"app-header-item",onClick:u[0]||(u[0]=g=>le(s).showHelp=!0)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-help"}),u[3]||(u[3]=xs(" Hilfe "))]),_:1,__:[3]}),ie(lp,{modelValue:le(s).showHelp,"onUpdate:modelValue":u[2]||(u[2]=g=>le(s).showHelp=g),"max-width":"1000"},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>[te("h1",null,pt(a.$t("helpGeneralNavigation")),1),ie(sp,null,{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",k0e,pt(a.$t("helpAction")),1),te("th",E0e,pt(a.$t("helpShortcut")),1)])]),te("tbody",null,[te("tr",null,[te("td",null,pt(a.$t("helpNextElement")),1),te("td",null,pt(a.$t("helpKeyTab")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpPreviousElement")),1),te("td",null,pt(a.$t("helpKeyShiftTab")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpHeaderButtons")),1),te("td",null,pt(a.$t("helpKeyAlt0")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpNavigationButtons")),1),te("td",null,pt(a.$t("helpKeyAltNum")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpContentLeftColumn")),1),te("td",null,pt(a.$t("helpKeyAlt1")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpContentRightColumn")),1),te("td",null,pt(a.$t("helpKeyAlt2")),1)])])]),_:1}),te("h1",null,pt(a.$t("helpEssay")),1),ie(sp,null,{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",A0e,pt(a.$t("helpAction")),1),te("th",T0e,pt(a.$t("helpShortcut")),1)])]),te("tbody",null,[te("tr",null,[te("td",null,pt(a.$t("helpEssayMoveCursor")),1),te("td",null,pt(a.$t("helpKeysArrows")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpEssaySelectText")),1),te("td",null,pt(a.$t("helpKeysShiftArrows")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpEssayUnselectText")),1),te("td",null,pt(a.$t("helpKeyEsc")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpEssayCreateComment")),1),te("td",null,pt(a.$t("helpKeyReturnWhenSelected")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpEssayJumpToComment")),1),te("td",null,pt(a.$t("helpKeyReturnWhenNotSelected")),1)])])]),_:1}),te("h1",null,pt(a.$t("helpComments")),1),ie(sp,null,{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",O0e,pt(a.$t("helpAction")),1),te("th",D0e,pt(a.$t("helpShortcut")),1)])]),te("tbody",null,[te("tr",null,[te("td",null,pt(a.$t("helpCommentsSelect")),1),te("td",null,pt(a.$t("helpKeyReturnOnFocusedLabel")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommentsJumpToMark")),1),te("td",null,pt(a.$t("helpKeyAltReturn")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommentsJumpToCriteria")),1),te("td",null,pt(a.$t("helpKeyReturnOnFocusedPoints")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommentsReturnFromCriteria")),1),te("td",null,pt(a.$t("helpKeyEsc")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommentsDelete")),1),te("td",null,pt(a.$t("helpKeyAltDel")),1)])])]),_:1}),te("h1",null,pt(a.$t("helpEditorNavigation")),1),ie(sp,null,{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",R0e,pt(a.$t("helpAction")),1),te("th",I0e,pt(a.$t("helpShortcut")),1)])]),te("tbody",null,[te("tr",null,[te("td",null,pt(a.$t("helpToolbarFocusIn")),1),te("td",null,pt(a.$t("helpKeyAltF10")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpToolbarFocusOut")),1),te("td",null,pt(a.$t("helpKeyEsc")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpToolbarNavigate")),1),te("td",null,pt(a.$t("helpKeysLeftRight")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpPopupBlockFormatsShow")),1),te("td",null,pt(a.$t("helpKeyReturn")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpPopupBlockFormatsNavigate")),1),te("td",null,pt(a.$t("helpKeysUpDown")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpPopupBlockFormatsSelect")),1),te("td",null,pt(a.$t("helpKeyReturn")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpPopupBlockFormatsClose")),1),te("td",null,pt(a.$t("helpKeyEsc")),1)])])]),_:1}),u[5]||(u[5]=te("h1",null,"Tastenbefehle im Gutachten",-1)),ie(sp,null,{default:xt(()=>[u[4]||(u[4]=te("thead",null,[te("tr",null,[te("th",{width:"50%"},"Aktion"),te("th",{width:"50%"},"Tastenkombination")])],-1)),te("tbody",null,[te("tr",null,[te("td",null,pt(a.$t("helpCommandBold")),1),te("td",null,pt(a.$t("Ctrl + B")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandItalic")),1),te("td",null,pt(a.$t("helpKeyCtrlI")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommundUnderline")),1),te("td",null,pt(a.$t("Ctrl + U")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandSelectAll")),1),te("td",null,pt(a.$t("Ctrl + A")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandRedo")),1),te("td",null,pt(a.$t("helpKeyCtrlYOrCtrlShiftZ")),1)]),te("tr",null,[te("td",null,pt(a.$t("Rckgngig machen")),1),te("td",null,pt(a.$t("Ctrl + Z")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH1")),1),te("td",null,pt(a.$t("helpKeyShiftAlt1")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH2")),1),te("td",null,pt(a.$t("helpKeyShiftAlt2")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH3")),1),te("td",null,pt(a.$t("helpKeyShiftAlt3")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH4")),1),te("td",null,pt(a.$t("helpKeyShiftAlt4")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH5")),1),te("td",null,pt(a.$t("helpKeyShiftAlt5")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandH6")),1),te("td",null,pt(a.$t("helpKeyShiftAlt6")),1)]),te("tr",null,[te("td",null,pt(a.$t("helpCommandParagraph")),1),te("td",null,pt(a.$t("helpKeyShiftAlt7")),1)])])]),_:1,__:[4]})]),_:1,__:[5]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:u[1]||(u[1]=g=>le(s).showHelp=!1)},{default:xt(()=>[te("span",null,pt(a.$t("helpCloseHelp")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},P0e=yl(N0e,[["__scopeId","data-v-6cb53afd"]]),L0e=Ln({text:String,onClick:Cf(),...zr(),...vl()},"VLabel"),ete=Mo()({name:"VLabel",props:L0e(),setup(t,s){let{slots:a}=s;return xr(()=>{var u;return te("label",{class:go(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Ir(t.style),onClick:t.onClick},[t.text,(u=a.default)==null?void 0:u.call(a)])}),{}}}),tte=Symbol.for("vuetify:selection-control-group"),nte=Ln({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:zs,trueIcon:zs,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:qg},...zr(),...Jg(),...vl()},"SelectionControlGroup"),M0e=Ln({...nte({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Mo()({name:"VSelectionControlGroup",props:M0e(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const u=Ki(t,"modelValue"),g=s0(),h=gn(()=>t.id||`v-selection-control-group-${g}`),x=gn(()=>t.name||h.value),w=new Set;return Bd(tte,{modelValue:u,forceUpdate:()=>{w.forEach(T=>T())},onForceUpdate:T=>{w.add(T),cc(()=>{w.delete(T)})}}),Ex({[t.defaultsTarget]:{color:gn(()=>t.color),disabled:gn(()=>t.disabled),density:gn(()=>t.density),error:gn(()=>t.error),inline:gn(()=>t.inline),modelValue:u,multiple:gn(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),name:x,falseIcon:gn(()=>t.falseIcon),trueIcon:gn(()=>t.trueIcon),readonly:gn(()=>t.readonly),ripple:gn(()=>t.ripple),type:gn(()=>t.type),valueComparator:gn(()=>t.valueComparator)}}),xr(()=>{var T;return te("div",{class:go(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Ir(t.style),role:t.type==="radio"?"radiogroup":void 0},[(T=a.default)==null?void 0:T.call(a)])}),{}}});const ote=Ln({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...zr(),...nte()},"VSelectionControl");function B0e(t){const s=Wi(tte,void 0),{densityClasses:a}=hp(t),u=Ki(t,"modelValue"),g=Dt(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),h=Dt(()=>t.falseValue!==void 0?t.falseValue:!1),x=Dt(()=>!!t.multiple||t.multiple==null&&Array.isArray(u.value)),w=Dt({get(){const W=s?s.modelValue.value:u.value;return x.value?xf(W).some(Z=>t.valueComparator(Z,g.value)):t.valueComparator(W,g.value)},set(W){if(t.readonly)return;const Z=W?g.value:h.value;let J=Z;x.value&&(J=W?[...xf(u.value),Z]:xf(u.value).filter(se=>!t.valueComparator(se,g.value))),s?s.modelValue.value=J:u.value=J}}),{textColorClasses:T,textColorStyles:I}=mp(()=>{if(!(t.error||t.disabled))return w.value?t.color:t.baseColor}),{backgroundColorClasses:R,backgroundColorStyles:N}=up(()=>w.value&&!t.error&&!t.disabled?t.color:t.baseColor),H=Dt(()=>w.value?t.trueIcon:t.falseIcon);return{group:s,densityClasses:a,trueValue:g,falseValue:h,model:w,textColorClasses:T,textColorStyles:I,backgroundColorClasses:R,backgroundColorStyles:N,icon:H}}const oX=Mo()({name:"VSelectionControl",directives:{vRipple:n0},inheritAttrs:!1,props:ote(),emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:a,slots:u}=s;const{group:g,densityClasses:h,icon:x,model:w,textColorClasses:T,textColorStyles:I,backgroundColorClasses:R,backgroundColorStyles:N,trueValue:H}=B0e(t),W=s0(),Z=ho(!1),J=ho(!1),se=zn(),j=gn(()=>t.id||`input-${W}`),he=gn(()=>!t.disabled&&!t.readonly);g==null||g.onForceUpdate(()=>{se.value&&(se.value.checked=w.value)});function ae(Ve){he.value&&(Z.value=!0,vE(Ve.target,":focus-visible")!==!1&&(J.value=!0))}function U(){Z.value=!1,J.value=!1}function de(Ve){Ve.stopPropagation()}function oe(Ve){if(!he.value){se.value&&(se.value.checked=w.value);return}t.readonly&&g&&Jo(()=>g.forceUpdate()),w.value=Ve.target.checked}return xr(()=>{var Oe,Te;const Ve=u.label?u.label({label:t.label,props:{for:j.value}}):t.label,[Me,Xe]=z8(a),rt=te("input",Po({ref:se,checked:w.value,disabled:!!t.disabled,id:j.value,onBlur:U,onFocus:ae,onInput:oe,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:H.value,name:t.name,"aria-checked":t.type==="checkbox"?w.value:void 0},Xe),null);return te("div",Po({class:["v-selection-control",{"v-selection-control--dirty":w.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":Z.value,"v-selection-control--focus-visible":J.value,"v-selection-control--inline":t.inline},h.value,t.class]},Me,{style:t.style}),[te("div",{class:go(["v-selection-control__wrapper",T.value]),style:Ir(I.value)},[(Oe=u.default)==null?void 0:Oe.call(u,{backgroundColorClasses:R,backgroundColorStyles:N}),Fn(te("div",{class:go(["v-selection-control__input"])},[((Te=u.input)==null?void 0:Te.call(u,{model:w,textColorClasses:T,textColorStyles:I,backgroundColorClasses:R,backgroundColorStyles:N,inputNode:rt,icon:x.value,props:{onFocus:ae,onBlur:U,id:j.value}}))??te(lr,null,[x.value&&ie(Un,{key:"icon",icon:x.value},null),rt])]),[[n0,t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),Ve&&ie(ete,{for:j.value,onClick:de},{default:()=>[Ve]})])}),{isFocused:Z,input:se}}}),rte=Ln({indeterminate:Boolean,indeterminateIcon:{type:zs,default:"$checkboxIndeterminate"},...ote({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),S8=Mo()({name:"VCheckboxBtn",props:rte(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,s){let{slots:a}=s;const u=Ki(t,"indeterminate"),g=Ki(t,"modelValue");function h(T){u.value&&(u.value=!1)}const x=gn(()=>u.value?t.indeterminateIcon:t.falseIcon),w=gn(()=>u.value?t.indeterminateIcon:t.trueIcon);return xr(()=>{const T=kx(oX.filterProps(t),["modelValue"]);return ie(oX,Po(T,{modelValue:g.value,"onUpdate:modelValue":[I=>g.value=I,h],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:x.value,trueIcon:w.value,"aria-checked":u.value?"mixed":void 0}),a)}),{}}});function ste(t){const{t:s}=uR();function a(u){let{name:g,color:h,...x}=u;const w={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[g],T=t[`onClick:${g}`];function I(N){N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),HW(T,new PointerEvent("click",N)))}const R=T&&w?s(`$vuetify.input.${w}`,t.label??""):void 0;return ie(Un,Po({icon:t[`${g}Icon`],"aria-label":R,onClick:T,onKeydown:I,color:h},x),null)}return{InputIcon:a}}const F0e=Ln({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...zr(),...LE({transition:{component:Wee,leaveAbsolute:!0,group:!0}})},"VMessages"),$0e=Mo()({name:"VMessages",props:F0e(),setup(t,s){let{slots:a}=s;const u=Dt(()=>xf(t.messages)),{textColorClasses:g,textColorStyles:h}=mp(()=>t.color);return xr(()=>ie(gx,{transition:t.transition,tag:"div",class:go(["v-messages",g.value,t.class]),style:Ir([h.value,t.style])},{default:()=>[t.active&&u.value.map((x,w)=>te("div",{class:"v-messages__message",key:`${w}-${u.value}`},[a.message?a.message({message:x}):x]))]})),{}}}),ite=Ln({focused:Boolean,"onUpdate:focused":Cf()},"focus");function aF(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb();const a=Ki(t,"focused"),u=gn(()=>({[`${s}--focused`]:a.value}));function g(){a.value=!0}function h(){a.value=!1}return{focusClasses:u,isFocused:a,focus:g,blur:h}}const V0e=Symbol.for("vuetify:form");function mK(t){const s=Wi(V0e,null);return{...s,isReadonly:Dt(()=>!!((t==null?void 0:t.readonly)??(s==null?void 0:s.isReadonly.value))),isDisabled:Dt(()=>!!((t==null?void 0:t.disabled)??(s==null?void 0:s.isDisabled.value)))}}const z0e=Symbol.for("vuetify:rules");function H0e(t){const s=Wi(z0e,null);return s?s(t):gn(t)}const U0e=Ln({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ite()},"validation");function W0e(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jb(),a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s0();const u=Ki(t,"modelValue"),g=Dt(()=>t.validationValue===void 0?u.value:t.validationValue),h=mK(t),x=H0e(()=>t.rules),w=zn([]),T=ho(!0),I=Dt(()=>!!(xf(u.value===""?null:u.value).length||xf(g.value===""?null:g.value).length)),R=Dt(()=>{var U;return(U=t.errorMessages)!=null&&U.length?xf(t.errorMessages).concat(w.value).slice(0,Math.max(0,Number(t.maxErrors))):w.value}),N=Dt(()=>{var oe;let U=(t.validateOn??((oe=h.validateOn)==null?void 0:oe.value))||"input";U==="lazy"&&(U="input lazy"),U==="eager"&&(U="input eager");const de=new Set((U==null?void 0:U.split(" "))??[]);return{input:de.has("input"),blur:de.has("blur")||de.has("input")||de.has("invalid-input"),invalidInput:de.has("invalid-input"),lazy:de.has("lazy"),eager:de.has("eager")}}),H=Dt(()=>{var U;return t.error||(U=t.errorMessages)!=null&&U.length?!1:t.rules.length?T.value?w.value.length||N.value.lazy?null:!0:!w.value.length:!0}),W=ho(!1),Z=Dt(()=>({[`${s}--error`]:H.value===!1,[`${s}--dirty`]:I.value,[`${s}--disabled`]:h.isDisabled.value,[`${s}--readonly`]:h.isReadonly.value})),J=$l("validation"),se=Dt(()=>t.name??le(a));aR(()=>{var U;(U=h.register)==null||U.call(h,{id:se.value,vm:J,validate:ae,reset:j,resetValidation:he})}),Dc(()=>{var U;(U=h.unregister)==null||U.call(h,se.value)}),Ku(async()=>{var U;N.value.lazy||await ae(!N.value.eager),(U=h.update)==null||U.call(h,se.value,H.value,R.value)}),Gg(()=>N.value.input||N.value.invalidInput&&H.value===!1,()=>{Rn(g,()=>{if(g.value!=null)ae();else if(t.focused){const U=Rn(()=>t.focused,de=>{de||ae(),U()})}})}),Gg(()=>N.value.blur,()=>{Rn(()=>t.focused,U=>{U||ae()})}),Rn([H,R],()=>{var U;(U=h.update)==null||U.call(h,se.value,H.value,R.value)});async function j(){u.value=null,await Jo(),await he()}async function he(){T.value=!0,N.value.lazy?w.value=[]:await ae(!N.value.eager)}async function ae(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const de=[];W.value=!0;for(const oe of x.value){if(de.length>=Number(t.maxErrors??1))break;const Me=await(typeof oe=="function"?oe:()=>oe)(g.value);if(Me!==!0){if(Me!==!1&&typeof Me!="string"){console.warn(`${Me} is not a valid value. Rule functions must return boolean true or a string.`);continue}de.push(Me||"")}}return w.value=de,W.value=!1,T.value=U,w.value}return{errorMessages:R,isDirty:I,isDisabled:h.isDisabled,isReadonly:h.isReadonly,isPristine:T,isValid:H,isValidating:W,reset:j,resetValidation:he,validate:ae,validationClasses:Z}}const lF=Ln({id:String,appendIcon:zs,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:zs,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Cf(),"onClick:append":Cf(),...zr(),...Jg(),...V8(pp(),["maxWidth","minWidth","width"]),...vl(),...U0e()},"VInput"),_E=Mo()({name:"VInput",props:{...lF()},emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:a,slots:u,emit:g}=s;const{densityClasses:h}=hp(t),{dimensionStyles:x}=bp(t),{themeClasses:w}=uc(t),{rtlClasses:T}=Xg(),{InputIcon:I}=ste(t),R=s0(),N=Dt(()=>t.id||`input-${R}`),H=Dt(()=>`${N.value}-messages`),{errorMessages:W,isDirty:Z,isDisabled:J,isReadonly:se,isPristine:j,isValid:he,isValidating:ae,reset:U,resetValidation:de,validate:oe,validationClasses:Ve}=W0e(t,"v-input",N),Me=Dt(()=>({id:N,messagesId:H,isDirty:Z,isDisabled:J,isReadonly:se,isPristine:j,isValid:he,isValidating:ae,reset:U,resetValidation:de,validate:oe})),Xe=gn(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),rt=gn(()=>{if(t.iconColor)return t.iconColor===!0?Xe.value:t.iconColor}),Oe=Dt(()=>{var Te;return(Te=t.errorMessages)!=null&&Te.length||!j.value&&W.value.length?W.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return xr(()=>{var zt,Yt,ct,kn;const Te=!!(u.prepend||t.prependIcon),D=!!(u.append||t.appendIcon),qe=Oe.value.length>0,lt=!t.hideDetails||t.hideDetails==="auto"&&(qe||!!u.details);return te("div",{class:go(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},h.value,w.value,T.value,Ve.value,t.class]),style:Ir([x.value,t.style])},[Te&&te("div",{key:"prepend",class:"v-input__prepend"},[(zt=u.prepend)==null?void 0:zt.call(u,Me.value),t.prependIcon&&ie(I,{key:"prepend-icon",name:"prepend",color:rt.value},null)]),u.default&&te("div",{class:"v-input__control"},[(Yt=u.default)==null?void 0:Yt.call(u,Me.value)]),D&&te("div",{key:"append",class:"v-input__append"},[t.appendIcon&&ie(I,{key:"append-icon",name:"append",color:rt.value},null),(ct=u.append)==null?void 0:ct.call(u,Me.value)]),lt&&te("div",{id:H.value,class:"v-input__details",role:"alert","aria-live":"polite"},[ie($0e,{active:qe,messages:Oe.value},{message:u.message}),(kn=u.details)==null?void 0:kn.call(u,Me.value)])])}),{reset:U,resetValidation:de,validate:oe,isValid:he,errorMessages:W}}}),K0e=Ln({...lF(),...kx(rte(),["inline"])},"VCheckbox"),j0e=Mo()({name:"VCheckbox",inheritAttrs:!1,props:K0e(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,s){let{attrs:a,slots:u}=s;const g=Ki(t,"modelValue"),{isFocused:h,focus:x,blur:w}=aF(t),T=zn(),I=s0();return xr(()=>{const[R,N]=z8(a),H=_E.filterProps(t),W=S8.filterProps(t);return ie(_E,Po({ref:T,class:["v-checkbox",t.class]},R,H,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,id:t.id||`checkbox-${I}`,focused:h.value,style:t.style}),{...u,default:Z=>{let{id:J,messagesId:se,isDisabled:j,isReadonly:he,isValid:ae}=Z;return ie(S8,Po(W,{id:J.value,"aria-describedby":se.value,disabled:j.value,readonly:he.value},N,{error:ae.value===!1,modelValue:g.value,"onUpdate:modelValue":U=>g.value=U,onFocus:x,onBlur:w}),u)}})}),VC({},T)}});function Z0e(t){let{selectedElement:s,containerElement:a,isRtl:u,isHorizontal:g}=t;const h=KD(g,a),x=ate(g,u,a),w=KD(g,s),T=lte(g,s),I=w*.4;return x>T?T-I:x+h<T+w?T-h+w+I:x}function G0e(t){let{selectedElement:s,containerElement:a,isHorizontal:u}=t;const g=KD(u,a),h=lte(u,s),x=KD(u,s);return h-g/2+x/2}function rX(t,s){const a=t?"scrollWidth":"scrollHeight";return(s==null?void 0:s[a])||0}function q0e(t,s){const a=t?"clientWidth":"clientHeight";return(s==null?void 0:s[a])||0}function ate(t,s,a){if(!a)return 0;const{scrollLeft:u,offsetWidth:g,scrollWidth:h}=a;return t?s?h-g+u:u:a.scrollTop}function KD(t,s){const a=t?"offsetWidth":"offsetHeight";return(s==null?void 0:s[a])||0}function lte(t,s){const a=t?"offsetLeft":"offsetTop";return(s==null?void 0:s[a])||0}const Y0e=Symbol.for("vuetify:v-slide-group"),cte=Ln({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Y0e},nextIcon:{type:zs,default:"$next"},prevIcon:{type:zs,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...zr(),..._Q({mobile:null}),...ra(),...sK({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),sX=Mo()({name:"VSlideGroup",props:cte(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const{isRtl:u}=Xg(),{displayClasses:g,mobile:h}=W8(t),x=iK(t,t.symbol),w=ho(!1),T=ho(0),I=ho(0),R=ho(0),N=Dt(()=>t.direction==="horizontal"),{resizeRef:H,contentRect:W}=xE(),{resizeRef:Z,contentRect:J}=xE(),se=_he(),j=Dt(()=>({container:H.el,duration:200,easing:"easeOutQuart"})),he=Dt(()=>x.selected.value.length?x.items.value.findIndex(Qe=>Qe.id===x.selected.value[0]):-1),ae=Dt(()=>x.selected.value.length?x.items.value.findIndex(Qe=>Qe.id===x.selected.value[x.selected.value.length-1]):-1);if(ei){let Qe=-1;Rn(()=>[x.selected.value,W.value,J.value,N.value],()=>{cancelAnimationFrame(Qe),Qe=requestAnimationFrame(()=>{if(W.value&&J.value){const Le=N.value?"width":"height";I.value=W.value[Le],R.value=J.value[Le],w.value=I.value+1<R.value}if(he.value>=0&&Z.el){const Le=Z.el.children[ae.value];de(Le,t.centerActive)}})})}const U=ho(!1);function de(Qe,Le){let ft=0;Le?ft=G0e({containerElement:H.el,isHorizontal:N.value,selectedElement:Qe}):ft=Z0e({containerElement:H.el,isHorizontal:N.value,isRtl:u.value,selectedElement:Qe}),oe(ft)}function oe(Qe){if(!ei||!H.el)return;const Le=KD(N.value,H.el),ft=ate(N.value,u.value,H.el);if(!(rX(N.value,H.el)<=Le||Math.abs(Qe-ft)<16)){if(N.value&&u.value&&H.el){const{scrollWidth:Ht,offsetWidth:Tn}=H.el;Qe=Ht-Tn-Qe}N.value?se.horizontal(Qe,j.value):se(Qe,j.value)}}function Ve(Qe){const{scrollTop:Le,scrollLeft:ft}=Qe.target;T.value=N.value?ft:Le}function Me(Qe){if(U.value=!0,!(!w.value||!Z.el)){for(const Le of Qe.composedPath())for(const ft of Z.el.children)if(ft===Le){de(ft);return}}}function Xe(Qe){U.value=!1}let rt=!1;function Oe(Qe){var Le;!rt&&!U.value&&!(Qe.relatedTarget&&((Le=Z.el)!=null&&Le.contains(Qe.relatedTarget)))&&lt(),rt=!1}function Te(){rt=!0}function D(Qe){if(!Z.el)return;function Le(ft){Qe.preventDefault(),lt(ft)}N.value?Qe.key==="ArrowRight"?Le(u.value?"prev":"next"):Qe.key==="ArrowLeft"&&Le(u.value?"next":"prev"):Qe.key==="ArrowDown"?Le("next"):Qe.key==="ArrowUp"&&Le("prev"),Qe.key==="Home"?Le("first"):Qe.key==="End"&&Le("last")}function qe(Qe,Le){if(!Qe)return;let ft=Qe;do ft=ft==null?void 0:ft[Le==="next"?"nextElementSibling":"previousElementSibling"];while(ft!=null&&ft.hasAttribute("disabled"));return ft}function lt(Qe){if(!Z.el)return;let Le;if(!Qe)Le=LD(Z.el)[0];else if(Qe==="next"){if(Le=qe(Z.el.querySelector(":focus"),Qe),!Le)return lt("first")}else if(Qe==="prev"){if(Le=qe(Z.el.querySelector(":focus"),Qe),!Le)return lt("last")}else Qe==="first"?(Le=Z.el.firstElementChild,Le!=null&&Le.hasAttribute("disabled")&&(Le=qe(Le,"next"))):Qe==="last"&&(Le=Z.el.lastElementChild,Le!=null&&Le.hasAttribute("disabled")&&(Le=qe(Le,"prev")));Le&&Le.focus({preventScroll:!0})}function zt(Qe){const Le=N.value&&u.value?-1:1,ft=(Qe==="prev"?-Le:Le)*I.value;let po=T.value+ft;if(N.value&&u.value&&H.el){const{scrollWidth:Ht,offsetWidth:Tn}=H.el;po+=Ht-Tn}oe(po)}const Yt=Dt(()=>({next:x.next,prev:x.prev,select:x.select,isSelected:x.isSelected})),ct=Dt(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!h.value;case!0:return w.value||Math.abs(T.value)>0;case"mobile":return h.value||w.value||Math.abs(T.value)>0;default:return!h.value&&(w.value||Math.abs(T.value)>0)}}),kn=Dt(()=>Math.abs(T.value)>1),Et=Dt(()=>{if(!H.value)return!1;const Qe=rX(N.value,H.el),Le=q0e(N.value,H.el);return Qe-Le-Math.abs(T.value)>1});return xr(()=>ie(t.tag,{class:go(["v-slide-group",{"v-slide-group--vertical":!N.value,"v-slide-group--has-affixes":ct.value,"v-slide-group--is-overflowing":w.value},g.value,t.class]),style:Ir(t.style),tabindex:U.value||x.selected.value.length?-1:0,onFocus:Oe},{default:()=>{var Qe,Le,ft;return[ct.value&&te("div",{key:"prev",class:go(["v-slide-group__prev",{"v-slide-group__prev--disabled":!kn.value}]),onMousedown:Te,onClick:()=>kn.value&&zt("prev")},[((Qe=a.prev)==null?void 0:Qe.call(a,Yt.value))??ie(YY,null,{default:()=>[ie(Un,{icon:u.value?t.nextIcon:t.prevIcon},null)]})]),te("div",{key:"container",ref:H,class:go(["v-slide-group__container",t.contentClass]),onScroll:Ve},[te("div",{ref:Z,class:"v-slide-group__content",onFocusin:Me,onFocusout:Xe,onKeydown:D},[(Le=a.default)==null?void 0:Le.call(a,Yt.value)])]),ct.value&&te("div",{key:"next",class:go(["v-slide-group__next",{"v-slide-group__next--disabled":!Et.value}]),onMousedown:Te,onClick:()=>Et.value&&zt("next")},[((ft=a.next)==null?void 0:ft.call(a,Yt.value))??ie(YY,null,{default:()=>[ie(Un,{icon:u.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:x.selected,scrollTo:zt,scrollOffset:T,focus:lt,hasPrev:kn,hasNext:Et}}}),ute=Symbol.for("vuetify:v-chip-group"),X0e=Ln({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:qg},...cte(),...zr(),...sK({selectedClass:"v-chip--selected"}),...ra(),...vl(),...d0({variant:"tonal"})},"VChipGroup");Mo()({name:"VChipGroup",props:X0e(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const{themeClasses:u}=uc(t),{isSelected:g,select:h,next:x,prev:w,selected:T}=iK(t,ute);return Ex({VChip:{baseColor:gn(()=>t.baseColor),color:gn(()=>t.color),disabled:gn(()=>t.disabled),filter:gn(()=>t.filter),variant:gn(()=>t.variant)}}),xr(()=>{const I=sX.filterProps(t);return ie(sX,Po(I,{class:["v-chip-group",{"v-chip-group--column":t.column},u.value,t.class],style:t.style}),{default:()=>{var R;return[(R=a.default)==null?void 0:R.call(a,{isSelected:g,select:h,next:x,prev:w,selected:T.value})]}})}),{}}});const J0e=Ln({activeClass:String,appendAvatar:String,appendIcon:zs,baseColor:String,closable:Boolean,closeIcon:{type:zs,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:zs,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Cf(),onClickOnce:Cf(),...a0(),...zr(),...Jg(),...c0(),...Eee(),...Am(),...sF(),...gR(),...ra({tag:"span"}),...vl(),...d0({variant:"tonal"})},"VChip"),dte=Mo()({name:"VChip",directives:{vRipple:n0},props:J0e(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const{t:h}=uR(),{borderClasses:x}=l0(t),{densityClasses:w}=hp(t),{elevationClasses:T}=u0(t),{roundedClasses:I}=Tm(t),{sizeClasses:R}=hR(t),{themeClasses:N}=uc(t),H=Ki(t,"modelValue"),W=Aee(t,ute,!1),Z=rF(t,a),J=gn(()=>t.link!==!1&&Z.isLink.value),se=Dt(()=>!t.disabled&&t.link!==!1&&(!!W||t.link||Z.isClickable.value)),j=gn(()=>({"aria-label":h(t.closeLabel),disabled:t.disabled,onClick(Ve){Ve.preventDefault(),Ve.stopPropagation(),H.value=!1,u("click:close",Ve)}})),{colorClasses:he,colorStyles:ae,variantClasses:U}=PE(()=>({color:!W||W.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function de(Ve){var Me;u("click",Ve),se.value&&((Me=Z.navigate)==null||Me.call(Z,Ve),W==null||W.toggle())}function oe(Ve){(Ve.key==="Enter"||Ve.key===" ")&&(Ve.preventDefault(),de(Ve))}return()=>{var qe;const Ve=Z.isLink.value?"a":t.tag,Me=!!(t.appendIcon||t.appendAvatar),Xe=!!(Me||g.append),rt=!!(g.close||t.closable),Oe=!!(g.filter||t.filter)&&W,Te=!!(t.prependIcon||t.prependAvatar),D=!!(Te||g.prepend);return H.value&&Fn(ie(Ve,Po({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":se.value,"v-chip--filter":Oe,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((qe=Z.isActive)==null?void 0:qe.value)},N.value,x.value,he.value,w.value,T.value,I.value,R.value,U.value,W==null?void 0:W.selectedClass.value,t.class],style:[ae.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:se.value?0:void 0,onClick:de,onKeydown:se.value&&!J.value&&oe},Z.linkProps),{default:()=>{var lt;return[NE(se.value,"v-chip"),Oe&&ie(jee,{key:"filter"},{default:()=>[Fn(te("div",{class:"v-chip__filter"},[g.filter?ie(_a,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},g.filter):ie(Un,{key:"filter-icon",icon:t.filterIcon},null)]),[[Ao,W.isSelected.value]])]}),D&&te("div",{key:"prepend",class:"v-chip__prepend"},[g.prepend?ie(_a,{key:"prepend-defaults",disabled:!Te,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},g.prepend):te(lr,null,[t.prependIcon&&ie(Un,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&ie(Sx,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),te("div",{class:"v-chip__content","data-no-activator":""},[((lt=g.default)==null?void 0:lt.call(g,{isSelected:W==null?void 0:W.isSelected.value,selectedClass:W==null?void 0:W.selectedClass.value,select:W==null?void 0:W.select,toggle:W==null?void 0:W.toggle,value:W==null?void 0:W.value.value,disabled:t.disabled}))??pt(t.text)]),Xe&&te("div",{key:"append",class:"v-chip__append"},[g.append?ie(_a,{key:"append-defaults",disabled:!Me,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},g.append):te(lr,null,[t.appendIcon&&ie(Un,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&ie(Sx,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),rt&&te("button",Po({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},j.value),[g.close?ie(_a,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},g.close):ie(Un,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[n0,se.value&&t.ripple,null]])}}}),Q0e=Ln({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...zr(),...vl()},"VDivider"),DC=Mo()({name:"VDivider",props:Q0e(),setup(t,s){let{attrs:a,slots:u}=s;const{themeClasses:g}=uc(t),{textColorClasses:h,textColorStyles:x}=mp(()=>t.color),w=Dt(()=>{const T={};return t.length&&(T[t.vertical?"height":"width"]=yr(t.length)),t.thickness&&(T[t.vertical?"borderRightWidth":"borderTopWidth"]=yr(t.thickness)),T});return xr(()=>{const T=te("hr",{class:go([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},g.value,h.value,t.class]),style:Ir([w.value,x.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!a.role||a.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${a.role||"separator"}`},null);return u.default?te("div",{class:go(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[T,te("div",{class:"v-divider__content"},[u.default()]),T]):T}),{}}}),gW=Symbol.for("vuetify:list");function fte(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const s=Wi(gW,{filterable:!1,hasPrepend:ho(!1),updateHasPrepend:()=>null}),a={filterable:s.filterable||t,hasPrepend:ho(!1),updateHasPrepend:u=>{u&&(a.hasPrepend.value=u)}};return Bd(gW,a),s}function mte(){return Wi(gW,null)}const gK=t=>{const s={activate:a=>{let{id:u,value:g,activated:h}=a;return u=gr(u),t&&!g&&h.size===1&&h.has(u)||(g?h.add(u):h.delete(u)),h},in:(a,u,g)=>{let h=new Set;if(a!=null)for(const x of xf(a))h=s.activate({id:x,value:!0,activated:new Set(h),children:u,parents:g});return h},out:a=>Array.from(a)};return s},gte=t=>{const s=gK(t);return{activate:u=>{let{activated:g,id:h,...x}=u;h=gr(h);const w=g.has(h)?new Set([h]):new Set;return s.activate({...x,id:h,activated:w})},in:(u,g,h)=>{let x=new Set;if(u!=null){const w=xf(u);w.length&&(x=s.in(w.slice(0,1),g,h))}return x},out:(u,g,h)=>s.out(u,g,h)}},eye=t=>{const s=gK(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=gr(g),x.has(g)?h:s.activate({id:g,activated:h,children:x,...w})},in:s.in,out:s.out}},tye=t=>{const s=gte(t);return{activate:u=>{let{id:g,activated:h,children:x,...w}=u;return g=gr(g),x.has(g)?h:s.activate({id:g,activated:h,children:x,...w})},in:s.in,out:s.out}},nye={open:t=>{let{id:s,value:a,opened:u,parents:g}=t;if(a){const h=new Set;h.add(s);let x=g.get(s);for(;x!=null;)h.add(x),x=g.get(x);return h}else return u.delete(s),u},select:()=>null},hte={open:t=>{let{id:s,value:a,opened:u,parents:g}=t;if(a){let h=g.get(s);for(u.add(s);h!=null&&h!==s;)u.add(h),h=g.get(h);return u}else u.delete(s);return u},select:()=>null},oye={open:hte.open,select:t=>{let{id:s,value:a,opened:u,parents:g}=t;if(!a)return u;const h=[];let x=g.get(s);for(;x!=null;)h.push(x),x=g.get(x);return new Set(h)}},hK=t=>{const s={select:a=>{let{id:u,value:g,selected:h}=a;if(u=gr(u),t&&!g){const x=Array.from(h.entries()).reduce((w,T)=>{let[I,R]=T;return R==="on"&&w.push(I),w},[]);if(x.length===1&&x[0]===u)return h}return h.set(u,g?"on":"off"),h},in:(a,u,g,h)=>{const x=new Map;for(const w of a||[])s.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:a=>{const u=[];for(const[g,h]of a.entries())h==="on"&&u.push(g);return u}};return s},pte=t=>{const s=hK(t);return{select:u=>{let{selected:g,id:h,...x}=u;h=gr(h);const w=g.has(h)?new Map([[h,g.get(h)]]):new Map;return s.select({...x,id:h,selected:w})},in:(u,g,h,x)=>u!=null&&u.length?s.in(u.slice(0,1),g,h,x):new Map,out:(u,g,h)=>s.out(u,g,h)}},rye=t=>{const s=hK(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=gr(g),x.has(g)?h:s.select({id:g,selected:h,children:x,...w})},in:s.in,out:s.out}},sye=t=>{const s=pte(t);return{select:u=>{let{id:g,selected:h,children:x,...w}=u;return g=gr(g),x.has(g)?h:s.select({id:g,selected:h,children:x,...w})},in:s.in,out:s.out}},bte=t=>{const s={select:a=>{let{id:u,value:g,selected:h,children:x,parents:w,disabled:T}=a;u=gr(u);const I=new Map(h),R=[u];for(;R.length;){const H=R.shift();T.has(H)||h.set(gr(H),g?"on":"off"),x.has(H)&&R.push(...x.get(H))}let N=gr(w.get(u));for(;N;){let H=!0,W=!0;for(const Z of x.get(N)){const J=gr(Z);if(!T.has(J)&&(h.get(J)!=="on"&&(H=!1),h.has(J)&&h.get(J)!=="off"&&(W=!1),!H&&!W))break}h.set(N,H?"on":W?"off":"indeterminate"),N=gr(w.get(N))}return t&&!g&&Array.from(h.entries()).reduce((W,Z)=>{let[J,se]=Z;return se==="on"&&W.push(J),W},[]).length===0?I:h},in:(a,u,g,h)=>{let x=new Map;for(const w of a||[])x=s.select({id:w,value:!0,selected:x,children:u,parents:g,disabled:h});return x},out:(a,u)=>{const g=[];for(const[h,x]of a.entries())x==="on"&&!u.has(h)&&g.push(h);return g}};return s},iye=t=>{const s=bte(t);return{select:s.select,in:s.in,out:(u,g,h)=>{const x=[];for(const[w,T]of u.entries())if(T==="on"){if(h.has(w)){const I=h.get(w);if(u.get(I)==="on")continue}x.push(w)}return x}}},jD=Symbol.for("vuetify:nested"),vte={id:ho(),root:{register:()=>null,unregister:()=>null,children:zn(new Map),parents:zn(new Map),disabled:zn(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:zn(!1),selectable:zn(!1),opened:zn(new Set),activated:zn(new Set),selected:zn(new Map),selectedValues:zn([]),getPath:()=>[]}},aye=Ln({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),lye=t=>{let s=!1;const a=ho(new Map),u=ho(new Map),g=ho(new Set),h=Ki(t,"opened",t.opened,J=>new Set(Array.isArray(J)?J.map(se=>gr(se)):J),J=>[...J.values()]),x=Dt(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return eye(t.mandatory);case"single-leaf":return tye(t.mandatory);case"independent":return gK(t.mandatory);case"single-independent":default:return gte(t.mandatory)}}),w=Dt(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return sye(t.mandatory);case"leaf":return rye(t.mandatory);case"independent":return hK(t.mandatory);case"single-independent":return pte(t.mandatory);case"trunk":return iye(t.mandatory);case"classic":default:return bte(t.mandatory)}}),T=Dt(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return oye;case"single":return nye;case"multiple":default:return hte}}),I=Ki(t,"activated",t.activated,J=>x.value.in(J,a.value,u.value),J=>x.value.out(J,a.value,u.value)),R=Ki(t,"selected",t.selected,J=>w.value.in(J,a.value,u.value,g.value),J=>w.value.out(J,a.value,u.value));Dc(()=>{s=!0});function N(J){const se=[];let j=gr(J);for(;j!=null;)se.unshift(j),j=u.value.get(j);return se}const H=$l("nested"),W=new Set,Z={id:ho(),root:{opened:h,activatable:gn(()=>t.activatable),selectable:gn(()=>t.selectable),activated:I,selected:R,selectedValues:Dt(()=>{const J=[];for(const[se,j]of R.value.entries())j==="on"&&J.push(se);return J}),register:(J,se,j,he)=>{if(W.has(J)){N(J).map(String).join(" -> "),N(se).concat(J).map(String).join(" -> ");return}else W.add(J);se&&J!==se&&u.value.set(J,se),j&&g.value.add(J),he&&a.value.set(J,[]),se!=null&&a.value.set(se,[...a.value.get(se)||[],J])},unregister:J=>{if(s)return;W.delete(J),a.value.delete(J),g.value.delete(J);const se=u.value.get(J);if(se){const j=a.value.get(se)??[];a.value.set(se,j.filter(he=>he!==J))}u.value.delete(J)},open:(J,se,j)=>{H.emit("click:open",{id:J,value:se,path:N(J),event:j});const he=T.value.open({id:J,value:se,opened:new Set(h.value),children:a.value,parents:u.value,event:j});he&&(h.value=he)},openOnSelect:(J,se,j)=>{const he=T.value.select({id:J,value:se,selected:new Map(R.value),opened:new Set(h.value),children:a.value,parents:u.value,event:j});he&&(h.value=he)},select:(J,se,j)=>{H.emit("click:select",{id:J,value:se,path:N(J),event:j});const he=w.value.select({id:J,value:se,selected:new Map(R.value),children:a.value,parents:u.value,disabled:g.value,event:j});he&&(R.value=he),Z.root.openOnSelect(J,se,j)},activate:(J,se,j)=>{if(!t.activatable)return Z.root.select(J,!0,j);H.emit("click:activate",{id:J,value:se,path:N(J),event:j});const he=x.value.activate({id:J,value:se,activated:new Set(I.value),children:a.value,parents:u.value,event:j});if(he.size!==I.value.size)I.value=he;else{for(const ae of he)if(!I.value.has(ae)){I.value=he;return}for(const ae of I.value)if(!he.has(ae)){I.value=he;return}}},children:a,parents:u,disabled:g,getPath:N}};return Bd(jD,Z),Z.root},yte=(t,s,a)=>{const u=Wi(jD,vte),g=Symbol("nested item"),h=Dt(()=>gr(Hb(t))??g),x={...u,id:h,open:(w,T)=>u.root.open(h.value,w,T),openOnSelect:(w,T)=>u.root.openOnSelect(h.value,w,T),isOpen:Dt(()=>u.root.opened.value.has(h.value)),parent:Dt(()=>u.root.parents.value.get(h.value)),activate:(w,T)=>u.root.activate(h.value,w,T),isActivated:Dt(()=>u.root.activated.value.has(h.value)),select:(w,T)=>u.root.select(h.value,w,T),isSelected:Dt(()=>u.root.selected.value.get(h.value)==="on"),isIndeterminate:Dt(()=>u.root.selected.value.get(h.value)==="indeterminate"),isLeaf:Dt(()=>!u.root.children.value.get(h.value)),isGroupActivator:u.isGroupActivator};return aR(()=>{u.isGroupActivator||u.root.register(h.value,u.id.value,Hb(s),a)}),Dc(()=>{u.isGroupActivator||u.root.unregister(h.value)}),a&&Bd(jD,x),x},cye=()=>{const t=Wi(jD,vte);Bd(jD,{...t,isGroupActivator:!0})};function cF(){const t=ho(!1);return Ku(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:gn(()=>t.value?void 0:{transition:"none !important"}),isBooted:AE(t)}}const uye=OE({name:"VListGroupActivator",setup(t,s){let{slots:a}=s;return cye(),()=>{var u;return(u=a.default)==null?void 0:u.call(a)}}}),dye=Ln({activeColor:String,baseColor:String,color:String,collapseIcon:{type:zs,default:"$collapse"},disabled:Boolean,expandIcon:{type:zs,default:"$expand"},rawId:[String,Number],prependIcon:zs,appendIcon:zs,fluid:Boolean,subgroup:Boolean,title:String,value:null,...zr(),...ra()},"VListGroup"),iX=Mo()({name:"VListGroup",props:dye(),setup(t,s){let{slots:a}=s;const{isOpen:u,open:g,id:h}=yte(()=>t.value,()=>t.disabled,!0),x=Dt(()=>`v-list-group--id-${String(t.rawId??h.value)}`),w=mte(),{isBooted:T}=cF();function I(W){var Z;["INPUT","TEXTAREA"].includes((Z=W.target)==null?void 0:Z.tagName)||g(!u.value,W)}const R=Dt(()=>({onClick:I,class:"v-list-group__header",id:x.value})),N=Dt(()=>u.value?t.collapseIcon:t.expandIcon),H=Dt(()=>({VListItem:{active:u.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&N.value,appendIcon:t.appendIcon||!t.subgroup&&N.value,title:t.title,value:t.value}}));return xr(()=>ie(t.tag,{class:go(["v-list-group",{"v-list-group--prepend":w==null?void 0:w.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":u.value},t.class]),style:Ir(t.style)},{default:()=>[a.activator&&ie(_a,{defaults:H.value},{default:()=>[ie(uye,null,{default:()=>[a.activator({props:R.value,isOpen:u.value})]})]}),ie(gx,{transition:{component:Kee},disabled:!T.value},{default:()=>{var W;return[Fn(te("div",{class:"v-list-group__items",role:"group","aria-labelledby":x.value},[(W=a.default)==null?void 0:W.call(a)]),[[Ao,u.value]])]}})]})),{isOpen:u}}}),fye=Ln({opacity:[Number,String],...zr(),...ra()},"VListItemSubtitle"),mye=Mo()({name:"VListItemSubtitle",props:fye(),setup(t,s){let{slots:a}=s;return xr(()=>ie(t.tag,{class:go(["v-list-item-subtitle",t.class]),style:Ir([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},a)),{}}}),gye=H8("v-list-item-title"),hye=Ln({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:zs,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:zs,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Cf(),onClickOnce:Cf(),...a0(),...zr(),...Jg(),...pp(),...c0(),...Am(),...sF(),...ra(),...vl(),...d0({variant:"text"})},"VListItem"),Tc=Mo()({name:"VListItem",directives:{vRipple:n0},props:hye(),emits:{click:t=>!0},setup(t,s){let{attrs:a,slots:u,emit:g}=s;const h=rF(t,a),x=Dt(()=>t.value===void 0?h.href.value:t.value),{activate:w,isActivated:T,select:I,isOpen:R,isSelected:N,isIndeterminate:H,isGroupActivator:W,root:Z,parent:J,openOnSelect:se,id:j}=yte(x,()=>t.disabled,!1),he=mte(),ae=Dt(()=>{var Ht;return t.active!==!1&&(t.active||((Ht=h.isActive)==null?void 0:Ht.value)||(Z.activatable.value?T.value:N.value))}),U=gn(()=>t.link!==!1&&h.isLink.value),de=Dt(()=>!!he&&(Z.selectable.value||Z.activatable.value||t.value!=null)),oe=Dt(()=>!t.disabled&&t.link!==!1&&(t.link||h.isClickable.value||de.value)),Ve=gn(()=>t.rounded||t.nav),Me=gn(()=>t.color??t.activeColor),Xe=gn(()=>({color:ae.value?Me.value??t.baseColor:t.baseColor,variant:t.variant}));Rn(()=>{var Ht;return(Ht=h.isActive)==null?void 0:Ht.value},Ht=>{Ht&&rt()}),aR(()=>{var Ht;(Ht=h.isActive)!=null&&Ht.value&&rt()});function rt(){J.value!=null&&Z.open(J.value,!0),se(!0)}const{themeClasses:Oe}=uc(t),{borderClasses:Te}=l0(t),{colorClasses:D,colorStyles:qe,variantClasses:lt}=PE(Xe),{densityClasses:zt}=hp(t),{dimensionStyles:Yt}=bp(t),{elevationClasses:ct}=u0(t),{roundedClasses:kn}=Tm(Ve),Et=gn(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),Qe=gn(()=>t.ripple!==void 0&&t.ripple&&(he!=null&&he.filterable)?{keys:[FU.enter]}:t.ripple),Le=Dt(()=>({isActive:ae.value,select:I,isOpen:R.value,isSelected:N.value,isIndeterminate:H.value}));function ft(Ht){var Tn,nn;g("click",Ht),!["INPUT","TEXTAREA"].includes((Tn=Ht.target)==null?void 0:Tn.tagName)&&oe.value&&((nn=h.navigate)==null||nn.call(h,Ht),!W&&(Z.activatable.value?w(!T.value,Ht):(Z.selectable.value||t.value!=null)&&I(!N.value,Ht)))}function po(Ht){const Tn=Ht.target;["INPUT","TEXTAREA"].includes(Tn.tagName)||(Ht.key==="Enter"||Ht.key===" "&&!(he!=null&&he.filterable))&&(Ht.preventDefault(),Ht.stopPropagation(),Ht.target.dispatchEvent(new MouseEvent("click",Ht)))}return xr(()=>{const Ht=U.value?"a":t.tag,Tn=u.title||t.title!=null,nn=u.subtitle||t.subtitle!=null,Q=!!(t.appendAvatar||t.appendIcon),co=!!(Q||u.append),Kt=!!(t.prependAvatar||t.prependIcon),pn=!!(Kt||u.prepend);return he==null||he.updateHasPrepend(pn),t.activeColor&&lQ("active-color",["color","base-color"]),Fn(ie(Ht,Po({class:["v-list-item",{"v-list-item--active":ae.value,"v-list-item--disabled":t.disabled,"v-list-item--link":oe.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!pn&&(he==null?void 0:he.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&ae.value},Oe.value,Te.value,D.value,zt.value,ct.value,Et.value,kn.value,lt.value,t.class],style:[qe.value,Yt.value,t.style],tabindex:oe.value?he?-2:0:void 0,"aria-selected":de.value?Z.activatable.value?T.value:Z.selectable.value?N.value:ae.value:void 0,onClick:ft,onKeydown:oe.value&&!U.value&&po},h.linkProps),{default:()=>{var We;return[NE(oe.value||ae.value,"v-list-item"),pn&&te("div",{key:"prepend",class:"v-list-item__prepend"},[u.prepend?ie(_a,{key:"prepend-defaults",disabled:!Kt,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var et;return[(et=u.prepend)==null?void 0:et.call(u,Le.value)]}}):te(lr,null,[t.prependAvatar&&ie(Sx,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&ie(Un,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),te("div",{class:"v-list-item__spacer"},null)]),te("div",{class:"v-list-item__content","data-no-activator":""},[Tn&&ie(gye,{key:"title"},{default:()=>{var et;return[((et=u.title)==null?void 0:et.call(u,{title:t.title}))??pt(t.title)]}}),nn&&ie(mye,{key:"subtitle"},{default:()=>{var et;return[((et=u.subtitle)==null?void 0:et.call(u,{subtitle:t.subtitle}))??pt(t.subtitle)]}}),(We=u.default)==null?void 0:We.call(u,Le.value)]),co&&te("div",{key:"append",class:"v-list-item__append"},[u.append?ie(_a,{key:"append-defaults",disabled:!Q,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var et;return[(et=u.append)==null?void 0:et.call(u,Le.value)]}}):te(lr,null,[t.appendIcon&&ie(Un,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&ie(Sx,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),te("div",{class:"v-list-item__spacer"},null)])]}}),[[n0,oe.value&&Qe.value]])}),{activate:w,isActivated:T,isGroupActivator:W,isSelected:N,list:he,select:I,root:Z,id:j,link:h}}}),pye=Ln({color:String,inset:Boolean,sticky:Boolean,title:String,...zr(),...ra()},"VListSubheader"),pK=Mo()({name:"VListSubheader",props:pye(),setup(t,s){let{slots:a}=s;const{textColorClasses:u,textColorStyles:g}=mp(()=>t.color);return xr(()=>{const h=!!(a.default||t.title);return ie(t.tag,{class:go(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},u.value,t.class]),style:Ir([{textColorStyles:g},t.style])},{default:()=>{var x;return[h&&te("div",{class:"v-list-subheader__text"},[((x=a.default)==null?void 0:x.call(a))??t.title])]}})}),{}}}),bye=Ln({items:Array,returnObject:Boolean},"VListChildren"),xte=Mo()({name:"VListChildren",props:bye(),setup(t,s){let{slots:a}=s;return fte(),()=>{var u,g;return((u=a.default)==null?void 0:u.call(a))??((g=t.items)==null?void 0:g.map(h=>{var H,W;let{children:x,props:w,type:T,raw:I}=h;if(T==="divider")return((H=a.divider)==null?void 0:H.call(a,{props:w}))??ie(DC,w,null);if(T==="subheader")return((W=a.subheader)==null?void 0:W.call(a,{props:w}))??ie(pK,w,null);const R={subtitle:a.subtitle?Z=>{var J;return(J=a.subtitle)==null?void 0:J.call(a,{...Z,item:I})}:void 0,prepend:a.prepend?Z=>{var J;return(J=a.prepend)==null?void 0:J.call(a,{...Z,item:I})}:void 0,append:a.append?Z=>{var J;return(J=a.append)==null?void 0:J.call(a,{...Z,item:I})}:void 0,title:a.title?Z=>{var J;return(J=a.title)==null?void 0:J.call(a,{...Z,item:I})}:void 0},N=iX.filterProps(w);return x?ie(iX,Po(N,{value:t.returnObject?I:w==null?void 0:w.value,rawId:w==null?void 0:w.value}),{activator:Z=>{let{props:J}=Z;const se={...w,...J,value:t.returnObject?I:w.value};return a.header?a.header({props:se}):ie(Tc,se,R)},default:()=>ie(xte,{items:x,returnObject:t.returnObject},a)}):a.item?a.item({props:w}):ie(Tc,Po(w,{value:t.returnObject?I:w.value}),R)}))}}}),wte=Ln({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items");function hW(t,s){const a=Ug(s,t.itemTitle,s),u=Ug(s,t.itemValue,a),g=Ug(s,t.itemChildren),h=Ug(s,t.itemType,"item"),x=t.itemProps===!0?typeof s=="object"&&s!=null&&!Array.isArray(s)?"children"in s?kx(s,["children"]):s:void 0:Ug(s,t.itemProps),w={title:a,value:u,...x};return{type:h,title:String(w.title??""),value:w.value,props:w,children:h==="item"&&Array.isArray(g)?Cte(t,g):void 0,raw:s}}function Cte(t,s){const a=V8(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),u=[];for(const g of s)u.push(hW(a,g));return u}function _te(t){const s=Dt(()=>Cte(t,t.items)),a=Dt(()=>s.value.some(w=>w.value===null)),u=ho(new Map),g=ho([]);Md(()=>{const w=s.value,T=new Map,I=[];for(let R=0;R<w.length;R++){const N=w[R];if(VU(N.value)||N.value===null){let H=T.get(N.value);H||(H=[],T.set(N.value,H)),H.push(N)}else I.push(N)}u.value=T,g.value=I});function h(w){const T=u.value,I=s.value,R=g.value,N=a.value,H=t.returnObject,W=!!t.valueComparator,Z=t.valueComparator||qg,J=V8(t,["itemTitle","itemValue","itemChildren","itemProps","itemType","returnObject","valueComparator"]),se=[];e:for(const j of w){if(!N&&j===null)continue;if(H&&typeof j=="string"){se.push(hW(J,j));continue}const he=T.get(j);if(W||!he){for(const ae of W?I:R)if(Z(j,ae.value)){se.push(ae);continue e}se.push(hW(J,j));continue}se.push(...he)}return se}function x(w){return t.returnObject?w.map(T=>{let{raw:I}=T;return I}):w.map(T=>{let{value:I}=T;return I})}return{items:s,transformIn:h,transformOut:x}}function vye(t,s){const a=Ug(s,t.itemType,"item"),u=VU(s)?s:Ug(s,t.itemTitle),g=VU(s)?s:Ug(s,t.itemValue,void 0),h=Ug(s,t.itemChildren),x=t.itemProps===!0?kx(s,["children"]):Ug(s,t.itemProps),w={title:u,value:g,...x};return{type:a,title:w.title,value:w.value,props:w,children:a==="item"&&h?Ste(t,h):void 0,raw:s}}function Ste(t,s){const a=[];for(const u of s)a.push(vye(t,u));return a}function yye(t){return{items:Dt(()=>Ste(t,t.items))}}const xye=Ln({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:zs,collapseIcon:zs,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Cf(),"onClick:select":Cf(),"onUpdate:opened":Cf(),...aye({selectStrategy:"single-leaf",openStrategy:"list"}),...a0(),...zr(),...Jg(),...pp(),...c0(),...wte(),...Am(),...ra(),...vl(),...d0({variant:"text"})},"VList"),ZD=Mo()({name:"VList",props:xye(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,s){let{slots:a}=s;const{items:u}=yye(t),{themeClasses:g}=uc(t),{backgroundColorClasses:h,backgroundColorStyles:x}=up(()=>t.bgColor),{borderClasses:w}=l0(t),{densityClasses:T}=hp(t),{dimensionStyles:I}=bp(t),{elevationClasses:R}=u0(t),{roundedClasses:N}=Tm(t),{children:H,open:W,parents:Z,select:J,getPath:se}=lye(t),j=gn(()=>t.lines?`v-list--${t.lines}-line`:void 0),he=gn(()=>t.activeColor),ae=gn(()=>t.baseColor),U=gn(()=>t.color);fte({filterable:t.filterable}),Ex({VListGroup:{activeColor:he,baseColor:ae,color:U,expandIcon:gn(()=>t.expandIcon),collapseIcon:gn(()=>t.collapseIcon)},VListItem:{activeClass:gn(()=>t.activeClass),activeColor:he,baseColor:ae,color:U,density:gn(()=>t.density),disabled:gn(()=>t.disabled),lines:gn(()=>t.lines),nav:gn(()=>t.nav),slim:gn(()=>t.slim),variant:gn(()=>t.variant)}});const de=ho(!1),oe=zn();function Ve(D){de.value=!0}function Me(D){de.value=!1}function Xe(D){var qe;!de.value&&!(D.relatedTarget&&((qe=oe.value)!=null&&qe.contains(D.relatedTarget)))&&Te()}function rt(D){const qe=D.target;if(!(!oe.value||["INPUT","TEXTAREA"].includes(qe.tagName))){if(D.key==="ArrowDown")Te("next");else if(D.key==="ArrowUp")Te("prev");else if(D.key==="Home")Te("first");else if(D.key==="End")Te("last");else return;D.preventDefault()}}function Oe(D){de.value=!0}function Te(D){if(oe.value)return CD(oe.value,D)}return xr(()=>ie(t.tag,{ref:oe,class:go(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},g.value,h.value,w.value,T.value,R.value,j.value,N.value,t.class]),style:Ir([x.value,I.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Ve,onFocusout:Me,onFocus:Xe,onKeydown:rt,onMousedown:Oe},{default:()=>[ie(xte,{items:u.value,returnObject:t.returnObject},a)]})),{open:W,select:J,focus:Te,children:H,parents:Z,getPath:se}}}),wye=Ln({id:String,submenu:Boolean,disableInitialFocus:Boolean,...kx(fK({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:dK}}),["absolute"])},"VMenu"),uF=Mo()({name:"VMenu",props:wye(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const u=Ki(t,"modelValue"),{scopeId:g}=iF(),{isRtl:h}=Xg(),x=s0(),w=gn(()=>t.id||`v-menu-${x}`),T=zn(),I=Wi(mW,null),R=ho(new Set);Bd(mW,{register(){R.value.add(x)},unregister(){R.value.delete(x)},closeParents(se){setTimeout(()=>{var j;!R.value.size&&!t.persistent&&(se==null||(j=T.value)!=null&&j.contentEl&&!Gme(se,T.value.contentEl))&&(u.value=!1,I==null||I.closeParents())},40)}}),Dc(()=>{I==null||I.unregister(),document.removeEventListener("focusin",N)}),M8(()=>u.value=!1);async function N(se){var ae,U,de;const j=se.relatedTarget,he=se.target;await Jo(),u.value&&j!==he&&((ae=T.value)!=null&&ae.contentEl)&&((U=T.value)!=null&&U.globalTop)&&![document,T.value.contentEl].includes(he)&&!T.value.contentEl.contains(he)&&((de=LD(T.value.contentEl)[0])==null||de.focus())}Rn(u,se=>{se?(I==null||I.register(),ei&&!t.disableInitialFocus&&document.addEventListener("focusin",N,{once:!0})):(I==null||I.unregister(),ei&&document.removeEventListener("focusin",N))},{immediate:!0});function H(se){I==null||I.closeParents(se)}function W(se){var j,he,ae,U,de;if(!t.disabled)if(se.key==="Tab"||se.key==="Enter"&&!t.closeOnContentClick){if(se.key==="Enter"&&(se.target instanceof HTMLTextAreaElement||se.target instanceof HTMLInputElement&&se.target.closest("form")))return;se.key==="Enter"&&se.preventDefault(),sQ(LD((j=T.value)==null?void 0:j.contentEl,!1),se.shiftKey?"prev":"next",Ve=>Ve.tabIndex>=0)||(u.value=!1,(ae=(he=T.value)==null?void 0:he.activatorEl)==null||ae.focus())}else t.submenu&&se.key===(h.value?"ArrowRight":"ArrowLeft")&&(u.value=!1,(de=(U=T.value)==null?void 0:U.activatorEl)==null||de.focus())}function Z(se){var he;if(t.disabled)return;const j=(he=T.value)==null?void 0:he.contentEl;j&&u.value?se.key==="ArrowDown"?(se.preventDefault(),se.stopImmediatePropagation(),CD(j,"next")):se.key==="ArrowUp"?(se.preventDefault(),se.stopImmediatePropagation(),CD(j,"prev")):t.submenu&&(se.key===(h.value?"ArrowRight":"ArrowLeft")?u.value=!1:se.key===(h.value?"ArrowLeft":"ArrowRight")&&(se.preventDefault(),CD(j,"first"))):(t.submenu?se.key===(h.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(se.key))&&(u.value=!0,se.preventDefault(),setTimeout(()=>setTimeout(()=>Z(se))))}const J=Dt(()=>Po({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-controls":w.value,onKeydown:Z},t.activatorProps));return xr(()=>{const se=_8.filterProps(t);return ie(_8,Po({ref:T,id:w.value,class:["v-menu",t.class],style:t.style},se,{modelValue:u.value,"onUpdate:modelValue":j=>u.value=j,absolute:!0,activatorProps:J.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":H,onKeydown:W},g),{activator:a.activator,default:function(){for(var j=arguments.length,he=new Array(j),ae=0;ae<j;ae++)he[ae]=arguments[ae];return ie(_a,{root:"VMenu"},{default:()=>{var U;return[(U=a.default)==null?void 0:U.call(a,...he)]}})}})}),VC({id:w,openChildren:R},T)}}),Cye=Ln({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...zr(),...LE({transition:{component:Wee}})},"VCounter"),kte=Mo()({name:"VCounter",functional:!0,props:Cye(),setup(t,s){let{slots:a}=s;const u=gn(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return xr(()=>ie(gx,{transition:t.transition},{default:()=>[Fn(te("div",{class:go(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Ir(t.style)},[a.default?a.default({counter:u.value,max:t.max,value:t.value}):u.value]),[[Ao,t.active]])]})),{}}}),_ye=Ln({floating:Boolean,...zr()},"VFieldLabel"),NB=Mo()({name:"VFieldLabel",props:_ye(),setup(t,s){let{slots:a}=s;return xr(()=>ie(ete,{class:go(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Ir(t.style),"aria-hidden":t.floating||void 0},a)),{}}}),Sye=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],bK=Ln({appendInnerIcon:zs,bgColor:String,clearable:Boolean,clearIcon:{type:zs,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:zs,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Sye.includes(t)},"onClick:clear":Cf(),"onClick:appendInner":Cf(),"onClick:prependInner":Cf(),...zr(),...aK(),...Am(),...vl()},"VField"),k8=Mo()({name:"VField",inheritAttrs:!1,props:{id:String,...ite(),...bK()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const{themeClasses:h}=uc(t),{loaderClasses:x}=lK(t),{focusClasses:w,isFocused:T,focus:I,blur:R}=aF(t),{InputIcon:N}=ste(t),{roundedClasses:H}=Tm(t),{rtlClasses:W}=Xg(),Z=gn(()=>t.dirty||t.active),J=gn(()=>!!(t.label||g.label)),se=gn(()=>!t.singleLine&&J.value),j=s0(),he=Dt(()=>t.id||`input-${j}`),ae=gn(()=>`${he.value}-messages`),U=zn(),de=zn(),oe=zn(),Ve=Dt(()=>["plain","underlined"].includes(t.variant)),Me=Dt(()=>t.error||t.disabled?void 0:Z.value&&T.value?t.color:t.baseColor),Xe=Dt(()=>{if(!(!t.iconColor||t.glow&&!T.value))return t.iconColor===!0?Me.value:t.iconColor}),{backgroundColorClasses:rt,backgroundColorStyles:Oe}=up(()=>t.bgColor),{textColorClasses:Te,textColorStyles:D}=mp(Me);Rn(Z,zt=>{if(se.value){const Yt=U.value.$el,ct=de.value.$el;requestAnimationFrame(()=>{const kn=WW(Yt),Et=ct.getBoundingClientRect(),Qe=Et.x-kn.x,Le=Et.y-kn.y-(kn.height/2-Et.height/2),ft=Et.width/.75,po=Math.abs(ft-kn.width)>1?{maxWidth:yr(ft)}:void 0,Ht=getComputedStyle(Yt),Tn=getComputedStyle(ct),nn=parseFloat(Ht.transitionDuration)*1e3||150,Q=parseFloat(Tn.getPropertyValue("--v-field-label-scale")),co=Tn.getPropertyValue("color");Yt.style.visibility="visible",ct.style.visibility="hidden",cE(Yt,{transform:`translate(${Qe}px, ${Le}px) scale(${Q})`,color:co,...po},{duration:nn,easing:c8,direction:zt?"normal":"reverse"}).finished.then(()=>{Yt.style.removeProperty("visibility"),ct.style.removeProperty("visibility")})})}},{flush:"post"});const qe=Dt(()=>({isActive:Z,isFocused:T,controlRef:oe,blur:R,focus:I}));function lt(zt){zt.target!==document.activeElement&&zt.preventDefault()}return xr(()=>{var Qe,Le,ft;const zt=t.variant==="outlined",Yt=!!(g["prepend-inner"]||t.prependInnerIcon),ct=!!(t.clearable||g.clear)&&!t.disabled,kn=!!(g["append-inner"]||t.appendInnerIcon||ct),Et=()=>g.label?g.label({...qe.value,label:t.label,props:{for:he.value}}):t.label;return te("div",Po({class:["v-field",{"v-field--active":Z.value,"v-field--appended":kn,"v-field--center-affix":t.centerAffix??!Ve.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Yt,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!Et(),[`v-field--variant-${t.variant}`]:!0},h.value,rt.value,w.value,x.value,H.value,W.value,t.class],style:[Oe.value,t.style],onClick:lt},a),[te("div",{class:"v-field__overlay"},null),ie(Ree,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:g.loader}),Yt&&te("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&ie(N,{key:"prepend-icon",name:"prependInner",color:Xe.value},null),(Qe=g["prepend-inner"])==null?void 0:Qe.call(g,qe.value)]),te("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&se.value&&ie(NB,{key:"floating-label",ref:de,class:go([Te.value]),floating:!0,for:he.value,style:Ir(D.value)},{default:()=>[Et()]}),J.value&&ie(NB,{key:"label",ref:U,for:he.value},{default:()=>[Et()]}),((Le=g.default)==null?void 0:Le.call(g,{...qe.value,props:{id:he.value,class:"v-field__input","aria-describedby":ae.value},focus:I,blur:R}))??te("div",{id:he.value,class:"v-field__input","aria-describedby":ae.value},null)]),ct&&ie(jee,{key:"clear"},{default:()=>[Fn(te("div",{class:"v-field__clearable",onMousedown:po=>{po.preventDefault(),po.stopPropagation()}},[ie(_a,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[g.clear?g.clear({...qe.value,props:{onFocus:I,onBlur:R,onClick:t["onClick:clear"],tabindex:-1}}):ie(N,{name:"clear",onFocus:I,onBlur:R,tabindex:-1},null)]})]),[[Ao,t.dirty]])]}),kn&&te("div",{key:"append",class:"v-field__append-inner"},[(ft=g["append-inner"])==null?void 0:ft.call(g,qe.value),t.appendInnerIcon&&ie(N,{key:"append-icon",name:"appendInner",color:Xe.value},null)]),te("div",{class:go(["v-field__outline",Te.value]),style:Ir(D.value)},[zt&&te(lr,null,[te("div",{class:"v-field__outline__start"},null),se.value&&te("div",{class:"v-field__outline__notch"},[ie(NB,{ref:de,floating:!0,for:he.value},{default:()=>[Et()]})]),te("div",{class:"v-field__outline__end"},null)]),Ve.value&&se.value&&ie(NB,{ref:de,floating:!0,for:he.value},{default:()=>[Et()]})])])}),{controlRef:oe,fieldIconColor:Xe}}});function Ete(t){function s(a,u){var g,h;!t.autofocus||!a||(h=(g=u[0].target)==null?void 0:g.focus)==null||h.call(g)}return{onIntersect:s}}const kye=["color","file","time","date","datetime-local","week","month"],vK=Ln({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...lF(),...bK()},"VTextField"),GD=Mo()({name:"VTextField",directives:{vIntersect:CE},inheritAttrs:!1,props:vK(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const h=Ki(t,"modelValue"),{isFocused:x,focus:w,blur:T}=aF(t),{onIntersect:I}=Ete(t),R=Dt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):typeof t.counterValue=="number"?t.counterValue:(h.value??"").toString().length),N=Dt(()=>{if(a.maxlength)return a.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=Dt(()=>["plain","underlined"].includes(t.variant)),W=zn(),Z=zn(),J=zn(),se=Dt(()=>kye.includes(t.type)||t.persistentPlaceholder||x.value||t.active);function j(){x.value||w(),Jo(()=>{J.value!==document.activeElement&&Jo(()=>{var oe;return(oe=J.value)==null?void 0:oe.focus()})})}function he(oe){u("mousedown:control",oe),oe.target!==J.value&&(j(),oe.preventDefault())}function ae(oe){u("click:control",oe)}function U(oe,Ve){oe.stopPropagation(),j(),Jo(()=>{h.value=null,Ve(),HW(t["onClick:clear"],oe)})}function de(oe){var Me;const Ve=oe.target;if(h.value=Ve.value,(Me=t.modelModifiers)!=null&&Me.trim&&["text","search","password","tel","url"].includes(t.type)){const Xe=[Ve.selectionStart,Ve.selectionEnd];Jo(()=>{Ve.selectionStart=Xe[0],Ve.selectionEnd=Xe[1]})}}return xr(()=>{const oe=!!(g.counter||t.counter!==!1&&t.counter!=null),Ve=!!(oe||g.details),[Me,Xe]=z8(a),{modelValue:rt,...Oe}=_E.filterProps(t),Te=k8.filterProps(t);return ie(_E,Po({ref:W,modelValue:h.value,"onUpdate:modelValue":D=>h.value=D,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":H.value},t.class],style:t.style},Me,Oe,{centerAffix:!H.value,focused:x.value}),{...g,default:D=>{let{id:qe,isDisabled:lt,isDirty:zt,isReadonly:Yt,isValid:ct,reset:kn}=D;return ie(k8,Po({ref:Z,onMousedown:he,onClick:ae,"onClick:clear":Et=>U(Et,kn),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},Te,{id:qe.value,active:se.value||zt.value,dirty:zt.value||t.dirty,disabled:lt.value,focused:x.value,error:ct.value===!1}),{...g,default:Et=>{let{props:{class:Qe,...Le}}=Et;const ft=Fn(te("input",Po({ref:J,value:h.value,onInput:de,autofocus:t.autofocus,readonly:Yt.value,disabled:lt.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:j,onBlur:T},Le,Xe),null),[[CE,{handler:I},null,{once:!0}]]);return te(lr,null,[t.prefix&&te("span",{class:"v-text-field__prefix"},[te("span",{class:"v-text-field__prefix__text"},[t.prefix])]),g.default?te("div",{class:go(Qe),"data-no-activator":""},[g.default(),ft]):e0(ft,{class:Qe}),t.suffix&&te("span",{class:"v-text-field__suffix"},[te("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:Ve?D=>{var qe;return te(lr,null,[(qe=g.details)==null?void 0:qe.call(g,D),oe&&te(lr,null,[te("span",null,null),ie(kte,{active:t.persistentCounter||x.value,value:R.value,max:N.value,disabled:t.disabled},g.counter)])])}:void 0})}),VC({},W,Z,J)}}),Eye=Ln({renderless:Boolean,...zr()},"VVirtualScrollItem"),Aye=Mo()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Eye(),emits:{"update:height":t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const{resizeRef:h,contentRect:x}=xE(void 0,"border");Rn(()=>{var w;return(w=x.value)==null?void 0:w.height},w=>{w!=null&&u("update:height",w)}),xr(()=>{var w,T;return t.renderless?te(lr,null,[(w=g.default)==null?void 0:w.call(g,{itemRef:h})]):te("div",Po({ref:h,class:["v-virtual-scroll__item",t.class],style:t.style},a),[(T=g.default)==null?void 0:T.call(g)])})}}),Tye=-1,Oye=1,bU=100,Dye=Ln({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Rye(t,s){const a=W8(),u=ho(0);Md(()=>{u.value=parseFloat(t.itemHeight||0)});const g=ho(0),h=ho(Math.ceil((parseInt(t.height)||a.height.value)/(u.value||16))||1),x=ho(0),w=ho(0),T=zn(),I=zn();let R=0;const{resizeRef:N,contentRect:H}=xE();Md(()=>{N.value=T.value});const W=Dt(()=>{var Et;return T.value===document.documentElement?a.height.value:((Et=H.value)==null?void 0:Et.height)||parseInt(t.height)||0}),Z=Dt(()=>!!(T.value&&I.value&&W.value&&u.value));let J=Array.from({length:s.value.length}),se=Array.from({length:s.value.length});const j=ho(0);let he=-1;function ae(Et){return J[Et]||u.value}const U=Wme(()=>{const Et=performance.now();se[0]=0;const Qe=s.value.length;for(let Le=1;Le<=Qe-1;Le++)se[Le]=(se[Le-1]||0)+ae(Le-1);j.value=Math.max(j.value,performance.now()-Et)},j),de=Rn(Z,Et=>{Et&&(de(),R=I.value.offsetTop,U.immediate(),zt(),~he&&Jo(()=>{ei&&window.requestAnimationFrame(()=>{ct(he),he=-1})}))});cc(()=>{U.clear()});function oe(Et,Qe){const Le=J[Et],ft=u.value;u.value=ft?Math.min(u.value,Qe):Qe,(Le!==Qe||ft!==u.value)&&(J[Et]=Qe,U())}function Ve(Et){Et=wf(Et,0,s.value.length-1);const Qe=Math.floor(Et),Le=Et%1,ft=Qe+1,po=se[Qe]||0,Ht=se[ft]||po;return po+(Ht-po)*Le}function Me(Et){return Iye(se,Et)}let Xe=0,rt=0,Oe=0;Rn(W,(Et,Qe)=>{Qe&&(zt(),Et<Qe&&requestAnimationFrame(()=>{rt=0,zt()}))});let Te=-1;function D(){if(!T.value||!I.value)return;const Et=T.value.scrollTop,Qe=performance.now();Qe-Oe>500?(rt=Math.sign(Et-Xe),R=I.value.offsetTop):rt=Et-Xe,Xe=Et,Oe=Qe,window.clearTimeout(Te),Te=window.setTimeout(qe,500),zt()}function qe(){!T.value||!I.value||(rt=0,Oe=0,window.clearTimeout(Te),zt())}let lt=-1;function zt(){cancelAnimationFrame(lt),lt=requestAnimationFrame(Yt)}function Yt(){if(!T.value||!W.value||!u.value)return;const Et=Xe-R,Qe=Math.sign(rt),Le=Math.max(0,Et-bU),ft=wf(Me(Le),0,s.value.length),po=Et+W.value+bU,Ht=wf(Me(po)+1,ft+1,s.value.length);if((Qe!==Tye||ft<g.value)&&(Qe!==Oye||Ht>h.value)){const Tn=Ve(g.value)-Ve(ft),nn=Ve(Ht)-Ve(h.value);Math.max(Tn,nn)>bU?(g.value=ft,h.value=Ht):(ft<=0&&(g.value=ft),Ht>=s.value.length&&(h.value=Ht))}x.value=Ve(g.value),w.value=Ve(s.value.length)-Ve(h.value)}function ct(Et){const Qe=Ve(Et);!T.value||Et&&!Qe?he=Et:T.value.scrollTop=Qe}const kn=Dt(()=>s.value.slice(g.value,h.value).map((Et,Qe)=>{const Le=Qe+g.value;return{raw:Et,index:Le,key:Ug(Et,t.itemKey,Le)}}));return Rn(s,()=>{J=Array.from({length:s.value.length}),se=Array.from({length:s.value.length}),U.immediate(),zt()},{deep:1}),{calculateVisibleItems:zt,containerRef:T,markerRef:I,computedItems:kn,paddingTop:x,paddingBottom:w,scrollToIndex:ct,handleScroll:D,handleScrollend:qe,handleItemResize:oe}}function Iye(t,s){let a=t.length-1,u=0,g=0,h=null,x=-1;if(t[a]<s)return a;for(;u<=a;)if(g=u+a>>1,h=t[g],h>s)a=g-1;else if(h<s)x=g,u=g+1;else return h===s?g:u;return x}const Nye=Ln({items:{type:Array,default:()=>[]},renderless:Boolean,...Dye(),...zr(),...pp()},"VVirtualScroll"),Ate=Mo()({name:"VVirtualScroll",props:Nye(),setup(t,s){let{slots:a}=s;const u=$l("VVirtualScroll"),{dimensionStyles:g}=bp(t),{calculateVisibleItems:h,containerRef:x,markerRef:w,handleScroll:T,handleScrollend:I,handleItemResize:R,scrollToIndex:N,paddingTop:H,paddingBottom:W,computedItems:Z}=Rye(t,gn(()=>t.items));return Gg(()=>t.renderless,()=>{function J(){var he,ae;const j=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";x.value===document.documentElement?(document[j]("scroll",T,{passive:!0}),document[j]("scrollend",I)):((he=x.value)==null||he[j]("scroll",T,{passive:!0}),(ae=x.value)==null||ae[j]("scrollend",I))}Ku(()=>{x.value=hQ(u.vnode.el,!0),J(!0)}),cc(J)}),xr(()=>{const J=Z.value.map(se=>ie(Aye,{key:se.key,renderless:t.renderless,"onUpdate:height":j=>R(se.index,j)},{default:j=>{var he;return(he=a.default)==null?void 0:he.call(a,{item:se.raw,index:se.index,...j})}}));return t.renderless?te(lr,null,[te("div",{ref:w,class:"v-virtual-scroll__spacer",style:{paddingTop:yr(H.value)}},null),J,te("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:yr(W.value)}},null)]):te("div",{ref:x,class:go(["v-virtual-scroll",t.class]),onScrollPassive:T,onScrollend:I,style:Ir([g.value,t.style])},[te("div",{ref:w,class:"v-virtual-scroll__container",style:{paddingTop:yr(H.value),paddingBottom:yr(W.value)}},[J])])}),{calculateVisibleItems:h,scrollToIndex:N}}});function Tte(t,s){const a=ho(!1);let u;function g(w){cancelAnimationFrame(u),a.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{a.value=!1})})}async function h(){await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>{if(a.value){const T=Rn(a,()=>{T(),w()})}else w()})}async function x(w){var R,N;if(w.key==="Tab"&&((R=s.value)==null||R.focus()),!["PageDown","PageUp","Home","End"].includes(w.key))return;const T=(N=t.value)==null?void 0:N.$el;if(!T)return;(w.key==="Home"||w.key==="End")&&T.scrollTo({top:w.key==="Home"?0:T.scrollHeight,behavior:"smooth"}),await h();const I=T.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(w.key==="PageDown"||w.key==="Home"){const H=T.getBoundingClientRect().top;for(const W of I)if(W.getBoundingClientRect().top>=H){W.focus();break}}else{const H=T.getBoundingClientRect().bottom;for(const W of[...I].reverse())if(W.getBoundingClientRect().bottom<=H){W.focus();break}}}return{onScrollPassive:g,onKeydown:x}}const Ote=Ln({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:zs,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...wte({itemChildren:!1})},"Select"),Pye=Ln({...Ote(),...kx(vK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...LE({transition:{component:dK}})},"VSelect");Mo()({name:"VSelect",props:Pye(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:a}=s;const{t:u}=uR(),g=zn(),h=zn(),x=zn(),{items:w,transformIn:T,transformOut:I}=_te(t),R=Ki(t,"modelValue",[],Et=>T(Et===null?[null]:xf(Et)),Et=>{const Qe=I(Et);return t.multiple?Qe:Qe[0]??null}),N=Dt(()=>typeof t.counterValue=="function"?t.counterValue(R.value):typeof t.counterValue=="number"?t.counterValue:R.value.length),H=mK(t),W=Dt(()=>R.value.map(Et=>Et.value)),Z=ho(!1);let J="",se=-1,j;const he=Dt(()=>t.hideSelected?w.value.filter(Et=>!R.value.some(Qe=>(t.valueComparator||qg)(Qe,Et))):w.value),ae=Dt(()=>t.hideNoData&&!he.value.length||H.isReadonly.value||H.isDisabled.value),U=Ki(t,"menu"),de=Dt({get:()=>U.value,set:Et=>{var Qe;U.value&&!Et&&((Qe=h.value)!=null&&Qe.openChildren.size)||Et&&ae.value||(U.value=Et)}}),oe=gn(()=>de.value?t.closeText:t.openText),Ve=Dt(()=>{var Et;return{...t.menuProps,activatorProps:{...((Et=t.menuProps)==null?void 0:Et.activatorProps)||{},"aria-haspopup":"listbox"}}}),Me=zn(),Xe=Tte(Me,g);function rt(Et){t.openOnClear&&(de.value=!0)}function Oe(){ae.value||(de.value=!de.value)}function Te(Et){a8(Et)&&D(Et)}function D(Et){var co,Kt,pn;if(!Et.key||H.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Et.key)&&Et.preventDefault(),["Enter","ArrowDown"," "].includes(Et.key)&&(de.value=!0),["Escape","Tab"].includes(Et.key)&&(de.value=!1),Et.key==="Home"?(co=Me.value)==null||co.focus("first"):Et.key==="End"&&((Kt=Me.value)==null||Kt.focus("last"));const Qe=1e3;if(!a8(Et))return;const Le=performance.now();Le-j>Qe&&(J="",se=-1),J+=Et.key.toLowerCase(),j=Le;const ft=he.value;function po(){let We=Ht();return We||J.at(-1)===J.at(-2)&&(J=J.slice(0,-1),We=Ht(),We)||(se=-1,We=Ht(),We)?We:(J=Et.key.toLowerCase(),Ht())}function Ht(){for(let We=se+1;We<ft.length;We++){const et=ft[We];if(et.title.toLowerCase().startsWith(J))return[et,We]}}const Tn=po();if(!Tn)return;const[nn,Q]=Tn;se=Q,(pn=Me.value)==null||pn.focus(Q),t.multiple||(R.value=[nn])}function qe(Et){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Et.props.disabled)if(t.multiple){const Le=R.value.findIndex(po=>(t.valueComparator||qg)(po.value,Et.value)),ft=Qe??!~Le;if(~Le){const po=ft?[...R.value,Et]:[...R.value];po.splice(Le,1),R.value=po}else ft&&(R.value=[...R.value,Et])}else{const Le=Qe!==!1;R.value=Le?[Et]:[],Jo(()=>{de.value=!1})}}function lt(Et){var Qe;(Qe=Me.value)!=null&&Qe.$el.contains(Et.relatedTarget)||(de.value=!1)}function zt(){var Et;t.eager&&((Et=x.value)==null||Et.calculateVisibleItems())}function Yt(){var Et;Z.value&&((Et=g.value)==null||Et.focus())}function ct(Et){Z.value=!0}function kn(Et){if(Et==null)R.value=[];else if(vE(g.value,":autofill")||vE(g.value,":-webkit-autofill")){const Qe=w.value.find(Le=>Le.title===Et);Qe&&qe(Qe)}else g.value&&(g.value.value="")}return Rn(de,()=>{if(!t.hideSelected&&de.value&&R.value.length){const Et=he.value.findIndex(Qe=>R.value.some(Le=>(t.valueComparator||qg)(Le.value,Qe.value)));ei&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var Qe;Et>=0&&((Qe=x.value)==null||Qe.scrollToIndex(Et))})}}),Rn(()=>t.items,(Et,Qe)=>{de.value||Z.value&&!Qe.length&&Et.length&&(de.value=!0)}),xr(()=>{const Et=!!(t.chips||a.chip),Qe=!!(!t.hideNoData||he.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),Le=R.value.length>0,ft=GD.filterProps(t),po=Le||!Z.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return ie(GD,Po({ref:g},ft,{modelValue:R.value.map(Ht=>Ht.props.value).join(", "),"onUpdate:modelValue":kn,focused:Z.value,"onUpdate:focused":Ht=>Z.value=Ht,validationValue:R.externalValue,counterValue:N.value,dirty:Le,class:["v-select",{"v-select--active-menu":de.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":R.value.length,"v-select--selection-slot":!!a.selection},t.class],style:t.style,inputmode:"none",placeholder:po,"onClick:clear":rt,"onMousedown:control":Oe,onBlur:lt,onKeydown:D,"aria-label":u(oe.value),title:u(oe.value)}),{...a,default:()=>te(lr,null,[ie(uF,Po({ref:h,modelValue:de.value,"onUpdate:modelValue":Ht=>de.value=Ht,activator:"parent",contentClass:"v-select__content",disabled:ae.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:zt,onAfterLeave:Yt},Ve.value),{default:()=>[Qe&&ie(ZD,Po({ref:Me,selected:W.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Ht=>Ht.preventDefault(),onKeydown:Te,onFocusin:ct,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},Xe,t.listProps),{default:()=>{var Ht,Tn,nn;return[(Ht=a["prepend-item"])==null?void 0:Ht.call(a),!he.value.length&&!t.hideNoData&&(((Tn=a["no-data"])==null?void 0:Tn.call(a))??ie(Tc,{key:"no-data",title:u(t.noDataText)},null)),ie(Ate,{ref:x,renderless:!0,items:he.value,itemKey:"value"},{default:Q=>{var xe,Ae,$e;let{item:co,index:Kt,itemRef:pn}=Q;const We=qme(co.props),et=Po(co.props,{ref:pn,key:co.value,onClick:()=>qe(co,null)});return co.type==="divider"?((xe=a.divider)==null?void 0:xe.call(a,{props:co.raw,index:Kt}))??ie(DC,Po(co.props,{key:`divider-${Kt}`}),null):co.type==="subheader"?((Ae=a.subheader)==null?void 0:Ae.call(a,{props:co.raw,index:Kt}))??ie(pK,Po(co.props,{key:`subheader-${Kt}`}),null):(($e=a.item)==null?void 0:$e.call(a,{item:co,index:Kt,props:et}))??ie(Tc,Po(et,{role:"option"}),{prepend:be=>{let{isSelected:Ce}=be;return te(lr,null,[t.multiple&&!t.hideSelected?ie(S8,{key:co.value,modelValue:Ce,ripple:!1,tabindex:"-1"},null):void 0,We.prependAvatar&&ie(Sx,{image:We.prependAvatar},null),We.prependIcon&&ie(Un,{icon:We.prependIcon},null)])}})}}),(nn=a["append-item"])==null?void 0:nn.call(a)]}})]}),R.value.map((Ht,Tn)=>{function nn(pn){pn.stopPropagation(),pn.preventDefault(),qe(Ht,!1)}const Q={"onClick:close":nn,onKeydown(pn){pn.key!=="Enter"&&pn.key!==" "||(pn.preventDefault(),pn.stopPropagation(),nn(pn))},onMousedown(pn){pn.preventDefault(),pn.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},co=Et?!!a.chip:!!a.selection,Kt=co?UW(Et?a.chip({item:Ht,index:Tn,props:Q}):a.selection({item:Ht,index:Tn})):void 0;if(!(co&&!Kt))return te("div",{key:Ht.value,class:"v-select__selection"},[Et?a.chip?ie(_a,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:Ht.title}}},{default:()=>[Kt]}):ie(dte,Po({key:"chip",closable:t.closableChips,size:"small",text:Ht.title,disabled:Ht.props.disabled},Q),null):Kt??te("span",{class:"v-select__selection-text"},[Ht.title,t.multiple&&Tn<R.value.length-1&&te("span",{class:"v-select__selection-comma"},[xs(",")])])])})]),"append-inner":function(){var Q,co;for(var Ht=arguments.length,Tn=new Array(Ht),nn=0;nn<Ht;nn++)Tn[nn]=arguments[nn];return te(lr,null,[(Q=a["append-inner"])==null?void 0:Q.call(a,...Tn),t.menuIcon?ie(Un,{class:"v-select__menu-icon",color:(co=g.value)==null?void 0:co.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),VC({isFocused:Z,menu:de,select:qe},g)}});const Lye=(t,s,a)=>{if(t==null||s==null)return-1;if(!s.length)return 0;t=t.toString().toLocaleLowerCase(),s=s.toString().toLocaleLowerCase();const u=[];let g=t.indexOf(s);for(;~g;)u.push([g,g+s.length]),g=t.indexOf(s,g+s.length);return u.length?u:-1};function vU(t,s){if(!(t==null||typeof t=="boolean"||t===-1))return typeof t=="number"?[[t,t+s.length]]:Array.isArray(t[0])?t:[t]}const Mye=Ln({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Bye(t,s,a){var w;const u=[],g=(a==null?void 0:a.default)??Lye,h=a!=null&&a.filterKeys?xf(a.filterKeys):!1,x=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return u;e:for(let T=0;T<t.length;T++){const[I,R=I]=xf(t[T]),N={},H={};let W=-1;if((s||x>0)&&!(a!=null&&a.noFilter)){if(typeof I=="object"){if(I.type==="divider"||I.type==="subheader")continue;const se=h||Object.keys(R);for(const j of se){const he=Ug(R,j),ae=(w=a==null?void 0:a.customKeyFilter)==null?void 0:w[j];if(W=ae?ae(he,s,I):g(he,s,I),W!==-1&&W!==!1)ae?N[j]=vU(W,s):H[j]=vU(W,s);else if((a==null?void 0:a.filterMode)==="every")continue e}}else W=g(I,s,I),W!==-1&&W!==!1&&(H.title=vU(W,s));const Z=Object.keys(H).length,J=Object.keys(N).length;if(!Z&&!J||(a==null?void 0:a.filterMode)==="union"&&J!==x&&!Z||(a==null?void 0:a.filterMode)==="intersection"&&(J!==x||!Z))continue}u.push({index:T,matches:{...H,...N}})}return u}function Fye(t,s,a,u){const g=ho([]),h=ho(new Map),x=Dt(()=>le(s));Md(()=>{const T=typeof a=="function"?a():le(a),I=typeof T!="string"&&typeof T!="number"?"":String(T),R=Bye(x.value,I,{customKeyFilter:{...t.customKeyFilter,...le(u==null?void 0:u.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),N=le(s),H=[],W=new Map;R.forEach(Z=>{let{index:J,matches:se}=Z;const j=N[J];H.push(j),W.set(j.value,se)}),g.value=H,h.value=W});function w(T){return h.value.get(T.value)}return{filteredItems:g,filteredMatches:h,getMatches:w}}function $ye(t,s,a){return a==null||!a.length?s:a.map((u,g)=>{const h=g===0?0:a[g-1][1],x=[te("span",{class:go(`${t}__unmask`)},[s.slice(h,u[0])]),te("span",{class:go(`${t}__mask`)},[s.slice(u[0],u[1])])];return g===a.length-1&&x.push(te("span",{class:go(`${t}__unmask`)},[s.slice(u[1])])),te(lr,null,[x])})}const Vye=Ln({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Mye({filterKeys:["title"]}),...Ote(),...kx(vK({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...LE({transition:!1})},"VAutocomplete"),Dte=Mo()({name:"VAutocomplete",props:Vye(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,s){let{slots:a}=s;const{t:u}=uR(),g=zn(),h=ho(!1),x=ho(!0),w=ho(!1),T=zn(),I=zn(),R=ho(-1),{items:N,transformIn:H,transformOut:W}=_te(t),{textColorClasses:Z,textColorStyles:J}=mp(()=>{var Kt;return(Kt=g.value)==null?void 0:Kt.color}),se=Ki(t,"search",""),j=Ki(t,"modelValue",[],Kt=>H(Kt===null?[null]:xf(Kt)),Kt=>{const pn=W(Kt);return t.multiple?pn:pn[0]??null}),he=Dt(()=>typeof t.counterValue=="function"?t.counterValue(j.value):typeof t.counterValue=="number"?t.counterValue:j.value.length),ae=mK(t),{filteredItems:U,getMatches:de}=Fye(t,N,()=>x.value?"":se.value),oe=Dt(()=>t.hideSelected?U.value.filter(Kt=>!j.value.some(pn=>pn.value===Kt.value)):U.value),Ve=Dt(()=>!!(t.chips||a.chip)),Me=Dt(()=>Ve.value||!!a.selection),Xe=Dt(()=>j.value.map(Kt=>Kt.props.value)),rt=Dt(()=>{var pn;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&se.value===((pn=oe.value[0])==null?void 0:pn.title))&&oe.value.length>0&&!x.value&&!w.value}),Oe=Dt(()=>t.hideNoData&&!oe.value.length||ae.isReadonly.value||ae.isDisabled.value),Te=Ki(t,"menu"),D=Dt({get:()=>Te.value,set:Kt=>{var pn;Te.value&&!Kt&&((pn=T.value)!=null&&pn.openChildren.size)||Kt&&Oe.value||(Te.value=Kt)}}),qe=Dt(()=>D.value?t.closeText:t.openText),lt=zn(),zt=Tte(lt,g);function Yt(Kt){t.openOnClear&&(D.value=!0),se.value=""}function ct(){Oe.value||(D.value=!0)}function kn(Kt){Oe.value||(h.value&&(Kt.preventDefault(),Kt.stopPropagation()),D.value=!D.value)}function Et(Kt){var pn;(a8(Kt)||Kt.key==="Backspace")&&((pn=g.value)==null||pn.focus())}function Qe(Kt){var et,xe,Ae,$e,be;if(ae.isReadonly.value)return;const pn=(et=g.value)==null?void 0:et.selectionStart,We=j.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(Kt.key)&&Kt.preventDefault(),["Enter","ArrowDown"].includes(Kt.key)&&(D.value=!0),["Escape"].includes(Kt.key)&&(D.value=!1),rt.value&&["Enter","Tab"].includes(Kt.key)&&!j.value.some(Ce=>{let{value:Ne}=Ce;return Ne===oe.value[0].value})&&co(oe.value[0]),Kt.key==="ArrowDown"&&rt.value&&((xe=lt.value)==null||xe.focus("next")),["Backspace","Delete"].includes(Kt.key)){if(!t.multiple&&Me.value&&j.value.length>0&&!se.value)return co(j.value[0],!1);if(~R.value){Kt.preventDefault();const Ce=R.value;co(j.value[R.value],!1),R.value=Ce>=We-1?We-2:Ce}else Kt.key==="Backspace"&&!se.value&&(R.value=We-1);return}if(t.multiple)if(Kt.key==="ArrowLeft"){if(R.value<0&&pn&&pn>0)return;const Ce=R.value>-1?R.value-1:We-1;if(j.value[Ce])R.value=Ce;else{const Ne=((Ae=se.value)==null?void 0:Ae.length)??null;R.value=-1,($e=g.value)==null||$e.setSelectionRange(Ne,Ne)}}else if(Kt.key==="ArrowRight"){if(R.value<0)return;const Ce=R.value+1;j.value[Ce]?R.value=Ce:(R.value=-1,(be=g.value)==null||be.setSelectionRange(0,0))}else~R.value&&a8(Kt)&&(R.value=-1)}function Le(Kt){if(vE(g.value,":autofill")||vE(g.value,":-webkit-autofill")){const pn=N.value.find(We=>We.title===Kt.target.value);pn&&co(pn)}}function ft(){var Kt;t.eager&&((Kt=I.value)==null||Kt.calculateVisibleItems())}function po(){var Kt;h.value&&(x.value=!0,(Kt=g.value)==null||Kt.focus())}function Ht(Kt){h.value=!0,setTimeout(()=>{w.value=!0})}function Tn(Kt){w.value=!1}function nn(Kt){(Kt==null||Kt===""&&!t.multiple&&!Me.value)&&(j.value=[])}const Q=ho(!1);function co(Kt){let pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Kt||Kt.props.disabled))if(t.multiple){const We=j.value.findIndex(xe=>(t.valueComparator||qg)(xe.value,Kt.value)),et=pn??!~We;if(~We){const xe=et?[...j.value,Kt]:[...j.value];xe.splice(We,1),j.value=xe}else et&&(j.value=[...j.value,Kt]);t.clearOnSelect&&(se.value="")}else{const We=pn!==!1;j.value=We?[Kt]:[],se.value=We&&!Me.value?Kt.title:"",Jo(()=>{D.value=!1,x.value=!0})}}return Rn(h,(Kt,pn)=>{var We;Kt!==pn&&(Kt?(Q.value=!0,se.value=t.multiple||Me.value?"":String(((We=j.value.at(-1))==null?void 0:We.props.title)??""),x.value=!0,Jo(()=>Q.value=!1)):(!t.multiple&&se.value==null&&(j.value=[]),D.value=!1,(t.multiple||Me.value)&&(se.value=""),R.value=-1))}),Rn(se,Kt=>{!h.value||Q.value||(Kt&&(D.value=!0),x.value=!Kt)}),Rn(D,()=>{if(!t.hideSelected&&D.value&&j.value.length){const Kt=oe.value.findIndex(pn=>j.value.some(We=>pn.value===We.value));ei&&window.requestAnimationFrame(()=>{var pn;Kt>=0&&((pn=I.value)==null||pn.scrollToIndex(Kt))})}}),Rn(()=>t.items,(Kt,pn)=>{D.value||h.value&&!pn.length&&Kt.length&&(D.value=!0)}),xr(()=>{const Kt=!!(!t.hideNoData||oe.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),pn=j.value.length>0,We=GD.filterProps(t);return ie(GD,Po({ref:g},We,{modelValue:se.value,"onUpdate:modelValue":[et=>se.value=et,nn],focused:h.value,"onUpdate:focused":et=>h.value=et,validationValue:j.externalValue,counterValue:he.value,dirty:pn,onChange:Le,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":D.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!Me.value,"v-autocomplete--selecting-index":R.value>-1},t.class],style:t.style,readonly:ae.isReadonly.value,placeholder:pn?void 0:t.placeholder,"onClick:clear":Yt,"onMousedown:control":ct,onKeydown:Qe}),{...a,default:()=>te(lr,null,[ie(uF,Po({ref:T,modelValue:D.value,"onUpdate:modelValue":et=>D.value=et,activator:"parent",contentClass:"v-autocomplete__content",disabled:Oe.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ft,onAfterLeave:po},t.menuProps),{default:()=>[Kt&&ie(ZD,Po({ref:lt,filterable:!0,selected:Xe.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:et=>et.preventDefault(),onKeydown:Et,onFocusin:Ht,onFocusout:Tn,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},zt,t.listProps),{default:()=>{var et,xe,Ae;return[(et=a["prepend-item"])==null?void 0:et.call(a),!oe.value.length&&!t.hideNoData&&(((xe=a["no-data"])==null?void 0:xe.call(a))??ie(Tc,{key:"no-data",title:u(t.noDataText)},null)),ie(Ate,{ref:I,renderless:!0,items:oe.value,itemKey:"value"},{default:$e=>{var gt,sn,Ut;let{item:be,index:Ce,itemRef:Ne}=$e;const je=Po(be.props,{ref:Ne,key:be.value,active:rt.value&&Ce===0?!0:void 0,onClick:()=>co(be,null)});return be.type==="divider"?((gt=a.divider)==null?void 0:gt.call(a,{props:be.raw,index:Ce}))??ie(DC,Po(be.props,{key:`divider-${Ce}`}),null):be.type==="subheader"?((sn=a.subheader)==null?void 0:sn.call(a,{props:be.raw,index:Ce}))??ie(pK,Po(be.props,{key:`subheader-${Ce}`}),null):((Ut=a.item)==null?void 0:Ut.call(a,{item:be,index:Ce,props:je}))??ie(Tc,Po(je,{role:"option"}),{prepend:bn=>{let{isSelected:qn}=bn;return te(lr,null,[t.multiple&&!t.hideSelected?ie(S8,{key:be.value,modelValue:qn,ripple:!1,tabindex:"-1"},null):void 0,be.props.prependAvatar&&ie(Sx,{image:be.props.prependAvatar},null),be.props.prependIcon&&ie(Un,{icon:be.props.prependIcon},null)])},title:()=>{var bn;return x.value?be.title:$ye("v-autocomplete",be.title,(bn=de(be))==null?void 0:bn.title)}})}}),(Ae=a["append-item"])==null?void 0:Ae.call(a)]}})]}),j.value.map((et,xe)=>{function Ae(Ne){Ne.stopPropagation(),Ne.preventDefault(),co(et,!1)}const $e={"onClick:close":Ae,onKeydown(Ne){Ne.key!=="Enter"&&Ne.key!==" "||(Ne.preventDefault(),Ne.stopPropagation(),Ae(Ne))},onMousedown(Ne){Ne.preventDefault(),Ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},be=Ve.value?!!a.chip:!!a.selection,Ce=be?UW(Ve.value?a.chip({item:et,index:xe,props:$e}):a.selection({item:et,index:xe})):void 0;if(!(be&&!Ce))return te("div",{key:et.value,class:go(["v-autocomplete__selection",xe===R.value&&["v-autocomplete__selection--selected",Z.value]]),style:Ir(xe===R.value?J.value:{})},[Ve.value?a.chip?ie(_a,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:et.title}}},{default:()=>[Ce]}):ie(dte,Po({key:"chip",closable:t.closableChips,size:"small",text:et.title,disabled:et.props.disabled},$e),null):Ce??te("span",{class:"v-autocomplete__selection-text"},[et.title,t.multiple&&xe<j.value.length-1&&te("span",{class:"v-autocomplete__selection-comma"},[xs(",")])])])})]),"append-inner":function(){var $e,be;for(var et=arguments.length,xe=new Array(et),Ae=0;Ae<et;Ae++)xe[Ae]=arguments[Ae];return te(lr,null,[($e=a["append-inner"])==null?void 0:$e.call(a,...xe),t.menuIcon?ie(Un,{class:"v-autocomplete__menu-icon",color:(be=g.value)==null?void 0:be.fieldIconColor,icon:t.menuIcon,onMousedown:kn,onClick:jme,"aria-label":u(qe.value),title:u(qe.value),tabindex:"-1"},null):void 0])}})}),VC({isFocused:h,isPristine:x,menu:D,search:se,filteredItems:U,select:co},g)}}),zye={class:"sr-only"},Hye={class:"sr-only"},Uye={__name:"Items",setup(t){const s=ar(),a=Mb(),u=ac(),g=HD(),h=Vb(),x=Qa();Fl();const w=zn(!1),T=zn(!1),I=zn("");zn(!1);async function R(){await Jo(),w.value&&(T.value=!0,I.value="")}async function N(){w.value=!1,!s.isLoading&&I.value!=""&&H(I.value)}async function H(W){s.isLoading||(!await x.hasChangesInStorage()||await s.saveChangesToBackend(!0)?await s.loadItemFromBackend(W):s.setShowSendFailure(!0))}return(W,Z)=>(On(),Bo(lr,null,[ie(Co,{class:"app-header-item",disabled:le(s).isLoading||le(s).itemKey==le(a).firstKey,onClick:Z[0]||(Z[0]=J=>H(le(a).getPreviousKey(le(s).itemKey)))},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-arrow-left-bold"}),te("span",zye,pt(W.$t("itemsPreviousWriter")),1)]),_:1},8,["disabled"]),ie(Co,{class:"app-header-item",disabled:le(s).isLoading,id:"app-items-menu-activator"},{default:xt(()=>[Fn(te("span",null,pt(W.$t("itemsLoadData")),513),[[Ao,le(s).isLoading]]),Fn(te("span",null,pt(le(a).currentItem.title)+" "+pt(le(h).getPositionText(le(s).correctorKey))+" "+pt(le(s).isForReviewOrStitch?le(g).isFinalized?W.$t("itemsSuffixFinalised"):W.$t("itemsSuffixOpen"):le(u).isOwnAuthorized?W.$t("itemsSuffixAuthorized"):W.$t("itemsSuffixOpen")),513),[[Ao,!le(s).isLoading&&le(a).currentItem!==void 0]])]),_:1},8,["disabled"]),ie(uF,{disabled:le(s).isLoading,modelValue:w.value,"onUpdate:modelValue":[Z[3]||(Z[3]=J=>w.value=J),Z[4]||(Z[4]=J=>R())],activator:"#app-items-menu-activator","close-on-content-click":!1},{default:xt(()=>[T.value?(On(),es(Dte,{key:0,id:"app-items-autocomplete",modelValue:I.value,"onUpdate:modelValue":[Z[1]||(Z[1]=J=>I.value=J),Z[2]||(Z[2]=J=>N())],items:le(a).items,menu:!0,"item-title":"title","item-value":"key",autofocus:"","auto-select-first":"",class:"flex-full-width",density:"comfortable","item-props":"","menu-icon":"",placeholder:W.$t("itemsWriter"),"prepend-inner-icon":"mdi-magnify",theme:"light",variant:"solo"},null,8,["modelValue","items","placeholder"])):vr("",!0)]),_:1},8,["disabled","modelValue"]),ie(Co,{class:"app-header-item",disabled:le(s).isLoading||le(s).itemKey==le(a).lastKey,onClick:Z[5]||(Z[5]=J=>H(le(a).getNextKey(le(s).itemKey)))},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-arrow-right-bold"}),te("span",Hye,pt(W.$t("itemsNextWriter")),1)]),_:1},8,["disabled"])],64))}},Wye={id:"app-stitch-decision-wrapper"},Kye=["min","max"],jye=["innerHTML"],Zye={__name:"StitchDecision",setup(t){const s=ar(),a=HD(),u=Mb(),g=ac();let h=zn(!1),x=zn(!1);async function w(){if(h.value=!1,await a.saveStitchDecision(),!a.correction_finalized)x.value=!0;else{let I=u.getNextKey(s.itemKey);I!=""&&s.loadItemFromBackend(I)}}async function T(){h.value=!1,await a.saveStitchDecision(),a.correction_finalized?window.location=s.returnUrl:x.value=!0}return(I,R)=>(On(),Bo("div",Wye,[ie(Co,{class:"app-header-item",disabled:le(a).correction_finalized,onClick:R[0]||(R[0]=N=>Qs(h)?h.value=!0:h=!0)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-checkbox-marked-outline"}),R[9]||(R[9]=xs(" Stichentscheid "))]),_:1,__:[9]},8,["disabled"]),ie(lp,{persistent:"",modelValue:le(h),"onUpdate:modelValue":R[6]||(R[6]=N=>Qs(h)?h.value=N:h=N)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(pR,null,{default:xt(()=>R[10]||(R[10]=[xs("Stichentscheid")])),_:1,__:[10]}),ie(jg,null,{default:xt(()=>[R[14]||(R[14]=te("p",null," Mit Ihrerm Stichentscheid wird die Bewertung dieser Abgabe abgeschlossen. ",-1)),R[15]||(R[15]=te("br",null,null,-1)),te("p",null,"Minimale Punkte: "+pt(le(g).minPoints),1),te("p",null,"Maximale Punkte: "+pt(le(g).maxPoints),1),R[16]||(R[16]=te("br",null,null,-1)),te("p",null,[R[11]||(R[11]=te("label",{for:"appFinalPoints"},"Finale Punkte: ",-1)),Fn(te("input",{id:"appFinalPoints",class:"appRatingControl",type:"number",min:le(g).minPoints,max:le(g).maxPoints,"onUpdate:modelValue":R[1]||(R[1]=N=>le(a).final_points=N)},null,8,Kye),[[t0,le(a).final_points]]),te("span",{innerHTML:le(a).grade},null,8,jye),R[12]||(R[12]=te("br",null,null,-1)),R[13]||(R[13]=te("label",{for:"appStitchComment"},"Begrndung: ",-1)),Fn(te("textarea",{id:"appStitchComment",class:"appStitchReasonControl",style:{width:"100%"},"onUpdate:modelValue":R[2]||(R[2]=N=>le(a).stitch_comment=N)},null,512),[[t0,le(a).stitch_comment]])])]),_:1,__:[14,15,16]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:R[3]||(R[3]=N=>w()),disabled:le(a).final_points===null||le(a).final_points===""||!le(a).stitch_comment},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-check"}),R[17]||(R[17]=te("span",null,"Festlegen und Weiter",-1))]),_:1,__:[17]},8,["disabled"]),ie(Co,{onClick:R[4]||(R[4]=N=>T()),disabled:le(a).final_points===null||le(a).final_points===""||!le(a).stitch_comment},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-check"}),R[18]||(R[18]=te("span",null,"Festlegen und Schlieen",-1))]),_:1,__:[18]},8,["disabled"]),ie(Co,{onClick:R[5]||(R[5]=N=>Qs(h)?h.value=!1:h=!1)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),R[19]||(R[19]=te("span",null,"Abbrechen",-1))]),_:1,__:[19]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(lp,{persistent:"",modelValue:le(x),"onUpdate:modelValue":R[8]||(R[8]=N=>Qs(x)?x.value=N:x=N)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>R[20]||(R[20]=[te("p",null,"Ihr Stichentscheid konnte nicht bertragen werden. Bitte versuchen Sie es spter noch einmal.",-1)])),_:1,__:[20]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:R[7]||(R[7]=N=>Qs(x)?x.value=!1:x=!1)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),R[21]||(R[21]=te("span",null,"Meldung schlieen",-1))]),_:1,__:[21]}),ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),R[22]||(R[22]=te("span",null,"Korrektur abbrechen",-1))]),_:1,__:[22]},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Gye=yl(Zye,[["__scopeId","data-v-2931e2f5"]]),qye=Ln({fluid:{type:Boolean,default:!1},...zr(),...pp(),...ra()},"VContainer"),E8=Mo()({name:"VContainer",props:qye(),setup(t,s){let{slots:a}=s;const{rtlClasses:u}=Xg(),{dimensionStyles:g}=bp(t);return xr(()=>ie(t.tag,{class:go(["v-container",{"v-container--fluid":t.fluid},u.value,t.class]),style:Ir([g.value,t.style])},a)),{}}}),Rte=U8.reduce((t,s)=>(t[s]={type:[Boolean,String,Number],default:!1},t),{}),Ite=U8.reduce((t,s)=>{const a="offset"+r0(s);return t[a]={type:[String,Number],default:null},t},{}),Nte=U8.reduce((t,s)=>{const a="order"+r0(s);return t[a]={type:[String,Number],default:null},t},{}),aX={col:Object.keys(Rte),offset:Object.keys(Ite),order:Object.keys(Nte)};function Yye(t,s,a){let u=t;if(!(a==null||a===!1)){if(s){const g=s.replace(t,"");u+=`-${g}`}return t==="col"&&(u="v-"+u),t==="col"&&(a===""||a===!0)||(u+=`-${a}`),u.toLowerCase()}}const Xye=["auto","start","end","center","baseline","stretch"],Jye=Ln({cols:{type:[Boolean,String,Number],default:!1},...Rte,offset:{type:[String,Number],default:null},...Ite,order:{type:[String,Number],default:null},...Nte,alignSelf:{type:String,default:null,validator:t=>Xye.includes(t)},...zr(),...ra()},"VCol"),La=Mo()({name:"VCol",props:Jye(),setup(t,s){let{slots:a}=s;const u=Dt(()=>{const g=[];let h;for(h in aX)aX[h].forEach(w=>{const T=t[w],I=Yye(h,w,T);I&&g.push(I)});const x=g.some(w=>w.startsWith("v-col-"));return g.push({"v-col":!x||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),g});return()=>{var g;return Ub(t.tag,{class:[u.value,t.class],style:t.style},(g=a.default)==null?void 0:g.call(a))}}}),yK=["start","end","center"],Pte=["space-between","space-around","space-evenly"];function xK(t,s){return U8.reduce((a,u)=>{const g=t+r0(u);return a[g]=s(),a},{})}const Qye=[...yK,"baseline","stretch"],Lte=t=>Qye.includes(t),Mte=xK("align",()=>({type:String,default:null,validator:Lte})),exe=[...yK,...Pte],Bte=t=>exe.includes(t),Fte=xK("justify",()=>({type:String,default:null,validator:Bte})),txe=[...yK,...Pte,"stretch"],$te=t=>txe.includes(t),Vte=xK("alignContent",()=>({type:String,default:null,validator:$te})),lX={align:Object.keys(Mte),justify:Object.keys(Fte),alignContent:Object.keys(Vte)},nxe={align:"align",justify:"justify",alignContent:"align-content"};function oxe(t,s,a){let u=nxe[t];if(a!=null){if(s){const g=s.replace(t,"");u+=`-${g}`}return u+=`-${a}`,u.toLowerCase()}}const rxe=Ln({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Lte},...Mte,justify:{type:String,default:null,validator:Bte},...Fte,alignContent:{type:String,default:null,validator:$te},...Vte,...zr(),...ra()},"VRow"),Wg=Mo()({name:"VRow",props:rxe(),setup(t,s){let{slots:a}=s;const u=Dt(()=>{const g=[];let h;for(h in lX)lX[h].forEach(x=>{const w=t[x],T=oxe(h,x,w);T&&g.push(T)});return g.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),g});return()=>{var g;return Ub(t.tag,{class:["v-row",u.value,t.class],style:t.style},(g=a.default)==null?void 0:g.call(a))}}}),dF=H8("v-spacer","div","VSpacer"),sxe=["value"],ixe=["value"],axe=["value"],lxe={for:"appIncludeRatings"},cxe=["value"],uxe=["value"],dxe=["value"],fxe=["value"],mxe=["value"],gxe=["value"],hxe=["value"],pxe=["value"],bxe=["value"],zte={__name:"OwnSummaryIncludes",setup(t){const s=Fl(),a=ac(),u=Em(),g=q1(),h=ru();zn(!1),zn([{title:"Nicht einbeziehen",value:br.INCLUDE_NOT},{title:"informativ",value:br.INCLUDE_INFO},{title:"bewertungsrelevant",value:br.INCLUDE_RELEVANT}]);const x=zn({}),w=zn(!1);x.value=a.currentInclusionSettings;async function T(){if(s.showIncludesPopup){await Jo();const R=document.getElementById("app-own-summary-includes-container");for(const N of R.getElementsByTagName("label"))N.classList.contains("v-label")&&N.remove()}}Rn(()=>s.showIncludesPopup,T);function I(){x.value.include_comments==br.INCLUDE_NOT&&(x.value.include_comment_ratings=br.INCLUDE_NOT,x.value.include_comment_points=br.INCLUDE_NOT),a.editSummary.setData(x.value),w.value&&(g.setSummaryInclusions(x.value),w.value=!1),s.showIncludesPopup=!1}return(R,N)=>(On(),Bo("span",null,[N[18]||(N[18]=te("strong",null,"Einbeziehen:",-1)),xs(" "+pt(le(a).getInclusionText(le(a).editSummary))+" ",1),ie(lp,{"max-width":"50em",persistent:"",modelValue:le(s).showIncludesPopup,"onUpdate:modelValue":N[7]||(N[7]=H=>le(s).showIncludesPopup=H)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(pR,null,{default:xt(()=>N[8]||(N[8]=[xs("In die PDF-Dokumentation der Korrektur einbeziehen")])),_:1,__:[8]}),ie(jg,null,{default:xt(()=>[ie(E8,{id:"app-own-summary-includes-container"},{default:xt(()=>[ie(Wg,null,{default:xt(()=>[ie(La,null,{default:xt(()=>N[9]||(N[9]=[te("label",{for:"appIncludeComments"},"Markierungen und Anmerkungen",-1)])),_:1,__:[9]}),ie(La,null,{default:xt(()=>[Fn(te("select",{id:"appIncludeComments",class:"appIncludesSelect","onUpdate:modelValue":N[0]||(N[0]=H=>x.value.include_comments=H)},[te("option",{value:le(br).INCLUDE_NOT},"Nicht einbeziehen",8,sxe),te("option",{value:le(br).INCLUDE_INFO},"informativ",8,ixe),te("option",{value:le(br).INCLUDE_RELEVANT},"bewertungsrelevant",8,axe)],512),[[xB,x.value.include_comments]]),N[10]||(N[10]=te("small",null,"Es wird der abgegebene Text mit markierten Stellen und Anmerkungen am Rand eingefgt.",-1))]),_:1,__:[10]})]),_:1}),Fn(ie(Wg,null,{default:xt(()=>[ie(La,null,{default:xt(()=>[te("label",lxe,pt(le(h).ratingLabels),1)]),_:1}),ie(La,null,{default:xt(()=>[Fn(te("select",{id:"appIncludeRatings",class:"appIncludesSelect","onUpdate:modelValue":N[1]||(N[1]=H=>x.value.include_comment_ratings=H)},[te("option",{value:le(br).INCLUDE_NOT},"Nicht einbeziehen",8,cxe),te("option",{value:le(br).INCLUDE_INFO},"informativ",8,uxe),te("option",{value:le(br).INCLUDE_RELEVANT},"bewertungsrelevant",8,dxe)],512),[[xB,x.value.include_comment_ratings]]),N[11]||(N[11]=te("small",null,"Bei jeder Anmerkung wird die vergebene Auszeichnung angezeigt.",-1))]),_:1,__:[11]})]),_:1},512),[[Ao,x.value.include_comments>le(br).INCLUDE_NOT]]),Fn(ie(Wg,null,{default:xt(()=>[ie(La,null,{default:xt(()=>N[12]||(N[12]=[te("label",{for:"appIncludeCommentPoints"},"Punkte zu Anmerkungen",-1)])),_:1,__:[12]}),ie(La,null,{default:xt(()=>[Fn(te("select",{id:"appIncludeCommentPoints",class:"appIncludesSelect","onUpdate:modelValue":N[2]||(N[2]=H=>x.value.include_comment_points=H)},[te("option",{value:le(br).INCLUDE_NOT},"Nicht einbeziehen",8,fxe),te("option",{value:le(br).INCLUDE_INFO},"informativ",8,mxe),te("option",{value:le(br).INCLUDE_RELEVANT},"bewertungsrelevant",8,gxe)],512),[[xB,x.value.include_comment_points]]),N[13]||(N[13]=te("small",null,"Bei jeder Anmerkung wird die vergebene Punktzahl angezeigt.",-1))]),_:1,__:[13]})]),_:1},512),[[Ao,x.value.include_comments>le(br).INCLUDE_NOT]]),Fn(ie(Wg,null,{default:xt(()=>[ie(La,null,{default:xt(()=>N[14]||(N[14]=[te("label",{for:"appIncludeCriteriaPoints"},"Punkte zu Kriterien",-1)])),_:1,__:[14]}),ie(La,null,{default:xt(()=>[Fn(te("select",{id:"appIncludeCriteriaPoints",class:"appIncludesSelect","onUpdate:modelValue":N[3]||(N[3]=H=>x.value.include_criteria_points=H)},[te("option",{value:le(br).INCLUDE_NOT},"Nicht einbeziehen",8,hxe),te("option",{value:le(br).INCLUDE_INFO},"informativ",8,pxe),te("option",{value:le(br).INCLUDE_RELEVANT},"bewertungsrelevant",8,bxe)],512),[[xB,x.value.include_criteria_points]]),N[15]||(N[15]=te("small",null,"Es wird eine Tabelle mit den Kriterien und den dafr erreichten Punkten angezeigt.",-1))]),_:1,__:[15]})]),_:1},512),[[Ao,le(u).hasOwnCriteria]])]),_:1}),ie(j0e,{modelValue:w.value,"onUpdate:modelValue":N[4]||(N[4]=H=>w.value=H),label:"Als Vorgabe fr andere Korekturen bernehmen, bei denen noch keine Auswahl getroffen wurde. Bereits aktiv getroffene Auwahlen bleiben unverndert."},null,8,["modelValue"])]),_:1}),ie(Kg,null,{default:xt(()=>[ie(dF),ie(Co,{onClick:N[5]||(N[5]=H=>I())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-check"}),N[16]||(N[16]=te("span",null,"bernehmen",-1))]),_:1,__:[16]}),ie(Co,{onClick:N[6]||(N[6]=H=>le(s).showIncludesPopup=!1)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),N[17]||(N[17]=te("span",null,"Abbrechen",-1))]),_:1,__:[17]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},vxe={__name:"SumOfPoints",props:["corrector_key"],setup(t){const s=ru(),a=Yg(),u=Em(),g=t,h=u.getCorrectorHasGeneralCriteria(g.corrector_key),x=u.getCorrectorHasCommentCriteria(g.corrector_key);function w(){const T=a.getSumOfPointsForCorrector(g.corrector_key,!0),I=a.getSumOfPointsForCorrector(g.corrector_key,!1);return I+T==0?"":h?x?"("+T+" zu Kriterien bei Anmerkungen, "+I+" zu allgemeinen Kriterien)":"("+T+" zu Anmerkungen, "+I+" zu allgemeinen Kriterien)":x?"(zu Kriterien bei Anmerkungen)":"(zu Anmerkungen)"}return(T,I)=>(On(),Bo("span",null,[I[0]||(I[0]=te("strong",null,"Punktesumme: ",-1)),te("span",{class:go(le(a).getSumOfPointsForCorrector(g.corrector_key)>le(s).max_points?"red":"")},pt(le(a).getSumOfPointsForCorrector(g.corrector_key))+" von max. "+pt(le(s).max_points),3),xs(" "+pt(w()),1)]))}},wK=yl(vxe,[["__scopeId","data-v-c5a681fc"]]),yxe=H8("v-alert-title"),xxe=Ln({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function wxe(t,s){return{iconSize:Dt(()=>{const u=new Map(t.iconSizes),g=t.iconSize??s()??"default";return u.has(g)?u.get(g):g})}}const Cxe=["success","info","warning","error"],_xe=Ln({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:zs,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>Cxe.includes(t)},...zr(),...Jg(),...pp(),...c0(),...xxe(),...nF(),...cK(),...Am(),...ra(),...vl(),...d0({variant:"flat"})},"VAlert"),PB=Mo()({name:"VAlert",props:_xe(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,s){let{emit:a,slots:u}=s;const g=Ki(t,"modelValue"),h=gn(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:x}=wxe(t,()=>t.prominent?44:28),{themeClasses:w}=uc(t),{colorClasses:T,colorStyles:I,variantClasses:R}=PE(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:N}=hp(t),{dimensionStyles:H}=bp(t),{elevationClasses:W}=u0(t),{locationStyles:Z}=oF(t),{positionClasses:J}=uK(t),{roundedClasses:se}=Tm(t),{textColorClasses:j,textColorStyles:he}=mp(()=>t.borderColor),{t:ae}=uR(),U=gn(()=>({"aria-label":ae(t.closeLabel),onClick(de){g.value=!1,a("click:close",de)}}));return()=>{const de=!!(u.prepend||h.value),oe=!!(u.title||t.title),Ve=!!(u.close||t.closable),Me={density:t.density,icon:h.value,size:x.value};return g.value&&ie(t.tag,{class:go(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},w.value,T.value,N.value,W.value,J.value,se.value,R.value,t.class]),style:Ir([I.value,H.value,Z.value,t.style]),role:"alert"},{default:()=>{var Xe,rt;return[NE(!1,"v-alert"),t.border&&te("div",{key:"border",class:go(["v-alert__border",j.value]),style:Ir(he.value)},null),de&&te("div",{key:"prepend",class:"v-alert__prepend"},[u.prepend?ie(_a,{key:"prepend-defaults",disabled:!h.value,defaults:{VIcon:{...Me}}},u.prepend):ie(Un,Po({key:"prepend-icon"},Me),null)]),te("div",{class:"v-alert__content"},[oe&&ie(yxe,{key:"title"},{default:()=>{var Oe;return[((Oe=u.title)==null?void 0:Oe.call(u))??t.title]}}),((Xe=u.text)==null?void 0:Xe.call(u))??t.text,(rt=u.default)==null?void 0:rt.call(u)]),u.append&&te("div",{key:"append",class:"v-alert__append"},[u.append()]),Ve&&te("div",{key:"close",class:"v-alert__close"},[u.close?ie(_a,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Oe;return[(Oe=u.close)==null?void 0:Oe.call(u,{props:U.value})]}}):ie(Co,Po({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},U.value),null)])]}})}}}),Sxe={id:"app-authorization-wrapper"},kxe={class:"appRow"},Exe={class:"sr-only"},Axe=["innerHTML"],Txe={class:"appRow"},Oxe={class:"appRow"},Dxe={for:"appAuthorizationPoints"},Rxe=["max"],Ixe={class:"appRow"},Nxe={class:"sr-only"},Pxe={class:"appRow"},Lxe={class:"appRow"},Mxe={__name:"Authorization",setup(t){const s=ar(),a=Mb(),u=ru(),g=ac(),h=_x(),x=Fl(),w=Yg();yf();const T=Em(),{t:I}=G8.global;zn(!1);function R(){const Z=g.currentInclusionSettings,J=Z.include_comment_points>br.INCLUDE_NOT,se=T.hasOwnCriteria&&Z.include_criteria_points>br.INCLUDE_NOT;let j=0,he="";if(J&&se)j=w.getSumOfPointsForCorrector(s.correctorKey),he=I("authorizationPointsToCommentsAndCriteria",j);else if(J)j=w.getSumOfPointsForCorrector(s.correctorKey,!0),he=I("authorizationPointsToComments",j);else if(se)j=w.getSumOfPointsForCorrector(s.correctorKey,null,!0),he=I("authorizationPointsToCriteria",j);else return"";return j!=g.editSummary.points?I("authorizationPointsMismatch",[he]):""}async function N(){if(await g.setOwnAuthorized(),await s.saveChangesToBackend(!0)){s.setShowAuthorization(!1);let Z=a.getNextKey(s.itemKey);Z!=""&&s.loadItemFromBackend(Z)}else s.setShowAuthorization(!1),s.setShowSendFailure(!0)}async function H(){if(await g.setOwnAuthorized(),await s.saveChangesToBackend(!0))s.setShowAuthorization(!1),window.location=s.returnUrl;else{s.setShowAuthorization(!1),s.setShowSendFailure(!0);return}}function W(){s.showAuthorization=!1,x.showOwnSummaryText()}return(Z,J)=>(On(),Bo("div",Sxe,[Fn(ie(Co,{class:"app-header-item",disabled:le(s).isLoading||!le(a).authorizationAllowed,onClick:J[0]||(J[0]=se=>le(s).setShowAuthorization(!0))},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-file-certificate-outline"}),te("span",null,pt(Z.$t("authorizationButton")),1)]),_:1},8,["disabled"]),[[Ao,!le(g).isOwnDisabled]]),ie(lp,{"max-width":"60em",persistent:"",modelValue:le(s).showAuthorization,"onUpdate:modelValue":J[7]||(J[7]=se=>le(s).showAuthorization=se)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(pR,null,{default:xt(()=>[xs(pt(Z.$t("authorizationTitle",[le(a).currentItem.title])),1)]),_:1}),ie(jg,null,{default:xt(()=>[te("div",kxe,[te("strong",null,pt(Z.$t("authorizationSummaryLabel")),1),ie(Co,{density:"compact",variant:"text",onClick:J[1]||(J[1]=se=>W())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-pencil"}),te("span",Exe,pt(Z.$t("authorizationSummaryEdit")),1)]),_:1}),te("div",{class:"appText long-essay-content headlines-three",innerHTML:le(g).editSummary.text},null,8,Axe)]),te("div",Txe,[ie(wK,{class:"sumOfPoints",corrector_key:le(s).correctorKey},null,8,["corrector_key"])]),te("div",Oxe,[te("label",Dxe,[te("strong",null,pt(Z.$t("authorizationPointsLabel")),1)]),Fn(te("input",{id:"appAuthorizationPoints",class:"appPoints",type:"number",min:"0",max:le(u).max_points,"onUpdate:modelValue":J[2]||(J[2]=se=>le(g).editSummary.points=se)},null,8,Rxe),[[t0,le(g).editSummary.points]]),xs(pt(Z.$t("authorizationPointsSuffix"))+"  ",1),te("strong",null,pt(Z.$t("authorizationGradeTitle")),1),xs(" "+pt(le(g).currentGradeTitle),1)]),te("div",Ixe,[le(u).inclusionsPossible?(On(),es(zte,{key:0})):vr("",!0),le(u).inclusionsChangeable?(On(),es(Co,{key:1,density:"compact",variant:"text",disabled:le(g).isOwnDisabled,onClick:J[3]||(J[3]=se=>le(x).showIncludesPopup=!0)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-pencil"}),te("span",Nxe,pt(Z.$t("authorizationEditIncludes")),1)]),_:1},8,["disabled"])):vr("",!0)]),te("div",Pxe,[Fn(ie(PB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[xs(pt(Z.$t("authorizationPleaseEnterSummary")),1)]),_:1},512),[[Ao,le(g).editSummary.text==""]]),Fn(ie(PB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[xs(pt(Z.$t("authorizationPleaseEnterPoints")),1)]),_:1},512),[[Ao,le(h).hasLevels&&le(g).editSummary.points===null]]),Fn(ie(PB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[xs(pt(R()),1)]),_:1},512),[[Ao,R()!=""]]),Fn(ie(PB,{color:"#0000A0",type:"info",variant:"text",density:"compact"},{default:xt(()=>[xs(pt(Z.$t("authorizationWarnStitchDecision",[le(g).stitchReasonText])),1)]),_:1},512),[[Ao,le(g).areOthersAuthorized&&le(g).stitchReasonText!=""]])]),te("div",Lxe,pt(Z.$t("authorizationWarnFinalize")),1)]),_:1}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:J[4]||(J[4]=se=>N())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-check"}),te("span",null,pt(Z.$t("authorizationAuthorizeAndContinue")),1)]),_:1}),ie(Co,{onClick:J[5]||(J[5]=se=>H())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-check"}),te("span",null,pt(Z.$t("authorizationAuthorizeAndClose")),1)]),_:1}),ie(Co,{onClick:J[6]||(J[6]=se=>{le(s).setShowAuthorization(!1)})},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),te("span",null,pt(Z.$t("allCancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Bxe=yl(Mxe,[["__scopeId","data-v-ae667462"]]),Hte=Ln({text:String,...zr(),...ra()},"VToolbarTitle"),Ute=Mo()({name:"VToolbarTitle",props:Hte(),setup(t,s){let{slots:a}=s;return xr(()=>{const u=!!(a.default||a.text||t.text);return ie(t.tag,{class:go(["v-toolbar-title",t.class]),style:Ir(t.style)},{default:()=>{var g;return[u&&te("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():t.text,(g=a.default)==null?void 0:g.call(a)])]}})}),{}}}),Fxe=[null,"prominent","default","comfortable","compact"],Wte=Ln({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Fxe.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...a0(),...zr(),...c0(),...Am(),...ra({tag:"header"}),...vl()},"VToolbar"),cX=Mo()({name:"VToolbar",props:Wte(),setup(t,s){var W;let{slots:a}=s;const{backgroundColorClasses:u,backgroundColorStyles:g}=up(()=>t.color),{borderClasses:h}=l0(t),{elevationClasses:x}=u0(t),{roundedClasses:w}=Tm(t),{themeClasses:T}=uc(t),{rtlClasses:I}=Xg(),R=ho(t.extended===null?!!((W=a.extension)!=null&&W.call(a)):t.extended),N=Dt(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),H=Dt(()=>R.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Ex({VBtn:{variant:"text"}}),xr(()=>{var j;const Z=!!(t.title||a.title),J=!!(a.image||t.image),se=(j=a.extension)==null?void 0:j.call(a);return R.value=t.extended===null?!!se:t.extended,ie(t.tag,{class:go(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},u.value,h.value,x.value,w.value,T.value,I.value,t.class]),style:Ir([g.value,t.style])},{default:()=>[J&&te("div",{key:"image",class:"v-toolbar__image"},[a.image?ie(_a,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},a.image):ie(bR,{key:"image-img",cover:!0,src:t.image},null)]),ie(_a,{defaults:{VTabs:{height:yr(N.value)}}},{default:()=>{var he,ae,U;return[te("div",{class:"v-toolbar__content",style:{height:yr(N.value)}},[a.prepend&&te("div",{class:"v-toolbar__prepend"},[(he=a.prepend)==null?void 0:he.call(a)]),Z&&ie(Ute,{key:"title",text:t.title},{text:a.title}),(ae=a.default)==null?void 0:ae.call(a),a.append&&te("div",{class:"v-toolbar__append"},[(U=a.append)==null?void 0:U.call(a)])])]}}),ie(_a,{defaults:{VTabs:{height:yr(H.value)}}},{default:()=>[ie(Kee,null,{default:()=>[R.value&&te("div",{class:"v-toolbar__extension",style:{height:yr(H.value)}},[se])]})]})]})}),{contentHeight:N,extensionHeight:H}}}),$xe=Ln({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Vxe(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=s;let u=0,g=0;const h=zn(null),x=ho(0),w=ho(0),T=ho(0),I=ho(!1),R=ho(!1),N=Dt(()=>Number(t.scrollThreshold)),H=Dt(()=>wf((N.value-x.value)/N.value||0)),W=()=>{const Z=h.value;if(!Z||a&&!a.value)return;u=x.value,x.value="window"in Z?Z.pageYOffset:Z.scrollTop;const J=Z instanceof Window?document.documentElement.scrollHeight:Z.scrollHeight;if(g!==J){g=J;return}R.value=x.value<u,T.value=Math.abs(x.value-N.value)};return Rn(R,()=>{w.value=w.value||x.value}),Rn(I,()=>{w.value=0}),Ku(()=>{Rn(()=>t.scrollTarget,Z=>{var se;const J=Z?document.querySelector(Z):window;J&&J!==h.value&&((se=h.value)==null||se.removeEventListener("scroll",W),h.value=J,h.value.addEventListener("scroll",W,{passive:!0}))},{immediate:!0})}),Dc(()=>{var Z;(Z=h.value)==null||Z.removeEventListener("scroll",W)}),a&&Rn(a,W,{immediate:!0}),{scrollThreshold:N,currentScroll:x,currentThreshold:T,isScrollActive:I,scrollRatio:H,isScrollingUp:R,savedScroll:w}}const zxe=Ln({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Wte(),...OQ(),...$xe(),height:{type:[Number,String],default:64}},"VAppBar"),Kte=Mo()({name:"VAppBar",props:zxe(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:a}=s;const u=zn(),g=Ki(t,"modelValue"),h=Dt(()=>{var ae;const he=new Set(((ae=t.scrollBehavior)==null?void 0:ae.split(" "))??[]);return{hide:he.has("hide"),fullyHide:he.has("fully-hide"),inverted:he.has("inverted"),collapse:he.has("collapse"),elevate:he.has("elevate"),fadeImage:he.has("fade-image")}}),x=Dt(()=>{const he=h.value;return he.hide||he.fullyHide||he.inverted||he.collapse||he.elevate||he.fadeImage||!g.value}),{currentScroll:w,scrollThreshold:T,isScrollingUp:I,scrollRatio:R}=Vxe(t,{canScroll:x}),N=gn(()=>h.value.hide||h.value.fullyHide),H=Dt(()=>t.collapse||h.value.collapse&&(h.value.inverted?R.value>0:R.value===0)),W=Dt(()=>t.flat||h.value.fullyHide&&!g.value||h.value.elevate&&(h.value.inverted?w.value>0:w.value===0)),Z=Dt(()=>h.value.fadeImage?h.value.inverted?1-R.value:R.value:void 0),J=Dt(()=>{var U,de;if(h.value.hide&&h.value.inverted)return 0;const he=((U=u.value)==null?void 0:U.contentHeight)??0,ae=((de=u.value)==null?void 0:de.extensionHeight)??0;return N.value?w.value<T.value||h.value.fullyHide?he+ae:he:he+ae});Gg(()=>!!t.scrollBehavior,()=>{Md(()=>{N.value?h.value.inverted?g.value=w.value>T.value:g.value=I.value||w.value<T.value:g.value=!0})});const{ssrBootStyles:se}=cF(),{layoutItemStyles:j}=DQ({id:t.name,order:Dt(()=>parseInt(t.order,10)),position:gn(()=>t.location),layoutSize:J,elementSize:ho(void 0),active:g,absolute:gn(()=>t.absolute)});return xr(()=>{const he=cX.filterProps(t);return ie(cX,Po({ref:u,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...j.value,"--v-toolbar-image-opacity":Z.value,height:void 0,...se.value},t.style]},he,{collapse:H.value,flat:W.value}),a)}),{}}}),Hxe=Mo()({name:"VAppBarTitle",props:Hte(),setup(t,s){let{slots:a}=s;return xr(()=>ie(Ute,Po(t,{class:"v-app-bar-title"}),a)),{}}}),Uxe={__name:"AppBar",setup(t){const s=ar(),a=Cx(),u=Qa(),g=Fl();async function h(){if(g.focusTarget=="header"){await Jo();for(const w of document.getElementsByClassName("app-header-item"))if(!w.disabled){w.focus();break}}}Rn(()=>g.focusChange,h);async function x(){!await u.hasChangesInStorage()||await s.saveChangesToBackend(!0)?window.location=s.returnUrl:s.setShowSendFailure(!0)}return(w,T)=>(On(),es(Kte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[ie(Hxe,null,{default:xt(()=>[xs(pt(le(a).title),1)]),_:1}),ie(dF),ie(Uye),ie(P0e),!le(s).isReview&&!le(s).isStitchDecision?(On(),es(Bxe,{key:0})):vr("",!0),le(s).isStitchDecision?(On(),es(Gye,{key:1})):vr("",!0),ie(Co,{class:"app-header-item",onClick:T[0]||(T[0]=I=>x())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),te("span",null,pt(w.$t("appBarReturn")),1)]),_:1})]),_:1}))}};function Wxe(t){let{rootEl:s,isSticky:a,layoutItemStyles:u}=t;const g=ho(!1),h=ho(0),x=Dt(()=>{const I=typeof g.value=="boolean"?"top":g.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,g.value?{[I]:yr(h.value)}:{top:u.value.top}]});Ku(()=>{Rn(a,I=>{I?window.addEventListener("scroll",T,{passive:!0}):window.removeEventListener("scroll",T)},{immediate:!0})}),Dc(()=>{window.removeEventListener("scroll",T)});let w=0;function T(){const I=w>window.scrollY?"up":"down",R=s.value.getBoundingClientRect(),N=parseFloat(u.value.top??0),H=window.scrollY-Math.max(0,h.value-N),W=R.height+Math.max(h.value,N)-window.scrollY-window.innerHeight,Z=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;R.height<window.innerHeight-N?(g.value="top",h.value=N):I==="up"&&g.value==="bottom"||I==="down"&&g.value==="top"?(h.value=window.scrollY+R.top-Z,g.value=!0):I==="down"&&W<=0?(h.value=0,g.value="bottom"):I==="up"&&H<=0&&(Z?g.value!=="top"&&(h.value=-H+Z+N,g.value="top"):(h.value=R.top+H,g.value="top")),w=window.scrollY}return{isStuck:g,stickyStyles:x}}const Kxe=100,jxe=20;function uX(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function dX(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let s=0;for(let a=t.length-1;a>0;a--){if(t[a].t===t[a-1].t)continue;const u=uX(s),g=(t[a].d-t[a-1].d)/(t[a].t-t[a-1].t);s+=(g-u)*Math.abs(g),a===t.length-1&&(s*=.5)}return uX(s)*1e3}function Zxe(){const t={};function s(g){Array.from(g.changedTouches).forEach(h=>{(t[h.identifier]??(t[h.identifier]=new oQ(jxe))).push([g.timeStamp,h])})}function a(g){Array.from(g.changedTouches).forEach(h=>{delete t[h.identifier]})}function u(g){var I;const h=(I=t[g])==null?void 0:I.values().reverse();if(!h)throw new Error(`No samples for touch id ${g}`);const x=h[0],w=[],T=[];for(const R of h){if(x[0]-R[0]>Kxe)break;w.push({t:R[0],d:R[1].clientX}),T.push({t:R[0],d:R[1].clientY})}return{x:dX(w),y:dX(T),get direction(){const{x:R,y:N}=this,[H,W]=[Math.abs(R),Math.abs(N)];return H>W&&R>=0?"right":H>W&&R<=0?"left":W>H&&N>=0?"down":W>H&&N<=0?"up":Gxe()}}}return{addMovement:s,endTouch:a,getVelocity:u}}function Gxe(){throw new Error}function qxe(t){let{el:s,isActive:a,isTemporary:u,width:g,touchless:h,position:x}=t;Ku(()=>{window.addEventListener("touchstart",he,{passive:!0}),window.addEventListener("touchmove",ae,{passive:!1}),window.addEventListener("touchend",U,{passive:!0})}),Dc(()=>{window.removeEventListener("touchstart",he),window.removeEventListener("touchmove",ae),window.removeEventListener("touchend",U)});const w=Dt(()=>["left","right"].includes(x.value)),{addMovement:T,endTouch:I,getVelocity:R}=Zxe();let N=!1;const H=ho(!1),W=ho(0),Z=ho(0);let J;function se(oe,Ve){return(x.value==="left"?oe:x.value==="right"?document.documentElement.clientWidth-oe:x.value==="top"?oe:x.value==="bottom"?document.documentElement.clientHeight-oe:rE())-(Ve?g.value:0)}function j(oe){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const Me=x.value==="left"?(oe-Z.value)/g.value:x.value==="right"?(document.documentElement.clientWidth-oe-Z.value)/g.value:x.value==="top"?(oe-Z.value)/g.value:x.value==="bottom"?(document.documentElement.clientHeight-oe-Z.value)/g.value:rE();return Ve?wf(Me):Me}function he(oe){if(h.value)return;const Ve=oe.changedTouches[0].clientX,Me=oe.changedTouches[0].clientY,Xe=25,rt=x.value==="left"?Ve<Xe:x.value==="right"?Ve>document.documentElement.clientWidth-Xe:x.value==="top"?Me<Xe:x.value==="bottom"?Me>document.documentElement.clientHeight-Xe:rE(),Oe=a.value&&(x.value==="left"?Ve<g.value:x.value==="right"?Ve>document.documentElement.clientWidth-g.value:x.value==="top"?Me<g.value:x.value==="bottom"?Me>document.documentElement.clientHeight-g.value:rE());(rt||Oe||a.value&&u.value)&&(J=[Ve,Me],Z.value=se(w.value?Ve:Me,a.value),W.value=j(w.value?Ve:Me),N=Z.value>-20&&Z.value<80,I(oe),T(oe))}function ae(oe){const Ve=oe.changedTouches[0].clientX,Me=oe.changedTouches[0].clientY;if(N){if(!oe.cancelable){N=!1;return}const rt=Math.abs(Ve-J[0]),Oe=Math.abs(Me-J[1]);(w.value?rt>Oe&&rt>3:Oe>rt&&Oe>3)?(H.value=!0,N=!1):(w.value?Oe:rt)>3&&(N=!1)}if(!H.value)return;oe.preventDefault(),T(oe);const Xe=j(w.value?Ve:Me,!1);W.value=Math.max(0,Math.min(1,Xe)),Xe>1?Z.value=se(w.value?Ve:Me,!0):Xe<0&&(Z.value=se(w.value?Ve:Me,!1))}function U(oe){if(N=!1,!H.value)return;T(oe),H.value=!1;const Ve=R(oe.changedTouches[0].identifier),Me=Math.abs(Ve.x),Xe=Math.abs(Ve.y);(w.value?Me>Xe&&Me>400:Xe>Me&&Xe>3)?a.value=Ve.direction===({left:"right",right:"left",top:"down",bottom:"up"}[x.value]||rE()):a.value=W.value>.5}const de=Dt(()=>H.value?{transform:x.value==="left"?`translateX(calc(-100% + ${W.value*g.value}px))`:x.value==="right"?`translateX(calc(100% - ${W.value*g.value}px))`:x.value==="top"?`translateY(calc(-100% + ${W.value*g.value}px))`:x.value==="bottom"?`translateY(calc(100% - ${W.value*g.value}px))`:rE(),transition:"none"}:void 0);return Gg(H,()=>{var Me,Xe;const oe=((Me=s.value)==null?void 0:Me.style.transform)??null,Ve=((Xe=s.value)==null?void 0:Xe.style.transition)??null;Md(()=>{var rt,Oe,Te,D;(Oe=s.value)==null||Oe.style.setProperty("transform",((rt=de.value)==null?void 0:rt.transform)||"none"),(D=s.value)==null||D.style.setProperty("transition",((Te=de.value)==null?void 0:Te.transition)||null)}),cc(()=>{var rt,Oe;(rt=s.value)==null||rt.style.setProperty("transform",oe),(Oe=s.value)==null||Oe.style.setProperty("transition",Ve)})}),{isDragging:H,dragProgress:W,dragStyles:de}}function rE(){throw new Error}const Yxe=["start","end","left","right","top","bottom"],Xxe=Ln({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Yxe.includes(t)},sticky:Boolean,...a0(),...zr(),...qee(),..._Q({mobile:null}),...c0(),...OQ(),...Am(),...ra({tag:"nav"}),...vl()},"VNavigationDrawer"),Jxe=Mo()({name:"VNavigationDrawer",props:Xxe(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const{isRtl:h}=Xg(),{themeClasses:x}=uc(t),{borderClasses:w}=l0(t),{backgroundColorClasses:T,backgroundColorStyles:I}=up(()=>t.color),{elevationClasses:R}=u0(t),{displayClasses:N,mobile:H}=W8(t),{roundedClasses:W}=Tm(t),Z=Iee(),J=Ki(t,"modelValue",null,Et=>!!Et),{ssrBootStyles:se}=cF(),{scopeId:j}=iF(),he=zn(),ae=ho(!1),{runOpenDelay:U,runCloseDelay:de}=Yee(t,Et=>{ae.value=Et}),oe=Dt(()=>t.rail&&t.expandOnHover&&ae.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),Ve=Dt(()=>HU(t.location,h.value)),Me=gn(()=>t.persistent),Xe=Dt(()=>!t.permanent&&(H.value||t.temporary)),rt=Dt(()=>t.sticky&&!Xe.value&&Ve.value!=="bottom");Gg(()=>t.expandOnHover&&t.rail!=null,()=>{Rn(ae,Et=>u("update:rail",!Et))}),Gg(()=>!t.disableResizeWatcher,()=>{Rn(Xe,Et=>!t.permanent&&Jo(()=>J.value=!Et))}),Gg(()=>!t.disableRouteWatcher&&!!Z,()=>{Rn(Z.currentRoute,()=>Xe.value&&(J.value=!1))}),Rn(()=>t.permanent,Et=>{Et&&(J.value=!0)}),t.modelValue==null&&!Xe.value&&(J.value=t.permanent||!H.value);const{isDragging:Oe,dragProgress:Te}=qxe({el:he,isActive:J,isTemporary:Xe,width:oe,touchless:gn(()=>t.touchless),position:Ve}),D=Dt(()=>{const Et=Xe.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):oe.value;return Oe.value?Et*Te.value:Et}),{layoutItemStyles:qe,layoutItemScrimStyles:lt}=DQ({id:t.name,order:Dt(()=>parseInt(t.order,10)),position:Ve,layoutSize:D,elementSize:oe,active:AE(J),disableTransitions:gn(()=>Oe.value),absolute:Dt(()=>t.absolute||rt.value&&typeof zt.value!="string")}),{isStuck:zt,stickyStyles:Yt}=Wxe({rootEl:he,isSticky:rt,layoutItemStyles:qe}),ct=up(()=>typeof t.scrim=="string"?t.scrim:null),kn=Dt(()=>({...Oe.value?{opacity:Te.value*.2,transition:"none"}:void 0,...lt.value}));return Ex({VList:{bgColor:"transparent"}}),xr(()=>{const Et=g.image||t.image;return te(lr,null,[ie(t.tag,Po({ref:he,onMouseenter:U,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${Ve.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":ae.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":Xe.value,"v-navigation-drawer--persistent":Me.value,"v-navigation-drawer--active":J.value,"v-navigation-drawer--sticky":rt.value},x.value,T.value,w.value,N.value,R.value,W.value,t.class],style:[I.value,qe.value,se.value,Yt.value,t.style]},j,a),{default:()=>{var Qe,Le,ft;return[Et&&te("div",{key:"image",class:"v-navigation-drawer__img"},[g.image?ie(_a,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},g.image):ie(bR,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),g.prepend&&te("div",{class:"v-navigation-drawer__prepend"},[(Qe=g.prepend)==null?void 0:Qe.call(g)]),te("div",{class:"v-navigation-drawer__content"},[(Le=g.default)==null?void 0:Le.call(g)]),g.append&&te("div",{class:"v-navigation-drawer__append"},[(ft=g.append)==null?void 0:ft.call(g)])]}}),ie(wx,{name:"fade-transition"},{default:()=>[Xe.value&&(Oe.value||J.value)&&!!t.scrim&&te("div",Po({class:["v-navigation-drawer__scrim",ct.backgroundColorClasses.value],style:[kn.value,ct.backgroundColorStyles.value],onClick:()=>{Me.value||(J.value=!1)}},j),null)]})])}),{isStuck:zt}}}),Qxe={__name:"NavBar",setup(t){const s=ar(),a=Fl(),u=BC(),g=Vb(),h=Cx(),x=Qa();async function w(){if(a.focusTarget=="navigation"){await Jo();for(const he of document.getElementsByClassName("app-navigation-item")){he.focus();break}}}Rn(()=>a.focusChange,w);function T(){return x.countChanges==0}function I(){return s.lastSendingTry>0}function R(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseenter"))}function N(){document.getElementById("app-navigation-drawer").dispatchEvent(new Event("mouseleave"))}function H(he){he.keyCode==27?N():a.handleKeyDown(he)}function W(he){he.type=="url"&&!he.embedded?window.open(he.source,"long-essay-writer-resource-"+he.key):(u.selectResource(he),a.showResources())}function Z(he){a.selectCorrector(he.corrector_key)}function J(he){switch(he.type){case"url":return u.getResourceIsActive(he)&&a.isResourcesVisible?"mdi-file-link":"mdi-file-link-outline";default:return u.getResourceIsActive(he)&&a.isResourcesVisible?"mdi-file":"mdi-file-outline"}}function se(he){return he.title+" - "+he.initials+" "+g.getPositionText(he.corrector_key)+(a.getCorrectorIsVisible(he.corrector_key)?" (ausgewhlt)":"")}function j(he){return a.getCorrectorIsVisible(he.corrector_key)?"mdi-account-school":"mdi-account-school-outline"}return(he,ae)=>(On(),es(Jxe,{id:"app-navigation-drawer",elevation:"2",width:"500",permanent:"",rail:"","expand-on-hover":"",onFocusin:R,onFocusout:N,onKeydown:H},{append:xt(()=>[ie(ZD,{tabindex:"-1"},{default:xt(()=>[ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[7]||(ae[7]=U=>{le(s).saveChangesToBackend()}),disabled:T(),"aria-label":I()?"nderungen werden gesendet":T()?"Alles gesendet":"Letzte nderung senden",title:I()?"nderungen werden gesendet":T()?"Alles gesendet":"Letzte nderung senden",ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:I()?"mdi-cloud-upload":T()?"mdi-cloud-check-outline":"mdi-cloud-outline"},null,8,["icon"])]),_:1},8,["disabled","aria-label","title"])]),_:1})]),default:xt(()=>[ie(ZD,{tabindex:"-1"},{default:xt(()=>[Fn(ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[0]||(ae[0]=U=>{le(a).showInstructions()}),"aria-label":"Aufgabenstellung"+le(a).isInstructionsVisible?", ist ausgewhlt":"",title:"Aufgabenstellung"+(le(a).isInstructionsVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isInstructionsVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,le(h).hasInstructions]]),Fn(ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[1]||(ae[1]=U=>{le(a).showInstructionsPdf()}),"aria-label":"Aufgabenstellung als PDF"+(le(a).isInstructionsPdfVisible?", ist ausgewhlt":""),title:"Aufgabenstellung als PDF"+(le(a).isInstructionsPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isInstructionsPdfVisible?"mdi-text-box":"mdi-text-box-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,le(u).hasInstruction]]),Fn(ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[2]||(ae[2]=U=>{le(a).showSolution()}),"aria-label":"Lsungshinweise"+(le(a).isSolutionVisible?", ist ausgewhlt":""),title:"Lsungshinweise"+(le(a).isSolutionVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isSolutionVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,le(h).hasSolution]]),Fn(ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[3]||(ae[3]=U=>{le(a).showSolutionPdf()}),"aria-label":"Lsungshinweise als PDF"+(le(a).isSolutionPdfVisible?", ist ausgewhlt":""),title:"Lsungshinweise als PDF"+(le(a).isSolutionPdfVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isSolutionPdfVisible?"mdi-text-box-check":"mdi-text-box-check-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),[[Ao,le(u).hasSolution]]),ie(DC,{class:"border-opacity-75"}),(On(!0),Bo(lr,null,Q1(le(u).fileOrUrlResources,U=>(On(),es(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:de=>{W(U)},"aria-label":U.title+(le(u).getResourceIsActive(U)&&le(a).isResourcesVisible?", ist ausgewhlt":""),title:U.title+(le(u).getResourceIsActive(U)&&le(a).isResourcesVisible?" (ausgewhlt)":""),key:U.key,ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:J(U)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),ie(DC,{class:"border-opacity-75"}),ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[4]||(ae[4]=U=>{le(a).showEssay()}),"aria-label":"Abgegebener Text"+(le(a).isEssayVisible?", ist ausgewhlt":""),title:"Abgegebener Text"+(le(a).isEssayVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isEssayVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ie(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[5]||(ae[5]=U=>{le(a).showMarking()}),"aria-label":"Korrektur"+(le(a).isMarkingVisible?", ist ausgewhlt":""),title:"Korrektur"+(le(a).isMarkingVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isMarkingVisible?"mdi-comment-edit":"mdi-comment-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"]),ie(DC,{class:"border-opacity-75"}),(On(!0),Bo(lr,null,Q1(le(g).otherCorrectors,U=>(On(),es(Tc,{"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:de=>{Z(U)},"aria-label":se(U)+(le(a).getCorrectorIsVisible(U.corrector_key)?", ist ausgewhlt":""),title:se(U)+(le(a).getCorrectorIsVisible(U.corrector_key)?" (ausgewhlt)":""),key:U.corrector_key,ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:j(U)},null,8,["icon"])]),_:2},1032,["onClick","aria-label","title"]))),128)),le(s).isForReviewOrStitch?vr("",!0):(On(),es(Tc,{key:0,"aria-role":"button",class:"app-navigation-item",tabindex:"0",onClick:ae[6]||(ae[6]=U=>{le(a).showSummary()}),"aria-label":"Gesamteindruck"+(le(a).isSummaryVisible?", ist ausgewhlt":""),title:"Gesamteindruck"+(le(a).isSummaryVisible?" (ausgewhlt)":""),ripple:!1},{prepend:xt(()=>[ie(Un,{"aria-role":"hidden",icon:le(a).isSummaryVisible?"mdi-file-edit":"mdi-file-edit-outline"},null,8,["icon"])]),_:1},8,["aria-label","title"])),ie(DC,{class:"border-opacity-75"})]),_:1})]),_:1}))}},e2e=yl(Qxe,[["__scopeId","data-v-cf8c3e2b"]]),t2e=["innerHTML"],n2e={__name:"Instructions",setup(t){const s=Cx(),a=Fl();function u(h){return h.preventDefault(),!1}async function g(){a.focusTarget=="instructions"&&(await Jo(),document.getElementById("app-instructions").focus())}return g(),Rn(()=>a.focusChange,g),(h,x)=>(On(),Bo("div",{id:"app-instructions",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:le(s).instructions},null,40,t2e))}},o2e=yl(n2e,[["__scopeId","data-v-f51945de"]]),r2e=["data"],s2e={__name:"InstructionsPdf",setup(t){const a=BC().instruction;return(u,g)=>(On(),Bo("div",null,[le(a).mimetype=="application/pdf"?(On(),Bo("object",{key:0,type:"application/pdf",data:le(a).url,width:"100%",height:"100%"},null,8,r2e)):vr("",!0)]))}},i2e=yl(s2e,[["__scopeId","data-v-21afefc7"]]),a2e=["innerHTML"],l2e={__name:"Solution",setup(t){const s=Cx(),a=Fl();function u(h){return h.preventDefault(),!1}async function g(){a.focusTarget=="solution"&&(await Jo(),document.getElementById("app-solution").focus())}return g(),Rn(()=>a.focusChange,g),(h,x)=>(On(),Bo("div",{id:"app-solution",class:"long-essay-content",contenteditable:"true",onBeforeinput:u,innerHTML:le(s).solution},null,40,a2e))}},c2e=yl(l2e,[["__scopeId","data-v-39abf810"]]),u2e=["data"],d2e={__name:"SolutionPdf",setup(t){const a=BC().solution;return(u,g)=>(On(),Bo("div",null,[le(a).mimetype=="application/pdf"?(On(),Bo("object",{key:0,type:"application/pdf",data:le(a).url,width:"100%",height:"100%"},null,8,u2e)):vr("",!0)]))}},f2e=yl(d2e,[["__scopeId","data-v-d1f5bdf9"]]),m2e={class:"resources"},g2e={key:0},h2e=["data"],p2e={key:1},b2e=["src"],v2e={__name:"Resources",setup(t){const s=BC();return(a,u)=>(On(),Bo("div",m2e,[(On(!0),Bo(lr,null,Q1(le(s).fileOrUrlResources,g=>(On(),Bo(lr,{key:g.key},[g.type=="file"?Fn((On(),Bo("div",g2e,[g.mimetype=="application/pdf"?(On(),Bo("object",{key:0,type:"application/pdf",data:g.url,width:"100%",height:"100%"},null,8,h2e)):vr("",!0)],512)),[[Ao,le(s).getResourceIsActive(g)]]):vr("",!0),g.type=="url"&&g.embedded==!0?Fn((On(),Bo("div",p2e,[te("iframe",{src:g.source,width:"100%",height:"100%",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,b2e)],512)),[[Ao,le(s).getResourceIsActive(g)]]):vr("",!0)],64))),128))]))}},y2e=yl(v2e,[["__scopeId","data-v-5254b7f8"]]);class x2e{constructor(s,a,u){xn(this,"observer",null);xn(this,"marks",[]);if(!s)throw new Error("Missing anchor element");this.el=s,a instanceof Function&&(this.onSelection=a,this.el.addEventListener("mouseup",this.selectionHandler.bind(this)),this.el.addEventListener("touchend",this.selectionHandler.bind(this)),this.el.addEventListener("keydown",this.keydownHandler.bind(this))),u instanceof Function&&(this.onIntersection=u,this.observer=new IntersectionObserver(this.intersectionHandler.bind(this),{root:this.el,threshold:[1]}))}onSelection(s){}onIntersection(s){}keydownHandler(s){switch(s.key){case"Enter":s.preventDefault(),this.selectionHandler(s);break;case"Escape":s.preventDefault(),this.removeSelection();break}}selectionHandler(s){let a=this.getSelectionData();a.mouseX=s.clientX,a.mouseY=s.clientY,a.firstWord>0&&a.lastWord>0&&this.onSelection(a)}intersectionHandler(s){let a=0;this.marks.forEach(u=>{(a==0||u.firstWord<a)&&this.isMarkVisible(u.firstWord,u.lastWord)&&(a=u.firstWord)}),this.onIntersection(a)}removeSelection(){window.getSelection().collapseToEnd()}getSelectionData(){const s=window.getSelection(),a=s.getRangeAt(0);if(!s||!a)return{};let u=a.commonAncestorContainer;u.nodeType==3&&(u=u.parentNode.parentNode);let g=0,h=0,x=0;return u.querySelectorAll("w-p").forEach(w=>{if(s.containsNode(w,!0)){let T=parseInt(w.getAttribute("w")),I=parseInt(w.getAttribute("p"));(g==0||T<g)&&(g=T,x=I),T>h&&(h=T)}}),{firstWord:g,lastWord:h,parentNumber:x,isCollapsed:s.isCollapsed}}addLabel(s,a,u){let g=this.el.querySelector('w-p[w="'+u+'"]');g&&(g.setAttribute("label",a),g.classList.add(s))}showMark(s,a,u){this.marks.push({cssClass:s,firstWord:a,lastWord:u}),this.el.querySelectorAll("w-p").forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=a&&h<=u&&g.classList.add(s),this.observer&&(h==a||h==u)&&this.observer.observe(g)})}hideMark(s,a,u){this.marks=this.marks.filter(g=>g.cssClass!=s||g.firstWord!=a||g.lastWord!=u),this.el.querySelectorAll("w-p."+s).forEach(g=>{let h=parseInt(g.getAttribute("w"));h>=a&&h<=u&&g.classList.remove(s),this.observer&&(h==a||h==u)&&this.observer.unobserve(g)})}hideAllMarksOfClass(s){this.marks=this.marks.filter(a=>a.cssClass!=s),this.el.querySelectorAll("w-p."+s).forEach(a=>{a.classList.remove(s)})}hideAllMarksAndLabels(){this.marks=[],this.el.querySelectorAll("w-p[class]").forEach(s=>{s.classList.value=""}),this.observer&&this.observer.disconnect()}hideSelection(){}scrollToMark(s,a){if(!this.isMarkVisible(s,a,!0)){const u=this.el.querySelector('w-p[w="'+s+'"]');u&&u.scrollIntoView()}}setCaretToMark(s){const a=this.el.querySelector('w-p[w="'+s+'"]').childNodes[0];if(a){let u=document.createRange(),g=window.getSelection();u.setStart(a,0),u.collapse(!0),g.removeAllRanges(),g.addRange(u)}}isMarkVisible(s,a,u){const g=this.el.querySelector('w-p[w="'+s+'"]'),h=this.el.querySelector('w-p[w="'+a+'"]');if(!g||!h)return!1;const x=this.el.getBoundingClientRect(),w=g.getBoundingClientRect(),T=h.getBoundingClientRect(),I=w.top>=x.top&&w.bottom<=x.bottom,R=T.top>=x.top&&T.bottom<=x.bottom;return u?I&&R:I||R}}const w2e={id:"app-essay-wrapper"},C2e={class:"appTextButtons"},_2e=["innerHTML"],S2e={__name:"Essay",setup(t){const s=HD(),a=yf(),u=ac(),g=q1(),h=ru(),x=Fl();let w;Ku(()=>{he(),w=new x2e(document.getElementById("app-essay"),Z,J),a.activeComments.forEach(ae=>W(ae))});function T(ae){return ae.preventDefault(),!1}async function I(){x.focusTarget=="essay"&&(await Jo(),document.getElementById("app-essay").focus())}I(),Rn(()=>x.focusChange,I);function R(){w.hideAllMarksAndLabels(),a.activeComments.forEach(ae=>W(ae))}Rn(()=>a.markerChange,R),Rn(()=>a.filterChange,R);function N(){w.hideAllMarksOfClass("selected");let ae=a.getComment(a.selectedKey);ae&&(w.showMark("selected",ae.start_position,ae.end_position),w.addLabel("labelled",ae.label,ae.start_position),w.scrollToMark(ae.start_position,ae.end_position))}Rn(()=>a.selectionChange,N);function H(){let ae=a.getComment(a.selectedKey);w.setCaretToMark(ae.start_position)}Rn(()=>a.caretRequest,H);function W(ae){ae.prefix&&(w.hideMark(ae.prefix+"-excellent",ae.start_position,ae.end_position),w.hideMark(ae.prefix+"-cardinal",ae.start_position,ae.end_position),w.hideMark(ae.prefix,ae.start_position,ae.end_position),ae.rating_excellent?w.showMark(ae.prefix+"-excellent",ae.start_position,ae.end_position):ae.rating_cardinal?w.showMark(ae.prefix+"-cardinal",ae.start_position,ae.end_position):w.showMark(ae.prefix,ae.start_position,ae.end_position)),w.addLabel("labelled",ae.label,ae.start_position)}async function Z(ae){let U=a.getActiveCommentsInRange(ae.firstWord,ae.lastWord);if(U.length){let de=U.shift();ae.isCollapsed?(w.removeSelection(),a.selectComment(de.key)):(w.removeSelection(),u.isOwnDisabled||a.createComment(ae.firstWord,ae.lastWord,ae.parentNumber))}else ae.isCollapsed||(w.removeSelection(),u.isOwnDisabled||a.createComment(ae.firstWord,ae.lastWord,ae.parentNumber))}function J(ae){let U=a.getActiveCommentsByStartPosition(ae);if(U.length){let de=U.shift();a.setFirstVisibleComment(de.key)}}function se(){g.zoomEssayTextIn(),he()}function j(){g.zoomEssayTextOut(),he()}function he(){document.getElementById("app-essay").style.fontSize=g.essay_text_zoom+"rem"}return(ae,U)=>(On(),Bo("div",w2e,[te("div",C2e,[ie(Z1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ie(Co,{title:ae.$t("essayZoomOut"),size:"small",icon:"mdi-magnify-minus-outline",onClick:U[0]||(U[0]=de=>j())},null,8,["title"]),ie(Co,{title:ae.$t("essayZoomIn"),size:"small",icon:"mdi-magnify-plus-outline",onClick:U[1]||(U[1]=de=>se())},null,8,["title"])]),_:1})]),te("div",{contenteditable:"true",id:"app-essay",onBeforeinput:T,class:go("long-essay-content "+le(h).headlineClass),innerHTML:le(s).text},null,42,_2e)]))}},hE=()=>{},fX=(t,s)=>Math.abs(t-s),k2e=(t,s)=>({x:Math.min(t.x,s.x),y:Math.min(t.y,s.y),width:fX(t.x,s.x),height:fX(t.y,s.y)}),jte=t=>t,qD=t=>typeof t=="object",uE=t=>typeof t=="string",SE=t=>typeof t=="number",vR=t=>typeof t>"u",E2e=t=>[!0,!1].includes(t),Zte=(t,s)=>Object.fromEntries(Object.entries(s).map(([a,u])=>[a,t(u,a)])),A2e=(t,s)=>Object.fromEntries(Object.entries(s).filter(([a,u])=>t(u,a))),kD=(t,s)=>A2e((a,u)=>t.includes(u),s),T2e=(t,s)=>qD(s)&&Object.values(Zte((a,u)=>a(s[u]),t)).filter(a=>!a).length===0,O2e=(...t)=>s=>t.reduce((a,u)=>u(a),s),YD=(...t)=>O2e(...t.reverse()),XD=Symbol("none"),D2e=t=>s=>s===XD?XD:t(s),R2e=t=>s=>s===XD?t():s,I2e=(t,s)=>YD(...Object.entries(t).map(([a,u])=>R2e(()=>u(s[a])?XD:{key:a,type:u.name,offendingValue:s[a]})))(qD(s)?XD:{type:qD.name,offendingValue:s}),mX=(t,s)=>{const a=u=>u?`Key "${u}" of `:"";D2e(({type:u,key:g=!1})=>ME(`Value does not match required form: ${a(g)}${JSON.stringify(s)} does not satisfy ${u}.`))(I2e(t,s))},A8=(t,s)=>(...a)=>{if(t(...a))return s(...a)},dp=(t,s)=>({x:t,y:s}),GB=t=>T2e({x:SE,y:SE},t),fF=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),JD=(t,s)=>({x:s.x*t,y:s.y*t}),zC=(t,s)=>fF(t,JD(-1,s)),N2e=t=>({width:t.x,height:t.y}),P2e=t=>dp(t.width,t.height),L2e=(t,s)=>({width:t,height:s}),M2e=(t,s)=>dp(t.x*Math.cos(s)-t.y*Math.sin(s),t.x*Math.sin(s)+t.y*Math.cos(s)),B2e=({x:t,y:s})=>`${t},${s}`,F2e=(t,s)=>t.map(a=>fF(a,s)),$2e=t=>t.map(B2e).join(" "),Gte=(t,s)=>$2e(F2e(t,s)),V2e=(t,s)=>{const[a,u]=t.width/t.height<s.width/s.height?["height","width"]:["width","height"];return{[a]:s[a],[u]:s[a]*(t[u]/t[a])}},ME=t=>{throw new Error(t)},QD=(t,s)=>t||ME(s),gX=t=>()=>t,qte=(t,s)=>!vR(s.find(t)),z2e=(t,s)=>!qte(a=>!t(a),s),Yte=t=>t instanceof Array,Xte=t=>{const s=Xte.name+"("+t.name+")";return{[s]:u=>Yte(u)&&z2e(t,u)}[s]},H2e=(t,s)=>Object.entries(t).reduce((a,[u,g])=>g===s[u]?a:[...a,{left:g,right:s[u],name:u}],[]),Jte=Reflect.set,U2e=Reflect.deleteProperty,CK=(t,...s)=>t.bind(null,...s),W2e=t=>t.apply.bind(t,null),_K=t=>t.map(s=>s()),K2e=(t,s)=>Object.entries(s).forEach(W2e(t)),j2e=(t,s,a)=>K2e(t[s].bind(t),a),Z2e=t=>s=>(t(s),s),sE=(t,s=hE)=>(a=void 0)=>{if(vR(a))return t;s(a),t=a},yU=JSON.stringify,Zb=t=>{let s=(...g)=>ME(`No matching function found for arguments: ${yU(g)}.`);const a={},u=(...g)=>(a[yU(t(...g))]||s)(...g);return u.define=(g,h=void 0)=>{vR(h)?s=g:a[yU(g)]=h},u},Cs=(t,...s)=>t.define(...s),Qte=(t,s,a)=>(t.addEventListener(s,a),()=>t.removeEventListener(s,a)),eR=Zb((t,s)=>s);Cs(eR,Qte);const SK=(t,s)=>Cs(eR,t,(a,u,g)=>{const h=[t,s].map(x=>Qte(a,x,g));return()=>{_K(h)}});SK("mousedown","touchstart");SK("mousemove","touchmove");SK("mouseup","touchend");const FC=Zb(t=>t.constructor.name);Cs(FC,"MouseEvent",t=>dp(t.clientX,t.clientY));Cs(FC,"TouchEvent",t=>dp(t.touches[0].clientX,t.touches[0].clientY));const G2e=t=>t.reduce((s,a)=>qD(a.right)&&!Yte(a.right)?[...s,...ene(a.left,a.right).map(({path:u,...g})=>({path:[a.name,...u],...g}))]:[...s,{path:[a.name],value:a.right}],[]),ene=(t,s)=>G2e(H2e(t,s)),q2e=(t,s)=>!vR(s.find(a=>tne(a.path,t))),tne=(t,s)=>JSON.stringify(t)===JSON.stringify(s),nne=(t,s)=>t.length>=s.length&&tne(t.slice(0,s.length),s),kK=(t,s)=>t.length===0?s:qD(s)?kK(t.slice(1),s[t[0]]):ME("Path not found."),$u=(t,s)=>({requires:a=>nne(a,t),then:YD(s,CK(kK,t))}),hx=(t,s)=>({requires:gX(!1),then:YD(s,gX(t))}),EK=(t,s)=>({requires:a=>qte(CK(nne,a),Object.values(t)),then:a=>s(Zte(u=>kK(u,a),t))}),ic=t=>s=>a=>a.setAttribute(t,(SE(s),s)),one=()=>t=>s=>Jte(s,"textContent",t),tR=t=>s=>a=>a.style.setProperty(t,s),Y2e=t=>t.reduce((s,a)=>s.includes(a)?s:[...s,a],[]),AK=(t,s,a)=>s.forEach(({then:u})=>u(t)(a)),hX=(t,s,a,u)=>{const g=({path:x})=>s.filter(w=>w.requires(x)),h=Y2e(a.reduce((x,w)=>x.concat(g(w)),[]));AK(t,h,u)},km=(t,s)=>t.append(s),kE=(t,s)=>j2e(t,"setAttribute",s),X2e=({start:t,move:s,stop:a=hE})=>{let u=null;return{start:g=>{g.preventDefault(),u=t(FC(g))},move:g=>{g.preventDefault(),u=s(FC(g),u)},stop:g=>{a(u)}}},J2e=(t,s)=>Array.from(t.children).forEach(CK(km,s)),rne=t=>(s,a={},...u)=>{const g=t(s);return u.forEach(h=>km(g,h)),kE(g,a),g},Q2e=t=>document.createElementNS("http://www.w3.org/2000/svg",t),Ma=rne(Q2e),ewe=rne(t=>document.createElement(t)),twe=()=>{let t=null;return s=>{if(t!==null)return new Promise(hE);const a=()=>t===a?(t=null,!0):!1;return t=a,new Promise(u=>s(()=>{a(),u()}))}},nwe=t=>{const s=twe();return{current:()=>t,acquire:(a,u)=>s(g=>{const h=t;t=a,u(()=>{g()&&(t=h)})})}},owe=t=>new Promise((s,a)=>{const u=document.createElement("img");u.onload=()=>s(L2e(u.width,u.height)),u.onerror=a,u.src=t}),sne=t=>t.type==="touchend"&&t.touches.length===0,nR=Zb((t,s=void 0)=>vR(s)?t.constructor.name:s);Cs(nR,"TouchEvent",t=>t.touches.length===1||sne(t));Cs(nR,"MouseEvent",t=>t.button===0);Cs(nR,"PointerEvent",t=>nR(t,"MouseEvent"));const oR=Zb(t=>t.constructor.name);Cs(oR,"TouchEvent",t=>t.touches.length===2||sne(t));Cs(oR,"MouseEvent",t=>t.button===1);Cs(oR,"PointerEvent",t=>oR(t,"MouseEvent"));const Sm=Zb((t,s)=>s);Cs(Sm,eR);["click","mousedown","mouseup"].forEach(t=>{Cs(Sm,t,(s,a,u)=>eR(s,a,A8(nR,u))),Cs(Sm,[t,"primary"],(s,[a,u],g)=>Sm(s,a,g)),Cs(Sm,[t,"secondary"],(s,[a,u],g)=>eR(s,a,A8(oR,g)))});const rwe=(t,{start:s=hE,move:a=hE,stop:u=hE},g,h)=>{const x=I=>a(I),T=[Sm(window,["mouseup",g],I=>{_K(T),u(I)}),Sm(t,"mousemove",x)];s(h)},qr={CIRCLE:"circle",RECTANGLE:"rectangle",POLYGON:"polygon",LINE:"line",WAVE:"wave"},swe=t=>Object.values(qr).includes(t),iwe={[qr.CIRCLE]:{symbol:uE,symbolColor:uE},[qr.RECTANGLE]:{width:SE,height:SE},[qr.POLYGON]:{polygon:Xte(GB)},[qr.LINE]:{end:GB},[qr.WAVE]:{end:GB}},ine={key:uE,label:uE,color:uE,selectedColor:uE,shape:swe,pos:GB,locked:E2e},awe=t=>({...kD(Object.keys(ine),t),pos:kD(["x","y"],t.pos)}),lwe={[qr.CIRCLE]:t=>kD(["symbol","symbolColor"],t),[qr.RECTANGLE]:t=>kD(["width","height"],t),[qr.POLYGON]:({polygon:t})=>({polygon:t.map(s=>kD(["x","y"],s))}),[qr.LINE]:({end:{x:t,y:s}})=>({end:{x:t,y:s}}),[qr.WAVE]:({end:{x:t,y:s}})=>({end:{x:t,y:s}})},TK=Zb(t=>t.shape);Cs(TK,jte);Cs(TK,qr.CIRCLE,({symbol:t="",symbolColor:s="black",...a})=>({...a,symbol:t,symbolColor:s}));const dE=t=>(t={...t,key:t.key||"mark-"+Math.random().toString(),locked:t.locked||!1},mX(ine,t),t=TK(t),mX(iwe[t.shape],t),{...awe(t),...lwe[t.shape](t)}),qB={lambda:60,amplitude:20,lineWidth:10},xU={startDot:{radius:20,borderWidth:10},lineWidth:10},cwe={width:15},Y1=Symbol("silent"),uwe=({polygon:t,pos:s})=>Gte(t,s),dwe=t=>s=>s.setAttribute("points",uwe(t)),mF=t=>[$u(["color"],tR("--default-color")),$u(["selectedColor"],tR("--selected-color")),$u(["locked"],s=>ic("class")(["shape"].concat(s?["locked"]:[],t).join(" ")))],ane=(t,s)=>{const a=g=>Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),u=({start:g,end:h})=>{const x=Math.atan(h.y/h.x),w=h.x<0?x-Math.PI:x,T=M2e(zC(g,dp(0,t/2)),-w),I=`rotateZ(${w}rad)`,R=`translate(${T.x}px, ${T.y}px)`;return`${I} ${R}`};return[...mF(s),EK({start:["pos"],end:["end"]},YD(tR("transform"),u)),$u(["end"],YD(ic("width"),a)),hx(`0 ${t/2}px`,tR("transform-origin")),hx(t,ic("height")),hx(0,ic("x")),hx(0,ic("y"))]},Kb=Zb(t=>t.shape||t);Cs(Kb,qr.RECTANGLE,()=>[...mF([]),$u(["pos","x"],ic("x")),$u(["pos","y"],ic("y")),$u(["width"],ic("width")),$u(["height"],ic("height"))]);Cs(Kb,qr.CIRCLE,()=>[...mF([]),$u(["pos","x"],Hg(0,ic("cx"))),$u(["pos","y"],Hg(0,ic("cy"))),$u(["pos","x"],Hg(1,ic("x"))),$u(["pos","y"],Hg(1,ic("y"))),$u(["symbol"],Hg(1,one())),$u(["symbolColor"],Hg(1,tR("fill"))),hx("symbol",Hg(1,ic("class"))),hx(70,Hg(0,ic("r")))]);Cs(Kb,qr.POLYGON,()=>[...mF([]),EK({pos:["pos"],polygon:["polygon"]},dwe)]);Cs(Kb,qr.LINE,()=>ane(cwe.width,[]));Cs(Kb,qr.WAVE,()=>ane(qB.amplitude*2,["wave"]));const Hg=(t,s)=>a=>u=>s(a)(u.children[t]);Cs(Kb,"label",()=>[$u(["pos","x"],Hg(0,ic("x"))),$u(["pos","x"],Hg(1,ic("x"))),hx("label",Hg(0,ic("class"))),hx("label",Hg(1,ic("class"))),EK({shape:["shape"],label:["label"],y:["pos","y"]},({shape:t,label:s,y:a})=>u=>{t==qr.CIRCLE&&(a=a-70),kE(u.children[1],{y:a}),one()(s)(u.children[1]),requestAnimationFrame(()=>{const{width:g,height:h}=u.children[1].getBBox();kE(u.children[0],{y:a-h+h*.15,width:g,height:h})})})]);const HC=Zb(jte);Cs(HC,qr.RECTANGLE,()=>Ma("rect"));Cs(HC,qr.CIRCLE,()=>Ma("g",{},Ma("circle"),Ma("text")));Cs(HC,qr.POLYGON,()=>Ma("polygon"));Cs(HC,qr.LINE,()=>Ma("rect"));Cs(HC,qr.WAVE,()=>Ma("rect"));Cs(HC,t=>ME(`Invalid shape name: ${t}.`));const lne=t=>{const s=HC(t.shape);return AK(t,Kb(t),s),s},fwe=t=>{const s=Ma("g",{},Ma("rect"),Ma("text"));return AK(t,Kb("label"),s),s},mwe=(t,s,a)=>{hX(t,Kb(t),s,a.nodes.shape),hX(t,Kb("label"),s,a.nodes.label)},gwe=t=>({mark:t,nodes:{root:Ma("g"),label:fwe(t),shape:lne(t)}}),hwe={[qr.RECTANGLE]:{width:10,height:20},[qr.CIRCLE]:{},[qr.POLYGON]:{polygon:[dp(0,0)]},[qr.LINE]:{end:dp(0,0)},[qr.WAVE]:{end:dp(0,0)}},pwe=(t,s,a,u)=>dE({...hwe[s],shape:s,pos:t,color:a,selectedColor:u,label:""}),gF=(t,s,a,u="primary")=>rwe(t.nodes.svg,X2e(a),u,s),bwe=(t,s)=>owe(s).then(a=>{kE(t.nodes.backgroundImage,{href:s,x:0,y:0,...a}),t.canvas.size(a),vne(t)}),vwe=()=>Z2e(t=>Jte(t,"innerHTML",[" {position: relative; width: 100%; height: 100%; overflow: auto;}",".moving {overflow: hidden;}"," svg .polygon-start:hover {stroke: blue;}"," svg {position: absolute;}"," svg * {user-select: none;}"," svg .shape {fill: var(--default-color);}"," svg .shape.wave {mask: url(#wave-mask);}"," svg rect.label {fill: lightblue;}"," svg .foreground .shape {fill: var(--selected-color);}"," svg .shape text.symbol {text-anchor: middle; dominant-baseline: central; fill: black;}"].map(s=>".long-essay-image-marker"+s).join(" ")))(document.createElement("style")),ywe=()=>({background:Ma("g",{class:"background"}),normal:Ma("g"),foreground:Ma("g",{class:"foreground"})}),xwe=t=>QD(Object.values(qr).includes(t),`Invalid shape name: ${t}.`),wwe=t=>{QD(SE(t),`Scale must be a number, given: ${JSON.stringify(t)}.`),QD(t>0,`Scale must be > 0 given: ${t}.`)},Cwe=(t,s,a)=>{const u=ywe(),g=Ma("svg",{width:"100%",height:"100%"},...Object.values(u)),h=ewe("div",{class:"long-essay-image-marker"},g),x=Ma("image");return km(t,h),km(t,vwe()),km(g,Ma("defs",{},Awe(),Twe())),{nodes:{app:h,svg:g,layers:u,backgroundImage:x},creation:{color:sE("#0000AAAA"),selectedColor:sE("#FF0000AA"),shape:sE(qr.CIRCLE,xwe)},status:nwe({name:"idle"}),canvas:{scale:sE(1,wwe),size:sE(null)},mode:sE("draw-shape",w=>QD(["draw-shape","scroll"].includes(w),`Invalid marker mode: ${w}`)),groups:{},emit:{createMark:s,selectMark:a}}},yR=(t,s,a)=>t.status.acquire(s,a),OK=(t,s,a,u)=>yR(t,{name:s,group:a},u),cne=(t,s,a)=>{Sm(a,"mousedown",u=>(s.mark.locked?Promise.resolve():fne(t,s,u)).then(()=>pne(t,[s])))},_we=(t,s)=>{une(t,s),Swe(t,s),km(t.nodes.layers.normal,s.nodes.root)},Swe=(t,s)=>{km(s.nodes.root,s.nodes.label),cne(t,s,s.nodes.label)},une=(t,s)=>{km(s.nodes.root,s.nodes.shape),cne(t,s,s.nodes.shape)},hF=t=>(s,a)=>yR(s,{name:"drawNew"},u=>{const g=pwe(o0(s,FC(a)),Iwe(s),mne(s),gne(s));s.emit.selectMark(null,a),u(),RK(s,g,Y1),t(s,s.groups[g.key],a).then(()=>{s.emit.createMark(s.groups[g.key].mark,a),T8(s,[g.key],a)})}),DK=Zb(t=>t.mode()),UC=Zb(DK),dne=(t,s,a)=>OK(t,"editGroup",s,u=>gF(t,a,{start:g=>(pF(t,[s],Y1),g=o0(t,g),{mark:s.mark,start:{mouse:g,pos:s.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=zC(o0(t,g),x.mouse),T={...h,end:w};return bF(t,T),{start:x,mark:T}},stop:u}));Cs(UC,["draw-shape",qr.LINE],hF(dne));Cs(UC,["draw-shape",qr.WAVE],hF(dne));const kwe=(t,s,a)=>OK(t,"editGroup",s,u=>gF(t,a,{start:g=>(pF(t,[s],Y1),g=o0(t,g),{mark:s.mark,start:{mouse:g,pos:s.mark.pos}}),move:(g,{mark:h,start:x})=>{const w=zC(o0(t,g),x.mouse),{width:T,height:I,...R}=k2e(x.pos,fF(x.pos,w)),N={...h,pos:R,width:T,height:I};return bF(t,N),{start:x,mark:N}},stop:u}));Cs(UC,["draw-shape",qr.RECTANGLE],hF(kwe));const fne=(t,s,a)=>OK(t,"moveGroup",s,u=>gF(t,a,{start:g=>(g=o0(t,g),pF(t,[s],Y1),{mark:s.mark,start:{pos:s.mark.pos,mouse:g}}),move:(g,{mark:h,start:x})=>{const w=zC(o0(t,g),x.mouse),T={...h,pos:fF(x.pos,w)};return bF(t,T),{start:x,mark:T}},stop:u}));Cs(UC,["draw-shape",qr.CIRCLE],hF(fne));const Ewe=(t,s,a)=>{const u=Ma("circle",{cx:s.x,cy:s.y,r:xU.startDot.radius+"px","stroke-width":xU.startDot.borderWidth+"px",fill:"lightblue",class:"polygon-start"}),g=Ma("polyline",{points:"",stroke:"blue",class:"polygon-next-point","stroke-width":xU.lineWidth+"px",fill:"none"}),h=Ma("g",{class:"new-polygon"});return km(h,g),km(h,u),km(t,h),Sm(u,"click",x=>{x.stopPropagation(),h.remove(),a()}),x=>kE(g,{points:Gte(x,s)})},Awe=()=>{const t=dp(qB.lambda,qB.amplitude*2),s=JD(.5,t),a=JD(.5,s);return Ma("pattern",{x:"0",y:"0",id:"wave-pattern",width:`${t.x}px`,height:`${t.y}px`,patternUnits:"userSpaceOnUse"},Ma("path",{d:`M -${s.x} ${s.y} Q -${a.x} -${a.y}, 0 ${s.y} t ${s.x} 0 t ${s.x} 0`,fill:"none",stroke:"white","stroke-width":qB.lineWidth+"px"}))},Twe=()=>Ma("mask",{id:"wave-mask",x:0,y:0,width:"100%",height:"100%"},Ma("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#wave-pattern)"})),Owe=(t,s,a)=>dE({label:"",polygon:s,pos:a,color:mne(t),selectedColor:gne(t),shape:qr.POLYGON}),Dwe=(t,s,a)=>u=>{u.preventDefault(),a(zC(o0(t,FC(u)),s))};Cs(UC,["draw-shape",qr.POLYGON],(t,s)=>yR(t,{name:"newPolygon"},a=>{s.preventDefault(),t.emit.selectMark(null,s);const u=o0(t,FC(s)),g=Ewe(t.nodes.layers.foreground,u,()=>I()),h=[dp(0,0)],x=R=>Dwe(t,u,R);let w=dp(0,0);const T=[a,Sm(t.nodes.svg,"mousemove",x(R=>{g([...h,R]),w=R})),Sm(window,"mouseup",R=>h.push(w))],I=()=>{_K(T);const R=Owe(t,h,u);RK(t,R,s),T8(t,[R.key],s)}}));const Rwe=t=>{const s=a=>[t.nodes.svg,t.nodes.backgroundImage].includes(a.target);Sm(t.nodes.svg,"mousedown",A8(s,a=>UC(t,a))),Sm(t.nodes.svg,["mousedown","secondary"],A8(s,a=>hne(t,a,"secondary")))},mne=t=>t.creation.color(),gne=t=>t.creation.selectedColor(),Iwe=t=>t.creation.shape();Cs(DK,"draw-shape",t=>[t.mode(),t.creation.shape()]);Cs(DK,t=>t.mode());const hne=(t,s,a="primary")=>yR(t,{name:"moving-view"},u=>{t.nodes.app.classList.add("moving"),gF(t,s,{start:g=>g,move:(g,h)=>{const x=zC(h,g);return t.nodes.app.scrollBy(x.x,x.y),g},stop:()=>{t.nodes.app.classList.remove("moving"),u()}},a)});Cs(UC,"scroll",hne);const pF=(t,s,a)=>{[].slice.call(t.nodes.layers.foreground.children).forEach(u=>u.classList.remove("active")),J2e(t.nodes.layers.foreground,t.nodes.layers.normal),s.forEach(u=>{const g=u.nodes.root;g.classList.add("active"),km(t.nodes.layers.foreground,g)}),a!==Y1&&s.forEach(u=>t.emit.selectMark(u.mark,a))},pne=(t,s,a)=>yR(t,{name:"selecting-multiple"},u=>{pF(t,s,a),u()}),bne=(t,s)=>t.groups[s]||ME(`Mark with key ${s} does not exist.`),T8=(t,s,a)=>pne(t,s.map(u=>bne(t,u)),a),RK=(t,s,a)=>{QD(!t.groups[s.key],`Duplicated key: ${s.key}`);const u=gwe(s);_we(t,u),t.groups[s.key]=u,a!==Y1&&t.emit.createMark(s,a)},bF=(t,s)=>{const a=bne(t,s.key),u=ene(a.mark,s);a.mark=s,q2e(["shape"],u)?(a.nodes.shape.remove(),a.nodes.shape=lne(a.mark),une(t,a)):mwe(a.mark,u,a)},vne=t=>kE(t.nodes.svg,{...N2e(JD(t.canvas.scale(),P2e(t.canvas.size()))),viewBox:[0,0,t.canvas.size().width,t.canvas.size().height].join(" ")}),o0=(t,s)=>JD(1/t.canvas.scale(),zC(s,t.nodes.svg.getBoundingClientRect())),Nwe=(t,s,a)=>{const u=Cwe(t,(w,T)=>s(dE(w),T),(w,T)=>a(w?dE(w):null,T));Rwe(u);const g=w=>RK(u,dE(w),Y1),h=w=>{u.groups[w].nodes.root.remove(),U2e(u.groups,w)},x=w=>{u.canvas.scale(w),vne(u)};return{showPage:(w,T)=>{bwe(u,w),km(u.nodes.layers.background,u.nodes.backgroundImage),u.canvas.scale(1),Object.values(u.groups).forEach(I=>h(I.mark.key)),T.forEach(g)},addMark:g,removeMark:h,selectMark:w=>T8(u,[w],Y1),selectMarks:w=>T8(u,w,Y1),updateMark:w=>bF(u,dE(w)),setDefaultColor:w=>u.creation.color(w),setDefaultSelectedColor:w=>u.creation.selectedColor(w),setDefaultShape:w=>u.creation.shape(w),setZoomLevel:x,fitToPage:()=>{if(u.canvas.size()){const w=V2e(u.canvas.size(),u.nodes.app.getBoundingClientRect());x(w.width/u.canvas.size().width)}},drawMode:()=>u.mode("draw-shape"),scrollMode:()=>u.mode("scroll")}},Pwe={id:"app-essay-image-wrapper"},Lwe={class:"appImageButtons"},Mwe={class:"appImageBottomNav"},Bwe={__name:"EssayImage",setup(t){const s=ar(),a=yf(),u=ac(),g=x8();Fl();const h=q1(),x=zn(),w=zn("scroll"),T=zn(!1),I=zn(0),R=zn(!0);let N,H="",W=[];Ku(()=>{N=Nwe(x.value,Z,J),N.setDefaultColor("#3365ffaa"),N.setDefaultSelectedColor("#3365ffaa"),Oe(),se(g.minPage)});async function Z(D){if(D&&!u.isOwnDisabled){const qe=new wm(D);switch(w.value){case"check":qe.symbol=wm.SYMBOL_CHECK;break;case"cross":qe.symbol=wm.SYMBOL_CROSS;break;case"question":qe.symbol=wm.SYMBOL_QUESTION;break}if(W.push(D.key),!a.getCommentByMarkKey(D.key)){const lt=a.selectedComment;if(lt&&lt.parent_number==g.selectedPageNo)lt.addMarkData(qe),await a.updateComment(lt,!0);else{const zt=new OC({parent_number:g.selectedPageNo,marks:[qe]});await a.addComment(zt)}}}}function J(D,qe){if(console.log(Date.now(),"onSelection",D,qe),D){let lt=a.getCommentByMarkKey(D.key);if(lt){a.selectComment(lt.key);const zt=lt.getData();if(lt.corrector_key==s.correctorKey&&!u.isOwnDisabled){D.symbol=D.symbol==""?null:D.symbol,lt.updateMarkData(D);const Yt=lt.getData();JSON.stringify(zt)!=JSON.stringify(Yt)&&a.updateComment(lt,!0)}else{const Yt=lt.getMarkByKey(D.key);if(Yt){const ct={...Yt.getData(),label:R.value?lt.label:"",color:lt.getMarkColor(Yt),selectedColor:lt.getMarkSelectedColor(Yt),locked:lt.corrector_key!=s.correctorKey||u.isOwnDisabled};N.updateMark(ct)}}}}else{const lt=a.selectedComment;qe&&qe.shiftKey&&lt&&lt.parent_number==g.selectedPageNo||a.selectComment("")}}function se(D){if(g.selectByPageNo(D)){const qe=g.getPageByPageNo(D);if(qe){qe.url?(N.showPage(qe.url,[]),H=qe.url):(N.showPage("",[]),H="");try{N.setZoomLevel(h.essay_page_zoom)}catch{}document.querySelector(".long-essay-image-marker").scrollTop=0,W=[],ae(),I.value=D}}}function j(){const D=g.selectedPage;D&&D.url!=H&&se(D.page_no)}Rn(()=>g.loadedImages,j);function he(){const D=a.getComment(a.selectedKey);D&&D.parent_number!=g.selectedPageNo&&se(D.parent_number),ae()}Rn(()=>a.selectionChange,he);function ae(){let D=[];for(const qe of a.activeComments)if(qe.parent_number==g.selectedPageNo){let lt=[];for(const zt of qe.marks){const Yt={...zt.getData(),label:R.value?qe.label:"",color:qe.getMarkColor(zt),selectedColor:qe.getMarkSelectedColor(zt),locked:qe.corrector_key!=s.correctorKey||u.isOwnDisabled};W.includes(zt.key)?N.updateMark(Yt):N.addMark(Yt),D.push(zt.key),lt.push(zt.key)}qe.key==a.selectedKey&&N.selectMarks(lt)}for(const qe of W)D.includes(qe)||N.removeMark(qe);W=D}Rn(()=>a.markerChange,ae),Rn(()=>a.filterChange,ae);function U(){let D=a.getActiveCommentsByParentNumber(g.selectedPageNo);if(D.length){let qe=D.shift();a.setFirstVisibleComment(qe.key)}}Rn(()=>g.selectedKey,U);function de(){g.selectedPageNo>g.minPage&&se(g.selectedPageNo-1)}function oe(){g.selectedPageNo<g.maxPage&&se(g.selectedPageNo+1)}function Ve(D){T.value=!1,se(D)}async function Me(){T.value&&(await Jo(),await new Promise(qe=>setTimeout(qe,250)),document.getElementById("app-pages-menu-input").select())}function Xe(){h.zoomEssayPageIn(),N.setZoomLevel(h.essay_page_zoom)}function rt(){h.zoomEssayPageOut(),N.setZoomLevel(h.essay_page_zoom)}function Oe(){switch(u.isOwnDisabled&&(w.value="scroll"),w.value){case"scroll":N.scrollMode();break;case"rectangle":N.drawMode(),N.setDefaultShape(qr.RECTANGLE);break;case"line":N.drawMode(),N.setDefaultShape(qr.LINE);break;case"wave":N.drawMode(),N.setDefaultShape(qr.WAVE);break;case"polygon":N.drawMode(),N.setDefaultShape(qr.POLYGON);break;case"circle":case"check":case"cross":case"question":N.drawMode(),N.setDefaultShape(qr.CIRCLE);break}}function Te(){R.value==1?R.value=0:R.value=1,ae()}return(D,qe)=>(On(),Bo("div",Pwe,[te("div",Lwe,[ie(Z1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ie(Co,{size:"small",title:D.$t("essayImageZoomOut"),icon:"mdi-magnify-minus-outline",onClick:qe[0]||(qe[0]=lt=>rt())},null,8,["title"]),ie(Co,{size:"small",title:D.$t("essayImageZoomIn"),icon:"mdi-magnify-plus-outline",onClick:qe[1]||(qe[1]=lt=>Xe())},null,8,["title"])]),_:1}),qe[13]||(qe[13]=xs("  ")),ie(S1e,{density:"comfortable",variant:"outlined",divided:"",modelValue:w.value,"onUpdate:modelValue":qe[2]||(qe[2]=lt=>w.value=lt),onClick:qe[3]||(qe[3]=lt=>Oe())},{default:xt(()=>[ie(Co,{size:"small",icon:"mdi-cursor-move",value:"scroll"}),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-minus",value:"line"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-wave",value:"wave"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-check",value:"check"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-close",value:"cross"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-help",value:"question"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-rectangle-outline",value:"rectangle"},null,8,["disabled"]),ie(Co,{disabled:le(u).isOwnDisabled,size:"small",icon:"mdi-vector-triangle",value:"polygon"},null,8,["disabled"])]),_:1},8,["modelValue"]),qe[14]||(qe[14]=xs("  ")),ie(Z1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ie(Co,{size:"small",active:R.value,icon:"mdi-label-outline",onClick:qe[4]||(qe[4]=lt=>Te())},null,8,["active"])]),_:1}),qe[15]||(qe[15]=xs("  ")),ie(Z1,{density:"comfortable",variant:"outlined",divided:""},{default:xt(()=>[ie(Co,{size:"small",icon:"mdi-menu-left",onClick:qe[5]||(qe[5]=lt=>de())}),ie(Co,{size:"small",id:"app-pages-menu-activator"},{default:xt(()=>[xs(pt(le(g).selectedPageNo),1)]),_:1}),ie(Co,{size:"small",icon:"mdi-menu-right",onClick:qe[6]||(qe[6]=lt=>oe())})]),_:1}),ie(uF,{activator:"#app-pages-menu-activator",modelValue:T.value,"onUpdate:modelValue":[qe[9]||(qe[9]=lt=>T.value=lt),qe[10]||(qe[10]=lt=>Me())],"close-on-content-click":!1},{default:xt(()=>[ie(ZD,null,{default:xt(()=>[ie(Tc,null,{default:xt(()=>[ie(GD,{id:"app-pages-menu-input",modelValue:I.value,"onUpdate:modelValue":qe[7]||(qe[7]=lt=>I.value=lt),density:"compact",variant:"solo",label:"Number","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",onChange:qe[8]||(qe[8]=lt=>Ve(I.value))},null,8,["modelValue"])]),_:1}),(On(!0),Bo(lr,null,Q1(le(g).currentPages,lt=>(On(),es(Tc,{onClick:zt=>Ve(lt.page_no),title:lt.page_no,key:lt.key},{default:xt(()=>[Fn(ie(bR,{src:lt.thumb_url,width:"100"},null,8,["src"]),[[Ao,lt.thumb_url!==null]])]),_:2},1032,["onClick","title"]))),128))]),_:1})]),_:1},8,["modelValue"])]),te("div",{class:"appImageMarker",ref_key:"markerNode",ref:x},null,512),te("div",Mwe,[ie(Z1,{variant:"outlined",divided:""},{default:xt(()=>[ie(Co,{disabled:le(g).selectedPageNo<=le(g).minPage,size:"small",icon:"mdi-menu-left",onClick:qe[11]||(qe[11]=lt=>de())},null,8,["disabled"]),ie(Co,{disabled:le(g).selectedPageNo>=le(g).maxPage,size:"small",icon:"mdi-menu-right",onClick:qe[12]||(qe[12]=lt=>oe())},null,8,["disabled"])]),_:1})])]))}},Fwe=yl(Bwe,[["__scopeId","data-v-15c28dc4"]]),$we={class:"sr-only"},Vwe={"aria-hidden":"true"},zwe={class:"text-right"},Hwe={class:"sr-only"},Uwe={"aria-hidden":"true"},Wwe={class:"text-right"},Kwe={class:"text-right"},jwe={class:"sr-only"},Zwe={"aria-hidden":"true"},Gwe={class:"text-right"},qwe={class:"generalCriterion"},Ywe={class:"text-right"},Xwe={__name:"SummaryCriteria",props:["corrector_key"],setup(t){const s=ar(),a=Em(),u=yf(),g=Yg(),h=Fl(),x=ru(),w=t;Rn(()=>w,R),Rn(()=>s.itemKey,R);const T=Gl({}),I=Gl({});async function R(){await Jo(),a.getCorrectorCommentCriteria(w.corrector_key).forEach(Z=>{I[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),a.getCorrectorGeneralCriteria(w.corrector_key).forEach(Z=>{T[Z.key]={key:Z.key,title:Z.title,max_points:Z.points,sum_points:0}}),g.getObjectsForCorrector(w.corrector_key).forEach(Z=>{I[Z.criterion_key]!==void 0&&(I[Z.criterion_key].sum_points+=Z.points),T[Z.criterion_key]!==void 0&&(T[Z.criterion_key].sum_points+=Z.points)})}a.getCorrectorHasCriteria(w.corrector_key)&&R();async function N(Z,J){u.setFilterByRating(w.corrector_key,Z,J),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await Jo(),h.showEssay(),h.showMarking()}async function H(){u.setFilterByPoints(w.corrector_key),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await Jo(),h.showEssay(),h.showMarking()}async function W(Z){u.setFilterByCriterion(w.corrector_key,Z),!w.corrector_key==s.correctorKey&&u.setShowOtherCorrectors(!0),await Jo(),h.showEssay(),h.showMarking()}return(Z,J)=>(On(),Bo("div",null,[ie(sp,{class:"table",density:"compact"},{default:xt(()=>[J[3]||(J[3]=te("thead",null,[te("tr",null,[te("th",null,"Markierung"),te("th",{class:"text-right"},"Anzahl")])],-1)),te("tbody",null,[te("tr",null,[te("td",null,[ie(Co,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(u).getCountOfExcellent(w.corrector_key)==0,onClick:J[0]||(J[0]=se=>N(!0,!1))},{default:xt(()=>[te("span",$we,pt(le(x).positive_rating),1)]),_:1},8,["disabled"]),te("span",Vwe,pt(le(x).positive_rating),1)]),te("td",zwe,pt(le(u).getCountOfExcellent(w.corrector_key)),1)]),te("tr",null,[te("td",null,[ie(Co,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(u).getCountOfCardinal(w.corrector_key)==0,onClick:J[1]||(J[1]=se=>N(!1,!0))},{default:xt(()=>[te("span",Hwe,pt(le(x).negative_rating),1)]),_:1},8,["disabled"]),te("span",Uwe,pt(le(x).negative_rating),1)]),te("td",Wwe,pt(le(u).getCountOfCardinal(w.corrector_key)),1)])])]),_:1,__:[3]}),le(a).getCorrectorHasCommentCriteria(w.corrector_key)?vr("",!0):(On(),es(sp,{key:0,class:"table",density:"compact"},{default:xt(()=>[J[6]||(J[6]=te("thead",null,[te("tr",null,[te("th",null,[te("strong",null,"Bewertung")]),te("th",{class:"text-right"},"Punkte")])],-1)),te("tbody",null,[te("tr",null,[te("td",null,[ie(Co,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:le(g).getSumOfPointsForCorrector(w.corrector_key,!0,!1)==0,onClick:J[2]||(J[2]=se=>H())},{default:xt(()=>J[4]||(J[4]=[te("span",{class:"sr-only"},"Punkte in Kommentaren",-1)])),_:1,__:[4]},8,["disabled"]),J[5]||(J[5]=te("span",{"aria-hidden":"true"},"Punkte in Kommentaren",-1))]),te("td",Kwe,pt(le(g).getSumOfPointsForCorrector(w.corrector_key,!0,!1)),1)])])]),_:1,__:[6]})),le(a).getCorrectorHasCommentCriteria(w.corrector_key)?(On(),es(sp,{key:1,class:"table",density:"compact"},{default:xt(()=>[J[7]||(J[7]=te("thead",null,[te("tr",null,[te("th",null,"Kriterium bei Anmerkungen"),te("th",{class:"text-right"},"Punkte / max")])],-1)),te("tbody",null,[(On(!0),Bo(lr,null,Q1(I,se=>(On(),Bo("tr",{key:se.key},[te("td",null,[ie(Co,{density:"compact",size:"small",variant:"text","prepend-icon":"mdi-filter-outline",disabled:se.sum_points==0,onClick:j=>W(se.key)},{default:xt(()=>[te("span",jwe,pt(se.title),1)]),_:2},1032,["disabled","onClick"]),te("span",Zwe,pt(se.title),1)]),te("td",Gwe,pt(se.sum_points)+" / "+pt(se.max_points),1)]))),128))])]),_:1,__:[7]})):vr("",!0),le(a).getCorrectorHasGeneralCriteria(w.corrector_key)?(On(),es(sp,{key:2,class:"table",density:"compact"},{default:xt(()=>[J[8]||(J[8]=te("thead",null,[te("tr",null,[te("th",null,"Allgemeines Kriterium (Kopfnote)"),te("th",{class:"text-right"},"Punkte / max")])],-1)),te("tbody",null,[(On(!0),Bo(lr,null,Q1(T,se=>(On(),Bo("tr",{key:se.key},[te("td",null,[te("span",qwe,pt(se.title),1)]),te("td",Ywe,pt(se.sum_points)+" / "+pt(se.max_points),1)]))),128))])]),_:1,__:[8]})):vr("",!0)]))}},yne=yl(Xwe,[["__scopeId","data-v-feac0e84"]]),Jwe={id:"app-own-summary-points-wrapper"},Qwe=["disabled","max"],eCe={__name:"OwnSummaryPoints",setup(t){const s=ar(),a=Mb(),u=ac(),g=ru(),h=Fl();return(x,w)=>(On(),Bo("div",Jwe,[ie(E8,null,{default:xt(()=>[ie(Wg,{dense:""},{default:xt(()=>[ie(La,{cols:"10"},{default:xt(()=>[ie(wK,{class:"sumOfPoints",corrector_key:le(s).correctorKey},null,8,["corrector_key"])]),_:1})]),_:1}),ie(Wg,{dense:""},{default:xt(()=>[ie(La,{cols:"10"},{default:xt(()=>[w[3]||(w[3]=te("label",{for:"appOwnSummaryPoints"},[te("strong",null,"Bewertung:")],-1)),w[4]||(w[4]=xs("  ")),Fn(te("input",{disabled:le(u).isOwnDisabled,id:"appOwnSummaryPoints",class:"appPoints",type:"number",min:"0",max:le(g).max_points,"onUpdate:modelValue":w[0]||(w[0]=T=>le(u).editSummary.points=T)},null,8,Qwe),[[t0,le(u).editSummary.points]]),w[5]||(w[5]=xs(" Punkte  ")),w[6]||(w[6]=te("strong",null,"Notenstufe:",-1)),xs(" "+pt(le(u).currentGradeTitle),1)]),_:1,__:[3,4,5,6]}),ie(La,{cols:"2"},{default:xt(()=>[Fn(ie(Co,{density:"compact",variant:"text",disabled:!le(a).authorizationAllowed,onClick:w[1]||(w[1]=T=>le(s).setShowAuthorization(!0))},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-file-certificate-outline"}),w[7]||(w[7]=te("span",null,"Autorisieren...",-1))]),_:1,__:[7]},8,["disabled"]),[[Ao,!le(u).isOwnDisabled]])]),_:1})]),_:1}),ie(Wg,{dense:""},{default:xt(()=>[ie(La,{cols:"10"},{default:xt(()=>[le(g).inclusionsPossible?(On(),es(zte,{key:0})):vr("",!0)]),_:1}),ie(La,{cols:"2"},{default:xt(()=>[le(g).inclusionsChangeable?(On(),es(Co,{key:0,density:"compact",variant:"text",disabled:le(u).isOwnDisabled,onClick:w[2]||(w[2]=T=>le(h).showIncludesPopup=!0)},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-pencil"}),w[8]||(w[8]=te("span",null,"ndern...",-1))]),_:1,__:[8]},8,["disabled"])):vr("",!0)]),_:1})]),_:1})]),_:1})]))}},tCe=yl(eCe,[["__scopeId","data-v-ac7ba7f0"]]);var wU={exports:{}},pX;function nCe(){return pX||(pX=1,function(t){(function(){var s=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},a=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},u=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},g=function(e,n){return h(function(o,i){return e.eq(n(o),n(i))})},h=function(e){return{eq:e}},x=h(function(e,n){return e===n}),w=x,T=function(e){return h(function(n,o){if(n.length!==o.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},I=function(e,n){return g(T(e),function(o){return u(o,n)})},R=function(e){return h(function(n,o){var i=Object.keys(n),c=Object.keys(o);if(!I(w).eq(i,c))return!1;for(var m=i.length,p=0;p<m;p++){var _=i[p];if(!e.eq(n[_],o[_]))return!1}return!0})},N=h(function(e,n){if(e===n)return!0;var o=s(e),i=s(n);return o!==i?!1:a(o)?e===n:o==="array"?T(N).eq(e,n):o==="object"?R(N).eq(e,n):!1});const H=Object.getPrototypeOf,W=(e,n,o)=>{var i;return o(e,n.prototype)?!0:((i=e.constructor)===null||i===void 0?void 0:i.name)===n.name},Z=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&W(e,String,(o,i)=>i.isPrototypeOf(o))?"string":n},J=e=>n=>Z(n)===e,se=e=>n=>typeof n===e,j=e=>n=>e===n,he=(e,n)=>U(e)&&W(e,n,(o,i)=>H(o)===i),ae=J("string"),U=J("object"),de=e=>he(e,Object),oe=J("array"),Ve=j(null),Me=se("boolean"),Xe=j(void 0),rt=e=>e==null,Oe=e=>!rt(e),Te=se("function"),D=se("number"),qe=(e,n)=>{if(oe(e)){for(let o=0,i=e.length;o<i;++o)if(!n(e[o]))return!1;return!0}return!1},lt=()=>{},zt=(e,n)=>(...o)=>e(n.apply(null,o)),Yt=(e,n)=>o=>e(n(o)),ct=e=>()=>e,kn=e=>e,Et=(e,n)=>e===n;function Qe(e,...n){return(...o)=>{const i=n.concat(o);return e.apply(null,i)}}const Le=e=>n=>!e(n),ft=e=>()=>{throw new Error(e)},po=e=>e(),Ht=e=>{e()},Tn=ct(!1),nn=ct(!0);class Q{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Q(!0,n)}static none(){return Q.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Q.some(n(this.value)):Q.none()}bind(n){return this.tag?n(this.value):Q.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Q.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Oe(n)?Q.some(n):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const co=Array.prototype.slice,Kt=Array.prototype.indexOf,pn=Array.prototype.push,We=(e,n)=>Kt.call(e,n),et=(e,n)=>{const o=We(e,n);return o===-1?Q.none():Q.some(o)},xe=(e,n)=>We(e,n)>-1,Ae=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return!0}return!1},$e=(e,n)=>{const o=e.length,i=new Array(o);for(let c=0;c<o;c++){const m=e[c];i[c]=n(m,c)}return i},be=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];n(c,o)}},Ce=(e,n)=>{for(let o=e.length-1;o>=0;o--){const i=e[o];n(i,o)}},Ne=(e,n)=>{const o=[],i=[];for(let c=0,m=e.length;c<m;c++){const p=e[c];(n(p,c)?o:i).push(p)}return{pass:o,fail:i}},je=(e,n)=>{const o=[];for(let i=0,c=e.length;i<c;i++){const m=e[i];n(m,i)&&o.push(m)}return o},gt=(e,n,o)=>(Ce(e,(i,c)=>{o=n(o,i,c)}),o),sn=(e,n,o)=>(be(e,(i,c)=>{o=n(o,i,c)}),o),Ut=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++){const m=e[i];if(n(m,i))return Q.some(m);if(o(m,i))break}return Q.none()},bn=(e,n)=>Ut(e,n,Tn),qn=(e,n)=>{for(let o=0,i=e.length;o<i;o++){const c=e[o];if(n(c,o))return Q.some(o)}return Q.none()},eo=e=>{const n=[];for(let o=0,i=e.length;o<i;++o){if(!oe(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);pn.apply(n,e[o])}return n},Fo=(e,n)=>eo($e(e,n)),Ro=(e,n)=>{for(let o=0,i=e.length;o<i;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Zr=e=>{const n=co.call(e,0);return n.reverse(),n},cr=(e,n)=>je(e,o=>!xe(n,o)),ti=(e,n)=>{const o={};for(let i=0,c=e.length;i<c;i++){const m=e[i];o[String(m)]=n(m,i)}return o},wr=(e,n)=>{const o=co.call(e,0);return o.sort(n),o},ji=(e,n)=>n>=0&&n<e.length?Q.some(e[n]):Q.none(),En=e=>ji(e,0),uo=e=>ji(e,e.length-1),Oo=Te(Array.from)?Array.from:e=>co.call(e),ci=(e,n)=>{for(let o=0;o<e.length;o++){const i=n(e[o],o);if(i.isSome())return i}return Q.none()},tl=(e,n)=>{const o=[],i=Te(n)?c=>Ae(o,m=>n(m,c)):c=>xe(o,c);for(let c=0,m=e.length;c<m;c++){const p=e[c];i(p)||o.push(p)}return o},Xt=Object.keys,pi=Object.hasOwnProperty,ur=(e,n)=>{const o=Xt(e);for(let i=0,c=o.length;i<c;i++){const m=o[i],p=e[m];n(p,m)}},ql=(e,n)=>Wr(e,(o,i)=>({k:i,v:n(o,i)})),Wr=(e,n)=>{const o={};return ur(e,(i,c)=>{const m=n(i,c);o[m.k]=m.v}),o},ni=e=>(n,o)=>{e[o]=n},Dm=(e,n,o,i)=>{ur(e,(c,m)=>{(n(c,m)?o:i)(c,m)})},Zu=(e,n)=>{const o={},i={};return Dm(e,n,ni(o),ni(i)),{t:o,f:i}},Rc=(e,n)=>{const o={};return Dm(e,n,ni(o),lt),o},xl=(e,n)=>{const o=[];return ur(e,(i,c)=>{o.push(n(i,c))}),o},Gu=e=>xl(e,kn),Nr=(e,n)=>fo(e,n)?Q.from(e[n]):Q.none(),fo=(e,n)=>pi.call(e,n),Yl=(e,n)=>fo(e,n)&&e[n]!==void 0&&e[n]!==null,Ri=(e,n,o=N)=>R(o).eq(e,n),qu=e=>{const n={};return be(e,o=>{n[o]={}}),Xt(n)},un=e=>e.length!==void 0,Yu=Array.isArray,Rm=e=>{if(Yu(e))return e;{const n=[];for(let o=0,i=e.length;o<i;o++)n[o]=e[o];return n}},hs=(e,n,o)=>{if(!e)return!1;if(o=o||e,un(e)){for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e)===!1)return!1}else for(const i in e)if(fo(e,i)&&n.call(o,e[i],i,e)===!1)return!1;return!0},Im=(e,n)=>{const o=[];return hs(e,(i,c)=>{o.push(n(i,c,e))}),o},nl=(e,n)=>{const o=[];return hs(e,(i,c)=>{(!n||n(i,c,e))&&o.push(i)}),o},Vl=(e,n)=>{if(e){for(let o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},wl=(e,n,o,i)=>{let c=Xe(o)?e[0]:o;for(let m=0;m<e.length;m++)c=n.call(i,c,e[m],m);return c},ls=(e,n,o)=>{for(let i=0,c=e.length;i<c;i++)if(n.call(o,e[i],i,e))return i;return-1},Sa=e=>e[e.length-1],zl=e=>{let n=!1,o;return(...i)=>(n||(n=!0,o=e.apply(null,i)),o)},Nm=(e,n,o,i)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,m=e.isiOS()&&!c,p=e.isiOS()||e.isAndroid(),_=p||i("(pointer:coarse)"),A=c||!m&&p&&i("(min-device-width:768px)"),$=m||p&&!A,q=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,X=!$&&!A&&!q;return{isiPad:ct(c),isiPhone:ct(m),isTablet:ct(A),isPhone:ct($),isTouch:ct(_),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ct(q),isDesktop:ct(X)}},iu=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o];if(i.test(n))return i}},au=(e,n)=>{const o=iu(e,n);if(!o)return{major:0,minor:0};const i=c=>Number(n.replace(o,"$"+c));return dr(i(1),i(2))},kf=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?Fd():au(e,o)},Fd=()=>dr(0,0),dr=(e,n)=>({major:e,minor:n}),Ms={nu:dr,detect:kf,unknown:Fd},ui=(e,n)=>ci(n.brands,o=>{const i=o.brand.toLowerCase();return bn(e,c=>{var m;return i===((m=c.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(c=>({current:c.name,version:Ms.nu(parseInt(o.version,10),0)}))}),Pm=(e,n)=>{const o=String(n).toLowerCase();return bn(e,i=>i.search(o))},ol=(e,n)=>Pm(e,n).map(o=>{const i=Ms.detect(o.versionRegexes,n);return{current:o.name,version:i}}),lu=(e,n)=>Pm(e,n).map(o=>{const i=Ms.detect(o.versionRegexes,n);return{current:o.name,version:i}}),ka=(e,n)=>e.substring(n),Ea=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,cu=(e,n)=>cs(e,n)?ka(e,n.length):e,Mr=(e,n,o=0,i)=>{const c=e.indexOf(n,o);return c!==-1?Xe(i)?!0:c+n.length<=i:!1},cs=(e,n)=>Ea(e,n,0),Re=(e,n)=>Ea(e,n,e.length-n.length),st=e=>n=>n.replace(e,""),ze=st(/^\s+|\s+$/g),yt=st(/^\s+/g),ht=st(/\s+$/g),nt=e=>e.length>0,Gt=e=>!nt(e),an=(e,n)=>n<=0?"":new Array(n+1).join(e),mn=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?Q.none():Q.some(o)},Cn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,dn=e=>n=>Mr(n,e),_o=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Mr(e,"edge/")&&Mr(e,"chrome")&&Mr(e,"safari")&&Mr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Cn],search:e=>Mr(e,"chrome")&&!Mr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Mr(e,"msie")||Mr(e,"trident")},{name:"Opera",versionRegexes:[Cn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:dn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:dn("firefox")},{name:"Safari",versionRegexes:[Cn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Mr(e,"safari")||Mr(e,"mobile/"))&&Mr(e,"applewebkit")}],cn=[{name:"Windows",search:dn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Mr(e,"iphone")||Mr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:dn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:dn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:dn("linux"),versionRegexes:[]},{name:"Solaris",search:dn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:dn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:dn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tr={browsers:ct(_o),oses:ct(cn)},Ko="Edge",Qo="Chromium",Bs="IE",Io="Opera",Xl="Firefox",Aa="Safari",bo=()=>rl({current:void 0,version:Ms.unknown()}),rl=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isEdge:i(Ko),isChromium:i(Qo),isIE:i(Bs),isOpera:i(Io),isFirefox:i(Xl),isSafari:i(Aa)}},Cl={unknown:bo,nu:rl},Ts="Windows",Ef="iOS",oi="Android",Lm="Linux",Jl="macOS",Er="Solaris",$d="FreeBSD",Qg="ChromeOS",vp=()=>Os({current:void 0,version:Ms.unknown()}),Os=e=>{const n=e.current,o=e.version,i=c=>()=>n===c;return{current:n,version:o,isWindows:i(Ts),isiOS:i(Ef),isAndroid:i(oi),isMacOS:i(Jl),isLinux:i(Lm),isSolaris:i(Er),isFreeBSD:i($d),isChromeOS:i(Qg)}},Ic={unknown:vp,nu:Os},ts={detect:(e,n,o)=>{const i=Tr.browsers(),c=Tr.oses(),m=n.bind(A=>ui(i,A)).orThunk(()=>ol(i,e)).fold(Cl.unknown,Cl.nu),p=lu(c,e).fold(Ic.unknown,Ic.nu),_=Nm(p,m,e,o);return{browser:m,os:p,deviceType:_}}},Mm=e=>window.matchMedia(e).matches;let Hl=zl(()=>ts.detect(window.navigator.userAgent,Q.from(window.navigator.userAgentData),Mm));const sa=()=>Hl(),eh=window.navigator.userAgent,Ii=sa(),sl=Ii.browser,ia=Ii.os,Ul=Ii.deviceType,yp=eh.indexOf("Windows Phone")!==-1,zo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:sl.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!sl.isIE(),windowsPhone:yp,browser:{current:sl.current,version:sl.version,isChromium:sl.isChromium,isEdge:sl.isEdge,isFirefox:sl.isFirefox,isIE:sl.isIE,isOpera:sl.isOpera,isSafari:sl.isSafari},os:{current:ia.current,version:ia.version,isAndroid:ia.isAndroid,isChromeOS:ia.isChromeOS,isFreeBSD:ia.isFreeBSD,isiOS:ia.isiOS,isLinux:ia.isLinux,isMacOS:ia.isMacOS,isSolaris:ia.isSolaris,isWindows:ia.isWindows},deviceType:{isDesktop:Ul.isDesktop,isiPad:Ul.isiPad,isiPhone:Ul.isiPhone,isPhone:Ul.isPhone,isTablet:Ul.isTablet,isTouch:Ul.isTouch,isWebView:Ul.isWebView}},uu=/^\s*|\s*$/g,Vd=e=>rt(e)?"":(""+e).replace(uu,""),Xu=(e,n)=>n?n==="array"&&Yu(e)?!0:typeof e===n:e!==void 0,Gb=(e,n,o={})=>{const i=ae(e)?e.split(n||","):e||[];let c=i.length;for(;c--;)o[i[c]]={};return o},Tx=fo,f0=(e,...n)=>{for(let o=0;o<n.length;o++){const i=n[o];for(const c in i)if(fo(i,c)){const m=i[c];m!==void 0&&(e[c]=m)}}return e},m0=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),hs(e,(c,m)=>n.call(i,c,m,o)===!1?!1:(m0(c,n,o,i),!0)))},tn={trim:Vd,isArray:Yu,is:Xu,toArray:Rm,makeMap:Gb,each:hs,map:Im,grep:nl,inArray:Vl,hasOwn:Tx,extend:f0,walk:m0,resolve:(e,n=window)=>{const o=e.split(".");for(let i=0,c=o.length;i<c&&(n=n[o[i]],!!n);i++);return n},explode:(e,n)=>oe(e)?e:e===""?[]:Im(e.split(n||","),Vd),_addCacheSuffix:e=>{const n=zo.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Af=(e,n,o=Et)=>e.exists(i=>o(i,n)),Tf=(e,n,o=Et)=>aa(e,n,o).getOr(e.isNone()&&n.isNone()),h0=e=>{const n=[],o=i=>{n.push(i)};for(let i=0;i<e.length;i++)e[i].each(o);return n},aa=(e,n,o)=>e.isSome()&&n.isSome()?Q.some(o(e.getOrDie(),n.getOrDie())):Q.none(),Of=(e,n,o,i)=>e.isSome()&&n.isSome()&&o.isSome()?Q.some(i(e.getOrDie(),n.getOrDie(),o.getOrDie())):Q.none(),th=(e,n)=>e?Q.some(n):Q.none(),Ox=typeof window<"u"?window:Function("return this;")(),Dx=(e,n)=>{let o=n??Ox;for(let i=0;i<e.length&&o!==void 0&&o!==null;++i)o=o[e[i]];return o},qb=(e,n)=>{const o=e.split(".");return Dx(o,n)},Rx=(e,n)=>qb(e,n),p0=(e,n)=>{const o=Rx(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Ix=Object.getPrototypeOf,nh=e=>p0("HTMLElement",e),b0=e=>{const n=qb("ownerDocument.defaultView",e);return U(e)&&(nh(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ix(e).constructor.name))},Df=8,Rf=9,la=11,Sl=1,oh=3,er=e=>e.dom.nodeName.toLowerCase(),zd=e=>e.dom.nodeType,rh=e=>n=>zd(n)===e,sh=e=>zd(e)===Df||er(e)==="#comment",Ba=e=>Hs(e)&&b0(e.dom),Hs=rh(Sl),us=rh(oh),Zi=rh(Rf),ns=rh(la),If=e=>n=>Hs(n)&&er(n)===e,Bm=(e,n,o)=>{if(ae(o)||Me(o)||D(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},_i=(e,n,o)=>{Bm(e.dom,n,o)},Fa=(e,n)=>{const o=e.dom;ur(n,(i,c)=>{Bm(o,c,i)})},Ta=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},du=(e,n)=>Q.from(Ta(e,n)),Hd=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Lo=(e,n)=>{e.dom.removeAttribute(n)},di=e=>{const n=e.dom.attributes;return n==null||n.length===0},kl=e=>sn(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Ud=(e,n)=>{const o=Ta(e,n);return o===void 0||o===""?[]:o.split(" ")},Gi=(e,n,o)=>{const c=Ud(e,n).concat([o]);return _i(e,n,c.join(" ")),!0},Hn=(e,n,o)=>{const i=je(Ud(e,n),c=>c!==o);return i.length>0?_i(e,n,i.join(" ")):Lo(e,n),!1},Nc=e=>e.dom.classList!==void 0,Pc=e=>Ud(e,"class"),Or=(e,n)=>Gi(e,"class",n),wp=(e,n)=>Hn(e,"class",n),Yb=(e,n)=>xe(Pc(e),n)?wp(e,n):Or(e,n),Wd=(e,n)=>{Nc(e)?e.dom.classList.add(n):Or(e,n)},Ho=e=>{(Nc(e)?e.dom.classList:Pc(e)).length===0&&Lo(e,"class")},$a=(e,n)=>{Nc(e)?e.dom.classList.remove(n):wp(e,n),Ho(e)},Cp=(e,n)=>{const o=Nc(e)?e.dom.classList.toggle(n):Yb(e,n);return Ho(e),o},Kd=(e,n)=>Nc(e)&&e.dom.classList.contains(n),Xb=(e,n)=>{const i=(n||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return mu(i.childNodes[0])},fu=(e,n)=>{const i=(n||document).createElement(e);return mu(i)},il=(e,n)=>{const i=(n||document).createTextNode(e);return mu(i)},mu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ue={fromHtml:Xb,fromTag:fu,fromText:il,fromDom:mu,fromPoint:(e,n,o)=>Q.from(e.dom.elementFromPoint(n,o)).map(mu)},Fm=(e,n)=>{const o=[],i=m=>(o.push(m),n(m));let c=n(e);do c=c.bind(i);while(c.isSome());return o},Br=(e,n)=>{const o=e.dom;if(o.nodeType!==Sl)return!1;{const i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Jb=e=>e.nodeType!==Sl&&e.nodeType!==Rf&&e.nodeType!==la||e.childElementCount===0,ih=(e,n)=>{const o=n===void 0?document:n.dom;return Jb(o)?[]:$e(o.querySelectorAll(e),Ue.fromDom)},gu=(e,n)=>{const o=n===void 0?document:n.dom;return Jb(o)?Q.none():Q.from(o.querySelector(e)).map(Ue.fromDom)},tr=(e,n)=>e.dom===n.dom,ca=(e,n)=>{const o=e.dom,i=n.dom;return o===i?!1:o.contains(i)},Ju=e=>Ue.fromDom(e.dom.ownerDocument),dc=e=>Zi(e)?e:Ju(e),Qu=e=>Ue.fromDom(dc(e).dom.documentElement),ed=e=>Ue.fromDom(dc(e).dom.defaultView),ua=e=>Q.from(e.dom.parentNode).map(Ue.fromDom),Pf=e=>Q.from(e.dom.parentElement).map(Ue.fromDom),$m=(e,n)=>{const o=Te(n)?n:Tn;let i=e.dom;const c=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const m=i.parentNode,p=Ue.fromDom(m);if(c.push(p),o(p)===!0)break;i=m}return c},Qb=e=>{const n=o=>je(o,i=>!tr(e,i));return ua(e).map(da).map(n).getOr([])},Si=e=>Q.from(e.dom.previousSibling).map(Ue.fromDom),Gn=e=>Q.from(e.dom.nextSibling).map(Ue.fromDom),td=e=>Zr(Fm(e,Si)),Vm=e=>Fm(e,Gn),da=e=>$e(e.dom.childNodes,Ue.fromDom),nd=(e,n)=>{const o=e.dom.childNodes;return Q.from(o[n]).map(Ue.fromDom)},Wl=e=>nd(e,0),od=e=>nd(e,e.dom.childNodes.length-1),jd=e=>e.dom.childNodes.length,ki=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return Ue.fromDom(n)},fc=e=>ns(e)&&Oe(e.dom.host),hu=e=>Ue.fromDom(e.dom.getRootNode()),zm=e=>fc(e)?e:ki(dc(e)),v0=e=>fc(e)?e:Ue.fromDom(dc(e).dom.body),rd=e=>{const n=hu(e);return fc(n)?Q.some(n):Q.none()},Lf=e=>Ue.fromDom(e.dom.host),ev=e=>{if(Oe(e.target)){const n=Ue.fromDom(e.target);if(Hs(n)&&_s(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return En(o)}}return Q.from(e.target)},_s=e=>Oe(e.dom.shadowRoot),Va=e=>{const n=us(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return rd(Ue.fromDom(n)).fold(()=>o.body.contains(n),Yt(Va,Lf))};var Oa=(e,n,o,i,c)=>e(o,i)?Q.some(o):Te(c)&&c(o)?Q.none():n(o,i,c);const al=(e,n,o)=>{let i=e.dom;const c=Te(o)?o:Tn;for(;i.parentNode;){i=i.parentNode;const m=Ue.fromDom(i);if(n(m))return Q.some(m);if(c(m))break}return Q.none()},bi=(e,n,o)=>Oa((c,m)=>m(c),al,e,n,o),_p=(e,n)=>{const o=e.dom;return o.parentNode?fi(Ue.fromDom(o.parentNode),i=>!tr(e,i)&&n(i)):Q.none()},fi=(e,n)=>{const o=c=>n(Ue.fromDom(c));return bn(e.dom.childNodes,o).map(Ue.fromDom)},qi=(e,n)=>{const o=i=>{for(let c=0;c<i.childNodes.length;c++){const m=Ue.fromDom(i.childNodes[c]);if(n(m))return Q.some(m);const p=o(i.childNodes[c]);if(p.isSome())return p}return Q.none()};return o(e.dom)},pu=(e,n,o)=>al(e,i=>Br(i,n),o),Lt=(e,n)=>gu(n,e),Yi=(e,n,o)=>Oa((c,m)=>Br(c,m),pu,e,n,o),Sp=e=>Yi(e,"[contenteditable]"),Ss=(e,n=!1)=>Va(e)?e.dom.isContentEditable:Sp(e).fold(ct(n),o=>sd(o)==="true"),sd=e=>e.dom.contentEditable,za=e=>e.style!==void 0&&Te(e.style.getPropertyValue),Lc=(e,n,o)=>{if(!ae(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);za(e)&&e.style.setProperty(n,o)},Hm=(e,n)=>{za(e)&&e.style.removeProperty(n)},ll=(e,n,o)=>{const i=e.dom;Lc(i,n,o)},qo=(e,n)=>{const o=e.dom;ur(n,(i,c)=>{Lc(o,c,i)})},Us=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Va(e)?Mf(o,n):c},Mf=(e,n)=>za(e)?e.style.getPropertyValue(n):"",Fs=(e,n)=>{const o=e.dom,i=Mf(o,n);return Q.from(i).filter(c=>c.length>0)},ah=e=>{const n={},o=e.dom;if(za(o))for(let i=0;i<o.style.length;i++){const c=o.style.item(i);n[c]=o.style[c]}return n},bu=(e,n)=>{const o=e.dom;Hm(o,n),Af(du(e,"style").map(ze),"")&&Lo(e,"style")},y0=e=>e.dom.offsetWidth,Ds=(e,n)=>{ua(e).each(i=>{i.dom.insertBefore(n.dom,e.dom)})},ut=(e,n)=>{Gn(e).fold(()=>{ua(e).each(c=>{Ws(c,n)})},i=>{Ds(i,n)})},Ha=(e,n)=>{Wl(e).fold(()=>{Ws(e,n)},i=>{e.dom.insertBefore(n.dom,i.dom)})},Ws=(e,n)=>{e.dom.appendChild(n.dom)},Ql=(e,n)=>{Ds(e,n),Ws(n,e)},Mc=(e,n)=>{be(n,(o,i)=>{const c=i===0?e:n[i-1];ut(c,o)})},ri=(e,n)=>{be(n,o=>{Ws(e,o)})},os=e=>{e.dom.textContent="",be(da(e),n=>{Pr(n)})},Pr=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ua=e=>{const n=da(e);n.length>0&&Mc(e,n),Pr(e)},ec=(e,n)=>{const i=(n||document).createElement("div");return i.innerHTML=e,da(Ue.fromDom(i))},vu=e=>$e(e,Ue.fromDom),Zd=e=>e.dom.innerHTML,Um=(e,n)=>{const i=Ju(e).dom,c=Ue.fromDom(i.createDocumentFragment()),m=ec(n,i);ri(c,m),os(e),Ws(e,c)},lh=e=>{const n=Ue.fromTag("div"),o=Ue.fromDom(e.dom.cloneNode(!0));return Ws(n,o),Zd(n)},ch=(e,n,o,i,c,m,p)=>({target:e,x:n,y:o,stop:i,prevent:c,kill:m,raw:p}),tv=e=>{const n=Ue.fromDom(ev(e).getOr(e.target)),o=()=>e.stopPropagation(),i=()=>e.preventDefault(),c=zt(i,o);return ch(n,e.clientX,e.clientY,o,i,c,e)},nv=(e,n)=>o=>{e(o)&&n(tv(o))},id=(e,n,o,i,c)=>{const m=nv(o,i);return e.dom.addEventListener(n,m,c),{unbind:Qe(G,e,n,m,c)}},L=(e,n,o,i)=>id(e,n,o,i,!1),G=(e,n,o,i)=>{e.dom.removeEventListener(n,o,i)},ce=(e,n)=>({left:e,top:n,translate:(i,c)=>ce(e+i,n+c)}),Be=ce,Ye=e=>{const n=e.getBoundingClientRect();return Be(n.left,n.top)},Mt=(e,n)=>e!==void 0?e:n!==void 0?n:0,Yn=e=>{const n=e.dom.ownerDocument,o=n.body,i=n.defaultView,c=n.documentElement;if(o===e.dom)return Be(o.offsetLeft,o.offsetTop);const m=Mt(i==null?void 0:i.pageYOffset,c.scrollTop),p=Mt(i==null?void 0:i.pageXOffset,c.scrollLeft),_=Mt(c.clientTop,o.clientTop),A=Mt(c.clientLeft,o.clientLeft);return So(e).translate(p-A,m-_)},So=e=>{const n=e.dom,i=n.ownerDocument.body;return i===n?Be(i.offsetLeft,i.offsetTop):Va(e)?Ye(n):Be(0,0)},mo=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Be(o,i)},Pn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Cr=(e,n)=>{sa().browser.isSafari()&&Te(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ks=e=>{const n=e===void 0?window:e;return sa().browser.isFirefox()?Q.none():Q.from(n.visualViewport)},ks=(e,n,o,i)=>({x:e,y:n,width:o,height:i,right:e+o,bottom:n+i}),Bc=e=>{const n=e===void 0?window:e,o=n.document,i=mo(Ue.fromDom(o));return Ks(n).fold(()=>{const c=n.document.documentElement,m=c.clientWidth,p=c.clientHeight;return ks(i.left,i.top,m,p)},c=>ks(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height))},Wm=(e,n)=>je(da(e),n),Km=(e,n)=>{let o=[];return be(da(e),i=>{n(i)&&(o=o.concat([i])),o=o.concat(Km(i,n))}),o},vi=(e,n)=>ih(n,e),KC=(e,n,o)=>al(e,n,o).isSome(),ov=(e,n)=>_p(e,n).isSome(),x0=(e,n)=>qi(e,n).isSome();class fa{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,i,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let m=n[i];if(m)return m;for(let p=n.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(m=p[i],m)return m}}}findPreviousNode(n,o){if(n){const i=n.previousSibling;if(this.rootNode&&i===this.rootNode)return;if(i){if(!o){for(let m=i.lastChild;m;m=m.lastChild)if(!m.lastChild)return m}return i}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Rs="\uFEFF",Ni="",ad=e=>e===Rs,kp=e=>e.replace(/\uFEFF/g,""),Nx=/^[ \t\r\n]*$/,mc=e=>Nx.test(e),El=e=>{for(const n of e)if(!ad(n))return!1;return!0},rv=e=>" \f	\v".indexOf(e)!==-1,Bf=e=>e===`
`||e==="\r",BE=(e,n)=>n<e.length&&n>=0?Bf(e[n]):!1,sv=(e,n=4,o=!0,i=!0)=>{const c=an(" ",n),m=e.replace(/\t/g,c);return sn(m,(_,A)=>rv(A)||A===Ni?_.pcIsSpace||_.str===""&&o||_.str.length===m.length-1&&i||BE(m,_.str.length+1)?{pcIsSpace:!1,str:_.str+Ni}:{pcIsSpace:!0,str:_.str+" "}:{pcIsSpace:Bf(A),str:_.str+A},{pcIsSpace:!1,str:""}).str},Gd=e=>n=>!!n&&n.nodeType===e,Ff=e=>!!e&&!Object.getPrototypeOf(e),Nn=Gd(1),yu=e=>Nn(e)&&Ba(Ue.fromDom(e)),iv=e=>Nn(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",$f=e=>{const n=e.toLowerCase();return o=>Oe(o)&&o.nodeName.toLowerCase()===n},ma=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const i=o.nodeName.toLowerCase();return xe(n,i)}return!1}},Fc=(e,n)=>{const o=n.toLowerCase().split(" ");return i=>{if(Nn(i)){const c=i.ownerDocument.defaultView;if(c)for(let m=0;m<o.length;m++){const p=c.getComputedStyle(i,null);if((p?p.getPropertyValue(e):null)===o[m])return!0}}return!1}},uh=e=>n=>Nn(n)&&n.hasAttribute(e),Vf=e=>Nn(e)&&e.hasAttribute("data-mce-bogus"),w0=e=>Nn(e)&&e.getAttribute("data-mce-bogus")==="all",xu=e=>Nn(e)&&e.tagName==="TABLE",Ep=e=>n=>!!(yu(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Ap=ma(["textarea","input"]),jt=Gd(3),Px=Gd(4),zf=Gd(7),No=Gd(8),Mn=Gd(9),Hf=Gd(11),ps=$f("br"),$c=$f("img"),Vc=Ep("true"),yo=Ep("false"),Tp=ma(["td","th"]),jC=ma(["td","th","caption"]),Ot=ma(["video","audio","object","embed"]),Lx=$f("li"),Op=$f("details"),Dp=$f("summary"),dh={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},jm=(e,n,o)=>{const i=Ue.fromDom(n),c=Ue.fromDom(e),m=o.getWhitespaceElements();return KC(c,_=>fo(m,er(_)),Qe(tr,i))},ZC=e=>Nn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Uf=(e,n)=>Nn(e)&&fo(n.getNonEmptyElements(),e.nodeName),as=uh("data-mce-bookmark"),ld=e=>Pf(Ue.fromDom(e)).exists(n=>!Ss(n)),C0=(e,n,o)=>mc(e.data)&&!jm(e,n,o),wu=(e,n,o,i)=>jt(e)&&!C0(e,n,o)&&(!i.includeZwsp||!El(e.data)),Zm=(e,n,o,i)=>Te(i.isContent)&&i.isContent(n)||Uf(n,e)||as(n)||ZC(n)||wu(n,o,e,i)||yo(n)||Vc(n)&&ld(n),gc=(e,n,o)=>{const i={...dh,...o};if(i.checkRootAsContent&&Zm(e,n,n,i))return!1;let c=n.firstChild,m=0;if(!c)return!0;const p=new fa(c,n);do{if(i.skipBogus&&Nn(c)){const _=c.getAttribute("data-mce-bogus");if(_){c=p.next(_==="all");continue}}if(No(c)){c=p.next(!0);continue}if(ps(c)){m++,c=p.next();continue}if(Zm(e,c,n,i))return!1;c=p.next()}while(c);return m<=1},js=(e,n,o)=>gc(e,n.dom,{checkRootAsContent:!0,...o}),av=(e,n,o)=>Zm(e,n,n,{includeZwsp:dh.includeZwsp,...o}),Pi=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},_0=e=>{const n=Pi(Q.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(Q.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(Q.some(_))}}},zc=e=>{const n=Pi(Q.none()),o=()=>n.get().each(_=>clearInterval(_));return{clear:()=>{o(),n.set(Q.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:_=>{o(),n.set(Q.some(setInterval(_,e)))}}},Li=()=>{const e=_0(lt);return{...e,on:o=>e.get().each(o)}},qt=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Gm=e=>qt(e)!=="html",Mi=e=>Gm(e.nodeName),GC=e=>qt(e.nodeName),qC=["svg","math"],FE=()=>{const e=Li(),n=()=>e.get().map(GC).getOr("html");return{track:c=>(Mi(c)?e.set(c):e.get().exists(m=>!m.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},qd="data-mce-block",fh=e=>je(Xt(e),n=>!/[A-Z]/.test(n)),lv=e=>$e(fh(e),n=>{const o=CSS.escape(n);return`${o}:`+$e(qC,i=>`not(${i} ${o})`).join(":")}).join(","),S0=(e,n)=>Oe(n.querySelector(e))?(n.setAttribute(qd,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(qd),!1),Mx=(e,n)=>{const o=lv(e.getTransparentElements()),i=lv(e.getBlockElements());return je(n.querySelectorAll(o),c=>S0(i,c))},Es=(e,n,o)=>{var i;const c=o?"lastChild":"firstChild";for(let m=n[c];m;m=m[c])if(gc(e,m,{checkRootAsContent:!0})){(i=m.parentNode)===null||i===void 0||i.removeChild(m);return}},cv=(e,n,o)=>{const i=document.createRange(),c=n.parentNode;if(c){i.setStartBefore(n),i.setEndBefore(o);const m=i.extractContents();Es(e,m,!0),i.setStartAfter(o),i.setEndAfter(n);const p=i.extractContents();Es(e,p,!1),gc(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),gc(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),gc(e,p,{checkRootAsContent:!0})||c.insertBefore(p,n),c.removeChild(n)}},Is=(e,n,o)=>{const i=e.getBlockElements(),c=Ue.fromDom(n),m=_=>er(_)in i,p=_=>tr(_,c);be(vu(o),_=>{al(_,m,p).each(A=>{const $=Wm(_,q=>m(q)&&!e.isValidChild(er(A),er(q)));if($.length>0){const q=Pf(A);be($,X=>{al(X,m,p).each(ne=>{cv(e,ne.dom,X.dom)})}),q.each(X=>Mx(e,X.dom))}})})},cl=(e,n,o)=>{be([...o,...Wf(e,n)?[n]:[]],i=>be(vi(Ue.fromDom(i),i.nodeName.toLowerCase()),c=>{YC(e,c.dom)&&Ua(c)}))},Zs=(e,n)=>{const o=Mx(e,n);Is(e,n,o),cl(e,n,o)},hc=(e,n)=>{if(Rp(e,n)){const o=lv(e.getBlockElements());S0(o,n)}},Yd=(e,n,o)=>{const i=m=>tr(m,Ue.fromDom(n)),c=$m(Ue.fromDom(o),i);ji(c,c.length-2).filter(Hs).fold(()=>Zs(e,n),m=>Zs(e,m.dom))},Xi=e=>e.hasAttribute(qd),uv=(e,n)=>fo(e.getTransparentElements(),n),Rp=(e,n)=>Nn(n)&&uv(e,n.nodeName),Wf=(e,n)=>Rp(e,n)&&Xi(n),YC=(e,n)=>Rp(e,n)&&!Xi(n),Ip=(e,n)=>n.type===1&&uv(e,n.name)&&ae(n.attr(qd)),Bx=sa().browser,k0=e=>bn(e,Hs),dv=e=>Bx.isFirefox()&&er(e)==="table"?k0(da(e)).filter(n=>er(n)==="caption").bind(n=>k0(Vm(n)).map(o=>{const i=o.dom.offsetTop,c=n.dom.offsetTop,m=n.dom.offsetHeight;return i<=c?-m:0})).getOr(0):0,E0=(e,n)=>e.children&&xe(e.children,n),Fx=(e,n,o)=>{let i=0,c=0;const m=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Us(Ue.fromDom(e),"position")==="static"){const _=n.getBoundingClientRect();return i=_.left+(m.documentElement.scrollLeft||e.scrollLeft)-m.documentElement.clientLeft,c=_.top+(m.documentElement.scrollTop||e.scrollTop)-m.documentElement.clientTop,{x:i,y:c}}let p=n;for(;p&&p!==o&&p.nodeType&&!E0(p,o);){const _=p;i+=_.offsetLeft||0,c+=_.offsetTop||0,p=_.offsetParent}for(p=n.parentNode;p&&p!==o&&p.nodeType&&!E0(p,o);)i-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=dv(Ue.fromDom(n))}return{x:i,y:c}},qm=(e,n={})=>{let o=0;const i={},c=Ue.fromDom(e),m=dc(c),p=Ge=>{n.referrerPolicy=Ge},_=Ge=>{n.contentCssCors=Ge},A=Ge=>{Ws(zm(c),Ge)},$=Ge=>{const ot=zm(c);Lt(ot,"#"+Ge).each(Pr)},q=Ge=>Nr(i,Ge).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),X=Ge=>new Promise((ot,tt)=>{let bt;const Vt=tn._addCacheSuffix(Ge),en=q(Vt);i[Vt]=en,en.count++;const wn=(Dn,Wn)=>{be(Dn,Ht),en.status=Wn,en.passed=[],en.failed=[],bt&&(bt.onload=null,bt.onerror=null,bt=null)},Rt=()=>wn(en.passed,2),Ct=()=>wn(en.failed,3);if(ot&&en.passed.push(ot),tt&&en.failed.push(tt),en.status===1)return;if(en.status===2){Rt();return}if(en.status===3){Ct();return}en.status=1;const Ft=Ue.fromTag("link",m.dom);Fa(Ft,{rel:"stylesheet",type:"text/css",id:en.id}),n.contentCssCors&&_i(Ft,"crossOrigin","anonymous"),n.referrerPolicy&&_i(Ft,"referrerpolicy",n.referrerPolicy),bt=Ft.dom,bt.onload=Rt,bt.onerror=Ct,A(Ft),_i(Ft,"href",Vt)}),ne=(Ge,ot)=>{const tt=q(Ge);i[Ge]=tt,tt.count++;const bt=Ue.fromTag("style",m.dom);Fa(bt,{rel:"stylesheet",type:"text/css",id:tt.id}),bt.dom.innerHTML=ot,A(bt)},ve=Ge=>Promise.allSettled($e(Ge,tt=>X(tt).then(ct(tt)))).then(tt=>{const bt=Ne(tt,Vt=>Vt.status==="fulfilled");return bt.fail.length>0?Promise.reject($e(bt.fail,Vt=>Vt.reason)):$e(bt.pass,Vt=>Vt.value)}),Ee=Ge=>{const ot=tn._addCacheSuffix(Ge);Nr(i,ot).each(tt=>{--tt.count===0&&(delete i[ot],$(tt.id))})};return{load:X,loadRawCss:ne,loadAll:ve,unload:Ee,unloadRawCss:Ge=>{Nr(i,Ge).each(ot=>{--ot.count===0&&(delete i[Ge],$(ot.id))})},unloadAll:Ge=>{be(Ge,ot=>{Ee(ot)})},_setReferrerPolicy:p,_setContentCssCors:_}},A0=(()=>{const e=new WeakMap;return{forElement:(o,i)=>{const m=hu(o).dom;return Q.from(e.get(m)).getOrThunk(()=>{const p=qm(m,i);return e.set(m,p),p})}}})(),T0=e=>e.nodeName.toLowerCase()==="span",$x=(e,n)=>Oe(e)&&(av(n,e)||n.isInline(e.nodeName.toLowerCase())),Vx=(e,n,o)=>{const i=new fa(e,n).prev(!1),c=new fa(e,n).next(!1),m=Xe(i)||$x(i,o),p=Xe(c)||$x(c,o);return m&&p},fv=e=>T0(e)&&e.getAttribute("data-mce-type")==="bookmark",zx=(e,n,o)=>jt(e)&&e.data.length>0&&Vx(e,n,o),Hx=e=>Nn(e)?e.childNodes.length>0:!1,mv=e=>Hf(e)||Mn(e),Np=(e,n,o,i)=>{var c;const m=i||n;if(Nn(n)&&fv(n))return n;const p=n.childNodes;for(let _=p.length-1;_>=0;_--)Np(e,p[_],o,m);if(Nn(n)){const _=n.childNodes;_.length===1&&fv(_[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(_[0],n))}return!mv(n)&&!av(o,n)&&!Hx(n)&&!zx(n,m,o)&&e.remove(n),n},Ux=tn.makeMap,gv=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hv=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ym=/[<>&\"\']/g,Pp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wx={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Xd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},mh={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},gh=e=>{const n=Ue.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Jd=(e,n)=>{const o={};if(e){const i=e.split(",");n=n||10;for(let c=0;c<i.length;c+=2){const m=String.fromCharCode(parseInt(i[c],n));if(!Xd[m]){const p="&"+i[c+1]+";";o[m]=p,o[p]=m}}return o}else return},Kf=Jd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),pv=(e,n)=>e.replace(n?gv:hv,o=>Xd[o]||o),VE=e=>(""+e).replace(Ym,n=>Xd[n]||n),bv=(e,n)=>e.replace(n?gv:hv,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Xd[o]||"&#"+o.charCodeAt(0)+";"),Hc=(e,n,o)=>{const i=o||Kf;return e.replace(n?gv:hv,c=>Xd[c]||i[c]||c)},hh={encodeRaw:pv,encodeAllRaw:VE,encodeNumeric:bv,encodeNamed:Hc,getEncodeFunc:(e,n)=>{const o=Jd(n)||Kf,i=(p,_)=>p.replace(_?gv:hv,A=>Xd[A]!==void 0?Xd[A]:o[A]!==void 0?o[A]:A.length>1?"&#"+((A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"),c=(p,_)=>Hc(p,_,o),m=Ux(e.replace(/\+/g,","));return m.named&&m.numeric?i:m.named?n?c:Hc:m.numeric?bv:pv},decode:e=>e.replace(Pp,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Wx[o]||String.fromCharCode(o)):mh[n]||Kf[n]||gh(n))},ga=(e,n)=>(e=tn.trim(e),e?e.split(n||" "):[]),ph=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),bh=e=>U(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",O0=e=>{const n=o=>oe(o)?$e(o,n):bh(o)?new RegExp(o.source,o.flags):U(o)?ql(o,n):o;return n(e)},nr=e=>{const n=/^(~)?(.+)$/;return Fo(ga(e,","),o=>{const i=n.exec(o);if(i){const m=i[1]==="~"?"span":"div",p=i[2];return[{cloneName:m,name:p}]}else return[]})},Al=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),cd=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const i=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:i}},Da=e=>{const{blockContent:n,phrasingContent:o,flowContent:i}=cd(e),c=m=>Object.freeze(m.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(i)})},Yr={html4:zl(()=>Da("html4")),html5:zl(()=>Da("html5")),"html5-strict":zl(()=>Da("html5-strict"))},vv=(e,n)=>{const{blockContent:o,phrasingContent:i,flowContent:c}=Yr[e]();return n==="blocks"?Q.some(o):n==="phrasing"?Q.some(i):n==="flow"?Q.some(c):Q.none()},JC=e=>{const n=Al(e),{phrasingContent:o,flowContent:i}=cd(e),c={},m=(A,$,q)=>{c[A]={attributes:ti($,ct({})),attributesOrder:$,children:ti(q,ct({}))}},p=(A,$="",q="")=>{const X=ga(q),ne=ga(A);let ve=ne.length;const Ee=[...n,...ga($)];for(;ve--;)m(ne[ve],Ee.slice(),X)},_=(A,$)=>{const q=ga(A),X=ga($);let ne=q.length;for(;ne--;){const ve=c[q[ne]];for(let Ee=0,ye=X.length;Ee<ye;Ee++)ve.attributes[X[Ee]]={},ve.attributesOrder.push(X[Ee])}};return e!=="html5-strict"&&(be(ga("acronym applet basefont big font strike tt"),q=>{p(q,"",o)}),be(ga("center dir isindex noframes"),q=>{p(q,"",i)})),p("html","manifest","head body"),p("head","","base command link meta noscript script style title"),p("title hr noscript br"),p("base","href target"),p("link","href rel media hreflang type sizes hreflang"),p("meta","name http-equiv content charset"),p("style","media type scoped"),p("script","src async defer type charset"),p("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),p("dd div","",i),p("address dt caption","",e==="html4"?o:i),p("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),p("blockquote","cite",i),p("ol","reversed start type","li"),p("ul","","li"),p("li","value",i),p("dl","","dt dd"),p("a","href target rel media hreflang type",e==="html4"?o:i),p("q","cite",o),p("ins del","cite datetime",i),p("img","src sizes srcset alt usemap ismap width height"),p("iframe","src name width height",i),p("embed","src type width height"),p("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),p("param","name value"),p("map","name",[i,"area"].join(" ")),p("area","alt coords shape href target rel media hreflang type"),p("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),p("colgroup","span","col"),p("col","span"),p("tbody thead tfoot","","tr"),p("tr","","td th"),p("td","colspan rowspan headers",i),p("th","colspan rowspan headers scope abbr",i),p("form","accept-charset action autocomplete enctype method name novalidate target",i),p("fieldset","disabled form name",[i,"legend"].join(" ")),p("label","form for",o),p("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),p("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:o),p("select","disabled form multiple name required size","option optgroup"),p("optgroup","disabled label","option"),p("option","disabled label selected value"),p("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),p("menu","type label",[i,"li"].join(" ")),p("noscript","",i),e!=="html4"&&(p("wbr"),p("ruby","",[o,"rt rp"].join(" ")),p("figcaption","",i),p("mark rt rp bdi","",o),p("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),p("canvas","width height",i),p("data","value",o),p("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),p("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),p("picture","","img source"),p("source","src srcset type media sizes"),p("track","kind src srclang label default"),p("datalist","",[o,"option"].join(" ")),p("article section nav aside main header footer","",i),p("hgroup","","h1 h2 h3 h4 h5 h6"),p("figure","",[i,"figcaption"].join(" ")),p("time","datetime",o),p("dialog","open",i),p("command","type label icon disabled checked radiogroup command"),p("output","for form name",o),p("progress","value max",o),p("meter","value min max low high optimum",o),p("details","open",[i,"summary"].join(" ")),p("keygen","autofocus challenge disabled form keytype name"),m("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&be([c.video,c.audio],A=>{delete A.children.audio,delete A.children.video}),be(ga("a form meter progress dfn"),A=>{c[A]&&delete c[A].children[A]}),delete c.caption.children.table,delete c.script,c},zE=e=>e==="-"?"remove":"add",ds=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return Q.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},D0=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Fo(ga(e,","),o=>{const i=n.exec(o);if(i){const c=i[1],m=c?zE(c):"replace",p=i[2],_=Fo(ga(i[3],"|"),A=>ds(A).toArray());return[{operation:m,name:p,validChildren:_}]}else return[]})},jx=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/,{attributes:c,attributesOrder:m}=n;return be(ga(e,"|"),p=>{const _=o.exec(p);if(_){const A={},$=_[1],q=_[2].replace(/[\\:]:/g,":"),X=_[3],ne=_[4];if($==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(q),A.required=!0),$==="-"){delete c[q],m.splice(tn.inArray(m,q),1);return}if(X&&(X==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:q,value:ne}),A.defaultValue=ne):X==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:q,value:ne}),A.forcedValue=ne):X==="<"&&(A.validValues=tn.makeMap(ne,"?"))),i.test(q)){const ve=A;n.attributePatterns=n.attributePatterns||[],ve.pattern=ph(q),n.attributePatterns.push(ve)}else c[q]||m.push(q),c[q]=A}})},Xm=(e,n)=>{ur(e.attributes,(o,i)=>{n.attributes[i]=o}),n.attributesOrder.push(...e.attributesOrder)},Uc=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Fo(ga(n,","),i=>{const c=o.exec(i);if(c){const m=c[1],p=c[2],_=c[3],A=c[4],$=c[5],q={attributes:{},attributesOrder:[]};if(e.each(X=>Xm(X,q)),m==="#"?q.paddEmpty=!0:m==="-"&&(q.removeEmpty=!0),A==="!"&&(q.removeEmptyAttrs=!0),$&&jx($,q),_&&(q.outputName=p),p==="@")if(e.isNone())e=Q.some(q);else return[];return[_?{name:p,element:q,aliasName:_}:{name:p,element:q}]}else return[]})},Lp={},_n=tn.makeMap,Cu=tn.each,Zx=tn.extend,R0=tn.explode,Mp=(e,n={})=>{const o=_n(e," ",_n(e.toUpperCase()," "));return Zx(o,n)},I0=e=>Mp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),vh=(e,n)=>{if(e){const o={};return ae(e)&&(e={"*":e}),Cu(e,(i,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?_n(i,/[, ]/):R0(i,/[, ]/)}),o}else return},Wc=(e={})=>{var n;const o={},i={};let c=[];const m={},p={},_=(Zn,mr,Xs)=>{const wi=e[Zn];if(wi)return _n(wi,/[, ]/,_n(wi.toUpperCase(),/[, ]/));{let na=Lp[Zn];return na||(na=Mp(mr,Xs),Lp[Zn]=na),na}},A=(n=e.schema)!==null&&n!==void 0?n:"html5",$=JC(A);e.verify_html===!1&&(e.valid_elements="*[*]");const q=vh(e.valid_styles),X=vh(e.invalid_styles,"map"),ne=vh(e.valid_classes,"map"),ve=_("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ee=_("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ye=_("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ie=_("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Ge="td th iframe video audio object script code",ot=_("non_empty_elements",Ge+" pre svg textarea summary",ye),tt=_("move_caret_before_on_enter_elements",Ge+" table",ye),bt="h1 h2 h3 h4 h5 h6",Vt=_("text_block_elements",bt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),en=_("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Vt),wn=_("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Rt=_("transparent_elements","a ins del canvas map"),Ct=_("wrap_block_elements","pre "+bt);Cu("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Zn=>{p[Zn]=new RegExp("</"+Zn+"[^>]*>","gi")});const Ft=Zn=>{const mr=Q.from(o["@"]),Xs=/[*?+]/;be(Uc(mr,Zn??""),({name:wi,element:na,aliasName:pl})=>{if(pl&&(o[pl]=na),Xs.test(wi)){const Vi=na;Vi.pattern=ph(wi),c.push(Vi)}else o[wi]=na})},Dn=Zn=>{c=[],be(Xt(o),mr=>{delete o[mr]}),Ft(Zn)},Wn=(Zn,mr)=>{var Xs,wi;delete Lp.text_block_elements,delete Lp.block_elements;const na=mr.extends?!Ad(mr.extends):!1,pl=mr.extends;if(i[Zn]=pl?i[pl]:{},m[Zn]=pl??Zn,ot[Zn.toUpperCase()]={},ot[Zn]={},na||(en[Zn.toUpperCase()]={},en[Zn]={}),pl&&!o[Zn]&&o[pl]){const Vi=O0(o[pl]);delete Vi.removeEmptyAttrs,delete Vi.removeEmpty,o[Zn]=Vi}else o[Zn]={attributesOrder:[],attributes:{}};if(oe(mr.attributes)){const Vi=kc=>{zi.attributesOrder.push(kc),zi.attributes[kc]={}},zi=(Xs=o[Zn])!==null&&Xs!==void 0?Xs:{};delete zi.attributesDefault,delete zi.attributesForced,delete zi.attributePatterns,delete zi.attributesRequired,zi.attributesOrder=[],zi.attributes={},be(mr.attributes,kc=>{const Pg=Al(A);ds(kc).each(({preset:Lg,name:Mg})=>{Lg?Mg==="global"&&be(Pg,Vi):Vi(Mg)})}),o[Zn]=zi}if(Me(mr.padEmpty)){const Vi=(wi=o[Zn])!==null&&wi!==void 0?wi:{};Vi.paddEmpty=mr.padEmpty,o[Zn]=Vi}if(oe(mr.children)){const Vi={},zi=Pg=>{Vi[Pg]={}},kc=Pg=>{vv(A,Pg).each(Lg=>{be(Lg,zi)})};be(mr.children,Pg=>{ds(Pg).each(({preset:Lg,name:Mg})=>{Lg?kc(Mg):zi(Mg)})}),i[Zn]=Vi}pl&&ur(i,(Vi,zi)=>{Vi[pl]&&(i[zi]=Vi=Zx({},i[zi]),Vi[Zn]=Vi[pl])})},$o=Zn=>{be(nr(Zn??""),({name:mr,cloneName:Xs})=>{Wn(mr,{extends:Xs})})},jo=Zn=>{U(Zn)?ur(Zn,(mr,Xs)=>Wn(Xs,mr)):ae(Zn)&&$o(Zn)},Lr=Zn=>{be(D0(Zn??""),({operation:mr,name:Xs,validChildren:wi})=>{const na=mr==="replace"?{"#comment":{}}:i[Xs],pl=zi=>{mr==="remove"?delete na[zi]:na[zi]={}},Vi=zi=>{vv(A,zi).each(kc=>{be(kc,pl)})};be(wi,({preset:zi,name:kc})=>{zi?Vi(kc):pl(kc)}),i[Xs]=na})},Kr=Zn=>{const mr=o[Zn];if(mr)return mr;let Xs=c.length;for(;Xs--;){const wi=c[Xs];if(wi.pattern.test(Zn))return wi}},gi=()=>{e.valid_elements?(Dn(e.valid_elements),Cu($,(Zn,mr)=>{i[mr]=Zn.children})):(Cu($,(Zn,mr)=>{o[mr]={attributes:Zn.attributes,attributesOrder:Zn.attributesOrder},i[mr]=Zn.children}),Cu(ga("strong/b em/i"),Zn=>{const mr=ga(Zn,"/");o[mr[1]].outputName=mr[0]}),Cu(wn,(Zn,mr)=>{o[mr]&&(e.padd_empty_block_inline_children&&(o[mr].paddInEmptyBlock=!0),o[mr].removeEmpty=!0)}),Cu(ga("ol ul blockquote a table tbody"),Zn=>{o[Zn]&&(o[Zn].removeEmpty=!0)}),Cu(ga("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Zn=>{o[Zn]&&(o[Zn].paddEmpty=!0)}),Cu(ga("span"),Zn=>{o[Zn].removeEmptyAttrs=!0})),delete o.svg,jo(e.custom_elements),Lr(e.valid_children),Ft(e.extended_valid_elements),Lr("+ol[ul|ol],+ul[ul|ol]"),Cu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Zn,mr)=>{o[mr]&&(o[mr].parentsRequired=ga(Zn))}),e.invalid_elements&&Cu(R0(e.invalid_elements),Zn=>{o[Zn]&&delete o[Zn]}),Kr("span")||Ft("span[!data-mce-type|*]")},Ll=ct(q),Qr=ct(X),ln=ct(ne),Vn=ct(Ie),_r=ct(en),fn=ct(Vt),Qn=ct(wn),Wo=ct(Object.seal(ye)),yn=ct(Ee),Vo=ct(ot),Zo=ct(tt),Pa=ct(ve),Ur=ct(Rt),wa=ct(Ct),bm=ct(Object.seal(p)),np=(Zn,mr)=>{const Xs=i[Zn.toLowerCase()];return!!(Xs&&Xs[mr.toLowerCase()])},Sc=(Zn,mr)=>{const Xs=Kr(Zn);if(Xs)if(mr){if(Xs.attributes[mr])return!0;const wi=Xs.attributePatterns;if(wi){let na=wi.length;for(;na--;)if(wi[na].pattern.test(mr))return!0}}else return!0;return!1},Ad=Zn=>fo(_r(),Zn),vm=Zn=>!cs(Zn,"#")&&Sc(Zn)&&!Ad(Zn),Td=Zn=>fo(wa(),Zn)||vm(Zn),ym=ct(m);return gi(),{type:A,children:i,elements:o,getValidStyles:Ll,getValidClasses:ln,getBlockElements:_r,getInvalidStyles:Qr,getVoidElements:Wo,getTextBlockElements:fn,getTextInlineElements:Qn,getBoolAttrs:Vn,getElementRule:Kr,getSelfClosingElements:yn,getNonEmptyElements:Vo,getMoveCaretBeforeOnEnterElements:Zo,getWhitespaceElements:Pa,getTransparentElements:Ur,getSpecialElements:bm,isValidChild:np,isValid:Sc,isBlock:Ad,isInline:vm,isWrapper:Td,getCustomElements:ym,addValidElements:Ft,setValidElements:Dn,addCustomElements:jo,addValidChildren:Lr}},HE=e=>({value:N0(e)}),N0=e=>cu(e,"#").toUpperCase(),Gx=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},P0=e=>{const n=Gx(e.red)+Gx(e.green)+Gx(e.blue);return HE(n)},qx=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Yx=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,L0=(e,n,o,i)=>({red:e,green:n,blue:o,alpha:i}),Xx=(e,n,o,i)=>{const c=parseInt(e,10),m=parseInt(n,10),p=parseInt(o,10),_=parseFloat(i);return L0(c,m,p,_)},Jx=e=>qx.test(e)?"rgb":Yx.test(e)?"rgba":"other",QC=e=>{const n=qx.exec(e);if(n!==null)return Q.some(Xx(n[1],n[2],n[3],"1"));const o=Yx.exec(e);return o!==null?Q.some(Xx(o[1],o[2],o[3],o[4])):Q.none()},UE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,yv=e=>QC(e).map(P0).map(n=>"#"+n.value).getOr(e),Qx=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,m={};let p,_;const A=Rs;n&&(p=n.getValidStyles(),_=n.getInvalidStyles());const $=(`\\" \\' \\; \\: ; : `+A).split(" ");for(let X=0;X<$.length;X++)m[$[X]]=A+X,m[A+X]=$[X];const q={parse:X=>{const ne={};let ve=!1;const Ee=e.url_converter,ye=e.url_converter_scope||q,Ie=(Rt,Ct,Ft)=>{const Dn=ne[Rt+"-top"+Ct];if(!Dn)return;const Wn=ne[Rt+"-right"+Ct];if(!Wn)return;const $o=ne[Rt+"-bottom"+Ct];if(!$o)return;const jo=ne[Rt+"-left"+Ct];if(!jo)return;const Lr=[Dn,Wn,$o,jo];let Kr=Lr.length-1;for(;Kr--&&Lr[Kr]===Lr[Kr+1];);Kr>-1&&Ft||(ne[Rt+Ct]=Kr===-1?Lr[0]:Lr.join(" "),delete ne[Rt+"-top"+Ct],delete ne[Rt+"-right"+Ct],delete ne[Rt+"-bottom"+Ct],delete ne[Rt+"-left"+Ct])},Ge=Rt=>{const Ct=ne[Rt];if(!Ct)return;const Ft=Ct.indexOf(",")>-1?[Ct]:Ct.split(" ");let Dn=Ft.length;for(;Dn--;)if(Ft[Dn]!==Ft[0])return!1;return ne[Rt]=Ft[0],!0},ot=(Rt,Ct,Ft,Dn)=>{Ge(Ct)&&Ge(Ft)&&Ge(Dn)&&(ne[Rt]=ne[Ct]+" "+ne[Ft]+" "+ne[Dn],delete ne[Ct],delete ne[Ft],delete ne[Dn])},tt=Rt=>(ve=!0,m[Rt]),bt=(Rt,Ct)=>(ve&&(Rt=Rt.replace(/\uFEFF[0-9]/g,Ft=>m[Ft])),Ct||(Rt=Rt.replace(/\\([\'\";:])/g,"$1")),Rt),Vt=Rt=>String.fromCharCode(parseInt(Rt.slice(1),16)),en=Rt=>Rt.replace(/\\[0-9a-f]+/gi,Vt),wn=(Rt,Ct,Ft,Dn,Wn,$o)=>{if(Wn=Wn||$o,Wn)return Wn=bt(Wn),"'"+Wn.replace(/\'/g,"\\'")+"'";if(Ct=bt(Ct||Ft||Dn||""),!e.allow_script_urls){const jo=Ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(jo)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(jo))return""}return Ee&&(Ct=Ee.call(ye,Ct,"style")),"url('"+Ct.replace(/\'/g,"\\'")+"')"};if(X){X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,tt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ct=>Ct.replace(/[;:]/g,tt));let Rt;for(;Rt=i.exec(X);){i.lastIndex=Rt.index+Rt[0].length;let Ct=Rt[1].replace(c,"").toLowerCase(),Ft=Rt[2].replace(c,"");if(Ct&&Ft){if(Ct=en(Ct),Ft=en(Ft),Ct.indexOf(A)!==-1||Ct.indexOf('"')!==-1||!e.allow_script_urls&&(Ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ft)))continue;Ct==="font-weight"&&Ft==="700"?Ft="bold":(Ct==="color"||Ct==="background-color")&&(Ft=Ft.toLowerCase()),Jx(Ft)==="rgb"&&QC(Ft).each(Dn=>{Ft=yv(UE(Dn)).toLowerCase()}),Ft=Ft.replace(o,wn),ne[Ct]=ve?bt(Ft,!0):Ft}}Ie("border","",!0),Ie("border","-width"),Ie("border","-color"),Ie("border","-style"),Ie("padding",""),Ie("margin",""),ot("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:(X,ne)=>{let ve="";const Ee=(Ie,Ge)=>{const ot=Ge[Ie];if(ot)for(let tt=0,bt=ot.length;tt<bt;tt++){const Vt=ot[tt],en=X[Vt];en&&(ve+=(ve.length>0?" ":"")+Vt+": "+en+";")}},ye=(Ie,Ge)=>{if(!_||!Ge)return!0;let ot=_["*"];return ot&&ot[Ie]?!1:(ot=_[Ge],!(ot&&ot[Ie]))};return ne&&p?(Ee("*",p),Ee(ne,p)):ur(X,(Ie,Ge)=>{Ie&&ye(Ge,ne)&&(ve+=(ve.length>0?" ":"")+Ge+": "+Ie+";")}),ve}};return q},yh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},WE=e=>e instanceof Event||Te(e.initEvent),KE=e=>e.isDefaultPrevented===nn||e.isDefaultPrevented===Tn,jf=e=>rt(e.preventDefault)||WE(e),Jm=(e,n)=>{const o=n??{};for(const i in e)fo(yh,i)||(o[i]=e[i]);return Oe(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Oe(e.getModifierState)&&(o.getModifierState=i=>e.getModifierState(i)),Oe(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},M0=(e,n,o,i)=>{var c;const m=Jm(n,i);return m.type=e,rt(m.target)&&(m.target=(c=m.srcElement)!==null&&c!==void 0?c:o),jf(n)&&(m.preventDefault=()=>{m.defaultPrevented=!0,m.isDefaultPrevented=nn,Te(n.preventDefault)&&n.preventDefault()},m.stopPropagation=()=>{m.cancelBubble=!0,m.isPropagationStopped=nn,Te(n.stopPropagation)&&n.stopPropagation()},m.stopImmediatePropagation=()=>{m.isImmediatePropagationStopped=nn,m.stopPropagation()},KE(m)||(m.isDefaultPrevented=m.defaultPrevented===!0?nn:Tn,m.isPropagationStopped=m.cancelBubble===!0?nn:Tn,m.isImmediatePropagationStopped=Tn)),m},e_="mce-data-",e2=/^(?:mouse|contextmenu)|click/,xv=(e,n,o,i)=>{e.addEventListener(n,o,i||!1)},Qd=(e,n,o,i)=>{e.removeEventListener(n,o,i||!1)},B0=e=>Oe(e)&&e2.test(e.type),yi=(e,n)=>{const o=M0(e.type,e,document,n);if(B0(e)&&Xe(e.pageX)&&!Xe(e.clientX)){const i=o.target.ownerDocument||document,c=i.documentElement,m=i.body,p=o;p.pageX=e.clientX+(c&&c.scrollLeft||m&&m.scrollLeft||0)-(c&&c.clientLeft||m&&m.clientLeft||0),p.pageY=e.clientY+(c&&c.scrollTop||m&&m.scrollTop||0)-(c&&c.clientTop||m&&m.clientTop||0)}return o},$s=(e,n,o)=>{const i=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const m=()=>i.readyState==="complete"||i.readyState==="interactive"&&i.body,p=()=>{Qd(e,"DOMContentLoaded",p),Qd(e,"load",p),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};m()?p():xv(e,"DOMContentLoaded",p),o.domLoaded||xv(e,"load",p)};class Zf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=e_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,i,c){const m=this;let p;const _=window,A=ne=>{m.executeHandlers(yi(ne||_.event),$)};if(!n||jt(n)||No(n))return i;let $;n[m.expando]?$=n[m.expando]:($=m.count++,n[m.expando]=$,m.events[$]={}),c=c||n;const q=o.split(" ");let X=q.length;for(;X--;){let ne=q[X],ve=A,Ee=!1,ye=!1;if(ne==="DOMContentLoaded"&&(ne="ready"),m.domLoaded&&ne==="ready"&&n.readyState==="complete"){i.call(c,yi({type:ne}));continue}!m.hasFocusIn&&(ne==="focusin"||ne==="focusout")&&(Ee=!0,ye=ne==="focusin"?"focus":"blur",ve=Ie=>{const Ge=yi(Ie||_.event);Ge.type=Ge.type==="focus"?"focusin":"focusout",m.executeHandlers(Ge,$)}),p=m.events[$][ne],p?ne==="ready"&&m.domLoaded?i(yi({type:ne})):p.push({func:i,scope:c}):(m.events[$][ne]=p=[{func:i,scope:c}],p.fakeName=ye,p.capture=Ee,p.nativeHandler=ve,ne==="ready"?$s(n,ve,m):xv(n,ye||ne,ve,Ee))}return n=p=null,i}unbind(n,o,i){if(!n||jt(n)||No(n))return this;const c=n[this.expando];if(c){let m=this.events[c];if(o){const p=o.split(" ");let _=p.length;for(;_--;){const A=p[_],$=m[A];if($){if(i){let q=$.length;for(;q--;)if($[q].func===i){const X=$.nativeHandler,ne=$.fakeName,ve=$.capture,Ee=$.slice(0,q).concat($.slice(q+1));Ee.nativeHandler=X,Ee.fakeName=ne,Ee.capture=ve,m[A]=Ee}}(!i||$.length===0)&&(delete m[A],Qd(n,$.fakeName||A,$.nativeHandler,$.capture))}}}else ur(m,(p,_)=>{Qd(n,p.fakeName||_,p.nativeHandler,p.capture)}),m={};for(const p in m)if(fo(m,p))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,i){return this.dispatch(n,o,i)}dispatch(n,o,i){if(!n||jt(n)||No(n))return this;const c=yi({type:o,target:n},i);do{const m=n[this.expando];m&&this.executeHandlers(c,m),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||jt(n)||No(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let i=o.length;for(;i--;)n=o[i],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const i=this.events[o],c=i&&i[n.type];if(c)for(let m=0,p=c.length;m<p;m++){const _=c[m];if(_&&_.func.call(_.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Zf.Event=new Zf;const t2=tn.each,F0=tn.grep,Ji="data-mce-style",ul=tn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),xh=(e,n,o)=>{rt(o)||o===""?Lo(e,n):_i(e,n,o)},Gf=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Qm=(e,n)=>{let o=0;if(e)for(let i=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const m=c.nodeType;n&&jt(c)&&(m===i||!c.data.length)||(o++,i=m)}return o},$0=(e,n)=>{const o=Ta(n,"style"),i=e.serialize(e.parse(o),er(n));xh(n,Ji,i)},t_=(e,n)=>D(e)?fo(ul,n)?e+"":e+"px":e,n2=(e,n,o)=>{const i=Gf(n);rt(o)||o===""?bu(e,i):ll(e,i,t_(o,i))},eg=(e,n,o)=>{const i=n.keep_values,c={set:(p,_,A)=>{const $=Ue.fromDom(p);Te(n.url_converter)&&Oe(_)&&(_=n.url_converter.call(n.url_converter_scope||o(),String(_),A,p));const q="data-mce-"+A;xh($,q,_),xh($,A,_)},get:(p,_)=>{const A=Ue.fromDom(p);return Ta(A,"data-mce-"+_)||Ta(A,_)}},m={style:{set:(p,_)=>{const A=Ue.fromDom(p);i&&xh(A,Ji,_),Lo(A,"style"),ae(_)&&qo(A,e.parse(_))},get:p=>{const _=Ue.fromDom(p),A=Ta(_,Ji)||Ta(_,"style");return e.serialize(e.parse(A),er(_))}}};return i&&(m.href=m.src=c),m},Xr=(e,n={})=>{const o={},i=window,c={};let m=0;const p=!0,_=!0,A=A0.forElement(Ue.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),$=[],q=n.schema?n.schema:Wc({}),X=Qx({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),ne=n.ownEvents?new Zf:Zf.Event,ve=q.getBlockElements(),Ee=wt=>ae(wt)?fo(ve,wt):Nn(wt)&&(fo(ve,wt.nodeName)||Wf(q,wt)),ye=wt=>wt&&e&&ae(wt)?e.getElementById(wt):wt,Ie=wt=>{const _t=ye(wt);return Oe(_t)?Ue.fromDom(_t):null},Ge=(wt,_t,rn="")=>{let Qt;const ro=Ie(wt);if(Oe(ro)&&Hs(ro)){const rr=rD[_t];rr&&rr.get?Qt=rr.get(ro.dom,_t):Qt=Ta(ro,_t)}return Oe(Qt)?Qt:rn},ot=wt=>{const _t=ye(wt);return rt(_t)?[]:_t.attributes},tt=(wt,_t,rn)=>{Vn(wt,Qt=>{if(Nn(Qt)){const ro=Ue.fromDom(Qt),rr=rn===""?null:rn,Js=Ta(ro,_t),Bg=rD[_t];Bg&&Bg.set?Bg.set(ro.dom,rr,_t):xh(ro,_t,rr),Js!==rr&&n.onSetAttrib&&n.onSetAttrib({attrElm:ro.dom,attrName:_t,attrValue:rr})}})},bt=(wt,_t)=>wt.cloneNode(_t),Vt=()=>n.root_element||e.body,en=wt=>{const _t=Bc(wt);return{x:_t.x,y:_t.y,w:_t.width,h:_t.height}},wn=(wt,_t)=>Fx(e.body,ye(wt),_t),Rt=(wt,_t,rn)=>{Vn(wt,Qt=>{const ro=Ue.fromDom(Qt);n2(ro,_t,rn),n.update_styles&&$0(X,ro)})},Ct=(wt,_t)=>{Vn(wt,rn=>{const Qt=Ue.fromDom(rn);ur(_t,(ro,rr)=>{n2(Qt,rr,ro)}),n.update_styles&&$0(X,Qt)})},Ft=(wt,_t,rn)=>{const Qt=ye(wt);if(!(rt(Qt)||!yu(Qt)&&!iv(Qt)))return rn?Us(Ue.fromDom(Qt),Gf(_t)):(_t=_t.replace(/-(\D)/g,(ro,rr)=>rr.toUpperCase()),_t==="float"&&(_t="cssFloat"),Qt.style?Qt.style[_t]:void 0)},Dn=wt=>{const _t=ye(wt);if(!_t)return{w:0,h:0};let rn=Ft(_t,"width"),Qt=Ft(_t,"height");return(!rn||rn.indexOf("px")===-1)&&(rn="0"),(!Qt||Qt.indexOf("px")===-1)&&(Qt="0"),{w:parseInt(rn,10)||_t.offsetWidth||_t.clientWidth,h:parseInt(Qt,10)||_t.offsetHeight||_t.clientHeight}},Wn=wt=>{const _t=ye(wt),rn=wn(_t),Qt=Dn(_t);return{x:rn.x,y:rn.y,w:Qt.w,h:Qt.h}},$o=(wt,_t)=>{if(!wt)return!1;const rn=oe(wt)?wt:[wt];return Ae(rn,Qt=>Br(Ue.fromDom(Qt),_t))},jo=(wt,_t,rn,Qt)=>{const ro=[];let rr=ye(wt);Qt=Qt===void 0;const Js=rn||(Vt().nodeName!=="BODY"?Vt().parentNode:null);if(ae(_t))if(_t==="*")_t=Nn;else{const Bg=_t;_t=mB=>$o(mB,Bg)}for(;rr&&!(rr===Js||rt(rr.nodeType)||Mn(rr)||Hf(rr));){if(!_t||_t(rr))if(Qt)ro.push(rr);else return[rr];rr=rr.parentNode}return Qt?ro:null},Lr=(wt,_t,rn)=>{const Qt=jo(wt,_t,rn,!1);return Qt&&Qt.length>0?Qt[0]:null},Kr=(wt,_t,rn)=>{let Qt=_t;if(wt){ae(_t)&&(Qt=ro=>$o(ro,_t));for(let ro=wt[rn];ro;ro=ro[rn])if(Te(Qt)&&Qt(ro))return ro}return null},gi=(wt,_t)=>Kr(wt,_t,"nextSibling"),Ll=(wt,_t)=>Kr(wt,_t,"previousSibling"),Qr=wt=>Te(wt.querySelectorAll),ln=(wt,_t)=>{var rn,Qt;const ro=(Qt=(rn=ye(_t))!==null&&rn!==void 0?rn:n.root_element)!==null&&Qt!==void 0?Qt:e;return Qr(ro)?Oo(ro.querySelectorAll(wt)):[]},Vn=function(wt,_t,rn){const Qt=rn??this;if(oe(wt)){const ro=[];return t2(wt,(rr,Js)=>{const Bg=ye(rr);Bg&&ro.push(_t.call(Qt,Bg,Js))}),ro}else{const ro=ye(wt);return ro?_t.call(Qt,ro):!1}},_r=(wt,_t)=>{Vn(wt,rn=>{ur(_t,(Qt,ro)=>{tt(rn,ro,Qt)})})},fn=(wt,_t)=>{Vn(wt,rn=>{const Qt=Ue.fromDom(rn);Um(Qt,_t)})},Qn=(wt,_t,rn,Qt,ro)=>Vn(wt,rr=>{const Js=ae(_t)?e.createElement(_t):_t;return Oe(rn)&&_r(Js,rn),Qt&&(!ae(Qt)&&Qt.nodeType?Js.appendChild(Qt):ae(Qt)&&fn(Js,Qt)),ro?Js:rr.appendChild(Js)}),Wo=(wt,_t,rn)=>Qn(e.createElement(wt),wt,_t,rn,!0),yn=hh.decode,Vo=hh.encodeAllRaw,Zo=(wt,_t,rn="")=>{let Qt="<"+wt;for(const ro in _t)Yl(_t,ro)&&(Qt+=" "+ro+'="'+Vo(_t[ro])+'"');return Gt(rn)&&fo(q.getVoidElements(),wt)?Qt+" />":Qt+">"+rn+"</"+wt+">"},Pa=wt=>{const _t=e.createElement("div"),rn=e.createDocumentFragment();rn.appendChild(_t),wt&&(_t.innerHTML=wt);let Qt;for(;Qt=_t.firstChild;)rn.appendChild(Qt);return rn.removeChild(_t),rn},Ur=(wt,_t)=>Vn(wt,rn=>{const Qt=Ue.fromDom(rn);return _t&&be(da(Qt),ro=>{us(ro)&&ro.dom.length===0?Pr(ro):Ds(Qt,ro)}),Pr(Qt),Qt.dom}),wa=wt=>Vn(wt,_t=>{const rn=_t.attributes;for(let Qt=rn.length-1;Qt>=0;Qt--)_t.removeAttributeNode(rn.item(Qt))}),bm=wt=>X.parse(wt),np=(wt,_t)=>X.serialize(wt,_t),Sc=wt=>{if(Ab!==Xr.DOM&&e===document){if(o[wt])return;o[wt]=!0}let _t=e.getElementById("mceDefaultStyles");if(!_t){_t=e.createElement("style"),_t.id="mceDefaultStyles",_t.type="text/css";const rn=e.head;rn.firstChild?rn.insertBefore(_t,rn.firstChild):rn.appendChild(_t)}_t.styleSheet?_t.styleSheet.cssText+=wt:_t.appendChild(e.createTextNode(wt))},Ad=wt=>{wt||(wt=""),be(wt.split(","),_t=>{c[_t]=!0,A.load(_t).catch(lt)})},vm=(wt,_t,rn)=>{Vn(wt,Qt=>{if(Nn(Qt)){const ro=Ue.fromDom(Qt),rr=_t.split(" ");be(rr,Js=>{Oe(rn)?(rn?Wd:$a)(ro,Js):Cp(ro,Js)})}})},Td=(wt,_t)=>{vm(wt,_t,!0)},ym=(wt,_t)=>{vm(wt,_t,!1)},Zn=(wt,_t)=>{const rn=Ie(wt),Qt=_t.split(" ");return Oe(rn)&&Ro(Qt,ro=>Kd(rn,ro))},mr=wt=>{Vn(wt,_t=>bu(Ue.fromDom(_t),"display"))},Xs=wt=>{Vn(wt,_t=>ll(Ue.fromDom(_t),"display","none"))},wi=wt=>{const _t=Ie(wt);return Oe(_t)&&Af(Fs(_t,"display"),"none")},na=wt=>(wt||"mce_")+m++,pl=wt=>{const _t=Ie(wt);return Oe(_t)?Nn(_t.dom)?_t.dom.outerHTML:lh(_t):""},Vi=(wt,_t)=>{Vn(wt,rn=>{Nn(rn)&&(rn.outerHTML=_t)})},zi=(wt,_t)=>{const rn=ye(_t);return Vn(wt,Qt=>{const ro=rn==null?void 0:rn.parentNode,rr=rn==null?void 0:rn.nextSibling;return ro&&(rr?ro.insertBefore(Qt,rr):ro.appendChild(Qt)),Qt})},kc=(wt,_t,rn)=>Vn(_t,Qt=>{var ro;const rr=oe(_t)?wt.cloneNode(!0):wt;return rn&&t2(F0(Qt.childNodes),Js=>{rr.appendChild(Js)}),(ro=Qt.parentNode)===null||ro===void 0||ro.replaceChild(rr,Qt),Qt}),Pg=(wt,_t)=>{if(wt.nodeName!==_t.toUpperCase()){const rn=Wo(_t);return t2(ot(wt),Qt=>{tt(rn,Qt.nodeName,Ge(wt,Qt.nodeName))}),kc(rn,wt,!0),rn}else return wt},Lg=(wt,_t)=>{let rn=wt;for(;rn;){let Qt=_t;for(;Qt&&rn!==Qt;)Qt=Qt.parentNode;if(rn===Qt)break;rn=rn.parentNode}return!rn&&wt.ownerDocument?wt.ownerDocument.documentElement:rn},Mg=(wt,_t,rn)=>de(_t)?gc(q,wt,{...rn,isContent:ro=>{const rr=ro.nodeName.toLowerCase();return!!_t[rr]}}):gc(q,wt,rn),xm=()=>e.createRange(),rx=(wt,_t,rn)=>{let Qt=xm(),ro,rr;if(wt&&_t&&wt.parentNode&&_t.parentNode){const Js=wt.parentNode;return Qt.setStart(Js,Qm(wt)),Qt.setEnd(_t.parentNode,Qm(_t)),ro=Qt.extractContents(),Qt=xm(),Qt.setStart(_t.parentNode,Qm(_t)+1),Qt.setEnd(Js,Qm(wt)+1),rr=Qt.extractContents(),Js.insertBefore(Np(Ab,ro,q),wt),rn?Js.insertBefore(rn,wt):Js.insertBefore(_t,wt),Js.insertBefore(Np(Ab,rr,q),wt),Ur(wt),rn||_t}else return},Zk=(wt,_t,rn,Qt)=>{if(oe(wt)){let ro=wt.length;const rr=[];for(;ro--;)rr[ro]=Zk(wt[ro],_t,rn,Qt);return rr}else return n.collect&&(wt===e||wt===i)&&$.push([wt,_t,rn,Qt]),ne.bind(wt,_t,rn,Qt||Ab)},Gk=(wt,_t,rn)=>{if(oe(wt)){let Qt=wt.length;const ro=[];for(;Qt--;)ro[Qt]=Gk(wt[Qt],_t,rn);return ro}else{if($.length>0&&(wt===e||wt===i)){let Qt=$.length;for(;Qt--;){const[ro,rr,Js]=$[Qt];wt===ro&&(!_t||_t===rr)&&(!rn||rn===Js)&&ne.unbind(ro,rr,Js)}}return ne.unbind(wt,_t,rn)}},AH=(wt,_t,rn)=>ne.dispatch(wt,_t,rn),B1=(wt,_t,rn)=>ne.dispatch(wt,_t,rn),fB=wt=>{if(wt&&yu(wt)){const _t=wt.getAttribute("data-mce-contenteditable");return _t&&_t!=="inherit"?_t:wt.contentEditable!=="inherit"?wt.contentEditable:null}else return null},Ab={doc:e,settings:n,win:i,files:c,stdMode:p,boxModel:_,styleSheetLoader:A,boundEvents:$,styles:X,schema:q,events:ne,isBlock:Ee,root:null,clone:bt,getRoot:Vt,getViewPort:en,getRect:Wn,getSize:Dn,getParent:Lr,getParents:jo,get:ye,getNext:gi,getPrev:Ll,select:ln,is:$o,add:Qn,create:Wo,createHTML:Zo,createFragment:Pa,remove:Ur,setStyle:Rt,getStyle:Ft,setStyles:Ct,removeAllAttribs:wa,setAttrib:tt,setAttribs:_r,getAttrib:Ge,getPos:wn,parseStyle:bm,serializeStyle:np,addStyle:Sc,loadCSS:Ad,addClass:Td,removeClass:ym,hasClass:Zn,toggleClass:vm,show:mr,hide:Xs,isHidden:wi,uniqueId:na,setHTML:fn,getOuterHTML:pl,setOuterHTML:Vi,decode:yn,encode:Vo,insertAfter:zi,replace:kc,rename:Pg,findCommonAncestor:Lg,run:Vn,getAttribs:ot,isEmpty:Mg,createRng:xm,nodeIndex:Qm,split:rx,bind:Zk,unbind:Gk,fire:B1,dispatch:AH,getContentEditable:fB,getContentEditableParent:wt=>{const _t=Vt();let rn=null;for(let Qt=wt;Qt&&Qt!==_t&&(rn=fB(Qt),rn===null);Qt=Qt.parentNode);return rn},isEditable:wt=>{if(Oe(wt)){const _t=Nn(wt)?wt:wt.parentElement;return Oe(_t)&&yu(_t)&&Ss(Ue.fromDom(_t))}else return!1},destroy:()=>{if($.length>0){let wt=$.length;for(;wt--;){const[_t,rn,Qt]=$[wt];ne.unbind(_t,rn,Qt)}}ur(c,(wt,_t)=>{A.unload(_t),delete c[_t]})},isChildOf:(wt,_t)=>wt===_t||_t.contains(wt),dumpRng:wt=>"startContainer: "+wt.startContainer.nodeName+", startOffset: "+wt.startOffset+", endContainer: "+wt.endContainer.nodeName+", endOffset: "+wt.endOffset},rD=eg(X,n,ct(Ab));return Ab};Xr.DOM=Xr(document),Xr.nodeIndex=Qm;const V0=Xr.DOM,fs=0,ud=1,_u=2,wh=3;class Tl{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,i)=>{const c=V0;let m;const p=()=>{c.remove($),m&&(m.onerror=m.onload=m=null)},_=()=>{p(),o()},A=()=>{p(),i("Failed to load script: "+n)},$=c.uniqueId();m=document.createElement("script"),m.id=$,m.type="text/javascript",m.src=tn._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(m,"referrerpolicy",this.settings.referrerPolicy),m.onload=_,m.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(m)})}isDone(n){return this.states[n]===_u}markDone(n){this.states[n]=_u}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=fs),new Promise((c,m)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:m})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,i=(A,$)=>{Nr(o.scriptLoadedCallbacks,$).each(q=>{be(q,X=>X[A]($))}),delete o.scriptLoadedCallbacks[$]},c=A=>{const $=je(A,q=>q.status==="rejected");return $.length>0?Promise.reject(Fo($,({reason:q})=>oe(q)?q:[q])):Promise.resolve()},m=A=>Promise.allSettled($e(A,$=>o.states[$]===_u?(i("resolve",$),Promise.resolve()):o.states[$]===wh?(i("reject",$),Promise.reject($)):(o.states[$]=ud,o.loadScript($).then(()=>{o.states[$]=_u,i("resolve",$);const q=o.queue;return q.length>0?(o.queue=[],m(q).then(c)):Promise.resolve()},()=>(o.states[$]=wh,i("reject",$),Promise.reject($)))))),p=A=>(o.loading=!0,m(A).then($=>{o.loading=!1;const q=o.queueLoadedCallbacks.shift();return Q.from(q).each(Ht),c($)})),_=qu(n);return o.loading?new Promise((A,$)=>{o.queueLoadedCallbacks.push(()=>{p(_).then(A,$)})}):p(_)}}Tl.ScriptLoader=new Tl;const ha=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},tg=e=>U(e)&&fo(e,"raw"),wv=e=>oe(e)&&e.length>1,Ch={},Cv=Pi("en"),_h=()=>Nr(Ch,Cv.get()),Kc={getData:()=>ql(Ch,e=>({...e})),setCode:e=>{e&&Cv.set(e)},getCode:()=>Cv.get(),add:(e,n)=>{let o=Ch[e];o||(Ch[e]=o={});const i=$e(Xt(n),c=>c.toLowerCase());ur(n,(c,m)=>{const p=m.toLowerCase();p!==m&&ha(i,p)?(fo(n,p)||(o[p]=c),o[m]=c):o[p]=c})},translate:e=>{const n=_h().getOr({}),o=p=>Te(p)?Object.prototype.toString.call(p):i(p)?"":""+p,i=p=>p===""||p===null||p===void 0,c=p=>{const _=o(p);return fo(n,_)?o(n[_]):Nr(n,_.toLowerCase()).map(o).getOr(_)},m=p=>p.replace(/{context:\w+}$/,"");if(i(e))return"";if(tg(e))return o(e.raw);if(wv(e)){const p=e.slice(1),_=c(e[0]).replace(/\{([0-9]+)\}/g,(A,$)=>fo(p,$)?o(p[$]):A);return m(_)}return m(c(e))},isRtl:()=>_h().bind(e=>Nr(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>fo(Ch,e)},dl=()=>{const e=[],n={},o={},i=[],c=(ye,Ie)=>{const Ge=je(i,ot=>ot.name===ye&&ot.state===Ie);be(Ge,ot=>ot.resolve())},m=ye=>fo(n,ye),p=ye=>fo(o,ye),_=ye=>{if(o[ye])return o[ye].instance},A=(ye,Ie)=>{const Ge=Kc.getCode(),ot=","+(Ie||"")+",";!Ge||Ie&&ot.indexOf(","+Ge+",")===-1||Tl.ScriptLoader.add(n[ye]+"/langs/"+Ge+".js")},$=(ye,Ie)=>{dl.languageLoad!==!1&&(m(ye)?A(ye,Ie):Ee(ye,"loaded").then(()=>A(ye,Ie)))},q=(ye,Ie)=>(e.push(Ie),o[ye]={instance:Ie},c(ye,"added"),Ie),X=ye=>{delete n[ye],delete o[ye]},ne=(ye,Ie)=>ae(Ie)?ae(ye)?{prefix:"",resource:Ie,suffix:""}:{prefix:ye.prefix,resource:Ie,suffix:ye.suffix}:Ie,ve=(ye,Ie)=>{if(n[ye])return Promise.resolve();let Ge=ae(Ie)?Ie:Ie.prefix+Ie.resource+Ie.suffix;Ge.indexOf("/")!==0&&Ge.indexOf("://")===-1&&(Ge=dl.baseURL+"/"+Ge),n[ye]=Ge.substring(0,Ge.lastIndexOf("/"));const ot=()=>(c(ye,"loaded"),Promise.resolve());return o[ye]?ot():Tl.ScriptLoader.add(Ge).then(ot)},Ee=(ye,Ie="added")=>Ie==="added"&&p(ye)||Ie==="loaded"&&m(ye)?Promise.resolve():new Promise(Ge=>{i.push({name:ye,state:Ie,resolve:Ge})});return{items:e,urls:n,lookup:o,get:_,requireLangPack:$,add:q,remove:X,createUrl:ne,load:ve,waitFor:Ee}};dl.languageLoad=!0,dl.baseURL="",dl.PluginManager=dl(),dl.ThemeManager=dl(),dl.ModelManager=dl();const Sh=(e,n)=>{let o=null;return{cancel:()=>{Ve(o)||(clearTimeout(o),o=null)},throttle:(...m)=>{Ve(o)&&(o=setTimeout(()=>{o=null,e.apply(null,m)},n))}}},Bp=(e,n)=>{let o=null;const i=()=>{Ve(o)||(clearTimeout(o),o=null)};return{cancel:i,throttle:(...m)=>{i(),o=setTimeout(()=>{o=null,e.apply(null,m)},n)}}},s_=(e,n,o)=>pu(e,n,o).isSome(),Ns=ct("mce-annotation"),Ps=ct("data-mce-annotation"),si=ct("data-mce-annotation-uid"),Fr=ct("data-mce-annotation-active"),As=ct("data-mce-annotation-classes"),Gs=ct("data-mce-annotation-attrs"),z0=e=>n=>tr(n,e),H0=(e,n)=>{const o=e.selection.getRng(),i=Ue.fromDom(o.startContainer),c=Ue.fromDom(e.getBody()),m=n.fold(()=>"."+Ns(),A=>`[${Ps()}="${A}"]`),p=nd(i,o.startOffset).getOr(i);return Yi(p,m,z0(c)).bind(A=>du(A,`${si()}`).bind($=>du(A,`${Ps()}`).map(q=>{const X=i2(e,$);return{uid:$,name:q,elements:X}})))},s2=e=>Hs(e)&&Kd(e,Ns()),_v=(e,n)=>Hd(e,"data-mce-bogus")||s_(e,'[data-mce-bogus="all"]',z0(n)),i2=(e,n)=>{const o=Ue.fromDom(e.getBody()),i=vi(o,`[${si()}="${n}"]`);return je(i,c=>!_v(c,o))},kh=(e,n)=>{const o=Ue.fromDom(e.getBody()),i=vi(o,`[${Ps()}="${n}"]`),c={};return be(i,m=>{if(!_v(m,o)){const p=Ta(m,si()),_=Nr(c,p).getOr([]);c[p]=_.concat([m])}}),c},U0=(e,n)=>{const o=Pi({}),i=()=>({listeners:[],previous:Li()}),c=(X,ne)=>{m(X,ve=>(ne(ve),ve))},m=(X,ne)=>{const ve=o.get(),Ee=Nr(ve,X).getOrThunk(i),ye=ne(Ee);ve[X]=ye,o.set(ve)},p=(X,ne,ve)=>{c(X,Ee=>{be(Ee.listeners,ye=>ye(!0,X,{uid:ne,nodes:$e(ve,Ie=>Ie.dom)}))})},_=X=>{c(X,ne=>{be(ne.listeners,ve=>ve(!1,X))})},A=(X,ne)=>{be(i2(e,X),ve=>{ne?_i(ve,Fr(),"true"):Lo(ve,Fr())})},$=Bp(()=>{const X=wr(n.getNames());be(X,ne=>{m(ne,ve=>{const Ee=ve.previous.get();return H0(e,Q.some(ne)).fold(()=>{Ee.each(ye=>{_(ne),ve.previous.clear(),A(ye,!1)})},({uid:ye,name:Ie,elements:Ge})=>{Af(Ee,ye)||(Ee.each(ot=>A(ot,!1)),p(Ie,ye,Ge),ve.previous.set(ye),A(ye,!0))}),{previous:ve.previous,listeners:ve.listeners}})})},30);return e.on("remove",()=>{$.cancel()}),e.on("NodeChange",()=>{$.throttle()}),{addListener:(X,ne)=>{m(X,ve=>({previous:ve.previous,listeners:ve.listeners.concat([ne])}))}}},W0=(e,n)=>{const o=Ps(),i=m=>Q.from(m.attr(o)).bind(n.lookup),c=m=>{var p,_;m.attr(si(),null),m.attr(Ps(),null),m.attr(Fr(),null);const A=Q.from(m.attr(Gs())).map(ne=>ne.split(",")).getOr([]),$=Q.from(m.attr(As())).map(ne=>ne.split(",")).getOr([]);be(A,ne=>m.attr(ne,null));const q=(_=(p=m.attr("class"))===null||p===void 0?void 0:p.split(" "))!==null&&_!==void 0?_:[],X=cr(q,[Ns()].concat($));m.attr("class",X.length>0?X.join(" "):null),m.attr(As(),null),m.attr(Gs(),null)};e.serializer.addTempAttr(Fr()),e.serializer.addAttributeFilter(o,m=>{for(const p of m)i(p).each(_=>{_.persistent===!1&&(p.name==="span"?p.unwrap():c(p))})})},a2=()=>{const e={};return{register:(c,m)=>{e[c]={name:c,settings:m}},lookup:c=>Nr(e,c).map(m=>m.settings),getNames:()=>Xt(e)}},Sv=(e,n,o)=>Math.min(Math.max(e,n),o),Ol=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let l2=0;const Wa=e=>{const o=new Date().getTime(),i=Math.floor(Ol()*1e9);return l2++,e+"_"+i+l2+String(o)},kv=(e,n)=>{be(n,o=>{Wd(e,o)})},Eh=(e,n)=>{be(n,o=>{$a(e,o)})},Su=(e,n)=>Ue.fromDom(e.dom.cloneNode(n)),qs=e=>Su(e,!1),og=e=>Su(e,!0),c2=(e,n)=>{const o=Ue.fromTag(n),i=kl(e);return Fa(o,i),o},u2=(e,n)=>{const o=c2(e,n);ut(e,o);const i=da(e);return ri(o,i),Pr(e),o},Ev=(e,n,o=Tn)=>{const i=new fa(e,n),c=m=>{let p;do p=i[m]();while(p&&!jt(p)&&!o(p));return Q.from(p).filter(jt)};return{current:()=>Q.from(i.current()).filter(jt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},ef=(e,n)=>{const o=n||(p=>e.isBlock(p)||ps(p)||yo(p)),i=(p,_,A,$)=>{if(jt(p)){const q=$(p,_,p.data);if(q!==-1)return Q.some({container:p,offset:q})}return A().bind(q=>i(q.container,q.offset,A,$))};return{backwards:(p,_,A,$)=>{const q=Ev(p,$??e.getRoot(),o);return i(p,_,()=>q.prev().map(X=>({container:X,offset:X.length})),A).getOrNull()},forwards:(p,_,A,$)=>{const q=Ev(p,$??e.getRoot(),o);return i(p,_,()=>q.next().map(X=>({container:X,offset:0})),A).getOrNull()}}},Av=((e,n)=>{const o=m=>{if(!e(m))throw new Error("Can only get "+n+" value of a "+n+" node");return i(m).getOr("")},i=m=>e(m)?Q.from(m.dom.nodeValue):Q.none();return{get:o,getOption:i,set:(m,p)=>{if(!e(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=p}}})(us,"text"),rg=e=>Av.get(e),i_=e=>Av.getOption(e),Tv=(e,n)=>Av.set(e,n),Ov=["td","th"],K0=["thead","tbody","tfoot"],Fp=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],j0=["li","dd","dt"],Ka=["ul","ol","dl"],d2=["pre","script","textarea","style"],tf=e=>{let n;return o=>(n=n||ti(e,nn),fo(n,er(o)))},Dv=e=>er(e)==="table",dd=e=>Hs(e)&&er(e)==="br",Rv=tf(Fp),Iv=tf(Ka),sg=tf(j0),Ah=tf(K0),jc=tf(Ov),Nv=tf(d2),ZE=e=>{const n=[];let o=e.dom;for(;o;)n.push(Ue.fromDom(o)),o=o.lastChild;return n},pc=e=>{const n=vi(e,"br"),o=je(ZE(e).slice(-1),dd);n.length===o.length&&be(o,Pr)},nf=()=>{const e=Ue.fromTag("br");return _i(e,"data-mce-bogus","1"),e},Zc=e=>{os(e),Ws(e,nf())},f2=(e,n)=>{od(e).each(o=>{Si(o).each(i=>{n.isBlock(er(e))&&dd(o)&&n.isBlock(er(i))&&Pr(o)})})},Ei=Rs,Gc=ad,Dl=kp,GE=e=>e.insertContent(Ei,{preserve_zwsp:!0}),qf=Nn,of=jt,$p=e=>(of(e)&&(e=e.parentNode),qf(e)&&e.hasAttribute("data-mce-caret")),ig=e=>of(e)&&Gc(e.data),tc=e=>$p(e)||ig(e),Z0=e=>e.firstChild!==e.lastChild||!ps(e.firstChild),G0=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei),m=e.parentNode;if(n){const p=e.previousSibling;if(of(p)){if(tc(p))return p;if(rf(p))return p.splitText(p.data.length-1)}m==null||m.insertBefore(c,e)}else{const p=e.nextSibling;if(of(p)){if(tc(p))return p;if(Lv(p))return p.splitText(1),p}e.nextSibling?m==null||m.insertBefore(c,e.nextSibling):m==null||m.appendChild(c)}return c},Pv=e=>{const n=e.container();return jt(n)?n.data.charAt(e.offset())===Ei||e.isAtStart()&&ig(n.previousSibling):!1},q0=e=>{const n=e.container();return jt(n)?n.data.charAt(e.offset()-1)===Ei||e.isAtEnd()&&ig(n.nextSibling):!1},a_=(e,n,o)=>{var i;const m=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement(e);m.setAttribute("data-mce-caret",o?"before":"after"),m.setAttribute("data-mce-bogus","all"),m.appendChild(nf().dom);const p=n.parentNode;return o?p==null||p.insertBefore(m,n):n.nextSibling?p==null||p.insertBefore(m,n.nextSibling):p==null||p.appendChild(m),m},Lv=e=>of(e)&&e.data[0]===Ei,rf=e=>of(e)&&e.data[e.data.length-1]===Ei,Mv=e=>{var n;const o=e.getElementsByTagName("br"),i=o[o.length-1];Vf(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))},Th=e=>e&&e.hasAttribute("data-mce-caret")?(Mv(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Oh=e=>$p(e.startContainer),Yf=Math.round,Xf=e=>e?{left:Yf(e.left),top:Yf(e.top),bottom:Yf(e.bottom),right:Yf(e.right),width:Yf(e.width),height:Yf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Bv=(e,n)=>(e=Xf(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Jf=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Qf=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,em=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Qf(n.top-e.bottom,e,n)},Dh=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Qf(n.bottom-e.top,e,n),Y0=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,Vp=e=>sn(e,(n,o)=>n.fold(()=>Q.some(o),i=>{const c=Math.min(o.left,i.left),m=Math.min(o.top,i.top),p=Math.max(o.right,i.right),_=Math.max(o.bottom,i.bottom);return Q.some({top:m,right:p,bottom:_,left:c,width:p-c,height:_-m})}),Q.none()),X0=(e,n,o)=>{const i=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-i)*(n-i)+(o-c)*(o-c))},m2=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),zp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Ai=(e,n)=>{if(Nn(e)&&e.hasChildNodes()){const o=e.childNodes,i=Sv(n,0,o.length-1);return o[i]}else return e},g2=(e,n)=>{if(!(n<0&&Nn(e)&&e.hasChildNodes()))return Ai(e,n)},l_=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),h2=e=>ae(e)&&e.charCodeAt(0)>=768&&l_.test(e),p2=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},tm=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},J0=Vc,Fv=yo,b2=ps,qE=jt,nm=ma(["script","style","textarea"]),$v=ma(["img","input","textarea","hr","iframe","video","audio","object","embed"]),c_=ma(["table"]),u_=tc,ku=e=>u_(e)?!1:qE(e)?!nm(e.parentNode):$v(e)||b2(e)||c_(e)||Q0(e),v2=e=>Nn(e)&&e.getAttribute("unselectable")==="true",Q0=e=>!v2(e)&&Fv(e),d_=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Q0(o))return!1;if(J0(o))return!0}return!0},Rh=e=>Q0(e)?!sn(Oo(e.getElementsByTagName("*")),(n,o)=>n||J0(o),!1):!1,Hp=e=>$v(e)||Rh(e),Vv=(e,n)=>ku(e)&&d_(e,n),f_=Nn,Eu=ku,ag=Fc("display","block table"),zv=Fc("float","left right"),Hv=tm(f_,Eu,Le(zv)),ey=Le(Fc("white-space","pre pre-line pre-wrap")),Uv=jt,ba=ps,ty=Xr.nodeIndex,lg=g2,cg=e=>e?e.createRange():Xr.DOM.createRng(),Wv=e=>ae(e)&&/[\r\n\t ]/.test(e),ny=e=>!!e.setStart&&!!e.setEnd,Ih=e=>{const n=e.startContainer,o=e.startOffset;if(Wv(e.toString())&&ey(n.parentNode)&&jt(n)){const i=n.data;if(Wv(i[o-1])||Wv(i[o+1]))return!0}return!1},om=e=>{const n=e.ownerDocument,o=cg(n),i=n.createTextNode(Ni),c=e.parentNode;c.insertBefore(i,e),o.setStart(i,0),o.setEnd(i,1);const m=Xf(o.getBoundingClientRect());return c.removeChild(i),m},y2=e=>{const n=e.startContainer,o=e.endContainer,i=e.startOffset,c=e.endOffset;if(n===o&&jt(o)&&i===0&&c===1){const m=e.cloneRange();return m.setEndAfter(o),fl(m)}else return null},oy=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,fl=e=>{var n;let o;const i=e.getClientRects();return i.length>0?o=Xf(i[0]):o=Xf(e.getBoundingClientRect()),!ny(e)&&ba(e)&&oy(o)?om(e):oy(o)&&ny(e)&&(n=y2(e))!==null&&n!==void 0?n:o},rm=(e,n)=>{const o=Bv(e,n);return o.width=1,o.right=o.left+1,o},x2=e=>{const n=[],o=p=>{p.height!==0&&(n.length>0&&Jf(p,n[n.length-1])||n.push(p))},i=(p,_)=>{const A=cg(p.ownerDocument);if(_<p.data.length){if(h2(p.data[_]))return;if(h2(p.data[_-1])&&(A.setStart(p,_),A.setEnd(p,_+1),!Ih(A))){o(rm(fl(A),!1));return}}_>0&&(A.setStart(p,_-1),A.setEnd(p,_),Ih(A)||o(rm(fl(A),!1))),_<p.data.length&&(A.setStart(p,_),A.setEnd(p,_+1),Ih(A)||o(rm(fl(A),!0)))},c=e.container(),m=e.offset();if(Uv(c))return i(c,m),n;if(f_(c))if(e.isAtEnd()){const p=lg(c,m);Uv(p)&&i(p,p.data.length),Hv(p)&&!ba(p)&&o(rm(fl(p),!1))}else{const p=lg(c,m);if(Uv(p)&&i(p,0),Hv(p)&&e.isAtEnd())return o(rm(fl(p),!1)),n;const _=lg(e.container(),e.offset()-1);Hv(_)&&!ba(_)&&(ag(_)||ag(p)||!Hv(p))&&o(rm(fl(_),!1)),Hv(p)&&o(rm(fl(p),!0))}return n},St=(e,n,o)=>{const i=()=>(Uv(e),n===0),c=()=>Uv(e)?n>=e.data.length:n>=e.childNodes.length,m=()=>{const q=cg(e.ownerDocument);return q.setStart(e,n),q.setEnd(e,n),q},p=()=>(o||(o=x2(St(e,n))),o),_=()=>p().length>0,A=q=>q&&e===q.container()&&n===q.offset(),$=q=>lg(e,q?n-1:n);return{container:ct(e),offset:ct(n),toRange:m,getClientRects:p,isVisible:_,isAtStart:i,isAtEnd:c,isEqual:A,getNode:$}};St.fromRangeStart=e=>St(e.startContainer,e.startOffset),St.fromRangeEnd=e=>St(e.endContainer,e.endOffset),St.after=e=>St(e.parentNode,ty(e)+1),St.before=e=>St(e.parentNode,ty(e)),St.isAbove=(e,n)=>aa(En(n.getClientRects()),uo(e.getClientRects()),em).getOr(!1),St.isBelow=(e,n)=>aa(uo(n.getClientRects()),En(e.getClientRects()),Dh).getOr(!1),St.isAtStart=e=>e?e.isAtStart():!1,St.isAtEnd=e=>e?e.isAtEnd():!1,St.isTextPosition=e=>e?jt(e.container()):!1,St.isElementPosition=e=>!St.isTextPosition(e);const Up=(e,n)=>{jt(n)&&n.data.length===0&&e.remove(n)},YE=(e,n,o)=>{n.insertNode(o),Up(e,o.previousSibling),Up(e,o.nextSibling)},m_=(e,n,o)=>{const i=Q.from(o.firstChild),c=Q.from(o.lastChild);n.insertNode(o),i.each(m=>Up(e,m.previousSibling)),c.each(m=>Up(e,m.nextSibling))},ry=(e,n,o)=>{Hf(o)?m_(e,n,o):YE(e,n,o)},Au=jt,sy=Vf,Kv=Xr.nodeIndex,w2=e=>{const n=e.parentNode;return sy(n)?w2(n):n},C2=e=>e?wl(e.childNodes,(n,o)=>(sy(o)&&o.nodeName!=="BR"?n=n.concat(C2(o)):n.push(o),n),[]):[],XE=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Au(o);)n+=o.data.length;return n},y=e=>n=>e===n,S=e=>{let n,o;n=C2(w2(e)),o=ls(n,y(e),e),n=n.slice(0,o+1);const i=wl(n,(c,m,p)=>(Au(m)&&Au(n[p-1])&&c++,c),0);return n=nl(n,ma([e.nodeName])),o=ls(n,y(e),e),o-i},O=e=>(Au(e)?"text()":e.nodeName.toLowerCase())+"["+S(e)+"]",B=(e,n,o)=>{const i=[];for(let c=n.parentNode;c&&c!==e;c=c.parentNode)i.push(c);return i},z=(e,n)=>{let o=[],i=n.container(),c=n.offset(),m;if(Au(i))m=XE(i,c);else{const _=i.childNodes;c>=_.length?(m="after",c=_.length-1):m="before",i=_[c]}o.push(O(i));let p=B(e,i);return p=nl(p,Le(Vf)),o=o.concat(Im(p,_=>O(_))),o.reverse().join("/")+","+m},K=(e,n,o)=>{let i=C2(e);return i=nl(i,(c,m)=>!Au(c)||!Au(i[m-1])),i=nl(i,ma([n])),i[o]},re=(e,n)=>{let o=e,i=0;for(;Au(o);){const c=o.data.length;if(n>=i&&n<=i+c){e=o,n=n-i;break}if(!Au(o.nextSibling)){e=o,n=c;break}i+=c,o=o.nextSibling}return Au(e)&&n>e.data.length&&(n=e.data.length),St(e,n)},ue=(e,n)=>{if(!n)return null;const o=n.split(","),i=o[0].split("/"),c=o.length>1?o[1]:"before",m=wl(i,(p,_)=>{const A=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(_);return A?(A[1]==="text()"&&(A[1]="#text"),K(p,A[1],parseInt(A[2],10))):null},e);if(!m)return null;if(!Au(m)&&m.parentNode){let p;return c==="after"?p=Kv(m)+1:p=Kv(m),St(m.parentNode,p)}return re(m,parseInt(c,10))},_e=yo,Fe=(e,n,o)=>{let i=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&jt(c);c=c.previousSibling)i+=e(c.data).length;return i},Je=(e,n,o,i,c)=>{const m=c?i.startContainer:i.endContainer;let p=c?i.startOffset:i.endOffset;const _=[],A=e.getRoot();if(jt(m))_.push(o?Fe(n,m,p):p);else{let $=0;const q=m.childNodes;p>=q.length&&q.length&&($=1,p=Math.max(0,q.length-1)),_.push(e.nodeIndex(q[p],o)+$)}for(let $=m;$&&$!==A;$=$.parentNode)_.push(e.nodeIndex($,o));return _},Pe=(e,n,o,i)=>{const c=n.dom,m=Je(c,e,o,i,!0),p=n.isForward(),_=Oh(i)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:m,forward:p,..._};{const A=Je(c,e,o,i,!1);return{start:m,end:A,forward:p,..._}}},He=(e,n,o)=>{let i=0;return tn.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;i++;return}}),i},Ke=(e,n)=>{let o=n?e.startContainer:e.endContainer,i=n?e.startOffset:e.endOffset;if(Nn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?i:i-1,c.length-1)],o&&(i=n?0:o.childNodes.length,n?e.setStart(o,i):e.setEnd(o,i))}},at=e=>(Ke(e,!0),Ke(e,!1),e),dt=(e,n)=>{if(Nn(e)&&(e=Ai(e,n),_e(e)))return e;if(tc(e)){jt(e)&&$p(e)&&(e=e.parentNode);let o=e.previousSibling;if(_e(o)||(o=e.nextSibling,_e(o)))return o}},Pt=e=>dt(e.startContainer,e.startOffset)||dt(e.endContainer,e.endOffset),Bt=(e,n,o)=>{const i=o.getNode(),c=o.getRng();if(i.nodeName==="IMG"||_e(i)){const p=i.nodeName;return{name:p,index:He(o.dom,p,i)}}const m=Pt(c);if(m){const p=m.tagName;return{name:p,index:He(o.dom,p,m)}}return Pe(e,o,n,c)},Nt=e=>{const n=e.getRng();return{start:z(e.dom.getRoot(),St.fromRangeStart(n)),end:z(e.dom.getRoot(),St.fromRangeEnd(n)),forward:e.isForward()}},$t=e=>({rng:e.getRng(),forward:e.isForward()}),Jt=(e,n,o)=>{const i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},on=(e,n)=>{const o=e.dom;let i=e.getRng();const c=o.uniqueId(),m=e.isCollapsed(),p=e.getNode(),_=p.nodeName,A=e.isForward();if(_==="IMG")return{name:_,index:He(o,_,p)};const $=at(i.cloneRange());if(!m){$.collapse(!1);const X=Jt(o,c+"_end",n);ry(o,$,X)}i=at(i),i.collapse(!0);const q=Jt(o,c+"_start",n);return ry(o,i,q),e.moveToBookmark({id:c,keep:!0,forward:A}),{id:c,forward:A}},mt=(e,n,o=!1)=>n===2?Bt(Dl,o,e):n===3?Nt(e):n?$t(e):on(e,!1),Sn=Qe(Bt,kn,!0),to=e=>{const n=m=>m(e),o=ct(e),i=()=>c,c={tag:!0,inner:e,fold:(m,p)=>p(e),isValue:nn,isError:Tn,map:m=>no.value(m(e)),mapError:i,bind:n,exists:n,forall:n,getOr:o,or:i,getOrThunk:o,orThunk:i,getOrDie:o,each:m=>{m(e)},toOptional:()=>Q.some(e)};return c},Eo=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(i,c)=>i(e),isValue:Tn,isError:nn,map:n,mapError:i=>no.error(i(e)),bind:n,exists:Tn,forall:nn,getOr:kn,or:kn,getOrThunk:po,orThunk:po,getOrDie:ft(String(e)),each:lt,toOptional:Q.none};return o},no={value:to,error:Eo,fromOption:(e,n)=>e.fold(()=>Eo(n),to)},Yo={generate:e=>{if(!oe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return be(e,(i,c)=>{const m=Xt(i);if(m.length!==1)throw new Error("one and only one name per case");const p=m[0],_=i[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(_))throw new Error("case arguments must be an array");n.push(p),o[p]=(...A)=>{const $=A.length;if($!==_.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+_.length+" ("+_+"), got "+$);return{fold:(...X)=>{if(X.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+X.length);return X[c].apply(null,A)},match:X=>{const ne=Xt(X);if(n.length!==ne.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ne.join(","));if(!Ro(n,Ee=>xe(ne,Ee)))throw new Error("Not all branches were specified when using match. Specified: "+ne.join(", ")+`
Required: `+n.join(", "));return X[p].apply(null,A)},log:X=>{console.log(X,{constructors:n,constructor:p,params:A})}}}}),o}};Yo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ii=e=>{const n=[],o=[];return be(e,i=>{i.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},Ra=e=>e.type==="inline-command"||e.type==="inline-format",Qi=e=>e.type==="block-command"||e.type==="block-format",bc=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,ug=e=>{var n;const o=c=>no.error({message:c,pattern:e}),i=(c,m,p)=>{if(e.format!==void 0){let _;if(oe(e.format)){if(!Ro(e.format,ae))return o(c+" pattern has non-string items in the `format` array");_=e.format}else if(ae(e.format))_=[e.format];else return o(c+" pattern has non-string `format` parameter");return no.value(m(_))}else return e.cmd!==void 0?ae(e.cmd)?no.value(p(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!U(e))return o("Raw pattern is not an object");if(!ae(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ae(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,m=e.end;return m.length===0&&(m=c,c=""),i("Inline",p=>({type:"inline-format",start:c,end:m,format:p}),(p,_)=>({type:"inline-command",start:c,end:m,cmd:p,value:_}))}else{if(e.replacement!==void 0)return ae(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):no.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):i("Block",m=>({type:"block-format",start:e.start,format:m[0],trigger:c}),(m,p)=>({type:"block-command",start:e.start,cmd:m,value:p,trigger:c}))}}},Ia=e=>je(e,Qi),fd=e=>je(e,Ra),Wp=(e,n)=>({inlinePatterns:fd(e),blockPatterns:Ia(e),dynamicPatternsLookup:n}),sm=(e,n)=>({...e,blockPatterns:je(e.blockPatterns,o=>bc(o,n))}),Kp=e=>{const n=ii($e(e,ug));return be(n.errors,o=>console.error(o.message,o.pattern)),n.values},iy=e=>n=>{const o=e(n);return Kp(o)},im=sa().deviceType,g_=im.isTouch(),vF=Xr.DOM,yF=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return sn(n,(o,i)=>{const c=i.split("="),m=c[0],p=c.length>1?c[1]:m;return o[ze(m)]=ze(p),o},{})},xR=e=>he(e,RegExp),An=e=>n=>n.options.get(e),_2=e=>ae(e)||U(e),JE=(e,n="")=>o=>{const i=ae(o);if(i)if(o.indexOf("=")!==-1){const c=yF(o);return{value:Nr(c,e.id).getOr(n),valid:i}}else return{value:o,valid:i};else return{valid:!1,message:"Must be a string."}},h_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:JE(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:JE(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const i=ae(o)&&nt(o);return i?{value:o,valid:i}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const i=xe(["block","linebreak","invert","default"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>Me(o)?{valid:!0,value:o}:ae(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const i=o===!1||ae(o)||qe(o,ae);return i?ae(o)?{value:$e(o.split(","),ze),valid:i}:oe(o)?{value:o,valid:i}:o===!1?{value:[],valid:i}:{value:o,valid:i}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:jv(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const i=ae(o)||qe(o,ae);return i?{value:oe(o)?o:$e(o.split(","),ze),valid:i}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const i=Me(o)||ae(o);return i?o===!1||im.isiPhone()||im.isiPad()?{value:"",valid:i}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:i}:{valid:!1,message:"Must be boolean or a string"}},default:!g_}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ae(o)||Te(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const i=o===!1||ae(o);return i?{value:o===!1?"":o,valid:i}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:_2}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:_2}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:_2}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:_2}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ae(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>qe(o,U)||o===!1?{value:Kp(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>Te(o)?{value:iy(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>qe(o,xR)?{value:o,valid:!0}:xR(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const i=xe(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const i=xe(["inherited","collapsed","expanded"],o);return i?{value:o,valid:i}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Kc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:vF.getAttrib(e.getElement(),"placeholder")})})},Rl=An("iframe_attrs"),sf=An("doctype"),Tu=An("document_base_url"),p_=An("body_id"),QE=An("body_class"),wR=An("content_security_policy"),eA=An("br_in_pre"),ml=An("forced_root_block"),S2=An("forced_root_block_attrs"),tA=An("newline_behavior"),CR=An("br_newline_selector"),_R=An("no_newline_selector"),nA=An("keep_styles"),oA=An("end_container_on_empty_block"),Jr=An("automatic_uploads"),Nh=An("images_reuse_filename"),SR=An("images_replace_blob_uris"),rA=An("icons"),kR=An("icons_url"),sA=An("images_upload_url"),ER=An("images_upload_base_path"),iA=An("images_upload_credentials"),xF=An("images_upload_handler"),AR=An("content_css_cors"),k2=An("referrer_policy"),aA=An("language"),wF=An("language_url"),TR=An("indent_use_margin"),Ou=An("indentation"),Kl=An("content_css"),ay=An("content_style"),OR=An("font_css"),CF=An("directionality"),sr=An("inline_boundaries_selector"),DR=An("object_resizing"),RR=An("resize_img_proportional"),lA=An("placeholder"),IR=An("event_root"),_F=An("service_message"),ly=An("theme"),SF=An("theme_url"),E2=An("model"),cA=An("model_url"),cy=An("inline_boundaries"),kF=An("formats"),EF=An("preview_styles"),AF=An("format_empty_lines"),ao=An("format_noneditable_selector"),NR=An("custom_ui_selector"),jv=An("inline"),uA=An("hidden_input"),PR=An("submit_patch"),LR=An("add_form_submit_trigger"),MR=An("add_unload_trigger"),BR=An("custom_undo_redo_levels"),TF=An("disable_nodechange"),FR=An("readonly"),Ar=An("editable_root"),$R=An("content_css_cors"),af=An("plugins"),dg=An("external_plugins"),b_=An("block_unsupported_drop"),qc=An("visual"),v_=An("visual_table_class"),uy=An("visual_anchor_class"),A2=An("iframe_aria_text"),dy=An("setup"),OF=An("init_instance_callback"),DF=An("urlconverter_callback"),RF=An("auto_focus"),IF=An("browser_spellcheck"),fr=An("protect"),am=An("paste_block_drop"),fg=An("paste_data_images"),NF=An("paste_preprocess"),T2=An("paste_postprocess"),hr=An("newdocument_content"),VR=An("paste_webkit_styles"),dA=An("paste_remove_styles_if_webkit"),PF=An("paste_merge_formats"),Zv=An("smart_paste"),Gv=An("paste_as_text"),zR=An("paste_tab_spaces"),LF=An("allow_html_data_urls"),MF=An("text_patterns"),O2=An("text_patterns_lookup"),qv=An("noneditable_class"),BF=An("editable_class"),HR=An("noneditable_regexp"),FF=An("preserve_cdata"),UR=An("highlight_on_focus"),WR=An("xss_sanitization"),KR=An("init_content_sync"),fA=e=>e.options.isSet("text_patterns_lookup"),mA=e=>tn.explode(e.options.get("font_size_style_values")),gA=e=>tn.explode(e.options.get("font_size_classes")),jR=e=>e.options.get("encoding")==="xml",hA=e=>tn.explode(e.options.get("images_file_types")),ZR=An("table_tab_navigation"),y_=An("details_initial_state"),GR=An("details_serialized_state"),pA=An("sandbox_iframes"),x_=e=>e.options.get("sandbox_iframes_exclusions"),qR=An("convert_unsafe_embeds"),YR=An("license_key"),XR=An("api_key"),$F=Nn,JR=jt,D2=e=>{const n=e.parentNode;n&&n.removeChild(e)},bA=e=>{const n=Dl(e);return{count:e.length-n.length,text:n}},vA=e=>{let n;for(;(n=e.data.lastIndexOf(Ei))!==-1;)e.deleteData(n,1)},yA=(e,n)=>(jp(e),n),VF=(e,n)=>{const o=bA(e.data.substr(0,n.offset())),i=bA(e.data.substr(n.offset()));return(o.text+i.text).length>0?(vA(e),St(e,n.offset()-o.count)):n},zF=(e,n)=>{const o=n.container(),i=et(Oo(o.childNodes),e).map(c=>c<n.offset()?St(o,n.offset()-1):n).getOr(n);return jp(e),i},HF=(e,n)=>JR(e)&&n.container()===e?VF(e,n):yA(e,n),UF=(e,n)=>n.container()===e.parentNode?zF(e,n):yA(e,n),WF=(e,n)=>St.isTextPosition(n)?HF(e,n):UF(e,n),jp=e=>{$F(e)&&tc(e)&&(Z0(e)?e.removeAttribute("data-mce-caret"):D2(e)),JR(e)&&(vA(e),e.data.length===0&&D2(e))},QR=yo,w_=Ot,KF=Tp,xA="*[contentEditable=false],video,audio,embed,object",eI=(e,n,o)=>{const i=Bv(n.getBoundingClientRect(),o);let c,m;if(e.tagName==="BODY"){const _=e.ownerDocument.documentElement;c=e.scrollLeft||_.scrollLeft,m=e.scrollTop||_.scrollTop}else{const _=e.getBoundingClientRect();c=e.scrollLeft-_.left,m=e.scrollTop-_.top}i.left+=c,i.right+=c,i.top+=m,i.bottom+=m,i.width=1;let p=n.offsetWidth-n.clientWidth;return p>0&&(o&&(p*=-1),i.left+=p,i.right+=p),i},tI=e=>{var n,o;const i=vi(Ue.fromDom(e),xA);for(let c=0;c<i.length;c++){const m=i[c].dom;let p=m.previousSibling;if(rf(p)){const _=p.data;_.length===1?(n=p.parentNode)===null||n===void 0||n.removeChild(p):p.deleteData(_.length-1,1)}p=m.nextSibling,Lv(p)&&(p.data.length===1?(o=p.parentNode)===null||o===void 0||o.removeChild(p):p.deleteData(0,1))}},nI=(e,n,o,i)=>{const c=Li();let m,p;const _=ml(e),A=e.dom,$=(ye,Ie)=>{let Ge;if(q(),KF(Ie))return null;if(o(Ie)){const ot=a_(_,Ie,ye),tt=eI(n,Ie,ye);A.setStyle(ot,"top",tt.top),A.setStyle(ot,"caret-color","transparent"),p=ot;const bt=A.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});A.setStyles(bt,{...tt}),A.add(n,bt),c.set({caret:bt,element:Ie,before:ye}),ye&&A.addClass(bt,"mce-visual-caret-before"),X(),Ge=Ie.ownerDocument.createRange(),Ge.setStart(ot,0),Ge.setEnd(ot,0)}else return p=G0(Ie,ye),Ge=Ie.ownerDocument.createRange(),R2(p.nextSibling)?(Ge.setStart(p,0),Ge.setEnd(p,0)):(Ge.setStart(p,1),Ge.setEnd(p,1)),Ge;return Ge},q=()=>{tI(n),p&&(jp(p),p=null),c.on(ye=>{A.remove(ye.caret),c.clear()}),m&&(clearInterval(m),m=void 0)},X=()=>{m=setInterval(()=>{c.on(ye=>{i()?A.toggleClass(ye.caret,"mce-visual-caret-hidden"):A.addClass(ye.caret,"mce-visual-caret-hidden")})},500)};return{show:$,hide:q,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(ye=>{const Ie=eI(n,ye.element,ye.before);A.setStyles(ye.caret,{...Ie})})},destroy:()=>clearInterval(m)}},wA=()=>zo.browser.isFirefox(),R2=e=>QR(e)||w_(e),I2=e=>(R2(e)||xu(e)&&wA())&&Pf(Ue.fromDom(e)).exists(Ss),C_=Vc,__=yo,oI=Ot,CA=Fc("display","block table table-cell table-caption list-item"),_A=tc,rI=$p,jF=Nn,S_=jt,sI=ku,Yv=e=>e>0,Xv=e=>e<0,k_=(e,n)=>{let o;for(;o=e(n);)if(!rI(o))return o;return null},N2=(e,n,o,i,c)=>{const m=new fa(e,i),p=__(e)||rI(e);let _;if(Xv(n)){if(p&&(_=k_(m.prev.bind(m),!0),o(_)))return _;for(;_=k_(m.prev.bind(m),c);)if(o(_))return _}if(Yv(n)){if(p&&(_=k_(m.next.bind(m),!0),o(_)))return _;for(;_=k_(m.next.bind(m),c);)if(o(_))return _}return null},ZF=(e,n)=>{const o=c=>C_(c.dom),i=c=>c.dom===n;return al(Ue.fromDom(e),o,i).map(c=>c.dom).getOr(n)},Zp=(e,n)=>{for(;e&&e!==n;){if(CA(e))return e;e=e.parentNode}return null},mg=(e,n,o)=>Zp(e.container(),o)===Zp(n.container(),o),E_=(e,n)=>{if(!n)return Q.none();const o=n.container(),i=n.offset();return jF(o)?Q.from(o.childNodes[i+e]):Q.none()},iI=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},aI=(e,n,o)=>Zp(n,e)===Zp(o,e),SA=(e,n,o)=>{const i=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let m=c[i];if(m&&_A(m)&&(m=m[i]),__(m)||oI(m)){if(aI(n,m,c))return m;break}if(sI(m))break;c=c.parentNode}return null},P2=Qe(iI,!0),L2=Qe(iI,!1),kA=(e,n,o)=>{let i;const c=Qe(SA,!0,n),m=Qe(SA,!1,n),p=o.startContainer,_=o.startOffset;if($p(p)){const A=S_(p)?p.parentNode:p,$=A.getAttribute("data-mce-caret");if($==="before"&&(i=A.nextSibling,I2(i)))return P2(i);if($==="after"&&(i=A.previousSibling,I2(i)))return L2(i)}if(!o.collapsed)return o;if(jt(p)){if(_A(p)){if(e===1){if(i=m(p),i)return P2(i);if(i=c(p),i)return L2(i)}if(e===-1){if(i=c(p),i)return L2(i);if(i=m(p),i)return P2(i)}return o}if(rf(p)&&_>=p.data.length-1)return e===1&&(i=m(p),i)?P2(i):o;if(Lv(p)&&_<=1)return e===-1&&(i=c(p),i)?L2(i):o;if(_===p.data.length)return i=m(p),i?P2(i):o;if(_===0)return i=c(p),i?L2(i):o}return o},lI=(e,n)=>E_(e?0:-1,n).filter(__),M2=(e,n,o)=>{const i=kA(e,n,o);return e===-1?St.fromRangeStart(i):St.fromRangeEnd(i)},A_=e=>Q.from(e.getNode()).map(Ue.fromDom),GF=e=>Q.from(e.getNode(!0)).map(Ue.fromDom),EA=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},T_=(e,n)=>{const o=mg(e,n);return!o&&ps(e.getNode())?!0:o};var ja;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ja||(ja={}));const qF=yo,gg=jt,cI=Nn,$n=ps,Jv=ku,AA=Hp,O_=Vv,TA=(e,n)=>{const o=[];let i=e;for(;i&&i!==n;)o.push(i),i=i.parentNode;return o},uI=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,B2=(e,n)=>{if(Yv(e)){if(Jv(n.previousSibling)&&!gg(n.previousSibling))return St.before(n);if(gg(n))return St(n,0)}if(Xv(e)){if(Jv(n.nextSibling)&&!gg(n.nextSibling))return St.after(n);if(gg(n))return St(n,n.data.length)}return Xv(e)?$n(n)?St.before(n):St.after(n):St.before(n)},dI=(e,n)=>{const o=n.nextSibling;return o&&Jv(o)?gg(o)?St(o,0):St.before(o):OA(ja.Forwards,St.after(n),e)},OA=(e,n,o)=>{let i,c,m,p;if(!cI(o)||!n)return null;if(n.isEqual(St.after(o))&&o.lastChild){if(p=St.after(o.lastChild),Xv(e)&&Jv(o.lastChild)&&cI(o.lastChild))return $n(o.lastChild)?St.before(o.lastChild):p}else p=n;const _=p.container();let A=p.offset();if(gg(_)){if(Xv(e)&&A>0)return St(_,--A);if(Yv(e)&&A<_.length)return St(_,++A);i=_}else{if(Xv(e)&&A>0&&(c=uI(_,A-1),Jv(c)))return!AA(c)&&(m=N2(c,e,O_,c),m)?gg(m)?St(m,m.data.length):St.after(m):gg(c)?St(c,c.data.length):St.before(c);if(Yv(e)&&A<_.childNodes.length&&(c=uI(_,A),Jv(c)))return $n(c)?dI(o,c):!AA(c)&&(m=N2(c,e,O_,c),m)?gg(m)?St(m,0):St.before(m):gg(c)?St(c,0):St.after(c);i=c||p.getNode()}if(i&&(Yv(e)&&p.isAtEnd()||Xv(e)&&p.isAtStart())&&(i=N2(i,e,nn,o,!0),O_(i,o)))return B2(e,i);c=i&&N2(i,e,O_,o);const $=Sa(je(TA(_,o),qF));return $&&(!c||!$.contains(c))?(Yv(e)?p=St.after($):p=St.before($),p):c?B2(e,c):null},Jn=e=>({next:n=>OA(ja.Forwards,n,e),prev:n=>OA(ja.Backwards,n,e)}),To=(e,n,o)=>{const i=e?St.before(o):St.after(o);return Du(e,n,i)},fI=e=>ps(e)?St.before(e):St.after(e),mI=e=>St.isTextPosition(e)?e.offset()===0:ku(e.getNode()),gI=e=>{if(St.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return ku(e.getNode(!0))},hI=(e,n)=>!St.isTextPosition(e)&&!St.isTextPosition(n)&&e.getNode()===n.getNode(!0),so=e=>!St.isTextPosition(e)&&ps(e.getNode()),F2=(e,n,o)=>e?!hI(n,o)&&!so(n)&&gI(n)&&mI(o):!hI(o,n)&&mI(n)&&gI(o),Du=(e,n,o)=>{const i=Jn(n);return Q.from(e?i.next(o):i.prev(o))},Qv=(e,n,o)=>Du(e,n,o).bind(i=>mg(o,i,n)&&F2(e,o,i)?Du(e,n,i):Q.some(i)),pI=(e,n,o,i)=>Qv(e,n,o).bind(c=>i(c)?pI(e,n,c,i):Q.some(c)),fy=(e,n)=>{const o=e?n.firstChild:n.lastChild;return jt(o)?Q.some(St(o,e?0:o.data.length)):o?ku(o)?Q.some(e?St.before(o):fI(o)):To(e,n,o):Q.none()},nc=Qe(Du,!0),Yc=Qe(Du,!1),oo=Qe(fy,!0),md=Qe(fy,!1),my="_mce_caret",Ru=e=>Nn(e)&&e.id===my,Gp=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ru(o))return o;o=o.parentNode}return null},bI=e=>ae(e.start),vI=e=>fo(e,"rng"),yI=e=>fo(e,"id"),DA=e=>fo(e,"name"),xI=e=>tn.isArray(e.start),D_=e=>!DA(e)&&Me(e.forward)?e.forward:!0,wI=(e,n)=>(Nn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),YF=(e,n)=>{const o=Q.from(ue(e.getRoot(),n.start)),i=Q.from(ue(e.getRoot(),n.end));return aa(o,i,(c,m)=>{const p=e.createRng();return p.setStart(c.container(),c.offset()),p.setEnd(m.container(),m.offset()),{range:p,forward:D_(n)}})},XF=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ei);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},RA=e=>!e.hasChildNodes(),IA=(e,n)=>md(e).fold(Tn,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),CI=(e,n,o)=>RA(n)&&Gp(e,n)?(XF(n,o),!0):!1,_I=(e,n,o,i)=>{const c=o[n?"start":"end"],m=e.getRoot();if(c){let p=m,_=c[0];for(let A=c.length-1;p&&A>=1;A--){const $=p.childNodes;if(CI(m,p,i))return!0;if(c[A]>$.length-1)return CI(m,p,i)?!0:IA(p,i);p=$[c[A]]}jt(p)&&(_=Math.min(c[0],p.data.length)),Nn(p)&&(_=Math.min(c[0],p.childNodes.length)),n?i.setStart(p,_):i.setEnd(p,_)}return!0},NA=e=>jt(e)&&e.data.length>0,SI=(e,n,o)=>{const i=e.get(o.id+"_"+n),c=i==null?void 0:i.parentNode,m=o.keep;if(i&&c){let p,_;if(n==="start"?m?i.hasChildNodes()?(p=i.firstChild,_=1):NA(i.nextSibling)?(p=i.nextSibling,_=0):NA(i.previousSibling)?(p=i.previousSibling,_=i.previousSibling.data.length):(p=c,_=e.nodeIndex(i)+1):(p=c,_=e.nodeIndex(i)):m?i.hasChildNodes()?(p=i.firstChild,_=1):NA(i.previousSibling)?(p=i.previousSibling,_=i.previousSibling.data.length):(p=c,_=e.nodeIndex(i)):(p=c,_=e.nodeIndex(i)),!m){const A=i.previousSibling,$=i.nextSibling;tn.each(tn.grep(i.childNodes),X=>{jt(X)&&(X.data=X.data.replace(/\uFEFF/g,""))});let q;for(;q=e.get(o.id+"_"+n);)e.remove(q,!0);if(jt($)&&jt(A)&&!zo.browser.isOpera()){const X=A.data.length;A.appendData($.data),e.remove($),p=A,_=X}}return Q.some(St(p,_))}else return Q.none()},kI=(e,n)=>{const o=e.createRng();return _I(e,!0,n,o)&&_I(e,!1,n,o)?Q.some({range:o,forward:D_(n)}):Q.none()},e1=(e,n)=>{const o=SI(e,"start",n),i=SI(e,"end",n);return aa(o,i.or(o),(c,m)=>{const p=e.createRng();return p.setStart(wI(e,c.container()),c.offset()),p.setEnd(wI(e,m.container()),m.offset()),{range:p,forward:D_(n)}})},EI=(e,n)=>Q.from(e.select(n.name)[n.index]).map(o=>{const i=e.createRng();return i.selectNode(o),{range:i,forward:!0}}),AI=(e,n)=>{const o=e.dom;if(n){if(xI(n))return kI(o,n);if(bI(n))return YF(o,n);if(yI(n))return e1(o,n);if(DA(n))return EI(o,n);if(vI(n))return Q.some({range:n.rng,forward:D_(n)})}return Q.none()},JF=(e,n,o)=>mt(e,n,o),QF=(e,n)=>{AI(e,n).each(({range:o,forward:i})=>{e.setRng(o,i)})},Iu=e=>Nn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",gl=(e=>n=>e===n)(Ni),t1=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Ph=e=>!t1(e)&&!gl(e)&&!ad(e),bs=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},gd=e=>Fo(e,n=>{const o=zp(n);return o?[Ue.fromDom(o)]:[]}),$2=e=>bs(e).length>1,R_=e=>je(gd(e),jc),gy=e=>vi(e,"td[data-mce-selected],th[data-mce-selected]"),TI=(e,n)=>{const o=gy(n);return o.length>0?o:R_(e)},lm=e=>TI(bs(e.selection.getSel()),Ue.fromDom(e.getBody())),$r=(e,n)=>pu(e,"table",n),V2=e=>{const n=e.startContainer,o=e.startOffset;return jt(n)?o===0?Q.some(Ue.fromDom(n)):Q.none():Q.from(n.childNodes[o]).map(Ue.fromDom)},OI=e=>{const n=e.endContainer,o=e.endOffset;return jt(n)?o===n.data.length?Q.some(Ue.fromDom(n)):Q.none():Q.from(n.childNodes[o-1]).map(Ue.fromDom)},PA=e=>Wl(e).fold(ct([e]),n=>[e].concat(PA(n))),z2=e=>od(e).fold(ct([e]),n=>er(n)==="br"?Si(n).map(o=>[e].concat(z2(o))).getOr([]):[e].concat(z2(n))),H2=(e,n)=>aa(V2(n),OI(n),(o,i)=>{const c=bn(PA(e),Qe(tr,o)),m=bn(z2(e),Qe(tr,i));return c.isSome()&&m.isSome()}).getOr(!1),U2=(e,n,o,i)=>{const c=o,m=new fa(o,c),p=Rc(e.schema.getMoveCaretBeforeOnEnterElements(),(A,$)=>!xe(["td","th","table"],$.toLowerCase()));let _=o;do{if(jt(_)&&tn.trim(_.data).length!==0){i?n.setStart(_,0):n.setEnd(_,_.data.length);return}if(p[_.nodeName]){i?n.setStartBefore(_):_.nodeName==="BR"?n.setEndBefore(_):n.setEndAfter(_);return}}while(_=i?m.next():m.prev());c.nodeName==="BODY"&&(i?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},hy=e=>{const n=e.selection.getSel();return Oe(n)&&n.rangeCount>0},py=(e,n)=>{const o=lm(e);o.length>0?be(o,i=>{const c=i.dom,m=e.dom.createRng();m.setStartBefore(c),m.setEndAfter(c),n(m,!0)}):n(e.selection.getRng(),!1)},I_=(e,n,o)=>{const i=on(e,n);o(i),e.moveToBookmark(i)},by=e=>D(e==null?void 0:e.nodeType),N_=e=>Nn(e)&&!Iu(e)&&!Ru(e)&&!Vf(e),DI=(e,n)=>{if(N_(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),i=parseInt(o,10);return!isNaN(i)&&i>0}else return!1},LA=(e,n,o)=>{const{selection:i,dom:c}=e,m=i.getNode(),p=yo(m);I_(i,!0,()=>{n()}),p&&yo(m)&&c.isChildOf(m,e.getBody())?e.selection.select(m):o(i.getStart())&&RI(c,i)},RI=(e,n)=>{var o,i;const c=n.getRng(),{startContainer:m,startOffset:p}=c,_=n.getNode();if(!DI(e,_)&&Nn(m)){const A=m.childNodes,$=e.getRoot();let q;if(p<A.length){const X=A[p];q=new fa(X,(o=e.getParent(X,e.isBlock))!==null&&o!==void 0?o:$)}else{const X=A[A.length-1];q=new fa(X,(i=e.getParent(X,e.isBlock))!==null&&i!==void 0?i:$),q.next(!0)}for(let X=q.current();X;X=q.next()){if(e.getContentEditable(X)==="false")return;if(jt(X)&&!MA(X)){c.setStart(X,0),n.setRng(c);return}}}},n1=(e,n,o)=>{if(e){const i=n?"nextSibling":"previousSibling";for(e=e[i];e;e=e[i])if(Nn(e)||!MA(e))return e}},P_=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||Wf(e,n),qp=(e,n,o)=>e.schema.isValidChild(n,o),MA=(e,n=!1)=>{if(Oe(e)&&jt(e)){const o=n?e.data.replace(/ /g,""):e.data;return mc(o)}else return!1},t7=e=>Oe(e)&&jt(e)&&e.length===0,II=(e,n)=>{const o="[data-mce-cef-wrappable]",i=ao(e),c=Gt(i)?o:`${o},${i}`;return Br(Ue.fromDom(n),c)},BA=(e,n)=>{const o=e.dom;return N_(n)&&o.getContentEditable(n)==="false"&&II(e,n)&&o.select('[contenteditable="true"]',n).length===0},Lh=(e,n)=>Te(e)?e(n):(Oe(n)&&(e=e.replace(/%(\w+)/g,(o,i)=>n[i]||o)),e),vy=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),L_=(e,n)=>{if(rt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=yv(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},W2=(e,n,o)=>{const i=e.getStyle(n,o);return L_(i,o)},FA=(e,n)=>{let o;return e.getParent(n,i=>Nn(i)?(o=e.getStyle(i,"text-decoration"),!!o&&o!=="none"):!1),o},K2=(e,n,o)=>e.getParents(n,o,e.getRoot()),M_=(e,n,o)=>{const i=e.formatter.get(n);return Oe(i)&&Ae(i,o)},NI=(e,n)=>M_(e,n,i=>{const c=m=>Te(m)||m.length>1&&m.charAt(0)==="%";return Ae(["styles","attributes"],m=>Nr(i,m).exists(p=>{const _=oe(p)?p:Gu(p);return Ae(_,c)}))}),PI=(e,n,o)=>{const i=["inline","block","selector","attributes","styles","classes"],c=m=>Rc(m,(p,_)=>Ae(i,A=>A===_));return M_(e,n,m=>{const p=c(m);return M_(e,o,_=>{const A=c(_);return Ri(p,A)})})},cm=e=>Yl(e,"block"),LI=e=>cm(e)&&e.wrapper===!0,MI=e=>cm(e)&&e.wrapper!==!0,Xc=e=>Yl(e,"selector"),va=e=>Yl(e,"inline"),BI=e=>Xc(e)&&va(e)&&Af(Nr(e,"mixed"),!0),B_=e=>Xc(e)&&e.expand!==!1&&!va(e),FI=e=>{const n=[];let o=e;for(;o;){if(jt(o)&&o.data!==Ei||o.childNodes.length>1)return[];Nn(o)&&n.push(o),o=o.firstChild}return n},$A=e=>FI(e).length>0,F_=e=>Ru(e.dom)&&$A(e.dom),Yp=Iu,j2=K2,$_=MA,V_=P_,$I=e=>ps(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Z2=(e,n)=>{let o=n;for(;o;){if(Nn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},z_=(e,n,o,i)=>{const c=n.data;if(e){for(let m=o;m>0;m--)if(i(c.charAt(m-1)))return m}else for(let m=o;m<c.length;m++)if(i(c.charAt(m)))return m;return-1},G2=(e,n,o)=>z_(e,n,o,i=>gl(i)||t1(i)),VA=(e,n,o)=>z_(e,n,o,Ph),zA=(e,n,o,i,c,m)=>{let p;const _=e.getParent(o,e.isBlock)||n,A=(q,X,ne)=>{const ve=ef(e),Ee=c?ve.backwards:ve.forwards;return Q.from(Ee(q,X,(ye,Ie)=>Yp(ye.parentNode)?-1:(p=ye,ne(c,ye,Ie)),_))};return A(o,i,G2).bind(q=>m?A(q.container,q.offset+(c?-1:0),VA):Q.some(q)).orThunk(()=>p?Q.some({container:p,offset:c?0:p.length}):Q.none())},o1=(e,n,o,i,c)=>{const m=i[c];jt(i)&&Gt(i.data)&&m&&(i=m);const p=j2(e,i);for(let _=0;_<p.length;_++)for(let A=0;A<n.length;A++){const $=n[A];if(!(Oe($.collapsed)&&$.collapsed!==o.collapsed)&&Xc($)&&e.is(p[_],$.selector))return p[_]}return i},H_=(e,n,o,i)=>{var c;let m=o;const p=e.getRoot(),_=n[0];if(cm(_)&&(m=_.wrapper?null:e.getParent(o,_.block,p)),!m){const A=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:p;m=e.getParent(jt(o)?o.parentNode:o,$=>$!==p&&V_(e.schema,$),A)}if(m&&cm(_)&&_.wrapper&&(m=j2(e,m,"ul,ol").reverse()[0]||m),!m)for(m=o;m&&m[i]&&!e.isBlock(m[i])&&(m=m[i],!vy(m,"br")););return m||o},U_=(e,n,o,i)=>{const c=o.parentNode;return Oe(o[i])?!1:c===n||rt(c)||e.isBlock(c)?!0:U_(e,n,c,i)},Mh=(e,n,o,i,c)=>{let m=o;const p=c?"previousSibling":"nextSibling",_=e.getRoot();if(jt(o)&&!$_(o)&&(c?i>0:i<o.data.length))return o;for(;m;){if(!n[0].block_expand&&e.isBlock(m))return m;for(let A=m[p];A;A=A[p]){const $=jt(A)&&!U_(e,_,A,p);if(!Yp(A)&&!$I(A)&&!$_(A,$))return m}if(m===_||m.parentNode===_){o=m;break}m=m.parentNode}return o},Bh=e=>Yp(e.parentNode)||Yp(e),Xp=(e,n,o,i=!1)=>{let{startContainer:c,startOffset:m,endContainer:p,endOffset:_}=n;const A=o[0];return Nn(c)&&c.hasChildNodes()&&(c=Ai(c,m),jt(c)&&(m=0)),Nn(p)&&p.hasChildNodes()&&(p=Ai(p,n.collapsed?_:_-1),jt(p)&&(_=p.data.length)),c=Z2(e,c),p=Z2(e,p),Bh(c)&&(c=Yp(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,jt(c)&&(m=n.collapsed?c.length:0)),Bh(p)&&(p=Yp(p)?p:p.parentNode,n.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,jt(p)&&(_=n.collapsed?0:p.length)),n.collapsed&&(zA(e,e.getRoot(),c,m,!0,i).each(({container:X,offset:ne})=>{c=X,m=ne}),zA(e,e.getRoot(),p,_,!1,i).each(({container:X,offset:ne})=>{p=X,_=ne})),(va(A)||A.block_expand)&&((!va(A)||!jt(c)||m===0)&&(c=Mh(e,o,c,m,!0)),(!va(A)||!jt(p)||_===p.data.length)&&(p=Mh(e,o,p,_,!1))),B_(A)&&(c=o1(e,o,n,c,"previousSibling"),p=o1(e,o,n,p,"nextSibling")),(cm(A)||Xc(A))&&(c=H_(e,o,c,"previousSibling"),p=H_(e,o,p,"nextSibling"),cm(A)&&(e.isBlock(c)||(c=Mh(e,o,c,m,!0),jt(c)&&(m=0)),e.isBlock(p)||(p=Mh(e,o,p,_,!1),jt(p)&&(_=p.data.length)))),Nn(c)&&c.parentNode&&(m=e.nodeIndex(c),c=c.parentNode),Nn(p)&&p.parentNode&&(_=e.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:m,endContainer:p,endOffset:_}},q2=(e,n,o)=>{var i;const c=n.startOffset,m=Ai(n.startContainer,c),p=n.endOffset,_=Ai(n.endContainer,p-1),A=Ie=>{const Ge=Ie[0];jt(Ge)&&Ge===m&&c>=Ge.data.length&&Ie.splice(0,1);const ot=Ie[Ie.length-1];return p===0&&Ie.length>0&&ot===_&&jt(ot)&&Ie.splice(Ie.length-1,1),Ie},$=(Ie,Ge,ot)=>{const tt=[];for(;Ie&&Ie!==ot;Ie=Ie[Ge])tt.push(Ie);return tt},q=(Ie,Ge)=>e.getParent(Ie,ot=>ot.parentNode===Ge,Ge),X=(Ie,Ge,ot)=>{const tt=ot?"nextSibling":"previousSibling";for(let bt=Ie,Vt=bt.parentNode;bt&&bt!==Ge;bt=Vt){Vt=bt.parentNode;const en=$(bt===Ie?bt:bt[tt],tt);en.length&&(ot||en.reverse(),o(A(en)))}};if(m===_)return o(A([m]));const ne=(i=e.findCommonAncestor(m,_))!==null&&i!==void 0?i:e.getRoot();if(e.isChildOf(m,_))return X(m,ne,!0);if(e.isChildOf(_,m))return X(_,ne);const ve=q(m,ne)||m,Ee=q(_,ne)||_;X(m,ve,!0);const ye=$(ve===m?ve:ve.nextSibling,"nextSibling",Ee===_?Ee.nextSibling:Ee);ye.length&&o(A(ye)),X(_,Ee)},n7=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],VI=e=>us(e)&&rg(e)===Ei,zI=(e,n,o,i)=>ua(n).fold(()=>"skipping",c=>i==="br"||VI(n)?"valid":s2(n)?"existing":Ru(n.dom)?"caret":Ae(n7,m=>Br(n,m))?"valid-block":!qp(e,o,i)||!qp(e,er(c),o)?"invalid-child":"valid"),Jp=(e,n)=>{const o=Xp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},Qp=(e,n,o,i,c,m)=>{const{uid:p=n,..._}=o;Wd(e,Ns()),_i(e,`${si()}`,p),_i(e,`${Ps()}`,i);const{attributes:A={},classes:$=[]}=c(p,_);if(Fa(e,A),kv(e,$),m){$.length>0&&_i(e,`${As()}`,$.join(","));const q=Xt(A);q.length>0&&_i(e,`${Gs()}`,q.join(","))}},Za=e=>{$a(e,Ns()),Lo(e,`${si()}`),Lo(e,`${Ps()}`),Lo(e,`${Fr()}`);const n=du(e,`${Gs()}`).map(i=>i.split(",")).getOr([]),o=du(e,`${As()}`).map(i=>i.split(",")).getOr([]);be(n,i=>Lo(e,i)),Eh(e,o),Lo(e,`${As()}`),Lo(e,`${Gs()}`)},hg=(e,n,o,i,c)=>{const m=Ue.fromTag("span",e);return Qp(m,n,o,i,c,!1),m},kr=(e,n,o,i,c,m)=>{const p=[],_=hg(e.getDoc(),o,m,i,c),A=Li(),$=()=>{A.clear()},q=()=>A.get().getOrThunk(()=>{const Ee=qs(_);return p.push(Ee),A.set(Ee),Ee}),X=Ee=>{be(Ee,ne)},ne=Ee=>{switch(zI(e,Ee,"span",er(Ee))){case"invalid-child":{$();const Ie=da(Ee);X(Ie),$();break}case"valid-block":{$(),Qp(Ee,o,m,i,c,!0);break}case"valid":{const Ie=q();Ql(Ee,Ie);break}}},ve=Ee=>{const ye=$e(Ee,Ue.fromDom);X(ye)};return q2(e.dom,n,Ee=>{$(),ve(Ee)}),p},o7=(e,n,o,i)=>{e.undoManager.transact(()=>{const c=e.selection,m=c.getRng(),p=lm(e).length>0,_=Wa("mce-annotation");if(m.collapsed&&!p&&Jp(e,m),c.getRng().collapsed&&!p){const A=hg(e.getDoc(),_,i,n,o.decorate);Um(A,Ni),c.getRng().insertNode(A.dom),c.select(A.dom)}else I_(c,!1,()=>{py(e,A=>{kr(e,A,_,n,o.decorate,i)})})})},HI=e=>{const n=a2();W0(e,n);const o=U0(e,n),i=If("span"),c=m=>{be(m,p=>{i(p)?Ua(p):Za(p)})};return{register:(m,p)=>{n.register(m,p)},annotate:(m,p)=>{n.lookup(m).each(_=>{o7(e,m,_,p)})},annotationChanged:(m,p)=>{o.addListener(m,p)},remove:m=>{H0(e,Q.some(m)).each(({elements:p})=>{const _=e.selection.getBookmark();c(p),e.selection.moveToBookmark(_)})},removeAll:m=>{const p=e.selection.getBookmark();ur(kh(e,m),(_,A)=>{c(_)}),e.selection.moveToBookmark(p)},getAll:m=>{const p=kh(e,m);return ql(p,_=>$e(_,A=>A.dom))}}},Gr=e=>({getBookmark:Qe(JF,e),moveToBookmark:Qe(QF,e)});Gr.isBookmarkNode=Iu;const HA=(e,n,o)=>o.collapsed?!1:Ae(o.getClientRects(),i=>Y0(i,e,n)),Y2=(e,n)=>e.dispatch("PreProcess",n),X2=(e,n)=>e.dispatch("PostProcess",n),J2=e=>{e.dispatch("remove")},Q2=e=>{e.dispatch("detach")},UI=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},r7=(e,n,o,i,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:i,origin:c})},s7=(e,n,o,i,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:i,origin:c})},i7=e=>{e.dispatch("PreInit")},a7=e=>{e.dispatch("PostRender")},ai=e=>{e.dispatch("Init")},WI=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},UA=(e,n,o)=>{e.dispatch(n,o)},KI=(e,n,o,i)=>{e.dispatch("FormatApply",{format:n,node:o,vars:i})},jI=(e,n,o,i)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:i})},l7=(e,n)=>e.dispatch("BeforeSetContent",n),vc=(e,n)=>e.dispatch("SetContent",n),um=(e,n)=>e.dispatch("BeforeGetContent",n),ZI=(e,n)=>e.dispatch("GetContent",n),WA=(e,n)=>{e.dispatch("AutocompleterStart",n)},KA=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},jA=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},c7=e=>{e.dispatch("AutocompleterEnd")},ew=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),W_=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),K_=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),u7=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),hn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||hn.metaKeyPressed(e),metaKeyPressed:e=>zo.os.isMacOS()||zo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},r1="data-mce-selected",d7="table,img,figure.image,hr,video,span.mce-preview-object,details",Nu=Math.abs,eb=Math.round,j_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},lf=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Hr=(e,n)=>{const o=n.dom,i=n.getDoc(),c=document,m=n.getBody();let p,_,A,$,q,X,ne,ve,Ee,ye,Ie,Ge,ot,tt,bt,Vt,en;const wn=yn=>Oe(yn)&&($c(yn)||o.is(yn,"figure.image")),Rt=yn=>Ot(yn)||o.hasClass(yn,"mce-preview-object"),Ct=(yn,Vo)=>{if(lf(yn)){const Zo=yn.touches[0];return wn(yn.target)&&!HA(Zo.clientX,Zo.clientY,Vo)}else return wn(yn.target)&&!HA(yn.clientX,yn.clientY,Vo)},Ft=yn=>{const Vo=yn.target;Ct(yn,n.selection.getRng())&&!yn.isDefaultPrevented()&&n.selection.select(Vo)},Dn=yn=>o.hasClass(yn,"mce-preview-object")&&Oe(yn.firstElementChild)?[yn,yn.firstElementChild]:o.is(yn,"figure.image")?[yn.querySelector("img")]:[yn],Wn=yn=>{const Vo=DR(n);return!Vo||yn.getAttribute("data-mce-resize")==="false"||yn===n.getBody()?!1:o.hasClass(yn,"mce-preview-object")&&Oe(yn.firstElementChild)?Br(Ue.fromDom(yn.firstElementChild),Vo):Br(Ue.fromDom(yn),Vo)},$o=(yn,Vo)=>{if(Rt(Vo))return yn.create("img",{src:zo.transparentSrc});if(xu(Vo)){const Pa=cs($.name,"n")?En:uo,Ur=Vo.cloneNode(!0);return Pa(yn.select("tr",Ur)).each(wa=>{const bm=yn.select("td,th",wa);yn.setStyle(wa,"height",null),be(bm,np=>yn.setStyle(np,"height",null))}),Ur}else return Vo.cloneNode(!0)},jo=(yn,Vo,Zo)=>{if(Oe(Zo)){const Pa=Dn(yn);be(Pa,Ur=>{Ur.style[Vo]||!n.schema.isValid(Ur.nodeName.toLowerCase(),Vo)?o.setStyle(Ur,Vo,Zo):o.setAttrib(Ur,Vo,""+Zo)})}},Lr=(yn,Vo,Zo)=>{jo(yn,"width",Vo),jo(yn,"height",Zo)},Kr=yn=>{let Vo,Zo,Pa,Ur,wa;Vo=yn.screenX-X,Zo=yn.screenY-ne,tt=Vo*$[2]+ye,bt=Zo*$[3]+Ie,tt=tt<5?5:tt,bt=bt<5?5:bt,(wn(p)||Rt(p))&&RR(n)!==!1?Pa=!hn.modifierPressed(yn):Pa=hn.modifierPressed(yn),Pa&&(Nu(Vo)>Nu(Zo)?(bt=eb(tt*Ge),tt=eb(bt/Ge)):(tt=eb(bt/Ge),bt=eb(tt*Ge))),Lr(_,tt,bt),Ur=$.startPos.x+Vo,wa=$.startPos.y+Zo,Ur=Ur>0?Ur:0,wa=wa>0?wa:0,o.setStyles(A,{left:Ur,top:wa,display:"block"}),A.innerHTML=tt+" &times; "+bt,$[2]<0&&_.clientWidth<=tt&&o.setStyle(_,"left",ve+(ye-tt)),$[3]<0&&_.clientHeight<=bt&&o.setStyle(_,"top",Ee+(Ie-bt)),Vo=m.scrollWidth-Vt,Zo=m.scrollHeight-en,Vo+Zo!==0&&o.setStyles(A,{left:Ur-Vo,top:wa-Zo}),ot||(r7(n,p,ye,Ie,"corner-"+$.name),ot=!0)},gi=()=>{const yn=ot;ot=!1,yn&&(jo(p,"width",tt),jo(p,"height",bt)),o.unbind(i,"mousemove",Kr),o.unbind(i,"mouseup",gi),c!==i&&(o.unbind(c,"mousemove",Kr),o.unbind(c,"mouseup",gi)),o.remove(_),o.remove(A),o.remove(q),Ll(p),yn&&(s7(n,p,tt,bt,"corner-"+$.name),o.setAttrib(p,"style",o.getAttrib(p,"style"))),n.nodeChanged()},Ll=yn=>{fn();const Vo=o.getPos(yn,m),Zo=Vo.x,Pa=Vo.y,Ur=yn.getBoundingClientRect(),wa=Ur.width||Ur.right-Ur.left,bm=Ur.height||Ur.bottom-Ur.top;p!==yn&&(ln(),p=yn,tt=bt=0);const np=n.dispatch("ObjectSelected",{target:yn});Wn(yn)&&!np.isDefaultPrevented()?ur(j_,(Sc,Ad)=>{const vm=ym=>{const Zn=Dn(p)[0];X=ym.screenX,ne=ym.screenY,ye=Zn.clientWidth,Ie=Zn.clientHeight,Ge=Ie/ye,$=Sc,$.name=Ad,$.startPos={x:wa*Sc[0]+Zo,y:bm*Sc[1]+Pa},Vt=m.scrollWidth,en=m.scrollHeight,q=o.add(m,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),_=$o(o,p),o.addClass(_,"mce-clonedresizable"),o.setAttrib(_,"data-mce-bogus","all"),_.contentEditable="false",o.setStyles(_,{left:Zo,top:Pa,margin:0}),Lr(_,wa,bm),_.removeAttribute(r1),m.appendChild(_),o.bind(i,"mousemove",Kr),o.bind(i,"mouseup",gi),c!==i&&(o.bind(c,"mousemove",Kr),o.bind(c,"mouseup",gi)),A=o.add(m,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ye+" &times; "+Ie)};let Td=o.get("mceResizeHandle"+Ad);Td&&o.remove(Td),Td=o.add(m,"div",{id:"mceResizeHandle"+Ad,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ad+"-resize; margin:0; padding:0"}),o.bind(Td,"mousedown",ym=>{ym.stopImmediatePropagation(),ym.preventDefault(),vm(ym)}),Sc.elm=Td,o.setStyles(Td,{left:wa*Sc[0]+Zo-Td.offsetWidth/2,top:bm*Sc[1]+Pa-Td.offsetHeight/2})}):ln(!1)},Qr=Sh(Ll,0),ln=(yn=!0)=>{Qr.cancel(),fn(),p&&yn&&p.removeAttribute(r1),ur(j_,(Vo,Zo)=>{const Pa=o.get("mceResizeHandle"+Zo);Pa&&(o.unbind(Pa),o.remove(Pa))})},Vn=(yn,Vo)=>o.isChildOf(yn,Vo),_r=yn=>{if(ot||n.removed||n.composing)return;const Vo=yn.type==="mousedown"?yn.target:e.getNode(),Zo=Yi(Ue.fromDom(Vo),d7).map(Ur=>Ur.dom).filter(Ur=>o.isEditable(Ur.parentElement)||Ur.nodeName==="IMG"&&o.isEditable(Ur)).getOrUndefined(),Pa=Oe(Zo)?o.getAttrib(Zo,r1,"1"):"1";if(be(o.select(`img[${r1}],hr[${r1}]`),Ur=>{Ur.removeAttribute(r1)}),Oe(Zo)&&Vn(Zo,m)&&n.hasFocus()){Qn();const Ur=e.getStart(!0);if(Vn(Ur,Zo)&&Vn(e.getEnd(!0),Zo)){o.setAttrib(Zo,r1,Pa),Qr.throttle(Zo);return}}ln()},fn=()=>{ur(j_,yn=>{yn.elm&&(o.unbind(yn.elm),delete yn.elm)})},Qn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Qn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",_r),n.on("keyup compositionend",yn=>{p&&p.nodeName==="TABLE"&&_r(yn)}),n.on("hide blur",ln),n.on("contextmenu longpress",Ft,!0)}),n.on("remove",fn),{isResizable:Wn,showResizeRect:Ll,hideResizeRect:ln,updateResizeRect:_r,destroy:()=>{Qr.cancel(),p=_=q=null}}},yy=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,i)=>{e.setStart(o.dom,i)},o=>{e.setStartAfter(o.dom)})},Z_=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,i)=>{e.setEnd(o.dom,i)},o=>{e.setEndAfter(o.dom)})},ZA=(e,n,o)=>{const i=e.document.createRange();return yy(i,n),Z_(i,o),i},tw=(e,n,o,i,c)=>{const m=e.document.createRange();return m.setStart(n.dom,o),m.setEnd(i.dom,c),m},s1=Yo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),GI=(e,n,o)=>n(Ue.fromDom(o.startContainer),o.startOffset,Ue.fromDom(o.endContainer),o.endOffset),GA=(e,n)=>n.match({domRange:o=>({ltr:ct(o),rtl:Q.none}),relative:(o,i)=>({ltr:zl(()=>ZA(e,o,i)),rtl:zl(()=>Q.some(ZA(e,i,o)))}),exact:(o,i,c,m)=>({ltr:zl(()=>tw(e,o,i,c,m)),rtl:zl(()=>Q.some(tw(e,c,m,o,i)))})}),f7=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>s1.rtl(Ue.fromDom(c.endContainer),c.endOffset,Ue.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>GI(e,s1.ltr,o)):GI(e,s1.ltr,o)},qI=(e,n)=>{const o=GA(e,n);return f7(e,o)};s1.ltr,s1.rtl;const G_={create:(e,n,o,i)=>({start:e,soffset:n,finish:o,foffset:i})},YI=(e,n,o)=>{var i;return Q.from((i=e.caretPositionFromPoint)===null||i===void 0?void 0:i.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return Q.none();const m=e.createRange();return m.setStart(c.offsetNode,c.offset),m.collapse(),Q.some(m)})},q_=(e,n,o)=>{var i;return Q.from((i=e.caretRangeFromPoint)===null||i===void 0?void 0:i.call(e,n,o))},g7=(e,n,o)=>e.caretPositionFromPoint?YI(e,n,o):e.caretRangeFromPoint?q_(e,n,o):Q.none(),h7=(e,n,o)=>{const i=e.document;return g7(i,n,o).map(c=>G_.create(Ue.fromDom(c.startContainer),c.startOffset,Ue.fromDom(c.endContainer),c.endOffset))},qA=Yo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),p7=(e,n,o,i)=>e.fold(n,o,i),b7=e=>e.fold(kn,kn,kn),XI=qA.before,v7=qA.on,y7=qA.after,pg={before:XI,on:v7,after:y7,cata:p7,getStart:b7},nw=Yo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),x7=e=>nw.exact(e.start,e.soffset,e.finish,e.foffset),w7=e=>e.match({domRange:n=>Ue.fromDom(n.startContainer),relative:(n,o)=>pg.getStart(n),exact:(n,o,i,c)=>n}),JI=nw.domRange,hd=nw.relative,C7=nw.exact,QI=e=>{const n=w7(e);return ed(n)},YA=G_.create,tb={domRange:JI,relative:hd,exact:C7,exactFromRange:x7,getWin:QI,range:YA},ow=(e,n)=>{const o=er(e);return o==="input"?pg.after(e):xe(["br","img"],o)?n===0?pg.before(e):pg.after(e):pg.on(e,n)},eN=(e,n)=>{const o=e.fold(pg.before,ow,pg.after),i=n.fold(pg.before,ow,pg.after);return tb.relative(o,i)},Y_=(e,n,o,i)=>{const c=ow(e,n),m=ow(o,i);return tb.relative(c,m)},tN=e=>e.match({domRange:n=>{const o=Ue.fromDom(n.startContainer),i=Ue.fromDom(n.endContainer);return Y_(o,n.startOffset,i,n.endOffset)},relative:eN,exact:Y_}),Jc=(e,n)=>{const i=document.createDocumentFragment();return be(e,c=>{i.appendChild(c.dom)}),Ue.fromDom(i)},_7=e=>{const n=tb.getWin(e).dom,o=(c,m,p,_)=>tw(n,c,m,p,_),i=tN(e);return qI(n,i).match({ltr:o,rtl:o})},XA=(e,n,o)=>h7(e,n,o),nN=(e,n,o)=>{const i=ed(Ue.fromDom(o));return XA(i.dom,e,n).map(c=>{const m=o.createRange();return m.setStart(c.start.dom,c.soffset),m.setEnd(c.finish.dom,c.foffset),m}).getOrUndefined()},rw=(e,n)=>Oe(e)&&Oe(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,dm=(e,n,o)=>{let i=e;for(;i&&i!==n;){if(o(i))return i;i=i.parentNode}return null},X_=(e,n,o)=>dm(e,n,o)!==null,J_=(e,n,o)=>X_(e,n,i=>i.nodeName===o),oN=(e,n)=>tc(e)&&!X_(e,n,Ru),rN=(e,n,o)=>{const i=n.parentNode;if(i){const c=new fa(n,e.getParent(i,e.isBlock)||e.getRoot());let m;for(;m=c[o?"prev":"next"]();)if(ps(m))return!0}return!1},sN=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},iN=(e,n)=>{let o=n;for(;o&&o!==e;){if(yo(o))return!0;o=o.parentNode}return!1},sw=(e,n,o,i,c)=>{const m=e.getRoot(),p=e.schema.getNonEmptyElements(),_=c.parentNode;let A,$;if(!_)return Q.none();const q=e.getParent(_,e.isBlock)||m;if(i&&ps(c)&&n&&e.isEmpty(q))return Q.some(St(_,e.nodeIndex(c)));const X=new fa(c,q);for(;$=X[i?"prev":"next"]();){if(e.getContentEditableParent($)==="false"||oN($,m))return Q.none();if(jt($)&&$.data.length>0)return J_($,m,"A")?Q.none():Q.some(St($,i?$.data.length:0));if(e.isBlock($)||p[$.nodeName.toLowerCase()])return Q.none();A=$}return No(A)?Q.none():o&&A?Q.some(St(A,0)):Q.none()},JA=(e,n,o,i)=>{const c=e.getRoot();let m,p=!1,_=o?i.startContainer:i.endContainer,A=o?i.startOffset:i.endOffset;const $=Nn(_)&&A===_.childNodes.length,q=e.schema.getNonEmptyElements();let X=o;if(tc(_))return Q.none();if(Nn(_)&&A>_.childNodes.length-1&&(X=!1),Mn(_)&&(_=c,A=0),_===c){if(X&&(m=_.childNodes[A>0?A-1:0],m&&(tc(m)||q[m.nodeName]||xu(m))))return Q.none();if(_.hasChildNodes()){if(A=Math.min(!X&&A>0?A-1:A,_.childNodes.length-1),_=_.childNodes[A],A=jt(_)&&$?_.data.length:0,!n&&_===c.lastChild&&xu(_)||iN(c,_)||tc(_)||Op(_))return Q.none();if(_.hasChildNodes()&&!xu(_)){m=_;const ne=new fa(_,c);do{if(yo(m)||tc(m)){p=!1;break}if(jt(m)&&m.data.length>0){A=X?0:m.data.length,_=m,p=!0;break}if(q[m.nodeName.toLowerCase()]&&!jC(m)){A=e.nodeIndex(m),_=m.parentNode,X||A++,p=!0;break}}while(m=X?ne.next():ne.prev())}}}return n&&(jt(_)&&A===0&&sw(e,$,n,!0,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),Nn(_)&&(m=_.childNodes[A],m||(m=_.childNodes[A-1]),m&&ps(m)&&!sN(m,"A")&&!rN(e,m,!1)&&!rN(e,m,!0)&&sw(e,$,n,!0,m).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}))),X&&!n&&jt(_)&&A===_.data.length&&sw(e,$,n,!1,_).each(ne=>{_=ne.container(),A=ne.offset(),p=!0}),p&&_?Q.some(St(_,A)):Q.none()},bg=(e,n)=>{const o=n.collapsed,i=n.cloneRange(),c=St.fromRangeStart(n);return JA(e,o,!0,i).each(m=>{(!o||!St.isAbove(c,m))&&i.setStart(m.container(),m.offset())}),o||JA(e,o,!1,i).each(m=>{i.setEnd(m.container(),m.offset())}),o&&i.collapse(!0),rw(n,i)?Q.none():Q.some(i)},iw=(e,n)=>e.splitText(n),aw=e=>{let n=e.startContainer,o=e.startOffset,i=e.endContainer,c=e.endOffset;if(n===i&&jt(n)){if(o>0&&o<n.data.length)if(i=iw(n,o),n=i.previousSibling,c>o){c=c-o;const m=iw(i,c).previousSibling;n=i=m,c=m.data.length,o=0}else c=0}else if(jt(n)&&o>0&&o<n.data.length&&(n=iw(n,o),o=0),jt(i)&&c>0&&c<i.data.length){const m=iw(i,c).previousSibling;i=m,c=m.data.length}return{startContainer:n,startOffset:o,endContainer:i,endOffset:c}},nb=e=>({walk:(m,p)=>q2(e,m,p),split:aw,expand:(m,p={type:"word"})=>{if(p.type==="word"){const _=Xp(e,m,[{inline:"span"}]),A=e.createRng();return A.setStart(_.startContainer,_.startOffset),A.setEnd(_.endContainer,_.endOffset),A}return m},normalize:m=>bg(e,m).fold(Tn,p=>(m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),!0))});nb.compareRanges=rw,nb.getCaretRangeFromPoint=nN,nb.getSelectedNode=zp,nb.getNode=Ai;const QA=((e,n)=>{const o=(_,A)=>{if(!D(A)&&!A.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+A);const $=_.dom;za($)&&($.style[e]=A+"px")},i=_=>{const A=n(_);if(A<=0||A===null){const $=Us(_,e);return parseFloat($)||0}return A},c=i,m=(_,A)=>sn(A,($,q)=>{const X=Us(_,q),ne=X===void 0?0:parseInt(X,10);return isNaN(ne)?$:$+ne},0);return{set:o,get:i,getOuter:c,aggregate:m,max:(_,A,$)=>{const q=m(_,$);return A>q?A-q:0}}})("height",e=>{const n=e.dom;return Va(e)?n.getBoundingClientRect().height:n.offsetHeight}),i1=e=>QA.get(e),aN=()=>Ue.fromDom(document),lN=(e,n)=>e.view(n).fold(ct([]),i=>{const c=e.owner(i),m=lN(e,c);return[i].concat(m)}),Q_=(e,n)=>{const o=n.owner(e);return lN(n,o)};var E7=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?Q.none():Q.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ue.fromDom)},owner:e=>dc(e)});const cN=e=>{const n=aN(),o=mo(n),i=Q_(e,E7),c=So(e),m=gt(i,(p,_)=>{const A=So(_);return{left:p.left+A.left,top:p.top+A.top}},{left:0,top:0});return Be(m.left+c.left+o.left,m.top+c.top+o.top)},Fh=e=>er(e)==="textarea",uN=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),dN=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},fN=(e,n)=>{const o=da(e);if(o.length===0||Fh(e))return{element:e,offset:n};if(n<o.length&&!Fh(o[n]))return{element:o[n],offset:0};{const i=o[o.length-1];return Fh(i)?{element:e,offset:n}:er(i)==="img"?{element:i,offset:1}:us(i)?{element:i,offset:rg(i).length}:{element:i,offset:da(i).length}}},lw=(e,n)=>{const o=Yn(e),i=i1(e);return{element:e,bottom:o.top+i,height:i,pos:o,cleanup:n}},mN=(e,n)=>{const o=fN(e,n),i=Ue.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ei+"</span>");return Ds(o.element,i),lw(i,()=>Pr(i))},gN=e=>lw(Ue.fromDom(e),lt),hN=(e,n,o,i)=>{bN(e,(c,m)=>pN(e,n,o,i),o)},cw=(e,n,o,i,c)=>{const m={elm:i.element.dom,alignToTop:c};if(uN(e,m))return;const p=mo(n).top;o(e,n,p,i,c),dN(e,m)},pN=(e,n,o,i)=>{const c=Ue.fromDom(e.getBody()),m=Ue.fromDom(e.getDoc());y0(c);const p=mN(Ue.fromDom(o.startContainer),o.startOffset);cw(e,m,n,p,i),p.cleanup()},eS=(e,n,o,i)=>{const c=Ue.fromDom(e.getDoc());cw(e,c,o,gN(n),i)},bN=(e,n,o)=>{const i=o.startContainer,c=o.startOffset,m=o.endContainer,p=o.endOffset;n(Ue.fromDom(i),Ue.fromDom(m));const _=e.dom.createRng();_.setStart(i,c),_.setEnd(m,p),e.selection.setRng(o)},uw=(e,n,o,i,c)=>{const m=n.pos;if(i)Pn(m.left,m.top,c);else{const p=m.top-o+n.height;Pn(-e.getBody().getBoundingClientRect().left,p,c)}},eT=(e,n,o,i,c,m)=>{const p=i+o,_=c.pos.top,A=c.bottom,$=A-_>=i;_<o?uw(e,c,i,m!==!1,n):_>p?uw(e,c,i,$?m!==!1:m===!0,n):A>p&&!$&&uw(e,c,i,m===!0,n)},dw=(e,n,o,i,c)=>{const m=ed(n).dom.innerHeight;eT(e,n,o,m,i,c)},vg=(e,n,o,i,c)=>{const m=ed(n).dom.innerHeight;eT(e,n,o,m,i,c);const p=cN(i.element),_=Bc(window);p.top<_.y?Cr(i.element,c!==!1):p.top>_.bottom&&Cr(i.element,c===!0)},A7=(e,n,o)=>hN(e,dw,n,o),tT=(e,n,o)=>eS(e,n,dw,o),xi=(e,n,o)=>hN(e,vg,n,o),nT=(e,n,o)=>eS(e,n,vg,o),oT=(e,n,o)=>{(e.inline?tT:nT)(e,n,o)},pd=(e,n,o)=>{(e.inline?A7:xi)(e,n,o)},rT=(e,n=!1)=>e.dom.focus({preventScroll:n}),sT=e=>{const n=hu(e).dom;return e.dom===n.activeElement},a1=(e=aN())=>Q.from(e.dom.activeElement).map(Ue.fromDom),T7=e=>a1(hu(e)).filter(n=>e.dom.contains(n.dom)),vN=(e,n)=>{const o=us(n)?rg(n).length:da(n).length+1;return e>o?o:e<0?0:e},xy=e=>tb.range(e.start,vN(e.soffset,e.start),e.finish,vN(e.foffset,e.finish)),yN=(e,n)=>!Ff(n.dom)&&(ca(e,n)||tr(e,n)),ob=e=>n=>yN(e,n.start)&&yN(e,n.finish),O7=e=>e.inline||zo.browser.isFirefox(),rb=e=>tb.range(Ue.fromDom(e.startContainer),e.startOffset,Ue.fromDom(e.endContainer),e.endOffset),D7=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?Q.none():Q.from(n.getRangeAt(0))).map(rb)},bd=e=>{const n=ed(e);return D7(n.dom).filter(ob(e))},fw=(e,n)=>Q.from(n).filter(ob(e)).map(xy),iT=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),Q.some(n)}catch{return Q.none()}},wy=e=>{const n=O7(e)?bd(Ue.fromDom(e.getBody())):Q.none();e.bookmark=n.isSome()?n:e.bookmark},aT=e=>(e.bookmark?e.bookmark:Q.none()).bind(o=>fw(Ue.fromDom(e.getBody()),o)).bind(iT),tS=e=>{aT(e).each(n=>e.selection.setRng(n))},vd={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},nS=(e,n)=>(D(n)||(n=0),setTimeout(e,n)),xN=(e,n)=>(D(n)||(n=0),setInterval(e,n)),Qc={setEditorTimeout:(e,n,o)=>nS(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const i=xN(()=>{e.removed?clearInterval(i):n()},o);return i}},lT=e=>e.type==="nodechange"&&e.selectionChange,l1=(e,n)=>{const o=()=>{n.throttle()};Xr.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Xr.DOM.unbind(document,"mouseup",o)})},cT=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},wN=(e,n)=>{cT(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{lT(o)||wy(e)})},R7=e=>{const n=Sh(()=>{wy(e)},0);e.on("init",()=>{e.inline&&l1(e,n),wN(e,n)}),e.on("remove",()=>{n.cancel()})};let yg;const uT=Xr.DOM,CN=e=>Nn(e)&&vd.isEditorUIElement(e),mw=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},oS=(e,n)=>{const o=NR(e);return uT.getParent(n,c=>CN(c)||(o?e.dom.is(c,o):!1))!==null},rS=e=>{try{const n=hu(Ue.fromDom(e.getElement()));return a1(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},_N=(e,n)=>{const o=n.editor;R7(o);const i=(c,m)=>{if(UR(c)&&c.inline!==!0){const p=Ue.fromDom(c.getContainer());m(p,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;mw(rS(o))&&i(o,Wd),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Qc.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!mw(rS(o))||c!==o)&&i(o,$a),!oS(o,rS(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),yg||(yg=c=>{const m=e.activeEditor;m&&ev(c).each(p=>{const _=p;_.ownerDocument===document&&_!==document.body&&!oS(m,_)&&e.focusedEditor===m&&(m.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},uT.bind(document,"focusin",yg))},I7=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&yg&&(uT.unbind(document,"focusin",yg),yg=null)},N7=e=>{e.on("AddEditor",Qe(_N,e)),e.on("RemoveEditor",Qe(I7,e))},P7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),L7=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,M7=e=>e.collapsed?Q.from(Ai(e.startContainer,e.startOffset)).map(Ue.fromDom):Q.none(),B7=(e,n)=>M7(n).bind(o=>Ah(o)?Q.some(o):ca(e,o)?Q.none():Q.some(e)),SN=(e,n)=>{B7(Ue.fromDom(e.getBody()),n).bind(o=>oo(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},sS=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},F7=e=>sT(e)||T7(e).isSome(),$7=e=>Oe(e.iframeElement)&&sT(Ue.fromDom(e.iframeElement)),V7=e=>{const n=e.getBody();return n&&F7(Ue.fromDom(n))},kN=e=>{const n=hu(Ue.fromDom(e.getElement()));return a1(n).filter(o=>!mw(o.dom)&&oS(e,o.dom)).isSome()},Cy=e=>e.inline?V7(e):$7(e),c1=e=>Cy(e)||kN(e),z7=e=>{const n=e.selection,o=e.getBody();let i=n.getRng();e.quirks.refreshContentEditable();const c=p=>{aT(p).each(_=>{p.selection.setRng(_),i=_})};!Cy(e)&&e.hasEditableRoot()&&c(e);const m=P7(e,n.getNode());if(m&&e.dom.isChildOf(m,o)){L7(e,m)||sS(o),sS(m),e.hasEditableRoot()||c(e),SN(e,i),dT(e);return}e.inline||(zo.browser.isOpera()||sS(o),e.getWin().focus()),(zo.browser.isFirefox()||e.inline)&&(sS(o),SN(e,i)),dT(e)},dT=e=>e.editorManager.setActive(e),EN=(e,n)=>{e.removed||(n?dT(e):z7(e))},AN=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),TN=(e,n,o,i,c)=>{const m=o?n.startContainer:n.endContainer,p=o?n.startOffset:n.endOffset;return Q.from(m).map(Ue.fromDom).map(_=>!i||!n.collapsed?nd(_,c(_,p)).getOr(_):_).bind(_=>Hs(_)?Q.some(_):ua(_).filter(Hs)).map(_=>_.dom).getOr(e)},ON=(e,n,o=!1)=>TN(e,n,!0,o,(i,c)=>Math.min(jd(i),c)),DN=(e,n,o=!1)=>TN(e,n,!1,o,(i,c)=>c>0?c-1:c),RN=(e,n)=>{const o=e;for(;e&&jt(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},H7=(e,n)=>{if(!n)return e;let o=n.startContainer,i=n.endContainer;const c=n.startOffset,m=n.endOffset;let p=n.commonAncestorContainer;n.collapsed||(o===i&&m-c<2&&o.hasChildNodes()&&(p=o.childNodes[c]),jt(o)&&jt(i)&&(o.length===c?o=RN(o.nextSibling,!0):o=o.parentNode,m===0?i=RN(i.previousSibling,!1):i=i.parentNode,o&&o===i&&(p=o)));const _=jt(p)?p.parentNode:p;return yu(_)?_:e},fT=(e,n,o,i)=>{const c=[],m=e.getRoot(),p=e.getParent(o||ON(m,n,n.collapsed),e.isBlock),_=e.getParent(i||DN(m,n,n.collapsed),e.isBlock);if(p&&p!==m&&c.push(p),p&&_&&p!==_){let A;const $=new fa(p,m);for(;(A=$.next())&&A!==_;)e.isBlock(A)&&c.push(A)}return _&&p!==_&&_!==m&&c.push(_),c},gw=(e,n,o)=>Q.from(n).bind(i=>Q.from(i.parentNode).map(c=>{const m=e.nodeIndex(i),p=e.createRng();return p.setStart(c,m),p.setEnd(c,m+1),o&&(U2(e,p,i,!0),U2(e,p,i,!1)),p})),iS=(e,n)=>$e(n,o=>{const i=e.dispatch("GetSelectionRange",{range:o});return i.range!==o?i.range:o}),U7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},u1=(e,n,o)=>{const i=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[i])return e[i];if(e!==n){let m=e[c];if(m)return m;for(let p=e.parent;p&&p!==n;p=p.parent)if(m=p[c],m)return m}},IN=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!mc(o))return!1;const i=e.parent;return!(i&&(i.name!=="span"||i.attr("style"))&&/^[ ]+$/.test(o))},Bi=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Na{static create(n,o){const i=new Na(n,U7[n]||1);return o&&ur(o,(c,m)=>{i.attr(m,c)}),i}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const i=this;if(!ae(n))return Oe(n)&&ur(n,(m,p)=>{i.attr(p,m)}),i;const c=i.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let m=c.length;for(;m--;)if(c[m].name===n)return c.splice(m,1),i}return i}if(n in c.map){let m=c.length;for(;m--;)if(c[m].name===n){c[m].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,i}return c.map[n]}}clone(){const n=this,o=new Na(n.name,n.type),i=n.attributes;if(i){const c=[];c.map={};for(let m=0,p=i.length;m<p;m++){const _=i[m];_.name!=="id"&&(c[c.length]={name:_.name,value:_.value},c.map[_.name]=_.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const i=o.next;n.insert(o,n,!0),o=i}n.remove()}remove(){const n=this,o=n.parent,i=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=i,i&&(i.prev=null)):c&&(c.next=i),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):i&&(i.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const i=o.lastChild;return i?(i.next=n,n.prev=i,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,i){n.parent&&n.remove();const c=o.parent||this;return i?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,i=[];for(let c=o.firstChild;c;c=u1(c,o))c.name===n&&i.push(c);return i}children(){const n=this,o=[];for(let i=n.firstChild;i;i=i.next)o.push(i);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=u1(c,n))o.push(c);let i=o.length;for(;i--;){const c=o[i];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},i){var c;const m=this;let p=m.firstChild;if(Bi(m))return!1;if(p)do{if(p.type===1){if(p.attr("data-mce-bogus"))continue;if(n[p.name]||Bi(p))return!1}if(p.type===8||p.type===3&&!IN(p)||p.type===3&&p.parent&&o[p.parent.name]&&mc((c=p.value)!==null&&c!==void 0?c:"")||i&&i(p))return!1}while(p=u1(p,m));return!0}walk(n){return u1(this,null,n)}}const NN=tn.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),aS=e=>ae(e.nodeValue)&&e.nodeValue.includes(Ei),hw=e=>`${e.length===0?"":`${$e(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,sb=(e,n)=>n.querySelectorAll(hw(e)),$h=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>aS(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),PN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(aS(n)){const o=n.parentNode;return o&&fo(NN,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),W7=e=>$h(e).nextNode()!==null,_y=e=>PN(e).nextNode()!==null,Sy=(e,n)=>n.querySelector(hw(e))!==null,ky=(e,n)=>{be(sb(e,n),o=>{const i=Ue.fromDom(o);Ta(i,"data-mce-bogus")==="all"?Pr(i):be(e,c=>{Hd(i,c)&&Lo(i,c)})})},lS=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},mT=zt(lS,$h),LN=zt(lS,PN),gT=(e,n)=>{const o=[{condition:Qe(Sy,n),action:Qe(ky,n)},{condition:W7,action:mT},{condition:_y,action:LN}];let i=e,c=!1;return be(o,({condition:m,action:p})=>{m(i)&&(c||(i=e.cloneNode(!0),c=!0),p(i))}),i},MN=e=>{const n=vi(e,"[data-mce-bogus]");be(n,o=>{Ta(o,"data-mce-bogus")==="all"?Pr(o):dd(o)?(Ds(o,Ue.fromText(Rs)),Pr(o)):Ua(o)})},BN=e=>{const n=vi(e,"input");be(n,o=>{Lo(o,"name")})},FN=(e,n)=>{const o=ml(e),i=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},$N=(e,n)=>{const o=e.getDoc(),i=hu(Ue.fromDom(e.getBody())),c=Ue.fromTag("div",o);_i(c,"data-mce-bogus","all"),qo(c,{position:"fixed",left:"-9999999px",top:"0"}),Um(c,n.innerHTML),MN(c),BN(c);const m=v0(i);Ws(m,c);const p=Dl(c.dom.innerText);return Pr(c),p},pw=(e,n,o)=>{let i;return n.format==="raw"?i=tn.trim(Dl(gT(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?i=$N(e,o):n.format==="tree"?i=e.serializer.serialize(o,n):i=FN(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Nv(Ue.fromDom(o))&&ae(i)?tn.trim(i):i},VN=(e,n)=>Q.from(e.getBody()).fold(ct(n.format==="tree"?new Na("body",11):""),o=>pw(e,n,o)),hT=tn.makeMap,pT=e=>{const n=[];e=e||{};const o=e.indent,i=hT(e.indent_before||""),c=hT(e.indent_after||""),m=hh.getEncodeFunc(e.entity_encoding||"raw",e.entities),p=e.element_format!=="xhtml";return{start:(_,A,$)=>{if(o&&i[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}if(n.push("<",_),A)for(let q=0,X=A.length;q<X;q++){const ne=A[q];n.push(" ",ne.name,'="',m(ne.value,!0),'"')}if(!$||p?n[n.length]=">":n[n.length]=" />",$&&o&&c[_]&&n.length>0){const q=n[n.length-1];q.length>0&&q!==`
`&&n.push(`
`)}},end:_=>{let A;n.push("</",_,">"),o&&c[_]&&n.length>0&&(A=n[n.length-1],A.length>0&&A!==`
`&&n.push(`
`))},text:(_,A)=>{_.length>0&&(n[n.length]=A?_:m(_))},cdata:_=>{n.push("<![CDATA[",_,"]]>")},comment:_=>{n.push("<!--",_,"-->")},pi:(_,A)=>{A?n.push("<?",_," ",m(A),"?>"):n.push("<?",_,"?>"),o&&n.push(`
`)},doctype:_=>{n.push("<!DOCTYPE",_,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Vh=(e={},n=Wc())=>{const o=pT(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const m=e.validate,p={3:A=>{var $;o.text(($=A.value)!==null&&$!==void 0?$:"",A.raw)},8:A=>{var $;o.comment(($=A.value)!==null&&$!==void 0?$:"")},7:A=>{o.pi(A.name,A.value)},10:A=>{var $;o.doctype(($=A.value)!==null&&$!==void 0?$:"")},4:A=>{var $;o.cdata(($=A.value)!==null&&$!==void 0?$:"")},11:A=>{let $=A;if($=$.firstChild)do _($);while($=$.next)}};o.reset();const _=A=>{var $;const q=p[A.type];if(q)q(A);else{const X=A.name,ne=X in n.getVoidElements();let ve=A.attributes;if(m&&ve&&ve.length>1){const Ee=[];Ee.map={};const ye=n.getElementRule(A.name);if(ye){for(let Ie=0,Ge=ye.attributesOrder.length;Ie<Ge;Ie++){const ot=ye.attributesOrder[Ie];if(ot in ve.map){const tt=ve.map[ot];Ee.map[ot]=tt,Ee.push({name:ot,value:tt})}}for(let Ie=0,Ge=ve.length;Ie<Ge;Ie++){const ot=ve[Ie].name;if(!(ot in Ee.map)){const tt=ve.map[ot];Ee.map[ot]=tt,Ee.push({name:ot,value:tt})}}ve=Ee}}if(o.start(X,ve,ne),Gm(X))ae(A.value)&&o.text(A.value,!0),o.end(X);else if(!ne){let Ee=A.firstChild;if(Ee){(X==="pre"||X==="textarea")&&Ee.type===3&&(($=Ee.value)===null||$===void 0?void 0:$[0])===`
`&&o.text(`
`,!0);do _(Ee);while(Ee=Ee.next)}o.end(X)}}};return c.type===1&&!e.inner?_(c):c.type===3?p[3](c):p[11](c),o.getContent()}}},bT=new Set;be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{bT.add(n)});const vT=new Set;be(["background-color"],n=>{vT.add(n)});const yT=["font","text-decoration","text-emphasis"],zN=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),d1=(e,n)=>Xt(zN(e,n)),xT=e=>bT.has(e),bw=e=>vT.has(e),wT=(e,n)=>Ae(d1(e,n),o=>xT(o)),HN=(e,n)=>wT(e,n)&&Ae(d1(e,n),o=>bw(o)),cS=e=>je(e,n=>Ae(yT,o=>cs(n,o))),K7=(e,n,o)=>{const i=d1(e,n),c=d1(e,o),m=p=>{var _,A;const $=(_=e.getStyle(n,p))!==null&&_!==void 0?_:"",q=(A=e.getStyle(o,p))!==null&&A!==void 0?A:"";return nt($)&&nt(q)&&$!==q};return Ae(i,p=>{const _=A=>Ae(A,$=>$===p);if(!_(c)&&_(yT)){const A=cS(c);return Ae(A,m)}else return m(p)})},UN=(e,n,o)=>Q.from(o.container()).filter(jt).exists(i=>{const c=e?0:-1;return n(i.data.charAt(o.offset()+c))}),zh=Qe(UN,!0,t1),vw=Qe(UN,!1,t1),WN=e=>{const n=e.container();return jt(n)&&(n.data.length===0||Gc(n.data)&&Gr.isBookmarkNode(n.parentNode))},cf=(e,n)=>o=>E_(e?0:-1,o).filter(n).isSome(),CT=e=>$c(e)&&Us(Ue.fromDom(e),"display")==="block",uS=e=>yo(e)&&!w0(e),KN=cf(!0,CT),jN=cf(!1,CT),f1=cf(!0,Ot),Ey=cf(!1,Ot),ZN=cf(!0,xu),Ay=cf(!1,xu),Fi=cf(!0,uS),fm=cf(!1,uS),m1=e=>e.slice(0,-1),GN=(e,n,o)=>ca(n,e)?m1($m(e,i=>o(i)||tr(i,n))):[],yc=(e,n)=>GN(e,n,Tn),eu=(e,n)=>[e].concat(yc(e,n)),dS=(e,n,o)=>pI(e,n,o,WN),qN=e=>n=>e.isBlock(er(n)),_T=(e,n,o)=>bn(eu(Ue.fromDom(n.container()),e),qN(o)),Ty=(e,n,o,i)=>dS(e,n.dom,o).forall(c=>_T(n,o,i).fold(()=>!mg(c,o,n.dom),m=>!mg(c,o,n.dom)&&ca(m,Ue.fromDom(c.container())))),fS=(e,n,o,i)=>_T(n,o,i).fold(()=>dS(e,n.dom,o).forall(c=>!mg(c,o,n.dom)),c=>dS(e,c.dom,o).isNone()),mS=Qe(fS,!1),YN=Qe(fS,!0),ST=Qe(Ty,!1),kT=Qe(Ty,!0),j7=e=>A_(e).exists(dd),yd=(e,n,o,i)=>{const c=je(eu(Ue.fromDom(o.container()),n),p=>i.isBlock(er(p))),m=En(c).getOr(n);return Du(e,m.dom,o).filter(j7)},yw=(e,n,o)=>A_(n).exists(dd)||yd(!0,e,n,o).isSome(),g1=(e,n,o)=>GF(n).exists(dd)||yd(!1,e,n,o).isSome(),gS=Qe(yd,!1),XN=Qe(yd,!0),ET=e=>St.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),AT=(e,n,o)=>{const i=je(eu(Ue.fromDom(n.container()),e),c=>o.isBlock(er(c)));return En(i).getOr(e)},JN=(e,n,o)=>ET(n)?vw(n):vw(n)||Yc(AT(e,n,o).dom,n).exists(vw),QN=(e,n,o)=>ET(n)?zh(n):zh(n)||nc(AT(e,n,o).dom,n).exists(zh),e5=e=>xe(["pre","pre-wrap"],e),hS=e=>A_(e).bind(n=>bi(n,Hs)).exists(n=>e5(Us(n,"white-space"))),TT=(e,n)=>Yc(e.dom,n).isNone(),OT=(e,n)=>nc(e.dom,n).isNone(),t5=(e,n,o)=>TT(e,n)||OT(e,n)||mS(e,n,o)||YN(e,n,o)||g1(e,n,o)||yw(e,n,o),DT=e=>Oe(e)&&yo(e)&&CA(e),RT=(e,n)=>o=>DT(new fa(o,e)[n]()),n5=(e,n)=>{const o=nc(e.dom,n).getOr(n),i=RT(e.dom,"next");return n.isAtEnd()&&(i(n.container())||i(o.container()))},IT=(e,n)=>{const o=Yc(e.dom,n).getOr(n),i=RT(e.dom,"prev");return n.isAtStart()&&(i(n.container())||i(o.container()))},NT=(e,n,o)=>hS(n)?!1:t5(e,n,o)||JN(e,n,o)||QN(e,n,o),Oy=(e,n,o)=>hS(n)?!1:mS(e,n,o)||ST(e,n,o)||g1(e,n,o)||JN(e,n,o)||IT(e,n),o5=e=>{const n=e.container(),o=e.offset();return jt(n)&&o<n.data.length?St(n,o+1):e},h1=(e,n,o)=>hS(n)?!1:YN(e,n,o)||kT(e,n,o)||yw(e,n,o)||QN(e,n,o)||n5(e,n),PT=(e,n,o)=>Oy(e,n,o)||h1(e,o5(n),o),xw=(e,n)=>gl(e.charAt(n)),LT=(e,n)=>t1(e.charAt(n)),r5=e=>{const n=e.container();return jt(n)&&Mr(n.data,Ni)},Z7=e=>{const n=e.split("");return $e(n,(o,i)=>gl(o)&&i>0&&i<n.length-1&&Ph(n[i-1])&&Ph(n[i+1])?" ":o).join("")},s5=(e,n,o,i)=>{const c=n.data,m=St(n,0);return!o&&xw(c,0)&&!PT(e,m,i)?(n.data=" "+c.slice(1),!0):o&&LT(c,0)&&Oy(e,m,i)?(n.data=Ni+c.slice(1),!0):!1},i5=e=>{const n=e.data,o=Z7(n);return o!==n?(e.data=o,!0):!1},a5=(e,n,o,i)=>{const c=n.data,m=St(n,c.length-1);return!o&&xw(c,c.length-1)&&!PT(e,m,i)?(n.data=c.slice(0,-1)+" ",!0):o&&LT(c,c.length-1)&&h1(e,m,i)?(n.data=c.slice(0,-1)+Ni,!0):!1},l5=(e,n,o)=>{const i=n.container();if(!jt(i))return Q.none();if(r5(n)){const c=s5(e,i,!1,o)||i5(i)||a5(e,i,!1,o);return th(c,n)}else if(PT(e,n,o)){const c=s5(e,i,!0,o)||a5(e,i,!0,o);return th(c,n)}else return Q.none()},G7=e=>{const n=Ue.fromDom(e.getBody());e.selection.isCollapsed()&&l5(n,St.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},c5=(e,n,o,i)=>{if(o===0)return;const c=Ue.fromDom(e),m=al(c,$=>i.isBlock(er($))).getOr(c),p=e.data.slice(n,n+o),_=n+o>=e.data.length&&h1(m,St(e,e.data.length),i),A=n===0&&Oy(m,St(e,0),i);e.replaceData(n,o,sv(p,4,A,_))},pS=(e,n,o)=>{const i=e.data.slice(n),c=i.length-yt(i).length;c5(e,n,c,o)},Vs=(e,n,o)=>{const i=e.data.slice(0,n),c=i.length-ht(i).length;c5(e,n-c,c,o)},ww=(e,n,o,i,c=!0)=>{const m=ht(e.data).length,p=c?e:n,_=c?n:e;return c?p.appendData(_.data):p.insertData(0,_.data),Pr(Ue.fromDom(_)),i&&pS(p,m,o),p},q7=(e,n)=>{const o=e.container(),i=e.offset();return!St.isTextPosition(e)&&o===n.parentNode&&i>St.before(n).offset()},Y7=(e,n)=>q7(n,e)?St(n.container(),n.offset()-1):n,Dy=e=>jt(e)?St(e,0):St.before(e),ib=e=>jt(e)?St(e,e.data.length):St.after(e),xg=e=>ku(e.previousSibling)?Q.some(ib(e.previousSibling)):e.previousSibling?md(e.previousSibling):Q.none(),MT=e=>ku(e.nextSibling)?Q.some(Dy(e.nextSibling)):e.nextSibling?oo(e.nextSibling):Q.none(),u5=(e,n)=>Q.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Yc(e,St.before(o))).orThunk(()=>nc(e,St.after(n))),d5=(e,n)=>nc(e,St.after(n)).orThunk(()=>Yc(e,St.before(n))),bS=(e,n)=>xg(n).orThunk(()=>MT(n)).orThunk(()=>u5(e,n)),X7=(e,n)=>MT(n).orThunk(()=>xg(n)).orThunk(()=>d5(e,n)),BT=(e,n,o)=>e?X7(n,o):bS(n,o),f5=(e,n,o)=>BT(e,n,o).map(Qe(Y7,o)),FT=(e,n,o)=>{o.fold(()=>{e.focus()},i=>{e.selection.setRng(i.toRange(),n)})},$T=e=>n=>n.dom===e,m5=(e,n)=>n&&fo(e.schema.getBlockElements(),er(n)),VT=(e,n,o)=>{if(js(e,n)){const i=Ue.fromHtml('<br data-mce-bogus="1">');return o?be(da(n),c=>{F_(c)||Pr(c)}):os(n),Ws(n,i),Q.some(St.before(i.dom))}else return Q.none()},J7=(e,n,o,i)=>{const c=Si(e).filter(us),m=Gn(e).filter(us);return Pr(e),Of(c,m,n,(p,_,A)=>{const $=p.dom,q=_.dom,X=$.data.length;return ww($,q,o,i),A.container()===q?St($,X):A}).orThunk(()=>(i&&(c.each(p=>Vs(p.dom,p.dom.length,o)),m.each(p=>pS(p.dom,0,o))),n))},Q7=(e,n)=>fo(e.schema.getTextInlineElements(),er(n)),Il=(e,n,o,i=!0,c=!1)=>{const m=f5(n,e.getBody(),o.dom),p=al(o,Qe(m5,e),$T(e.getBody())),_=J7(o,m,e.schema,Q7(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):p.bind(A=>VT(e.schema,A,c)).fold(()=>{i&&FT(e,n,_)},A=>{i&&FT(e,n,Q.some(A))})},g5=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,e$=e=>g5.test(e),p1=(e,n)=>Br(Ue.fromDom(n),sr(e))&&!Wf(e.schema,n)&&e.dom.isEditable(n),Cw=e=>{var n;return Xr.DOM.getStyle(e,"direction",!0)==="rtl"||e$((n=e.textContent)!==null&&n!==void 0?n:"")},t$=(e,n,o)=>je(Xr.DOM.getParents(o.container(),"*",n),e),ab=(e,n,o)=>{const i=t$(e,n,o);return Q.from(i[i.length-1])},h5=(e,n,o)=>{const i=Zp(n,e),c=Zp(o,e);return Oe(i)&&i===c},zT=e=>Pv(e)||q0(e),xd=(e,n)=>{const o=n.container(),i=n.offset();return e?ig(o)?jt(o.nextSibling)?St(o.nextSibling,0):St.after(o):Pv(n)?St(o,i+1):n:ig(o)?jt(o.previousSibling)?St(o.previousSibling,o.previousSibling.data.length):St.before(o):q0(n)?St(o,i-1):n},p5=Qe(xd,!0),Ry=Qe(xd,!1),HT=(e,n)=>{const o=i=>i.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},b5=e=>{e.execCommand("delete")},vS=e=>HT(e,"Delete"),UT=e=>HT(e,"ForwardDelete"),_w=e=>n=>Af(ua(n),e,tr),v5=e=>Rv(e)||sg(e),Sw=(e,n)=>ca(e,n)?bi(n,v5,_w(e)):Q.none(),yS=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},y5=(e,n,o)=>aa(oo(o),md(o),(i,c)=>{const m=xd(!0,i),p=xd(!1,c),_=xd(!1,n);return e?nc(o,_).exists(A=>A.isEqual(p)&&n.isEqual(m)):Yc(o,_).exists(A=>A.isEqual(m)&&n.isEqual(p))}).getOr(!0),uf=e=>(sh(e)?Si(e):od(e)).bind(uf).orThunk(()=>Q.some(e)),xS=(e,n,o,i=!0)=>{var c;n.deleteContents();const m=uf(o).getOr(o),p=Ue.fromDom((c=e.dom.getParent(m.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(p.dom===e.getBody()?yS(e,i):js(e.schema,p,{checkRootAsContent:!1})&&(Zc(p),i&&e.selection.setCursorLocation(p.dom,0)),!tr(o,p)){const _=Af(ua(p),o)?[]:Qb(p);be(_.concat(da(o)),A=>{!tr(A,p)&&!ca(A,p)&&js(e.schema,A)&&Pr(A)})}},n$=e=>n=>tr(e,n),WT=e=>vi(e,"td,th"),Dr=(e,n)=>$r(Ue.fromDom(e),n),o$=e=>aa(e.startTable,e.endTable,(n,o)=>{const i=x0(n,m=>tr(m,o)),c=x0(o,m=>tr(m,n));return!i&&!c?e:{...e,startTable:i?Q.none():e.startTable,endTable:c?Q.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),kw=e=>o$(e),r$=(e,n)=>{const o=Dr(e.startContainer,n),i=Dr(e.endContainer,n),c=o.isSome(),m=i.isSome(),p=aa(o,i,tr).getOr(!1);return kw({startTable:o,endTable:i,isStartInTable:c,isEndInTable:m,isSameTable:p,isMultiTable:!p&&c&&m})},wS=(e,n)=>({start:e,end:n}),lb=(e,n,o)=>({rng:e,table:n,cells:o}),hl=Yo.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),cb=(e,n)=>Yi(Ue.fromDom(e),"td,th",n),Hh=e=>!tr(e.start,e.end),mm=(e,n)=>$r(e.start,n).bind(o=>$r(e.end,n).bind(i=>th(tr(o,i),o))),Ew=(e,n)=>!Hh(e)&&mm(e,n).exists(o=>{const i=o.dom.rows;return i.length===1&&i[0].cells.length===1}),KT=(e,n)=>{const o=cb(e.startContainer,n),i=cb(e.endContainer,n);return aa(o,i,wS)},jT=e=>n=>$r(n,e).bind(o=>uo(WT(o)).map(i=>wS(n,i))),x5=e=>n=>$r(n,e).bind(o=>En(WT(o)).map(i=>wS(i,n))),CS=e=>n=>mm(n,e).map(o=>lb(n,o,WT(o))),w5=(e,n,o,i)=>{if(o.collapsed||!e.forall(Hh))return Q.none();if(n.isSameTable){const c=e.bind(CS(i));return Q.some({start:c,end:c})}else{const c=cb(o.startContainer,i),m=cb(o.endContainer,i),p=c.bind(jT(i)).bind(CS(i)),_=m.bind(x5(i)).bind(CS(i));return Q.some({start:p,end:_})}},C5=(e,n)=>qn(e,o=>tr(o,n)),_S=e=>aa(C5(e.cells,e.rng.start),C5(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),_5=(e,n,o)=>e.exists(i=>Ew(i,o)&&H2(i.start,n)),ZT=(e,n)=>{const{startTable:o,endTable:i}=n,c=e.cloneRange();return o.each(m=>c.setStartAfter(m.dom)),i.each(m=>c.setEndBefore(m.dom)),c},S5=(e,n,o,i)=>w5(e,n,o,i).bind(({start:c,end:m})=>c.or(m)).bind(c=>{const{isSameTable:m}=n,p=_S(c).getOr([]);if(m&&c.cells.length===p.length)return Q.some(hl.fullTable(c.table));if(p.length>0){if(m)return Q.some(hl.partialTable(p,Q.none()));{const _=ZT(o,n);return Q.some(hl.partialTable(p,Q.some({...n,rng:_})))}}else return Q.none()}),GT=(e,n,o,i)=>w5(e,n,o,i).bind(({start:c,end:m})=>{const p=c.bind(_S).getOr([]),_=m.bind(_S).getOr([]);if(p.length>0&&_.length>0){const A=ZT(o,n);return Q.some(hl.multiTable(p,_,A))}else return Q.none()}),s$=(e,n)=>{const o=n$(e),i=KT(n,o),c=r$(n,o);return _5(i,n,o)?i.map(m=>hl.singleCellTable(n,m.start)):c.isMultiTable?GT(i,c,n,o):S5(i,c,n,o)},k5=e=>be(e,n=>{Lo(n,"contenteditable"),Zc(n)}),i$=(e,n)=>Q.from(e.dom.getParent(n,e.dom.isBlock)).map(Ue.fromDom),wg=(e,n,o)=>{o.each(i=>{n?Pr(i):(Zc(i),e.selection.setCursorLocation(i.dom,0))})},b1=(e,n,o,i)=>{const c=o.cloneRange();i?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),XT(e,c,n,!1).each(m=>m())},qT=e=>{const n=lm(e),o=Ue.fromDom(e.selection.getNode());Tp(o.dom)&&js(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&Ae(n,i=>tr(i,o))&&_i(o,"data-mce-selected","1")},YT=(e,n,o)=>Q.some(()=>{const i=e.selection.getRng(),c=o.bind(({rng:m,isStartInTable:p})=>{const _=i$(e,p?m.endContainer:m.startContainer);m.deleteContents(),wg(e,p,_.filter(Qe(js,e.schema)));const A=p?n[0]:n[n.length-1];return b1(e,A,i,p),js(e.schema,A)?Q.none():Q.some(p?n.slice(1):n.slice(0,-1))}).getOr(n);k5(c),qT(e)}),E5=(e,n,o,i)=>Q.some(()=>{const c=e.selection.getRng(),m=n[0],p=o[o.length-1];b1(e,m,c,!0),b1(e,p,c,!1);const _=js(e.schema,m)?n:n.slice(1),A=js(e.schema,p)?o:o.slice(0,-1);k5(_.concat(A)),i.deleteContents(),qT(e)}),XT=(e,n,o,i=!0)=>Q.some(()=>{xS(e,n,o,i)}),ub=(e,n)=>Q.some(()=>Il(e,!1,n)),a$=(e,n,o)=>s$(n,o).bind(i=>i.fold(Qe(XT,e),Qe(ub,e),Qe(YT,e),Qe(E5,e))),l$=(e,n)=>SS(e,n),c$=(e,n,o,i)=>JT(n,i).fold(()=>a$(e,n,o),c=>l$(e,c)),u$=(e,n,o)=>{const i=Ue.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?YT(e,o,Q.none()):c$(e,i,c,n)},A5=(e,n)=>bn(eu(n,e),jc),JT=(e,n)=>bn(eu(n,e),If("caption")),d$=(e,n,o,i,c)=>Qv(o,e.getBody(),c).bind(m=>A5(n,Ue.fromDom(m.getNode())).bind(p=>tr(p,i)?Q.none():Q.some(lt))),SS=(e,n)=>Q.some(()=>{Zc(n),e.selection.setCursorLocation(n.dom,0)}),f$=(e,n,o,i)=>oo(e.dom).bind(c=>md(e.dom).map(m=>n?o.isEqual(c)&&i.isEqual(m):o.isEqual(m)&&i.isEqual(c))).getOr(!0),kS=(e,n)=>SS(e,n),m$=(e,n,o)=>JT(e,Ue.fromDom(o.getNode())).fold(()=>Q.some(lt),i=>th(!tr(i,n),lt)),Aw=(e,n,o,i,c)=>Qv(o,e.getBody(),c).fold(()=>Q.some(lt),m=>f$(i,o,c,m)?kS(e,i):m$(n,i,m)),QT=(e,n,o,i)=>{const c=St.fromRangeStart(e.selection.getRng());return A5(o,i).bind(m=>js(e.schema,m,{checkRootAsContent:!1})?SS(e,m):d$(e,o,n,m,c))},v1=(e,n,o,i)=>{const c=St.fromRangeStart(e.selection.getRng());return js(e.schema,i)?SS(e,i):Aw(e,o,n,i,c)},db=(e,n)=>e?ZN(n):Ay(n),ES=(e,n)=>{const o=St.fromRangeStart(e.selection.getRng());return db(n,o)||Du(n,e.getBody(),o).exists(i=>db(n,i))},AS=(e,n,o)=>{const i=Ue.fromDom(e.getBody());return JT(i,o).fold(()=>QT(e,n,i,o).orThunk(()=>th(ES(e,n),lt)),c=>v1(e,n,i,c))},Uh=(e,n)=>{const o=Ue.fromDom(e.selection.getStart(!0)),i=lm(e);return e.selection.isCollapsed()&&i.length===0?AS(e,n,o):u$(e,o,i)},wd=(e,n)=>{let o=n;for(;o&&o!==e;){if(Vc(o)||yo(o))return o;o=o.parentNode}return null},TS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],OS=tn.each,DS=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),i=(m,p)=>{if(m.nodeName!==p.nodeName||m.nodeType!==p.nodeType)return!1;const _=$=>{const q={};return OS(n.getAttribs($),X=>{const ne=X.nodeName.toLowerCase();ne!=="style"&&!c(ne)&&(q[ne]=n.getAttrib($,ne))}),q},A=($,q)=>{for(const X in $)if(fo($,X)){const ne=q[X];if(Xe(ne)||$[X]!==ne)return!1;delete q[X]}for(const X in q)if(fo(q,X))return!1;return!0};return Nn(m)&&Nn(p)&&(!A(_(m),_(p))||!A(n.parseStyle(n.getAttrib(m,"style")),n.parseStyle(n.getAttrib(p,"style"))))?!1:!Iu(m)&&!Iu(p)},c=m=>Ae(TS,p=>cs(m,p))||o.has(m);return{compare:i,isAttributeInternal:c}},RS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),e3=e=>e.name==="summary",T5=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},t3=(e,n,o,i)=>{const c=o.name;for(let m=0,p=e.length;m<p;m++){const _=e[m];if(_.name===c){const A=i.nodes[c];A?A.nodes.push(o):i.nodes[c]={filter:_,nodes:[o]}}}if(o.attributes)for(let m=0,p=n.length;m<p;m++){const _=n[m],A=_.name;if(A in o.attributes.map){const $=i.attributes[A];$?$.nodes.push(o):i.attributes[A]={filter:_,nodes:[o]}}}},Iy=(e,n,o)=>{const i={nodes:{},attributes:{}};return o.firstChild&&T5(o,c=>{t3(e,n,c,i)}),i},n3=(e,n)=>{const o=(i,c)=>{ur(i,m=>{const p=Oo(m.nodes);be(m.filter.callbacks,_=>{for(let A=p.length-1;A>=0;A--){const $=p[A];(!(c?$.attr(m.filter.name)!==void 0:$.name===m.filter.name)||rt($.parent))&&p.splice(A,1)}p.length>0&&_(p,m.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},o3=(e,n,o,i={})=>{const c=Iy(e,n,o);n3(c,i)},IS=(e,n,o,i)=>{if((e.pad_empty_with_br||n.insert)&&o(i)){const m=new Na("br",1);n.insert&&m.attr("data-mce-bogus","1"),i.empty().append(m)}else i.empty().append(new Na("#text",3)).value=Ni},NS=e=>{var n;return r3(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Ni},r3=(e,n)=>{const o=e==null?void 0:e.firstChild;return Oe(o)&&o===e.lastChild&&o.name===n},O5=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Ny=(e,n,o,i)=>i.isEmpty(n,o,c=>O5(e,c)),D5=(e,n)=>Oe(e)&&(n(e)||e.name==="br"),Wh=e=>{let n;for(let o=e;o;o=o.parent){const i=o.attr("contenteditable");if(i==="false")break;i==="true"&&(n=o)}return Q.from(n)},Cg=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const i=e.children();for(const c of i)o&&!n.isValidChild(o.name,c.name)&&Cg(c,n,o);e.unwrap()}},Pu=(e,n,o,i=lt)=>{const c=n.getTextBlockElements(),m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=tn.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),A=new Set,$=q=>q!==o&&!_[q.name];for(let q=0;q<e.length;q++){const X=e[q];let ne,ve,Ee;if(!X.parent||A.has(X))continue;if(c[X.name]&&X.parent.name==="li"){let Ie=X.next;for(;Ie&&c[Ie.name];){Ie.name="li",A.add(Ie),X.parent.insert(Ie,X.parent);Ie=Ie.next}X.unwrap();continue}const ye=[X];for(ne=X.parent;ne&&!n.isValidChild(ne.name,X.name)&&$(ne);ne=ne.parent)ye.push(ne);if(ne&&ye.length>1)if(Tw(n,X,ne))Cg(X,n);else{ye.reverse(),ve=ye[0].clone(),i(ve);let Ie=ve;for(let Ge=0;Ge<ye.length-1;Ge++){n.isValidChild(Ie.name,ye[Ge].name)&&Ge>0?(Ee=ye[Ge].clone(),i(Ee),Ie.append(Ee)):Ee=Ie;for(let ot=ye[Ge].firstChild;ot&&ot!==ye[Ge+1];){const tt=ot.next;Ee.append(ot),ot=tt}Ie=Ee}Ny(n,m,p,ve)?ne.insert(X,ye[0],!0):(ne.insert(ve,ye[0],!0),ne.insert(X,ve)),ne=ye[0],(Ny(n,m,p,ne)||r3(ne,"br"))&&ne.empty().remove()}else if(X.parent){if(X.name==="li"){let Ie=X.prev;if(Ie&&(Ie.name==="ul"||Ie.name==="ol")){Ie.append(X);continue}if(Ie=X.next,Ie&&(Ie.name==="ul"||Ie.name==="ol")&&Ie.firstChild){Ie.insert(X,Ie.firstChild,!0);continue}const Ge=new Na("ul",1);i(Ge),X.wrap(Ge);continue}if(n.isValidChild(X.parent.name,"div")&&n.isValidChild("div",X.name)){const Ie=new Na("div",1);i(Ie),X.wrap(Ie)}else Cg(X,n)}}},s3=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},Tw=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&s3(o,"a")?!0:e3(o)&&RS(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,R5=(e,n,o,i)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,i),c},I5=e=>{const n=St.fromRangeStart(e),o=St.fromRangeEnd(e),i=e.commonAncestorContainer;return Du(!1,i,o).map(c=>!mg(n,o,i)&&mg(n,c,i)?R5(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},PS=e=>e.collapsed?e:I5(e),i3=e=>Oe(e.firstChild)&&e.firstChild===e.lastChild,N5=e=>e.name==="br"||e.value===Ni,P5=(e,n)=>e.getBlockElements()[n.name]&&i3(n)&&N5(n.firstChild),a3=(e,n)=>{const o=e.getNonEmptyElements();return Oe(n)&&(n.isEmpty(o)||P5(e,n))},_g=(e,n)=>{let o=n.firstChild,i=n.lastChild;return o&&o.name==="meta"&&(o=o.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),a3(e,i)&&(i=i==null?void 0:i.prev),!o||o!==i?!1:o.name==="ul"||o.name==="ol"},df=e=>{var n,o;const i=e.firstChild,c=e.lastChild;return i&&i.nodeName==="META"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},LS=(e,n,o)=>{const i=n.serialize(o),c=e.createFragment(i);return df(c)},L5=e=>{var n;return je((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},MS=e=>e.data===Ni||ps(e),M5=e=>Oe(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&MS(e.firstChild),B5=e=>!e.firstChild||M5(e),F5=e=>e.length>0&&B5(e[e.length-1])?e.slice(0,-1):e,BS=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},$5=(e,n)=>!!BS(e,n),V5=(e,n)=>{const o=n.cloneRange(),i=n.cloneRange();return o.setStartBefore(e),i.setEndAfter(e),[o.cloneContents(),i.cloneContents()]},FS=(e,n)=>{const o=St.before(e),c=Jn(n).next(o);return c?c.toRange():null},$S=(e,n)=>{const o=St.after(e),c=Jn(n).prev(o);return c?c.toRange():null},z5=(e,n,o,i)=>{const c=V5(e,i),m=e.parentNode;return m&&(m.insertBefore(c[0],e),tn.each(n,p=>{m.insertBefore(p,e)}),m.insertBefore(c[1],e),m.removeChild(e)),$S(n[n.length-1],o)},l3=(e,n,o)=>{const i=e.parentNode;return i&&tn.each(n,c=>{i.insertBefore(c,e)}),FS(e,o)},g$=(e,n,o,i)=>(i.insertAfter(n.reverse(),e),$S(n[0],o)),h$=(e,n,o,i)=>{const c=LS(n,e,i),m=BS(n,o.startContainer),p=F5(L5(c.firstChild)),_=1,A=2,$=n.getRoot(),q=X=>{const ne=St.fromRangeStart(o),ve=Jn(n.getRoot()),Ee=X===_?ve.prev(ne):ve.next(ne),ye=Ee==null?void 0:Ee.getNode();return ye?BS(n,ye)!==m:!0};return m?q(_)?l3(m,p,$):q(A)?g$(m,p,$,n):z5(m,p,$,o):null},p$=["pre"],b$=(e,n,o,i)=>{var c;const m=n.firstChild,p=n.lastChild,_=p.attr("data-mce-type")==="bookmark"?p.prev:p,A=m===_,$=xe(p$,m.name);if(A&&$){const q=m.attr("contenteditable")!=="false",X=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===m.name,ne=Q.from(wd(i,o)).forall(Vc);return q&&X&&ne}else return!1},c3=Tp,v$=(e,n,o)=>{if(Oe(o)){const i=e.getParent(n.endContainer,c3);return o===i&&H2(Ue.fromDom(o),n)}else return!1},VS=(e,n,o)=>{var i;if(o.getAttribute("data-mce-bogus")==="all")(i=o.parentNode)===null||i===void 0||i.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,m=o.lastChild;!c||c===m&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},u3=(e,n,o)=>{Q.from(e.getParent(n,"td,th")).map(Ue.fromDom).each(i=>f2(i,o))},H5=(e,n)=>{const o=e.schema.getTextInlineElements(),i=e.dom;if(n){const c=e.getBody(),m=DS(e),p="*[data-mce-fragment]",_=i.select(p);tn.each(_,A=>{const $=ne=>Oe(o[ne.nodeName.toLowerCase()]),q=ne=>ne.childNodes.length===1;if((ne=>!(wT(i,ne)||HN(i,ne)))(A)&&$(A)&&q(A)){const ne=d1(i,A),ve=(Ge,ot)=>Ro(Ge,tt=>xe(ot,tt)),Ee=Ge=>q(A)&&i.is(Ge,p)&&$(Ge)&&(Ge.nodeName===A.nodeName&&ve(ne,d1(i,Ge))||Ee(Ge.children[0])),ye=Ge=>Oe(Ge)&&Ge!==c&&(m.compare(A,Ge)||ye(Ge.parentElement)),Ie=Ge=>Oe(Ge)&&Ge!==c&&i.is(Ge,p)&&(K7(i,A,Ge)||Ie(Ge.parentElement));(Ee(A.children[0])||ye(A.parentElement)&&!Ie(A.parentElement))&&i.remove(A,!0)}})}},d3=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},y$=e=>{tn.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},x$=e=>!!e.getAttribute("data-mce-fragment"),w$=(e,n)=>Oe(n)&&!e.schema.getVoidElements()[n.nodeName],C$=(e,n)=>{var o,i,c;let m;const p=e.dom,_=e.selection;if(!n)return;_.scrollIntoView(n);const A=wd(e.getBody(),n);if(A&&p.getContentEditable(A)==="false"){p.remove(n),_.select(A);return}let $=p.createRng();const q=n.previousSibling;if(jt(q)){$.setStart(q,(i=(o=q.nodeValue)===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0);const ve=n.nextSibling;jt(ve)&&(q.appendData(ve.data),(c=ve.parentNode)===null||c===void 0||c.removeChild(ve))}else $.setStartBefore(n),$.setEndBefore(n);const X=ve=>{let Ee=St.fromRangeStart(ve);return Ee=Jn(e.getBody()).next(Ee),Ee==null?void 0:Ee.toRange()},ne=p.getParent(n,p.isBlock);if(p.remove(n),ne&&p.isEmpty(ne)){const ve=c3(ne);os(Ue.fromDom(ne)),$.setStart(ne,0),$.setEnd(ne,0),!ve&&!x$(ne)&&(m=X($))?($=m,p.remove(ne)):p.add(ne,p.create("br",ve?{}:{"data-mce-bogus":"1"}))}_.setRng($)},_$=e=>{const n=e.dom,o=PS(e.selection.getRng());e.selection.setRng(o);const i=n.getParent(o.startContainer,c3);v$(n,o,i)?XT(e,o,Ue.fromDom(i)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&jt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},S$=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return Q.some(n);return Q.none()},zS=(e,n,o)=>{var i;return Ae(o.children(),RS)&&((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName)==="SUMMARY"},HS=(e,n,o)=>{var i,c;const m=e.selection,p=e.dom,_=e.parser,A=o.merge,$=Vh({validate:!0},e.schema),q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Dl(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,q);let X=m.getRng();const ne=X.startContainer,ve=e.getBody();ne===ve&&m.isCollapsed()&&p.isBlock(ve.firstChild)&&w$(e,ve.firstChild)&&p.isEmpty(ve.firstChild)&&(X=p.createRng(),X.setStart(ve.firstChild,0),X.setEnd(ve.firstChild,0),m.setRng(X)),m.isCollapsed()||_$(e);const Ee=m.getNode(),ye={context:Ee.nodeName.toLowerCase(),data:o.data,insert:!0},Ie=_.parse(n,ye);if(o.paste===!0&&_g(e.schema,Ie)&&$5(p,Ee))return X=h$($,p,m.getRng(),Ie),X&&m.setRng(X),n;o.paste===!0&&b$(p,Ie,Ee,e.getBody())&&((i=Ie.firstChild)===null||i===void 0||i.unwrap()),d3(Ie);let Ge=Ie.lastChild;if(Ge&&Ge.attr("id")==="mce_marker"){const ot=Ge;for(Ge=Ge.prev;Ge;Ge=Ge.walk(!0))if(Ge.type===3||!p.isBlock(Ge.name)){Ge.parent&&e.schema.isValidChild(Ge.parent.name,"span")&&Ge.parent.insert(ot,Ge,Ge.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Ee),!ye.invalid&&!zS(p,Ee,Ie))n=$.serialize(Ie),VS(e,n,Ee);else{e.selection.setContent(q);let ot=m.getNode(),tt;const bt=e.getBody();for(Mn(ot)?ot=tt=bt:tt=ot;tt&&tt!==bt;)ot=tt,tt=tt.parentNode;n=ot===bt?bt.innerHTML:p.getOuterHTML(ot);const Vt=_.parse(n),en=S$(Vt),wn=en.bind(Wh).getOr(Vt);en.each(Dn=>Dn.replace(Ie));const Rt=Ie.children(),Ct=(c=Ie.parent)!==null&&c!==void 0?c:Vt;Ie.unwrap();const Ft=je(Rt,Dn=>Tw(e.schema,Dn,Ct));Pu(Ft,e.schema,wn),o3(_.getNodeFilters(),_.getAttributeFilters(),Vt),n=$.serialize(Vt),ot===bt?p.setHTML(bt,n):p.setOuterHTML(ot,n)}return H5(e,A),C$(e,p.get("mce_marker")),y$(e.getBody()),u3(p,m.getStart(),e.schema),Yd(e.schema,e.getBody(),m.getStart()),n},y1=e=>e instanceof Na,k$=e=>{Cy(e)&&oo(e.getBody()).each(n=>{const o=n.getNode(),i=xu(o)?oo(o).getOr(n):n;e.selection.setRng(i.toRange())})},f3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&k$(e)},E$=(e,n,o,i)=>{if(o=Dl(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const m=ml(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),m.toLowerCase())?(o=c,o=e.dom.createHTML(m,S2(e),o)):o||(o=c),f3(e,o,i.no_selection),{content:o,html:o}}else{i.format!=="raw"&&(o=Vh({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Nv(Ue.fromDom(n))?o:tn.trim(o);return f3(e,c,i.no_selection),{content:c,html:c}}},A$=(e,n,o,i)=>{o3(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Vh({validate:!1},e.schema).serialize(o),m=Dl(Nv(Ue.fromDom(n))?c:tn.trim(c));return f3(e,m,i.no_selection),{content:o,html:m}},T$=(e,n,o)=>Q.from(e.getBody()).map(i=>y1(n)?A$(e,i,n,o):E$(e,i,n,o)).getOr({content:n,html:y1(o.content)?"":o.content}),U5=e=>Te(e)?e:Tn,ff=(e,n,o)=>{let i=e.dom;const c=U5(o);for(;i.parentNode;){i=i.parentNode;const m=Ue.fromDom(i),p=n(m);if(p.isSome())return p;if(c(m))break}return Q.none()},Ow=(e,n,o)=>{const i=n(e),c=U5(o);return i.orThunk(()=>c(e)?Q.none():ff(e,n,c))},US=vy,m3=(e,n,o)=>{const i=e.formatter.get(o);if(i)for(let c=0;c<i.length;c++){const m=i[c];if(Xc(m)&&m.inherit===!1&&e.dom.is(n,m.selector))return!0}return!1},WS=(e,n,o,i,c)=>{const m=e.dom.getRoot();if(n===m)return!1;const p=e.dom.getParent(n,_=>m3(e,_,o)?!0:_.parentNode===m||!!Sg(e,_,o,i,!0));return!!Sg(e,p,o,i,c)},KS=(e,n,o)=>va(o)&&US(n,o.inline)||cm(o)&&US(n,o.block)?!0:Xc(o)?Nn(n)&&e.is(n,o.selector):!1,g3=(e,n,o,i,c,m)=>{const p=o[i],_=i==="attributes";if(Te(o.onmatch))return o.onmatch(n,o,i);if(p){if(un(p)){for(let A=0;A<p.length;A++)if(_?e.getAttrib(n,p[A]):W2(e,n,p[A]))return!0}else for(const A in p)if(fo(p,A)){const $=_?e.getAttrib(n,A):W2(e,n,A),q=Lh(p[A],m),X=rt($)||Gt($);if(X&&rt(q))continue;if(c&&X&&!o.exact||(!c||o.exact)&&!US($,L_(q,A)))return!1}}return!0},Sg=(e,n,o,i,c)=>{const m=e.formatter.get(o),p=e.dom;if(m&&Nn(n))for(let _=0;_<m.length;_++){const A=m[_];if(KS(e.dom,n,A)&&g3(p,n,A,"attributes",c,i)&&g3(p,n,A,"styles",c,i)){const $=A.classes;if($){for(let q=0;q<$.length;q++)if(!e.dom.hasClass(n,Lh($[q],i)))return}return A}}},fb=(e,n,o,i,c)=>{if(i)return WS(e,i,n,o,c);if(i=e.selection.getNode(),WS(e,i,n,o,c))return!0;const m=e.selection.getStart();return!!(m!==i&&WS(e,m,n,o,c))},W5=(e,n,o)=>{const i=[],c={},m=e.selection.getStart();return e.dom.getParent(m,p=>{for(let _=0;_<n.length;_++){const A=n[_];!c[A]&&Sg(e,p,A,o)&&(c[A]=!0,i.push(A))}},e.dom.getRoot()),i},K5=(e,n)=>{const o=c=>tr(c,Ue.fromDom(e.getBody())),i=(c,m)=>Sg(e,c.dom,m)?Q.some(m):Q.none();return Q.from(e.selection.getStart(!0)).bind(c=>Ow(Ue.fromDom(c),m=>ci(n,p=>i(m,p)),o)).getOrNull()},j5=(e,n)=>{const o=e.formatter.get(n),i=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),m=K2(i,c);for(let p=o.length-1;p>=0;p--){const _=o[p];if(!Xc(_))return!0;for(let A=m.length-1;A>=0;A--)if(i.is(m[A],_.selector))return!0}}return!1},h3=(e,n,o)=>sn(o,(i,c)=>{const m=NI(e,c);return e.formatter.matchNode(n,c,{},m)?i.concat([c]):i},[]),Dw=Ei,O$=(e,n)=>e.importNode(n,!0),Z5=e=>{if(e){const n=new fa(e,e);for(let o=n.current();o;o=n.next())if(jt(o))return o}return null},kg=e=>{const n=Ue.fromTag("span");return Fa(n,{id:my,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ws(n,Ue.fromText(Dw)),n},p3=e=>{const n=Z5(e);return n&&n.data.charAt(0)===Dw&&n.deleteData(0,1),n},b3=(e,n,o)=>{const i=e.dom,c=e.selection;if($A(n))Il(e,!1,Ue.fromDom(n),o,!0);else{const m=c.getRng(),p=i.getParent(n,i.isBlock),_=m.startContainer,A=m.startOffset,$=m.endContainer,q=m.endOffset,X=p3(n);i.remove(n,!0),_===X&&A>0&&m.setStart(X,A-1),$===X&&q>0&&m.setEnd(X,q-1),p&&i.isEmpty(p)&&Zc(Ue.fromDom(p)),c.setRng(m)}},v3=(e,n,o)=>{const i=e.dom,c=e.selection;if(n)b3(e,n,o);else if(n=Gp(e.getBody(),c.getStart()),!n)for(;n=i.get(my);)b3(e,n,o)},x1=(e,n,o)=>{var i,c;const m=e.dom,p=m.getParent(o,Qe(P_,e.schema));p&&m.isEmpty(p)?(i=o.parentNode)===null||i===void 0||i.replaceChild(n,o):(pc(Ue.fromDom(o)),m.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):m.insertAfter(n,o))},y3=(e,n)=>(e.appendChild(n),n),Rw=(e,n)=>{var o;const i=gt(e,(m,p)=>y3(m,p.cloneNode(!1)),n),c=(o=i.ownerDocument)!==null&&o!==void 0?o:document;return y3(i,c.createTextNode(Dw))},D$=(e,n,o,i,c,m)=>{const p=e.formatter,_=e.dom,A=je(Xt(p.get()),X=>X!==i&&!Mr(X,"removeformat")),$=h3(e,o,A);if(je($,X=>!PI(e,X,i)).length>0){const X=o.cloneNode(!1);return _.add(n,X),p.remove(i,c,X,m),_.remove(X),Q.some(X)}else return Q.none()},G5=e=>Tv(e,rg(e).replace(new RegExp(`${Ni}$`)," ")),x3=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Si(Ue.fromDom(n)).each(i=>{us(i)?G5(i):qi(i,c=>us(c)).each(c=>{us(c)&&G5(c)})})};e.once("input",i=>{i.data&&!t1(i.data)&&(i.isComposing?e.once("compositionend",()=>{o()}):o())})},Kh=(e,n,o)=>{let i;const c=e.selection,m=e.formatter.get(n);if(!m)return;const p=c.getRng();let _=p.startOffset;const $=p.startContainer.nodeValue;i=Gp(e.getBody(),c.getStart());const q=/[^\s\u00a0\u00ad\u200b\ufeff]/;if($&&_>0&&_<$.length&&q.test($.charAt(_))&&q.test($.charAt(_-1))){const X=c.getBookmark();p.collapse(!0);let ne=Xp(e.dom,p,m);ne=aw(ne),e.formatter.apply(n,o,ne),c.moveToBookmark(X)}else{let X=i?Z5(i):null;(!i||(X==null?void 0:X.data)!==Dw)&&(i=O$(e.getDoc(),kg(!0).dom),X=i.firstChild,p.insertNode(i),_=1,x3(e,i)),e.formatter.apply(n,o,i),c.setCursorLocation(X,_)}},w3=(e,n,o,i)=>{const c=e.dom,m=e.selection;let p=!1;const _=e.formatter.get(n);if(!_)return;const A=m.getRng(),$=A.startContainer,q=A.startOffset;let X=$;jt($)&&(q!==$.data.length&&(p=!0),X=X.parentNode);const ne=[];let ve;for(;X;){if(Sg(e,X,n,o,i)){ve=X;break}X.nextSibling&&(p=!0),ne.push(X),X=X.parentNode}if(ve)if(p){const Ee=m.getBookmark();A.collapse(!0);let ye=Xp(c,A,_,!0);ye=aw(ye),e.formatter.remove(n,o,ye,i),m.moveToBookmark(Ee)}else{const Ee=Gp(e.getBody(),ve),ye=Oe(Ee)?c.getParents(ve.parentNode,nn,Ee):[],Ie=kg(!1).dom;x1(e,Ie,Ee??ve);const Ge=D$(e,Ie,ve,n,o,i),ot=Rw([...ne,...Ge.toArray(),...ye],Ie);Ee&&b3(e,Ee,Oe(Ee)),m.setCursorLocation(ot,1),x3(e,Ie),c.isEmpty(ve)&&c.remove(ve)}},C3=(e,n,o)=>{const i=e.selection,c=e.getBody();v3(e,null,o),(n===8||n===46)&&i.isCollapsed()&&i.getStart().innerHTML===Dw&&v3(e,Gp(c,i.getStart()),!0),(n===37||n===39)&&v3(e,Gp(c,i.getStart()),!0)},_3=e=>jt(e)&&Re(e.data,Ni),q5=e=>{e.on("mouseup keydown",n=>{C3(e,n.keyCode,_3(e.selection.getRng().endContainer))})},S3=e=>{const n=kg(!1),o=Rw(e,n.dom);return{caretContainer:n,caretPosition:St(o,0)}},k3=(e,n)=>{const{caretContainer:o,caretPosition:i}=S3(n);return Ds(Ue.fromDom(e),o),Pr(Ue.fromDom(e)),i},R$=(e,n)=>{const{caretContainer:o,caretPosition:i}=S3(n);return e.insertNode(o.dom),i},Py=(e,n)=>{if(Ru(n.dom))return!1;const o=e.schema.getTextInlineElements();return fo(o,er(n))&&!Ru(n.dom)&&!Vf(n.dom)},mb={},E3=ma(["pre"]),Y5=(e,n)=>{mb[e]||(mb[e]=[]),mb[e].push(n)},X5=(e,n)=>{fo(mb,e)&&be(mb[e],o=>{o(n)})};Y5("pre",e=>{const n=e.selection.getRng(),o=c=>m=>{const p=m.previousSibling;return E3(p)&&xe(c,p)},i=(c,m)=>{const p=Ue.fromDom(m),_=dc(p).dom;Pr(p),ri(Ue.fromDom(c),[Ue.fromTag("br",_),Ue.fromTag("br",_),...da(p)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),m=je(je(c,E3),o(c));be(m,p=>{i(p.previousSibling,p)})}});const A3=["fontWeight","fontStyle","color","fontSize","fontFamily"],jS=e=>U(e.styles)&&Ae(Xt(e.styles),n=>xe(A3,n)),T3=e=>bn(e,n=>va(n)&&n.inline==="span"&&jS(n)),Ly=(e,n)=>{const o=e.get(n);return oe(o)?T3(o):Q.none()},J5=(e,n)=>Yc(n,St.fromRangeStart(e)).isNone(),O3=(e,n)=>nc(n,St.fromRangeEnd(e)).exists(o=>!ps(o.getNode())||nc(n,o).isSome())===!1,Q5=e=>n=>Lx(n)&&e.isEditable(n),I$=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return J5(o,n[0])&&O3(o,n[0])?n:[];{const i=En(n).filter(p=>J5(o,p)).toArray(),c=uo(n).filter(p=>O3(o,p)).toArray(),m=n.slice(1,-1);return i.concat(m).concat(c)}},eP=e=>je(I$(e),Q5(e.dom)),D3=e=>je(e.getSelectedBlocks(),Q5(e.dom)),R3=tn.each,ZS=e=>Nn(e)&&!Iu(e)&&!Ru(e)&&!Vf(e),gb=(e,n)=>{for(let o=e;o;o=o[n]){if(jt(o)&&nt(o.data))return e;if(Nn(o)&&!Iu(o))return o}return e},I3=(e,n,o)=>{const i=DS(e),c=yu(n)&&e.dom.isEditable(n),m=yu(o)&&e.dom.isEditable(o);if(c&&m){const p=gb(n,"previousSibling"),_=gb(o,"nextSibling");if(i.compare(p,_)){for(let A=p.nextSibling;A&&A!==_;){const $=A;A=A.nextSibling,p.appendChild($)}return e.dom.remove(_),tn.each(tn.grep(_.childNodes),A=>{p.appendChild(A)}),p}}return o},GS=(e,n,o,i)=>{var c;if(i&&n.merge_siblings!==!1){const m=(c=I3(e,n1(i),i))!==null&&c!==void 0?c:i;I3(e,m,n1(m,!0))}},tP=(e,n,o)=>{if(n.clear_child_styles){const i=n.links?"*:not(a)":"*";R3(e.select(i,o),c=>{ZS(c)&&e.isEditable(c)&&R3(n.styles,(m,p)=>{e.setStyle(c,p,"")})})}},Iw=(e,n,o)=>{R3(e.childNodes,i=>{ZS(i)&&(n(i)&&o(i),i.hasChildNodes()&&Iw(i,n,o))})},hb=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},N3=(e,n)=>o=>!!(o&&W2(e,o,n)),Lu=(e,n,o)=>i=>{e.setStyle(i,n,o),i.getAttribute("style")===""&&i.removeAttribute("style"),hb(e,i)},Cd=Yo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),P3=/^(src|href|style)$/,qS=tn.each,YS=vy,nP=e=>/^(TR|TH|TD)$/.test(e.nodeName),w1=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),Nw=(e,n,o)=>{let i=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Nn(i)){const m=i.childNodes.length-1;!o&&c&&c--,i=i.childNodes[c>m?m:c]}return jt(i)&&o&&c>=i.data.length&&(i=new fa(i,e.getBody()).next()||i),jt(i)&&!o&&c===0&&(i=new fa(i,e.getBody()).prev()||i),i},L3=(e,n)=>{const o=n?"firstChild":"lastChild",i=e[o];return nP(e)&&i?e.nodeName==="TR"&&i[o]||i:e},XS=(e,n,o,i)=>{var c;const m=e.create(o,i);return(c=n.parentNode)===null||c===void 0||c.insertBefore(m,n),m.appendChild(n),m},JS=(e,n,o,i,c)=>{const m=Ue.fromDom(n),p=Ue.fromDom(e.create(i,c)),_=o?Vm(m):td(m);return ri(p,_),o?(Ds(m,p),Ha(p,m)):(ut(m,p),Ws(p,m)),p.dom},N$=(e,n)=>n.links&&e.nodeName==="A",oP=(e,n,o)=>{const i=n.parentNode;let c;const m=e.dom,p=ml(e);cm(o)&&i===m.getRoot()&&(!o.list_block||!YS(n,o.list_block))&&be(Oo(n.childNodes),_=>{qp(e,p,_.nodeName.toLowerCase())?c?c.appendChild(_):(c=XS(m,_,p),m.setAttribs(c,S2(e))):c=null}),!(BI(o)&&!YS(o.inline,n))&&m.remove(n,!0)},M3=(e,n,o)=>D(e)?{name:n,value:null}:{name:e,value:Lh(n,o)},rP=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},tu=(e,n,o,i,c)=>{let m=!1;qS(o.styles,(p,_)=>{const{name:A,value:$}=M3(_,p,i),q=L_($,A);(o.remove_similar||Ve($)||!Nn(c)||YS(W2(e,c,A),q))&&e.setStyle(n,A,""),m=!0}),m&&rP(e,n)},B3=(e,n,o)=>{n==="removeformat"?be(D3(e.selection),i=>{be(A3,c=>e.dom.setStyle(i,c,"")),rP(e.dom,i)}):Ly(e.formatter,n).each(i=>{be(D3(e.selection),c=>tu(e.dom,c,i,o,null))})},F3=(e,n,o,i,c)=>{const m=e.dom,p=DS(e),_=e.schema;if(va(n)&&uv(_,n.inline)&&Wf(_,i)&&i.parentElement===e.getBody())return oP(e,i,n),Cd.removed();if(!n.ceFalseOverride&&i&&m.getContentEditableParent(i)==="false"||i&&!KS(m,i,n)&&!N$(i,n))return Cd.keep();const A=i,$=n.preserve_attributes;if(va(n)&&n.remove==="all"&&oe($)){const q=je(m.getAttribs(A),X=>xe($,X.name.toLowerCase()));if(m.removeAllAttribs(A),be(q,X=>m.setAttrib(A,X.name,X.value)),q.length>0)return Cd.rename("span")}if(n.remove!=="all"){tu(m,A,n,o,c),qS(n.attributes,(X,ne)=>{const{name:ve,value:Ee}=M3(ne,X,o);if(n.remove_similar||Ve(Ee)||!Nn(c)||YS(m.getAttrib(c,ve),Ee)){if(ve==="class"){const ye=m.getAttrib(A,ve);if(ye){let Ie="";if(be(ye.split(/\s+/),Ge=>{/mce\-\w+/.test(Ge)&&(Ie+=(Ie?" ":"")+Ge)}),Ie){m.setAttrib(A,ve,Ie);return}}}if(P3.test(ve)&&A.removeAttribute("data-mce-"+ve),ve==="style"&&ma(["li"])(A)&&m.getStyle(A,"list-style-type")==="none"){A.removeAttribute(ve),m.setStyle(A,"list-style-type","none");return}ve==="class"&&A.removeAttribute("className"),A.removeAttribute(ve)}}),qS(n.classes,X=>{X=Lh(X,o),(!Nn(c)||m.hasClass(c,X))&&m.removeClass(A,X)});const q=m.getAttribs(A);for(let X=0;X<q.length;X++){const ne=q[X].nodeName;if(!p.isAttributeInternal(ne))return Cd.keep()}}return n.remove!=="none"?(oP(e,A,n),Cd.removed()):Cd.keep()},$3=(e,n,o,i,c)=>{let m;return n.parentNode&&be(K2(e.dom,n.parentNode).reverse(),p=>{if(!m&&Nn(p)&&p.id!=="_start"&&p.id!=="_end"){const _=Sg(e,p,o,i,c);_&&_.split!==!1&&(m=p)}}),m},sP=(e,n,o,i)=>F3(e,n,o,i,i).fold(ct(i),c=>(e.dom.createFragment().appendChild(i),e.dom.rename(i,c)),ct(null)),Pw=(e,n,o,i,c,m,p,_)=>{var A,$;let q,X;const ne=e.dom;if(o){const ve=o.parentNode;for(let Ee=i.parentNode;Ee&&Ee!==ve;Ee=Ee.parentNode){let ye=ne.clone(Ee,!1);for(let Ie=0;Ie<n.length&&(ye=sP(e,n[Ie],_,ye),ye!==null);Ie++);ye&&(q&&ye.appendChild(q),X||(X=ye),q=ye)}(!p.mixed||!ne.isBlock(o))&&(i=(A=ne.split(o,i))!==null&&A!==void 0?A:i),q&&X&&(($=c.parentNode)===null||$===void 0||$.insertBefore(q,c),X.appendChild(c),va(p)&&GS(e,p,_,q))}return i},jh=(e,n,o,i,c)=>{const m=e.formatter.get(n),p=m[0],_=e.dom,A=e.selection,$=ye=>{const Ie=$3(e,ye,n,o,c);return Pw(e,m,Ie,ye,ye,!0,p,o)},q=ye=>Iu(ye)&&Nn(ye)&&(ye.id==="_start"||ye.id==="_end"),X=ye=>Ae(m,Ie=>bb(e,Ie,o,ye,ye)),ne=ye=>{const Ie=Oo(ye.childNodes),ot=X(ye)||Ae(m,Vt=>KS(_,ye,Vt)),tt=ye.parentNode;if(!ot&&Oe(tt)&&B_(p)&&X(tt),p.deep&&Ie.length)for(let Vt=0;Vt<Ie.length;Vt++)ne(Ie[Vt]);be(["underline","line-through","overline"],Vt=>{Nn(ye)&&e.dom.getStyle(ye,"text-decoration")===Vt&&ye.parentNode&&FA(_,ye.parentNode)===Vt&&bb(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Vt}},void 0,ye)})},ve=ye=>{const Ie=_.get(ye?"_start":"_end");if(Ie){let Ge=Ie[ye?"firstChild":"lastChild"];return q(Ge)&&(Ge=Ge[ye?"firstChild":"lastChild"]),jt(Ge)&&Ge.data.length===0&&(Ge=ye?Ie.previousSibling||Ie.nextSibling:Ie.nextSibling||Ie.previousSibling),_.remove(Ie,!0),Ge}else return null},Ee=ye=>{let Ie,Ge,ot=Xp(_,ye,m,ye.collapsed);if(p.split){if(ot=aw(ot),Ie=Nw(e,ot,!0),Ge=Nw(e,ot),Ie!==Ge){if(Ie=L3(Ie,!0),Ge=L3(Ge,!1),w1(_,Ie,Ge)){const bt=Q.from(Ie.firstChild).getOr(Ie);$(JS(_,bt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ve(!0);return}if(w1(_,Ge,Ie)){const bt=Q.from(Ge.lastChild).getOr(Ge);$(JS(_,bt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ve(!1);return}Ie=XS(_,Ie,"span",{id:"_start","data-mce-type":"bookmark"}),Ge=XS(_,Ge,"span",{id:"_end","data-mce-type":"bookmark"});const tt=_.createRng();tt.setStartAfter(Ie),tt.setEndBefore(Ge),q2(_,tt,bt=>{be(bt,Vt=>{!Iu(Vt)&&!Iu(Vt.parentNode)&&$(Vt)})}),$(Ie),$(Ge),Ie=ve(!0),Ge=ve()}else Ie=Ge=$(Ie);ot.startContainer=Ie.parentNode?Ie.parentNode:Ie,ot.startOffset=_.nodeIndex(Ie),ot.endContainer=Ge.parentNode?Ge.parentNode:Ge,ot.endOffset=_.nodeIndex(Ge)+1}q2(_,ot,tt=>{be(tt,ne)})};if(i){if(by(i)){const ye=_.createRng();ye.setStartBefore(i),ye.setEndAfter(i),Ee(ye)}else Ee(i);jI(e,n,i,o);return}!A.isCollapsed()||!va(p)||lm(e).length?(LA(e,()=>py(e,Ee),ye=>va(p)&&fb(e,n,o,ye)),e.nodeChanged()):w3(e,n,o,c),B3(e,n,o),jI(e,n,i,o)},pb=(e,n,o,i,c)=>{(i||e.selection.isEditable())&&jh(e,n,o,i,c)},bb=(e,n,o,i,c)=>F3(e,n,o,i,c).fold(Tn,m=>(e.dom.rename(i,m),!0),nn),QS=tn.each,V3=(e,n,o,i)=>{const c=m=>{if(yu(m)&&Nn(m.parentNode)&&e.isEditable(m)){const p=FA(e,m.parentNode);e.getStyle(m,"color")&&p?e.setStyle(m,"text-decoration",p):e.getStyle(m,"text-decoration")===p&&e.setStyle(m,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(tn.walk(i,c,"childNodes"),c(i))},iP=(e,n,o,i)=>{if(n.styles&&n.styles.backgroundColor){const c=N3(e,"fontSize");Iw(i,m=>c(m)&&e.isEditable(m),Lu(e,"backgroundColor",Lh(n.styles.backgroundColor,o)))}},P$=(e,n,o,i)=>{if(va(n)&&(n.inline==="sub"||n.inline==="sup")){const c=N3(e,"fontSize");Iw(i,p=>c(p)&&e.isEditable(p),Lu(e,"fontSize",""));const m=je(e.select(n.inline==="sup"?"sub":"sup",i),e.isEditable);e.remove(m,!0)}},aP=(e,n,o,i)=>{QS(n,c=>{va(c)&&QS(e.dom.select(c.inline,i),m=>{ZS(m)&&bb(e,c,o,m,c.exact?m:null)}),tP(e.dom,c,i)})},lP=(e,n,o,i,c)=>{const m=c.parentNode;Sg(e,m,o,i)&&bb(e,n,i,c)||n.merge_with_parents&&m&&e.dom.getParent(m,p=>Sg(e,p,o,i)?(bb(e,n,i,c),!0):!1)},Lw=tn.each,cP=(e,n,o,i)=>{if(AF(e)&&va(n)&&o.parentNode){const c=I0(e.schema),m=ov(Ue.fromDom(o),p=>Ru(p.dom));return Yl(c,i)&&gc(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!m}else return!1},uP=(e,n,o,i)=>{if(Lw(o.styles,(c,m)=>{e.setStyle(n,m,Lh(c,i))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},L$=(e,n,o,i)=>{const c=e.formatter.get(n),m=c[0],p=!i&&e.selection.isCollapsed(),_=e.dom,A=e.selection,$=(Ee,ye=m)=>{Te(ye.onformat)&&ye.onformat(Ee,ye,o,i),uP(_,Ee,ye,o),Lw(ye.attributes,(Ie,Ge)=>{_.setAttrib(Ee,Ge,Lh(Ie,o))}),Lw(ye.classes,Ie=>{const Ge=Lh(Ie,o);_.hasClass(Ee,Ge)||_.addClass(Ee,Ge)})},q=(Ee,ye)=>{let Ie=!1;return Lw(Ee,Ge=>Xc(Ge)?_.getContentEditable(ye)==="false"&&!Ge.ceFalseOverride||Oe(Ge.collapsed)&&Ge.collapsed!==p?!0:_.is(ye,Ge.selector)&&!Ru(ye)?($(ye,Ge),Ie=!0,!1):!0:!1),Ie},X=Ee=>{if(ae(Ee)){const ye=_.create(Ee);return $(ye),ye}else return null},ne=(Ee,ye,Ie)=>{const Ge=[];let ot=!0;const tt=m.inline||m.block,bt=X(tt),Vt=Rt=>LI(m)&&Sg(e,Rt,n,o),en=(Rt,Ct,Ft)=>{const Dn=MI(m)&&P_(e.schema,Rt)&&qp(e,Ct,tt);return Ft&&Dn},wn=(Rt,Ct,Ft,Dn)=>{const Wn=Rt.nodeName.toLowerCase(),$o=qp(e,tt,Wn)&&qp(e,Ct,tt),jo=!Ie&&jt(Rt)&&Gc(Rt.data),Lr=Ru(Rt),Kr=!va(m)||!Ee.isBlock(Rt);return(Ft||Dn)&&$o&&!jo&&!Lr&&Kr};q2(Ee,ye,Rt=>{let Ct;const Ft=Dn=>{let Wn=!1,$o=ot,jo=!1;const Lr=Dn.parentNode,Kr=Lr.nodeName.toLowerCase(),gi=Ee.getContentEditable(Dn);Oe(gi)&&($o=ot,ot=gi==="true",Wn=!0,jo=BA(e,Dn));const Ll=ot&&!Wn;if(ps(Dn)&&!cP(e,m,Dn,Kr)){Ct=null,cm(m)&&Ee.remove(Dn);return}if(Vt(Dn)){Ct=null;return}if(en(Dn,Kr,Ll)){const Qr=Ee.rename(Dn,tt);$(Qr),Ge.push(Qr),Ct=null;return}if(Xc(m)){let Qr=q(c,Dn);if(!Qr&&Oe(Lr)&&B_(m)&&(Qr=q(c,Lr)),!va(m)||Qr){Ct=null;return}}Oe(bt)&&wn(Dn,Kr,Ll,jo)?(Ct||(Ct=Ee.clone(bt,!1),Lr.insertBefore(Ct,Dn),Ge.push(Ct)),jo&&Wn&&(ot=$o),Ct.appendChild(Dn)):(Ct=null,be(Oo(Dn.childNodes),Ft),Wn&&(ot=$o),Ct=null)};be(Rt,Ft)}),m.links===!0&&be(Ge,Rt=>{const Ct=Ft=>{Ft.nodeName==="A"&&$(Ft,m),be(Oo(Ft.childNodes),Ct)};Ct(Rt)}),be(Ge,Rt=>{const Ct=Wn=>{let $o=0;return be(Wn.childNodes,jo=>{!t7(jo)&&!Iu(jo)&&$o++}),$o},Ft=Wn=>bn(Wn.childNodes,N_).filter(jo=>Ee.getContentEditable(jo)!=="false"&&KS(Ee,jo,m)).map(jo=>{const Lr=Ee.clone(jo,!1);return $(Lr),Ee.replace(Lr,Wn,!0),Ee.remove(jo,!0),Lr}).getOr(Wn),Dn=Ct(Rt);if((Ge.length>1||!Ee.isBlock(Rt))&&Dn===0){Ee.remove(Rt,!0);return}(va(m)||cm(m)&&m.wrapper)&&(!m.exact&&Dn===1&&(Rt=Ft(Rt)),aP(e,c,o,Rt),lP(e,m,n,o,Rt),iP(Ee,m,o,Rt),V3(Ee,m,o,Rt),P$(Ee,m,o,Rt),GS(e,m,o,Rt))})},ve=by(i)?i:A.getNode();if(_.getContentEditable(ve)==="false"&&!BA(e,ve)){i=ve,q(c,i),KI(e,n,i,o);return}if(m){if(i)if(by(i)){if(!q(c,i)){const Ee=_.createRng();Ee.setStartBefore(i),Ee.setEndAfter(i),ne(_,Xp(_,Ee,c),!0)}}else ne(_,i,!0);else!p||!va(m)||lm(e).length?(A.setRng(PS(A.getRng())),LA(e,()=>{py(e,(Ee,ye)=>{const Ie=ye?Ee:Xp(_,Ee,c);ne(_,Ie,!1)})},nn),e.nodeChanged()):Kh(e,n,o),Ly(e.formatter,n).each(Ee=>{be(eP(e.selection),ye=>uP(_,ye,Ee,o))});X5(n,e)}KI(e,n,i,o)},dP=(e,n,o,i)=>{(i||e.selection.isEditable())&&L$(e,n,o,i)},oc=e=>fo(e,"vars"),fP=(e,n)=>{e.set({}),n.on("NodeChange",o=>{H3(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const i=Q.from(o.node).map(c=>by(c)?c:c.startContainer).bind(c=>Nn(c)?Q.some(c):Q.from(c.parentElement)).getOrThunk(()=>My(n));H3(n,i,e.get())})},My=e=>e.selection.getStart(),mP=(e,n,o,i,c)=>Ut(n,_=>{const A=e.formatter.matchNode(_,o,c??{},i);return!Xe(A)},_=>m3(e,_,o)?!0:i?!1:Oe(e.formatter.matchNode(_,o,c,!0))),z3=(e,n)=>{const o=n??My(e);return je(K2(e.dom,o),i=>Nn(i)&&!Vf(i))},H3=(e,n,o)=>{const i=z3(e,n);ur(o,(c,m)=>{const p=_=>{const A=mP(e,i,m,_.similar,oc(_)?_.vars:void 0),$=A.isSome();if(_.state.get()!==$){_.state.set($);const q=A.getOr(n);oc(_)?_.callback($,{node:q,format:m,parents:i}):be(_.callbacks,X=>X($,{node:q,format:m,parents:i}))}};be([c.withSimilar,c.withoutSimilar],p),be(c.withVars,p)})},U3=(e,n,o,i,c,m)=>{const p=n.get();be(o.split(","),_=>{const A=Nr(p,_).getOrThunk(()=>{const q={withSimilar:{state:Pi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pi(!1),similar:!1,callbacks:[]},withVars:[]};return p[_]=q,q}),$=()=>{const q=z3(e);return mP(e,q,_,c,m).isSome()};if(Xe(m)){const q=c?A.withSimilar:A.withoutSimilar;q.callbacks.push(i),q.callbacks.length===1&&q.state.set($())}else A.withVars.push({state:Pi($()),similar:c,vars:m,callback:i})}),n.set(p)},gP=(e,n,o)=>{const i=e.get();be(n.split(","),c=>Nr(i,c).each(m=>{i[c]={withSimilar:{...m.withSimilar,callbacks:je(m.withSimilar.callbacks,p=>p!==o)},withoutSimilar:{...m.withoutSimilar,callbacks:je(m.withoutSimilar.callbacks,p=>p!==o)},withVars:je(m.withVars,p=>p.callback!==o)}})),e.set(i)},M$=(e,n,o,i,c,m)=>(U3(e,n,o,i,c,m),{unbind:()=>gP(n,o,i)}),B$=(e,n,o,i)=>{const c=e.formatter.get(n);c&&(fb(e,n,o,i)&&(!("toggle"in c[0])||c[0].toggle)?pb(e,n,o,i):dP(e,n,o,i))},hP=tn.explode,ek=()=>{const e={};return{addFilter:(c,m)=>{be(hP(c),p=>{fo(e,p)||(e[p]={name:p,callbacks:[]}),e[p].callbacks.push(m)})},getFilters:()=>Gu(e),removeFilter:(c,m)=>{be(hP(c),p=>{if(fo(e,p))if(Oe(m)){const _=e[p],A=je(_.callbacks,$=>$!==m);A.length>0?_.callbacks=A:delete e[p]}else delete e[p]})}}},F$=(e,n)=>{be(n,o=>{e.attr(o,null)})},$$=(e,n,o)=>{e.addNodeFilter("font",i=>{be(i,c=>{const m=n.parse(c.attr("style")),p=c.attr("color"),_=c.attr("face"),A=c.attr("size");p&&(m.color=p),_&&(m["font-family"]=_),A&&mn(A).each($=>{m["font-size"]=o[$-1]}),c.name="span",c.attr("style",n.serialize(m)),F$(c,["color","face","size"])})})},pP=(e,n,o)=>{e.addNodeFilter("strike",i=>{const c=n.type!=="html4";be(i,m=>{if(c)m.name="s";else{const p=o.parse(m.attr("style"));p["text-decoration"]="line-through",m.name="span",m.attr("style",o.serialize(p))}})})},V$=(e,n,o)=>{var i;const c=Qx();n.convert_fonts_to_spans&&$$(e,c,tn.explode((i=n.font_size_legacy_values)!==null&&i!==void 0?i:"")),pP(e,o,c)},z$=(e,n,o)=>{n.inline_styles&&V$(e,n,o)},W3=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),tk=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},nk=e=>{const[n,...o]=e.split(","),i=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const m=c[2]===";base64",p=m?tk(i):decodeURIComponent(i);return Q.some({type:c[1],data:p,base64Encoded:m})}else return Q.none()},K3=(e,n,o=!0)=>{let i=n;if(o)try{i=atob(n)}catch{return Q.none()}const c=new Uint8Array(i.length);for(let m=0;m<c.length;m++)c[m]=i.charCodeAt(m);return Q.some(new Blob([c],{type:e}))},j3=e=>new Promise((n,o)=>{nk(e).bind(({type:i,data:c,base64Encoded:m})=>K3(i,c,m)).fold(()=>o("Invalid data URI"),n)}),H$=e=>cs(e,"blob:")?W3(e):cs(e,"data:")?j3(e):Promise.reject("Unknown URI format"),bP=e=>new Promise((n,o)=>{const i=new FileReader;i.onloadend=()=>{n(i.result)},i.onerror=()=>{var c;o((c=i.error)===null||c===void 0?void 0:c.message)},i.readAsDataURL(e)});let U$=0;const C1=e=>"blobid"+U$++,vP=(e,n,o)=>nk(e).bind(({data:i,type:c,base64Encoded:m})=>{if(n&&!m)return Q.none();{const p=m?i:btoa(i);return o(p,c)}}),Mw=(e,n,o)=>{const i=e.create(C1(),n,o);return e.add(i),i},yP=(e,n,o=!1)=>vP(n,o,(i,c)=>Q.from(e.getByData(i,c)).orThunk(()=>K3(c,i).map(m=>Mw(e,m,i)))),Z3=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(cs(n,"blob:")){const i=e.getByUri(n);return Oe(i)?Promise.resolve(i):H$(n).then(c=>bP(c).then(m=>vP(m,!1,p=>Q.some(Mw(e,c,p))).getOrThunk(o)))}else return cs(n,"data:")?yP(e,n).fold(o,i=>Promise.resolve(i)):Promise.reject("Unknown image data format")},xP=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,wP=e=>Q.from(e.match(xP)).bind(n=>ji(n,1)).map(n=>cs(n,"www.")?n.substring(4):n),G3=(e,n)=>{Q.from(e.attr("src")).bind(wP).forall(o=>!xe(n,o))&&e.attr("sandbox","")},By=(e,n)=>cs(e,`${n}/`),W$=e=>Xe(e)?"iframe":By(e,"image")?"img":By(e,"video")?"video":By(e,"audio")?"audio":"iframe",K$=({type:e,src:n,width:o,height:i}={},c,m)=>{const p=W$(e),_=new Na(p,1);return _.attr(p==="audio"?{src:n}:{src:n,width:o,height:i}),(p==="audio"||p==="video")&&_.attr("controls",""),p==="iframe"&&c&&G3(_,m),_},q3=e=>Oe(e.attr("data-mce-bogus")),CP=e=>e.attr("src")===zo.transparentSrc||Oe(e.attr("data-mce-placeholder")),j$=(e,n)=>{const{blob_cache:o}=n;if(o){const i=c=>{const m=c.attr("src");CP(c)||q3(c)||rt(m)||yP(o,m,!0).each(p=>{c.attr("src",p.blobUri())})};e.addAttributeFilter("src",c=>be(c,i))}},Z$=(e,n)=>{var o,i;const c=e.schema;e.addAttributeFilter("href",A=>{let $=A.length;const q=ne=>ne.split(" ").filter(Ee=>Ee.length>0).concat(["noopener"]).sort().join(" "),X=ne=>{const ve=ne?tn.trim(ne):"";return/\b(noopener)\b/g.test(ve)?ve:q(ve)};if(!n.allow_unsafe_link_target)for(;$--;){const ne=A[$];ne.name==="a"&&ne.attr("target")==="_blank"&&ne.attr("rel",X(ne.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",A=>{let $=A.length,q,X,ne,ve;for(;$--;)if(ve=A[$],ve.name==="a"&&ve.firstChild&&!ve.attr("href"))for(ne=ve.parent,q=ve.lastChild;q&&ne;)X=q.prev,ne.insert(q,ve),q=X}),n.fix_list_elements&&e.addNodeFilter("ul,ol",A=>{let $=A.length,q,X;for(;$--;)if(q=A[$],X=q.parent,X&&(X.name==="ul"||X.name==="ol"))if(q.prev&&q.prev.name==="li")q.prev.append(q);else{const ne=new Na("li",1);ne.attr("style","list-style-type: none"),q.wrap(ne)}});const m=c.getValidClasses();n.validate&&m&&e.addAttributeFilter("class",A=>{var $;let q=A.length;for(;q--;){const X=A[q],ne=($=X.attr("class"))!==null&&$!==void 0?$:"",ve=tn.explode(ne," ");let Ee="";for(let ye=0;ye<ve.length;ye++){const Ie=ve[ye];let Ge=!1,ot=m["*"];ot&&ot[Ie]&&(Ge=!0),ot=m[X.name],!Ge&&ot&&ot[Ie]&&(Ge=!0),Ge&&(Ee&&(Ee+=" "),Ee+=Ie)}Ee.length||(Ee=null),X.attr("class",Ee)}}),j$(e,n);const p=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,_=tl((i=n.sandbox_iframes_exclusions)!==null&&i!==void 0?i:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",A=>be(A,$=>{$.replace(K$({type:$.attr("type"),src:$.name==="object"?$.attr("data"):$.attr("src"),width:$.attr("width"),height:$.attr("height")},p,_))})),p&&e.addNodeFilter("iframe",A=>be(A,$=>G3($,_)))},{entries:_P,setPrototypeOf:SP,isFrozen:Y3,getPrototypeOf:kP,getOwnPropertyDescriptor:G$}=Object;let{freeze:nu,seal:vs,create:q$}=Object,{apply:X3,construct:ok}=typeof Reflect<"u"&&Reflect;X3||(X3=function(n,o,i){return n.apply(o,i)}),nu||(nu=function(n){return n}),vs||(vs=function(n){return n}),ok||(ok=function(n,o){return new n(...o)});const J3=wc(Array.prototype.forEach),EP=wc(Array.prototype.pop),mf=wc(Array.prototype.push),Fy=wc(String.prototype.toLowerCase),rk=wc(String.prototype.toString),Q3=wc(String.prototype.match),_d=wc(String.prototype.replace),e4=wc(String.prototype.indexOf),AP=wc(String.prototype.trim),xc=wc(RegExp.prototype.test),vb=Bw(TypeError);function wc(e){return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return X3(e,n,i)}}function Bw(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ok(e,o)}}function ir(e,n,o){var i;o=(i=o)!==null&&i!==void 0?i:Fy,SP&&SP(e,null);let c=n.length;for(;c--;){let m=n[c];if(typeof m=="string"){const p=o(m);p!==m&&(Y3(n)||(n[c]=p),m=p)}e[m]=!0}return e}function Eg(e){const n=q$(null);for(const[o,i]of _P(e))n[o]=i;return n}function Fw(e,n){for(;e!==null;){const i=G$(e,n);if(i){if(i.get)return wc(i.get);if(typeof i.value=="function")return wc(i.value)}e=kP(e)}function o(i){return console.warn("fallback value for",i),null}return o}const t4=nu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),n4=nu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),sk=nu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y$=nu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),o4=nu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$w=nu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TP=nu(["#text"]),OP=nu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),r4=nu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),DP=nu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ik=nu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X$=vs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J$=vs(/<%[\w\W]*|[\w\W]*%>/gm),Q$=vs(/\${[\w\W]*}/gm),eV=vs(/^data-[\-\w.\u00B7-\uFFFF]/),tV=vs(/^aria-[\-\w]+$/),RP=vs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IP=vs(/^(?:\w+script|data):/i),NP=vs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),s4=vs(/^html$/i);var i4=Object.freeze({__proto__:null,MUSTACHE_EXPR:X$,ERB_EXPR:J$,TMPLIT_EXPR:Q$,DATA_ATTR:eV,ARIA_ATTR:tV,IS_ALLOWED_URI:RP,IS_SCRIPT_OR_DATA:IP,ATTR_WHITESPACE:NP,DOCTYPE_NAME:s4});const PP=()=>typeof window>"u"?null:window,LP=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(i=o.getAttribute(c));const m="dompurify"+(i?"#"+i:"");try{return n.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function a4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PP();const n=Go=>a4(Go);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,i=o.currentScript;let{document:c}=e;const{DocumentFragment:m,HTMLTemplateElement:p,Node:_,Element:A,NodeFilter:$,NamedNodeMap:q=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:X,DOMParser:ne,trustedTypes:ve}=e,Ee=A.prototype,ye=Fw(Ee,"cloneNode"),Ie=Fw(Ee,"nextSibling"),Ge=Fw(Ee,"childNodes"),ot=Fw(Ee,"parentNode");if(typeof p=="function"){const Go=c.createElement("template");Go.content&&Go.content.ownerDocument&&(c=Go.content.ownerDocument)}let tt,bt="";const{implementation:Vt,createNodeIterator:en,createDocumentFragment:wn,getElementsByTagName:Rt}=c,{importNode:Ct}=o;let Ft={};n.isSupported=typeof _P=="function"&&typeof ot=="function"&&Vt&&Vt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Dn,ERB_EXPR:Wn,TMPLIT_EXPR:$o,DATA_ATTR:jo,ARIA_ATTR:Lr,IS_SCRIPT_OR_DATA:Kr,ATTR_WHITESPACE:gi}=i4;let{IS_ALLOWED_URI:Ll}=i4,Qr=null;const ln=ir({},[...t4,...n4,...sk,...o4,...TP]);let Vn=null;const _r=ir({},[...OP,...r4,...DP,...ik]);let fn=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qn=null,Wo=null,yn=!0,Vo=!0,Zo=!1,Pa=!0,Ur=!1,wa=!1,bm=!1,np=!1,Sc=!1,Ad=!1,vm=!1,Td=!0,ym=!1;const Zn="user-content-";let mr=!0,Xs=!1,wi={},na=null;const pl=ir({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vi=null;const zi=ir({},["audio","video","img","source","image","track"]);let kc=null;const Pg=ir({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lg="http://www.w3.org/1998/Math/MathML",Mg="http://www.w3.org/2000/svg",xm="http://www.w3.org/1999/xhtml";let rx=xm,Zk=!1,Gk=null;const AH=ir({},[Lg,Mg,xm],rk);let B1;const fB=["application/xhtml+xml","text/html"],EG="text/html";let sc,yC=null;const AG=c.createElement("form"),TH=function(At){return At instanceof RegExp||At instanceof Function},Ab=function(At){if(!(yC&&yC===At)){if((!At||typeof At!="object")&&(At={}),At=Eg(At),B1=fB.indexOf(At.PARSER_MEDIA_TYPE)===-1?B1=EG:B1=At.PARSER_MEDIA_TYPE,sc=B1==="application/xhtml+xml"?rk:Fy,Qr="ALLOWED_TAGS"in At?ir({},At.ALLOWED_TAGS,sc):ln,Vn="ALLOWED_ATTR"in At?ir({},At.ALLOWED_ATTR,sc):_r,Gk="ALLOWED_NAMESPACES"in At?ir({},At.ALLOWED_NAMESPACES,rk):AH,kc="ADD_URI_SAFE_ATTR"in At?ir(Eg(Pg),At.ADD_URI_SAFE_ATTR,sc):Pg,Vi="ADD_DATA_URI_TAGS"in At?ir(Eg(zi),At.ADD_DATA_URI_TAGS,sc):zi,na="FORBID_CONTENTS"in At?ir({},At.FORBID_CONTENTS,sc):pl,Qn="FORBID_TAGS"in At?ir({},At.FORBID_TAGS,sc):{},Wo="FORBID_ATTR"in At?ir({},At.FORBID_ATTR,sc):{},wi="USE_PROFILES"in At?At.USE_PROFILES:!1,yn=At.ALLOW_ARIA_ATTR!==!1,Vo=At.ALLOW_DATA_ATTR!==!1,Zo=At.ALLOW_UNKNOWN_PROTOCOLS||!1,Pa=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ur=At.SAFE_FOR_TEMPLATES||!1,wa=At.WHOLE_DOCUMENT||!1,Sc=At.RETURN_DOM||!1,Ad=At.RETURN_DOM_FRAGMENT||!1,vm=At.RETURN_TRUSTED_TYPE||!1,np=At.FORCE_BODY||!1,Td=At.SANITIZE_DOM!==!1,ym=At.SANITIZE_NAMED_PROPS||!1,mr=At.KEEP_CONTENT!==!1,Xs=At.IN_PLACE||!1,Ll=At.ALLOWED_URI_REGEXP||RP,rx=At.NAMESPACE||xm,fn=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&TH(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fn.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&TH(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fn.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fn.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ur&&(Vo=!1),Ad&&(Sc=!0),wi&&(Qr=ir({},[...TP]),Vn=[],wi.html===!0&&(ir(Qr,t4),ir(Vn,OP)),wi.svg===!0&&(ir(Qr,n4),ir(Vn,r4),ir(Vn,ik)),wi.svgFilters===!0&&(ir(Qr,sk),ir(Vn,r4),ir(Vn,ik)),wi.mathMl===!0&&(ir(Qr,o4),ir(Vn,DP),ir(Vn,ik))),At.ADD_TAGS&&(Qr===ln&&(Qr=Eg(Qr)),ir(Qr,At.ADD_TAGS,sc)),At.ADD_ATTR&&(Vn===_r&&(Vn=Eg(Vn)),ir(Vn,At.ADD_ATTR,sc)),At.ADD_URI_SAFE_ATTR&&ir(kc,At.ADD_URI_SAFE_ATTR,sc),At.FORBID_CONTENTS&&(na===pl&&(na=Eg(na)),ir(na,At.FORBID_CONTENTS,sc)),mr&&(Qr["#text"]=!0),wa&&ir(Qr,["html","head","body"]),Qr.table&&(ir(Qr,["tbody"]),delete Qn.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw vb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');tt=At.TRUSTED_TYPES_POLICY,bt=tt.createHTML("")}else tt===void 0&&(tt=LP(ve,i)),tt!==null&&typeof bt=="string"&&(bt=tt.createHTML(""));nu&&nu(At),yC=At}},rD=ir({},["mi","mo","mn","ms","mtext"]),wt=ir({},["foreignobject","desc","title","annotation-xml"]),_t=ir({},["title","style","font","a","script"]),rn=ir({},n4);ir(rn,sk),ir(rn,Y$);const Qt=ir({},o4);ir(Qt,$w);const ro=function(At){let Bn=ot(At);(!Bn||!Bn.tagName)&&(Bn={namespaceURI:rx,tagName:"template"});const wo=Fy(At.tagName),Oi=Fy(Bn.tagName);return Gk[At.namespaceURI]?At.namespaceURI===Mg?Bn.namespaceURI===xm?wo==="svg":Bn.namespaceURI===Lg?wo==="svg"&&(Oi==="annotation-xml"||rD[Oi]):!!rn[wo]:At.namespaceURI===Lg?Bn.namespaceURI===xm?wo==="math":Bn.namespaceURI===Mg?wo==="math"&&wt[Oi]:!!Qt[wo]:At.namespaceURI===xm?Bn.namespaceURI===Mg&&!wt[Oi]||Bn.namespaceURI===Lg&&!rD[Oi]?!1:!Qt[wo]&&(_t[wo]||!rn[wo]):!!(B1==="application/xhtml+xml"&&Gk[At.namespaceURI]):!1},rr=function(At){mf(n.removed,{element:At});try{At.parentNode.removeChild(At)}catch{At.remove()}},Js=function(At,Bn){try{mf(n.removed,{attribute:Bn.getAttributeNode(At),from:Bn})}catch{mf(n.removed,{attribute:null,from:Bn})}if(Bn.removeAttribute(At),At==="is"&&!Vn[At])if(Sc||Ad)try{rr(Bn)}catch{}else try{Bn.setAttribute(At,"")}catch{}},Bg=function(At){let Bn,wo;if(np)At="<remove></remove>"+At;else{const Fg=Q3(At,/^[\r\n\t ]+/);wo=Fg&&Fg[0]}B1==="application/xhtml+xml"&&rx===xm&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Oi=tt?tt.createHTML(At):At;if(rx===xm)try{Bn=new ne().parseFromString(Oi,B1)}catch{}if(!Bn||!Bn.documentElement){Bn=Vt.createDocument(rx,"template",null);try{Bn.documentElement.innerHTML=Zk?bt:Oi}catch{}}const Ec=Bn.body||Bn.documentElement;return At&&wo&&Ec.insertBefore(c.createTextNode(wo),Ec.childNodes[0]||null),rx===xm?Rt.call(Bn,wa?"html":"body")[0]:wa?Bn.documentElement:Ec},mB=function(At){return en.call(At.ownerDocument||At,At,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,null,!1)},dde=function(At){return At instanceof X&&(typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof q)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},gB=function(At){return typeof _=="object"?At instanceof _:At&&typeof At=="object"&&typeof At.nodeType=="number"&&typeof At.nodeName=="string"},F1=function(At,Bn,wo){Ft[At]&&J3(Ft[At],Oi=>{Oi.call(n,Bn,wo,yC)})},TG=function(At){let Bn;if(F1("beforeSanitizeElements",At,null),dde(At))return rr(At),!0;const wo=sc(At.nodeName);if(F1("uponSanitizeElement",At,{tagName:wo,allowedTags:Qr}),At.hasChildNodes()&&!gB(At.firstElementChild)&&(!gB(At.content)||!gB(At.content.firstElementChild))&&xc(/<[/\w]/g,At.innerHTML)&&xc(/<[/\w]/g,At.textContent))return rr(At),!0;if(!Qr[wo]||Qn[wo]){if(!Qn[wo]&&DG(wo)&&(fn.tagNameCheck instanceof RegExp&&xc(fn.tagNameCheck,wo)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(wo)))return!1;if(mr&&!na[wo]){const Oi=ot(At)||At.parentNode,Ec=Ge(At)||At.childNodes;if(Ec&&Oi){const Fg=Ec.length;for(let Ya=Fg-1;Ya>=0;--Ya)Oi.insertBefore(ye(Ec[Ya],!0),Ie(At))}}return rr(At),!0}return At instanceof A&&!ro(At)||(wo==="noscript"||wo==="noembed"||wo==="noframes")&&xc(/<\/no(script|embed|frames)/i,At.innerHTML)?(rr(At),!0):(Ur&&At.nodeType===3&&(Bn=At.textContent,Bn=_d(Bn,Dn," "),Bn=_d(Bn,Wn," "),Bn=_d(Bn,$o," "),At.textContent!==Bn&&(mf(n.removed,{element:At.cloneNode()}),At.textContent=Bn)),F1("afterSanitizeElements",At,null),!1)},OG=function(At,Bn,wo){if(Td&&(Bn==="id"||Bn==="name")&&(wo in c||wo in AG))return!1;if(!(Vo&&!Wo[Bn]&&xc(jo,Bn))){if(!(yn&&xc(Lr,Bn))){if(!Vn[Bn]||Wo[Bn]){if(!(DG(At)&&(fn.tagNameCheck instanceof RegExp&&xc(fn.tagNameCheck,At)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(At))&&(fn.attributeNameCheck instanceof RegExp&&xc(fn.attributeNameCheck,Bn)||fn.attributeNameCheck instanceof Function&&fn.attributeNameCheck(Bn))||Bn==="is"&&fn.allowCustomizedBuiltInElements&&(fn.tagNameCheck instanceof RegExp&&xc(fn.tagNameCheck,wo)||fn.tagNameCheck instanceof Function&&fn.tagNameCheck(wo))))return!1}else if(!kc[Bn]){if(!xc(Ll,_d(wo,gi,""))){if(!((Bn==="src"||Bn==="xlink:href"||Bn==="href")&&At!=="script"&&e4(wo,"data:")===0&&Vi[At])){if(!(Zo&&!xc(Kr,_d(wo,gi,"")))){if(wo)return!1}}}}}}return!0},DG=function(At){return At.indexOf("-")>0},RG=function(At){let Bn,wo,Oi,Ec;F1("beforeSanitizeAttributes",At,null);const{attributes:Fg}=At;if(!Fg)return;const Ya={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vn};for(Ec=Fg.length;Ec--;){Bn=Fg[Ec];const{name:$g,namespaceURI:OH}=Bn;wo=$g==="value"?Bn.value:AP(Bn.value);const mde=wo;if(Oi=sc($g),Ya.attrName=Oi,Ya.attrValue=wo,Ya.keepAttr=!0,Ya.forceKeepAttr=void 0,F1("uponSanitizeAttribute",At,Ya),wo=Ya.attrValue,Ya.forceKeepAttr)continue;if(!Ya.keepAttr){Js($g,At);continue}if(!Pa&&xc(/\/>/i,wo)){Js($g,At);continue}Ur&&(wo=_d(wo,Dn," "),wo=_d(wo,Wn," "),wo=_d(wo,$o," "));const IG=sc(At.nodeName);if(!OG(IG,Oi,wo)){Js($g,At);continue}if(ym&&(Oi==="id"||Oi==="name")&&(Js($g,At),wo=Zn+wo),tt&&typeof ve=="object"&&typeof ve.getAttributeType=="function"&&!OH)switch(ve.getAttributeType(IG,Oi)){case"TrustedHTML":{wo=tt.createHTML(wo);break}case"TrustedScriptURL":{wo=tt.createScriptURL(wo);break}}if(wo!==mde)try{OH?At.setAttributeNS(OH,$g,wo):At.setAttribute($g,wo)}catch{Js($g,At)}}F1("afterSanitizeAttributes",At,null)},fde=function Go(At){let Bn;const wo=mB(At);for(F1("beforeSanitizeShadowDOM",At,null);Bn=wo.nextNode();)F1("uponSanitizeShadowNode",Bn,null),!TG(Bn)&&(Bn.content instanceof m&&Go(Bn.content),RG(Bn));F1("afterSanitizeShadowDOM",At,null)};return n.sanitize=function(Go){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bn,wo,Oi,Ec;if(Zk=!Go,Zk&&(Go="<!-->"),typeof Go!="string"&&!gB(Go))if(typeof Go.toString=="function"){if(Go=Go.toString(),typeof Go!="string")throw vb("dirty is not a string, aborting")}else throw vb("toString is not a function");if(!n.isSupported)return Go;if(bm||Ab(At),n.removed=[],typeof Go=="string"&&(Xs=!1),Xs){if(Go.nodeName){const $g=sc(Go.nodeName);if(!Qr[$g]||Qn[$g])throw vb("root node is forbidden and cannot be sanitized in-place")}}else if(Go instanceof _)Bn=Bg("<!---->"),wo=Bn.ownerDocument.importNode(Go,!0),wo.nodeType===1&&wo.nodeName==="BODY"||wo.nodeName==="HTML"?Bn=wo:Bn.appendChild(wo);else{if(!Sc&&!Ur&&!wa&&Go.indexOf("<")===-1)return tt&&vm?tt.createHTML(Go):Go;if(Bn=Bg(Go),!Bn)return Sc?null:vm?bt:""}Bn&&np&&rr(Bn.firstChild);const Fg=mB(Xs?Go:Bn);for(;Oi=Fg.nextNode();)TG(Oi)||(Oi.content instanceof m&&fde(Oi.content),RG(Oi));if(Xs)return Go;if(Sc){if(Ad)for(Ec=wn.call(Bn.ownerDocument);Bn.firstChild;)Ec.appendChild(Bn.firstChild);else Ec=Bn;return(Vn.shadowroot||Vn.shadowrootmode)&&(Ec=Ct.call(o,Ec,!0)),Ec}let Ya=wa?Bn.outerHTML:Bn.innerHTML;return wa&&Qr["!doctype"]&&Bn.ownerDocument&&Bn.ownerDocument.doctype&&Bn.ownerDocument.doctype.name&&xc(s4,Bn.ownerDocument.doctype.name)&&(Ya="<!DOCTYPE "+Bn.ownerDocument.doctype.name+`>
`+Ya),Ur&&(Ya=_d(Ya,Dn," "),Ya=_d(Ya,Wn," "),Ya=_d(Ya,$o," ")),tt&&vm?tt.createHTML(Ya):Ya},n.setConfig=function(Go){Ab(Go),bm=!0},n.clearConfig=function(){yC=null,bm=!1},n.isValidAttribute=function(Go,At,Bn){yC||Ab({});const wo=sc(Go),Oi=sc(At);return OG(wo,Oi,Bn)},n.addHook=function(Go,At){typeof At=="function"&&(Ft[Go]=Ft[Go]||[],mf(Ft[Go],At))},n.removeHook=function(Go){if(Ft[Go])return EP(Ft[Go])},n.removeHooks=function(Go){Ft[Go]&&(Ft[Go]=[])},n.removeAllHooks=function(){Ft={}},n}var l4=a4();const MP=tn.each,BP=tn.trim,nV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],oV={ftp:21,http:80,https:443,mailto:25},FP=["img","video"],$P=(e,n)=>Oe(e)?!e:Oe(n)?!xe(FP,n):!0,rV=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},c4=(e,n,o)=>{const i=rV(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(i)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(i)?$P(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)};class Sd{static parseDataUri(n){let o;const i=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(o=c[1]),{type:o,data:i[1]}}static isDomSafe(n,o,i={}){if(i.allow_script_urls)return!0;{const c=hh.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!c4(i,c,o)}}static getDocumentBaseUrl(n){var o;let i;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?i=(o=n.href)!==null&&o!==void 0?o:"":i=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/")),i}constructor(n,o={}){this.path="",this.directory="",n=BP(n),this.settings=o;const i=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const m=n.indexOf("//")===0;if(n.indexOf("/")===0&&!m&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const _=i?i.path:new Sd(document.location.href).directory;if((i==null?void 0:i.protocol)==="")n="//mce_host"+c.toAbsPath(_,n);else{const A=/([^#?]*)([#?]?.*)/.exec(n);A&&(n=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(_,A[1])+A[2])}}n=n.replace(/@@/g,"(mce_at)");const p=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);p&&MP(nV,(_,A)=>{let $=p[A];$&&($=$.replace(/\(mce_at\)/g,"@@")),c[_]=$}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),m&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Sd(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const i=this.getURI(),c=o.getURI();if(i===c||i.charAt(i.length-1)==="/"&&i.substr(0,i.length-1)===c)return i;let m=this.toRelPath(this.path,o.path);return o.query&&(m+="?"+o.query),o.anchor&&(m+="#"+o.anchor),m}toAbsolute(n,o){const i=new Sd(n,{base_uri:this});return i.getURI(o&&this.isSameOrigin(i))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?oV[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let i=0,c="",m,p;const _=n.substring(0,n.lastIndexOf("/")).split("/"),A=o.split("/");if(_.length>=A.length){for(m=0,p=_.length;m<p;m++)if(m>=A.length||_[m]!==A[m]){i=m+1;break}}if(_.length<A.length){for(m=0,p=A.length;m<p;m++)if(m>=_.length||_[m]!==A[m]){i=m+1;break}}if(i===1)return o;for(m=0,p=_.length-(i-1);m<p;m++)c+="../";for(m=i-1,p=A.length;m<p;m++)m!==i-1?c+="/"+A[m]:c+=A[m];return c}toAbsPath(n,o){let i=0;const c=/\/$/.test(o)?"/":"",m=n.split("/"),p=o.split("/"),_=[];MP(m,X=>{X&&_.push(X)});const A=[];for(let X=p.length-1;X>=0;X--)if(!(p[X].length===0||p[X]===".")){if(p[X]===".."){i++;continue}if(i>0){i--;continue}A.push(p[X])}const $=_.length-i;let q;return $<=0?q=Zr(A).join("/"):q=_.slice(0,$).join("/")+"/"+Zr(A).join("/"),q.indexOf("/")!==0&&(q="/"+q),c&&q.lastIndexOf("/")!==q.length-1&&(q+=c),q}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const sV=tn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),u4="data-mce-type";let VP=0;const zP=(e,n,o,i,c)=>{var m,p,_,A;const $=n.validate,q=o.getSpecialElements();e.nodeType===Df&&!n.allow_conditional_comments&&/^\[if/i.test((m=e.nodeValue)!==null&&m!==void 0?m:"")&&(e.nodeValue=" "+e.nodeValue);const X=(p=c==null?void 0:c.tagName)!==null&&p!==void 0?p:e.nodeName.toLowerCase();if(i!=="html"&&o.isValid(i)){Oe(c)&&(c.allowedTags[X]=!0);return}if(e.nodeType!==Sl||X==="body")return;const ne=Ue.fromDom(e),ve=Hd(ne,u4),Ee=Ta(ne,"data-mce-bogus");if(!ve&&ae(Ee)){Ee==="all"?Pr(ne):Ua(ne);return}const ye=o.getElementRule(X);if($&&!ye){fo(q,X)?Pr(ne):Ua(ne);return}else Oe(c)&&(c.allowedTags[X]=!0);if($&&ye&&!ve){if(be((_=ye.attributesForced)!==null&&_!==void 0?_:[],Ie=>{_i(ne,Ie.name,Ie.value==="{$uid}"?`mce_${VP++}`:Ie.value)}),be((A=ye.attributesDefault)!==null&&A!==void 0?A:[],Ie=>{Hd(ne,Ie.name)||_i(ne,Ie.name,Ie.value==="{$uid}"?`mce_${VP++}`:Ie.value)}),ye.attributesRequired&&!Ae(ye.attributesRequired,Ie=>Hd(ne,Ie))){Ua(ne);return}if(ye.removeEmptyAttrs&&di(ne)){Ua(ne);return}ye.outputName&&ye.outputName!==X&&u2(ne,ye.outputName)}},iV=(e,n,o,i,c)=>{const m=e.tagName.toLowerCase(),{attrName:p,attrValue:_}=c;c.keepAttr=Vw(n,o,i,m,p,_),c.keepAttr?(c.allowedAttributes[p]=!0,f4(p,o)&&(c.attrValue=p),n.allow_svg_data_urls&&cs(_,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):d4(e,p)&&(c.forceKeepAttr=!0)},Vw=(e,n,o,i,c,m)=>o!=="html"&&!Gm(i)?!0:!(c in sV&&c4(e,m,i))&&(!e.validate||n.isValid(i,c)||cs(c,"data-")||cs(c,"aria-")),d4=(e,n)=>e.hasAttribute(u4)&&(n==="id"||n==="class"||n==="style"),f4=(e,n)=>e in n.getBoolAttrs(),HP=(e,n,o,i)=>{const{attributes:c}=e;for(let m=c.length-1;m>=0;m--){const p=c[m],_=p.name,A=p.value;!Vw(n,o,i,e.tagName.toLowerCase(),_,A)&&!d4(e,_)?e.removeAttribute(_):f4(_,o)&&e.setAttribute(_,_)}},aV=(e,n,o)=>{const i=l4();return i.addHook("uponSanitizeElement",(c,m)=>{zP(c,e,n,o.track(c),m)}),i.addHook("uponSanitizeAttribute",(c,m)=>{iV(c,e,n,o.current(),m)}),i},lV=(e,n)=>{const i={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return i.PARSER_MEDIA_TYPE=n,e.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},UP=e=>{const n=GC(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),i={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};l4().sanitize(e,i)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};l4().sanitize(e,o)}else throw new Error("Not a namespace element")},cV=(e,n)=>{const o=FE();if(e.sanitize){const i=aV(e,n,o);return{sanitizeHtmlElement:(m,p)=>{i.sanitize(m,lV(e,p)),i.removed=[],o.reset()},sanitizeNamespaceElement:UP}}else return{sanitizeHtmlElement:(m,p)=>{const _=document.createNodeIterator(m,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let A;for(;A=_.nextNode();){const $=o.track(A);zP(A,e,n,$),Nn(A)&&HP(A,e,n,$)}o.reset()},sanitizeNamespaceElement:lt}},ak=tn.makeMap,m4=tn.extend,WP=(e,n,o,i)=>{const c=e.name,m=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",p=n.childNodes;for(let _=0,A=p.length;_<A;_++){const $=p[_],q=new Na($.nodeName.toLowerCase(),$.nodeType);if(Nn($)){const X=$.attributes;for(let ne=0,ve=X.length;ne<ve;ne++){const Ee=X[ne];q.attr(Ee.name,Ee.value)}Gm(q.name)&&(i($),q.value=$.innerHTML)}else jt($)?(q.value=$.data,m&&(q.raw=!0)):(No($)||Px($)||zf($))&&(q.value=$.data);Gm(q.name)||WP(q,$,o,i),e.append(q)}},ya=(e,n,o)=>{const i=[];for(let c=e,m=c;c;m=c,c=c.walk()){const p=c;be(n,_=>_(p)),rt(p.parent)&&p!==e?c=m:i.push(p)}for(let c=i.length-1;c>=0;c--){const m=i[c];be(o,p=>p(m))}},Ag=(e,n,o,i)=>{const c=o.validate,m=n.getNonEmptyElements(),p=n.getWhitespaceElements(),_=m4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),A=I0(n),$=/[ \t\r\n]+/g,q=/^[ \t\r\n]+/,X=/[ \t\r\n]+$/,ne=ot=>{let tt=ot.parent;for(;Oe(tt);){if(tt.name in p)return!0;tt=tt.parent}return!1},ve=ot=>{let tt=ot;for(;Oe(tt);){if(tt.name in A)return Ny(n,m,p,tt);tt=tt.parent}return!1},Ee=ot=>ot.name in _||Ip(n,ot)||Gm(ot.name)&&ot.parent===e,ye=(ot,tt)=>{const bt=tt?ot.prev:ot.next;return Oe(bt)||rt(ot.parent)?!1:Ee(ot.parent)&&(ot.parent!==e||i.isRootContent===!0)};return[ot=>{var tt;if(ot.type===3&&!ne(ot)){let bt=(tt=ot.value)!==null&&tt!==void 0?tt:"";bt=bt.replace($," "),(D5(ot.prev,Ee)||ye(ot,!0))&&(bt=bt.replace(q,"")),bt.length===0||bt===" "&&ot.prev&&ot.prev.type===Df&&ot.next&&ot.next.type===Df?ot.remove():ot.value=bt}},ot=>{var tt;if(ot.type===1){const bt=n.getElementRule(ot.name);if(c&&bt){const Vt=Ny(n,m,p,ot);bt.paddInEmptyBlock&&Vt&&ve(ot)?IS(o,i,Ee,ot):bt.removeEmpty&&Vt?Ee(ot)?ot.remove():ot.unwrap():bt.paddEmpty&&(Vt||NS(ot))&&IS(o,i,Ee,ot)}}else if(ot.type===3&&!ne(ot)){let bt=(tt=ot.value)!==null&&tt!==void 0?tt:"";(ot.next&&Ee(ot.next)||ye(ot,!1))&&(bt=bt.replace(X,"")),bt.length===0?ot.remove():ot.value=bt}}]},uV=(e,n)=>{var o;const i=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return i===!1?"":i===!0?"p":i},$y=(e={},n=Wc())=>{const o=ek(),i=ek(),c={validate:!0,root_name:"body",sanitize:!0,...e},m=new DOMParser,p=cV(c,n),_=(tt,bt,Vt="html")=>{const en=Vt==="xhtml"?"application/xhtml+xml":"text/html",wn=fo(n.getSpecialElements(),bt.toLowerCase()),Rt=wn?`<${bt}>${tt}</${bt}>`:tt,Ct=()=>Vt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Rt}</body></html>`:/^[\s]*<head/i.test(tt)||/^[\s]*<html/i.test(tt)||/^[\s]*<!DOCTYPE/i.test(tt)?`<html>${Rt}</html>`:`<body>${Rt}</body>`,Ft=m.parseFromString(Ct(),en).body;return p.sanitizeHtmlElement(Ft,en),wn?Ft.firstChild:Ft},A=o.addFilter,$=o.getFilters,q=o.removeFilter,X=i.addFilter,ne=i.getFilters,ve=i.removeFilter,Ee=(tt,bt)=>{Tw(n,tt)&&bt.push(tt)},ye=(tt,bt)=>{const Vt=ae(bt.attr(u4)),en=bt.type===1&&!fo(tt,bt.name)&&!Ip(n,bt)&&!Gm(bt.name);return bt.type===3||en&&!Vt},Ie=(tt,bt)=>{const Vt=m4(ak("script,style,head,html,body,title,meta,param"),n.getBlockElements()),en=/^[ \t\r\n]+/,wn=/[ \t\r\n]+$/;let Rt=tt.firstChild,Ct=null;const Ft=Dn=>{var Wn,$o;Dn&&(Rt=Dn.firstChild,Rt&&Rt.type===3&&(Rt.value=(Wn=Rt.value)===null||Wn===void 0?void 0:Wn.replace(en,"")),Rt=Dn.lastChild,Rt&&Rt.type===3&&(Rt.value=($o=Rt.value)===null||$o===void 0?void 0:$o.replace(wn,"")))};if(n.isValidChild(tt.name,bt.toLowerCase())){for(;Rt;){const Dn=Rt.next;ye(Vt,Rt)?(Ct||(Ct=new Na(bt,1),Ct.attr(c.forced_root_block_attrs),tt.insert(Ct,Rt)),Ct.append(Rt)):(Ft(Ct),Ct=null),Rt=Dn}Ft(Ct)}},ot={schema:n,addAttributeFilter:X,getAttributeFilters:ne,removeAttributeFilter:ve,addNodeFilter:A,getNodeFilters:$,removeNodeFilter:q,parse:(tt,bt={})=>{var Vt;const en=c.validate,wn=(Vt=bt.context)!==null&&Vt!==void 0?Vt:c.root_name,Rt=_(tt,wn,bt.format);Zs(n,Rt);const Ct=new Na(wn,11);WP(Ct,Rt,n.getSpecialElements(),p.sanitizeNamespaceElement),Rt.innerHTML="";const[Ft,Dn]=Ag(Ct,n,c,bt),Wn=[],$o=en?gi=>Ee(gi,Wn):lt,jo={nodes:{},attributes:{}},Lr=gi=>t3($(),ne(),gi,jo);if(ya(Ct,[Ft,Lr],[Dn,$o]),Wn.reverse(),en&&Wn.length>0)if(bt.context){const{pass:gi,fail:Ll}=Ne(Wn,Qr=>Qr.parent===Ct);Pu(Ll,n,Ct,Lr),bt.invalid=gi.length>0}else Pu(Wn,n,Ct,Lr);const Kr=uV(c,bt);return Kr&&(Ct.name==="body"||bt.isRootContent)&&Ie(Ct,Kr),bt.invalid||n3(jo,bt),Ct}};return Z$(ot,c),z$(ot,c,n),ot},dV=e=>y1(e)?Vh({validate:!1}).serialize(e):e,g4=(e,n,o)=>{const i=dV(e),c=n(i);if(c.isDefaultPrevented())return c;if(y1(e))if(c.content!==i){const m=$y({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:m}}else return{...c,content:e};else return c},_1=e=>({sanitize:WR(e),sandbox_iframes:pA(e),sandbox_iframes_exclusions:x_(e)}),KP=(e,n)=>{if(n.no_events)return no.value(n);{const o=um(e,n);return o.isDefaultPrevented()?no.error(ZI(e,{content:"",...o}).content):no.value(o)}},gf=(e,n,o)=>o.no_events?n:g4(n,c=>ZI(e,{...o,content:c}),_1(e)).content,h4=(e,n)=>{if(n.no_events)return no.value(n);{const o=g4(n.content,i=>l7(e,{...n,content:i}),_1(e));return o.isDefaultPrevented()?(vc(e,o),no.error(void 0)):no.value(o)}},p4=(e,n,o)=>{o.no_events||vc(e,{...o,content:n})},lk=(e,n,o)=>({element:e,width:n,rows:o}),b4=(e,n)=>({element:e,cells:n}),fV=(e,n)=>({x:e,y:n}),ck=(e,n)=>du(e,n).bind(mn).getOr(1),Tg=(e,n,o,i,c)=>{const m=ck(c,"rowspan"),p=ck(c,"colspan"),_=e.rows;for(let A=o;A<o+m;A++){_[A]||(_[A]=b4(og(i),[]));for(let $=n;$<n+p;$++){const q=_[A].cells;q[$]=A===o&&$===n?c:qs(c)}}},jP=(e,n,o)=>{const i=e.rows;return!!(i[o]?i[o].cells:[])[n]},ZP=(e,n,o)=>{for(;jP(e,n,o);)n++;return n},zw=e=>sn(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),uk=(e,n)=>{const o=e.rows;for(let i=0;i<o.length;i++){const c=o[i].cells;for(let m=0;m<c.length;m++)if(tr(c[m],n))return Q.some(fV(m,i))}return Q.none()},v4=(e,n,o,i,c)=>{const m=[],p=e.rows;for(let _=o;_<=c;_++){const A=p[_].cells,$=n<i?A.slice(n,i+1):A.slice(i,n+1);m.push(b4(p[_].element,$))}return m},GP=(e,n,o)=>{const i=n.x,c=n.y,m=o.x,p=o.y,_=c<p?v4(e,i,c,m,p):v4(e,i,p,m,c);return lk(e.element,zw(_),_)},qP=(e,n)=>{const o=qs(e.element),i=Ue.fromTag("tbody");return ri(i,n),Ws(o,i),o},mV=e=>$e(e.rows,n=>{const o=$e(n.cells,c=>{const m=og(c);return Lo(m,"colspan"),Lo(m,"rowspan"),m}),i=qs(n.element);return ri(i,o),i}),gV=e=>{const n=lk(qs(e),0,[]);return be(vi(e,"tr"),(o,i)=>{be(vi(o,"td,th"),(c,m)=>{Tg(n,ZP(n,m,i),i,o,c)})}),lk(n.element,zw(n.rows),n.rows)},hV=e=>qP(e,mV(e)),YP=(e,n,o)=>uk(e,n).bind(i=>uk(e,o).map(c=>GP(e,i,c))),XP=e=>bn(e,n=>er(n)==="ul"||er(n)==="ol"),pV=(e,n)=>bn(e,o=>er(o)==="li"&&H2(o,n)).fold(ct([]),o=>XP(e).map(i=>{const c=Ue.fromTag(er(i)),m=Rc(ah(i),(p,_)=>cs(_,"list-style"));return qo(c,m),[Ue.fromTag("li"),c]}).getOr([])),y4=(e,n)=>{const o=sn(n,(i,c)=>(Ws(c,i),c),e);return n.length>0?Jc([o]):o},JP=e=>sg(e)?ua(e).filter(Iv).fold(ct([]),n=>[e,n]):Iv(e)?[e]:[],bV=(e,n,o)=>{const i=Ue.fromDom(n.commonAncestorContainer),c=eu(i,e),m=je(c,A=>o.isWrapper(er(A))),p=pV(c,n),_=m.concat(p.length?p:JP(i));return $e(_,qs)},x4=()=>Jc([]),vV=(e,n,o)=>y4(Ue.fromDom(n.cloneContents()),bV(e,n,o)),yV=(e,n)=>pu(n,"table",Qe(tr,e)),Nl=(e,n)=>yV(e,n[0]).bind(o=>{const i=n[0],c=n[n.length-1],m=gV(o);return YP(m,i,c).map(p=>Jc([hV(p)]))}).getOrThunk(x4),xV=(e,n,o)=>n.length>0&&n[0].collapsed?x4():vV(e,n[0],o),wV=(e,n,o)=>{const i=TI(n,e);return i.length>0?Nl(e,i):xV(e,n,o)},dk=(e,n)=>n>=0&&n<e.length&&t1(e.charAt(n)),QP=e=>Dl(e.innerText),fk=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),CV=e=>Q.from(e.selection.getRng()).map(n=>{var o;const i=Q.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),m=fk(i),p=Ue.fromDom(n.cloneContents());MN(p),BN(p);const _=e.dom.add(c,m,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},p.dom),A=QP(_),$=Dl((o=_.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(_),dk($,0)||dk($,$.length-1)){const q=i.getOr(c),X=QP(q),ne=X.indexOf(A);if(ne===-1)return A;{const ve=dk(X,ne-1),Ee=dk(X,ne+A.length);return(ve?" ":"")+A+(Ee?" ":"")}}else return A}).getOr(""),w4=(e,n)=>{const o=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),m=iS(e,bs(c)),p=n.contextual?wV(Ue.fromDom(e.getBody()),m,e.schema).dom:o.cloneContents();return p&&i.appendChild(p),e.selection.serializer.serialize(i,n)},C4=(e,n)=>{if(n.format==="text")return CV(e);{const o=w4(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},_V=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),SV=(e,n,o={})=>{const i=_V(o,n);return KP(e,i).fold(kn,c=>{const m=C4(e,c);return gf(e,m,c)})},kd=0,_4=1,eL=2,S4=(e,n)=>{const o=e.length+n.length+2,i=new Array(o),c=new Array(o),m=(q,X,ne)=>({start:q,end:X,diag:ne}),p=(q,X,ne,ve,Ee)=>{const ye=A(q,X,ne,ve);if(ye===null||ye.start===X&&ye.diag===X-ve||ye.end===q&&ye.diag===q-ne){let Ie=q,Ge=ne;for(;Ie<X||Ge<ve;)Ie<X&&Ge<ve&&e[Ie]===n[Ge]?(Ee.push([kd,e[Ie]]),++Ie,++Ge):X-q>ve-ne?(Ee.push([eL,e[Ie]]),++Ie):(Ee.push([_4,n[Ge]]),++Ge)}else{p(q,ye.start,ne,ye.start-ye.diag,Ee);for(let Ie=ye.start;Ie<ye.end;++Ie)Ee.push([kd,e[Ie]]);p(ye.end,X,ye.end-ye.diag,ve,Ee)}},_=(q,X,ne,ve)=>{let Ee=q;for(;Ee-X<ve&&Ee<ne&&e[Ee]===n[Ee-X];)++Ee;return m(q,Ee,X)},A=(q,X,ne,ve)=>{const Ee=X-q,ye=ve-ne;if(Ee===0||ye===0)return null;const Ie=Ee-ye,Ge=ye+Ee,ot=(Ge%2===0?Ge:Ge+1)/2;i[1+ot]=q,c[1+ot]=X+1;let tt,bt,Vt,en,wn;for(tt=0;tt<=ot;++tt){for(bt=-tt;bt<=tt;bt+=2){for(Vt=bt+ot,bt===-tt||bt!==tt&&i[Vt-1]<i[Vt+1]?i[Vt]=i[Vt+1]:i[Vt]=i[Vt-1]+1,en=i[Vt],wn=en-q+ne-bt;en<X&&wn<ve&&e[en]===n[wn];)i[Vt]=++en,++wn;if(Ie%2!==0&&Ie-tt<=bt&&bt<=Ie+tt&&c[Vt-Ie]<=i[Vt])return _(c[Vt-Ie],bt+q-ne,X,ve)}for(bt=Ie-tt;bt<=Ie+tt;bt+=2){for(Vt=bt+ot-Ie,bt===Ie-tt||bt!==Ie+tt&&c[Vt+1]<=c[Vt-1]?c[Vt]=c[Vt+1]-1:c[Vt]=c[Vt-1],en=c[Vt]-1,wn=en-q+ne-bt;en>=q&&wn>=ne&&e[en]===n[wn];)c[Vt]=en--,wn--;if(Ie%2===0&&-tt<=bt&&bt<=tt&&c[Vt]<=i[Vt+Ie])return _(c[Vt],bt+q-ne,X,ve)}}return null},$=[];return p(0,e.length,0,n.length,$),$},k4=e=>Nn(e)?e.outerHTML:jt(e)?hh.encodeRaw(e.data,!1):No(e)?"<!--"+e.data+"-->":"",mk=e=>{let n;const o=document.createElement("div"),i=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)i.appendChild(n);return i},tL=(e,n,o)=>{const i=mk(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(i,c)}else e.appendChild(i)},nL=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},oL=(e,n)=>{let o=0;be(e,i=>{i[0]===kd?o++:i[0]===_4?(tL(n,i[1],o),o++):i[0]===eL&&nL(n,o)})},kV=(e,n)=>je($e(Oo(e.childNodes),zt(Dl,k4)),o=>o.length>0),EV=(e,n)=>{const o=$e(Oo(n.childNodes),k4);return oL(S4(o,e),n),n},E4=zl(()=>document.implementation.createHTMLDocument("undo")),AV=e=>e.querySelector("iframe")!==null,TV=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),gk=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Vy=e=>{const n=e.serializer.getTempAttrs(),o=gT(e.getBody(),n);return AV(o)?TV(kV(o)):gk(Dl(o.innerHTML))},Hw=(e,n,o)=>{const i=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?EV(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Oe(i)&&xI(i)?!i.isFakeCaret:!0}),i&&(e.selection.moveToBookmark(i),e.selection.scrollIntoView())},hk=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Zh=e=>{const n=Ue.fromTag("body",E4());return Um(n,hk(e)),be(vi(n,"*[data-mce-bogus]"),Ua),Zd(n)},OV=(e,n)=>hk(e)===hk(n),DV=(e,n)=>Zh(e)===Zh(n),zy=(e,n)=>!e||!n?!1:OV(e,n)?!0:DV(e,n),pk=e=>e.get()===0,Uw=(e,n,o)=>{pk(o)&&(e.typing=n)},A4=(e,n)=>{e.typing&&(Uw(e,!1,n),e.add())},RV=e=>{e.typing&&(e.typing=!1,e.add())},IV=(e,n,o)=>{pk(n)&&o.set(Sn(e.selection))},T4=(e,n,o,i,c,m,p)=>{const _=Vy(e),A=tn.extend(m||{},_);if(!pk(i)||e.removed)return null;const $=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:A,lastLevel:$,originalEvent:p}).isDefaultPrevented()||$&&zy($,A))return null;n.data[o.get()]&&c.get().each(ne=>{n.data[o.get()].beforeBookmark=ne});const q=BR(e);if(q&&n.data.length>q){for(let ne=0;ne<n.data.length-1;ne++)n.data[ne]=n.data[ne+1];n.data.length--,o.set(n.data.length)}A.bookmark=Sn(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(A),o.set(n.data.length-1);const X={level:A,lastLevel:$,originalEvent:p};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",X),e.dispatch("change",X)):e.dispatch("AddUndo",X),A},O4=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},D4=(e,n,o,i,c)=>{if(n.transact(i)){const m=n.data[o.get()].bookmark,p=n.data[o.get()-1];Hw(e,p,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=m)}},rL=(e,n,o)=>{let i;return n.get()<o.length-1&&(n.set(n.get()+1),i=o[n.get()],Hw(e,i,!1),e.setDirty(!0),e.dispatch("Redo",{level:i})),i},bk=(e,n,o,i)=>{let c;return n.typing&&(n.add(),n.typing=!1,Uw(n,!1,o)),i.get()>0&&(i.set(i.get()-1),c=n.data[i.get()],Hw(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},sL=e=>{e.clear(),e.add()},iL=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!zy(Vy(e),n.data[0]),NV=(e,n)=>n.get()<e.data.length-1&&!e.typing,PV=(e,n,o)=>(A4(e,n),e.beforeChange(),e.ignore(o),e.add()),R4=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},aL=(e,n)=>{const o=e.dom,i=Oe(n)?n:e.getBody();be(o.select("table,a",i),c=>{switch(c.nodeName){case"TABLE":const m=v_(e),p=o.getAttrib(c,"border");(!p||p==="0")&&e.hasVisual?o.addClass(c,m):o.removeClass(c,m);break;case"A":if(!o.getAttrib(c,"href")){const _=o.getAttrib(c,"name")||c.id,A=uy(e);_&&e.hasVisual?o.addClass(c,A):o.removeClass(c,A)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},I4=e=>({init:{bindEvents:lt},undoManager:{beforeChange:(n,o)=>IV(e,n,o),add:(n,o,i,c,m,p)=>T4(e,n,o,i,c,m,p),undo:(n,o,i)=>bk(e,n,o,i),redo:(n,o)=>rL(e,n,o),clear:(n,o)=>O4(e,n,o),reset:n=>sL(n),hasUndo:(n,o)=>iL(e,n,o),hasRedo:(n,o)=>NV(n,o),transact:(n,o,i)=>PV(n,o,i),ignore:(n,o)=>R4(n,o),extra:(n,o,i,c)=>D4(e,n,o,i,c)},formatter:{match:(n,o,i,c)=>fb(e,n,o,i,c),matchAll:(n,o)=>W5(e,n,o),matchNode:(n,o,i,c)=>Sg(e,n,o,i,c),canApply:n=>j5(e,n),closest:n=>K5(e,n),apply:(n,o,i)=>dP(e,n,o,i),remove:(n,o,i,c)=>pb(e,n,o,i,c),toggle:(n,o,i)=>B$(e,n,o,i),formatChanged:(n,o,i,c,m)=>M$(e,n,o,i,c,m)},editor:{getContent:n=>VN(e,n),setContent:(n,o)=>T$(e,n,o),insertContent:(n,o)=>HS(e,n,o),addVisual:n=>aL(e,n)},selection:{getContent:(n,o)=>SV(e,n,o)},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:()=>Q.none()}}),LV=e=>{const n=$=>U($)?$:{},{init:o,undoManager:i,formatter:c,editor:m,selection:p,autocompleter:_,raw:A}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:($,q,X)=>i.transact(X),ignore:($,q)=>i.ignore(q),extra:($,q,X,ne)=>i.extra(X,ne)},formatter:{match:($,q,X,ne)=>c.match($,n(q),ne),matchAll:c.matchAll,matchNode:c.matchNode,canApply:$=>c.canApply($),closest:$=>c.closest($),apply:($,q,X)=>c.apply($,n(q)),remove:($,q,X,ne)=>c.remove($,n(q)),toggle:($,q,X)=>c.toggle($,n(q)),formatChanged:($,q,X,ne,ve)=>c.formatChanged(q,X,ne,ve)},editor:{getContent:$=>m.getContent($),setContent:($,q)=>({content:m.setContent($,q),html:""}),insertContent:($,q)=>(m.insertContent($),""),addVisual:m.addVisual},selection:{getContent:($,q)=>p.getContent(q)},autocompleter:{addDecoration:_.addDecoration,removeDecoration:_.removeDecoration},raw:{getModel:()=>Q.some(A.getRawModel())}}},MV=()=>{const e=ct(null),n=ct("");return{init:{bindEvents:lt},undoManager:{beforeChange:lt,add:e,undo:e,redo:e,clear:lt,reset:lt,hasUndo:Tn,hasRedo:Tn,transact:e,ignore:lt,extra:lt},formatter:{match:Tn,matchAll:ct([]),matchNode:ct(void 0),canApply:Tn,closest:n,apply:lt,remove:lt,toggle:lt,formatChanged:ct({unbind:lt})},editor:{getContent:n,setContent:ct({content:"",html:""}),insertContent:ct(""),addVisual:lt},selection:{getContent:n},autocompleter:{addDecoration:lt,removeDecoration:lt},raw:{getModel:ct(Q.none())}}},Og=e=>fo(e.plugins,"rtc"),lL=e=>Nr(e.plugins,"rtc").bind(n=>Q.from(n.setup)),cL=e=>{const n=e;return lL(e).fold(()=>(n.rtcInstance=I4(e),Q.none()),o=>(n.rtcInstance=MV(),Q.some(()=>o().then(i=>(n.rtcInstance=LV(i),i.rtc.isRemote)))))},N4=e=>e.rtcInstance?e.rtcInstance:I4(e),xa=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},Hy=(e,n,o)=>{xa(e).undoManager.beforeChange(n,o)},BV=(e,n,o,i,c,m,p)=>xa(e).undoManager.add(n,o,i,c,m,p),FV=(e,n,o,i)=>xa(e).undoManager.undo(n,o,i),uL=(e,n,o)=>xa(e).undoManager.redo(n,o),dL=(e,n,o)=>{xa(e).undoManager.clear(n,o)},vk=(e,n)=>{xa(e).undoManager.reset(n)},$V=(e,n,o)=>xa(e).undoManager.hasUndo(n,o),VV=(e,n,o)=>xa(e).undoManager.hasRedo(n,o),zV=(e,n,o,i)=>xa(e).undoManager.transact(n,o,i),HV=(e,n,o)=>{xa(e).undoManager.ignore(n,o)},UV=(e,n,o,i,c)=>{xa(e).undoManager.extra(n,o,i,c)},WV=(e,n,o,i,c)=>xa(e).formatter.match(n,o,i,c),KV=(e,n,o)=>xa(e).formatter.matchAll(n,o),jV=(e,n,o,i,c)=>xa(e).formatter.matchNode(n,o,i,c),ZV=(e,n)=>xa(e).formatter.canApply(n),GV=(e,n)=>xa(e).formatter.closest(n),rs=(e,n,o,i)=>{xa(e).formatter.apply(n,o,i)},fL=(e,n,o,i,c)=>{xa(e).formatter.remove(n,o,i,c)},P4=(e,n,o,i)=>{xa(e).formatter.toggle(n,o,i)},mL=(e,n,o,i,c,m)=>xa(e).formatter.formatChanged(n,o,i,c,m),gL=(e,n)=>N4(e).editor.getContent(n),L4=(e,n,o)=>N4(e).editor.setContent(n,o),qV=(e,n,o)=>N4(e).editor.insertContent(n,o),YV=(e,n,o)=>xa(e).selection.getContent(n,o),hL=(e,n)=>xa(e).editor.addVisual(n),pL=e=>xa(e).init.bindEvents(),XV=(e,n={})=>{const o=n.format?n.format:"html";return YV(e,o,n)},S1=e=>e.dom.length===0?(Pr(e),Q.none()):Q.some(e),JV=(e,n)=>e.filter(o=>Gr.isBookmarkNode(o.dom)).bind(n?Gn:Si),Uy=(e,n,o,i,c)=>{const m=e.dom,p=n.dom,_=i?m.length:p.length;i?(ww(m,p,c,!1,!i),o.setStart(p,_)):(ww(p,m,c,!1,!i),o.setEnd(p,_))},Ww=(e,n,o)=>{ua(e).each(i=>{const c=e.dom;n&&Oy(i,St(c,0),o)?pS(c,0,o):!n&&h1(i,St(c,c.length),o)&&Vs(c,c.length,o)})},k1=(e,n,o,i,c)=>{e.bind(m=>((i?Vs:pS)(m.dom,i?m.dom.length:0,c),n.filter(us).map(_=>Uy(m,_,o,i,c)))).orThunk(()=>JV(n,i).or(n).filter(us).map(p=>Ww(p,i,c)))},M4=(e,n,o)=>{const i=Q.from(n.firstChild).map(Ue.fromDom),c=Q.from(n.lastChild).map(Ue.fromDom);e.deleteContents(),e.insertNode(n);const m=i.bind(Si).filter(us).bind(S1),p=c.bind(Gn).filter(us).bind(S1);k1(m,i,e,!0,o),k1(p,c,e,!1,o),e.collapse(!1)},bL=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),vL=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),i=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},m=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return Vh({validate:!1},e.schema).serialize(m)}else return n.content},B4=(e,n,o={})=>{const i=bL(o,n);h4(e,i).each(c=>{const m=vL(e,c),p=e.selection.getRng();M4(p,p.createContextualFragment(m),e.schema),e.selection.setRng(p),pd(e,p),p4(e,m,c)})},F4=(e,n,o)=>{if(fo(e,n)){const i=je(e[n],c=>c!==o);i.length===0?delete e[n]:e[n]=i}};var yL=(e,n)=>{let o,i;const c=(_,A)=>bn(A,$=>e.is($,_)),m=_=>e.getParents(_,void 0,e.getRoot()),p=()=>{o={},i={},n.on("NodeChange",_=>{const A=_.element,$=m(A),q={};ur(o,(X,ne)=>{c(ne,$).each(ve=>{i[ne]||(be(X,Ee=>{Ee(!0,{node:ve,selector:ne,parents:$})}),i[ne]=X),q[ne]=X})}),ur(i,(X,ne)=>{q[ne]||(delete i[ne],be(X,ve=>{ve(!1,{node:A,selector:ne,parents:$})}))})})};return{selectorChangedWithUnbind:(_,A)=>(o||p(),o[_]||(o[_]=[]),o[_].push(A),c(_,m(n.selection.getStart())).each(()=>{i[_]=o[_]}),{unbind:()=>{F4(o,_,A),F4(i,_,A)}})}};const $4=e=>!!(e&&e.ownerDocument)&&ca(Ue.fromDom(e.ownerDocument),Ue.fromDom(e)),V4=e=>e?$4(e.startContainer)&&$4(e.endContainer):!1,z4=(e,n,o,i)=>{let c,m;const{selectorChangedWithUnbind:p}=yL(e,i),_=(ln,Vn)=>{const _r=e.createRng();Oe(ln)&&Oe(Vn)?(_r.setStart(ln,Vn),_r.setEnd(ln,Vn),bt(_r),Ge(!1)):(U2(e,_r,i.getBody(),!0),bt(_r))},A=ln=>XV(i,ln),$=(ln,Vn)=>B4(i,ln,Vn),q=ln=>ON(i.getBody(),tt(),ln),X=ln=>DN(i.getBody(),tt(),ln),ne=(ln,Vn)=>Ll.getBookmark(ln,Vn),ve=ln=>Ll.moveToBookmark(ln),Ee=(ln,Vn)=>(gw(e,ln,Vn).each(bt),ln),ye=()=>{const ln=tt(),Vn=ot();return!ln||ln.item?!1:ln.compareEndPoints?ln.compareEndPoints("StartToEnd",ln)===0:!Vn||ln.collapsed},Ie=()=>{const ln=tt(),Vn=i.getBody().querySelectorAll('[data-mce-selected="1"]');return Vn.length>0?Ro(Vn,_r=>e.isEditable(_r.parentElement)):AN(e,ln)},Ge=ln=>{const Vn=tt();Vn.collapse(!!ln),bt(Vn)},ot=()=>n.getSelection?n.getSelection():n.document.selection,tt=()=>{let ln;const Vn=(fn,Qn,Wo)=>{try{return Qn.compareBoundaryPoints(fn,Wo)}catch{return-1}},_r=n.document;if(Oe(i.bookmark)&&!Cy(i)){const fn=aT(i);if(fn.isSome())return fn.map(Qn=>iS(i,[Qn])[0]).getOr(_r.createRange())}try{const fn=ot();fn&&!Ff(fn.anchorNode)&&(fn.rangeCount>0?ln=fn.getRangeAt(0):ln=_r.createRange(),ln=iS(i,[ln])[0])}catch{}if(ln||(ln=_r.createRange()),Mn(ln.startContainer)&&ln.collapsed){const fn=e.getRoot();ln.setStart(fn,0),ln.setEnd(fn,0)}return c&&m&&(Vn(ln.START_TO_START,ln,c)===0&&Vn(ln.END_TO_END,ln,c)===0?ln=m:(c=null,m=null)),ln},bt=(ln,Vn)=>{if(!V4(ln))return;const _r=ot();if(ln=i.dispatch("SetSelectionRange",{range:ln,forward:Vn}).range,_r){m=ln;try{_r.removeAllRanges(),_r.addRange(ln)}catch{}Vn===!1&&_r.extend&&(_r.collapse(ln.endContainer,ln.endOffset),_r.extend(ln.startContainer,ln.startOffset)),c=_r.rangeCount>0?_r.getRangeAt(0):null}if(!ln.collapsed&&ln.startContainer===ln.endContainer&&(_r!=null&&_r.setBaseAndExtent)&&ln.endOffset-ln.startOffset<2&&ln.startContainer.hasChildNodes()){const Qn=ln.startContainer.childNodes[ln.startOffset];Qn&&Qn.nodeName==="IMG"&&(_r.setBaseAndExtent(ln.startContainer,ln.startOffset,ln.endContainer,ln.endOffset),(_r.anchorNode!==ln.startContainer||_r.focusNode!==ln.endContainer)&&_r.setBaseAndExtent(Qn,0,Qn,1))}i.dispatch("AfterSetSelectionRange",{range:ln,forward:Vn})},Vt=ln=>($(e.getOuterHTML(ln)),ln),en=()=>H7(i.getBody(),tt()),wn=(ln,Vn)=>fT(e,tt(),ln,Vn),Rt=()=>{const ln=ot(),Vn=ln==null?void 0:ln.anchorNode,_r=ln==null?void 0:ln.focusNode;if(!ln||!Vn||!_r||Ff(Vn)||Ff(_r))return!0;const fn=e.createRng(),Qn=e.createRng();try{fn.setStart(Vn,ln.anchorOffset),fn.collapse(!0),Qn.setStart(_r,ln.focusOffset),Qn.collapse(!0)}catch{return!0}return fn.compareBoundaryPoints(fn.START_TO_START,Qn)<=0},gi={dom:e,win:n,serializer:o,editor:i,expand:(ln={type:"word"})=>bt(nb(e).expand(tt(),ln)),collapse:Ge,setCursorLocation:_,getContent:A,setContent:$,getBookmark:ne,moveToBookmark:ve,select:Ee,isCollapsed:ye,isEditable:Ie,isForward:Rt,setNode:Vt,getNode:en,getSel:ot,setRng:bt,getRng:tt,getStart:q,getEnd:X,getSelectedBlocks:wn,normalize:()=>{const ln=tt(),Vn=ot();if(!$2(Vn)&&hy(i)){const _r=bg(e,ln);return _r.each(fn=>{bt(fn,Rt())}),_r.getOr(ln)}return ln},selectorChanged:(ln,Vn)=>(p(ln,Vn),gi),selectorChangedWithUnbind:p,getScrollContainer:()=>{let ln,Vn=e.getRoot();for(;Vn&&Vn.nodeName!=="BODY";){if(Vn.scrollHeight>Vn.clientHeight){ln=Vn;break}Vn=Vn.parentNode}return ln},scrollIntoView:(ln,Vn)=>{Oe(ln)?oT(i,ln,Vn):pd(i,tt(),Vn)},placeCaretAt:(ln,Vn)=>bt(nN(ln,Vn,i.getDoc())),getBoundingClientRect:()=>{const ln=tt();return ln.collapsed?St.fromRangeStart(ln).getClientRects()[0]:ln.getBoundingClientRect()},destroy:()=>{n=c=m=null,Qr.destroy()}},Ll=Gr(gi),Qr=Hr(gi,i);return gi.bookmarkManager=Ll,gi.controlSelection=Qr,gi},xL=(e,n,o)=>{n.addNodeFilter("br",(i,c,m)=>{const p=tn.extend({},o.getBlockElements()),_=o.getNonEmptyElements(),A=o.getWhitespaceElements();p.body=1;const $=q=>q.name in p||Ip(o,q);for(let q=0,X=i.length;q<X;q++){let ne=i[q],ve=ne.parent;if(ve&&$(ve)&&ne===ve.lastChild){let Ee=ne.prev;for(;Ee;){const ye=Ee.name;if(ye!=="span"||Ee.attr("data-mce-type")!=="bookmark"){ye==="br"&&(ne=null);break}Ee=Ee.prev}if(ne&&(ne.remove(),Ny(o,_,A,ve))){const ye=o.getElementRule(ve.name);ye&&(ye.removeEmpty?ve.remove():ye.paddEmpty&&IS(e,m,$,ve))}}else{let Ee=ne;for(;ve&&ve.firstChild===Ee&&ve.lastChild===Ee&&(Ee=ve,!p[ve.name]);)ve=ve.parent;if(Ee===ve){const ye=new Na("#text",3);ye.value=Ni,ne.replace(ye)}}}})},H4=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(i,c)=>{let m=i.length;for(;m--;){const p=i[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),e.addAttributeFilter("src,href,style",(i,c)=>{const m="data-mce-"+c,p=n.url_converter,_=n.url_converter_scope;let A=i.length;for(;A--;){const $=i[A];let q=$.attr(m);q!==void 0?($.attr(c,q.length>0?q:null),$.attr(m,null)):(q=$.attr(c),c==="style"?q=o.serializeStyle(o.parseStyle(q),$.name):p&&(q=p.call(_,q,c,$.name)),$.attr(c,q.length>0?q:null))}}),e.addAttributeFilter("class",i=>{let c=i.length;for(;c--;){const m=i[c];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),e.addAttributeFilter("data-mce-type",(i,c,m)=>{let p=i.length;for(;p--;){const _=i[p];_.attr("data-mce-type")==="bookmark"&&!m.cleanup&&(Q.from(_.firstChild).exists($=>{var q;return!Gc((q=$.value)!==null&&q!==void 0?q:"")})?_.unwrap():_.remove())}}),e.addNodeFilter("script,style",(i,c)=>{var m;const p=A=>A.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let _=i.length;for(;_--;){const A=i[_],$=A.firstChild,q=(m=$==null?void 0:$.value)!==null&&m!==void 0?m:"";if(c==="script"){const X=A.attr("type");X&&A.attr("type",X==="mce-no/type"?null:X.replace(/^mce\-/,"")),n.element_format==="xhtml"&&$&&q.length>0&&($.value=`// <![CDATA[
`+p(q)+`
// ]]>`)}else n.element_format==="xhtml"&&$&&q.length>0&&($.value=`<!--
`+p(q)+`
-->`)}}),e.addNodeFilter("#comment",i=>{let c=i.length;for(;c--;){const m=i[c],p=m.value;n.preserve_cdata&&(p==null?void 0:p.indexOf("[CDATA["))===0?(m.name="#cdata",m.type=4,m.value=o.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):(p==null?void 0:p.indexOf("mce:protected "))===0&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),e.addNodeFilter("xml:namespace,input",(i,c)=>{let m=i.length;for(;m--;){const p=i[m];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),e.addAttributeFilter("data-mce-type",i=>{be(i,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),n.remove_trailing_brs&&xL(n,e,e.schema)},QV=e=>{const n=i=>(i==null?void 0:i.name)==="br",o=e.lastChild;if(n(o)){const i=o.prev;n(i)&&(o.remove(),i.remove())}},wL=(e,n,o)=>{let i;const c=e.dom;let m=n.cloneNode(!0);const p=document.implementation;if(p.createHTMLDocument){const _=p.createHTMLDocument("");tn.each(m.nodeName==="BODY"?m.childNodes:[m],A=>{_.body.appendChild(_.importNode(A,!0))}),m.nodeName!=="BODY"?m=_.body.firstChild:m=_.body,i=c.doc,c.doc=_}return Y2(e,{...o,node:m}),i&&(c.doc=i),m},CL=(e,n)=>Oe(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,_L=(e,n,o)=>CL(e,o)?wL(e,n,o):n,ez=(e,n,o)=>{tn.inArray(n,o)===-1&&(e.addAttributeFilter(o,(i,c)=>{let m=i.length;for(;m--;)i[m].attr(c,null)}),n.push(o))},tz=(e,n,o)=>!n.no_events&&e?X2(e,{...n,content:o}).content:o,yk=(e,n,o)=>{const i=Dl(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Nv(Ue.fromDom(n))?i:tn.trim(i)},SL=(e,n,o)=>{const i=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,i);return QV(c),c},kL=(e,n,o)=>Vh(e,n).serialize(o),EL=(e,n,o,i,c)=>{const m=kL(n,o,i);return tz(e,c,m)},nz=(e,n)=>{const o=["data-mce-selected"],i={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Xr.DOM,m=n&&n.schema?n.schema:Wc(i),p=$y(i,m);H4(p,i,c);const _=(A,$={})=>{const q={format:"html",...$},X=_L(n,A,q),ne=yk(c,X,q),ve=SL(p,ne,q);return q.format==="tree"?ve:EL(n,i,m,ve,q)};return{schema:m,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:_,addRules:m.addValidElements,setRules:m.setValidElements,addTempAttr:Qe(ez,p,o),getTempAttrs:ct(o),getNodeFilters:p.getNodeFilters,getAttributeFilters:p.getAttributeFilters,removeNodeFilter:p.removeNodeFilter,removeAttributeFilter:p.removeAttributeFilter}},AL=(e,n)=>{const o=nz(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},oz="html",rz=(e,n)=>({...e,format:n,get:!0,getInner:!0}),TL=(e,n={})=>{const o=n.format?n.format:oz,i=rz(n,o);return KP(e,i).fold(kn,c=>{const m=gL(e,c);return gf(e,m,c)})},OL="html",DL=(e,n)=>({format:OL,...e,set:!0,content:n}),U4=(e,n,o={})=>{const i=DL(o,n);return h4(e,i).map(c=>{const m=L4(e,c.content,c);return p4(e,m.html,c),m.content}).getOr(n)},sz="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),iz=[],az="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Kw=[],W4=(e,n)=>{const o=je(n,i=>fo(e,i));return wr(o)},lz=e=>{const n=W4(e,sz),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),wr(n)},RL=e=>W4(e,iz),K4=(e,n)=>{const o=tn.makeMap(e.plugins," "),c=je(n,m=>fo(o,m));return wr(c)},j4=e=>K4(e,az),IL=e=>K4(e,Kw.map(n=>n.name)),NL=(e,n)=>{const o=lz(e),i=j4(n),c=i.length>0,m=o.length>0,p=n.theme==="mobile";if(c||m||p){const _=`
- `,A=p?`

Themes:${_}mobile`:"",$=c?`

Plugins:${_}${i.join(_)}`:"",q=m?`

Options:${_}${o.join(_)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+A+$+q)}},PL=e=>bn(Kw,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),cz=(e,n)=>{const o=RL(e),i=IL(n),c=i.length>0,m=o.length>0;if(c||m){const p=`
- `,_=c?`

Plugins:${p}${i.map(PL).join(p)}`:"",A=m?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+_+A)}},uz=(e,n)=>{NL(e,n),cz(e,n)},yb=Xr.DOM,dz=e=>{yb.setStyle(e.id,"display",e.orgDisplay)},jw=e=>Q.from(e).each(n=>n.destroy()),xk=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const i=o.dom;n.selection=o.win=o.dom=i.doc=null}},LL=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),yb.unbind(n,"submit reset",e.formEventDelegate))},ML=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Oe(c==null?void 0:c.nextSibling)&&yb.remove(c.nextSibling),J2(e),e.editorManager.remove(e),!e.inline&&i&&dz(e),Q2(e),yb.remove(e.getContainer()),jw(n),jw(o),e.destroy()}},fz=(e,n)=>{const{selection:o,dom:i}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),jw(o),jw(i)),LL(e),xk(e),e.destroyed=!0}},Zw=(()=>{const e={};return{add:(c,m)=>{e[c]=m},get:c=>e[c]?e[c]:{icons:{}},has:c=>fo(e,c)}})(),xb=dl.ModelManager,Gw=(e,n)=>n.dom[e],Z4=(e,n)=>parseInt(Us(n,e),10),G4=Qe(Gw,"clientWidth"),BL=Qe(Gw,"clientHeight"),mz=Qe(Z4,"margin-top"),FL=Qe(Z4,"margin-left"),gz=e=>e.dom.getBoundingClientRect(),$L=(e,n,o)=>{const i=G4(e),c=BL(e);return n>=0&&o>=0&&n<=i&&o<=c},VL=(e,n,o,i)=>{const c=gz(n),m=e?c.left+n.dom.clientLeft+FL(n):0,p=e?c.top+n.dom.clientTop+mz(n):0,_=o-m,A=i-p;return{x:_,y:A}},hz=(e,n,o)=>{const i=Ue.fromDom(e.getBody()),c=e.inline?i:Qu(i),m=VL(e.inline,c,n,o);return $L(c,m.x,m.y)},zL=e=>Q.from(e).map(Ue.fromDom),q4=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return zL(n).map(Va).getOr(!1)};var HL=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Y4=e=>{const n=[],o=()=>{const ne=e.theme;return ne&&ne.getNotificationManagerImpl?ne.getNotificationManagerImpl():HL()},i=()=>Q.from(n[0]),c=(ne,ve)=>ne.type===ve.type&&ne.text===ve.text&&!ne.progressBar&&!ne.timeout&&!ve.progressBar&&!ve.timeout,m=()=>{i().each(ne=>{ne.reposition()})},p=ne=>{n.push(ne)},_=ne=>{qn(n,ve=>ve===ne).each(ve=>{n.splice(ve,1)})},A=(ne,ve=!0)=>e.removed||!q4(e)?{}:(ve&&e.dispatch("BeforeOpenNotification",{notification:ne}),bn(n,Ee=>c(o().getArgs(Ee),ne)).getOrThunk(()=>{e.editorManager.setActive(e);const Ee=o().open(ne,()=>{_(Ee)},()=>c1(e));return p(Ee),m(),e.dispatch("OpenNotification",{notification:{...Ee}}),Ee})),$=()=>{i().each(ne=>{o().close(ne),_(ne),m()})},q=ct(n);return(ne=>{ne.on("SkinLoaded",()=>{const ve=_F(ne);ve&&A({text:ve,type:"warning",timeout:0},!1),m()}),ne.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(m)}),ne.on("remove",()=>{be(n.slice(),ve=>{o().close(ve)})}),ne.addShortcut("alt+F12","Focus to notification",()=>i().map(ve=>Ue.fromDom(ve.getEl())).each(ve=>rT(ve)))})(e),{open:A,close:$,getNotifications:q}},E1=dl.PluginManager,wb=dl.ThemeManager;var pz=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const UL=e=>{let n=[];const o=()=>{const ye=e.theme;return ye&&ye.getWindowManagerImpl?ye.getWindowManagerImpl():pz()},i=(ye,Ie)=>(...Ge)=>Ie?Ie.apply(ye,Ge):void 0,c=ye=>{e.dispatch("OpenWindow",{dialog:ye})},m=ye=>{e.dispatch("CloseWindow",{dialog:ye})},p=ye=>{n.push(ye),c(ye)},_=ye=>{m(ye),n=je(n,Ie=>Ie!==ye),n.length===0&&e.focus()},A=()=>Q.from(n[n.length-1]),$=ye=>{e.editorManager.setActive(e),wy(e),e.ui.show();const Ie=ye();return p(Ie),Ie},q=(ye,Ie)=>$(()=>o().open(ye,Ie,_)),X=ye=>$(()=>o().openUrl(ye,_)),ne=(ye,Ie,Ge)=>{const ot=o();ot.alert(ye,i(Ge||ot,Ie))},ve=(ye,Ie,Ge)=>{const ot=o();ot.confirm(ye,i(Ge||ot,Ie))},Ee=()=>{A().each(ye=>{o().close(ye),_(ye)})};return e.on("remove",()=>{be(n,ye=>{o().close(ye)})}),{open:q,openUrl:X,alert:ne,confirm:ve,close:Ee}},wk=(e,n)=>{e.notificationManager.open({type:"error",text:n})},Ck=(e,n)=>{e._skinLoaded?wk(e,n):e.on("SkinLoaded",()=>{wk(e,n)})},WL=(e,n)=>{Ck(e,Kc.translate(["Failed to upload image: {0}",n]))},Wy=(e,n,o)=>{UA(e,n,{message:o}),console.error(o)},A1=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,X4=(e,n,o)=>{Wy(e,"PluginLoadError",A1("plugin",n,o))},J4=(e,n,o)=>{Wy(e,"IconsLoadError",A1("icons",n,o))},bz=(e,n,o)=>{Wy(e,"LanguageLoadError",A1("language",n,o))},KL=(e,n,o)=>{Wy(e,"ThemeLoadError",A1("theme",n,o))},vz=(e,n,o)=>{Wy(e,"ModelLoadError",A1("model",n,o))},yz=(e,n,o)=>{const i=Kc.translate(["Failed to initialize plugin: {0}",n]);UA(e,"PluginLoadError",{message:i}),qw(i,o),Ck(e,i)},qw=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Q4=e=>/^[a-z0-9\-]+$/i.test(e),eO=e=>"content/"+e+"/content.css",_k=e=>tinymce.Resource.has(eO(e)),xz=e=>jL(e,Kl(e)),wz=e=>jL(e,OR(e)),jL=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return $e(n,m=>_k(m)?m:Q4(m)&&!e.inline?`${o}/${m}/${c}`:e.documentBaseURI.toAbsolute(m))},ZL=e=>{e.contentCSS=e.contentCSS.concat(xz(e),wz(e))},GL=e=>e?Oo(e.getElementsByTagName("img")):[],Cz=(e,n)=>{const o={};return{findAll:(c,m=nn)=>{const p=je(GL(c),A=>{const $=A.src;return A.hasAttribute("data-mce-bogus")||A.hasAttribute("data-mce-placeholder")||!$||$===zo.transparentSrc?!1:cs($,"blob:")?!e.isUploaded($)&&m(A):cs($,"data:")?m(A):!1}),_=$e(p,A=>{const $=A.src;if(fo(o,$))return o[$].then(q=>ae(q)?q:{image:A,blobInfo:q.blobInfo});{const q=Z3(n,$).then(X=>(delete o[$],{image:A,blobInfo:X})).catch(X=>(delete o[$],X));return o[$]=q,q}});return Promise.all(_)}}},tO=()=>{let o={};const i=(ne,ve)=>({status:ne,resultUri:ve}),c=ne=>ne in o;return{hasBlobUri:c,getResultUri:ne=>{const ve=o[ne];return ve?ve.resultUri:null},isPending:ne=>c(ne)?o[ne].status===1:!1,isUploaded:ne=>c(ne)?o[ne].status===2:!1,markPending:ne=>{o[ne]=i(1,null)},markUploaded:(ne,ve)=>{o[ne]=i(2,ve)},removeFailed:ne=>{delete o[ne]},destroy:()=>{o={}}}};let Yw=0;const qL=()=>{const e=()=>Math.round(Ol()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},_z=e=>e+Yw+++qL(),YL=()=>{let e=[];const n=X=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[X.toLowerCase()]||"dat",o=(X,ne,ve,Ee,ye)=>{if(ae(X))return i({id:X,name:Ee,filename:ye,blob:ne,base64:ve});if(U(X))return i(X);throw new Error("Unknown input type")},i=X=>{if(!X.blob||!X.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ne=X.id||_z("blobid"),ve=X.name||ne,Ee=X.blob;return{id:ct(ne),name:ct(ve),filename:ct(X.filename||ve+"."+n(Ee.type)),blob:ct(Ee),base64:ct(X.base64),blobUri:ct(X.blobUri||URL.createObjectURL(Ee)),uri:ct(X.uri)}},c=X=>{p(X.id())||e.push(X)},m=X=>bn(e,X).getOrUndefined(),p=X=>m(ne=>ne.id()===X);return{create:o,add:c,get:p,getByUri:X=>m(ne=>ne.blobUri()===X),getByData:(X,ne)=>m(ve=>ve.base64()===X&&ve.blob().type===ne),findFirst:m,removeByUri:X=>{e=je(e,ne=>ne.blobUri()===X?(URL.revokeObjectURL(ne.blobUri()),!1):!0)},destroy:()=>{be(e,X=>{URL.revokeObjectURL(X.blobUri())}),e=[]}}},XL=(e,n)=>{const o={},i=(ye,Ie)=>ye?ye.replace(/\/$/,"")+"/"+Ie.replace(/^\//,""):Ie,c=(ye,Ie)=>new Promise((Ge,ot)=>{const tt=new XMLHttpRequest;tt.open("POST",n.url),tt.withCredentials=n.credentials,tt.upload.onprogress=Vt=>{Ie(Vt.loaded/Vt.total*100)},tt.onerror=()=>{ot("Image upload failed due to a XHR Transport error. Code: "+tt.status)},tt.onload=()=>{if(tt.status<200||tt.status>=300){ot("HTTP Error: "+tt.status);return}const Vt=JSON.parse(tt.responseText);if(!Vt||!ae(Vt.location)){ot("Invalid JSON: "+tt.responseText);return}Ge(i(n.basePath,Vt.location))};const bt=new FormData;bt.append("file",ye.blob(),ye.filename()),tt.send(bt)}),m=Te(n.handler)?n.handler:c,p=()=>new Promise(ye=>{ye([])}),_=(ye,Ie)=>({url:Ie,blobInfo:ye,status:!0}),A=(ye,Ie)=>({url:"",blobInfo:ye,status:!1,error:Ie}),$=(ye,Ie)=>{tn.each(o[ye],Ge=>{Ge(Ie)}),delete o[ye]},q=(ye,Ie,Ge)=>(e.markPending(ye.blobUri()),new Promise(ot=>{let tt,bt;try{const Vt=()=>{tt&&(tt.close(),bt=lt)},en=Rt=>{Vt(),e.markUploaded(ye.blobUri(),Rt),$(ye.blobUri(),_(ye,Rt)),ot(_(ye,Rt))},wn=Rt=>{Vt(),e.removeFailed(ye.blobUri()),$(ye.blobUri(),A(ye,Rt)),ot(A(ye,Rt))};bt=Rt=>{Rt<0||Rt>100||Q.from(tt).orThunk(()=>Q.from(Ge).map(po)).each(Ct=>{tt=Ct,Ct.progressBar.value(Rt)})},Ie(ye,bt).then(en,Rt=>{wn(ae(Rt)?{message:Rt}:Rt)})}catch(Vt){ot(A(ye,Vt))}})),X=ye=>ye===c,ne=ye=>{const Ie=ye.blobUri();return new Promise(Ge=>{o[Ie]=o[Ie]||[],o[Ie].push(Ge)})},ve=(ye,Ie)=>(ye=tn.grep(ye,Ge=>!e.isUploaded(Ge.blobUri())),Promise.all(tn.map(ye,Ge=>e.isPending(Ge.blobUri())?ne(Ge):q(Ge,m,Ie))));return{upload:(ye,Ie)=>!n.url&&X(m)?p():ve(ye,Ie)}},JL=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),QL=(e,n)=>XL(n,{url:sA(e),basePath:ER(e),credentials:iA(e),handler:xF(e)}),Sz=e=>{const n=tO(),o=QL(e,n);return{upload:(i,c=!0)=>o.upload(i,c?JL(e):void 0)}},kz=(e,n)=>e.dom.isEmpty(n.dom)&&Oe(e.schema.getTextBlockElements()[er(n)]),eM=e=>n=>{kz(e,n)&&Ws(n,Ue.fromHtml('<br data-mce-bogus="1" />'))},nO=e=>{const n=YL();let o,i;const c=tO(),m=[],p=tt=>bt=>e.selection?tt(bt):[],_=tt=>tt+(tt.indexOf("?")===-1?"?":"&")+new Date().getTime(),A=(tt,bt,Vt)=>{let en=0;do en=tt.indexOf(bt,en),en!==-1&&(tt=tt.substring(0,en)+Vt+tt.substr(en+bt.length),en+=Vt.length-bt.length+1);while(en!==-1);return tt},$=(tt,bt,Vt)=>{const en=`src="${Vt}"${Vt===zo.transparentSrc?' data-mce-placeholder="1"':""}`;return tt=A(tt,`src="${bt}"`,en),tt=A(tt,'data-mce-src="'+bt+'"','data-mce-src="'+Vt+'"'),tt},q=(tt,bt)=>{be(e.undoManager.data,Vt=>{Vt.type==="fragmented"?Vt.fragments=$e(Vt.fragments,en=>$(en,tt,bt)):Vt.content=$(Vt.content,tt,bt)})},X=(tt,bt)=>{const Vt=e.convertURL(bt,"src");q(tt.src,bt),Fa(Ue.fromDom(tt),{src:Nh(e)?_(bt):bt,"data-mce-src":Vt})},ne=()=>(o||(o=QL(e,c)),Ie().then(p(tt=>{const bt=$e(tt,Vt=>Vt.blobInfo);return o.upload(bt,JL(e)).then(p(Vt=>{const en=[];let wn=!1;const Rt=$e(Vt,(Ct,Ft)=>{const{blobInfo:Dn,image:Wn}=tt[Ft];let $o=!1;return Ct.status&&SR(e)?(Ct.url&&!Mr(Wn.src,Ct.url)&&(wn=!0),n.removeByUri(Wn.src),Og(e)||X(Wn,Ct.url)):Ct.error&&(Ct.error.remove&&(q(Wn.src,zo.transparentSrc),en.push(Wn),$o=!0),WL(e,Ct.error.message)),{element:Wn,status:Ct.status,uploadUri:Ct.url,blobInfo:Dn,removed:$o}});return en.length>0&&!Og(e)?e.undoManager.transact(()=>{be(vu(en),Ct=>{const Ft=ua(Ct);Pr(Ct),Ft.each(eM(e)),n.removeByUri(Ct.dom.src)})}):wn&&e.undoManager.dispatchChange(),Rt}))}))),ve=()=>Jr(e)?ne():Promise.resolve([]),Ee=tt=>Ro(m,bt=>bt(tt)),ye=tt=>{m.push(tt)},Ie=()=>(i||(i=Cz(c,n)),i.findAll(e.getBody(),Ee).then(p(tt=>{const bt=je(tt,Vt=>ae(Vt)?(Ck(e,Vt),!1):Vt.uriType!=="blob");return Og(e)||be(bt,Vt=>{q(Vt.image.src,Vt.blobInfo.blobUri()),Vt.image.src=Vt.blobInfo.blobUri(),Vt.image.removeAttribute("data-mce-src")}),bt}))),Ge=()=>{n.destroy(),c.destroy(),i=o=null},ot=tt=>tt.replace(/src="(blob:[^"]+)"/g,(bt,Vt)=>{const en=c.getResultUri(Vt);if(en)return'src="'+en+'"';let wn=n.getByUri(Vt);return wn||(wn=sn(e.editorManager.get(),(Rt,Ct)=>Rt||Ct.editorUpload&&Ct.editorUpload.blobCache.getByUri(Vt),void 0)),wn?'src="data:'+wn.blob().type+";base64,"+wn.base64()+'"':bt});return e.on("SetContent",()=>{Jr(e)?ve():Ie()}),e.on("RawSaveContent",tt=>{tt.content=ot(tt.content)}),e.on("GetContent",tt=>{tt.source_view||tt.format==="raw"||tt.format==="tree"||(tt.content=ot(tt.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",tt=>{be(tt,bt=>{const Vt=bt.attr("src");if(!Vt||n.getByUri(Vt))return;const en=c.getResultUri(Vt);en&&bt.attr("src",en)})})}),{blobCache:n,addFilter:ye,uploadImages:ne,uploadImagesAuto:ve,scanForImages:Ie,destroy:Ge}},tM=e=>{const n=e.dom,o=e.schema.type,i={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},m={inline:"strike",remove:"all",preserve_attributes:["class","style"]},p={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[p,c,m]:[c,p,m]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,m,p)=>Nn(c)&&c.hasAttribute("href"),onformat:(c,m,p)=>{tn.each(p,(_,A)=>{n.setAttrib(c,A,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var m;return(m=c==null?void 0:c.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return tn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{i[c]={block:c,remove:"all"}}),i},oO={remove_similar:!0,inherit:!1},T1={selector:"td,th",...oO},nM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...T1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...T1},tablecellbordercolor:{styles:{borderColor:"%value"},...T1},tablecellclass:{classes:["%value"],...T1},tableclass:{selector:"table",classes:["%value"],...oO},tablecellborderstyle:{styles:{borderStyle:"%value"},...T1},tablecellborderwidth:{styles:{borderWidth:"%value"},...T1}},Ez=ct(nM),rO=e=>{const n={},o=p=>Oe(p)?n[p]:n,i=p=>fo(n,p),c=(p,_)=>{p&&(ae(p)?(oe(_)||(_=[_]),be(_,A=>{Xe(A.deep)&&(A.deep=!Xc(A)),Xe(A.split)&&(A.split=!Xc(A)||va(A)),Xe(A.remove)&&Xc(A)&&!va(A)&&(A.remove="none"),Xc(A)&&va(A)&&(A.mixed=!0,A.block_expand=!0),ae(A.classes)&&(A.classes=A.classes.split(/\s+/))}),n[p]=_):ur(p,(A,$)=>{c($,A)}))},m=p=>(p&&n[p]&&delete n[p],n);return c(tM(e)),c(Ez()),c(kF(e)),{get:o,has:i,register:c,unregister:m}},O1=tn.each,Cc=Xr.DOM,gm=e=>Oe(e)&&U(e),Xw=(e,n)=>{const o=n&&n.schema||Wc({}),i=(A,$)=>{$.classes.length>0&&Cc.addClass(A,$.classes.join(" ")),Cc.setAttribs(A,$.attrs)},c=A=>{const $=ae(A)?{name:A,classes:[],attrs:{}}:A,q=Cc.create($.name);return i(q,$),q},m=(A,$)=>{const q=o.getElementRule(A.nodeName.toLowerCase()),X=q==null?void 0:q.parentsRequired;return X&&X.length?$&&xe(X,$)?$:X[0]:!1},p=(A,$,q)=>{let X;const ne=$[0],ve=gm(ne)?ne.name:void 0,Ee=m(A,ve);if(Ee)ve===Ee?(X=ne,$=$.slice(1)):X=Ee;else if(ne)X=ne,$=$.slice(1);else if(!q)return A;const ye=X?c(X):Cc.create("div");ye.appendChild(A),q&&tn.each(q,Ge=>{const ot=c(Ge);ye.insertBefore(ot,A)});const Ie=gm(X)?X.siblings:void 0;return p(ye,$,Ie)},_=Cc.create("div");if(e.length>0){const A=e[0],$=c(A),q=gm(A)?A.siblings:void 0;_.appendChild(p($,e.slice(1),q))}return _},Ky=e=>{e=tn.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(i,c,m,p,_)=>{switch(c){case"#":o.attrs.id=m;break;case".":o.classes.push(m);break;case":":tn.inArray("checked disabled enabled read-only required".split(" "),m)!==-1&&(o.attrs[m]=m);break}if(p==="["){const A=_.match(/([\w\-]+)(?:\=\"([^\"]+))?/);A&&(o.attrs[A[1]]=A[2])}return""})),o.name=n||"div",o},oM=e=>ae(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),tn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=tn.map(n.split(/(?:~\+|~|\+)/),Ky),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[],rM=(e,n)=>{let o="",i=EF(e);if(i==="")return"";const c=ne=>ae(ne)?ne.replace(/%(\w+)/g,""):"",m=(ne,ve)=>Cc.getStyle(ve??e.getBody(),ne,!0);if(ae(n)){const ne=e.formatter.get(n);if(!ne)return"";n=ne[0]}if("preview"in n){const ne=n.preview;if(ne===!1)return"";i=ne||i}let p=n.block||n.inline||"span",_;const A=oM(n.selector);A.length>0?(A[0].name||(A[0].name=p),p=n.selector,_=Xw(A,e)):_=Xw([p],e);const $=Cc.select(p,_)[0]||_.firstChild;O1(n.styles,(ne,ve)=>{const Ee=c(ne);Ee&&Cc.setStyle($,ve,Ee)}),O1(n.attributes,(ne,ve)=>{const Ee=c(ne);Ee&&Cc.setAttrib($,ve,Ee)}),O1(n.classes,ne=>{const ve=c(ne);Cc.hasClass($,ve)||Cc.addClass($,ve)}),e.dispatch("PreviewFormats"),Cc.setStyles(_,{position:"absolute",left:-65535}),e.getBody().appendChild(_);const q=m("fontSize"),X=/px$/.test(q)?parseInt(q,10):0;return O1(i.split(" "),ne=>{let ve=m(ne,$);if(!(ne==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=m(ne),yv(ve).toLowerCase()==="#ffffff"))&&!(ne==="color"&&yv(ve).toLowerCase()==="#000000")){if(ne==="font-size"&&/em|%$/.test(ve)){if(X===0)return;ve=parseFloat(ve)/(/%$/.test(ve)?100:1)*X+"px"}ne==="border"&&ve&&(o+="padding:0 2px;"),o+=ne+":"+ve+";"}}),e.dispatch("AfterPreviewFormats"),Cc.remove(_),o},sO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Jw=e=>{const n=rO(e),o=Pi({});return sO(e),q5(e),Og(e)||fP(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(i,c,m)=>{rs(e,i,c,m)},remove:(i,c,m,p)=>{fL(e,i,c,m,p)},toggle:(i,c,m)=>{P4(e,i,c,m)},match:(i,c,m,p)=>WV(e,i,c,m,p),closest:i=>GV(e,i),matchAll:(i,c)=>KV(e,i,c),matchNode:(i,c,m,p)=>jV(e,i,c,m,p),canApply:i=>ZV(e,i),formatChanged:(i,c,m,p)=>mL(e,o,i,c,m,p),getCssText:Qe(rM,e)}},Gh=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},D1=(e,n,o)=>{const i=Pi(!1),c=A=>{Uw(n,!1,o),n.add({},A)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",A=>{const $=A.command;Gh($)||(A4(n,o),n.beforeChange())}),e.on("ExecCommand",A=>{const $=A.command;Gh($)||c(A)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;const q=zo.os.isMacOS()&&A.key==="Meta";($>=33&&$<=36||$>=37&&$<=40||$===45||A.ctrlKey||q)&&(c(),e.nodeChanged()),($===46||$===8)&&e.nodeChanged(),i.get()&&n.typing&&!zy(Vy(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),i.set(!1),e.nodeChanged())}),e.on("keydown",A=>{const $=A.keyCode;if(A.isDefaultPrevented())return;if($>=33&&$<=36||$>=37&&$<=40||$===45){n.typing&&c(A);return}const q=A.ctrlKey&&!A.altKey||A.metaKey;if(($<16||$>20)&&$!==224&&$!==91&&!n.typing&&!q){n.beforeChange(),Uw(n,!0,o),n.add({},A),i.set(!0);return}(zo.os.isMacOS()?A.metaKey:A.ctrlKey&&!A.altKey)&&n.beforeChange()}),e.on("mousedown",A=>{n.typing&&c(A)});const m=A=>A.inputType==="insertReplacementText",p=A=>A.inputType==="insertText"&&A.data===null,_=A=>A.inputType==="insertFromPaste"||A.inputType==="insertFromDrop";e.on("input",A=>{A.inputType&&(m(A)||p(A)||_(A))&&c(A)}),e.on("AddUndo Undo Redo ClearUndos",A=>{A.isDefaultPrevented()||e.nodeChanged()})},sM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},iM=e=>{const n=Li(),o=Pi(0),i=Pi(0),c={data:[],typing:!1,beforeChange:()=>{Hy(e,o,n)},add:(m,p)=>BV(e,c,i,o,n,m,p),dispatchChange:()=>{e.setDirty(!0);const m=Vy(e);m.bookmark=Sn(e.selection),e.dispatch("change",{level:m,lastLevel:ji(c.data,i.get()).getOrUndefined()})},undo:()=>FV(e,c,o,i),redo:()=>uL(e,i,c.data),clear:()=>{dL(e,c,i)},reset:()=>{vk(e,c)},hasUndo:()=>$V(e,c,i),hasRedo:()=>VV(e,c,i),transact:m=>zV(e,c,o,m),ignore:m=>{HV(e,o,m)},extra:(m,p)=>{UV(e,c,i,m,p)}};return Og(e)||D1(e,c,o),sM(e),c},aM=[9,27,hn.HOME,hn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,hn.DOWN,hn.UP,hn.LEFT,hn.RIGHT].concat(zo.browser.isFirefox()?[224]:[]),lM="data-mce-placeholder",cM=e=>e.type==="keydown"||e.type==="keyup",uM=e=>{const n=e.keyCode;return n===hn.BACKSPACE||n===hn.DELETE},iO=e=>{if(cM(e)){const n=e.keyCode;return!uM(e)&&(hn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||xe(aM,n))}else return!1},dM=e=>cM(e)&&!(uM(e)||e.type==="keyup"&&e.keyCode===229),Az=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const i=n.firstElementChild;return i?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===i.nodeName.toLowerCase():!0}else return!1},fM=e=>{var n;const o=e.dom,i=ml(e),c=(n=lA(e))!==null&&n!==void 0?n:"",m=(p,_)=>{if(iO(p))return;const A=e.getBody(),$=dM(p)?!1:Az(o,A,i);(o.getAttrib(A,lM)!==""!==$||_)&&(o.setAttrib(A,lM,$?c:null),WI(e,$),e.on($?"keydown":"keyup",m),e.off($?"keyup":"keydown",m))};nt(c)&&e.on("init",p=>{m(p,!0),e.on("change SetContent ExecCommand",m),e.on("paste",_=>Qc.setEditorTimeout(e,()=>m(_)))})},Tz=(e,n)=>({block:e,position:n}),aO=(e,n)=>({from:e,to:n}),lO=(e,n)=>{const o=Ue.fromDom(e),i=Ue.fromDom(n.container());return Sw(o,i).map(c=>Tz(c,n))},mM=e=>!(ca(e.to.block,e.from.block)||ca(e.from.block,e.to.block)),cO=e=>!tr(e.from.block,e.to.block),uO=(e,n)=>bi(n,c=>jc(c)||Vc(c.dom),c=>tr(c,e)).filter(Hs).getOr(e),dO=(e,n)=>{const o=Ue.fromDom(e);return tr(uO(o,n.from.block),uO(o,n.to.block))},Oz=e=>yo(e.from.block.dom)===!1&&yo(e.to.block.dom)===!1,gM=e=>{const n=o=>Rv(o)||Xi(o.dom)||sg(o);return n(e.from.block)&&n(e.to.block)},Dz=(e,n,o,i)=>ps(i.position.getNode())&&!js(e,i.block)?fy(!1,i.block.dom).bind(c=>c.isEqual(i.position)?Du(o,n,c).bind(m=>lO(n,m)):Q.some(i)).getOr(i):i,hM=(e,n,o,i)=>{const c=lO(n,St.fromRangeStart(i)),m=c.bind(p=>Du(o,n,p.position).bind(_=>lO(n,_).map(A=>Dz(e,n,o,A))));return aa(c,m,aO).filter(p=>cO(p)&&dO(n,p)&&Oz(p)&&gM(p)&&mM(p))},pM=(e,n,o,i)=>i.collapsed?hM(e,n,o,i):Q.none(),Rz=(e,n)=>{const o=da(e);return qn(o,i=>n.isBlock(er(i))).fold(ct(o),i=>o.slice(0,i))},bM=(e,n)=>{const o=Rz(e,n);return be(o,Pr),o},vM=(e,n,o)=>{const i=eu(o,n);return bn(i.reverse(),c=>js(e,c)).each(Pr)},Iz=(e,n)=>je(td(n),o=>!js(e,o)).length===0,Nz=(e,n,o,i,c)=>{if(js(i,o))return Zc(o),oo(o.dom);Iz(i,c)&&js(i,n)&&Ds(c,Ue.fromTag("br"));const m=Yc(o.dom,St.before(c.dom));return be(bM(n,i),p=>{Ds(c,p)}),vM(i,e,n),m},R1=(e,n)=>e.isInline(er(n)),yM=(e,n,o,i)=>{if(js(i,o)){if(js(i,n)){const p=gt((_=>{const A=($,q)=>Wl($).fold(()=>q,X=>R1(i,X)?A(X,q.concat(qs(X))):q);return A(_,[])})(o),(_,A)=>(Ql(_,A),A),nf());os(n),Ws(n,p)}return Pr(o),oo(n.dom)}const c=md(o.dom);return be(bM(n,i),m=>{Ws(o,m)}),vM(i,e,n),c},xM=(e,n)=>{const o=eu(n,e);return Q.from(o[o.length-1])},wM=(e,n)=>ca(n,e)?xM(n,e):Q.none(),CM=(e,n)=>{fy(e,n.dom).bind(o=>Q.from(o.getNode())).map(Ue.fromDom).filter(dd).each(Pr)},_M=(e,n,o,i)=>(CM(!0,n),CM(!1,o),wM(n,o).fold(Qe(yM,e,n,o,i),Qe(Nz,e,n,o,i))),qh=(e,n,o,i,c)=>n?_M(e,i,o,c):_M(e,o,i,c),Sk=(e,n)=>{const o=Ue.fromDom(e.getBody());return pM(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{qh(o,n,c.from.block,c.to.block,e.schema).each(m=>{e.selection.setRng(m.toRange())})})},kk=(e,n,o)=>{const i=n.getRng();return aa(Sw(e,Ue.fromDom(i.startContainer)),Sw(e,Ue.fromDom(i.endContainer)),(c,m)=>tr(c,m)?Q.none():Q.some(()=>{i.deleteContents(),qh(e,!0,c,m,o).each(p=>{n.setRng(p.toRange())})})).getOr(Q.none())},SM=(e,n)=>{const o=Ue.fromDom(n),i=Qe(tr,e);return al(o,jc,i).isSome()},kM=(e,n)=>SM(e,n.startContainer)||SM(e,n.endContainer),Pz=(e,n)=>{const o=Yc(e.dom,St.fromRangeStart(n)).isNone(),i=nc(e.dom,St.fromRangeEnd(n)).isNone();return!kM(e,n)&&o&&i},Lz=e=>Q.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),fO=e=>{const n=Ue.fromDom(e.getBody()),o=e.selection.getRng();return Pz(n,o)?Lz(e):kk(n,e.selection,e.schema)},mO=(e,n)=>e.selection.isCollapsed()?Q.none():fO(e),Ls=(e,n,o,i,c)=>Q.from(n._selectionOverrides.showCaret(e,o,i,c)),Mz=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Qw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Q.none():Q.some(Mz(n)),gO=(e,n,o)=>{const i=kA(1,e.getBody(),n),c=St.fromRangeStart(i),m=c.getNode();if(R2(m))return Ls(1,e,m,!c.isAtEnd(),!1);const p=c.getNode(!0);if(R2(p))return Ls(1,e,p,!1,!1);const _=wd(e.dom.getRoot(),c.getNode());return R2(_)?Ls(1,e,_,!1,o):Q.none()},Ek=(e,n,o)=>n.collapsed?gO(e,n,o).getOr(n):n,hO=e=>Fi(e)||f1(e),Bz=e=>fm(e)||Ey(e),Fz=(e,n)=>{jt(n)&&n.data.length===0&&e.remove(n)},EM=(e,n,o,i,c,m)=>{Ls(i,e,m.getNode(!c),c,!0).each(p=>{if(n.collapsed){const _=n.cloneRange();c?_.setEnd(p.startContainer,p.startOffset):_.setStart(p.endContainer,p.endOffset),_.deleteContents()}else n.deleteContents();e.selection.setRng(p)}),Fz(e.dom,o)},$z=(e,n)=>{const o=e.selection.getRng();if(!jt(o.commonAncestorContainer))return Q.none();const i=n?ja.Forwards:ja.Backwards,c=Jn(e.getBody()),m=Qe(EA,n?c.next:c.prev),p=n?hO:Bz,_=M2(i,e.getBody(),o),A=m(_),$=A&&xd(n,A);if(!$||!T_(_,$))return Q.none();if(p($))return Q.some(()=>EM(e,o,_.getNode(),i,n,$));const q=m($);return q&&p(q)&&T_($,q)?Q.some(()=>EM(e,o,_.getNode(),i,n,q)):Q.none()},pO=(e,n)=>$z(e,n),bO=(e,n)=>{const o=e.getBody();return n?oo(o).filter(Fi):md(o).filter(fm)},vO=e=>{const n=e.selection.getRng();return!n.collapsed&&(bO(e,!0).exists(o=>o.isEqual(St.fromRangeStart(n)))||bO(e,!1).exists(o=>o.isEqual(St.fromRangeEnd(n))))},jy=e=>Oe(e)&&(jc(Ue.fromDom(e))||sg(Ue.fromDom(e))),ea=Yo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Vz=(e,n)=>{const o=n.getNode(!e),i=e?"after":"before";return Nn(o)&&o.getAttribute("data-mce-caret")===i},zz=(e,n,o,i,c)=>{const m=p=>c.isInline(p.nodeName.toLowerCase())&&!mg(o,i,e);return lI(!n,o).fold(()=>lI(n,i).fold(Tn,m),m)},AM=(e,n,o,i,c)=>{const m=c.getNode(!o);return Sw(Ue.fromDom(n),Ue.fromDom(i.getNode())).map(p=>js(e,p)?ea.remove(p.dom):ea.moveToElement(m)).orThunk(()=>Q.some(ea.moveToElement(m)))},TM=(e,n,o,i)=>Du(n,e,o).bind(c=>jy(c.getNode())||zz(e,n,o,c,i)?Q.none():n&&yo(c.getNode())||!n&&yo(c.getNode(!0))?AM(i,e,n,o,c):n&&fm(o)||!n&&Fi(o)?Q.some(ea.moveToPosition(c)):Q.none()),Hz=(e,n)=>rt(n)?Q.none():e&&yo(n.nextSibling)?Q.some(ea.moveToElement(n.nextSibling)):!e&&yo(n.previousSibling)?Q.some(ea.moveToElement(n.previousSibling)):Q.none(),Uz=(e,n,o)=>o.fold(i=>Q.some(ea.remove(i)),i=>Q.some(ea.moveToElement(i)),i=>mg(n,i,e)?Q.none():Q.some(ea.moveToPosition(i))),Wz=(e,n,o,i)=>Vz(n,o)?Hz(n,o.getNode(!n)).orThunk(()=>TM(e,n,o,i)):TM(e,n,o,i).bind(c=>Uz(e,o,c)),Kz=(e,n,o,i)=>{const c=kA(n?1:-1,e,o),m=St.fromRangeStart(c),p=Ue.fromDom(e);return!n&&fm(m)?Q.some(ea.remove(m.getNode(!0))):n&&Fi(m)?Q.some(ea.remove(m.getNode())):!n&&Fi(m)&&g1(p,m,i)?gS(p,m,i).map(_=>ea.remove(_.getNode())):n&&fm(m)&&yw(p,m,i)?XN(p,m,i).map(_=>ea.remove(_.getNode())):Wz(e,n,m,i)},jz=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Il(e,n,Ue.fromDom(o)),!0),Zz=(e,n)=>o=>{const i=n?St.before(o):St.after(o);return e.selection.setRng(i.toRange()),!0},Gz=e=>n=>(e.selection.setRng(n.toRange()),!0),OM=(e,n)=>Q.from(wd(e.getBody(),n)),qz=(e,n)=>{const o=e.selection.getNode();return OM(e,o).filter(yo).fold(()=>Kz(e.getBody(),n,e.selection.getRng(),e.schema).map(i=>()=>i.fold(jz(e,n),Zz(e,n),Gz(e))),()=>Q.some(lt))},Yz=e=>{be(vi(e,".mce-offscreen-selection"),Pr)},Xz=(e,n)=>{const o=e.selection.getNode();return yo(o)&&!Tp(o)?OM(e,o.parentNode).filter(yo).fold(()=>Q.some(()=>{Yz(Ue.fromDom(e.getBody())),Il(e,n,Ue.fromDom(e.selection.getNode())),yS(e)}),()=>Q.some(lt)):vO(e)?Q.some(()=>{xS(e,e.selection.getRng(),Ue.fromDom(e.getBody()))}):Q.none()},DM=e=>{const n=e.dom,o=e.selection,i=wd(e.getBody(),o.getNode());if(Vc(i)&&n.isBlock(i)&&n.isEmpty(i)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(c),o.setRng(St.before(c).toRange())}return!0},yO=(e,n)=>e.selection.isCollapsed()?qz(e,n):Xz(e,n),RM=e=>e.hasOwnProperty("text"),IM=e=>e.hasOwnProperty("marker"),NM=(e,n)=>{const o=(m,p)=>{if(jt(m))return{text:m,offset:p};{const _=n(),A=m.childNodes;return p<A.length?(m.insertBefore(_,A[p]),{marker:_,before:!0}):(m.appendChild(_),{marker:_,before:!1})}},i=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:i}},PM=e=>{var n,o;const{start:i,end:c}=e,m=new window.Range;return RM(i)?m.setStart(i.text,i.offset):IM(i)&&(i.before?m.setStartBefore(i.marker):m.setStartAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),RM(c)?m.setEnd(c.text,c.offset):IM(c)&&(c.before?m.setEndBefore(c.marker):m.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),m},xO=(e,n)=>{var o;const i=e.dom,c=i.getParent(e.selection.getStart(),i.isBlock),m=i.getParent(e.selection.getEnd(),i.isBlock),p=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&m&&c===p.firstChild&&m===p.lastChild&&!i.isEmpty(p)){const A=c.cloneNode(!1),$=()=>{if(n?UT(e):vS(e),p.firstChild!==c){const q=NM(e.selection.getRng(),()=>document.createElement("span"));Array.from(p.childNodes).forEach(X=>A.appendChild(X)),p.appendChild(A),e.selection.setRng(PM(q))}};return Q.some($)}return Q.none()},Jz=(e,n)=>{const o=St.fromRangeStart(e.selection.getRng());return Du(n,e.getBody(),o).filter(i=>n?KN(i):jN(i)).bind(i=>E_(n?0:-1,i)).map(i=>()=>e.selection.select(i))},wO=(e,n)=>e.selection.isCollapsed()?Jz(e,n):Q.none(),Zy=jt,LM=e=>Zy(e)&&e.data[0]===Ei,MM=e=>Zy(e)&&e.data[e.data.length-1]===Ei,BM=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ei)},Qz=e=>{var n;if(Zy(e.previousSibling))return MM(e.previousSibling)||e.previousSibling.appendData(Ei),e.previousSibling;if(Zy(e))return LM(e)||e.insertData(0,Ei),e;{const o=BM(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},e9=e=>{var n,o;if(Zy(e.nextSibling))return LM(e.nextSibling)||e.nextSibling.insertData(0,Ei),e.nextSibling;if(Zy(e))return MM(e)||e.appendData(Ei),e;{const i=BM(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(i,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(i),i}},Ak=(e,n)=>e?Qz(n):e9(n),FM=Qe(Ak,!0),t9=Qe(Ak,!1),$M=(e,n)=>jt(e.container())?Ak(n,e.container()):Ak(n,e.getNode()),VM=(e,n)=>{const o=n.get();return o&&e.container()===o&&ig(o)},CO=(e,n)=>n.fold(o=>{jp(e.get());const i=FM(o);return e.set(i),Q.some(St(i,i.length-1))},o=>oo(o).map(i=>{if(VM(i,e)){const c=e.get();return St(c,1)}else{jp(e.get());const c=$M(i,!0);return e.set(c),St(c,1)}}),o=>md(o).map(i=>{if(VM(i,e)){const c=e.get();return St(c,c.length-1)}else{jp(e.get());const c=$M(i,!1);return e.set(c),St(c,c.length-1)}}),o=>{jp(e.get());const i=t9(o);return e.set(i),Q.some(St(i,1))}),zM=(e,n)=>{for(let o=0;o<e.length;o++){const i=e[o].apply(null,n);if(i.isSome())return i}return Q.none()},rc=Yo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),HM=(e,n)=>{const o=Zp(n,e);return o||e},n9=(e,n,o)=>{const i=p5(o),c=HM(n,i.container());return ab(e,c,i).fold(()=>nc(c,i).bind(Qe(ab,e,c)).map(m=>rc.before(m)),Q.none)},UM=(e,n)=>Gp(e,n)===null,WM=(e,n,o)=>ab(e,n,o).filter(Qe(UM,n)),o9=(e,n,o)=>{const i=Ry(o);return WM(e,n,i).bind(c=>Yc(c,i).isNone()?Q.some(rc.start(c)):Q.none())},r9=(e,n,o)=>{const i=p5(o);return WM(e,n,i).bind(c=>nc(c,i).isNone()?Q.some(rc.end(c)):Q.none())},s9=(e,n,o)=>{const i=Ry(o),c=HM(n,i.container());return ab(e,c,i).fold(()=>Yc(c,i).bind(Qe(ab,e,c)).map(m=>rc.after(m)),Q.none)},KM=e=>!Cw(_O(e)),Dg=(e,n,o)=>zM([n9,o9,r9,s9],[e,n,o]).filter(KM),_O=e=>e.fold(kn,kn,kn,kn),jM=e=>e.fold(ct("before"),ct("start"),ct("end"),ct("after")),eC=e=>e.fold(rc.before,rc.before,rc.after,rc.after),Tk=e=>e.fold(rc.start,rc.start,rc.end,rc.end),i9=(e,n)=>jM(e)===jM(n)&&_O(e)===_O(n),ZM=(e,n,o,i,c,m)=>aa(ab(n,o,i),ab(n,o,c),(p,_)=>p!==_&&h5(o,p,_)?rc.after(e?p:_):m).getOr(m),a9=(e,n)=>e.fold(nn,o=>!i9(o,n)),l9=(e,n,o,i,c)=>{const m=xd(e,c);return Du(e,o,m).map(Qe(xd,e)).fold(()=>i.map(eC),A=>Dg(n,o,A).map(Qe(ZM,e,n,o,m,A)).filter(Qe(a9,i))).filter(KM)},c9=(e,n)=>e?n.fold(zt(Q.some,rc.start),Q.none,zt(Q.some,rc.after),Q.none):n.fold(Q.none,zt(Q.some,rc.before),Q.none,zt(Q.some,rc.end)),u9=(e,n,o,i)=>{const c=xd(e,i),m=Dg(n,o,c);return Dg(n,o,c).bind(Qe(c9,e)).orThunk(()=>l9(e,n,o,m,i))},d9=e=>Te(e.selection.getSel().modify),GM=(e,n,o)=>{const i=e?1:-1;return n.setRng(St(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},SO=(e,n)=>{const o=n.selection.getRng(),i=e?St.fromRangeEnd(o):St.fromRangeStart(o);return d9(n)?e&&Pv(i)?GM(!0,n.selection,i):!e&&q0(i)?GM(!1,n.selection,i):!1:!1};var hf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(hf||(hf={}));const Ok=(e,n)=>e===ja.Backwards?Zr(n):n,qM=(e,n,o)=>e===ja.Forwards?n.next(o):n.prev(o),f9=(e,n,o,i)=>ps(i.getNode(n===ja.Forwards))?hf.Br:mg(o,i)===!1?hf.Block:hf.Wrap,YM=(e,n,o,i)=>{const c=Jn(o);let m=i;const p=[];for(;m;){const _=qM(n,c,m);if(!_)break;if(ps(_.getNode(!1)))return n===ja.Forwards?{positions:Ok(n,p).concat([_]),breakType:hf.Br,breakAt:Q.some(_)}:{positions:Ok(n,p),breakType:hf.Br,breakAt:Q.some(_)};if(!_.isVisible()){m=_;continue}if(e(m,_)){const A=f9(o,n,m,_);return{positions:Ok(n,p),breakType:A,breakAt:Q.some(_)}}p.push(_),m=_}return{positions:Ok(n,p),breakType:hf.Eol,breakAt:Q.none()}},XM=(e,n,o,i)=>n(o,i).breakAt.map(c=>{const m=n(o,c).positions;return e===ja.Backwards?m.concat(c):[c].concat(m)}).getOr([]),kO=(e,n)=>sn(e,(o,i)=>o.fold(()=>Q.some(i),c=>aa(En(c.getClientRects()),En(i.getClientRects()),(m,p)=>{const _=Math.abs(n-m.left);return Math.abs(n-p.left)<=_?i:c}).or(o)),Q.none()),Dk=(e,n)=>En(n.getClientRects()).bind(o=>kO(e,o.left)),tC=Qe(YM,St.isAbove,-1),nC=Qe(YM,St.isBelow,1),JM=Qe(XM,-1,tC),Rk=Qe(XM,1,nC),QM=(e,n)=>tC(e,n).breakAt.isNone(),e6=(e,n)=>nC(e,n).breakAt.isNone(),m9=e=>oo(e).map(n=>[n].concat(nC(e,n).positions)).getOr([]),t6=e=>md(e).map(n=>tC(e,n).positions.concat(n)).getOr([]),I1=(e,n)=>Dk(JM(e,n),n),g9=(e,n)=>Dk(Rk(e,n),n),h9=yo,n6=(e,n)=>Math.abs(e.left-n),_c=(e,n)=>Math.abs(e.right-n),o6=e=>Yl(e,"node"),r6=(e,n)=>wl(e,(o,i)=>{const c=Math.min(n6(o,n),_c(o,n)),m=Math.min(n6(i,n),_c(i,n));return m===c&&o6(i)&&h9(i.node)||m<c?i:o}),p9=e=>{const n=o=>$e(o,i=>{const c=Xf(i);return c.node=e,c});if(Nn(e))return n(e.getClientRects());if(jt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},s6=e=>Fo(e,p9);var oC;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(oC||(oC={}));const b9=(e,n,o,i)=>{let c=i;for(;c=N2(c,e,Vv,n);)if(o(c))return},EO=(e,n,o,i,c,m)=>{let p=0;const _=[],A=X=>{let ne=s6([X]);e===-1&&(ne=ne.reverse());for(let ve=0;ve<ne.length;ve++){const Ee=ne[ve];if(!o(Ee,$)){if(_.length>0&&n(Ee,Sa(_))&&p++,Ee.line=p,c(Ee))return!0;_.push(Ee)}}return!1},$=Sa(m.getClientRects());if(!$)return _;const q=m.getNode();return q&&(A(q),b9(e,i,A,q)),_},v9=(e,n)=>n.line>e,y9=(e,n)=>n.line===e,x9=Qe(EO,oC.Up,em,Dh),w9=Qe(EO,oC.Down,Dh,em),i6=e=>Sa(e.getClientRects()),Gy=(e,n,o,i)=>{const c=Jn(n);let m,p,_,A;const $=[];let q=0;e===1?(m=c.next,p=Dh,_=em,A=St.after(i)):(m=c.prev,p=em,_=Dh,A=St.before(i));const X=i6(A);do{if(!A.isVisible())continue;const ne=i6(A);if(_(ne,X))continue;$.length>0&&p(ne,Sa($))&&q++;const ve=Xf(ne);if(ve.position=A,ve.line=q,o(ve))return $;$.push(ve)}while(A=m(A));return $},AO=e=>n=>v9(e,n),qy=e=>n=>y9(e,n),hm=(e,n)=>{e.selection.setRng(n),pd(e,e.selection.getRng())},Ik=(e,n,o)=>Q.some(Ek(e,n,o)),TO=(e,n,o,i,c,m)=>{const p=n===ja.Forwards,_=Jn(e.getBody()),A=Qe(EA,p?_.next:_.prev),$=p?i:c;if(!o.collapsed){const Ee=zp(o);if(m(Ee))return Ls(n,e,Ee,n===ja.Backwards,!1);if(vO(e)){const ye=o.cloneRange();return ye.collapse(n===ja.Backwards),Q.from(ye)}}const q=M2(n,e.getBody(),o);if($(q))return Qw(e,q.getNode(!p));let X=A(q);const ne=Oh(o);if(X)X=xd(p,X);else return ne?Q.some(o):Q.none();if($(X))return Ls(n,e,X.getNode(!p),p,!1);const ve=A(X);return ve&&$(ve)&&T_(X,ve)?Ls(n,e,ve.getNode(!p),p,!1):ne?Ik(e,X.toRange(),!1):Q.none()},a6=(e,n,o,i,c,m)=>{const p=M2(n,e.getBody(),o),_=Sa(p.getClientRects()),A=n===oC.Down,$=e.getBody();if(!_)return Q.none();if(vO(e)){const Ie=A?St.fromRangeEnd(o):St.fromRangeStart(o);return(A?g9:I1)($,Ie).orThunk(()=>Q.from(Ie)).map(ot=>ot.toRange())}const X=(A?w9:x9)($,AO(1),p),ne=je(X,qy(1)),ve=_.left,Ee=r6(ne,ve);if(Ee&&m(Ee.node)){const Ie=Math.abs(ve-Ee.left),Ge=Math.abs(ve-Ee.right);return Ls(n,e,Ee.node,Ie<Ge,!1)}let ye;if(i(p)?ye=p.getNode():c(p)?ye=p.getNode(!0):ye=zp(o),ye){const Ie=Gy(n,$,AO(1),ye);let Ge=r6(je(Ie,qy(1)),ve);if(Ge||(Ge=Sa(je(Ie,qy(0))),Ge))return Ik(e,Ge.position.toRange(),!1)}return ne.length===0?Nk(e,A).filter(A?c:i).map(Ie=>Ek(e,Ie.toRange(),!1)):Q.none()},Nk=(e,n)=>{const o=e.selection.getRng(),i=n?St.fromRangeEnd(o):St.fromRangeStart(o),c=ZF(i.container(),e.getBody());if(n){const m=nC(c,i);return uo(m.positions)}else{const m=tC(c,i);return En(m.positions)}},l6=(e,n,o)=>Nk(e,n).filter(o).exists(i=>(e.selection.setRng(i.toRange()),!0)),rC=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},OO=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},DO=(e,n,o)=>CO(n,o).map(i=>(rC(e,i),o)),c6=(e,n,o)=>{const i=St.fromRangeStart(e);if(e.collapsed)return i;{const c=St.fromRangeEnd(e);return o?Yc(n,c).getOr(c):nc(n,i).getOr(i)}},u6=(e,n,o)=>{const i=e.getBody(),c=c6(e.selection.getRng(),i,o),m=Qe(p1,e);return u9(o,m,i,c).bind(_=>DO(e,n,_))},d6=(e,n,o)=>{const i=$e(vi(Ue.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),p=>p.dom),c=je(i,e),m=je(o,e);be(cr(c,m),Qe(OO,!1)),be(cr(m,c),Qe(OO,!0))},RO=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const i=St.fromRangeStart(e.selection.getRng());St.isTextPosition(i)&&!zT(i)&&(rC(e,WF(o,i)),n.set(null))}},f6=(e,n,o,i)=>{if(n.selection.isCollapsed()){const c=je(i,e);be(c,m=>{const p=St.fromRangeStart(n.selection.getRng());Dg(e,n.getBody(),p).bind(_=>DO(n,o,_))})}},IO=(e,n,o)=>cy(e)?u6(e,n,o).isSome():!1,NO=(e,n,o)=>cy(n)?SO(e,n):!1,m6=e=>{const n=Pi(null),o=Qe(p1,e);return e.on("NodeChange",i=>{cy(e)&&(d6(o,e.dom,i.parents),RO(e,n),f6(o,e,n,i.parents))}),n},g6=Qe(NO,!0),h6=Qe(NO,!1),sC=(e,n,o)=>{if(cy(e)){const i=Nk(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?St.fromRangeEnd(c):St.fromRangeStart(c)});return Dg(Qe(p1,e),e.getBody(),i).exists(c=>{const m=eC(c);return CO(o,m).exists(p=>(rC(e,p),!0))})}else return!1},PO=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},LO=e=>aa(oo(e),md(e),(n,o)=>{const i=xd(!0,n),c=xd(!1,o);return nc(e,i).forall(m=>m.isEqual(c))}).getOr(!0),iC=(e,n)=>o=>CO(n,o).map(i=>()=>rC(e,i)),MO=(e,n,o,i)=>{const c=e.getBody(),m=Qe(p1,e);e.undoManager.ignore(()=>{e.selection.setRng(PO(o,i)),vS(e),Dg(m,c,St.fromRangeStart(e.selection.getRng())).map(Tk).bind(iC(e,n)).each(Ht)}),e.nodeChanged()},p6=(e,n)=>{const o=Zp(n,e);return o||e},b6=(e,n,o,i)=>{const c=p6(e.getBody(),i.container()),m=Qe(p1,e),p=Dg(m,c,i);return p.bind(A=>o?A.fold(ct(Q.some(Tk(A))),Q.none,ct(Q.some(eC(A))),Q.none):A.fold(Q.none,ct(Q.some(eC(A))),Q.none,ct(Q.some(Tk(A))))).map(iC(e,n)).getOrThunk(()=>{const A=Qv(o,c,i),$=A.bind(q=>Dg(m,c,q));return aa(p,$,()=>ab(m,c,i).bind(q=>LO(q)?Q.some(()=>{Il(e,o,Ue.fromDom(q))}):Q.none())).getOrThunk(()=>$.bind(()=>A.map(q=>()=>{o?MO(e,n,i,q):MO(e,n,q,i)})))})},aC=(e,n,o)=>{if(e.selection.isCollapsed()&&cy(e)){const i=St.fromRangeStart(e.selection.getRng());return b6(e,n,o,i)}return Q.none()},v6=e=>jd(e)>1,BO=(e,n)=>{const o=Ue.fromDom(e.getBody()),i=Ue.fromDom(e.selection.getStart()),c=eu(i,o);return qn(c,n).fold(ct(c),m=>c.slice(0,m))},y6=e=>jd(e)===1,C9=e=>BO(e,n=>e.schema.isBlock(er(n))||v6(n)),x6=e=>BO(e,n=>e.schema.isBlock(er(n))),FO=(e,n)=>{const o=Qe(Py,e);return Fo(n,i=>o(i)?[i.dom]:[])},lC=e=>{const n=x6(e);return FO(e,n)},w6=(e,n,o,i)=>{const c=FO(n,i);if(c.length===0)Il(n,e,o);else{const m=k3(o.dom,c);n.selection.setRng(m.toRange())}},C6=(e,n)=>{const o=je(C9(e),y6);return uo(o).bind(i=>{const c=St.fromRangeStart(e.selection.getRng());return y5(n,c,i.dom)&&!F_(i)?Q.some(()=>w6(n,e,i,o)):Q.none()})},$O=(e,n)=>{const o=n.parentElement;return ps(n)&&!Ve(o)&&e.dom.isEmpty(o)},_9=e=>F_(Ue.fromDom(e)),VO=(e,n)=>{const o=e.selection.getStart(),i=$O(e,o)||_9(o)?k3(o,n):R$(e.selection.getRng(),n);e.selection.setRng(i.toRange())},S9=(e,n)=>{const o=cr(n,lC(e));o.length>0&&VO(e,o)},zO=e=>jt(e.startContainer),_6=e=>e.startOffset===0&&zO(e),k9=(e,n)=>{const o=n.startContainer.parentElement;return!Ve(o)&&Py(e,Ue.fromDom(o))},E9=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Ve(n)&&!Ve(o)&&n.isEqualNode(o)},r=e=>{const n=e.endContainer;return e.endOffset===(jt(n)?n.length:n.childNodes.length)},l=e=>E9(e)&&r(e),d=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),f=e=>l(e)||d(e),b=e=>{const n=e.selection.getRng();return _6(n)&&k9(e,n)&&f(n)},v=e=>{if(b(e)){const n=lC(e);return Q.some(()=>{vS(e),S9(e,n)})}else return Q.none()},C=(e,n)=>e.selection.isCollapsed()?C6(e,n):v(e),k=(e,n)=>KC(e,o=>Ru(o.dom),o=>n.isBlock(er(o))),E=e=>k(Ue.fromDom(e.selection.getStart()),e.schema),P=e=>{const n=e.selection.getRng();return n.collapsed&&(zO(n)||e.dom.isEmpty(n.startContainer))&&!E(e)},F=e=>(P(e)&&VO(e,[]),!0),M=(e,n,o)=>Oe(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),Il(e,n,Ue.fromDom(o))}):Q.none(),V=(e,n)=>{const o=n?f1:Ey,i=n?ja.Forwards:ja.Backwards,c=M2(i,e.getBody(),e.selection.getRng());return o(c)?M(e,n,c.getNode(!n)):Q.from(xd(n,c)).filter(m=>o(m)&&T_(c,m)).bind(m=>M(e,n,m.getNode(!n)))},Y=(e,n)=>{const o=e.selection.getNode();return Ot(o)?M(e,n,o):Q.none()},ee=(e,n)=>e.selection.isCollapsed()?V(e,n):Y(e,n),fe=e=>bi(e,n=>Vc(n.dom)||yo(n.dom)).exists(n=>Vc(n.dom)),pe=e=>mn(e??"").getOr(0),Se=(e,n)=>{const o=e||Dv(n)?"margin":"padding",i=Us(n,"direction")==="rtl"?"-right":"-left";return o+i},ge=(e,n,o,i,c,m)=>{const p=Se(o,Ue.fromDom(m)),_=pe(e.getStyle(m,p));if(n==="outdent"){const A=Math.max(0,_-i);e.setStyle(m,p,A?A+c:"")}else{const A=_+i+c;e.setStyle(m,p,A)}},me=(e,n)=>Ro(n,o=>{const i=Se(TR(e),o),c=Fs(o,i).map(pe).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),we=e=>{const n=Ze(e);return!e.mode.isReadOnly()&&(n.length>1||me(e,n))},ke=e=>Iv(e)||sg(e),De=e=>ua(e).exists(ke),Ze=e=>je(vu(e.selection.getSelectedBlocks()),n=>!ke(n)&&!De(n)&&fe(n)),it=(e,n)=>{var o,i;const{dom:c}=e,m=Ou(e),p=(i=(o=/[a-z%]+$/i.exec(m))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:"px",_=pe(m),A=TR(e);be(Ze(e),$=>{ge(c,n,A,_,p,$.dom)})},It=e=>it(e,"indent"),Tt=e=>it(e,"outdent"),kt=e=>{if(e.selection.isCollapsed()&&we(e)){const n=e.dom,o=e.selection.getRng(),i=St.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&mS(Ue.fromDom(c),i,e.schema))return Q.some(()=>Tt(e))}return Q.none()},Wt=(e,n,o)=>ci([kt,yO,pO,(i,c)=>aC(i,n,c),Sk,Uh,wO,ee,mO,C,xO],i=>i(e,o)).filter(i=>e.selection.isEditable()),vn=(e,n)=>{Wt(e,n,!1).fold(()=>{e.selection.isEditable()&&(vS(e),yS(e))},Ht)},In=(e,n)=>{Wt(e,n,!0).fold(()=>{e.selection.isEditable()&&UT(e)},Ht)},Kn=(e,n)=>{e.addCommand("delete",()=>{vn(e,n)}),e.addCommand("forwardDelete",()=>{In(e,n)})},lo=5,Uo=400,ss=e=>e.touches===void 0||e.touches.length!==1?Q.none():Q.some(e.touches[0]),ms=(e,n)=>{const o=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return o>lo||i>lo},Do=e=>{const n=Li(),o=Pi(!1),i=Bp(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},Uo);e.on("touchstart",c=>{ss(c).each(m=>{i.cancel();const p={x:m.clientX,y:m.clientY,target:c.target};i.throttle(c),o.set(!1),n.set(p)})},!0),e.on("touchmove",c=>{i.cancel(),ss(c).each(m=>{n.on(p=>{ms(m,p)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{i.cancel(),c.type!=="touchcancel"&&n.get().filter(m=>m.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},or=(e,n)=>fo(e,n.nodeName),Xn=(e,n)=>jt(n)?!0:Nn(n)?!or(e.getBlockElements(),n)&&!Iu(n)&&!Wf(e,n)&&!Mi(n):!1,gs=(e,n,o)=>Ae(yc(Ue.fromDom(o),Ue.fromDom(n)),i=>or(e,i.dom)),Vr=(e,n)=>{if(jt(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||or(e,n.nextSibling)||Mi(n.nextSibling)}return!1},Ga=e=>e.dom.create(ml(e),S2(e)),qa=e=>{const n=e.dom,o=e.selection,i=e.schema,c=i.getBlockElements(),m=o.getStart(),p=e.getBody();let _,A,$=null;const q=ml(e);if(!m||!Nn(m))return;const X=p.nodeName.toLowerCase();if(!i.isValidChild(X,q.toLowerCase())||gs(c,p,m))return;if(p.firstChild===p.lastChild&&ps(p.firstChild)){_=Ga(e),_.appendChild(nf().dom),p.replaceChild(_,p.firstChild),e.selection.setCursorLocation(_,0),e.nodeChanged();return}let ne=p.firstChild;for(;ne;)if(Nn(ne)&&hc(i,ne),Xn(i,ne)){if(Vr(c,ne)){A=ne,ne=ne.nextSibling,n.remove(A);continue}if(!_){if(!$&&e.hasFocus()&&($=NM(e.selection.getRng(),()=>document.createElement("span"))),!ne.parentNode){ne=null;break}_=Ga(e),p.insertBefore(_,ne)}A=ne,ne=ne.nextSibling,_.appendChild(A)}else _=null,ne=ne.nextSibling;$&&(e.selection.setRng(PM($)),e.nodeChanged())},ta=(e,n,o)=>{const i=Ue.fromDom(Ga(e)),c=nf();Ws(i,c),o(n,i);const m=document.createRange();return m.setStartBefore(c.dom),m.setEndBefore(c.dom),m},$i=e=>{e.on("NodeChange",()=>qa(e))},Yh=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,Yy=(e,n,o)=>function(i){const c=arguments,m=c[c.length-2],p=m>0?n.charAt(m-1):"";if(p==='"')return i;if(p===">"){const _=n.lastIndexOf("<",m);if(_!==-1&&n.substring(_,m).indexOf('contenteditable="false"')!==-1)return i}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},Cb=(e,n,o)=>{let i=n.length,c=o.content;if(o.format!=="raw"){for(;i--;)c=c.replace(n[i],Yy(e,c,qv(e)));o.content=c}},Xh=(e,n)=>Ro(e,o=>{const i=n.match(o);return i!==null&&i[0].length===n.length}),cC=e=>{const n="contenteditable",o=" "+tn.trim(BF(e))+" ",i=" "+tn.trim(qv(e))+" ",c=Yh(o),m=Yh(i),p=HR(e);p.length>0&&e.on("BeforeSetContent",_=>{Cb(e,p,_)}),e.parser.addAttributeFilter("class",_=>{let A=_.length;for(;A--;){const $=_[A];c($)?$.attr(n,"true"):m($)&&$.attr(n,"false")}}),e.serializer.addAttributeFilter(n,_=>{let A=_.length;for(;A--;){const $=_[A];if(!c($)&&!m($))continue;const q=$.attr("data-mce-content");p.length>0&&q?Xh(p,q)?($.name="#text",$.type=3,$.raw=!0,$.value=q):$.remove():$.attr(n,null)}})},_b=e=>Lt(Ue.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),Rg=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Th(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},N1=(e,n)=>{const o=_b(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),Rg(e,o);return}Z0(o)&&(Rg(e,o),e.undoManager.add())}},P1=e=>{e.on("keyup compositionstart",Qe(N1,e))},Xy=yo,Pk=(e,n,o)=>TO(n,e,o,Fi,fm,Xy),uC=(e,n,o)=>a6(n,e,o,m=>Fi(m)||ZN(m),m=>fm(m)||Ay(m),Xy),Sb=e=>{const n=e.dom.create(ml(e));return n.innerHTML='<br data-mce-bogus="1">',n},Ig=(e,n,o)=>{const i=Jn(e.getBody()),c=Qe(EA,n===1?i.next:i.prev);if(o.collapsed){const m=e.dom.getParent(o.startContainer,"PRE");if(!m)return;if(!c(St.fromRangeStart(o))){const _=Ue.fromDom(Sb(e));n===1?ut(Ue.fromDom(m),_):Ds(Ue.fromDom(m),_),e.selection.select(_.dom,!0),e.selection.collapse()}}},Jh=(e,n)=>{const o=n?ja.Forwards:ja.Backwards,i=e.selection.getRng();return Pk(o,e,i).orThunk(()=>(Ig(e,o,i),Q.none()))},dC=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return uC(o,e,i).orThunk(()=>(Ig(e,o,i),Q.none()))},fC=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return Cw(o)?!n:n},pr=(e,n)=>Jh(e,fC(e.selection,n)).exists(o=>(hm(e,o),!0)),Ng=(e,n)=>dC(e,n).exists(o=>(hm(e,o),!0)),pf=(e,n)=>l6(e,n,n?fm:Fi),L1=(e,n)=>bO(e,!n).map(o=>{const i=o.toRange(),c=e.selection.getRng();return n?i.setStart(c.startContainer,c.startOffset):i.setEnd(c.endContainer,c.endOffset),i}).exists(o=>(hm(e,o),!0)),Lk=e=>xe(["figcaption"],er(e)),Qh=(e,n,o)=>{const i=Qe(tr,n);return bi(Ue.fromDom(e.container()),c=>o.isBlock(er(c)),i).filter(Lk)},Jy=(e,n,o)=>n?e6(e.dom,o):QM(e.dom,o),HO=(e,n)=>{const o=Ue.fromDom(e.getBody()),i=St.fromRangeStart(e.selection.getRng());return Qh(i,o,e.schema).exists(()=>{if(Jy(o,n,i)){const m=ta(e,o,n?Ws:Ha);return e.selection.setRng(m),!0}else return!1})},Mk=(e,n)=>e.selection.isCollapsed()?HO(e,n):!1,A9=(e,n,o)=>{const i=e.selection.getRng(),c=St.fromRangeStart(i);return e.getBody().firstChild===n&&QM(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Qy=(e,n)=>{const o=e.selection.getRng(),i=St.fromRangeStart(o);return e.getBody().lastChild===n&&e6(n,i)?(e.execCommand("InsertNewBlockAfter"),!0):!1},T9=(e,n)=>n?Q.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Qy(e,o)).getOr(!1):Q.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>Q.from(e.dom.getParent(o,"details")).map(i=>A9(e,i,o))).getOr(!1),Pl=(e,n)=>T9(e,n),M1={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},O9=e=>$e(e,n=>({...M1,...n})),S6=e=>$e(e,n=>({...M1,...n})),Bk=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,k6=(e,n)=>Fo(O9(e),o=>Bk(o,n)?[o]:[]),E6=(e,n)=>Fo(S6(e),o=>Bk(o,n)?[o]:[]),vo=(e,...n)=>()=>e.apply(null,n),kb=(e,n)=>bn(k6(e,n),o=>o.action()),Fk=(e,n)=>ci(E6(e,n),o=>o.action()),Eb=(e,n)=>{const o=n?ja.Forwards:ja.Backwards,i=e.selection.getRng();return TO(e,o,i,f1,Ey,Ot).exists(c=>(hm(e,c),!0))},ex=(e,n)=>{const o=n?1:-1,i=e.selection.getRng();return a6(e,o,i,f1,Ey,Ot).exists(c=>(hm(e,c),!0))},UO=(e,n)=>l6(e,n,n?Ey:f1),WO=Yo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Ed={...WO,none:e=>WO.none(e)},A6=(e,n)=>jO(e,n,nn),jO=(e,n,o)=>Fo(da(e),i=>Br(i,n)?o(i)?[i]:[]:jO(i,n,o)),T6=(e,n,o=Tn)=>{if(o(n))return Q.none();if(xe(e,er(n)))return Q.some(n);const i=c=>Br(c,"table")||o(c);return pu(n,e.join(","),i)},O6=(e,n)=>T6(["td","th"],e,n),D9=e=>A6(e,"th,td"),vt=(e,n)=>Yi(e,"table",n),jn=(e,n,o,i,c=nn)=>{const m=i===1;if(!m&&o<=0)return Ed.first(e[0]);if(m&&o>=e.length-1)return Ed.last(e[e.length-1]);{const p=o+i,_=e[p];return c(_)?Ed.middle(n,_):jn(e,n,p,i,c)}},xo=(e,n)=>vt(e,n).bind(o=>{const i=D9(o);return qn(i,m=>tr(e,m)).map(m=>({index:m,all:i}))}),is=(e,n,o)=>xo(e,o).fold(()=>Ed.none(e),c=>jn(c.all,e,c.index,1,n)),Ys=(e,n,o)=>xo(e,o).fold(()=>Ed.none(),c=>jn(c.all,e,c.index,-1,n)),mi=e=>i_(e).filter(n=>n.trim().length!==0||n.indexOf(Ni)>-1).isSome(),li=e=>Ba(e)&&Ta(e,"contenteditable")==="false",Ti=["img","br"],tx=e=>mi(e)||xe(Ti,er(e))||li(e),R9=e=>qi(e,tx),D6=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),LK=(e,n)=>Fo(n,o=>{const i=D6(Xf(o.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:o},{x:i.right,y:e(i),cell:o}]}),kne=(e,n,o)=>sn(e,(i,c)=>i.fold(()=>Q.some(c),m=>{const p=Math.sqrt(Math.abs(m.x-n)+Math.abs(m.y-o)),_=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return Q.some(_<p?c:m)}),Q.none()),MK=(e,n,o,i,c)=>{const m=vi(Ue.fromDom(o),"td,th,caption").map(_=>_.dom),p=je(LK(e,m),_=>n(_,c));return kne(p,i,c).map(_=>_.cell)},Ene=e=>e.bottom,Ane=e=>e.top,Tne=(e,n)=>e.y<n,One=(e,n)=>e.y>n,Dne=Qe(MK,Ene,Tne),Rne=Qe(MK,Ane,One),Ine=(e,n)=>En(n.getClientRects()).bind(o=>Dne(e,o.left,o.top)).bind(o=>Dk(t6(o),n)),Nne=(e,n)=>uo(n.getClientRects()).bind(o=>Rne(e,o.left,o.top)).bind(o=>Dk(m9(o),n)),Pne=(e,n,o)=>o.breakAt.exists(i=>e(n,i).breakAt.isSome()),Lne=e=>e.breakType===hf.Wrap&&e.positions.length===0,Mne=e=>e.breakType===hf.Br&&e.positions.length===1,BK=(e,n,o)=>{const i=e(n,o);return Lne(i)||!ps(o.getNode())&&Mne(i)?!Pne(e,n,i):i.breakAt.isNone()},Bne=Qe(BK,tC),Fne=Qe(BK,nC),$ne=(e,n,o)=>{const i=St.fromRangeStart(n);return fy(!e,o).exists(c=>c.isEqual(i))},Vne=(e,n,o,i)=>{const c=e.selection.getRng(),m=n?1:-1;return wA()&&$ne(n,c,o)?(Ls(m,e,o,!n,!1).each(p=>{hm(e,p)}),!0):!1},zne=(e,n,o)=>Ine(n,o).orThunk(()=>En(o.getClientRects()).bind(i=>kO(JM(e,St.before(n)),i.left))).getOr(St.before(n)),Hne=(e,n,o)=>Nne(n,o).orThunk(()=>En(o.getClientRects()).bind(i=>kO(Rk(e,St.after(n)),i.left))).getOr(St.after(n)),FK=(e,n)=>{const o=n.getNode(e);return xu(o)?Q.some(o):Q.none()},Une=(e,n,o)=>{n.undoManager.transact(()=>{const i=e?ut:Ds,c=ta(n,Ue.fromDom(o),i);hm(n,c)})},$K=(e,n,o)=>{const i=FK(!!n,o),c=n===!1;i.fold(()=>hm(e,o.toRange()),m=>fy(c,e.getBody()).filter(p=>p.isEqual(o)).fold(()=>hm(e,o.toRange()),p=>Une(n,e,m)))},Wne=(e,n,o,i)=>{const c=e.selection.getRng(),m=St.fromRangeStart(c),p=e.getBody();if(!n&&Bne(i,m)){const _=zne(p,o,m);return $K(e,n,_),!0}else if(n&&Fne(i,m)){const _=Hne(p,o,m);return $K(e,n,_),!0}else return!1},VK=(e,n,o)=>Q.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(i=>Q.from(e.dom.getParent(i,"table")).map(c=>o(e,n,c,i))).getOr(!1),zK=(e,n)=>VK(e,n,Vne),I9=(e,n)=>VK(e,n,Wne),Kne=e=>{const n=tb.exact(e,0,e,0);return _7(n)},HK=(e,n,o)=>o.fold(Q.none,Q.none,(i,c)=>R9(c).map(m=>Kne(m)),i=>(e.execCommand("mceTableInsertRowAfter"),UK(e,n,i))),UK=(e,n,o)=>HK(e,n,is(o,Ss)),jne=(e,n,o)=>HK(e,n,Ys(o,Ss)),WK=(e,n)=>{const o=["table","li","dl"],i=Ue.fromDom(e.getBody()),c=_=>{const A=er(_);return tr(_,i)||xe(o,A)},m=e.selection.getRng(),p=Ue.fromDom(n?m.endContainer:m.startContainer);return O6(p,c).map(_=>(vt(_,c).each(q=>{e.model.table.clearSelectedCells(q.dom)}),e.selection.collapse(!n),(n?UK:jne)(e,c,_).each(q=>{e.selection.setRng(q)}),!0)).getOr(!1)},Zne=(e,n,o)=>{const i=zo.os.isMacOS()||zo.os.isiOS();kb([{keyCode:hn.RIGHT,action:vo(pr,e,!0)},{keyCode:hn.LEFT,action:vo(pr,e,!1)},{keyCode:hn.UP,action:vo(Ng,e,!1)},{keyCode:hn.DOWN,action:vo(Ng,e,!0)},...i?[{keyCode:hn.UP,action:vo(L1,e,!1),metaKey:!0,shiftKey:!0},{keyCode:hn.DOWN,action:vo(L1,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:hn.RIGHT,action:vo(zK,e,!0)},{keyCode:hn.LEFT,action:vo(zK,e,!1)},{keyCode:hn.UP,action:vo(I9,e,!1)},{keyCode:hn.DOWN,action:vo(I9,e,!0)},{keyCode:hn.UP,action:vo(I9,e,!1)},{keyCode:hn.UP,action:vo(Pl,e,!1)},{keyCode:hn.DOWN,action:vo(Pl,e,!0)},{keyCode:hn.RIGHT,action:vo(Eb,e,!0)},{keyCode:hn.LEFT,action:vo(Eb,e,!1)},{keyCode:hn.UP,action:vo(ex,e,!1)},{keyCode:hn.DOWN,action:vo(ex,e,!0)},{keyCode:hn.RIGHT,action:vo(IO,e,n,!0)},{keyCode:hn.LEFT,action:vo(IO,e,n,!1)},{keyCode:hn.RIGHT,ctrlKey:!i,altKey:i,action:vo(g6,e,n)},{keyCode:hn.LEFT,ctrlKey:!i,altKey:i,action:vo(h6,e,n)},{keyCode:hn.UP,action:vo(Mk,e,!1)},{keyCode:hn.DOWN,action:vo(Mk,e,!0)}],o).each(c=>{o.preventDefault()})},Gne=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Zne(e,n,o)})},ep=(e,n)=>({container:e,offset:n}),R6=Xr.DOM,I6=e=>n=>e===n?-1:0,qne=e=>n=>e.isBlock(n)||xe(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",N9=(e,n,o)=>{if(jt(e)&&n>=0)return Q.some(ep(e,n));{const i=ef(R6);return Q.from(i.backwards(e,n,I6(e),o)).map(c=>ep(c.container,c.container.data.length))}},Yne=(e,n,o)=>{if(jt(e)&&n>=e.length)return Q.some(ep(e,n));{const i=ef(R6);return Q.from(i.forwards(e,n,I6(e),o)).map(c=>ep(c.container,0))}},P9=(e,n,o)=>{if(!jt(e))return Q.none();const i=e.data;if(n>=0&&n<=i.length)return Q.some(ep(e,n));{const c=ef(R6);return Q.from(c.backwards(e,n,I6(e),o)).bind(m=>{const p=m.container.data;return P9(m.container,n+p.length,o)})}},KK=(e,n,o)=>{if(!jt(e))return Q.none();const i=e.data;if(n<=i.length)return Q.some(ep(e,n));{const c=ef(R6);return Q.from(c.forwards(e,n,I6(e),o)).bind(m=>KK(m.container,n-i.length,o))}},L9=(e,n,o,i,c)=>{const m=ef(e,qne(e));return Q.from(m.backwards(n,o,i,c))},Xne=e=>e.collapsed&&jt(e.startContainer),Jne=e=>Dl(e.toString().replace(/\u00A0/g," ")),jK=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Qne=(e,n)=>e.substring(n.length),eoe=(e,n,o,i=!1)=>{let c;const m=o.charAt(0);for(c=n-1;c>=0;c--){const p=e.charAt(c);if(!i&&jK(p))return Q.none();if(m===p&&Mr(e,o,c,n))break}return Q.some(c)},M9=(e,n,o,i=!1)=>{if(!Xne(n))return Q.none();const c={text:"",offset:0},m=(_,A,$)=>(c.text=$+c.text,c.offset+=A,eoe(c.text,c.offset,o,i).getOr(A)),p=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return L9(e,n.startContainer,n.startOffset,m,p).bind(_=>{const A=n.cloneRange();if(A.setStart(_.container,_.offset),A.setEnd(n.endContainer,n.endOffset),A.collapsed)return Q.none();const $=Jne(A);return $.lastIndexOf(o)!==0?Q.none():Q.some({text:Qne($,o),range:A,trigger:o})})},toe=e=>e.nodeType===oh,noe=e=>e.nodeType===Sl,ZK=e=>{if(toe(e))return ep(e,e.data.length);{const n=e.childNodes;return n.length>0?ZK(n[n.length-1]):ep(e,n.length)}},GK=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?GK(o[n],0):o.length>0&&noe(e)&&o.length===n?ZK(o[o.length-1]):ep(e,n)},ooe=(e,n)=>{var o;const i=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return L9(e,n.container,n.offset,(c,m)=>m===0?-1:m,i).filter(c=>{const m=c.container.data.charAt(c.offset-1);return!jK(m)}).isSome()},roe=e=>n=>{const o=GK(n.startContainer,n.startOffset);return!ooe(e,o)},soe=(e,n,o)=>ci(o.triggers,i=>M9(e,n,i)),ioe=(e,n)=>{const o=n(),i=e.selection.getRng();return soe(e.dom,i,o).bind(c=>qK(e,n,c))},qK=(e,n,o,i={})=>{var c;const m=n(),_=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",A=je(m.lookupByTrigger(o.trigger),q=>o.text.length>=q.minChars&&q.matches.getOrThunk(()=>roe(e.dom))(o.range,_,o.text));if(A.length===0)return Q.none();const $=Promise.all($e(A,q=>q.fetch(o.text,q.maxResults,i).then(ne=>({matchText:o.text,items:ne,columns:q.columns,onAction:q.onAction,highlightOn:q.highlightOn}))));return Q.some({lookupData:$,context:o})};var tp;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(tp||(tp={}));const B9=(e,n,o)=>e.stype===tp.Error?n(e.serror):o(e.svalue),aoe=e=>{const n=[],o=[];return be(e,i=>{B9(i,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},loe=(e,n)=>e.stype===tp.Error?{stype:tp.Error,serror:n(e.serror)}:e,coe=(e,n)=>e.stype===tp.Value?{stype:tp.Value,svalue:n(e.svalue)}:e,uoe=(e,n)=>e.stype===tp.Value?n(e.svalue):e,doe=(e,n)=>e.stype===tp.Error?n(e.serror):e,YK=e=>({stype:tp.Value,svalue:e}),XK=e=>({stype:tp.Error,serror:e}),jl={fromResult:e=>e.fold(XK,YK),toResult:e=>B9(e,no.error,no.value),svalue:YK,partition:aoe,serror:XK,bind:uoe,bindError:doe,map:coe,mapError:loe,fold:B9},F9=e=>U(e)&&Xt(e).length>100?" removed due to size":JSON.stringify(e,null,2),foe=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ct("... (only showing first ten failures)")}]):e;return $e(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},N6=(e,n)=>jl.serror([{path:e,getErrorInfo:n}]),moe=(e,n,o)=>N6(e,()=>'Could not find valid *required* value for "'+n+'" in '+F9(o)),goe=(e,n)=>N6(e,()=>'Choice schema did not contain choice key: "'+n+'"'),hoe=(e,n,o)=>N6(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+F9(n)),poe=(e,n)=>N6(e,ct(n)),boe=(e,n,o,i)=>Nr(o,i).fold(()=>hoe(e,o,i),m=>m.extract(e.concat(["branch: "+i]),n)),voe=(e,n)=>({extract:(c,m)=>Nr(m,e).fold(()=>goe(c,e),_=>boe(c,m,n,_)),toString:()=>"chooseOn("+e+"). Possible values: "+Xt(n)}),yoe=(e,n)=>n,xoe=(e,n)=>de(e)&&de(n)?P6(e,n):n,JK=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let i=0;i<n.length;i++){const c=n[i];for(const m in c)fo(c,m)&&(o[m]=e(o[m],c[m]))}return o},P6=JK(xoe),QK=JK(yoe),ej=()=>({tag:"required",process:{}}),woe=e=>({tag:"defaultedThunk",process:e}),tj=e=>woe(ct(e)),Coe=()=>({tag:"option",process:{}}),_oe=(e,n)=>e.length>0?jl.svalue(P6(n,QK.apply(void 0,e))):jl.svalue(n),nj=e=>zt(jl.serror,eo)(e),Soe={consolidateObj:(e,n)=>{const o=jl.partition(e);return o.errors.length>0?nj(o.errors):_oe(o.values,n)},consolidateArr:e=>{const n=jl.partition(e);return n.errors.length>0?nj(n.errors):jl.svalue(n.values)}},koe=(e,n,o,i)=>({tag:"field",key:e,newKey:n,presence:o,prop:i}),Eoe=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),oj=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},$9=e=>{const n=(i,c)=>jl.bindError(e(c),m=>poe(i,m)),o=ct("val");return{extract:n,toString:o}},Aoe=$9(jl.svalue),Toe=(e,n,o,i)=>Nr(n,o).fold(()=>moe(e,o,n),i),rj=(e,n,o,i)=>{const c=Nr(e,n).getOrThunk(()=>o(e));return i(c)},Ooe=(e,n,o)=>o(Nr(e,n)),Doe=(e,n,o,i)=>{const c=Nr(e,n).map(m=>m===!0?o(e):m);return i(c)},Roe=(e,n,o,i,c)=>{const m=_=>c.extract(n.concat([i]),_),p=_=>_.fold(()=>jl.svalue(Q.none()),A=>{const $=c.extract(n.concat([i]),A);return jl.map($,Q.some)});switch(e.tag){case"required":return Toe(n,o,i,m);case"defaultedThunk":return rj(o,i,e.process,m);case"option":return Ooe(o,i,p);case"defaultedOptionThunk":return Doe(o,i,e.process,p);case"mergeWithThunk":return rj(o,i,ct({}),_=>{const A=P6(e.process(o),_);return m(A)})}},Ioe=(e,n,o)=>{const i={},c=[];for(const m of o)oj(m,(p,_,A,$)=>{const q=Roe(A,e,n,p,$);jl.fold(q,X=>{c.push(...X)},X=>{i[_]=X})},(p,_)=>{i[p]=_(n)});return c.length>0?jl.serror(c):jl.svalue(i)},V9=e=>({extract:(i,c)=>Ioe(i,c,e),toString:()=>`obj{
`+$e(e,c=>oj(c,(m,p,_,A)=>m+" -> "+A.toString(),(m,p)=>"state("+m+")")).join(`
`)+"}"}),sj=e=>({extract:(i,c)=>{const m=$e(c,(p,_)=>e.extract(i.concat(["["+_+"]"]),p));return Soe.consolidateArr(m)},toString:()=>"array("+e.toString()+")"}),Noe=e=>$9(n=>e(n).fold(jl.serror,jl.svalue)),Poe=(e,n,o)=>{const i=n.extract([e],o);return jl.mapError(i,c=>({input:o,errors:c}))},Loe=(e,n,o)=>jl.toResult(Poe(e,n,o)),Moe=e=>`Errors: 
`+foe(e.errors).join(`
`)+`

Input object: `+F9(e.input),ij=(e,n)=>voe(e,ql(n,V9)),Boe=ct(Aoe),L6=(e,n)=>$9(o=>{const i=typeof o;return e(o)?jl.svalue(o):jl.serror(`Expected type: ${n} but got: ${i}`)}),Foe=L6(D,"number"),M6=L6(ae,"string"),$oe=L6(Me,"boolean"),z9=L6(Te,"function"),ZO=koe,aj=Eoe,Voe=e=>Noe(n=>xe(e,n)?no.value(n):no.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),lj=(e,n)=>ZO(e,e,ej(),n),cj=e=>lj(e,M6),uj=e=>lj(e,z9),zoe=(e,n)=>ZO(e,e,ej(),sj(n)),H9=(e,n)=>ZO(e,e,Coe(),n),B6=e=>H9(e,M6),Hoe=e=>H9(e,z9),Uoe=(e,n)=>ZO(e,e,tj(n),Boe()),$k=(e,n,o)=>ZO(e,e,tj(n),o),dj=(e,n)=>$k(e,n,Foe),Woe=(e,n)=>$k(e,n,M6),fj=(e,n,o)=>$k(e,n,Voe(o)),U9=(e,n)=>$k(e,n,$oe),W9=(e,n)=>$k(e,n,z9),Koe=(e,n,o)=>$k(e,n,sj(o)),joe=cj("type"),Zoe=uj("fetch"),K9=uj("onAction"),Goe=W9("onSetup",()=>lt),qoe=B6("text"),Yoe=B6("icon"),Xoe=B6("tooltip"),Joe=B6("label"),Qoe=U9("active",!1),ere=U9("enabled",!0),mj=U9("primary",!1),tre=e=>Uoe("columns",e),GO=e=>Woe("type",e),nre=V9([joe,cj("trigger"),dj("minChars",1),tre(1),dj("maxResults",10),Hoe("matches"),Zoe,K9,Koe("highlightOn",[],M6)]),ore=e=>Loe("Autocompleter",nre,e),j9=[ere,Xoe,Yoe,qoe,Goe],gj=[Qoe].concat(j9),rre=[W9("predicate",Tn),fj("scope","node",["node","editor"]),fj("position","selection",["node","selection","line"])],sre=j9.concat([GO("contextformbutton"),mj,K9,aj("original",kn)]),ire=gj.concat([GO("contextformbutton"),mj,K9,aj("original",kn)]),are=j9.concat([GO("contextformbutton")]),lre=gj.concat([GO("contextformtogglebutton")]),cre=ij("type",{contextformbutton:sre,contextformtogglebutton:ire});V9([GO("contextform"),W9("initValue",ct("")),Joe,zoe("commands",cre),H9("launch",ij("type",{contextformbutton:are,contextformtogglebutton:lre}))].concat(rre));const ure=e=>{const n=e.ui.registry.getAll().popups,o=ql(n,p=>ore(p).fold(_=>{throw new Error(Moe(_))},kn)),i=qu(xl(o,p=>p.trigger)),c=Gu(o);return{dataset:o,triggers:i,lookupByTrigger:p=>je(c,_=>_.trigger===p)}},dre=(e,n)=>{const o=Bp(n.load,50);e.on("input",i=>{i.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",i=>{const c=i.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},fre=e=>{const n=Li(),o=Pi(!1),i=n.isSet,c=()=>{i()&&(c7(e),o.set(!1),n.clear())},m=X=>{i()||n.set({trigger:X.trigger,matchLength:X.text.length})},p=zl(()=>ure(e)),_=X=>n.get().map(ne=>M9(e.dom,e.selection.getRng(),ne.trigger,!0).bind(ve=>qK(e,p,ve,X))).getOrThunk(()=>ioe(e,p)),A=X=>{_(X).fold(c,ne=>{m(ne.context),ne.lookupData.then(ve=>{n.get().map(Ee=>{const ye=ne.context;Ee.trigger===ye.trigger&&(n.set({...Ee,matchLength:ye.text.length}),o.get()?(jA(e,{range:ye.range}),KA(e,{lookupData:ve})):(o.set(!0),jA(e,{range:ye.range}),WA(e,{lookupData:ve})))})})})},$=(X,ne)=>{const ve=X.compareBoundaryPoints(window.Range.START_TO_START,ne),Ee=X.compareBoundaryPoints(window.Range.END_TO_END,ne);return ve>=0&&Ee<=0},q=()=>n.get().bind(({trigger:X})=>{const ne=e.selection.getRng();return M9(e.dom,ne,X,o.get()).filter(({range:ve})=>$(ne,ve)).map(({range:ve})=>ve)});e.addCommand("mceAutocompleterReload",(X,ne)=>{const ve=U(ne)?ne.fetchOptions:{};A(ve)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{q().each(X=>{jA(e,{range:X})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>q().isSome()),dre(e,{cancelIfNecessary:c,load:A})},mre=sa().browser.isSafari(),hj=e=>Zc(Ue.fromDom(e)),pj=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},F6=(e,n)=>Q.from(e.getParent(n.container(),"details")),bj=(e,n)=>F6(e,n).isSome(),gre=(e,n)=>{const o=Q.from(e.getParent(n.startContainer,"details")),i=Q.from(e.getParent(n.endContainer,"details"));if(o.isSome()||i.isSome()){const c=o.bind(m=>Q.from(e.select("summary",m)[0]));return Q.some({startSummary:c,startDetails:o,endDetails:i})}else return Q.none()},hre=(e,n)=>oo(n).exists(o=>o.isEqual(e)),pre=(e,n)=>md(n).exists(o=>ps(o.getNode())&&Yc(n,o).exists(i=>i.isEqual(e))||o.isEqual(e)),bre=(e,n)=>n.startSummary.exists(o=>hre(e,o)),vre=(e,n)=>n.startSummary.exists(o=>pre(e,o)),yre=(e,n)=>n.startDetails.exists(o=>Yc(o,e).forall(i=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(i.container())))),xre=(e,n,o)=>o.startDetails.exists(i=>nc(e,n).forall(c=>!i.contains(c.container()))),vj=(e,n)=>{const o=n.getNode();Xe(o)||e.selection.setCursorLocation(o,n.offset())},yj=(e,n,o)=>{const i=e.dom.getParent(n.container(),"details");if(i&&!i.open){const c=e.dom.select("summary",i)[0];c&&(o?oo(c):md(c)).each(p=>vj(e,p))}else vj(e,n)},wre=(e,n)=>{const o=A=>A.contains(e.startContainer),i=A=>A.contains(e.endContainer),c=n.startSummary.exists(o),m=n.startSummary.exists(i),p=n.startDetails.forall(A=>n.endDetails.forall($=>A!==$));return(c||m)&&!(c&&m)||p},xj=(e,n,o)=>{const{dom:i,selection:c}=e,m=e.getBody();if(o==="character"){const p=St.fromRangeStart(c.getRng()),_=i.getParent(p.container(),i.isBlock),A=F6(i,p),$=_&&i.isEmpty(_),q=Ve(_==null?void 0:_.previousSibling),X=Ve(_==null?void 0:_.nextSibling);return $&&(n?X:q)&&Qv(!n,m,p).exists(Ee=>bj(i,Ee)&&!Tf(A,F6(i,Ee)))?!0:Qv(n,m,p).fold(Tn,ne=>{const ve=F6(i,ne);if(bj(i,ne)&&!Tf(A,ve)){if(n||yj(e,ne,!1),_&&$){if(n&&q)return!0;if(!n&&X)return!0;yj(e,ne,n),e.dom.remove(_)}return!0}else return!1})}else return!1},Cre=(e,n,o,i)=>{const m=e.selection.getRng(),p=St.fromRangeStart(m),_=e.getBody();return i==="selection"?wre(m,n):o?vre(p,n)||xre(_,p,n):bre(p,n)||yre(p,n)},_re=(e,n,o)=>gre(e.dom,e.selection.getRng()).fold(()=>xj(e,n,o),i=>Cre(e,i,n,o)||xj(e,n,o)),Sre=(e,n,o)=>{const i=e.selection,c=i.getNode(),m=i.getRng(),p=St.fromRangeStart(m);return Dp(c)?(o==="selection"&&pj(m,c)||y5(n,p,c)?hj(c):e.undoManager.transact(()=>{const _=i.getSel();let{anchorNode:A,anchorOffset:$,focusNode:q,focusOffset:X}=_??{};const ne=()=>{Oe(A)&&Oe($)&&Oe(q)&&Oe(X)&&(_==null||_.setBaseAndExtent(A,$,q,X))},ve=()=>{A=_==null?void 0:_.anchorNode,$=_==null?void 0:_.anchorOffset,q=_==null?void 0:_.focusNode,X=_==null?void 0:_.focusOffset},Ee=(Ie,Ge)=>{be(Ie.childNodes,ot=>{by(ot)&&Ge.appendChild(ot)})},ye=e.dom.create("span",{"data-mce-bogus":"1"});Ee(c,ye),c.appendChild(ye),ne(),(o==="word"||o==="line")&&(_==null||_.modify("extend",n?"right":"left",o)),!i.isCollapsed()&&pj(i.getRng(),ye)?hj(c):(e.execCommand(n?"ForwardDelete":"Delete"),ve(),Ee(ye,c),ne()),e.dom.remove(ye)}),!0):!1},mC=(e,n,o)=>_re(e,n,o)||mre&&Sre(e,n,o)?Q.some(lt):Q.none(),wj=e=>(n,o,i={})=>{const c=n.getBody(),m={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:lt,inputType:o},p=Jm(new InputEvent(e));return n.dispatch(e,{...p,...m,...i})},qO=wj("input"),$6=wj("beforeinput"),Cj=sa(),_j=Cj.os,Sj=_j.isMacOS()||_j.isiOS(),kre=Cj.browser.isFirefox(),Ere=(e,n,o)=>{const i=o.keyCode===hn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),m=c?"character":"selection",p=_=>c?_?"word":"line":"selection";Fk([{keyCode:hn.BACKSPACE,action:vo(kt,e)},{keyCode:hn.BACKSPACE,action:vo(yO,e,!1)},{keyCode:hn.DELETE,action:vo(yO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(pO,e,!1)},{keyCode:hn.DELETE,action:vo(pO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(aC,e,n,!1)},{keyCode:hn.DELETE,action:vo(aC,e,n,!0)},{keyCode:hn.BACKSPACE,action:vo(Uh,e,!1)},{keyCode:hn.DELETE,action:vo(Uh,e,!0)},{keyCode:hn.BACKSPACE,action:vo(mC,e,!1,m)},{keyCode:hn.DELETE,action:vo(mC,e,!0,m)},...Sj?[{keyCode:hn.BACKSPACE,altKey:!0,action:vo(mC,e,!1,p(!0))},{keyCode:hn.DELETE,altKey:!0,action:vo(mC,e,!0,p(!0))},{keyCode:hn.BACKSPACE,metaKey:!0,action:vo(mC,e,!1,p(!1))}]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:vo(mC,e,!1,p(!0))},{keyCode:hn.DELETE,ctrlKey:!0,action:vo(mC,e,!0,p(!0))}],{keyCode:hn.BACKSPACE,action:vo(wO,e,!1)},{keyCode:hn.DELETE,action:vo(wO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(ee,e,!1)},{keyCode:hn.DELETE,action:vo(ee,e,!0)},{keyCode:hn.BACKSPACE,action:vo(mO,e,!1)},{keyCode:hn.DELETE,action:vo(mO,e,!0)},{keyCode:hn.BACKSPACE,action:vo(Sk,e,!1)},{keyCode:hn.DELETE,action:vo(Sk,e,!0)},{keyCode:hn.BACKSPACE,action:vo(C,e,!1)},{keyCode:hn.DELETE,action:vo(C,e,!0)},{keyCode:hn.BACKSPACE,action:vo(xO,e,!1)},{keyCode:hn.DELETE,action:vo(xO,e,!0)}],o).filter(_=>e.selection.isEditable()).each(_=>{o.preventDefault(),$6(e,i).isDefaultPrevented()||(_(),qO(e,i))})},Are=(e,n,o)=>kb([{keyCode:hn.BACKSPACE,action:vo(DM,e)},{keyCode:hn.DELETE,action:vo(DM,e)},...Sj?[{keyCode:hn.BACKSPACE,altKey:!0,action:vo(F,e)},{keyCode:hn.DELETE,altKey:!0,action:vo(F,e)},...o?[{keyCode:kre?224:91,action:vo(F,e)}]:[]]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:vo(F,e)},{keyCode:hn.DELETE,ctrlKey:!0,action:vo(F,e)}]],n),Tre=(e,n)=>{let o=!1;e.on("keydown",i=>{o=i.keyCode===hn.BACKSPACE,i.isDefaultPrevented()||Ere(e,n,i)}),e.on("keyup",i=>{i.isDefaultPrevented()||Are(e,i,o),o=!1})},Ore=e=>{for(;e;){if(Nn(e)||jt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Vk=(e,n)=>{const o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const m=Ore(n.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&n.insertBefore(o.doc.createTextNode(Ni),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const m=new fa(n,n);let p=n,_;for(;_=m.current();){if(jt(_)){c.setStart(_,0),c.setEnd(_,0);break}if(i[_.nodeName.toLowerCase()]){c.setStartBefore(_),c.setEndBefore(_);break}p=_,_=m.next()}_||(c.setStart(p,0),c.setEnd(p,0))}else ps(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),pd(e,c)},YO=(e,n)=>{const o=e.getRoot();let i,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){i=c;break}c=c.parentNode}return c!==o?i:o},Z9=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Dre=e=>Z9(e).fold(ct(""),n=>n.nodeName.toUpperCase()),Rre=e=>Z9(e).filter(n=>sg(Ue.fromDom(n))).isSome(),G9=e=>{e.innerHTML='<br data-mce-bogus="1">'},Ire=(e,n,o)=>{const i=e.dom;Q.from(o.style).map(i.parseStyle).each(A=>{const q={...ah(Ue.fromDom(n)),...A};i.setStyles(n,q)});const c=Q.from(o.class).map(A=>A.split(/\s+/)),m=Q.from(n.className).map(A=>je(A.split(/\s+/),$=>$!==""));aa(c,m,(A,$)=>{const q=je($,ne=>!xe(A,ne)),X=[...A,...q];i.setAttrib(n,"class",X.join(" "))});const p=["style","class"],_=Rc(o,(A,$)=>!xe(p,$));i.setAttribs(n,_)},XO=(e,n)=>{if(ml(e).toLowerCase()===n.tagName.toLowerCase()){const i=S2(e);Ire(e,n,i)}},kj=(e,n,o,i,c=!0,m,p)=>{const _=e.dom,A=e.schema,$=ml(e),q=o?o.nodeName.toUpperCase():"";let X=n;const ne=A.getTextInlineElements();let ve;m||q==="TABLE"||q==="HR"?ve=_.create(m||$,p||{}):ve=o.cloneNode(!1);let Ee=ve;if(!c)_.setAttrib(ve,"style",null),_.setAttrib(ve,"class",null);else do if(ne[X.nodeName]){if(Ru(X)||Iu(X))continue;const ye=X.cloneNode(!1);_.setAttrib(ye,"id",""),ve.hasChildNodes()?(ye.appendChild(ve.firstChild),ve.appendChild(ye)):(Ee=ye,ve.appendChild(ye))}while((X=X.parentNode)&&X!==i);return XO(e,ve),G9(Ee),ve},Nre=(e,n)=>e.dom.getParent(n,Op),Pre=(e,n,o)=>{let i=n;for(;i&&i!==e&&Ve(i.nextSibling);){const c=i.parentElement;if(!c||!o(c))return Op(c);i=c}return!1},Lre=(e,n,o)=>!n&&o.nodeName.toLowerCase()===ml(e)&&e.dom.isEmpty(o)&&Pre(e.getBody(),o,i=>fo(e.schema.getTextBlockElements(),i.nodeName.toLowerCase())),Mre=(e,n,o)=>{var i,c,m;const p=n(ml(e)),_=Nre(e,o);_&&(e.dom.insertAfter(p,_),Vk(e,p),((m=(c=(i=o.parentElement)===null||i===void 0?void 0:i.childNodes)===null||c===void 0?void 0:c.length)!==null&&m!==void 0?m:0)>1&&e.dom.remove(o))},Bre=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,Fre=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},Ej=(e,n)=>{const o=e==null?void 0:e.parentNode;return Oe(o)&&o.nodeName===n},Aj=e=>Oe(e)&&/^(OL|UL|LI)$/.test(e.nodeName),q9=e=>Oe(e)&&/^(LI|DT|DD)$/.test(e.nodeName),$re=e=>Aj(e)&&Aj(e.parentNode),V6=e=>{const n=e.parentNode;return q9(n)?n:e},z6=(e,n,o)=>{let i=e[o?"firstChild":"lastChild"];for(;i&&!Nn(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},Tj=e=>sn(xl(ah(Ue.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),Vre=(e,n,o,i,c)=>{const m=e.dom,p=e.selection.getRng(),_=o.parentNode;if(o===e.getBody()||!_)return;$re(o)&&(c="LI");const A=q9(i)?Tj(i):void 0;let $=q9(i)&&A?n(c,{style:Tj(i)}):n(c);if(z6(o,i,!0)&&z6(o,i,!1))if(Ej(o,"LI")){const q=V6(o);m.insertAfter($,q),Fre(o)?m.remove(q):m.remove(o)}else m.replace($,o);else if(z6(o,i,!0))Ej(o,"LI")?(m.insertAfter($,V6(o)),$.appendChild(m.doc.createTextNode(" ")),$.appendChild(o)):_.insertBefore($,o),m.remove(i);else if(z6(o,i,!1))m.insertAfter($,V6(o)),m.remove(i);else{o=V6(o);const q=p.cloneRange();q.setStartAfter(i),q.setEndAfter(o);const X=q.extractContents();if(c==="LI"&&Bre(X,"LI")){const ne=je($e($.children,Ue.fromDom),Le(If("br")));$=X.firstChild,m.insertAfter(X,o),be(ne,ve=>Ha(Ue.fromDom($),ve)),A&&$.setAttribute("style",A)}else m.insertAfter(X,o),m.insertAfter($,o);m.remove(i)}Vk(e,$)},zre=e=>{be(Km(Ue.fromDom(e),us),n=>{const o=n.dom;o.nodeValue=Dl(o.data)})},Hre=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Ure=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),Y9=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,X9=(e,n)=>Oe(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",Wre=(e,n,o)=>{var i;const c=[];if(!o)return;let m=o;for(;m=m.firstChild;){if(e.isBlock(m))return;Nn(m)&&!n[m.nodeName.toLowerCase()]&&c.push(m)}let p=c.length;for(;p--;)m=c[p],(!m.hasChildNodes()||m.firstChild===m.lastChild&&((i=m.firstChild)===null||i===void 0?void 0:i.nodeValue)===""||Ure(e,m))&&e.remove(m)},J9=(e,n,o)=>jt(n)?e?o===1&&n.data.charAt(o-1)===Ei?0:o:o===n.data.length-1&&n.data.charAt(o)===Ei?n.data.length:o:o,Kre=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,J9(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,J9(!1,e.endContainer,e.endOffset)),n},jre=e=>{let n=e;do jt(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},Zre=(e,n,o,i,c)=>{var m,p;const _=e.dom,A=(m=YO(_,i))!==null&&m!==void 0?m:_.getRoot();let $=_.getParent(i,_.isBlock);if(!$||!X9(_,$)){if($=$||A,!$.hasChildNodes()){const ve=_.create(n);return XO(e,ve),$.appendChild(ve),o.setStart(ve,0),o.setEnd(ve,0),ve}let q=i;for(;q&&q.parentNode!==$;)q=q.parentNode;let X;for(;q&&!_.isBlock(q);)X=q,q=q.previousSibling;const ne=(p=X==null?void 0:X.parentElement)===null||p===void 0?void 0:p.nodeName;if(X&&ne&&e.schema.isValidChild(ne,n.toLowerCase())){const ve=X.parentNode,Ee=_.create(n);for(XO(e,Ee),ve.insertBefore(Ee,X),q=X;q&&!_.isBlock(q);){const ye=q.nextSibling;Ee.appendChild(q),q=ye}o.setStart(i,c),o.setEnd(i,c)}}return i},Gre=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Nn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},qre=(e,n)=>{const o=oA(e);return rt(n)?!1:ae(o)?xe(tn.explode(o),n.nodeName.toLowerCase()):o},Oj={insert:(e,n)=>{let o,i,c,m,p=!1;const _=e.dom,A=e.schema,$=A.getNonEmptyElements(),q=e.selection.getRng(),X=ml(e),ne=Ue.fromDom(q.startContainer),ve=nd(ne,q.startOffset),Ee=ve.exists(Ft=>Ba(Ft)&&!Ss(Ft)),ye=q.collapsed&&Ee,Ie=(Ft,Dn)=>kj(e,o,en,Vt,nA(e),Ft,Dn),Ge=Ft=>{const Dn=J9(Ft,o,i);if(jt(o)&&(Ft?Dn>0:Dn<o.data.length))return!1;if((o.parentNode===en||o===en)&&p&&!Ft||Ft&&Nn(o)&&o===en.firstChild)return!0;if(Y9(o,"TABLE")||Y9(o,"HR"))return p&&!Ft||!p&&Ft;const Wn=new fa(o,en);jt(o)&&(Ft&&Dn===0?Wn.prev():!Ft&&Dn===o.data.length&&Wn.next());let $o;for(;$o=Wn.current();){if(Nn($o)){if(!$o.getAttribute("data-mce-bogus")){const jo=$o.nodeName.toLowerCase();if($[jo]&&jo!=="br")return!1}}else if(jt($o)&&!mc($o.data))return!1;Ft?Wn.prev():Wn.next()}return!0},ot=()=>{let Ft;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&wn!=="HGROUP"?Ft=Ie(X):Ft=Ie(),qre(e,m)&&X9(_,m)&&_.isEmpty(en,void 0,{includeZwsp:!0})?Ft=_.split(m,en):_.insertAfter(Ft,en),Vk(e,Ft),Ft};bg(_,q).each(Ft=>{q.setStart(Ft.startContainer,Ft.startOffset),q.setEnd(Ft.endContainer,Ft.endOffset)}),o=q.startContainer,i=q.startOffset;const tt=!!(n&&n.shiftKey),bt=!!(n&&n.ctrlKey);Nn(o)&&o.hasChildNodes()&&!ye&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,p&&jt(o)?i=o.data.length:i=0);const Vt=YO(_,o);if(!Vt||Hre(e,o))return;tt||(o=Zre(e,X,q,o,i));let en=_.getParent(o,_.isBlock)||_.getRoot();m=Oe(en==null?void 0:en.parentNode)?_.getParent(en.parentNode,_.isBlock):null,c=en?en.nodeName.toUpperCase():"";const wn=m?m.nodeName.toUpperCase():"";if(wn==="LI"&&!bt){const Ft=m;en=Ft,m=Ft.parentNode,c=wn}if(Nn(m)&&Lre(e,tt,en))return Mre(e,Ie,en);if(/^(LI|DT|DD)$/.test(c)&&Nn(m)&&_.isEmpty(en)){Vre(e,Ie,m,en,X);return}if(!ye&&(en===e.getBody()||!X9(_,en)))return;const Rt=en.parentNode;let Ct;if(ye)Ct=Ie(X),ve.fold(()=>{Ws(ne,Ue.fromDom(Ct))},Ft=>{Ds(Ft,Ue.fromDom(Ct))}),e.selection.setCursorLocation(Ct,0);else if($p(en))Ct=Th(en),_.isEmpty(en)&&G9(en),XO(e,Ct),Vk(e,Ct);else if(Ge(!1))Ct=ot();else if(Ge(!0)&&Rt){const Ft=St.fromRangeStart(q),Dn=Ay(Ft),Wn=Ue.fromDom(en),jo=g1(Wn,Ft,e.schema)?gS(Wn,Ft,e.schema).bind(Kr=>Q.from(Kr.getNode())):Q.none();Ct=Rt.insertBefore(Ie(),en);const Lr=Y9(en,"HR")||Dn?Ct:jo.getOr(en);Vk(e,Lr)}else{const Ft=Kre(q).cloneRange();Ft.setEndAfter(en);const Dn=Ft.extractContents();zre(Dn),jre(Dn),Ct=Dn.firstChild,_.insertAfter(Dn,en),Wre(_,$,Ct),Gre(_,en),_.isEmpty(en)&&G9(en),Ct.normalize(),_.isEmpty(Ct)?(_.remove(Ct),ot()):(XO(e,Ct),Vk(e,Ct))}_.setAttrib(Ct,"id",""),e.dispatch("NewBlock",{newBlock:Ct})},fakeEventName:"insertParagraph"},Yre=(e,n,o)=>{const i=new fa(n,o);let c;const m=e.getNonEmptyElements();for(;c=i.next();)if(m[c.nodeName.toLowerCase()]||jt(c)&&c.length>0)return!0;return!1},Dj=(e,n,o)=>{const i=e.dom.createRng();o?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),pd(e,i)},Xre=(e,n)=>{const o=e.selection,i=e.dom,c=o.getRng();let m,p=!1;bg(i,c).each(ve=>{c.setStart(ve.startContainer,ve.startOffset),c.setEnd(ve.endContainer,ve.endOffset)});let _=c.startOffset,A=c.startContainer;if(Nn(A)&&A.hasChildNodes()){const ve=_>A.childNodes.length-1;A=A.childNodes[Math.min(_,A.childNodes.length-1)]||A,ve&&jt(A)?_=A.data.length:_=0}let $=i.getParent(A,i.isBlock);const q=$&&$.parentNode?i.getParent($.parentNode,i.isBlock):null,X=q?q.nodeName.toUpperCase():"",ne=!!(n&&n.ctrlKey);X==="LI"&&!ne&&($=q),jt(A)&&_>=A.data.length&&(Yre(e.schema,A,$||i.getRoot())||(m=i.create("br"),c.insertNode(m),c.setStartAfter(m),c.setEndAfter(m),p=!0)),m=i.create("br"),ry(i,c,m),Dj(e,m,p),e.undoManager.add()},Jre=(e,n)=>{const o=Ue.fromTag("br");Ds(Ue.fromDom(n),o),e.undoManager.add()},Qre=(e,n)=>{tse(e.getBody(),n)||ut(Ue.fromDom(n),Ue.fromTag("br"));const o=Ue.fromTag("br");ut(Ue.fromDom(n),o),Dj(e,o.dom,!1),e.undoManager.add()},ese=e=>ps(e.getNode()),tse=(e,n)=>ese(St.after(n))?!0:nc(e,St.after(n)).map(o=>ps(o.getNode())).getOr(!1),Rj=e=>e&&e.nodeName==="A"&&"href"in e,nse=e=>e.fold(Tn,Rj,Rj,Tn),ose=e=>{const n=Qe(p1,e),o=St.fromRangeStart(e.selection.getRng());return Dg(n,e.getBody(),o).filter(nse)},rse=(e,n)=>{n.fold(lt,Qe(Jre,e),Qe(Qre,e),lt)},Ij={insert:(e,n)=>{const o=ose(e);o.isSome()?o.each(Qe(rse,e)):Xre(e,n)},fakeEventName:"insertLineBreak"},Nj=(e,n)=>Z9(e).filter(o=>n.length>0&&Br(Ue.fromDom(o),n)).isSome(),sse=e=>Nj(e,CR(e)),ise=e=>Nj(e,_R(e)),bf=Yo.generate([{br:[]},{block:[]},{none:[]}]),ase=(e,n)=>ise(e),Pj=e=>(n,o)=>Rre(n)===e,Lj=(e,n)=>(o,i)=>Dre(o)===e.toUpperCase()===n,lse=e=>{const n=YO(e.dom,e.selection.getStart());return rt(n)},JO=e=>Lj("pre",e),cse=()=>Lj("summary",!0),H6=e=>(n,o)=>eA(n)===e,use=(e,n)=>sse(e),U6=(e,n)=>n,dse=e=>{const n=ml(e),o=YO(e.dom,e.selection.getStart());return Oe(o)&&e.schema.isValidChild(o.nodeName,n)},fse=e=>{const n=e.selection.getRng(),o=Ue.fromDom(n.startContainer),c=nd(o,n.startOffset).map(m=>Ba(m)&&!Ss(m));return n.collapsed&&c.getOr(!0)},pm=(e,n)=>(o,i)=>sn(e,(m,p)=>m&&p(o,i),!0)?Q.some(n):Q.none(),mse=(e,n)=>zM([pm([ase],bf.none()),pm([JO(!0),lse],bf.none()),pm([cse()],bf.br()),pm([JO(!0),H6(!1),U6],bf.br()),pm([JO(!0),H6(!1)],bf.block()),pm([JO(!0),H6(!0),U6],bf.block()),pm([JO(!0),H6(!0)],bf.br()),pm([Pj(!0),U6],bf.br()),pm([Pj(!0)],bf.block()),pm([use],bf.br()),pm([U6],bf.br()),pm([dse],bf.block()),pm([fse],bf.block())],[e,!!(n&&n.shiftKey)]).getOr(bf.none()),W6=(e,n,o)=>{n.selection.isCollapsed()||b5(n),!(Oe(o)&&$6(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Oe(o)&&qO(n,e.fakeEventName))},Mj=(e,n)=>{const o=()=>W6(Ij,e,n),i=()=>W6(Oj,e,n),c=mse(e,n);switch(tA(e)){case"linebreak":c.fold(o,o,lt);break;case"block":c.fold(i,i,lt);break;case"invert":c.fold(i,o,lt);break;default:c.fold(o,i,lt);break}},Bj=sa(),gse=Bj.os.isiOS()&&Bj.browser.isSafari(),Fj=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),RV(e.undoManager),e.undoManager.transact(()=>{Mj(e,n)}))},hse=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(jt(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,i=n.data.charAt(e.startOffset-1);return o.test(i)}else return!1},pse=e=>{let n=Q.none();const o=c=>{n=Q.some(c.selection.getBookmark()),c.undoManager.add()},i=(c,m)=>{c.undoManager.undo(),n.fold(lt,p=>c.selection.moveToBookmark(p)),Fj(c,m),n=Q.none()};e.on("keydown",c=>{c.keyCode===hn.ENTER&&(gse&&hse(e.selection.getRng())?o(e):Fj(e,c))}),e.on("keyup",c=>{c.keyCode===hn.ENTER&&n.each(()=>i(e,c))})},bse=(e,n,o)=>{const i=zo.os.isMacOS()||zo.os.isiOS();kb([{keyCode:hn.END,action:vo(pf,e,!0)},{keyCode:hn.HOME,action:vo(pf,e,!1)},...i?[]:[{keyCode:hn.HOME,action:vo(L1,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:hn.END,action:vo(L1,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:hn.END,action:vo(UO,e,!0)},{keyCode:hn.HOME,action:vo(UO,e,!1)},{keyCode:hn.END,action:vo(sC,e,!0,n)},{keyCode:hn.HOME,action:vo(sC,e,!1,n)}],o).each(c=>{o.preventDefault()})},vse=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||bse(e,n,o)})},yse=e=>{e.on("input",n=>{n.isComposing||G7(e)})},xse=sa(),wse=(e,n,o)=>{kb([{keyCode:hn.PAGE_UP,action:vo(sC,e,!1,n)},{keyCode:hn.PAGE_DOWN,action:vo(sC,e,!0,n)}],o)},$j=e=>e.stopImmediatePropagation(),Vj=e=>e.keyCode===hn.PAGE_UP||e.keyCode===hn.PAGE_DOWN,zj=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",$j,!0):!o&&e.get()&&n.off("NodeChange",$j),e.set(o)},Cse=(e,n)=>{if(xse.os.isMacOS())return;const o=Pi(!1);e.on("keydown",i=>{Vj(i)&&zj(o,e,!0)}),e.on("keyup",i=>{i.isDefaultPrevented()||wse(e,n,i),Vj(i)&&o.get()&&(zj(o,e,!1),e.nodeChanged())})},_se=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Ae(n.getTargetRanges(),o=>!AN(e.dom,o)))&&n.preventDefault()})},Hj=(e,n)=>{const o=n.container(),i=n.offset();return jt(o)?(o.insertData(i,e),Q.some(St(o,i+e.length))):A_(n).map(c=>{const m=Ue.fromText(e);return n.isAtEnd()?ut(c,m):Ds(c,m),St(m.dom,e.length)})},Uj=Qe(Hj,Ni),Wj=Qe(Hj," "),Sse=(e,n,o)=>NT(e,n,o)?Uj(n):Wj(n),kse=e=>n=>n.fold(o=>Yc(e.dom,St.before(o)),o=>oo(o),o=>md(o),o=>nc(e.dom,St.after(o))),Ese=(e,n,o)=>i=>NT(e,i,o)?Uj(n):Wj(n),Kj=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},Ase=(e,n)=>e.isEditable(e.getParent(n,"summary")),Tse=e=>{const n=St.fromRangeStart(e.selection.getRng()),o=Ue.fromDom(e.getBody());if(e.selection.isCollapsed()){const i=Qe(p1,e),c=St.fromRangeStart(e.selection.getRng());return Dg(i,e.getBody(),c).bind(kse(o)).map(m=>()=>Ese(o,n,e.schema)(m).each(Kj(e)))}else return Q.none()},Ose=e=>{const n=()=>{const o=Ue.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const i=St.fromRangeStart(e.selection.getRng());Sse(o,i,e.schema).each(Kj(e))};return th(zo.browser.isFirefox()&&e.selection.isEditable()&&Ase(e.dom,e.selection.getRng().startContainer),n)},Dse=(e,n)=>{Fk([{keyCode:hn.SPACEBAR,action:vo(Tse,e)},{keyCode:hn.SPACEBAR,action:vo(Ose,e)}],n).each(o=>{n.preventDefault(),$6(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),qO(e,"insertText",{data:" "}))})},Rse=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Dse(e,n)})},Ise=e=>ZR(e)?[{keyCode:hn.TAB,action:vo(WK,e,!0)},{keyCode:hn.TAB,shiftKey:!0,action:vo(WK,e,!1)}]:[],Nse=(e,n)=>{kb([...Ise(e)],n).each(o=>{n.preventDefault()})},Pse=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Nse(e,n)})},Lse=e=>{if(e.addShortcut("Meta+P","","mcePrint"),fre(e),Og(e))return Pi(null);{const n=m6(e);return _se(e),P1(e),Gne(e,n),Tre(e,n),pse(e),Rse(e),yse(e),Pse(e),vse(e,n),Cse(e,n),n}};class Mse{constructor(n){this.lastPath=[],this.editor=n;let o;const i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const m=n.selection.getRng(),p={startContainer:m.startContainer,startOffset:m.startOffset,endContainer:m.endContainer,endOffset:m.endOffset};(c.type==="nodechange"||!rw(p,o))&&n.dispatch("SelectionChange"),o=p}),n.on("contextmenu",()=>{wy(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&hy(n)&&!i.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&hy(n)&&(n.selection.getNode().nodeName==="IMG"?Qc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let i;if(this.editor.initialized&&o&&!TF(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();i=o.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c);const m=[];this.editor.dom.getParent(i,p=>p===c?!0:(m.push(p),!1)),this.editor.dispatch("NodeChange",{...n,element:i,parents:m})}}isSameElementPath(n){let o;const i=this.editor,c=Zr(i.dom.getParents(n,nn,i.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const jj=Wa("image"),Bse=e=>{const n=e;return Q.from(n[jj])},Fse=(e,n)=>{const o=e;o[jj]=n},Q9=Wa("event"),$se=e=>{const n=e;return Q.from(n[Q9])},K6=e=>n=>{const o=n;o[Q9]=e},Vse=(e,n)=>K6(n)(e),Zj=K6(0),zse=K6(2),Hse=K6(1),Use=(e=>n=>{const o=n;return Q.from(o[Q9]).exists(i=>i===e)})(0),Wse=()=>Object.freeze({length:0,item:e=>null}),eH=Wa("mode"),Kse=e=>{const n=e;return Q.from(n[eH])},j6=e=>n=>{const o=n;o[eH]=e},Gj=(e,n)=>j6(n)(e),qj=j6(0),tH=j6(2),jse=j6(1),Yj=e=>n=>{const o=n;return Q.from(o[eH]).exists(i=>i===e)},zk=Yj(0),Xj=Yj(1),Zse=(e,n)=>({...n,get length(){return n.length},add:(o,i)=>{if(zk(e))if(ae(o)){if(!Xe(i))return n.add(o,i)}else return n.add(o);return null},remove:o=>{zk(e)&&n.remove(o)},clear:()=>{zk(e)&&n.clear()}}),Gse=["none","copy","link","move"],qse=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],nH=()=>{const e=new window.DataTransfer;let n="move",o="all";const i={get dropEffect(){return n},set dropEffect(c){xe(Gse,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){Use(i)&&xe(qse,c)&&(o=c)},get items(){return Zse(i,e.items)},get files(){return Xj(i)?Wse():e.files},get types(){return e.types},setDragImage:(c,m,p)=>{zk(i)&&(Fse(i,{image:c,x:m,y:p}),e.setDragImage(c,m,p))},getData:c=>Xj(i)?"":e.getData(c),setData:(c,m)=>{zk(i)&&e.setData(c,m)},clearData:c=>{zk(i)&&e.clearData(c)}};return qj(i),i},Yse=e=>{const n=nH(),o=Kse(e);return tH(e),Zj(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Bse(e).each(i=>n.setDragImage(i.image,i.x,i.y)),be(e.types,i=>{i!=="Files"&&n.setData(i,e.getData(i))}),be(e.files,i=>n.items.add(i)),$se(e).each(i=>{Vse(n,i)}),o.each(i=>{Gj(e,i),Gj(n,i)}),n},Xse=e=>{const n=e.getData("text/html");return n===""?Q.none():Q.some(n)},Jj=(e,n)=>e.setData("text/html",n),Qj="x-tinymce/html",Z6=ct(Qj),oH="<!-- "+Qj+" -->",Jse=e=>oH+e,Qse=e=>e.replace(oH,""),eZ=e=>e.indexOf(oH)!==-1,eie=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),tie=(e,n)=>{let o="<"+e;const i=xl(n,(c,m)=>m+'="'+hh.encodeAllRaw(c)+'"');return i.length&&(o+=" "+i.join(" ")),o+">"},nie=(e,n,o)=>{const i=e.split(/\n\n/),c=tie(n,o),m="</"+n+">",p=$e(i,A=>A.split(/\n/).join("<br />")),_=A=>c+A+m;return p.length===1?p[0]:$e(p,_).join("")},tZ="%MCEPASTEBIN%",oie=(e,n)=>{const{dom:o,selection:i}=e,c=e.getBody();n.set(i.getRng());const m=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},tZ);zo.browser.isFirefox()&&o.setStyle(m,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(m,"beforedeactivate focusin focusout",p=>{p.stopPropagation()}),m.focus(),i.select(m,!0)},rie=(e,n)=>{const o=e.dom;if(rH(e)){let i;const c=n.get();for(;i=rH(e);)o.remove(i),o.unbind(i);c&&e.selection.setRng(c)}n.set(null)},rH=e=>e.dom.get("mcepastebin"),sie=e=>Oe(e)&&e.id==="mcepastebin",iie=e=>{const n=e.dom,o=(p,_)=>{p.appendChild(_),n.remove(_,!0)},[i,...c]=je(e.getBody().childNodes,sie);be(c,p=>{o(i,p)});const m=n.select("div[id=mcepastebin]",i);for(let p=m.length-1;p>=0;p--){const _=n.create("div");i.insertBefore(_,m[p]),o(_,m[p])}return i?i.innerHTML:""},nZ=e=>e===tZ,aie=e=>{const n=Pi(null);return{create:()=>oie(e,n),remove:()=>rie(e,n),getEl:()=>rH(e),getHtml:()=>iie(e),getLastRng:n.get}},oZ=(e,n)=>(tn.each(n,o=>{he(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),lie=e=>{const n=Wc(),o=$y({},n);let i="";const c=n.getVoidElements(),m=tn.makeMap("script noscript style textarea video audio iframe object"," "),p=n.getBlockElements(),_=A=>{const $=A.name,q=A;if($==="br"){i+=`
`;return}if($!=="wbr"){if(c[$]&&(i+=" "),m[$]){i+=" ";return}if(A.type===3&&(i+=A.value),!(A.name in n.getVoidElements())){let X=A.firstChild;if(X)do _(X);while(X=X.next)}p[$]&&q.next&&(i+=`
`,$==="p"&&(i+=`
`))}};return e=oZ(e,[/<!\[[^\]]+\]>/g]),_(o.parse(e)),i},rZ=e=>(e=oZ(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,i,c)=>!i&&!c?" ":Ni],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),cie=e=>{let n=0;return()=>e+n++},uie=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return tn.hasOwn(o,n)?"image/"+o[n]:"image/"+n},die=(e,n)=>{const o=$y({sanitize:WR(e),sandbox_iframes:pA(e),sandbox_iframes_exclusions:x_(e),convert_unsafe_embeds:qR(e)},e.schema);o.addNodeFilter("meta",c=>{tn.each(c,m=>{m.remove()})});const i=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Vh({validate:!0},e.schema).serialize(i)},sZ=(e,n)=>({content:e,cancelled:n}),fie=(e,n,o)=>{const i=e.dom.create("div",{style:"display:none"},n),c=W_(e,i,o);return sZ(c.node.innerHTML,c.isDefaultPrevented())},mie=(e,n,o)=>{const i=ew(e,n,o),c=die(e,i.content);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?fie(e,c,o):sZ(c,i.isDefaultPrevented())},gie=(e,n,o)=>mie(e,n,o),sH=(e,n)=>(e.insertContent(n,{merge:PF(e),paste:!0}),!0),iH=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),hie=(e,n)=>iH(n)&&Ae(hA(e),o=>Re(n.toLowerCase(),`.${o.toLowerCase()}`)),pie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),bie=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),vie=(e,n,o)=>!e.selection.isCollapsed()&&iH(n)?bie(e,n,o):!1,yie=(e,n,o)=>hie(e,n)?pie(e,n,o):!1,xie=(e,n)=>{tn.each([vie,yie,sH],o=>!o(e,n,sH))},wie=(e,n,o)=>{o||!Zv(e)?sH(e,n):xie(e,n)},Cie=cie("mceclip"),_ie=e=>{const n=nH();return Jj(n,e),tH(n),n},iZ=(e,n,o,i,c)=>{const m=gie(e,n,o);if(!m.cancelled){const p=m.content,_=()=>wie(e,p,i);c?$6(e,"insertFromPaste",{dataTransfer:_ie(p)}).isDefaultPrevented()||(_(),qO(e,"insertFromPaste")):_()}},G6=(e,n,o,i)=>{const c=o||eZ(n);iZ(e,Qse(n),c,!1,i)},aH=(e,n,o)=>{const i=e.dom.encode(n).replace(/\r\n/g,`
`),c=sv(i,zR(e)),m=nie(c,ml(e),S2(e));iZ(e,m,!1,!0,o)},aZ=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const i=e.types[o];try{n[i]=e.getData(i)}catch{n[i]=""}}return n},nx=(e,n)=>n in e&&e[n].length>0,lZ=e=>nx(e,"text/html")||nx(e,"text/plain"),Sie=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Oe(o)?e.dom.encode(o[1]):void 0},kie=(e,n,o,i)=>{const c=Cie(),m=Nh(e)&&Oe(o.name),p=m?Sie(e,o.name):c,_=m?o.name:void 0,A=n.create(c,o,i,p,_);return n.add(A),A},Eie=(e,n)=>{nk(n.uri).each(({data:o,type:i,base64Encoded:c})=>{const m=c?o:btoa(o),p=n.file,_=e.editorUpload.blobCache,A=_.getByData(m,i),$=A??kie(e,_,p,m);G6(e,`<img src="${$.blobUri()}">`,!1,!0)})},Aie=e=>e.type==="paste",Tie=e=>Promise.all($e(e,n=>bP(n).then(o=>({file:n,uri:o})))),Oie=e=>{const n=hA(e);return o=>cs(o.type,"image/")&&Ae(n,i=>uie(i)===o.type)},Die=(e,n)=>{const o=n.items?Fo(Oo(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],i=n.files?Oo(n.files):[];return je(o.length>0?o:i,Oie(e))},cZ=(e,n,o)=>{const i=Aie(n)?n.clipboardData:n.dataTransfer;if(fg(e)&&i){const c=Die(e,i);if(c.length>0)return n.preventDefault(),Tie(c).then(m=>{o&&e.selection.setRng(o),be(m,p=>{Eie(e,p)})}),!0}return!1},Rie=e=>{var n,o;return zo.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},Iie=e=>hn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,lH=(e,n,o,i,c)=>{let m=rZ(o);const p=nx(n,Z6())||eZ(o),_=!p&&eie(m),A=iH(m);(nZ(m)||!m.length||_&&!A)&&(i=!0),(i||A)&&(nx(n,"text/plain")&&_?m=n["text/plain"]:m=lie(m)),!nZ(m)&&(i?aH(e,m,c):G6(e,m,p,c))},Nie=(e,n,o)=>{let i;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",m=>{Iie(m)&&!m.isDefaultPrevented()&&(i=m.shiftKey&&m.keyCode===86)}),e.on("paste",m=>{if(m.isDefaultPrevented()||Rie(m))return;const p=o.get()==="text"||i;i=!1;const _=aZ(m.clipboardData);!lZ(_)&&cZ(e,m,c())||(nx(_,"text/html")?(m.preventDefault(),lH(e,_,_["text/html"],p,!0)):nx(_,"text/plain")&&nx(_,"text/uri-list")?(m.preventDefault(),lH(e,_,_["text/plain"],p,!0)):(n.create(),Qc.setEditorTimeout(e,()=>{const A=n.getHtml();n.remove(),lH(e,_,A,p,!1)},0)))})},Pie=e=>{const n=c=>cs(c,"webkit-fake-url"),o=c=>cs(c,"data:"),i=c=>{var m;return((m=c.data)===null||m===void 0?void 0:m.paste)===!0};e.parser.addNodeFilter("img",(c,m,p)=>{if(!fg(e)&&i(p))for(const _ of c){const A=_.attr("src");ae(A)&&!_.attr("data-mce-object")&&A!==zo.transparentSrc&&(n(A)||!LF(e)&&o(A))&&_.remove()}})},Lie=(e,n,o)=>{Nie(e,n,o),Pie(e)},Mie=(e,n)=>{n.get()==="text"?(n.set("html"),K_(e,!1)):(n.set("text"),K_(e,!0)),e.focus()},Bie=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Mie(e,n)}),e.addCommand("mceInsertClipboardContent",(o,i)=>{i.html&&G6(e,i.html,i.internal,!1),i.text&&aH(e,i.text,!1)})},Fie=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Z6(),n),!0}catch{return!1}else return!1},uZ=(e,n,o,i)=>{Fie(e.clipboardData,n.html,n.text)?(e.preventDefault(),i()):o(n.html,i)},dZ=e=>(n,o)=>{const{dom:i,selection:c}=e,m=i.create("div",{contenteditable:"false","data-mce-bogus":"all"}),p=i.create("div",{contenteditable:"true"},n);i.setStyles(m,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),m.appendChild(p),i.add(e.getBody(),m);const _=c.getRng();p.focus();const A=i.createRng();A.selectNodeContents(p),c.setRng(A),Qc.setEditorTimeout(e,()=>{c.setRng(_),i.remove(m),o()},0)},fZ=e=>({html:Jse(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),$ie=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),mZ=e=>!e.selection.isCollapsed()||$ie(e),Vie=e=>n=>{!n.isDefaultPrevented()&&mZ(e)&&e.selection.isEditable()&&uZ(n,fZ(e),dZ(e),()=>{if(zo.browser.isChromium()||zo.browser.isFirefox()){const o=e.selection.getRng();Qc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},zie=e=>n=>{!n.isDefaultPrevented()&&mZ(e)&&uZ(n,fZ(e),dZ(e),lt)},Hie=e=>{e.on("cut",Vie(e)),e.on("copy",zie(e))},gZ=(e,n)=>{var o,i;return nb.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(i=n.clientY)!==null&&i!==void 0?i:0,e.getDoc())},Uie=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},hZ=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},Wie=e=>Ae(e.files,n=>/^image\//.test(n.type)),Kie=(e,n,o,i)=>{const c=e.getParent(o,p=>Wf(n,p));if(!Ve(e.getParent(o,"summary")))return!0;if(c&&fo(i,"text/html")){const p=new DOMParser().parseFromString(i["text/html"],"text/html").body;return!Ve(p.querySelector(c.nodeName.toLowerCase()))}else return!1},jie=e=>{e.on("input",n=>{const o=i=>Ve(i.querySelector("summary"));if(n.inputType==="deleteByDrag"){const i=je(e.dom.select("details"),o);be(i,c=>{ps(c.firstChild)&&c.firstChild.remove();const m=e.dom.create("summary");m.appendChild(nf().dom),c.prepend(m)})}})},Zie=(e,n)=>{am(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),fg(e)||e.on("drop",o=>{const i=o.dataTransfer;i&&Wie(i)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const i=gZ(e,o);if(rt(i))return;const c=aZ(o.dataTransfer),m=nx(c,Z6());if((!lZ(c)||Uie(c))&&cZ(e,o,i))return;const p=c[Z6()],_=p||c["text/html"]||c["text/plain"],A=Kie(e.dom,e.schema,i.startContainer,c),$=n.get();$&&!A||_&&(o.preventDefault(),Qc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(p||$&&A)&&e.execCommand("Delete"),hZ(e,i);const q=rZ(_);c["text/html"]?G6(e,q,m,!0):aH(e,q,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{fg(e)&&!n.get()&&(o.preventDefault(),hZ(e,gZ(e,o))),o.type==="dragend"&&n.set(!1)}),jie(e)},Gie=e=>{const n=c=>m=>{c(e,m)},o=NF(e);Te(o)&&e.on("PastePreProcess",n(o));const i=T2(e);Te(i)&&e.on("PastePostProcess",n(i))},qie=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},Yie=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,pZ=e=>tn.trim(e).replace(Yie,yv).toLowerCase(),Xie=(e,n,o)=>{const i=VR(e);if(o||i==="all"||!dA(e))return n;const c=i?i.split(/[, ]/):[];if(c&&i!=="none"){const m=e.dom,p=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(_,A,$,q)=>{const X=m.parseStyle(m.decode($)),ne={};for(let Ee=0;Ee<c.length;Ee++){const ye=X[c[Ee]];let Ie=ye,Ge=m.getStyle(p,c[Ee],!0);/color/.test(c[Ee])&&(Ie=pZ(Ie),Ge=pZ(Ge)),Ge!==Ie&&(ne[c[Ee]]=ye)}const ve=m.serializeStyle(ne,"span");return ve?A+' style="'+ve+'"'+q:A+q})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(m,p,_,A)=>p+' style="'+_+'"'+A),n},Jie=e=>{(zo.browser.isChromium()||zo.browser.isSafari())&&qie(e,Xie)},Qie=e=>{const n=Pi(!1),o=Pi(Gv(e)?"text":"html"),i=aie(e);Jie(e),Bie(e,o),Gie(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Hie(e),Zie(e,n),Lie(e,i,o)})},eae=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},tae=e=>{e.parser.addNodeFilter("details",n=>{const o=y_(e);be(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=GR(e);be(n,i=>{o==="expanded"?i.attr("open","open"):o==="collapsed"&&i.attr("open",null)})})},nae=e=>{eae(e),tae(e)},oae=ps,bZ=jt,rae=e=>yo(e.dom),sae=e=>Vc(e.dom),vZ=e=>n=>tr(Ue.fromDom(e),n),iae=(e,n,o)=>bi(Ue.fromDom(e),i=>sae(i)||o.isBlock(er(i)),vZ(n)).getOr(Ue.fromDom(n)).dom,yZ=(e,n)=>bi(Ue.fromDom(e),rae,vZ(n)),xZ=(e,n,o)=>{const i=new fa(e,n),c=o?i.next.bind(i):i.prev.bind(i);let m=e;for(let p=o?e:c();p&&!oae(p);p=c())ku(p)&&(m=p);return m},aae=(e,n,o)=>{const c=St.fromRangeStart(e).getNode(),m=iae(c,n,o),p=xZ(c,m,!1),_=xZ(c,m,!0),A=document.createRange();return yZ(p,m).fold(()=>{bZ(p)?A.setStart(p,0):A.setStartBefore(p)},$=>A.setStartBefore($.dom)),yZ(_,m).fold(()=>{bZ(_)?A.setEnd(_,_.data.length):A.setEndAfter(_)},$=>A.setEndAfter($.dom)),A},lae=e=>{const n=aae(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(PS(n))},cae=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),lae(e))})};var Hk;(function(e){e.Before="before",e.After="after"})(Hk||(Hk={}));const uae=(e,n)=>Math.abs(e.left-n),dae=(e,n)=>Math.abs(e.right-n),fae=(e,n)=>e>=n.top&&e<=n.bottom,mae=(e,n)=>e.top<n.bottom&&e.bottom>n.top,gae=(e,n)=>{const o=m2(e,n)/Math.min(e.height,n.height);return mae(e,n)&&o>.5},hae=(e,n)=>{const o=je(e,i=>fae(n,i));return Vp(o).fold(()=>[[],e],i=>{const{pass:c,fail:m}=Ne(e,p=>gae(p,i));return[c,m]})},pae=(e,n)=>({node:e.node,position:uae(e,n)<dae(e,n)?Hk.Before:Hk.After}),bae=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),cH=(e,n,o,i)=>{const c=X=>ku(X.node)?Q.some(X):Nn(X.node)?cH(Oo(X.node.childNodes),n,o,!1):Q.none(),m=(X,ne,ve)=>c(ne).filter(Ee=>Math.abs(ve(X,n,o)-ve(Ee,n,o))<2&&jt(Ee.node)),p=(X,ne)=>{const ve=wr(X,(Ee,ye)=>ne(Ee,n,o)-ne(ye,n,o));return ci(ve,c).map(Ee=>i&&!jt(Ee.node)&&ve.length>1?m(Ee,ve[1],ne).getOr(Ee):Ee)},[_,A]=hae(s6(e),o),{pass:$,fail:q}=Ne(A,X=>X.top<o);return p(_,bae).orThunk(()=>p(q,X0)).orThunk(()=>p($,X0))},vae=(e,n,o,i)=>{const c=(m,p)=>{const _=$=>Nn($)&&$.classList.contains("mce-drag-container"),A=je(m.dom.childNodes,Le(_));return p.fold(()=>cH(A,o,i,!0),$=>{const q=je(A,X=>X!==$.dom);return cH(q,o,i,!0)}).orThunk(()=>(tr(m,e)?Q.none():Pf(m)).bind(q=>c(q,Q.some(m))))};return c(n,Q.none())},yae=(e,n,o)=>{const i=Ue.fromDom(e),c=dc(i),p=Ue.fromPoint(c,n,o).filter(_=>ca(i,_)).getOr(i);return vae(i,p,n,o)},wZ=(e,n,o)=>yae(e,n,o).filter(i=>I2(i.node)).map(i=>pae(i,n)),CZ=e=>{var n,o;const i=e.getBoundingClientRect(),c=e.ownerDocument,m=c.documentElement,p=c.defaultView;return{top:i.top+((n=p==null?void 0:p.scrollY)!==null&&n!==void 0?n:0)-m.clientTop,left:i.left+((o=p==null?void 0:p.scrollX)!==null&&o!==void 0?o:0)-m.clientLeft}},xae=e=>e.inline?CZ(e.getBody()):{left:0,top:0},wae=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},Cae=e=>{const n=e.getBody(),o=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?i:c},_ae=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=CZ(e.getContentAreaContainer()),i=Cae(e);return{left:n.pageX-o.left+i.left,top:n.pageY-o.top+i.top}}return{left:n.pageX,top:n.pageY}},Sae=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),kae=(e,n)=>Sae(xae(e),wae(e),_ae(e,n)),_Z=e=>({target:e,srcElement:e}),Eae=(e,n,o,i)=>({...n,dataTransfer:i,type:e,..._Z(o)}),Aae=(e,n,o)=>{const i=ft("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:i,initEvent:i,preventDefault:lt,stopImmediatePropagation:lt,stopPropagation:lt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:i,initMouseEvent:i,getModifierState:i,dataTransfer:o,..._Z(n)}},Tae=(e,n)=>{const o=Yse(e);return n==="dragstart"?(Zj(o),qj(o)):n==="drop"?(zse(o),tH(o)):(Hse(o),jse(o)),o},Oae=(e,n,o,i)=>{const c=Tae(o,e);return Xe(i)?Aae(e,n,c):Eae(e,i,n,c)},q6=32,Dae=100,Y6=8,X6=16,SZ=yo,Rae=p2(SZ,Vc),Iae=(e,n,o)=>SZ(o)&&o!==n&&e.isEditable(o.parentElement),Nae=(e,n,o)=>rt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),Pae=(e,n,o,i)=>{const c=e.dom,m=n.cloneNode(!0);c.setStyles(m,{width:o,height:i}),c.setAttrib(m,"data-mce-selected",null);const p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:i}),c.setStyles(m,{margin:0,boxSizing:"border-box"}),p.appendChild(m),p},Lae=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},J6=(e,n)=>o=>()=>{const i=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:i+n,behavior:"smooth"})},kZ=J6("left",-q6),EZ=J6("left",q6),AZ=J6("top",-q6),TZ=J6("top",q6),Mae=(e,n,o,i,c,m,p,_,A,$,q,X)=>{let ne=0,ve=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(ne=n.pageX+o-c),n.pageY+i>m&&(ve=n.pageY+i-m),e.style.width=o-ne+"px",e.style.height=i-ve+"px";const Ee=A.clientHeight,ye=A.clientWidth,Ie=p+A.getBoundingClientRect().top,Ge=_+A.getBoundingClientRect().left;q.on(ot=>{ot.intervalId.clear(),ot.dragging&&X&&(p+Y6>=Ee?ot.intervalId.set(TZ($)):p-Y6<=0?ot.intervalId.set(AZ($)):_+Y6>=ye?ot.intervalId.set(EZ($)):_-Y6<=0?ot.intervalId.set(kZ($)):Ie+X6>=window.innerHeight?ot.intervalId.set(TZ(window)):Ie-X6<=0?ot.intervalId.set(AZ(window)):Ge+X6>=window.innerWidth?ot.intervalId.set(EZ(window)):Ge-X6<=0&&ot.intervalId.set(kZ(window)))})},OZ=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Bae=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);OZ(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Zc(Ue.fromDom(o))},Fae=e=>e.button===0,$ae=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),Vae=(e,n)=>o=>{if(Fae(o)){const i=bn(n.dom.getParents(o.target),Rae).getOr(null);if(Oe(i)&&Iae(n.dom,n.getBody(),i)){const c=n.dom.getPos(i),m=n.getBody(),p=n.getDoc().documentElement;e.set({element:i,dataTransfer:nH(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?m.scrollWidth:p.offsetWidth)-2,maxY:(n.inline?m.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Pae(n,i,i.offsetWidth,i.offsetHeight),intervalId:zc(Dae)})}}},zae=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),wZ(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),i=>{const c=e._selectionOverrides.showCaret(1,i.node,i.position===Hk.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},QO=(e,n,o,i,c)=>{n==="dragstart"&&Jj(i,e.dom.getOuterHTML(o));const m=Oae(n,o,i,c);return e.dispatch(n,m)},Hae=(e,n)=>{const o=Sh((c,m)=>zae(n,c,m),0);n.on("remove",o.cancel);const i=e;return c=>e.on(m=>{const p=Math.max(Math.abs(c.screenX-m.screenX),Math.abs(c.screenY-m.screenY));if(!m.dragging&&p>10){const _=QO(n,"dragstart",m.element,m.dataTransfer,c);if(Oe(_.dataTransfer)&&(m.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;m.dragging=!0,n.focus()}if(m.dragging){const _=c.currentTarget===n.getDoc().documentElement,A=$ae(m,kae(n,c));Lae(m.ghost,n.getBody()),Mae(m.ghost,A,m.width,m.height,m.maxX,m.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),i,_),o.throttle(c.clientX,c.clientY)}})},Uae=e=>{const n=e.getSel();if(Oe(n)){const i=n.getRangeAt(0).startContainer;return jt(i)?i.parentNode:i}else return null},Wae=(e,n)=>o=>{e.on(i=>{var c;if(i.intervalId.clear(),i.dragging){if(Nae(n,Uae(n.selection),i.element)){const m=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();QO(n,"drop",m,i.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{Bae(n.dom,i.element),Xse(i.dataTransfer).each(_=>n.insertContent(_)),n._selectionOverrides.hideFakeCaret()})}QO(n,"dragend",n.getBody(),i.dataTransfer,o)}}),RZ(e)},DZ=(e,n,o)=>{e.on(i=>{i.intervalId.clear(),i.dragging&&o.fold(()=>QO(n,"dragend",i.element,i.dataTransfer),c=>QO(n,"dragend",i.element,i.dataTransfer,c))}),RZ(e)},Kae=(e,n)=>o=>DZ(e,n,Q.some(o)),RZ=e=>{e.on(n=>{n.intervalId.clear(),OZ(n.ghost)}),e.clear()},jae=e=>{const n=Li(),o=Xr.DOM,i=document,c=Vae(n,e),m=Hae(n,e),p=Wae(n,e),_=Kae(n,e);e.on("mousedown",c),e.on("mousemove",m),e.on("mouseup",p),o.bind(i,"mousemove",m),o.bind(i,"mouseup",_),e.on("remove",()=>{o.unbind(i,"mousemove",m),o.unbind(i,"mouseup",_)}),e.on("keydown",A=>{A.keyCode===hn.ESC&&DZ(n,e,Q.none())})},Zae=e=>{const n=c=>{if(!c.isDefaultPrevented()){const m=c.dataTransfer;m&&(xe(m.types,"Files")||m.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Ck(e,"Dropped file type is not supported"))}},o=c=>{oS(e,c.target)&&n(c)},i=()=>{const c=Xr.DOM,m=e.dom,p=document,_=e.inline?e.getBody():e.getDoc(),A=["drop","dragover"];be(A,$=>{c.bind(p,$,o),m.bind(_,$,n)}),e.on("remove",()=>{be(A,$=>{c.unbind(p,$,o),m.unbind(_,$,n)})})};e.on("init",()=>{Qc.setEditorTimeout(e,i,0)})},Gae=e=>{jae(e),b_(e)&&Zae(e)},qae=e=>{const n=Sh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const i=Ek(e,o,!1);e.selection.setRng(i)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},Yae=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Ot(o)){const i=wd(e.getBody(),o),c=yo(i)?i:o;e.selection.getNode()!==c&&Qw(e,c).each(m=>e.selection.setRng(m))}})})},eD=yo,IZ=(e,n)=>wd(e.getBody(),n),Xae=e=>{const n=e.selection,o=e.dom,i=e.getBody(),c=nI(e,i,o.isBlock,()=>Cy(e)),m="sel-"+o.uniqueId(),p="data-mce-selected";let _;const A=wn=>Oe(wn)&&o.hasClass(wn,"mce-offscreen-selection"),$=wn=>wn!==i&&(eD(wn)||Ot(wn))&&o.isChildOf(wn,i)&&o.isEditable(wn.parentNode),q=wn=>{wn&&n.setRng(wn)},X=(wn,Rt,Ct,Ft=!0)=>e.dispatch("ShowCaret",{target:Rt,direction:wn,before:Ct}).isDefaultPrevented()?null:(Ft&&n.scrollIntoView(Rt,wn===-1),c.show(Ct,Rt)),ne=wn=>{wn.hasAttribute("data-mce-caret")&&(Th(wn),n.scrollIntoView(wn))},ve=()=>{e.on("click",Rt=>{o.isEditable(Rt.target)||(Rt.preventDefault(),e.focus())}),e.on("blur NewBlock",bt),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Rt=>{const Ct=Rt.target,Ft=IZ(e,Ct);eD(Ft)?(Rt.preventDefault(),Qw(e,Ft).each(tt)):$(Ct)&&Qw(e,Ct).each(tt)},!0),e.on("mousedown",Rt=>{const Ct=Rt.target;if(Ct!==i&&Ct.nodeName!=="HTML"&&!o.isChildOf(Ct,i)||!hz(e,Rt.clientX,Rt.clientY))return;bt(),en();const Ft=IZ(e,Ct);eD(Ft)?(Rt.preventDefault(),Qw(e,Ft).each(tt)):wZ(i,Rt.clientX,Rt.clientY).each(Dn=>{Rt.preventDefault();const Wn=X(1,Dn.node,Dn.position===Hk.Before,!1);q(Wn),yu(Ft)?Ft.focus():e.getBody().focus()})}),e.on("keypress",Rt=>{hn.modifierPressed(Rt)||eD(n.getNode())&&Rt.preventDefault()}),e.on("GetSelectionRange",Rt=>{let Ct=Rt.range;if(_){if(!_.parentNode){_=null;return}Ct=Ct.cloneRange(),Ct.selectNode(_),Rt.range=Ct}}),e.on("SetSelectionRange",Rt=>{Rt.range=Ie(Rt.range);const Ct=tt(Rt.range,Rt.forward);Ct&&(Rt.range=Ct)});const wn=Rt=>Nn(Rt)&&Rt.id==="mcepastebin";e.on("AfterSetSelectionRange",Rt=>{const Ct=Rt.range,Ft=Ct.startContainer.parentElement;!ye(Ct)&&!wn(Ft)&&en(),A(Ft)||bt()}),Gae(e),qae(e),Yae(e)},Ee=wn=>tc(wn)||Lv(wn)||rf(wn),ye=wn=>Ee(wn.startContainer)||Ee(wn.endContainer),Ie=wn=>{const Rt=e.schema.getVoidElements(),Ct=o.createRng(),Ft=wn.startContainer,Dn=wn.startOffset,Wn=wn.endContainer,$o=wn.endOffset;return fo(Rt,Ft.nodeName.toLowerCase())?Dn===0?Ct.setStartBefore(Ft):Ct.setStartAfter(Ft):Ct.setStart(Ft,Dn),fo(Rt,Wn.nodeName.toLowerCase())?$o===0?Ct.setEndBefore(Wn):Ct.setEndAfter(Wn):Ct.setEnd(Wn,$o),Ct},Ge=(wn,Rt)=>{const Ct=Ue.fromDom(e.getBody()),Ft=e.getDoc(),Dn=Lt(Ct,"#"+m).getOrThunk(()=>{const jo=Ue.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Ft);return _i(jo,"id",m),Ws(Ct,jo),jo}),Wn=o.createRng();os(Dn),ri(Dn,[Ue.fromText(Ni,Ft),Ue.fromDom(Rt),Ue.fromText(Ni,Ft)]),Wn.setStart(Dn.dom.firstChild,1),Wn.setEnd(Dn.dom.lastChild,0),qo(Dn,{top:o.getPos(wn,e.getBody()).y+"px"}),rT(Dn);const $o=n.getSel();return $o&&($o.removeAllRanges(),$o.addRange(Wn)),Wn},ot=wn=>{const Rt=wn.cloneNode(!0),Ct=e.dispatch("ObjectSelected",{target:wn,targetClone:Rt});if(Ct.isDefaultPrevented())return null;const Ft=Ge(wn,Ct.targetClone),Dn=Ue.fromDom(wn);return be(vi(Ue.fromDom(e.getBody()),`*[${p}]`),Wn=>{tr(Dn,Wn)||Lo(Wn,p)}),o.getAttrib(wn,p)||wn.setAttribute(p,"1"),_=wn,en(),Ft},tt=(wn,Rt)=>{if(!wn)return null;if(wn.collapsed){if(!ye(wn)){const Wn=Rt?1:-1,$o=M2(Wn,i,wn),jo=$o.getNode(!Rt);if(Oe(jo)){if(I2(jo))return X(Wn,jo,Rt?!$o.isAtEnd():!1,!1);if(ig(jo)&&yo(jo.nextSibling)){const Kr=o.createRng();return Kr.setStart(jo,0),Kr.setEnd(jo,0),Kr}}const Lr=$o.getNode(Rt);if(Oe(Lr)){if(I2(Lr))return X(Wn,Lr,Rt?!1:!$o.isAtEnd(),!1);if(ig(Lr)&&yo(Lr.previousSibling)){const Kr=o.createRng();return Kr.setStart(Lr,1),Kr.setEnd(Lr,1),Kr}}}return null}let Ct=wn.startContainer,Ft=wn.startOffset;const Dn=wn.endOffset;if(jt(Ct)&&Ft===0&&eD(Ct.parentNode)&&(Ct=Ct.parentNode,Ft=o.nodeIndex(Ct),Ct=Ct.parentNode),!Nn(Ct))return null;if(Dn===Ft+1&&Ct===wn.endContainer){const Wn=Ct.childNodes[Ft];if($(Wn))return ot(Wn)}return null},bt=()=>{_&&_.removeAttribute(p),Lt(Ue.fromDom(e.getBody()),"#"+m).each(Pr),_=null},Vt=()=>{c.destroy(),_=null},en=()=>{c.hide()};return Og(e)||ve(),{showCaret:X,showBlockCaretContainer:ne,hideFakeCaret:en,destroy:Vt}},Jae=(e,n)=>{let o=n;for(let i=e.previousSibling;jt(i);i=i.previousSibling)o+=i.data.length;return o},NZ=(e,n,o,i,c)=>{if(jt(o)&&(i<0||i>o.data.length))return[];const m=c&&jt(o)?[Jae(o,i)]:[i];let p=o;for(;p!==n&&p.parentNode;)m.push(e.nodeIndex(p,c)),p=p.parentNode;return p===n?m.reverse():[]},uH=(e,n,o,i,c,m,p=!1)=>{const _=NZ(e,n,o,i,p),A=NZ(e,n,c,m,p);return{start:_,end:A}},PZ=(e,n)=>{const o=n.slice(),i=o.pop();return D(i)?sn(o,(m,p)=>m.bind(_=>Q.from(_.childNodes[p])),Q.some(e)).bind(m=>jt(m)&&(i<0||i>m.data.length)?Q.none():Q.some({node:m,offset:i})):Q.none()},LZ=(e,n)=>PZ(e,n.start).bind(({node:o,offset:i})=>PZ(e,n.end).map(({node:c,offset:m})=>{const p=document.createRange();return p.setStart(o,i),p.setEnd(c,m),p})),Qae=(e,n,o,i=!1)=>uH(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,i),Uk=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const i=n.parentNode;e.remove(n,jt(n.firstChild)&&mc(n.firstChild.data)),Uk(e,i,o)}},Q6=(e,n,o,i=!0)=>{const c=n.startContainer.parentNode,m=n.endContainer.parentNode;n.deleteContents(),i&&!o(n.startContainer)&&(jt(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),jt(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Uk(e,c,o),c!==m&&Uk(e,m,o))},eB=(e,n)=>Q.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),dH=(e,n,o)=>{const i=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:Ia(i).concat(e.blockPatterns),inlinePatterns:fd(i).concat(e.inlinePatterns)}},fH=(e,n,o,i)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,i),c.toString()},MZ=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),tB=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},BZ=(e,n,o)=>{const i=LZ(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=i.startContainer,m=i.endContainer,p=i.endOffset===0?m:m.splitText(i.endOffset),_=i.startOffset===0?c:c.splitText(i.startOffset),A=_.parentNode,$=p.parentNode;return{prefix:n,end:$.insertBefore(MZ(e,n+"-end"),p),start:A.insertBefore(MZ(e,n+"-start"),_)}},FZ=(e,n,o)=>{Uk(e,e.get(n.prefix+"-end"),o),Uk(e,e.get(n.prefix+"-start"),o)},mH=e=>e.start.length===0,ele=e=>(n,o)=>{const c=n.data.substring(0,o),m=c.lastIndexOf(e.charAt(e.length-1)),p=c.lastIndexOf(e);return p!==-1?p+e.length:m!==-1?m+1:-1},$Z=(e,n,o,i)=>{const c=n.start;return L9(e,i.container,i.offset,ele(c),o).bind(p=>{var _,A;const $=(A=(_=o.textContent)===null||_===void 0?void 0:_.indexOf(c))!==null&&A!==void 0?A:-1;if($!==-1&&p.offset>=$+c.length){const X=e.createRng();return X.setStart(p.container,p.offset-c.length),X.setEnd(p.container,p.offset),Q.some(X)}else{const X=p.offset-c.length;return P9(p.container,X,o).map(ne=>{const ve=e.createRng();return ve.setStart(ne.container,ne.offset),ve.setEnd(p.container,p.offset),ve}).filter(ne=>ne.toString()===c).orThunk(()=>$Z(e,n,o,ep(p.container,0)))}})},tle=(e,n,o,i,c,m=!1)=>{if(n.start.length===0&&!m){const p=e.createRng();return p.setStart(o,i),p.setEnd(o,i),Q.some(p)}return N9(o,i,c).bind(p=>$Z(e,n,c,p).bind(A=>{var $;if(m){if(A.endContainer===p.container&&A.endOffset===p.offset)return Q.none();if(p.offset===0&&(($=A.endContainer.textContent)===null||$===void 0?void 0:$.length)===A.endOffset)return Q.none()}return Q.some(A)}))},nle=(e,n,o,i)=>{const c=e.dom,m=c.getRoot(),p=o.pattern,_=o.position.container,A=o.position.offset;return P9(_,A-o.pattern.end.length,n).bind($=>{const q=uH(c,m,$.container,$.offset,_,A,i);if(mH(p))return Q.some({matches:[{pattern:p,startRng:q,endRng:q}],position:$});{const X=nB(e,o.remainingPatterns,$.container,$.offset,n,i),ne=X.getOr({matches:[],position:$}),ve=ne.position;return tle(c,p,ve.container,ve.offset,n,X.isNone()).map(ye=>{const Ie=Qae(c,m,ye,i);return{matches:ne.matches.concat([{pattern:p,startRng:Ie,endRng:q}]),position:ep(ye.startContainer,ye.startOffset)}})}})},nB=(e,n,o,i,c,m)=>{const p=e.dom;return N9(o,i,p.getRoot()).bind(_=>{const A=fH(p,c,o,i);for(let $=0;$<n.length;$++){const q=n[$];if(!Re(A,q.end))continue;const X=n.slice();X.splice($,1);const ne=nle(e,c,{pattern:q,remainingPatterns:X,position:_},m);if(ne.isNone()&&i>0)return nB(e,n,o,i-1,c,m);if(ne.isSome())return ne}return Q.none()})},VZ=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?be(n.format,i=>{e.formatter.apply(i)}):e.execCommand(n.cmd,!1,n.value)},ole=(e,n,o,i)=>{const c=tB(e.dom,o);Q6(e.dom,c,i),VZ(e,n,c)},rle=(e,n,o,i,c)=>{const m=e.dom,p=tB(m,i),_=tB(m,o);Q6(m,_,c),Q6(m,p,c);const A={prefix:o.prefix,start:o.end,end:i.start},$=tB(m,A);VZ(e,n,$)},sle=(e,n)=>{const o=Wa("mce_textpattern"),i=gt(n,(c,m)=>{const p=BZ(e,o+`_end${c.length}`,m.endRng);return c.concat([{...m,endMarker:p}])},[]);return gt(i,(c,m)=>{const p=i.length-c.length-1,_=mH(m.pattern)?m.endMarker:BZ(e,o+`_start${p}`,m.startRng);return c.concat([{...m,startMarker:_}])},[])},ile=e=>wr(e,(n,o)=>o.end.length-n.end.length),ale=(e,n)=>{const o=Ro(e,i=>Ae(n,c=>i.pattern.start===c.pattern.start&&i.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},zZ=(e,n,o,i,c,m)=>{const p=nB(e,c.inlinePatterns,o,i,n,m).fold(()=>[],A=>A.matches),_=nB(e,ile(c.inlinePatterns),o,i,n,m).fold(()=>[],A=>A.matches);return ale(p,_)},HZ=(e,n)=>{if(n.length===0)return;const o=e.dom,i=e.selection.getBookmark(),c=sle(o,n);be(c,m=>{const p=o.getParent(m.startMarker.start,o.isBlock),_=A=>A===p;mH(m.pattern)?ole(e,m.pattern,m.endMarker,_):rle(e,m.pattern,m.startMarker,m.endMarker,_),FZ(o,m.endMarker,_),FZ(o,m.startMarker,_)}),e.selection.moveToBookmark(i)},UZ=(e,n,o)=>Yne(n,0,n).map(i=>{const c=i.container;return KK(c,o.start.length,n).each(m=>{const p=e.createRng();p.setStart(c,0),p.setEnd(m.container,m.offset),Q6(e,p,_=>_===n)}),c}),WZ=e=>(n,o)=>{const i=n.dom,c=o.pattern,m=LZ(i.getRoot(),o.range).getOrDie("Unable to resolve path range"),p=(_,A)=>{const $=A.get(_);return oe($)&&En($).exists(q=>fo(q,"block"))};return eB(n,m).each(_=>{c.type==="block-format"?p(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,_,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,_,c),n.execCommand(c.cmd,!1,c.value)})}),!0},lle=e=>wr(e,(n,o)=>o.start.length-n.start.length),KZ=e=>(n,o)=>{const i=lle(n),c=o.replace(Ni," ");return bn(i,m=>e(m,o,c))},jZ=(e,n)=>(o,i,c,m,p)=>{var _;p===void 0&&(p=(_=i.textContent)!==null&&_!==void 0?_:"");const A=o.dom,$=ml(o);return A.is(i,$)?e(c.blockPatterns,p).map(q=>n&&tn.trim(p).length===q.start.length?[]:[{pattern:q,range:uH(A,A.getRoot(),i,0,i,0,m)}]).getOr([]):[]},cle=e=>/^\s[^\s]/.test(e),ule=WZ((e,n,o)=>{UZ(e,n,o).each(i=>{const c=Ue.fromDom(i),m=rg(c);cle(m)&&Tv(c,m.slice(1))})}),dle=KZ((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),fle=jZ(dle,!0),mle=(e,n)=>{const o=e.selection.getRng();return eB(e,o).map(i=>{var c;const m=Math.max(0,o.startOffset),p=dH(n,i,(c=i.textContent)!==null&&c!==void 0?c:""),_=zZ(e,i,o.startContainer,m,p,!0),A=fle(e,i,p,!0);return{inlineMatches:_,blockMatches:A}}).filter(({inlineMatches:i,blockMatches:c})=>c.length>0||i.length>0)},gle=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();be(n,i=>ule(e,i)),e.selection.moveToBookmark(o)},hle=WZ(UZ),ple=KZ((e,n,o)=>n===e.start||o===e.start),ble=jZ(ple,!1),vle=(e,n)=>{const o=e.selection.getRng();return eB(e,o).map(i=>{const c=Math.max(0,o.startOffset),m=fH(e.dom,i,o.startContainer,c),p=dH(n,i,m);return ble(e,i,p,!1,m)}).filter(i=>i.length>0)},yle=(e,n)=>{be(n,o=>hle(e,o))},xle=(e,n)=>mle(e,n).fold(Tn,({inlineMatches:o,blockMatches:i})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{GE(e),HZ(e,o),gle(e,i);const c=e.selection.getRng(),m=N9(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),m.each(p=>{const _=p.container;_.data.charAt(p.offset-1)===Rs&&(_.deleteData(p.offset-1,1),Uk(e.dom,_.parentNode,A=>A===e.dom.getRoot()))})}),!0)),wle=(e,n)=>{const o=e.selection.getRng();eB(e,o).map(i=>{const c=Math.max(0,o.startOffset-1),m=fH(e.dom,i,o.startContainer,c),p=dH(n,i,m),_=zZ(e,i,o.startContainer,c,p,!1);_.length>0&&e.undoManager.transact(()=>{HZ(e,_)})})},Cle=(e,n)=>vle(e,n).fold(Tn,o=>(e.undoManager.transact(()=>{yle(e,o)}),!0)),ZZ=(e,n,o)=>{for(let i=0;i<e.length;i++)if(o(e[i],n))return!0;return!1},_le=(e,n)=>ZZ(e,n,(o,i)=>o===i.keyCode&&!hn.modifierPressed(i)),Sle=(e,n)=>ZZ(e,n,(o,i)=>o.charCodeAt(0)===i.charCode),kle=e=>{const n=[",",".",";",":","!","?"],o=[32],i=()=>Wp(MF(e).filter(p=>p.type==="inline-command"||p.type==="block-command"?e.queryCommandSupported(p.cmd):!0),O2(e)),c=()=>fA(e);e.on("keydown",p=>{if(p.keyCode===13&&!hn.modifierPressed(p)&&e.selection.isCollapsed()){const _=sm(i(),"enter");(_.inlinePatterns.length>0||_.blockPatterns.length>0||c())&&xle(e,_)&&p.preventDefault()}},!0),e.on("keydown",p=>{if(p.keyCode===32&&e.selection.isCollapsed()){const _=sm(i(),"space");(_.blockPatterns.length>0||c())&&Cle(e,_)&&p.preventDefault()}},!0);const m=()=>{if(e.selection.isCollapsed()){const p=sm(i(),"space");(p.inlinePatterns.length>0||c())&&wle(e,p)}};e.on("keyup",p=>{_le(o,p)&&m()}),e.on("keypress",p=>{Sle(n,p)&&Qc.setEditorTimeout(e,m)})},Ele=e=>{kle(e)},Ale=e=>{const n=tn.each,o=hn.BACKSPACE,i=hn.DELETE,c=e.dom,m=e.selection,p=e.parser,_=zo.browser,A=_.isFirefox(),$=_.isChromium()||_.isSafari(),q=zo.deviceType.isiPhone()||zo.deviceType.isiPad(),X=zo.os.isMacOS()||zo.os.isiOS(),ne=(fn,Qn)=>{try{e.getDoc().execCommand(fn,!1,String(Qn))}catch{}},ve=fn=>fn.isDefaultPrevented(),Ee=()=>{const fn=Wo=>{const yn=c.create("body"),Vo=Wo.cloneContents();return yn.appendChild(Vo),m.serializer.serialize(yn,{format:"html"})},Qn=Wo=>{const yn=fn(Wo),Vo=c.createRng();Vo.selectNode(e.getBody());const Zo=fn(Vo);return yn===Zo};e.on("keydown",Wo=>{const yn=Wo.keyCode;if(!ve(Wo)&&(yn===i||yn===o)&&e.selection.isEditable()){const Vo=e.selection.isCollapsed(),Zo=e.getBody();if(Vo&&!gc(e.schema,Zo)||!Vo&&!Qn(e.selection.getRng()))return;Wo.preventDefault(),e.setContent(""),Zo.firstChild&&c.isBlock(Zo.firstChild)?e.selection.setCursorLocation(Zo.firstChild,0):e.selection.setCursorLocation(Zo,0),e.nodeChanged()}})},ye=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Ie=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",fn=>{let Qn;if(fn.target===e.getDoc().documentElement)if(Qn=m.getRng(),e.getBody().focus(),fn.type==="mousedown"){if(tc(Qn.startContainer))return;m.placeCaretAt(fn.clientX,fn.clientY)}else m.setRng(Qn)})},Ge=()=>{e.on("keydown",fn=>{if(!ve(fn)&&fn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(m.isCollapsed()&&m.getRng().startOffset===0){const Qn=m.getNode(),Wo=Qn.previousSibling;if(Qn.nodeName==="HR"){c.remove(Qn),fn.preventDefault();return}Wo&&Wo.nodeName&&Wo.nodeName.toLowerCase()==="hr"&&(c.remove(Wo),fn.preventDefault())}}})},ot=()=>{Range.prototype.getClientRects||e.on("mousedown",fn=>{if(!ve(fn)&&fn.target.nodeName==="HTML"){const Qn=e.getBody();Qn.blur(),Qc.setEditorTimeout(e,()=>{Qn.focus()})}})},tt=()=>{const fn=uy(e);e.on("click",Qn=>{const Wo=Qn.target;/^(IMG|HR)$/.test(Wo.nodeName)&&c.isEditable(Wo)&&(Qn.preventDefault(),e.selection.select(Wo),e.nodeChanged()),Wo.nodeName==="A"&&c.hasClass(Wo,fn)&&Wo.childNodes.length===0&&c.isEditable(Wo.parentNode)&&(Qn.preventDefault(),m.select(Wo))})},bt=()=>{const fn=()=>{const Wo=c.getAttribs(m.getStart().cloneNode(!1));return()=>{const yn=m.getStart();yn!==e.getBody()&&(c.setAttrib(yn,"style",null),n(Wo,Vo=>{yn.setAttributeNode(Vo.cloneNode(!0))}))}},Qn=()=>!m.isCollapsed()&&c.getParent(m.getStart(),c.isBlock)!==c.getParent(m.getEnd(),c.isBlock);e.on("keypress",Wo=>{let yn;return!ve(Wo)&&(Wo.keyCode===8||Wo.keyCode===46)&&Qn()?(yn=fn(),e.getDoc().execCommand("delete",!1),yn(),Wo.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Wo=>{if(!ve(Wo)&&Qn()){const yn=fn();Qc.setEditorTimeout(e,()=>{yn()})}})},Vt=()=>{e.on("keydown",fn=>{if(!ve(fn)&&fn.keyCode===o&&m.isCollapsed()&&m.getRng().startOffset===0){const Qn=m.getNode().previousSibling;if(Qn&&Qn.nodeName&&Qn.nodeName.toLowerCase()==="table")return fn.preventDefault(),!1}return!0})},en=()=>{e.on("keydown",fn=>{if(ve(fn)||fn.keyCode!==hn.BACKSPACE)return;let Qn=m.getRng();const Wo=Qn.startContainer,yn=Qn.startOffset,Vo=c.getRoot();let Zo=Wo;if(!(!Qn.collapsed||yn!==0)){for(;Zo.parentNode&&Zo.parentNode.firstChild===Zo&&Zo.parentNode!==Vo;)Zo=Zo.parentNode;Zo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Zo),Qn=c.createRng(),Qn.setStart(Wo,0),Qn.setEnd(Wo,0),m.setRng(Qn))}})},wn=()=>{const fn=()=>{ne("StyleWithCSS",!1),ne("enableInlineTableEditing",!1),DR(e)||ne("enableObjectResizing",!1)};FR(e)||e.on("BeforeExecCommand mousedown",fn)},Rt=()=>{const fn=()=>{n(c.select("a:not([data-mce-block])"),Qn=>{var Wo;let yn=Qn.parentNode;const Vo=c.getRoot();if((yn==null?void 0:yn.lastChild)===Qn){for(;yn&&!c.isBlock(yn);){if(((Wo=yn.parentNode)===null||Wo===void 0?void 0:Wo.lastChild)!==yn||yn===Vo)return;yn=yn.parentNode}c.add(yn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Qn=>{(Qn.type==="setcontent"||Qn.command==="mceInsertLink")&&fn()})},Ct=()=>{e.on("init",()=>{ne("DefaultParagraphSeparator",ml(e))})},Ft=fn=>{const Qn=fn.getBody(),Wo=fn.selection.getRng();return Wo.startContainer===Wo.endContainer&&Wo.startContainer===Qn&&Wo.startOffset===0&&Wo.endOffset===Qn.childNodes.length},Dn=()=>{e.on("keyup focusin mouseup",fn=>{!hn.modifierPressed(fn)&&!Ft(e)&&m.normalize()},!0)},Wn=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},$o=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},jo=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",fn=>{let Qn;fn.target.nodeName==="HTML"&&(Qn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Qn),e.selection.normalize(),e.nodeChanged())}))},Lr=()=>{X&&e.on("keydown",fn=>{hn.metaKeyPressed(fn)&&!fn.shiftKey&&(fn.keyCode===37||fn.keyCode===39)&&(fn.preventDefault(),e.selection.getSel().modify("move",fn.keyCode===37?"backward":"forward","lineboundary"))})},Kr=()=>{e.on("click",fn=>{let Qn=fn.target;do if(Qn.tagName==="A"){fn.preventDefault();return}while(Qn=Qn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},gi=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",fn=>{fn.preventDefault()})})},Ll=()=>{p.addNodeFilter("br",fn=>{let Qn=fn.length;for(;Qn--;)fn[Qn].attr("class")==="Apple-interchange-newline"&&fn[Qn].remove()})},Qr=lt,ln=()=>{if(!A||e.removed)return!1;const fn=e.selection.getSel();return!fn||!fn.rangeCount||fn.rangeCount===0},Vn=()=>{$&&(Ie(),tt(),gi(),ye(),q&&($o(),jo(),Kr())),A&&(ot(),wn(),Wn(),Lr())},_r=()=>{en(),Ee(),zo.windowsPhone||Dn(),$&&(Ie(),tt(),Ct(),gi(),Vt(),Ll(),q?($o(),jo(),Kr()):ye()),A&&(Ge(),ot(),bt(),wn(),Rt(),Wn(),Lr(),Vt())};return Og(e)?Vn():_r(),{refreshContentEditable:Qr,isHidden:ln}},Tle=e=>e.toLowerCase()==="gpl",Ole=e=>e.length>=64&&e.length<=255,Dle=e=>Tle(e)||Ole(e)?"VALID":"INVALID",Rle=e=>{const n=YR(e);!ae(XR(e))&&(Xe(n)||Dle(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},gH=Xr.DOM,Ile=(e,n)=>{const o=Ue.fromDom(e.getBody()),i=zm(hu(o)),c=Ue.fromTag("style");_i(c,"type","text/css"),Ws(c,Ue.fromText(n)),Ws(i,c),e.on("remove",()=>{Pr(c)})},Nle=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,hH=e=>Rc(e,n=>Xe(n)===!1),GZ=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return hH({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Nle(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:x_(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},qZ=e=>{const n=e.options.get;return hH({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},Ple=e=>{const n=e.options.get;return{...GZ(e),...qZ(e),...hH({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Lle=e=>{const n=$y(GZ(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,i)=>{const c=e.dom,m="data-mce-"+i;let p=o.length;for(;p--;){const _=o[p];let A=_.attr(i);if(A&&!_.attr(m)){if(A.indexOf("data:")===0||A.indexOf("blob:")===0)continue;i==="style"?(A=c.serializeStyle(c.parseStyle(A),_.name),A.length||(A=null),_.attr(m,A),_.attr(i,A)):i==="tabindex"?(_.attr(m,A),_.attr(i,null)):_.attr(m,e.convertURL(A,i,_.name))}}}),n.addNodeFilter("script",o=>{let i=o.length;for(;i--;){const c=o[i],m=c.attr("type")||"no/type";m.indexOf("mce-")!==0&&c.attr("type","mce-"+m)}}),FF(e)&&n.addNodeFilter("#cdata",o=>{var i;let c=o.length;for(;c--;){const m=o[c];m.type=8,m.name="#comment",m.value="[CDATA["+e.dom.encode((i=m.value)!==null&&i!==void 0?i:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let i=o.length;const c=e.schema.getNonEmptyElements();for(;i--;){const m=o[i];m.isEmpty(c)&&m.getAll("br").length===0&&m.append(new Na("br",1))}}),n},Mle=e=>{const n=RF(e);n&&Qc.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Ble=e=>{const n=e.dom.getRoot();!e.inline&&(!hy(e)||e.selection.getStart(!0)===n)&&oo(n).each(o=>{const i=o.getNode(),c=xu(i)?oo(i).getOr(o):o;e.selection.setRng(c.toRange())})},Fle=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ai(e),e.focus(!0),Ble(e),e.nodeChanged({initial:!0});const n=OF(e);Te(n)&&n.call(e,e),Mle(e)},pH=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,$le=(e,n,o)=>{const{pass:i,fail:c}=Ne(n,_=>tinymce.Resource.has(eO(_))),p=[...i.map(_=>{const A=tinymce.Resource.get(eO(_));return ae(A)?Promise.resolve(pH(e).loadRawCss(_,A)):Promise.resolve()}),pH(e).loadAll(c)];return e.inline?p:p.concat([e.ui.styleSheetLoader.loadAll(o)])},YZ=e=>{const n=pH(e),o=OR(e),i=e.contentCSS,c=()=>{n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(o)},m=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let A="";tn.each(e.contentStyles,$=>{A+=$+`\r
`}),e.dom.addStyle(A)}const p=Promise.all($le(e,i,o)).then(m).catch(m),_=ay(e);return _&&Ile(e,_),p},Vle=e=>{const n=e.getDoc(),o=e.getBody();i7(e),IF(e)||(n.body.spellcheck=!1,gH.setAttrib(o,"spellcheck","false")),e.quirks=Ale(e),a7(e);const i=CF(e);i!==void 0&&(o.dir=i);const c=fr(e);c&&e.on("BeforeSetContent",m=>{tn.each(c,p=>{m.content=m.content.replace(p,_=>"<!--mce:protected "+escape(_)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",m=>{e.composing=m.type==="compositionstart"})},zle=e=>{Og(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},bH=e=>{e.removed!==!0&&(zle(e),Fle(e))},Hle=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},XZ=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(gH.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const i=e.getBody();i.disabled=!0,e.readonly=FR(e),e._editableRoot=Ar(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&gH.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable="true"),i.disabled=!1,e.editorUpload=nO(e),e.schema=Wc(qZ(e)),e.dom=Xr(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:AR(e),referrerPolicy:k2(e),onSetAttrib:p=>{e.dispatch("SetAttrib",p)}}),e.parser=Lle(e),e.serializer=AL(Ple(e),e),e.selection=z4(e.dom,e.getWin(),e.serializer,e),e.annotator=HI(e),e.formatter=Jw(e),e.undoManager=iM(e),e._nodeChangeDispatcher=new Mse(e),e._selectionOverrides=Xae(e),Do(e),nae(e),cC(e),Og(e)||(cae(e),Ele(e));const c=Lse(e);Kn(e,c),$i(e),fM(e),Qie(e);const m=cL(e);Vle(e),Rle(e),m.fold(()=>{const p=Hle(e);YZ(e).then(()=>{bH(e),p()})},p=>{e.setProgressState(!0),YZ(e).then(()=>{p().then(_=>{e.setProgressState(!1),bH(e),pL(e)},_=>{e.notificationManager.open({type:"error",text:String(_)}),bH(e),pL(e)})})})},Ule=nn,Wle=(e,n,o)=>L(e,n,Ule,o),vH=Xr.DOM,Kle=(e,n,o,i)=>{const c=Ue.fromTag("iframe");return i.each(m=>_i(c,"tabindex",m)),Fa(c,o),Fa(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Wd(c,"tox-edit-area__iframe"),c},jle=e=>{let n=sf(e)+"<html><head>";Tu(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=p_(e),i=QE(e),c=e.translate(A2(e));return wR(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+wR(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${i}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},Zle=(e,n)=>{const o=zo.browser.isFirefox()?A2(e):"Rich Text Area",i=e.translate(o),c=du(Ue.fromDom(e.getElement()),"tabindex").bind(mn),m=Kle(e.id,i,Rl(e),c).dom;m.onload=()=>{m.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=m,e.iframeHTML=jle(e),vH.add(n.iframeContainer,m)},Gle=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,XZ(e)};if(KR(e)||zo.browser.isFirefox()){const i=e.getDoc();i.open(),i.write(e.iframeHTML),i.close(),o()}else{const i=Wle(Ue.fromDom(n),"load",()=>{i.unbind(),o()});n.srcdoc=e.iframeHTML}},qle=(e,n)=>{Zle(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=vH.isHidden(n.editorContainer)),e.getElement().style.display="none",vH.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Gle(e)},JZ=Xr.DOM,Yle=(e,n,o)=>{const i=E1.get(o),c=E1.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=tn.trim(o),i&&tn.inArray(n,o)===-1){if(e.plugins[o])return;try{const m=i(e,c)||{};e.plugins[o]=m,Te(m.init)&&(m.init(e,c),n.push(o))}catch(m){yz(e,o,m)}}},Xle=e=>e.replace(/^\-/,""),Jle=e=>{const n=[];be(af(e),o=>{Yle(e,n,Xle(o))})},Qle=e=>{const n=tn.trim(rA(e)),o=e.ui.registry.getAll().icons,i={...Zw.get("default").icons,...Zw.get(n).icons};ur(i,(c,m)=>{fo(o,m)||e.ui.registry.addIcon(m,c)})},ece=e=>{const n=ly(e);if(ae(n)){const o=wb.get(n);e.theme=o(e,wb.urls[n])||{},Te(e.theme.init)&&e.theme.init(e,wb.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},tce=e=>{const n=E2(e),o=xb.get(n);e.model=o(e,xb.urls[n])},nce=e=>{const n=e.theme.renderUI;return n?n():eG(e)},oce=e=>{const n=e.getElement(),i=ly(e)(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},QZ=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),rce=e=>{const n=JZ.create("div");return JZ.insertAfter(n,e),QZ(n,n)},eG=e=>{const n=e.getElement();return e.inline?QZ(null):rce(n)},sce=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ae(ly(e))?nce(e):Te(ly(e))?oce(e):eG(e)},ice=(e,n)=>{const o={show:Q.from(n.show).getOr(lt),hide:Q.from(n.hide).getOr(lt),isEnabled:Q.from(n.isEnabled).getOr(nn),setEnabled:i=>{e.mode.isReadOnly()||Q.from(n.setEnabled).each(c=>c(i))}};e.ui={...e.ui,...o}},ace=async e=>{e.dispatch("ScriptsLoaded"),Qle(e),ece(e),tce(e),Jle(e);const n=await sce(e);ice(e,Q.from(n.api).getOr({})),e.editorContainer=n.editorContainer,ZL(e),e.inline?XZ(e):qle(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},gC=Xr.DOM,tG=e=>e.charAt(0)==="-",lce=(e,n)=>{const o=aA(n),i=wF(n);if(!Kc.hasCode(o)&&o!=="en"){const c=nt(i)?i:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{bz(n,c,o)})}},cce=(e,n)=>{const o=ly(e);if(ae(o)&&!tG(o)&&!fo(wb.urls,o)){const i=SF(e),c=i?e.documentBaseURI.toAbsolute(i):`themes/${o}/theme${n}.js`;wb.load(o,c).catch(()=>{KL(e,c,o)})}},uce=(e,n)=>{const o=E2(e);if(o!=="plugin"&&!fo(xb.urls,o)){const i=cA(e),c=ae(i)?e.documentBaseURI.toAbsolute(i):`models/${o}/model${n}.js`;xb.load(o,c).catch(()=>{vz(e,c,o)})}},dce=e=>Q.from(kR(e)).filter(nt).map(n=>({url:n,name:Q.none()})),nG=(e,n,o)=>Q.from(n).filter(i=>nt(i)&&!Zw.has(i)).map(i=>({url:`${e.editorManager.baseURL}/icons/${i}/icons${o}.js`,name:Q.some(i)})),fce=(e,n,o)=>{const i=nG(n,"default",o),c=dce(n).orThunk(()=>nG(n,rA(n),""));be(h0([i,c]),m=>{e.add(m.url).catch(()=>{J4(n,m.url,m.name.getOrUndefined())})})},mce=(e,n)=>{const o=(i,c)=>{E1.load(i,c).catch(()=>{X4(e,c,i)})};ur(dg(e),(i,c)=>{o(c,i),e.options.set("plugins",af(e).concat(c))}),be(af(e),i=>{i=tn.trim(i),i&&!E1.urls[i]&&!tG(i)&&o(i,`plugins/${i}/plugin${n}.js`)})},gce=e=>{const n=ly(e);return!ae(n)||Oe(wb.get(n))},hce=e=>{const n=E2(e);return Oe(xb.get(n))},pce=(e,n)=>{const o=Tl.ScriptLoader,i=()=>{!e.removed&&gce(e)&&hce(e)&&ace(e)};cce(e,n),uce(e,n),lce(o,e),fce(o,e,n),mce(e,n),o.loadQueue().then(i,i)},bce=(e,n)=>A0.forElement(e,{contentCssCors:$R(n),referrerPolicy:k2(n)}),vce=e=>{const n=e.id;Kc.setCode(aA(e));const o=()=>{gC.unbind(window,"ready",o),e.render()};if(!Zf.Event.domLoaded){gC.bind(window,"ready",o);return}if(!e.getElement())return;const i=Ue.fromDom(e.getElement()),c=kl(i);e.on("remove",()=>{Ce(i.dom.attributes,p=>Lo(i,p.name)),Fa(i,c)}),e.ui.styleSheetLoader=bce(i,e),jv(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const m=e.getElement().form||gC.getParent(n,"form");m&&(e.formElement=m,uA(e)&&!Ap(e.getElement())&&(gC.insertAfter(gC.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=p=>{e.dispatch(p.type,p)},gC.bind(m,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),PR(e)&&!m.submit.nodeType&&!m.submit.length&&!m._mceOldSubmit&&(m._mceOldSubmit=m.submit,m.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),m._mceOldSubmit(m)))),e.windowManager=UL(e),e.notificationManager=Y4(e),jR(e)&&e.on("GetContent",p=>{p.save&&(p.content=gC.encode(p.content))}),LR(e)&&e.on("submit",()=>{e.initialized&&e.save()}),MR(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),pce(e,e.suffix)},yce=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),u7(e,n))},xce=e=>e._editableRoot,wce=(e,n)=>({sections:ct(e),options:ct(n)}),oG=sa().deviceType,rG=oG.isPhone(),Cce=oG.isTablet(),tD=e=>{if(rt(e))return[];{const n=oe(e)?e:e.split(/[ ,]/),o=$e(n,ze);return je(o,nt)}},_ce=(e,n)=>{const o=Zu(n,(i,c)=>xe(e,c));return wce(o.t,o.f)},Sce=(e,n,o={})=>{const i=e.sections(),c=Nr(i,n).getOr({});return tn.extend({},o,c)},yH=(e,n)=>fo(e.sections(),n),kce=(e,n)=>yH(e,n)?e.sections()[n]:{},Ece=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Nr(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),Ace=(e,n)=>{var o;const i=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?tn.extend({},e.external_plugins,i):i},Tce=(e,n)=>[...tD(e),...tD(n)],Oce=(e,n,o,i)=>e&&yH(n,"mobile")?i:o,Dce=(e,n,o,i)=>{const c=tD(o.forced_plugins),m=tD(i.plugins),p=kce(n,"mobile"),_=p.plugins?tD(p.plugins):m,A=Oce(e,n,m,_),$=Tce(c,A);return tn.extend(i,{forced_plugins:c,plugins:$})},Rce=(e,n)=>e&&yH(n,"mobile"),Ice=(e,n,o,i,c)=>{var m;const p=e?{mobile:Ece((m=c.mobile)!==null&&m!==void 0?m:{},n)}:{},_=_ce(["mobile"],P6(p,c)),A=tn.extend(o,i,_.options(),Rce(e,_)?Sce(_,"mobile"):{},{external_plugins:Ace(i,_.options())});return Dce(e,_,i,A)},Nce=(e,n)=>{const o=QK(n);return Ice(rG||Cce,rG,o,e,o)},Pce=(e,n)=>hL(e,n),Lce=e=>{const n=(i,c)=>{e.formatter.toggle(i,c),e.nodeChanged()},o=i=>()=>{be("left,center,right,justify".split(","),c=>{i!==c&&e.formatter.remove("align"+c)}),i!=="none"&&n("align"+i)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Mce=e=>{const n=o=>()=>{const i=e.selection,c=i.isCollapsed()?[e.dom.getParent(i.getNode(),e.dom.isBlock)]:i.getSelectedBlocks();return Ae(c,m=>Oe(e.formatter.matchNode(m,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},Bce=e=>{Lce(e),Mce(e)},Fce=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let i;try{o.execCommand(n)}catch{i=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(i=!0),i||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(zo.os.isMacOS()||zo.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:c,type:"error"})}}})},$ce=(e,n,o,i)=>{const c=Ue.fromDom(e.getRoot());return Oy(c,St.fromRangeStart(n),i)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),h1(c,St.fromRangeEnd(n),i)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Vce=e=>{if(typeof e!="string"){const n=tn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},zce=(e,n)=>{const o=e.selection,i=e.dom;return/^ | $/.test(n)?$ce(i,o.getRng(),n,e.schema):n},oB=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:i}=Vce(n);h4(e,{...i,content:zce(e,o),format:"html",set:!1,selection:!0}).each(c=>{const m=qV(e,c.content,i);p4(e,m,c),e.addVisual()})}},Hce=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,i)=>{oB(e,e.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,i)=>{oB(e,e.dom.encode(i))},insertHTML:(n,o,i)=>{oB(e,i)},mceInsertContent:(n,o,i)=>{oB(e,i)},mceSetContent:(n,o,i)=>{e.setContent(i)},mceReplaceContent:(n,o,i)=>{e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(hr(e))}})},Uce={"font-size":"size","font-family":"face"},Wce=If("font"),Kce=(e,n,o)=>{const i=m=>Fs(m,e).orThunk(()=>Wce(m)?Nr(Uce,e).bind(p=>du(m,p)):Q.none()),c=m=>tr(Ue.fromDom(n),m);return Ow(Ue.fromDom(o),m=>i(m),c)},jce=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Zce=(e,n)=>Q.from(Xr.DOM.getStyle(n,e,!0)),sG=e=>(n,o)=>Q.from(o).map(Ue.fromDom).filter(Hs).bind(i=>Kce(e,n,i.dom).or(Zce(e,i.dom))).getOr(""),Gce=sG("font-size"),qce=zt(jce,sG("font-family")),Yce=e=>oo(e.getBody()).bind(n=>{const o=n.container();return Q.from(jt(o)?o.parentNode:o)}),Xce=e=>Q.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?Q.none():Q.from(e.selection.getStart(!0))}),Jce=(e,n)=>Xce(e).orThunk(Qe(Yce,e)).map(Ue.fromDom).filter(Hs).bind(n),xH=(e,n)=>Jce(e,Yt(Q.some,n)),iG=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const i=mA(e),c=gA(e);return c.length>0?c[o-1]||n:i[o-1]||n}else return n}else return n},Qce=e=>{const n=e.split(/\s*,\s*/);return $e(n,o=>o.indexOf(" ")!==-1&&!(cs(o,'"')||cs(o,"'"))?`'${o}'`:o).join(",")},eue=(e,n)=>{const o=iG(e,n);e.formatter.toggle("fontname",{value:Qce(o)}),e.nodeChanged()},tue=e=>xH(e,n=>qce(e.getBody(),n.dom)).getOr(""),nue=(e,n)=>{e.formatter.toggle("fontsize",{value:iG(e,n)}),e.nodeChanged()},oue=e=>xH(e,n=>Gce(e.getBody(),n.dom)).getOr(""),rue=e=>xH(e,n=>{const o=Ue.fromDom(e.getBody()),i=Ow(n,m=>Fs(m,"line-height"),Qe(tr,o)),c=()=>{const m=parseFloat(Us(n,"line-height")),p=parseFloat(Us(n,"font-size"));return String(m/p)};return i.getOrThunk(c)}).getOr(""),sue=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},iue=e=>{const n=(o,i)=>{e.formatter.toggle(o,i),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,i,c)=>{n(o,{value:c})},BackColor:(o,i,c)=>{n("hilitecolor",{value:c})},FontName:(o,i,c)=>{eue(e,c)},FontSize:(o,i,c)=>{nue(e,c)},LineHeight:(o,i,c)=>{sue(e,c)},Lang:(o,i,c)=>{var m;n(o,{value:c.code,customValue:(m=c.customCode)!==null&&m!==void 0?m:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,i,c)=>{n(ae(c)?c:"p")},mceToggleFormat:(o,i,c)=>{n(c)}})},aue=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>tue(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>oue(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>rue(e))},lue=e=>{iue(e),aue(e)},cue=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},uue=e=>{e.editorCommands.addCommands({Indent:()=>{It(e)},Outdent:()=>{Tt(e)}}),e.editorCommands.addCommands({Outdent:()=>we(e)},"state")},due=e=>{const n=(o,i,c)=>{const m=ae(c)?{href:c}:c,p=e.dom.getParent(e.selection.getNode(),"a");U(m)&&ae(m.href)&&(m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&e.formatter.remove("link"),m.href&&e.formatter.apply("link",m,p))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},fue=(e,n,o,i)=>{const c=e.dom,m=_=>c.isBlock(_)&&_.parentElement===o,p=m(n)?n:c.getParent(i,m,o);return Q.from(p).map(Ue.fromDom)},aG=(e,n)=>{const o=e.dom,i=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),m=n?i.startContainer:i.endContainer,p=YO(o,m);if(!p||!p.isContentEditable)return;const _=n?Ds:ut,A=ml(e);fue(e,c,p,m).each($=>{const q=kj(e,m,$.dom,p,!1,A);_($,Ue.fromDom(q)),e.selection.setCursorLocation(q,0),e.dispatch("NewBlock",{newBlock:q}),qO(e,"insertParagraph")})},mue=e=>aG(e,!0),gue=e=>aG(e,!1),hue=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{mue(e)},InsertNewBlockAfter:()=>{gue(e)}})},pue=e=>{e.editorCommands.addCommands({insertParagraph:()=>{W6(Oj,e)},mceInsertNewLine:(n,o,i)=>{Mj(e,i)},InsertLineBreak:(n,o,i)=>{W6(Ij,e)}})},bue=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,i)=>{let c=0;e.dom.getParent(e.selection.getNode(),m=>Nn(m)&&c++===i?(e.selection.select(m),!1):!0,e.getBody())},mceSelectNode:(n,o,i)=>{e.selection.select(i)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Vc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},vue=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,i)=>{const c=i??e.selection.getNode();if(c!==e.getBody()){const m=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(m)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,i)=>{EN(e,i===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},yue=e=>{Bce(e),Fce(e),cue(e),bue(e),Hce(e),due(e),uue(e),hue(e),pue(e),lue(e),vue(e)},xue=["toggleview"],lG=e=>xe(xue,e.toLowerCase());class cG{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,i,c){const m=this.editor,p=n.toLowerCase(),_=c==null?void 0:c.skip_focus;if(m.removed||(p!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(p)&&!_?m.focus():tS(m)),m.dispatch("BeforeExecCommand",{command:n,ui:o,value:i}).isDefaultPrevented()))return!1;const $=this.commands.exec[p];return Te($)?($(p,o,i),m.dispatch("ExecCommand",{command:n,ui:o,value:i}),!0):!1}queryCommandState(n){if(!lG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),i=this.commands.state[o];return Te(i)?i(o):!1}queryCommandValue(n){if(!lG(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),i=this.commands.value[o];return Te(i)?i(o):""}addCommands(n,o="exec"){const i=this.commands;ur(n,(c,m)=>{be(m.toLowerCase().split(","),p=>{i[o][p]=c})})}addCommand(n,o,i){const c=n.toLowerCase();this.commands.exec[c]=(m,p,_)=>o.call(i??this.editor,p,_)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,i){this.commands.state[n.toLowerCase()]=()=>o.call(i??this.editor)}addQueryValueHandler(n,o,i){this.commands.value[n.toLowerCase()]=()=>o.call(i??this.editor)}}const hC="data-mce-contenteditable",wue=(e,n,o)=>{Kd(e,n)&&!o?$a(e,n):o&&Wd(e,n)},wH=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},rB=(e,n)=>{e.dom.contentEditable=n?"true":"false"},Cue=e=>{be(vi(e,'*[contenteditable="true"]'),n=>{_i(n,hC,"true"),rB(n,!1)})},_ue=e=>{be(vi(e,`*[${hC}="true"]`),n=>{Lo(n,hC),rB(n,!0)})},Sue=e=>{Q.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},kue=e=>{e.selection.setRng(e.selection.getRng())},Eue=(e,n)=>{const o=Ue.fromDom(e.getBody());wue(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),Sue(e),e.readonly=!0,rB(o,!1),Cue(o)):(e.readonly=!1,e.hasEditableRoot()&&rB(o,!0),_ue(o),wH(e,"StyleWithCSS",!1),wH(e,"enableInlineTableEditing",!1),wH(e,"enableObjectResizing",!1),c1(e)&&e.focus(),kue(e),e.nodeChanged())},pC=e=>e.readonly,uG=e=>{e.parser.addAttributeFilter("contenteditable",n=>{pC(e)&&be(n,o=>{o.attr(hC,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(hC,n=>{pC(e)&&be(n,o=>{o.attr("contenteditable",o.attr(hC))})}),e.serializer.addTempAttr(hC)},Aue=e=>{e.serializer?uG(e):e.on("PreInit",()=>{uG(e)})},Tue=e=>e.type==="click",Oue=["copy"],Due=e=>xe(Oue,e.type),Rue=(e,n)=>Yi(n,"a",i=>tr(i,Ue.fromDom(e.getBody()))).bind(i=>du(i,"href")),Iue=(e,n)=>{if(Tue(n)&&!hn.metaKeyPressed(n)){const o=Ue.fromDom(n.target);Rue(e,o).each(i=>{if(n.preventDefault(),/^#/.test(i)){const c=e.dom.select(`${i},[name="${cu(i,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Due(n)&&e.dispatch(n.type,n)},Nue=e=>{e.on("ShowCaret",n=>{pC(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{pC(e)&&n.preventDefault()})},Pue=tn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class CH{static isNative(n){return!!Pue[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Tn}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const i=n.toLowerCase(),c=M0(i,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const m=this.bindings[i];if(m)for(let p=0,_=m.length;p<_;p++){const A=m[p];if(!A.removed){if(A.once&&this.off(i,A.func),c.isImmediatePropagationStopped())return c;if(A.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,i,c){if(o===!1&&(o=Tn),o){const m={func:o,removed:!1};c&&tn.extend(m,c);const p=n.toLowerCase().split(" ");let _=p.length;for(;_--;){const A=p[_];let $=this.bindings[A];$||($=[],this.toggleEvent(A,!0)),i?$=[m,...$]:$=[...$,m],this.bindings[A]=$}}return this}off(n,o){if(n){const i=n.toLowerCase().split(" ");let c=i.length;for(;c--;){const m=i[c];let p=this.bindings[m];if(!m)return ur(this.bindings,(_,A)=>{this.toggleEvent(A,!1),delete this.bindings[A]}),this;if(p){if(!o)p.length=0;else{const _=Ne(p,A=>A.func===o);p=_.fail,this.bindings[m]=p,be(_.pass,A=>{A.removed=!0})}p.length||(this.toggleEvent(n,!1),delete this.bindings[m])}}}else ur(this.bindings,(i,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,i){return this.on(n,o,i,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const nD=e=>(e._eventDispatcher||(e._eventDispatcher=new CH({scope:e,toggleEvent:(n,o)=>{CH.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),_H={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const i=this;if(i.removed&&e!=="remove"&&e!=="detach")return M0(e.toLowerCase(),n??{},i);const c=nD(i).dispatch(e,n);if(o!==!1&&i.parent){let m=i.parent();for(;m&&!c.isPropagationStopped();)m.dispatch(e,c,!1),m=m.parent?m.parent():void 0}return c},on(e,n,o){return nD(this).on(e,n,o)},off(e,n){return nD(this).off(e,n)},once(e,n){return nD(this).once(e,n)},hasEventListeners(e){return nD(this).has(e)}},sB=Xr.DOM;let bC;const iB=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=IR(e);return o?(e.eventRoot||(e.eventRoot=sB.select(o)[0]),e.eventRoot):e.getBody()},Lue=e=>!e.hidden&&!pC(e),dG=(e,n,o)=>{Lue(e)?e.dispatch(n,o):pC(e)&&Iue(e,o)},fG=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=iB(e,n);if(IR(e)){if(bC||(bC={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||bC&&(ur(bC,(c,m)=>{e.dom.unbind(iB(e,m))}),bC=null)})),bC[n])return;const i=c=>{const m=c.target,p=e.editorManager.get();let _=p.length;for(;_--;){const A=p[_].getBody();(A===m||sB.isChildOf(m,A))&&dG(p[_],n,c)}};bC[n]=i,sB.bind(o,n,i)}else{const i=c=>{dG(e,n,c)};sB.bind(o,n,i),e.delegates[n]=i}},mG={..._H,bindPendingEventDelegates(){const e=this;tn.each(e._pendingNativeEvents,n=>{fG(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?fG(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(iB(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(ur(e.delegates,(i,c)=>{e.dom.unbind(iB(e,c),c,i)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},Mue=e=>ae(e)?{value:e.split(/[ ,]/),valid:!0}:qe(e,ae)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Bue=e=>{const n=(()=>{switch(e){case"array":return oe;case"boolean":return Me;case"function":return Te;case"number":return D;case"object":return U;case"string":return ae;case"string[]":return Mue;case"object[]":return o=>qe(o,U);case"regexp":return o=>he(o,RegExp);default:return nn}})();return o=>SH(o,n,`The value must be a ${e}.`)},Fue=e=>ae(e.processor),gG=(e,n)=>{const o=Gt(n.message)?"":`. ${n.message}`;return e+o},hG=e=>e.valid,SH=(e,n,o="")=>{const i=n(e);return Me(i)?i?{value:e,valid:!0}:{valid:!1,message:o}:i},$ue=(e,n,o)=>{if(!Xe(n)){const i=SH(n,o);if(hG(i))return i.value;console.error(gG(`Invalid default value passed for the "${e}" option`,i))}},Vue=(e,n,o=n)=>{const i={},c={},m=(ve,Ee,ye)=>{const Ie=SH(Ee,ye);return hG(Ie)?(c[ve]=Ie.value,!0):(console.warn(gG(`Invalid value passed for the ${ve} option`,Ie)),!1)},p=(ve,Ee)=>{const ye=Fue(Ee)?Bue(Ee.processor):Ee.processor,Ie=$ue(ve,Ee.default,ye);i[ve]={...Ee,default:Ie,processor:ye},Nr(c,ve).orThunk(()=>Nr(n,ve)).each(ot=>m(ve,ot,ye))},_=ve=>fo(i,ve);return{register:p,isRegistered:_,get:ve=>Nr(c,ve).orThunk(()=>Nr(i,ve).map(Ee=>Ee.default)).getOrUndefined(),set:(ve,Ee)=>{if(_(ve)){const ye=i[ve];return ye.immutable?(console.error(`"${ve}" is an immutable option and cannot be updated`),!1):m(ve,Ee,ye.processor)}else return console.warn(`"${ve}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ve=>{const Ee=_(ve);return Ee&&delete c[ve],Ee},isSet:ve=>fo(c,ve),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(ve,Ee)=>Me(Ee)||D(Ee)||ae(Ee)||Ve(Ee)||oe(Ee)||de(Ee)?Ee:Object.prototype.toString.call(Ee))))}catch(ve){console.error(ve)}}}},zue=["design","readonly"],pG=(e,n,o,i)=>{const c=o[n.get()],m=o[i];try{m.activate()}catch(p){console.error(`problem while activating editor mode ${i}:`,p);return}c.deactivate(),c.editorReadOnly!==m.editorReadOnly&&Eue(e,m.editorReadOnly),n.set(i),UI(e,i)},Hue=(e,n,o,i)=>{if(i!==o.get()){if(!fo(n,i))throw new Error(`Editor mode '${i}' is invalid`);e.initialized?pG(e,o,n,i):e.on("init",()=>pG(e,o,n,i))}},Uue=(e,n,o)=>{if(xe(zue,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(i){console.error(`problem while deactivating editor mode ${n}:`,i)}}}}},Wue=e=>{const n=Pi("design"),o=Pi({design:{activate:lt,deactivate:lt,editorReadOnly:!1},readonly:{activate:lt,deactivate:lt,editorReadOnly:!0}});return Aue(e),Nue(e),{isReadOnly:()=>pC(e),set:i=>Hue(e,o.get(),n,i),get:()=>n.get(),register:(i,c)=>{o.set(Uue(o.get(),i,c))}}},kH=tn.each,EH=tn.explode,Kue={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bG=tn.makeMap("alt,ctrl,shift,meta,access"),jue=e=>e in bG,Zue=e=>{const n={},o=zo.os.isMacOS()||zo.os.isiOS();kH(EH(e.toLowerCase(),"+"),m=>{jue(m)?n[m]=!0:/^[0-9]{2,}$/.test(m)?n.keyCode=parseInt(m,10):(n.charCode=m.charCodeAt(0),n.keyCode=Kue[m]||m.toUpperCase().charCodeAt(0))});const i=[n.keyCode];let c;for(c in bG)n[c]?i.push(c):n[c]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class vG{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",i=>{(o.hasModifier(i)||o.isFunctionKey(i))&&!i.isDefaultPrevented()&&(kH(o.shortcuts,c=>{o.matchShortcut(i,c)&&(o.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(i,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&i.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,i,c){const m=this,p=m.normalizeCommandFunc(i);return kH(EH(tn.trim(n)),_=>{const A=m.createShortcut(_,o,p,c);m.shortcuts[A.id]=A}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,i=n;return typeof i=="string"?()=>{o.editor.execCommand(i,!1,null)}:tn.isArray(i)?()=>{o.editor.execCommand(i[0],i[1],i[2])}:i}createShortcut(n,o,i,c){const m=tn.map(EH(n,">"),Zue);return m[m.length-1]=tn.extend(m[m.length-1],{func:i,scope:c||this.editor}),tn.extend(m[0],{desc:this.editor.translate(o),subpatterns:m.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Gue=()=>{const e={},n={},o={},i={},c={},m={},p={},_={},A=(q,X)=>(ne,ve)=>{q[ne.toLowerCase()]={...ve,type:X}},$=(q,X)=>i[q.toLowerCase()]=X;return{addButton:A(e,"button"),addGroupToolbarButton:A(e,"grouptoolbarbutton"),addToggleButton:A(e,"togglebutton"),addMenuButton:A(e,"menubutton"),addSplitButton:A(e,"splitbutton"),addMenuItem:A(n,"menuitem"),addNestedMenuItem:A(n,"nestedmenuitem"),addToggleMenuItem:A(n,"togglemenuitem"),addAutocompleter:A(o,"autocompleter"),addContextMenu:A(c,"contextmenu"),addContextToolbar:A(m,"contexttoolbar"),addContextForm:A(m,"contextform"),addSidebar:A(p,"sidebar"),addView:A(_,"views"),addIcon:$,getAll:()=>({buttons:e,menuItems:n,icons:i,popups:o,contextMenus:c,contextToolbars:m,sidebars:p,views:_})}},que=()=>{const e=Gue();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},vC=Xr.DOM,yG=tn.extend,Yue=tn.each;class aB{constructor(n,o,i){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,yG(this,mG);const c=this;this.id=n,this.hidden=!1;const m=Nce(i.defaultOptions,o);this.options=Vue(c,m,o),h_(c);const p=this.options.get;p("deprecation_warnings")&&uz(o,m);const _=p("suffix");_&&(i.suffix=_),this.suffix=i.suffix;const A=p("base_url");A&&i._setBaseUrl(A),this.baseUri=i.baseURI;const $=k2(c);$&&(Tl.ScriptLoader._setReferrerPolicy($),Xr.DOM.styleSheetLoader._setReferrerPolicy($));const q=$R(c);Oe(q)&&Xr.DOM.styleSheetLoader._setContentCssCors(q),dl.languageLoad=p("language_load"),dl.baseURL=i.baseURL,this.setDirty(!1),this.documentBaseURI=new Sd(Tu(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=jv(c),this.hasVisual=qc(c),this.shortcuts=new vG(this),this.editorCommands=new cG(this),yue(this);const X=p("cache_suffix");X&&(zo.cacheSuffix=X.replace(/^[\?\&]+/,"")),this.ui={registry:que(),styleSheetLoader:void 0,show:lt,hide:lt,setEnabled:lt,isEnabled:nn},this.mode=Wue(c),i.dispatch("SetupEditor",{editor:this});const ne=dy(c);Te(ne)&&ne.call(c,c)}render(){vce(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Cy(this)}translate(n){return Kc.translate(n)}getParam(n,o,i){const c=this.options;return c.isRegistered(n)||(Oe(i)?c.register(n,{processor:i,default:o}):c.register(n,{processor:nn,default:o})),!c.isSet(n)&&!Xe(o)?o:c.get(n)}hasPlugin(n,o){return xe(af(this),n)?o?E1.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,i){this.editorCommands.addCommand(n,o,i)}addQueryStateHandler(n,o,i){this.editorCommands.addQueryStateHandler(n,o,i)}addQueryValueHandler(n,o,i){this.editorCommands.addQueryValueHandler(n,o,i)}addShortcut(n,o,i,c){this.shortcuts.add(n,o,i,c)}execCommand(n,o,i,c){return this.editorCommands.execCommand(n,o,i,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(vC.show(n.getContainer()),vC.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(vC.hide(n.getContainer()),vC.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,i=o.getElement();if(o.removed)return"";if(i){const c={...n,load:!0},m=Ap(i)?i.value:i.innerHTML,p=o.setContent(m,c);return c.no_events||o.dispatch("LoadContent",{...c,element:i}),p}else return""}save(n={}){const o=this;let i=o.getElement();if(!i||!o.initialized||o.removed)return"";const c={...n,save:!0,element:i};let m=o.getContent(c);const p={...c,content:m};if(p.no_events||o.dispatch("SaveContent",p),p.format==="raw"&&o.dispatch("RawSaveContent",p),m=p.content,Ap(i))i.value=m;else{(n.is_removing||!o.inline)&&(i.innerHTML=m);const _=vC.getParent(o.id,"form");_&&Yue(_.elements,A=>A.name===o.id?(A.value=m,!1):!0)}return p.element=c.element=i=null,p.set_dirty!==!1&&o.setDirty(!1),m}setContent(n,o){return U4(this,n,o)}getContent(n){return TL(this,n)}insertContent(n,o){o&&(n=yG({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?U4(this,this.startContent,{format:"raw"}):U4(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||vC.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=vC.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const i=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:i==null?void 0:i.body)!==null&&o!==void 0?o:null}convertURL(n,o,i){const c=this,m=c.options.get,p=DF(c);if(Te(p))return p.call(c,n,i,!0,o);if(!m("convert_urls")||i==="link"||U(i)&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const _=new Sd(n);return _.protocol!=="http"&&_.protocol!=="https"&&_.protocol!==""?n:m("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,m("remove_script_host")),n)}addVisual(n){Pce(this,n)}setEditableRoot(n){yce(this,n)}hasEditableRoot(){return xce(this)}remove(){ML(this)}destroy(n){fz(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Wk=Xr.DOM,lB=tn.each;let xG=!1,cB,Mu=[];const uB=e=>{const n=e.type;lB(ox.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},wG=e=>{if(e!==xG){const n=Xr.DOM;e?(n.bind(window,"resize",uB),n.bind(window,"scroll",uB)):(n.unbind(window,"resize",uB),n.unbind(window,"scroll",uB)),xG=e}},CG=e=>{const n=Mu;return Mu=je(Mu,o=>e!==o),ox.activeEditor===e&&(ox.activeEditor=Mu.length>0?Mu[0]:null),ox.focusedEditor===e&&(ox.focusedEditor=null),n.length!==Mu.length},Xue=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(CG(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Jue=document.compatMode!=="CSS1Compat",ox={..._H,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:Kc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",i=Sd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const m=document.getElementsByTagName("script");for(let p=0;p<m.length;p++){const _=m[p].src||"";if(_==="")continue;const A=_.substring(_.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(_)){A.indexOf(".min")!==-1&&(o=".min"),n=_.substring(0,_.lastIndexOf("/"));break}}if(!n&&document.currentScript){const p=document.currentScript.src;p.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new Sd(i).toAbsolute(n),e.documentBaseURL=i,e.baseURI=new Sd(e.baseURL),e.suffix=o,N7(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const i=e.plugin_base_urls;i!==void 0&&ur(i,(c,m)=>{dl.PluginManager.urls[m]=c})},init(e){const n=this;let o;const i=tn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(q,X)=>q.inline&&X.tagName.toLowerCase()in i,m=q=>{let X=q.id;return X||(X=Nr(q,"name").filter(ne=>!Wk.get(ne)).getOrThunk(Wk.uniqueId),q.setAttribute("id",X)),X},p=q=>{const X=e[q];if(X)return X.apply(n,[])},_=q=>zo.browser.isIE()||zo.browser.isEdge()?(qw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Jue?(qw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ae(q.selector)?Wk.select(q.selector):Oe(q.target)?[q.target]:[];let A=q=>{o=q};const $=()=>{let q=0;const X=[];let ne;const ve=(Ee,ye,Ie)=>{const Ge=new aB(Ee,ye,n);X.push(Ge),Ge.on("init",()=>{++q===ne.length&&A(X)}),Ge.targetElm=Ge.targetElm||Ie,Ge.render()};Wk.unbind(window,"ready",$),p("onpageload"),ne=tl(_(e)),tn.each(ne,Ee=>{Xue(n.get(Ee.id))}),ne=tn.grep(ne,Ee=>!n.get(Ee.id)),ne.length===0?A([]):lB(ne,Ee=>{c(e,Ee)?qw("Could not initialize inline editor on invalid inline target element",Ee):ve(m(Ee),e,Ee)})};return Wk.bind(window,"ready",$),new Promise(q=>{o?q(o):A=X=>{q(X)}})},get(e){return arguments.length===0?Mu.slice(0):ae(e)?bn(Mu,n=>n.id===e).getOr(null):D(e)&&Mu[e]?Mu[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&Mu.push(e),wG(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),cB||(cB=i=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",cB))),e},createEditor(e,n){return this.add(new aB(e,n,this))},remove(e){const n=this;let o;if(!e){for(let i=Mu.length-1;i>=0;i--)n.remove(Mu[i]);return}if(ae(e)){lB(Wk.select(e),i=>{o=n.get(i.id),o&&n.remove(o)});return}return o=e,Ve(n.get(o.id))?null:(CG(o)&&n.dispatch("RemoveEditor",{editor:o}),Mu.length===0&&window.removeEventListener("beforeunload",cB),o.remove(),wG(Mu.length>0),o)},execCommand(e,n,o){var i;const c=this,m=U(o)?(i=o.id)!==null&&i!==void 0?i:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(m)){const p=o.options;new aB(m,p,c).render()}return!0}case"mceRemoveEditor":{const p=c.get(m);return p&&p.remove(),!0}case"mceToggleEditor":{const p=c.get(m);return p?(p.isHidden()?p.show():p.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{lB(Mu,e=>{e.save()})},addI18n:(e,n)=>{Kc.add(e,n)},translate:e=>Kc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Sd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Sd(this.baseURL)}};ox.setup();const Que=(()=>{const e=Li(),n=m=>({items:m,types:Xt(m),getType:p=>Nr(m,p).getOrUndefined()}),o=m=>{e.set(m)},i=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:i,clear:c}})(),_G=Math.min,Kk=Math.max,dB=Math.round,SG=(e,n,o)=>{let i=n.x,c=n.y;const m=e.w,p=e.h,_=n.w,A=n.h,$=(o||"").split("");return $[0]==="b"&&(c+=A),$[1]==="r"&&(i+=_),$[0]==="c"&&(c+=dB(A/2)),$[1]==="c"&&(i+=dB(_/2)),$[3]==="b"&&(c-=p),$[4]==="r"&&(i-=m),$[3]==="c"&&(c-=dB(p/2)),$[4]==="c"&&(i-=dB(m/2)),jk(i,c,m,p)},ede=(e,n,o,i)=>{for(let c=0;c<i.length;c++){const m=SG(e,n,i[c]);if(m.x>=o.x&&m.x+m.w<=o.w+o.x&&m.y>=o.y&&m.y+m.h<=o.h+o.y)return i[c]}return null},tde=(e,n,o)=>jk(e.x-n,e.y-o,e.w+n*2,e.h+o*2),nde=(e,n)=>{const o=Kk(e.x,n.x),i=Kk(e.y,n.y),c=_G(e.x+e.w,n.x+n.w),m=_G(e.y+e.h,n.y+n.h);return c-o<0||m-i<0?null:jk(o,i,c-o,m-i)},ode=(e,n,o)=>{let i=e.x,c=e.y,m=e.x+e.w,p=e.y+e.h;const _=n.x+n.w,A=n.y+n.h,$=Kk(0,n.x-i),q=Kk(0,n.y-c),X=Kk(0,m-_),ne=Kk(0,p-A);return i+=$,c+=q,o&&(m+=$,p+=q,i-=X,c-=ne),m-=X,p-=ne,jk(i,c,m-i,p-c)},jk=(e,n,o,i)=>({x:e,y:n,w:o,h:i}),rde={inflate:tde,relativePosition:SG,findBestRelativePosition:ede,intersect:nde,clamp:ode,create:jk,fromClientRect:e=>jk(e.left,e.top,e.width,e.height)},sde=(e,n,o=1e3)=>{let i=!1,c=null;const m=$=>(...q)=>{i||(i=!0,c!==null&&(clearTimeout(c),c=null),$.apply(null,q))},p=m(e),_=m(n);return{start:(...$)=>{!i&&c===null&&(c=setTimeout(()=>_.apply(null,$),o))},resolve:p,reject:_}},ide=(()=>{const e={},n={},o={};return{load:(A,$)=>{const q=`Script at URL "${$}" failed to load`,X=`Script at URL "${$}" did not call \`tinymce.Resource.add('${A}', data)\` within 1 second`;if(e[A]!==void 0)return e[A];{const ne=new Promise((ve,Ee)=>{const ye=sde(ve,Ee);n[A]=ye.resolve,Tl.ScriptLoader.loadScript($).then(()=>ye.start(X),()=>ye.reject(q))});return e[A]=ne,ne}},add:(A,$)=>{n[A]!==void 0&&(n[A]($),delete n[A]),e[A]=Promise.resolve($),o[A]=$},has:A=>A in o,get:A=>o[A],unload:A=>{delete e[A],delete o[A]}}})(),ade=()=>(()=>{let e={},n=[];const o={getItem:i=>{const c=e[i];return c||null},setItem:(i,c)=>{n.push(i),e[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete e[i]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let oD;try{const e="__storage_test__";oD=window.localStorage,oD.setItem(e,e),oD.removeItem(e)}catch{oD=ade()}var lde=oD;const cde={geom:{Rect:rde},util:{Delay:Qc,Tools:tn,VK:hn,URI:Sd,EventDispatcher:CH,Observable:_H,I18n:Kc,LocalStorage:lde,ImageUploader:Sz},dom:{EventUtils:Zf,TreeWalker:fa,TextSeeker:ef,DOMUtils:Xr,ScriptLoader:Tl,RangeUtils:nb,Serializer:AL,StyleSheetLoader:qm,ControlSelection:Hr,BookmarkManager:Gr,Selection:z4,Event:Zf.Event},html:{Styles:Qx,Entities:hh,Node:Na,Schema:Wc,DomParser:$y,Writer:pT,Serializer:Vh},Env:zo,AddOnManager:dl,Annotator:HI,Formatter:Jw,UndoManager:iM,EditorCommands:cG,WindowManager:UL,NotificationManager:Y4,EditorObservable:mG,Shortcuts:vG,Editor:aB,FocusManager:vd,EditorManager:ox,DOM:Xr.DOM,ScriptLoader:Tl.ScriptLoader,PluginManager:E1,ThemeManager:wb,ModelManager:xb,IconManager:Zw,Resource:ide,FakeClipboard:Que,trim:tn.trim,isArray:tn.isArray,is:tn.is,toArray:tn.toArray,makeMap:tn.makeMap,each:tn.each,map:tn.map,grep:tn.grep,inArray:tn.inArray,extend:tn.extend,walk:tn.walk,resolve:tn.resolve,explode:tn.explode,_addCacheSuffix:tn._addCacheSuffix},kG=tn.extend(ox,cde),ude=e=>{try{t.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(kG),ude(kG)})()}(wU)),wU.exports}var oCe=nCe();const rCe=eK(oCe);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const t=Object.getPrototypeOf,s=(r,l,d)=>{var f;return!!d(r,l.prototype)||((f=r.constructor)===null||f===void 0?void 0:f.name)===l.name},a=r=>l=>(d=>{const f=typeof d;return d===null?"null":f==="object"&&Array.isArray(d)?"array":f==="object"&&s(d,String,(b,v)=>v.isPrototypeOf(b))?"string":f})(l)===r,u=r=>l=>typeof l===r,g=r=>l=>r===l,h=a("string"),x=a("object"),w=r=>((l,d)=>x(l)&&s(l,d,(f,b)=>t(f)===b))(r,Object),T=a("array"),I=g(null),R=u("boolean"),N=g(void 0),H=r=>r==null,W=r=>!H(r),Z=u("function"),J=u("number"),se=(r,l)=>{if(T(r)){for(let d=0,f=r.length;d<f;++d)if(!l(r[d]))return!1;return!0}return!1},j=()=>{},he=r=>()=>r(),ae=(r,l)=>(...d)=>r(l.apply(null,d)),U=r=>()=>r,de=r=>r,oe=(r,l)=>r===l;function Ve(r,...l){return(...d)=>{const f=l.concat(d);return r.apply(null,f)}}const Me=r=>l=>!r(l),Xe=r=>()=>{throw new Error(r)},rt=r=>r(),Oe=U(!1),Te=U(!0);class D{constructor(l,d){this.tag=l,this.value=d}static some(l){return new D(!0,l)}static none(){return D.singletonNone}fold(l,d){return this.tag?d(this.value):l()}isSome(){return this.tag}isNone(){return!this.tag}map(l){return this.tag?D.some(l(this.value)):D.none()}bind(l){return this.tag?l(this.value):D.none()}exists(l){return this.tag&&l(this.value)}forall(l){return!this.tag||l(this.value)}filter(l){return!this.tag||l(this.value)?this:D.none()}getOr(l){return this.tag?this.value:l}or(l){return this.tag?this:l}getOrThunk(l){return this.tag?this.value:l()}orThunk(l){return this.tag?this:l()}getOrDie(l){if(this.tag)return this.value;throw new Error(l??"Called getOrDie on None")}static from(l){return W(l)?D.some(l):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(l){this.tag&&l(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const qe=Array.prototype.slice,lt=Array.prototype.indexOf,zt=Array.prototype.push,Yt=(r,l)=>lt.call(r,l),ct=(r,l)=>Yt(r,l)>-1,kn=(r,l)=>{for(let d=0,f=r.length;d<f;d++)if(l(r[d],d))return!0;return!1},Et=(r,l)=>{const d=[];for(let f=0;f<r;f++)d.push(l(f));return d},Qe=(r,l)=>{const d=[];for(let f=0;f<r.length;f+=l){const b=qe.call(r,f,f+l);d.push(b)}return d},Le=(r,l)=>{const d=r.length,f=new Array(d);for(let b=0;b<d;b++){const v=r[b];f[b]=l(v,b)}return f},ft=(r,l)=>{for(let d=0,f=r.length;d<f;d++)l(r[d],d)},po=(r,l)=>{const d=[],f=[];for(let b=0,v=r.length;b<v;b++){const C=r[b];(l(C,b)?d:f).push(C)}return{pass:d,fail:f}},Ht=(r,l)=>{const d=[];for(let f=0,b=r.length;f<b;f++){const v=r[f];l(v,f)&&d.push(v)}return d},Tn=(r,l,d)=>(((f,b)=>{for(let v=f.length-1;v>=0;v--)b(f[v],v)})(r,(f,b)=>{d=l(d,f,b)}),d),nn=(r,l,d)=>(ft(r,(f,b)=>{d=l(d,f,b)}),d),Q=(r,l)=>((d,f,b)=>{for(let v=0,C=d.length;v<C;v++){const k=d[v];if(f(k,v))return D.some(k);if(b(k,v))break}return D.none()})(r,l,Oe),co=(r,l)=>{for(let d=0,f=r.length;d<f;d++)if(l(r[d],d))return D.some(d);return D.none()},Kt=r=>{const l=[];for(let d=0,f=r.length;d<f;++d){if(!T(r[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+r);zt.apply(l,r[d])}return l},pn=(r,l)=>Kt(Le(r,l)),We=(r,l)=>{for(let d=0,f=r.length;d<f;++d)if(l(r[d],d)!==!0)return!1;return!0},et=r=>{const l=qe.call(r,0);return l.reverse(),l},xe=(r,l)=>Ht(r,d=>!ct(l,d)),Ae=(r,l)=>{const d={};for(let f=0,b=r.length;f<b;f++){const v=r[f];d[String(v)]=l(v,f)}return d},$e=r=>[r],be=(r,l)=>{const d=qe.call(r,0);return d.sort(l),d},Ce=(r,l)=>l>=0&&l<r.length?D.some(r[l]):D.none(),Ne=r=>Ce(r,0),je=r=>Ce(r,r.length-1),gt=Z(Array.from)?Array.from:r=>qe.call(r),sn=(r,l)=>{for(let d=0;d<r.length;d++){const f=l(r[d],d);if(f.isSome())return f}return D.none()},Ut=Object.keys,bn=Object.hasOwnProperty,qn=(r,l)=>{const d=Ut(r);for(let f=0,b=d.length;f<b;f++){const v=d[f];l(r[v],v)}},eo=(r,l)=>Fo(r,(d,f)=>({k:f,v:l(d,f)})),Fo=(r,l)=>{const d={};return qn(r,(f,b)=>{const v=l(f,b);d[v.k]=v.v}),d},Ro=r=>(l,d)=>{r[d]=l},Zr=(r,l,d,f)=>{qn(r,(b,v)=>{(l(b,v)?d:f)(b,v)})},cr=(r,l)=>{const d={};return Zr(r,l,Ro(d),j),d},ti=(r,l)=>{const d=[];return qn(r,(f,b)=>{d.push(l(f,b))}),d},wr=(r,l)=>{const d=Ut(r);for(let f=0,b=d.length;f<b;f++){const v=d[f],C=r[v];if(l(C,v,r))return D.some(C)}return D.none()},ji=r=>ti(r,de),En=(r,l)=>uo(r,l)?D.from(r[l]):D.none(),uo=(r,l)=>bn.call(r,l),Oo=(r,l)=>uo(r,l)&&r[l]!==void 0&&r[l]!==null,ci=(r,l,d=oe)=>r.exists(f=>d(f,l)),tl=r=>{const l=[],d=f=>{l.push(f)};for(let f=0;f<r.length;f++)r[f].each(d);return l},Xt=(r,l,d)=>r.isSome()&&l.isSome()?D.some(d(r.getOrDie(),l.getOrDie())):D.none(),pi=(r,l)=>r!=null?D.some(l(r)):D.none(),ur=(r,l)=>r?D.some(l):D.none(),ql=(r,l,d)=>l===""||r.length>=l.length&&r.substr(d,d+l.length)===l,Wr=(r,l)=>Dm(r,l)?((d,f)=>d.substring(f))(r,l.length):r,ni=(r,l,d=0,f)=>{const b=r.indexOf(l,d);return b!==-1&&(!!N(f)||b+l.length<=f)},Dm=(r,l)=>ql(r,l,0),Zu=(r,l)=>ql(r,l,r.length-l.length),Rc=(Df=/^\s+|\s+$/g,r=>r.replace(Df,"")),xl=r=>r.length>0,Gu=r=>!xl(r),Nr=r=>r.style!==void 0&&Z(r.style.getPropertyValue),fo=r=>{if(r==null)throw new Error("Node cannot be null or undefined");return{dom:r}},Yl=(r,l)=>{const d=document.createElement("div");if(d.innerHTML=r,!d.hasChildNodes()||d.childNodes.length>1){const f="HTML does not have a single root node";throw console.error(f,r),new Error(f)}return fo(d.childNodes[0])},Ri=(r,l)=>{const d=document.createElement(r);return fo(d)},qu=(r,l)=>{const d=document.createTextNode(r);return fo(d)},un=fo,Yu=typeof window<"u"?window:Function("return this;")(),Rm=(r,l)=>((d,f)=>{let b=f??Yu;for(let v=0;v<d.length&&b!=null;++v)b=b[d[v]];return b})(r.split("."),l),hs=Object.getPrototypeOf,Im=r=>{const l=Rm("ownerDocument.defaultView",r);return x(r)&&((d=>((f,b)=>{const v=((C,k)=>Rm(C,k))(f,b);if(v==null)throw new Error(f+" not available on this browser");return v})("HTMLElement",d))(l).prototype.isPrototypeOf(r)||/^HTML\w*Element$/.test(hs(r).constructor.name))},nl=r=>r.dom.nodeName.toLowerCase(),Vl=r=>l=>(d=>d.dom.nodeType)(l)===r,wl=r=>ls(r)&&Im(r.dom),ls=Vl(1),Sa=Vl(3),zl=Vl(9),Nm=Vl(11),iu=r=>l=>ls(l)&&nl(l)===r,au=(r,l)=>{const d=r.dom;if(d.nodeType!==1)return!1;{const f=d;if(f.matches!==void 0)return f.matches(l);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(l);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(l);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")}},kf=r=>r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11||r.childElementCount===0,Fd=(r,l)=>{const d=l===void 0?document:l.dom;return kf(d)?D.none():D.from(d.querySelector(r)).map(un)},dr=(r,l)=>r.dom===l.dom,Ms=(r,l)=>{const d=r.dom,f=l.dom;return d!==f&&d.contains(f)},ui=r=>un(r.dom.ownerDocument),Pm=r=>zl(r)?r:ui(r),ol=r=>un(Pm(r).dom.documentElement),lu=r=>un(Pm(r).dom.defaultView),ka=r=>D.from(r.dom.parentNode).map(un),Ea=r=>D.from(r.dom.parentElement).map(un),cu=r=>D.from(r.dom.offsetParent).map(un),Mr=r=>Le(r.dom.childNodes,un),cs=(r,l)=>{const d=r.dom.childNodes;return D.from(d[l]).map(un)},Re=r=>cs(r,0),st=(r,l)=>({element:r,offset:l}),ze=(r,l)=>{const d=Mr(r);return d.length>0&&l<d.length?st(d[l],0):st(r,l)},yt=r=>Nm(r)&&W(r.dom.host),ht=r=>un(r.dom.getRootNode()),nt=r=>yt(r)?r:un(Pm(r).dom.body),Gt=r=>{const l=ht(r);return yt(l)?D.some(l):D.none()},an=r=>un(r.dom.host),mn=r=>{const l=Sa(r)?r.dom.parentNode:r.dom;if(l==null||l.ownerDocument===null)return!1;const d=l.ownerDocument;return Gt(un(l)).fold(()=>d.body.contains(l),(f=mn,b=an,v=>f(b(v))));var f,b},Cn=()=>dn(un(document)),dn=r=>{const l=r.dom.body;if(l==null)throw new Error("Body is not available yet");return un(l)},_o=(r,l,d)=>{if(!(h(d)||R(d)||J(d)))throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",d,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(l,d+"")},cn=(r,l,d)=>{_o(r.dom,l,d)},Tr=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{_o(d,b,f)})},Ko=(r,l)=>{const d=r.dom.getAttribute(l);return d===null?void 0:d},Qo=(r,l)=>D.from(Ko(r,l)),Bs=(r,l)=>{const d=r.dom;return!(!d||!d.hasAttribute)&&d.hasAttribute(l)},Io=(r,l)=>{r.dom.removeAttribute(l)},Xl=(r,l,d)=>{if(!h(d))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",d,":: Element ",r),new Error("CSS value must be a string: "+d);Nr(r)&&r.style.setProperty(l,d)},Aa=(r,l)=>{Nr(r)&&r.style.removeProperty(l)},bo=(r,l,d)=>{const f=r.dom;Xl(f,l,d)},rl=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{Xl(d,b,f)})},Cl=(r,l)=>{const d=r.dom;qn(l,(f,b)=>{f.fold(()=>{Aa(d,b)},v=>{Xl(d,b,v)})})},Ts=(r,l)=>{const d=r.dom,f=window.getComputedStyle(d).getPropertyValue(l);return f!==""||mn(r)?f:Ef(d,l)},Ef=(r,l)=>Nr(r)?r.style.getPropertyValue(l):"",oi=(r,l)=>{const d=r.dom,f=Ef(d,l);return D.from(f).filter(b=>b.length>0)},Lm=r=>{const l={},d=r.dom;if(Nr(d))for(let f=0;f<d.style.length;f++){const b=d.style.item(f);l[b]=d.style[b]}return l},Jl=(r,l,d)=>{const f=Ri(r);return bo(f,l,d),oi(f,l).isSome()},Er=(r,l)=>{const d=r.dom;Aa(d,l),ci(Qo(r,"style").map(Rc),"")&&Io(r,"style")},$d=r=>r.dom.offsetWidth,Qg=(r,l)=>{const d=b=>{const v=l(b);if(v<=0||v===null){const C=Ts(b,r);return parseFloat(C)||0}return v},f=(b,v)=>nn(v,(C,k)=>{const E=Ts(b,k),P=E===void 0?0:parseInt(E,10);return isNaN(P)?C:C+P},0);return{set:(b,v)=>{if(!J(v)&&!v.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+v);const C=b.dom;Nr(C)&&(C.style[r]=v+"px")},get:d,getOuter:d,aggregate:f,max:(b,v,C)=>{const k=f(b,C);return v>k?v-k:0}}},vp=Qg("height",r=>{const l=r.dom;return mn(r)?l.getBoundingClientRect().height:l.offsetHeight}),Os=r=>vp.get(r),Ic=r=>vp.getOuter(r),_l=(r,l)=>({left:r,top:l,translate:(d,f)=>_l(r+d,l+f)}),ts=_l,Mm=(r,l)=>r!==void 0?r:l!==void 0?l:0,Hl=r=>{const l=r.dom.ownerDocument,d=l.body,f=l.defaultView,b=l.documentElement;if(d===r.dom)return ts(d.offsetLeft,d.offsetTop);const v=Mm(f==null?void 0:f.pageYOffset,b.scrollTop),C=Mm(f==null?void 0:f.pageXOffset,b.scrollLeft),k=Mm(b.clientTop,d.clientTop),E=Mm(b.clientLeft,d.clientLeft);return sa(r).translate(C-E,v-k)},sa=r=>{const l=r.dom,d=l.ownerDocument.body;return d===l?ts(d.offsetLeft,d.offsetTop):mn(r)?(f=>{const b=f.getBoundingClientRect();return ts(b.left,b.top)})(l):ts(0,0)},eh=Qg("width",r=>r.dom.offsetWidth),Ii=r=>eh.get(r),sl=r=>eh.getOuter(r),ia=r=>{let l,d=!1;return(...f)=>(d||(d=!0,l=r.apply(null,f)),l)},Ul=()=>yp(0,0),yp=(r,l)=>({major:r,minor:l}),zo={nu:yp,detect:(r,l)=>{const d=String(l).toLowerCase();return r.length===0?Ul():((f,b)=>{const v=((k,E)=>{for(let P=0;P<k.length;P++){const F=k[P];if(F.test(E))return F}})(f,b);if(!v)return{major:0,minor:0};const C=k=>Number(b.replace(v,"$"+k));return yp(C(1),C(2))})(r,d)},unknown:Ul},uu=(r,l)=>{const d=String(l).toLowerCase();return Q(r,f=>f.search(d))},Vd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Xu=r=>l=>ni(l,r),Gb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:r=>ni(r,"edge/")&&ni(r,"chrome")&&ni(r,"safari")&&ni(r,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Vd],search:r=>ni(r,"chrome")&&!ni(r,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:r=>ni(r,"msie")||ni(r,"trident")},{name:"Opera",versionRegexes:[Vd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Xu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Xu("firefox")},{name:"Safari",versionRegexes:[Vd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:r=>(ni(r,"safari")||ni(r,"mobile/"))&&ni(r,"applewebkit")}],Tx=[{name:"Windows",search:Xu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:r=>ni(r,"iphone")||ni(r,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Xu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Xu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Xu("linux"),versionRegexes:[]},{name:"Solaris",search:Xu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Xu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Xu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],f0={browsers:U(Gb),oses:U(Tx)},m0="Edge",WC="Chromium",xp="Opera",g0="Firefox",tn="Safari",Af=r=>{const l=r.current,d=r.version,f=b=>()=>l===b;return{current:l,version:d,isEdge:f(m0),isChromium:f(WC),isIE:f("IE"),isOpera:f(xp),isFirefox:f(g0),isSafari:f(tn)}},Tf=()=>Af({current:void 0,version:zo.unknown()}),h0=Af,aa="Windows",Of="Android",th="Linux",Ox="macOS",Dx="Solaris",qb="FreeBSD",Rx="ChromeOS",p0=r=>{const l=r.current,d=r.version,f=b=>()=>l===b;return{current:l,version:d,isWindows:f(aa),isiOS:f("iOS"),isAndroid:f(Of),isMacOS:f(Ox),isLinux:f(th),isSolaris:f(Dx),isFreeBSD:f(qb),isChromeOS:f(Rx)}},Ix=()=>p0({current:void 0,version:zo.unknown()}),nh=p0,b0=r=>window.matchMedia(r).matches;var Df;let Rf=ia(()=>((r,l,d)=>{const f=f0.browsers(),b=f0.oses(),v=l.bind(E=>((P,F)=>sn(F.brands,M=>{const V=M.brand.toLowerCase();return Q(P,Y=>{var ee;return V===((ee=Y.brand)===null||ee===void 0?void 0:ee.toLowerCase())}).map(Y=>({current:Y.name,version:zo.nu(parseInt(M.version,10),0)}))}))(f,E)).orThunk(()=>((E,P)=>uu(E,P).map(F=>{const M=zo.detect(F.versionRegexes,P);return{current:F.name,version:M}}))(f,r)).fold(Tf,h0),C=((E,P)=>uu(E,P).map(F=>{const M=zo.detect(F.versionRegexes,P);return{current:F.name,version:M}}))(b,r).fold(Ix,nh),k=((E,P,F,M)=>{const V=E.isiOS()&&/ipad/i.test(F)===!0,Y=E.isiOS()&&!V,ee=E.isiOS()||E.isAndroid(),fe=ee||M("(pointer:coarse)"),pe=V||!Y&&ee&&M("(min-device-width:768px)"),Se=Y||ee&&!pe,ge=P.isSafari()&&E.isiOS()&&/safari/i.test(F)===!1,me=!Se&&!pe&&!ge;return{isiPad:U(V),isiPhone:U(Y),isTablet:U(pe),isPhone:U(Se),isTouch:U(fe),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:U(ge),isDesktop:U(me)}})(C,v,r,d);return{browser:v,os:C,deviceType:k}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),b0));const la=()=>Rf(),Sl=r=>{const l=un((v=>{if(W(v.target)){const C=un(v.target);if(ls(C)&&(k=>W(k.dom.shadowRoot))(C)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return Ne(k)}}return D.from(v.target)})(r).getOr(r.target)),d=()=>r.stopPropagation(),f=()=>r.preventDefault(),b=ae(f,d);return((v,C,k,E,P,F,M)=>({target:v,x:C,y:k,stop:E,prevent:P,kill:F,raw:M}))(l,r.clientX,r.clientY,d,f,b,r)},oh=(r,l,d,f,b)=>{const v=((C,k)=>E=>{C(E)&&k(Sl(E))})(d,f);return r.dom.addEventListener(l,v,b),{unbind:Ve(er,r,l,v,b)}},er=(r,l,d,f)=>{r.dom.removeEventListener(l,d,f)},zd=(r,l)=>{ka(r).each(d=>{d.dom.insertBefore(l.dom,r.dom)})},rh=(r,l)=>{(f=>D.from(f.dom.nextSibling).map(un))(r).fold(()=>{ka(r).each(f=>{Ba(f,l)})},f=>{zd(f,l)})},sh=(r,l)=>{Re(r).fold(()=>{Ba(r,l)},d=>{r.dom.insertBefore(l.dom,d.dom)})},Ba=(r,l)=>{r.dom.appendChild(l.dom)},Hs=(r,l)=>{ft(l,d=>{Ba(r,d)})},us=r=>{r.dom.textContent="",ft(Mr(r),l=>{Zi(l)})},Zi=r=>{const l=r.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},ns=r=>{const l=r!==void 0?r.dom:document,d=l.body.scrollLeft||l.documentElement.scrollLeft,f=l.body.scrollTop||l.documentElement.scrollTop;return ts(d,f)},If=(r,l,d)=>{const f=(d!==void 0?d.dom:document).defaultView;f&&f.scrollTo(r,l)},Bm=(r,l,d,f)=>({x:r,y:l,width:d,height:f,right:r+d,bottom:l+f}),_i=r=>{const l=r===void 0?window:r,d=l.document,f=ns(un(d));return(b=>{const v=b===void 0?window:b;return la().browser.isFirefox()?D.none():D.from(v.visualViewport)})(l).fold(()=>{const b=l.document.documentElement,v=b.clientWidth,C=b.clientHeight;return Bm(f.left,f.top,v,C)},b=>Bm(Math.max(b.pageLeft,f.left),Math.max(b.pageTop,f.top),b.width,b.height))},Fa=()=>un(document),Ta=(r,l)=>r.view(l).fold(U([]),d=>{const f=r.owner(d),b=Ta(r,f);return[d].concat(b)});var du=Object.freeze({__proto__:null,view:r=>{var l;return(r.dom===document?D.none():D.from((l=r.dom.defaultView)===null||l===void 0?void 0:l.frameElement)).map(un)},owner:r=>ui(r)});const Hd=r=>{const l=Fa(),d=ns(l);return((b,v)=>{const C=v.owner(b),k=Ta(v,C);return D.some(k)})(r,du).fold(Ve(Hl,r),b=>{const v=sa(r),C=Tn(b,(k,E)=>{const P=sa(E);return{left:k.left+P.left,top:k.top+P.top}},{left:0,top:0});return ts(C.left+v.left+d.left,C.top+v.top+d.top)})},Lo=(r,l,d,f)=>({x:r,y:l,width:d,height:f,right:r+d,bottom:l+f}),di=r=>{const l=Hl(r),d=sl(r),f=Ic(r);return Lo(l.left,l.top,d,f)},kl=r=>{const l=Hd(r),d=sl(r),f=Ic(r);return Lo(l.left,l.top,d,f)},Ud=(r,l)=>{const d=Math.max(r.x,l.x),f=Math.max(r.y,l.y),b=Math.min(r.right,l.right),v=Math.min(r.bottom,l.bottom);return Lo(d,f,b-d,v-f)},Gi=()=>_i(window),Hn=r=>{let l=r;return{get:()=>l,set:d=>{l=d}}},Nc=r=>{const l=Hn(D.none()),d=()=>l.get().each(r);return{clear:()=>{d(),l.set(D.none())},isSet:()=>l.get().isSome(),get:()=>l.get(),set:f=>{d(),l.set(D.some(f))}}},Pc=()=>Nc(r=>r.unbind()),Or=()=>{const r=Nc(j);return{...r,on:l=>r.get().each(l)}};var wp=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Yb=r=>{const l=v=>v(r),d=U(r),f=()=>b,b={tag:!0,inner:r,fold:(v,C)=>C(r),isValue:Te,isError:Oe,map:v=>Ho.value(v(r)),mapError:f,bind:l,exists:l,forall:l,getOr:d,or:f,getOrThunk:d,orThunk:f,getOrDie:d,each:v=>{v(r)},toOptional:()=>D.some(r)};return b},Wd=r=>{const l=()=>d,d={tag:!1,inner:r,fold:(f,b)=>f(r),isValue:Oe,isError:Te,map:l,mapError:f=>Ho.error(f(r)),bind:l,exists:Oe,forall:Te,getOr:de,or:de,getOrThunk:rt,orThunk:rt,getOrDie:Xe(String(r)),each:j,toOptional:D.none};return d},Ho={value:Yb,error:Wd,fromOption:(r,l)=>r.fold(()=>Wd(l),Yb)};var $a;(function(r){r[r.Error=0]="Error",r[r.Value=1]="Value"})($a||($a={}));const Cp=(r,l,d)=>r.stype===$a.Error?l(r.serror):d(r.svalue),Kd=r=>({stype:$a.Value,svalue:r}),Xb=r=>({stype:$a.Error,serror:r}),fu=Kd,il=Xb,mu=Cp,Nf=(r,l,d,f)=>({tag:"field",key:r,newKey:l,presence:d,prop:f}),Ue=(r,l,d)=>{switch(r.tag){case"field":return l(r.key,r.newKey,r.presence,r.prop);case"custom":return d(r.newKey,r.instantiator)}},Fm=r=>(...l)=>{if(l.length===0)throw new Error("Can't merge zero objects");const d={};for(let f=0;f<l.length;f++){const b=l[f];for(const v in b)uo(b,v)&&(d[v]=r(d[v],b[v]))}return d},Br=Fm((r,l)=>w(r)&&w(l)?Br(r,l):l),Jb=Fm((r,l)=>l),ih=r=>({tag:"defaultedThunk",process:r}),gu=r=>ih(U(r)),tr=r=>({tag:"mergeWithThunk",process:r}),ca=r=>{const l=(f=>{const b=[],v=[];return ft(f,C=>{Cp(C,k=>v.push(k),k=>b.push(k))}),{values:b,errors:v}})(r);return l.errors.length>0?(d=l.errors,ae(il,Kt)(d)):fu(l.values);var d},Ju=r=>x(r)&&Ut(r).length>100?" removed due to size":JSON.stringify(r,null,2),dc=(r,l)=>il([{path:r,getErrorInfo:l}]),Qu=r=>({extract:(l,d)=>((f,b)=>f.stype===$a.Error?b(f.serror):f)(r(d),f=>((b,v)=>dc(b,U(v)))(l,f)),toString:U("val")}),ed=Qu(fu),ua=(r,l,d,f)=>f(En(r,l).getOrThunk(()=>d(r))),Pf=(r,l,d,f,b)=>{const v=k=>b.extract(l.concat([f]),k),C=k=>k.fold(()=>fu(D.none()),E=>((P,F)=>P.stype===$a.Value?{stype:$a.Value,svalue:F(P.svalue)}:P)(b.extract(l.concat([f]),E),D.some));switch(r.tag){case"required":return((k,E,P,F)=>En(E,P).fold(()=>((M,V,Y)=>dc(M,()=>'Could not find valid *required* value for "'+V+'" in '+Ju(Y)))(k,P,E),F))(l,d,f,v);case"defaultedThunk":return ua(d,f,r.process,v);case"option":return((k,E,P)=>P(En(k,E)))(d,f,C);case"defaultedOptionThunk":return((k,E,P,F)=>F(En(k,E).map(M=>M===!0?P(k):M)))(d,f,r.process,C);case"mergeWithThunk":return ua(d,f,U({}),k=>{const E=Br(r.process(d),k);return v(E)})}},$m=r=>({extract:(l,d)=>r().extract(l,d),toString:()=>r().toString()}),Qb=r=>Ut(cr(r,W)),Si=r=>{const l=Gn(r),d=Tn(r,(f,b)=>Ue(b,v=>Br(f,{[v]:!0}),U(f)),{});return{extract:(f,b)=>{const v=R(b)?[]:Qb(b),C=Ht(v,k=>!Oo(d,k));return C.length===0?l.extract(f,b):((k,E)=>dc(k,()=>"There are unsupported fields: ["+E.join(", ")+"] specified"))(f,C)},toString:l.toString}},Gn=r=>({extract:(l,d)=>((f,b,v)=>{const C={},k=[];for(const E of v)Ue(E,(P,F,M,V)=>{const Y=Pf(M,f,b,P,V);mu(Y,ee=>{k.push(...ee)},ee=>{C[F]=ee})},(P,F)=>{C[P]=F(b)});return k.length>0?il(k):fu(C)})(l,d,r),toString:()=>`obj{
`+Le(r,d=>Ue(d,(f,b,v,C)=>f+" -> "+C.toString(),(f,b)=>"state("+f+")")).join(`
`)+"}"}),td=r=>({extract:(l,d)=>{const f=Le(d,(b,v)=>r.extract(l.concat(["["+v+"]"]),b));return ca(f)},toString:()=>"array("+r.toString()+")"}),Vm=(r,l)=>{const d=l!==void 0?l:de;return{extract:(f,b)=>{const v=[];for(const C of r){const k=C.extract(f,b);if(k.stype===$a.Value)return{stype:$a.Value,svalue:d(k.svalue)};v.push(k)}return ca(v)},toString:()=>"oneOf("+Le(r,f=>f.toString()).join(", ")+")"}},da=(r,l)=>({extract:(d,f)=>{const b=Ut(f),v=((C,k)=>td(Qu(r)).extract(C,k))(d,b);return((C,k)=>C.stype===$a.Value?k(C.svalue):C)(v,C=>{const k=Le(C,E=>Nf(E,E,{tag:"required",process:{}},l));return Gn(k).extract(d,f)})},toString:()=>"setOf("+l.toString()+")"}),nd=ae(td,Gn),Wl=U(ed),od=(r,l)=>Qu(d=>{const f=typeof d;return r(d)?fu(d):il(`Expected type: ${l} but got: ${f}`)}),jd=od(J,"number"),ki=od(h,"string"),fc=od(R,"boolean"),hu=od(Z,"function"),zm=r=>{if(Object(r)!==r)return!0;switch({}.toString.call(r).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(r).every(l=>zm(r[l]));default:return!1}},v0=Qu(r=>zm(r)?fu(r):il("Expected value to be acceptable for sending via postMessage")),rd=(r,l)=>({extract:(d,f)=>En(f,r).fold(()=>((b,v)=>dc(b,()=>'Choice schema did not contain choice key: "'+v+'"'))(d,r),b=>((v,C,k,E)=>En(k,E).fold(()=>((P,F,M)=>dc(P,()=>'The chosen schema: "'+M+'" did not exist in branches: '+Ju(F)))(v,k,E),P=>P.extract(v.concat(["branch: "+E]),C)))(d,f,l,b)),toString:()=>"chooseOn("+r+"). Possible values: "+Ut(l)}),Lf=r=>Qu(l=>r(l).fold(il,fu)),ev=(r,l)=>da(d=>r(d).fold(Xb,Kd),l),_s=(r,l,d)=>{return f=((b,v,C)=>((k,E)=>k.stype===$a.Error?{stype:$a.Error,serror:E(k.serror)}:k)(v.extract([b],C),k=>({input:C,errors:k})))(r,l,d),Cp(f,Ho.error,Ho.value);var f},Va=r=>r.fold(l=>{throw new Error(al(l))},de),Oa=(r,l,d)=>Va(_s(r,l,d)),al=r=>`Errors: 
`+(l=>{const d=l.length>10?l.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):l;return Le(d,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())})(r.errors).join(`
`)+`

Input object: `+Ju(r.input),bi=(r,l)=>rd(r,eo(l,Gn)),_p=(r,l)=>((d,f)=>{const b=ia(f);return{extract:(v,C)=>b().extract(v,C),toString:()=>b().toString()}})(0,l),fi=Nf,qi=(r,l)=>({tag:"custom",newKey:r,instantiator:l}),pu=r=>Lf(l=>ct(r,l)?Ho.value(l):Ho.error(`Unsupported value: "${l}", choose one of "${r.join(", ")}".`)),Lt=r=>fi(r,r,{tag:"required",process:{}},Wl()),Yi=(r,l)=>fi(r,r,{tag:"required",process:{}},l),Sp=r=>Yi(r,jd),Ss=r=>Yi(r,ki),sd=(r,l)=>fi(r,r,{tag:"required",process:{}},pu(l)),za=r=>Yi(r,hu),Lc=(r,l)=>fi(r,r,{tag:"required",process:{}},Gn(l)),Hm=(r,l)=>fi(r,r,{tag:"required",process:{}},nd(l)),ll=(r,l)=>fi(r,r,{tag:"required",process:{}},td(l)),qo=r=>fi(r,r,{tag:"option",process:{}},Wl()),Us=(r,l)=>fi(r,r,{tag:"option",process:{}},l),Mf=r=>Us(r,jd),Fs=r=>Us(r,ki),ah=(r,l)=>Us(r,pu(l)),bu=r=>Us(r,hu),y0=(r,l)=>Us(r,td(l)),Ds=(r,l)=>Us(r,Gn(l)),ut=(r,l)=>fi(r,r,gu(l),Wl()),Ha=(r,l,d)=>fi(r,r,gu(l),d),Ws=(r,l)=>Ha(r,l,jd),Ql=(r,l)=>Ha(r,l,ki),Mc=(r,l,d)=>Ha(r,l,pu(d)),ri=(r,l)=>Ha(r,l,fc),os=(r,l)=>Ha(r,l,hu),Pr=(r,l,d)=>Ha(r,l,td(d)),Ua=(r,l,d)=>Ha(r,l,Gn(d)),ec=r=>{if(!T(r))throw new Error("cases must be an array");if(r.length===0)throw new Error("there must be at least one case");const l=[],d={};return ft(r,(f,b)=>{const v=Ut(f);if(v.length!==1)throw new Error("one and only one name per case");const C=v[0],k=f[C];if(d[C]!==void 0)throw new Error("duplicate key detected:"+C);if(C==="cata")throw new Error("cannot have a case named cata (sorry)");if(!T(k))throw new Error("case arguments must be an array");l.push(C),d[C]=(...E)=>{const P=E.length;if(P!==k.length)throw new Error("Wrong number of arguments to case "+C+". Expected "+k.length+" ("+k+"), got "+P);return{fold:(...F)=>{if(F.length!==r.length)throw new Error("Wrong number of arguments to fold. Expected "+r.length+", got "+F.length);return F[b].apply(null,E)},match:F=>{const M=Ut(F);if(l.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+M.join(","));if(!We(l,V=>ct(M,V)))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+l.join(", "));return F[C].apply(null,E)},log:F=>{console.log(F,{constructors:l,constructor:C,params:E})}}}}),d};ec([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const vu=(r,l)=>((d,f)=>({[d]:f}))(r,l),Zd=r=>(l=>{const d={};return ft(l,f=>{d[f.key]=f.value}),d})(r),Um=r=>Z(r)?r:Oe,lh=(r,l,d)=>{let f=r.dom;const b=Um(d);for(;f.parentNode;){f=f.parentNode;const v=un(f),C=l(v);if(C.isSome())return C;if(b(v))break}return D.none()},ch=(r,l,d)=>{const f=l(r),b=Um(d);return f.orThunk(()=>b(r)?D.none():lh(r,l,b))},tv=(r,l)=>dr(r.element,l.event.target),nv={can:Te,abort:Oe,run:j},id=r=>{if(!Oo(r,"can")&&!Oo(r,"abort")&&!Oo(r,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(r,null,2)+" does not have can, abort, or run!");return{...nv,...r}},L=U,G=L("touchstart"),ce=L("touchmove"),Be=L("touchend"),Ye=L("touchcancel"),Mt=L("mousedown"),Yn=L("mousemove"),So=L("mouseout"),mo=L("mouseup"),Pn=L("mouseover"),Cr=L("focusin"),Ks=L("focusout"),ks=L("keydown"),Bc=L("keyup"),Wm=L("input"),Km=L("change"),vi=L("click"),KC=L("transitioncancel"),ov=L("transitionend"),x0=L("transitionstart"),fa=L("selectstart"),Rs=r=>U("alloy."+r),Ni={tap:Rs("tap")},ad=Rs("focus"),kp=Rs("blur.post"),Nx=Rs("paste.post"),mc=Rs("receive"),El=Rs("execute"),rv=Rs("focus.item"),Bf=Ni.tap,BE=Rs("longpress"),sv=Rs("sandbox.close"),Gd=Rs("typeahead.cancel"),Ff=Rs("system.init"),Nn=Rs("system.touchmove"),yu=Rs("system.touchend"),iv=Rs("system.scroll"),$f=Rs("system.resize"),ma=Rs("system.attached"),Fc=Rs("system.detached"),uh=Rs("system.dismissRequested"),Vf=Rs("system.repositionRequested"),w0=Rs("focusmanager.shifted"),xu=Rs("slotcontainer.visibility"),Ep=Rs("system.external.element.scroll"),Ap=Rs("change.tab"),jt=Rs("dismiss.tab"),Px=Rs("highlight"),zf=Rs("dehighlight"),No=(r,l)=>{$c(r,r.element,l,{})},Mn=(r,l,d)=>{$c(r,r.element,l,d)},Hf=r=>{No(r,El())},ps=(r,l,d)=>{$c(r,l,d,{})},$c=(r,l,d,f)=>{const b={target:l,...f};r.getSystem().triggerEvent(d,l,b)},Vc=(r,l,d,f)=>{r.getSystem().triggerEvent(d,l,f.event)},yo=r=>Zd(r),Tp=(r,l)=>({key:r,value:id({abort:l})}),jC=r=>({key:r,value:id({run:(l,d)=>{d.event.prevent()}})}),Ot=(r,l)=>({key:r,value:id({run:l})}),Lx=(r,l,d)=>({key:r,value:id({run:(f,b)=>{l.apply(void 0,[f,b].concat(d))}})}),Op=r=>l=>({key:r,value:id({run:(d,f)=>{tv(d,f)&&l(d,f)}})}),Dp=(r,l,d)=>((f,b)=>Ot(f,(v,C)=>{v.getSystem().getByUid(b).each(k=>{Vc(k,k.element,f,C)})}))(r,l.partUids[d]),dh=(r,l)=>Ot(r,(d,f)=>{const b=f.event,v=d.getSystem().getByDom(b.target).getOrThunk(()=>ch(b.target,C=>d.getSystem().getByDom(C).toOptional(),Oe).getOr(d));l(d,v,f)}),jm=r=>Ot(r,(l,d)=>{d.cut()}),ZC=r=>Ot(r,(l,d)=>{d.stop()}),Uf=(r,l)=>Op(r)(l),as=Op(ma()),ld=Op(Fc()),C0=Op(Ff()),wu=(Ym=El(),r=>Ot(Ym,r)),Zm=r=>Le(r,l=>Zu(l,"/*")?l.substring(0,l.length-2):l),gc=(r,l)=>{const d=r.toString(),f=d.indexOf(")")+1,b=d.indexOf("("),v=d.substring(b+1,f-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:l,parameters:Zm(v)}),r},js=r=>({classes:N(r.classes)?[]:r.classes,attributes:N(r.attributes)?{}:r.attributes,styles:N(r.styles)?{}:r.styles}),av=(r,l,d)=>C0((f,b)=>{d(f,r,l)}),Pi=r=>({key:r,value:void 0}),_0=(r,l,d,f,b,v,C)=>{const k=F=>Oo(F,d)?F[d]():D.none(),E=eo(b,(F,M)=>((V,Y,ee)=>((fe,pe,Se)=>{const ge=Se.toString(),me=ge.indexOf(")")+1,we=ge.indexOf("("),ke=ge.substring(we+1,me-1).split(/,\s*/);return fe.toFunctionAnnotation=()=>({name:pe,parameters:Zm(ke.slice(0,1).concat(ke.slice(3)))}),fe})((fe,...pe)=>{const Se=[fe].concat(pe);return fe.config({name:U(V)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+V+". Using API: "+ee)},ge=>{const me=Array.prototype.slice.call(Se,1);return Y.apply(void 0,[fe,ge.config,ge.state].concat(me))})},ee,Y))(d,F,M)),P={...eo(v,(F,M)=>gc(F,M)),...E,revoke:Ve(Pi,d),config:F=>{const M=Oa(d+"-config",r,F);return{key:d,value:{config:M,me:P,configAsRaw:ia(()=>Oa(d+"-config",r,F)),initialConfig:F,state:C}}},schema:U(l),exhibit:(F,M)=>Xt(k(F),En(f,"exhibit"),(V,Y)=>Y(M,V.config,V.state)).getOrThunk(()=>js({})),name:U(d),handlers:F=>k(F).map(M=>En(f,"events").getOr(()=>({}))(M.config,M.state)).getOr({})};return P},zc={init:()=>Li({readState:U("No State required")})},Li=r=>r,qt=r=>Zd(r),Gm=Si([Lt("fields"),Lt("name"),ut("active",{}),ut("apis",{}),ut("state",zc),ut("extra",{})]),Mi=r=>{const l=Oa("Creating behaviour: "+r.name,Gm,r);return((d,f,b,v,C,k)=>{const E=Si(d),P=Ds(f,[(F=d,Us("config",Si(F)))]);var F;return _0(E,P,f,b,v,C,k)})(l.fields,l.name,l.active,l.apis,l.extra,l.state)},GC=Si([Lt("branchKey"),Lt("branches"),Lt("name"),ut("active",{}),ut("apis",{}),ut("state",zc),ut("extra",{})]),qC=r=>{const l=Oa("Creating behaviour: "+r.name,GC,r);return((d,f,b,v,C,k)=>{const E=d,P=Ds(f,[Us("config",d)]);return _0(E,P,f,b,v,C,k)})(bi(l.branchKey,l.branches),l.name,l.active,l.apis,l.extra,l.state)},FE=U(void 0),qd=(r,l)=>{const d=Ko(r,l);return d===void 0||d===""?[]:d.split(" ")},fh=r=>r.dom.classList!==void 0,lv=r=>qd(r,"class"),S0=(r,l)=>((d,f,b)=>{const v=qd(d,f).concat([b]);return cn(d,f,v.join(" ")),!0})(r,"class",l),Mx=(r,l)=>((d,f,b)=>{const v=Ht(qd(d,f),C=>C!==b);return v.length>0?cn(d,f,v.join(" ")):Io(d,f),!1})(r,"class",l),Es=(r,l)=>{fh(r)?r.dom.classList.add(l):S0(r,l)},cv=r=>{(fh(r)?r.dom.classList:lv(r)).length===0&&Io(r,"class")},Is=(r,l)=>{fh(r)?r.dom.classList.remove(l):Mx(r,l),cv(r)},cl=(r,l)=>fh(r)&&r.dom.classList.contains(l),Zs=(r,l)=>{ft(l,d=>{Es(r,d)})},hc=(r,l)=>{ft(l,d=>{Is(r,d)})},Yd=r=>fh(r)?(l=>{const d=l.dom.classList,f=new Array(d.length);for(let b=0;b<d.length;b++){const v=d.item(b);v!==null&&(f[b]=v)}return f})(r):lv(r),Xi=(r,l,d,f,b)=>{const v=C=>C+"px";return{position:r,left:l.map(v),top:d.map(v),right:f.map(v),bottom:b.map(v)}},uv=(r,l)=>{Cl(r,(d=>({...d,position:D.some(d.position)}))(l))},Rp=r=>(ci(oi(r,"position"),"fixed")?D.none():cu(r)).orThunk(()=>{const l=Ri("span");return ka(r).bind(d=>{Ba(d,l);const f=cu(l);return Zi(l),f})}),Wf=r=>Rp(r).map(Hl).getOrThunk(()=>ts(0,0)),YC=(r,l)=>{const d=r.element;Es(d,l.transitionClass),Is(d,l.fadeOutClass),Es(d,l.fadeInClass),l.onShow(r)},Ip=(r,l)=>{const d=r.element;Es(d,l.transitionClass),Is(d,l.fadeInClass),Es(d,l.fadeOutClass),l.onHide(r)},Bx=(r,l)=>r.y>=l.y,k0=(r,l)=>r.bottom<=l.bottom,dv=(r,l,d)=>({location:"top",leftX:l,topY:d.bounds.y-r.y}),E0=(r,l,d)=>({location:"bottom",leftX:l,bottomY:r.bottom-d.bounds.bottom}),Fx=r=>r.box.x-r.win.x,qm=(r,l,d)=>d.getInitialPos().map(f=>{const b=((v,C)=>{const k=C.optScrollEnv.fold(U(v.bounds.y),E=>E.scrollElmTop+(v.bounds.y-E.currentScrollTop));return ts(v.bounds.x,k)})(f,l);return{box:Lo(b.left,b.top,Ii(r),Os(r)),location:f.location}}),$E=(r,l,d,f,b)=>{const v=((k,E)=>{const P=E.optScrollEnv.fold(U(k.y),F=>k.y+F.currentScrollTop-F.scrollElmTop);return ts(k.x,P)})(l,d),C=Lo(v.left,v.top,l.width,l.height);f.setInitialPos({style:Lm(r),position:Ts(r,"position")||"static",bounds:C,location:b.location})},A0=(r,l,d)=>d.getInitialPos().bind(f=>{var b;switch(d.clearInitialPos(),f.position){case"static":return D.some({morph:"static"});case"absolute":const v=Rp(r).getOr(Cn()),C=di(v),k=(b=v.dom.scrollTop)!==null&&b!==void 0?b:0;return D.some({morph:"absolute",positionCss:Xi("absolute",En(f.style,"left").map(E=>l.x-C.x),En(f.style,"top").map(E=>l.y-C.y+k),En(f.style,"right").map(E=>C.right-l.right),En(f.style,"bottom").map(E=>C.bottom-l.bottom))});default:return D.none()}}),T0=r=>{switch(r.location){case"top":return D.some({morph:"fixed",positionCss:Xi("fixed",D.some(r.leftX),D.some(r.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Xi("fixed",D.some(r.leftX),D.none(),D.none(),D.some(r.bottomY))});default:return D.none()}},$x=(r,l,d)=>{const f=r.element;return ci(oi(f,"position"),"fixed")?((b,v,C)=>((k,E,P)=>qm(k,E,P).filter(({box:F})=>((M,V,Y)=>We(M,ee=>{switch(ee){case"bottom":return k0(V,Y.bounds);case"top":return Bx(V,Y.bounds)}}))(P.getModes(),F,E)).bind(({box:F})=>A0(k,F,P)))(b,v,C).orThunk(()=>v.optScrollEnv.bind(k=>qm(b,v,C)).bind(({box:k,location:E})=>{const P=Gi(),F=Fx({win:P,box:k}),M=E==="top"?dv(P,F,v):E0(P,F,v);return T0(M)})))(f,l,d):((b,v,C)=>{const k=di(b),E=Gi(),P=((F,M,V)=>{const Y=M.win,ee=M.box,fe=Fx(M);return sn(F,pe=>{switch(pe){case"bottom":return k0(ee,V.bounds)?D.none():D.some(E0(Y,fe,V));case"top":return Bx(ee,V.bounds)?D.none():D.some(dv(Y,fe,V));default:return D.none()}}).getOr({location:"no-dock"})})(C.getModes(),{win:E,box:k},v);return P.location==="top"||P.location==="bottom"?($E(b,k,v,C,P),T0(P)):D.none()})(f,l,d)},Vx=(r,l,d)=>{d.setDocked(!1),ft(["left","right","top","bottom","position"],f=>Er(r.element,f)),l.onUndocked(r)},fv=(r,l,d,f)=>{const b=f.position==="fixed";d.setDocked(b),uv(r.element,f),(b?l.onDocked:l.onUndocked)(r)},zx=(r,l,d,f,b=!1)=>{l.contextual.each(v=>{v.lazyContext(r).each(C=>{const k=((E,P)=>E.y<P.bottom&&E.bottom>P.y)(C,f.bounds);k!==d.isVisible()&&(d.setVisible(k),b&&!k?(Zs(r.element,[v.fadeOutClass]),v.onHide(r)):(k?YC:Ip)(r,v))})})},Hx=(r,l,d,f,b)=>{zx(r,l,d,f,!0),fv(r,l,d,b.positionCss)},mv=(r,l,d)=>{r.getSystem().isConnected()&&((f,b,v)=>{const C=b.lazyViewport(f);zx(f,b,v,C),$x(f,C,v).each(k=>{((E,P,F,M,V)=>{switch(V.morph){case"static":return Vx(E,P,F);case"absolute":return fv(E,P,F,V.positionCss);case"fixed":Hx(E,P,F,M,V)}})(f,b,v,C,k)})})(r,l,d)},Np=(r,l,d)=>{d.isDocked()&&((f,b,v)=>{const C=f.element;v.setDocked(!1);const k=b.lazyViewport(f);((E,P,F)=>{const M=E.element;return qm(M,P,F).bind(({box:V})=>A0(M,V,F))})(f,k,v).each(E=>{switch(E.morph){case"static":Vx(f,b,v);break;case"absolute":fv(f,b,v,E.positionCss)}}),v.setVisible(!0),b.contextual.each(E=>{hc(C,[E.fadeInClass,E.fadeOutClass,E.transitionClass]),E.onShow(f)}),mv(f,b,v)})(r,l,d)},Ux=r=>(l,d,f)=>{const b=d.lazyViewport(l);((v,C,k,E)=>{const P=di(v),F=Gi(),M=E(F,Fx({win:F,box:P}),C);return M.location==="bottom"||M.location==="top"?(((V,Y,ee,fe,pe)=>{fe.getInitialPos().fold(()=>$E(V,Y,ee,fe,pe),()=>j)})(v,P,C,k,M),T0(M)):D.none()})(l.element,b,f,r).each(v=>{Hx(l,d,f,b,v)})},gv=Ux(dv),hv=Ux(E0);var Ym,Pp=Object.freeze({__proto__:null,refresh:mv,reset:Np,isDocked:(r,l,d)=>d.isDocked(),getModes:(r,l,d)=>d.getModes(),setModes:(r,l,d,f)=>d.setModes(f),forceDockToTop:gv,forceDockToBottom:hv}),Wx=Object.freeze({__proto__:null,events:(r,l)=>yo([Uf(ov(),(d,f)=>{r.contextual.each(b=>{cl(d.element,b.transitionClass)&&(hc(d.element,[b.transitionClass,b.fadeInClass]),(l.isVisible()?b.onShown:b.onHidden)(d)),f.stop()})}),Ot(iv(),(d,f)=>{mv(d,r,l)}),Ot(Ep(),(d,f)=>{mv(d,r,l)}),Ot($f(),(d,f)=>{Np(d,r,l)})])});const Xd=r=>r.dom.innerHTML,mh=(r,l)=>{const d=ui(r).dom,f=un(d.createDocumentFragment()),b=((v,C)=>{const k=(C||document).createElement("div");return k.innerHTML=v,Mr(un(k))})(l,d);Hs(f,b),us(r),Ba(r,f)},gh=(r,l)=>un(r.dom.cloneNode(l)),Jd=r=>(l=>{if(yt(l))return"#shadow-root";{const d=(f=>gh(f,!1))(l);return(f=>{const b=Ri("div"),v=un(f.dom.cloneNode(!0));return Ba(b,v),Xd(b)})(d)}})(r);var Kf;(function(r){r[r.STOP=0]="STOP",r[r.NORMAL=1]="NORMAL",r[r.LOGGING=2]="LOGGING"})(Kf||(Kf={}));const pv=Hn({}),VE=["alloy/data/Fields","alloy/debugging/Debugging"],bv=(r,l,d)=>((f,b,v)=>{switch(En(pv.get(),f).orThunk(()=>{const C=Ut(pv.get());return sn(C,k=>f.indexOf(k)>-1?D.some(pv.get()[k]):D.none())}).getOr(Kf.NORMAL)){case Kf.NORMAL:return v(Hc());case Kf.LOGGING:{const C=((E,P)=>{const F=[],M=new Date().getTime();return{logEventCut:(V,Y,ee)=>{F.push({outcome:"cut",target:Y,purpose:ee})},logEventStopped:(V,Y,ee)=>{F.push({outcome:"stopped",target:Y,purpose:ee})},logNoParent:(V,Y,ee)=>{F.push({outcome:"no-parent",target:Y,purpose:ee})},logEventNoHandlers:(V,Y)=>{F.push({outcome:"no-handlers-left",target:Y})},logEventResponse:(V,Y,ee)=>{F.push({outcome:"response",purpose:ee,target:Y})},write:()=>{const V=new Date().getTime();ct(["mousemove","mouseover","mouseout",Ff()],E)||console.log(E,{event:E,time:V-M,target:P.dom,sequence:Le(F,Y=>ct(["cut","stopped","response"],Y.outcome)?"{"+Y.purpose+"} "+Y.outcome+" at ("+Jd(Y.target)+")":Y.outcome)})}}})(f,b),k=v(C);return C.write(),k}case Kf.STOP:return!0}})(r,l,d),Hc=U({logEventCut:j,logEventStopped:j,logNoParent:j,logEventNoHandlers:j,logEventResponse:j,write:j}),XC=U([Lt("menu"),Lt("selectedMenu")]),Kx=U([Lt("item"),Lt("selectedItem")]);U(Gn(Kx().concat(XC())));const hh=U(Gn(Kx())),ga=Lc("initSize",[Lt("numColumns"),Lt("numRows")]),ph=()=>Lc("markers",[Lt("backgroundMenu")].concat(XC()).concat(Kx())),bh=r=>Lc("markers",Le(r,Lt)),O0=(r,l,d)=>((()=>{const f=new Error;if(f.stack!==void 0){const b=f.stack.split(`
`);Q(b,v=>v.indexOf("alloy")>0&&!kn(VE,C=>v.indexOf(C)>-1)).getOr("unknown")}})(),fi(l,l,d,Lf(f=>Ho.value((...b)=>f.apply(void 0,b))))),nr=r=>O0(0,r,gu(j)),Al=r=>O0(0,r,gu(D.none)),cd=r=>O0(0,r,{tag:"required",process:{}}),Da=r=>O0(0,r,{tag:"required",process:{}}),Yr=(r,l)=>qi(r,U(l)),vv=r=>qi(r,de),JC=U(ga);var zE=[Ds("contextual",[Ss("fadeInClass"),Ss("fadeOutClass"),Ss("transitionClass"),za("lazyContext"),nr("onShow"),nr("onShown"),nr("onHide"),nr("onHidden")]),os("lazyViewport",()=>({bounds:Gi(),optScrollEnv:D.none()})),Pr("modes",["top","bottom"],ki),nr("onDocked"),nr("onUndocked")];const ds=Mi({fields:zE,name:"docking",active:Wx,apis:Pp,state:Object.freeze({__proto__:null,init:r=>{const l=Hn(!1),d=Hn(!0),f=Or(),b=Hn(r.modes);return Li({isDocked:l.get,setDocked:l.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:d.get,setVisible:d.set,getModes:b.get,setModes:b.set,readState:()=>`docked:  ${l.get()}, visible: ${d.get()}, modes: ${b.get().join(",")}`})}})}),D0=yo([((r,l)=>({key:r,value:id({can:(d,f)=>{const b=f.event,v=b.originator,C=b.target;return!((k,E,P)=>dr(E,k.element)&&!dr(E,P))(d,v,C)||(console.warn(ad()+` did not get interpreted by the desired target. 
Originator: `+Jd(v)+`
Target: `+Jd(C)+`
Check the `+ad()+" event handlers"),!1)}})}))(ad())]);var jx=Object.freeze({__proto__:null,events:D0});const Xm=(r,l,d,f)=>{const b=r+l;return b>f?d:b<d?f:b},Uc=(r,l,d)=>Math.min(Math.max(r,l),d);let Lp=0;const _n=r=>{const l=new Date().getTime(),d=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Lp++,r+"_"+d+Lp+String(l)},Cu=U("alloy-id-"),Zx=U("data-alloy-id"),R0=Cu(),Mp=Zx(),I0=(r,l)=>{Object.defineProperty(r.dom,Mp,{value:l,writable:!0})},vh=r=>{const l=ls(r)?r.dom[Mp]:null;return D.from(l)},Wc=r=>_n(r),HE=de,N0=r=>{const l=b=>`The component must be in a context to execute: ${b}`+(r?`
`+Jd(r().element)+" is not in context.":""),d=b=>()=>{throw new Error(l(b))},f=b=>()=>{console.warn(l(b))};return{debugInfo:U("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:d("build"),buildOrPatch:d("buildOrPatch"),addToWorld:d("addToWorld"),removeFromWorld:d("removeFromWorld"),addToGui:d("addToGui"),removeFromGui:d("removeFromGui"),getByUid:d("getByUid"),getByDom:d("getByDom"),isConnected:Oe}},Gx=N0(),P0=_n("alloy-premade"),qx=r=>(Object.defineProperty(r.element.dom,P0,{value:r.uid,writable:!0}),vu(P0,r)),Yx=r=>En(r,P0),L0=r=>((l,d)=>{const f=d.toString(),b=f.indexOf(")")+1,v=f.indexOf("("),C=f.substring(v+1,b-1).split(/,\s*/);return l.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Zm(C.slice(1))}),l})((l,...d)=>r(l.getApis(),l,...d),r),Xx=(r,l)=>{const d={};return qn(r,(f,b)=>{qn(f,(v,C)=>{const k=En(d,C).getOr([]);d[C]=k.concat([l(b,v)])})}),d},Jx=r=>r.cHandler,QC=(r,l)=>({name:r,handler:l}),UE=(r,l)=>{const d={};return ft(r,f=>{d[f.name()]=f.handlers(l)}),d},yv=(r,l,d)=>{const f=l[d];return f?((b,v,C,k)=>{try{const E=be(C,(P,F)=>{const M=P[v],V=F[v],Y=k.indexOf(M),ee=k.indexOf(V);if(Y===-1)throw new Error("The ordering for "+b+" does not have an entry for "+M+`.
Order specified: `+JSON.stringify(k,null,2));if(ee===-1)throw new Error("The ordering for "+b+" does not have an entry for "+V+`.
Order specified: `+JSON.stringify(k,null,2));return Y<ee?-1:ee<Y?1:0});return Ho.value(E)}catch(E){return Ho.error([E])}})("Event: "+d,"name",r,f).map(b=>(v=>({can:((E,P)=>(...F)=>nn(E,(M,V)=>M&&(Y=>Y.can)(V).apply(void 0,F),!0))(v),abort:((E,P)=>(...F)=>nn(E,(M,V)=>M||(Y=>Y.abort)(V).apply(void 0,F),!1))(v),run:(...E)=>{ft(v,P=>{P.run.apply(void 0,E)})}}))(Le(b,v=>v.handler))):((b,v)=>Ho.error(["The event ("+b+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Le(v,C=>C.name),null,2)]))(d,r)},Qx=(r,l)=>((d,f)=>{const b=(C=>{const k=[],E=[];return ft(C,P=>{P.fold(F=>{k.push(F)},F=>{E.push(F)})}),{errors:k,values:E}})(d);return b.errors.length>0?(v=b.errors,Ho.error(Kt(v))):((C,k)=>C.length===0?Ho.value(k):Ho.value(Br(k,Jb.apply(void 0,C))))(b.values,f);var v})(ti(r,(d,f)=>(d.length===1?Ho.value(d[0].handler):yv(d,l,f)).map(b=>{const v=(k=>{const E=(P=>Z(P)?{can:Te,abort:Oe,run:P}:P)(k);return(P,F,...M)=>{const V=[P,F].concat(M);E.abort.apply(void 0,V)?F.stop():E.can.apply(void 0,V)&&E.run.apply(void 0,V)}})(b),C=d.length>1?Ht(l[f],k=>kn(d,E=>E.name===k)).join(" > "):d[0].name;return vu(f,((k,E)=>({handler:k,purpose:E}))(v,C))})),{}),yh="alloy.base.behaviour",WE=Gn([fi("dom","dom",{tag:"required",process:{}},Gn([Lt("tag"),ut("styles",{}),ut("classes",[]),ut("attributes",{}),qo("value"),qo("innerHtml")])),Lt("components"),Lt("uid"),ut("events",{}),ut("apis",{}),fi("eventOrder","eventOrder",(xh={[El()]:["disabling",yh,"toggling","typeaheadevents"],[ad()]:[yh,"focusing","keying"],[Ff()]:[yh,"disabling","toggling","representing","tooltipping"],[Wm()]:[yh,"representing","streaming","invalidating"],[Fc()]:[yh,"representing","item-events","toolbar-button-events","tooltipping"],[Mt()]:["focusing",yh,"item-type-events"],[G()]:["focusing",yh,"item-type-events"],[Pn()]:["item-type-events","tooltipping"],[mc()]:["receiving","reflecting","tooltipping"]},tr(U(xh))),Wl()),qo("domModification")]),KE=r=>r.events,jf=r=>r.dom.value,Jm=(r,l)=>{if(l===void 0)throw new Error("Value.set was undefined");r.dom.value=l},M0=(r,l,d)=>{d.fold(()=>Ba(r,l),f=>{dr(f,l)||(zd(f,l),Zi(f))})},e_=(r,l,d)=>{const f=Le(l,d),b=Mr(r);return ft(b.slice(f.length),Zi),f},e2=(r,l,d,f)=>{const b=cs(r,l),v=f(d,b),C=((k,E,P)=>cs(k,E).map(F=>{if(P.exists(M=>!dr(M,F))){const M=P.map(nl).getOr("span"),V=Ri(M);return zd(F,V),V}return F}))(r,l,b);return M0(r,v.element,C),v},xv=(r,l)=>{const d=Ut(r),f=Ut(l),b=xe(f,d),v=((C,k)=>{const E={},P={};return Zr(C,(F,M)=>!uo(l,M)||F!==l[M],Ro(E),Ro(P)),{t:E,f:P}})(r).t;return{toRemove:b,toSet:v}},Qd=(r,l)=>{const d=l.filter(f=>nl(f)===r.tag&&!(b=>b.innerHtml.isSome()&&b.domChildren.length>0)(r)&&!(b=>uo(b.dom,P0))(f)).bind(f=>((b,v)=>{try{const C=((k,E)=>{const{class:P,style:F,...M}=(we=>nn(we.dom.attributes,(ke,De)=>(ke[De.name]=De.value,ke),{}))(E),{toSet:V,toRemove:Y}=xv(k.attributes,M),ee=Lm(E),{toSet:fe,toRemove:pe}=xv(k.styles,ee),Se=Yd(E),ge=xe(Se,k.classes),me=xe(k.classes,Se);return ft(Y,we=>Io(E,we)),Tr(E,V),Zs(E,me),hc(E,ge),ft(pe,we=>Er(E,we)),rl(E,fe),k.innerHtml.fold(()=>{const we=k.domChildren;((ke,De)=>{e_(ke,De,(Ze,it)=>{const It=cs(ke,it);return M0(ke,Ze,It),Ze})})(E,we)},we=>{mh(E,we)}),(()=>{const we=E,ke=k.value.getOrUndefined();ke!==jf(we)&&Jm(we,ke??"")})(),E})(b,v);return D.some(C)}catch{return D.none()}})(r,f)).getOrThunk(()=>(f=>{const b=Ri(f.tag);Tr(b,f.attributes),Zs(b,f.classes),rl(b,f.styles),f.innerHtml.each(C=>mh(b,C));const v=f.domChildren;return Hs(b,v),f.value.each(C=>{Jm(b,C)}),b})(r));return I0(d,r.uid),d},B0=r=>{const l=(d=>{const f=En(d,"behaviours").getOr({});return pn(Ut(f),b=>{const v=f[b];return W(v)?[v.me]:[]})})(r);return((d,f)=>((b,v)=>{const C=Le(v,E=>Ds(E.name(),[Lt("config"),ut("state",zc)])),k=_s("component.behaviours",Gn(C),b.behaviours).fold(E=>{throw new Error(al(E)+`
Complete spec:
`+JSON.stringify(b,null,2))},de);return{list:v,data:eo(k,E=>{const P=E.map(F=>({config:F.config,state:F.state.init(F.config)}));return U(P)})}})(d,f))(r,l)},yi=(r,l)=>{const d=()=>V,f=Hn(Gx),b=Va((Y=>_s("custom.definition",WE,Y))(r)),v=B0(r),C=(Y=>Y.list)(v),k=(Y=>Y.data)(v),E=((Y,ee,fe)=>{const pe={...(Se=Y).dom,uid:Se.uid,domChildren:Le(Se.components,Ze=>Ze.element)};var Se;const ge=(Ze=>Ze.domModification.fold(()=>js({}),js))(Y),me={"alloy.base.modification":ge},we=ee.length>0?((Ze,it,It,Tt)=>{const kt={...it};ft(It,Uo=>{kt[Uo.name()]=Uo.exhibit(Ze,Tt)});const Wt=Xx(kt,(Uo,ss)=>({name:Uo,modification:ss})),vn=Uo=>Tn(Uo,(ss,ms)=>({...ms.modification,...ss}),{}),In=Tn(Wt.classes,(Uo,ss)=>ss.modification.concat(Uo),[]),Kn=vn(Wt.attributes),lo=vn(Wt.styles);return js({classes:In,attributes:Kn,styles:lo})})(fe,me,ee,pe):ge;return ke=pe,De=we,{...ke,attributes:{...ke.attributes,...De.attributes},styles:{...ke.styles,...De.styles},classes:ke.classes.concat(De.classes)};var ke,De})(b,C,k),P=Qd(E,l),F=((Y,ee,fe)=>{const pe={"alloy.base.behaviour":KE(Y)};return((Se,ge,me,we)=>{const ke=((De,Ze,it)=>{const It={...it,...UE(Ze,De)};return Xx(It,QC)})(Se,me,we);return Qx(ke,ge)})(fe,Y.eventOrder,ee,pe).getOrDie()})(b,C,k),M=Hn(b.components),V={uid:r.uid,getSystem:f.get,config:Y=>{const ee=k;return(Z(ee[Y.name()])?ee[Y.name()]:()=>{throw new Error("Could not find "+Y.name()+" in "+JSON.stringify(r,null,2))})()},hasConfigured:Y=>Z(k[Y.name()]),spec:r,readState:Y=>k[Y]().map(ee=>ee.state.readState()).getOr("not enabled"),getApis:()=>b.apis,connect:Y=>{f.set(Y)},disconnect:()=>{f.set(N0(d))},element:P,syncComponents:()=>{const Y=Mr(P),ee=pn(Y,fe=>f.get().getByDom(fe).fold(()=>[],$e));M.set(ee)},components:M.get,events:F};return V},$s=r=>{const l=qu(r);return Zf({element:l})},Zf=r=>{const l=Oa("external.component",Si([Lt("element"),qo("uid")]),r),d=Hn(N0()),f=l.uid.getOrThunk(()=>Wc("external"));I0(l.element,f);const b={uid:f,getSystem:d.get,config:D.none,hasConfigured:Oe,connect:v=>{d.set(v)},disconnect:()=>{d.set(N0(()=>b))},getApis:()=>({}),element:l.element,spec:r,readState:U("No state"),syncComponents:j,components:U([]),events:{}};return qx(b)},t2=Wc,F0=(r,l)=>Yx(r).getOrThunk(()=>((d,f)=>{const{events:b,...v}=HE(d),C=((E,P)=>{const F=En(E,"components").getOr([]);return P.fold(()=>Le(F,Ji),M=>Le(F,(V,Y)=>F0(V,cs(M,Y))))})(v,f),k={...v,events:{...jx,...b},components:C};return Ho.value(yi(k,f))})((d=>uo(d,"uid"))(r)?r:{uid:t2(""),...r},l).getOrDie()),Ji=r=>F0(r,D.none()),ul=qx;var xh,Gf=(r,l,d,f,b)=>r(d,f)?D.some(d):Z(b)&&b(d)?D.none():l(d,f,b);const Qm=(r,l,d)=>{let f=r.dom;const b=Z(d)?d:Oe;for(;f.parentNode;){f=f.parentNode;const v=un(f);if(l(v))return D.some(v);if(b(v))break}return D.none()},$0=(r,l,d)=>Gf((f,b)=>b(f),Qm,r,l,d),t_=(r,l)=>Q(r.dom.childNodes,d=>l(un(d))).map(un),n2=(r,l,d)=>$0(r,l,d).isSome(),eg=(r,l,d)=>Qm(r,f=>au(f,l),d),Xr=(r,l)=>((d,f)=>{const b=d.dom;return b.parentNode?t_(un(b.parentNode),v=>!dr(d,v)&&au(v,l)):D.none()})(r),V0=(r,l)=>t_(r,d=>au(d,l)),fs=(r,l)=>Fd(l,r),ud=(r,l,d)=>Gf((f,b)=>au(f,b),eg,r,l,d),_u="aria-controls",wh=()=>{const r=_n(_u);return{id:r,link:l=>{cn(l,_u,r)},unlink:l=>{Io(l,_u)}}},Tl=(r,l)=>n2(l,d=>dr(d,r.element),Oe)||((d,f)=>(b=>$0(b,v=>{if(!ls(v))return!1;const C=Ko(v,"id");return C!==void 0&&C.indexOf(_u)>-1}).bind(v=>{const C=Ko(v,"id"),k=ht(v);return fs(k,`[${_u}="${C}"]`)}))(f).exists(b=>Tl(d,b)))(r,l),ha=(r,l,d,f,b,v,C,k=!1)=>({x:r,y:l,bubble:d,direction:f,placement:b,restriction:v,label:`${C}-${b}`,alwaysFit:k}),tg=ec([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),wv=tg.southeast,Ch=tg.southwest,Cv=tg.northeast,_h=tg.northwest,n_=tg.south,o2=tg.north,r2=tg.east,o_=tg.west,pa=(r,l)=>Ae(["left","right","top","bottom"],d=>En(l,d).map(f=>((b,v)=>{switch(v){case 1:return b.x;case 0:return b.x+b.width;case 2:return b.y;case 3:return b.y+b.height}})(r,f))),ng="layout",r_=r=>r.x,Kc=(r,l)=>r.x+r.width/2-l.width/2,dl=(r,l)=>r.x+r.width-l.width,Sh=(r,l)=>r.y-l.height,Bp=r=>r.y+r.height,s_=(r,l)=>r.y+r.height/2-l.height/2,Ns=(r,l,d)=>ha(r_(r),Bp(r),d.southeast(),wv(),"southeast",pa(r,{left:1,top:3}),ng),Ps=(r,l,d)=>ha(dl(r,l),Bp(r),d.southwest(),Ch(),"southwest",pa(r,{right:0,top:3}),ng),si=(r,l,d)=>ha(r_(r),Sh(r,l),d.northeast(),Cv(),"northeast",pa(r,{left:1,bottom:2}),ng),Fr=(r,l,d)=>ha(dl(r,l),Sh(r,l),d.northwest(),_h(),"northwest",pa(r,{right:0,bottom:2}),ng),As=(r,l,d)=>ha(Kc(r,l),Sh(r,l),d.north(),o2(),"north",pa(r,{bottom:2}),ng),Gs=(r,l,d)=>ha(Kc(r,l),Bp(r),d.south(),n_(),"south",pa(r,{top:3}),ng),z0=(r,l,d)=>ha((f=>f.x+f.width)(r),s_(r,l),d.east(),r2(),"east",pa(r,{left:0}),ng),H0=(r,l,d)=>ha(((f,b)=>f.x-b.width)(r,l),s_(r,l),d.west(),o_(),"west",pa(r,{right:1}),ng),s2=()=>[Ns,Ps,si,Fr,Gs,As,z0,H0],_v=()=>[Ps,Ns,Fr,si,Gs,As,z0,H0],i2=()=>[si,Fr,Ns,Ps,As,Gs],kh=()=>[Fr,si,Ps,Ns,As,Gs],U0=()=>[Ns,Ps,si,Fr,Gs,As],W0=()=>[Ps,Ns,Fr,si,Gs,As];var a2=Object.freeze({__proto__:null,events:r=>yo([Ot(mc(),(l,d)=>{const f=r.channels,b=Ut(f),v=d,C=((k,E)=>E.universal?k:Ht(k,P=>ct(E.channels,P)))(b,v);ft(C,k=>{const E=f[k],P=E.schema,F=Oa("channel["+k+`] data
Receiver: `+Jd(l.element),P,v.data);E.onReceive(l,F)})})])}),Sv=[Yi("channels",ev(Ho.value,Si([cd("onReceive"),ut("schema",Wl())])))];const Ol=Mi({fields:Sv,name:"receiving",active:a2});var l2=Object.freeze({__proto__:null,exhibit:(r,l)=>js({classes:[],styles:l.useFixed()?{}:{position:"relative"}})});const Wa=(r,l=!1)=>r.dom.focus({preventScroll:l}),kv=r=>r.dom.blur(),Eh=r=>{const l=ht(r).dom;return r.dom===l.activeElement},Su=(r=Fa())=>D.from(r.dom.activeElement).map(un),qs=r=>Su(ht(r)).filter(l=>r.dom.contains(l.dom)),og=(r,l)=>{const d=ht(l),f=Su(d).bind(v=>{const C=k=>dr(v,k);return C(l)?D.some(l):((k,E)=>{const P=F=>{for(let M=0;M<F.childNodes.length;M++){const V=un(F.childNodes[M]);if(E(V))return D.some(V);const Y=P(F.childNodes[M]);if(Y.isSome())return Y}return D.none()};return P(k.dom)})(l,C)}),b=r(l);return f.each(v=>{Su(d).filter(C=>dr(C,v)).fold(()=>{Wa(v)},j)}),b},c2=ec([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),u2=(r,l,d,f,b,v)=>{const C=l.rect,k=C.x-d,E=C.y-f,P=b-(k+C.width),F=v-(E+C.height),M=D.some(k),V=D.some(E),Y=D.some(P),ee=D.some(F),fe=D.none();return l.direction.fold(()=>Xi(r,M,V,fe,fe),()=>Xi(r,fe,V,Y,fe),()=>Xi(r,M,fe,fe,ee),()=>Xi(r,fe,fe,Y,ee),()=>Xi(r,M,V,fe,fe),()=>Xi(r,M,fe,fe,ee),()=>Xi(r,M,V,fe,fe),()=>Xi(r,fe,V,Y,fe))},Ev=(r,l)=>r.fold(()=>{const d=l.rect;return Xi("absolute",D.some(d.x),D.some(d.y),D.none(),D.none())},(d,f,b,v)=>u2("absolute",l,d,f,b,v),(d,f,b,v)=>u2("fixed",l,d,f,b,v)),ef=(r,l)=>{const d=Ve(Hd,l),f=r.fold(d,d,()=>{const C=ns();return Hd(l).translate(-C.left,-C.top)}),b=sl(l),v=Ic(l);return Lo(f.left,f.top,b,v)},jE=(r,l)=>l.fold(()=>r.fold(Gi,Gi,Lo),d=>r.fold(U(d),U(d),()=>{const f=Av(r,d.x,d.y);return Lo(f.left,f.top,d.width,d.height)})),Av=(r,l,d)=>{const f=ts(l,d);return r.fold(U(f),U(f),()=>{const b=ns();return f.translate(-b.left,-b.top)})};c2.none;const rg=c2.relative,i_=c2.fixed,Tv="data-alloy-placement",Ov=r=>Qo(r,Tv),K0=ec([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Fp=(r,l,d,f)=>{const b=r.bubble,v=b.offset,C=((we,ke,De)=>{const Ze=(Wt,vn)=>ke[Wt].map(In=>{const Kn=Wt==="top"||Wt==="bottom",lo=Kn?De.top:De.left,Uo=(Wt==="left"||Wt==="top"?Math.max:Math.min)(In,vn)+lo;return Kn?Uc(Uo,we.y,we.bottom):Uc(Uo,we.x,we.right)}).getOr(vn),it=Ze("left",we.x),It=Ze("top",we.y),Tt=Ze("right",we.right),kt=Ze("bottom",we.bottom);return Lo(it,It,Tt-it,kt-It)})(f,r.restriction,v),k=r.x+v.left,E=r.y+v.top,P=Lo(k,E,l,d),{originInBounds:F,sizeInBounds:M,visibleW:V,visibleH:Y}=((we,ke)=>{const{x:De,y:Ze,right:it,bottom:It}=ke,{x:Tt,y:kt,right:Wt,bottom:vn,width:In,height:Kn}=we;return{originInBounds:Tt>=De&&Tt<=it&&kt>=Ze&&kt<=It,sizeInBounds:Wt<=it&&Wt>=De&&vn<=It&&vn>=Ze,visibleW:Math.min(In,Tt>=De?it-Tt:Wt-De),visibleH:Math.min(Kn,kt>=Ze?It-kt:vn-Ze)}})(P,C),ee=F&&M,fe=ee?P:((we,ke)=>{const{x:De,y:Ze,right:it,bottom:It}=ke,{x:Tt,y:kt,width:Wt,height:vn}=we,In=Math.max(De,it-Wt),Kn=Math.max(Ze,It-vn),lo=Uc(Tt,De,In),Uo=Uc(kt,Ze,Kn),ss=Math.min(lo+Wt,it)-lo,ms=Math.min(Uo+vn,It)-Uo;return Lo(lo,Uo,ss,ms)})(P,C),pe=fe.width>0&&fe.height>0,{maxWidth:Se,maxHeight:ge}=((we,ke,De)=>{const Ze=U(ke.bottom-De.y),it=U(De.bottom-ke.y),It=((vn,In,Kn,lo)=>vn.fold(In,In,lo,lo,In,lo,Kn,Kn))(we,it,it,Ze),Tt=U(ke.right-De.x),kt=U(De.right-ke.x);return{maxWidth:((vn,In,Kn,lo)=>vn.fold(In,lo,In,lo,Kn,Kn,In,lo))(we,kt,kt,Tt),maxHeight:It}})(r.direction,fe,f),me={rect:fe,maxHeight:ge,maxWidth:Se,direction:r.direction,placement:r.placement,classes:{on:b.classesOn,off:b.classesOff},layout:r.label,testY:E};return ee||r.alwaysFit?K0.fit(me):K0.nofit(me,V,Y,pe)},j0=Te,Ka=(r,l,d)=>((f,b,v,C)=>oh(f,b,v,C,!1))(r,l,j0,d),d2=(r,l,d)=>((f,b,v,C)=>oh(f,b,v,C,!0))(r,l,j0,d),tf=Sl,Dv=["top","bottom","right","left"],dd="data-alloy-transition-timer",Rv=(r,l,d,f,b,v)=>{const C=((k,E,P)=>P.exists(F=>{const M=k.mode;return M==="all"||F[M]!==E[M]}))(f,b,v);if(C||((k,E)=>((P,F)=>We(F,M=>cl(P,M)))(k,E.classes))(r,f)){bo(r,"position",d.position);const k=ef(l,r),E=Ev(l,{...b,rect:k}),P=Ae(Dv,F=>E[F]);((F,M)=>{const V=Y=>parseFloat(Y).toFixed(3);return wr(M,(Y,ee)=>!((fe,pe,Se=oe)=>Xt(fe,pe,Se).getOr(fe.isNone()&&pe.isNone()))(F[ee].map(V),Y.map(V))).isSome()})(d,P)&&(Cl(r,P),C&&((F,M)=>{Zs(F,M.classes),Qo(F,dd).each(V=>{clearTimeout(parseInt(V,10)),Io(F,dd)}),((V,Y)=>{const ee=Pc(),fe=Pc();let pe;const Se=ke=>{var De;const Ze=(De=ke.raw.pseudoElement)!==null&&De!==void 0?De:"";return dr(ke.target,V)&&Gu(Ze)&&ct(Dv,ke.raw.propertyName)},ge=ke=>{if(H(ke)||Se(ke)){ee.clear(),fe.clear();const De=ke==null?void 0:ke.raw.type;(H(De)||De===ov())&&(clearTimeout(pe),Io(V,dd),hc(V,Y.classes))}},me=Ka(V,x0(),ke=>{Se(ke)&&(me.unbind(),ee.set(Ka(V,ov(),ge)),fe.set(Ka(V,KC(),ge)))}),we=(ke=>{const De=Tt=>{const kt=Ts(ke,Tt).split(/\s*,\s*/);return Ht(kt,xl)},Ze=Tt=>{if(h(Tt)&&/^[\d.]+/.test(Tt)){const kt=parseFloat(Tt);return Zu(Tt,"ms")?kt:1e3*kt}return 0},it=De("transition-delay"),It=De("transition-duration");return nn(It,(Tt,kt,Wt)=>{const vn=Ze(it[Wt])+Ze(kt);return Math.max(Tt,vn)},0)})(V);requestAnimationFrame(()=>{pe=setTimeout(ge,we+17),cn(V,dd,pe)})})(F,M)})(r,f),$d(r))}else hc(r,f.classes)},Iv=(r,l)=>{((d,f)=>{const b=vp.max(d,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);bo(d,"max-height",b+"px")})(r,Math.floor(l))},sg=U((r,l)=>{Iv(r,l),rl(r,{"overflow-x":"hidden","overflow-y":"auto"})}),Ah=U((r,l)=>{Iv(r,l)}),jc=(r,l,d)=>r[l]===void 0?d:r[l],Nv=(r,l,d,f)=>{const b=((v,C,k,E)=>{Er(C,"max-height"),Er(C,"max-width");const P={width:sl(F=C),height:Ic(F)};var F;return((M,V,Y,ee,fe,pe)=>{const Se=ee.width,ge=ee.height,me=(we,ke,De,Ze,it)=>{const It=we(Y,ee,fe,M,pe),Tt=Fp(It,Se,ge,pe);return Tt.fold(U(Tt),(kt,Wt,vn,In)=>(it===In?vn>Ze||Wt>De:!it&&In)?Tt:K0.nofit(ke,De,Ze,it))};return nn(V,(we,ke)=>{const De=Ve(me,ke);return we.fold(U(we),De)},K0.nofit({rect:Y,maxHeight:ee.height,maxWidth:ee.width,direction:wv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:Y.y},-1,-1,!1)).fold(de,de)})(C,E.preference,v,P,k,E.bounds)})(r,l,d,f);return((v,C,k)=>{const E=Ev(k.origin,C);k.transition.each(P=>{Rv(v,k.origin,E,P,C,k.lastPlacement)}),uv(v,E)})(l,b,f),((v,C)=>{((k,E)=>{cn(k,Tv,E)})(v,C.placement)})(l,b),((v,C)=>{const k=C.classes;hc(v,k.off),Zs(v,k.on)})(l,b),((v,C,k)=>{(0,k.maxHeightFunction)(v,C.maxHeight)})(l,b,f),((v,C,k)=>{(0,k.maxWidthFunction)(v,C.maxWidth)})(l,b,f),{layout:b.layout,placement:b.placement}},ZE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],pc=(r,l,d,f=1)=>{const b=r*f,v=l*f,C=E=>En(d,E).getOr([]),k=(E,P,F)=>{const M=xe(ZE,F);return{offset:ts(E,P),classesOn:pn(F,C),classesOff:pn(M,C)}};return{southeast:()=>k(-r,l,["top","alignLeft"]),southwest:()=>k(r,l,["top","alignRight"]),south:()=>k(-r/2,l,["top","alignCentre"]),northeast:()=>k(-r,-l,["bottom","alignLeft"]),northwest:()=>k(r,-l,["bottom","alignRight"]),north:()=>k(-r/2,-l,["bottom","alignCentre"]),east:()=>k(r,-l/2,["valignCentre","left"]),west:()=>k(-r,-l/2,["valignCentre","right"]),insetNortheast:()=>k(b,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-b,v,["top","alignRight","inset"]),insetNorth:()=>k(-b/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(b,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-b,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-b/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-b,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(b,-v/2,["valignCentre","left","inset"])}},nf=()=>pc(0,0,{}),Zc=de,f2=(r,l)=>d=>Ei(d)==="rtl"?l:r,Ei=r=>Ts(r,"direction")==="rtl"?"rtl":"ltr";var Gc;(function(r){r.TopToBottom="toptobottom",r.BottomToTop="bottomtotop"})(Gc||(Gc={}));const Dl="data-alloy-vertical-dir",GE=r=>n2(r,l=>ls(l)&&Ko(l,"data-alloy-vertical-dir")===Gc.BottomToTop),qf=()=>Ds("layouts",[Lt("onLtr"),Lt("onRtl"),qo("onBottomLtr"),qo("onBottomRtl")]),of=(r,l,d,f,b,v,C)=>{const k=C.map(GE).getOr(!1),E=l.layouts.map(V=>V.onLtr(r)),P=l.layouts.map(V=>V.onRtl(r)),F=k?l.layouts.bind(V=>V.onBottomLtr.map(Y=>Y(r))).or(E).getOr(b):E.getOr(d),M=k?l.layouts.bind(V=>V.onBottomRtl.map(Y=>Y(r))).or(P).getOr(v):P.getOr(f);return f2(F,M)(r)};var $p=[Lt("hotspot"),qo("bubble"),ut("overrides",{}),qf(),Yr("placement",(r,l,d)=>{const f=l.hotspot,b=ef(d,f.element),v=of(r.element,l,U0(),W0(),i2(),kh(),D.some(l.hotspot.element));return D.some(Zc({anchorBox:b,bubble:l.bubble.getOr(nf()),overrides:l.overrides,layouts:v}))})],ig=[Lt("x"),Lt("y"),ut("height",0),ut("width",0),ut("bubble",nf()),ut("overrides",{}),qf(),Yr("placement",(r,l,d)=>{const f=Av(d,l.x,l.y),b=Lo(f.left,f.top,l.width,l.height),v=of(r.element,l,s2(),_v(),s2(),_v(),D.none());return D.some(Zc({anchorBox:b,bubble:l.bubble,overrides:l.overrides,layouts:v}))})];const tc=ec([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Z0=r=>r.fold(de,(l,d,f)=>l.translate(-d,-f)),G0=r=>r.fold(de,de),Pv=r=>nn(r,(l,d)=>l.translate(d.left,d.top),ts(0,0)),q0=r=>{const l=Le(r,G0);return Pv(l)},a_=tc.screen,Lv=tc.absolute,rf=(r,l,d)=>{const f=ui(r.element),b=ns(f),v=((C,k,E)=>{const P=lu(E.root).dom;return D.from(P.frameElement).map(un).filter(F=>{const M=ui(F),V=ui(C.element);return dr(M,V)}).map(Hl)})(r,0,d).getOr(b);return Lv(v,b.left,b.top)},Mv=(r,l,d,f)=>{const b=a_(ts(r,l));return D.some(((v,C,k)=>({point:v,width:C,height:k}))(b,d,f))},Th=(r,l,d,f,b)=>r.map(v=>{const C=[l,v.point],k=(E=()=>q0(C),P=()=>q0(C),F=()=>(me=>{const we=Le(me,Z0);return Pv(we)})(C),f.fold(E,P,F));var E,P,F;const M=(fe=k.left,pe=k.top,Se=v.width,ge=v.height,{x:fe,y:pe,width:Se,height:ge}),V=d.showAbove?i2():U0(),Y=d.showAbove?kh():W0(),ee=of(b,d,V,Y,V,Y,D.none());var fe,pe,Se,ge;return Zc({anchorBox:M,bubble:d.bubble.getOr(nf()),overrides:d.overrides,layouts:ee})});var Oh=[Lt("node"),Lt("root"),qo("bubble"),qf(),ut("overrides",{}),ut("showAbove",!1),Yr("placement",(r,l,d)=>{const f=rf(r,0,l);return l.node.filter(mn).bind(b=>{const v=b.dom.getBoundingClientRect(),C=Mv(v.left,v.top,v.width,v.height),k=l.node.getOr(r.element);return Th(C,f,l,d,k)})})];const Yf=(r,l,d,f)=>({start:r,soffset:l,finish:d,foffset:f}),Xf=ec([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Bv=(Xf.before,Xf.on,Xf.after,r=>r.fold(de,de,de)),Jf=ec([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Qf={domRange:Jf.domRange,relative:Jf.relative,exact:Jf.exact,exactFromRange:r=>Jf.exact(r.start,r.soffset,r.finish,r.foffset),getWin:r=>{const l=(d=>d.match({domRange:f=>un(f.startContainer),relative:(f,b)=>Bv(f),exact:(f,b,v,C)=>f}))(r);return lu(l)},range:Yf},em=(r,l,d)=>{const f=r.document.createRange();var b;return b=f,l.fold(v=>{b.setStartBefore(v.dom)},(v,C)=>{b.setStart(v.dom,C)},v=>{b.setStartAfter(v.dom)}),((v,C)=>{C.fold(k=>{v.setEndBefore(k.dom)},(k,E)=>{v.setEnd(k.dom,E)},k=>{v.setEndAfter(k.dom)})})(f,d),f},Dh=(r,l,d,f,b)=>{const v=r.document.createRange();return v.setStart(l.dom,d),v.setEnd(f.dom,b),v},Y0=r=>({left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height}),Vp=ec([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),X0=(r,l,d)=>l(un(d.startContainer),d.startOffset,un(d.endContainer),d.endOffset),m2=(r,l)=>((d,f)=>{const b=((v,C)=>C.match({domRange:k=>({ltr:U(k),rtl:D.none}),relative:(k,E)=>({ltr:ia(()=>em(v,k,E)),rtl:ia(()=>D.some(em(v,E,k)))}),exact:(k,E,P,F)=>({ltr:ia(()=>Dh(v,k,E,P,F)),rtl:ia(()=>D.some(Dh(v,P,F,k,E)))})}))(d,f);return((v,C)=>{const k=C.ltr();return k.collapsed?C.rtl().filter(E=>E.collapsed===!1).map(E=>Vp.rtl(un(E.endContainer),E.endOffset,un(E.startContainer),E.startOffset)).getOrThunk(()=>X0(0,Vp.ltr,k)):X0(0,Vp.ltr,k)})(0,b)})(r,l).match({ltr:(d,f,b,v)=>{const C=r.document.createRange();return C.setStart(d.dom,f),C.setEnd(b.dom,v),C},rtl:(d,f,b,v)=>{const C=r.document.createRange();return C.setStart(b.dom,v),C.setEnd(d.dom,f),C}});Vp.ltr,Vp.rtl;const zp=(r,l,d)=>Ht(((f,b)=>{const v=Z(b)?b:Oe;let C=f.dom;const k=[];for(;C.parentNode!==null&&C.parentNode!==void 0;){const E=C.parentNode,P=un(E);if(k.push(P),v(P)===!0)break;C=E}return k})(r,d),l),Ai=(r,l)=>((d,f)=>{const b=f===void 0?document:f.dom;return kf(b)?[]:Le(b.querySelectorAll(d),un)})(l,r),g2=r=>{if(r.rangeCount>0){const l=r.getRangeAt(0),d=r.getRangeAt(r.rangeCount-1);return D.some(Yf(un(l.startContainer),l.startOffset,un(d.endContainer),d.endOffset))}return D.none()},l_=r=>{if(r.anchorNode===null||r.focusNode===null)return g2(r);{const l=un(r.anchorNode),d=un(r.focusNode);return((f,b,v,C)=>{const k=((P,F,M,V)=>{const Y=ui(P).dom.createRange();return Y.setStart(P.dom,F),Y.setEnd(M.dom,V),Y})(f,b,v,C),E=dr(f,v)&&b===C;return k.collapsed&&!E})(l,r.anchorOffset,d,r.focusOffset)?D.some(Yf(l,r.anchorOffset,d,r.focusOffset)):g2(r)}},h2=(r,l)=>(d=>{const f=d.getClientRects(),b=f.length>0?f[0]:d.getBoundingClientRect();return b.width>0||b.height>0?D.some(b).map(Y0):D.none()})(m2(r,l)),p2=((r,l)=>{const d=f=>r(f)?D.from(f.dom.nodeValue):D.none();return{get:f=>{if(!r(f))throw new Error("Can only get text value of a text node");return d(f).getOr("")},getOption:d,set:(f,b)=>{if(!r(f))throw new Error("Can only set raw text value of a text node");f.dom.nodeValue=b}}})(Sa),tm=(r,l)=>({element:r,offset:l}),J0=(r,l)=>Sa(r)?tm(r,l):((d,f)=>{const b=Mr(d);if(b.length===0)return tm(d,f);if(f<b.length)return tm(b[f],0);{const v=b[b.length-1],C=Sa(v)?(k=>p2.get(k))(v).length:Mr(v).length;return tm(v,C)}})(r,l),Fv=r=>r.foffset!==void 0,b2=(r,l)=>l.getSelection.getOrThunk(()=>()=>(d=>(f=>D.from(f.getSelection()))(d).filter(f=>f.rangeCount>0).bind(l_))(r))().map(d=>{if(Fv(d)){const f=J0(d.start,d.soffset),b=J0(d.finish,d.foffset);return Qf.range(f.element,f.offset,b.element,b.offset)}return d});var qE=[qo("getSelection"),Lt("root"),qo("bubble"),qf(),ut("overrides",{}),ut("showAbove",!1),Yr("placement",(r,l,d)=>{const f=lu(l.root).dom,b=rf(r,0,l),v=b2(f,l).bind(k=>{if(Fv(k))return((P,F)=>(M=>{const V=M.getBoundingClientRect();return V.width>0||V.height>0?D.some(V).map(Y0):D.none()})(m2(P,F)))(f,Qf.exactFromRange(k)).orThunk(()=>{const P=qu("\uFEFF");zd(k.start,P);const F=h2(f,Qf.exact(P,0,P,1));return Zi(P),F}).bind(P=>Mv(P.left,P.top,P.width,P.height));{const E=eo(k,F=>F.dom.getBoundingClientRect()),P={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return Mv(P.left,P.top,P.right-P.left,P.bottom-P.top)}}),C=b2(f,l).bind(k=>Fv(k)?ls(k.start)?D.some(k.start):Ea(k.start):D.some(k.firstCell)).getOr(r.element);return Th(v,b,l,d,C)})];const nm="link-layout",$v=r=>r.x+r.width,c_=(r,l)=>r.x-l.width,u_=(r,l)=>r.y-l.height+r.height,ku=r=>r.y,v2=(r,l,d)=>ha($v(r),ku(r),d.southeast(),wv(),"southeast",pa(r,{left:0,top:2}),nm),Q0=(r,l,d)=>ha(c_(r,l),ku(r),d.southwest(),Ch(),"southwest",pa(r,{right:1,top:2}),nm),d_=(r,l,d)=>ha($v(r),u_(r,l),d.northeast(),Cv(),"northeast",pa(r,{left:0,bottom:3}),nm),Rh=(r,l,d)=>ha(c_(r,l),u_(r,l),d.northwest(),_h(),"northwest",pa(r,{right:1,bottom:3}),nm),Hp=()=>[v2,Q0,d_,Rh],Vv=()=>[Q0,v2,Rh,d_];var f_=[Lt("item"),qf(),ut("overrides",{}),Yr("placement",(r,l,d)=>{const f=ef(d,l.item.element),b=of(r.element,l,Hp(),Vv(),Hp(),Vv(),D.none());return D.some(Zc({anchorBox:f,bubble:nf(),overrides:l.overrides,layouts:b}))})],Eu=bi("type",{selection:qE,node:Oh,hotspot:$p,submenu:f_,makeshift:ig});const ag=[ll("classes",ki),Mc("mode","all",["all","layout","placement"])],zv=[ut("useFixed",Oe),qo("getBounds")],Hv=[Yi("anchor",Eu),Ds("transition",ag)],ey=(r,l,d,f,b,v)=>{const C=Oa("placement.info",Gn(Hv),b),k=C.anchor,E=f.element,P=d.get(f.uid);og(()=>{bo(E,"position","fixed");const F=oi(E,"visibility");bo(E,"visibility","hidden");const M=l.useFixed()?(()=>{const V=document.documentElement;return i_(0,0,V.clientWidth,V.clientHeight)})():(V=>{const Y=Hl(V.element),ee=V.element.dom.getBoundingClientRect();return rg(Y.left,Y.top,ee.width,ee.height)})(r);k.placement(r,k,M).each(V=>{const Y=v.orThunk(()=>l.getBounds.map(rt)),ee=((fe,pe,Se,ge,me,we)=>((ke,De,Ze,it,It,Tt,kt,Wt)=>{const vn=jc(kt,"maxHeightFunction",sg()),In=jc(kt,"maxWidthFunction",j),Kn=ke.anchorBox,lo=ke.origin,Uo={bounds:jE(lo,Tt),origin:lo,preference:it,maxHeightFunction:vn,maxWidthFunction:In,lastPlacement:It,transition:Wt};return Nv(Kn,De,Ze,Uo)})(((ke,De)=>((Ze,it)=>({anchorBox:Ze,origin:it}))(ke,De))(pe.anchorBox,fe),ge.element,pe.bubble,pe.layouts,me,Se,pe.overrides,we))(M,V,Y,f,P,C.transition);d.set(f.uid,ee)}),F.fold(()=>{Er(E,"visibility")},V=>{bo(E,"visibility",V)}),oi(E,"left").isNone()&&oi(E,"top").isNone()&&oi(E,"right").isNone()&&oi(E,"bottom").isNone()&&ci(oi(E,"position"),"fixed")&&Er(E,"position")},E)};var Uv=Object.freeze({__proto__:null,position:(r,l,d,f,b)=>{const v=D.none();ey(r,l,d,f,b,v)},positionWithinBounds:ey,getMode:(r,l,d)=>l.useFixed()?"fixed":"absolute",reset:(r,l,d,f)=>{const b=f.element;ft(["position","left","right","top","bottom"],v=>Er(b,v)),(v=>{Io(v,Tv)})(b),d.clear(f.uid)}});const ba=Mi({fields:zv,name:"positioning",active:l2,apis:Uv,state:Object.freeze({__proto__:null,init:()=>{let r={};return Li({readState:()=>r,clear:l=>{W(l)?delete r[l]:r={}},set:(l,d)=>{r[l]=d},get:l=>En(r,l)})}})}),ty=r=>r.getSystem().isConnected(),lg=r=>{No(r,Fc());const l=r.components();ft(l,lg)},cg=r=>{const l=r.components();ft(l,cg),No(r,ma())},Wv=(r,l)=>{r.getSystem().addToWorld(l),mn(r.element)&&cg(l)},ny=r=>{lg(r),r.getSystem().removeFromWorld(r)},Ih=(r,l)=>{Ba(r.element,l.element)},om=(r,l)=>{y2(r,l,Ba)},y2=(r,l,d)=>{r.getSystem().addToWorld(l),d(r.element,l.element),mn(r.element)&&cg(l),r.syncComponents()},oy=r=>{lg(r),Zi(r.element),r.getSystem().removeFromWorld(r)},fl=r=>{const l=ka(r.element).bind(d=>r.getSystem().getByDom(d).toOptional());oy(r),l.each(d=>{d.syncComponents()})},rm=r=>{const l=r.components();ft(l,oy),us(r.element),r.syncComponents()},x2=(r,l)=>{Up(r,l,Ba)},St=(r,l)=>{Up(r,l,rh)},Up=(r,l,d)=>{d(r,l.element);const f=Mr(l.element);ft(f,b=>{l.getByDom(b).each(cg)})},YE=r=>{const l=Mr(r.element);ft(l,d=>{r.getByDom(d).each(lg)}),Zi(r.element)},m_=(r,l,d,f)=>{d.get().each(C=>{rm(r)});const b=l.getAttachPoint(r);om(b,r);const v=r.getSystem().build(f);return om(r,v),d.set(v),v},ry=(r,l,d,f)=>{const b=m_(r,l,d,f);return l.onOpen(r,b),b},Au=(r,l,d)=>{d.get().each(f=>{rm(r),fl(r),l.onClose(r,f),d.clear()})},sy=(r,l,d)=>d.isOpen(),Kv=(r,l,d)=>{const f=l.getAttachPoint(r);bo(r.element,"position",ba.getMode(f)),((b,v,C,k)=>{oi(b.element,v).fold(()=>{Io(b.element,C)},E=>{cn(b.element,C,E)}),bo(b.element,v,"hidden")})(r,"visibility",l.cloakVisibilityAttr)},w2=(r,l,d)=>{(f=>kn(["top","left","right","bottom"],b=>oi(f,b).isSome()))(r.element)||Er(r.element,"position"),((f,b,v)=>{Qo(f.element,v).fold(()=>Er(f.element,b),C=>bo(f.element,b,C))})(r,"visibility",l.cloakVisibilityAttr)};var C2=Object.freeze({__proto__:null,cloak:Kv,decloak:w2,open:ry,openWhileCloaked:(r,l,d,f,b)=>{Kv(r,l),ry(r,l,d,f),b(),w2(r,l)},close:Au,isOpen:sy,isPartOf:(r,l,d,f)=>sy(0,0,d)&&d.get().exists(b=>l.isPartOf(r,b,f)),getState:(r,l,d)=>d.get(),setContent:(r,l,d,f)=>d.get().map(()=>m_(r,l,d,f))}),XE=Object.freeze({__proto__:null,events:(r,l)=>yo([Ot(sv(),(d,f)=>{Au(d,r,l)})])}),y=[nr("onOpen"),nr("onClose"),Lt("isPartOf"),Lt("getAttachPoint"),ut("cloakVisibilityAttr","data-precloak-visibility")],S=Object.freeze({__proto__:null,init:()=>{const r=Or(),l=U("not-implemented");return Li({readState:l,isOpen:r.isSet,clear:r.clear,set:r.set,get:r.get})}});const O=Mi({fields:y,name:"sandboxing",active:XE,apis:C2,state:S}),B=U("dismiss.popups"),z=U("reposition.popups"),K=U("mouse.released"),re=Si([ut("isExtraPart",Oe),Ds("fireEventInstead",[ut("event",uh())])]),ue=r=>{const l=Oa("Dismissal",re,r);return{[B()]:{schema:Si([Lt("target")]),onReceive:(d,f)=>{O.isOpen(d)&&(O.isPartOf(d,f.target)||l.isExtraPart(d,f.target)||l.fireEventInstead.fold(()=>O.close(d),b=>No(d,b.event)))}}}},_e=Si([Ds("fireEventInstead",[ut("event",Vf())]),za("doReposition")]),Fe=r=>{const l=Oa("Reposition",_e,r);return{[z()]:{onReceive:d=>{O.isOpen(d)&&l.fireEventInstead.fold(()=>l.doReposition(d),f=>No(d,f.event))}}}},Je=(r,l,d)=>{l.store.manager.onLoad(r,l,d)},Pe=(r,l,d)=>{l.store.manager.onUnload(r,l,d)};var He=Object.freeze({__proto__:null,onLoad:Je,onUnload:Pe,setValue:(r,l,d,f)=>{l.store.manager.setValue(r,l,d,f)},getValue:(r,l,d)=>l.store.manager.getValue(r,l,d),getState:(r,l,d)=>d}),Ke=Object.freeze({__proto__:null,events:(r,l)=>{const d=r.resetOnDom?[as((f,b)=>{Je(f,r,l)}),ld((f,b)=>{Pe(f,r,l)})]:[av(r,l,Je)];return yo(d)}});const at=()=>{const r=Hn(null);return Li({set:r.set,get:r.get,isNotSet:()=>r.get()===null,clear:()=>{r.set(null)},readState:()=>({mode:"memory",value:r.get()})})},dt=()=>{const r=Hn({}),l=Hn({});return Li({readState:()=>({mode:"dataset",dataByValue:r.get(),dataByText:l.get()}),lookup:d=>En(r.get(),d).orThunk(()=>En(l.get(),d)),update:d=>{const f=r.get(),b=l.get(),v={},C={};ft(d,k=>{v[k.value]=k,En(k,"meta").each(E=>{En(E,"text").each(P=>{C[P]=k})})}),r.set({...f,...v}),l.set({...b,...C})},clear:()=>{r.set({}),l.set({})}})};var Pt=Object.freeze({__proto__:null,memory:at,dataset:dt,manual:()=>Li({readState:j}),init:r=>r.store.manager.state(r)});const Bt=(r,l,d,f)=>{const b=l.store;d.update([f]),b.setValue(r,f),l.onSetValue(r,f)};var Nt=[qo("initialValue"),Lt("getFallbackEntry"),Lt("getDataKey"),Lt("setValue"),Yr("manager",{setValue:Bt,getValue:(r,l,d)=>{const f=l.store,b=f.getDataKey(r);return d.lookup(b).getOrThunk(()=>f.getFallbackEntry(b))},onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{Bt(r,l,d,f)})},onUnload:(r,l,d)=>{d.clear()},state:dt})],$t=[Lt("getValue"),ut("setValue",j),qo("initialValue"),Yr("manager",{setValue:(r,l,d,f)=>{l.store.setValue(r,f),l.onSetValue(r,f)},getValue:(r,l,d)=>l.store.getValue(r),onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{l.store.setValue(r,f)})},onUnload:j,state:zc.init})],Jt=[qo("initialValue"),Yr("manager",{setValue:(r,l,d,f)=>{d.set(f),l.onSetValue(r,f)},getValue:(r,l,d)=>d.get(),onLoad:(r,l,d)=>{l.store.initialValue.each(f=>{d.isNotSet()&&d.set(f)})},onUnload:(r,l,d)=>{d.clear()},state:at})],on=[Ha("store",{mode:"memory"},bi("mode",{memory:Jt,manual:$t,dataset:Nt})),nr("onSetValue"),ut("resetOnDom",!1)];const mt=Mi({fields:on,name:"representing",active:Ke,apis:He,extra:{setValueFrom:(r,l)=>{const d=mt.getValue(l);mt.setValue(r,d)}},state:Pt}),Sn=(r,l)=>Ua(r,{},Le(l,d=>{return f=d.name(),b="Cannot configure "+d.name()+" for "+r,fi(f,f,{tag:"option",process:{}},Qu(v=>il("The field: "+f+" is forbidden. "+b)));var f,b}).concat([qi("dump",de)])),to=r=>r.dump,Eo=(r,l)=>({...qt(l),...r.dump}),io=Sn,no=Eo,ko="placeholder",Yo=ec([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ii=r=>uo(r,"uiType"),Ra=(r,l,d,f)=>((b,v,C,k)=>ii(C)&&C.uiType===ko?((E,P,F,M)=>E.exists(V=>V!==F.owner)?Yo.single(!0,U(F)):En(M,F.name).fold(()=>{throw new Error("Unknown placeholder component: "+F.name+`
Known: [`+Ut(M)+`]
Namespace: `+E.getOr("none")+`
Spec: `+JSON.stringify(F,null,2))},V=>V.replace()))(b,0,C,k):Yo.single(!1,U(C)))(r,0,d,f).fold((b,v)=>{const C=ii(d)?v(l,d.config,d.validated):v(l),k=En(C,"components").getOr([]),E=pn(k,P=>Ra(r,l,P,f));return[{...C,components:E}]},(b,v)=>{if(ii(d)){const C=v(l,d.config,d.validated);return d.validated.preprocess.getOr(de)(C)}return v(l)}),Qi=Yo.single,bc=Yo.multiple,ug=U(ko),Ia=ec([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fd=ut("factory",{sketch:de}),Wp=ut("schema",[]),sm=Lt("name"),Kp=fi("pname","pname",ih(r=>"<alloy."+_n(r.name)+">"),Wl()),iy=qi("schema",()=>[qo("preprocess")]),im=ut("defaults",U({})),g_=ut("overrides",U({})),vF=Gn([fd,Wp,sm,Kp,im,g_]),yF=Gn([fd,Wp,sm,im,g_]),xR=Gn([fd,Wp,sm,Kp,im,g_]),An=Gn([fd,iy,sm,Lt("unit"),Kp,im,g_]),_2=r=>r.fold(D.some,D.none,D.some,D.some),JE=r=>{const l=d=>d.name;return r.fold(l,l,l,l)},h_=(r,l)=>d=>{const f=Oa("Converting part type",l,d);return r(f)},Rl=h_(Ia.required,vF),sf=h_(Ia.external,yF),Tu=h_(Ia.optional,xR),p_=h_(Ia.group,An),QE=U("entirety");var wR=Object.freeze({__proto__:null,required:Rl,external:sf,optional:Tu,group:p_,asNamedPart:_2,name:JE,asCommon:r=>r.fold(de,de,de,de),original:QE});const eA=(r,l,d,f)=>Br(l.defaults(r,d,f),d,{uid:r.partUids[l.name]},l.overrides(r,d,f)),ml=(r,l)=>{const d={};return ft(l,f=>{_2(f).each(b=>{const v=S2(r,b.pname);d[b.name]=C=>{const k=Oa("Part: "+b.name+" in "+r,Gn(b.schema),C);return{...v,config:C,validated:k}}})}),d},S2=(r,l)=>({uiType:ug(),owner:r,name:l}),tA=(r,l,d)=>({uiType:ug(),owner:r,name:l,config:d,validated:{}}),CR=r=>pn(r,l=>l.fold(D.none,D.some,D.none,D.none).map(d=>Lc(d.name,d.schema.concat([vv(QE())]))).toArray()),_R=r=>Le(r,JE),nA=(r,l,d)=>((f,b,v)=>{const C={},k={};return ft(v,E=>{E.fold(P=>{C[P.pname]=Qi(!0,(F,M,V)=>P.factory.sketch(eA(F,P,M,V)))},P=>{const F=b.parts[P.name];k[P.name]=U(P.factory.sketch(eA(b,P,F[QE()]),F))},P=>{C[P.pname]=Qi(!1,(F,M,V)=>P.factory.sketch(eA(F,P,M,V)))},P=>{C[P.pname]=bc(!0,(F,M,V)=>{const Y=F[P.name];return Le(Y,ee=>P.factory.sketch(Br(P.defaults(F,ee,V),ee,P.overrides(F,ee))))})})}),{internals:U(C),externals:U(k)}})(0,l,d),oA=(r,l,d)=>((f,b,v,C)=>{const k=eo(C,(P,F)=>((M,V)=>{let Y=!1;return{name:U(M),required:()=>V.fold((ee,fe)=>ee,(ee,fe)=>ee),used:()=>Y,replace:()=>{if(Y)throw new Error("Trying to use the same placeholder more than once: "+M);return Y=!0,V}}})(F,P)),E=((P,F,M,V)=>pn(M,Y=>Ra(P,F,Y,V)))(f,b,v,k);return qn(k,P=>{if(P.used()===!1&&P.required())throw new Error("Placeholder: "+P.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(b.components,null,2))}),E})(D.some(r),l,l.components,d),Jr=(r,l,d)=>{const f=l.partUids[d];return r.getSystem().getByUid(f).toOptional()},Nh=(r,l,d)=>Jr(r,l,d).getOrDie("Could not find part: "+d),SR=(r,l,d)=>{const f={},b=l.partUids,v=r.getSystem();return ft(d,C=>{f[C]=U(v.getByUid(b[C]))}),f},rA=(r,l)=>{const d=r.getSystem();return eo(l.partUids,(f,b)=>U(d.getByUid(f)))},kR=r=>Ut(r.partUids),sA=(r,l,d)=>{const f={},b=l.partUids,v=r.getSystem();return ft(d,C=>{f[C]=U(v.getByUid(b[C]).getOrDie())}),f},ER=(r,l)=>{const d=_R(l);return Zd(Le(d,f=>({key:f,value:r+"-"+f})))},iA=r=>fi("partUids","partUids",tr(l=>ER(l.uid,r)),Wl());var xF=Object.freeze({__proto__:null,generate:ml,generateOne:tA,schemas:CR,names:_R,substitutes:nA,components:oA,defaultUids:ER,defaultUidsSchema:iA,getAllParts:rA,getAllPartNames:kR,getPart:Jr,getPartOrDie:Nh,getParts:SR,getPartsOrDie:sA});const AR=(r,l,d,f,b)=>{const v=((C,k)=>(C.length>0?[Lc("parts",C)]:[]).concat([Lt("uid"),ut("dom",{}),ut("components",[]),vv("originalSpec"),ut("debug.sketcher",{})]).concat(k))(f,b);return Oa(r+" [SpecSchema]",Si(v.concat(l)),d)},k2=(r,l,d,f,b)=>{const v=aA(b),C=CR(d),k=iA(d),E=AR(r,l,v,C,[k]),P=nA(0,E,d);return f(E,oA(r,E,P.internals()),v,P.externals())},aA=r=>(l=>uo(l,"uid"))(r)?r:{...r,uid:Wc("uid")},wF=Si([Lt("name"),Lt("factory"),Lt("configFields"),ut("apis",{}),ut("extraApis",{})]),TR=Si([Lt("name"),Lt("factory"),Lt("configFields"),Lt("partFields"),ut("apis",{}),ut("extraApis",{})]),Ou=r=>{const l=Oa("Sketcher for "+r.name,wF,r),d=eo(l.apis,L0),f=eo(l.extraApis,(b,v)=>gc(b,v));return{name:l.name,configFields:l.configFields,sketch:b=>((v,C,k,E)=>{const P=aA(E);return k(AR(v,C,P,[],[]),P)})(l.name,l.configFields,l.factory,b),...d,...f}},Kl=r=>{const l=Oa("Sketcher for "+r.name,TR,r),d=ml(l.name,l.partFields),f=eo(l.apis,L0),b=eo(l.extraApis,(v,C)=>gc(v,C));return{name:l.name,partFields:l.partFields,configFields:l.configFields,sketch:v=>k2(l.name,l.configFields,l.partFields,l.factory,v),parts:d,...f,...b}},ay=r=>iu("input")(r)&&Ko(r,"type")!=="radio"||iu("textarea")(r);var OR=Object.freeze({__proto__:null,getCurrent:(r,l,d)=>l.find(r)});const CF=[Lt("find")],sr=Mi({fields:CF,name:"composing",apis:OR}),DR=["input","button","textarea","select"],RR=(r,l,d)=>{(l.disabled()?E2:cA)(r,l)},lA=(r,l)=>l.useNative===!0&&ct(DR,nl(r.element)),IR=r=>{cn(r.element,"disabled","disabled")},_F=r=>{Io(r.element,"disabled")},ly=r=>{cn(r.element,"aria-disabled","true")},SF=r=>{cn(r.element,"aria-disabled","false")},E2=(r,l,d)=>{l.disableClass.each(f=>{Es(r.element,f)}),(lA(r,l)?IR:ly)(r),l.onDisabled(r)},cA=(r,l,d)=>{l.disableClass.each(f=>{Is(r.element,f)}),(lA(r,l)?_F:SF)(r),l.onEnabled(r)},cy=(r,l)=>lA(r,l)?(d=>Bs(d.element,"disabled"))(r):(d=>Ko(d.element,"aria-disabled")==="true")(r);var kF=Object.freeze({__proto__:null,enable:cA,disable:E2,isDisabled:cy,onLoad:RR,set:(r,l,d,f)=>{(f?E2:cA)(r,l)}}),EF=Object.freeze({__proto__:null,exhibit:(r,l)=>js({classes:l.disabled()?l.disableClass.toArray():[]}),events:(r,l)=>yo([Tp(El(),(d,f)=>cy(d,r)),av(r,l,RR)])}),AF=[os("disabled",Oe),ut("useNative",!0),qo("disableClass"),nr("onDisabled"),nr("onEnabled")];const ao=Mi({fields:AF,name:"disabling",active:EF,apis:kF}),NR=(r,l,d,f)=>{const b=Ai(r.element,"."+l.highlightClass);ft(b,v=>{kn(f,C=>dr(C.element,v))||(Is(v,l.highlightClass),r.getSystem().getByDom(v).each(C=>{l.onDehighlight(r,C),No(C,zf())}))})},jv=(r,l,d,f)=>{NR(r,l,0,[f]),uA(r,l,d,f)||(Es(f.element,l.highlightClass),l.onHighlight(r,f),No(f,Px()))},uA=(r,l,d,f)=>cl(f.element,l.highlightClass),PR=(r,l,d)=>fs(r.element,"."+l.itemClass).bind(f=>r.getSystem().getByDom(f).toOptional()),LR=(r,l,d)=>{const f=Ai(r.element,"."+l.itemClass);return(f.length>0?D.some(f[f.length-1]):D.none()).bind(b=>r.getSystem().getByDom(b).toOptional())},MR=(r,l,d,f)=>{const b=Ai(r.element,"."+l.itemClass);return co(b,v=>cl(v,l.highlightClass)).bind(v=>{const C=Xm(v,f,0,b.length-1);return r.getSystem().getByDom(b[C]).toOptional()})},BR=(r,l,d)=>{const f=Ai(r.element,"."+l.itemClass);return tl(Le(f,b=>r.getSystem().getByDom(b).toOptional()))};var TF=Object.freeze({__proto__:null,dehighlightAll:(r,l,d)=>NR(r,l,0,[]),dehighlight:(r,l,d,f)=>{uA(r,l,d,f)&&(Is(f.element,l.highlightClass),l.onDehighlight(r,f),No(f,zf()))},highlight:jv,highlightFirst:(r,l,d)=>{PR(r,l).each(f=>{jv(r,l,d,f)})},highlightLast:(r,l,d)=>{LR(r,l).each(f=>{jv(r,l,d,f)})},highlightAt:(r,l,d,f)=>{((b,v,C,k)=>{const E=Ai(b.element,"."+v.itemClass);return D.from(E[k]).fold(()=>Ho.error(new Error("No element found with index "+k)),b.getSystem().getByDom)})(r,l,0,f).fold(b=>{throw b},b=>{jv(r,l,d,b)})},highlightBy:(r,l,d,f)=>{const b=BR(r,l);Q(b,f).each(v=>{jv(r,l,d,v)})},isHighlighted:uA,getHighlighted:(r,l,d)=>fs(r.element,"."+l.highlightClass).bind(f=>r.getSystem().getByDom(f).toOptional()),getFirst:PR,getLast:LR,getPrevious:(r,l,d)=>MR(r,l,0,-1),getNext:(r,l,d)=>MR(r,l,0,1),getCandidates:BR}),FR=[Lt("highlightClass"),Lt("itemClass"),nr("onHighlight"),nr("onDehighlight")];const Ar=Mi({fields:FR,name:"highlighting",apis:TF}),$R=[8],af=[9],dg=[13],b_=[27],qc=[32],v_=[37],uy=[38],A2=[39],dy=[40],OF=(r,l,d)=>{const f=et(r.slice(0,l)),b=et(r.slice(l+1));return Q(f.concat(b),d)},DF=(r,l,d)=>{const f=et(r.slice(0,l));return Q(f,d)},RF=(r,l,d)=>{const f=r.slice(0,l),b=r.slice(l+1);return Q(b.concat(f),d)},IF=(r,l,d)=>{const f=r.slice(l+1);return Q(f,d)},fr=r=>l=>{const d=l.raw;return ct(r,d.which)},am=r=>l=>We(r,d=>d(l)),fg=r=>r.raw.shiftKey===!0,NF=r=>r.raw.ctrlKey===!0,T2=Me(fg),hr=(r,l)=>({matches:r,classification:l}),VR=(r,l,d)=>{l.exists(f=>d.exists(b=>dr(b,f)))||Mn(r,w0(),{prevFocus:l,newFocus:d})},dA=()=>{const r=l=>qs(l.element);return{get:r,set:(l,d)=>{const f=r(l);l.getSystem().triggerFocus(d,l.element);const b=r(l);VR(l,f,b)}}},PF=()=>{const r=l=>Ar.getHighlighted(l).map(d=>d.element);return{get:r,set:(l,d)=>{const f=r(l);l.getSystem().getByDom(d).fold(j,v=>{Ar.highlight(l,v)});const b=r(l);VR(l,f,b)}}};var Zv;(function(r){r.OnFocusMode="onFocus",r.OnEnterOrSpaceMode="onEnterOrSpace",r.OnApiMode="onApi"})(Zv||(Zv={}));const Gv=(r,l,d,f,b)=>{const v=(k,E,P,F,M)=>{return(V=P(k,E,F,M),Y=E.event,Q(V,ee=>ee.matches(Y)).map(ee=>ee.classification)).bind(ee=>ee(k,E,F,M));var V,Y},C={schema:()=>r.concat([ut("focusManager",dA()),Ha("focusInside","onFocus",Lf(k=>ct(["onFocus","onEnterOrSpace","onApi"],k)?Ho.value(k):Ho.error("Invalid value for focusInside"))),Yr("handler",C),Yr("state",l),Yr("sendFocusIn",b)]),processKey:v,toEvents:(k,E)=>{const P=k.focusInside!==Zv.OnFocusMode?D.none():b(k).map(M=>Ot(ad(),(V,Y)=>{M(V,k,E),Y.stop()})),F=[Ot(ks(),(M,V)=>{v(M,V,d,k,E).fold(()=>{((Y,ee)=>{const fe=fr(qc.concat(dg))(ee.event);k.focusInside===Zv.OnEnterOrSpaceMode&&fe&&tv(Y,ee)&&b(k).each(pe=>{pe(Y,k,E),ee.stop()})})(M,V)},Y=>{V.stop()})}),Ot(Bc(),(M,V)=>{v(M,V,f,k,E).each(Y=>{V.stop()})})];return yo(P.toArray().concat(F))}};return C},zR=r=>{const l=[qo("onEscape"),qo("onEnter"),ut("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ut("firstTabstop",0),ut("useTabstopAt",Te),qo("visibilitySelector")].concat([r]),d=(F,M)=>{const V=F.visibilitySelector.bind(Y=>ud(M,Y)).getOr(M);return Os(V)>0},f=(F,M)=>M.focusManager.get(F).bind(V=>ud(V,M.selector)),b=(F,M,V)=>{((Y,ee)=>{const fe=Ai(Y.element,ee.selector),pe=Ht(fe,Se=>d(ee,Se));return D.from(pe[ee.firstTabstop])})(F,M).each(Y=>{M.focusManager.set(F,Y)})},v=(F,M,V,Y)=>{const ee=Ai(F.element,V.selector);return f(F,V).bind(fe=>co(ee,Ve(dr,fe)).bind(pe=>((Se,ge,me,we,ke)=>ke(ge,me,De=>((Ze,it)=>d(Ze,it)&&Ze.useTabstopAt(it))(we,De)).fold(()=>we.cyclic?D.some(!0):D.none(),De=>(we.focusManager.set(Se,De),D.some(!0))))(F,ee,pe,V,Y)))},C=(F,M,V)=>{const Y=V.cyclic?OF:DF;return v(F,0,V,Y)},k=(F,M,V)=>{const Y=V.cyclic?RF:IF;return v(F,0,V,Y)},E=U([hr(am([fg,fr(af)]),C),hr(fr(af),k),hr(am([T2,fr(dg)]),(F,M,V)=>V.onEnter.bind(Y=>Y(F,M)))]),P=U([hr(fr(b_),(F,M,V)=>V.onEscape.bind(Y=>Y(F,M))),hr(fr(af),(F,M,V)=>f(F,V).filter(Y=>!V.useTabstopAt(Y)).bind(Y=>((ee=>(fe=>ka(fe))(ee).bind(Re).exists(fe=>dr(fe,ee)))(Y)?C:k)(F,M,V)))]);return Gv(l,zc.init,E,P,()=>D.some(b))};var LF=zR(qi("cyclic",Oe)),MF=zR(qi("cyclic",Te));const O2=(r,l,d)=>ay(d)&&fr(qc)(l.event)?D.none():((f,b,v)=>(ps(f,v,El()),D.some(!0)))(r,0,d),qv=(r,l)=>D.some(!0),BF=[ut("execute",O2),ut("useSpace",!1),ut("useEnter",!0),ut("useControlEnter",!1),ut("useDown",!1)],HR=(r,l,d)=>d.execute(r,l,r.element);var FF=Gv(BF,zc.init,(r,l,d,f)=>{const b=d.useSpace&&!ay(r.element)?qc:[],v=d.useEnter?dg:[],C=d.useDown?dy:[],k=b.concat(v).concat(C);return[hr(fr(k),HR)].concat(d.useControlEnter?[hr(am([NF,fr(dg)]),HR)]:[])},(r,l,d,f)=>d.useSpace&&!ay(r.element)?[hr(fr(qc),qv)]:[],()=>D.none());const UR=()=>{const r=Or();return Li({readState:()=>r.get().map(l=>({numRows:String(l.numRows),numColumns:String(l.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(l,d)=>{r.set({numRows:l,numColumns:d})},getNumRows:()=>r.get().map(l=>l.numRows),getNumColumns:()=>r.get().map(l=>l.numColumns)})};var WR=Object.freeze({__proto__:null,flatgrid:UR,init:r=>r.state(r)});const KR=r=>(l,d,f,b)=>{const v=r(l.element);return jR(v,l,d,f,b)},fA=(r,l)=>{const d=f2(r,l);return KR(d)},mA=(r,l)=>{const d=f2(l,r);return KR(d)},gA=r=>(l,d,f,b)=>jR(r,l,d,f,b),jR=(r,l,d,f,b)=>f.focusManager.get(l).bind(v=>r(l.element,v,f,b)).map(v=>(f.focusManager.set(l,v),!0)),hA=gA,ZR=gA,y_=gA,GR=r=>!(l=>l.offsetWidth<=0&&l.offsetHeight<=0)(r.dom),pA=(r,l,d)=>{const f=Ai(r,d);return((b,v)=>co(b,C=>dr(C,l)).map(C=>({index:C,candidates:b})))(Ht(f,GR))},x_=(r,l)=>co(r,d=>dr(l,d)),qR=(r,l,d,f)=>f(Math.floor(l/d),l%d).bind(b=>{const v=b.row*d+b.column;return v>=0&&v<r.length?D.some(r[v]):D.none()}),YR=(r,l,d,f,b)=>qR(r,l,f,(v,C)=>{const k=v===d-1?r.length-v*f:f,E=Xm(C,b,0,k-1);return D.some({row:v,column:E})}),XR=(r,l,d,f,b)=>qR(r,l,f,(v,C)=>{const k=Xm(v,b,0,d-1),E=k===d-1?r.length-k*f:f,P=Uc(C,0,E-1);return D.some({row:k,column:P})}),$F=[Lt("selector"),ut("execute",O2),Al("onEscape"),ut("captureTab",!1),JC()],JR=(r,l,d)=>{fs(r.element,l.selector).each(f=>{l.focusManager.set(r,f)})},D2=r=>(l,d,f,b)=>pA(l,d,f.selector).bind(v=>r(v.candidates,v.index,b.getNumRows().getOr(f.initSize.numRows),b.getNumColumns().getOr(f.initSize.numColumns))),bA=(r,l,d)=>d.captureTab?D.some(!0):D.none(),vA=D2((r,l,d,f)=>YR(r,l,d,f,-1)),yA=D2((r,l,d,f)=>YR(r,l,d,f,1)),VF=D2((r,l,d,f)=>XR(r,l,d,f,-1)),zF=D2((r,l,d,f)=>XR(r,l,d,f,1)),HF=U([hr(fr(v_),fA(vA,yA)),hr(fr(A2),mA(vA,yA)),hr(fr(uy),hA(VF)),hr(fr(dy),ZR(zF)),hr(am([fg,fr(af)]),bA),hr(am([T2,fr(af)]),bA),hr(fr(qc.concat(dg)),(r,l,d,f)=>((b,v)=>v.focusManager.get(b).bind(C=>ud(C,v.selector)))(r,d).bind(b=>d.execute(r,l,b)))]),UF=U([hr(fr(b_),(r,l,d)=>d.onEscape(r,l)),hr(fr(qc),qv)]);var WF=Gv($F,UR,HF,UF,()=>D.some(JR));const jp=(r,l,d,f,b)=>{const v=(C,k,E)=>b(C,k,f,0,E.length-1,E[k],P=>{return F=E[P],nl(F)==="button"&&Ko(F,"disabled")==="disabled"?v(C,P,E):D.from(E[P]);var F});return pA(r,d,l).bind(C=>{const k=C.index,E=C.candidates;return v(k,k,E)})},QR=(r,l,d,f)=>jp(r,l,d,f,(b,v,C,k,E,P,F)=>{const M=Uc(v+C,k,E);return M===b?D.from(P):F(M)}),w_=(r,l,d,f)=>jp(r,l,d,f,(b,v,C,k,E,P,F)=>{const M=Xm(v,C,k,E);return M===b?D.none():F(M)}),KF=[Lt("selector"),ut("getInitial",D.none),ut("execute",O2),Al("onEscape"),ut("executeOnMove",!1),ut("allowVertical",!0),ut("allowHorizontal",!0),ut("cycles",!0)],xA=(r,l,d)=>((f,b)=>b.focusManager.get(f).bind(v=>ud(v,b.selector)))(r,d).bind(f=>d.execute(r,l,f)),eI=(r,l,d)=>{l.getInitial(r).orThunk(()=>fs(r.element,l.selector)).each(f=>{l.focusManager.set(r,f)})},tI=(r,l,d)=>(d.cycles?w_:QR)(r,d.selector,l,-1),nI=(r,l,d)=>(d.cycles?w_:QR)(r,d.selector,l,1),wA=r=>(l,d,f,b)=>r(l,d,f,b).bind(()=>f.executeOnMove?xA(l,d,f):D.some(!0)),R2=U([hr(fr(qc),qv),hr(fr(b_),(r,l,d)=>d.onEscape(r,l))]);var I2=Gv(KF,zc.init,(r,l,d,f)=>{const b=[...d.allowHorizontal?v_:[]].concat(d.allowVertical?uy:[]),v=[...d.allowHorizontal?A2:[]].concat(d.allowVertical?dy:[]);return[hr(fr(b),wA(fA(tI,nI))),hr(fr(v),wA(mA(tI,nI))),hr(fr(dg),xA),hr(fr(qc),xA)]},R2,()=>D.some(eI));const C_=(r,l,d)=>D.from(r[l]).bind(f=>D.from(f[d]).map(b=>({rowIndex:l,columnIndex:d,cell:b}))),__=(r,l,d,f)=>{const b=r[l].length,v=Xm(d,f,0,b-1);return C_(r,l,v)},oI=(r,l,d,f)=>{const b=Xm(d,f,0,r.length-1),v=r[b].length,C=Uc(l,0,v-1);return C_(r,b,C)},CA=(r,l,d,f)=>{const b=r[l].length,v=Uc(d+f,0,b-1);return C_(r,l,v)},_A=(r,l,d,f)=>{const b=Uc(d+f,0,r.length-1),v=r[b].length,C=Uc(l,0,v-1);return C_(r,b,C)},rI=[Lc("selectors",[Lt("row"),Lt("cell")]),ut("cycles",!0),ut("previousSelector",D.none),ut("execute",O2)],jF=(r,l,d)=>{l.previousSelector(r).orThunk(()=>{const f=l.selectors;return fs(r.element,f.cell)}).each(f=>{l.focusManager.set(r,f)})},S_=(r,l)=>(d,f,b)=>{const v=b.cycles?r:l;return ud(f,b.selectors.row).bind(C=>{const k=Ai(C,b.selectors.cell);return x_(k,f).bind(E=>{const P=Ai(d,b.selectors.row);return x_(P,C).bind(F=>{const M=((V,Y)=>Le(V,ee=>Ai(ee,Y.selectors.cell)))(P,b);return v(M,F,E).map(V=>V.cell)})})})},sI=S_((r,l,d)=>__(r,l,d,-1),(r,l,d)=>CA(r,l,d,-1)),Yv=S_((r,l,d)=>__(r,l,d,1),(r,l,d)=>CA(r,l,d,1)),Xv=S_((r,l,d)=>oI(r,d,l,-1),(r,l,d)=>_A(r,d,l,-1)),k_=S_((r,l,d)=>oI(r,d,l,1),(r,l,d)=>_A(r,d,l,1)),N2=U([hr(fr(v_),fA(sI,Yv)),hr(fr(A2),mA(sI,Yv)),hr(fr(uy),hA(Xv)),hr(fr(dy),ZR(k_)),hr(fr(qc.concat(dg)),(r,l,d)=>qs(r.element).bind(f=>d.execute(r,l,f)))]),ZF=U([hr(fr(qc),qv)]);var Zp=Gv(rI,zc.init,N2,ZF,()=>D.some(jF));const mg=[Lt("selector"),ut("execute",O2),ut("moveOnTab",!1)],E_=(r,l,d)=>d.focusManager.get(r).bind(f=>d.execute(r,l,f)),iI=(r,l,d)=>{fs(r.element,l.selector).each(f=>{l.focusManager.set(r,f)})},aI=(r,l,d)=>w_(r,d.selector,l,-1),SA=(r,l,d)=>w_(r,d.selector,l,1),P2=U([hr(fr(uy),y_(aI)),hr(fr(dy),y_(SA)),hr(am([fg,fr(af)]),(r,l,d,f)=>d.moveOnTab?y_(aI)(r,l,d,f):D.none()),hr(am([T2,fr(af)]),(r,l,d,f)=>d.moveOnTab?y_(SA)(r,l,d,f):D.none()),hr(fr(dg),E_),hr(fr(qc),E_)]),L2=U([hr(fr(qc),qv)]);var kA=Gv(mg,zc.init,P2,L2,()=>D.some(iI));const lI=[Al("onSpace"),Al("onEnter"),Al("onShiftEnter"),Al("onLeft"),Al("onRight"),Al("onTab"),Al("onShiftTab"),Al("onUp"),Al("onDown"),Al("onEscape"),ut("stopSpaceKeyup",!1),qo("focusIn")];var M2=Gv(lI,zc.init,(r,l,d)=>[hr(fr(qc),d.onSpace),hr(am([T2,fr(dg)]),d.onEnter),hr(am([fg,fr(dg)]),d.onShiftEnter),hr(am([fg,fr(af)]),d.onShiftTab),hr(am([T2,fr(af)]),d.onTab),hr(fr(uy),d.onUp),hr(fr(dy),d.onDown),hr(fr(v_),d.onLeft),hr(fr(A2),d.onRight),hr(fr(qc),d.onSpace)],(r,l,d)=>[...d.stopSpaceKeyup?[hr(fr(qc),qv)]:[],hr(fr(b_),d.onEscape)],r=>r.focusIn);const A_=LF.schema(),GF=MF.schema(),EA=I2.schema(),T_=WF.schema(),ja=Zp.schema(),qF=FF.schema(),gg=kA.schema(),cI=M2.schema(),$n=qC({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:A_,cyclic:GF,flow:EA,flatgrid:T_,matrix:ja,execution:qF,menu:gg,special:cI}),name:"keying",active:{events:(r,l)=>r.handler.toEvents(r,l)},apis:{focusIn:(r,l,d)=>{l.sendFocusIn(l).fold(()=>{r.getSystem().triggerFocus(r.element,r.element)},f=>{f(r,l,d)})},setGridSize:(r,l,d,f,b)=>{(v=>Oo(v,"setGridSize"))(d)?d.setGridSize(f,b):console.error("Layout does not support setGridSize")}},state:WR}),Jv=(r,l)=>{og(()=>{((d,f,b)=>{const v=d.components();(E=>{ft(E.components(),P=>Zi(P.element)),us(E.element),E.syncComponents()})(d);const C=b(f),k=xe(v,C);ft(k,E=>{lg(E),d.getSystem().removeFromWorld(E)}),ft(C,E=>{ty(E)?Ih(d,E):(d.getSystem().addToWorld(E),Ih(d,E),mn(d.element)&&cg(E))}),d.syncComponents()})(r,l,()=>Le(l,r.getSystem().build))},r.element)},AA=(r,l)=>{og(()=>{((d,f,b)=>{const v=d.components(),C=pn(f,P=>Yx(P).toArray());ft(v,P=>{ct(C,P)||ny(P)});const k=((P,F,M)=>e_(P,F,(V,Y)=>e2(P,Y,V,M)))(r.element,l,r.getSystem().buildOrPatch),E=xe(v,k);ft(E,P=>{ty(P)&&ny(P)}),ft(k,P=>{ty(P)||Wv(d,P)}),d.syncComponents()})(r,l)},r.element)},O_=(r,l,d,f)=>{ny(l);const b=e2(r.element,d,f,r.getSystem().buildOrPatch);Wv(r,b),r.syncComponents()},TA=(r,l,d)=>{const f=r.getSystem().build(d);y2(r,f,l)},uI=(r,l,d,f)=>{fl(l),TA(r,(b,v)=>((C,k,E)=>{cs(C,E).fold(()=>{Ba(C,k)},P=>{zd(P,k)})})(b,v,d),f)},B2=(r,l)=>r.components(),dI=(r,l,d,f,b)=>{const v=B2(r);return D.from(v[f]).map(C=>(b.fold(()=>fl(C),k=>{(l.reuseDom?O_:uI)(r,C,f,k)}),C))};var OA=Object.freeze({__proto__:null,append:(r,l,d,f)=>{TA(r,Ba,f)},prepend:(r,l,d,f)=>{TA(r,sh,f)},remove:(r,l,d,f)=>{const b=B2(r);Q(b,C=>dr(f.element,C.element)).each(fl)},replaceAt:dI,replaceBy:(r,l,d,f,b)=>{const v=B2(r);return co(v,f).bind(C=>dI(r,l,0,C,b))},set:(r,l,d,f)=>(l.reuseDom?AA:Jv)(r,f),contents:B2});const Jn=Mi({fields:[ri("reuseDom",!0)],name:"replacing",apis:OA}),To=(r,l)=>{const d=((f,b)=>{const v=yo(b);return Mi({fields:[Lt("enabled")],name:f,active:{events:U(v)}})})(r,l);return{key:r,value:{config:{},me:d,configAsRaw:U({}),initialConfig:{},state:zc}}},fI=(r,l)=>{l.ignore||(Wa(r.element),l.onFocus(r))};var mI=Object.freeze({__proto__:null,focus:fI,blur:(r,l)=>{l.ignore||kv(r.element)},isFocused:r=>Eh(r.element)}),gI=Object.freeze({__proto__:null,exhibit:(r,l)=>{const d=l.ignore?{}:{attributes:{tabindex:"-1"}};return js(d)},events:r=>yo([Ot(ad(),(l,d)=>{fI(l,r),d.stop()})].concat(r.stopMousedown?[Ot(Mt(),(l,d)=>{d.event.prevent()})]:[]))}),hI=[nr("onFocus"),ut("stopMousedown",!1),ut("ignore",!1)];const so=Mi({fields:hI,name:"focusing",active:gI,apis:mI}),F2=(r,l,d,f)=>{const b=d.get();d.set(f),((v,C,k)=>{C.toggleClass.each(E=>{k.get()?Es(v.element,E):Is(v.element,E)})})(r,l,d),((v,C,k)=>{const E=C.aria;E.update(v,E,k.get())})(r,l,d),b!==f&&l.onToggled(r,f)},Du=(r,l,d)=>{F2(r,l,d,!d.get())},Qv=(r,l,d)=>{F2(r,l,d,l.selected)};var pI=Object.freeze({__proto__:null,onLoad:Qv,toggle:Du,isOn:(r,l,d)=>d.get(),on:(r,l,d)=>{F2(r,l,d,!0)},off:(r,l,d)=>{F2(r,l,d,!1)},set:F2}),fy=Object.freeze({__proto__:null,exhibit:()=>js({}),events:(r,l)=>{const d=(f=r,b=l,v=Du,wu(k=>{v(k,f,b)}));var f,b,v;const C=av(r,l,Qv);return yo(Kt([r.toggleOnExecute?[d]:[],[C]]))}});const nc=(r,l,d)=>{cn(r.element,"aria-expanded",d)};var Yc=[ut("selected",!1),qo("toggleClass"),ut("toggleOnExecute",!0),nr("onToggled"),Ha("aria",{mode:"none"},bi("mode",{pressed:[ut("syncWithExpanded",!1),Yr("update",(r,l,d)=>{cn(r.element,"aria-pressed",d),l.syncWithExpanded&&nc(r,0,d)})],checked:[Yr("update",(r,l,d)=>{cn(r.element,"aria-checked",d)})],expanded:[Yr("update",nc)],selected:[Yr("update",(r,l,d)=>{cn(r.element,"aria-selected",d)})],none:[Yr("update",j)]}))];const oo=Mi({fields:Yc,name:"toggling",active:fy,apis:pI,state:{init:()=>{const r=Hn(!1);return{get:()=>r.get(),set:l=>r.set(l),clear:()=>r.set(!1),readState:()=>r.get()}}}}),md=()=>{const r=(l,d)=>{d.stop(),Hf(l)};return[Ot(vi(),r),Ot(Bf(),r),jm(G()),jm(Mt())]},my=r=>yo(Kt([r.map(l=>wu((d,f)=>{l(d),f.stop()})).toArray(),md()])),Ru="alloy.item-hover",Gp="alloy.item-focus",bI="alloy.item-toggled",vI=r=>{(qs(r.element).isNone()||so.isFocused(r))&&(so.isFocused(r)||so.focus(r),Mn(r,Ru,{item:r}))},yI=r=>{Mn(r,Gp,{item:r})},DA=U(Ru),xI=U(Gp),D_=U(bI),wI=r=>r.role.fold(()=>r.toggling.map(l=>l.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),de),YF=[Lt("data"),Lt("components"),Lt("dom"),ut("hasSubmenu",!1),qo("toggling"),qo("role"),io("itemBehaviours",[oo,so,$n,mt]),ut("ignoreFocus",!1),ut("domModification",{}),Yr("builder",r=>({dom:r.dom,domModification:{...r.domModification,attributes:{role:wI(r),...r.domModification.attributes,"aria-haspopup":r.hasSubmenu,...r.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:no(r.itemBehaviours,[r.toggling.fold(oo.revoke,l=>oo.config(((d,f)=>({aria:{mode:f?"selected":"checked"},...cr(d,(b,v)=>v!=="exclusive"),onToggled:(b,v)=>{Z(d.onToggled)&&d.onToggled(b,v),((C,k)=>{Mn(C,bI,{item:C,state:k})})(b,v)}}))(l,r.role.exists(d=>d==="option")))),so.config({ignore:r.ignoreFocus,stopMousedown:r.ignoreFocus,onFocus:l=>{yI(l)}}),$n.config({mode:"execution"}),mt.config({store:{mode:"memory",initialValue:r.data}}),To("item-type-events",[...md(),Ot(Pn(),vI),Ot(rv(),so.focus)])]),components:r.components,eventOrder:r.eventOrder})),ut("eventOrder",{})],XF=[Lt("dom"),Lt("components"),Yr("builder",r=>({dom:r.dom,components:r.components,events:yo([ZC(rv())])}))],RA=U("item-widget"),IA=U([Rl({name:"widget",overrides:r=>({behaviours:qt([mt.config({store:{mode:"manual",getValue:l=>r.data,setValue:j}})])})})]),CI=[Lt("uid"),Lt("data"),Lt("components"),Lt("dom"),ut("autofocus",!1),ut("ignoreFocus",!1),io("widgetBehaviours",[mt,so,$n]),ut("domModification",{}),iA(IA()),Yr("builder",r=>{const l=nA(RA(),r,IA()),d=oA(RA(),r,l.internals()),f=v=>Jr(v,r,"widget").map(C=>($n.focusIn(C),C)),b=(v,C)=>(ay(C.event.target)||r.autofocus&&C.setSource(v.element),D.none());return{dom:r.dom,components:d,domModification:r.domModification,events:yo([wu((v,C)=>{f(v).each(k=>{C.stop()})}),Ot(Pn(),vI),Ot(rv(),(v,C)=>{r.autofocus?f(v):so.focus(v)})]),behaviours:no(r.widgetBehaviours,[mt.config({store:{mode:"memory",initialValue:r.data}}),so.config({ignore:r.ignoreFocus,onFocus:v=>{yI(v)}}),$n.config({mode:"special",focusIn:r.autofocus?v=>{f(v)}:FE(),onLeft:b,onRight:b,onEscape:(v,C)=>so.isFocused(v)||r.autofocus?(r.autofocus&&C.setSource(v.element),D.none()):(so.focus(v),D.some(!0))})])}})],_I=bi("type",{widget:CI,item:YF,separator:XF}),NA=U([p_({factory:{sketch:r=>{const l=Oa("menu.spec item",_I,r);return l.builder(l)}},name:"items",unit:"item",defaults:(r,l)=>uo(l,"uid")?l:{...l,uid:Wc("item")},overrides:(r,l)=>({type:l.type,ignoreFocus:r.fakeFocus,domModification:{classes:[r.markers.item]}})})]),SI=U([Fs("role"),Lt("value"),Lt("items"),Lt("dom"),Lt("components"),ut("eventOrder",{}),Sn("menuBehaviours",[Ar,mt,sr,$n]),Ha("movement",{mode:"menu",moveOnTab:!0},bi("mode",{grid:[JC(),Yr("config",(r,l)=>({mode:"flatgrid",selector:"."+r.markers.item,initSize:{numColumns:l.initSize.numColumns,numRows:l.initSize.numRows},focusManager:r.focusManager}))],matrix:[Yr("config",(r,l)=>({mode:"matrix",selectors:{row:l.rowSelector,cell:"."+r.markers.item},previousSelector:l.previousSelector,focusManager:r.focusManager})),Lt("rowSelector"),ut("previousSelector",D.none)],menu:[ut("moveOnTab",!0),Yr("config",(r,l)=>({mode:"menu",selector:"."+r.markers.item,moveOnTab:l.moveOnTab,focusManager:r.focusManager}))]})),Yi("markers",hh()),ut("fakeFocus",!1),ut("focusManager",dA()),nr("onHighlight"),nr("onDehighlight"),ut("showMenuRole",!0)]),kI=U("alloy.menu-focus"),e1=Kl({name:"Menu",configFields:SI(),partFields:NA(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,markers:r.markers,behaviours:Eo(r.menuBehaviours,[Ar.config({highlightClass:r.markers.selectedItem,itemClass:r.markers.item,onHighlight:r.onHighlight,onDehighlight:r.onDehighlight}),mt.config({store:{mode:"memory",initialValue:r.value}}),sr.config({find:D.some}),$n.config(r.movement.config(r,r.movement))]),events:yo([Ot(xI(),(b,v)=>{const C=v.event;b.getSystem().getByDom(C.target).each(k=>{Ar.highlight(b,k),v.stop(),Mn(b,kI(),{menu:b,item:k})})}),Ot(DA(),(b,v)=>{const C=v.event.item;Ar.highlight(b,C)}),Ot(D_(),(b,v)=>{const{item:C,state:k}=v.event;k&&Ko(C.element,"role")==="menuitemradio"&&((E,P)=>{const F=Ai(E.element,'[role="menuitemradio"][aria-checked="true"]');ft(F,M=>{dr(M,P.element)||E.getSystem().getByDom(M).each(V=>{oo.off(V)})})})(b,C)})]),components:l,eventOrder:r.eventOrder,...r.showMenuRole?{domModification:{attributes:{role:r.role.getOr("menu")}}}:{}})}),EI=(r,l,d,f)=>En(d,f).bind(b=>En(r,b).bind(v=>{const C=EI(r,l,d,v);return D.some([v].concat(C))})).getOr([]),AI=r=>r.type==="prepared"?D.some(r.menu):D.none(),JF=()=>{const r=Hn({}),l=Hn({}),d=Hn({}),f=Or(),b=Hn({}),v=E=>C(E).bind(AI),C=E=>En(l.get(),E),k=E=>En(r.get(),E);return{setMenuBuilt:(E,P)=>{l.set({...l.get(),[E]:{type:"prepared",menu:P}})},setContents:(E,P,F,M)=>{f.set(E),r.set(F),l.set(P),b.set(M);const V=((Y,ee)=>{const fe={};qn(Y,(me,we)=>{ft(me,ke=>{fe[ke]=we})});const pe=ee,Se=Fo(ee,(me,we)=>({k:me,v:we})),ge=eo(Se,(me,we)=>[we].concat(EI(fe,pe,Se,we)));return eo(fe,me=>En(ge,me).getOr([me]))})(M,F);d.set(V)},expand:E=>En(r.get(),E).map(P=>{const F=En(d.get(),E).getOr([]);return[P].concat(F)}),refresh:E=>En(d.get(),E),collapse:E=>En(d.get(),E).bind(P=>P.length>1?D.some(P.slice(1)):D.none()),lookupMenu:C,lookupItem:k,otherMenus:E=>{const P=b.get();return xe(Ut(P),E)},getPrimary:()=>f.get().bind(v),getMenus:()=>l.get(),clear:()=>{r.set({}),l.set({}),d.set({}),f.clear()},isClear:()=>f.get().isNone(),getTriggeringPath:(E,P)=>{const F=Ht(k(E).toArray(),M=>v(M).isSome());return En(d.get(),E).bind(M=>{const V=et(F.concat(M));return(Y=>{const ee=[];for(let fe=0;fe<Y.length;fe++){const pe=Y[fe];if(!pe.isSome())return D.none();ee.push(pe.getOrDie())}return D.some(ee)})(pn(V,(Y,ee)=>((fe,pe,Se)=>v(fe).bind(ge=>(me=>wr(r.get(),(we,ke)=>we===me))(fe).bind(me=>pe(me).map(we=>({triggeredMenu:ge,triggeringItem:we,triggeringPath:Se})))))(Y,P,V.slice(0,ee+1)).fold(()=>ci(f.get(),Y)?[]:[D.none()],fe=>[D.some(fe)])))})}}},QF=AI,Iu=_n("tiered-menu-item-highlight"),e7=_n("tiered-menu-item-dehighlight");var gl;(function(r){r[r.HighlightMenuAndItem=0]="HighlightMenuAndItem",r[r.HighlightJustMenu=1]="HighlightJustMenu",r[r.HighlightNone=2]="HighlightNone"})(gl||(gl={}));const t1=U("collapse-item"),Ph=Ou({name:"TieredMenu",configFields:[Da("onExecute"),Da("onEscape"),cd("onOpenMenu"),cd("onOpenSubmenu"),nr("onRepositionMenu"),nr("onCollapseMenu"),ut("highlightOnOpen",gl.HighlightMenuAndItem),Lc("data",[Lt("primary"),Lt("menus"),Lt("expansions")]),ut("fakeFocus",!1),nr("onHighlightItem"),nr("onDehighlightItem"),nr("onHover"),ph(),Lt("dom"),ut("navigateOnHover",!0),ut("stayInDom",!1),Sn("tmenuBehaviours",[$n,Ar,sr,Jn]),ut("eventOrder",{})],apis:{collapseMenu:(r,l)=>{r.collapseMenu(l)},highlightPrimary:(r,l)=>{r.highlightPrimary(l)},repositionMenus:(r,l)=>{r.repositionMenus(l)}},factory:(r,l)=>{const d=Or(),f=JF(),b=me=>mt.getValue(me).value,v=me=>eo(r.data.menus,(we,ke)=>pn(we.items,De=>De.type==="separator"?[]:[De.data.value])),C=Ar.highlight,k=(me,we)=>{C(me,we),Ar.getHighlighted(we).orThunk(()=>Ar.getFirst(we)).each(ke=>{r.fakeFocus?Ar.highlight(we,ke):ps(me,ke.element,rv())})},E=(me,we)=>tl(Le(we,ke=>me.lookupMenu(ke).bind(De=>De.type==="prepared"?D.some(De.menu):D.none()))),P=(me,we,ke)=>{const De=E(we,we.otherMenus(ke));ft(De,Ze=>{hc(Ze.element,[r.markers.backgroundMenu]),r.stayInDom||Jn.remove(me,Ze)})},F=(me,we)=>{const ke=(De=>d.get().getOrThunk(()=>{const Ze={},it=Ai(De.element,`.${r.markers.item}`),It=Ht(it,Tt=>Ko(Tt,"aria-haspopup")==="true");return ft(It,Tt=>{De.getSystem().getByDom(Tt).each(kt=>{const Wt=b(kt);Ze[Wt]=kt})}),d.set(Ze),Ze}))(me);qn(ke,(De,Ze)=>{const it=ct(we,Ze);cn(De.element,"aria-expanded",it)})},M=(me,we,ke)=>D.from(ke[0]).bind(De=>we.lookupMenu(De).bind(Ze=>{if(Ze.type==="notbuilt")return D.none();{const it=Ze.menu,It=E(we,ke.slice(1));return ft(It,Tt=>{Es(Tt.element,r.markers.backgroundMenu)}),mn(it.element)||Jn.append(me,ul(it)),hc(it.element,[r.markers.backgroundMenu]),k(me,it),P(me,we,ke),D.some(it)}}));let V;(function(me){me[me.HighlightSubmenu=0]="HighlightSubmenu",me[me.HighlightParent=1]="HighlightParent"})(V||(V={}));const Y=(me,we,ke=V.HighlightSubmenu)=>{if(we.hasConfigured(ao)&&ao.isDisabled(we))return D.some(we);{const De=b(we);return f.expand(De).bind(Ze=>(F(me,Ze),D.from(Ze[0]).bind(it=>f.lookupMenu(it).bind(It=>{const Tt=((kt,Wt,vn)=>{if(vn.type==="notbuilt"){const In=kt.getSystem().build(vn.nbMenu());return f.setMenuBuilt(Wt,In),In}return vn.menu})(me,it,It);return mn(Tt.element)||Jn.append(me,ul(Tt)),r.onOpenSubmenu(me,we,Tt,et(Ze)),ke===V.HighlightSubmenu?(Ar.highlightFirst(Tt),M(me,f,Ze)):(Ar.dehighlightAll(Tt),D.some(we))}))))}},ee=(me,we)=>{const ke=b(we);return f.collapse(ke).bind(De=>(F(me,De),M(me,f,De).map(Ze=>(r.onCollapseMenu(me,we,Ze),Ze))))},fe=me=>(we,ke)=>ud(ke.getSource(),`.${r.markers.item}`).bind(De=>we.getSystem().getByDom(De).toOptional().bind(Ze=>me(we,Ze).map(Te))),pe=yo([Ot(kI(),(me,we)=>{const ke=we.event.item;f.lookupItem(b(ke)).each(()=>{const De=we.event.menu;Ar.highlight(me,De);const Ze=b(we.event.item);f.refresh(Ze).each(it=>P(me,f,it))})}),wu((me,we)=>{const ke=we.event.target;me.getSystem().getByDom(ke).each(De=>{b(De).indexOf("collapse-item")===0&&ee(me,De),Y(me,De,V.HighlightSubmenu).fold(()=>{r.onExecute(me,De)},j)})}),as((me,we)=>{(ke=>{const De=((it,It,Tt)=>eo(Tt,(kt,Wt)=>{const vn=()=>e1.sketch({...kt,value:Wt,markers:r.markers,fakeFocus:r.fakeFocus,onHighlight:(In,Kn)=>{Mn(In,Iu,{menuComp:In,itemComp:Kn})},onDehighlight:(In,Kn)=>{Mn(In,e7,{menuComp:In,itemComp:Kn})},focusManager:r.fakeFocus?PF():dA()});return Wt===It?{type:"prepared",menu:it.getSystem().build(vn())}:{type:"notbuilt",nbMenu:vn}}))(ke,r.data.primary,r.data.menus),Ze=v();return f.setContents(r.data.primary,De,r.data.expansions,Ze),f.getPrimary()})(me).each(ke=>{Jn.append(me,ul(ke)),r.onOpenMenu(me,ke),r.highlightOnOpen===gl.HighlightMenuAndItem?k(me,ke):r.highlightOnOpen===gl.HighlightJustMenu&&C(me,ke)})}),Ot(Iu,(me,we)=>{r.onHighlightItem(me,we.event.menuComp,we.event.itemComp)}),Ot(e7,(me,we)=>{r.onDehighlightItem(me,we.event.menuComp,we.event.itemComp)}),...r.navigateOnHover?[Ot(DA(),(me,we)=>{const ke=we.event.item;((De,Ze)=>{const it=b(Ze);f.refresh(it).bind(It=>(F(De,It),M(De,f,It)))})(me,ke),Y(me,ke,V.HighlightParent),r.onHover(me,ke)})]:[]]),Se=me=>Ar.getHighlighted(me).bind(Ar.getHighlighted),ge={collapseMenu:me=>{Se(me).each(we=>{ee(me,we)})},highlightPrimary:me=>{f.getPrimary().each(we=>{k(me,we)})},repositionMenus:me=>{f.getPrimary().bind(ke=>Se(me).bind(De=>{const Ze=b(De),it=ji(f.getMenus()),It=tl(Le(it,QF));return f.getTriggeringPath(Ze,Tt=>((kt,Wt,vn)=>sn(Wt,In=>{if(!In.getSystem().isConnected())return D.none();const Kn=Ar.getCandidates(In);return Q(Kn,lo=>b(lo)===vn)}))(0,It,Tt))}).map(De=>({primary:ke,triggeringPath:De}))).fold(()=>{(ke=>D.from(ke.components()[0]).filter(De=>Ko(De.element,"role")==="menu"))(me).each(ke=>{r.onRepositionMenu(me,ke,[])})},({primary:ke,triggeringPath:De})=>{r.onRepositionMenu(me,ke,De)})}};return{uid:r.uid,dom:r.dom,markers:r.markers,behaviours:Eo(r.tmenuBehaviours,[$n.config({mode:"special",onRight:fe((me,we)=>ay(we.element)?D.none():Y(me,we,V.HighlightSubmenu)),onLeft:fe((me,we)=>ay(we.element)?D.none():ee(me,we)),onEscape:fe((me,we)=>ee(me,we).orThunk(()=>r.onEscape(me,we).map(()=>me))),focusIn:(me,we)=>{f.getPrimary().each(ke=>{ps(me,ke.element,rv())})}}),Ar.config({highlightClass:r.markers.selectedMenu,itemClass:r.markers.menu}),sr.config({find:me=>Ar.getHighlighted(me)}),Jn.config({})]),eventOrder:r.eventOrder,apis:ge,events:pe}},extraApis:{tieredData:(r,l,d)=>({primary:r,menus:l,expansions:d}),singleData:(r,l)=>({primary:r,menus:vu(r,l),expansions:{}}),collapseItem:r=>({value:_n(t1()),meta:{text:r}})}}),bs=Ou({name:"InlineView",configFields:[Lt("lazySink"),nr("onShow"),nr("onHide"),bu("onEscape"),Sn("inlineBehaviours",[O,mt,Ol]),Ds("fireDismissalEventInstead",[ut("event",uh())]),Ds("fireRepositionEventInstead",[ut("event",Vf())]),ut("getRelated",D.none),ut("isExtraPart",Oe),ut("eventOrder",D.none)],factory:(r,l)=>{const d=(C,k,E,P)=>{const F=r.lazySink(C).getOrDie();O.openWhileCloaked(C,k,()=>ba.positionWithinBounds(F,C,E,P())),mt.setValue(C,D.some({mode:"position",config:E,getBounds:P}))},f=(C,k,E,P)=>{const F=((M,V,Y,ee,fe)=>{const pe=()=>M.lazySink(V),Se=ee.type==="horizontal"?{layouts:{onLtr:()=>U0(),onRtl:()=>W0()}}:{},ge=me=>(we=>we.length===2)(me)?Se:{};return Ph.sketch({dom:{tag:"div"},data:ee.data,markers:ee.menu.markers,highlightOnOpen:ee.menu.highlightOnOpen,fakeFocus:ee.menu.fakeFocus,onEscape:()=>(O.close(V),M.onEscape.map(me=>me(V)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(me,we)=>{ba.positionWithinBounds(pe().getOrDie(),we,Y,fe())},onOpenSubmenu:(me,we,ke,De)=>{const Ze=pe().getOrDie();ba.position(Ze,ke,{anchor:{type:"submenu",item:we,...ge(De)}})},onRepositionMenu:(me,we,ke)=>{const De=pe().getOrDie();ba.positionWithinBounds(De,we,Y,fe()),ft(ke,Ze=>{const it=ge(Ze.triggeringPath);ba.position(De,Ze.triggeredMenu,{anchor:{type:"submenu",item:Ze.triggeringItem,...it}})})}})})(r,C,k,E,P);O.open(C,F),mt.setValue(C,D.some({mode:"menu",menu:F}))},b=C=>{O.isOpen(C)&&mt.getValue(C).each(k=>{switch(k.mode){case"menu":O.getState(C).each(Ph.repositionMenus);break;case"position":const E=r.lazySink(C).getOrDie();ba.positionWithinBounds(E,C,k.config,k.getBounds())}})},v={setContent:(C,k)=>{O.setContent(C,k)},showAt:(C,k,E)=>{const P=D.none;d(C,k,E,P)},showWithinBounds:d,showMenuAt:(C,k,E)=>{f(C,k,E,D.none)},showMenuWithinBounds:f,hide:C=>{O.isOpen(C)&&(mt.setValue(C,D.none()),O.close(C))},getContent:C=>O.getState(C),reposition:b,isOpen:O.isOpen};return{uid:r.uid,dom:r.dom,behaviours:Eo(r.inlineBehaviours,[O.config({isPartOf:(C,k,E)=>Tl(k,E)||((P,F)=>r.getRelated(P).exists(M=>Tl(M,F)))(C,E),getAttachPoint:C=>r.lazySink(C).getOrDie(),onOpen:C=>{r.onShow(C)},onClose:C=>{r.onHide(C)}}),mt.config({store:{mode:"memory",initialValue:D.none()}}),Ol.config({channels:{...ue({isExtraPart:l.isExtraPart,...r.fireDismissalEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({})}),...Fe({...r.fireRepositionEventInstead.map(C=>({fireEventInstead:{event:C.event}})).getOr({}),doReposition:b})}})]),eventOrder:r.eventOrder,apis:v}},apis:{showAt:(r,l,d,f)=>{r.showAt(l,d,f)},showWithinBounds:(r,l,d,f,b)=>{r.showWithinBounds(l,d,f,b)},showMenuAt:(r,l,d,f)=>{r.showMenuAt(l,d,f)},showMenuWithinBounds:(r,l,d,f,b)=>{r.showMenuWithinBounds(l,d,f,b)},hide:(r,l)=>{r.hide(l)},isOpen:(r,l)=>r.isOpen(l),getContent:(r,l)=>r.getContent(l),setContent:(r,l,d)=>{r.setContent(l,d)},reposition:(r,l)=>{r.reposition(l)}}});var gd,$2,R_=tinymce.util.Tools.resolve("tinymce.util.Delay"),gy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),TI=tinymce.util.Tools.resolve("tinymce.EditorManager"),lm=tinymce.util.Tools.resolve("tinymce.Env");(function(r){r.default="wrap",r.floating="floating",r.sliding="sliding",r.scrolling="scrolling"})(gd||(gd={})),function(r){r.auto="auto",r.top="top",r.bottom="bottom"}($2||($2={}));const $r=r=>l=>l.options.get(r),V2=r=>l=>D.from(r(l)),OI=r=>{const l=lm.deviceType.isPhone(),d=lm.deviceType.isTablet()||l,f=r.options.register,b=C=>h(C)||C===!1,v=C=>h(C)||J(C);f("skin",{processor:C=>h(C)||C===!1,default:"oxide"}),f("skin_url",{processor:"string"}),f("height",{processor:v,default:Math.max(r.getElement().offsetHeight,400)}),f("width",{processor:v,default:gy.DOM.getStyle(r.getElement(),"width")}),f("min_height",{processor:"number",default:100}),f("min_width",{processor:"number"}),f("max_height",{processor:"number"}),f("max_width",{processor:"number"}),f("style_formats",{processor:"object[]"}),f("style_formats_merge",{processor:"boolean",default:!1}),f("style_formats_autohide",{processor:"boolean",default:!1}),f("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),f("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),f("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),f("font_size_input_default_unit",{processor:"string",default:"pt"}),f("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),f("content_langs",{processor:"object[]"}),f("removed_menuitems",{processor:"string",default:""}),f("menubar",{processor:C=>h(C)||R(C),default:!l}),f("menu",{processor:"object",default:{}}),f("toolbar",{processor:C=>R(C)||h(C)||T(C)?{value:C,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Et(9,C=>{f("toolbar"+(C+1),{processor:"string"})}),f("toolbar_mode",{processor:"string",default:d?"scrolling":"floating"}),f("toolbar_groups",{processor:"object",default:{}}),f("toolbar_location",{processor:"string",default:$2.auto}),f("toolbar_persist",{processor:"boolean",default:!1}),f("toolbar_sticky",{processor:"boolean",default:r.inline}),f("toolbar_sticky_offset",{processor:"number",default:0}),f("fixed_toolbar_container",{processor:"string",default:""}),f("fixed_toolbar_container_target",{processor:"object"}),f("ui_mode",{processor:"string",default:"combined"}),f("file_picker_callback",{processor:"function"}),f("file_picker_validator_handler",{processor:"function"}),f("file_picker_types",{processor:"string"}),f("typeahead_urls",{processor:"boolean",default:!0}),f("anchor_top",{processor:b,default:"#top"}),f("anchor_bottom",{processor:b,default:"#bottom"}),f("draggable_modal",{processor:"boolean",default:!1}),f("statusbar",{processor:"boolean",default:!0}),f("elementpath",{processor:"boolean",default:!0}),f("branding",{processor:"boolean",default:!0}),f("promotion",{processor:"boolean",default:!0}),f("resize",{processor:C=>C==="both"||R(C),default:!lm.deviceType.isTouch()}),f("sidebar_show",{processor:"string"}),f("help_accessibility",{processor:"boolean",default:r.hasPlugin("help")}),f("default_font_stack",{processor:"string[]",default:[]})},PA=$r("readonly"),z2=$r("height"),H2=$r("width"),U2=V2($r("min_width")),hy=V2($r("min_height")),py=V2($r("max_width")),I_=V2($r("max_height")),by=V2($r("style_formats")),N_=$r("style_formats_merge"),DI=$r("style_formats_autohide"),LA=$r("content_langs"),RI=$r("removed_menuitems"),n1=$r("toolbar_mode"),P_=$r("toolbar_groups"),qp=$r("toolbar_location"),MA=$r("fixed_toolbar_container"),t7=$r("fixed_toolbar_container_target"),II=$r("toolbar_persist"),BA=$r("toolbar_sticky_offset"),Lh=$r("menubar"),vy=$r("toolbar"),L_=$r("file_picker_callback"),W2=$r("file_picker_validator_handler"),FA=$r("font_size_input_default_unit"),K2=$r("file_picker_types"),M_=$r("typeahead_urls"),NI=$r("anchor_top"),PI=$r("anchor_bottom"),cm=$r("draggable_modal"),LI=$r("statusbar"),MI=$r("elementpath"),Xc=$r("branding"),va=$r("resize"),BI=$r("paste_as_text"),B_=$r("sidebar_show"),FI=$r("promotion"),$A=$r("help_accessibility"),F_=$r("default_font_stack"),Yp=r=>r.options.get("skin")===!1,j2=r=>r.options.get("menubar")!==!1,$_=r=>{const l=r.options.get("skin_url");if(Yp(r))return l;if(l)return r.documentBaseURI.toAbsolute(l);{const d=r.options.get("skin");return TI.baseURL+"/skins/ui/"+d}},V_=r=>D.from(r.options.get("skin_url")),$I=r=>r.options.get("line_height_formats").split(" "),Z2=r=>{const l=vy(r),d=h(l),f=T(l)&&l.length>0;return!G2(r)&&(f||d||l===!0)},z_=r=>{const l=Et(9,f=>r.options.get("toolbar"+(f+1))),d=Ht(l,h);return ur(d.length>0,d)},G2=r=>z_(r).fold(()=>{const l=vy(r);return se(l,h)&&l.length>0},Te),VA=r=>qp(r)===$2.bottom,zA=r=>{var l;if(!r.inline)return D.none();const d=(l=MA(r))!==null&&l!==void 0?l:"";if(d.length>0)return fs(Cn(),d);const f=t7(r);return W(f)?D.some(un(f)):D.none()},o1=r=>r.inline&&zA(r).isSome(),H_=r=>zA(r).getOrThunk(()=>nt(ht(un(r.getElement())))),U_=r=>r.inline&&!j2(r)&&!Z2(r)&&!G2(r),Mh=r=>(r.options.get("toolbar_sticky")||r.inline)&&!o1(r)&&!U_(r),Bh=r=>!o1(r)&&r.options.get("ui_mode")==="split",Xp=r=>{const l=r.options.get("menu");return eo(l,d=>({...d,items:d.items}))};var q2=Object.freeze({__proto__:null,get ToolbarMode(){return gd},get ToolbarLocation(){return $2},register:OI,getSkinUrl:$_,getSkinUrlOption:V_,isReadOnly:PA,isSkinDisabled:Yp,getHeightOption:z2,getWidthOption:H2,getMinWidthOption:U2,getMinHeightOption:hy,getMaxWidthOption:py,getMaxHeightOption:I_,getUserStyleFormats:by,shouldMergeStyleFormats:N_,shouldAutoHideStyleFormats:DI,getLineHeightFormats:$I,getContentLanguages:LA,getRemovedMenuItems:RI,isMenubarEnabled:j2,isMultipleToolbars:G2,isToolbarEnabled:Z2,isToolbarPersist:II,getMultipleToolbarsOption:z_,getUiContainer:H_,useFixedContainer:o1,isSplitUiMode:Bh,getToolbarMode:n1,isDraggableModal:cm,isDistractionFree:U_,isStickyToolbar:Mh,getStickyToolbarOffset:BA,getToolbarLocation:qp,isToolbarLocationBottom:VA,getToolbarGroups:P_,getMenus:Xp,getMenubar:Lh,getToolbar:vy,getFilePickerCallback:L_,getFilePickerTypes:K2,useTypeaheadUrls:M_,getAnchorTop:NI,getAnchorBottom:PI,getFilePickerValidatorHandler:W2,getFontSizeInputDefaultUnit:FA,useStatusBar:LI,useElementPath:MI,promotionEnabled:FI,useBranding:Xc,getResize:va,getPasteAsText:BI,getSidebarShow:B_,useHelpAccessibility:$A,getDefaultFontStack:F_});const n7=["visible","hidden","clip"],VI=r=>Rc(r).length>0&&!ct(n7,r),zI=r=>{if(wl(r)){const l=Ts(r,"overflow-x"),d=Ts(r,"overflow-y");return VI(l)||VI(d)}return!1},Jp=(r,l)=>Bh(r)?((d,f)=>{const b=zp(f,zI),v=b.length===0?Gt(f).map(an).map(C=>zp(C,zI)).getOr([]):b;return Ne(v).map(C=>({element:C,others:v.slice(1),isFullscreen:()=>(k=>k.plugins.fullscreen&&k.plugins.fullscreen.isFullscreen())(d)}))})(r,l):D.none(),Qp=r=>{const l=[...Le(r.others,di),Gi()];return r.isFullscreen()?Gi():((d,f)=>nn(f,(b,v)=>Ud(b,v),d))(di(r.element),l)},Za=Ou({name:"Button",factory:r=>{const l=my(r.action),d=r.dom.tag,f=b=>En(r.dom,"attributes").bind(v=>En(v,b));return{uid:r.uid,dom:r.dom,components:r.components,events:l,behaviours:no(r.buttonBehaviours,[so.config({}),$n.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d==="button"?{type:f("type").getOr("button"),...f("role").map(b=>({role:b})).getOr({})}:{role:r.role.getOr(f("role").getOr("button"))}},eventOrder:r.eventOrder}},configFields:[ut("uid",void 0),Lt("dom"),ut("components",[]),io("buttonBehaviours",[so,$n]),qo("action"),qo("role"),ut("eventOrder",{})]}),hg=r=>{const l=Yl(r),d=Mr(l),f=(C=>{const k=C.dom.attributes!==void 0?C.dom.attributes:[];return nn(k,(E,P)=>P.name==="class"?E:{...E,[P.name]:P.value},{})})(l),b=(C=>Array.prototype.slice.call(C.dom.classList,0))(l),v=d.length===0?{}:{innerHtml:Xd(l)};return{tag:nl(l),classes:b,attributes:f,...v}},kr=r=>{const l=(d=>d.uid!==void 0)(r)&&Oo(r,"uid")?r.uid:Wc("memento");return{get:d=>d.getSystem().getByUid(l).getOrDie(),getOpt:d=>d.getSystem().getByUid(l).toOptional(),asSpec:()=>({...r,uid:l})}};var o7=Object.freeze({__proto__:null,exhibit:(r,l)=>js({attributes:Zd([{key:l.tabAttr,value:"true"}])})}),HI=[ut("tabAttr","data-alloy-tabstop")];const Gr=Mi({fields:HI,name:"tabstopping",active:o7}),HA=_n("tooltip.exclusive"),Y2=_n("tooltip.show"),X2=_n("tooltip.hide"),J2=_n("tooltip.immediateHide"),Q2=_n("tooltip.immediateShow"),UI=(r,l,d)=>{r.getSystem().broadcastOn([HA],{})};var r7=Object.freeze({__proto__:null,hideAllExclusive:UI,immediateOpenClose:(r,l,d,f)=>No(r,f?Q2:J2),isEnabled:(r,l,d)=>d.isEnabled(),setComponents:(r,l,d,f)=>{d.getTooltip().each(b=>{b.getSystem().isConnected()&&Jn.set(b,f)})},setEnabled:(r,l,d,f)=>d.setEnabled(f)}),s7=Object.freeze({__proto__:null,events:(r,l)=>{const d=v=>{l.getTooltip().each(C=>{C.getSystem().isConnected()&&(fl(C),r.onHide(v,C),l.clearTooltip())}),l.clearTimer()},f=v=>{if(!l.isShowing()&&l.isEnabled()){UI(v);const C=r.lazySink(v).getOrDie(),k=v.getSystem().build({dom:r.tooltipDom,components:r.tooltipComponents,events:yo(r.mode==="normal"?[Ot(Pn(),E=>{No(v,Y2)}),Ot(So(),E=>{No(v,X2)})]:[]),behaviours:qt([Jn.config({})])});l.setTooltip(k),om(C,k),r.onShow(v,k),ba.position(C,k,{anchor:r.anchor(v)})}},b=v=>{l.getTooltip().each(C=>{const k=r.lazySink(v).getOrDie();ba.position(k,C,{anchor:r.anchor(v)})})};return yo(Kt([[C0(v=>{r.onSetup(v)}),Ot(Y2,v=>{l.resetTimer(()=>{f(v)},r.delayForShow())}),Ot(X2,v=>{l.resetTimer(()=>{d(v)},r.delayForHide())}),Ot(Q2,v=>{l.resetTimer(()=>{f(v)},0)}),Ot(J2,v=>{l.resetTimer(()=>{d(v)},0)}),Ot(mc(),(v,C)=>{const k=C;k.universal||ct(k.channels,HA)&&d(v)}),ld(v=>{d(v)})],(()=>{switch(r.mode){case"normal":return[Ot(Cr(),v=>{No(v,Q2)}),Ot(kp(),v=>{No(v,J2)}),Ot(Pn(),v=>{No(v,Y2)}),Ot(So(),v=>{No(v,X2)})];case"follow-highlight":return[Ot(Px(),(v,C)=>{No(v,Y2)}),Ot(zf(),v=>{No(v,X2)})];case"children-normal":return[Ot(Cr(),(v,C)=>{qs(v.element).each(k=>{au(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,Q2)},E=>{l.isShowing()&&(r.onShow(v,E),b(v))})})}),Ot(kp(),v=>{qs(v.element).fold(()=>{No(v,J2)},j)}),Ot(Pn(),v=>{fs(v.element,"[data-mce-tooltip]:hover").each(C=>{l.getTooltip().fold(()=>{No(v,Y2)},k=>{l.isShowing()&&(r.onShow(v,k),b(v))})})}),Ot(So(),v=>{fs(v.element,"[data-mce-tooltip]:hover").fold(()=>{No(v,X2)},j)})];default:return[Ot(Cr(),(v,C)=>{qs(v.element).each(k=>{au(C.event.target,"[data-mce-tooltip]")&&l.getTooltip().fold(()=>{No(v,Q2)},E=>{l.isShowing()&&(r.onShow(v,E),b(v))})})}),Ot(kp(),v=>{qs(v.element).fold(()=>{No(v,J2)},j)})]}})()]))}}),i7=[Lt("lazySink"),Lt("tooltipDom"),ut("exclusive",!0),ut("tooltipComponents",[]),os("delayForShow",U(300)),os("delayForHide",U(300)),os("onSetup",j),Mc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ut("anchor",r=>({type:"hotspot",hotspot:r,layouts:{onLtr:U([Gs,As,Ns,si,Ps,Fr]),onRtl:U([Gs,As,Ns,si,Ps,Fr])},bubble:pc(0,-2,{})})),nr("onHide"),nr("onShow")],a7=Object.freeze({__proto__:null,init:()=>{const r=Hn(!0),l=Or(),d=Or(),f=()=>{l.on(clearTimeout)},b=U("not-implemented");return Li({getTooltip:d.get,isShowing:d.isSet,setTooltip:d.set,clearTooltip:d.clear,clearTimer:f,resetTimer:(v,C)=>{f(),l.set(setTimeout(v,C))},readState:b,isEnabled:()=>r.get(),setEnabled:v=>r.set(v)})}});const ai=Mi({fields:i7,name:"tooltipping",active:s7,state:a7,apis:r7}),{entries:WI,setPrototypeOf:UA,isFrozen:KI,getPrototypeOf:jI,getOwnPropertyDescriptor:l7}=Object;let{freeze:vc,seal:um,create:ZI}=Object,{apply:WA,construct:KA}=typeof Reflect<"u"&&Reflect;WA||(WA=function(r,l,d){return r.apply(l,d)}),vc||(vc=function(r){return r}),um||(um=function(r){return r}),KA||(KA=function(r,l){return new r(...l)});const jA=lf(Array.prototype.forEach),c7=lf(Array.prototype.pop),ew=lf(Array.prototype.push),W_=lf(String.prototype.toLowerCase),K_=lf(String.prototype.toString),u7=lf(String.prototype.match),hn=lf(String.prototype.replace),r1=lf(String.prototype.indexOf),d7=lf(String.prototype.trim),Nu=lf(RegExp.prototype.test),eb=(j_=TypeError,function(){for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return KA(j_,l)});var j_;function lf(r){return function(l){for(var d=arguments.length,f=new Array(d>1?d-1:0),b=1;b<d;b++)f[b-1]=arguments[b];return WA(r,l,f)}}function Hr(r,l,d){var f;d=(f=d)!==null&&f!==void 0?f:W_,UA&&UA(r,null);let b=l.length;for(;b--;){let v=l[b];if(typeof v=="string"){const C=d(v);C!==v&&(KI(l)||(l[b]=C),v=C)}r[v]=!0}return r}function yy(r){const l=ZI(null);for(const[d,f]of WI(r))l[d]=f;return l}function Z_(r,l){for(;r!==null;){const d=l7(r,l);if(d){if(d.get)return lf(d.get);if(typeof d.value=="function")return lf(d.value)}r=jI(r)}return function(d){return console.warn("fallback value for",d),null}}const ZA=vc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tw=vc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),s1=vc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GI=vc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),GA=vc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),f7=vc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qI=vc(["#text"]),m7=vc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G_=vc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),YI=vc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q_=vc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),g7=um(/\{\{[\w\W]*|[\w\W]*\}\}/gm),h7=um(/<%[\w\W]*|[\w\W]*%>/gm),qA=um(/\${[\w\W]*}/gm),p7=um(/^data-[\-\w.\u00B7-\uFFFF]/),b7=um(/^aria-[\-\w]+$/),XI=um(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),v7=um(/^(?:\w+script|data):/i),y7=um(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pg=um(/^html$/i);var nw=Object.freeze({__proto__:null,MUSTACHE_EXPR:g7,ERB_EXPR:h7,TMPLIT_EXPR:qA,DATA_ATTR:p7,ARIA_ATTR:b7,IS_ALLOWED_URI:XI,IS_SCRIPT_OR_DATA:v7,ATTR_WHITESPACE:y7,DOCTYPE_NAME:pg});const x7=()=>typeof window>"u"?null:window;var w7=function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x7();const d=vt=>r(vt);if(d.version="3.0.5",d.removed=[],!l||!l.document||l.document.nodeType!==9)return d.isSupported=!1,d;const f=l.document,b=f.currentScript;let{document:v}=l;const{DocumentFragment:C,HTMLTemplateElement:k,Node:E,Element:P,NodeFilter:F,NamedNodeMap:M=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:V,DOMParser:Y,trustedTypes:ee}=l,fe=P.prototype,pe=Z_(fe,"cloneNode"),Se=Z_(fe,"nextSibling"),ge=Z_(fe,"childNodes"),me=Z_(fe,"parentNode");if(typeof k=="function"){const vt=v.createElement("template");vt.content&&vt.content.ownerDocument&&(v=vt.content.ownerDocument)}let we,ke="";const{implementation:De,createNodeIterator:Ze,createDocumentFragment:it,getElementsByTagName:It}=v,{importNode:Tt}=f;let kt={};d.isSupported=typeof WI=="function"&&typeof me=="function"&&De&&De.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Wt,ERB_EXPR:vn,TMPLIT_EXPR:In,DATA_ATTR:Kn,ARIA_ATTR:lo,IS_SCRIPT_OR_DATA:Uo,ATTR_WHITESPACE:ss}=nw;let{IS_ALLOWED_URI:ms}=nw,Do=null;const or=Hr({},[...ZA,...tw,...s1,...GA,...qI]);let Xn=null;const gs=Hr({},[...m7,...G_,...YI,...q_]);let Vr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ga=null,qa=null,ta=!0,$i=!0,Yh=!1,Yy=!0,Cb=!1,Xh=!1,cC=!1,_b=!1,Rg=!1,N1=!1,P1=!1,Xy=!0,Pk=!1,uC=!0,Sb=!1,Ig={},Jh=null;const dC=Hr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fC=null;const pr=Hr({},["audio","video","img","source","image","track"]);let Ng=null;const pf=Hr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L1="http://www.w3.org/1998/Math/MathML",Lk="http://www.w3.org/2000/svg",Qh="http://www.w3.org/1999/xhtml";let Jy=Qh,HO=!1,Mk=null;const A9=Hr({},[L1,Lk,Qh],K_);let Qy;const T9=["application/xhtml+xml","text/html"];let Pl,M1=null;const O9=v.createElement("form"),S6=function(vt){return vt instanceof RegExp||vt instanceof Function},Bk=function(vt){if(!M1||M1!==vt){if(vt&&typeof vt=="object"||(vt={}),vt=yy(vt),Qy=Qy=T9.indexOf(vt.PARSER_MEDIA_TYPE)===-1?"text/html":vt.PARSER_MEDIA_TYPE,Pl=Qy==="application/xhtml+xml"?K_:W_,Do="ALLOWED_TAGS"in vt?Hr({},vt.ALLOWED_TAGS,Pl):or,Xn="ALLOWED_ATTR"in vt?Hr({},vt.ALLOWED_ATTR,Pl):gs,Mk="ALLOWED_NAMESPACES"in vt?Hr({},vt.ALLOWED_NAMESPACES,K_):A9,Ng="ADD_URI_SAFE_ATTR"in vt?Hr(yy(pf),vt.ADD_URI_SAFE_ATTR,Pl):pf,fC="ADD_DATA_URI_TAGS"in vt?Hr(yy(pr),vt.ADD_DATA_URI_TAGS,Pl):pr,Jh="FORBID_CONTENTS"in vt?Hr({},vt.FORBID_CONTENTS,Pl):dC,Ga="FORBID_TAGS"in vt?Hr({},vt.FORBID_TAGS,Pl):{},qa="FORBID_ATTR"in vt?Hr({},vt.FORBID_ATTR,Pl):{},Ig="USE_PROFILES"in vt&&vt.USE_PROFILES,ta=vt.ALLOW_ARIA_ATTR!==!1,$i=vt.ALLOW_DATA_ATTR!==!1,Yh=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,Yy=vt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Cb=vt.SAFE_FOR_TEMPLATES||!1,Xh=vt.WHOLE_DOCUMENT||!1,Rg=vt.RETURN_DOM||!1,N1=vt.RETURN_DOM_FRAGMENT||!1,P1=vt.RETURN_TRUSTED_TYPE||!1,_b=vt.FORCE_BODY||!1,Xy=vt.SANITIZE_DOM!==!1,Pk=vt.SANITIZE_NAMED_PROPS||!1,uC=vt.KEEP_CONTENT!==!1,Sb=vt.IN_PLACE||!1,ms=vt.ALLOWED_URI_REGEXP||XI,Jy=vt.NAMESPACE||Qh,Vr=vt.CUSTOM_ELEMENT_HANDLING||{},vt.CUSTOM_ELEMENT_HANDLING&&S6(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vr.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&S6(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vr.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vr.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Cb&&($i=!1),N1&&(Rg=!0),Ig&&(Do=Hr({},[...qI]),Xn=[],Ig.html===!0&&(Hr(Do,ZA),Hr(Xn,m7)),Ig.svg===!0&&(Hr(Do,tw),Hr(Xn,G_),Hr(Xn,q_)),Ig.svgFilters===!0&&(Hr(Do,s1),Hr(Xn,G_),Hr(Xn,q_)),Ig.mathMl===!0&&(Hr(Do,GA),Hr(Xn,YI),Hr(Xn,q_))),vt.ADD_TAGS&&(Do===or&&(Do=yy(Do)),Hr(Do,vt.ADD_TAGS,Pl)),vt.ADD_ATTR&&(Xn===gs&&(Xn=yy(Xn)),Hr(Xn,vt.ADD_ATTR,Pl)),vt.ADD_URI_SAFE_ATTR&&Hr(Ng,vt.ADD_URI_SAFE_ATTR,Pl),vt.FORBID_CONTENTS&&(Jh===dC&&(Jh=yy(Jh)),Hr(Jh,vt.FORBID_CONTENTS,Pl)),uC&&(Do["#text"]=!0),Xh&&Hr(Do,["html","head","body"]),Do.table&&(Hr(Do,["tbody"]),delete Ga.tbody),vt.TRUSTED_TYPES_POLICY){if(typeof vt.TRUSTED_TYPES_POLICY.createHTML!="function")throw eb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof vt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw eb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');we=vt.TRUSTED_TYPES_POLICY,ke=we.createHTML("")}else we===void 0&&(we=function(jn,xo){if(typeof jn!="object"||typeof jn.createPolicy!="function")return null;let is=null;const Ys="data-tt-policy-suffix";xo&&xo.hasAttribute(Ys)&&(is=xo.getAttribute(Ys));const mi="dompurify"+(is?"#"+is:"");try{return jn.createPolicy(mi,{createHTML:li=>li,createScriptURL:li=>li})}catch{return console.warn("TrustedTypes policy "+mi+" could not be created."),null}}(ee,b)),we!==null&&typeof ke=="string"&&(ke=we.createHTML(""));vc&&vc(vt),M1=vt}},k6=Hr({},["mi","mo","mn","ms","mtext"]),E6=Hr({},["foreignobject","desc","title","annotation-xml"]),vo=Hr({},["title","style","font","a","script"]),kb=Hr({},tw);Hr(kb,s1),Hr(kb,GI);const Fk=Hr({},GA);Hr(Fk,f7);const Eb=function(vt){ew(d.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{vt.remove()}},ex=function(vt,jn){try{ew(d.removed,{attribute:jn.getAttributeNode(vt),from:jn})}catch{ew(d.removed,{attribute:null,from:jn})}if(jn.removeAttribute(vt),vt==="is"&&!Xn[vt])if(Rg||N1)try{Eb(jn)}catch{}else try{jn.setAttribute(vt,"")}catch{}},UO=function(vt){let jn,xo;if(_b)vt="<remove></remove>"+vt;else{const mi=u7(vt,/^[\r\n\t ]+/);xo=mi&&mi[0]}Qy==="application/xhtml+xml"&&Jy===Qh&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");const is=we?we.createHTML(vt):vt;if(Jy===Qh)try{jn=new Y().parseFromString(is,Qy)}catch{}if(!jn||!jn.documentElement){jn=De.createDocument(Jy,"template",null);try{jn.documentElement.innerHTML=HO?ke:is}catch{}}const Ys=jn.body||jn.documentElement;return vt&&xo&&Ys.insertBefore(v.createTextNode(xo),Ys.childNodes[0]||null),Jy===Qh?It.call(jn,Xh?"html":"body")[0]:Xh?jn.documentElement:Ys},WO=function(vt){return Ze.call(vt.ownerDocument||vt,vt,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT,null,!1)},KO=function(vt){return typeof E=="object"?vt instanceof E:vt&&typeof vt=="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Ed=function(vt,jn,xo){kt[vt]&&jA(kt[vt],is=>{is.call(d,jn,xo,M1)})},A6=function(vt){let jn;if(Ed("beforeSanitizeElements",vt,null),(xo=vt)instanceof V&&(typeof xo.nodeName!="string"||typeof xo.textContent!="string"||typeof xo.removeChild!="function"||!(xo.attributes instanceof M)||typeof xo.removeAttribute!="function"||typeof xo.setAttribute!="function"||typeof xo.namespaceURI!="string"||typeof xo.insertBefore!="function"||typeof xo.hasChildNodes!="function"))return Eb(vt),!0;var xo;const is=Pl(vt.nodeName);if(Ed("uponSanitizeElement",vt,{tagName:is,allowedTags:Do}),vt.hasChildNodes()&&!KO(vt.firstElementChild)&&(!KO(vt.content)||!KO(vt.content.firstElementChild))&&Nu(/<[/\w]/g,vt.innerHTML)&&Nu(/<[/\w]/g,vt.textContent))return Eb(vt),!0;if(!Do[is]||Ga[is]){if(!Ga[is]&&T6(is)&&(Vr.tagNameCheck instanceof RegExp&&Nu(Vr.tagNameCheck,is)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(is)))return!1;if(uC&&!Jh[is]){const Ys=me(vt)||vt.parentNode,mi=ge(vt)||vt.childNodes;if(mi&&Ys)for(let li=mi.length-1;li>=0;--li)Ys.insertBefore(pe(mi[li],!0),Se(vt))}return Eb(vt),!0}return vt instanceof P&&!function(Ys){let mi=me(Ys);mi&&mi.tagName||(mi={namespaceURI:Jy,tagName:"template"});const li=W_(Ys.tagName),Ti=W_(mi.tagName);return!!Mk[Ys.namespaceURI]&&(Ys.namespaceURI===Lk?mi.namespaceURI===Qh?li==="svg":mi.namespaceURI===L1?li==="svg"&&(Ti==="annotation-xml"||k6[Ti]):!!kb[li]:Ys.namespaceURI===L1?mi.namespaceURI===Qh?li==="math":mi.namespaceURI===Lk?li==="math"&&E6[Ti]:!!Fk[li]:Ys.namespaceURI===Qh?!(mi.namespaceURI===Lk&&!E6[Ti])&&!(mi.namespaceURI===L1&&!k6[Ti])&&!Fk[li]&&(vo[li]||!kb[li]):!(Qy!=="application/xhtml+xml"||!Mk[Ys.namespaceURI]))}(vt)?(Eb(vt),!0):is!=="noscript"&&is!=="noembed"&&is!=="noframes"||!Nu(/<\/no(script|embed|frames)/i,vt.innerHTML)?(Cb&&vt.nodeType===3&&(jn=vt.textContent,jn=hn(jn,Wt," "),jn=hn(jn,vn," "),jn=hn(jn,In," "),vt.textContent!==jn&&(ew(d.removed,{element:vt.cloneNode()}),vt.textContent=jn)),Ed("afterSanitizeElements",vt,null),!1):(Eb(vt),!0)},jO=function(vt,jn,xo){if(Xy&&(jn==="id"||jn==="name")&&(xo in v||xo in O9))return!1;if(!($i&&!qa[jn]&&Nu(Kn,jn))){if(!(ta&&Nu(lo,jn))){if(!Xn[jn]||qa[jn]){if(!(T6(vt)&&(Vr.tagNameCheck instanceof RegExp&&Nu(Vr.tagNameCheck,vt)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(vt))&&(Vr.attributeNameCheck instanceof RegExp&&Nu(Vr.attributeNameCheck,jn)||Vr.attributeNameCheck instanceof Function&&Vr.attributeNameCheck(jn))||jn==="is"&&Vr.allowCustomizedBuiltInElements&&(Vr.tagNameCheck instanceof RegExp&&Nu(Vr.tagNameCheck,xo)||Vr.tagNameCheck instanceof Function&&Vr.tagNameCheck(xo))))return!1}else if(!Ng[jn]){if(!Nu(ms,hn(xo,ss,""))){if((jn!=="src"&&jn!=="xlink:href"&&jn!=="href"||vt==="script"||r1(xo,"data:")!==0||!fC[vt])&&!(Yh&&!Nu(Uo,hn(xo,ss,"")))){if(xo)return!1}}}}}return!0},T6=function(vt){return vt.indexOf("-")>0},O6=function(vt){let jn,xo,is,Ys;Ed("beforeSanitizeAttributes",vt,null);const{attributes:mi}=vt;if(!mi)return;const li={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xn};for(Ys=mi.length;Ys--;){jn=mi[Ys];const{name:Ti,namespaceURI:tx}=jn;xo=Ti==="value"?jn.value:d7(jn.value);const R9=xo;if(is=Pl(Ti),li.attrName=is,li.attrValue=xo,li.keepAttr=!0,li.forceKeepAttr=void 0,Ed("uponSanitizeAttribute",vt,li),xo=li.attrValue,li.forceKeepAttr)continue;if(!li.keepAttr){ex(Ti,vt);continue}if(!Yy&&Nu(/\/>/i,xo)){ex(Ti,vt);continue}Cb&&(xo=hn(xo,Wt," "),xo=hn(xo,vn," "),xo=hn(xo,In," "));const D6=Pl(vt.nodeName);if(jO(D6,is,xo)){if(!Pk||is!=="id"&&is!=="name"||(ex(Ti,vt),xo="user-content-"+xo),we&&typeof ee=="object"&&typeof ee.getAttributeType=="function"&&!tx)switch(ee.getAttributeType(D6,is)){case"TrustedHTML":xo=we.createHTML(xo);break;case"TrustedScriptURL":xo=we.createScriptURL(xo)}if(xo!==R9)try{tx?vt.setAttributeNS(tx,Ti,xo):vt.setAttribute(Ti,xo)}catch{ex(Ti,vt)}}else ex(Ti,vt)}Ed("afterSanitizeAttributes",vt,null)},D9=function vt(jn){let xo;const is=WO(jn);for(Ed("beforeSanitizeShadowDOM",jn,null);xo=is.nextNode();)Ed("uponSanitizeShadowNode",xo,null),A6(xo)||(xo.content instanceof C&&vt(xo.content),O6(xo));Ed("afterSanitizeShadowDOM",jn,null)};return d.sanitize=function(vt){let jn,xo,is,Ys,mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(HO=!vt,HO&&(vt="<!-->"),typeof vt!="string"&&!KO(vt)){if(typeof vt.toString!="function")throw eb("toString is not a function");if(typeof(vt=vt.toString())!="string")throw eb("dirty is not a string, aborting")}if(!d.isSupported)return vt;if(cC||Bk(mi),d.removed=[],typeof vt=="string"&&(Sb=!1),Sb){if(vt.nodeName){const tx=Pl(vt.nodeName);if(!Do[tx]||Ga[tx])throw eb("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof E)jn=UO("<!---->"),xo=jn.ownerDocument.importNode(vt,!0),xo.nodeType===1&&xo.nodeName==="BODY"||xo.nodeName==="HTML"?jn=xo:jn.appendChild(xo);else{if(!Rg&&!Cb&&!Xh&&vt.indexOf("<")===-1)return we&&P1?we.createHTML(vt):vt;if(jn=UO(vt),!jn)return Rg?null:P1?ke:""}jn&&_b&&Eb(jn.firstChild);const li=WO(Sb?vt:jn);for(;is=li.nextNode();)A6(is)||(is.content instanceof C&&D9(is.content),O6(is));if(Sb)return vt;if(Rg){if(N1)for(Ys=it.call(jn.ownerDocument);jn.firstChild;)Ys.appendChild(jn.firstChild);else Ys=jn;return(Xn.shadowroot||Xn.shadowrootmode)&&(Ys=Tt.call(f,Ys,!0)),Ys}let Ti=Xh?jn.outerHTML:jn.innerHTML;return Xh&&Do["!doctype"]&&jn.ownerDocument&&jn.ownerDocument.doctype&&jn.ownerDocument.doctype.name&&Nu(pg,jn.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+jn.ownerDocument.doctype.name+`>
`+Ti),Cb&&(Ti=hn(Ti,Wt," "),Ti=hn(Ti,vn," "),Ti=hn(Ti,In," ")),we&&P1?we.createHTML(Ti):Ti},d.setConfig=function(vt){Bk(vt),cC=!0},d.clearConfig=function(){M1=null,cC=!1},d.isValidAttribute=function(vt,jn,xo){M1||Bk({});const is=Pl(vt),Ys=Pl(jn);return jO(is,Ys,xo)},d.addHook=function(vt,jn){typeof jn=="function"&&(kt[vt]=kt[vt]||[],ew(kt[vt],jn))},d.removeHook=function(vt){if(kt[vt])return c7(kt[vt])},d.removeHooks=function(vt){kt[vt]&&(kt[vt]=[])},d.removeAllHooks=function(){kt={}},d}();const JI=r=>w7().sanitize(r);var hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const C7={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},QI="temporary-placeholder",YA=r=>()=>En(r,QI).getOr("!not found!"),tb=(r,l)=>{const d=r.toLowerCase();if(hd.isRtl()){const f=((b,v)=>Zu(b,v)?b:((C,k)=>C+k)(b,v))(d,"-rtl");return uo(l,f)?f:d}return d},ow=(r,l)=>En(l,tb(r,l)),eN=(r,l)=>{const d=l();return ow(r,d).getOrThunk(YA(d))},Y_=()=>To("add-focusable",[as(r=>{V0(r.element,"svg").each(l=>cn(l,"focusable","false"))})]),tN=(r,l,d,f)=>{var b,v;const C=(E=>!!hd.isRtl()&&uo(C7,E))(l)?["tox-icon--flip"]:[],k=En(d,tb(l,d)).or(f).getOrThunk(YA(d));return{dom:{tag:r.tag,attributes:(b=r.attributes)!==null&&b!==void 0?b:{},classes:r.classes.concat(C),innerHtml:k},behaviours:qt([...(v=r.behaviours)!==null&&v!==void 0?v:[],Y_()])}},Jc=(r,l,d,f=D.none())=>tN(l,r,d(),f),_7={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},XA=Ou({name:"Notification",factory:r=>{const l=_n("notification-text"),d=kr({dom:hg(`<p id=${l}>${JI(r.backstageProvider.translate(r.text))}</p>`),behaviours:qt([Jn.config({})])}),f=M=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${M}%`}}}),b=M=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${M}%`}}),v=kr({dom:{tag:"div",classes:r.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},b(0)],behaviours:qt([Jn.config({})])}),C={updateProgress:(M,V)=>{M.getSystem().isConnected()&&v.getOpt(M).each(Y=>{Jn.set(Y,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(V)]},b(V)])})},updateText:(M,V)=>{if(M.getSystem().isConnected()){const Y=d.get(M);Jn.set(Y,[$s(V)])}}},k=Kt([r.icon.toArray(),r.level.toArray(),r.level.bind(M=>D.from(_7[M])).toArray()]),E=kr(Za.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":r.backstageProvider.translate("Close")}},components:[Jc("close",{tag:"span",classes:["tox-icon"]},r.iconProvider)],buttonBehaviours:qt([Gr.config({}),ai.config({...r.backstageProvider.tooltips.getConfig({tooltipText:r.backstageProvider.translate("Close")})})]),action:M=>{r.onAction(M)}})),P=((M,V,Y)=>{const ee=Y(),fe=Q(M,pe=>uo(ee,tb(pe,ee)));return tN({tag:"div",classes:["tox-notification__icon"]},fe.getOr(QI),ee,D.none())})(k,0,r.iconProvider),F=[P,{dom:{tag:"div",classes:["tox-notification__body"]},components:[d.asSpec()],behaviours:qt([Jn.config({})])}];return{uid:r.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":l},classes:r.level.map(M=>["tox-notification","tox-notification--in",`tox-notification--${M}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:qt([Gr.config({}),so.config({}),$n.config({mode:"special",onEscape:M=>(r.onAction(M),D.some(!0))})]),components:F.concat(r.progress?[v.asSpec()]:[]).concat([E.asSpec()]),apis:C}},configFields:[qo("level"),Lt("progress"),qo("icon"),Lt("onAction"),Lt("text"),Lt("iconProvider"),Lt("backstageProvider")],apis:{updateProgress:(r,l,d)=>{r.updateProgress(l,d)},updateText:(r,l,d)=>{r.updateText(l,d)}}});var nN=(r,l,d,f)=>{const b=l.backstage.shared,v=()=>un(r.queryCommandValue("ToggleView")===""?r.getContentAreaContainer():r.getContainer()),C=()=>{const E=di(v());return D.some(E)},k=E=>{C().each(P=>{ft(E,F=>{Er(F.element,"width"),Ii(F.element)>P.width&&bo(F.element,"width",P.width+"px")})})};return{open:(E,P,F)=>{const M=()=>{f.on(ee=>{P();const fe=F();(pe=>{Jn.remove(pe,V),Y()})(ee),((pe,Se)=>{Mr(pe.element).length===0?((ge,me)=>{bs.hide(ge),f.clear(),me&&r.focus()})(pe,Se):((ge,me)=>{me&&$n.focusIn(ge)})(pe,Se)})(ee,fe)})},V=Ji(XA.sketch({text:E.text,level:ct(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:E.icon,onAction:M,iconProvider:b.providers.icons,backstageProvider:b.providers}));if(f.isSet()){const ee=ul(V);f.on(fe=>{Jn.append(fe,ee),bs.reposition(fe),ds.refresh(fe),k(fe.components())})}else{const ee=Ji(bs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:b.getSink,fireDismissalEventInstead:{},...b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qt([$n.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Jn.config({}),...Mh(r)&&!b.header.isPositionedAtTop()?[]:[ds.config({contextual:{lazyContext:()=>D.some(di(v())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:ge=>Jp(r,ge.element).map(me=>({bounds:Qp(me),optScrollEnv:D.some({currentScrollTop:me.element.dom.scrollTop,scrollElmTop:Hl(me.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:D.none()}))})]])})),fe=ul(V),pe={maxHeightFunction:Ah()},Se={...b.anchors.banner(),overrides:pe};f.set(ee),d.add(ee),bs.showWithinBounds(ee,fe,{anchor:Se},C)}J(E.timeout)&&E.timeout>0&&R_.setEditorTimeout(r,()=>{M()},E.timeout);const Y=()=>{f.on(ee=>{bs.reposition(ee),ds.refresh(ee),k(ee.components())})};return{close:M,reposition:Y,text:ee=>{XA.updateText(V,ee)},settings:E,getEl:()=>V.element.dom,progressBar:{value:ee=>{XA.updateProgress(V,ee)}}}},close:E=>{E.close()},getArgs:E=>E.settings}},rw;(function(r){r[r.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",r[r.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(rw||(rw={}));var dm=rw;const X_="tox-menu-nav__js",J_="tox-collection__item",oN="tox-swatch",rN={normal:X_,color:oN},sN="tox-collection__item--enabled",iN="tox-collection__item-icon",sw="tox-collection__item-label",JA="tox-collection__item-caret",bg="tox-collection__item--active",iw="tox-collection__item-container",aw="tox-collection__item-container--row",nb=r=>En(rN,r).getOr(X_),IK=r=>r==="color"?"tox-swatches":"tox-menu",QA=r=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:IK(r),tieredMenu:"tox-tiered-menu"}),i1=r=>{const l=QA(r);return{backgroundMenu:l.backgroundMenu,selectedMenu:l.selectedMenu,menu:l.menu,selectedItem:l.selectedItem,item:nb(r)}},aN=(r,l,d)=>{const f=QA(d);return{tag:"div",classes:Kt([[f.menu,`tox-menu-${l}-column`],r?[f.hasIcons]:[]])}},lN=[e1.parts.items({})],Q_=(r,l,d)=>{const f=QA(d);return{dom:{tag:"div",classes:Kt([[f.tieredMenu]])},markers:i1(d)}},S7=U([qo("data"),ut("inputAttributes",{}),ut("inputStyles",{}),ut("tag","input"),ut("inputClasses",[]),nr("onSetValue"),ut("styles",{}),ut("eventOrder",{}),Sn("inputBehaviours",[mt,so]),ut("selectOnFocus",!0)]),k7=r=>qt([so.config({onFocus:r.selectOnFocus?l=>{const d=l.element,f=jf(d);d.dom.setSelectionRange(0,f.length)}:j})]),E7=r=>({...k7(r),...Eo(r.inputBehaviours,[mt.config({store:{mode:"manual",...r.data.map(l=>({initialValue:l})).getOr({}),getValue:l=>jf(l.element),setValue:(l,d)=>{jf(l.element)!==d&&Jm(l.element,d)}},onSetValue:r.onSetValue})])}),cN=r=>({tag:r.tag,attributes:{type:"text",...r.inputAttributes},styles:r.inputStyles,classes:r.inputClasses}),Fh=Ou({name:"Input",configFields:S7(),factory:(r,l)=>({uid:r.uid,dom:cN(r),components:[],behaviours:E7(r),eventOrder:r.eventOrder})}),uN=_n("refetch-trigger-event"),dN=_n("redirect-menu-item-interaction"),fN="tox-menu__searcher",lw=r=>fs(r.element,`.${fN}`).bind(l=>r.getSystem().getByDom(l).toOptional()),mN=lw,gN=r=>({fetchPattern:mt.getValue(r),selectionStart:r.element.dom.selectionStart,selectionEnd:r.element.dom.selectionEnd}),hN=r=>{const l=(b,v)=>(v.cut(),D.none()),d=(b,v)=>{const C={interactionEvent:v.event,eventType:v.event.raw.type};return Mn(b,dN,C),D.some(!0)},f="searcher-events";return{dom:{tag:"div",classes:[J_]},components:[Fh.sketch({inputClasses:[fN,"tox-textfield"],inputAttributes:{...r.placeholder.map(b=>({placeholder:r.i18n(b)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:qt([To(f,[Ot(Wm(),b=>{No(b,uN)}),Ot(ks(),(b,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),$n.config({mode:"special",onLeft:l,onRight:l,onSpace:l,onEnter:d,onEscape:d,onUp:d,onDown:d})]),eventOrder:{keydown:[f,$n.name()]}})]}},cw="tox-collection--results__js",pN=r=>{var l;return r.dom?{...r,dom:{...r.dom,attributes:{...(l=r.dom.attributes)!==null&&l!==void 0?l:{},id:_n("aria-item-search-result-id"),"aria-selected":"false"}}}:r},eS=(r,l)=>d=>{const f=Qe(d,l);return Le(f,b=>({dom:r,components:b}))},bN=(r,l)=>{const d=[];let f=[];return ft(r,(b,v)=>{l(b,v)?(f.length>0&&d.push(f),f=[],(uo(b.dom,"innerHtml")||b.components&&b.components.length>0)&&f.push(b)):f.push(b)}),f.length>0&&d.push(f),Le(d,b=>({dom:{tag:"div",classes:["tox-collection__group"]},components:b}))},uw=(r,l,d)=>e1.parts.items({preprocess:f=>{const b=Le(f,d);return r!=="auto"&&r>1?eS({tag:"div",classes:["tox-collection__group"]},r)(b):bN(b,(v,C)=>l[C].type==="separator")}}),eT=(r,l,d=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(r===1?["tox-collection--list"]:["tox-collection--grid"])},components:[uw(r,l,de)]}),dw=r=>kn(r,l=>"icon"in l&&l.icon!==void 0),vg=r=>(console.error(al(r)),console.log(r),D.none()),A7=(r,l,d,f,b)=>{const v=(C=d,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[e1.parts.items({preprocess:k=>bN(k,(E,P)=>C[P].type==="separator")})]});var C;return{value:r,dom:v.dom,components:v.components,items:d}},tT=(r,l,d,f,b)=>{if(b.menuType==="color"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[e1.parts.items({preprocess:C!=="auto"?eS({tag:"div",classes:["tox-swatches__row"]},C):de})]}]}))(f);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"&&f==="auto"){const v=eT(f,d);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="normal"||b.menuType==="searchable"){const v=b.menuType!=="searchable"?eT(f,d):b.searchMode.searchMode==="search-with-field"?((C,k,E)=>{const P=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(C===1?["tox-collection--list"]:["tox-collection--grid"])},components:[hN({i18n:hd.translate,placeholder:E.placeholder}),{dom:{tag:"div",classes:[...C===1?["tox-collection--list"]:["tox-collection--grid"],cw],attributes:{id:P}},components:[uw(C,k,pN)]}]}})(f,d,b.searchMode):((C,k,E=!0)=>{const P=_n("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",cw].concat(C===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:P}},components:[uw(C,k,pN)]}})(f,d);return{value:r,dom:v.dom,components:v.components,items:d}}if(b.menuType==="listpreview"&&f!=="auto"){const v=(C=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[e1.parts.items({preprocess:eS({tag:"div",classes:["tox-collection__group"]},C)})]}))(f);return{value:r,dom:v.dom,components:v.components,items:d}}return{value:r,dom:aN(l,f,b.menuType),components:lN,items:d}},xi=Ss("type"),nT=Ss("name"),oT=Ss("label"),pd=Ss("text"),rT=Ss("title"),sT=Ss("icon"),a1=Ss("value"),T7=za("fetch"),vN=za("getSubmenuItems"),xy=za("onAction"),yN=za("onItemAction"),ob=os("onSetup",()=>j),O7=Fs("name"),rb=Fs("text"),D7=Fs("role"),bd=Fs("icon"),fw=Fs("tooltip"),iT=Fs("label"),wy=Fs("shortcut"),aT=bu("select"),tS=ri("active",!1),NK=ri("borderless",!1),vd=ri("enabled",!0),nS=ri("primary",!1),xN=r=>ut("columns",r),Qc=ut("meta",{}),lT=os("onAction",j),l1=r=>Ql("type",r),cT=r=>fi("name","name",ih(()=>_n(`${r}-name`)),ki),wN=Gn([xi,rb]),R7=Gn([l1("autocompleteitem"),tS,vd,Qc,a1,rb,bd]),yg=[vd,fw,bd,rb,ob],uT=Gn([xi,xy,wy].concat(yg)),CN=r=>_s("toolbarbutton",uT,r),mw=[tS].concat(yg),oS=Gn(mw.concat([xi,xy,wy])),rS=r=>_s("ToggleButton",oS,r),_N=[os("predicate",Oe),Mc("scope","node",["node","editor"]),Mc("position","selection",["node","selection","line"])],I7=yg.concat([l1("contextformbutton"),nS,xy,qi("original",de)]),N7=mw.concat([l1("contextformbutton"),nS,xy,qi("original",de)]),P7=yg.concat([l1("contextformbutton")]),L7=mw.concat([l1("contextformtogglebutton")]),M7=bi("type",{contextformbutton:I7,contextformtogglebutton:N7}),B7=Gn([l1("contextform"),os("initValue",U("")),iT,ll("commands",M7),Us("launch",bi("type",{contextformbutton:P7,contextformtogglebutton:L7}))].concat(_N)),SN=Gn([l1("contexttoolbar"),Ss("items")].concat(_N)),sS=[xi,Ss("src"),Fs("alt"),Pr("classes",[],ki)],F7=Gn(sS),$7=[xi,pd,O7,Pr("classes",["tox-collection__item-label"],ki)],V7=Gn($7),kN=$m(()=>rd("type",{cardimage:F7,cardtext:V7,cardcontainer:Cy})),Cy=Gn([xi,Ql("direction","horizontal"),Ql("align","left"),Ql("valign","middle"),ll("items",kN)]),c1=[vd,rb,D7,wy,fi("value","value",ih(()=>_n("menuitem-value")),Wl()),Qc],z7=Gn([xi,iT,ll("items",kN),ob,lT].concat(c1)),dT=Gn([xi,tS,bd].concat(c1)),EN=[xi,Ss("fancytype"),lT],AN=[ut("initData",{})].concat(EN),TN=[bu("select"),Ua("initData",{},[ri("allowCustomColors",!0),Ql("storageKey","default"),y0("colors",Wl())])].concat(EN),ON=bi("fancytype",{inserttable:AN,colorswatch:TN}),DN=Gn([xi,ob,lT,bd].concat(c1)),RN=Gn([xi,vN,ob,bd].concat(c1)),H7=Gn([xi,bd,tS,ob,xy].concat(c1)),fT=(r,l,d)=>{const f=Ai(r.element,"."+d);if(f.length>0){const b=co(f,v=>{const C=v.dom.getBoundingClientRect().top,k=f[0].dom.getBoundingClientRect().top;return Math.abs(C-k)>l}).getOr(f.length);return D.some({numColumns:b,numRows:Math.ceil(f.length/b)})}return D.none()},gw=r=>((l,d)=>qt([To(l,d)]))(_n("unnamed-events"),r),iS="silver.readonly",U7=Gn([Yi("readonly",fc)]),u1=(r,l)=>{const d=r.mainUi.outerContainer.element,f=[r.mainUi.mothership,...r.uiMotherships];l&&ft(f,b=>{b.broadcastOn([B()],{target:d})}),ft(f,b=>{b.broadcastOn([iS],{readonly:l})})},IN=(r,l)=>{r.on("init",()=>{r.mode.isReadOnly()&&u1(l,!0)}),r.on("SwitchMode",()=>u1(l,r.mode.isReadOnly())),PA(r)&&r.mode.set("readonly")},Bi=()=>Ol.config({channels:{[iS]:{schema:U7,onReceive:(r,l)=>{ao.set(r,l.readonly)}}}}),Na=r=>ao.config({disabled:r}),NN=r=>ao.config({disabled:r,disableClass:"tox-tbtn--disabled"}),aS=r=>ao.config({disabled:r,disableClass:"tox-tbtn--disabled",useNative:!1}),hw=(r,l)=>{const d=r.getApi(l);return f=>{f(d)}},sb=(r,l)=>as(d=>{hw(r,d)(f=>{const b=r.onSetup(f);Z(b)&&l.set(b)})}),$h=(r,l)=>ld(d=>hw(r,d)(l.get())),PN=(r,l)=>wu((d,f)=>{hw(r,d)(r.onAction),r.triggersSubmenu||l!==dm.CLOSE_ON_EXECUTE||(d.getSystem().isConnected()&&No(d,sv()),f.stop())}),W7={[El()]:["disabling","alloy.base.behaviour","toggling","item-events"]},_y=tl,Sy=(r,l,d,f)=>{const b=Hn(j);return{type:"item",dom:l.dom,components:_y(l.optComponents),data:r.data,eventOrder:W7,hasSubmenu:r.triggersSubmenu,itemBehaviours:qt([To("item-events",[PN(r,d),sb(r,b),$h(r,b)]),(v=()=>!r.enabled||f.isDisabled(),ao.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Bi(),Jn.config({})].concat(r.itemBehaviours))};var v},ky=r=>({value:r.value,meta:{text:r.text.getOr(""),...r.meta}}),lS=r=>{const l=lm.os.isMacOS()||lm.os.isiOS(),d=l?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},f=r.split("+"),b=Le(f,v=>{const C=v.toLowerCase().trim();return uo(d,C)?d[C]:v});return l?b.join(""):b.join("+")},mT=(r,l,d=[iN])=>Jc(r,{tag:"div",classes:d},l),LN=r=>({dom:{tag:"div",classes:[sw]},components:[$s(hd.translate(r))]}),gT=(r,l)=>({dom:{tag:"div",classes:l,innerHtml:r}}),MN=(r,l)=>({dom:{tag:"div",classes:[sw]},components:[{dom:{tag:r.tag,styles:r.styles},components:[$s(hd.translate(l))]}]}),BN=r=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[$s(lS(r))]}),FN=r=>mT("checkmark",r,["tox-collection__item-checkmark"]),$N=r=>{const l=r.map(d=>({attributes:{id:_n("menu-item"),"aria-label":hd.translate(d)}})).getOr({});return{tag:"div",classes:[X_,J_],...l}},pw=(r,l,d,f=D.none())=>r.presets==="color"?((b,v,C)=>{const k=b.value,E=b.iconContent.map(F=>((M,V,Y)=>{const ee=V();return ow(M,ee).or(Y).getOrThunk(YA(ee))})(F,v.icons,C)),P=b.ariaLabel.map(F=>({"aria-label":v.translate(F),"data-mce-name":F})).getOr({});return{dom:(()=>{const F=oN,M=E.getOr(""),V={tag:"div",attributes:P,classes:[F]};return k==="custom"?{...V,tag:"button",classes:[...V.classes,"tox-swatches__picker-btn"],innerHtml:M}:k==="remove"?{...V,classes:[...V.classes,"tox-swatch--remove"],innerHtml:M}:W(k)?{...V,attributes:{...V.attributes,"data-mce-color":k},styles:{"background-color":k},innerHtml:M}:V})(),optComponents:[]}})(r,l,f):((b,v,C,k)=>{const E={tag:"div",classes:[iN]},P=C?b.iconContent.map(Y=>Jc(Y,E,v.icons,k)).orThunk(()=>D.some({dom:E})):D.none(),F=b.checkMark,M=D.from(b.meta).fold(()=>LN,Y=>uo(Y,"style")?Ve(MN,Y.style):LN),V=b.htmlContent.fold(()=>b.textContent.map(M),Y=>D.some(gT(Y,[sw])));return{dom:$N(b.ariaLabel),optComponents:[P,V,b.shortcutContent.map(BN),F,b.caret]}})(r,l,d,f),VN=(r,l,d)=>En(r,"tooltipWorker").map(f=>[ai.config({lazySink:l.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:b=>({type:"submenu",item:b,overrides:{maxHeightFunction:Ah}}),mode:"follow-highlight",onShow:(b,v)=>{f(C=>{ai.setComponents(b,[Zf({element:un(C)})])})}})]).getOrThunk(()=>d.map(f=>[ai.config({...l.providers.tooltips.getConfig({tooltipText:f}),mode:"follow-highlight"})]).getOr([])),hT=(r,l)=>{const d=(f=>gy.DOM.encode(f))(hd.translate(r));if(l.length>0){const f=new RegExp((b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(l),"gi");return d.replace(f,b=>`<span class="tox-autocompleter-highlight">${b}</span>`)}return d},pT=(r,l)=>Le(r,d=>{switch(d.type){case"cardcontainer":return((v,C)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":aw,E=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[iw,k,E,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:C}})(d,pT(d.items,l));case"cardimage":return((v,C,k)=>({dom:{tag:"img",classes:C,attributes:{src:v,alt:k.getOr("")}}}))(d.src,d.classes,d.alt);case"cardtext":const f=d.name.exists(v=>ct(l.cardText.highlightOn,v)),b=f?D.from(l.cardText.matchText).getOr(""):"";return gT(hT(d.text,b),d.classes)}}),Vh=ml(RA(),IA()),bT=r=>({value:d1(r)}),vT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,yT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zN=r=>vT.test(r)||yT.test(r),d1=r=>Wr(r,"#").toUpperCase(),xT=r=>{const l=r.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},bw=r=>{const l=xT(r.red)+xT(r.green)+xT(r.blue);return bT(l)},wT=Math.min,HN=Math.max,cS=Math.round,K7=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,UN=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zh=(r,l,d,f)=>({red:r,green:l,blue:d,alpha:f}),vw=r=>{const l=parseInt(r,10);return l.toString()===r&&l>=0&&l<=255},WN=r=>{let l,d,f;const b=(r.hue||0)%360;let v=r.saturation/100,C=r.value/100;if(v=HN(0,wT(v,1)),C=HN(0,wT(C,1)),v===0)return l=d=f=cS(255*C),zh(l,d,f,1);const k=b/60,E=C*v,P=E*(1-Math.abs(k%2-1)),F=C-E;switch(Math.floor(k)){case 0:l=E,d=P,f=0;break;case 1:l=P,d=E,f=0;break;case 2:l=0,d=E,f=P;break;case 3:l=0,d=P,f=E;break;case 4:l=P,d=0,f=E;break;case 5:l=E,d=0,f=P;break;default:l=d=f=0}return l=cS(255*(l+F)),d=cS(255*(d+F)),f=cS(255*(f+F)),zh(l,d,f,1)},cf=r=>{const l=(v=>{const C=(E=>({value:E.value.replace(vT,(F,M,V,Y)=>M+M+V+V+Y+Y)}))(v),k=yT.exec(C.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(r),d=parseInt(l[1],16),f=parseInt(l[2],16),b=parseInt(l[3],16);return zh(d,f,b,1)},CT=(r,l,d,f)=>{const b=parseInt(r,10),v=parseInt(l,10),C=parseInt(d,10),k=parseFloat(f);return zh(b,v,C,k)},uS=r=>{const l=K7.exec(r);if(l!==null)return D.some(CT(l[1],l[2],l[3],"1"));const d=UN.exec(r);return d!==null?D.some(CT(d[1],d[2],d[3],d[4])):D.none()},KN=r=>`rgba(${r.red},${r.green},${r.blue},${r.alpha})`,jN=zh(255,0,0,1),f1=(r,l)=>{r.dispatch("ResizeContent",l)},Ey=(r,l)=>{r.dispatch("TextColorChange",l)},ZN=(r,l)=>r.dispatch("ResolveName",{name:l.nodeName.toLowerCase(),target:l}),Ay=(r,l)=>()=>{r(),l()},Fi=r=>m1(r,"NodeChange",l=>{l.setEnabled(r.selection.isEditable())}),fm=(r,l)=>d=>{const f=Fi(r)(d),b=((v,C)=>k=>{const E=Pc(),P=()=>{k.setActive(v.formatter.match(C));const F=v.formatter.formatChanged(C,k.setActive);E.set(F)};return v.initialized?P():v.once("init",P),()=>{v.off("init",P),E.clear()}})(r,l)(d);return()=>{f(),b()}},m1=(r,l,d)=>f=>{const b=()=>d(f),v=()=>{d(f),r.on(l,b)};return r.initialized?v():r.once("init",v),()=>{r.off("init",v),r.off(l,b)}},GN=r=>l=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("mceToggleFormat",!1,l.format)})},yc=(r,l)=>()=>r.execCommand(l);var eu=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const dS={},qN=r=>En(dS,r).getOrThunk(()=>{const l=`tinymce-custom-colors-${r}`,d=eu.getItem(l);if(H(d)){const b=eu.getItem("tinymce-custom-colors");eu.setItem(l,W(b)?b:"[]")}const f=((b,v=10)=>{const C=eu.getItem(b),k=h(C)?JSON.parse(C):[],E=v-(P=k).length<0?P.slice(0,v):P;var P;const F=M=>{E.splice(M,1)};return{add:M=>{((V,Y)=>{const ee=Yt(V,Y);return ee===-1?D.none():D.some(ee)})(E,M).each(F),E.unshift(M),E.length>v&&E.pop(),eu.setItem(b,JSON.stringify(E))},state:()=>E.slice(0)}})(l,10);return dS[r]=f,f}),_T=(r,l)=>{qN(r).add(l)},Ty=(r,l,d)=>({hue:r,saturation:l,value:d}),fS=r=>{let l=0,d=0,f=0;const b=r.red/255,v=r.green/255,C=r.blue/255,k=Math.min(b,Math.min(v,C)),E=Math.max(b,Math.max(v,C));return k===E?(f=k,Ty(0,0,100*f)):(l=b===k?3:C===k?1:5,l=60*(l-(b===k?v-C:C===k?b-v:C-b)/(E-k)),d=(E-k)/E,f=E,Ty(Math.round(l),Math.round(100*d),Math.round(100*f)))},mS=r=>bw(WN(r)),YN=r=>{return(l=r,zN(l)?D.some({value:d1(l)}):D.none()).orThunk(()=>uS(r).map(bw)).getOrThunk(()=>{const d=document.createElement("canvas");d.height=1,d.width=1;const f=d.getContext("2d");f.clearRect(0,0,d.width,d.height),f.fillStyle="#FFFFFF",f.fillStyle=r,f.fillRect(0,0,1,1);const b=f.getImageData(0,0,1,1).data,v=b[0],C=b[1],k=b[2],E=b[3];return bw(zh(v,C,k,E))});var l},ST="forecolor",kT="hilitecolor",j7=r=>{const l=[];for(let d=0;d<r.length;d+=2)l.push({text:r[d+1],value:"#"+YN(r[d]).value,icon:"checkmark",type:"choiceitem"});return l},yd=r=>l=>l.options.get(r),yw="#000000",g1=(r,l)=>l===ST&&r.options.isSet("color_map_foreground")?yd("color_map_foreground")(r):l===kT&&r.options.isSet("color_map_background")?yd("color_map_background")(r):yd("color_map")(r),gS=(r,l="default")=>Math.max(5,Math.ceil(Math.sqrt(g1(r,l).length))),XN=(r,l)=>{const d=yd("color_cols")(r),f=gS(r,l);return d===gS(r)?f:d},ET=(r,l="default")=>Math.round(l===ST?yd("color_cols_foreground")(r):l===kT?yd("color_cols_background")(r):yd("color_cols")(r)),AT=yd("custom_colors"),JN=yd("color_default_foreground"),QN=yd("color_default_background"),e5=(r,l)=>{const d=un(r.selection.getStart()),f=l==="hilitecolor"?ch(d,b=>{if(ls(b)){const v=Ts(b,"background-color");return ur(uS(v).exists(C=>C.alpha!==0),v)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):Ts(d,"color");return uS(f).map(b=>"#"+bw(b).value)},hS=r=>{const l="choiceitem",d={type:l,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return r?[d,{type:l,text:"Custom color",icon:"color-picker",value:"custom"}]:[d]},TT=(r,l,d,f)=>{d==="custom"?o5(r)(b=>{b.each(v=>{_T(l,v),r.execCommand("mceApplyTextcolor",l,v),f(v)})},e5(r,l).getOr(yw)):d==="remove"?(f(""),r.execCommand("mceRemoveTextcolor",l)):(f(d),r.execCommand("mceApplyTextcolor",l,d))},OT=(r,l,d)=>r.concat((f=>Le(qN(f).state(),b=>({type:"choiceitem",text:b,icon:"checkmark",value:b})))(l).concat(hS(d))),t5=(r,l,d)=>f=>{f(OT(r,l,d))},DT=(r,l,d)=>{const f=l==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r.setIconFill(f,d)},RT=(r,l)=>{r.setTooltip(l)},n5=(r,l)=>d=>{const f=e5(r,l);return ci(f,d.toUpperCase())},IT=(r,l,d)=>{if(Gu(d))return l==="forecolor"?"Text color":"Background color";const f=l==="forecolor"?"Text color {0}":"Background color {0}",b=OT(g1(r,l),l,!1),v=Q(b,C=>C.value===d).getOr({text:""}).text;return r.translate([f,r.translate(v)])},NT=(r,l,d,f)=>{r.ui.registry.addSplitButton(l,{tooltip:IT(r,d,f.get()),presets:"color",icon:l==="forecolor"?"text-color":"highlight-bg-color",select:n5(r,d),columns:ET(r,d),fetch:t5(g1(r,d),d,AT(r)),onAction:b=>{TT(r,d,f.get(),j)},onItemAction:(b,v)=>{TT(r,d,v,C=>{f.set(C),Ey(r,{name:l,color:C})})},onSetup:b=>{DT(b,l,f.get());const v=C=>{C.name===l&&(DT(b,C.name,C.color),RT(b,IT(r,d,C.color)))};return r.on("TextColorChange",v),Ay(Fi(r)(b),()=>{r.off("TextColorChange",v)})}})},Oy=(r,l,d,f,b)=>{r.ui.registry.addNestedMenuItem(l,{text:f,icon:l==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(RT(v,IT(r,d,b.get())),DT(v,l,b.get()),Fi(r)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:n5(r,d),initData:{storageKey:d},onAction:v=>{TT(r,d,v.value,C=>{b.set(C),Ey(r,{name:l,color:C})})}}]})},o5=r=>(l,d)=>{let f=!1;const b={colorpicker:d};r.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b,onAction:(v,C)=>{C.name==="hex-valid"&&(f=C.value)},onSubmit:v=>{const C=v.getData().colorpicker;f?(l(D.from(C)),v.close()):r.windowManager.alert(r.translate(["Invalid hex color code: {0}",C]))},onClose:j,onCancel:()=>{l(D.none())}})},h1=(r,l,d,f,b,v,C,k)=>{const E=dw(l),P=PT(l,d,f,b!=="color"?"normal":"color",v,C,k);return tT(r,E,P,f,{menuType:b})},PT=(r,l,d,f,b,v,C)=>tl(Le(r,k=>{return k.type==="choiceitem"?(E=k,_s("choicemenuitem",dT,E)).fold(vg,P=>D.some(((F,M,V,Y,ee,fe,pe,Se=!0)=>{const ge=pw({presets:V,textContent:M?F.text:D.none(),htmlContent:D.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:M?F.shortcut:D.none(),checkMark:M?D.some(FN(pe.icons)):D.none(),caret:D.none(),value:F.value},pe,Se),me=F.text.filter(U(!M)).map(we=>ai.config(pe.tooltips.getConfig({tooltipText:pe.translate(we)})));return Br(Sy({data:ky(F),enabled:F.enabled,getApi:we=>({setActive:ke=>{oo.set(we,ke)},isActive:()=>oo.isOn(we),isEnabled:()=>!ao.isDisabled(we),setEnabled:ke=>ao.set(we,!ke)}),onAction:we=>Y(F.value),onSetup:we=>(we.setActive(ee),j),triggersSubmenu:!1,itemBehaviours:[...me.toArray()]},ge,fe,pe),{toggling:{toggleClass:sN,toggleOnExecute:!1,selected:F.active,exclusive:!0}})})(P,d===1,f,l,v(P.value),b,C,dw(r)))):D.none();var E})),xw=(r,l)=>{const d=i1(l);return r===1?{mode:"menu",moveOnTab:!0}:r==="auto"?{mode:"grid",selector:"."+d.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(l==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:f=>l==="color"?fs(f.element,"[aria-checked=true]"):D.none()}},LT=_n("cell-over"),r5=_n("cell-execute"),Z7=(r,l,d)=>{const f=v=>Mn(v,r5,{row:r,col:l}),b=(v,C)=>{C.stop(),f(v)};return Ji({dom:{tag:"div",attributes:{role:"button","aria-label":d}},behaviours:qt([To("insert-table-picker-cell",[Ot(Pn(),so.focus),Ot(El(),f),Ot(vi(),b),Ot(Bf(),b)]),oo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),so.config({onFocus:v=>Mn(v,LT,{row:r,col:l})})])})},s5=r=>pn(r,l=>Le(l,ul)),i5=(r,l)=>$s(`${l}x${r}`),a5={inserttable:(r,l)=>{const d=(C=>(k,E)=>C.shared.providers.translate(["{0} columns, {1} rows",E,k]))(l),f=((C,k,E)=>{const P=[];for(let F=0;F<10;F++){const M=[];for(let V=0;V<10;V++){const Y=C(F+1,V+1);M.push(Z7(F,V,Y))}P.push(M)}return P})(d),b=i5(0,0),v=kr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[b],behaviours:qt([Jn.config({})])});return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Vh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:s5(f).concat(v.asSpec()),behaviours:qt([To("insert-table-picker",[as(C=>{Jn.set(v.get(C),[b])}),dh(LT,(C,k,E)=>{const{row:P,col:F}=E.event;((M,V,Y,ee,fe)=>{for(let pe=0;pe<10;pe++)for(let Se=0;Se<10;Se++)oo.set(M[pe][Se],pe<=V&&Se<=Y)})(f,P,F),Jn.set(v.get(C),[i5(P+1,F+1)])}),dh(r5,(C,k,E)=>{const{row:P,col:F}=E.event;No(C,sv()),r.onAction({numRows:P+1,numColumns:F+1})})]),$n.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(r,l)=>{const d=((C,k)=>{const E=C.initData.allowCustomColors&&k.colorinput.hasCustomColors();return C.initData.colors.fold(()=>OT(k.colorinput.getColors(C.initData.storageKey),C.initData.storageKey,E),P=>P.concat(hS(E)))})(r,l),f=l.colorinput.getColorCols(r.initData.storageKey),b="color",v={...h1(_n("menu-value"),d,C=>{r.onAction({value:C})},f,b,dm.CLOSE_ON_EXECUTE,r.select.getOr(Oe),l.shared.providers),markers:i1(b),movement:xw(f,b),showMenuRole:!1};return{type:"widget",data:{value:_n("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Vh.widget(e1.sketch(v))]}}},l5=r=>({type:"separator",dom:{tag:"div",classes:[J_,"tox-collection__group-heading"]},components:r.text.map($s).toArray()});var G7=Object.freeze({__proto__:null,getCoupled:(r,l,d,f)=>d.getOrCreate(r,l,f),getExistingCoupled:(r,l,d,f)=>d.getExisting(r,l,f)}),c5=[Yi("others",ev(Ho.value,Wl()))],pS=Object.freeze({__proto__:null,init:()=>{const r={},l=(f,b)=>{if(Ut(f.others).length===0)throw new Error("Cannot find any known coupled components");return En(r,b)},d=U({});return Li({readState:d,getExisting:(f,b,v)=>l(b,v).orThunk(()=>(En(b.others,v).getOrDie("No information found for coupled component: "+v),D.none())),getOrCreate:(f,b,v)=>l(b,v).getOrThunk(()=>{const C=En(b.others,v).getOrDie("No information found for coupled component: "+v)(f),k=f.getSystem().build(C);return r[v]=k,k})})}});const Vs=Mi({fields:c5,name:"coupling",apis:G7,state:pS}),ww=r=>{let l=D.none(),d=[];const f=C=>{b()?v(C):d.push(C)},b=()=>l.isSome(),v=C=>{l.each(k=>{setTimeout(()=>{C(k)},0)})};return r(C=>{b()||(l=D.some(C),ft(d,v),d=[])}),{get:f,map:C=>ww(k=>{f(E=>{k(C(E))})}),isReady:b}},q7={nu:ww,pure:r=>ww(l=>{l(r)})},Y7=r=>{setTimeout(()=>{throw r},0)},Dy=r=>{const l=d=>{r().then(d,Y7)};return{map:d=>Dy(()=>r().then(d)),bind:d=>Dy(()=>r().then(f=>d(f).toPromise())),anonBind:d=>Dy(()=>r().then(()=>d.toPromise())),toLazy:()=>q7.nu(l),toCached:()=>{let d=null;return Dy(()=>(d===null&&(d=r()),d))},toPromise:r,get:l}},ib=r=>Dy(()=>new Promise(r)),xg=r=>Dy(()=>Promise.resolve(r)),MT=U("sink"),u5=U(Tu({name:MT(),overrides:U({dom:{tag:"div"},behaviours:qt([ba.config({useFixed:Te})]),events:yo([jm(ks()),jm(Mt()),jm(vi())])})})),d5=(r,l)=>{const d=r.getHotspot(l).getOr(l),f="hotspot",b=r.getAnchorOverrides();return r.layouts.fold(()=>({type:f,hotspot:d,overrides:b}),v=>({type:f,hotspot:d,overrides:b,layouts:v}))},bS=(r,l,d,f,b,v,C)=>((E,P,F,M,V,Y,ee)=>{const fe=((Se,ge,me)=>(0,Se.fetch)(me).map(ge))(E,P,M),pe=f5(M,E);return fe.map(Se=>Se.bind(ge=>{const me=ge.menus[ge.primary];return D.from(me).each(we=>{E.listRole.each(ke=>{we.role=ke})}),D.from(Ph.sketch({...Y.menu(),uid:Wc(""),data:ge,highlightOnOpen:ee,onOpenMenu:(we,ke)=>{const De=pe().getOrDie();ba.position(De,ke,{anchor:F}),O.decloak(V)},onOpenSubmenu:(we,ke,De)=>{const Ze=pe().getOrDie();ba.position(Ze,De,{anchor:{type:"submenu",item:ke}}),O.decloak(V)},onRepositionMenu:(we,ke,De)=>{const Ze=pe().getOrDie();ba.position(Ze,ke,{anchor:F}),ft(De,it=>{ba.position(Ze,it.triggeredMenu,{anchor:{type:"submenu",item:it.triggeringItem}})})},onEscape:()=>(so.focus(M),O.close(V),D.some(!0))}))}))})(r,l,d5(r,d),d,f,b,C).map(E=>(E.fold(()=>{O.isOpen(f)&&O.close(f)},P=>{O.cloak(f),O.open(f,P),v(f)}),f)),X7=(r,l,d,f,b,v,C)=>(O.close(f),xg(f)),BT=(r,l,d,f,b,v)=>{const C=Vs.getCoupled(d,"sandbox");return(O.isOpen(C)?X7:bS)(r,l,d,C,f,b,v)},f5=(r,l)=>r.getSystem().getByUid(l.uid+"-"+MT()).map(d=>()=>Ho.value(d)).getOrThunk(()=>l.lazySink.fold(()=>()=>Ho.error(new Error("No internal sink is specified, nor could an external sink be found")),d=>()=>d(r))),FT=r=>{O.getState(r).each(l=>{Ph.repositionMenus(l)})},$T=(r,l,d)=>{const f=wh(),b=f5(l,r);return{dom:{tag:"div",classes:r.sandboxClasses,attributes:{id:f.id}},behaviours:no(r.sandboxBehaviours,[mt.config({store:{mode:"memory",initialValue:l}}),O.config({onOpen:(v,C)=>{const k=d5(r,l);f.link(l.element),r.matchWidth&&((E,P,F)=>{const M=sr.getCurrent(P).getOr(P),V=Ii(E.element);F?bo(M.element,"min-width",V+"px"):((Y,ee)=>{eh.set(Y,ee)})(M.element,V)})(k.hotspot,C,r.useMinWidth),r.onOpen(k,v,C),d!==void 0&&d.onOpen!==void 0&&d.onOpen(v,C)},onClose:(v,C)=>{f.unlink(l.element),b().getOr(C).element.dom.dispatchEvent(new window.FocusEvent("focusout")),d!==void 0&&d.onClose!==void 0&&d.onClose(v,C)},isPartOf:(v,C,k)=>Tl(C,k)||Tl(l,k),getAttachPoint:()=>b().getOrDie()}),sr.config({find:v=>O.getState(v).bind(C=>sr.getCurrent(C))}),Ol.config({channels:{...ue({isExtraPart:Oe}),...Fe({doReposition:FT})}})])}},m5=r=>{const l=Vs.getCoupled(r,"sandbox");FT(l)},VT=()=>[ut("sandboxClasses",[]),io("sandboxBehaviours",[sr,Ol,O,mt])],J7=U([Lt("dom"),Lt("fetch"),nr("onOpen"),Al("onExecute"),ut("getHotspot",D.some),ut("getAnchorOverrides",U({})),qf(),Sn("dropdownBehaviours",[oo,Vs,$n,so]),Lt("toggleClass"),ut("eventOrder",{}),qo("lazySink"),ut("matchWidth",!1),ut("useMinWidth",!1),qo("role"),qo("listRole")].concat(VT())),Q7=U([sf({schema:[ph(),ut("fakeFocus",!1)],name:"menu",defaults:r=>({onExecute:r.onExecute})}),u5()]),Il=Kl({name:"Dropdown",configFields:J7(),partFields:Q7(),factory:(r,l,d,f)=>{const b=E=>{O.getState(E).each(P=>{Ph.highlightPrimary(P)})},v=(E,P,F)=>BT(r,de,E,f,P,F),C={expand:E=>{oo.isOn(E)||v(E,j,gl.HighlightNone).get(j)},open:E=>{oo.isOn(E)||v(E,j,gl.HighlightMenuAndItem).get(j)},refetch:E=>Vs.getExistingCoupled(E,"sandbox").fold(()=>v(E,j,gl.HighlightMenuAndItem).map(j),P=>bS(r,de,E,P,f,j,gl.HighlightMenuAndItem).map(j)),isOpen:oo.isOn,close:E=>{oo.isOn(E)&&v(E,j,gl.HighlightMenuAndItem).get(j)},repositionMenus:E=>{oo.isOn(E)&&m5(E)}},k=(E,P)=>(Hf(E),D.some(!0));return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.dropdownBehaviours,[oo.config({toggleClass:r.toggleClass,aria:{mode:"expanded"}}),Vs.config({others:{sandbox:E=>$T(r,E,{onOpen:()=>oo.on(E),onClose:()=>oo.off(E)})}}),$n.config({mode:"special",onSpace:k,onEnter:k,onDown:(E,P)=>{if(Il.isOpen(E)){const F=Vs.getCoupled(E,"sandbox");b(F)}else Il.open(E);return D.some(!0)},onEscape:(E,P)=>Il.isOpen(E)?(Il.close(E),D.some(!0)):D.none()}),so.config({})]),events:my(D.some(E=>{v(E,b,gl.HighlightMenuAndItem).get(j)})),eventOrder:{...r.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},apis:C,domModification:{attributes:{"aria-haspopup":r.listRole.getOr("true"),...r.role.fold(()=>({}),E=>({role:E})),...r.dom.tag==="button"?{type:En(r.dom,"attributes").bind(E=>En(E,"type")).getOr("button")}:{}}}}},apis:{open:(r,l)=>r.open(l),refetch:(r,l)=>r.refetch(l),expand:(r,l)=>r.expand(l),close:(r,l)=>r.close(l),isOpen:(r,l)=>r.isOpen(l),repositionMenus:(r,l)=>r.repositionMenus(l)}}),g5=(r,l,d)=>{mN(r).each(f=>{var b;((v,C)=>{Qo(C.element,"id").each(k=>cn(v.element,"aria-activedescendant",k))})(f,d),(cl((b=l).element,cw)?D.some(b.element):fs(b.element,"."+cw)).each(v=>{Qo(v,"id").each(C=>cn(f.element,"aria-controls",C))})}),cn(d.element,"aria-selected","true")},e$=(r,l,d)=>{cn(d.element,"aria-selected","false")},p1=r=>Vs.getExistingCoupled(r,"sandbox").bind(lw).map(gN).map(l=>l.fetchPattern).getOr("");var Cw;(function(r){r[r.ContentFocus=0]="ContentFocus",r[r.UiFocus=1]="UiFocus"})(Cw||(Cw={}));const t$=(r,l,d,f,b)=>{const v=d.shared.providers,C=E=>b?{...E,shortcut:D.none(),icon:E.text.isSome()?D.none():E.icon}:E;switch(r.type){case"menuitem":return(k=r,_s("menuitem",DN,k)).fold(vg,E=>D.some(((P,F,M,V=!0)=>{const Y=pw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:D.none(),ariaLabel:P.text,caret:D.none(),checkMark:D.none(),shortcutContent:P.shortcut},M,V);return Sy({data:ky(P),getApi:ee=>({isEnabled:()=>!ao.isDisabled(ee),setEnabled:fe=>ao.set(ee,!fe)}),enabled:P.enabled,onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M)})(C(E),l,v,f)));case"nestedmenuitem":return(E=>_s("nestedmenuitem",RN,E))(r).fold(vg,E=>D.some(((P,F,M,V=!0,Y=!1)=>{const ee=Y?(fe=M.icons,mT("chevron-down",fe,[JA])):(Se=>mT("chevron-right",Se,[JA]))(M.icons);var fe;const pe=pw({presets:"normal",iconContent:P.icon,textContent:P.text,htmlContent:D.none(),ariaLabel:P.text,caret:D.some(ee),checkMark:D.none(),shortcutContent:P.shortcut},M,V);return Sy({data:ky(P),getApi:Se=>({isEnabled:()=>!ao.isDisabled(Se),setEnabled:ge=>ao.set(Se,!ge),setIconFill:(ge,me)=>{fs(Se.element,`svg path[class="${ge}"], rect[class="${ge}"]`).each(we=>{cn(we,"fill",me)})},setTooltip:ge=>{const me=M.translate(ge);cn(Se.element,"aria-label",me)}}),enabled:P.enabled,onAction:j,onSetup:P.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,F,M)})(C(E),l,v,f,b)));case"togglemenuitem":return(E=>_s("togglemenuitem",H7,E))(r).fold(vg,E=>D.some(((P,F,M,V=!0)=>{const Y=pw({iconContent:P.icon,textContent:P.text,htmlContent:D.none(),ariaLabel:P.text,checkMark:D.some(FN(M.icons)),caret:D.none(),shortcutContent:P.shortcut,presets:"normal",meta:P.meta},M,V);return Br(Sy({data:ky(P),enabled:P.enabled,getApi:ee=>({setActive:fe=>{oo.set(ee,fe)},isActive:()=>oo.isOn(ee),isEnabled:()=>!ao.isDisabled(ee),setEnabled:fe=>ao.set(ee,!fe)}),onAction:P.onAction,onSetup:P.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,F,M),{toggling:{toggleClass:sN,toggleOnExecute:!1,selected:P.active},role:P.role.getOrUndefined()})})(C(E),l,v,f)));case"separator":return(E=>_s("separatormenuitem",wN,E))(r).fold(vg,E=>D.some(l5(E)));case"fancymenuitem":return(E=>_s("fancymenuitem",ON,E))(r).fold(vg,E=>((P,F)=>En(a5,P.fancytype).map(M=>M(P,F)))(E,d));default:return console.error("Unknown item in general menu",r),D.none()}var k},ab=(r,l,d,f,b,v,C)=>{const k=f===1,E=!k||dw(r);return tl(Le(r,P=>{switch(P.type){case"separator":return(F=P,_s("Autocompleter.Separator",wN,F)).fold(vg,M=>D.some(l5(M)));case"cardmenuitem":return(M=>_s("cardmenuitem",z7,M))(P).fold(vg,M=>D.some(((V,Y,ee,fe)=>{const pe={dom:$N(V.label),optComponents:[D.some({dom:{tag:"div",classes:[iw,aw]},components:pT(V.items,fe)})]};return Sy({data:ky({text:D.none(),...V}),enabled:V.enabled,getApi:Se=>({isEnabled:()=>!ao.isDisabled(Se),setEnabled:ge=>{ao.set(Se,!ge),ft(Ai(Se.element,"*"),me=>{Se.getSystem().getByDom(me).each(we=>{we.hasConfigured(ao)&&ao.set(we,!ge)})})}}),onAction:V.onAction,onSetup:V.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(fe.itemBehaviours).getOr([])},pe,Y,ee.providers)})({...M,onAction:V=>{M.onAction(V),d(M.value,M.meta)}},b,v,{itemBehaviours:VN(M.meta,v,D.none()),cardText:{matchText:l,highlightOn:C}})));default:return(M=>_s("Autocompleter.Item",R7,M))(P).fold(vg,M=>D.some(((V,Y,ee,fe,pe,Se,ge,me=!0)=>{const we=pw({presets:fe,textContent:D.none(),htmlContent:ee?V.text.map(De=>hT(De,Y)):D.none(),ariaLabel:V.text,iconContent:V.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:V.value},ge.providers,me,V.icon),ke=V.text.filter(De=>!ee&&De!=="");return Sy({data:ky(V),enabled:V.enabled,getApi:U({}),onAction:De=>pe(V.value,V.meta),onSetup:U(j),triggersSubmenu:!1,itemBehaviours:VN(V,ge,ke)},we,Se,ge.providers)})(M,l,k,"normal",d,b,v,E)))}var F}))},h5=(r,l,d,f,b,v)=>{const C=dw(l),k=tl(Le(l,P=>{const F=M=>t$(M,d,f,(V=>b?!uo(V,"text"):C)(M),b);return P.type==="nestedmenuitem"&&P.getSubmenuItems().length<=0?F({...P,enabled:!1}):F(P)})),E=(P=>P.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:P})(v);return(b?A7:tT)(r,C,k,1,E)},zT=r=>Ph.singleData(r.value,r),xd=r=>Yf(un(r.startContainer),r.startOffset,un(r.endContainer),r.endOffset),p5=(r,l)=>{const d=_n("autocompleter"),f=Hn(!1),b=Hn(!1),v=Or(),C=Ji(bs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:d}},components:[],fireDismissalEventInstead:{},inlineBehaviours:qt([To("dismissAutocompleter",[Ot(uh(),()=>M()),Ot(Px(),(ee,fe)=>{Qo(fe.event.target,"id").each(pe=>cn(un(r.getBody()),"aria-activedescendant",pe))})])]),lazySink:l.getSink})),k=()=>bs.isOpen(C),E=b.get,P=()=>{if(k()){bs.hide(C),r.dom.remove(d,!1);const ee=un(r.getBody());Qo(ee,"aria-owns").filter(fe=>fe===d).each(()=>{Io(ee,"aria-owns"),Io(ee,"aria-activedescendant")})}},F=()=>bs.getContent(C).bind(ee=>Ce(ee.components(),0)),M=()=>r.execCommand("mceAutocompleterClose"),V=ee=>{const fe=(pe=>{const Se=sn(pe,ge=>D.from(ge.columns)).getOr(1);return pn(pe,ge=>{const me=ge.items;return ab(me,ge.matchText,(we,ke)=>{const De={hide:()=>M(),reload:Ze=>{P(),r.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ze})}};r.execCommand("mceAutocompleterRefreshActiveRange"),v.get().each(Ze=>{f.set(!0),ge.onAction(De,Ze,we,ke),f.set(!1)})},Se,dm.BUBBLE_TO_SANDBOX,l,ge.highlightOn)})})(ee);fe.length>0?(((pe,Se)=>{const ge=sn(pe,me=>D.from(me.columns)).getOr(1);bs.showMenuAt(C,{anchor:{type:"selection",getSelection:()=>v.get().map(xd),root:un(r.getBody())}},((me,we,ke,De)=>{const Ze=xw(we,De),it=i1(De);return{data:zT({...me,movement:Ze,menuBehaviours:gw(we!=="auto"?[]:[as((It,Tt)=>{fT(It,4,it.item).each(({numColumns:kt,numRows:Wt})=>{$n.setGridSize(It,Wt,kt)})})])}),menu:{markers:i1(De),fakeFocus:ke===Cw.ContentFocus}}})(tT("autocompleter-value",!0,Se,ge,{menuType:"normal"}),ge,Cw.ContentFocus,"normal")),F().each(Ar.highlightFirst)})(ee,fe),cn(un(r.getBody()),"aria-owns",d),r.inline||Y()):P()},Y=()=>{r.dom.get(d)&&r.dom.remove(d,!1);const ee=r.getDoc().documentElement,fe=r.selection.getNode(),pe=(Se=>gh(Se,!0))(C.element);rl(pe,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${fe.offsetTop}px`,left:`${fe.offsetLeft}px`}),r.dom.add(ee,pe.dom),fs(pe,'[role="menu"]').each(Se=>{Er(Se,"position"),Er(Se,"max-height")})};r.on("AutocompleterStart",({lookupData:ee})=>{b.set(!0),f.set(!1),V(ee)}),r.on("AutocompleterUpdate",({lookupData:ee})=>V(ee)),r.on("AutocompleterUpdateActiveRange",({range:ee})=>v.set(ee)),r.on("AutocompleterEnd",()=>{P(),b.set(!1),f.set(!1),v.clear()}),((ee,fe)=>{const pe=(ge,me)=>{Mn(ge,ks(),{raw:me})},Se=()=>ee.getMenu().bind(Ar.getHighlighted);fe.on("keydown",ge=>{const me=ge.which;ee.isActive()&&(ee.isMenuOpen()?me===13?(Se().each(Hf),ge.preventDefault()):me===40?(Se().fold(()=>{ee.getMenu().each(Ar.highlightFirst)},we=>{pe(we,ge)}),ge.preventDefault(),ge.stopImmediatePropagation()):me!==37&&me!==38&&me!==39||Se().each(we=>{pe(we,ge),ge.preventDefault(),ge.stopImmediatePropagation()}):me!==13&&me!==38&&me!==40||ee.cancelIfNecessary())}),fe.on("NodeChange",()=>{!ee.isActive()||ee.isProcessingAction()||fe.queryCommandState("mceAutoCompleterInRange")||ee.cancelIfNecessary()})})({cancelIfNecessary:M,isMenuOpen:k,isActive:E,isProcessingAction:f.get,getMenu:F},r)},Ry=(r,l,d)=>ud(r,l,d).isSome(),HT=(r,l)=>{let d=null;return{cancel:()=>{d!==null&&(clearTimeout(d),d=null)},schedule:(...f)=>{d=setTimeout(()=>{r.apply(null,f),d=null},l)}}},b5=r=>{const l=r.raw;return l.touches===void 0||l.touches.length!==1?D.none():D.some(l.touches[0])},vS=(r,l)=>{const d={stopBackspace:!0,...l},f=(M=>{const V=Or(),Y=Hn(!1),ee=HT(pe=>{M.triggerEvent(BE(),pe),Y.set(!0)},400),fe=Zd([{key:G(),value:pe=>(b5(pe).each(Se=>{ee.cancel();const ge={x:Se.clientX,y:Se.clientY,target:pe.target};ee.schedule(pe),Y.set(!1),V.set(ge)}),D.none())},{key:ce(),value:pe=>(ee.cancel(),b5(pe).each(Se=>{V.on(ge=>{((me,we)=>{const ke=Math.abs(me.clientX-we.x),De=Math.abs(me.clientY-we.y);return ke>5||De>5})(Se,ge)&&V.clear()})}),D.none())},{key:Be(),value:pe=>(ee.cancel(),V.get().filter(Se=>dr(Se.target,pe.target)).map(Se=>Y.get()?(pe.prevent(),!1):M.triggerEvent(Bf(),pe)))}]);return{fireIfReady:(pe,Se)=>En(fe,Se).bind(ge=>ge(pe))}})(d),b=Le(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),M=>Ka(r,M,V=>{f.fireIfReady(V,M).each(Y=>{Y&&V.kill()}),d.triggerEvent(M,V)&&V.kill()})),v=Or(),C=Ka(r,"paste",M=>{f.fireIfReady(M,"paste").each(V=>{V&&M.kill()}),d.triggerEvent("paste",M)&&M.kill(),v.set(setTimeout(()=>{d.triggerEvent(Nx(),M)},0))}),k=Ka(r,"keydown",M=>{d.triggerEvent("keydown",M)?M.kill():d.stopBackspace&&(V=>V.raw.which===$R[0]&&!ct(["input","textarea"],nl(V.target))&&!Ry(V.target,'[contenteditable="true"]'))(M)&&M.prevent()}),E=Ka(r,"focusin",M=>{d.triggerEvent("focusin",M)&&M.kill()}),P=Or(),F=Ka(r,"focusout",M=>{d.triggerEvent("focusout",M)&&M.kill(),P.set(setTimeout(()=>{d.triggerEvent(kp(),M)},0))});return{unbind:()=>{ft(b,M=>{M.unbind()}),k.unbind(),E.unbind(),F.unbind(),C.unbind(),v.on(clearTimeout),P.on(clearTimeout)}}},UT=(r,l)=>{const d=En(r,"target").getOr(l);return Hn(d)},_w=ec([{stopped:[]},{resume:["element"]},{complete:[]}]),v5=(r,l,d,f,b,v)=>{const C=r(l,f),k=((E,P)=>{const F=Hn(!1),M=Hn(!1);return{stop:()=>{F.set(!0)},cut:()=>{M.set(!0)},isStopped:F.get,isCut:M.get,event:E,setSource:P.set,getSource:P.get}})(d,b);return C.fold(()=>(v.logEventNoHandlers(l,f),_w.complete()),E=>{const P=E.descHandler;return Jx(P)(k),k.isStopped()?(v.logEventStopped(l,E.element,P.purpose),_w.stopped()):k.isCut()?(v.logEventCut(l,E.element,P.purpose),_w.complete()):ka(E.element).fold(()=>(v.logNoParent(l,E.element,P.purpose),_w.complete()),F=>(v.logEventResponse(l,E.element,P.purpose),_w.resume(F)))})},Sw=(r,l,d,f,b,v)=>v5(r,l,d,f,b,v).fold(Te,C=>Sw(r,l,d,C,b,v),Oe),yS=(r,l,d,f,b)=>{const v=UT(d,f);return Sw(r,l,d,f,v,b)},y5=()=>{const r=(()=>{const f={};return{registerId:(b,v,C)=>{qn(C,(k,E)=>{const P=f[E]!==void 0?f[E]:{};P[v]=((F,M)=>({cHandler:Ve.apply(void 0,[F.handler].concat(M)),purpose:F.purpose}))(k,b),f[E]=P})},unregisterId:b=>{qn(f,(v,C)=>{uo(v,b)&&delete v[b]})},filterByType:b=>En(f,b).map(v=>ti(v,(C,k)=>((E,P)=>({id:E,descHandler:P}))(k,C))).getOr([]),find:(b,v,C)=>En(f,v).bind(k=>ch(C,E=>((P,F)=>vh(F).bind(M=>En(P,M)).map(M=>((V,Y)=>({element:V,descHandler:Y}))(F,M)))(k,E),b))}})(),l={},d=f=>{vh(f.element).each(b=>{delete l[b],r.unregisterId(b)})};return{find:(f,b,v)=>r.find(f,b,v),filter:f=>r.filterByType(f),register:f=>{const b=(C=>{const k=C.element;return vh(k).getOrThunk(()=>((E,P)=>{const F=_n(R0+"uid-");return I0(P,F),F})(0,C.element))})(f);Oo(l,b)&&((C,k)=>{const E=l[k];if(E!==C)throw new Error('The tagId "'+k+'" is already used by: '+Jd(E.element)+`
Cannot use it for: `+Jd(C.element)+`
The conflicting element is`+(mn(E.element)?" ":" not ")+"already in the DOM");d(C)})(f,b);const v=[f];r.registerId(v,b,f.events),l[b]=f},unregister:d,getById:f=>En(l,f)}},uf=Ou({name:"Container",factory:r=>{const{attributes:l,...d}=r.dom;return{uid:r.uid,dom:{tag:"div",attributes:{role:"presentation",...l},...d},components:r.components,behaviours:to(r.containerBehaviours),events:r.events,domModification:r.domModification,eventOrder:r.eventOrder}},configFields:[ut("components",[]),Sn("containerBehaviours",[]),ut("events",{}),ut("domModification",{}),ut("eventOrder",{})]}),xS=r=>{const l=pe=>ka(r.element).fold(Te,Se=>dr(pe,Se)),d=y5(),f=(pe,Se)=>d.find(l,pe,Se),b=vS(r.element,{triggerEvent:(pe,Se)=>bv(pe,Se.target,ge=>((me,we,ke,De)=>yS(me,we,ke,ke.target,De))(f,pe,Se,ge))}),v={debugInfo:U("real"),triggerEvent:(pe,Se,ge)=>{bv(pe,Se,me=>yS(f,pe,ge,Se,me))},triggerFocus:(pe,Se)=>{vh(pe).fold(()=>{Wa(pe)},ge=>{bv(ad(),pe,me=>(((we,ke,De,Ze,it)=>{const It=UT(De,Ze);v5(we,ke,De,Ze,It,it)})(f,ad(),{originator:Se,kill:j,prevent:j,target:pe},pe,me),!1))})},triggerEscape:(pe,Se)=>{v.triggerEvent("keydown",pe.element,Se.event)},getByUid:pe=>ee(pe),getByDom:pe=>fe(pe),build:Ji,buildOrPatch:F0,addToGui:pe=>{E(pe)},removeFromGui:pe=>{P(pe)},addToWorld:pe=>{C(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{M(pe)},broadcastOn:(pe,Se)=>{V(pe,Se)},broadcastEvent:(pe,Se)=>{Y(pe,Se)},isConnected:Te},C=pe=>{pe.connect(v),Sa(pe.element)||(d.register(pe),ft(pe.components(),C),v.triggerEvent(Ff(),pe.element,{target:pe.element}))},k=pe=>{Sa(pe.element)||(ft(pe.components(),k),d.unregister(pe)),pe.disconnect()},E=pe=>{om(r,pe)},P=pe=>{fl(pe)},F=pe=>{const Se=d.filter(mc());ft(Se,ge=>{const me=ge.descHandler;Jx(me)(pe)})},M=pe=>{F({universal:!0,data:pe})},V=(pe,Se)=>{F({universal:!1,channels:pe,data:Se})},Y=(pe,Se)=>((ge,me,we)=>{const ke=(De=>{const Ze=Hn(!1);return{stop:()=>{Ze.set(!0)},cut:j,isStopped:Ze.get,isCut:Oe,event:De,setSource:Xe("Cannot set source of a broadcasted event"),getSource:Xe("Cannot get source of a broadcasted event")}})(me);return ft(ge,De=>{const Ze=De.descHandler;Jx(Ze)(ke)}),ke.isStopped()})(d.filter(pe),Se),ee=pe=>d.getById(pe).fold(()=>Ho.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Ho.value),fe=pe=>{const Se=vh(pe).getOr("not found");return ee(Se)};return C(r),{root:r,element:r.element,destroy:()=>{b.unbind(),Zi(r.element)},add:E,remove:P,getByUid:ee,getByDom:fe,addToWorld:C,removeFromWorld:k,broadcast:M,broadcastOn:V,broadcastEvent:Y}},n$=U([ut("prefix","form-field"),Sn("fieldBehaviours",[sr,mt])]),WT=U([Tu({schema:[Lt("dom")],name:"label"}),Tu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Lt("text")],name:"aria-descriptor"}),Rl({factory:{sketch:r=>{const l=((d,f)=>{const b={};return qn(d,(v,C)=>{ct(f,C)||(b[C]=v)}),b})(r,["factory"]);return r.factory.sketch(l)}},schema:[Lt("factory")],name:"field"})]),Dr=Kl({name:"FormField",configFields:n$(),partFields:WT(),factory:(r,l,d,f)=>{const b=Eo(r.fieldBehaviours,[sr.config({find:k=>Jr(k,r,"field")}),mt.config({store:{mode:"manual",getValue:k=>sr.getCurrent(k).bind(mt.getValue),setValue:(k,E)=>{sr.getCurrent(k).each(P=>{mt.setValue(P,E)})}}})]),v=yo([as((k,E)=>{const P=SR(k,r,["label","field","aria-descriptor"]);P.field().each(F=>{const M=_n(r.prefix);P.label().each(V=>{cn(V.element,"for",M),cn(F.element,"id",M)}),P["aria-descriptor"]().each(V=>{const Y=_n(r.prefix);cn(V.element,"id",Y),cn(F.element,"aria-describedby",Y)})})})]),C={getField:k=>Jr(k,r,"field"),getLabel:k=>Jr(k,r,"label")};return{uid:r.uid,dom:r.dom,components:l,behaviours:b,events:v,apis:C}},apis:{getField:(r,l)=>r.getField(l),getLabel:(r,l)=>r.getLabel(l)}});var o$=tinymce.util.Tools.resolve("tinymce.html.Entities");const kw=(r,l,d,f)=>{const b=r$(r,l,d,f);return Dr.sketch(b)},r$=(r,l,d,f)=>({dom:wS(d),components:r.toArray().concat([l]),fieldBehaviours:qt(f)}),wS=r=>({tag:"div",classes:["tox-form__group"].concat(r)}),lb=(r,l)=>Dr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(l.translate(r))]}),hl=_n("form-component-change"),cb=_n("form-close"),Hh=_n("form-cancel"),mm=_n("form-action"),Ew=_n("form-submit"),KT=_n("form-block"),jT=_n("form-unblock"),x5=_n("form-tabchange"),CS=_n("form-resize"),w5=(r,l,d)=>{const f=r.label.map(M=>lb(M,l)),b=l.icons(),v=M=>(V,Y)=>{ud(Y.event.target,"[data-collection-item-value]").each(ee=>{M(V,Y,ee,Ko(ee,"data-collection-item-value"))})},C=v((M,V,Y,ee)=>{V.stop(),l.isDisabled()||Mn(M,mm,{name:r.name,value:ee})}),k=[Ot(Pn(),v((M,V,Y)=>{Wa(Y)})),Ot(vi(),C),Ot(Bf(),C),Ot(Cr(),v((M,V,Y)=>{fs(M.element,"."+bg).each(ee=>{Is(ee,bg)}),Es(Y,bg)})),Ot(Ks(),v(M=>{fs(M.element,"."+bg).each(V=>{Is(V,bg),kv(V)})})),wu(v((M,V,Y,ee)=>{Mn(M,mm,{name:r.name,value:ee})}))],E=(M,V)=>Le(Ai(M.element,".tox-collection__item"),V),P=Dr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(r.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:de},behaviours:qt([ao.config({disabled:l.isDisabled,onDisabled:M=>{E(M,V=>{Es(V,"tox-collection__item--state-disabled"),cn(V,"aria-disabled",!0)})},onEnabled:M=>{E(M,V=>{Is(V,"tox-collection__item--state-disabled"),Io(V,"aria-disabled")})}}),Bi(),Jn.config({}),ai.config({...l.tooltips.getConfig({tooltipText:"",onShow:M=>{fs(M.element,"."+bg+"[data-mce-tooltip]").each(V=>{Qo(V,"data-mce-tooltip").each(Y=>{ai.setComponents(M,l.tooltips.getComponents({tooltipText:Y}))})})}}),mode:"children-keyboard-focus",anchor:M=>({type:"node",node:fs(M.element,"."+bg).orThunk(()=>Fd(".tox-collection__item")),root:M.element,layouts:{onLtr:U([Gs,As,Ns,si,Ps,Fr]),onRtl:U([Gs,As,Ns,si,Ps,Fr])},bubble:pc(0,-2,{})})}),mt.config({store:{mode:"memory",initialValue:d.getOr([])},onSetValue:(M,V)=>{((Y,ee)=>{const fe=Le(ee,ge=>{const me=hd.translate(ge.text),we=r.columns===1?`<div class="tox-collection__item-label">${me}</div>`:"",ke=`<div class="tox-collection__item-icon">${(it=>{var It;return(It=b[it])!==null&&It!==void 0?It:it})(ge.icon)}</div>`,De={_:" "," - ":" ","-":" "},Ze=me.replace(/\_| \- |\-/g,it=>De[it]);return`<div data-mce-tooltip="${Ze}" class="tox-collection__item${l.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${o$.encodeAllRaw(ge.value)}" aria-label="${Ze}">${ke}${we}</div>`}),pe=r.columns!=="auto"&&r.columns>1?Qe(fe,r.columns):[fe],Se=Le(pe,ge=>`<div class="tox-collection__group">${ge.join("")}</div>`);mh(Y.element,Se.join(""))})(M,V),r.columns==="auto"&&fT(M,5,"tox-collection__item").each(({numRows:Y,numColumns:ee})=>{$n.setGridSize(M,Y,ee)}),No(M,CS)}}),Gr.config({}),$n.config((F=r.columns,F===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:F==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${J_}`}})),To("collection-events",k)]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","collection-events"],[Cr()]:["collection-events","tooltipping"]}});var F;return kw(f,P,["tox-form__group--collection"],[])},C5=["input","textarea"],_S=r=>{const l=nl(r);return ct(C5,l)},_5=(r,l)=>{const d=l.getRoot(r).getOr(r.element);Is(d,l.invalidClass),l.notify.each(f=>{_S(r.element)&&cn(r.element,"aria-invalid",!1),f.getContainer(r).each(b=>{mh(b,f.validHtml)}),f.onValid(r)})},ZT=(r,l,d,f)=>{const b=l.getRoot(r).getOr(r.element);Es(b,l.invalidClass),l.notify.each(v=>{_S(r.element)&&cn(r.element,"aria-invalid",!0),v.getContainer(r).each(C=>{mh(C,f)}),v.onInvalid(r,f)})},S5=(r,l,d)=>l.validator.fold(()=>xg(Ho.value(!0)),f=>f.validate(r)),GT=(r,l,d)=>(l.notify.each(f=>{f.onValidate(r)}),S5(r,l).map(f=>r.getSystem().isConnected()?f.fold(b=>(ZT(r,l,0,b),Ho.error(b)),b=>(_5(r,l),Ho.value(b))):Ho.error("No longer in system")));var s$=Object.freeze({__proto__:null,markValid:_5,markInvalid:ZT,query:S5,run:GT,isInvalid:(r,l)=>{const d=l.getRoot(r).getOr(r.element);return cl(d,l.invalidClass)}}),k5=Object.freeze({__proto__:null,events:(r,l)=>r.validator.map(d=>yo([Ot(d.onEvent,f=>{GT(f,r).get(de)})].concat(d.validateOnLoad?[as(f=>{GT(f,r).get(j)})]:[]))).getOr({})}),i$=[Lt("invalidClass"),ut("getRoot",D.none),Ds("notify",[ut("aria","alert"),ut("getContainer",D.none),ut("validHtml",""),nr("onValid"),nr("onInvalid"),nr("onValidate")]),Ds("validator",[Lt("validate"),ut("onEvent","input"),ut("validateOnLoad",!0)])];const wg=Mi({fields:i$,name:"invalidating",active:k5,apis:s$,extra:{validation:r=>l=>{const d=mt.getValue(l);return xg(r(d))}}}),b1=Mi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>yo([Tp(fa(),Te)]),exhibit:()=>js({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),qT=_n("color-input-change"),YT=_n("color-swatch-change"),E5=_n("color-picker-cancel"),XT=Tu({schema:[Lt("dom")],name:"label"}),ub=r=>Tu({name:r+"-edge",overrides:l=>l.model.manager.edgeActions[r].fold(()=>({}),d=>({events:yo([Lx(G(),(f,b,v)=>d(f,v),[l]),Lx(Mt(),(f,b,v)=>d(f,v),[l]),Lx(Yn(),(f,b,v)=>{v.mouseIsDown.get()&&d(f,v)},[l])])}))}),a$=ub("top-left"),l$=ub("top"),c$=ub("top-right"),u$=ub("right"),A5=ub("bottom-right"),JT=ub("bottom"),d$=ub("bottom-left"),SS=ub("left"),f$=Rl({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:r=>({events:yo([Dp(G(),r,"spectrum"),Dp(ce(),r,"spectrum"),Dp(Be(),r,"spectrum"),Dp(Mt(),r,"spectrum"),Dp(Yn(),r,"spectrum"),Dp(mo(),r,"spectrum")])})}),kS=r=>fg(r.event);var m$=[XT,SS,u$,l$,JT,a$,c$,d$,A5,f$,Rl({schema:[qi("mouseIsDown",()=>Hn(!1))],name:"spectrum",overrides:r=>{const l=r.model.manager,d=(f,b)=>l.getValueFromEvent(b).map(v=>l.setValueFrom(f,r,v));return{behaviours:qt([$n.config({mode:"special",onLeft:(f,b)=>l.onLeft(f,r,kS(b)),onRight:(f,b)=>l.onRight(f,r,kS(b)),onUp:(f,b)=>l.onUp(f,r,kS(b)),onDown:(f,b)=>l.onDown(f,r,kS(b))}),Gr.config({}),so.config({})]),events:yo([Ot(G(),d),Ot(ce(),d),Ot(Mt(),d),Ot(Yn(),(f,b)=>{r.mouseIsDown.get()&&d(f,b)})])}}})];const Aw=U("slider.change.value"),QT=r=>{const l=r.event.raw;if((d=>d.type.indexOf("touch")!==-1)(l)){const d=l;return d.touches!==void 0&&d.touches.length===1?D.some(d.touches[0]).map(f=>ts(f.clientX,f.clientY)):D.none()}{const d=l;return d.clientX!==void 0?D.some(d).map(f=>ts(f.clientX,f.clientY)):D.none()}},v1=r=>r.model.minX,db=r=>r.model.minY,ES=r=>r.model.minX-1,AS=r=>r.model.minY-1,Uh=r=>r.model.maxX,wd=r=>r.model.maxY,TS=r=>r.model.maxX+1,OS=r=>r.model.maxY+1,DS=(r,l,d)=>l(r)-d(r),RS=r=>DS(r,Uh,v1),e3=r=>DS(r,wd,db),T5=r=>RS(r)/2,t3=r=>e3(r)/2,Iy=(r,l)=>l?r.stepSize*r.speedMultiplier:r.stepSize,n3=r=>r.snapToGrid,o3=r=>r.snapStart,IS=r=>r.rounded,NS=(r,l)=>r[l+"-edge"]!==void 0,r3=r=>NS(r,"left"),O5=r=>NS(r,"right"),Ny=r=>NS(r,"top"),D5=r=>NS(r,"bottom"),Wh=r=>r.model.value.get(),Cg=(r,l)=>({x:r,y:l}),Pu=(r,l)=>{Mn(r,Aw(),{value:l})},s3=(r,l,d,f)=>r<l?r:r>d?d:r===l?l-1:Math.max(l,r-f),Tw=(r,l,d,f)=>r>d?r:r<l?l:r===d?d+1:Math.min(d,r+f),R5=(r,l,d)=>Math.max(l,Math.min(d,r)),I5=r=>{const{min:l,max:d,range:f,value:b,step:v,snap:C,snapStart:k,rounded:E,hasMinEdge:P,hasMaxEdge:F,minBound:M,maxBound:V,screenRange:Y}=r,ee=P?l-1:l,fe=F?d+1:d;if(b<M)return ee;if(b>V)return fe;{const pe=((ge,me,we)=>Math.min(we,Math.max(ge,me))-me)(b,M,V),Se=R5(pe/Y*f+l,ee,fe);return C&&Se>=l&&Se<=d?((ge,me,we,ke,De)=>De.fold(()=>{const Ze=ge-me,it=Math.round(Ze/ke)*ke;return R5(me+it,me-1,we+1)},Ze=>{const it=(ge-Ze)%ke,It=Math.round(it/ke),Tt=Math.floor((ge-Ze)/ke),kt=Math.floor((we-Ze)/ke),Wt=Ze+Math.min(kt,Tt+It)*ke;return Math.max(Ze,Wt)}))(Se,l,d,v,k):E?Math.round(Se):Se}},PS=r=>{const{min:l,max:d,range:f,value:b,hasMinEdge:v,hasMaxEdge:C,maxBound:k,maxOffset:E,centerMinEdge:P,centerMaxEdge:F}=r;return b<l?v?0:P:b>d?C?k:F:(b-l)/f*E},i3="top",N5="right",P5="bottom",a3="left",_g=r=>r.element.dom.getBoundingClientRect(),df=(r,l)=>r[l],LS=r=>{const l=_g(r);return df(l,a3)},L5=r=>{const l=_g(r);return df(l,N5)},MS=r=>{const l=_g(r);return df(l,i3)},M5=r=>{const l=_g(r);return df(l,P5)},B5=r=>{const l=_g(r);return df(l,"width")},F5=r=>{const l=_g(r);return df(l,"height")},BS=(r,l,d)=>(r+l)/2-d,$5=(r,l)=>{const d=_g(r),f=_g(l),b=df(d,a3),v=df(d,N5),C=df(f,a3);return BS(b,v,C)},V5=(r,l)=>{const d=_g(r),f=_g(l),b=df(d,i3),v=df(d,P5),C=df(f,i3);return BS(b,v,C)},FS=(r,l)=>{Mn(r,Aw(),{value:l})},$S=(r,l,d)=>{const f={min:v1(l),max:Uh(l),range:RS(l),value:d,step:Iy(l),snap:n3(l),snapStart:o3(l),rounded:IS(l),hasMinEdge:r3(l),hasMaxEdge:O5(l),minBound:LS(r),maxBound:L5(r),screenRange:B5(r)};return I5(f)},z5=r=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Tw:s3)(Wh(C),v1(C),Uh(C),Iy(C,k));return FS(v,E),D.some(E)})(r,l,d,f).map(Te),l3=(r,l,d,f,b,v)=>{const C=((k,E,P,F,M)=>{const V=B5(k),Y=F.bind(pe=>D.some($5(pe,k))).getOr(0),ee=M.bind(pe=>D.some($5(pe,k))).getOr(V),fe={min:v1(E),max:Uh(E),range:RS(E),value:P,hasMinEdge:r3(E),hasMaxEdge:O5(E),minBound:LS(k),maxBound:L5(k),maxOffset:V,centerMinEdge:Y,centerMaxEdge:ee};return PS(fe)})(l,v,d,f,b);return LS(l)-LS(r)+C},g$=z5(-1),h$=z5(1),p$=D.none,b$=D.none,c3={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((r,l)=>{Pu(r,TS(l))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((r,l)=>{Pu(r,ES(l))})};var v$=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=$S(r,l,d);return FS(r,f),f},setToMin:(r,l)=>{const d=v1(l);FS(r,d)},setToMax:(r,l)=>{const d=Uh(l);FS(r,d)},findValueOfOffset:$S,getValueFromEvent:r=>QT(r).map(l=>l.left),findPositionOfValue:l3,setPositionFromValue:(r,l,d,f)=>{const b=Wh(d),v=l3(r,f.getSpectrum(r),b,f.getLeftEdge(r),f.getRightEdge(r),d),C=Ii(l.element)/2;bo(l.element,"left",v-C+"px")},onLeft:g$,onRight:h$,onUp:p$,onDown:b$,edgeActions:c3});const VS=(r,l)=>{Mn(r,Aw(),{value:l})},u3=(r,l,d)=>{const f={min:db(l),max:wd(l),range:e3(l),value:d,step:Iy(l),snap:n3(l),snapStart:o3(l),rounded:IS(l),hasMinEdge:Ny(l),hasMaxEdge:D5(l),minBound:MS(r),maxBound:M5(r),screenRange:F5(r)};return I5(f)},H5=r=>(l,d,f)=>((b,v,C,k)=>{const E=(b>0?Tw:s3)(Wh(C),db(C),wd(C),Iy(C,k));return VS(v,E),D.some(E)})(r,l,d,f).map(Te),d3=(r,l,d,f,b,v)=>{const C=((k,E,P,F,M)=>{const V=F5(k),Y=F.bind(pe=>D.some(V5(pe,k))).getOr(0),ee=M.bind(pe=>D.some(V5(pe,k))).getOr(V),fe={min:db(E),max:wd(E),range:e3(E),value:P,hasMinEdge:Ny(E),hasMaxEdge:D5(E),minBound:MS(k),maxBound:M5(k),maxOffset:V,centerMinEdge:Y,centerMaxEdge:ee};return PS(fe)})(l,v,d,f,b);return MS(l)-MS(r)+C},y$=D.none,x$=D.none,w$=H5(-1),C$=H5(1),_$={"top-left":D.none(),top:D.some((r,l)=>{Pu(r,AS(l))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((r,l)=>{Pu(r,OS(l))}),"bottom-left":D.none(),left:D.none()};var S$=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=u3(r,l,d);return VS(r,f),f},setToMin:(r,l)=>{const d=db(l);VS(r,d)},setToMax:(r,l)=>{const d=wd(l);VS(r,d)},findValueOfOffset:u3,getValueFromEvent:r=>QT(r).map(l=>l.top),findPositionOfValue:d3,setPositionFromValue:(r,l,d,f)=>{const b=Wh(d),v=d3(r,f.getSpectrum(r),b,f.getTopEdge(r),f.getBottomEdge(r),d),C=Os(l.element)/2;bo(l.element,"top",v-C+"px")},onLeft:y$,onRight:x$,onUp:w$,onDown:C$,edgeActions:_$});const zS=(r,l)=>{Mn(r,Aw(),{value:l})},HS=(r,l)=>({x:r,y:l}),y1=(r,l)=>(d,f,b)=>((v,C,k,E,P)=>{const F=v>0?Tw:s3,M=C?Wh(E).x:F(Wh(E).x,v1(E),Uh(E),Iy(E,P)),V=C?F(Wh(E).y,db(E),wd(E),Iy(E,P)):Wh(E).y;return zS(k,HS(M,V)),D.some(M)})(r,l,d,f,b).map(Te),k$=y1(-1,!1),f3=y1(1,!1),E$=y1(-1,!0),A$=y1(1,!0),T$={"top-left":D.some((r,l)=>{Pu(r,Cg(ES(l),AS(l)))}),top:D.some((r,l)=>{Pu(r,Cg(T5(l),AS(l)))}),"top-right":D.some((r,l)=>{Pu(r,Cg(TS(l),AS(l)))}),right:D.some((r,l)=>{Pu(r,Cg(TS(l),t3(l)))}),"bottom-right":D.some((r,l)=>{Pu(r,Cg(TS(l),OS(l)))}),bottom:D.some((r,l)=>{Pu(r,Cg(T5(l),OS(l)))}),"bottom-left":D.some((r,l)=>{Pu(r,Cg(ES(l),OS(l)))}),left:D.some((r,l)=>{Pu(r,Cg(ES(l),t3(l)))})};var U5=Object.freeze({__proto__:null,setValueFrom:(r,l,d)=>{const f=$S(r,l,d.left),b=u3(r,l,d.top),v=HS(f,b);return zS(r,v),v},setToMin:(r,l)=>{const d=v1(l),f=db(l);zS(r,HS(d,f))},setToMax:(r,l)=>{const d=Uh(l),f=wd(l);zS(r,HS(d,f))},getValueFromEvent:r=>QT(r),setPositionFromValue:(r,l,d,f)=>{const b=Wh(d),v=l3(r,f.getSpectrum(r),b.x,f.getLeftEdge(r),f.getRightEdge(r),d),C=d3(r,f.getSpectrum(r),b.y,f.getTopEdge(r),f.getBottomEdge(r),d),k=Ii(l.element)/2,E=Os(l.element)/2;bo(l.element,"left",v-k+"px"),bo(l.element,"top",C-E+"px")},onLeft:k$,onRight:f3,onUp:E$,onDown:A$,edgeActions:T$});const ff=Kl({name:"Slider",configFields:[ut("stepSize",1),ut("speedMultiplier",10),ut("onChange",j),ut("onChoose",j),ut("onInit",j),ut("onDragStart",j),ut("onDragEnd",j),ut("snapToGrid",!1),ut("rounded",!0),qo("snapStart"),Yi("model",bi("mode",{x:[ut("minX",0),ut("maxX",100),qi("value",r=>Hn(r.mode.minX)),Lt("getInitialValue"),Yr("manager",v$)],y:[ut("minY",0),ut("maxY",100),qi("value",r=>Hn(r.mode.minY)),Lt("getInitialValue"),Yr("manager",S$)],xy:[ut("minX",0),ut("maxX",100),ut("minY",0),ut("maxY",100),qi("value",r=>Hn({x:r.mode.minX,y:r.mode.minY})),Lt("getInitialValue"),Yr("manager",U5)]})),Sn("sliderBehaviours",[$n,mt]),qi("mouseIsDown",()=>Hn(!1))],partFields:m$,factory:(r,l,d,f)=>{const b=ge=>Nh(ge,r,"thumb"),v=ge=>Nh(ge,r,"spectrum"),C=ge=>Jr(ge,r,"left-edge"),k=ge=>Jr(ge,r,"right-edge"),E=ge=>Jr(ge,r,"top-edge"),P=ge=>Jr(ge,r,"bottom-edge"),F=r.model,M=F.manager,V=(ge,me)=>{M.setPositionFromValue(ge,me,r,{getLeftEdge:C,getRightEdge:k,getTopEdge:E,getBottomEdge:P,getSpectrum:v})},Y=(ge,me)=>{F.value.set(me);const we=b(ge);V(ge,we)},ee=ge=>{const me=r.mouseIsDown.get();r.mouseIsDown.set(!1),me&&Jr(ge,r,"thumb").each(we=>{const ke=F.value.get();r.onChoose(ge,we,ke)})},fe=(ge,me)=>{me.stop(),r.mouseIsDown.set(!0),r.onDragStart(ge,b(ge))},pe=(ge,me)=>{me.stop(),r.onDragEnd(ge,b(ge)),ee(ge)},Se=ge=>{Jr(ge,r,"spectrum").map($n.focusIn)};return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.sliderBehaviours,[$n.config({mode:"special",focusIn:Se}),mt.config({store:{mode:"manual",getValue:ge=>F.value.get(),setValue:Y}}),Ol.config({channels:{[K()]:{onReceive:ee}}})]),events:yo([Ot(Aw(),(ge,me)=>{((we,ke)=>{Y(we,ke);const De=b(we);r.onChange(we,De,ke)})(ge,me.event.value)}),as((ge,me)=>{const we=F.getInitialValue();F.value.set(we);const ke=b(ge);V(ge,ke);const De=v(ge);r.onInit(ge,ke,De,F.value.get())}),Ot(G(),fe),Ot(Be(),pe),Ot(Mt(),(ge,me)=>{Se(ge),fe(ge,me)}),Ot(mo(),pe)]),apis:{resetToMin:ge=>{M.setToMin(ge,r)},resetToMax:ge=>{M.setToMax(ge,r)},setValue:Y,refresh:V},domModification:{styles:{position:"relative"}}}},apis:{setValue:(r,l,d)=>{r.setValue(l,d)},resetToMin:(r,l)=>{r.resetToMin(l)},resetToMax:(r,l)=>{r.resetToMax(l)},refresh:(r,l)=>{r.refresh(l)}}}),Ow=_n("rgb-hex-update"),US=_n("slider-update"),m3=_n("palette-update"),WS="form",KS=[Sn("formBehaviours",[mt])],g3=r=>"<alloy.field."+r+">",Sg=(r,l)=>({uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.formBehaviours,[mt.config({store:{mode:"manual",getValue:d=>{const f=rA(d,r);return eo(f,(b,v)=>b().bind(C=>{return k=sr.getCurrent(C),E=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+Jd(C.element)),k.fold(()=>Ho.error(E),Ho.value);var k,E}).map(mt.getValue))},setValue:(d,f)=>{qn(f,(b,v)=>{Jr(d,r,v).each(C=>{sr.getCurrent(C).each(k=>{mt.setValue(k,b)})})})}}})]),apis:{getField:(d,f)=>Jr(d,r,f).bind(sr.getCurrent)}}),fb={getField:L0((r,l,d)=>r.getField(l,d)),sketch:r=>{const l=(()=>{const v=[];return{field:(C,k)=>(v.push(C),tA(WS,g3(C),k)),record:U(v)}})(),d=r(l),f=l.record(),b=Le(f,v=>Rl({name:v,pname:g3(v)}));return k2(WS,KS,b,Sg,d)}},W5=_n("valid-input"),K5=_n("invalid-input"),j5=_n("validating-input"),h3="colorcustom.rgb.",Dw={isEnabled:Te,setEnabled:j,immediatelyShow:j,immediatelyHide:j},O$=(r,l,d,f,b,v)=>{const C=(Y,ee)=>{const fe=ee.get();Y!==fe.isEnabled()&&(fe.setEnabled(Y),Y?fe.immediatelyShow():fe.immediatelyHide())},k=(Y,ee,fe)=>wg.config({invalidClass:l("invalid"),notify:{onValidate:pe=>{Mn(pe,j5,{type:Y})},onValid:pe=>{C(!1,fe),Mn(pe,W5,{type:Y,value:mt.getValue(pe)})},onInvalid:pe=>{C(!0,fe),Mn(pe,K5,{type:Y,value:mt.getValue(pe)})}},validator:{validate:pe=>{const Se=mt.getValue(pe),ge=ee(Se)?Ho.value(!0):Ho.error(r("aria.input.invalid"));return xg(ge)},validateOnLoad:!1}}),E=(Y,ee,fe,pe,Se)=>{const ge=Hn(Dw),me=r(h3+"range"),we=Dr.parts.label({dom:{tag:"label",attributes:{"aria-label":pe}},components:[$s(fe)]}),ke=Dr.parts.field({data:Se,factory:Fh,inputAttributes:{type:"text",...ee==="hex"?{"aria-live":"polite"}:{}},inputClasses:[l("textfield")],inputBehaviours:qt([k(ee,Y,ge),Gr.config({}),ai.config({...b({tooltipText:"",onSetup:kt=>{ge.set({isEnabled:()=>ai.isEnabled(kt),setEnabled:Wt=>ai.setEnabled(kt,Wt),immediatelyShow:()=>ai.immediateOpenClose(kt,!0),immediatelyHide:()=>ai.immediateOpenClose(kt,!1)}),ai.setEnabled(kt,!1)},onShow:(kt,Wt)=>{ai.setComponents(kt,[{dom:{tag:"p",classes:[l("rgb-warning-note")]},components:[$s(r(ee==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:kt=>{wg.isInvalid(kt)&&wg.run(kt).get(j)}}),De=_n("aria-invalid"),Ze=kr(v("invalid",D.some(De),"warning")),it=[we,ke,kr({dom:{tag:"div",classes:[l("invalid-icon")]},components:[Ze.asSpec()]}).asSpec()],It=ee!=="hex"?[Dr.parts["aria-descriptor"]({text:me})]:[],Tt=it.concat(It);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[l("rgb-container")]},components:Tt}},P=(Y,ee)=>{const fe=ee.red,pe=ee.green,Se=ee.blue;mt.setValue(Y,{red:fe,green:pe,blue:Se})},F=kr({dom:{tag:"div",classes:[l("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),M=(Y,ee)=>{F.getOpt(Y).each(fe=>{bo(fe.element,"background-color","#"+ee.value)})};return Ou({factory:()=>{const Y={red:Hn(D.some(255)),green:Hn(D.some(255)),blue:Hn(D.some(255)),hex:Hn(D.some("ffffff"))},ee=it=>Y[it].get(),fe=(it,It)=>{Y[it].set(It)},pe=it=>{const It=it.red,Tt=it.green,kt=it.blue;fe("red",D.some(It)),fe("green",D.some(Tt)),fe("blue",D.some(kt))},Se=(it,It)=>{const Tt=It.event;Tt.type!=="hex"?fe(Tt.type,D.none()):f(it)},ge=(it,It)=>{const Tt=It.event;(kt=>kt.type==="hex")(Tt)?((kt,Wt)=>{d(kt);const vn=bT(Wt);fe("hex",D.some(vn.value));const In=cf(vn);P(kt,In),pe(In),Mn(kt,Ow,{hex:vn}),M(kt,vn)})(it,Tt.value):((kt,Wt,vn)=>{const In=parseInt(vn,10);fe(Wt,D.some(In)),ee("red").bind(Kn=>ee("green").bind(lo=>ee("blue").map(Uo=>zh(Kn,lo,Uo,1)))).each(Kn=>{const lo=((Uo,ss)=>{const ms=bw(ss);return fb.getField(Uo,"hex").each(Do=>{so.isFocused(Do)||mt.setValue(Uo,{hex:ms.value})}),ms})(kt,Kn);Mn(kt,Ow,{hex:lo}),M(kt,lo)})})(it,Tt.type,Tt.value)},me=it=>({label:r(h3+it+".label"),description:r(h3+it+".description")}),we=me("red"),ke=me("green"),De=me("blue"),Ze=me("hex");return Br(fb.sketch(it=>({dom:{tag:"form",classes:[l("rgb-form")],attributes:{"aria-label":r("aria.color.picker")}},components:[it.field("red",Dr.sketch(E(vw,"red",we.label,we.description,255))),it.field("green",Dr.sketch(E(vw,"green",ke.label,ke.description,255))),it.field("blue",Dr.sketch(E(vw,"blue",De.label,De.description,255))),it.field("hex",Dr.sketch(E(zN,"hex",Ze.label,Ze.description,"ffffff"))),F.asSpec()],formBehaviours:qt([wg.config({invalidClass:l("form-invalid")}),To("rgb-form-events",[Ot(W5,ge),Ot(K5,Se),Ot(j5,Se)])])})),{apis:{updateHex:(it,It)=>{mt.setValue(it,{hex:It.value}),((Tt,kt)=>{const Wt=cf(kt);P(Tt,Wt),pe(Wt)})(it,It),M(it,It)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Y,ee,fe)=>{Y.updateHex(ee,fe)}},extraApis:{}})},Z5=(r,l,d,f)=>Ou({name:"ColourPicker",configFields:[Lt("dom"),ut("onValidHex",j),ut("onInvalidHex",j)],factory:v=>{const C=O$(r,l,v.onValidHex,v.onInvalidHex,d,f),k=((Se,ge)=>{const me=ff.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[ge("sv-palette-spectrum")]}}),we=ff.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[ge("sv-palette-thumb")],innerHtml:`<div class=${ge("sv-palette-inner-thumb")} role="presentation"></div>`}}),ke=(De,Ze)=>{const{width:it,height:It}=De,Tt=De.getContext("2d");if(Tt===null)return;Tt.fillStyle=Ze,Tt.fillRect(0,0,it,It);const kt=Tt.createLinearGradient(0,0,it,0);kt.addColorStop(0,"rgba(255,255,255,1)"),kt.addColorStop(1,"rgba(255,255,255,0)"),Tt.fillStyle=kt,Tt.fillRect(0,0,it,It);const Wt=Tt.createLinearGradient(0,0,0,It);Wt.addColorStop(0,"rgba(0,0,0,0)"),Wt.addColorStop(1,"rgba(0,0,0,1)"),Tt.fillStyle=Wt,Tt.fillRect(0,0,it,It)};return Ou({factory:De=>{const Ze=U({x:0,y:0}),it=qt([sr.config({find:D.some}),so.config({})]);return ff.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Se(["Saturation {0}%, Brightness {1}%",0,0])},classes:[ge("sv-palette")]},model:{mode:"xy",getInitialValue:Ze},rounded:!1,components:[me,we],onChange:(It,Tt,kt)=>{J(kt)||cn(It.element,"aria-valuetext",Se(["Saturation {0}%, Brightness {1}%",Math.floor(kt.x),Math.floor(100-kt.y)])),Mn(It,m3,{value:kt})},onInit:(It,Tt,kt,Wt)=>{ke(kt.element.dom,KN(jN))},sliderBehaviours:it})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(De,Ze,it)=>{((It,Tt)=>{const kt=It.components()[0].element.dom,Wt=Ty(Tt,100,100),vn=WN(Wt);ke(kt,KN(vn))})(Ze,it)},setThumb:(De,Ze,it)=>{((It,Tt)=>{const kt=fS(cf(Tt));ff.setValue(It,{x:kt.saturation,y:100-kt.value}),cn(It.element,"aria-valuetext",Se(["Saturation {0}%, Brightness {1}%",kt.saturation,kt.value]))})(Ze,it)}},extraApis:{}})})(r,l),E={paletteRgba:Hn(jN),paletteHue:Hn(0)},P=kr(((Se,ge)=>{const me=ff.parts.spectrum({dom:{tag:"div",classes:[ge("hue-slider-spectrum")],attributes:{role:"presentation"}}}),we=ff.parts.thumb({dom:{tag:"div",classes:[ge("hue-slider-thumb")],attributes:{role:"presentation"}}});return ff.sketch({dom:{tag:"div",classes:[ge("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:U(0)},components:[me,we],sliderBehaviours:qt([so.config({})]),onChange:(ke,De,Ze)=>{cn(ke.element,"aria-valuenow",Math.floor(360-3.6*Ze)),Mn(ke,US,{value:Ze})}})})(0,l)),F=kr(k.sketch({})),M=kr(C.sketch({})),V=(Se,ge,me)=>{F.getOpt(Se).each(we=>{k.setHue(we,me)})},Y=(Se,ge)=>{M.getOpt(Se).each(me=>{C.updateHex(me,ge)})},ee=(Se,ge,me)=>{P.getOpt(Se).each(we=>{ff.setValue(we,(ke=>100-ke/360*100)(me))})},fe=(Se,ge)=>{F.getOpt(Se).each(me=>{k.setThumb(me,ge)})},pe=(Se,ge,me,we)=>{((ke,De)=>{const Ze=cf(ke);E.paletteRgba.set(Ze),E.paletteHue.set(De)})(ge,me),ft(we,ke=>{ke(Se,ge,me)})};return{uid:v.uid,dom:v.dom,components:[F.asSpec(),P.asSpec(),M.asSpec()],behaviours:qt([To("colour-picker-events",[Ot(Ow,(()=>{const Se=[V,ee,fe];return(ge,me)=>{const we=me.event.hex,ke=(De=>fS(cf(De)))(we);pe(ge,we,ke.hue,Se)}})()),Ot(m3,(()=>{const Se=[Y];return(ge,me)=>{const we=me.event.value,ke=E.paletteHue.get(),De=Ty(ke,we.x,100-we.y),Ze=mS(De);pe(ge,Ze,ke,Se)}})()),Ot(US,(()=>{const Se=[V,Y];return(ge,me)=>{const we=(It=>(100-It)/100*360)(me.event.value),ke=E.paletteRgba.get(),De=fS(ke),Ze=Ty(we,De.saturation,De.value),it=mS(Ze);pe(ge,it,we,Se)}})())]),sr.config({find:Se=>M.getOpt(Se)}),$n.config({mode:"acyclic"})])}}}),kg=()=>sr.config({find:D.some}),p3=r=>sr.config({find:l=>cs(l.element,r).bind(d=>l.getSystem().getByDom(d).toOptional())}),b3=Gn([ut("preprocess",de),ut("postprocess",de)]),v3=(r,l)=>{const d=Oa("RepresentingConfigs.memento processors",b3,l);return mt.config({store:{mode:"manual",getValue:f=>{const b=r.get(f),v=mt.getValue(b);return d.postprocess(v)},setValue:(f,b)=>{const v=d.preprocess(b),C=r.get(f);mt.setValue(C,v)}}})},x1=(r,l,d)=>mt.config({store:{mode:"manual",...r.map(f=>({initialValue:f})).getOr({}),getValue:l,setValue:d}}),y3=(r,l,d)=>x1(r,f=>l(f.element),(f,b)=>d(f.element,b)),Rw=r=>mt.config({store:{mode:"memory",initialValue:r}}),D$={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var G5=tinymce.util.Tools.resolve("tinymce.Resource");const x3=r=>uo(r,"init");var Kh=tinymce.util.Tools.resolve("tinymce.util.Tools");const w3=(r,l)=>{let d=null;const f=()=>{I(d)||(clearTimeout(d),d=null)};return{cancel:f,throttle:(...b)=>{f(),d=setTimeout(()=>{d=null,r.apply(null,b)},l)}}},C3=_n("alloy-fake-before-tabstop"),_3=_n("alloy-fake-after-tabstop"),q5=r=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:r},behaviours:qt([so.config({ignore:!0}),Gr.config({})])}),S3=(r,l)=>({dom:{tag:"div",classes:["tox-navobj",...r.getOr([])]},components:[q5([C3]),l,q5([_3])],behaviours:qt([p3(1)])}),k3=(r,l)=>{Mn(r,ks(),{raw:{which:9,shiftKey:l}})},R$=(r,l)=>{const d=l.element;cl(d,C3)?k3(r,!0):cl(d,_3)&&k3(r,!1)},Py=r=>Ry(r,["."+C3,"."+_3].join(","),Oe),mb=_n("update-dialog"),E3=_n("update-title"),Y5=_n("update-body"),X5=_n("update-footer"),A3=_n("body-send-message"),jS=_n("dialog-focus-shifted"),T3=la().browser,Ly=T3.isSafari(),J5=T3.isFirefox(),O3=Ly||J5,Q5=T3.isChromium(),I$=({scrollTop:r,scrollHeight:l,clientHeight:d})=>Math.ceil(r)+d>=l,eP=(r,l)=>r.scrollTo(0,l==="bottom"?99999999:l),D3=(r,l,d)=>{const f=r.dom;D.from(f.contentDocument).fold(d,b=>{let v=0;const C=((E,P)=>{const F=E.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(P)&&(!Q5&&!Ly||W(F)&&(F.scrollTop!==0||Math.abs(F.scrollHeight-F.clientHeight)>1))?F:E.documentElement)})(b,l).map(E=>(v=E.scrollTop,E)).forall(I$),k=()=>{const E=f.contentWindow;W(E)&&(C?eP(E,"bottom"):!C&&O3&&v!==0&&eP(E,v))};Ly&&f.addEventListener("load",k,{once:!0}),b.open(),b.write(l),b.close(),Ly||k()})},R3=ur(O3,Ly?500:200).map(r=>((l,d)=>{let f=null,b=null;return{cancel:()=>{I(f)||(clearTimeout(f),f=null,b=null)},throttle:(...v)=>{b=v,I(f)&&(f=setTimeout(()=>{const C=b;f=null,b=null,l.apply(null,C)},d))}}})(D3,r)),ZS=_n("toolbar.button.execute"),gb=_n("common-button-display-events"),I3={[El()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[ma()]:["toolbar-button-events",gb],[Fc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Mt()]:["focusing","alloy.base.behaviour",gb]},GS=r=>bo(r.element,"width",Ts(r.element,"width")),tP=(r,l,d)=>Jc(r,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:d},l),Iw=(r,l)=>tP(r,l,[]),hb=(r,l)=>tP(r,l,[Jn.config({})]),N3=(r,l,d)=>({dom:{tag:"span",classes:[`${l}__select-label`]},components:[$s(d.translate(r))],behaviours:qt([Jn.config({})])}),Lu=_n("update-menu-text"),Cd=_n("update-menu-icon"),P3=(r,l,d,f)=>{const b=Hn(j),v=r.text.map(fe=>kr(N3(fe,l,d.providers))),C=r.icon.map(fe=>kr(hb(fe,d.providers.icons))),k=(fe,pe)=>{const Se=mt.getValue(fe);return so.focus(Se),Mn(Se,"keydown",{raw:pe.event.raw}),Il.close(Se),D.some(!0)},E=r.role.fold(()=>({}),fe=>({role:fe})),P=D.from(r.listRole).map(fe=>({listRole:fe})).getOr({}),F=r.ariaLabel.fold(()=>({}),fe=>({"aria-label":d.providers.translate(fe)})),M=Jc("chevron-down",{tag:"div",classes:[`${l}__select-chevron`]},d.providers.icons),V=_n("common-button-display-events"),Y="dropdown-events";return kr(Il.sketch({...r.uid?{uid:r.uid}:{},...E,...P,dom:{tag:"button",classes:[l,`${l}--select`].concat(Le(r.classes,fe=>`${l}--${fe}`)),attributes:{...F,...W(f)?{"data-mce-name":f}:{}}},components:_y([C.map(fe=>fe.asSpec()),v.map(fe=>fe.asSpec()),D.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(fe,pe,Se)=>{r.searchable&&(ge=>{mN(ge).each(me=>so.focus(me))})(Se)},dropdownBehaviours:qt([...r.dropdownBehaviours,Na(()=>r.disabled||d.providers.isDisabled()),Bi(),b1.config({}),Jn.config({}),...r.tooltip.map(fe=>ai.config(d.providers.tooltips.getConfig({tooltipText:d.providers.translate(fe)}))).toArray(),To(Y,[sb(r,b),$h(r,b)]),To(V,[as((fe,pe)=>r.listRole==="listbox"?j:GS(fe))]),To("menubutton-update-display-text",[Ot(Lu,(fe,pe)=>{v.bind(Se=>Se.getOpt(fe)).each(Se=>{Jn.set(Se,[$s(d.providers.translate(pe.event.text))])})}),Ot(Cd,(fe,pe)=>{C.bind(Se=>Se.getOpt(fe)).each(Se=>{Jn.set(Se,[hb(pe.event.icon,d.providers.icons)])})})])]),eventOrder:Br(I3,{[Mt()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[ma()]:["toolbar-button-events",ai.name(),Y,V]}),sandboxBehaviours:qt([$n.config({mode:"special",onLeft:k,onRight:k}),To("dropdown-sandbox-events",[Ot(uN,(fe,pe)=>{(Se=>{const ge=mt.getValue(Se),me=lw(Se).map(gN);Il.refetch(ge).get(()=>{const we=Vs.getCoupled(ge,"sandbox");me.each(ke=>lw(we).each(De=>((Ze,it)=>{mt.setValue(Ze,it.fetchPattern),Ze.element.dom.selectionStart=it.selectionStart,Ze.element.dom.selectionEnd=it.selectionEnd})(De,ke)))})})(fe),pe.stop()}),Ot(dN,(fe,pe)=>{((Se,ge)=>{(me=>O.getState(me).bind(Ar.getHighlighted).bind(Ar.getHighlighted))(Se).each(me=>{((we,ke,De,Ze)=>{const it={...Ze,target:ke};we.getSystem().triggerEvent(De,ke,it)})(Se,me.element,ge.event.eventType,ge.event.interactionEvent)})})(fe,pe),pe.stop()})])]),lazySink:d.getSink,toggleClass:`${l}--active`,parts:{menu:{...Q_(0,r.columns,r.presets),fakeFocus:r.searchable,...r.listRole==="listbox"?{}:{onHighlightItem:g5,onCollapseMenu:(fe,pe,Se)=>{Ar.getHighlighted(Se).each(ge=>{g5(fe,Se,ge)})},onDehighlightItem:e$}}},getAnchorOverrides:()=>({maxHeightFunction:(fe,pe)=>{sg()(fe,pe-10)}}),fetch:fe=>ib(Ve(r.fetch,fe))})).asSpec()},qS=r=>r.type==="separator",YS={type:"separator"},nP=(r,l)=>{const d=((f,b)=>{const v=nn(f,(C,k)=>(E=>h(E))(k)?k===""?C:k==="|"?C.length>0&&!qS(C[C.length-1])?C.concat([YS]):C:uo(b,k.toLowerCase())?C.concat([b[k.toLowerCase()]]):C:C.concat([k]),[]);return v.length>0&&qS(v[v.length-1])&&v.pop(),v})(h(r)?r.split(" "):r,l);return Tn(d,(f,b)=>{if((v=>uo(v,"getSubmenuItems"))(b)){const v=(k=>{const E=En(k,"value").getOrThunk(()=>_n("generated-menu-item"));return Br({value:E},k)})(b),C=((k,E)=>{const P=k.getSubmenuItems(),F=nP(P,E);return{item:k,menus:Br(F.menus,{[k.value]:F.items}),expansions:Br(F.expansions,{[k.value]:k.value})}})(v,l);return{menus:Br(f.menus,C.menus),items:[C.item,...f.items],expansions:Br(f.expansions,C.expansions)}}return{...f,items:[b,...f.items]}},{menus:{},expansions:{},items:[]})},w1=(r,l,d,f)=>{const b=_n("primary-menu"),v=nP(r,d.shared.providers.menuItems());if(v.items.length===0)return D.none();const C=(M=>M.search.fold(()=>({searchMode:"no-search"}),V=>({searchMode:"search-with-field",placeholder:V.placeholder})))(f),k=h5(b,v.items,l,d,f.isHorizontalMenu,C),E=(M=>M.search.fold(()=>({searchMode:"no-search"}),V=>({searchMode:"search-with-results"})))(f),P=eo(v.menus,(M,V)=>h5(V,M,l,d,!1,E)),F=Br(P,vu(b,k));return D.from(Ph.tieredData(b,F,v.expansions))},Nw=r=>!uo(r,"items"),L3="data-value",XS=(r,l,d,f,b)=>Le(d,v=>Nw(v)?{type:"togglemenuitem",...b?{}:{role:"option"},text:v.text,value:v.value,active:v.value===f,onAction:()=>{mt.setValue(r,v.value),Mn(r,hl,{name:l}),so.focus(r)}}:{type:"nestedmenuitem",text:v.text,getSubmenuItems:()=>XS(r,l,v.items,f,b)}),JS=(r,l)=>sn(r,d=>Nw(d)?ur(d.value===l,d):JS(d.items,l)),N$=Ou({name:"HtmlSelect",configFields:[Lt("options"),Sn("selectBehaviours",[so,mt]),ut("selectClasses",[]),ut("selectAttributes",{}),qo("data")],factory:(r,l)=>{const d=Le(r.options,b=>({dom:{tag:"option",value:b.value,innerHtml:b.text}})),f=r.data.map(b=>vu("initialValue",b)).getOr({});return{uid:r.uid,dom:{tag:"select",classes:r.selectClasses,attributes:r.selectAttributes},components:d,behaviours:Eo(r.selectBehaviours,[so.config({}),mt.config({store:{mode:"manual",getValue:b=>jf(b.element),setValue:(b,v)=>{const C=Ne(r.options);Q(r.options,k=>k.value===v).isSome()?Jm(b.element,v):b.element.dom.selectedIndex===-1&&v===""&&C.each(k=>Jm(b.element,k.value))},...f}})])}}}),oP=U([ut("field1Name","field1"),ut("field2Name","field2"),cd("onLockedChange"),bh(["lockClass"]),ut("locked",!1),io("coupledFieldBehaviours",[sr,mt])]),M3=(r,l)=>Rl({factory:Dr,name:r,overrides:d=>({fieldBehaviours:qt([To("coupled-input-behaviour",[Ot(Wm(),f=>{((b,v,C)=>Jr(b,v,C).bind(sr.getCurrent))(f,d,l).each(b=>{Jr(f,d,"lock").each(v=>{oo.isOn(v)&&d.onLockedChange(f,b,v)})})})])])})}),rP=U([M3("field1","field2"),M3("field2","field1"),Rl({factory:Za,schema:[Lt("dom")],name:"lock",overrides:r=>({buttonBehaviours:qt([oo.config({selected:r.locked,toggleClass:r.markers.lockClass,aria:{mode:"pressed"}})])})})]),tu=Kl({name:"FormCoupledInputs",configFields:oP(),partFields:rP(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,behaviours:no(r.coupledFieldBehaviours,[sr.config({find:D.some}),mt.config({store:{mode:"manual",getValue:b=>{const v=sA(b,r,["field1","field2"]);return{[r.field1Name]:mt.getValue(v.field1()),[r.field2Name]:mt.getValue(v.field2())}},setValue:(b,v)=>{const C=sA(b,r,["field1","field2"]);Oo(v,r.field1Name)&&mt.setValue(C.field1(),v[r.field1Name]),Oo(v,r.field2Name)&&mt.setValue(C.field2(),v[r.field2Name])}}})]),apis:{getField1:b=>Jr(b,r,"field1"),getField2:b=>Jr(b,r,"field2"),getLock:b=>Jr(b,r,"lock")}}),apis:{getField1:(r,l)=>r.getField1(l),getField2:(r,l)=>r.getField2(l),getLock:(r,l)=>r.getLock(l)}}),B3=r=>{const l=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(r);if(l!==null){const d=parseFloat(l[1]),f=l[2];return Ho.value({value:d,unit:f})}return Ho.error(r)},F3=(r,l)=>{const d={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},f=b=>uo(d,b);return r.unit===l?D.some(r.value):f(r.unit)&&f(l)?d[r.unit]===d[l]?D.some(r.value):D.some(r.value/d[r.unit]*d[l]):D.none()},$3=r=>D.none(),sP=(r,l)=>{const d=r.label.map(F=>lb(F,l)),f=[ao.config({disabled:()=>r.disabled||l.isDisabled()}),Bi(),$n.config({mode:"execution",useEnter:r.multiline!==!0,useControlEnter:r.multiline===!0,execute:F=>(No(F,Ew),D.some(!0))}),To("textfield-change",[Ot(Wm(),(F,M)=>{Mn(F,hl,{name:r.name})}),Ot(Nx(),(F,M)=>{Mn(F,hl,{name:r.name})})]),Gr.config({})],b=r.validation.map(F=>wg.config({getRoot:M=>Ea(M.element),invalidClass:"tox-invalid",validator:{validate:M=>{const V=mt.getValue(M),Y=F.validator(V);return xg(Y===!0?Ho.value(V):Ho.error(Y))},validateOnLoad:F.validateOnLoad}})).toArray(),v={...r.placeholder.fold(U({}),F=>({placeholder:l.translate(F)})),...r.inputMode.fold(U({}),F=>({inputmode:F})),"data-mce-name":r.name},C=Dr.parts.field({tag:r.multiline===!0?"textarea":"input",...r.data.map(F=>({data:F})).getOr({}),inputAttributes:v,inputClasses:[r.classname],inputBehaviours:qt(Kt([f,b])),selectOnFocus:!1,factory:Fh}),k=r.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[C]}:C,E=(r.flex?["tox-form__group--stretched"]:[]).concat(r.maximized?["tox-form-group--maximize"]:[]),P=[ao.config({disabled:()=>r.disabled||l.isDisabled(),onDisabled:F=>{Dr.getField(F).each(ao.disable)},onEnabled:F=>{Dr.getField(F).each(ao.enable)}}),Bi()];return kw(d,k,E,P)},Pw=(r,l)=>l.getAnimationRoot.fold(()=>r.element,d=>d(r)),jh=r=>r.dimension.property,pb=(r,l)=>r.dimension.getDimension(l),bb=(r,l)=>{const d=Pw(r,l);hc(d,[l.shrinkingClass,l.growingClass])},QS=(r,l)=>{Is(r.element,l.openClass),Es(r.element,l.closedClass),bo(r.element,jh(l),"0px"),$d(r.element)},V3=(r,l)=>{Is(r.element,l.closedClass),Es(r.element,l.openClass),Er(r.element,jh(l))},iP=(r,l,d,f)=>{d.setCollapsed(),bo(r.element,jh(l),pb(l,r.element)),bb(r,l),QS(r,l),l.onStartShrink(r),l.onShrunk(r)},P$=(r,l,d,f)=>{const b=f.getOrThunk(()=>pb(l,r.element));d.setCollapsed(),bo(r.element,jh(l),b),$d(r.element);const v=Pw(r,l);Is(v,l.growingClass),Es(v,l.shrinkingClass),QS(r,l),l.onStartShrink(r)},aP=(r,l,d)=>{const f=pb(l,r.element);(f==="0px"?iP:P$)(r,l,d,D.some(f))},lP=(r,l,d)=>{const f=Pw(r,l),b=cl(f,l.shrinkingClass),v=pb(l,r.element);V3(r,l);const C=pb(l,r.element);(b?()=>{bo(r.element,jh(l),v),$d(r.element)}:()=>{QS(r,l)})(),Is(f,l.shrinkingClass),Es(f,l.growingClass),V3(r,l),bo(r.element,jh(l),C),d.setExpanded(),l.onStartGrow(r)},Lw=(r,l,d)=>{const f=Pw(r,l);return cl(f,l.growingClass)===!0},cP=(r,l,d)=>{const f=Pw(r,l);return cl(f,l.shrinkingClass)===!0};var uP=Object.freeze({__proto__:null,refresh:(r,l,d)=>{if(d.isExpanded()){Er(r.element,jh(l));const f=pb(l,r.element);bo(r.element,jh(l),f)}},grow:(r,l,d)=>{d.isExpanded()||lP(r,l,d)},shrink:(r,l,d)=>{d.isExpanded()&&aP(r,l,d)},immediateShrink:(r,l,d)=>{d.isExpanded()&&iP(r,l,d)},hasGrown:(r,l,d)=>d.isExpanded(),hasShrunk:(r,l,d)=>d.isCollapsed(),isGrowing:Lw,isShrinking:cP,isTransitioning:(r,l,d)=>Lw(r,l)||cP(r,l),toggleGrow:(r,l,d)=>{(d.isExpanded()?aP:lP)(r,l,d)},disableTransitions:bb,immediateGrow:(r,l,d)=>{d.isExpanded()||(V3(r,l),bo(r.element,jh(l),pb(l,r.element)),bb(r,l),d.setExpanded(),l.onStartGrow(r),l.onGrown(r))}}),L$=Object.freeze({__proto__:null,exhibit:(r,l,d)=>{const f=l.expanded;return js(f?{classes:[l.openClass],styles:{}}:{classes:[l.closedClass],styles:vu(l.dimension.property,"0px")})},events:(r,l)=>yo([Uf(ov(),(d,f)=>{f.event.raw.propertyName===r.dimension.property&&(bb(d,r),l.isExpanded()&&Er(d.element,r.dimension.property),(l.isExpanded()?r.onGrown:r.onShrunk)(d))})])}),dP=[Lt("closedClass"),Lt("openClass"),Lt("shrinkingClass"),Lt("growingClass"),qo("getAnimationRoot"),nr("onShrunk"),nr("onStartShrink"),nr("onGrown"),nr("onStartGrow"),ut("expanded",!1),Yi("dimension",bi("property",{width:[Yr("property","width"),Yr("getDimension",r=>Ii(r)+"px")],height:[Yr("property","height"),Yr("getDimension",r=>Os(r)+"px")]}))];const oc=Mi({fields:dP,name:"sliding",active:L$,apis:uP,state:Object.freeze({__proto__:null,init:r=>{const l=Hn(r.expanded);return Li({isExpanded:()=>l.get()===!0,isCollapsed:()=>l.get()===!1,setCollapsed:Ve(l.set,!1),setExpanded:Ve(l.set,!0),readState:()=>"expanded: "+l.get()})}})}),fP=r=>({isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setActive:l=>{const d=r.element;l?(Es(d,"tox-tbtn--enabled"),cn(d,"aria-pressed",!0)):(Is(d,"tox-tbtn--enabled"),Io(d,"aria-pressed"))},isActive:()=>cl(r.element,"tox-tbtn--enabled"),setText:l=>{Mn(r,Lu,{text:l})},setIcon:l=>Mn(r,Cd,{icon:l})}),My=(r,l,d,f,b=!0,v)=>P3({text:r.text,icon:r.icon,tooltip:r.tooltip,ariaLabel:r.tooltip,searchable:r.search.isSome(),role:f,fetch:(C,k)=>{const E={pattern:r.search.isSome()?p1(C):""};r.fetch(P=>{k(w1(P,dm.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:r.search}))},E,fP(C))},onSetup:r.onSetup,getApi:fP,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...b?[Gr.config({})]:[]]},l,d.shared,v),mP=(r,l,d)=>{const f=v=>C=>{const k=!C.isActive();C.setActive(k),v.storage.set(k),d.shared.getSink().each(E=>{l().getOpt(E).each(P=>{Wa(P.element),Mn(P,mm,{name:v.name,value:v.storage.get()})})})},b=v=>C=>{C.setActive(v.storage.get())};return v=>{v(Le(r,C=>{const k=C.text.fold(()=>({}),E=>({text:E}));return{type:C.type,active:!1,...k,onAction:f(C),onSetup:b(C)}}))}},z3=r=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":r}},components:[$s(r)]}),H3=_n("leaf-label-event-id"),U3=({leaf:r,onLeafAction:l,visible:d,treeId:f,selectedId:b,backstage:v})=>{const C=r.menu.map(E=>My(E,"tox-mbtn",v,D.none(),d)),k=[z3(r.title)];return C.each(E=>k.push(E)),Za.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(d?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:E=>{l(r.id),E.getSystem().broadcastOn([`update-active-item-${f}`],{value:r.id})},eventOrder:{[ks()]:[H3,"keying"]},buttonBehaviours:qt([...d?[Gr.config({})]:[],oo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ol.config({channels:{[`update-active-item-${f}`]:{onReceive:(E,P)=>{(P.value===r.id?oo.on:oo.off)(E)}}}}),To(H3,[as((E,P)=>{b.each(F=>{(F===r.id?oo.on:oo.off)(E)})}),Ot(ks(),(E,P)=>{const F=P.event.raw.code==="ArrowLeft",M=P.event.raw.code==="ArrowRight";F?(eg(E.element,".tox-tree--directory").each(V=>{E.getSystem().getByDom(V).each(Y=>{V0(V,".tox-tree--directory__label").each(ee=>{Y.getSystem().getByDom(ee).each(so.focus)})})}),P.stop()):M&&P.stop()})])])})},gP=_n("directory-label-event-id"),M$=({directory:r,visible:l,noChildren:d,backstage:f})=>{const b=r.menu.map(P=>My(P,"tox-mbtn",f,D.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(C="chevron-right",k=f.shared.providers.icons,((P,F,M)=>Jc(P,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},F))(C,k))]},z3(r.title)];var C,k;b.each(P=>{v.push(P)});const E=P=>{eg(P.element,".tox-tree--directory").each(F=>{P.getSystem().getByDom(F).each(M=>{const V=!oo.isOn(M);oo.toggle(M),Mn(P,"expand-tree-node",{expanded:V,node:r.id})})})};return Za.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(l?["tox-tree--directory__label--visible"]:[])},components:v,action:E,eventOrder:{[ks()]:[gP,"keying"]},buttonBehaviours:qt([...l?[Gr.config({})]:[],To(gP,[Ot(ks(),(P,F)=>{const M=F.event.raw.code==="ArrowRight",V=F.event.raw.code==="ArrowLeft";M&&d&&F.stop(),(M||V)&&eg(P.element,".tox-tree--directory").each(Y=>{P.getSystem().getByDom(Y).each(ee=>{!oo.isOn(ee)&&M||oo.isOn(ee)&&V?(E(P),F.stop()):V&&!oo.isOn(ee)&&(eg(ee.element,".tox-tree--directory").each(fe=>{V0(fe,".tox-tree--directory__label").each(pe=>{ee.getSystem().getByDom(pe).each(so.focus)})}),F.stop())})})})])])})},B$=({children:r,onLeafAction:l,visible:d,treeId:f,expandedIds:b,selectedId:v,backstage:C})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:r.map(k=>k.type==="leaf"?U3({leaf:k,selectedId:v,onLeafAction:l,visible:d,treeId:f,backstage:C}):ek({directory:k,expandedIds:b,selectedId:v,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:C})),behaviours:qt([oc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:d}),Jn.config({})])}),hP=_n("directory-event-id"),ek=({directory:r,onLeafAction:l,labelTabstopping:d,treeId:f,backstage:b,expandedIds:v,selectedId:C})=>{const{children:k}=r,E=Hn(v),P=v.includes(r.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[M$({directory:r,visible:d,noChildren:r.children.length===0,backstage:b}),B$({children:k,expandedIds:v,selectedId:C,onLeafAction:l,visible:P,treeId:f,backstage:b})],behaviours:qt([To(hP,[as((F,M)=>{oo.set(F,P)}),Ot("expand-tree-node",(F,M)=>{const{expanded:V,node:Y}=M.event;E.set(V?[...E.get(),Y]:E.get().filter(ee=>ee!==Y))})]),oo.config({...r.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(F,M)=>{const V=F.components()[1],Y=(ee=M,k.map(fe=>fe.type==="leaf"?U3({leaf:fe,selectedId:C,onLeafAction:l,visible:ee,treeId:f,backstage:b}):ek({directory:fe,expandedIds:E.get(),selectedId:C,onLeafAction:l,labelTabstopping:ee,treeId:f,backstage:b})));var ee;M?oc.grow(V):oc.shrink(V),Jn.set(V,Y)}})])}},F$=_n("tree-event-id");var $$=Object.freeze({__proto__:null,events:(r,l)=>{const d=r.stream.streams.setup(r,l);return yo([Ot(r.event,d),ld(()=>l.cancel())].concat(r.cancelEvent.map(f=>[Ot(f,()=>l.cancel())]).getOr([])))}});const pP=r=>{const l=Hn(null);return Li({readState:()=>({timer:l.get()!==null?"set":"unset"}),setTimer:d=>{l.set(d)},cancel:()=>{const d=l.get();d!==null&&d.cancel()}})};var V$=Object.freeze({__proto__:null,throttle:pP,init:r=>r.stream.streams.state(r)}),z$=[Yi("stream",bi("mode",{throttle:[Lt("delay"),ut("stopEvent",!0),Yr("streams",{setup:(r,l)=>{const d=r.stream,f=w3(r.onStream,d.delay);return l.setTimer(f),(b,v)=>{f.throttle(b,v),d.stopEvent&&v.stop()}},state:pP})]})),ut("event","input"),qo("cancelEvent"),cd("onStream")];const W3=Mi({fields:z$,name:"streaming",active:$$,state:V$}),tk=(r,l,d)=>{const f=mt.getValue(d);mt.setValue(l,f),K3(l)},nk=(r,l)=>{const d=r.element,f=jf(d),b=d.dom;Ko(d,"type")!=="number"&&l(b,f)},K3=r=>{nk(r,(l,d)=>l.setSelectionRange(d.length,d.length))},j3=U("alloy.typeahead.itemexecute"),H$=U([qo("lazySink"),Lt("fetch"),ut("minChars",5),ut("responseTime",1e3),nr("onOpen"),ut("getHotspot",D.some),ut("getAnchorOverrides",U({})),ut("layouts",D.none()),ut("eventOrder",{}),Ua("model",{},[ut("getDisplayText",r=>r.meta!==void 0&&r.meta.text!==void 0?r.meta.text:r.value),ut("selectsOver",!0),ut("populateFromBrowse",!0)]),nr("onSetValue"),Al("onExecute"),nr("onItemExecute"),ut("inputClasses",[]),ut("inputAttributes",{}),ut("inputStyles",{}),ut("matchWidth",!0),ut("useMinWidth",!1),ut("dismissOnBlur",!0),bh(["openClass"]),qo("initialData"),qo("listRole"),Sn("typeaheadBehaviours",[so,mt,W3,$n,oo,Vs]),qi("lazyTypeaheadComp",()=>Hn(D.none)),qi("previewing",()=>Hn(!0))].concat(S7()).concat(VT())),bP=U([sf({schema:[ph()],name:"menu",overrides:r=>({fakeFocus:!0,onHighlightItem:(l,d,f)=>{r.previewing.get()?r.lazyTypeaheadComp.get().each(b=>{((v,C,k)=>{if(v.selectsOver){const E=mt.getValue(C),P=v.getDisplayText(E),F=mt.getValue(k);return v.getDisplayText(F).indexOf(P)===0?D.some(()=>{tk(0,C,k),((M,V)=>{nk(M,(Y,ee)=>Y.setSelectionRange(V,ee.length))})(C,P.length)}):D.none()}return D.none()})(r.model,b,f).fold(()=>{r.model.selectsOver?(Ar.dehighlight(d,f),r.previewing.set(!0)):r.previewing.set(!1)},v=>{v(),r.previewing.set(!1)})}):r.lazyTypeaheadComp.get().each(b=>{r.model.populateFromBrowse&&tk(r.model,b,f),Qo(f.element,"id").each(v=>cn(b.element,"aria-activedescendant",v))})},onExecute:(l,d)=>r.lazyTypeaheadComp.get().map(f=>(Mn(f,j3(),{item:d}),!0)),onHover:(l,d)=>{r.previewing.set(!1),r.lazyTypeaheadComp.get().each(f=>{r.model.populateFromBrowse&&tk(r.model,f,d)})}})})]),U$=Kl({name:"Typeahead",configFields:H$(),partFields:bP(),factory:(r,l,d,f)=>{const b=(M,V,Y)=>{r.previewing.set(!1);const ee=Vs.getCoupled(M,"sandbox");if(O.isOpen(ee))sr.getCurrent(ee).each(fe=>{Ar.getHighlighted(fe).fold(()=>{Y(fe)},()=>{Vc(ee,fe.element,"keydown",V)})});else{const fe=pe=>{sr.getCurrent(pe).each(Y)};bS(r,C(M),M,ee,f,fe,gl.HighlightMenuAndItem).get(j)}},v=k7(r),C=M=>V=>V.map(Y=>{const ee=ji(Y.menus),fe=pn(ee,pe=>Ht(pe.items,Se=>Se.type==="item"));return mt.getState(M).update(Le(fe,pe=>pe.data)),Y}),k=M=>sr.getCurrent(M),E="typeaheadevents",P=[so.config({}),mt.config({onSetValue:r.onSetValue,store:{mode:"dataset",getDataKey:M=>jf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,V)=>{Jm(M.element,r.model.getDisplayText(V))},...r.initialData.map(M=>vu("initialValue",M)).getOr({})}}),W3.config({stream:{mode:"throttle",delay:r.responseTime,stopEvent:!1},onStream:(M,V)=>{const Y=Vs.getCoupled(M,"sandbox");if(so.isFocused(M)&&jf(M.element).length>=r.minChars){const ee=k(Y).bind(pe=>Ar.getHighlighted(pe).map(mt.getValue));r.previewing.set(!0);const fe=pe=>{k(Y).each(Se=>{ee.fold(()=>{r.model.selectsOver&&Ar.highlightFirst(Se)},ge=>{Ar.highlightBy(Se,me=>mt.getValue(me).value===ge.value),Ar.getHighlighted(Se).orThunk(()=>(Ar.highlightFirst(Se),D.none()))})})};bS(r,C(M),M,Y,f,fe,gl.HighlightJustMenu).get(j)}},cancelEvent:Gd()}),$n.config({mode:"special",onDown:(M,V)=>(b(M,V,Ar.highlightFirst),D.some(!0)),onEscape:M=>{const V=Vs.getCoupled(M,"sandbox");return O.isOpen(V)?(O.close(V),D.some(!0)):D.none()},onUp:(M,V)=>(b(M,V,Ar.highlightLast),D.some(!0)),onEnter:M=>{const V=Vs.getCoupled(M,"sandbox"),Y=O.isOpen(V);if(Y&&!r.previewing.get())return k(V).bind(ee=>Ar.getHighlighted(ee)).map(ee=>(Mn(M,j3(),{item:ee}),!0));{const ee=mt.getValue(M);return No(M,Gd()),r.onExecute(V,M,ee),Y&&O.close(V),D.some(!0)}}}),oo.config({toggleClass:r.markers.openClass,aria:{mode:"expanded"}}),Vs.config({others:{sandbox:M=>$T(r,M,{onOpen:()=>oo.on(M),onClose:()=>{r.lazyTypeaheadComp.get().each(V=>Io(V.element,"aria-activedescendant")),oo.off(M)}})}}),To(E,[as(M=>{r.lazyTypeaheadComp.set(D.some(M))}),ld(M=>{r.lazyTypeaheadComp.set(D.none())}),wu(M=>{const V=j;BT(r,C(M),M,f,V,gl.HighlightMenuAndItem).get(j)}),Ot(j3(),(M,V)=>{const Y=Vs.getCoupled(M,"sandbox");tk(r.model,M,V.event.item),No(M,Gd()),r.onItemExecute(M,Y,V.event.item,mt.getValue(M)),O.close(Y),K3(M)})].concat(r.dismissOnBlur?[Ot(kp(),M=>{const V=Vs.getCoupled(M,"sandbox");qs(V.element).isNone()&&O.close(V)})]:[]))],F={[Fc()]:[mt.name(),W3.name(),E],...r.eventOrder};return{uid:r.uid,dom:cN(Br(r,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...Eo(r.typeaheadBehaviours,P)},eventOrder:F}}}),C1=r=>({...r,toCached:()=>C1(r.toCached()),bindFuture:l=>C1(r.bind(d=>d.fold(f=>xg(Ho.error(f)),f=>l(f)))),bindResult:l=>C1(r.map(d=>d.bind(l))),mapResult:l=>C1(r.map(d=>d.map(l))),mapError:l=>C1(r.map(d=>d.mapError(l))),foldResult:(l,d)=>r.map(f=>f.fold(l,d)),withTimeout:(l,d)=>C1(ib(f=>{let b=!1;const v=setTimeout(()=>{b=!0,f(Ho.error(d()))},l);r.get(C=>{b||(clearTimeout(v),f(C))})}))}),vP=r=>C1(ib(r)),Mw=(r,l,d=[],f,b,v,C)=>{const k=l.fold(()=>({}),F=>({action:F})),E={buttonBehaviours:qt([Na(()=>!r.enabled||C.isDisabled()),Bi(),Gr.config({}),...v.map(F=>ai.config(C.tooltips.getConfig({tooltipText:C.translate(F)}))).toArray(),To("button press",[jC("click")])].concat(d)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},P=Br(E,{dom:f});return Br(P,{components:b})},yP=(r,l,d,f=[],b)=>{const v={tag:"button",classes:["tox-tbtn"],attributes:{...r.tooltip.map(E=>({"aria-label":d.translate(E)})).getOr({}),"data-mce-name":b}},C=r.icon.map(E=>Iw(E,d.icons)),k=_y([C]);return Mw(r,l,f,v,k,r.tooltip,d)},Z3=r=>{switch(r){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},xP=(r,l,d,f=[],b=[])=>{const v=d.translate(r.text),C=r.icon.map(M=>Iw(M,d.icons)),k=[C.getOrThunk(()=>$s(v))],E=r.buttonType.getOr(r.primary||r.borderless?"primary":"secondary"),P={tag:"button",classes:[...Z3(E),...C.isSome()?["tox-button--icon"]:[],...r.borderless?["tox-button--naked"]:[],...b],attributes:{"aria-label":v,"data-mce-name":r.text}},F=r.icon.map(U(v));return Mw(r,l,f,P,k,F,d)},wP=(r,l,d,f=[],b=[])=>{const v=xP(r,D.some(l),d,f,b);return Za.sketch(v)},G3=(r,l)=>d=>{l==="custom"?Mn(d,mm,{name:r,value:{}}):l==="submit"?No(d,Ew):l==="cancel"?No(d,Hh):console.error("Unknown button type: ",l)},By=(r,l,d)=>{if(((f,b)=>b==="menu")(0,l)){const f=()=>C,b=r,v={...r,type:"menubutton",search:D.none(),onSetup:k=>(k.setEnabled(r.enabled),j),fetch:mP(b.items,f,d)},C=kr(My(v,"tox-tbtn",d,D.none(),!0,r.text.or(r.tooltip).getOrUndefined()));return C.asSpec()}if(((f,b)=>b==="custom"||b==="cancel"||b==="submit")(0,l)){const f=G3(r.name,l),b={...r,borderless:!1};return wP(b,f,d.shared.providers,[])}if(((f,b)=>b==="togglebutton")(0,l))return((f,b,v)=>{var C,k;const E=f.icon.map(me=>hb(me,b.icons)).map(kr),P=f.buttonType.getOr(f.primary?"primary":"secondary"),F={...f,name:(C=f.name)!==null&&C!==void 0?C:"",tooltip:f.tooltip,enabled:(k=f.enabled)!==null&&k!==void 0&&k},M=F.tooltip.or(f.text).map(me=>({"aria-label":b.translate(me)})).getOr({}),V=Z3(P??"secondary"),Y=f.icon.isSome()&&f.text.isSome(),ee={tag:"button",classes:[...V.concat(f.icon.isSome()?["tox-button--icon"]:[]),...f.active?["tox-button--enabled"]:[],...Y?["tox-button--icon-and-text"]:[]],attributes:{...M,...W(v)?{"data-mce-name":v}:{}}},fe=b.translate(f.text.getOr("")),pe=$s(fe),Se=[..._y([E.map(me=>me.asSpec())]),...f.text.isSome()?[pe]:[]],ge=Mw(F,D.some(me=>{Mn(me,mm,{name:f.name,value:{setIcon:we=>{E.map(ke=>ke.getOpt(me).each(De=>{Jn.set(De,[hb(we,b.icons)])}))}}})}),[],ee,Se,f.tooltip,b);return Za.sketch(ge)})(r,d.shared.providers,r.text.or(r.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",l),new Error("Unknown footer button type")},W$={type:"separator"},K$=r=>({type:"menuitem",value:r.url,text:r.title,meta:{attach:r.attach},onAction:j}),q3=(r,l)=>({type:"menuitem",value:l,text:r,meta:{attach:void 0},onAction:j}),CP=(r,l)=>(d=>Le(d,K$))(((d,f)=>Ht(f,b=>b.type===d))(r,l)),j$=r=>CP("header",r.targets),Z$=r=>CP("anchor",r.targets),_P=r=>D.from(r.anchorTop).map(l=>q3("<top>",l)).toArray(),SP=r=>D.from(r.anchorBottom).map(l=>q3("<bottom>",l)).toArray(),Y3=(r,l)=>{const d=r.toLowerCase();return Ht(l,f=>{var b;const v=f.meta!==void 0&&f.meta.text!==void 0?f.meta.text:f.text,C=(b=f.value)!==null&&b!==void 0?b:"";return ni(v.toLowerCase(),d)||ni(C.toLowerCase(),d)})},kP=_n("aria-invalid"),G$=(r,l)=>{r.dom.checked=l},nu=r=>r.dom.checked,vs=r=>(l,d,f,b,v)=>En(d,"name").fold(()=>r(d,b,D.none(),v),C=>l.field(C,r(d,b,En(f,C),v))),q$={bar:vs((r,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Le(d.items,f.interpreter)}))(r,l.shared)),collection:vs((r,l,d)=>w5(r,l.shared.providers,d)),alertbanner:vs((r,l)=>((d,f)=>{const b=eN(d.icon,f.icons);return uf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${d.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:d.url?void 0:b},components:d.url?[Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:b,attributes:{title:f.translate(d.iconTooltip)}},action:v=>Mn(v,mm,{name:"alert-banner",value:d.url}),buttonBehaviours:qt([Y_()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(d.text)}}]})})(r,l.shared.providers)),input:vs((r,l,d)=>((f,b,v)=>sP({name:f.name,multiline:!1,label:f.label,inputMode:f.inputMode,placeholder:f.placeholder,flex:!1,disabled:!f.enabled,classname:"tox-textfield",validation:D.none(),maximized:f.maximized,data:v},b))(r,l.shared.providers,d)),textarea:vs((r,l,d)=>((f,b,v)=>sP({name:f.name,multiline:!0,label:f.label,inputMode:D.none(),placeholder:f.placeholder,flex:!0,disabled:!f.enabled,classname:"tox-textarea",validation:D.none(),maximized:f.maximized,data:v},b))(r,l.shared.providers,d)),label:vs((r,l,d,f)=>((b,v,C)=>{const k="tox-label",E=b.align==="center"?[`${k}--center`]:[],P=b.align==="end"?[`${k}--end`]:[],F=kr({dom:{tag:"label",classes:[k,...E,...P]},components:[$s(v.providers.translate(b.label))]}),M=Le(b.items,v.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[F.asSpec(),...M],behaviours:qt([kg(),Jn.config({}),(V=D.none(),y3(V,Xd,mh)),$n.config({mode:"acyclic"}),To("label",[as(Y=>{b.for.each(ee=>{C(ee).each(fe=>{F.getOpt(Y).each(pe=>{var Se;const ge=(Se=Ko(fe.element,"id"))!==null&&Se!==void 0?Se:_n("form-field");cn(fe.element,"id",ge),cn(pe.element,"for",ge)})})})})])])};var V})(r,l.shared,f)),iframe:(b4=(r,l,d)=>((f,b,v)=>{const C="tox-dialog__iframe",k=f.transparent?[]:[`${C}--opaque`],E=f.border?["tox-navobj-bordered"]:[],P={...f.label.map(Y=>({title:Y})).getOr({}),...v.map(Y=>({srcdoc:Y})).getOr({}),...f.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},F=((Y,ee)=>{const fe=Hn(Y.getOr(""));return{getValue:pe=>fe.get(),setValue:(pe,Se)=>{if(fe.get()!==Se){const ge=pe.element,me=()=>cn(ge,"srcdoc",Se);ee?R3.fold(U(D3),we=>we.throttle)(ge,Se,me):me()}fe.set(Se)}}})(v,f.streamContent),M=f.label.map(Y=>lb(Y,b)),V=Dr.parts.field({factory:{sketch:Y=>S3(D.from(E),{uid:Y.uid,dom:{tag:"iframe",attributes:P,classes:[C,...k]},behaviours:qt([Gr.config({}),so.config({}),x1(v,F.getValue,F.setValue),Ol.config({channels:{[jS]:{onReceive:(ee,fe)=>{fe.newFocus.each(pe=>{Ea(ee.element).each(Se=>{(dr(ee.element,pe)?Es:Is)(Se,"tox-navobj-bordered-focus")})})}}}})])})}});return kw(M,V,["tox-form__group--stretched"],[])})(r,l.shared.providers,d),(r,l,d,f,b)=>{const v=Br(l,{source:"dynamic"});return vs(b4)(r,v,d,f,b)}),button:vs((r,l)=>((d,f)=>{const b=G3(d.name,"custom");return v=D.none(),C=Dr.parts.field({factory:Za,...xP(d,D.some(b),f,[Rw(""),kg()])}),kw(v,C,[],[]);var v,C})(r,l.shared.providers)),checkbox:vs((r,l,d)=>((f,b,v)=>{const C=M=>(M.element.dom.click(),D.some(!0)),k=Dr.parts.field({factory:{sketch:de},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:qt([kg(),ao.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Ea(M.element).each(V=>Es(V,"tox-checkbox--disabled"))},onEnabled:M=>{Ea(M.element).each(V=>Is(V,"tox-checkbox--disabled"))}}),Gr.config({}),so.config({}),y3(v,nu,G$),$n.config({mode:"special",onEnter:C,onSpace:C,stopSpaceKeyup:!0}),To("checkbox-events",[Ot(Km(),(M,V)=>{Mn(M,hl,{name:f.name})})])])}),E=Dr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[$s(b.translate(f.label))],behaviours:qt([b1.config({})])}),P=M=>Jc(M==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+M]},b.icons),F=kr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[P("checked"),P("unchecked")]});return Dr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,F.asSpec(),E],fieldBehaviours:qt([ao.config({disabled:()=>!f.enabled||b.isDisabled()}),Bi()])})})(r,l.shared.providers,d)),colorinput:vs((r,l,d)=>((f,b,v,C)=>{const k=Dr.parts.field({factory:Fh,inputClasses:["tox-textfield"],data:C,onSetValue:M=>wg.run(M).get(j),inputBehaviours:qt([ao.config({disabled:b.providers.isDisabled}),Bi(),Gr.config({}),wg.config({invalidClass:"tox-textbox-field-invalid",getRoot:M=>Ea(M.element),notify:{onValid:M=>{const V=mt.getValue(M);Mn(M,qT,{color:V})}},validator:{validateOnLoad:!1,validate:M=>{const V=mt.getValue(M);if(V.length===0)return xg(Ho.value(!0));{const Y=Ri("span");bo(Y,"background-color",V);const ee=oi(Y,"background-color").fold(()=>Ho.error("blah"),fe=>Ho.value(V));return xg(ee)}}}})]),selectOnFocus:!1}),E=f.label.map(M=>lb(M,b.providers)),P=(M,V)=>{Mn(M,YT,{value:V})},F=kr(((M,V)=>Il.sketch({dom:M.dom,components:M.components,toggleClass:"mce-active",dropdownBehaviours:qt([Na(V.providers.isDisabled),Bi(),b1.config({}),Gr.config({})]),layouts:M.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:V.getSink,fetch:Y=>ib(ee=>M.fetch(ee)).map(ee=>D.from(zT(Br(h1(_n("menu-value"),ee,fe=>{M.onItemAction(Y,fe)},M.columns,M.presets,dm.CLOSE_ON_EXECUTE,Oe,V.providers),{movement:xw(M.columns,M.presets)})))),parts:{menu:Q_(0,0,M.presets)}}))({dom:{tag:"span",attributes:{"aria-label":b.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ps,Ns,Gs],onLtr:()=>[Ns,Ps,Gs]},components:[],fetch:t5(v.getColors(f.storageKey),f.storageKey,v.hasCustomColors()),columns:v.getColorCols(f.storageKey),presets:"color",onItemAction:(M,V)=>{F.getOpt(M).each(Y=>{V==="custom"?v.colorPicker(ee=>{ee.fold(()=>No(Y,E5),fe=>{P(Y,fe),_T(f.storageKey,fe)})},"#ffffff"):P(Y,V==="remove"?"":V)})}},b));return Dr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:E.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,F.asSpec()]}]),fieldBehaviours:qt([To("form-field-events",[Ot(qT,(M,V)=>{F.getOpt(M).each(Y=>{bo(Y.element,"background-color",V.event.color)}),Mn(M,hl,{name:f.name})}),Ot(YT,(M,V)=>{Dr.getField(M).each(Y=>{mt.setValue(Y,V.event.value),sr.getCurrent(M).each(so.focus)})}),Ot(E5,(M,V)=>{Dr.getField(M).each(Y=>{sr.getCurrent(M).each(so.focus)})})])])})})(r,l.shared,l.colorinput,d)),colorpicker:vs((r,l,d)=>((f,b,v)=>{const C=P=>"tox-"+P,k=Z5((P=>F=>h(F)?P.translate(D$[F]):P.translate(F))(b),C,b.tooltips.getConfig,(P,F,M=P,V=P)=>Jc(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+P],attributes:{title:b.translate(V),"aria-live":"polite",...F.fold(()=>({}),Y=>({id:Y}))}},b.icons)),E=kr(k.sketch({dom:{tag:"div",classes:[C("color-picker-container")],attributes:{role:"presentation"}},onValidHex:P=>{Mn(P,mm,{name:"hex-valid",value:!0})},onInvalidHex:P=>{Mn(P,mm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:qt([x1(v,P=>{const F=E.get(P);return sr.getCurrent(F).bind(M=>mt.getValue(M).hex).map(M=>"#"+Wr(M,"#")).getOr("")},(P,F)=>{const M=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(F)).bind(Y=>Ce(Y,1)),V=E.get(P);sr.getCurrent(V).fold(()=>{console.log("Can not find form")},Y=>{mt.setValue(Y,{hex:M.getOr("")}),fb.getField(Y,"hex").each(ee=>{No(ee,Wm())})})}),kg()])}})(0,l.shared.providers,d)),dropzone:vs((r,l,d)=>((f,b,v)=>{const C=(ee,fe)=>{fe.stop()},k=ee=>(fe,pe)=>{ft(ee,Se=>{Se(fe,pe)})},E=(ee,fe)=>{var pe;if(!ao.isDisabled(ee)){const Se=fe.event.raw;F(ee,(pe=Se.dataTransfer)===null||pe===void 0?void 0:pe.files)}},P=(ee,fe)=>{const pe=fe.event.raw.target;F(ee,pe.files)},F=(ee,fe)=>{fe&&(mt.setValue(ee,((pe,Se)=>{const ge=Kh.explode(Se.getOption("images_file_types"));return Ht(gt(pe),me=>kn(ge,we=>Zu(me.name.toLowerCase(),`.${we.toLowerCase()}`)))})(fe,b)),Mn(ee,hl,{name:f.name}))},M=kr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:qt([To("input-file-events",[jm(vi()),jm(Bf())])])}),V=f.label.map(ee=>lb(ee,b)),Y=Dr.parts.field({factory:{sketch:ee=>({uid:ee.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:qt([Rw(v.getOr([])),kg(),ao.config({}),oo.config({toggleClass:"dragenter",toggleOnExecute:!1}),To("dropzone-events",[Ot("dragenter",k([C,oo.toggle])),Ot("dragleave",k([C,oo.toggle])),Ot("dragover",C),Ot("drop",k([C,E])),Ot(Km(),P)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[$s(b.translate("Drop an image here"))]},Za.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[$s(b.translate("Browse for an image")),M.asSpec()],action:fe=>{M.get(fe).element.dom.click()},buttonBehaviours:qt([Gr.config({}),Na(b.isDisabled),Bi()])})]}]})}});return kw(V,Y,["tox-form__group--stretched"],[])})(r,l.shared.providers,d)),grid:vs((r,l)=>((d,f)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${d.columns}col`]},components:Le(d.items,f.interpreter)}))(r,l.shared)),listbox:vs((r,l,d)=>((f,b,v)=>{const C=kn(f.items,V=>!Nw(V)),k=b.shared.providers,E=v.bind(V=>JS(f.items,V)).orThunk(()=>Ne(f.items).filter(Nw)),P=f.label.map(V=>lb(V,k)),F=Dr.parts.field({dom:{},factory:{sketch:V=>P3({uid:V.uid,text:E.map(Y=>Y.text),icon:D.none(),tooltip:D.none(),role:ur(!C,"combobox"),...C?{}:{listRole:"listbox"},ariaLabel:f.label,fetch:(Y,ee)=>{const fe=XS(Y,f.name,f.items,mt.getValue(Y),C);ee(w1(fe,dm.CLOSE_ON_EXECUTE,b,{isHorizontalMenu:!1,search:D.none()}))},onSetup:U(j),getApi:U({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Gr.config({}),x1(E.map(Y=>Y.value),Y=>Ko(Y.element,L3),(Y,ee)=>{JS(f.items,ee).each(fe=>{cn(Y.element,L3,fe.value),Mn(Y,Lu,{text:fe.text})})})]},"tox-listbox",b.shared)}}),M={dom:{tag:"div",classes:["tox-listboxfield"]},components:[F]};return Dr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([P.toArray(),[M]]),fieldBehaviours:qt([ao.config({disabled:U(!f.enabled),onDisabled:V=>{Dr.getField(V).each(ao.disable)},onEnabled:V=>{Dr.getField(V).each(ao.enable)}})])})})(r,l,d)),selectbox:vs((r,l,d)=>((f,b,v)=>{const C=Le(f.items,M=>({text:b.translate(M.text),value:M.value})),k=f.label.map(M=>lb(M,b)),E=Dr.parts.field({dom:{},...v.map(M=>({data:M})).getOr({}),selectAttributes:{size:f.size},options:C,factory:N$,selectBehaviours:qt([ao.config({disabled:()=>!f.enabled||b.isDisabled()}),Gr.config({}),To("selectbox-change",[Ot(Km(),(M,V)=>{Mn(M,hl,{name:f.name})})])])}),P=f.size>1?D.none():D.some(Jc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},b.icons)),F={dom:{tag:"div",classes:["tox-selectfield"]},components:Kt([[E],P.toArray()])};return Dr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Kt([k.toArray(),[F]]),fieldBehaviours:qt([ao.config({disabled:()=>!f.enabled||b.isDisabled(),onDisabled:M=>{Dr.getField(M).each(ao.disable)},onEnabled:M=>{Dr.getField(M).each(ao.enable)}}),Bi()])})})(r,l.shared.providers,d)),sizeinput:vs((r,l)=>((d,f)=>{let b=$3;const v=_n("ratio-event"),C=fe=>Jc(fe,{tag:"span",classes:["tox-icon","tox-lock-icon__"+fe]},f.icons),k=d.label.getOr("Constrain proportions"),E=f.translate(k),P=tu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":k}},components:[C("lock"),C("unlock")],buttonBehaviours:qt([ao.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gr.config({}),ai.config(f.tooltips.getConfig({tooltipText:E}))])}),F=fe=>({dom:{tag:"div",classes:["tox-form__group"]},components:fe}),M=fe=>Dr.parts.field({factory:Fh,inputClasses:["tox-textfield"],inputBehaviours:qt([ao.config({disabled:()=>!d.enabled||f.isDisabled()}),Bi(),Gr.config({}),To("size-input-events",[Ot(Cr(),(pe,Se)=>{Mn(pe,v,{isField1:fe})}),Ot(Km(),(pe,Se)=>{Mn(pe,hl,{name:d.name})})])]),selectOnFocus:!1}),V=fe=>({dom:{tag:"label",classes:["tox-label"]},components:[$s(f.translate(fe))]}),Y=tu.parts.field1(F([Dr.parts.label(V("Width")),M(!0)])),ee=tu.parts.field2(F([Dr.parts.label(V("Height")),M(!1)]));return tu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,ee,F([V(""),P])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(fe,pe,Se)=>{B3(mt.getValue(fe)).each(ge=>{b(ge).each(me=>{mt.setValue(pe,(we=>{const ke={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let De=we.value.toFixed((Ze=we.unit)in ke?ke[Ze]:1);var Ze;return De.indexOf(".")!==-1&&(De=De.replace(/\.?0*$/,"")),De+we.unit})(me))})})},coupledFieldBehaviours:qt([ao.config({disabled:()=>!d.enabled||f.isDisabled(),onDisabled:fe=>{tu.getField1(fe).bind(Dr.getField).each(ao.disable),tu.getField2(fe).bind(Dr.getField).each(ao.disable),tu.getLock(fe).each(ao.disable)},onEnabled:fe=>{tu.getField1(fe).bind(Dr.getField).each(ao.enable),tu.getField2(fe).bind(Dr.getField).each(ao.enable),tu.getLock(fe).each(ao.enable)}}),Bi(),To("size-input-events2",[Ot(v,(fe,pe)=>{const Se=pe.event.isField1,ge=Se?tu.getField1(fe):tu.getField2(fe),me=Se?tu.getField2(fe):tu.getField1(fe),we=ge.map(mt.getValue).getOr(""),ke=me.map(mt.getValue).getOr("");b=((De,Ze)=>{const it=B3(De).toOptional(),It=B3(Ze).toOptional();return Xt(it,It,(Tt,kt)=>F3(Tt,kt.unit).map(Wt=>kt.value/Wt).map(Wt=>{return vn=Wt,In=kt.unit,Kn=>F3(Kn,In).map(lo=>({value:lo*vn,unit:In}));var vn,In}).getOr($3)).getOr($3)})(we,ke)})])])})})(r,l.shared.providers)),slider:vs((r,l,d)=>((f,b,v)=>{const C=ff.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[$s(b.translate(f.label))]}),k=ff.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),E=ff.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ff.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:f.min,maxX:f.max,getInitialValue:U(v.getOrThunk(()=>(Math.abs(f.max)-Math.abs(f.min))/2))},components:[C,k,E],sliderBehaviours:qt([kg(),so.config({})]),onChoose:(P,F,M)=>{Mn(P,hl,{name:f.name,value:M})},onChange:(P,F,M)=>{Mn(P,hl,{name:f.name,value:M})}})})(r,l.shared.providers,d)),urlinput:vs((r,l,d)=>((f,b,v,C)=>{const k=b.shared.providers,E=ge=>{const me=mt.getValue(ge);v.addToHistory(me.value,f.filetype)},P={...C.map(ge=>({initialData:ge})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":kP,type:"url"},minChars:0,responseTime:0,fetch:ge=>{const me=((ke,De,Ze)=>{var it,It;const Tt=mt.getValue(De),kt=(It=(it=Tt==null?void 0:Tt.meta)===null||it===void 0?void 0:it.text)!==null&&It!==void 0?It:Tt.value;return Ze.getLinkInformation().fold(()=>[],Wt=>{const vn=Y3(kt,(Kn=>Le(Kn,lo=>q3(lo,lo)))(Ze.getHistory(ke)));return ke==="file"?(In=[vn,Y3(kt,j$(Wt)),Y3(kt,Kt([_P(Wt),Z$(Wt),SP(Wt)]))],nn(In,(Kn,lo)=>Kn.length===0||lo.length===0?Kn.concat(lo):Kn.concat(W$,lo),[])):vn;var In})})(f.filetype,ge,v),we=w1(me,dm.BUBBLE_TO_SANDBOX,b,{isHorizontalMenu:!1,search:D.none()});return xg(we)},getHotspot:ge=>pe.getOpt(ge),onSetValue:(ge,me)=>{ge.hasConfigured(wg)&&wg.run(ge).get(j)},typeaheadBehaviours:qt([...v.getValidationHandler().map(ge=>wg.config({getRoot:me=>Ea(me.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(me,we)=>{V.getOpt(me).each(ke=>{cn(ke.element,"title",k.translate(we))})}},validator:{validate:me=>{const we=mt.getValue(me);return vP(ke=>{ge({type:f.filetype,url:we.value},De=>{if(De.status==="invalid"){const Ze=Ho.error(De.message);ke(Ze)}else{const Ze=Ho.value(De.message);ke(Ze)}})})},validateOnLoad:!1}})).toArray(),ao.config({disabled:()=>!f.enabled||k.isDisabled()}),Gr.config({}),To("urlinput-events",[Ot(Wm(),ge=>{const me=jf(ge.element),we=me.trim();we!==me&&Jm(ge.element,we),f.filetype==="file"&&Mn(ge,hl,{name:f.name})}),Ot(Km(),ge=>{Mn(ge,hl,{name:f.name}),E(ge)}),Ot(Nx(),ge=>{Mn(ge,hl,{name:f.name}),E(ge)})])]),eventOrder:{[Wm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ge=>ge.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:b.shared.getSink,parts:{menu:Q_(0,0,"normal")},onExecute:(ge,me,we)=>{Mn(me,Ew,{})},onItemExecute:(ge,me,we,ke)=>{E(ge),Mn(ge,hl,{name:f.name})}},F=Dr.parts.field({...P,factory:U$}),M=f.label.map(ge=>lb(ge,k)),V=kr(((ge,me,we=ge,ke=ge)=>Jc(we,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ge],attributes:{title:k.translate(ke),"aria-live":"polite",...me.fold(()=>({}),De=>({id:De}))}},k.icons))("invalid",D.some(kP),"warning")),Y=kr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[V.asSpec()]}),ee=v.getUrlPicker(f.filetype),fe=_n("browser.url.event"),pe=kr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[F,Y.asSpec()],behaviours:qt([ao.config({disabled:()=>!f.enabled||k.isDisabled()})])}),Se=kr(wP({name:f.name,icon:D.some("browse"),text:f.picker_text.or(f.label).getOr(""),enabled:f.enabled,primary:!1,buttonType:D.none(),borderless:!0},ge=>No(ge,fe),k,[],["tox-browse-url"]));return Dr.sketch({dom:wS([]),components:M.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Kt([[pe.asSpec()],ee.map(()=>Se.asSpec()).toArray()])}]),fieldBehaviours:qt([ao.config({disabled:()=>!f.enabled||k.isDisabled(),onDisabled:ge=>{Dr.getField(ge).each(ao.disable),Se.getOpt(ge).each(ao.disable)},onEnabled:ge=>{Dr.getField(ge).each(ao.enable),Se.getOpt(ge).each(ao.enable)}}),Bi(),To("url-input-events",[Ot(fe,ge=>{sr.getCurrent(ge).each(me=>{const we=mt.getValue(me),ke={fieldname:f.name,...we};ee.each(De=>{De(ke).get(Ze=>{mt.setValue(me,Ze),Mn(ge,hl,{name:f.name})})})})})])])})})(r,l,l.urlinput,d)),customeditor:vs(r=>{const l=Or(),d=kr({dom:{tag:r.tag}}),f=Or(),b=!x3(r)&&r.onFocus.isSome()?[so.config({onFocus:v=>{r.onFocus.each(C=>{C(v.element.dom)})}}),Gr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:qt([To("custom-editor-events",[as(v=>{d.getOpt(v).each(C=>{(x3(r)?r.init(C.element.dom):G5.load(r.scriptId,r.scriptUrl).then(k=>k(C.element.dom,r.settings))).then(k=>{f.on(E=>{k.setValue(E)}),f.clear(),l.set(k)})})})]),x1(D.none(),()=>l.get().fold(()=>f.get().getOr(""),v=>v.getValue()),(v,C)=>{l.get().fold(()=>f.set(C),k=>k.setValue(C))}),kg()].concat(b)),components:[d.asSpec()]}}),htmlpanel:vs((r,l)=>((d,f)=>{const b=["tox-form__group",...d.stretched?["tox-form__group--stretched"]:[]],v=To("htmlpanel",[as(C=>{d.onInit(C.element.dom)})]);return d.presets==="presentation"?uf.sketch({dom:{tag:"div",classes:b,innerHtml:d.html},containerBehaviours:qt([ai.config({...f.tooltips.getConfig({tooltipText:"",onShow:C=>{fs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>qs(C.element)).each(k=>{Qo(k,"data-mce-tooltip").each(E=>{ai.setComponents(C,f.tooltips.getComponents({tooltipText:E}))})})}}),mode:"children-normal",anchor:C=>({type:"node",node:fs(C.element,"[data-mce-tooltip]:hover").orThunk(()=>qs(C.element).filter(k=>Qo(k,"data-mce-tooltip").isSome())),root:C.element,layouts:{onLtr:U([Gs,As,Ns,si,Ps,Fr]),onRtl:U([Gs,As,Ns,si,Ps,Fr])},bubble:pc(0,-2,{})})}),v])}):uf.sketch({dom:{tag:"div",classes:b,innerHtml:d.html,attributes:{role:"document"}},containerBehaviours:qt([Gr.config({}),so.config({}),v])})})(r,l.shared.providers)),imagepreview:vs((r,l,d)=>((f,b)=>{const v=Hn(b.getOr({url:""})),C=kr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:b.map(F=>({src:F.url})).getOr({})}}),k=kr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[C.asSpec()]}),E={};f.height.each(F=>E.height=F);const P=b.map(F=>({url:F.url,zoom:D.from(F.zoom),cachedWidth:D.from(F.cachedWidth),cachedHeight:D.from(F.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:E,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:qt([kg(),x1(P,()=>v.get(),(F,M)=>{const V={url:M.url};M.zoom.each(ee=>V.zoom=ee),M.cachedWidth.each(ee=>V.cachedWidth=ee),M.cachedHeight.each(ee=>V.cachedHeight=ee),v.set(V);const Y=()=>{const{cachedWidth:ee,cachedHeight:fe,zoom:pe}=V;if(!N(ee)&&!N(fe)){if(N(pe)){const ge=((me,we,ke)=>{const De=Ii(me),Ze=Os(me);return Math.min(De/we,Ze/ke,1)})(F.element,ee,fe);V.zoom=ge}const Se=((ge,me,we,ke,De)=>{const Ze=we*De,it=ke*De,It=Math.max(0,ge/2-Ze/2),Tt=Math.max(0,me/2-it/2);return{left:It.toString()+"px",top:Tt.toString()+"px",width:Ze.toString()+"px",height:it.toString()+"px"}})(Ii(F.element),Os(F.element),ee,fe,V.zoom);k.getOpt(F).each(ge=>{rl(ge.element,Se)})}};C.getOpt(F).each(ee=>{const fe=ee.element;var pe;M.url!==Ko(fe,"src")&&(cn(fe,"src",M.url),Is(F.element,"tox-imagepreview__loaded")),Y(),(pe=fe,new Promise((Se,ge)=>{const me=()=>{ke(),Se(pe)},we=[Ka(pe,"load",me),Ka(pe,"error",()=>{ke(),ge("Unable to load data from image: "+pe.dom.src)})],ke=()=>ft(we,De=>De.unbind());pe.dom.complete&&me()})).then(Se=>{F.getSystem().isConnected()&&(Es(F.element,"tox-imagepreview__loaded"),V.cachedWidth=Se.dom.naturalWidth,V.cachedHeight=Se.dom.naturalHeight,Y())})})})])}})(r,d)),table:vs((r,l)=>((d,f)=>{const b=k=>({dom:{tag:"td",innerHtml:f.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(C=d.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Le(C,k=>({dom:{tag:"th",innerHtml:f.translate(k)}}))}]}),(v=d.cells,{dom:{tag:"tbody"},components:Le(v,k=>({dom:{tag:"tr"},components:Le(k,b)}))})],behaviours:qt([Gr.config({}),so.config({})])};var v,C})(r,l.shared.providers)),tree:vs((r,l)=>((d,f)=>{const b=d.onLeafAction.getOr(j),v=d.onToggleExpand.getOr(j),C=d.defaultExpandedIds,k=Hn(C),E=Hn(d.defaultSelectedId),P=_n("tree-id"),F=(M,V)=>d.items.map(Y=>Y.type==="leaf"?U3({leaf:Y,selectedId:M,onLeafAction:b,visible:!0,treeId:P,backstage:f}):ek({directory:Y,selectedId:M,onLeafAction:b,expandedIds:V,labelTabstopping:!0,treeId:P,backstage:f}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:F(E.get(),k.get()),behaviours:qt([$n.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),To(F$,[Ot("expand-tree-node",(M,V)=>{const{expanded:Y,node:ee}=V.event;k.set(Y?[...k.get(),ee]:k.get().filter(fe=>fe!==ee)),v(k.get(),{expanded:Y,node:ee})})]),Ol.config({channels:{[`update-active-item-${P}`]:{onReceive:(M,V)=>{E.set(D.some(V.value)),Jn.set(M,F(D.some(V.value),k.get()))}}}}),Jn.config({})])}})(r,l)),panel:vs((r,l)=>((d,f)=>({dom:{tag:"div",classes:d.classes},components:Le(d.items,f.shared.interpreter)}))(r,l))},X3={field:(r,l)=>l,record:U([])},ok=(r,l,d,f,b)=>{const v=Br(f,{shared:{interpreter:C=>J3(r,C,d,v,b)}});return J3(r,l,d,v,b)},J3=(r,l,d,f,b)=>En(q$,l.type).fold(()=>(console.error(`Unknown factory type "${l.type}", defaulting to container: `,l),l),v=>v(r,l,d,f,b)),EP=(r,l,d,f)=>J3(X3,r,l,d,f),mf="layout-inset",Fy=r=>r.x,rk=(r,l)=>r.x+r.width/2-l.width/2,Q3=(r,l)=>r.x+r.width-l.width,_d=r=>r.y,e4=(r,l)=>r.y+r.height-l.height,AP=(r,l)=>r.y+r.height/2-l.height/2,xc=(r,l,d)=>ha(Q3(r,l),e4(r,l),d.insetSouthwest(),_h(),"southwest",pa(r,{right:0,bottom:3}),mf),vb=(r,l,d)=>ha(Fy(r),e4(r,l),d.insetSoutheast(),Cv(),"southeast",pa(r,{left:1,bottom:3}),mf),wc=(r,l,d)=>ha(Q3(r,l),_d(r),d.insetNorthwest(),Ch(),"northwest",pa(r,{right:0,top:2}),mf),Bw=(r,l,d)=>ha(Fy(r),_d(r),d.insetNortheast(),wv(),"northeast",pa(r,{left:1,top:2}),mf),ir=(r,l,d)=>ha(rk(r,l),_d(r),d.insetNorth(),n_(),"north",pa(r,{top:2}),mf),Eg=(r,l,d)=>ha(rk(r,l),e4(r,l),d.insetSouth(),o2(),"south",pa(r,{bottom:3}),mf),Fw=(r,l,d)=>ha(Q3(r,l),AP(r,l),d.insetEast(),o_(),"east",pa(r,{right:0}),mf),t4=(r,l,d)=>ha(Fy(r),AP(r,l),d.insetWest(),r2(),"west",pa(r,{left:1}),mf),n4=r=>{switch(r){case"north":return ir;case"northeast":return Bw;case"northwest":return wc;case"south":return Eg;case"southeast":return vb;case"southwest":return xc;case"east":return Fw;case"west":return t4}},sk=(r,l,d,f,b)=>Ov(f).map(n4).getOr(ir)(r,l,d,f,b),Y$=r=>{switch(r){case"north":return Eg;case"northeast":return vb;case"northwest":return xc;case"south":return ir;case"southeast":return Bw;case"southwest":return wc;case"east":return t4;case"west":return Fw}},o4=(r,l,d,f,b)=>Ov(f).map(Y$).getOr(ir)(r,l,d,f,b),$w={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},TP=(r,l,d)=>{const f={maxHeightFunction:Ah()};return()=>d()?{type:"node",root:nt(ht(r())),node:D.from(r()),bubble:pc(12,12,$w),layouts:{onRtl:()=>[Bw],onLtr:()=>[wc]},overrides:f}:{type:"hotspot",hotspot:l(),bubble:pc(-12,12,$w),layouts:{onRtl:()=>[Ns,Ps,Gs],onLtr:()=>[Ps,Ns,Gs]},overrides:f}},OP=(r,l,d,f)=>{const b={maxHeightFunction:Ah()};return()=>f()?{type:"node",root:nt(ht(l())),node:D.from(l()),bubble:pc(12,12,$w),layouts:{onRtl:()=>[ir],onLtr:()=>[ir]},overrides:b}:r?{type:"node",root:nt(ht(l())),node:D.from(l()),bubble:pc(0,-Ic(l()),$w),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:b}:{type:"hotspot",hotspot:d(),bubble:pc(0,0,$w),layouts:{onRtl:()=>[As],onLtr:()=>[As]},overrides:b}},r4=(r,l,d)=>()=>d()?{type:"node",root:nt(ht(r())),node:D.from(r()),layouts:{onRtl:()=>[ir],onLtr:()=>[ir]}}:{type:"hotspot",hotspot:l(),layouts:{onRtl:()=>[Gs],onLtr:()=>[Gs]}},DP=(r,l)=>()=>({type:"selection",root:l(),getSelection:()=>{const d=r.selection.getRng(),f=r.model.table.getSelectedCells();if(f.length>1){const b=f[0],v=f[f.length-1],C={firstCell:un(b),lastCell:un(v)};return D.some(C)}return D.some(Qf.range(un(d.startContainer),d.startOffset,un(d.endContainer),d.endOffset))}}),ik=r=>l=>({type:"node",root:r(),node:l}),X$=(r,l,d,f)=>{const b=o1(r),v=()=>un(r.getBody()),C=()=>un(r.getContentAreaContainer()),k=()=>b||!f();return{inlineDialog:TP(C,l,k),inlineBottomDialog:OP(r.inline,C,d,k),banner:r4(C,l,k),cursor:DP(r,v),node:ik(v)}},J$=r=>(l,d)=>{o5(r)(l,d)},Q$=r=>()=>AT(r),eV=r=>l=>g1(r,l),tV=r=>l=>ET(r,l),RP=r=>()=>cm(r),IP=r=>Oo(r,"items"),NP=r=>Oo(r,"format"),s4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],i4=r=>nn(r,(l,d)=>{if(uo(d,"items")){const f=i4(d.items);return{customFormats:l.customFormats.concat(f.customFormats),formats:l.formats.concat([{title:d.title,items:f.formats}])}}if(uo(d,"inline")||(f=>uo(f,"block"))(d)||(f=>uo(f,"selector"))(d)){const f=`custom-${h(d.name)?d.name:d.title.toLowerCase()}`;return{customFormats:l.customFormats.concat([{name:f,format:d}]),formats:l.formats.concat([{title:d.title,format:f,icon:d.icon}])}}return{...l,formats:l.formats.concat(d)}},{customFormats:[],formats:[]}),PP=r=>by(r).map(l=>{const d=((f,b)=>{const v=i4(b),C=k=>{ft(k,E=>{f.formatter.has(E.name)||f.formatter.register(E.name,E.format)})};return f.formatter?C(v.customFormats):f.on("init",()=>{C(v.customFormats)}),v.formats})(r,l);return N_(r)?s4.concat(d):d}).getOr(s4),LP=(r,l,d)=>({...r,type:"formatter",isSelected:l(r.format),getStylePreview:d(r.format)}),a4=(r,l,d,f)=>{const b=v=>Le(v,C=>IP(C)?(k=>{const E=b(k.items);return{...k,type:"submenu",getStyleItems:U(E)}})(C):NP(C)?(k=>LP(k,d,f))(C):(k=>{const E=Ut(k);return E.length===1&&ct(E,"title")})(C)?{...C,type:"separator"}:(k=>{const E=h(k.name)?k.name:_n(k.title),P=`custom-${E}`,F={...k,type:"formatter",format:P,isSelected:d(P),getStylePreview:f(P)};return r.formatter.register(E,F),F})(C));return b(l)},l4=r=>{let l=0;const d=f=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[$s(f.tooltipText)]}];return{getConfig:f=>({delayForShow:()=>l>0?60:300,delayForHide:U(300),exclusive:!0,lazySink:r,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:d(f),onShow:(b,v)=>{l++,f.onShow&&f.onShow(b,v)},onHide:(b,v)=>{l--,f.onHide&&f.onHide(b,v)},onSetup:f.onSetup}),getComponents:d}},MP=Kh.trim,BP=r=>l=>!!((d=>W(d)&&d.nodeType===1)(l)&&(l.contentEditable===r||l.getAttribute("data-mce-contenteditable")===r)),nV=BP("true"),oV=BP("false"),FP=(r,l,d,f,b)=>({type:r,title:l,url:d,level:f,attach:b}),$P=r=>r.innerText||r.textContent,rV=r=>(l=>l&&l.nodeName==="A"&&(l.id||l.name)!==void 0)(r)&&Sd(r),c4=r=>r&&/^(H[1-6])$/.test(r.nodeName),Sd=r=>(l=>{let d=l;for(;d=d.parentNode;){const f=d.contentEditable;if(f&&f!=="inherit")return nV(d)}return!1})(r)&&!oV(r),sV=r=>c4(r)&&Sd(r),u4=r=>{var l;const d=(f=>f.id?f.id:_n("h"))(r);return FP("header",(l=$P(r))!==null&&l!==void 0?l:"","#"+d,(f=>c4(f)?parseInt(f.nodeName.substr(1),10):0)(r),()=>{r.id=d})},VP=r=>{const l=r.id||r.name,d=$P(r);return FP("anchor",d||"#"+l,"#"+l,0,j)},zP=r=>MP(r.title).length>0,iV=r=>{const l=(d=>Le(Ai(un(d),"h1,h2,h3,h4,h5,h6,a:not([href])"),b=>b.dom))(r);return Ht((d=>Le(Ht(d,sV),u4))(l).concat((d=>Le(Ht(d,rV),VP))(l)),zP)},Vw="tinymce-url-history",d4=r=>h(r)&&/^https?/.test(r),f4=r=>x(r)&&wr(r,l=>{return!(T(d=l)&&d.length<=5&&We(d,d4));var d}).isNone(),HP=()=>{const r=eu.getItem(Vw);if(r===null)return{};let l;try{l=JSON.parse(r)}catch(d){if(d instanceof SyntaxError)return console.log("Local storage "+Vw+" was not valid JSON",d),{};throw d}return f4(l)?l:(console.log("Local storage "+Vw+" was not valid format",l),{})},aV=r=>{const l=HP();return En(l,r).getOr([])},lV=(r,l)=>{if(!d4(r))return;const d=HP(),f=En(d,l).getOr([]),b=Ht(f,v=>v!==r);d[l]=[r].concat(b).slice(0,5),(v=>{if(!f4(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));eu.setItem(Vw,JSON.stringify(v))})(d)},UP=r=>!!r,cV=r=>eo(Kh.makeMap(r,/[, ]/),UP),ak=r=>D.from(L_(r)),m4=r=>D.from(r).filter(h).getOrUndefined(),WP=r=>({getHistory:aV,addToHistory:lV,getLinkInformation:()=>(l=>M_(l)?D.some({targets:iV(l.getBody()),anchorTop:m4(NI(l)),anchorBottom:m4(PI(l))}):D.none())(r),getValidationHandler:()=>(l=>D.from(W2(l)))(r),getUrlPicker:l=>((d,f)=>((b,v)=>{const C=(k=>{const E=D.from(K2(k)).filter(UP).map(cV);return ak(k).fold(Oe,P=>E.fold(Te,F=>Ut(F).length>0&&F))})(b);return R(C)?C?ak(b):D.none():C[v]?ak(b):D.none()})(d,f).map(b=>v=>ib(C=>{const k={filetype:f,fieldname:v.fieldname,...D.from(v.meta).getOr({})};b.call(d,(E,P)=>{if(!h(E))throw new Error("Expected value to be string");if(P!==void 0&&!x(P))throw new Error("Expected meta to be a object");C({value:E,meta:P})},v.value,k)})))(r,l)}),ya=xF,Ag=wR,uV=U([ut("shell",!1),Lt("makeItem"),ut("setupItem",j),io("listBehaviours",[Jn])]),$y=Tu({name:"items",overrides:()=>({behaviours:qt([Jn.config({})])})}),dV=U([$y]),g4=Kl({name:U("CustomList")(),configFields:uV(),partFields:dV(),factory:(r,l,d,f)=>{const b=r.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:l};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:Eo(r.listBehaviours,b.behaviours),apis:{setItems:(v,C)=>{var k;(k=v,r.shell?D.some(k):Jr(k,r,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const P=Jn.contents(E),F=C.length,M=F-P.length,V=M>0?Et(M,()=>r.makeItem()):[],Y=P.slice(F);ft(Y,fe=>Jn.remove(E,fe)),ft(V,fe=>Jn.append(E,fe));const ee=Jn.contents(E);ft(ee,(fe,pe)=>{r.setupItem(v,fe,C[pe],pe)})})}}}},apis:{setItems:(r,l,d)=>{r.setItems(l,d)}}}),_1=U([Lt("dom"),ut("shell",!0),Sn("toolbarBehaviours",[Jn])]),KP=U([Tu({name:"groups",overrides:()=>({behaviours:qt([Jn.config({})])})})]),gf=Kl({name:"Toolbar",configFields:_1(),partFields:KP(),factory:(r,l,d,f)=>{const b=r.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:l};return{uid:r.uid,dom:r.dom,components:b.components,behaviours:Eo(r.toolbarBehaviours,b.behaviours),apis:{setGroups:(v,C)=>{var k;(k=v,r.shell?D.some(k):Jr(k,r,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Jn.set(E,C)})},refresh:j},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)}}}),h4=j,p4=Oe,lk=U([]);var b4,fV=Object.freeze({__proto__:null,setup:h4,isDocked:p4,getBehaviours:lk});const ck=U(_n("toolbar-height-change")),Tg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},jP="tox-tinymce--toolbar-sticky-on",ZP="tox-tinymce--toolbar-sticky-off",zw=(r,l)=>ct(ds.getModes(r),l),uk=r=>{const l=r.element;Ea(l).each(d=>{const f="padding-"+ds.getModes(r)[0];if(ds.isDocked(r)){const b=Ii(d);bo(l,"width",b+"px"),bo(d,f,(v=>Ic(v)+(parseInt(Ts(v,"margin-top"),10)||0)+(parseInt(Ts(v,"margin-bottom"),10)||0))(l)+"px")}else Er(l,"width"),Er(d,f)})},v4=(r,l)=>{l?(Is(r,Tg.fadeOutClass),Zs(r,[Tg.transitionClass,Tg.fadeInClass])):(Is(r,Tg.fadeInClass),Zs(r,[Tg.fadeOutClass,Tg.transitionClass]))},GP=(r,l)=>{const d=un(r.getContainer());l?(Es(d,jP),Is(d,ZP)):(Es(d,ZP),Is(d,jP))},qP=(r,l)=>{const d=Or(),f=l.getSink,b=k=>{f().each(E=>k(E.element))},v=k=>{r.inline||uk(k),GP(r,ds.isDocked(k)),k.getSystem().broadcastOn([z()],{}),f().each(E=>E.getSystem().broadcastOn([z()],{}))},C=r.inline?[]:[Ol.config({channels:{[ck()]:{onReceive:uk}}})];return[so.config({}),ds.config({contextual:{lazyContext:k=>{const E=Ic(k.element),P=r.inline?r.getContentAreaContainer():r.getContainer();return D.from(P).map(F=>{const M=di(un(F));return Jp(r,k.element).fold(()=>{const V=M.height-E,Y=M.y+(zw(k,"top")?0:E);return Lo(M.x,Y,M.width,V)},V=>{const Y=Ud(M,Qp(V)),ee=zw(k,"top")?Y.y:Y.y+E;return Lo(Y.x,ee,Y.width,Y.height-E)})})},onShow:()=>{b(k=>v4(k,!0))},onShown:k=>{b(E=>hc(E,[Tg.transitionClass,Tg.fadeInClass])),d.get().each(E=>{((P,F)=>{const M=ui(F);Su(M).filter(V=>!dr(F,V)).filter(V=>dr(V,un(M.dom.body))||Ms(P,V)).each(()=>Wa(F))})(k.element,E),d.clear()})},onHide:k=>{((E,P)=>qs(E).orThunk(()=>P().toOptional().bind(F=>qs(F.element))))(k.element,f).fold(d.clear,d.set),b(E=>v4(E,!1))},onHidden:()=>{b(k=>hc(k,[Tg.transitionClass]))},...Tg},lazyViewport:k=>Jp(r,k.element).fold(()=>{const E=Gi(),P=BA(r),F=E.y+(zw(k,"top")?P:0),M=E.height-(zw(k,"bottom")?P:0);return{bounds:Lo(E.x,F,E.width,M),optScrollEnv:D.none()}},E=>({bounds:Qp(E),optScrollEnv:D.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:Hl(E.element).top})})),modes:[l.header.getDockingMode()],onDocked:v,onUndocked:v}),...C]};var mV=Object.freeze({__proto__:null,setup:(r,l,d)=>{r.inline||(l.header.isPositionedAtTop()||r.on("ResizeEditor",()=>{d().each(ds.reset)}),r.on("ResizeWindow ResizeEditor",()=>{d().each(uk)}),r.on("SkinLoaded",()=>{d().each(f=>{ds.isDocked(f)?ds.reset(f):ds.refresh(f)})}),r.on("FullscreenStateChanged",()=>{d().each(ds.reset)})),r.on("AfterScrollIntoView",f=>{d().each(b=>{ds.refresh(b);const v=b.element;GR(v)&&((C,k)=>{const E=ui(k),P=lu(k).dom.innerHeight,F=ns(E),M=un(C.elm),V=kl(M),Y=Os(M),ee=V.y,fe=ee+Y,pe=Hl(k),Se=Os(k),ge=pe.top,me=ge+Se,we=Math.abs(ge-F.top)<2,ke=Math.abs(me-(F.top+P))<2;if(we&&ee<me)If(F.left,ee-Se,E);else if(ke&&fe>ge){const De=ee-P+Y+Se;If(F.left,De,E)}})(f,v)})}),r.on("PostRender",()=>{GP(r,!1)})},isDocked:r=>r().map(ds.isDocked).getOr(!1),getBehaviours:qP});const gV=Gn([xi,Yi("items",Vm([nd([nT,ll("items",ki)]),ki]))].concat(yg)),hV=[Fs("text"),Fs("tooltip"),Fs("icon"),Ha("search",!1,Vm([fc,Gn([Fs("placeholder")])],r=>R(r)?r?D.some({placeholder:D.none()}):D.none():D.some(r))),za("fetch"),os("onSetup",()=>j)],YP=Gn([xi,...hV]),XP=r=>_s("menubutton",YP,r),pV=Gn([xi,fw,bd,rb,aT,T7,ob,Mc("presets","normal",["normal","color","listpreview"]),xN(1),xy,yN]);var y4=Ou({factory:(r,l)=>{const d={focus:$n.focusIn,setMenus:(f,b)=>{const v=Le(b,C=>{const k={type:"menubutton",text:C.text,fetch:P=>{P(C.getItems())}},E=XP(k).mapError(P=>al(P)).getOrDie();return My(E,"tox-mbtn",l.backstage,D.some("menuitem"))});Jn.set(f,v)}};return{uid:r.uid,dom:r.dom,components:[],behaviours:qt([Jn.config({}),To("menubar-events",[as(f=>{r.onSetup(f)}),Ot(Pn(),(f,b)=>{fs(f.element,".tox-mbtn--active").each(v=>{ud(b.event.target,".tox-mbtn").each(C=>{dr(v,C)||f.getSystem().getByDom(v).each(k=>{f.getSystem().getByDom(C).each(E=>{Il.expand(E),Il.close(k),so.focus(E)})})})})}),Ot(w0(),(f,b)=>{b.event.prevFocus.bind(v=>f.getSystem().getByDom(v).toOptional()).each(v=>{b.event.newFocus.bind(C=>f.getSystem().getByDom(C).toOptional()).each(C=>{Il.isOpen(v)&&(Il.expand(C),Il.close(v))})})})]),$n.config({mode:"flow",selector:".tox-mbtn",onEscape:f=>(r.onEscape(f),D.some(!0))}),Gr.config({})]),apis:d,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Lt("dom"),Lt("uid"),Lt("onEscape"),Lt("backstage"),ut("onSetup",j)],apis:{focus:(r,l)=>{r.focus(l)},setMenus:(r,l,d)=>{r.setMenus(l,d)}}});const JP="container",bV=[Sn("slotBehaviours",[])],x4=r=>"<alloy.field."+r+">",vV=(r,l)=>{const d=F=>kR(r),f=(F,M)=>(V,Y)=>Jr(V,r,Y).map(ee=>F(ee,Y)).getOr(M),b=(F,M)=>Ko(F.element,"aria-hidden")!=="true",v=f(b,!1),C=f((F,M)=>{if(b(F)){const V=F.element;bo(V,"display","none"),cn(V,"aria-hidden","true"),Mn(F,xu(),{name:M,visible:!1})}}),k=(F=>(M,V)=>{ft(V,Y=>F(M,Y))})(C),E=f((F,M)=>{if(!b(F)){const V=F.element;Er(V,"display"),Io(V,"aria-hidden"),Mn(F,xu(),{name:M,visible:!0})}}),P={getSlotNames:d,getSlot:(F,M)=>Jr(F,r,M),isShowing:v,hideSlot:C,hideAllSlots:F=>k(F,d()),showSlot:E};return{uid:r.uid,dom:r.dom,components:l,behaviours:to(r.slotBehaviours),apis:P}},yV=eo({getSlotNames:(r,l)=>r.getSlotNames(l),getSlot:(r,l,d)=>r.getSlot(l,d),isShowing:(r,l,d)=>r.isShowing(l,d),hideSlot:(r,l,d)=>r.hideSlot(l,d),hideAllSlots:(r,l)=>r.hideAllSlots(l),showSlot:(r,l,d)=>r.showSlot(l,d)},r=>L0(r)),Nl={...yV,sketch:r=>{const l=(()=>{const v=[];return{slot:(C,k)=>(v.push(C),tA(JP,x4(C),k)),record:U(v)}})(),d=r(l),f=l.record(),b=Le(f,v=>Rl({name:v,pname:x4(v)}));return k2(JP,bV,b,vV,d)}},xV=Gn([bd,fw,os("onShow",j),os("onHide",j),ob]),wV=r=>({element:()=>r.element.dom}),dk=(r,l)=>{const d=Le(Ut(l),f=>{const b=l[f],v=Va((C=>_s("sidebar",xV,C))(b));return{name:f,getApi:wV,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return Le(d,f=>{const b=Hn(j);return r.slot(f.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gw([sb(f,b),$h(f,b),Ot(xu(),(v,C)=>{const k=C.event;Q(d,P=>P.name===k.name).each(P=>{(k.visible?P.onShow:P.onHide)(P.getApi(v))})})])})})},QP=r=>Nl.sketch(l=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:dk(l,r),slotBehaviours:gw([as(d=>Nl.hideAllSlots(d))])})),fk=(r,l)=>{cn(r,"role",l)},CV=r=>sr.getCurrent(r).bind(l=>oc.isGrowing(l)||oc.hasGrown(l)?sr.getCurrent(l).bind(d=>Q(Nl.getSlotNames(d),f=>Nl.isShowing(d,f))):D.none()),w4=_n("FixSizeEvent"),C4=_n("AutoSizeEvent");var _V=Object.freeze({__proto__:null,block:(r,l,d,f)=>{cn(r.element,"aria-busy",!0);const b=l.getRoot(r).getOr(r),v=qt([$n.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),so.config({})]),C=f(b,v),k=b.getSystem().build(C);Jn.append(b,ul(k)),k.hasConfigured($n)&&l.focus&&$n.focusIn(k),d.isBlocked()||l.onBlock(r),d.blockWith(()=>Jn.remove(b,k))},unblock:(r,l,d)=>{Io(r.element,"aria-busy"),d.isBlocked()&&l.onUnblock(r),d.clear()},isBlocked:(r,l,d)=>d.isBlocked()}),SV=[os("getRoot",D.none),ri("focus",!0),nr("onBlock"),nr("onUnblock")];const kd=Mi({fields:SV,name:"blocking",apis:_V,state:Object.freeze({__proto__:null,init:()=>{const r=Nc(l=>l.destroy());return Li({readState:r.isSet,blockWith:l=>{r.set({destroy:l})},clear:r.clear,isBlocked:r.isSet})}})}),_4=r=>sr.getCurrent(r).each(l=>Wa(l.element,!0)),eL=(r,l,d)=>{const f=Hn(!1),b=Or(),v=k=>{var E;f.get()&&(!(P=>P.type==="focusin")(E=k)||!(E.composed?Ne(E.composedPath()):D.from(E.target)).map(un).filter(ls).exists(P=>cl(P,"mce-pastebin")))&&(k.preventDefault(),_4(l()),r.editorManager.setActive(r))};r.inline||r.on("PreInit",()=>{r.dom.bind(r.getWin(),"focusin",v),r.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const C=k=>{k!==f.get()&&(f.set(k),((E,P,F,M)=>{const V=P.element;if(((Y,ee)=>{const fe="tabindex",pe=`data-mce-${fe}`;D.from(Y.iframeElement).map(un).each(Se=>{ee?(Qo(Se,fe).each(ge=>cn(Se,pe,ge)),cn(Se,fe,-1)):(Io(Se,fe),Qo(Se,pe).each(ge=>{cn(Se,fe,ge),Io(Se,pe)}))})})(E,F),F)kd.block(P,(Y=>(ee,fe)=>({dom:{tag:"div",attributes:{"aria-label":Y.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:hg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(M)),Er(V,"display"),Io(V,"aria-hidden"),E.hasFocus()&&_4(P);else{const Y=sr.getCurrent(P).exists(ee=>Eh(ee.element));kd.unblock(P),bo(V,"display","none"),cn(V,"aria-hidden","true"),Y&&E.focus()}})(r,l(),k,d.providers),((E,P)=>{E.dispatch("AfterProgressState",{state:P})})(r,k))};r.on("ProgressState",k=>{if(b.on(clearTimeout),J(k.time)){const E=R_.setEditorTimeout(r,()=>C(k.state),k.time);b.set(E)}else C(k.state),b.clear()})},S4=(r,l,d)=>({within:r,extra:l,withinWidth:d}),k4=(r,l,d)=>{const f=nn(r,(C,k)=>((E,P)=>{const F=d(E);return D.some({element:E,start:P,finish:P+F,width:F})})(k,C.len).fold(U(C),E=>({len:E.finish,list:C.list.concat([E])})),{len:0,list:[]}).list,b=Ht(f,C=>C.finish<=l),v=Tn(b,(C,k)=>C+k.width,0);return{within:b,extra:f.slice(b.length),withinWidth:v}},mk=r=>Le(r,l=>l.element),tL=(r,l)=>{const d=Le(l,f=>ul(f));gf.setGroups(r,d)},nL=(r,l,d)=>{const f=l.builtGroups.get();if(f.length===0)return;const b=Nh(r,l,"primary"),v=Vs.getCoupled(r,"overflowGroup");bo(b.element,"visibility","hidden");const C=f.concat([v]),k=sn(C,P=>qs(P.element).bind(F=>P.getSystem().getByDom(F).toOptional()));d([]),tL(b,C);const E=((P,F,M,V)=>{const Y=((Se,ge,me)=>{const we=k4(ge,Se,me);return we.extra.length===0?D.some(we):D.none()})(P,F,M).getOrThunk(()=>k4(F,P-M(V),M)),ee=Y.within,fe=Y.extra,pe=Y.withinWidth;return fe.length===1&&fe[0].width<=M(V)?((Se,ge,me)=>{const we=mk(Se.concat(ge));return S4(we,[],me)})(ee,fe,pe):fe.length>=1?((Se,ge,me,we)=>{const ke=mk(Se).concat([me]);return S4(ke,mk(ge),we)})(ee,fe,V,pe):((Se,ge,me)=>S4(mk(Se),[],me))(ee,0,pe)})(Ii(b.element),l.builtGroups.get(),P=>Math.ceil(P.element.dom.getBoundingClientRect().width),v);E.extra.length===0?(Jn.remove(b,v),d([])):(tL(b,E.within),d(E.extra)),Er(b.element,"visibility"),$d(b.element),k.each(so.focus)},oL=U([Sn("splitToolbarBehaviours",[Vs]),qi("builtGroups",()=>Hn([]))]),kV=U([bh(["overflowToggledClass"]),bu("getOverflowBounds"),Lt("lazySink"),qi("overflowGroups",()=>Hn([])),nr("onOpened"),nr("onClosed")].concat(oL())),EV=U([Rl({factory:gf,schema:_1(),name:"primary"}),sf({schema:_1(),name:"overflow"}),sf({name:"overflow-button"}),sf({name:"overflow-group"})]),E4=U((r,l)=>{((d,f)=>{const b=eh.max(d,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);bo(d,"max-width",b+"px")})(r,Math.floor(l))}),AV=U([bh(["toggledClass"]),Lt("lazySink"),za("fetch"),bu("getBounds"),Ds("fireDismissalEventInstead",[ut("event",uh())]),qf(),nr("onToggled")]),TV=U([sf({name:"button",overrides:r=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:qt([oo.config({toggleClass:r.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:r.onToggled})])})}),sf({factory:gf,schema:_1(),name:"toolbar",overrides:r=>({toolbarBehaviours:qt([$n.config({mode:"cyclic",onEscape:l=>(Jr(l,r,"button").each(so.focus),D.none())})])})})]),gk=Or(),Vy=(r,l)=>{const d=Vs.getCoupled(r,"toolbarSandbox");O.isOpen(d)?O.close(d):O.open(d,l.toolbar())},Hw=(r,l,d,f)=>{const b=d.getBounds.map(C=>C()),v=d.lazySink(r).getOrDie();ba.positionWithinBounds(v,l,{anchor:{type:"hotspot",hotspot:r,layouts:f,overrides:{maxWidthFunction:E4()}}},b)},hk=(r,l,d,f,b)=>{gf.setGroups(l,b),Hw(r,l,d,f),oo.on(r)},Zh=Kl({name:"FloatingToolbarButton",factory:(r,l,d,f)=>({...Za.sketch({...f.button(),action:b=>{Vy(b,f)},buttonBehaviours:no({dump:f.button().buttonBehaviours},[Vs.config({others:{toolbarSandbox:b=>((v,C,k)=>{const E=wh();return{dom:{tag:"div",attributes:{id:E.id}},behaviours:qt([$n.config({mode:"special",onEscape:P=>(O.close(P),D.some(!0))}),O.config({onOpen:(P,F)=>{const M=gk.get().getOr(!1);k.fetch().get(V=>{hk(v,F,k,C.layouts,V),E.link(v.element),M||$n.focusIn(F)})},onClose:()=>{oo.off(v),gk.get().getOr(!1)||so.focus(v),E.unlink(v.element)},isPartOf:(P,F,M)=>Tl(F,M)||Tl(v,M),getAttachPoint:()=>k.lazySink(v).getOrDie()}),Ol.config({channels:{...ue({isExtraPart:Oe,...k.fireDismissalEventInstead.map(P=>({fireEventInstead:{event:P.event}})).getOr({})}),...Fe({doReposition:()=>{O.getState(Vs.getCoupled(v,"toolbarSandbox")).each(P=>{Hw(v,P,k,C.layouts)})}})}})])}})(b,d,r)}})])}),apis:{setGroups:(b,v)=>{O.getState(Vs.getCoupled(b,"toolbarSandbox")).each(C=>{hk(b,C,r,d.layouts,v)})},reposition:b=>{O.getState(Vs.getCoupled(b,"toolbarSandbox")).each(v=>{Hw(b,v,r,d.layouts)})},toggle:b=>{Vy(b,f)},toggleWithoutFocusing:b=>{((v,C)=>{gk.set(!0),Vy(v,C),gk.clear()})(b,f)},getToolbar:b=>O.getState(Vs.getCoupled(b,"toolbarSandbox")),isOpen:b=>O.isOpen(Vs.getCoupled(b,"toolbarSandbox"))}}),configFields:AV(),partFields:TV(),apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},reposition:(r,l)=>{r.reposition(l)},toggle:(r,l)=>{r.toggle(l)},toggleWithoutFocusing:(r,l)=>{r.toggleWithoutFocusing(l)},getToolbar:(r,l)=>r.getToolbar(l),isOpen:(r,l)=>r.isOpen(l)}}),OV=U([Lt("items"),bh(["itemSelector"]),Sn("tgroupBehaviours",[$n])]),DV=U([p_({name:"items",unit:"item"})]),zy=Kl({name:"ToolbarGroup",configFields:OV(),partFields:DV(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.tgroupBehaviours,[$n.config({mode:"flow",selector:r.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),pk=r=>Le(r,l=>ul(l)),Uw=(r,l,d)=>{nL(r,d,f=>{d.overflowGroups.set(f),l.getOpt(r).each(b=>{Zh.setGroups(b,pk(f))})})},A4=Kl({name:"SplitFloatingToolbar",configFields:kV(),partFields:EV(),factory:(r,l,d,f)=>{const b=kr(Zh.sketch({fetch:()=>ib(v=>{v(pk(r.overflowGroups.get()))}),layouts:{onLtr:()=>[Ps,Ns],onRtl:()=>[Ns,Ps],onBottomLtr:()=>[Fr,si],onBottomRtl:()=>[si,Fr]},getBounds:d.getOverflowBounds,lazySink:r.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:r.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()},onToggled:(v,C)=>r[C?"onOpened":"onClosed"](v)}));return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.splitToolbarBehaviours,[Vs.config({others:{overflowGroup:()=>zy.sketch({...f["overflow-group"](),items:[b.asSpec()]})}})]),apis:{setGroups:(v,C)=>{r.builtGroups.set(Le(C,v.getSystem().build)),Uw(v,b,r)},refresh:v=>Uw(v,b,r),toggle:v=>{b.getOpt(v).each(C=>{Zh.toggle(C)})},toggleWithoutFocusing:v=>{b.getOpt(v).each(Zh.toggleWithoutFocusing)},isOpen:v=>b.getOpt(v).map(Zh.isOpen).getOr(!1),reposition:v=>{b.getOpt(v).each(C=>{Zh.reposition(C)})},getOverflow:v=>b.getOpt(v).bind(Zh.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},refresh:(r,l)=>{r.refresh(l)},reposition:(r,l)=>{r.reposition(l)},toggle:(r,l)=>{r.toggle(l)},toggleWithoutFocusing:(r,l)=>{r.toggle(l)},isOpen:(r,l)=>r.isOpen(l),getOverflow:(r,l)=>r.getOverflow(l)}}),RV=U([bh(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),nr("onOpened"),nr("onClosed")].concat(oL())),IV=U([Rl({factory:gf,schema:_1(),name:"primary"}),Rl({factory:gf,schema:_1(),name:"overflow",overrides:r=>({toolbarBehaviours:qt([oc.config({dimension:{property:"height"},closedClass:r.markers.closedClass,openClass:r.markers.openClass,shrinkingClass:r.markers.shrinkingClass,growingClass:r.markers.growingClass,onShrunk:l=>{Jr(l,r,"overflow-button").each(d=>{oo.off(d)}),r.onClosed(l)},onGrown:l=>{r.onOpened(l)},onStartGrow:l=>{Jr(l,r,"overflow-button").each(oo.on)}}),$n.config({mode:"acyclic",onEscape:l=>(Jr(l,r,"overflow-button").each(so.focus),D.some(!0))})])})}),sf({name:"overflow-button",overrides:r=>({buttonBehaviours:qt([oo.config({toggleClass:r.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),sf({name:"overflow-group"})]),T4=(r,l,d)=>{Jr(r,l,"overflow-button").each(f=>{Jr(r,l,"overflow").each(b=>{if(O4(r,l),oc.hasShrunk(b)){const v=l.onOpened;l.onOpened=C=>{d||$n.focusIn(b),v(C),l.onOpened=v}}else{const v=l.onClosed;l.onClosed=C=>{d||so.focus(f),v(C),l.onClosed=v}}oc.toggleGrow(b)})})},O4=(r,l)=>{Jr(r,l,"overflow").each(d=>{nL(r,l,f=>{const b=Le(f,v=>ul(v));gf.setGroups(d,b)}),Jr(r,l,"overflow-button").each(f=>{oc.hasGrown(d)&&oo.on(f)}),oc.refresh(d)})},D4=Kl({name:"SplitSlidingToolbar",configFields:RV(),partFields:IV(),factory:(r,l,d,f)=>{const b="alloy.toolbar.toggle";return{uid:r.uid,dom:r.dom,components:l,behaviours:Eo(r.splitToolbarBehaviours,[Vs.config({others:{overflowGroup:v=>zy.sketch({...f["overflow-group"](),items:[Za.sketch({...f["overflow-button"](),action:C=>{No(v,b)}})]})}}),To("toolbar-toggle-events",[Ot(b,v=>{T4(v,r,!1)})])]),apis:{setGroups:(v,C)=>{((k,E)=>{const P=Le(E,k.getSystem().build);r.builtGroups.set(P)})(v,C),O4(v,r)},refresh:v=>O4(v,r),toggle:v=>{T4(v,r,!1)},toggleWithoutFocusing:v=>{T4(v,r,!0)},isOpen:v=>((C,k)=>Jr(C,k,"overflow").map(oc.hasGrown).getOr(!1))(v,r)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(r,l,d)=>{r.setGroups(l,d)},refresh:(r,l)=>{r.refresh(l)},toggle:(r,l)=>{r.toggle(l)},isOpen:(r,l)=>r.isOpen(l)}}),rL=r=>{const l=r.title.fold(()=>({}),d=>({attributes:{title:d}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...l},components:[zy.parts.items({})],items:r.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:qt([Gr.config({}),so.config({})])}},bk=r=>zy.sketch(rL(r)),sL=(r,l)=>{const d=as(f=>{const b=Le(r.initGroups,bk);gf.setGroups(f,b)});return qt([aS(r.providers.isDisabled),Bi(),$n.config({mode:l,onEscape:r.onEscape,selector:".tox-toolbar__group"}),To("toolbar-events",[d])])},iL=r=>{const l=r.cyclicKeying?"cyclic":"acyclic";return{uid:r.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":rL({title:D.none(),items:[]}),"overflow-button":yP({icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items")},D.none(),r.providers,[],"overflow-button")},splitToolbarBehaviours:sL(r,l)}},NV=r=>{const l=iL(r),d=A4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return A4.sketch({...l,lazySink:r.getSink,getOverflowBounds:()=>{const f=r.moreDrawerData.lazyHeader().element,b=kl(f),v=ol(f),C=kl(v),k=Math.max(v.dom.scrollHeight,C.height);return Lo(b.x+4,C.y,b.width-8,k)},parts:{...l.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r.attributes}}},components:[d],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:f=>r.onToggled(f,!0),onClosed:f=>r.onToggled(f,!1)})},PV=r=>{const l=D4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),d=D4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),f=iL(r);return D4.sketch({...f,components:[l,d],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:b=>{b.getSystem().broadcastOn([ck()],{type:"opened"}),r.onToggled(b,!0)},onClosed:b=>{b.getSystem().broadcastOn([ck()],{type:"closed"}),r.onToggled(b,!1)}})},R4=r=>{const l=r.cyclicKeying?"cyclic":"acyclic";return gf.sketch({uid:r.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(r.type===gd.scrolling?["tox-toolbar--scrolling"]:[])},components:[gf.parts.groups({})],toolbarBehaviours:sL(r,l)})},aL=[rb,bd,Fs("tooltip"),Mc("buttonType","secondary",["primary","secondary"]),ri("borderless",!1),za("onAction")],I4={button:[...aL,pd,sd("type",["button"])],togglebutton:[...aL,ri("active",!1),sd("type",["togglebutton"])]},LV=[sd("type",["group"]),Pr("buttons",[],bi("type",I4))],MV=bi("type",{...I4,group:LV}),Og=Gn([Pr("buttons",[],MV),za("onShow"),za("onHide")]),lL=(r,l)=>((d,f)=>{var b,v;const C=d.type==="togglebutton",k=d.icon.map(ge=>hb(ge,f.icons)).map(kr),E={...d,name:C?d.text.getOr(d.icon.getOr("")):(b=d.text)!==null&&b!==void 0?b:d.icon.getOr(""),primary:d.buttonType==="primary",buttonType:D.from(d.buttonType),tooltip:d.tooltip,icon:d.icon,enabled:!0,borderless:d.borderless},P=Z3((v=d.buttonType)!==null&&v!==void 0?v:"secondary"),F=C?d.text.map(f.translate):D.some(f.translate(d.text)),M=F.map($s),V=E.tooltip.or(F).map(ge=>({"aria-label":f.translate(ge)})).getOr({}),Y=k.map(ge=>ge.asSpec()),ee=_y([Y,M]),fe=d.icon.isSome()&&M.isSome(),pe={tag:"button",classes:P.concat(...d.icon.isSome()&&!fe?["tox-button--icon"]:[]).concat(...fe?["tox-button--icon-and-text"]:[]).concat(...d.borderless?["tox-button--naked"]:[]).concat(...d.type==="togglebutton"&&d.active?["tox-button--enabled"]:[]),attributes:V},Se=Mw(E,D.some(ge=>{const me=we=>{k.map(ke=>ke.getOpt(ge).each(De=>{Jn.set(De,[hb(we,f.icons)])}))};return C?d.onAction({setIcon:me,setActive:we=>{const ke=ge.element;we?(Es(ke,"tox-button--enabled"),cn(ke,"aria-pressed",!0)):(Is(ke,"tox-button--enabled"),Io(ke,"aria-pressed"))},isActive:()=>cl(ge.element,"tox-button--enabled")}):d.type==="button"?d.onAction({setIcon:me}):void 0}),[],pe,ee,d.tooltip,f);return Za.sketch(Se)})(r,l),cL=la().deviceType,N4=cL.isPhone(),xa=cL.isTablet();var Hy=Kl({name:"silver.View",configFields:[Lt("viewConfig")],partFields:[Tu({factory:{sketch:r=>{let l=!1;const d=Le(r.buttons,f=>f.type==="group"?(l=!0,((b,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Le(b.buttons,C=>lL(C,v))}))(f,r.providers)):lL(f,r.providers));return{uid:r.uid,dom:{tag:"div",classes:[l?"tox-view__toolbar":"tox-view__header",...N4||xa?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:qt([so.config({}),$n.config({mode:"flow",selector:"button, .tox-button",focusInside:Zv.OnEnterOrSpaceMode})]),components:l?d:[uf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),uf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:d})]}}},schema:[Lt("buttons"),Lt("providers")],name:"header"}),Tu({factory:{sketch:r=>({uid:r.uid,behaviours:qt([so.config({}),Gr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(r,l,d,f)=>{const b={getPane:v=>ya.getPart(v,r,"pane"),getOnShow:v=>r.viewConfig.onShow,getOnHide:v=>r.viewConfig.onHide};return{uid:r.uid,dom:r.dom,components:l,behaviours:qt([so.config({}),$n.config({mode:"cyclic",focusInside:Zv.OnEnterOrSpaceMode})]),apis:b}},apis:{getPane:(r,l)=>r.getPane(l),getOnShow:(r,l)=>r.getOnShow(l),getOnHide:(r,l)=>r.getOnHide(l)}});const BV=(r,l,d)=>ti(l,(f,b)=>{const v=Va(_s("view",Og,f));return r.slot(b,Hy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Hy.parts.header({buttons:v.buttons,providers:d})]:[],Hy.parts.pane({})]}))}),FV=(r,l)=>Nl.sketch(d=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:BV(d,r,l),slotBehaviours:gw([as(f=>Nl.hideAllSlots(f))])})),uL=r=>Q(Nl.getSlotNames(r),l=>Nl.isShowing(r,l)),dL=(r,l,d)=>{Nl.getSlot(r,l).each(f=>{Hy.getPane(f).each(b=>{var v;d(f)((v=b.element.dom,{getContainer:U(v)}))})})};var vk=Ou({factory:(r,l)=>{const d={setViews:(f,b)=>{Jn.set(f,[FV(b,l.backstage.shared.providers)])},whichView:f=>sr.getCurrent(f).bind(uL),toggleView:(f,b,v,C)=>sr.getCurrent(f).exists(k=>{const E=uL(k),P=E.exists(M=>C===M),F=Nl.getSlot(k,C).isSome();return F&&(Nl.hideAllSlots(k),P?((M=>{const V=M.element;bo(V,"display","none"),cn(V,"aria-hidden","true")})(f),b()):(v(),(M=>{const V=M.element;Er(V,"display"),Io(V,"aria-hidden")})(f),Nl.showSlot(k,C),((M,V)=>{dL(M,V,Hy.getOnShow)})(k,C)),E.each(M=>((V,Y)=>dL(V,Y,Hy.getOnHide))(k,M))),F})};return{uid:r.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:qt([Jn.config({}),sr.config({find:f=>{const b=Jn.contents(f);return Ne(b)}})]),apis:d}},name:"silver.ViewWrapper",configFields:[Lt("backstage")],apis:{setViews:(r,l,d)=>r.setViews(l,d),toggleView:(r,l,d,f,b)=>r.toggleView(l,d,f,b),whichView:(r,l)=>r.whichView(l)}});const $V=Ag.optional({factory:y4,name:"menubar",schema:[Lt("backstage")]}),VV=Ag.optional({factory:{sketch:r=>g4.sketch({uid:r.uid,dom:r.dom,listBehaviours:qt([$n.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>R4({type:r.type,uid:_n("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:r.providers,onEscape:()=>(r.onEscape(),D.some(!0))}),setupItem:(l,d,f,b)=>{gf.setGroups(d,f)},shell:!0})},name:"multiple-toolbar",schema:[Lt("dom"),Lt("onEscape")]}),zV=Ag.optional({factory:{sketch:r=>(d=>d.type===gd.sliding?PV:d.type===gd.floating?NV:R4)(r)({type:r.type,uid:r.uid,onEscape:()=>(r.onEscape(),D.some(!0)),onToggled:(d,f)=>r.onToolbarToggled(f),cyclicKeying:!1,initGroups:[],getSink:r.getSink,providers:r.providers,moreDrawerData:{lazyToolbar:r.lazyToolbar,lazyMoreButton:r.lazyMoreButton,lazyHeader:r.lazyHeader},attributes:r.attributes})},name:"toolbar",schema:[Lt("dom"),Lt("onEscape"),Lt("getSink")]}),HV=Ag.optional({factory:{sketch:r=>{const l=r.editor,d=r.sticky?qP:lk;return{uid:r.uid,dom:r.dom,components:r.components,behaviours:qt(d(l,r.sharedBackstage))}}},name:"header",schema:[Lt("dom")]}),UV=Ag.optional({factory:{sketch:r=>({uid:r.uid,dom:r.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Lt("dom")]}),WV=Ag.optional({name:"socket",schema:[Lt("dom")]}),KV=Ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:qt([Gr.config({}),so.config({}),oc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:l=>{sr.getCurrent(l).each(Nl.hideAllSlots),No(l,C4)},onGrown:l=>{No(l,C4)},onStartGrow:l=>{Mn(l,w4,{width:oi(l.element,"width").getOr("")})},onStartShrink:l=>{Mn(l,w4,{width:Ii(l.element)+"px"})}}),Jn.config({}),sr.config({find:l=>{const d=Jn.contents(l);return Ne(d)}})])}],behaviours:qt([p3(0),To("sidebar-sliding-events",[Ot(w4,(l,d)=>{bo(l.element,"width",d.event.width)}),Ot(C4,(l,d)=>{Er(l.element,"width")})])])})},name:"sidebar",schema:[Lt("dom")]}),jV=Ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:qt([Jn.config({}),kd.config({focus:!1}),sr.config({find:l=>Ne(l.components())})]),components:[]})},name:"throbber",schema:[Lt("dom")]}),ZV=Ag.optional({factory:vk,name:"viewWrapper",schema:[Lt("backstage")]}),GV=Ag.optional({factory:{sketch:r=>({uid:r.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:r.components})},name:"editorContainer",schema:[]});var rs=Kl({name:"OuterContainer",factory:(r,l,d)=>{let f=!1;const b=C=>{Xr(C,".tox-statusbar").each(k=>{Ts(k,"display")==="none"&&Ko(k,"aria-hidden")==="true"?(Er(k,"display"),Io(k,"aria-hidden")):(bo(k,"display","none"),cn(k,"aria-hidden","true"))})},v={getSocket:C=>ya.getPart(C,r,"socket"),setSidebar:(C,k,E)=>{ya.getPart(C,r,"sidebar").each(P=>((F,M,V)=>{sr.getCurrent(F).each(Y=>{Jn.set(Y,[QP(M)]);const ee=V==null?void 0:V.toLowerCase();h(ee)&&uo(M,ee)&&sr.getCurrent(Y).each(fe=>{Nl.showSlot(fe,ee),oc.immediateGrow(Y),Er(Y.element,"width"),fk(F.element,"region")})})})(P,k,E))},toggleSidebar:(C,k)=>{ya.getPart(C,r,"sidebar").each(E=>((P,F)=>{sr.getCurrent(P).each(M=>{sr.getCurrent(M).each(V=>{oc.hasGrown(M)?Nl.isShowing(V,F)?(oc.shrink(M),fk(P.element,"presentation")):(Nl.hideAllSlots(V),Nl.showSlot(V,F),fk(P.element,"region")):(Nl.hideAllSlots(V),Nl.showSlot(V,F),oc.grow(M),fk(P.element,"region"))})})})(E,k))},whichSidebar:C=>ya.getPart(C,r,"sidebar").bind(CV).getOrNull(),getHeader:C=>ya.getPart(C,r,"header"),getToolbar:C=>ya.getPart(C,r,"toolbar"),setToolbar:(C,k)=>{ya.getPart(C,r,"toolbar").each(E=>{const P=Le(k,bk);E.getApis().setGroups(E,P)})},setToolbars:(C,k)=>{ya.getPart(C,r,"multiple-toolbar").each(E=>{const P=Le(k,F=>Le(F,bk));g4.setItems(E,P)})},refreshToolbar:C=>{ya.getPart(C,r,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:C=>{ya.getPart(C,r,"toolbar").each(k=>{pi(k.getApis().toggle,E=>E(k))})},toggleToolbarDrawerWithoutFocusing:C=>{ya.getPart(C,r,"toolbar").each(k=>{pi(k.getApis().toggleWithoutFocusing,E=>E(k))})},isToolbarDrawerToggled:C=>ya.getPart(C,r,"toolbar").bind(k=>D.from(k.getApis().isOpen).map(E=>E(k))).getOr(!1),getThrobber:C=>ya.getPart(C,r,"throbber"),focusToolbar:C=>{ya.getPart(C,r,"toolbar").orThunk(()=>ya.getPart(C,r,"multiple-toolbar")).each(k=>{$n.focusIn(k)})},setMenubar:(C,k)=>{ya.getPart(C,r,"menubar").each(E=>{y4.setMenus(E,k)})},focusMenubar:C=>{ya.getPart(C,r,"menubar").each(k=>{y4.focus(k)})},setViews:(C,k)=>{ya.getPart(C,r,"viewWrapper").each(E=>{vk.setViews(E,k)})},toggleView:(C,k)=>ya.getPart(C,r,"viewWrapper").exists(E=>vk.toggleView(E,()=>v.showMainView(C),()=>v.hideMainView(C),k)),whichView:C=>ya.getPart(C,r,"viewWrapper").bind(vk.whichView).getOrNull(),hideMainView:C=>{f=v.isToolbarDrawerToggled(C),f&&v.toggleToolbarDrawer(C),ya.getPart(C,r,"editorContainer").each(k=>{const E=k.element;b(E),bo(E,"display","none"),cn(E,"aria-hidden","true")})},showMainView:C=>{f&&v.toggleToolbarDrawer(C),ya.getPart(C,r,"editorContainer").each(k=>{const E=k.element;b(E),Er(E,"display"),Io(E,"aria-hidden")})}};return{uid:r.uid,dom:r.dom,components:l,apis:v,behaviours:r.behaviours}},configFields:[Lt("dom"),Lt("behaviours")],partFields:[HV,$V,zV,VV,WV,KV,UV,jV,ZV,GV],apis:{getSocket:(r,l)=>r.getSocket(l),setSidebar:(r,l,d,f)=>{r.setSidebar(l,d,f)},toggleSidebar:(r,l,d)=>{r.toggleSidebar(l,d)},whichSidebar:(r,l)=>r.whichSidebar(l),getHeader:(r,l)=>r.getHeader(l),getToolbar:(r,l)=>r.getToolbar(l),setToolbar:(r,l,d)=>{r.setToolbar(l,d)},setToolbars:(r,l,d)=>{r.setToolbars(l,d)},refreshToolbar:(r,l)=>r.refreshToolbar(l),toggleToolbarDrawer:(r,l)=>{r.toggleToolbarDrawer(l)},toggleToolbarDrawerWithoutFocusing:(r,l)=>{r.toggleToolbarDrawerWithoutFocusing(l)},isToolbarDrawerToggled:(r,l)=>r.isToolbarDrawerToggled(l),getThrobber:(r,l)=>r.getThrobber(l),setMenubar:(r,l,d)=>{r.setMenubar(l,d)},focusMenubar:(r,l)=>{r.focusMenubar(l)},focusToolbar:(r,l)=>{r.focusToolbar(l)},setViews:(r,l,d)=>{r.setViews(l,d)},toggleView:(r,l,d)=>r.toggleView(l,d),whichView:(r,l)=>r.whichView(l)}});const fL={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},P4=r=>r.split(" "),mL=(r,l)=>{const d={...fL,...l.menus},f=Ut(l.menus).length>0,b=l.menubar===void 0||l.menubar===!0?P4("file edit view insert format tools table help"):P4(l.menubar===!1?"":l.menubar),v=Ht(b,k=>{const E=uo(fL,k);return f?E||En(l.menus,k).exists(P=>uo(P,"items")):E}),C=Le(v,k=>{const E=d[k];return((P,F,M)=>{const V=RI(M).split(/[ ,]/);return{text:P.title,getItems:()=>pn(P.items,Y=>{const ee=Y.toLowerCase();return ee.trim().length===0||kn(V,fe=>fe===ee)?[]:ee==="separator"||ee==="|"?[{type:"separator"}]:F.menuItems[ee]?[F.menuItems[ee]]:[]})}})({title:E.title,items:P4(E.items)},l,r)});return Ht(C,k=>k.getItems().length>0&&kn(k.getItems(),E=>h(E)||E.type!=="separator"))},gL=(r,l,d)=>(r.on("remove",()=>d.unload(l)),d.load(l)),L4=(r,l,d,f)=>(r.on("remove",()=>f.unloadRawCss(l)),f.loadRawCss(l,d)),qV=async(r,l)=>{const d="ui/"+V_(r).getOr("default")+"/skin.css",f=tinymce.Resource.get(d);if(!h(f)){const b=r.editorManager.suffix;return gL(r,l+`/skin${b}.css`,r.ui.styleSheetLoader)}L4(r,d,f,r.ui.styleSheetLoader)},YV=async(r,l)=>{var d;if(d=un(r.getElement()),Gt(d).isSome()){const f="ui/"+V_(r).getOr("default")+"/skin.shadowdom.css",b=tinymce.Resource.get(f);if(!h(b)){const v=r.editorManager.suffix;return gL(r,l+`/skin.shadowdom${v}.css`,gy.DOM.styleSheetLoader)}L4(r,f,b,gy.DOM.styleSheetLoader)}},hL=(r,l)=>(async(d,f)=>{const b=()=>{const C=$_(f),k=f.editorManager.suffix;C&&f.contentCSS.push(C+(d?"/content.inline":"/content")+`${k}.css`)};V_(f).fold(b,C=>{const k="ui/"+C+(d?"/content.inline":"/content")+".css",E=tinymce.Resource.get(k);h(E)?L4(f,k,E,f.ui.styleSheetLoader):b()});const v=$_(f);if(!Yp(f)&&h(v))return Promise.all([qV(f,v),YV(f,v)]).then()})(r,l).then((d=>{const f=()=>{d._skinLoaded=!0,(b=>{b.dispatch("SkinLoaded")})(d)};return()=>{d.initialized?f():d.on("init",f)}})(l),((d,f)=>()=>((b,v)=>{b.dispatch("SkinLoadError",v)})(d,{message:"Skin could not be loaded"}))(l)),pL=Ve(hL,!1),XV=Ve(hL,!0),S1=(r,l,d)=>Gu(d)?r.translate(l):r.translate([l,r.translate(d)]),JV=(r,l)=>{const d=(v,C,k,E)=>{const P=r.shared.providers.translate(v.title);if(v.type==="separator")return D.some({type:"separator",text:P});if(v.type==="submenu"){const F=pn(v.getStyleItems(),M=>f(M,C,E));return C===0&&F.length<=0?D.none():D.some({type:"nestedmenuitem",text:P,enabled:F.length>0,getSubmenuItems:()=>pn(v.getStyleItems(),M=>f(M,C,E))})}return D.some({type:"togglemenuitem",text:P,icon:v.icon,active:v.isSelected(E),enabled:!k,onAction:l.onAction(v),...v.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},f=(v,C,k)=>{const E=v.type==="formatter"&&l.isInvalid(v);return C===0?E?[]:d(v,C,!1,k).toArray():d(v,C,E,k).toArray()},b=v=>{const C=l.getCurrentValue(),k=l.shouldHide?0:1;return pn(v,E=>f(E,k,C))};return{validateItems:b,getFetch:(v,C)=>(k,E)=>{const P=C(),F=b(P);E(w1(F,dm.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:D.none()}))}}},Uy=(r,l)=>{const d=l.dataset,f=d.type==="basic"?()=>Le(d.data,b=>LP(b,l.isSelectedFor,l.getPreviewFor)):d.getData;return{items:JV(r,l),getStyleItems:f}},Ww=(r,l,d,f,b,v)=>{const{items:C,getStyleItems:k}=Uy(l,d),E=Hn(d.tooltip);return P3({text:d.icon.isSome()?D.none():d.text,icon:d.icon,ariaLabel:D.some(d.tooltip),tooltip:D.none(),role:D.none(),fetch:C.getFetch(l,k),onSetup:P=>{const F=M=>P.setTooltip(S1(r,f(M.value),M.value));return r.on(b,F),Ay(m1(r,"NodeChange",M=>{const V=M.getComponent();d.updateText(V),ao.set(M.getComponent(),!r.selection.isEditable())})(P),()=>r.off(b,F))},getApi:P=>({getComponent:U(P),setTooltip:F=>{const M=l.shared.providers.translate(F);cn(P.element,"aria-label",M),E.set(F)}}),columns:1,presets:"normal",classes:d.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ai.config({...l.shared.providers.tooltips.getConfig({tooltipText:l.shared.providers.translate(d.tooltip),onShow:P=>{if(d.tooltip!==E.get()){const F=l.shared.providers.translate(E.get());ai.setComponents(P,l.shared.providers.tooltips.getComponents({tooltipText:F}))}}})})]},"tox-tbtn",l.shared,v)};var k1;(function(r){r[r.SemiColon=0]="SemiColon",r[r.Space=1]="Space"})(k1||(k1={}));const M4=(r,l,d)=>{const f=(b=((v,C)=>C===k1.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(r.options.get(l),d),Le(b,v=>{let C=v,k=v;const E=v.split("=");return E.length>1&&(C=E[0],k=E[1]),{title:C,format:k}}));var b;return{type:"basic",data:f}},bL=U("Alignment {0}"),vL="left",B4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],F4=r=>{const l={type:"basic",data:B4};return{tooltip:S1(r,bL(),vL),text:D.none(),icon:D.some("align-left"),isSelectedFor:d=>()=>r.formatter.match(d),getCurrentValue:D.none,getPreviewFor:d=>D.none,onAction:d=>()=>Q(B4,f=>f.format===d.format).each(f=>r.execCommand(f.command)),updateText:d=>{const f=Q(B4,b=>r.formatter.match(b.format)).fold(U(vL),b=>b.title.toLowerCase());Mn(d,Cd,{icon:`align-${f}`}),((b,v)=>{b.dispatch("AlignTextUpdate",v)})(r,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!r.formatter.canApply(d.format)}},yL=(r,l)=>{const d=l(),f=Le(d,b=>b.format);return D.from(r.formatter.closest(f)).bind(b=>Q(d,v=>v.format===b))},$4=U("Block {0}"),V4="Paragraph",z4=r=>{const l=M4(r,"block_formats",k1.SemiColon);return{tooltip:S1(r,$4(),V4),text:D.some(V4),icon:D.none(),isSelectedFor:d=>()=>r.formatter.match(d),getCurrentValue:D.none,getPreviewFor:d=>()=>{const f=r.formatter.get(d);return f?D.some({tag:f.length>0&&(f[0].inline||f[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(d))}):D.none()},onAction:GN(r),updateText:d=>{const f=yL(r,()=>l.data).fold(U(V4),b=>b.title);Mn(d,Lu,{text:f}),((b,v)=>{b.dispatch("BlocksTextUpdate",v)})(r,{value:f})},dataset:l,shouldHide:!1,isInvalid:d=>!r.formatter.canApply(d.format)}},xL=U("Font {0}"),H4="System Font",QV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],wL=r=>{const l=r.split(/\s*,\s*/);return Le(l,d=>d.replace(/^['"]+|['"]+$/g,""))},CL=(r,l)=>l.length>0&&We(l,d=>r.indexOf(d.toLowerCase())>-1),_L=r=>{const l=()=>{const f=P=>P?wL(P)[0]:"",b=r.queryCommandValue("FontName"),v=d.data,C=b?b.toLowerCase():"",k=F_(r);return{matchOpt:Q(v,P=>{const F=P.format;return F.toLowerCase()===C||f(F).toLowerCase()===f(C).toLowerCase()}).orThunk(()=>ur(((P,F)=>{if(P.indexOf("-apple-system")===0||F.length>0){const M=wL(P.toLowerCase());return CL(M,QV)||CL(M,F)}return!1})(C,k),{title:H4,format:C})),font:b}},d=M4(r,"font_family_formats",k1.SemiColon);return{tooltip:S1(r,xL(),H4),text:D.some(H4),icon:D.none(),isSelectedFor:f=>b=>b.exists(v=>v.format===f),getCurrentValue:()=>{const{matchOpt:f}=l();return f},getPreviewFor:f=>()=>D.some({tag:"div",styles:f.indexOf("dings")===-1?{"font-family":f}:{}}),onAction:f=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontName",!1,f.format)})},updateText:f=>{const{matchOpt:b,font:v}=l(),C=b.fold(U(v),k=>k.title);Mn(f,Lu,{text:C}),((k,E)=>{k.dispatch("FontFamilyTextUpdate",E)})(r,{value:C})},dataset:d,shouldHide:!1,isInvalid:Oe}},ez={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tz=(()=>{const r="[0-9]+",l="[eE][+-]?"+r,d=b=>`(?:${b})?`,f=["Infinity",r+"\\."+d(r)+d(l),"\\."+r+d(l),r+d(l)].join("|");return new RegExp(`^([+-]?(?:${f}))(.*)$`)})(),yk=(r,l)=>D.from(tz.exec(r)).bind(d=>{const f=Number(d[1]),b=d[2];return((v,C)=>kn(C,k=>kn(ez[k],E=>v===E)))(b,l)?D.some({value:f,unit:b}):D.none()}),SL={tab:U(9),escape:U(27),enter:U(13),backspace:U(8),delete:U(46),left:U(37),up:U(38),right:U(39),down:U(40),space:U(32),home:U(36),end:U(35),pageUp:U(33),pageDown:U(34)},kL=U("Font size {0}"),EL="12pt",nz={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},AL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},oz=(r,l)=>/[0-9.]+px$/.test(r)?((d,f)=>{const b=Math.pow(10,f);return Math.round(d*b)/b})(72*parseInt(r,10)/96,l||0)+"pt":En(AL,r).getOr(r),rz=r=>En(nz,r).getOr(""),TL=r=>{const l=()=>{let b=D.none();const v=f.data,C=r.queryCommandValue("FontSize");if(C)for(let k=3;b.isNone()&&k>=0;k--){const E=oz(C,k),P=rz(E);b=Q(v,F=>F.format===C||F.format===E||F.format===P)}return{matchOpt:b,size:C}},d=U(D.none),f=M4(r,"font_size_formats",k1.Space);return{tooltip:S1(r,kL(),EL),text:D.some(EL),icon:D.none(),isSelectedFor:b=>v=>v.exists(C=>C.format===b),getPreviewFor:d,getCurrentValue:()=>{const{matchOpt:b}=l();return b},onAction:b=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontSize",!1,b.format)})},updateText:b=>{const{matchOpt:v,size:C}=l(),k=v.fold(U(C),E=>E.title);Mn(b,Lu,{text:k}),((E,P)=>{E.dispatch("FontSizeTextUpdate",P)})(r,{value:k})},dataset:f,shouldHide:!1,isInvalid:Oe}},OL=r=>Gu(r)?"Formats":"Format {0}",DL=(r,l)=>{const d="Formats";return{tooltip:S1(r,OL(""),""),text:D.some(d),icon:D.none(),isSelectedFor:f=>()=>r.formatter.match(f),getCurrentValue:D.none,getPreviewFor:f=>()=>{const b=r.formatter.get(f);return b!==void 0?D.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:r.dom.parseStyle(r.formatter.getCssText(f))}):D.none()},onAction:GN(r),updateText:f=>{const b=k=>IP(k)?pn(k.items,b):NP(k)?[{title:k.title,format:k.format}]:[],v=pn(PP(r),b),C=yL(r,U(v)).fold(U({title:d,tooltipLabel:""}),k=>({title:k.title,tooltipLabel:k.title}));Mn(f,Lu,{text:C.title}),((k,E)=>{k.dispatch("StylesTextUpdate",E)})(r,{value:C.tooltipLabel})},shouldHide:DI(r),isInvalid:f=>!r.formatter.canApply(f.format),dataset:l}},U4=U([Lt("toggleClass"),Lt("fetch"),cd("onExecute"),ut("getHotspot",D.some),ut("getAnchorOverrides",U({})),qf(),cd("onItemExecute"),qo("lazySink"),Lt("dom"),nr("onOpen"),Sn("splitDropdownBehaviours",[Vs,$n,so]),ut("matchWidth",!1),ut("useMinWidth",!1),ut("eventOrder",{}),qo("role"),qo("listRole")].concat(VT())),sz=Rl({factory:Za,schema:[Lt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:qt([so.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(r.uid).each(Hf)},buttonBehaviours:qt([oo.config({toggleOnExecute:!1,toggleClass:r.toggleClass})])})}),iz=Rl({factory:Za,schema:[Lt("dom")],name:"button",defaults:()=>({buttonBehaviours:qt([so.revoke()])}),overrides:r=>({dom:{tag:"span",attributes:{role:"presentation"}},action:l=>{l.getSystem().getByUid(r.uid).each(d=>{r.onExecute(d,l)})}})}),az=U([sz,iz,Tu({factory:{sketch:r=>({uid:r.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:r.text}})},schema:[Lt("text")],name:"aria-descriptor"}),sf({schema:[ph()],name:"menu",defaults:r=>({onExecute:(l,d)=>{l.getSystem().getByUid(r.uid).each(f=>{r.onItemExecute(f,l,d)})}})}),u5()]),Kw=Kl({name:"SplitDropdown",configFields:U4(),partFields:az(),factory:(r,l,d,f)=>{const b=P=>{sr.getCurrent(P).each(F=>{Ar.highlightFirst(F),$n.focusIn(F)})},v=P=>{BT(r,de,P,f,b,gl.HighlightMenuAndItem).get(j)},C=P=>{const F=Nh(P,r,"button");return Hf(F),D.some(!0)},k={...yo([as((P,F)=>{Jr(P,r,"aria-descriptor").each(M=>{const V=_n("aria");cn(M.element,"id",V),cn(P.element,"aria-describedby",V)})})]),...my(D.some(v))},E={repositionMenus:P=>{oo.isOn(P)&&m5(P)}};return{uid:r.uid,dom:r.dom,components:l,apis:E,eventOrder:{...r.eventOrder,[El()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:Eo(r.splitDropdownBehaviours,[Vs.config({others:{sandbox:P=>{const F=Nh(P,r,"arrow");return $T(r,P,{onOpen:()=>{oo.on(F),oo.on(P)},onClose:()=>{oo.off(F),oo.off(P)}})}}}),$n.config({mode:"special",onSpace:C,onEnter:C,onDown:P=>(v(P),D.some(!0))}),so.config({}),oo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:r.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(r,l)=>r.repositionMenus(l)}}),W4=r=>({isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setText:l=>Mn(r,Lu,{text:l}),setIcon:l=>Mn(r,Cd,{icon:l})}),lz=r=>({setActive:l=>{oo.set(r,l)},isActive:()=>oo.isOn(r),isEnabled:()=>!ao.isDisabled(r),setEnabled:l=>ao.set(r,!l),setText:l=>Mn(r,Lu,{text:l}),setIcon:l=>Mn(r,Cd,{icon:l})}),RL=(r,l)=>r.map(d=>({"aria-label":l.translate(d)})).getOr({}),K4=_n("focus-button"),j4=(r,l,d,f,b,v)=>{const C=l.map(E=>kr(N3(E,"tox-tbtn",b))),k=r.map(E=>kr(hb(E,b.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(l.isSome()?["tox-tbtn--select"]:[]),attributes:{...RL(d,b),...W(v)?{"data-mce-name":v}:{}}},components:_y([k.map(E=>E.asSpec()),C.map(E=>E.asSpec())]),eventOrder:{[Mt()]:["focusing","alloy.base.behaviour",gb],[ma()]:[gb,"toolbar-group-button-events"]},buttonBehaviours:qt([aS(b.isDisabled),Bi(),To(gb,[as((E,P)=>GS(E)),Ot(Lu,(E,P)=>{C.bind(F=>F.getOpt(E)).each(F=>{Jn.set(F,[$s(b.translate(P.event.text))])})}),Ot(Cd,(E,P)=>{k.bind(F=>F.getOpt(E)).each(F=>{Jn.set(F,[hb(P.event.icon,b.icons)])})}),Ot(Mt(),(E,P)=>{P.event.prevent(),No(E,K4)})])].concat(f.getOr([])))}},IL=(r,l,d,f)=>{var b;const v=Hn(j),C=j4(r.icon,r.text,r.tooltip,D.none(),d,f);return Za.sketch({dom:C.dom,components:C.components,eventOrder:I3,buttonBehaviours:{...qt([To("toolbar-button-events",[(k={onAction:r.onAction,getApi:l.getApi},wu((E,P)=>{hw(k,E)(F=>{Mn(E,ZS,{buttonApi:F}),k.onAction(F)})})),sb(l,v),$h(l,v)]),...r.tooltip.map(E=>ai.config(d.tooltips.getConfig({tooltipText:d.translate(E)+r.shortcut.map(P=>` (${lS(P)})`).getOr("")}))).toArray(),aS(()=>!r.enabled||d.isDisabled()),Bi()].concat(l.toolbarButtonBehaviours)),[gb]:(b=C.buttonBehaviours)===null||b===void 0?void 0:b[gb]}});var k},NL=(r,l,d,f)=>IL(r,{toolbarButtonBehaviours:d.length>0?[To("toolbarButtonWith",d)]:[],getApi:W4,onSetup:r.onSetup},l,f),PL=(r,l,d,f)=>IL(r,{toolbarButtonBehaviours:[Jn.config({}),oo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(d.length>0?[To("toolbarToggleButtonWith",d)]:[]),getApi:lz,onSetup:r.onSetup},l,f),cz=(r,l,d)=>f=>ib(b=>l.fetch(b)).map(b=>D.from(zT(Br(h1(_n("menu-value"),b,v=>{l.onItemAction(r(f),v)},l.columns,l.presets,dm.CLOSE_ON_EXECUTE,l.select.getOr(Oe),d),{movement:xw(l.columns,l.presets),menuBehaviours:gw(l.columns!=="auto"?[]:[as((v,C)=>{fT(v,4,nb(l.presets)).each(({numRows:k,numColumns:E})=>{$n.setGridSize(v,k,E)})})])})))),uz=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],yb=(r,l)=>(d,f,b,v)=>{const C=r(d).mapError(k=>al(k)).getOrDie();return l(C,f,b,v)},dz={button:yb(CN,(r,l,d,f)=>((b,v,C)=>NL(b,v,[],C))(r,l.shared.providers,f)),togglebutton:yb(rS,(r,l,d,f)=>((b,v,C)=>PL(b,v,[],C))(r,l.shared.providers,f)),menubutton:yb(XP,(r,l,d,f)=>My(r,"tox-tbtn",l,D.none(),!1,f)),splitbutton:yb(r=>_s("SplitButton",pV,r),(r,l,d,f)=>((b,v,C)=>{const k=Hn(b.tooltip.getOr("")),E=M=>({isEnabled:()=>!ao.isDisabled(M),setEnabled:V=>ao.set(M,!V),setIconFill:(V,Y)=>{fs(M.element,`svg path[class="${V}"], rect[class="${V}"]`).each(ee=>{cn(ee,"fill",Y)})},setActive:V=>{cn(M.element,"aria-pressed",V),fs(M.element,"span").each(Y=>{M.getSystem().getByDom(Y).each(ee=>oo.set(ee,V))})},isActive:()=>fs(M.element,"span").exists(V=>M.getSystem().getByDom(V).exists(oo.isOn)),setText:V=>fs(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(ee=>Mn(ee,Lu,{text:V}))),setIcon:V=>fs(M.element,"span").each(Y=>M.getSystem().getByDom(Y).each(ee=>Mn(ee,Cd,{icon:V}))),setTooltip:V=>{const Y=v.providers.translate(V);cn(M.element,"aria-label",Y),k.set(V)}}),P=Hn(j),F={getApi:E,onSetup:b.onSetup};return Kw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...RL(b.tooltip,v.providers),...W(C)?{"data-mce-name":C}:{}}},onExecute:M=>{const V=E(M);V.isEnabled()&&b.onAction(V)},onItemExecute:(M,V,Y)=>{},splitDropdownBehaviours:qt([NN(v.providers.isDisabled),Bi(),To("split-dropdown-events",[as((M,V)=>GS(M)),Ot(K4,so.focus),sb(F,P),$h(F,P)]),b1.config({}),...b.tooltip.map(M=>ai.config({...v.providers.tooltips.getConfig({tooltipText:v.providers.translate(M),onShow:V=>{if(k.get()!==M){const Y=v.providers.translate(k.get());ai.setComponents(V,v.providers.tooltips.getComponents({tooltipText:Y}))}}})})).toArray()]),eventOrder:{[ma()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Fc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:v.getSink,fetch:cz(E,b,v.providers),parts:{menu:Q_(0,b.columns,b.presets)},components:[Kw.parts.button(j4(b.icon,b.text,D.none(),D.some([oo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),v.providers)),Kw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:eN("chevron-down",v.providers.icons)},buttonBehaviours:qt([NN(v.providers.isDisabled),Bi(),Y_()])}),Kw.parts["aria-descriptor"]({text:v.providers.translate("To open the popup, press Shift+Enter")})]})})(r,l.shared,f)),grouptoolbarbutton:yb(r=>_s("GroupToolbarButton",gV,r),(r,l,d,f)=>{const b=d.ui.registry.getAll().buttons,v={[Dl]:l.shared.header.isPositionedAtTop()?Gc.TopToBottom:Gc.BottomToTop};if(n1(d)===gd.floating)return((C,k,E,P,F)=>{const M=k.shared,V=Hn(j),Y={toolbarButtonBehaviours:[],getApi:W4,onSetup:C.onSetup},ee=[To("toolbar-group-button-events",[sb(Y,V),$h(Y,V)])];return Zh.sketch({lazySink:M.getSink,fetch:()=>ib(fe=>{fe(Le(E(C.items),bk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:j4(C.icon,C.text,C.tooltip,D.some(ee),M.providers,F),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:P}}}})})(r,l,C=>xk(d,{buttons:b,toolbar:C,allowToolbarGroups:!1},l,D.none()),v,f);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},jw={styles:(r,l)=>{const d={type:"advanced",...l.styles};return Ww(r,l,DL(r,d),OL,"StylesTextUpdate","styles")},fontsize:(r,l)=>Ww(r,l,TL(r),kL,"FontSizeTextUpdate","fontsize"),fontsizeinput:(r,l)=>((d,f,b,v)=>{let C=D.none();const k=m1(d,"NodeChange SwitchMode",we=>{const ke=we.getComponent();C=D.some(ke),b.updateInputValue(ke),ao.set(ke,!d.selection.isEditable())}),E=we=>({getComponent:U(we)}),P=Hn(j),F=_n("custom-number-input-events"),M=(we,ke,De)=>{const Ze=C.map(Wt=>mt.getValue(Wt)).getOr(""),it=b.getNewValue(Ze,we),It=Ze.length-`${it}`.length,Tt=C.map(Wt=>Wt.element.dom.selectionStart-It),kt=C.map(Wt=>Wt.element.dom.selectionEnd-It);b.onAction(it,De),C.each(Wt=>{mt.setValue(Wt,it),ke&&(Tt.each(vn=>Wt.element.dom.selectionStart=vn),kt.each(vn=>Wt.element.dom.selectionEnd=vn))})},V=(we,ke)=>M((De,Ze)=>De-Ze,we,ke),Y=(we,ke)=>M((De,Ze)=>De+Ze,we,ke),ee=we=>Ea(we.element).fold(D.none,ke=>(Wa(ke),D.some(!0))),fe=we=>Eh(we.element)?(Re(we.element).each(ke=>Wa(ke)),D.some(!0)):D.none(),pe=(we,ke,De,Ze)=>{const it=Hn(j),It=f.shared.providers.translate(De),Tt=_n("altExecuting"),kt=m1(d,"NodeChange SwitchMode",vn=>{ao.set(vn.getComponent(),!d.selection.isEditable())}),Wt=vn=>{ao.isDisabled(vn)||we(!0)};return Za.sketch({dom:{tag:"button",attributes:{"aria-label":It,"data-mce-name":ke},classes:Ze.concat(ke)},components:[Iw(ke,f.shared.providers.icons)],buttonBehaviours:qt([ao.config({}),ai.config(f.shared.providers.tooltips.getConfig({tooltipText:It})),To(Tt,[sb({onSetup:kt,getApi:E},it),$h({getApi:E},it),Ot(ks(),(vn,In)=>{In.event.raw.keyCode!==SL.space()&&In.event.raw.keyCode!==SL.enter()||ao.isDisabled(vn)||we(!1)}),Ot(vi(),Wt),Ot(Be(),Wt)])]),eventOrder:{[ks()]:[Tt,"keying"],[vi()]:[Tt,"alloy.base.behaviour"],[Be()]:[Tt,"alloy.base.behaviour"],[ma()]:["alloy.base.behaviour",Tt,"tooltipping"],[Fc()]:[Tt,"tooltipping"]}})},Se=kr(pe(we=>V(!1,we),"minus","Decrease font size",[])),ge=kr(pe(we=>Y(!1,we),"plus","Increase font size",[])),me=kr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Fh.sketch({inputBehaviours:qt([ao.config({}),To(F,[sb({onSetup:k,getApi:E},P),$h({getApi:E},P)]),To("input-update-display-text",[Ot(Lu,(we,ke)=>{mt.setValue(we,ke.event.text)}),Ot(Ks(),we=>{b.onAction(mt.getValue(we))}),Ot(Km(),we=>{b.onAction(mt.getValue(we))})]),$n.config({mode:"special",onEnter:we=>(M(de,!0,!0),D.some(!0)),onEscape:ee,onUp:we=>(Y(!0,!1),D.some(!0)),onDown:we=>(V(!0,!1),D.some(!0)),onLeft:(we,ke)=>(ke.cut(),D.none()),onRight:(we,ke)=>(ke.cut(),D.none())})])})],behaviours:qt([so.config({}),$n.config({mode:"special",onEnter:fe,onSpace:fe,onEscape:ee}),To("input-wrapper-events",[Ot(Pn(),we=>{ft([Se,ge],ke=>{const De=un(ke.get(we).element.dom);Eh(De)&&kv(De)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...W(v)?{"data-mce-name":v}:{}}},components:[Se.asSpec(),me.asSpec(),ge.asSpec()],behaviours:qt([so.config({}),$n.config({mode:"flow",focusInside:Zv.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:we=>Eh(we.element)?D.none():(Wa(we.element),D.some(!0))})])}})(r,l,(d=>{const f=()=>d.queryCommandValue("FontSize");return{updateInputValue:b=>Mn(b,Lu,{text:f()}),onAction:(b,v)=>d.execCommand("FontSize",!1,b,{skip_focus:!v}),getNewValue:(b,v)=>{yk(b,["unsupportedLength","empty"]);const C=f(),k=yk(b,["unsupportedLength","empty"]).or(yk(C,["unsupportedLength","empty"])),E=k.map(Y=>Y.value).getOr(16),P=FA(d),F=k.map(Y=>Y.unit).filter(Y=>Y!=="").getOr(P),M=v(E,(Y=>{var ee;return(ee={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[Y])!==null&&ee!==void 0?ee:{step:1}})(F).step),V=`${(Y=>Y>=0)(M)?M:E}${F}`;return V!==C&&((Y,ee)=>{Y.dispatch("FontSizeInputTextUpdate",ee)})(d,{value:V}),V}}})(r),"fontsizeinput"),fontfamily:(r,l)=>Ww(r,l,_L(r),xL,"FontFamilyTextUpdate","fontfamily"),blocks:(r,l)=>Ww(r,l,z4(r),$4,"BlocksTextUpdate","blocks"),align:(r,l)=>Ww(r,l,F4(r),bL,"AlignTextUpdate","align")},xk=(r,l,d,f)=>{const b=(C=>{const k=C.toolbar,E=C.buttons;return k===!1?[]:k===void 0||k===!0?(P=>{const F=Le(uz,M=>{const V=Ht(M.items,Y=>uo(P,Y)||uo(jw,Y));return{name:M.name,items:V}});return Ht(F,M=>M.items.length>0)})(E):h(k)?(P=>{const F=P.split("|");return Le(F,M=>({items:M.trim().split(" ")}))})(k):(P=>se(P,F=>uo(F,"name")&&uo(F,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(l),v=Le(b,C=>{const k=pn(C.items,E=>E.trim().length===0?[]:((P,F,M,V,Y,ee)=>En(F,M.toLowerCase()).orThunk(()=>ee.bind(fe=>sn(fe,pe=>En(F,pe+M.toLowerCase())))).fold(()=>En(jw,M.toLowerCase()).map(fe=>fe(P,Y)),fe=>fe.type!=="grouptoolbarbutton"||V?((pe,Se,ge,me)=>En(dz,pe.type).fold(()=>(console.error("skipping button defined by",pe),D.none()),we=>D.some(we(pe,Se,ge,me))))(fe,Y,P,M.toLowerCase()):(console.warn(`Ignoring the '${M}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(r,l.buttons,E,l.allowToolbarGroups,d,f).toArray());return{title:D.from(r.translate(C.name)),items:k}});return Ht(v,C=>C.items.length>0)},LL=(r,l,d,f)=>{const b=l.mainUi.outerContainer,v=d.toolbar,C=d.buttons;if(se(v,h)){const k=v.map(E=>{const P={toolbar:E,buttons:C,allowToolbarGroups:d.allowToolbarGroups};return xk(r,P,f,D.none())});rs.setToolbars(b,k)}else rs.setToolbar(b,xk(r,d,f,D.none()))},ML=la(),fz=ML.os.isiOS()&&ML.os.version.major<=12;var PK=Object.freeze({__proto__:null,render:(r,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=l,k=Hn(0),E=v.outerContainer;pL(r);const P=un(b.targetNode),F=nt(ht(P));St(P,v.mothership),((ee,fe,pe)=>{Bh(ee)&&St(pe.mainUi.mothership.element,pe.popupUi.mothership),x2(fe,pe.dialogUi.mothership)})(r,F,l),r.on("SkinLoaded",()=>{rs.setSidebar(E,d.sidebar,B_(r)),LL(r,l,d,f),k.set(r.getWin().innerWidth),rs.setMenubar(E,mL(r,d)),rs.setViews(E,d.views),((ee,fe)=>{const{uiMotherships:pe}=fe,Se=ee.dom;let ge=ee.getWin();const me=ee.getDoc().documentElement,we=Hn(ts(ge.innerWidth,ge.innerHeight)),ke=Hn(ts(me.offsetWidth,me.offsetHeight)),De=()=>{const Tt=we.get();Tt.left===ge.innerWidth&&Tt.top===ge.innerHeight||(we.set(ts(ge.innerWidth,ge.innerHeight)),f1(ee))},Ze=()=>{const Tt=ee.getDoc().documentElement,kt=ke.get();kt.left===Tt.offsetWidth&&kt.top===Tt.offsetHeight||(ke.set(ts(Tt.offsetWidth,Tt.offsetHeight)),f1(ee))},it=Tt=>{((kt,Wt)=>{kt.dispatch("ScrollContent",Wt)})(ee,Tt)};Se.bind(ge,"resize",De),Se.bind(ge,"scroll",it);const It=d2(un(ee.getBody()),"load",Ze);ee.on("hide",()=>{ft(pe,Tt=>{bo(Tt.element,"display","none")})}),ee.on("show",()=>{ft(pe,Tt=>{Er(Tt.element,"display")})}),ee.on("NodeChange",Ze),ee.on("remove",()=>{It.unbind(),Se.unbind(ge,"resize",De),Se.unbind(ge,"scroll",it),ge=null})})(r,l)});const M=rs.getSocket(E).getOrDie("Could not find expected socket element");if(fz){rl(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ee=((pe,Se)=>{let ge=null;return{cancel:()=>{I(ge)||(clearTimeout(ge),ge=null)},throttle:(...me)=>{I(ge)&&(ge=setTimeout(()=>{ge=null,pe.apply(null,me)},20))}}})(()=>{r.dispatch("ScrollContent")}),fe=Ka(M.element,"scroll",ee.throttle);r.on("remove",fe.unbind)}IN(r,l),r.addCommand("ToggleSidebar",(ee,fe)=>{rs.toggleSidebar(E,fe),(pe=>{pe.dispatch("ToggleSidebar")})(r)}),r.addQueryValueHandler("ToggleSidebar",()=>{var ee;return(ee=rs.whichSidebar(E))!==null&&ee!==void 0?ee:""}),r.addCommand("ToggleView",(ee,fe)=>{if(rs.toggleView(E,fe)){const pe=E.element;v.mothership.broadcastOn([B()],{target:pe}),ft(C,Se=>{Se.broadcastOn([B()],{target:pe})}),I(rs.whichView(E))&&(r.focus(),r.nodeChanged(),rs.refreshToolbar(E)),(Se=>{Se.dispatch("ToggleView")})(r)}}),r.addQueryValueHandler("ToggleView",()=>{var ee;return(ee=rs.whichView(E))!==null&&ee!==void 0?ee:""});const V=n1(r);V!==gd.sliding&&V!==gd.floating||r.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ee=r.getWin().innerWidth;ee!==k.get()&&(rs.refreshToolbar(l.mainUi.outerContainer),k.set(ee))});const Y={setEnabled:ee=>{u1(l,!ee)},isEnabled:()=>!ao.isDisabled(E)};return{iframeContainer:M.element.dom,editorContainer:E.element.dom,api:Y}}});const Zw=r=>/^[0-9\.]+(|px)$/i.test(""+r)?D.some(parseInt(""+r,10)):D.none(),xb=r=>J(r)?r+"px":r,Gw=(r,l,d)=>{const f=l.filter(v=>r<v),b=d.filter(v=>r>v);return f.or(b).getOr(r)},Z4=r=>{const l=H2(r),d=U2(r),f=py(r);return Zw(l).map(b=>Gw(b,d,f))},{ToolbarLocation:G4,ToolbarMode:BL}=q2,mz=(r,l,d,f,b)=>{const{mainUi:v,uiMotherships:C}=d,k=gy.DOM,E=o1(r),P=Mh(r),F=py(r).or(Z4(r)),M=f.shared.header,V=M.isPositionedAtTop,Y=n1(r),ee=Y===BL.sliding||Y===BL.floating,fe=Hn(!1),pe=()=>fe.get()&&!r.removed,Se=ke=>ee?ke.fold(U(0),De=>De.components().length>1?Os(De.components()[1].element):0):0,ge=()=>{ft(C,ke=>{ke.broadcastOn([z()],{})})},me=ke=>{if(!pe())return;E||b.on(it=>{const It=F.getOrThunk(()=>_i().width-sa(l).left-10);bo(it.element,"max-width",It+"px")});const De=ns(),Ze=!(E||E||!(Hl(v.outerContainer.element).left+sl(v.outerContainer.element)>=window.innerWidth-40||oi(v.outerContainer.element,"width").isSome())||(bo(v.outerContainer.element,"position","absolute"),bo(v.outerContainer.element,"left","0px"),Er(v.outerContainer.element,"width"),0));if(ee&&rs.refreshToolbar(v.outerContainer),!E){const it=ns(),It=ur(De.left!==it.left,De);((Tt,kt)=>{b.on(Wt=>{const vn=rs.getToolbar(v.outerContainer),In=Se(vn),Kn=di(l),lo=((Do,or)=>Bh(Do)?Rp(or):D.none())(r,v.outerContainer.element),Uo=lo.fold(()=>Kn.x,Do=>{const or=di(Do);return dr(Do,Cn())?Kn.x:Kn.x-or.x}),ss=ur(Tt,Math.ceil(v.outerContainer.element.dom.getBoundingClientRect().width)).filter(Do=>Do>150).map(Do=>{const or=kt.getOr(ns()),Xn=window.innerWidth-(Uo-or.left),gs=Math.max(Math.min(Do,Xn),150);return Xn<Do&&bo(v.outerContainer.element,"width",gs+"px"),{width:gs+"px"}}).getOr({width:"max-content"}),ms={position:"absolute",left:Math.round(Uo)+"px",top:lo.fold(()=>V()?Math.max(Kn.y-Os(Wt.element)+In,0):Kn.bottom,Do=>{var or;const Xn=di(Do),gs=(or=Do.dom.scrollTop)!==null&&or!==void 0?or:0,Vr=dr(Do,Cn())?Math.max(Kn.y-Os(Wt.element)+In,0):Kn.y-Xn.y+gs-Os(Wt.element)+In;return V()?Vr:Kn.bottom})+"px"};rl(v.outerContainer.element,{...ms,...ss})})})(Ze,It),It.each(Tt=>{If(Tt.left,it.top)})}P&&b.on(ke),ge()},we=()=>!(E||!P||!pe())&&b.get().exists(ke=>{const De=M.getDockingMode(),Ze=(It=>{switch(qp(r)){case G4.auto:const Tt=rs.getToolbar(v.outerContainer),kt=Se(Tt),Wt=Os(It.element)-kt,vn=di(l);if(vn.y>Wt)return"top";{const In=ol(l),Kn=Math.max(In.dom.scrollHeight,Os(In));return vn.bottom<Kn-Wt||Gi().bottom<vn.bottom-Wt?"bottom":"top"}case G4.bottom:return"bottom";case G4.top:default:return"top"}})(ke);return Ze!==De&&(it=Ze,b.on(It=>{ds.setModes(It,[it]),M.setDockingMode(it);const Tt=V()?Gc.TopToBottom:Gc.BottomToTop;cn(It.element,Dl,Tt)}),!0);var it});return{isVisible:pe,isPositionedAtTop:V,show:()=>{fe.set(!0),bo(v.outerContainer.element,"display","flex"),k.addClass(r.getBody(),"mce-edit-focus"),ft(C,ke=>{Er(ke.element,"display")}),we(),Bh(r)?me(ke=>ds.isDocked(ke)?ds.reset(ke):ds.refresh(ke)):me(ds.refresh)},hide:()=>{fe.set(!1),bo(v.outerContainer.element,"display","none"),k.removeClass(r.getBody(),"mce-edit-focus"),ft(C,ke=>{bo(ke.element,"display","none")})},update:me,updateMode:()=>{we()&&me(ds.reset)},repositionPopups:ge}},FL=(r,l)=>{const d=di(r);return{pos:l?d.y:d.bottom,bounds:d}};var gz=Object.freeze({__proto__:null,render:(r,l,d,f,b)=>{const{mainUi:v}=l,C=Or(),k=un(b.targetNode),E=mz(r,k,l,f,C),P=II(r);XV(r);const F=()=>{if(C.isSet())return void E.show();C.set(rs.getHeader(v.outerContainer).getOrDie());const V=H_(r);Bh(r)?(St(k,v.mothership),St(k,l.popupUi.mothership)):x2(V,v.mothership),x2(V,l.dialogUi.mothership);const Y=()=>{LL(r,l,d,f),rs.setMenubar(v.outerContainer,mL(r,d)),E.show(),((ee,fe,pe,Se)=>{const ge=Hn(FL(fe,pe.isPositionedAtTop())),me=Ze=>{const{pos:it,bounds:It}=FL(fe,pe.isPositionedAtTop()),{pos:Tt,bounds:kt}=ge.get(),Wt=It.height!==kt.height||It.width!==kt.width;ge.set({pos:it,bounds:It}),Wt&&f1(ee,Ze),pe.isVisible()&&(Tt!==it?pe.update(ds.reset):Wt&&(pe.updateMode(),pe.repositionPopups()))};Se||(ee.on("activate",pe.show),ee.on("deactivate",pe.hide)),ee.on("SkinLoaded ResizeWindow",()=>pe.update(ds.reset)),ee.on("NodeChange keydown",Ze=>{requestAnimationFrame(()=>me(Ze))});let we=0;const ke=w3(()=>pe.update(ds.refresh),33);ee.on("ScrollWindow",()=>{const Ze=ns().left;Ze!==we&&(we=Ze,ke.throttle()),pe.updateMode()}),Bh(ee)&&ee.on("ElementScroll",Ze=>{pe.update(ds.refresh)});const De=Pc();De.set(d2(un(ee.getBody()),"load",Ze=>me(Ze.raw))),ee.on("remove",()=>{De.clear()})})(r,k,E,P),r.nodeChanged()};P?r.once("SkinLoaded",Y):Y()};r.on("show",F),r.on("hide",E.hide),P||(r.on("focus",F),r.on("blur",E.hide)),r.on("init",()=>{(r.hasFocus()||P)&&F()}),IN(r,l);const M={show:F,hide:E.hide,setEnabled:V=>{u1(l,!V)},isEnabled:()=>!ao.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:M}}});const $L="contexttoolbar-hide",VL=(r,l)=>Ot(ZS,(d,f)=>{const b=(v=>({hide:()=>No(v,sv()),getValue:()=>mt.getValue(v)}))(r.get(d));l.onAction(b,f.event.buttonApi)}),hz=(r,l)=>{const d=r.label.fold(()=>({}),v=>({"aria-label":v})),f=kr(Fh.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:r.initValue(),inputAttributes:d,selectOnFocus:!0,inputBehaviours:qt([$n.config({mode:"special",onEnter:v=>b.findPrimary(v).map(C=>(Hf(C),!0)),onLeft:(v,C)=>(C.cut(),D.none()),onRight:(v,C)=>(C.cut(),D.none())})])})),b=((v,C,k)=>{const E=Le(C,P=>kr(((F,M,V)=>(Y=>Y.type==="contextformtogglebutton")(M)?((Y,ee,fe)=>{const{primary:pe,...Se}=ee.original,ge=Va(rS({...Se,type:"togglebutton",onAction:j}));return PL(ge,fe,[VL(Y,ee)])})(F,M,V):((Y,ee,fe)=>{const{primary:pe,...Se}=ee.original,ge=Va(CN({...Se,type:"button",onAction:j}));return NL(ge,fe,[VL(Y,ee)])})(F,M,V))(v,P,k)));return{asSpecs:()=>Le(E,P=>P.asSpec()),findPrimary:P=>sn(C,(F,M)=>F.primary?D.from(E[M]).bind(V=>V.getOpt(P)).filter(Me(ao.isDisabled)):D.none())}})(f,r.commands,l);return[{title:D.none(),items:[f.asSpec()]},{title:D.none(),items:b.asSpecs()}]},zL=(r,l,d)=>l.bottom-r.y>=d&&r.bottom-l.y>=d,q4=r=>{const l=(d=>{const f=d.getBoundingClientRect();if(f.height<=0&&f.width<=0){const b=ze(un(d.startContainer),d.startOffset).element;return(Sa(b)?ka(b):D.some(b)).filter(ls).map(v=>v.dom.getBoundingClientRect()).getOr(f)}return f})(r.selection.getRng());if(r.inline){const d=ns();return Lo(d.left+l.left,d.top+l.top,l.width,l.height)}{const d=kl(un(r.getBody()));return Lo(d.x+l.left,d.y+l.top,l.width,l.height)}},HL=(r,l,d,f=0)=>{const b=_i(window),v=di(un(r.getContentAreaContainer())),C=j2(r)||Z2(r)||G2(r),{x:k,width:E}=((P,F,M)=>{const V=Math.max(P.x+M,F.x);return{x:V,width:Math.min(P.right-M,F.right)-V}})(v,b,f);if(r.inline&&!C)return Lo(k,b.y,E,b.height);{const P=l.header.isPositionedAtTop(),{y:F,bottom:M}=((V,Y,ee,fe,pe,Se)=>{const ge=un(V.getContainer()),me=fs(ge,".tox-editor-header").getOr(ge),we=di(me),ke=we.y>=Y.bottom,De=fe&&!ke;if(V.inline&&De)return{y:Math.max(we.bottom+Se,ee.y),bottom:ee.bottom};if(V.inline&&!De)return{y:ee.y,bottom:Math.min(we.y-Se,ee.bottom)};const Ze=pe==="line"?di(ge):Y;return De?{y:Math.max(we.bottom+Se,ee.y),bottom:Math.min(Ze.bottom-Se,ee.bottom)}:{y:Math.max(Ze.y+Se,ee.y),bottom:Math.min(we.y-Se,ee.bottom)}})(r,v,b,P,d,f);return Lo(k,F,E,M-F)}},Y4={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},E1={maxHeightFunction:Ah(),maxWidthFunction:E4()},wb=r=>r==="node",pz=(r,l,d,f,b)=>{const v=q4(r),C=f.lastElement().exists(k=>dr(d,k));return((k,E)=>{const P=k.selection.getRng(),F=ze(un(P.startContainer),P.startOffset);return P.startContainer===P.endContainer&&P.startOffset===P.endOffset-1&&dr(F.element,E)})(r,d)?C?sk:ir:C?((k,E,P)=>{const F=oi(k,"position");bo(k,"position",E);const M=zL(v,di(l),-20)&&!f.isReposition()?o4:sk;return F.each(V=>bo(k,"position",V)),M})(l,f.getMode()):(f.getMode()==="fixed"?b.y+ns().top:b.y)+(Os(l)+12)<=v.y?ir:Eg},UL=(r,l,d,f)=>{const b=C=>(k,E,P,F,M)=>({...pz(r,F,C,d,M)({...k,y:M.y,height:M.height},E,P,F,M),alwaysFit:!0}),v=C=>wb(f)?[b(C)]:[];return l?{onLtr:C=>[Gs,Ns,Ps,si,Fr,As].concat(v(C)),onRtl:C=>[Gs,Ps,Ns,Fr,si,As].concat(v(C))}:{onLtr:C=>[As,Gs,si,Ns,Fr,Ps].concat(v(C)),onRtl:C=>[As,Gs,Fr,Ps,si,Ns].concat(v(C))}},wk=(r,l)=>{const d=Ht(l,v=>v.predicate(r.dom)),{pass:f,fail:b}=po(d,v=>v.type==="contexttoolbar");return{contextToolbars:f,contextForms:b}},Ck=(r,l)=>{const d={},f=[],b=[],v={},C={},k=Ut(r);return ft(k,E=>{const P=r[E];P.type==="contextform"?((F,M)=>{const V=Va(_s("ContextForm",B7,M));d[F]=V,V.launch.map(Y=>{v["form:"+F]={...M.launch,type:Y.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{l(V)}}}),V.scope==="editor"?b.push(V):f.push(V),C[F]=V})(E,P):P.type==="contexttoolbar"&&((F,M)=>{var V;(V=M,_s("ContextToolbar",SN,V)).each(Y=>{M.scope==="editor"?b.push(Y):f.push(Y),C[F]=Y})})(E,P)}),{forms:d,inNodeScope:f,inEditorScope:b,lookupTable:C,formNavigators:v}},WL=_n("forward-slide"),Wy=_n("backward-slide"),A1=_n("change-slide-event"),X4="tox-pop--resizing",J4="tox-pop--transition",bz=(r,l,d,f)=>{const b=f.backstage,v=b.shared,C=la().deviceType.isTouch,k=Or(),E=Or(),P=Or(),F=Ji((De=>{const Ze=Hn([]);return bs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:it=>{Ze.set([]),bs.getContent(it).each(It=>{Er(It.element,"visibility")}),Is(it.element,X4),Er(it.element,"width")},inlineBehaviours:qt([To("context-toolbar-events",[Uf(ov(),(it,It)=>{It.event.raw.propertyName==="width"&&(Is(it.element,X4),Er(it.element,"width"))}),Ot(A1,(it,It)=>{const Tt=it.element;Er(Tt,"width");const kt=Ii(Tt);bs.setContent(it,It.event.contents),Es(Tt,X4);const Wt=Ii(Tt);bo(Tt,"width",kt+"px"),bs.getContent(it).each(vn=>{It.event.focus.bind(In=>(Wa(In),qs(Tt))).orThunk(()=>($n.focusIn(vn),Su(ht(Tt))))}),setTimeout(()=>{bo(it.element,"width",Wt+"px")},0)}),Ot(WL,(it,It)=>{bs.getContent(it).each(Tt=>{Ze.set(Ze.get().concat([{bar:Tt,focus:Su(ht(it.element))}]))}),Mn(it,A1,{contents:It.event.forwardContents,focus:D.none()})}),Ot(Wy,(it,It)=>{je(Ze.get()).each(Tt=>{Ze.set(Ze.get().slice(0,Ze.get().length-1)),Mn(it,A1,{contents:ul(Tt.bar),focus:Tt.focus})})})]),$n.config({mode:"special",onEscape:it=>je(Ze.get()).fold(()=>De.onEscape(),It=>(No(it,Wy),D.some(!0)))})]),lazySink:()=>Ho.value(De.sink)})})({sink:d,onEscape:()=>(r.focus(),D.some(!0))})),M=()=>{const De=P.get().getOr("node"),Ze=wb(De)?1:0;return HL(r,v,De,Ze)},V=()=>!(r.removed||C()&&b.isContextMenuOpen()),Y=()=>{if(V()){const De=M(),Ze=ci(P.get(),"node")?((it,It)=>It.filter(Tt=>mn(Tt)&&wl(Tt)).map(kl).getOrThunk(()=>q4(it)))(r,k.get()):q4(r);return De.height<=0||!zL(Ze,De,.01)}return!0},ee=()=>{k.clear(),E.clear(),P.clear(),bs.hide(F)},fe=()=>{if(bs.isOpen(F)){const De=F.element;Er(De,"display"),Y()?bo(De,"display","none"):(E.set(0),bs.reposition(F))}},pe=De=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[De],behaviours:qt([$n.config({mode:"acyclic"}),To("pop-dialog-wrap-events",[as(Ze=>{r.shortcuts.add("ctrl+F9","focus statusbar",()=>$n.focusIn(Ze))}),ld(Ze=>{r.shortcuts.remove("ctrl+F9")})])])}),Se=ia(()=>Ck(l,De=>{const Ze=ge([De]);Mn(F,WL,{forwardContents:pe(Ze)})})),ge=De=>{const{buttons:Ze}=r.ui.registry.getAll(),it={...Ze,...Se().formNavigators},It=n1(r)===gd.scrolling?gd.scrolling:gd.default,Tt=Kt(Le(De,kt=>kt.type==="contexttoolbar"?((Wt,vn)=>xk(r,{buttons:Wt,toolbar:vn.items,allowToolbarGroups:!1},f.backstage,D.some(["form:"])))(it,kt):((Wt,vn)=>hz(Wt,vn))(kt,v.providers)));return R4({type:It,uid:_n("context-toolbar"),initGroups:Tt,onEscape:D.none,cyclicKeying:!0,providers:v.providers})},me=(De,Ze)=>{if(ke.cancel(),!V())return;const it=ge(De),It=De[0].position,Tt=((Wt,vn)=>{const In=Wt==="node"?v.anchors.node(vn):v.anchors.cursor(),Kn=((lo,Uo,ss,ms)=>Uo==="line"?{bubble:pc(12,0,Y4),layouts:{onLtr:()=>[z0],onRtl:()=>[H0]},overrides:E1}:{bubble:pc(0,12,Y4,1/12),layouts:UL(lo,ss,ms,Uo),overrides:E1})(r,Wt,C(),{lastElement:k.get,isReposition:()=>ci(E.get(),0),getMode:()=>ba.getMode(d)});return Br(In,Kn)})(It,Ze);P.set(It),E.set(1);const kt=F.element;Er(kt,"display"),(Wt=>ci(Xt(Wt,k.get(),dr),!0))(Ze)||(Is(kt,J4),ba.reset(d,F)),bs.showWithinBounds(F,pe(it),{anchor:Tt,transition:{classes:[J4],mode:"placement"}},()=>D.some(M())),Ze.fold(k.clear,k.set),Y()&&bo(kt,"display","none")};let we=!1;const ke=w3(()=>{!r.hasFocus()||r.removed||we||(cl(F.element,J4)?ke.throttle():((De,Ze)=>{const it=un(Ze.getBody()),It=kt=>dr(kt,it),Tt=un(Ze.selection.getNode());return(kt=>!It(kt)&&!Ms(it,kt))(Tt)?D.none():((kt,Wt,vn)=>{const In=wk(kt,Wt);if(In.contextForms.length>0)return D.some({elem:kt,toolbars:[In.contextForms[0]]});{const Kn=wk(kt,vn);if(Kn.contextForms.length>0)return D.some({elem:kt,toolbars:[Kn.contextForms[0]]});if(In.contextToolbars.length>0||Kn.contextToolbars.length>0){const lo=(Uo=>{if(Uo.length<=1)return Uo;{const ss=Xn=>kn(Uo,gs=>gs.position===Xn),ms=Xn=>Ht(Uo,gs=>gs.position===Xn),Do=ss("selection"),or=ss("node");if(Do||or){if(or&&Do){const Xn=ms("node"),gs=Le(ms("selection"),Vr=>({...Vr,position:"node"}));return Xn.concat(gs)}return ms(Do?"selection":"node")}return ms("line")}})(In.contextToolbars.concat(Kn.contextToolbars));return D.some({elem:kt,toolbars:lo})}return D.none()}})(Tt,De.inNodeScope,De.inEditorScope).orThunk(()=>((kt,Wt,vn)=>kt(Wt)?D.none():lh(Wt,In=>{if(ls(In)){const{contextToolbars:Kn,contextForms:lo}=wk(In,vn.inNodeScope),Uo=lo.length>0?lo:(ss=>{if(ss.length<=1)return ss;{const ms=Do=>Q(ss,or=>or.position===Do);return ms("selection").orThunk(()=>ms("node")).orThunk(()=>ms("line")).map(Do=>Do.position).fold(()=>[],Do=>Ht(ss,or=>or.position===Do))}})(Kn);return Uo.length>0?D.some({elem:In,toolbars:Uo}):D.none()}return D.none()},kt))(It,Tt,De))})(Se(),r).fold(ee,De=>{me(De.toolbars,D.some(De.elem))}))},17);r.on("init",()=>{r.on("remove",ee),r.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",fe),r.on("click keyup focus SetContent",ke.throttle),r.on($L,ee),r.on("contexttoolbar-show",De=>{const Ze=Se();En(Ze.lookupTable,De.toolbarKey).each(it=>{me([it],ur(De.target!==r,De.target)),bs.getContent(F).each($n.focusIn)})}),r.on("focusout",De=>{R_.setEditorTimeout(r,()=>{qs(d.element).isNone()&&qs(F.element).isNone()&&ee()},0)}),r.on("SwitchMode",()=>{r.mode.isReadOnly()&&ee()}),r.on("ExecCommand",({command:De})=>{De.toLowerCase()==="toggleview"&&ee()}),r.on("AfterProgressState",De=>{De.state?ee():r.hasFocus()&&ke.throttle()}),r.on("dragstart",()=>{we=!0}),r.on("dragend drop",()=>{we=!1}),r.on("NodeChange",De=>{qs(F.element).fold(ke.throttle,j)})})},KL=(r,l)=>{const d=()=>{const f=l.getOptions(r),b=l.getCurrent(r).map(l.hash),v=Or();return Le(f,C=>({type:"togglemenuitem",text:l.display(C),onSetup:k=>{const E=F=>{F&&(v.on(M=>M.setActive(!1)),v.set(k)),k.setActive(F)};E(ci(b,l.hash(C)));const P=l.watcher(r,C,E);return()=>{v.clear(),P()}},onAction:()=>l.setCurrent(r,C)}))};r.ui.registry.addMenuButton(l.name,{tooltip:l.text,icon:l.icon,fetch:f=>f(d()),onSetup:l.onToolbarSetup}),r.ui.registry.addNestedMenuItem(l.name,{type:"nestedmenuitem",text:l.text,getSubmenuItems:d,onSetup:l.onMenuSetup})},vz=r=>{KL(r,(l=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:$I,hash:d=>((f,b)=>yk(f,["fixed","relative","empty"]).map(({value:v,unit:C})=>v+C))(d).getOr(d),display:de,watcher:(d,f,b)=>d.formatter.formatChanged("lineheight",b,!1,{value:f}).unbind,getCurrent:d=>D.from(d.queryCommandValue("LineHeight")),setCurrent:(d,f)=>d.execCommand("LineHeight",!1,f),onToolbarSetup:Fi(l),onMenuSetup:Fi(l)}))(r)),(l=>D.from(LA(l)).map(d=>({name:"language",text:"Language",icon:"language",getOptions:U(d),hash:f=>N(f.customCode)?f.code:`${f.code}/${f.customCode}`,display:f=>f.title,watcher:(f,b,v)=>{var C;return f.formatter.formatChanged("lang",v,!1,{value:b.code,customValue:(C=b.customCode)!==null&&C!==void 0?C:null}).unbind},getCurrent:f=>{const b=un(f.selection.getNode());return ch(b,v=>D.some(v).filter(ls).bind(C=>Qo(C,"lang").map(k=>({code:k,customCode:Qo(C,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(f,b)=>f.execCommand("Lang",!1,b),onToolbarSetup:f=>{const b=Pc();return f.setActive(l.formatter.match("lang",{},void 0,!0)),b.set(l.formatter.formatChanged("lang",f.setActive,!0)),Ay(b.clear,Fi(l)(f))},onMenuSetup:Fi(l)})))(r).each(l=>KL(r,l))},yz=r=>m1(r,"NodeChange",l=>{l.setEnabled(r.queryCommandState("outdent")&&r.selection.isEditable())}),qw=(r,l)=>d=>{d.setActive(l.get());const f=b=>{l.set(b.state),d.setActive(b.state)};return r.on("PastePlainTextToggle",f),Ay(()=>r.off("PastePlainTextToggle",f),Fi(r)(d))},Q4=(r,l)=>()=>{r.execCommand("mceToggleFormat",!1,l)},eO=r=>{(l=>{(d=>{Kh.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(f,b)=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:fm(d,f.name),onAction:Q4(d,f.name),shortcut:f.shortcut})});for(let f=1;f<=6;f++){const b="h"+f,v=`Access+${f}`;d.ui.registry.addToggleButton(b,{text:b.toUpperCase(),tooltip:"Heading "+f,onSetup:fm(d,b),onAction:Q4(d,b),shortcut:v})}})(l),(d=>{Kh.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yc(d,f.action),shortcut:f.shortcut})}),Kh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],f=>{d.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onSetup:Fi(d),onAction:yc(d,f.action)})})})(l),(d=>{Kh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yc(d,f.action),onSetup:fm(d,f.name)})})})(l)})(r),(l=>{Kh.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onAction:yc(l,d.action)})}),Kh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],d=>{l.ui.registry.addMenuItem(d.name,{text:d.text,icon:d.icon,shortcut:d.shortcut,onSetup:Fi(l),onAction:yc(l,d.action)})}),l.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Fi(l),onAction:Q4(l,"code")})})(r)},_k=(r,l)=>m1(r,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d=>{d.setEnabled(!r.mode.isReadOnly()&&r.undoManager[l]())}),xz=r=>m1(r,"VisualAid",l=>{l.setActive(r.hasVisual)}),wz=(r,l)=>{(d=>{ft([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{d.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:yc(d,f.cmd),onSetup:fm(d,f.name)})}),d.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Fi(d),onAction:yc(d,"JustifyNone")})})(r),eO(r),((d,f)=>{((b,v)=>{const C=Uy(v,F4(b));b.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=Uy(v,_L(b));b.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C={type:"advanced",...v.styles},k=Uy(v,DL(b,C));b.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Fi(b),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(d,f),((b,v)=>{const C=Uy(v,z4(b));b.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f),((b,v)=>{const C=Uy(v,TL(b));b.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Fi(b),getSubmenuItems:()=>C.items.validateItems(C.getStyleItems())})})(d,f)})(r,l),(d=>{(f=>{f.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_k(f,"hasUndo"),onAction:yc(f,"undo")}),f.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_k(f,"hasRedo"),onAction:yc(f,"redo")})})(d),(f=>{f.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:_k(f,"hasUndo"),onAction:yc(f,"undo"),shortcut:"Meta+Z"}),f.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:_k(f,"hasRedo"),onAction:yc(f,"redo"),shortcut:"Meta+Y"})})(d)})(r),(d=>{(k=>{k.addCommand("mceApplyTextcolor",(E,P)=>{((F,M,V)=>{F.undoManager.transact(()=>{F.focus(),F.formatter.apply(M,{value:V}),F.nodeChanged()})})(k,E,P)}),k.addCommand("mceRemoveTextcolor",E=>{((P,F)=>{P.undoManager.transact(()=>{P.focus(),P.formatter.remove(F,{value:null},void 0,!0),P.nodeChanged()})})(k,E)})})(d);const f=JN(d),b=QN(d),v=Hn(f),C=Hn(b);NT(d,"forecolor","forecolor",v),NT(d,"backcolor","hilitecolor",C),Oy(d,"forecolor","forecolor","Text color",v),Oy(d,"backcolor","hilitecolor","Background color",C)})(r),(d=>{(f=>{f.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:yc(f,"mceToggleVisualAid")})})(d),(f=>{f.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:xz(f),onAction:yc(f,"mceToggleVisualAid")})})(d)})(r),(d=>{(f=>{f.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:yz(f),onAction:yc(f,"outdent")}),f.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Fi(f),onAction:yc(f,"indent")})})(d)})(r),vz(r),(d=>{const f=Hn(BI(d)),b=()=>d.execCommand("mceTogglePlainTextPaste");d.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:b,onSetup:qw(d,f)}),d.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:b,onSetup:qw(d,f)})})(r)},jL=r=>h(r)?r.split(/[ ,]/):r,ZL=r=>l=>l.options.get(r),GL=ZL("contextmenu_never_use_native"),Cz=ZL("contextmenu_avoid_overlap"),tO=r=>{const l=r.ui.registry.getAll().contextMenus,d=r.options.get("contextmenu");return r.options.isSet("contextmenu")?d:Ht(d,f=>uo(l,f))},Yw=(r,l)=>({type:"makeshift",x:r,y:l}),qL=r=>r.type==="longpress"||r.type.indexOf("touch")===0,_z=(r,l)=>l.type==="contextmenu"||l.type==="longpress"?r.inline?(d=>{if(qL(d)){const f=d.touches[0];return Yw(f.pageX,f.pageY)}return Yw(d.pageX,d.pageY)})(l):((d,f)=>{const b=gy.DOM.getPos(d);return((v,C,k)=>Yw(v.x+C,v.y+k))(f,b.x,b.y)})(r.getContentAreaContainer(),(d=>{if(qL(d)){const f=d.touches[0];return Yw(f.clientX,f.clientY)}return Yw(d.clientX,d.clientY)})(l)):YL(r),YL=r=>({type:"selection",root:un(r.selection.getNode())}),XL=(r,l,d)=>{switch(d){case"node":return(f=>({type:"node",node:D.some(un(f.selection.getNode())),root:un(f.getBody())}))(r);case"point":return _z(r,l);case"selection":return YL(r)}},JL=(r,l,d,f,b,v)=>{const C=d(),k=XL(r,l,v);w1(C,dm.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:D.none()}).map(E=>{l.preventDefault(),bs.showMenuAt(b,{anchor:k},{menu:{markers:i1("normal")},data:E})})},QL={onLtr:()=>[Gs,Ns,Ps,si,Fr,As,ir,Eg,Bw,vb,wc,xc],onRtl:()=>[Gs,Ps,Ns,Fr,si,As,ir,Eg,wc,xc,Bw,vb]},Sz={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},kz=(r,l,d,f,b,v)=>{const C=la(),k=C.os.isiOS(),E=C.os.isMacOS(),P=C.os.isAndroid(),F=C.deviceType.isTouch(),M=()=>{const V=d();((Y,ee,fe,pe,Se,ge,me)=>{const we=((ke,De,Ze)=>{const it=XL(ke,De,Ze);return{bubble:pc(0,Ze==="point"?12:0,Sz),layouts:QL,overrides:{maxWidthFunction:E4(),maxHeightFunction:Ah()},...it}})(Y,ee,ge);w1(fe,dm.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:D.none()}).map(ke=>{ee.preventDefault();const De=me?gl.HighlightMenuAndItem:gl.HighlightNone;bs.showMenuWithinBounds(Se,{anchor:we},{menu:{markers:i1("normal"),highlightOnOpen:De},data:ke,type:"horizontal"},()=>D.some(HL(Y,pe.shared,ge==="node"?"node":"selection"))),Y.dispatch($L)})})(r,l,V,f,b,v,!(P||k||E&&F))};if((E||k)&&v!=="node"){const V=()=>{(Y=>{const ee=Y.selection.getRng(),fe=()=>{R_.setEditorTimeout(Y,()=>{Y.selection.setRng(ee)},10),ge()};Y.once("touchend",fe);const pe=me=>{me.preventDefault(),me.stopImmediatePropagation()};Y.on("mousedown",pe,!0);const Se=()=>ge();Y.once("longpresscancel",Se);const ge=()=>{Y.off("touchend",fe),Y.off("longpresscancel",Se),Y.off("mousedown",pe)}})(r),M()};((Y,ee)=>{const fe=Y.selection;if(fe.isCollapsed()||ee.touches.length<1)return!1;{const pe=ee.touches[0],Se=fe.getRng();return h2(Y.getWin(),Qf.domRange(Se)).exists(ge=>ge.left<=pe.clientX&&ge.right>=pe.clientX&&ge.top<=pe.clientY&&ge.bottom>=pe.clientY)}})(r,l)?V():(r.once("selectionchange",V),r.once("touchend",()=>r.off("selectionchange",V)))}else M()},eM=r=>h(r)?r==="|":r.type==="separator",nO={type:"separator"},tM=r=>{const l=d=>({text:d.text,icon:d.icon,enabled:d.enabled,shortcut:d.shortcut});if(h(r))return r;switch(r.type){case"separator":return nO;case"submenu":return{type:"nestedmenuitem",...l(r),getSubmenuItems:()=>{const f=r.getSubmenuItems();return h(f)?f:Le(f,tM)}};default:const d=r;return{type:"menuitem",...l(d),onAction:he(d.onAction)}}},oO=(r,l)=>{if(l.length===0)return r;const d=je(r).filter(f=>!eM(f)).fold(()=>[],f=>[nO]);return r.concat(d).concat(l).concat([nO])},T1=(r,l)=>!(d=>d.type==="longpress"||uo(d,"touches"))(l)&&(l.button!==2||l.target===r.getBody()&&l.pointerType===""),nM=(r,l)=>T1(r,l)?r.selection.getStart(!0):l.target,Ez=(r,l,d)=>{const f=la().deviceType.isTouch,b=Ji(bs.sketch({dom:{tag:"div"},lazySink:l,onEscape:()=>r.focus(),onShow:()=>d.setContextMenuState(!0),onHide:()=>d.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:qt([To("dismissContextMenu",[Ot(uh(),(k,E)=>{O.close(k),r.focus()})])])})),v=()=>bs.hide(b),C=k=>{if(GL(r)&&k.preventDefault(),((P,F)=>F.ctrlKey&&!GL(P))(r,k)||(P=>tO(P).length===0)(r))return;const E=((P,F)=>{const M=Cz(P),V=T1(P,F)?"selection":"point";if(xl(M)){const Y=nM(P,F);return Ry(un(Y),M)?"node":V}return V})(r,k);(f()?kz:JL)(r,k,()=>{const P=nM(r,k),F=r.ui.registry.getAll(),M=tO(r);return((V,Y,ee)=>{const fe=nn(Y,(pe,Se)=>En(V,Se.toLowerCase()).map(ge=>{const me=ge.update(ee);if(h(me)&&xl(Rc(me)))return oO(pe,me.split(" "));if(T(me)&&me.length>0){const we=Le(me,tM);return oO(pe,we)}return pe}).getOrThunk(()=>pe.concat([Se])),[]);return fe.length>0&&eM(fe[fe.length-1])&&fe.pop(),fe})(F.contextMenus,M,P)},d,b,E)};r.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");r.on(k,v),r.on("longpress contextmenu",C)})},rO=ec([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),O1=r=>l=>l.translate(-r.left,-r.top),Cc=r=>l=>l.translate(r.left,r.top),gm=r=>(l,d)=>nn(r,(f,b)=>b(f),ts(l,d)),Xw=(r,l,d)=>r.fold(gm([Cc(d),O1(l)]),gm([O1(l)]),gm([])),Ky=(r,l,d)=>r.fold(gm([Cc(d)]),gm([]),gm([Cc(l)])),oM=(r,l,d)=>r.fold(gm([]),gm([O1(d)]),gm([Cc(l),O1(d)])),rM=(r,l,d)=>{const f=r.fold((b,v)=>({position:D.some("absolute"),left:D.some(b+"px"),top:D.some(v+"px")}),(b,v)=>({position:D.some("absolute"),left:D.some(b-d.left+"px"),top:D.some(v-d.top+"px")}),(b,v)=>({position:D.some("fixed"),left:D.some(b+"px"),top:D.some(v+"px")}));return{right:D.none(),bottom:D.none(),...f}},sO=(r,l,d,f)=>{const b=(v,C)=>(k,E)=>{const P=v(l,d,f);return C(k.getOr(P.left),E.getOr(P.top))};return r.fold(b(oM,Jw),b(Ky,Gh),b(Xw,D1))},Jw=rO.offset,Gh=rO.absolute,D1=rO.fixed,sM=(r,l)=>{const d=Ko(r,l);return N(d)?NaN:parseInt(d,10)},iM=(r,l,d,f,b,v)=>{const C=((P,F,M,V)=>((Y,ee)=>{const fe=Y.element,pe=sM(fe,ee.leftAttr),Se=sM(fe,ee.topAttr);return isNaN(pe)||isNaN(Se)?D.none():D.some(ts(pe,Se))})(P,F).fold(()=>M,Y=>D1(Y.left+V.left,Y.top+V.top)))(r,l,d,f),k=l.mustSnap?lM(r,l,C,b,v):cM(r,l,C,b,v),E=Xw(C,b,v);return((P,F,M)=>{const V=P.element;cn(V,F.leftAttr,M.left+"px"),cn(V,F.topAttr,M.top+"px")})(r,l,E),k.fold(()=>({coord:D1(E.left,E.top),extra:D.none()}),P=>({coord:P.output,extra:P.extra}))},aM=(r,l,d,f)=>sn(r,b=>{const v=b.sensor;return((k,E,P,F,M,V)=>{const Y=Ky(k,M,V),ee=Ky(E,M,V);return Math.abs(Y.left-ee.left)<=P&&Math.abs(Y.top-ee.top)<=F})(l,v,b.range.left,b.range.top,d,f)?D.some({output:sO(b.output,l,d,f),extra:b.extra}):D.none()}),lM=(r,l,d,f,b)=>{const v=l.getSnapPoints(r);return aM(v,d,f,b).orThunk(()=>nn(v,(k,E)=>{const P=E.sensor,F=((M,V,Y,ee,fe,pe)=>{const Se=Ky(M,fe,pe),ge=Ky(V,fe,pe),me=Math.abs(Se.left-ge.left),we=Math.abs(Se.top-ge.top);return ts(me,we)})(d,P,E.range.left,E.range.top,f,b);return k.deltas.fold(()=>({deltas:D.some(F),snap:D.some(E)}),M=>(F.left+F.top)/2<=(M.left+M.top)/2?{deltas:D.some(F),snap:D.some(E)}:k)},{deltas:D.none(),snap:D.none()}).snap.map(k=>({output:sO(k.output,d,f,b),extra:k.extra})))},cM=(r,l,d,f,b)=>{const v=l.getSnapPoints(r);return aM(v,d,f,b)};var uM=Object.freeze({__proto__:null,snapTo:(r,l,d,f)=>{const b=l.getTarget(r.element);if(l.repositionTarget){const v=ui(r.element),C=ns(v),k=Wf(b),E=((F,M,V)=>({coord:sO(F.output,F.output,M,V),extra:F.extra}))(f,C,k),P=rM(E.coord,0,k);Cl(b,P)}}});const iO="data-initial-z-index",dM=(r,l)=>{r.getSystem().addToGui(l),(d=>{ka(d.element).filter(ls).each(f=>{oi(f,"z-index").each(b=>{cn(f,iO,b)}),bo(f,"z-index",Ts(d.element,"z-index"))})})(l)},Az=r=>{(l=>{ka(l.element).filter(ls).each(d=>{Qo(d,iO).fold(()=>Er(d,"z-index"),f=>bo(d,"z-index",f)),Io(d,iO)})})(r),r.getSystem().removeFromGui(r)},fM=(r,l,d)=>r.getSystem().build(uf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[l]},events:d}));var Tz=Ds("snaps",[Lt("getSnapPoints"),nr("onSensor"),Lt("leftAttr"),Lt("topAttr"),ut("lazyViewport",Gi),ut("mustSnap",!1)]);const aO=[ut("useFixed",Oe),Lt("blockerClass"),ut("getTarget",de),ut("onDrag",j),ut("repositionTarget",!0),ut("onDrop",j),os("getBounds",Gi),Tz],lO=r=>{return(l=oi(r,"left"),d=oi(r,"top"),f=oi(r,"position"),l.isSome()&&d.isSome()&&f.isSome()?D.some(((b,v,C)=>(C==="fixed"?D1:Jw)(parseInt(b,10),parseInt(v,10)))(l.getOrDie(),d.getOrDie(),f.getOrDie())):D.none()).getOrThunk(()=>{const b=Hl(r);return Gh(b.left,b.top)});var l,d,f},mM=(r,l)=>({bounds:r.getBounds(),height:Ic(l.element),width:sl(l.element)}),cO=(r,l,d,f,b)=>{const v=d.update(f,b),C=d.getStartData().getOrThunk(()=>mM(l,r));v.each(k=>{((E,P,F,M)=>{const V=P.getTarget(E.element);if(P.repositionTarget){const Y=ui(E.element),ee=ns(Y),fe=Wf(V),pe=lO(V),Se=((me,we,ke,De,Ze,it,It)=>((Tt,kt,Wt,vn,In)=>{const Kn=In.bounds,lo=Ky(kt,Wt,vn),Uo=Uc(lo.left,Kn.x,Kn.x+Kn.width-In.width),ss=Uc(lo.top,Kn.y,Kn.y+Kn.height-In.height),ms=Gh(Uo,ss);return kt.fold(()=>{const Do=oM(ms,Wt,vn);return Jw(Do.left,Do.top)},U(ms),()=>{const Do=Xw(ms,Wt,vn);return D1(Do.left,Do.top)})})(0,we.fold(()=>{const Tt=(kt=ke,Wt=it.left,vn=it.top,kt.fold((Kn,lo)=>Jw(Kn+Wt,lo+vn),(Kn,lo)=>Gh(Kn+Wt,lo+vn),(Kn,lo)=>D1(Kn+Wt,lo+vn)));var kt,Wt,vn;const In=Xw(Tt,De,Ze);return D1(In.left,In.top)},Tt=>{const kt=iM(me,Tt,ke,it,De,Ze);return kt.extra.each(Wt=>{Tt.onSensor(me,Wt)}),kt.coord}),De,Ze,It))(E,P.snaps,pe,ee,fe,M,F),ge=rM(Se,0,fe);Cl(V,ge)}P.onDrag(E,V,M)})(r,l,C,k)})},uO=(r,l,d,f)=>{l.each(Az),d.snaps.each(v=>{((C,k)=>{((E,P)=>{const F=E.element;Io(F,P.leftAttr),Io(F,P.topAttr)})(C,k)})(r,v)});const b=d.getTarget(r.element);f.reset(),d.onDrop(r,b)},dO=r=>(l,d)=>{const f=b=>{d.setStartData(mM(l,b))};return yo([Ot(iv(),b=>{d.getStartData().each(()=>f(b))}),...r(l,d,f)])};var Oz=Object.freeze({__proto__:null,getData:r=>D.from(ts(r.x,r.y)),getDelta:(r,l)=>ts(l.left-r.left,l.top-r.top)});const gM=(r,l,d)=>[Ot(Mt(),(f,b)=>{if(b.event.raw.button!==0)return;b.stop();const v=()=>uO(f,D.some(E),r,l),C=HT(v,200),k={drop:v,delayDrop:C.schedule,forceDrop:v,move:P=>{C.cancel(),cO(f,r,l,Oz,P)}},E=fM(f,r.blockerClass,(P=>yo([Ot(Mt(),P.forceDrop),Ot(mo(),P.drop),Ot(Yn(),(F,M)=>{P.move(M.event)}),Ot(So(),P.delayDrop)]))(k));d(f),dM(f,E)})],Dz=[...aO,Yr("dragger",{handlers:dO(gM)})];var hM=Object.freeze({__proto__:null,getData:r=>{const l=r.raw.touches;return l.length===1?(d=>{const f=d[0];return D.some(ts(f.clientX,f.clientY))})(l):D.none()},getDelta:(r,l)=>ts(l.left-r.left,l.top-r.top)});const pM=(r,l,d)=>{const f=Or(),b=v=>{uO(v,f.get(),r,l),f.clear()};return[Ot(G(),(v,C)=>{C.stop();const k=()=>b(v),E={drop:k,delayDrop:j,forceDrop:k,move:F=>{cO(v,r,l,hM,F)}},P=fM(v,r.blockerClass,(F=>yo([Ot(G(),F.forceDrop),Ot(Be(),F.drop),Ot(Ye(),F.drop),Ot(ce(),(M,V)=>{F.move(V.event)})]))(E));f.set(P),d(v),dM(v,P)}),Ot(ce(),(v,C)=>{C.stop(),cO(v,r,l,hM,C.event)}),Ot(Be(),(v,C)=>{C.stop(),b(v)}),Ot(Ye(),b)]},Rz=Dz,bM=[...aO,Yr("dragger",{handlers:dO(pM)})],vM=[...aO,Yr("dragger",{handlers:dO((r,l,d)=>[...gM(r,l,d),...pM(r,l,d)])})];var Iz=Object.freeze({__proto__:null,mouse:Rz,touch:bM,mouseOrTouch:vM}),Nz=Object.freeze({__proto__:null,init:()=>{let r=D.none(),l=D.none();const d=U({});return Li({readState:d,reset:()=>{r=D.none(),l=D.none()},update:(f,b)=>f.getData(b).bind(v=>((C,k)=>{const E=r.map(P=>C.getDelta(P,k));return r=D.some(k),E})(f,v)),getStartData:()=>l,setStartData:f=>{l=D.some(f)}})}});const R1=qC({branchKey:"mode",branches:Iz,name:"dragging",active:{events:(r,l)=>r.dragger.handlers(r,l)},extra:{snap:r=>({sensor:r.sensor,range:r.range,output:r.output,extra:D.from(r.extra)})},state:Nz,apis:uM}),yM=(r,l,d,f,b,v)=>r.fold(()=>R1.snap({sensor:Gh(d-20,f-20),range:ts(b,v),output:Gh(D.some(d),D.some(f)),extra:{td:l}}),C=>{const k=d-20,E=f-20,P=C.element.dom.getBoundingClientRect();return R1.snap({sensor:Gh(k,E),range:ts(40,40),output:Gh(D.some(d-P.width/2),D.some(f-P.height/2)),extra:{td:l}})}),xM=(r,l,d)=>({getSnapPoints:r,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(f,b)=>{const v=b.td;((C,k)=>C.exists(E=>dr(E,k)))(l.get(),v)||(l.set(v),d(v))},mustSnap:!0}),wM=r=>kr(Za.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:qt([R1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:r}),b1.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),CM=(r,l)=>{const d=Hn([]),f=Hn([]),b=Hn(!1),v=Or(),C=Or(),k=ge=>{const me=kl(ge);return yM(M.getOpt(l),ge,me.x,me.y,me.width,me.height)},E=ge=>{const me=kl(ge);return yM(V.getOpt(l),ge,me.right,me.bottom,me.width,me.height)},P=xM(()=>Le(d.get(),ge=>k(ge)),v,ge=>{C.get().each(me=>{r.dispatch("TableSelectorChange",{start:ge,finish:me})})}),F=xM(()=>Le(f.get(),ge=>E(ge)),C,ge=>{v.get().each(me=>{r.dispatch("TableSelectorChange",{start:me,finish:ge})})}),M=wM(P),V=wM(F),Y=Ji(M.asSpec()),ee=Ji(V.asSpec()),fe=(ge,me,we,ke)=>{const De=we(me);R1.snapTo(ge,De),((Ze,it,It,Tt)=>{const kt=it.dom.getBoundingClientRect();Er(Ze.element,"display");const Wt=lu(un(r.getBody())).dom.innerHeight,vn=kt[ke]<0,In=((Kn,lo)=>Kn[ke]>lo)(kt,Wt);(vn||In)&&bo(Ze.element,"display","none")})(ge,me)},pe=ge=>fe(Y,ge,k,"top"),Se=ge=>fe(ee,ge,E,"bottom");if(la().deviceType.isTouch()){const ge=me=>Le(me,un);r.on("TableSelectionChange",me=>{b.get()||(om(l,Y),om(l,ee),b.set(!0));const we=un(me.start),ke=un(me.finish);v.set(we),C.set(ke),D.from(me.otherCells).each(De=>{d.set(ge(De.upOrLeftCells)),f.set(ge(De.downOrRightCells)),pe(we),Se(ke)})}),r.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),C.get().each(Se)}),r.on("TableSelectionClear",()=>{b.get()&&(fl(Y),fl(ee),b.set(!1)),v.clear(),C.clear()})}},_M=(r,l,d)=>{var f;const b=(f=l.delimiter)!==null&&f!==void 0?f:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:qt([$n.config({mode:"flow",selector:"div[role=button]"}),ao.config({disabled:d.isDisabled}),Bi(),Gr.config({}),Jn.config({}),To("elementPathEvents",[as((v,C)=>{r.shortcuts.add("alt+F11","focus statusbar elementpath",()=>$n.focusIn(v)),r.on("NodeChange",k=>{const E=(F=>{const M=[];let V=F.length;for(;V-- >0;){const ee=F[V];if(ee.nodeType===1&&(Y=ee).nodeName!=="BR"&&!Y.getAttribute("data-mce-bogus")&&Y.getAttribute("data-mce-type")!=="bookmark"){const fe=ZN(r,ee);if(fe.isDefaultPrevented()||M.push({name:fe.name,element:ee}),fe.isPropagationStopped())break}}var Y;return M})(k.parents),P=E.length>0?nn(E,(F,M,V)=>{const Y=((ee,fe,pe)=>Za.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe}},components:[$s(ee)],action:Se=>{r.focus(),r.selection.select(fe),r.nodeChanged()},buttonBehaviours:qt([ai.config({...d.tooltips.getConfig({tooltipText:d.translate(["Select the {0} element",fe.nodeName.toLowerCase()]),onShow:(Se,ge)=>{((me,we)=>{const ke=D.from(Ko(me,"id")).getOrThunk(()=>{const De=_n("aria");return cn(we,"id",De),De});cn(me,"aria-describedby",ke)})(Se.element,ge.element)},onHide:Se=>{var ge;ge=Se.element,Io(ge,"aria-describedby")}})}),Na(d.isDisabled),Bi()])}))(M.name,M.element,V);return V===0?F.concat([Y]):F.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[$s(` ${b} `)]},Y])},[]):[];Jn.set(v,P)})})])]),components:[]}};var qh;(function(r){r[r.None=0]="None",r[r.Both=1]="Both",r[r.Vertical=2]="Vertical"})(qh||(qh={}));const Sk=(r,l,d)=>{const f=un(r.getContainer()),b=((v,C,k,E,P)=>{const F={height:Gw(E+C.top,hy(v),I_(v))};return k===qh.Both&&(F.width=Gw(P+C.left,U2(v),py(v))),F})(r,l,d,Os(f),Ii(f));qn(b,(v,C)=>{J(v)&&bo(f,C,xb(v))}),(v=>{v.dispatch("ResizeEditor")})(r)},kk=(r,l,d,f)=>{const b=ts(20*d,20*f);return Sk(r,b,l),D.some(!0)},SM=(r,l)=>{const d=()=>{const f=[],b=$A(r),v=MI(r),C=Xc(r)||r.hasPlugin("wordcount");return v&&f.push(_M(r,{},l)),b&&f.push((()=>{const k=lS("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[$s(hd.translate(["Press {0} for help",k]))]}})()),C&&f.push((()=>{const k=[];return r.hasPlugin("wordcount")&&k.push(((E,P)=>{const F=(M,V,Y)=>Jn.set(M,[$s(P.translate(["{0} "+Y,V[Y]]))]);return Za.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:qt([Na(P.isDisabled),Bi(),Gr.config({}),Jn.config({}),mt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),To("wordcount-events",[wu(M=>{const V=mt.getValue(M),Y=V.mode==="words"?"characters":"words";mt.setValue(M,{mode:Y,count:V.count}),F(M,V.count,Y)}),as(M=>{E.on("wordCountUpdate",V=>{const{mode:Y}=mt.getValue(M);mt.setValue(M,{mode:Y,count:V.wordCount}),F(M,V.wordCount,Y)})})])]),eventOrder:{[El()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(r,l)),Xc(r)&&k.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":r.translate(["Build with {0}","TinyMCE"])},innerHtml:r.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:qt([so.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}})()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const k="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end";if(b){const P="tox-statusbar__text-container-3-cols";return C||v?C&&!v?[P,E]:[P,k]:[P,"tox-statusbar__text-container--space-around"]}return[C&&!v?E:k]})()]},components:f}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const f=d(),b=((v,C)=>{const k=(P=>{const F=va(P);return F===!1?qh.None:F==="both"?qh.Both:qh.Vertical})(v);if(k===qh.None)return D.none();const E=k===qh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(Jc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":C.translate(E),"data-mce-name":"resize-handle"},behaviours:[R1.config({mode:"mouse",repositionTarget:!1,onDrag:(P,F,M)=>Sk(v,M,k),blockerClass:"tox-blocker"}),$n.config({mode:"special",onLeft:()=>kk(v,k,-1,0),onRight:()=>kk(v,k,1,0),onUp:()=>kk(v,k,0,-1),onDown:()=>kk(v,k,0,1)}),Gr.config({}),so.config({}),ai.config(C.tooltips.getConfig({tooltipText:C.translate("Resize")}))]},C.icons))})(r,l);return f.concat(b.toArray())})()}},kM=(r,l)=>l.get().getOrDie(`UI for ${r} has not been rendered`),Pz=(r,l)=>{const d=r.inline,f=d?gz:PK,b=Mh(r)?mV:fV,v=(()=>{const De=Or(),Ze=Or(),it=Or();return{dialogUi:De,popupUi:Ze,mainUi:it,getUiMotherships:()=>{const It=De.get().map(kt=>kt.mothership),Tt=Ze.get().map(kt=>kt.mothership);return It.fold(()=>Tt.toArray(),kt=>Tt.fold(()=>[kt],Wt=>dr(kt.element,Wt.element)?[kt]:[kt,Wt]))},lazyGetInOuterOrDie:(It,Tt)=>()=>it.get().bind(kt=>Tt(kt.outerContainer)).getOrDie(`Could not find ${It} element in OuterContainer`)}})(),C=Or(),k=Or(),E=Or(),P=la().deviceType.isTouch()?["tox-platform-touch"]:[],F=VA(r),M=n1(r),V=kr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Y=kr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),ee=()=>v.mainUi.get().map(De=>De.outerContainer).bind(rs.getHeader),fe=v.lazyGetInOuterOrDie("anchor bar",V.getOpt),pe=v.lazyGetInOuterOrDie("bottom anchor bar",Y.getOpt),Se=v.lazyGetInOuterOrDie("toolbar",rs.getToolbar),ge=v.lazyGetInOuterOrDie("throbber",rs.getThrobber),me=((De,Ze,it,It)=>{const Tt=Hn(!1),kt=(or=>{const Xn=Hn(VA(or)?"bottom":"top");return{isPositionedAtTop:()=>Xn.get()==="top",getDockingMode:Xn.get,setDockingMode:Xn.set}})(Ze),Wt={icons:()=>Ze.ui.registry.getAll().icons,menuItems:()=>Ze.ui.registry.getAll().menuItems,translate:hd.translate,isDisabled:()=>Ze.mode.isReadOnly()||!Ze.ui.isEnabled(),getOption:Ze.options.get,tooltips:l4(De.dialog)},vn=WP(Ze),In=(or=>{const Xn=ta=>()=>or.formatter.match(ta),gs=ta=>()=>{const $i=or.formatter.get(ta);return $i!==void 0?D.some({tag:$i.length>0&&($i[0].inline||$i[0].block)||"div",styles:or.dom.parseStyle(or.formatter.getCssText(ta))}):D.none()},Vr=Hn([]),Ga=Hn([]),qa=Hn(!1);return or.on("PreInit",ta=>{const $i=PP(or),Yh=a4(or,$i,Xn,gs);Vr.set(Yh)}),or.on("addStyleModifications",ta=>{const $i=a4(or,ta.items,Xn,gs);Ga.set($i),qa.set(ta.replace)}),{getData:()=>{const ta=qa.get()?[]:Vr.get(),$i=Ga.get();return ta.concat($i)}}})(Ze),Kn=(or=>({colorPicker:J$(or),hasCustomColors:Q$(or),getColors:eV(or),getColorCols:tV(or)}))(Ze),lo=(or=>({isDraggableModal:RP(or)}))(Ze),Uo={shared:{providers:Wt,anchors:X$(Ze,it,It,kt.isPositionedAtTop),header:kt},urlinput:vn,styles:In,colorinput:Kn,dialog:lo,isContextMenuOpen:()=>Tt.get(),setContextMenuState:or=>Tt.set(or)},ss=or=>D.none(),ms={...Uo,shared:{...Uo.shared,interpreter:or=>EP(or,{},ms,ss),getSink:De.popup}},Do={...Uo,shared:{...Uo.shared,interpreter:or=>EP(or,{},Do,ss),getSink:De.dialog}};return{popup:ms,dialog:Do}})({popup:()=>Ho.fromOption(v.popupUi.get().map(De=>De.sink),"(popup) UI has not been rendered"),dialog:()=>Ho.fromOption(v.dialogUi.get().map(De=>De.sink),"UI has not been rendered")},r,fe,pe),we=()=>{const De=(()=>{const Uo={attributes:{[Dl]:F?Gc.BottomToTop:Gc.TopToBottom}},ss=rs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:me.popup,onEscape:()=>{r.focus()}}),ms=rs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:me.popup.shared.getSink,providers:me.popup.shared.providers,onEscape:()=>{r.focus()},onToolbarToggled:$i=>{((Yh,Yy)=>{Yh.dispatch("ToggleToolbarDrawer",{state:Yy})})(r,$i)},type:M,lazyToolbar:Se,lazyHeader:()=>ee().getOrDie("Could not find header element"),...Uo}),Do=rs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:me.popup.shared.providers,onEscape:()=>{r.focus()},type:M}),or=G2(r),Xn=Z2(r),gs=j2(r),Vr=FI(r),Ga=rs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),qa=or||Xn||gs,ta=Vr?[Ga,ss]:[ss];return rs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(qa?[]:["tox-editor-header--empty"]),...Uo},components:Kt([gs?ta:[],or?[Do]:Xn?[ms]:[],o1(r)?[]:[V.asSpec()]]),sticky:Mh(r),editor:r,sharedBackstage:me.popup.shared})})(),Ze={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[rs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),rs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},it=rs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:me.popup}),It=rs.parts.viewWrapper({backstage:me.popup}),Tt=LI(r)&&!d?D.some(SM(r,me.popup.shared.providers)):D.none(),kt=Kt([F?[]:[De],d?[]:[Ze],F?[De]:[]]),Wt=rs.parts.editorContainer({components:Kt([kt,d?[]:[Y.asSpec()]])}),vn=U_(r),In={role:"application",...hd.isRtl()?{dir:"rtl"}:{},...vn?{"aria-hidden":"true"}:{}},Kn=Ji(rs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(d?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(P),styles:{visibility:"hidden",...vn?{opacity:"0",border:"0"}:{}},attributes:In},components:[Wt,...d?[]:[It,...Tt.toArray()],it],behaviours:qt([Bi(),ao.config({disableClass:"tox-tinymce--disabled"}),$n.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),lo=xS(Kn);return C.set(lo),{mothership:lo,outerContainer:Kn}},ke=De=>{const Ze=xb((It=>(kt=>{const Wt=z2(kt),vn=hy(kt),In=I_(kt);return Zw(Wt).map(Kn=>Gw(Kn,vn,In))})(It).getOr(z2(It)))(r)),it=xb((It=>Z4(It).getOr(H2(It)))(r));return r.inline||(Jl("div","width",it)&&bo(De.element,"width",it),Jl("div","height",Ze)?bo(De.element,"height",Ze):bo(De.element,"height","400px")),Ze};return{popups:{backstage:me.popup,getMothership:()=>kM("popups",E)},dialogs:{backstage:me.dialog,getMothership:()=>kM("dialogs",k)},renderUI:()=>{const De=we(),Ze=(()=>{const It=H_(r),Tt=dr(Cn(),It)&&Ts(It,"display")==="grid",kt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(P),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:qt([ba.config({useFixed:()=>b.isDocked(ee)})])},Wt={dom:{styles:{width:document.body.clientWidth+"px"}},events:yo([Ot($f(),Kn=>{bo(Kn.element,"width",document.body.clientWidth+"px")})])},vn=Ji(Br(kt,Tt?Wt:{})),In=xS(vn);return k.set(In),{sink:vn,mothership:In}})(),it=Bh(r)?(()=>{const It={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(P),attributes:{...hd.isRtl()?{dir:"rtl"}:{}}},behaviours:qt([ba.config({useFixed:()=>b.isDocked(ee),getBounds:()=>l.getPopupSinkBounds()})])},Tt=Ji(It),kt=xS(Tt);return E.set(kt),{sink:Tt,mothership:kt}})():(It=>(E.set(It.mothership),It))(Ze);return v.dialogUi.set(Ze),v.popupUi.set(it),v.mainUi.set(De),(It=>{const{mainUi:Tt,popupUi:kt,uiMotherships:Wt}=It;eo(P_(r),(Xn,gs)=>{r.ui.registry.addGroupToolbarButton(gs,Xn)});const{buttons:vn,menuItems:In,contextToolbars:Kn,sidebars:lo,views:Uo}=r.ui.registry.getAll(),ss=z_(r),ms={menuItems:In,menus:Xp(r),menubar:Lh(r),toolbar:ss.getOrThunk(()=>vy(r)),allowToolbarGroups:M===gd.floating,buttons:vn,sidebar:lo,views:Uo};var Do;Do=Tt.outerContainer,r.addShortcut("alt+F9","focus menubar",()=>{rs.focusMenubar(Do)}),r.addShortcut("alt+F10","focus toolbar",()=>{rs.focusToolbar(Do)}),r.addCommand("ToggleToolbarDrawer",(Xn,gs)=>{gs!=null&&gs.skipFocus?rs.toggleToolbarDrawerWithoutFocusing(Do):rs.toggleToolbarDrawer(Do)}),r.addQueryStateHandler("ToggleToolbarDrawer",()=>rs.isToolbarDrawerToggled(Do)),((Xn,gs,Vr)=>{const Ga=(pr,Ng)=>{ft([gs,...Vr],pf=>{pf.broadcastEvent(pr,Ng)})},qa=(pr,Ng)=>{ft([gs,...Vr],pf=>{pf.broadcastOn([pr],Ng)})},ta=pr=>qa(B(),{target:pr.target}),$i=Fa(),Yh=Ka($i,"touchstart",ta),Yy=Ka($i,"touchmove",pr=>Ga(Nn(),pr)),Cb=Ka($i,"touchend",pr=>Ga(yu(),pr)),Xh=Ka($i,"mousedown",ta),cC=Ka($i,"mouseup",pr=>{pr.raw.button===0&&qa(K(),{target:pr.target})}),_b=pr=>qa(B(),{target:un(pr.target)}),Rg=pr=>{pr.button===0&&qa(K(),{target:un(pr.target)})},N1=()=>{ft(Xn.editorManager.get(),pr=>{Xn!==pr&&pr.dispatch("DismissPopups",{relatedTarget:Xn})})},P1=pr=>Ga(iv(),tf(pr)),Xy=pr=>{qa(z(),{}),Ga($f(),tf(pr))},Pk=ht(un(Xn.getElement())),uC=d2(Pk,"scroll",pr=>{requestAnimationFrame(()=>{if(Xn.getContainer()!=null){const Ng=Jp(Xn,gs.element).map(pf=>[pf.element,...pf.others]).getOr([]);kn(Ng,pf=>dr(pf,pr.target))&&(Xn.dispatch("ElementScroll",{target:pr.target.dom}),Ga(Ep(),pr))}})}),Sb=()=>qa(z(),{}),Ig=pr=>{pr.state&&qa(B(),{target:un(Xn.getContainer())})},Jh=pr=>{qa(B(),{target:un(pr.relatedTarget.getContainer())})},dC=pr=>Xn.dispatch("focusin",pr),fC=pr=>Xn.dispatch("focusout",pr);Xn.on("PostRender",()=>{Xn.on("click",_b),Xn.on("tap",_b),Xn.on("mouseup",Rg),Xn.on("mousedown",N1),Xn.on("ScrollWindow",P1),Xn.on("ResizeWindow",Xy),Xn.on("ResizeEditor",Sb),Xn.on("AfterProgressState",Ig),Xn.on("DismissPopups",Jh),ft([gs,...Vr],pr=>{pr.element.dom.addEventListener("focusin",dC),pr.element.dom.addEventListener("focusout",fC)})}),Xn.on("remove",()=>{Xn.off("click",_b),Xn.off("tap",_b),Xn.off("mouseup",Rg),Xn.off("mousedown",N1),Xn.off("ScrollWindow",P1),Xn.off("ResizeWindow",Xy),Xn.off("ResizeEditor",Sb),Xn.off("AfterProgressState",Ig),Xn.off("DismissPopups",Jh),ft([gs,...Vr],pr=>{pr.element.dom.removeEventListener("focusin",dC),pr.element.dom.removeEventListener("focusout",fC)}),Xh.unbind(),Yh.unbind(),Yy.unbind(),Cb.unbind(),cC.unbind(),uC.unbind()}),Xn.on("detach",()=>{ft([gs,...Vr],YE),ft([gs,...Vr],pr=>pr.destroy())})})(r,Tt.mothership,Wt),b.setup(r,me.popup.shared,ee),wz(r,me.popup),Ez(r,me.popup.shared.getSink,me.popup),(Xn=>{const{sidebars:gs}=Xn.ui.registry.getAll();ft(Ut(gs),Vr=>{const Ga=gs[Vr],qa=()=>ci(D.from(Xn.queryCommandValue("ToggleSidebar")),Vr);Xn.ui.registry.addToggleButton(Vr,{icon:Ga.icon,tooltip:Ga.tooltip,onAction:ta=>{Xn.execCommand("ToggleSidebar",!1,Vr),ta.setActive(qa())},onSetup:ta=>{ta.setActive(qa());const $i=()=>ta.setActive(qa());return Xn.on("ToggleSidebar",$i),()=>{Xn.off("ToggleSidebar",$i)}}})})})(r),eL(r,ge,me.popup.shared),bz(r,Kn,kt.sink,{backstage:me.popup}),CM(r,kt.sink);const or={targetNode:r.getElement(),height:ke(Tt.outerContainer)};return f.render(r,It,ms,me.popup,or)})({popupUi:it,dialogUi:Ze,mainUi:De,uiMotherships:v.getUiMotherships()})}}},Lz=U([Lt("lazySink"),qo("dragBlockClass"),os("getBounds",Gi),ut("useTabstopAt",Te),ut("firstTabstop",0),ut("eventOrder",{}),Sn("modalBehaviours",[$n]),Al("onExecute"),Da("onEscape")]),fO={sketch:de},mO=U([Tu({name:"draghandle",overrides:(r,l)=>({behaviours:qt([R1.config({mode:"mouse",getTarget:d=>eg(d,'[role="dialog"]').getOr(d),blockerClass:r.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(l,null,2)).message),getBounds:r.getDragBounds})])})}),Rl({schema:[Lt("dom")],name:"title"}),Rl({factory:fO,schema:[Lt("dom")],name:"close"}),Rl({factory:fO,schema:[Lt("dom")],name:"body"}),Tu({factory:fO,schema:[Lt("dom")],name:"footer"}),sf({factory:{sketch:(r,l)=>({...r,dom:l.dom,components:l.components})},schema:[ut("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ut("components",[])],name:"blocker"})]),Ls=Kl({name:"ModalDialog",configFields:Lz(),partFields:mO(),factory:(r,l,d,f)=>{const b=Or(),v=_n("modal-events"),C={...r.eventOrder,[ma()]:[v].concat(r.eventOrder["alloy.system.attached"]||[])},k=la();return{uid:r.uid,dom:r.dom,components:l,apis:{show:E=>{b.set(E);const P=r.lazySink(E).getOrDie(),F=f.blocker(),M=P.getSystem().build({...F,components:F.components.concat([ul(E)]),behaviours:qt([so.config({}),To("dialog-blocker-events",[Uf(Cr(),()=>{kd.isBlocked(E)||$n.focusIn(E)})])])});om(P,M),$n.focusIn(E)},hide:E=>{b.clear(),ka(E.element).each(P=>{E.getSystem().getByDom(P).each(F=>{fl(F)})})},getBody:E=>Nh(E,r,"body"),getFooter:E=>Jr(E,r,"footer"),setIdle:E=>{kd.unblock(E)},setBusy:(E,P)=>{kd.block(E,P)}},eventOrder:C,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Eo(r.modalBehaviours,[Jn.config({}),$n.config({mode:"cyclic",onEnter:r.onExecute,onEscape:r.onEscape,useTabstopAt:r.useTabstopAt,firstTabstop:r.firstTabstop}),kd.config({getRoot:b.get}),To(v,[as(E=>{const P=Nh(E,r,"title").element,F=(M=>M.dom.textContent)(P);k.os.isMacOS()&&W(F)?cn(E.element,"aria-label",F):((M,V)=>{const Y=Qo(M,"id").fold(()=>{const ee=_n("dialog-label");return cn(V,"id",ee),ee},de);cn(M,"aria-labelledby",Y)})(E.element,P)})])])}},apis:{show:(r,l)=>{r.show(l)},hide:(r,l)=>{r.hide(l)},getBody:(r,l)=>r.getBody(l),getFooter:(r,l)=>r.getFooter(l),setBusy:(r,l,d)=>{r.setBusy(l,d)},setIdle:(r,l)=>{r.setIdle(l)}}}),Mz=Gn([xi,nT].concat(c1)),Qw=fc,gO=[cT("button"),bd,Mc("align","end",["start","end"]),nS,vd,ah("buttonType",["primary","secondary"])],Ek=[...gO,pd],hO=[sd("type",["submit","cancel","custom"]),...Ek],Bz=[sd("type",["menu"]),rb,fw,bd,ll("items",Mz),...gO],Fz=[...gO,sd("type",["togglebutton"]),fw,bd,rb,ri("active",!1)],EM=bi("type",{submit:hO,cancel:hO,custom:hO,menu:Bz,togglebutton:Fz}),$z=[xi,pd,sd("level",["info","warn","error","success"]),sT,ut("url","")],pO=Gn($z),bO=[xi,pd,vd,cT("button"),bd,NK,ah("buttonType",["primary","secondary","toolbar"]),nS],vO=Gn(bO),jy=[xi,nT],ea=jy.concat([iT]),Vz=jy.concat([oT,vd]),zz=Gn(Vz),AM=fc,TM=ea.concat([xN("auto")]),Hz=Gn(TM),Uz=nd([a1,pd,sT]),Wz=ea.concat([Ql("storageKey","default")]),Kz=Gn(Wz),jz=ki,Zz=Gn(ea),Gz=ki,OM=jy.concat([Ql("tag","textarea"),Ss("scriptId"),Ss("scriptUrl"),bu("onFocus"),Ha("settings",void 0,v0)]),qz=jy.concat([Ql("tag","textarea"),za("init")]),Yz=Lf(r=>_s("customeditor.old",Si(qz),r).orThunk(()=>_s("customeditor.new",Si(OM),r))),Xz=ki,DM=Gn(ea),yO=td(ed),RM=r=>[xi,Sp("columns"),r],IM=[xi,Ss("html"),Mc("presets","presentation",["presentation","document"]),os("onInit",j),ri("stretched",!1)],NM=Gn(IM),PM=ea.concat([ri("border",!1),ri("sandboxed",!0),ri("streamContent",!1),ri("transparent",!0)]),xO=Gn(PM),Jz=ki,wO=Gn(jy.concat([Fs("height")])),Zy=Gn([Ss("url"),Mf("zoom"),Mf("cachedWidth"),Mf("cachedHeight")]),LM=ea.concat([Fs("inputMode"),Fs("placeholder"),ri("maximized",!1),vd]),MM=Gn(LM),BM=ki,Qz=r=>[xi,oT,r,Mc("align","start",["start","center","end"]),Fs("for")],e9=[pd,a1],Ak=[pd,ll("items",_p(0,()=>FM))],FM=Vm([Gn(e9),Gn(Ak)]),t9=ea.concat([ll("items",FM),vd]),$M=Gn(t9),VM=ki,CO=ea.concat([Hm("items",[pd,a1]),Ws("size",1),vd]),zM=Gn(CO),rc=ki,HM=ea.concat([ri("constrain",!0),vd]),n9=Gn(HM),UM=Gn([Ss("width"),Ss("height")]),WM=jy.concat([oT,Ws("min",0),Ws("max",0)]),o9=Gn(WM),r9=jd,s9=[xi,ll("header",ki),ll("cells",td(ki))],KM=Gn(s9),Dg=ea.concat([Fs("placeholder"),ri("maximized",!1),vd]),_O=Gn(Dg),jM=ki,eC=[sd("type",["directory","leaf"]),rT,Ss("id"),Us("menu",YP)],Tk=Gn(eC),i9=eC.concat([ll("children",_p(0,()=>rd("type",{directory:ZM,leaf:Tk})))]),ZM=Gn(i9),a9=rd("type",{directory:ZM,leaf:Tk}),l9=[xi,ll("items",a9),bu("onLeafAction"),bu("onToggleExpand"),Pr("defaultExpandedIds",[],ki),Fs("defaultSelectedId")],c9=Gn(l9),u9=ea.concat([Mc("filetype","file",["image","media","file"]),vd,Fs("picker_text")]),d9=Gn(u9),GM=Gn([a1,Qc]),SO=r=>fi("items","items",{tag:"required",process:{}},td(Lf(l=>_s(`Checking item of ${r}`,hf,l).fold(d=>Ho.error(al(d)),d=>Ho.value(d))))),hf=$m(()=>{return rd("type",{alertbanner:pO,bar:Gn((r=SO("bar"),[xi,r])),button:vO,checkbox:zz,colorinput:Kz,colorpicker:Zz,dropzone:DM,grid:Gn(RM(SO("grid"))),iframe:xO,input:MM,listbox:$M,selectbox:zM,sizeinput:n9,slider:o9,textarea:_O,urlinput:d9,customeditor:Yz,htmlpanel:NM,imagepreview:wO,collection:Hz,label:Gn(Qz(SO("label"))),table:KM,tree:c9,panel:qM});var r}),Ok=[xi,ut("classes",[]),ll("items",hf)],qM=Gn(Ok),f9=[cT("tab"),rT,ll("items",hf)],YM=[xi,Hm("tabs",f9)],XM=Gn(YM),kO=Ek,Dk=EM,tC=Gn([Ss("title"),Yi("body",rd("type",{panel:qM,tabpanel:XM})),Ql("size","normal"),Pr("buttons",[],Dk),ut("initialData",{}),os("onAction",j),os("onChange",j),os("onSubmit",j),os("onClose",j),os("onCancel",j),os("onTabChange",j)]),nC=Gn([sd("type",["cancel","custom"]),...kO]),JM=Gn([Ss("title"),Ss("url"),Mf("height"),Mf("width"),y0("buttons",nC),os("onAction",j),os("onCancel",j),os("onClose",j),os("onMessage",j)]),Rk=r=>x(r)?[r].concat(pn(ji(r),Rk)):T(r)?pn(r,Rk):[],QM=r=>h(r.type)&&h(r.name),e6={checkbox:AM,colorinput:jz,colorpicker:Gz,dropzone:yO,input:BM,iframe:Jz,imagepreview:Zy,selectbox:rc,sizeinput:UM,slider:r9,listbox:VM,size:UM,textarea:jM,urlinput:GM,customeditor:Xz,collection:Uz,togglemenuitem:Qw},m9=r=>{const l=(f=>Ht(Rk(f),QM))(r),d=pn(l,f=>(b=>D.from(e6[b.type]))(f).fold(()=>[],b=>[Yi(f.name,b)]));return Gn(d)},t6=r=>{var l;return{internalDialog:Va(_s("dialog",tC,r)),dataValidator:m9(r),initialData:(l=r.initialData)!==null&&l!==void 0?l:{}}},I1={open:(r,l)=>{const d=t6(l);return r(d.internalDialog,d.initialData,d.dataValidator)},openUrl:(r,l)=>r(Va(_s("dialog",JM,l))),redial:r=>t6(r)};var g9=Object.freeze({__proto__:null,events:(r,l)=>{const d=(f,b)=>{r.updateState.each(v=>{const C=v(f,b);l.set(C)}),r.renderComponents.each(v=>{const C=v(b,l.get());(r.reuseDom?AA:Jv)(f,C)})};return yo([Ot(mc(),(f,b)=>{const v=b;if(!v.universal){const C=r.channel;ct(v.channels,C)&&d(f,v.data)}}),as((f,b)=>{r.initialData.each(v=>{d(f,v)})})])}}),h9=Object.freeze({__proto__:null,getState:(r,l,d)=>d}),n6=[Lt("channel"),qo("renderComponents"),qo("updateState"),qo("initialData"),ri("reuseDom",!0)];const _c=Mi({fields:n6,name:"reflecting",active:g9,apis:h9,state:Object.freeze({__proto__:null,init:()=>{const r=Hn(D.none());return{readState:()=>r.get().getOr("none"),get:r.get,set:r.set,clear:()=>r.set(D.none())}}})}),o6=r=>{const l=[],d={};return qn(r,(f,b)=>{f.fold(()=>{l.push(b)},v=>{d[b]=v})}),l.length>0?Ho.error(l):Ho.value(d)},r6=(r,l,d,f)=>{const b=kr(fb.sketch(C=>({dom:{tag:"div",classes:["tox-form"].concat(r.classes)},components:Le(r.items,k=>ok(C,k,l,d,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[b.asSpec()]}],behaviours:qt([$n.config({mode:"acyclic",useTabstopAt:Me(Py)}),(v=b,sr.config({find:v.getOpt})),v3(b,{postprocess:C=>o6(C).fold(k=>(console.error(k),{}),de)}),To("dialog-body-panel",[Ot(Cr(),(C,k)=>{C.getSystem().broadcastOn([jS],{newFocus:D.some(k.event.target)})})])])};var v},p9=Ou({name:"TabButton",configFields:[ut("uid",void 0),Lt("value"),fi("dom","dom",tr(()=>({attributes:{role:"tab",id:_n("aria"),"aria-selected":"false"}})),Wl()),qo("action"),ut("domModification",{}),Sn("tabButtonBehaviours",[so,$n,mt]),Lt("view")],factory:(r,l)=>({uid:r.uid,dom:r.dom,components:r.components,events:my(r.action),behaviours:Eo(r.tabButtonBehaviours,[so.config({}),$n.config({mode:"execution",useSpace:!0,useEnter:!0}),mt.config({store:{mode:"memory",initialValue:r.value}})]),domModification:r.domModification})}),s6=U([Lt("tabs"),Lt("dom"),ut("clickToDismiss",!1),Sn("tabbarBehaviours",[Ar,$n]),bh(["tabClass","selectedClass"])]),oC=p_({factory:p9,name:"tabs",unit:"tab",overrides:r=>{const l=(f,b)=>{Ar.dehighlight(f,b),Mn(f,jt(),{tabbar:f,button:b})},d=(f,b)=>{Ar.highlight(f,b),Mn(f,Ap(),{tabbar:f,button:b})};return{action:f=>{const b=f.getSystem().getByUid(r.uid).getOrDie(),v=Ar.isHighlighted(b,f);(v&&r.clickToDismiss?l:v?j:d)(b,f)},domModification:{classes:[r.markers.tabClass]}}}}),b9=U([oC]),EO=Kl({name:"Tabbar",configFields:s6(),partFields:b9(),factory:(r,l,d,f)=>({uid:r.uid,dom:r.dom,components:l,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Eo(r.tabbarBehaviours,[Ar.config({highlightClass:r.markers.selectedClass,itemClass:r.markers.tabClass,onHighlight:(b,v)=>{cn(v.element,"aria-selected","true")},onDehighlight:(b,v)=>{cn(v.element,"aria-selected","false")}}),$n.config({mode:"flow",getInitial:b=>Ar.getHighlighted(b).map(v=>v.element),selector:"."+r.markers.tabClass,executeOnMove:!0})])})}),v9=Ou({name:"Tabview",configFields:[Sn("tabviewBehaviours",[Jn])],factory:(r,l)=>({uid:r.uid,dom:r.dom,behaviours:Eo(r.tabviewBehaviours,[Jn.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),y9=U([ut("selectFirst",!0),nr("onChangeTab"),nr("onDismissTab"),ut("tabs",[]),Sn("tabSectionBehaviours",[])]),x9=Rl({factory:EO,schema:[Lt("dom"),Lc("markers",[Lt("tabClass"),Lt("selectedClass")])],name:"tabbar",defaults:r=>({tabs:r.tabs})}),w9=Rl({factory:v9,name:"tabview"}),i6=U([x9,w9]),Gy=Kl({name:"TabSection",configFields:y9(),partFields:i6(),factory:(r,l,d,f)=>{const b=(v,C)=>{Jr(v,r,"tabbar").each(k=>{C(k).each(Hf)})};return{uid:r.uid,dom:r.dom,components:l,behaviours:to(r.tabSectionBehaviours),events:yo(Kt([r.selectFirst?[as((v,C)=>{b(v,Ar.getFirst)})]:[],[Ot(Ap(),(v,C)=>{(k=>{const E=mt.getValue(k);Jr(k,r,"tabview").each(P=>{Q(r.tabs,F=>F.value===E).each(F=>{const M=F.view();Qo(k.element,"id").each(V=>{cn(P.element,"aria-labelledby",V)}),Jn.set(P,M),r.onChangeTab(P,k,M)})})})(C.event.button)}),Ot(jt(),(v,C)=>{const k=C.event.button;r.onDismissTab(v,k)})]])),apis:{getViewItems:v=>Jr(v,r,"tabview").map(C=>Jn.contents(C)).getOr([]),showTab:(v,C)=>{b(v,k=>{const E=Ar.getCandidates(k);return Q(E,P=>mt.getValue(P)===C).filter(P=>!Ar.isHighlighted(k,P))})}}}},apis:{getViewItems:(r,l)=>r.getViewItems(l),showTab:(r,l,d)=>{r.showTab(l,d)}}}),AO=(r,l)=>{bo(r,"height",l+"px"),bo(r,"flex-basis",l+"px")},qy=(r,l,d)=>{eg(r,'[role="dialog"]').each(f=>{fs(f,'[role="tablist"]').each(b=>{d.get().map(v=>(bo(l,"height","0"),bo(l,"flex-basis","0"),Math.min(v,((C,k,E)=>{const P=ol(C).dom,F=eg(C,".tox-dialog-wrap").getOr(C);let M;M=Ts(F,"position")==="fixed"?Math.max(P.clientHeight,window.innerHeight):Math.max(P.offsetHeight,P.scrollHeight);const V=Os(k),Y=k.dom.offsetLeft>=E.dom.offsetLeft+Ii(E)?Math.max(Os(E),V):V,ee=parseInt(Ts(C,"margin-top"),10)||0,fe=parseInt(Ts(C,"margin-bottom"),10)||0;return M-(Os(C)+ee+fe-Y)})(f,l,b)))).each(v=>{AO(l,v)})})})},hm=r=>fs(r,'[role="tabpanel"]'),Ik="send-data-to-section",TO="send-data-to-view",a6=(r,l,d,f)=>{const b=Hn({}),v=F=>{const M=mt.getValue(F),V=o6(M).getOr({}),Y=b.get(),ee=Br(Y,V);b.set(ee)},C=F=>{const M=b.get();mt.setValue(F,M)},k=Hn(null),E=Le(r.tabs,F=>({value:F.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[$s(d.shared.providers.translate(F.title))],view:()=>[fb.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:Le(F.items,V=>ok(M,V,l,d,f)),formBehaviours:qt([$n.config({mode:"acyclic",useTabstopAt:Me(Py)}),To("TabView.form.events",[as(C),ld(v)]),Ol.config({channels:Zd([{key:Ik,value:{onReceive:v}},{key:TO,value:{onReceive:C}}])})])}))]})),P=(F=>{const M=Or();return{extraEvents:[as(Y=>{const ee=Y.element;hm(ee).each(fe=>{bo(fe,"visibility","hidden"),Y.getSystem().getByDom(fe).toOptional().each(pe=>{const Se=((me,we,ke)=>Le(me,(De,Ze)=>{Jn.set(ke,me[Ze].view());const it=we.dom.getBoundingClientRect();return Jn.set(ke,[]),it.height}))(F,fe,pe);(me=>Ne(be(me,(we,ke)=>we>ke?-1:we<ke?1:0)))(Se).fold(M.clear,M.set)}),qy(ee,fe,M),Er(fe,"visibility"),((pe,Se)=>{Ne(pe).each(ge=>Gy.showTab(Se,ge.value))})(F,Y),requestAnimationFrame(()=>{qy(ee,fe,M)})})}),Ot($f(),Y=>{const ee=Y.element;hm(ee).each(fe=>{qy(ee,fe,M)})}),Ot(CS,(Y,ee)=>{const fe=Y.element;hm(fe).each(pe=>{const Se=Su(ht(pe));bo(pe,"visibility","hidden");const ge=oi(pe,"height").map(we=>parseInt(we,10));Er(pe,"height"),Er(pe,"flex-basis");const me=pe.dom.getBoundingClientRect().height;ge.forall(we=>me>we)?(M.set(me),qy(fe,pe,M)):ge.each(we=>{AO(pe,we)}),Er(pe,"visibility"),Se.each(Wa)})})],selectFirst:!1}})(E);return Gy.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(F,M,V)=>{const Y=mt.getValue(M);Mn(F,x5,{name:Y,oldName:k.get()}),k.set(Y)},tabs:E,components:[Gy.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[EO.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:qt([Gr.config({})])}),Gy.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:qt([To("tabpanel",P.extraEvents),$n.config({mode:"acyclic"}),sr.config({find:F=>Ne(Gy.getViewItems(F))}),x1(D.none(),F=>(F.getSystem().broadcastOn([Ik],{}),b.get()),(F,M)=>{b.set(M),F.getSystem().broadcastOn([TO],{})})])})},Nk=(r,l,d,f,b,v)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...d.map(C=>({id:C})).getOr({}),...b?{"aria-live":"polite"}:{}}},components:[],behaviours:qt([p3(0),_c.config({channel:`${Y5}-${l}`,updateState:(C,k)=>D.some({isTabPanel:()=>k.body.type==="tabpanel"}),renderComponents:C=>{const k=C.body;return k.type==="tabpanel"?[a6(k,C.initialData,f,v)]:[r6(k,C.initialData,f,v)]},initialData:r})])}),l6=lm.deviceType.isTouch(),rC=(r,l)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[r,l]}),OO=(r,l)=>Ls.parts.close(Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":l.translate("Close")}},action:r,buttonBehaviours:qt([Gr.config({})])})),DO=()=>Ls.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),c6=(r,l)=>Ls.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:hg(`<p>${JI(l.translate(r))}</p>`)}]}]}),u6=r=>Ls.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:r}),d6=(r,l)=>[uf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:r}),uf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:l})],RO=r=>{const l="tox-dialog",d=l+"-wrap",f=d+"__backdrop",b=l+"__disable-scroll";return Ls.sketch({lazySink:r.lazySink,onEscape:v=>(r.onEscape(v),D.some(!0)),useTabstopAt:v=>!Py(v),firstTabstop:r.firstTabstop,dom:{tag:"div",classes:[l].concat(r.extraClasses),styles:{position:"relative",...r.extraStyles}},components:[r.header,r.body,...r.footer.toArray()],parts:{blocker:{dom:hg(`<div class="${d}"></div>`),components:[{dom:{tag:"div",classes:l6?[f,f+"--opaque"]:[f]}}]}},dragBlockClass:d,modalBehaviours:qt([so.config({}),To("dialog-events",r.dialogEvents.concat([Uf(Cr(),(v,C)=>{kd.isBlocked(v)||$n.focusIn(v)}),Ot(w0(),(v,C)=>{v.getSystem().broadcastOn([jS],{newFocus:C.event.newFocus})})])),To("scroll-lock",[as(()=>{Es(Cn(),b)}),ld(()=>{Is(Cn(),b)})]),...r.extraBehaviours]),eventOrder:{[El()]:["dialog-events"],[ma()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Fc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...r.eventOrder}})},f6=r=>Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:qt([Gr.config({}),ai.config(r.tooltips.getConfig({tooltipText:r.translate("Close")}))]),components:[Jc("close",{tag:"span",classes:["tox-icon"]},r.icons)],action:l=>{No(l,Hh)}}),IO=(r,l,d,f)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...d.map(b=>({id:b})).getOr({})}},components:[],behaviours:qt([_c.config({channel:`${E3}-${l}`,initialData:r,renderComponents:b=>[$s(f.translate(b.title))]})])}),NO=()=>({dom:hg('<div class="tox-dialog__draghandle"></div>')}),m6=(r,l,d)=>((f,b,v)=>{const C=Ls.parts.title(IO(f,b,D.none(),v)),k=Ls.parts.draghandle(NO()),E=Ls.parts.close(f6(v)),P=[C].concat(f.draggable?[k]:[]).concat([E]);return uf.sketch({dom:hg('<div class="tox-dialog__header"></div>'),components:P})})({title:d.shared.providers.translate(r),draggable:d.dialog.isDraggableModal()},l,d.shared.providers),g6=(r,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":d.translate(r)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${f.getOr(0)}px`,position:"absolute"}},behaviours:l,components:[{dom:hg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),h6=(r,l,d)=>({onClose:()=>d.closeWindow(),onBlock:f=>{const b=fs(r().element,".tox-dialog__header").map(v=>Os(v));Ls.setBusy(r(),(v,C)=>g6(f.message,C,l,b))},onUnblock:()=>{Ls.setIdle(r())}}),sC="tox-dialog--fullscreen",PO="tox-dialog--width-lg",LO="tox-dialog--width-md",iC=r=>{switch(r){case"large":return D.some(PO);case"medium":return D.some(LO);default:return D.none()}},MO=(r,l)=>{const d=un(l.element.dom);cl(d,sC)||(hc(d,[PO,LO]),iC(r).each(f=>Es(d,f)))},p6=(r,l)=>{const d=un(r.element.dom),f=Yd(d),b=Q(f,v=>v===PO||v===LO).or(iC(l));((v,C)=>{ft(C,k=>{((E,P)=>{fh(E)?E.dom.classList.toggle(P):((F,M)=>ct(lv(F),M)?Mx(F,M):S0(F,M))(E,P),cv(E)})(v,k)})})(d,[sC,...b.toArray()])},b6=(r,l,d)=>Ji(RO({...r,firstTabstop:1,lazySink:d.shared.getSink,extraBehaviours:[Rw({}),...r.extraBehaviours],onEscape:f=>{No(f,Hh)},dialogEvents:l,eventOrder:{[mc()]:[_c.name(),Ol.name()],[ma()]:["scroll-lock",_c.name(),"messages","dialog-events","alloy.base.behaviour"],[Fc()]:["alloy.base.behaviour","dialog-events","messages",_c.name(),"scroll-lock"]}})),aC=(r,l={})=>Le(r,d=>d.type==="menu"?(f=>{const b=Le(f.items,v=>{const C=En(l,v.name).getOr(Hn(!1));return{...v,storage:C}});return{...f,items:b}})(d):d),v6=r=>nn(r,(l,d)=>d.type==="menu"?nn(d.items,(f,b)=>(f[b.name]=b.storage,f),l):l,{}),BO=(r,l)=>[dh(Cr(),R$),r(cb,(d,f,b,v)=>{Su(ht(v.element)).fold(j,kv),l.onClose(),f.onClose()}),r(Hh,(d,f,b,v)=>{f.onCancel(d),No(v,cb)}),Ot(jT,(d,f)=>l.onUnblock()),Ot(KT,(d,f)=>l.onBlock(f.event))],y6=(r,l,d)=>{const f=(v,C)=>Ot(v,(k,E)=>{b(k,(P,F)=>{C(r(),P,E.event,k)})}),b=(v,C)=>{_c.getState(v).get().each(k=>{C(k.internalDialog,v)})};return[...BO(f,l),f(Ew,(v,C)=>C.onSubmit(v)),f(hl,(v,C,k)=>{C.onChange(v,{name:k.name})}),f(mm,(v,C,k,E)=>{const P=()=>E.getSystem().isConnected()?$n.focusIn(E):void 0,F=Y=>Bs(Y,"disabled")||Qo(Y,"aria-disabled").exists(ee=>ee==="true"),M=ht(E.element),V=Su(M);C.onAction(v,{name:k.name,value:k.value}),Su(M).fold(P,Y=>{F(Y)||V.exists(ee=>Ms(Y,ee)&&F(ee))?P():d().toOptional().filter(ee=>!Ms(ee.element,Y)).each(P)})}),f(x5,(v,C,k)=>{C.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),ld(v=>{const C=r();mt.setValue(v,C.getData())})]},C9=(r,l)=>{const d=l.map(v=>v.footerButtons).getOr([]),f=po(d,v=>v.align==="start"),b=(v,C)=>uf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Le(C,k=>k.memento.asSpec())});return[b("start",f.pass),b("end",f.fail)]},x6=(r,l,d)=>({dom:hg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:qt([_c.config({channel:`${X5}-${l}`,initialData:r,updateState:(f,b)=>{const v=Le(b.buttons,C=>{const k=kr(((E,P)=>By(E,E.type,P))(C,d));return{name:C.name,align:C.align,memento:k}});return D.some({lookupByName:C=>((k,E,P)=>Q(E,F=>F.name===P).bind(F=>F.memento.getOpt(k)))(f,v,C),footerButtons:v})},renderComponents:C9})])}),FO=(r,l,d)=>Ls.parts.footer(x6(r,l,d)),lC=(r,l)=>{if(r.getRoot().getSystem().isConnected()){const d=sr.getCurrent(r.getFormWrapper()).getOr(r.getFormWrapper());return fb.getField(d,l).orThunk(()=>r.getFooter().bind(b=>_c.getState(b).get()).bind(b=>b.lookupByName(l)))}return D.none()},w6=(r,l,d)=>{const f=v=>{const C=r.getRoot();C.getSystem().isConnected()&&v(C)},b={getData:()=>{const v=r.getRoot(),C=v.getSystem().isConnected()?r.getFormWrapper():v;return{...mt.getValue(C),...eo(d,k=>k.get())}},setData:v=>{f(C=>{const k=b.getData(),E=Br(k,v),P=((M,V)=>{const Y=M.getRoot();return _c.getState(Y).get().map(ee=>Va(_s("data",ee.dataValidator,V))).getOr(V)})(r,E),F=r.getFormWrapper();mt.setValue(F,P),qn(d,(M,V)=>{uo(E,V)&&M.set(E[V])})})},setEnabled:(v,C)=>{lC(r,v).each(C?ao.enable:ao.disable)},focus:v=>{lC(r,v).each(so.focus)},block:v=>{if(!h(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(C=>{Mn(C,KT,{message:v})})},unblock:()=>{f(v=>{No(v,jT)})},showTab:v=>{f(C=>{const k=r.getBody();_c.getState(k).get().exists(E=>E.isTabPanel())&&sr.getCurrent(k).each(E=>{Gy.showTab(E,v)})})},redial:v=>{f(C=>{const k=r.getId(),E=l(v),P=aC(E.internalDialog.buttons,d);C.getSystem().broadcastOn([`${mb}-${k}`],E),C.getSystem().broadcastOn([`${E3}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${Y5}-${k}`],E.internalDialog),C.getSystem().broadcastOn([`${X5}-${k}`],{...E.internalDialog,buttons:P}),b.setData(E.initialData)})},close:()=>{f(v=>{No(v,cb)})},toggleFullscreen:r.toggleFullscreen};return b},C6=(r,l,d,f=!1,b)=>{const v=_n("dialog"),C=_n("dialog-label"),k=_n("dialog-content"),E=r.internalDialog,P=Hn(E.size),F=iC(P.get()).toArray(),M=kr(((ke,De,Ze,it)=>uf.sketch({dom:hg('<div class="tox-dialog__header"></div>'),components:[IO(ke,De,D.some(Ze),it),NO(),f6(it)],containerBehaviours:qt([R1.config({mode:"mouse",blockerClass:"blocker",getTarget:It=>ud(It,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:E.title,draggable:!0},v,C,d.shared.providers)),V=kr(((ke,De,Ze,it,It,Tt)=>Nk(ke,De,D.some(Ze),it,It,Tt))({body:E.body,initialData:E.initialData},v,k,d,f,ke=>lC(me,ke))),Y=aC(E.buttons),ee=v6(Y),fe=ur(Y.length!==0,kr(((ke,De,Ze)=>x6(ke,De,Ze))({buttons:Y},v,d))),pe=y6(()=>we,{onBlock:ke=>{kd.block(ge,(De,Ze)=>{const it=M.getOpt(ge).map(It=>Os(It.element));return g6(ke.message,Ze,d.shared.providers,it)})},onUnblock:()=>{kd.unblock(ge)},onClose:()=>l.closeWindow()},d.shared.getSink),Se=la().os,ge=Ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...F],attributes:{role:"dialog",...Se.isMacOS()?{"aria-label":E.title}:{"aria-labelledby":C}}},eventOrder:{[mc()]:[_c.name(),Ol.name()],[El()]:["execute-on-form"],[ma()]:["reflecting","execute-on-form"]},behaviours:qt([$n.config({mode:"cyclic",onEscape:ke=>(No(ke,cb),D.some(!0)),useTabstopAt:ke=>!Py(ke)&&(nl(ke)!=="button"||Ko(ke,"disabled")!=="disabled"),firstTabstop:1}),_c.config({channel:`${mb}-${v}`,updateState:(ke,De)=>(P.set(De.internalDialog.size),MO(De.internalDialog.size,ke),b(),D.some(De)),initialData:r}),so.config({}),To("execute-on-form",pe.concat([Uf(Cr(),(ke,De)=>{$n.focusIn(ke)}),Ot(w0(),(ke,De)=>{ke.getSystem().broadcastOn([jS],{newFocus:De.event.newFocus})})])),kd.config({getRoot:()=>D.some(ge)}),Jn.config({}),Rw({})]),components:[M.asSpec(),V.asSpec(),...fe.map(ke=>ke.asSpec()).toArray()]}),me={getId:U(v),getRoot:U(ge),getFooter:()=>fe.map(ke=>ke.get(ge)),getBody:()=>V.get(ge),getFormWrapper:()=>{const ke=V.get(ge);return sr.getCurrent(ke).getOr(ke)},toggleFullscreen:()=>{p6(ge,P.get())}},we=w6(me,l.redial,ee);return{dialog:ge,instanceApi:we}};var $O=tinymce.util.Tools.resolve("tinymce.util.URI");const _9=["insertContent","setContent","execCommand","close","block","unblock"],VO=r=>x(r)&&_9.indexOf(r.mceAction)!==-1,S9=(r,l,d,f)=>{const b=_n("dialog"),v=m6(r.title,b,f),C=(Se=>{const ge={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[S3(D.none(),{dom:{tag:"iframe",attributes:{src:Se.url}},behaviours:qt([Gr.config({}),so.config({})])})]}],behaviours:qt([$n.config({mode:"acyclic",useTabstopAt:Me(Py)})])};return Ls.parts.body(ge)})(r),k=r.buttons.bind(Se=>Se.length===0?D.none():D.some(FO({buttons:Se},b,f))),E=((Se,ge)=>{const me=(ke,De)=>Ot(ke,(Ze,it)=>{we(Ze,(It,Tt)=>{De(pe,It,it.event,Ze)})}),we=(ke,De)=>{_c.getState(ke).get().each(Ze=>{De(Ze,ke)})};return[...BO(me,ge),me(mm,(ke,De,Ze)=>{De.onAction(ke,{name:Ze.name})})]})(0,h6(()=>fe,f.shared.providers,l)),P={...r.height.fold(()=>({}),Se=>({height:Se+"px","max-height":Se+"px"})),...r.width.fold(()=>({}),Se=>({width:Se+"px","max-width":Se+"px"}))},F=r.width.isNone()&&r.height.isNone()?["tox-dialog--width-lg"]:[],M=new $O(r.url,{base_uri:new $O(window.location.href)}),V=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,Y=Pc(),ee=[_c.config({channel:`${mb}-${b}`,updateState:(Se,ge)=>D.some(ge),initialData:r}),To("messages",[as(()=>{const Se=Ka(un(window),"message",ge=>{if(M.isSameOrigin(new $O(ge.raw.origin))){const me=ge.raw.data;VO(me)?((we,ke,De)=>{switch(De.mceAction){case"insertContent":we.insertContent(De.content);break;case"setContent":we.setContent(De.content);break;case"execCommand":const Ze=!!R(De.ui)&&De.ui;we.execCommand(De.cmd,Ze,De.value);break;case"close":ke.close();break;case"block":ke.block(De.message);break;case"unblock":ke.unblock()}})(d,pe,me):(we=>!VO(we)&&x(we)&&uo(we,"mceAction"))(me)&&r.onMessage(pe,me)}});Y.set(Se)}),ld(Y.clear)]),Ol.config({channels:{[A3]:{onReceive:(Se,ge)=>{fs(Se.element,"iframe").each(me=>{const we=me.dom.contentWindow;W(we)&&we.postMessage(ge,V)})}}}})],fe=b6({id:b,header:v,body:C,footer:k,extraClasses:F,extraBehaviours:ee,extraStyles:P},E,f),pe=(Se=>{const ge=me=>{Se.getSystem().isConnected()&&me(Se)};return{block:me=>{if(!h(me))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");ge(we=>{Mn(we,KT,{message:me})})},unblock:()=>{ge(me=>{No(me,jT)})},close:()=>{ge(me=>{No(me,cb)})},sendMessage:me=>{ge(we=>{we.getSystem().broadcastOn([A3],me)})}}})(fe);return{dialog:fe,instanceApi:pe}},zO=(r,l)=>Va(_s("data",l,r)),_6=r=>Ry(r,".tox-alert-dialog")||Ry(r,".tox-confirm-dialog"),k9=(r,l,d)=>l&&d?[]:[ds.config({contextual:{lazyContext:()=>D.some(di(un(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:f=>Jp(r,f.element).map(b=>({bounds:Qp(b),optScrollEnv:D.some({currentScrollTop:b.element.dom.scrollTop,scrollElmTop:Hl(b.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:D.none()}))})],E9=r=>{const l=r.editor,d=Mh(l),f=(E=>{const P=E.shared;return{open:(F,M)=>{const V=()=>{Ls.hide(pe),M()},Y=kr(By({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",E)),ee=DO(),fe=OO(V,P.providers),pe=Ji(RO({lazySink:()=>P.getSink(),header:rC(ee,fe),body:c6(F,P.providers),footer:D.some(u6(d6([],[Y.asSpec()]))),onEscape:V,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ot(Hh,V)],eventOrder:{}}));Ls.show(pe);const Se=Y.get(pe);so.focus(Se)}}})(r.backstages.dialog),b=(E=>{const P=E.shared;return{open:(F,M)=>{const V=me=>{Ls.hide(Se),M(me)},Y=kr(By({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",E)),ee=By({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",E),fe=DO(),pe=OO(()=>V(!1),P.providers),Se=Ji(RO({lazySink:()=>P.getSink(),header:rC(fe,pe),body:c6(F,P.providers),footer:D.some(u6(d6([],[ee,Y.asSpec()]))),onEscape:()=>V(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ot(Hh,()=>V(!1)),Ot(Ew,()=>V(!0))],eventOrder:{}}));Ls.show(Se);const ge=Y.get(Se);so.focus(ge)}}})(r.backstages.dialog),v=(E,P)=>I1.open((F,M,V)=>{const Y=M,ee=((fe,pe,Se)=>{const ge=_n("dialog"),me=fe.internalDialog,we=m6(me.title,ge,Se),ke=Hn(me.size),De=iC(ke.get()).toArray(),Ze=((lo,Uo,ss,ms)=>{const Do=Nk(lo,Uo,D.none(),ss,!1,ms);return Ls.parts.body(Do)})({body:me.body,initialData:me.initialData},ge,Se,lo=>lC(In,lo)),it=aC(me.buttons),It=v6(it),Tt=ur(it.length!==0,FO({buttons:it},ge,Se)),kt=y6(()=>Kn,h6(()=>vn,Se.shared.providers,pe),Se.shared.getSink),Wt={id:ge,header:we,body:Ze,footer:Tt,extraClasses:De,extraBehaviours:[_c.config({channel:`${mb}-${ge}`,updateState:(lo,Uo)=>(ke.set(Uo.internalDialog.size),MO(Uo.internalDialog.size,lo),D.some(Uo)),initialData:fe})],extraStyles:{}},vn=b6(Wt,kt,Se),In={getId:U(ge),getRoot:U(vn),getBody:()=>Ls.getBody(vn),getFooter:()=>Ls.getFooter(vn),getFormWrapper:()=>{const lo=Ls.getBody(vn);return sr.getCurrent(lo).getOr(lo)},toggleFullscreen:()=>{p6(vn,ke.get())}},Kn=w6(In,pe.redial,It);return{dialog:vn,instanceApi:Kn}})({dataValidator:V,initialData:Y,internalDialog:F},{redial:I1.redial,closeWindow:()=>{Ls.hide(ee.dialog),P(ee.instanceApi)}},r.backstages.dialog);return Ls.show(ee.dialog),ee.instanceApi.setData(Y),ee.instanceApi},E),C=(E,P,F,M)=>I1.open((V,Y,ee)=>{const fe=zO(Y,ee),pe=Or(),Se=r.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(ke=>{bs.reposition(ke),d&&Se||ds.refresh(ke)}),me=C6({dataValidator:ee,initialData:fe,internalDialog:V},{redial:I1.redial,closeWindow:()=>{pe.on(bs.hide),l.off("ResizeEditor",ge),pe.clear(),F(me.instanceApi)}},r.backstages.popup,M.ariaAttrs,ge),we=Ji(bs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qt([To("window-manager-inline-events",[Ot(uh(),(ke,De)=>{No(me.dialog,Hh)})]),...k9(l,d,Se)]),isExtraPart:(ke,De)=>_6(De)}));return pe.set(we),bs.showWithinBounds(we,ul(me.dialog),{anchor:P},()=>{const ke=l.inline?Cn():un(l.getContainer()),De=di(ke);return D.some(De)}),d&&Se||(ds.refresh(we),l.on("ResizeEditor",ge)),me.instanceApi.setData(fe),$n.focusIn(me.dialog),me.instanceApi},E),k=(E,P,F,M)=>I1.open((V,Y,ee)=>{const fe=zO(Y,ee),pe=Or(),Se=r.backstages.popup.shared.header.isPositionedAtTop(),ge=()=>pe.on(ke=>{bs.reposition(ke),ds.refresh(ke)}),me=C6({dataValidator:ee,initialData:fe,internalDialog:V},{redial:I1.redial,closeWindow:()=>{pe.on(bs.hide),l.off("ResizeEditor ScrollWindow ElementScroll",ge),pe.clear(),F(me.instanceApi)}},r.backstages.popup,M.ariaAttrs,ge),we=Ji(bs.sketch({lazySink:r.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:M.persistent?{event:"doNotDismissYet"}:{},...Se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qt([To("window-manager-inline-events",[Ot(uh(),(ke,De)=>{No(me.dialog,Hh)})]),ds.config({contextual:{lazyContext:()=>D.some(di(un(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ke=>Jp(l,ke.element).map(De=>({bounds:Qp(De),optScrollEnv:D.some({currentScrollTop:De.element.dom.scrollTop,scrollElmTop:Hl(De.element).top})})).getOrThunk(()=>({bounds:Gi(),optScrollEnv:D.none()}))})]),isExtraPart:(ke,De)=>_6(De)}));return pe.set(we),bs.showWithinBounds(we,ul(me.dialog),{anchor:P},()=>r.backstages.popup.shared.getSink().toOptional().bind(ke=>{const De=Jp(l,ke.element).map(It=>Qp(It)).getOr(Gi()),Ze=di(un(l.getContentAreaContainer())),it=Ud(Ze,De);return D.some(Lo(it.x,it.y,it.width,it.height-15))})),ds.refresh(we),l.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",ge),me.instanceApi.setData(fe),$n.focusIn(me.dialog),me.instanceApi},E);return{open:(E,P,F)=>{if(!N(P)){if(P.inline==="toolbar")return C(E,r.backstages.popup.shared.anchors.inlineDialog(),F,P);if(P.inline==="bottom")return k(E,r.backstages.popup.shared.anchors.inlineBottomDialog(),F,P);if(P.inline==="cursor")return C(E,r.backstages.popup.shared.anchors.cursor(),F,P)}return v(E,F)},openUrl:(E,P)=>((F,M)=>I1.openUrl(V=>{const Y=S9(V,{closeWindow:()=>{Ls.hide(Y.dialog),M(Y.instanceApi)}},l,r.backstages.dialog);return Ls.show(Y.dialog),Y.instanceApi},F))(E,P),alert:(E,P)=>{f.open(E,P)},close:E=>{E.close()},confirm:(E,P)=>{b.open(E,P)}}};wp.add("silver",r=>{(k=>{OI(k),(E=>{const P=E.options.register,F=V=>se(V,h)?{value:j7(V),valid:!0}:{valid:!1,message:"Must be an array of strings."},M=V=>J(V)&&V>0?{value:V,valid:!0}:{valid:!1,message:"Must be a positive number."};P("color_map",{processor:F,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),P("color_map_background",{processor:F}),P("color_map_foreground",{processor:F}),P("color_cols",{processor:M,default:gS(E)}),P("color_cols_foreground",{processor:M,default:XN(E,ST)}),P("color_cols_background",{processor:M,default:XN(E,kT)}),P("custom_colors",{processor:"boolean",default:!0}),P("color_default_foreground",{processor:"string",default:yw}),P("color_default_background",{processor:"string",default:yw})})(k),(E=>{const P=E.options.register;P("contextmenu_avoid_overlap",{processor:"string",default:""}),P("contextmenu_never_use_native",{processor:"boolean",default:!1}),P("contextmenu",{processor:F=>F===!1?{value:[],valid:!0}:h(F)||se(F,h)?{value:jL(F),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(k)})(r);let l=()=>Gi();const{dialogs:d,popups:f,renderUI:b}=Pz(r,{getPopupSinkBounds:()=>l()});p5(r,f.backstage.shared);const v=E9({editor:r,backstages:{popup:f.backstage,dialog:d.backstage}}),C=Or();return{renderUI:()=>{const k=b();return Jp(r,f.getMothership().element).each(E=>{l=()=>Qp(E)}),k},getWindowManagerImpl:U(v),getNotificationManagerImpl:()=>nN(r,{backstage:f.backstage},f.getMothership(),C)}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.ModelManager");const s=y=>S=>(O=>{const B=typeof O;return O===null?"null":B==="object"&&Array.isArray(O)?"array":B==="object"&&(z=K=O,(re=String).prototype.isPrototypeOf(z)||((ue=K.constructor)===null||ue===void 0?void 0:ue.name)===re.name)?"string":B;var z,K,re,ue})(S)===y,a=y=>S=>typeof S===y,u=y=>S=>y===S,g=s("string"),h=s("object"),x=s("array"),w=u(null),T=a("boolean"),I=u(void 0),R=y=>!(S=>S==null)(y),N=a("function"),H=a("number"),W=()=>{},Z=y=>()=>y,J=y=>y,se=(y,S)=>y===S;function j(y,...S){return(...O)=>{const B=S.concat(O);return y.apply(null,B)}}const he=y=>S=>!y(S),ae=y=>y(),U=Z(!1),de=Z(!0);class oe{constructor(S,O){this.tag=S,this.value=O}static some(S){return new oe(!0,S)}static none(){return oe.singletonNone}fold(S,O){return this.tag?O(this.value):S()}isSome(){return this.tag}isNone(){return!this.tag}map(S){return this.tag?oe.some(S(this.value)):oe.none()}bind(S){return this.tag?S(this.value):oe.none()}exists(S){return this.tag&&S(this.value)}forall(S){return!this.tag||S(this.value)}filter(S){return!this.tag||S(this.value)?this:oe.none()}getOr(S){return this.tag?this.value:S}or(S){return this.tag?this:S}getOrThunk(S){return this.tag?this.value:S()}orThunk(S){return this.tag?this:S()}getOrDie(S){if(this.tag)return this.value;throw new Error(S??"Called getOrDie on None")}static from(S){return R(S)?oe.some(S):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(S){this.tag&&S(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const Ve=Array.prototype.slice,Me=Array.prototype.indexOf,Xe=Array.prototype.push,rt=(y,S)=>{return O=y,B=S,Me.call(O,B)>-1;var O,B},Oe=(y,S)=>{for(let O=0,B=y.length;O<B;O++)if(S(y[O],O))return!0;return!1},Te=(y,S)=>{const O=[];for(let B=0;B<y;B++)O.push(S(B));return O},D=(y,S)=>{const O=y.length,B=new Array(O);for(let z=0;z<O;z++){const K=y[z];B[z]=S(K,z)}return B},qe=(y,S)=>{for(let O=0,B=y.length;O<B;O++)S(y[O],O)},lt=(y,S)=>{const O=[],B=[];for(let z=0,K=y.length;z<K;z++){const re=y[z];(S(re,z)?O:B).push(re)}return{pass:O,fail:B}},zt=(y,S)=>{const O=[];for(let B=0,z=y.length;B<z;B++){const K=y[B];S(K,B)&&O.push(K)}return O},Yt=(y,S,O)=>(((B,z)=>{for(let K=B.length-1;K>=0;K--)z(B[K],K)})(y,(B,z)=>{O=S(O,B,z)}),O),ct=(y,S,O)=>(qe(y,(B,z)=>{O=S(O,B,z)}),O),kn=(y,S)=>((O,B,z)=>{for(let K=0,re=O.length;K<re;K++){const ue=O[K];if(B(ue,K))return oe.some(ue);if(z(ue,K))break}return oe.none()})(y,S,U),Et=(y,S)=>{for(let O=0,B=y.length;O<B;O++)if(S(y[O],O))return oe.some(O);return oe.none()},Qe=y=>{const S=[];for(let O=0,B=y.length;O<B;++O){if(!x(y[O]))throw new Error("Arr.flatten item "+O+" was not an array, input: "+y);Xe.apply(S,y[O])}return S},Le=(y,S)=>Qe(D(y,S)),ft=(y,S)=>{for(let O=0,B=y.length;O<B;++O)if(S(y[O],O)!==!0)return!1;return!0},po=(y,S)=>{const O={};for(let B=0,z=y.length;B<z;B++){const K=y[B];O[String(K)]=S(K,B)}return O},Ht=(y,S)=>S>=0&&S<y.length?oe.some(y[S]):oe.none(),Tn=y=>Ht(y,0),nn=y=>Ht(y,y.length-1),Q=(y,S)=>{for(let O=0;O<y.length;O++){const B=S(y[O],O);if(B.isSome())return B}return oe.none()},co=Object.keys,Kt=Object.hasOwnProperty,pn=(y,S)=>{const O=co(y);for(let B=0,z=O.length;B<z;B++){const K=O[B];S(y[K],K)}},We=(y,S)=>et(y,(O,B)=>({k:B,v:S(O,B)})),et=(y,S)=>{const O={};return pn(y,(B,z)=>{const K=S(B,z);O[K.k]=K.v}),O},xe=(y,S)=>{const O=[];return pn(y,(B,z)=>{O.push(S(B,z))}),O},Ae=y=>xe(y,J),$e=(y,S)=>Kt.call(y,S),be=typeof window<"u"?window:Function("return this;")(),Ce=(y,S)=>((O,B)=>{let z=B??be;for(let K=0;K<O.length&&z!=null;++K)z=z[O[K]];return z})(y.split("."),S),Ne=Object.getPrototypeOf,je=y=>{const S=Ce("ownerDocument.defaultView",y);return h(y)&&((O=>((B,z)=>{const K=((re,ue)=>Ce(re,ue))(B,z);if(K==null)throw new Error(B+" not available on this browser");return K})("HTMLElement",O))(S).prototype.isPrototypeOf(y)||/^HTML\w*Element$/.test(Ne(y).constructor.name))},gt=y=>y.dom.nodeName.toLowerCase(),sn=y=>y.dom.nodeType,Ut=y=>S=>sn(S)===y,bn=y=>sn(y)===8||gt(y)==="#comment",qn=y=>eo(y)&&je(y.dom),eo=Ut(1),Fo=Ut(3),Ro=Ut(9),Zr=Ut(11),cr=y=>S=>eo(S)&&gt(S)===y,ti=(y,S,O)=>{if(!(g(O)||T(O)||H(O)))throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",O,":: Element ",y),new Error("Attribute value was not simple");y.setAttribute(S,O+"")},wr=(y,S,O)=>{ti(y.dom,S,O)},ji=(y,S)=>{const O=y.dom;pn(S,(B,z)=>{ti(O,z,B)})},En=(y,S)=>{const O=y.dom.getAttribute(S);return O===null?void 0:O},uo=(y,S)=>oe.from(En(y,S)),Oo=(y,S)=>{y.dom.removeAttribute(S)},ci=y=>ct(y.dom.attributes,(S,O)=>(S[O.name]=O.value,S),{}),tl=y=>{if(y==null)throw new Error("Node cannot be null or undefined");return{dom:y}},Xt={fromHtml:(y,S)=>{const O=(S||document).createElement("div");if(O.innerHTML=y,!O.hasChildNodes()||O.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,y),new Error(B)}return tl(O.childNodes[0])},fromTag:(y,S)=>{const O=(S||document).createElement(y);return tl(O)},fromText:(y,S)=>{const O=(S||document).createTextNode(y);return tl(O)},fromDom:tl,fromPoint:(y,S,O)=>oe.from(y.dom.elementFromPoint(S,O)).map(tl)},pi=(y,S)=>{const O=y.dom;if(O.nodeType!==1)return!1;{const B=O;if(B.matches!==void 0)return B.matches(S);if(B.msMatchesSelector!==void 0)return B.msMatchesSelector(S);if(B.webkitMatchesSelector!==void 0)return B.webkitMatchesSelector(S);if(B.mozMatchesSelector!==void 0)return B.mozMatchesSelector(S);throw new Error("Browser lacks native selectors")}},ur=y=>y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11||y.childElementCount===0,ql=(y,S)=>{const O=S===void 0?document:S.dom;return ur(O)?oe.none():oe.from(O.querySelector(y)).map(Xt.fromDom)},Wr=(y,S)=>y.dom===S.dom,ni=(y,S)=>{const O=y.dom,B=S.dom;return O!==B&&O.contains(B)},Dm=pi,Zu=y=>Xt.fromDom(y.dom.ownerDocument),Rc=y=>Ro(y)?y:Zu(y),xl=y=>oe.from(y.dom.parentNode).map(Xt.fromDom),Gu=y=>oe.from(y.dom.parentElement).map(Xt.fromDom),Nr=(y,S)=>{const O=N(S)?S:U;let B=y.dom;const z=[];for(;B.parentNode!==null&&B.parentNode!==void 0;){const K=B.parentNode,re=Xt.fromDom(K);if(z.push(re),O(re)===!0)break;B=K}return z},fo=y=>oe.from(y.dom.previousSibling).map(Xt.fromDom),Yl=y=>oe.from(y.dom.nextSibling).map(Xt.fromDom),Ri=y=>D(y.dom.childNodes,Xt.fromDom),qu=(y,S)=>{const O=y.dom.childNodes;return oe.from(O[S]).map(Xt.fromDom)},un=(y,S)=>{xl(y).each(O=>{O.dom.insertBefore(S.dom,y.dom)})},Yu=(y,S)=>{Yl(y).fold(()=>{xl(y).each(O=>{hs(O,S)})},O=>{un(O,S)})},Rm=(y,S)=>{(B=>qu(B,0))(y).fold(()=>{hs(y,S)},B=>{y.dom.insertBefore(S.dom,B.dom)})},hs=(y,S)=>{y.dom.appendChild(S.dom)},Im=(y,S)=>{un(y,S),hs(S,y)},nl=(y,S)=>{qe(S,(O,B)=>{const z=B===0?y:S[B-1];Yu(z,O)})},Vl=(y,S)=>{qe(S,O=>{hs(y,O)})},wl=y=>{y.dom.textContent="",qe(Ri(y),S=>{ls(S)})},ls=y=>{const S=y.dom;S.parentNode!==null&&S.parentNode.removeChild(S)},Sa=y=>{const S=Ri(y);S.length>0&&nl(y,S),ls(y)},zl=(y,S)=>Xt.fromDom(y.dom.cloneNode(S)),Nm=y=>zl(y,!1),iu=y=>zl(y,!0),au=(y,S)=>{const O=Xt.fromTag(S),B=ci(y);return ji(O,B),O},kf=["tfoot","thead","tbody","colgroup"],Fd=(y,S,O)=>({element:y,rowspan:S,colspan:O}),dr=(y,S,O)=>({element:y,cells:S,section:O}),Ms=(y,S,O)=>({element:y,isNew:S,isLocked:O}),ui=(y,S,O,B)=>({element:y,cells:S,section:O,isNew:B}),Pm=y=>Xt.fromDom(y.dom.host),ol=y=>{const S=Fo(y)?y.dom.parentNode:y.dom;if(S==null||S.ownerDocument===null)return!1;const O=S.ownerDocument;return(K=>{const re=(_e=>Xt.fromDom(_e.dom.getRootNode()))(K);return Zr(ue=re)&&R(ue.dom.host)?oe.some(re):oe.none();var ue})(Xt.fromDom(S)).fold(()=>O.body.contains(S),(B=ol,z=Pm,K=>B(z(K))));var B,z},lu=y=>{const S=y.dom.body;if(S==null)throw new Error("Body is not available yet");return Xt.fromDom(S)},ka=(y,S)=>{let O=[];return qe(Ri(y),B=>{S(B)&&(O=O.concat([B])),O=O.concat(ka(B,S))}),O},Ea=(y,S,O)=>((B,z,K)=>zt(Nr(B,K),re=>pi(re,S)))(y,0,O),cu=(y,S)=>((O,B)=>zt(Ri(O),z=>pi(z,S)))(y),Mr=(y,S)=>((O,B)=>{const z=B===void 0?document:B.dom;return ur(z)?[]:D(z.querySelectorAll(O),Xt.fromDom)})(S,y);var cs=(y,S,O,B,z)=>y(O,B)?oe.some(O):N(z)&&z(O)?oe.none():S(O,B,z);const Re=(y,S,O)=>{let B=y.dom;const z=N(O)?O:U;for(;B.parentNode;){B=B.parentNode;const K=Xt.fromDom(B);if(S(K))return oe.some(K);if(z(K))break}return oe.none()},st=(y,S,O)=>cs((B,z)=>z(B),Re,y,S,O),ze=(y,S,O)=>Re(y,B=>pi(B,S),O),yt=(y,S)=>((O,B)=>kn(O.dom.childNodes,z=>{return K=Xt.fromDom(z),pi(K,S);var K}).map(Xt.fromDom))(y),ht=(y,S)=>ql(S,y),nt=(y,S,O)=>cs((B,z)=>pi(B,z),ze,y,S,O),Gt=(y,S,O=se)=>y.exists(B=>O(B,S)),an=y=>{const S=[],O=B=>{S.push(B)};for(let B=0;B<y.length;B++)y[B].each(O);return S},mn=(y,S)=>y?oe.some(S):oe.none(),Cn=(y,S,O)=>S===""||y.length>=S.length&&y.substr(O,O+S.length)===S,dn=(y,S,O=0,B)=>{const z=y.indexOf(S,O);return z!==-1&&(!!I(B)||z+S.length<=B)},_o=(y,S)=>Cn(y,S,0),cn=(y,S)=>Cn(y,S,y.length-S.length),Tr=(y=>S=>S.replace(y,""))(/^\s+|\s+$/g),Ko=y=>y.length>0,Qo=y=>y.style!==void 0&&N(y.style.getPropertyValue),Bs=(y,S,O)=>{if(!g(O))throw console.error("Invalid call to CSS.set. Property ",S,":: Value ",O,":: Element ",y),new Error("CSS value must be a string: "+O);Qo(y)&&y.style.setProperty(S,O)},Io=(y,S,O)=>{const B=y.dom;Bs(B,S,O)},Xl=(y,S)=>{const O=y.dom;pn(S,(B,z)=>{Bs(O,z,B)})},Aa=(y,S)=>{const O=y.dom,B=window.getComputedStyle(O).getPropertyValue(S);return B!==""||ol(y)?B:bo(O,S)},bo=(y,S)=>Qo(y)?y.style.getPropertyValue(S):"",rl=(y,S)=>{const O=y.dom,B=bo(O,S);return oe.from(B).filter(z=>z.length>0)},Cl=(y,S)=>{((O,B)=>{Qo(O)&&O.style.removeProperty(B)})(y.dom,S),Gt(uo(y,"style").map(Tr),"")&&Oo(y,"style")},Ts=(y,S,O=0)=>uo(y,S).map(B=>parseInt(B,10)).getOr(O),Ef=(y,S)=>Ts(y,S,1),oi=y=>cr("col")(y)?Ts(y,"span",1)>1:Ef(y,"colspan")>1,Lm=(y,S)=>parseInt(Aa(y,S),10),Jl=Z(10),Er=Z(10),$d=(y,S)=>Qg(y,S,de),Qg=(y,S,O)=>Le(Ri(y),B=>pi(B,S)?O(B)?[B]:[]:Qg(B,S,O)),vp=(y,S)=>((O,B,z=U)=>z(B)?oe.none():rt(O,gt(B))?oe.some(B):ze(B,O.join(","),K=>pi(K,"table")||z(K)))(["td","th"],y,S),Os=y=>$d(y,"th,td"),Ic=y=>pi(y,"colgroup")?cu(y,"col"):Le(Mm(y),S=>cu(S,"col")),_l=(y,S)=>nt(y,"table",S),ts=y=>$d(y,"tr"),Mm=y=>_l(y).fold(Z([]),S=>cu(S,"colgroup")),Hl=(y,S)=>D(y,O=>{if(gt(O)==="colgroup"){const B=D(Ic(O),z=>{const K=Ts(z,"span",1);return Fd(z,1,K)});return dr(O,B,"colgroup")}{const B=D(Os(O),z=>{const K=Ts(z,"rowspan",1),re=Ts(z,"colspan",1);return Fd(z,K,re)});return dr(O,B,S(O))}}),sa=y=>xl(y).map(S=>{const O=gt(S);return(B=>rt(kf,B))(O)?O:"tbody"}).getOr("tbody"),eh=y=>{const S=ts(y),O=[...Mm(y),...S];return Hl(O,sa)},Ii=y=>{let S,O=!1;return(...B)=>(O||(O=!0,S=y.apply(null,B)),S)},sl=()=>ia(0,0),ia=(y,S)=>({major:y,minor:S}),Ul={nu:ia,detect:(y,S)=>{const O=String(S).toLowerCase();return y.length===0?sl():((B,z)=>{const K=((ue,_e)=>{for(let Fe=0;Fe<ue.length;Fe++){const Je=ue[Fe];if(Je.test(_e))return Je}})(B,z);if(!K)return{major:0,minor:0};const re=ue=>Number(z.replace(K,"$"+ue));return ia(re(1),re(2))})(y,O)},unknown:sl},yp=(y,S)=>{const O=String(S).toLowerCase();return kn(y,B=>B.search(O))},zo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,uu=y=>S=>dn(S,y),Vd=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:y=>dn(y,"edge/")&&dn(y,"chrome")&&dn(y,"safari")&&dn(y,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,zo],search:y=>dn(y,"chrome")&&!dn(y,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:y=>dn(y,"msie")||dn(y,"trident")},{name:"Opera",versionRegexes:[zo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:uu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:uu("firefox")},{name:"Safari",versionRegexes:[zo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:y=>(dn(y,"safari")||dn(y,"mobile/"))&&dn(y,"applewebkit")}],Xu=[{name:"Windows",search:uu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:y=>dn(y,"iphone")||dn(y,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:uu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:uu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:uu("linux"),versionRegexes:[]},{name:"Solaris",search:uu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:uu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:uu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Gb={browsers:Z(Vd),oses:Z(Xu)},Tx="Edge",f0="Chromium",m0="Opera",WC="Firefox",xp="Safari",g0=y=>{const S=y.current,O=y.version,B=z=>()=>S===z;return{current:S,version:O,isEdge:B(Tx),isChromium:B(f0),isIE:B("IE"),isOpera:B(m0),isFirefox:B(WC),isSafari:B(xp)}},tn=()=>g0({current:void 0,version:Ul.unknown()}),Af=g0,Tf="Windows",h0="Android",aa="Linux",Of="macOS",th="Solaris",Ox="FreeBSD",Dx="ChromeOS",qb=y=>{const S=y.current,O=y.version,B=z=>()=>S===z;return{current:S,version:O,isWindows:B(Tf),isiOS:B("iOS"),isAndroid:B(h0),isMacOS:B(Of),isLinux:B(aa),isSolaris:B(th),isFreeBSD:B(Ox),isChromeOS:B(Dx)}},Rx=()=>qb({current:void 0,version:Ul.unknown()}),p0=qb,Ix=y=>window.matchMedia(y).matches;let nh=Ii(()=>((y,S,O)=>{const B=Gb.browsers(),z=Gb.oses(),K=S.bind(_e=>((Fe,Je)=>Q(Je.brands,Pe=>{const He=Pe.brand.toLowerCase();return kn(Fe,Ke=>{var at;return He===((at=Ke.brand)===null||at===void 0?void 0:at.toLowerCase())}).map(Ke=>({current:Ke.name,version:Ul.nu(parseInt(Pe.version,10),0)}))}))(B,_e)).orThunk(()=>((_e,Fe)=>yp(_e,Fe).map(Je=>{const Pe=Ul.detect(Je.versionRegexes,Fe);return{current:Je.name,version:Pe}}))(B,y)).fold(tn,Af),re=((_e,Fe)=>yp(_e,Fe).map(Je=>{const Pe=Ul.detect(Je.versionRegexes,Fe);return{current:Je.name,version:Pe}}))(z,y).fold(Rx,p0),ue=((_e,Fe,Je,Pe)=>{const He=_e.isiOS()&&/ipad/i.test(Je)===!0,Ke=_e.isiOS()&&!He,at=_e.isiOS()||_e.isAndroid(),dt=at||Pe("(pointer:coarse)"),Pt=He||!Ke&&at&&Pe("(min-device-width:768px)"),Bt=Ke||at&&!Pt,Nt=Fe.isSafari()&&_e.isiOS()&&/safari/i.test(Je)===!1,$t=!Bt&&!Pt&&!Nt;return{isiPad:Z(He),isiPhone:Z(Ke),isTablet:Z(Pt),isPhone:Z(Bt),isTouch:Z(dt),isAndroid:_e.isAndroid,isiOS:_e.isiOS,isWebView:Z(Nt),isDesktop:Z($t)}})(re,K,y,O);return{browser:K,os:re,deviceType:ue}})(window.navigator.userAgent,oe.from(window.navigator.userAgentData),Ix));const b0=()=>nh(),Df=(y,S)=>{const O=z=>{const K=S(z);if(K<=0||K===null){const re=Aa(z,y);return parseFloat(re)||0}return K},B=(z,K)=>ct(K,(re,ue)=>{const _e=Aa(z,ue),Fe=_e===void 0?0:parseInt(_e,10);return isNaN(Fe)?re:re+Fe},0);return{set:(z,K)=>{if(!H(K)&&!K.match(/^[0-9]+$/))throw new Error(y+".set accepts only positive integer values. Value was "+K);const re=z.dom;Qo(re)&&(re.style[y]=K+"px")},get:O,getOuter:O,aggregate:B,max:(z,K,re)=>{const ue=B(z,re);return K>ue?K-ue:0}}},Rf=(y,S,O)=>((B,z)=>(K=>{const re=parseFloat(K);return isNaN(re)?oe.none():oe.some(re)})(B).getOr(z))(Aa(y,S),O),la=Df("width",y=>y.dom.offsetWidth),Sl=y=>la.get(y),oh=y=>la.getOuter(y),er=y=>((S,O)=>{const B=S.dom,z=B.getBoundingClientRect().width||B.offsetWidth;return((K,re,ue,_e)=>re-Rf(K,`padding-${ue}`,0)-Rf(K,`padding-${_e}`,0)-Rf(K,`border-${ue}-width`,0)-Rf(K,`border-${_e}-width`,0))(S,z,"left","right")})(y),zd=(y,S,O)=>{const B=y.cells,z=B.slice(0,S),K=B.slice(S),re=z.concat(O).concat(K);return Ba(y,re)},rh=(y,S,O)=>zd(y,S,[O]),sh=(y,S,O)=>{y.cells[S]=O},Ba=(y,S)=>ui(y.element,S,y.section,y.isNew),Hs=(y,S)=>y.cells[S],us=(y,S)=>Hs(y,S).element,Zi=y=>y.cells.length,ns=y=>{const S=lt(y,O=>O.section==="colgroup");return{rows:S.fail,cols:S.pass}},If=(y,S,O)=>{const B=D(y.cells,O);return ui(S(y.element),B,y.section,!0)},Bm="data-snooker-locked-cols",_i=y=>uo(y,Bm).bind(S=>oe.from(S.match(/\d+/g))).map(S=>po(S,de)),Fa=y=>{const S=ct(ns(y).rows,(B,z)=>(qe(z.cells,(K,re)=>{K.isLocked&&(B[re]=!0)}),B),{}),O=xe(S,(B,z)=>parseInt(z,10));return((B,z)=>{const K=Ve.call(B,0);return K.sort(void 0),K})(O)},Ta=(y,S)=>y+","+S,du=(y,S)=>{const O=Le(y.all,B=>B.cells);return zt(O,S)},Hd=y=>{const S={},O=[],B=Tn(y).map(He=>He.element).bind(_l).bind(_i).getOr({});let z=0,K=0,re=0;const{pass:ue,fail:_e}=lt(y,He=>He.section==="colgroup");qe(_e,He=>{const Ke=[];qe(He.cells,at=>{let dt=0;for(;S[Ta(re,dt)]!==void 0;)dt++;const Pt=((Nt,$t)=>$e(Nt,$t)&&Nt[$t]!==void 0&&Nt[$t]!==null)(B,dt.toString()),Bt=((Nt,$t,Jt,on,mt,Sn)=>({element:Nt,rowspan:$t,colspan:Jt,row:on,column:mt,isLocked:Sn}))(at.element,at.rowspan,at.colspan,re,dt,Pt);for(let Nt=0;Nt<at.colspan;Nt++)for(let $t=0;$t<at.rowspan;$t++){const Jt=dt+Nt,on=Ta(re+$t,Jt);S[on]=Bt,K=Math.max(K,Jt+1)}Ke.push(Bt)}),z++,O.push(dr(He.element,Ke,He.section)),re++});const{columns:Fe,colgroups:Je}=nn(ue).map(He=>{const Ke=(dt=>{const Pt={};let Bt=0;return qe(dt.cells,Nt=>{const $t=Nt.colspan;Te($t,Jt=>{const on=Bt+Jt;Pt[on]=((mt,Sn,to)=>({element:mt,colspan:Sn,column:to}))(Nt.element,$t,on)}),Bt+=$t}),Pt})(He);return{colgroups:[((dt,Pt)=>({element:dt,columns:Pt}))(He.element,Ae(Ke))],columns:Ke}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((He,Ke)=>({rows:He,columns:Ke}))(z,K),access:S,all:O,columns:Fe,colgroups:Je}},Lo=y=>{const S=eh(y);return Hd(S)},di=Hd,kl=(y,S,O)=>oe.from(y.access[Ta(S,O)]),Ud=(y,S,O)=>{const B=du(y,z=>O(S,z.element));return B.length>0?oe.some(B[0]):oe.none()},Gi=du,Hn=y=>Le(y.all,S=>S.cells),Nc=y=>Ae(y.columns),Pc=y=>co(y.columns).length>0,Or=(y,S)=>oe.from(y.columns[S]),wp=(y,S=de)=>{const O=y.grid,B=Te(O.columns,J),z=Te(O.rows,J);return D(B,K=>Yb(()=>Le(z,re=>kl(y,re,K).filter(ue=>ue.column===K).toArray()),re=>re.colspan===1&&S(re.element),()=>kl(y,0,K)))},Yb=(y,S,O)=>{const B=y();return kn(B,S).orThunk(()=>oe.from(B[0]).orThunk(O)).map(z=>z.element)},Wd=y=>{const S=y.grid,O=Te(S.rows,J),B=Te(S.columns,J);return D(O,z=>Yb(()=>Le(B,K=>kl(y,z,K).filter(re=>re.row===z).fold(Z([]),re=>[re])),K=>K.rowspan===1,()=>kl(y,z,0)))},Ho=(y,S)=>O=>$a(O)==="rtl"?S:y,$a=y=>Aa(y,"direction")==="rtl"?"rtl":"ltr",Cp=Df("height",y=>{const S=y.dom;return ol(y)?S.getBoundingClientRect().height:S.offsetHeight}),Kd=y=>Cp.get(y),Xb=y=>Cp.getOuter(y),fu=(y,S)=>({left:y,top:S,translate:(O,B)=>fu(y+O,S+B)}),il=fu,mu=(y,S)=>y!==void 0?y:S!==void 0?S:0,Nf=y=>{const S=y.dom.ownerDocument,O=S.body,B=S.defaultView,z=S.documentElement;if(O===y.dom)return il(O.offsetLeft,O.offsetTop);const K=mu(B==null?void 0:B.pageYOffset,z.scrollTop),re=mu(B==null?void 0:B.pageXOffset,z.scrollLeft),ue=mu(z.clientTop,O.clientTop),_e=mu(z.clientLeft,O.clientLeft);return Ue(y).translate(re-_e,K-ue)},Ue=y=>{const S=y.dom,O=S.ownerDocument.body;return O===S?il(O.offsetLeft,O.offsetTop):ol(y)?(B=>{const z=B.getBoundingClientRect();return il(z.left,z.top)})(S):il(0,0)},Fm=(y,S)=>({row:y,y:S}),Br=(y,S)=>({col:y,x:S}),Jb=y=>Nf(y).left+oh(y),ih=y=>Nf(y).left,gu=(y,S)=>Br(y,ih(S)),tr=(y,S)=>Br(y,Jb(S)),ca=y=>Nf(y).top,Ju=(y,S)=>Fm(y,ca(S)),dc=(y,S)=>Fm(y,ca(S)+Xb(S)),Qu=(y,S,O)=>{if(O.length===0)return[];const B=D(O.slice(1),(K,re)=>K.map(ue=>y(re,ue))),z=O[O.length-1].map(K=>S(O.length-1,K));return B.concat([z])},ed={delta:J,positions:y=>Qu(Ju,dc,y),edge:ca},ua=Ho({delta:J,edge:ih,positions:y=>Qu(gu,tr,y)},{delta:y=>-y,edge:Jb,positions:y=>Qu(tr,gu,y)}),Pf={delta:(y,S)=>ua(S).delta(y,S),positions:(y,S)=>ua(S).positions(y,S),edge:y=>ua(y).edge(y)},$m={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qb=(()=>{const y="[0-9]+",S="[eE][+-]?"+y,O=z=>`(?:${z})?`,B=["Infinity",y+"\\."+O(y)+O(S),"\\."+y+O(S),y+O(S)].join("|");return new RegExp(`^([+-]?(?:${B}))(.*)$`)})(),Si=/(\d+(\.\d+)?)%/,Gn=/(\d+(\.\d+)?)px|em/,td=cr("col"),Vm=cr("tr"),da=(y,S,O)=>{const B=Gu(y).getOrThunk(()=>lu(Zu(y)));return S(y)/O(B)*100},nd=(y,S)=>{Io(y,"width",S+"px")},Wl=(y,S)=>{Io(y,"width",S+"%")},od=(y,S)=>{Io(y,"height",S+"px")},jd=y=>{const S=(O=>{return Rf(B=O,"height",B.dom.offsetHeight)+"px";var B})(y);return S?((O,B,z,K)=>{const re=parseFloat(O);return cn(O,"%")&&gt(B)!=="table"?((ue,_e,Fe,Je)=>{const Pe=_l(ue).map(He=>{const Ke=Fe(He);return Math.floor(_e/100*Ke)}).getOr(_e);return Je(ue,Pe),Pe})(B,re,z,K):re})(S,y,Kd,od):Kd(y)},ki=(y,S)=>rl(y,S).orThunk(()=>uo(y,S).map(O=>O+"px")),fc=y=>ki(y,"width"),hu=y=>da(y,Sl,er),zm=y=>{return td(y)?Sl(y):Rf(S=y,"width",S.dom.offsetWidth);var S},v0=y=>Vm(y)?Kd(y):((S,O,B)=>B(S)/Ef(S,"rowspan"))(y,0,jd),rd=(y,S,O)=>{Io(y,"width",S+O)},Lf=y=>da(y,Sl,er)+"%",ev=Z(Si),_s=cr("col"),Va=y=>fc(y).getOrThunk(()=>zm(y)+"px"),Oa=y=>{return(S=y,ki(S,"height")).getOrThunk(()=>v0(y)+"px");var S},al=(y,S,O,B,z,K)=>y.filter(B).fold(()=>K(((re,ue)=>{if(ue<0||ue>=re.length-1)return oe.none();const _e=re[ue].fold(()=>{const Je=(Pe=>{const He=Ve.call(Pe,0);return He.reverse(),He})(re.slice(0,ue));return Q(Je,(Pe,He)=>Pe.map(Ke=>({value:Ke,delta:He+1})))},Je=>oe.some({value:Je,delta:0})),Fe=re[ue+1].fold(()=>{const Je=re.slice(ue+1);return Q(Je,(Pe,He)=>Pe.map(Ke=>({value:Ke,delta:He+1})))},Je=>oe.some({value:Je,delta:1}));return _e.bind(Je=>Fe.map(Pe=>{const He=Pe.delta+Je.delta;return Math.abs(Pe.value-Je.value)/He}))})(O,S)),re=>z(re)),bi=(y,S,O,B)=>{const z=wp(y),K=Pc(y)?(_e=>D(Nc(_e),Fe=>oe.from(Fe.element)))(y):z,re=[oe.some(Pf.edge(S))].concat(D(Pf.positions(z,S),_e=>_e.map(Fe=>Fe.x))),ue=he(oi);return D(K,(_e,Fe)=>al(_e,Fe,re,ue,Je=>{if((He=>{const Ke=b0().browser,at=Ke.isChromium()||Ke.isFirefox();return!_s(He)||at})(Je))return O(Je);{const He=(Pe=z[Fe])!=null?J(Pe):oe.none();return al(He,Fe,re,ue,Ke=>B(oe.some(Sl(Ke))),B)}var Pe},B))},_p=y=>y.map(S=>S+"px").getOr(""),fi=(y,S,O)=>bi(y,S,zm,B=>B.getOrThunk(O.minCellWidth)),qi=(y,S,O,B)=>{const z=Wd(y),K=D(y.all,ue=>oe.some(ue.element)),re=[oe.some(ed.edge(S))].concat(D(ed.positions(z,S),ue=>ue.map(_e=>_e.y)));return D(K,(ue,_e)=>al(ue,_e,re,de,O,B))},pu=(y,S)=>()=>ol(y)?S(y):parseFloat(rl(y,"width").getOr("0")),Lt=y=>{const S=pu(y,B=>parseFloat(Lf(B))),O=pu(y,Sl);return{width:S,pixelWidth:O,getWidths:(B,z)=>((K,re,ue)=>bi(K,re,hu,_e=>_e.fold(()=>ue.minCellWidth(),Fe=>Fe/ue.pixelWidth()*100)))(B,y,z),getCellDelta:B=>B/O()*100,singleColumnWidth:(B,z)=>[100-B],minCellWidth:()=>Jl()/O()*100,setElementWidth:Wl,adjustTableWidth:B=>{const z=S();Wl(y,z+B/100*z)},isRelative:!0,label:"percent"}},Yi=y=>{const S=pu(y,Sl);return{width:S,pixelWidth:S,getWidths:(O,B)=>fi(O,y,B),getCellDelta:J,singleColumnWidth:(O,B)=>[Math.max(Jl(),O+B)-O],minCellWidth:Jl,setElementWidth:nd,adjustTableWidth:O=>{const B=S()+O;nd(y,B)},isRelative:!1,label:"pixel"}},Sp=y=>fc(y).fold(()=>(S=>{const O=pu(S,Sl),B=Z(0);return{width:O,pixelWidth:O,getWidths:(z,K)=>fi(z,S,K),getCellDelta:B,singleColumnWidth:Z([0]),minCellWidth:B,setElementWidth:W,adjustTableWidth:W,isRelative:!0,label:"none"}})(y),S=>((O,B)=>ev().exec(B)!==null?Lt(O):Yi(O))(y,S)),Ss=Yi,sd=Lt,za=(y,S,O)=>{const B=y[O].element,z=Xt.fromTag("td");hs(z,Xt.fromTag("br")),(S?hs:Rm)(B,z)},Lc=((y,S)=>{const O=B=>y(B)?oe.from(B.dom.nodeValue):oe.none();return{get:B=>{if(!y(B))throw new Error("Can only get text value of a text node");return O(B).getOr("")},getOption:O,set:(B,z)=>{if(!y(B))throw new Error("Can only set raw text value of a text node");B.dom.nodeValue=z}}})(Fo),Hm=y=>Lc.get(y),ll=y=>Lc.getOption(y),qo=(y,S)=>Lc.set(y,S),Us=y=>gt(y)==="img"?1:ll(y).fold(()=>Ri(y).length,S=>S.length),Mf=["img","br"],Fs=y=>ll(y).filter(S=>S.trim().length!==0||S.indexOf("")>-1).isSome()||rt(Mf,gt(y))||(S=>qn(S)&&En(S,"contenteditable")==="false")(y),ah=y=>((S,O)=>{const B=z=>{for(let K=0;K<z.childNodes.length;K++){const re=Xt.fromDom(z.childNodes[K]);if(O(re))return oe.some(re);const ue=B(z.childNodes[K]);if(ue.isSome())return ue}return oe.none()};return B(S.dom)})(y,Fs),bu=y=>y0(y,Fs),y0=(y,S)=>{const O=B=>{const z=Ri(B);for(let K=z.length-1;K>=0;K--){const re=z[K];if(S(re))return oe.some(re);const ue=O(re);if(ue.isSome())return ue}return oe.none()};return O(y)},Ds={scope:["row","col"]},ut=y=>()=>{const S=Xt.fromTag("td",y.dom);return hs(S,Xt.fromTag("br",y.dom)),S},Ha=y=>()=>Xt.fromTag("col",y.dom),Ws=y=>()=>Xt.fromTag("colgroup",y.dom),Ql=y=>()=>Xt.fromTag("tr",y.dom),Mc=(y,S,O)=>{const B=((z,K)=>{const re=au(z,K),ue=Ri(iu(z));return Vl(re,ue),re})(y,S);return pn(O,(z,K)=>{z===null?Oo(B,K):wr(B,K,z)}),B},ri=y=>y,os=(y,S,O)=>{const B=(z,K)=>{((re,ue)=>{const _e=re.dom,Fe=ue.dom;Qo(_e)&&Qo(Fe)&&(Fe.style.cssText=_e.style.cssText)})(z.element,K),Cl(K,"height"),z.colspan!==1&&Cl(K,"width")};return{col:z=>{const K=Xt.fromTag(gt(z.element),S.dom);return B(z,K),y(z.element,K),K},colgroup:Ws(S),row:Ql(S),cell:z=>{const K=Xt.fromTag(gt(z.element),S.dom),re=O.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ue=re.length>0?((_e,Fe,Je)=>ah(_e).map(Pe=>{const He=Je.join(","),Ke=Ea(Pe,He,at=>Wr(at,_e));return Yt(Ke,(at,dt)=>{const Pt=Nm(dt);return hs(at,Pt),Pt},Fe)}).getOr(Fe))(z.element,K,re):K;return hs(ue,Xt.fromTag("br")),B(z,K),((_e,Fe)=>{pn(Ds,(Je,Pe)=>uo(_e,Pe).filter(He=>rt(Je,He)).each(He=>wr(Fe,Pe,He)))})(z.element,K),y(z.element,K),K},replace:Mc,colGap:Ha(S),gap:ut(S)}},Pr=y=>({col:Ha(y),colgroup:Ws(y),row:Ql(y),cell:ut(y),replace:ri,colGap:Ha(y),gap:ut(y)}),Ua=y=>S=>S.options.get(y),ec="100%",vu=y=>{var S;const O=y.dom,B=(S=O.getParent(y.selection.getStart(),O.isBlock))!==null&&S!==void 0?S:y.getBody();return er(Xt.fromDom(B))+"px"},Zd=y=>oe.from(y.options.get("table_clone_elements")),Um=Ua("table_header_type"),lh=Ua("table_column_resizing"),ch=y=>lh(y)==="preservetable",tv=y=>lh(y)==="resizetable",nv=Ua("table_sizing_mode"),id=y=>nv(y)==="relative",L=y=>nv(y)==="fixed",G=y=>nv(y)==="responsive",ce=Ua("table_resize_bars"),Be=Ua("table_style_by_css"),Ye=Ua("table_merge_content_on_paste"),Mt=y=>{const S=y.options,O=S.get("table_default_attributes");return S.isSet("table_default_attributes")?O:((B,z)=>G(B)||Be(B)?z:L(B)?{...z,width:vu(B)}:{...z,width:ec})(y,O)},Yn=Ua("table_use_colgroups"),So=y=>nt(y,"[contenteditable]"),mo=(y,S=!1)=>ol(y)?y.dom.isContentEditable:So(y).fold(Z(S),O=>Pn(O)==="true"),Pn=y=>y.dom.contentEditable,Cr=y=>Xt.fromDom(y.getBody()),Ks=y=>S=>Wr(S,Cr(y)),ks=y=>{Oo(y,"data-mce-style");const S=O=>Oo(O,"data-mce-style");qe(Os(y),S),qe(Ic(y),S),qe(ts(y),S)},Bc=y=>Xt.fromDom(y.selection.getStart()),Wm=y=>y.getBoundingClientRect().width,Km=y=>y.getBoundingClientRect().height,vi=y=>(S,O)=>{const B=S.dom.getStyle(O,y)||S.dom.getAttrib(O,y);return oe.from(B).filter(Ko)},KC=vi("width"),ov=vi("height"),x0=y=>st(y,cr("table")).exists(mo),fa=(y,S)=>{const O=S.column,B=S.column+S.colspan-1,z=S.row,K=S.row+S.rowspan-1;return O<=y.finishCol&&B>=y.startCol&&z<=y.finishRow&&K>=y.startRow},Rs=(y,S)=>S.column>=y.startCol&&S.column+S.colspan-1<=y.finishCol&&S.row>=y.startRow&&S.row+S.rowspan-1<=y.finishRow,Ni=(y,S,O)=>{const B=Ud(y,S,Wr),z=Ud(y,O,Wr);return B.bind(K=>z.map(re=>{return ue=K,_e=re,{startRow:Math.min(ue.row,_e.row),startCol:Math.min(ue.column,_e.column),finishRow:Math.max(ue.row+ue.rowspan-1,_e.row+_e.rowspan-1),finishCol:Math.max(ue.column+ue.colspan-1,_e.column+_e.colspan-1)};var ue,_e}))},ad=(y,S,O)=>Ni(y,S,O).map(B=>{const z=Gi(y,j(fa,B));return D(z,K=>K.element)}),kp=(y,S)=>Ud(y,S,(O,B)=>ni(B,O)).map(O=>O.element),Nx=(y,S,O)=>{const B=El(y);return ad(B,S,O)},mc=(y,S,O,B,z)=>{const K=El(y),re=Wr(y,O)?oe.some(S):kp(K,S),ue=Wr(y,z)?oe.some(B):kp(K,B);return re.bind(_e=>ue.bind(Fe=>ad(K,_e,Fe)))},El=Lo;var rv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Bf=()=>({up:Z({selector:ze,closest:nt,predicate:Re,all:Nr}),down:Z({selector:Mr,predicate:ka}),styles:Z({get:Aa,getRaw:rl,set:Io,remove:Cl}),attrs:Z({get:En,set:wr,remove:Oo,copyTo:(y,S)=>{const O=ci(y);ji(S,O)}}),insert:Z({before:un,after:Yu,afterAll:nl,append:hs,appendAll:Vl,prepend:Rm,wrap:Im}),remove:Z({unwrap:Sa,remove:ls}),create:Z({nu:Xt.fromTag,clone:y=>Xt.fromDom(y.dom.cloneNode(!1)),text:Xt.fromText}),query:Z({comparePosition:(y,S)=>y.dom.compareDocumentPosition(S.dom),prevSibling:fo,nextSibling:Yl}),property:Z({children:Ri,name:gt,parent:xl,document:y=>Rc(y).dom,isText:Fo,isComment:bn,isElement:eo,isSpecial:y=>{const S=gt(y);return rt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],S)},getLanguage:y=>eo(y)?uo(y,"lang"):oe.none(),getText:Hm,setText:qo,isBoundary:y=>!!eo(y)&&(gt(y)==="body"||rt(rv,gt(y))),isEmptyTag:y=>!!eo(y)&&rt(["br","img","hr","input"],gt(y)),isNonEditable:y=>eo(y)&&En(y,"contenteditable")==="false"}),eq:Wr,is:Dm});const BE=(y,S,O,B)=>{const z=S(y,O);return Yt(B,(K,re)=>{const ue=S(y,re);return sv(y,K,ue)},z)},sv=(y,S,O)=>S.bind(B=>O.filter(j(y.eq,B))),Gd=Bf(),Ff=(y,S)=>((O,B,z)=>z.length>0?((K,re,ue,_e)=>_e(K,re,ue[0],ue.slice(1)))(O,B,z,BE):oe.none())(Gd,(O,B)=>y(B),S),Nn=y=>ze(y,"table"),yu=(y,S,O)=>{const B=z=>K=>O!==void 0&&O(K)||Wr(K,z);return Wr(y,S)?oe.some({boxes:oe.some([y]),start:y,finish:S}):Nn(y).bind(z=>Nn(S).bind(K=>{if(Wr(z,K))return oe.some({boxes:Nx(z,y,S),start:y,finish:S});if(ni(z,K)){const re=Ea(S,"td,th",B(z)),ue=re.length>0?re[re.length-1]:S;return oe.some({boxes:mc(z,y,z,S,K),start:y,finish:ue})}if(ni(K,z)){const re=Ea(y,"td,th",B(K)),ue=re.length>0?re[re.length-1]:y;return oe.some({boxes:mc(K,y,z,S,K),start:y,finish:ue})}return((re,ue,_e)=>((Fe,Je,Pe,He=U)=>{const Ke=[Je].concat(Fe.up().all(Je)),at=[Pe].concat(Fe.up().all(Pe)),dt=$t=>Et($t,He).fold(()=>$t,Jt=>$t.slice(0,Jt+1)),Pt=dt(Ke),Bt=dt(at),Nt=kn(Pt,$t=>Oe(Bt,((Jt,on)=>j(Jt.eq,on))(Fe,$t)));return{firstpath:Pt,secondpath:Bt,shared:Nt}})(Gd,re,ue,void 0))(y,S).shared.bind(re=>nt(re,"table",O).bind(ue=>{const _e=Ea(S,"td,th",B(ue)),Fe=_e.length>0?_e[_e.length-1]:S,Je=Ea(y,"td,th",B(ue)),Pe=Je.length>0?Je[Je.length-1]:y;return oe.some({boxes:mc(ue,y,z,S,K),start:Pe,finish:Fe})}))}))},iv=(y,S)=>{const O=Mr(y,S);return O.length>0?oe.some(O):oe.none()},$f=(y,S,O)=>ht(y,S).bind(B=>ht(y,O).bind(z=>Ff(Nn,[B,z]).map(K=>({first:B,last:z,table:K})))),ma=(y,S,O,B,z)=>((K,re)=>kn(K,ue=>pi(ue,re)))(y,z).bind(K=>((re,ue,_e)=>_l(re).bind(Fe=>((Je,Pe,He,Ke)=>Ud(Je,Pe,Wr).bind(at=>{const dt=He>0?at.row+at.rowspan-1:at.row,Pt=Ke>0?at.column+at.colspan-1:at.column;return kl(Je,dt+He,Pt+Ke).map(Bt=>Bt.element)}))(El(Fe),re,ue,_e)))(K,S,O).bind(re=>((ue,_e)=>ze(ue,"table").bind(Fe=>ht(Fe,_e).bind(Je=>yu(Je,ue).bind(Pe=>Pe.boxes.map(He=>({boxes:He,start:Pe.start,finish:Pe.finish}))))))(re,B))),Fc=(y,S)=>iv(y,S),uh=(y,S,O)=>$f(y,S,O).bind(B=>{const z=_e=>Wr(y,_e),K="thead,tfoot,tbody,table",re=ze(B.first,K,z),ue=ze(B.last,K,z);return re.bind(_e=>ue.bind(Fe=>Wr(_e,Fe)?((Je,Pe,He)=>((Ke,at,dt)=>Ni(Ke,at,dt).bind(Pt=>((Bt,Nt)=>{let $t=!0;const Jt=j(Rs,Nt);for(let on=Nt.startRow;on<=Nt.finishRow;on++)for(let mt=Nt.startCol;mt<=Nt.finishCol;mt++)$t=$t&&kl(Bt,on,mt).exists(Jt);return $t?oe.some(Nt):oe.none()})(Ke,Pt)))(El(Je),Pe,He))(B.table,B.first,B.last):oe.none()))}),Vf=J,w0=y=>{const S=(O,B)=>uo(O,B).exists(z=>parseInt(z,10)>1);return y.length>0&&ft(y,O=>S(O,"rowspan")||S(O,"colspan"))?oe.some(y):oe.none()},xu=(y,S,O)=>S.length<=1?oe.none():uh(y,O.firstSelectedSelector,O.lastSelectedSelector).map(B=>({bounds:B,cells:S})),Ep="data-mce-selected",Ap="data-mce-first-selected",jt="data-mce-last-selected",Px="["+Ep+"]",zf={selected:Ep,selectedSelector:"td["+Ep+"],th["+Ep+"]",firstSelected:Ap,firstSelectedSelector:"td["+Ap+"],th["+Ap+"]",lastSelected:jt,lastSelectedSelector:"td["+jt+"],th["+jt+"]"},No=(y,S,O)=>({element:O,mergable:xu(S,y,zf),unmergable:w0(y),selection:Vf(y)}),Mn=y=>(S,O)=>{const B=gt(S),z=B==="col"||B==="colgroup"?_l(K=S).bind(re=>Fc(re,zf.firstSelectedSelector)).fold(Z(K),re=>re[0]):S;var K;return nt(z,y,O)},Hf=Mn("th,td,caption"),ps=Mn("th,td"),$c=y=>{return S=y.model.table.getSelectedCells(),D(S,Xt.fromDom);var S},Vc=(y,S)=>{y.on("BeforeGetContent",O=>{const B=z=>{O.preventDefault(),(K=>_l(K[0]).map(re=>{const ue=((_e,Fe)=>{const Je=$t=>pi($t.element,Fe),Pe=iu(_e),He=eh(Pe),Ke=Sp(_e),at=di(He),dt=(($t,Jt)=>{const on=$t.grid.columns;let mt=$t.grid.rows,Sn=on,to=0,Eo=0;const io=[],no=[];return pn($t.access,ko=>{if(io.push(ko),Jt(ko)){no.push(ko);const Yo=ko.row,ii=Yo+ko.rowspan-1,Ra=ko.column,Qi=Ra+ko.colspan-1;Yo<mt?mt=Yo:ii>to&&(to=ii),Ra<Sn?Sn=Ra:Qi>Eo&&(Eo=Qi)}}),((ko,Yo,ii,Ra,Qi,bc)=>({minRow:ko,minCol:Yo,maxRow:ii,maxCol:Ra,allCells:Qi,selectedCells:bc}))(mt,Sn,to,Eo,io,no)})(at,Je),Pt="th:not("+Fe+"),td:not("+Fe+")",Bt=Qg(Pe,"th,td",$t=>pi($t,Pt));qe(Bt,ls),(($t,Jt,on,mt)=>{const Sn=zt($t,io=>io.section!=="colgroup"),to=Jt.grid.columns,Eo=Jt.grid.rows;for(let io=0;io<Eo;io++){let no=!1;for(let ko=0;ko<to;ko++)io<on.minRow||io>on.maxRow||ko<on.minCol||ko>on.maxCol||(kl(Jt,io,ko).filter(mt).isNone()?za(Sn,no,io):no=!0)}})(He,at,dt,Je);const Nt=(($t,Jt,on,mt)=>{if(mt.minCol===0&&Jt.grid.columns===mt.maxCol+1)return 0;const Sn=fi(Jt,$t,on),to=ct(Sn,(no,ko)=>no+ko,0),Eo=ct(Sn.slice(mt.minCol,mt.maxCol+1),(no,ko)=>no+ko,0),io=Eo/to*on.pixelWidth()-on.pixelWidth();return on.getCellDelta(io)})(_e,Lo(_e),Ke,dt);return(($t,Jt,on,mt)=>{pn(on.columns,to=>{(to.column<Jt.minCol||to.column>Jt.maxCol)&&ls(to.element)});const Sn=zt($d($t,"tr"),to=>to.dom.childElementCount===0);qe(Sn,ls),Jt.minCol!==Jt.maxCol&&Jt.minRow!==Jt.maxRow||qe($d($t,"th,td"),to=>{Oo(to,"rowspan"),Oo(to,"colspan")}),Oo($t,Bm),Oo($t,"data-snooker-col-series"),Sp($t).adjustTableWidth(mt)})(Pe,dt,at,Nt),Pe})(re,Px);return ks(ue),[ue]}))(z).each(K=>{O.content=O.format==="text"?(re=>D(re,ue=>ue.dom.innerText).join(""))(K):((re,ue)=>D(ue,_e=>re.selection.serializer.serialize(_e.dom,{})).join(""))(y,K)})};if(O.selection===!0){const z=(K=>zt($c(K),re=>pi(re,zf.selectedSelector)))(y);z.length>=1&&B(z)}}),y.on("BeforeSetContent",O=>{if(O.selection===!0&&O.paste===!0){const B=$c(y);Tn(B).each(z=>{_l(z).each(K=>{const re=zt(((_e,Fe)=>{const Je=document.createElement("div");return Je.innerHTML=_e,Ri(Xt.fromDom(Je))})(O.content),_e=>gt(_e)!=="meta"),ue=cr("table");if(Ye(y)&&re.length===1&&ue(re[0])){O.preventDefault();const _e=Xt.fromDom(y.getDoc()),Fe=Pr(_e),Je=((Pe,He,Ke)=>({element:Pe,clipboard:He,generators:Ke}))(z,re[0],Fe);S.pasteCells(K,Je).each(()=>{y.focus()})}})})}})},yo=(y,S)=>({element:y,offset:S}),Tp=(y,S,O)=>y.property().isText(S)&&y.property().getText(S).trim().length===0||y.property().isComment(S)?O(S).bind(B=>Tp(y,B,O).orThunk(()=>oe.some(B))):oe.none(),jC=(y,S)=>y.property().isText(S)?y.property().getText(S).length:y.property().children(S).length,Ot=(y,S)=>{const O=Tp(y,S,y.query().prevSibling).getOr(S);if(y.property().isText(O))return yo(O,jC(y,O));const B=y.property().children(O);return B.length>0?Ot(y,B[B.length-1]):yo(O,jC(y,O))},Lx=Ot,Op=Bf(),Dp=(y,S)=>{oi(y)||(B=>fc(B).bind(z=>{return K=z,re=["fixed","relative","empty"],oe.from(Qb.exec(K)).bind(ue=>{const _e=Number(ue[1]),Fe=ue[2];return((Je,Pe)=>Oe(Pe,He=>Oe($m[He],Ke=>Je===Ke)))(Fe,re)?oe.some({value:_e,unit:Fe}):oe.none()});var K,re}))(y).each(B=>{const z=B.value/2;rd(y,z,B.unit),rd(S,z,B.unit)})},dh=y=>D(y,Z(0)),jm=(y,S,O,B,z)=>z(y.slice(0,S)).concat(B).concat(z(y.slice(O))),ZC=y=>(S,O,B,z)=>{if(y(B)){const K=Math.max(z,S[O]-Math.abs(B)),re=Math.abs(K-S[O]);return B>=0?re:-re}return B},Uf=ZC(y=>y<0),as=ZC(de),ld=()=>{const y=(O,B,z,K)=>{const re=(100+z)/100,ue=Math.max(K,(O[B]+z)/re);return D(O,(_e,Fe)=>(Fe===B?ue:_e/re)-_e)},S=(O,B,z,K,re,ue)=>ue?y(O,B,K,re):((_e,Fe,Je,Pe,He)=>{const Ke=Uf(_e,Fe,Pe,He);return jm(_e,Fe,Je+1,[Ke,0],dh)})(O,B,z,K,re);return{resizeTable:(O,B)=>O(B),clampTableDelta:Uf,calcLeftEdgeDeltas:S,calcMiddleDeltas:(O,B,z,K,re,ue,_e)=>S(O,z,K,re,ue,_e),calcRightEdgeDeltas:(O,B,z,K,re,ue)=>{if(ue)return y(O,z,K,re);{const _e=Uf(O,z,K,re);return dh(O.slice(0,z)).concat([_e])}},calcRedestributedWidths:(O,B,z,K)=>{if(K){const re=(B+z)/B,ue=D(O,_e=>_e/re);return{delta:100*re-100,newSizes:ue}}return{delta:z,newSizes:O}}}},C0=()=>{const y=(S,O,B,z,K)=>{const re=as(S,z>=0?B:O,z,K);return jm(S,O,B+1,[re,-re],dh)};return{resizeTable:(S,O,B)=>{B&&S(O)},clampTableDelta:(S,O,B,z,K)=>{if(K){if(B>=0)return B;{const re=ct(S,(ue,_e)=>ue+_e-z,0);return Math.max(-re,B)}}return Uf(S,O,B,z)},calcLeftEdgeDeltas:y,calcMiddleDeltas:(S,O,B,z,K,re)=>y(S,B,z,K,re),calcRightEdgeDeltas:(S,O,B,z,K,re)=>{if(re)return dh(S);{const ue=z/S.length;return D(S,Z(ue))}},calcRedestributedWidths:(S,O,B,z)=>({delta:0,newSizes:S})}},wu=y=>Lo(y).grid,Zm=cr("th"),gc=y=>ft(y,S=>Zm(S.element)),js=(y,S)=>y&&S?"sectionCells":y?"section":"cells",av=y=>{const S=y.section==="thead",O=Gt(Pi(y.cells),"th");return y.section==="tfoot"?{type:"footer"}:S||O?{type:"header",subType:js(S,O)}:{type:"body"}},Pi=y=>{const S=zt(y,O=>Zm(O.element));return S.length===0?oe.some("td"):S.length===y.length?oe.some("th"):oe.none()},_0=(y,S,O)=>Ms(O(y.element,S),!0,y.isLocked),zc=(y,S)=>y.section!==S?ui(y.element,y.cells,S,y.isNew):y,Li=()=>({transformRow:zc,transformCell:(y,S,O)=>{const B=O(y.element,S),z=gt(B)!=="td"?((K,re)=>{const ue=au(K,"td");Yu(K,ue);const _e=Ri(K);return Vl(ue,_e),ls(K),ue})(B):B;return Ms(z,y.isNew,y.isLocked)}}),qt=()=>({transformRow:zc,transformCell:_0}),Gm=()=>({transformRow:(y,S)=>zc(y,S==="thead"?"tbody":S),transformCell:_0}),Mi=Li,GC=qt,qC=Gm,FE=()=>({transformRow:J,transformCell:_0}),qd=(y,S,O,B)=>{O===B?Oo(y,S):wr(y,S,O)},fh=(y,S,O)=>{nn(cu(y,S)).fold(()=>Rm(y,O),B=>Yu(B,O))},lv=(y,S)=>{const O=[],B=[],z=He=>D(He,Ke=>{Ke.isNew&&O.push(Ke.element);const at=Ke.element;return wl(at),qe(Ke.cells,dt=>{dt.isNew&&B.push(dt.element),qd(dt.element,"colspan",dt.colspan,1),qd(dt.element,"rowspan",dt.rowspan,1),hs(at,dt.element)}),at}),K=He=>Le(He,Ke=>D(Ke.cells,at=>(qd(at.element,"span",at.colspan,1),at.element))),re=(He,Ke)=>{const at=((Pt,Bt)=>{const Nt=yt(Pt,Bt).getOrThunk(()=>{const $t=Xt.fromTag(Bt,Zu(Pt).dom);return Bt==="thead"?fh(Pt,"caption,colgroup",$t):Bt==="colgroup"?fh(Pt,"caption",$t):hs(Pt,$t),$t});return wl(Nt),Nt})(y,Ke),dt=(Ke==="colgroup"?K:z)(He);Vl(at,dt)},ue=(He,Ke)=>{He.length>0?re(He,Ke):(at=>{yt(y,at).each(ls)})(Ke)},_e=[],Fe=[],Je=[],Pe=[];return qe(S,He=>{switch(He.section){case"thead":_e.push(He);break;case"tbody":Fe.push(He);break;case"tfoot":Je.push(He);break;case"colgroup":Pe.push(He)}}),ue(Pe,"colgroup"),ue(_e,"thead"),ue(Fe,"tbody"),ue(Je,"tfoot"),{newRows:O,newCells:B}},S0=(y,S)=>{if(y.length===0)return 0;const O=y[0];return Et(y,B=>!S(O.element,B.element)).getOr(y.length)},Mx=(y,S)=>{const O=D(y,B=>D(B.cells,U));return D(y,(B,z)=>{const K=Le(B.cells,(re,ue)=>{if(O[z][ue]===!1){const He=((Ke,at,dt,Pt)=>{const Bt=((on,mt)=>on[mt])(Ke,at),Nt=Bt.section==="colgroup",$t=S0(Bt.cells.slice(dt),Pt),Jt=Nt?1:S0(((on,mt)=>D(on,Sn=>Hs(Sn,mt)))(Ke.slice(at),dt),Pt);return{colspan:$t,rowspan:Jt}})(y,z,ue,S);return((Ke,at,dt,Pt)=>{for(let Bt=Ke;Bt<Ke+dt;Bt++)for(let Nt=at;Nt<at+Pt;Nt++)O[Bt][Nt]=!0})(z,ue,He.rowspan,He.colspan),[(_e=re.element,Fe=He.rowspan,Je=He.colspan,Pe=re.isNew,{element:_e,rowspan:Fe,colspan:Je,isNew:Pe})]}return[];var _e,Fe,Je,Pe});return((re,ue,_e,Fe)=>({element:re,cells:ue,section:_e,isNew:Fe}))(B.element,K,B.section,B.isNew)})},Es=(y,S,O)=>{const B=[];qe(y.colgroups,z=>{const K=[];for(let re=0;re<y.grid.columns;re++){const ue=Or(y,re).map(_e=>Ms(_e.element,O,!1)).getOrThunk(()=>Ms(S.colGap(),!0,!1));K.push(ue)}B.push(ui(z.element,K,"colgroup",O))});for(let z=0;z<y.grid.rows;z++){const K=[];for(let _e=0;_e<y.grid.columns;_e++){const Fe=kl(y,z,_e).map(Je=>Ms(Je.element,O,Je.isLocked)).getOrThunk(()=>Ms(S.gap(),!0,!1));K.push(Fe)}const re=y.all[z],ue=ui(re.element,K,re.section,O);B.push(ue)}return B},cv=y=>Mx(y,Wr),Is=(y,S)=>Q(y.all,O=>kn(O.cells,B=>Wr(S,B.element))),cl=(y,S,O)=>{const B=D(S.selection,K=>vp(K).bind(re=>Is(y,re)).filter(O)),z=an(B);return mn(z.length>0,z)},Zs=(y,S,O,B,z)=>(K,re,ue,_e)=>{const Fe=Lo(K),Je=oe.from(_e==null?void 0:_e.section).getOrThunk(FE);return S(Fe,re).map(Pe=>{const He=((dt,Pt)=>Es(dt,Pt,!1))(Fe,ue),Ke=y(He,Pe,Wr,z(ue),Je),at=Fa(Ke.grid);return{info:Pe,grid:cv(Ke.grid),cursor:Ke.cursor,lockedColumns:at}}).bind(Pe=>{const He=lv(K,Pe.grid),Ke=oe.from(_e==null?void 0:_e.sizing).getOrThunk(()=>Sp(K)),at=oe.from(_e==null?void 0:_e.resize).getOrThunk(C0);return O(K,Pe.grid,Pe.info,{sizing:Ke,resize:at,section:Je}),B(K),Oo(K,Bm),Pe.lockedColumns.length>0&&wr(K,Bm,Pe.lockedColumns.join(",")),oe.some({cursor:Pe.cursor,newRows:He.newRows,newCells:He.newCells})})},hc=(y,S)=>cl(y,S,de).map(O=>({cells:O,generators:S.generators,clipboard:S.clipboard})),Yd=(y,S)=>cl(y,S,de),Xi=(y,S)=>cl(y,S,O=>!O.isLocked),uv=(y,S)=>ft(S,O=>((B,z)=>Is(B,z).exists(K=>!K.isLocked))(y,O)),Rp=(y,S,O,B)=>{const z=ns(y).rows;let K=!0;for(let re=0;re<z.length;re++)for(let ue=0;ue<Zi(z[0]);ue++){const _e=z[re],Fe=Hs(_e,ue),Je=O(Fe.element,S);Je&&!K?sh(_e,ue,Ms(B(),!0,Fe.isLocked)):Je&&(K=!1)}return y},Wf=y=>{const S=K=>K(y),O=Z(y),B=()=>z,z={tag:!0,inner:y,fold:(K,re)=>re(y),isValue:de,isError:U,map:K=>Ip.value(K(y)),mapError:B,bind:S,exists:S,forall:S,getOr:O,or:B,getOrThunk:O,orThunk:B,getOrDie:O,each:K=>{K(y)},toOptional:()=>oe.some(y)};return z},YC=y=>{const S=()=>O,O={tag:!1,inner:y,fold:(z,K)=>z(y),isValue:U,isError:de,map:S,mapError:z=>Ip.error(z(y)),bind:S,exists:U,forall:de,getOr:J,or:J,getOrThunk:ae,orThunk:ae,getOrDie:(B=String(y),()=>{throw new Error(B)}),each:W,toOptional:oe.none};var B;return O},Ip={value:Wf,error:YC,fromOption:(y,S)=>y.fold(()=>YC(S),Wf)},Bx=(y,S)=>({rowDelta:0,colDelta:Zi(y[0])-Zi(S[0])}),k0=(y,S)=>({rowDelta:y.length-S.length,colDelta:0}),dv=(y,S,O,B)=>{const z=S.section==="colgroup"?O.col:O.cell;return Te(y,K=>Ms(z(),!0,B(K)))},E0=(y,S,O,B)=>{const z=y[y.length-1];return y.concat(Te(S,()=>{const K=z.section==="colgroup"?O.colgroup:O.row,re=If(z,K,J),ue=dv(re.cells.length,re,O,_e=>$e(B,_e.toString()));return Ba(re,ue)}))},Fx=(y,S,O,B)=>D(y,z=>{const K=dv(S,z,O,U);return zd(z,B,K)}),qm=(y,S,O)=>{const B=S.colDelta<0?Fx:J,z=S.rowDelta<0?E0:J,K=Fa(y),re=Zi(y[0]),ue=Oe(K,Je=>Je===re-1),_e=B(y,Math.abs(S.colDelta),O,ue?re-1:re),Fe=Fa(_e);return z(_e,Math.abs(S.rowDelta),O,po(Fe,de))},$E=(y,S,O,B)=>{const z=j(B,Hs(y[S],O).element),K=y[S];return y.length>1&&Zi(K)>1&&(O>0&&z(us(K,O-1))||O<K.cells.length-1&&z(us(K,O+1))||S>0&&z(us(y[S-1],O))||S<y.length-1&&z(us(y[S+1],O)))},A0=(y,S,O)=>zt(O,B=>B>=y.column&&B<=Zi(S[0])+y.column),T0=(y,S,O,B,z)=>{((Fe,Je,Pe,He)=>{Je>0&&Je<Fe[0].cells.length&&qe(Fe,Ke=>{const at=Ke.cells[Je-1];let dt=0;const Pt=He();for(;Ke.cells.length>Je+dt&&Pe(at.element,Ke.cells[Je+dt].element);)sh(Ke,Je+dt,Ms(Pt,!0,Ke.cells[Je+dt].isLocked)),dt++})})(S,y,z,B.cell);const K=k0(O,S),re=qm(O,K,B),ue=k0(S,re),_e=qm(S,ue,B);return D(_e,(Fe,Je)=>zd(Fe,y,re[Je].cells))},$x=(y,S,O,B,z)=>{((Nt,$t,Jt,on)=>{const mt=ns(Nt).rows;if($t>0&&$t<mt.length){const Sn=((to,Eo)=>ct(to,(io,no)=>Oe(io,ko=>Eo(ko.element,no.element))?io:io.concat([no]),[]))(mt[$t-1].cells,Jt);qe(Sn,to=>{let Eo=oe.none();for(let io=$t;io<mt.length;io++)for(let no=0;no<Zi(mt[0]);no++){const ko=mt[io],Yo=Hs(ko,no);Jt(Yo.element,to.element)&&(Eo.isNone()&&(Eo=oe.some(on())),Eo.each(ii=>{sh(ko,no,Ms(ii,!0,Yo.isLocked))}))}})}})(S,y,z,B.cell);const K=Fa(S),re=Bx(S,O),ue={...re,colDelta:re.colDelta-K.length},_e=qm(S,ue,B),{cols:Fe,rows:Je}=ns(_e),Pe=Fa(_e),He=Bx(O,S),Ke={...He,colDelta:He.colDelta+Pe.length},at=(Pt=B,Bt=Pe,D(O,Nt=>ct(Bt,($t,Jt)=>{const on=dv(1,Nt,Pt,de)[0];return rh($t,Jt,on)},Nt))),dt=qm(at,Ke,B);var Pt,Bt;return[...Fe,...Je.slice(0,y),...dt,...Je.slice(y,Je.length)]},Vx=(y,S,O,B,z)=>{const{rows:K,cols:re}=ns(y),ue=K.slice(0,S),_e=K.slice(S);return[...re,...ue,((Fe,Je,Pe,He)=>If(Fe,Ke=>He(Ke,Pe),Je))(K[O],(Fe,Je)=>S>0&&S<K.length&&B(us(K[S-1],Je),us(K[S],Je))?Hs(K[S],Je):Ms(z(Fe.element,B),!0,Fe.isLocked),B,z),..._e]},fv=(y,S,O,B,z)=>D(y,K=>{const re=S>0&&S<Zi(K)&&B(us(K,S-1),us(K,S)),ue=((_e,Fe,Je,Pe,He,Ke,at)=>{if(Je!=="colgroup"&&Pe)return Hs(_e,Fe);{const dt=Hs(_e,He);return Ms(at(dt.element,Ke),!0,!1)}})(K,S,K.section,re,O,B,z);return rh(K,S,ue)}),zx=(y,S,O,B)=>((z,K,re,ue)=>us(z[K],re)!==void 0&&K>0&&ue(us(z[K-1],re),us(z[K],re)))(y,S,O,B)||((z,K,re)=>K>0&&re(us(z,K-1),us(z,K)))(y[S],O,B),Hx=(y,S,O,B)=>{const z=K=>(re=>re==="row"?(ue=>Ef(ue,"rowspan")>1)(S):oi(S))(K)?`${K}group`:K;return y?Zm(S)?z(O):null:B&&Zm(S)?z(O==="row"?"col":"row"):null},mv=(y,S,O)=>Ms(O(y.element,S),!0,y.isLocked),Np=(y,S,O,B,z,K,re)=>D(y,(ue,_e)=>((Fe,Je)=>{const Pe=Fe.cells,He=D(Pe,(Ke,at)=>{if((dt=>Oe(S,Pt=>O(dt.element,Pt.element)))(Ke)){const dt=re(Ke,_e,at)?z(Ke,O,B):Ke;return K(dt,_e,at).each(Pt=>{var Bt,Nt;Bt=dt.element,Nt={scope:oe.from(Pt)},pn(Nt,($t,Jt)=>{$t.fold(()=>{Oo(Bt,Jt)},on=>{ti(Bt.dom,Jt,on)})})}),dt}return Ke});return ui(Fe.element,He,Fe.section,Fe.isNew)})(ue)),Ux=(y,S,O)=>Le(y,(B,z)=>zx(y,z,S,O)?[]:[Hs(B,S)]),gv=(y,S,O,B,z)=>{const K=ns(y).rows,re=Le(S,Je=>Ux(K,Je,B)),ue=D(K,Je=>gc(Je.cells)),_e=((Je,Pe)=>ft(Pe,J)&&gc(Je)?de:(He,Ke,at)=>!(gt(He.element)==="th"&&Pe[Ke]))(re,ue);return Np(y,re,B,z,mv,((Je,Pe)=>(He,Ke)=>oe.some(Hx(Je,He.element,"row",Pe[Ke])))(O,ue),_e)},hv=(y,S,O,B)=>{const z=ns(y).rows,K=D(S,re=>Hs(z[re.row],re.column));return Np(y,K,O,B,mv,oe.none,de)},Ym=y=>{if(!x(y))throw new Error("cases must be an array");if(y.length===0)throw new Error("there must be at least one case");const S=[],O={};return qe(y,(B,z)=>{const K=co(B);if(K.length!==1)throw new Error("one and only one name per case");const re=K[0],ue=B[re];if(O[re]!==void 0)throw new Error("duplicate key detected:"+re);if(re==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(ue))throw new Error("case arguments must be an array");S.push(re),O[re]=(..._e)=>{const Fe=_e.length;if(Fe!==ue.length)throw new Error("Wrong number of arguments to case "+re+". Expected "+ue.length+" ("+ue+"), got "+Fe);return{fold:(...Je)=>{if(Je.length!==y.length)throw new Error("Wrong number of arguments to fold. Expected "+y.length+", got "+Je.length);return Je[z].apply(null,_e)},match:Je=>{const Pe=co(Je);if(S.length!==Pe.length)throw new Error("Wrong number of arguments to match. Expected: "+S.join(",")+`
Actual: `+Pe.join(","));if(!ft(S,He=>rt(Pe,He)))throw new Error("Not all branches were specified when using match. Specified: "+Pe.join(", ")+`
Required: `+S.join(", "));return Je[re].apply(null,_e)},log:Je=>{console.log(Je,{constructors:S,constructor:re,params:_e})}}}}),O},Pp={...Ym([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Wx=(y,S,O)=>{const B=((z,K)=>Pc(z)?((re,ue)=>{const _e=Nc(re);return D(_e,(Fe,Je)=>({element:Fe.element,width:ue[Je],colspan:Fe.colspan}))})(z,K):((re,ue)=>{const _e=Hn(re);return D(_e,Fe=>{const Je=((Pe,He,Ke)=>{let at=0;for(let dt=Pe;dt<He;dt++)at+=Ke[dt]!==void 0?Ke[dt]:0;return at})(Fe.column,Fe.column+Fe.colspan,ue);return{element:Fe.element,width:Je,colspan:Fe.colspan}})})(z,K))(y,S);qe(B,z=>{O.setElementWidth(z.element,z.width)})},Xd=(y,S,O,B,z)=>{const K=Lo(y),re=z.getCellDelta(S),ue=z.getWidths(K,z),_e=O===K.grid.columns-1,Fe=B.clampTableDelta(ue,O,re,z.minCellWidth(),_e),Je=((He,Ke,at,dt,Pt)=>{const Bt=He.slice(0),Nt=((Jt,on)=>Jt.length===0?Pp.none():Jt.length===1?Pp.only(0):on===0?Pp.left(0,1):on===Jt.length-1?Pp.right(on-1,on):on>0&&on<Jt.length-1?Pp.middle(on-1,on,on+1):Pp.none())(He,Ke),$t=Z(D(Bt,Z(0)));return Nt.fold($t,Jt=>dt.singleColumnWidth(Bt[Jt],at),(Jt,on)=>Pt.calcLeftEdgeDeltas(Bt,Jt,on,at,dt.minCellWidth(),dt.isRelative),(Jt,on,mt)=>Pt.calcMiddleDeltas(Bt,Jt,on,mt,at,dt.minCellWidth(),dt.isRelative),(Jt,on)=>Pt.calcRightEdgeDeltas(Bt,Jt,on,at,dt.minCellWidth(),dt.isRelative))})(ue,O,Fe,z,B),Pe=D(Je,(He,Ke)=>He+ue[Ke]);Wx(K,Pe,z),B.resizeTable(z.adjustTableWidth,Fe,_e)},mh=(y,S,O)=>{const B=Lo(y),z=((_e,Fe)=>qi(_e,Fe,v0,Je=>Je.getOrThunk(Er)))(B,y),K=D(z,(_e,Fe)=>O===Fe?Math.max(S+_e,Er()):_e),re=((_e,Fe)=>D(_e.all,(Je,Pe)=>({element:Je.element,height:Fe[Pe]})))(B,K);qe(re,_e=>{od(_e.element,_e.height)}),qe(Hn(B),_e=>{(Fe=>{Cl(Fe,"height")})(_e.element)});const ue=Yt(K,(_e,Fe)=>_e+Fe,0);od(y,ue)},gh=y=>ct(y,(S,O)=>Oe(S,B=>B.column===O.column)?S:S.concat([O]),[]).sort((S,O)=>S.column-O.column),Jd=cr("col"),Kf=cr("colgroup"),pv=y=>gt(y)==="tr"||Kf(y),VE=y=>({element:y,colspan:Ts(y,"colspan",1),rowspan:Ts(y,"rowspan",1)}),bv=y=>uo(y,"scope").map(S=>S.substr(0,3)),Hc=(y,S=VE)=>{const O=z=>{if(pv(z))return Kf((K={element:z}).element)?y.colgroup(K):y.row(K);{const re=z,ue=(_e=>Jd(_e.element)?y.col(_e):y.cell(_e))(S(re));return B=oe.some({item:re,replacement:ue}),ue}var K};let B=oe.none();return{getOrInit:(z,K)=>B.fold(()=>O(z),re=>K(z,re.item)?re.replacement:O(z))}},XC=y=>S=>{const O=[],B=z=>{const K=y==="td"?{scope:null}:{},re=S.replace(z,y,K);return O.push({item:z,sub:re}),re};return{replaceOrInit:(z,K)=>{if(pv(z)||Jd(z))return z;{const re=z;return((ue,_e)=>kn(O,Fe=>_e(Fe.item,ue)))(re,K).fold(()=>B(re),ue=>K(z,ue.item)?ue.sub:B(re))}}}},Kx=y=>({unmerge:S=>{const O=bv(S);return O.each(B=>wr(S,"scope",B)),()=>{const B=y.cell({element:S,colspan:1,rowspan:1});return Cl(B,"width"),Cl(S,"width"),O.each(z=>wr(B,"scope",z)),B}},merge:S=>(Cl(S[0],"width"),(()=>{const O=an(D(S,bv));if(O.length===0)return oe.none();{const B=O[0],z=["row","col"];return Oe(O,K=>K!==B&&rt(z,K))?oe.none():oe.from(B)}})().fold(()=>Oo(S[0],"scope"),O=>wr(S[0],"scope",O+"group")),Z(S[0]))}),hh=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ga=Bf(),ph=y=>((S,O)=>{const B=S.property().name(O);return rt(hh,B)})(ga,y),bh=y=>((S,O)=>{const B=S.property().name(O);return rt(["ol","ul"],B)})(ga,y),O0=y=>{const S=cr("br"),O=z=>bu(z).bind(K=>{const re=Yl(K).map(ue=>!!ph(ue)||!!((_e,Fe)=>rt(["br","img","hr","input"],_e.property().name(Fe)))(ga,ue)&&gt(ue)!=="img").getOr(!1);return xl(K).map(ue=>{return re===!0||gt(_e=ue)==="li"||Re(_e,bh).isSome()||S(K)||ph(ue)&&!Wr(z,ue)?[]:[Xt.fromTag("br")];var _e})}).getOr([]),B=(()=>{const z=Le(y,K=>{const re=Ri(K);return(ue=>ft(ue,_e=>S(_e)||Fo(_e)&&Hm(_e).trim().length===0))(re)?[]:re.concat(O(K))});return z.length===0?[Xt.fromTag("br")]:z})();wl(y[0]),Vl(y[0],B)},nr=y=>mo(y,!0),Al=y=>{Os(y).length===0&&ls(y)},cd=(y,S)=>({grid:y,cursor:S}),Da=(y,S,O)=>{const B=((z,K,re)=>{var ue,_e;const Fe=ns(z).rows;return oe.from((_e=(ue=Fe[K])===null||ue===void 0?void 0:ue.cells[re])===null||_e===void 0?void 0:_e.element).filter(nr).orThunk(()=>(Je=>Q(Je,Pe=>Q(Pe.cells,He=>{const Ke=He.element;return mn(nr(Ke),Ke)})))(Fe))})(y,S,O);return cd(y,B)},Yr=y=>ct(y,(S,O)=>Oe(S,B=>B.row===O.row)?S:S.concat([O]),[]).sort((S,O)=>S.row-O.row),vv=(y,S)=>(O,B,z,K,re)=>{const ue=Yr(B),_e=D(ue,Je=>Je.row),Fe=((Je,Pe,He,Ke,at,dt,Pt)=>{const{cols:Bt,rows:Nt}=ns(Je),$t=Nt[Pe[0]],Jt=Le(Pe,io=>((no,ko,Yo)=>{const ii=no[ko];return Le(ii.cells,(Ra,Qi)=>zx(no,ko,Qi,Yo)?[]:[Ra])})(Nt,io,at)),on=D($t.cells,(io,no)=>gc(Ux(Nt,no,at))),mt=[...Nt];qe(Pe,io=>{mt[io]=Pt.transformRow(Nt[io],He)});const Sn=[...Bt,...mt],to=((io,no)=>ft(no,J)&&gc(io.cells)?de:(ko,Yo,ii)=>!(gt(ko.element)==="th"&&no[ii]))($t,on),Eo=((io,no)=>(ko,Yo,ii)=>oe.some(Hx(io,ko.element,"col",no[ii])))(Ke,on);return Np(Sn,Jt,at,dt,Pt.transformCell,Eo,to)})(O,_e,y,S,z,K.replaceOrInit,re);return Da(Fe,B[0].row,B[0].column)},JC=vv("thead",!0),zE=vv("tbody",!1),ds=vv("tfoot",!1),D0=(y,S,O)=>{const B=((K,re)=>Hl(K,()=>re))(y,O.section),z=di(B);return Es(z,S,!0)},jx=(y,S,O,B)=>((z,K,re,ue)=>{const _e=di(K),Fe=ue.getWidths(_e,ue);Wx(_e,Fe,ue)})(0,S,0,B.sizing),Xm=(y,S,O,B)=>((z,K,re,ue,_e)=>{const Fe=di(K),Je=ue.getWidths(Fe,ue),Pe=ue.pixelWidth(),{newSizes:He,delta:Ke}=_e.calcRedestributedWidths(Je,Pe,re.pixelDelta,ue.isRelative);Wx(Fe,He,ue),ue.adjustTableWidth(Ke)})(0,S,O,B.sizing,B.resize),Uc=(y,S)=>Oe(S,O=>O.column===0&&O.isLocked),Lp=(y,S)=>Oe(S,O=>O.column+O.colspan>=y.grid.columns&&O.isLocked),_n=(y,S)=>{const O=wp(y),B=gh(S);return ct(B,(z,K)=>z+O[K.column].map(oh).getOr(0),0)},Cu=y=>(S,O)=>Yd(S,O).filter(B=>!(y?Uc:Lp)(S,B)).map(B=>({details:B,pixelDelta:_n(S,B)})),Zx=y=>(S,O)=>hc(S,O).filter(B=>!(y?Uc:Lp)(S,B.cells)),R0=XC("th"),Mp=XC("td"),I0=Zs((y,S,O,B)=>{const z=S[0].row,K=Yr(S),re=Yt(K,(ue,_e)=>({grid:Vx(ue.grid,z,_e.row+ue.delta,O,B.getOrInit),delta:ue.delta+1}),{grid:y,delta:0}).grid;return Da(re,z,S[0].column)},Yd,W,W,Hc),vh=Zs((y,S,O,B)=>{const z=Yr(S),K=z[z.length-1],re=K.row+K.rowspan,ue=Yt(z,(_e,Fe)=>Vx(_e,re,Fe.row,O,B.getOrInit),y);return Da(ue,re,S[0].column)},Yd,W,W,Hc),Wc=Zs((y,S,O,B)=>{const z=S.details,K=gh(z),re=K[0].column,ue=Yt(K,(_e,Fe)=>({grid:fv(_e.grid,re,Fe.column+_e.delta,O,B.getOrInit),delta:_e.delta+1}),{grid:y,delta:0}).grid;return Da(ue,z[0].row,re)},Cu(!0),Xm,W,Hc),HE=Zs((y,S,O,B)=>{const z=S.details,K=z[z.length-1],re=K.column+K.colspan,ue=gh(z),_e=Yt(ue,(Fe,Je)=>fv(Fe,re,Je.column,O,B.getOrInit),y);return Da(_e,z[0].row,re)},Cu(!1),Xm,W,Hc),N0=Zs((y,S,O,B)=>{const z=gh(S.details),K=((ue,_e)=>Le(ue,Fe=>{const Je=Fe.cells,Pe=Yt(_e,(He,Ke)=>Ke>=0&&Ke<He.length?He.slice(0,Ke).concat(He.slice(Ke+1)):He,Je);return Pe.length>0?[ui(Fe.element,Pe,Fe.section,Fe.isNew)]:[]}))(y,D(z,ue=>ue.column)),re=K.length>0?K[0].cells.length-1:0;return Da(K,z[0].row,Math.min(z[0].column,re))},(y,S)=>Xi(y,S).map(O=>({details:O,pixelDelta:-_n(y,O)})),Xm,Al,Hc),Gx=Zs((y,S,O,B)=>{const z=Yr(S),K=((ue,_e,Fe)=>{const{rows:Je,cols:Pe}=ns(ue);return[...Pe,...Je.slice(0,_e),...Je.slice(Fe+1)]})(y,z[0].row,z[z.length-1].row),re=Math.max(ns(K).rows.length-1,0);return Da(K,Math.min(S[0].row,re),S[0].column)},Yd,W,Al,Hc),P0=Zs((y,S,O,B)=>{const z=gh(S),K=D(z,ue=>ue.column),re=gv(y,K,!0,O,B.replaceOrInit);return Da(re,S[0].row,S[0].column)},Xi,W,W,R0),qx=Zs((y,S,O,B)=>{const z=gh(S),K=D(z,ue=>ue.column),re=gv(y,K,!1,O,B.replaceOrInit);return Da(re,S[0].row,S[0].column)},Xi,W,W,Mp),Yx=Zs(JC,Xi,W,W,R0),L0=Zs(zE,Xi,W,W,Mp),Xx=Zs(ds,Xi,W,W,Mp),Jx=Zs((y,S,O,B)=>{const z=hv(y,S,O,B.replaceOrInit);return Da(z,S[0].row,S[0].column)},Xi,W,W,R0),QC=Zs((y,S,O,B)=>{const z=hv(y,S,O,B.replaceOrInit);return Da(z,S[0].row,S[0].column)},Xi,W,W,Mp),UE=Zs((y,S,O,B)=>{const z=S.cells;O0(z);const K=((re,ue,_e,Fe)=>{const Je=ns(re).rows;if(Je.length===0)return re;for(let Pe=ue.startRow;Pe<=ue.finishRow;Pe++)for(let He=ue.startCol;He<=ue.finishCol;He++){const Ke=Je[Pe],at=Hs(Ke,He).isLocked;sh(Ke,He,Ms(Fe(),!1,at))}return re})(y,S.bounds,0,B.merge(z));return cd(K,oe.from(z[0]))},(y,S)=>((O,B)=>B.mergable)(0,S).filter(O=>uv(y,O.cells)),jx,W,Kx),yv=Zs((y,S,O,B)=>{const z=Yt(S,(K,re)=>Rp(K,re,O,B.unmerge(re)),y);return cd(z,oe.from(S[0]))},(y,S)=>((O,B)=>B.unmergable)(0,S).filter(O=>uv(y,O)),jx,W,Kx),Qx=Zs((y,S,O,B)=>{const z=((ue,_e)=>{const Fe=Lo(ue);return Es(Fe,_e,!0)})(S.clipboard,S.generators);var K,re;return((ue,_e,Fe,Je,Pe)=>{const He=Fa(_e),Ke=((Bt,Nt,$t)=>{const Jt=Zi(Nt[0]),on=ns(Nt).cols.length+Bt.row,mt=Te(Jt-Bt.column,Sn=>Sn+Bt.column);return{row:on,column:kn(mt,Sn=>ft($t,to=>to!==Sn)).getOr(Jt-1)}})(ue,_e,He),at=ns(Fe).rows,dt=A0(Ke,at,He);return((Bt,Nt,$t)=>{if(Bt.row>=Nt.length||Bt.column>Zi(Nt[0]))return Ip.error("invalid start address out of table bounds, row: "+Bt.row+", column: "+Bt.column);const Jt=Nt.slice(Bt.row),on=Jt[0].cells.slice(Bt.column),mt=Zi($t[0]),Sn=$t.length;return Ip.value({rowDelta:Jt.length-Sn,colDelta:on.length-mt})})(Ke,_e,at).map(Bt=>{const Nt={...Bt,colDelta:Bt.colDelta-dt.length},$t=qm(_e,Nt,Je),Jt=Fa($t),on=A0(Ke,at,Jt);return((mt,Sn,to,Eo,io,no)=>{const ko=mt.row,Yo=mt.column,ii=ko+to.length,Ra=Yo+Zi(to[0])+no.length,Qi=po(no,de);for(let bc=ko;bc<ii;bc++){let ug=0;for(let Ia=Yo;Ia<Ra;Ia++){if(Qi[Ia]){ug++;continue}$E(Sn,bc,Ia,io)&&Rp(Sn,us(Sn[bc],Ia),io,Eo.cell);const fd=Ia-Yo-ug,Wp=Hs(to[bc-ko],fd),sm=Wp.element,Kp=Eo.replace(sm);sh(Sn[bc],Ia,Ms(Kp,!0,Wp.isLocked))}}return Sn})(Ke,$t,at,Je,Pe,on)})})((K=S.row,re=S.column,{row:K,column:re}),y,z,S.generators,O).fold(()=>cd(y,oe.some(S.element)),ue=>Da(ue,S.row,S.column))},(y,S)=>vp(S.element).bind(O=>Is(y,O).map(B=>({...B,generators:S.generators,clipboard:S.clipboard}))),jx,W,Hc),yh=Zs((y,S,O,B)=>{const z=ns(y).rows,K=S.cells[0].column,re=z[S.cells[0].row],ue=D0(S.clipboard,S.generators,re),_e=T0(K,y,ue,S.generators,O);return Da(_e,S.cells[0].row,S.cells[0].column)},Zx(!0),W,W,Hc),WE=Zs((y,S,O,B)=>{const z=ns(y).rows,K=S.cells[S.cells.length-1].column+S.cells[S.cells.length-1].colspan,re=z[S.cells[0].row],ue=D0(S.clipboard,S.generators,re),_e=T0(K,y,ue,S.generators,O);return Da(_e,S.cells[0].row,K)},Zx(!1),W,W,Hc),KE=Zs((y,S,O,B)=>{const z=ns(y).rows,K=S.cells[0].row,re=z[K],ue=D0(S.clipboard,S.generators,re),_e=$x(K,y,ue,S.generators,O);return Da(_e,S.cells[0].row,S.cells[0].column)},hc,W,W,Hc),jf=Zs((y,S,O,B)=>{const z=ns(y).rows,K=S.cells[S.cells.length-1].row+S.cells[S.cells.length-1].rowspan,re=z[S.cells[0].row],ue=D0(S.clipboard,S.generators,re),_e=$x(K,y,ue,S.generators,O);return Da(_e,K,S.cells[0].column)},hc,W,W,Hc),Jm=(y,S)=>{const O=Lo(y);return Yd(O,S).bind(B=>{const z=B[B.length-1],K=B[0].column,re=z.column+z.colspan,ue=Qe(D(O.all,_e=>zt(_e.cells,Fe=>Fe.column>=K&&Fe.column<re)));return Pi(ue)}).getOr("")},M0=(y,S)=>{const O=Lo(y);return Yd(O,S).bind(Pi).getOr("")},e_=(y,S)=>{const O=Lo(y);return Yd(O,S).bind(B=>{const z=B[B.length-1],K=B[0].row,re=z.row+z.rowspan;return(ue=>{const _e=D(ue,Pe=>av(Pe).type),Fe=rt(_e,"header"),Je=rt(_e,"footer");if(Fe||Je){const Pe=rt(_e,"body");return!Fe||Pe||Je?Fe||Pe||!Je?oe.none():oe.some("footer"):oe.some("header")}return oe.some("body")})(O.all.slice(K,re))}).getOr("")},e2=(y,S)=>y.dispatch("NewRow",{node:S}),xv=(y,S)=>y.dispatch("NewCell",{node:S}),Qd=(y,S,O)=>{y.dispatch("TableModified",{...O,table:S})},B0={structure:!1,style:!0},yi={structure:!0,style:!1},$s={structure:!0,style:!0},Zf=(y,S)=>id(y)?sd(S):L(y)?Ss(S):Sp(S),t2=(y,S,O)=>{const B=Je=>gt(Cr(Je))==="table",z=Zd(y),K=tv(y)?W:Dp,re=Je=>{switch(Um(y)){case"section":return Mi();case"sectionCells":return GC();case"cells":return qC();default:return((Pe,He)=>{var Ke;switch((Ke=Lo(Pe),Q(Ke.all,at=>{const dt=av(at);return dt.type==="header"?oe.from(dt.subType):oe.none()})).getOr(He)){case"section":return Li();case"sectionCells":return qt();case"cells":return Gm()}})(Je,"section")}},ue=(Je,Pe,He,Ke)=>(at,dt,Pt=!1)=>{ks(at);const Bt=Xt.fromDom(y.getDoc()),Nt=os(He,Bt,z),$t={sizing:Zf(y,at),resize:tv(y)?ld():C0(),section:re(at)};return Pe(at)?Je(at,dt,Nt,$t).bind(Jt=>{S.refresh(at.dom),qe(Jt.newRows,mt=>{e2(y,mt.dom)}),qe(Jt.newCells,mt=>{xv(y,mt.dom)});const on=((mt,Sn)=>Sn.cursor.fold(()=>{const to=Os(mt);return Tn(to).filter(ol).map(Eo=>{O.clearSelectedCells(mt.dom);const io=y.dom.createRng();return io.selectNode(Eo.dom),y.selection.setRng(io),wr(Eo,"data-mce-selected","1"),io})},to=>{const Eo=Lx(Op,to),io=y.dom.createRng();return io.setStart(Eo.element.dom,Eo.offset),io.setEnd(Eo.element.dom,Eo.offset),y.selection.setRng(io),O.clearSelectedCells(mt.dom),oe.some(io)}))(at,Jt);return ol(at)&&(ks(at),Pt||Qd(y,at.dom,Ke)),on.map(mt=>({rng:mt,effect:Ke}))}):oe.none()},_e=ue(Gx,Je=>!B(y)||wu(Je).rows>1,W,yi),Fe=ue(N0,Je=>!B(y)||wu(Je).columns>1,W,yi);return{deleteRow:_e,deleteColumn:Fe,insertRowsBefore:ue(I0,de,W,yi),insertRowsAfter:ue(vh,de,W,yi),insertColumnsBefore:ue(Wc,de,K,yi),insertColumnsAfter:ue(HE,de,K,yi),mergeCells:ue(UE,de,W,yi),unmergeCells:ue(yv,de,W,yi),pasteColsBefore:ue(yh,de,W,yi),pasteColsAfter:ue(WE,de,W,yi),pasteRowsBefore:ue(KE,de,W,yi),pasteRowsAfter:ue(jf,de,W,yi),pasteCells:ue(Qx,de,W,$s),makeCellsHeader:ue(Jx,de,W,yi),unmakeCellsHeader:ue(QC,de,W,yi),makeColumnsHeader:ue(P0,de,W,yi),unmakeColumnsHeader:ue(qx,de,W,yi),makeRowsHeader:ue(Yx,de,W,yi),makeRowsBody:ue(L0,de,W,yi),makeRowsFooter:ue(Xx,de,W,yi),getTableRowType:e_,getTableCellType:M0,getTableColType:Jm}},F0=(y,S,O)=>{const B=Ts(y,S,1);O===1||B<=1?Oo(y,S):wr(y,S,Math.min(O,B))},Ji=(y,S)=>O=>{const B=O.column+O.colspan-1,z=O.column;return B>=y&&z<S},ul=Ym([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),xh=(y,S,O)=>{const B=O.substring(0,O.length-y.length),z=parseFloat(B);return B===z.toString()?S(z):ul.invalid(O)},Gf={...ul,from:y=>cn(y,"%")?xh("%",ul.percent,y):cn(y,"px")?xh("px",ul.pixels,y):ul.invalid(y)},Qm=(y,S,O)=>{const B=Gf.from(O),z=ft(y,K=>K==="0px")?((K,re)=>{const ue=K.fold(()=>Z(""),_e=>Z(_e/re+"px"),()=>Z(100/re+"%"));return Te(re,ue)})(B,y.length):((K,re,ue)=>K.fold(()=>re,_e=>((Fe,Je,Pe)=>{const He=Pe/Je;return D(Fe,Ke=>Gf.from(Ke).fold(()=>Ke,at=>at*He+"px",at=>at/100*Pe+"px"))})(re,ue,_e),_e=>((Fe,Je)=>D(Fe,Pe=>Gf.from(Pe).fold(()=>Pe,He=>He/Je*100+"%",He=>He+"%")))(re,ue)))(B,y,S);return n2(z)},$0=(y,S)=>y.length===0?S:Yt(y,(O,B)=>Gf.from(B).fold(Z(0),J,J)+O,0),t_=(y,S)=>Gf.from(y).fold(Z(y),O=>O+S+"px",O=>O+S+"%"),n2=y=>{if(y.length===0)return y;const S=Yt(y,(B,z)=>{const K=Gf.from(z).fold(()=>({value:z,remainder:0}),re=>((ue,_e)=>{const Fe=Math.floor(ue);return{value:Fe+"px",remainder:ue-Fe}})(re),re=>({value:re+"%",remainder:0}));return{output:[K.value].concat(B.output),remainder:B.remainder+K.remainder}},{output:[],remainder:0}),O=S.output;return O.slice(0,O.length-1).concat([t_(O[O.length-1],Math.round(S.remainder))])},eg=Gf.from,Xr=(y,S,O)=>{const B=Lo(y),z=B.all,K=Hn(B),re=Nc(B);S.each(ue=>{const _e=eg(ue).fold(Z("px"),Z("px"),Z("%")),Fe=Sl(y),Je=((He,Ke)=>bi(He,Ke,Va,_p))(B,y),Pe=Qm(Je,Fe,ue);Pc(B)?((He,Ke,at)=>{qe(Ke,(dt,Pt)=>{const Bt=$0([He[Pt]],Jl());Io(dt.element,"width",Bt+at)})})(Pe,re,_e):((He,Ke,at)=>{qe(Ke,dt=>{const Pt=He.slice(dt.column,dt.colspan+dt.column),Bt=$0(Pt,Jl());Io(dt.element,"width",Bt+at)})})(Pe,K,_e),Io(y,"width",ue)}),O.each(ue=>{const _e=Kd(y),Fe=((Je,Pe)=>qi(Je,Pe,Oa,_p))(B,y);((Je,Pe,He)=>{qe(He,Ke=>{Cl(Ke.element,"height")}),qe(Pe,(Ke,at)=>{Io(Ke.element,"height",Je[at])})})(Qm(Fe,_e,ue),z,K),Io(y,"height",ue)})},V0=y=>fc(y).exists(S=>Si.test(S)),fs=y=>fc(y).exists(S=>Gn.test(S)),ud=y=>fc(y).isNone(),_u=y=>{Oo(y,"width"),Oo(y,"height")},wh=y=>{const S=Lf(y);Xr(y,oe.some(S),oe.none()),_u(y)},Tl=y=>{const S=(O=>Sl(O)+"px")(y);Xr(y,oe.some(S),oe.none()),_u(y)},ha=y=>{Cl(y,"width");const S=Ic(y),O=S.length>0?S:Os(y);qe(O,B=>{Cl(B,"width"),_u(B)}),_u(y)},tg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},wv=(y,S,O,B)=>Te(y,z=>((K,re,ue,_e)=>{const Fe=Xt.fromTag("tr");for(let Je=0;Je<K;Je++){const Pe=Xt.fromTag(_e<re||Je<ue?"th":"td");Je<ue&&wr(Pe,"scope","row"),_e<re&&wr(Pe,"scope","col"),hs(Pe,Xt.fromTag("br")),hs(Fe,Pe)}return Fe})(S,O,B,z)),Ch=(y,S)=>{y.selection.select(S.dom,!0),y.selection.collapse(!0)},Cv=(y,S,O,B,z)=>{const K=(ue=>{const _e=ue.options,Fe=_e.get("table_default_styles");return _e.isSet("table_default_styles")?Fe:((Je,Pe)=>G(Je)||!Be(Je)?Pe:L(Je)?{...Pe,width:vu(Je)}:{...Pe,width:ec})(ue,Fe)})(y),re={styles:K,attributes:Mt(y),colGroups:Yn(y)};return y.undoManager.ignore(()=>{const ue=((Fe,Je,Pe,He,Ke,at=tg)=>{const dt=Xt.fromTag("table"),Pt=Ke!=="cells";Xl(dt,at.styles),ji(dt,at.attributes),at.colGroups&&hs(dt,(Jt=>{const on=Xt.fromTag("colgroup");return Te(Jt,()=>hs(on,Xt.fromTag("col"))),on})(Je));const Bt=Math.min(Fe,Pe);if(Pt&&Pe>0){const Jt=Xt.fromTag("thead");hs(dt,Jt);const on=wv(Pe,Je,Ke==="sectionCells"?Bt:0,He);Vl(Jt,on)}const Nt=Xt.fromTag("tbody");hs(dt,Nt);const $t=wv(Pt?Fe-Bt:Fe,Je,Pt?0:Pe,He);return Vl(Nt,$t),dt})(O,S,z,B,Um(y),re);wr(ue,"data-mce-id","__mce");const _e=(Fe=>{const Je=Xt.fromTag("div"),Pe=Xt.fromDom(Fe.dom.cloneNode(!0));return hs(Je,Pe),(He=>He.dom.innerHTML)(Je)})(ue);y.insertContent(_e),y.addVisual()}),ht(Cr(y),'table[data-mce-id="__mce"]').map(ue=>(L(y)?Tl(ue):G(y)?ha(ue):(id(y)||(_e=>g(_e)&&_e.indexOf("%")!==-1)(K.width))&&wh(ue),ks(ue),Oo(ue,"data-mce-id"),((_e,Fe)=>{qe(Mr(Fe,"tr"),Je=>{e2(_e,Je.dom),qe(Mr(Je,"th,td"),Pe=>{xv(_e,Pe.dom)})})})(y,ue),((_e,Fe)=>{ht(Fe,"td,th").each(j(Ch,_e))})(y,ue),ue.dom)).getOrNull()};var _h=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const n_="x-tinymce/dom-table-",o2=n_+"rows",r2=n_+"columns",o_=y=>{const S=_h.FakeClipboardItem(y);_h.write([S])},pa=y=>{var S;const O=(S=_h.read())!==null&&S!==void 0?S:[];return Q(O,B=>oe.from(B.getType(y)))},ng=y=>{pa(y).isSome()&&_h.clear()},r_=y=>{y.fold(dl,S=>o_({[o2]:S}))},Kc=()=>pa(o2),dl=()=>ng(o2),Sh=y=>{y.fold(s_,S=>o_({[r2]:S}))},Bp=()=>pa(r2),s_=()=>ng(r2),Ns=y=>Hf(Bc(y),Ks(y)).filter(x0),Ps=(y,S)=>{const O=Ks(y),B=Pe=>_l(Pe,O),z=Pe=>(He=>ps(Bc(He),Ks(He)).filter(x0))(y).bind(He=>B(He).map(Ke=>Pe(Ke,He))),K=Pe=>{y.focus()},re=(Pe,He=!1)=>z((Ke,at)=>{const dt=No($c(y),Ke,at);Pe(Ke,dt,He).each(K)}),ue=()=>z((Pe,He)=>((Ke,at,dt)=>{const Pt=Lo(Ke);return Yd(Pt,at).bind(Bt=>{const Nt=Es(Pt,dt,!1),$t=ns(Nt).rows.slice(Bt[0].row,Bt[Bt.length-1].row+Bt[Bt.length-1].rowspan),Jt=Le($t,mt=>{const Sn=zt(mt.cells,to=>!to.isLocked);return Sn.length>0?[{...mt,cells:Sn}]:[]}),on=cv(Jt);return mn(on.length>0,on)}).map(Bt=>D(Bt,Nt=>{const $t=Nm(Nt.element);return qe(Nt.cells,Jt=>{const on=iu(Jt.element);qd(on,"colspan",Jt.colspan,1),qd(on,"rowspan",Jt.rowspan,1),hs($t,on)}),$t}))})(Pe,No($c(y),Pe,He),os(W,Xt.fromDom(y.getDoc()),oe.none()))),_e=()=>z((Pe,He)=>((Ke,at)=>{const dt=Lo(Ke);return Xi(dt,at).map(Pt=>{const Bt=Pt[Pt.length-1],Nt=Pt[0].column,$t=Bt.column+Bt.colspan,Jt=((mt,Sn,to)=>{if(Pc(mt)){const Eo=zt(Nc(mt),Ji(Sn,to)),io=D(Eo,ko=>{const Yo=iu(ko.element);return F0(Yo,"span",to-Sn),Yo}),no=Xt.fromTag("colgroup");return Vl(no,io),[no]}return[]})(dt,Nt,$t),on=((mt,Sn,to)=>D(mt.all,Eo=>{const io=zt(Eo.cells,Ji(Sn,to)),no=D(io,Yo=>{const ii=iu(Yo.element);return F0(ii,"colspan",to-Sn),ii}),ko=Xt.fromTag("tr");return Vl(ko,no),ko}))(dt,Nt,$t);return[...Jt,...on]})})(Pe,No($c(y),Pe,He))),Fe=(Pe,He)=>He().each(Ke=>{const at=D(Ke,dt=>iu(dt));z((dt,Pt)=>{const Bt=Pr(Xt.fromDom(y.getDoc())),Nt=(($t,Jt,on,mt)=>({selection:Vf($t),clipboard:on,generators:mt}))($c(y),0,at,Bt);Pe(dt,Nt).each(K)})}),Je=Pe=>(He,Ke)=>((at,dt)=>$e(at,dt)?oe.from(at[dt]):oe.none())(Ke,"type").each(at=>{re(Pe(at),Ke.no_events)});pn({mceTableSplitCells:()=>re(S.unmergeCells),mceTableMergeCells:()=>re(S.mergeCells),mceTableInsertRowBefore:()=>re(S.insertRowsBefore),mceTableInsertRowAfter:()=>re(S.insertRowsAfter),mceTableInsertColBefore:()=>re(S.insertColumnsBefore),mceTableInsertColAfter:()=>re(S.insertColumnsAfter),mceTableDeleteCol:()=>re(S.deleteColumn),mceTableDeleteRow:()=>re(S.deleteRow),mceTableCutCol:()=>_e().each(Pe=>{Sh(Pe),re(S.deleteColumn)}),mceTableCutRow:()=>ue().each(Pe=>{r_(Pe),re(S.deleteRow)}),mceTableCopyCol:()=>_e().each(Pe=>Sh(Pe)),mceTableCopyRow:()=>ue().each(Pe=>r_(Pe)),mceTablePasteColBefore:()=>Fe(S.pasteColsBefore,Bp),mceTablePasteColAfter:()=>Fe(S.pasteColsAfter,Bp),mceTablePasteRowBefore:()=>Fe(S.pasteRowsBefore,Kc),mceTablePasteRowAfter:()=>Fe(S.pasteRowsAfter,Kc),mceTableDelete:()=>Ns(y).each(Pe=>{_l(Pe,O).filter(he(O)).each(He=>{const Ke=Xt.fromText("");if(Yu(He,Ke),ls(He),y.dom.isEmpty(y.getBody()))y.setContent(""),y.selection.setCursorLocation();else{const at=y.dom.createRng();at.setStart(Ke.dom,0),at.setEnd(Ke.dom,0),y.selection.setRng(at),y.nodeChanged()}})}),mceTableCellToggleClass:(Pe,He)=>{z(Ke=>{const at=$c(y),dt=ft(at,Bt=>y.formatter.match("tablecellclass",{value:He},Bt.dom)),Pt=dt?y.formatter.remove:y.formatter.apply;qe(at,Bt=>Pt("tablecellclass",{value:He},Bt.dom)),Qd(y,Ke.dom,B0)})},mceTableToggleClass:(Pe,He)=>{z(Ke=>{y.formatter.toggle("tableclass",{value:He},Ke.dom),Qd(y,Ke.dom,B0)})},mceTableToggleCaption:()=>{Ns(y).each(Pe=>{_l(Pe,O).each(He=>{yt(He,"caption").fold(()=>{const Ke=Xt.fromTag("caption");hs(Ke,Xt.fromText("Caption")),((at,dt,Pt)=>{qu(at,0).fold(()=>{hs(at,dt)},Bt=>{un(Bt,dt)})})(He,Ke),y.selection.setCursorLocation(Ke.dom,0)},Ke=>{cr("caption")(Pe)&&ql("td",He).each(at=>y.selection.setCursorLocation(at.dom,0)),ls(Ke)}),Qd(y,He.dom,yi)})})},mceTableSizingMode:(Pe,He)=>(Ke=>Ns(y).each(at=>{G(y)||L(y)||id(y)||_l(at,O).each(dt=>{Ke!=="relative"||V0(dt)?Ke!=="fixed"||fs(dt)?Ke!=="responsive"||ud(dt)||ha(dt):Tl(dt):wh(dt),ks(dt),Qd(y,dt.dom,yi)})}))(He),mceTableCellType:Je(Pe=>Pe==="th"?S.makeCellsHeader:S.unmakeCellsHeader),mceTableColType:Je(Pe=>Pe==="th"?S.makeColumnsHeader:S.unmakeColumnsHeader),mceTableRowType:Je(Pe=>{switch(Pe){case"header":return S.makeRowsHeader;case"footer":return S.makeRowsFooter;default:return S.makeRowsBody}})},(Pe,He)=>y.addCommand(He,Pe)),y.addCommand("mceInsertTable",(Pe,He)=>{((Ke,at,dt,Pt={})=>{const Bt=Nt=>H(Nt)&&Nt>0;if(Bt(at)&&Bt(dt)){const Nt=Pt.headerRows||0,$t=Pt.headerColumns||0;return Cv(Ke,dt,at,$t,Nt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(y,He.rows,He.columns,He.options)}),y.addCommand("mceTableApplyCellStyle",(Pe,He)=>{const Ke=Pt=>"tablecell"+Pt.toLowerCase().replace("-","");if(!h(He))return;const at=zt($c(y),x0);if(at.length===0)return;const dt=((Pt,Bt)=>{const Nt={};return(($t,Jt,on,mt)=>{pn($t,(Sn,to)=>{(Jt(Sn,to)?on:mt)(Sn,to)})})(Pt,Bt,($t=>(Jt,on)=>{$t[on]=Jt})(Nt),W),Nt})(He,(Pt,Bt)=>y.formatter.has(Ke(Bt))&&g(Pt));(Pt=>{for(const Bt in Pt)if(Kt.call(Pt,Bt))return!1;return!0})(dt)||(pn(dt,(Pt,Bt)=>{const Nt=Ke(Bt);qe(at,$t=>{Pt===""?y.formatter.remove(Nt,{value:null},$t.dom,!0):y.formatter.apply(Nt,{value:Pt},$t.dom)})}),B(at[0]).each(Pt=>Qd(y,Pt.dom,B0)))})},si=Ym([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fr={before:si.before,on:si.on,after:si.after,cata:(y,S,O,B)=>y.fold(S,O,B),getStart:y=>y.fold(J,J,J)},As=(y,S)=>({selection:y,kill:S}),Gs=(y,S)=>{const O=y.document.createRange();return O.selectNode(S.dom),O},z0=(y,S)=>{const O=y.document.createRange();return H0(O,S),O},H0=(y,S)=>y.selectNodeContents(S.dom),s2=(y,S,O)=>{const B=y.document.createRange();var z;return z=B,S.fold(K=>{z.setStartBefore(K.dom)},(K,re)=>{z.setStart(K.dom,re)},K=>{z.setStartAfter(K.dom)}),((K,re)=>{re.fold(ue=>{K.setEndBefore(ue.dom)},(ue,_e)=>{K.setEnd(ue.dom,_e)},ue=>{K.setEndAfter(ue.dom)})})(B,O),B},_v=(y,S,O,B,z)=>{const K=y.document.createRange();return K.setStart(S.dom,O),K.setEnd(B.dom,z),K},i2=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom,width:y.width,height:y.height}),kh=Ym([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),U0=(y,S,O)=>S(Xt.fromDom(O.startContainer),O.startOffset,Xt.fromDom(O.endContainer),O.endOffset),W0=(y,S)=>{const O=((B,z)=>z.match({domRange:K=>({ltr:Z(K),rtl:oe.none}),relative:(K,re)=>({ltr:Ii(()=>s2(B,K,re)),rtl:Ii(()=>oe.some(s2(B,re,K)))}),exact:(K,re,ue,_e)=>({ltr:Ii(()=>_v(B,K,re,ue,_e)),rtl:Ii(()=>oe.some(_v(B,ue,_e,K,re)))})}))(y,S);return((B,z)=>{const K=z.ltr();return K.collapsed?z.rtl().filter(re=>re.collapsed===!1).map(re=>kh.rtl(Xt.fromDom(re.endContainer),re.endOffset,Xt.fromDom(re.startContainer),re.startOffset)).getOrThunk(()=>U0(0,kh.ltr,K)):U0(0,kh.ltr,K)})(0,O)},a2=(y,S)=>W0(y,S).match({ltr:(O,B,z,K)=>{const re=y.document.createRange();return re.setStart(O.dom,B),re.setEnd(z.dom,K),re},rtl:(O,B,z,K)=>{const re=y.document.createRange();return re.setStart(z.dom,K),re.setEnd(O.dom,B),re}});kh.ltr,kh.rtl;const Sv=(y,S,O,B)=>({start:y,soffset:S,finish:O,foffset:B}),Ol=(y,S,O,B)=>({start:Fr.on(y,S),finish:Fr.on(O,B)}),l2=(y,S)=>{const O=a2(y,S);return Sv(Xt.fromDom(O.startContainer),O.startOffset,Xt.fromDom(O.endContainer),O.endOffset)},Wa=Ol,kv=(y,S,O,B,z)=>Wr(O,B)?oe.none():yu(O,B,S).bind(K=>{const re=K.boxes.getOr([]);return re.length>1?(z(y,re,K.start,K.finish),oe.some(As(oe.some(Wa(O,0,O,Us(O))),!0))):oe.none()}),Eh=(y,S)=>({item:y,mode:S}),Su=(y,S,O,B=qs)=>y.property().parent(S).map(z=>Eh(z,B)),qs=(y,S,O,B=og)=>O.sibling(y,S).map(z=>Eh(z,B)),og=(y,S,O,B=og)=>{const z=y.property().children(S);return O.first(z).map(K=>Eh(K,B))},c2=[{current:Su,next:qs,fallback:oe.none()},{current:qs,next:og,fallback:oe.some(Su)},{current:og,next:og,fallback:oe.some(qs)}],u2=(y,S,O,B,z=c2)=>kn(z,K=>K.current===O).bind(K=>K.current(y,S,B,K.next).orThunk(()=>K.fallback.bind(re=>u2(y,S,re,B)))),Ev=(y,S,O,B,z,K)=>u2(y,S,B,z).bind(re=>K(re.item)?oe.none():O(re.item)?oe.some(re.item):Ev(y,re.item,O,re.mode,z,K)),ef=y=>S=>y.property().children(S).length===0,jE=(y,S,O,B)=>Ev(y,S,O,qs,{sibling:(z,K)=>z.query().prevSibling(K),first:z=>z.length>0?oe.some(z[z.length-1]):oe.none()},B),Av=(y,S,O,B)=>Ev(y,S,O,qs,{sibling:(z,K)=>z.query().nextSibling(K),first:z=>z.length>0?oe.some(z[0]):oe.none()},B),rg=Bf(),i_=(y,S)=>((O,B,z)=>jE(O,B,ef(O),z))(rg,y,S),Tv=(y,S)=>((O,B,z)=>Av(O,B,ef(O),z))(rg,y,S),Ov=Ym([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),K0=y=>nt(y,"tr"),Fp={...Ov,verify:(y,S,O,B,z,K,re)=>nt(B,"td,th",re).bind(ue=>nt(S,"td,th",re).map(_e=>Wr(ue,_e)?Wr(B,ue)&&Us(ue)===z?K(_e):Ov.none("in same cell"):Ff(K0,[ue,_e]).fold(()=>((Fe,Je,Pe)=>{const He=Fe.getRect(Je),Ke=Fe.getRect(Pe);return Ke.right>He.left&&Ke.left<He.right})(y,_e,ue)?Ov.success():K(_e),Fe=>K(_e)))).getOr(Ov.none("default")),cata:(y,S,O,B,z)=>y.fold(S,O,B,z)},j0=cr("br"),Ka=(y,S,O)=>S(y,O).bind(B=>Fo(B)&&Hm(B).trim().length===0?Ka(B,S,O):oe.some(B)),d2=(y,S,O,B)=>((z,K)=>qu(z,K).filter(j0).orThunk(()=>qu(z,K-1).filter(j0)))(S,O).bind(z=>B.traverse(z).fold(()=>Ka(z,B.gather,y).map(B.relative),K=>(re=>xl(re).bind(ue=>{const _e=Ri(ue);return((Fe,Je)=>Et(Fe,j(Wr,Je)))(_e,re).map(Fe=>((Je,Pe,He,Ke)=>({parent:Je,children:Pe,element:He,index:Ke}))(ue,_e,re,Fe))}))(K).map(re=>Fr.on(re.parent,re.index)))),tf=(y,S)=>({left:y.left,top:y.top+S,right:y.right,bottom:y.bottom+S}),Dv=(y,S)=>({left:y.left,top:y.top-S,right:y.right,bottom:y.bottom-S}),dd=(y,S,O)=>({left:y.left+S,top:y.top+O,right:y.right+S,bottom:y.bottom+O}),Rv=y=>({left:y.left,top:y.top,right:y.right,bottom:y.bottom}),Iv=(y,S)=>oe.some(y.getRect(S)),sg=(y,S,O)=>eo(S)?Iv(y,S).map(Rv):Fo(S)?((B,z,K)=>K>=0&&K<Us(z)?B.getRangedRect(z,K,z,K+1):K>0?B.getRangedRect(z,K-1,z,K):oe.none())(y,S,O).map(Rv):oe.none(),Ah=(y,S)=>eo(S)?Iv(y,S).map(Rv):Fo(S)?y.getRangedRect(S,0,S,Us(S)).map(Rv):oe.none(),jc=Ym([{none:[]},{retry:["caret"]}]),Nv=(y,S,O)=>st(S,ph).fold(U,B=>Ah(y,B).exists(z=>((K,re)=>K.left<re.left||Math.abs(re.right-K.left)<1||K.left>re.right)(O,z))),ZE={point:y=>y.bottom,adjuster:(y,S,O,B,z)=>{const K=tf(z,5);return Math.abs(O.bottom-B.bottom)<1||O.top>z.bottom?jc.retry(K):O.top===z.bottom?jc.retry(tf(z,1)):Nv(y,S,z)?jc.retry(dd(K,5,0)):jc.none()},move:tf,gather:Tv},pc=(y,S,O,B,z)=>z===0?oe.some(B):((K,re,ue)=>K.elementFromPoint(re,ue).filter(_e=>gt(_e)==="table").isSome())(y,B.left,S.point(B))?((K,re,ue,_e,Fe)=>pc(K,re,ue,re.move(_e,5),Fe))(y,S,O,B,z-1):y.situsFromPoint(B.left,S.point(B)).bind(K=>K.start.fold(oe.none,re=>Ah(y,re).bind(ue=>S.adjuster(y,re,ue,O,B).fold(oe.none,_e=>pc(y,S,O,_e,z-1))).orThunk(()=>oe.some(B)),oe.none)),nf=(y,S,O)=>{const B=y.move(O,5),z=pc(S,y,O,B,100).getOr(B);return((K,re,ue)=>K.point(re)>ue.getInnerHeight()?oe.some(K.point(re)-ue.getInnerHeight()):K.point(re)<0?oe.some(-K.point(re)):oe.none())(y,z,S).fold(()=>S.situsFromPoint(z.left,y.point(z)),K=>(S.scrollBy(0,K),S.situsFromPoint(z.left,y.point(z)-K)))},Zc={tryUp:j(nf,{point:y=>y.top,adjuster:(y,S,O,B,z)=>{const K=Dv(z,5);return Math.abs(O.top-B.top)<1||O.bottom<z.top?jc.retry(K):O.bottom===z.top?jc.retry(Dv(z,1)):Nv(y,S,z)?jc.retry(dd(K,5,0)):jc.none()},move:Dv,gather:i_}),tryDown:j(nf,ZE),getJumpSize:Z(5)},f2=(y,S,O)=>y.getSelection().bind(B=>((z,K,re,ue)=>(j0(K)?((Fe,Je,Pe)=>Pe.traverse(Je).orThunk(()=>Ka(Je,Pe.gather,Fe)).map(Pe.relative))(z,K,ue):d2(z,K,re,ue)).map(Fe=>({start:Fe,finish:Fe})))(S,B.finish,B.foffset,O).fold(()=>oe.some(yo(B.finish,B.foffset)),z=>{const K=y.fromSitus(z);return re=Fp.verify(y,B.finish,B.foffset,K.finish,K.foffset,O.failure,S),Fp.cata(re,ue=>oe.none(),()=>oe.none(),ue=>oe.some(yo(ue,0)),ue=>oe.some(yo(ue,Us(ue))));var re})),Ei=(y,S,O,B,z,K)=>K===0?oe.none():GE(y,S,O,B,z).bind(re=>{const ue=y.fromSitus(re),_e=Fp.verify(y,O,B,ue.finish,ue.foffset,z.failure,S);return Fp.cata(_e,()=>oe.none(),()=>oe.some(re),Fe=>Wr(O,Fe)&&B===0?Gc(y,O,B,Dv,z):Ei(y,S,Fe,0,z,K-1),Fe=>Wr(O,Fe)&&B===Us(Fe)?Gc(y,O,B,tf,z):Ei(y,S,Fe,Us(Fe),z,K-1))}),Gc=(y,S,O,B,z)=>sg(y,S,O).bind(K=>Dl(y,z,B(K,Zc.getJumpSize()))),Dl=(y,S,O)=>{const B=b0().browser;return B.isChromium()||B.isSafari()||B.isFirefox()?S.retry(y,O):oe.none()},GE=(y,S,O,B,z)=>sg(y,O,B).bind(K=>Dl(y,z,K)),qf=(y,S,O,B,z)=>nt(B,"td,th",S).bind(K=>nt(K,"table",S).bind(re=>((ue,_e)=>Re(ue,Fe=>xl(Fe).exists(Je=>Wr(Je,_e)),void 0).isSome())(z,re)?((ue,_e,Fe)=>f2(ue,_e,Fe).bind(Je=>Ei(ue,_e,Je.element,Je.offset,Fe,20).map(ue.fromSitus)))(y,S,O).bind(ue=>nt(ue.finish,"td,th",S).map(_e=>({start:K,finish:_e,range:ue}))):oe.none())),of=(y,S,O,B,z,K)=>K(B,S).orThunk(()=>qf(y,S,O,B,z).map(re=>{const ue=re.range;return As(oe.some(Wa(ue.start,ue.soffset,ue.finish,ue.foffset)),!0)})),$p=(y,S)=>nt(y,"tr",S).bind(O=>nt(O,"table",S).bind(B=>{const z=Mr(B,"tr");return Wr(O,z[0])?((K,re,ue)=>jE(rg,K,_e=>bu(_e).isSome(),ue))(B,0,S).map(K=>{const re=Us(K);return As(oe.some(Wa(K,re,K,re)),!0)}):oe.none()})),ig=(y,S)=>nt(y,"tr",S).bind(O=>nt(O,"table",S).bind(B=>{const z=Mr(B,"tr");return Wr(O,z[z.length-1])?((K,re,ue)=>Av(rg,K,_e=>ah(_e).isSome(),ue))(B,0,S).map(K=>As(oe.some(Wa(K,0,K,0)),!0)):oe.none()})),tc=(y,S,O,B,z,K,re)=>qf(y,O,B,z,K).bind(ue=>kv(S,O,ue.start,ue.finish,re)),Z0=y=>{let S=y;return{get:()=>S,set:O=>{S=O}}},G0=()=>{const y=(S=>{const O=Z0(oe.none()),B=()=>O.get().each(S);return{clear:()=>{B(),O.set(oe.none())},isSet:()=>O.get().isSome(),get:()=>O.get(),set:z=>{B(),O.set(oe.some(z))}}})(W);return{...y,on:S=>y.get().each(S)}},Pv=(y,S)=>nt(y,"td,th",S),q0=y=>Gu(y).exists(mo),a_={traverse:Yl,gather:Tv,relative:Fr.before,retry:Zc.tryDown,failure:Fp.failedDown},Lv={traverse:fo,gather:i_,relative:Fr.before,retry:Zc.tryUp,failure:Fp.failedUp},rf=y=>S=>S===y,Mv=rf(38),Th=rf(40),Oh=y=>y>=37&&y<=40,Yf={isBackward:rf(37),isForward:rf(39)},Xf={isBackward:rf(39),isForward:rf(37)},Bv=Ym([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jf={domRange:Bv.domRange,relative:Bv.relative,exact:Bv.exact,exactFromRange:y=>Bv.exact(y.start,y.soffset,y.finish,y.foffset),getWin:y=>{const S=(O=>O.match({domRange:B=>Xt.fromDom(B.startContainer),relative:(B,z)=>Fr.getStart(B),exact:(B,z,K,re)=>B}))(y);return Xt.fromDom(Rc(S).dom.defaultView)},range:Sv},Qf=(y,S)=>{const O=gt(y);return O==="input"?Fr.after(y):rt(["br","img"],O)?S===0?Fr.before(y):Fr.after(y):Fr.on(y,S)},em=y=>oe.from(y.getSelection()),Dh=(y,S)=>{em(y).each(O=>{O.removeAllRanges(),O.addRange(S)})},Y0=(y,S,O,B,z)=>{const K=_v(y,S,O,B,z);Dh(y,K)},Vp=(y,S)=>W0(y,S).match({ltr:(O,B,z,K)=>{Y0(y,O,B,z,K)},rtl:(O,B,z,K)=>{em(y).each(re=>{if(re.setBaseAndExtent)re.setBaseAndExtent(O.dom,B,z.dom,K);else if(re.extend)try{((ue,_e,Fe,Je,Pe,He)=>{_e.collapse(Fe.dom,Je),_e.extend(Pe.dom,He)})(0,re,O,B,z,K)}catch{Y0(y,z,K,O,B)}else Y0(y,z,K,O,B)})}}),X0=(y,S,O,B,z)=>{const K=((re,ue,_e,Fe)=>{const Je=Qf(re,ue),Pe=Qf(_e,Fe);return Jf.relative(Je,Pe)})(S,O,B,z);Vp(y,K)},m2=(y,S,O)=>{const B=((z,K)=>{const re=z.fold(Fr.before,Qf,Fr.after),ue=K.fold(Fr.before,Qf,Fr.after);return Jf.relative(re,ue)})(S,O);Vp(y,B)},zp=y=>{if(y.rangeCount>0){const S=y.getRangeAt(0),O=y.getRangeAt(y.rangeCount-1);return oe.some(Sv(Xt.fromDom(S.startContainer),S.startOffset,Xt.fromDom(O.endContainer),O.endOffset))}return oe.none()},Ai=y=>{if(y.anchorNode===null||y.focusNode===null)return zp(y);{const S=Xt.fromDom(y.anchorNode),O=Xt.fromDom(y.focusNode);return((B,z,K,re)=>{const ue=((Fe,Je,Pe,He)=>{const Ke=Zu(Fe).dom.createRange();return Ke.setStart(Fe.dom,Je),Ke.setEnd(Pe.dom,He),Ke})(B,z,K,re),_e=Wr(B,K)&&z===re;return ue.collapsed&&!_e})(S,y.anchorOffset,O,y.focusOffset)?oe.some(Sv(S,y.anchorOffset,O,y.focusOffset)):zp(y)}},g2=(y,S,O=!0)=>{const B=(O?z0:Gs)(y,S);Dh(y,B)},l_=y=>(S=>em(S).filter(O=>O.rangeCount>0).bind(Ai))(y).map(S=>Jf.exact(S.start,S.soffset,S.finish,S.foffset)),h2=(y,S,O)=>((B,z,K)=>((re,ue,_e)=>re.caretPositionFromPoint?((Fe,Je,Pe)=>{var He;return oe.from((He=Fe.caretPositionFromPoint)===null||He===void 0?void 0:He.call(Fe,Je,Pe)).bind(Ke=>{if(Ke.offsetNode===null)return oe.none();const at=Fe.createRange();return at.setStart(Ke.offsetNode,Ke.offset),at.collapse(),oe.some(at)})})(re,ue,_e):re.caretRangeFromPoint?((Fe,Je,Pe)=>{var He;return oe.from((He=Fe.caretRangeFromPoint)===null||He===void 0?void 0:He.call(Fe,Je,Pe))})(re,ue,_e):oe.none())(B.document,z,K).map(re=>Sv(Xt.fromDom(re.startContainer),re.startOffset,Xt.fromDom(re.endContainer),re.endOffset)))(y,S,O),p2=y=>({elementFromPoint:(S,O)=>Xt.fromPoint(Xt.fromDom(y.document),S,O),getRect:S=>S.dom.getBoundingClientRect(),getRangedRect:(S,O,B,z)=>{const K=Jf.exact(S,O,B,z);return((re,ue)=>(_e=>{const Fe=_e.getClientRects(),Je=Fe.length>0?Fe[0]:_e.getBoundingClientRect();return Je.width>0||Je.height>0?oe.some(Je).map(i2):oe.none()})(a2(re,ue)))(y,K)},getSelection:()=>l_(y).map(S=>l2(y,S)),fromSitus:S=>{const O=Jf.relative(S.start,S.finish);return l2(y,O)},situsFromPoint:(S,O)=>h2(y,S,O).map(B=>Ol(B.start,B.soffset,B.finish,B.foffset)),clearSelection:()=>{(S=>{em(S).each(O=>O.removeAllRanges())})(y)},collapseSelection:(S=!1)=>{l_(y).each(O=>O.fold(B=>B.collapse(S),(B,z)=>{const K=S?B:z;m2(y,K,K)},(B,z,K,re)=>{const ue=S?B:K,_e=S?z:re;X0(y,ue,_e,ue,_e)}))},setSelection:S=>{X0(y,S.start,S.soffset,S.finish,S.foffset)},setRelativeSelection:(S,O)=>{m2(y,S,O)},selectNode:S=>{g2(y,S,!1)},selectContents:S=>{g2(y,S)},getInnerHeight:()=>y.innerHeight,getScrollY:()=>(S=>{const O=S!==void 0?S.dom:document,B=O.body.scrollLeft||O.documentElement.scrollLeft,z=O.body.scrollTop||O.documentElement.scrollTop;return il(B,z)})(Xt.fromDom(y.document)).top,scrollBy:(S,O)=>{((B,z,K)=>{const re=(K!==void 0?K.dom:document).defaultView;re&&re.scrollBy(B,z)})(S,O,Xt.fromDom(y.document))}}),tm=(y,S)=>({rows:y,cols:S}),J0=y=>st(y,qn).exists(mo),Fv=(y,S)=>J0(y)||J0(S),b2=y=>y.dom.classList!==void 0,qE=(y,S)=>((O,B,z)=>{const K=((re,ue)=>{const _e=En(re,ue);return _e===void 0||_e===""?[]:_e.split(" ")})(O,B).concat([z]);return wr(O,B,K.join(" ")),!0})(y,"class",S),nm=(y,S)=>{b2(y)?y.dom.classList.add(S):qE(y,S)},$v=(y,S)=>b2(y)&&y.dom.classList.contains(S),c_=()=>({tag:"none"}),u_=y=>({tag:"multiple",elements:y}),ku=y=>({tag:"single",element:y}),v2=y=>{const S=Xt.fromDom((ue=>{if(R(ue.target)){const _e=Xt.fromDom(ue.target);if(eo(_e)&&R(_e.dom.shadowRoot)&&ue.composed&&ue.composedPath){const Fe=ue.composedPath();if(Fe)return Tn(Fe)}}return oe.from(ue.target)})(y).getOr(y.target)),O=()=>y.stopPropagation(),B=()=>y.preventDefault(),z=(K=B,re=O,(...ue)=>K(re.apply(null,ue)));var K,re;return((ue,_e,Fe,Je,Pe,He,Ke)=>({target:ue,x:_e,y:Fe,stop:Je,prevent:Pe,kill:He,raw:Ke}))(S,y.clientX,y.clientY,O,B,z,y)},Q0=(y,S,O,B)=>{y.dom.removeEventListener(S,O,B)},d_=de,Rh=(y,S,O)=>((B,z,K,re)=>((ue,_e,Fe,Je,Pe)=>{const He=((Ke,at)=>dt=>{Ke(dt)&&at(v2(dt))})(Fe,Je);return ue.dom.addEventListener(_e,He,Pe),{unbind:j(Q0,ue,_e,He,Pe)}})(B,z,K,re,!1))(y,S,d_,O),Hp=v2,Vv=y=>!$v(Xt.fromDom(y.target),"ephox-snooker-resizer-bar"),f_=(y,S)=>{const O=(z=zf.selectedSelector,{get:()=>Fc(Xt.fromDom(y.getBody()),z).fold(()=>ps(Bc(y),Ks(y)).fold(c_,ku),u_)}),B=((K,re,ue)=>{const _e=He=>{Oo(He,K.selected),Oo(He,K.firstSelected),Oo(He,K.lastSelected)},Fe=He=>{wr(He,K.selected,"1")},Je=He=>{Pe(He),ue()},Pe=He=>{const Ke=Mr(He,`${K.selectedSelector},${K.firstSelectedSelector},${K.lastSelectedSelector}`);qe(Ke,_e)};return{clearBeforeUpdate:Pe,clear:Je,selectRange:(He,Ke,at,dt)=>{Je(He),qe(Ke,Fe),wr(at,K.firstSelected,"1"),wr(dt,K.lastSelected,"1"),re(Ke,at,dt)},selectedSelector:K.selectedSelector,firstSelectedSelector:K.firstSelectedSelector,lastSelectedSelector:K.lastSelectedSelector}})(zf,(K,re,ue)=>{_l(re).each(_e=>{const Fe=D(K,Ke=>Ke.dom),Je=Zd(y),Pe=os(W,Xt.fromDom(y.getDoc()),Je),He=((Ke,at,dt)=>{const Pt=Lo(Ke);return Yd(Pt,at).map(Bt=>{const Nt=Es(Pt,dt,!1),{rows:$t}=ns(Nt),Jt=((mt,Sn)=>{const to=mt.slice(0,Sn[Sn.length-1].row+1),Eo=cv(to);return Le(Eo,io=>{const no=io.cells.slice(0,Sn[Sn.length-1].column+1);return D(no,ko=>ko.element)})})($t,Bt),on=((mt,Sn)=>{const to=mt.slice(Sn[0].row+Sn[0].rowspan-1,mt.length),Eo=cv(to);return Le(Eo,io=>{const no=io.cells.slice(Sn[0].column+Sn[0].colspan-1,io.cells.length);return D(no,ko=>ko.element)})})($t,Bt);return{upOrLeftCells:Jt,downOrRightCells:on}})})(_e,{selection:$c(y)},Pe).map(Ke=>We(Ke,at=>D(at,dt=>dt.dom))).getOrUndefined();((Ke,at,dt,Pt,Bt)=>{Ke.dispatch("TableSelectionChange",{cells:at,start:dt,finish:Pt,otherCells:Bt})})(y,Fe,re.dom,ue.dom,He)})},()=>(K=>{K.dispatch("TableSelectionClear")})(y));var z;return y.on("init",K=>{const re=y.getWin(),ue=Cr(y),_e=Ks(y),Fe=((dt,Pt,Bt,Nt)=>{const $t=((Jt,on,mt,Sn)=>{const to=G0(),Eo=to.clear,io=no=>{to.on(ko=>{Sn.clearBeforeUpdate(on),Pv(no.target,mt).each(Yo=>{yu(ko,Yo,mt).each(ii=>{const Ra=ii.boxes.getOr([]);if(Ra.length===1){const Qi=Ra[0],bc=Pn(Qi)==="false",ug=Gt(So(no.target),Qi,Wr);bc&&ug&&Sn.selectRange(on,Ra,Qi,Qi)}else Ra.length>1&&(Sn.selectRange(on,Ra,ii.start,ii.finish),Jt.selectContents(Yo))})})})};return{clearstate:Eo,mousedown:no=>{Sn.clear(on),Pv(no.target,mt).filter(q0).each(to.set)},mouseover:no=>{io(no)},mouseup:no=>{io(no),Eo()}}})(p2(dt),Pt,Bt,Nt);return{clearstate:$t.clearstate,mousedown:$t.mousedown,mouseover:$t.mouseover,mouseup:$t.mouseup}})(re,ue,_e,B),Je=((dt,Pt,Bt,Nt)=>{const $t=p2(dt),Jt=()=>(Nt.clear(Pt),oe.none());return{keydown:(on,mt,Sn,to,Eo,io)=>{const no=on.raw,ko=no.which,Yo=no.shiftKey===!0;return iv(Pt,Nt.selectedSelector).fold(()=>(Oh(ko)&&!Yo&&Nt.clearBeforeUpdate(Pt),Oh(ko)&&Yo&&!Fv(mt,to)?oe.none:Th(ko)&&Yo?j(tc,$t,Pt,Bt,a_,to,mt,Nt.selectRange):Mv(ko)&&Yo?j(tc,$t,Pt,Bt,Lv,to,mt,Nt.selectRange):Th(ko)?j(of,$t,Bt,a_,to,mt,ig):Mv(ko)?j(of,$t,Bt,Lv,to,mt,$p):oe.none),Ra=>{const Qi=bc=>()=>Q(bc,Ia=>((fd,Wp,sm,Kp,iy)=>ma(Kp,fd,Wp,iy.firstSelectedSelector,iy.lastSelectedSelector).map(im=>(iy.clearBeforeUpdate(sm),iy.selectRange(sm,im.boxes,im.start,im.finish),im.boxes)))(Ia.rows,Ia.cols,Pt,Ra,Nt)).fold(()=>$f(Pt,Nt.firstSelectedSelector,Nt.lastSelectedSelector).map(Ia=>{const fd=Th(ko)||io.isForward(ko)?Fr.after:Fr.before;return $t.setRelativeSelection(Fr.on(Ia.first,0),fd(Ia.table)),Nt.clear(Pt),As(oe.none(),!0)}),Ia=>oe.some(As(oe.none(),!0)));return Oh(ko)&&Yo&&!Fv(mt,to)?oe.none:Th(ko)&&Yo?Qi([tm(1,0)]):Mv(ko)&&Yo?Qi([tm(-1,0)]):io.isBackward(ko)&&Yo?Qi([tm(0,-1),tm(-1,0)]):io.isForward(ko)&&Yo?Qi([tm(0,1),tm(1,0)]):Oh(ko)&&!Yo?Jt:oe.none})()},keyup:(on,mt,Sn,to,Eo)=>iv(Pt,Nt.selectedSelector).fold(()=>{const io=on.raw,no=io.which;return io.shiftKey===!0&&Oh(no)&&Fv(mt,to)?((ko,Yo,ii,Ra,Qi,bc,ug)=>Wr(ii,Qi)&&Ra===bc?oe.none():nt(ii,"td,th",Yo).bind(Ia=>nt(Qi,"td,th",Yo).bind(fd=>kv(ko,Yo,Ia,fd,ug))))(Pt,Bt,mt,Sn,to,Eo,Nt.selectRange):oe.none()},oe.none)}})(re,ue,_e,B),Pe=((dt,Pt,Bt,Nt)=>{const $t=p2(dt);return(Jt,on)=>{Nt.clearBeforeUpdate(Pt),yu(Jt,on,Bt).each(mt=>{const Sn=mt.boxes.getOr([]);Nt.selectRange(Pt,Sn,mt.start,mt.finish),$t.selectContents(on),$t.collapseSelection()})}})(re,ue,_e,B);y.on("TableSelectorChange",dt=>Pe(dt.start,dt.finish));const He=(dt,Pt)=>{(Bt=>Bt.raw.shiftKey===!0)(dt)&&(Pt.kill&&dt.kill(),Pt.selection.each(Bt=>{const Nt=Jf.relative(Bt.start,Bt.finish),$t=a2(re,Nt);y.selection.setRng($t)}))},Ke=dt=>dt.button===0,at=(()=>{const dt=Z0(Xt.fromDom(ue)),Pt=Z0(0);return{touchEnd:Bt=>{const Nt=Xt.fromDom(Bt.target);if(cr("td")(Nt)||cr("th")(Nt)){const $t=dt.get(),Jt=Pt.get();Wr($t,Nt)&&Bt.timeStamp-Jt<300&&(Bt.preventDefault(),Pe(Nt,Nt))}dt.set(Nt),Pt.set(Bt.timeStamp)}}})();y.on("dragstart",dt=>{Fe.clearstate()}),y.on("mousedown",dt=>{Ke(dt)&&Vv(dt)&&Fe.mousedown(Hp(dt))}),y.on("mouseover",dt=>{var Pt;(Pt=dt).buttons!==void 0&&(1&Pt.buttons)==0||!Vv(dt)||Fe.mouseover(Hp(dt))}),y.on("mouseup",dt=>{Ke(dt)&&Vv(dt)&&Fe.mouseup(Hp(dt))}),y.on("touchend",at.touchEnd),y.on("keyup",dt=>{const Pt=Hp(dt);if(Pt.raw.shiftKey&&Oh(Pt.raw.which)){const Bt=y.selection.getRng(),Nt=Xt.fromDom(Bt.startContainer),$t=Xt.fromDom(Bt.endContainer);Je.keyup(Pt,Nt,Bt.startOffset,$t,Bt.endOffset).each(Jt=>{He(Pt,Jt)})}}),y.on("keydown",dt=>{const Pt=Hp(dt);S.hide();const Bt=y.selection.getRng(),Nt=Xt.fromDom(Bt.startContainer),$t=Xt.fromDom(Bt.endContainer),Jt=Ho(Yf,Xf)(Xt.fromDom(y.selection.getStart()));Je.keydown(Pt,Nt,Bt.startOffset,$t,Bt.endOffset,Jt).each(on=>{He(Pt,on)}),S.show()}),y.on("NodeChange",()=>{const dt=y.selection,Pt=Xt.fromDom(dt.getStart()),Bt=Xt.fromDom(dt.getEnd());Ff(_l,[Pt,Bt]).fold(()=>B.clear(ue),W)})}),y.on("PreInit",()=>{y.serializer.addTempAttr(zf.firstSelected),y.serializer.addTempAttr(zf.lastSelected)}),{getSelectedCells:()=>((K,re,ue,_e)=>{switch(K.tag){case"none":return re();case"single":return(Fe=>[Fe.dom])(K.element);case"multiple":return(Fe=>D(Fe,Je=>Je.dom))(K.elements)}})(O.get(),Z([])),clearSelectedCells:K=>B.clear(Xt.fromDom(K))}},Eu=y=>{let S=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");S.push(O)},unbind:O=>{S=zt(S,B=>B!==O)},trigger:(...O)=>{const B={};qe(y,(z,K)=>{B[z]=O[K]}),qe(S,z=>{z(B)})}}},ag=y=>({registry:We(y,S=>({bind:S.bind,unbind:S.unbind})),trigger:We(y,S=>S.trigger)}),zv=y=>y.slice(0).sort(),Hv=(y,S)=>{const O=zt(S,B=>!rt(y,B));O.length>0&&(B=>{throw new Error("Unsupported keys for object: "+zv(B).join(", "))})(O)},ey=y=>((S,O)=>((B,z,K)=>{if(z.length===0)throw new Error("You must specify at least one required field.");return((re,ue)=>{if(!x(ue))throw new Error("The "+re+" fields must be an array. Was: "+ue+".");qe(ue,_e=>{if(!g(_e))throw new Error("The value "+_e+" in the "+re+" fields was not a string.")})})("required",z),(re=>{const ue=zv(re);kn(ue,(_e,Fe)=>Fe<ue.length-1&&_e===ue[Fe+1]).each(_e=>{throw new Error("The field: "+_e+" occurs more than once in the combined fields: ["+ue.join(", ")+"].")})})(z),re=>{const ue=co(re);ft(z,Fe=>rt(ue,Fe))||((Fe,Je)=>{throw new Error("All required keys ("+zv(Fe).join(", ")+") were not specified. Specified keys were: "+zv(Je).join(", ")+".")})(z,ue),B(z,ue);const _e=zt(z,Fe=>!K.validate(re[Fe],Fe));return _e.length>0&&((Fe,Je)=>{throw new Error("All values need to be of type: "+Je+". Keys ("+zv(Fe).join(", ")+") were not.")})(_e,K.label),re}})(S,O,{validate:N,label:"function"}))(Hv,y),Uv=ey(["compare","extract","mutate","sink"]),ba=ey(["element","start","stop","destroy"]),ty=ey(["forceDrop","drop","move","delayDrop"]),lg=()=>{const y=(()=>{const B=ag({move:Eu(["info"])});return{onEvent:W,reset:W,events:B.registry}})(),S=(()=>{let B=oe.none();const z=ag({move:Eu(["info"])});return{onEvent:(K,re)=>{re.extract(K).each(ue=>{((Fe,Je)=>{const Pe=B.map(He=>Fe.compare(He,Je));return B=oe.some(Je),Pe})(re,ue).each(Fe=>{z.trigger.move(Fe)})})},reset:()=>{B=oe.none()},events:z.registry}})();let O=y;return{on:()=>{O.reset(),O=S},off:()=>{O.reset(),O=y},isOn:()=>O===S,onEvent:(B,z)=>{O.onEvent(B,z)},events:S.events}},cg=y=>{const S=y.replace(/\./g,"-");return{resolve:O=>S+"-"+O}},Wv=cg("ephox-dragster").resolve;var ny=Uv({compare:(y,S)=>il(S.left-y.left,S.top-y.top),extract:y=>oe.some(il(y.x,y.y)),sink:(y,S)=>{const O=(ue=>{const _e={layerClass:Wv("blocker"),...ue},Fe=Xt.fromTag("div");return wr(Fe,"role","presentation"),Xl(Fe,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),nm(Fe,Wv("blocker")),nm(Fe,_e.layerClass),{element:Z(Fe),destroy:()=>{ls(Fe)}}})(S),B=Rh(O.element(),"mousedown",y.forceDrop),z=Rh(O.element(),"mouseup",y.drop),K=Rh(O.element(),"mousemove",y.move),re=Rh(O.element(),"mouseout",y.delayDrop);return ba({element:O.element,start:ue=>{hs(ue,O.element())},stop:()=>{ls(O.element())},destroy:()=>{O.destroy(),z.unbind(),K.unbind(),re.unbind(),B.unbind()}})},mutate:(y,S)=>{y.mutate(S.left,S.top)}});const Ih=cg("ephox-snooker").resolve,om=Ih("resizer-bar"),y2=Ih("resizer-rows"),oy=Ih("resizer-cols"),fl=y=>{const S=Mr(y.parent(),"."+om);qe(S,ls)},rm=(y,S,O)=>{const B=y.origin();qe(S,z=>{z.each(K=>{const re=O(B,K);nm(re,om),hs(y.parent(),re)})})},x2=(y,S,O,B,z)=>{const K=Nf(O),re=S.isResizable,ue=B.length>0?ed.positions(B,O):[],_e=ue.length>0?((Pe,He)=>Le(Pe.all,(Ke,at)=>He(Ke.element)?[at]:[]))(y,re):[];((Pe,He,Ke,at)=>{rm(Pe,He,(dt,Pt)=>{const Bt=((Nt,$t,Jt,on,mt)=>{const Sn=Xt.fromTag("div");return Xl(Sn,{position:"absolute",left:$t+"px",top:Jt-3.5+"px",height:"7px",width:on+"px"}),ji(Sn,{"data-row":Nt,role:"presentation"}),Sn})(Pt.row,Ke.left-dt.left,Pt.y-dt.top,at);return nm(Bt,y2),Bt})})(S,zt(ue,(Pe,He)=>Oe(_e,Ke=>He===Ke)),K,oh(O));const Fe=z.length>0?Pf.positions(z,O):[],Je=Fe.length>0?((Pe,He)=>{const Ke=[];return Te(Pe.grid.columns,at=>{Or(Pe,at).map(dt=>dt.element).forall(He)&&Ke.push(at)}),zt(Ke,at=>{const dt=Gi(Pe,Pt=>Pt.column===at);return ft(dt,Pt=>He(Pt.element))})})(y,re):[];((Pe,He,Ke,at)=>{rm(Pe,He,(dt,Pt)=>{const Bt=((Nt,$t,Jt,on,mt)=>{const Sn=Xt.fromTag("div");return Xl(Sn,{position:"absolute",left:$t-3.5+"px",top:Jt+"px",height:mt+"px",width:"7px"}),ji(Sn,{"data-column":Nt,role:"presentation"}),Sn})(Pt.col,Pt.x-dt.left,Ke.top-dt.top,0,at);return nm(Bt,oy),Bt})})(S,zt(Fe,(Pe,He)=>Oe(Je,Ke=>He===Ke)),K,Xb(O))},St=(y,S)=>{if(fl(y),y.isResizable(S)){const O=Lo(S),B=Wd(O),z=wp(O);x2(O,y,S,B,z)}},Up=(y,S)=>{const O=Mr(y.parent(),"."+om);qe(O,S)},YE=y=>{Up(y,S=>{Io(S,"display","none")})},m_=y=>{Up(y,S=>{Io(S,"display","block")})},ry=Ih("resizer-bar-dragging"),Au=y=>{const S=(()=>{const Pe=ag({drag:Eu(["xDelta","yDelta","target"])});let He=oe.none();const Ke=(()=>{const at=ag({drag:Eu(["xDelta","yDelta"])});return{mutate:(dt,Pt)=>{at.trigger.drag(dt,Pt)},events:at.registry}})();return Ke.events.drag.bind(at=>{He.each(dt=>{Pe.trigger.drag(at.xDelta,at.yDelta,dt)})}),{assign:at=>{He=oe.some(at)},get:()=>He,mutate:Ke.mutate,events:Pe.registry}})(),O=((Pe,He={})=>{var Ke;return((at,dt,Pt)=>{let Bt=!1;const Nt=ag({start:Eu([]),stop:Eu([])}),$t=lg(),Jt=()=>{Sn.stop(),$t.isOn()&&($t.off(),Nt.trigger.stop())},on=((to,Eo)=>{let io=null;const no=()=>{w(io)||(clearTimeout(io),io=null)};return{cancel:no,throttle:(...ko)=>{no(),io=setTimeout(()=>{io=null,to.apply(null,ko)},200)}}})(Jt);$t.events.move.bind(to=>{dt.mutate(at,to.info)});const mt=to=>(...Eo)=>{Bt&&to.apply(null,Eo)},Sn=dt.sink(ty({forceDrop:Jt,drop:mt(Jt),move:mt(to=>{on.cancel(),$t.onEvent(to,dt)}),delayDrop:mt(on.throttle)}),Pt);return{element:Sn.element,go:to=>{Sn.start(to),$t.on(),Nt.trigger.start()},on:()=>{Bt=!0},off:()=>{Bt=!1},isActive:()=>Bt,destroy:()=>{Sn.destroy()},events:Nt.registry}})(Pe,(Ke=He.mode)!==null&&Ke!==void 0?Ke:ny,He)})(S,{});let B=oe.none();const z=(Pe,He)=>oe.from(En(Pe,He));S.events.drag.bind(Pe=>{z(Pe.target,"data-row").each(He=>{const Ke=Lm(Pe.target,"top");Io(Pe.target,"top",Ke+Pe.yDelta+"px")}),z(Pe.target,"data-column").each(He=>{const Ke=Lm(Pe.target,"left");Io(Pe.target,"left",Ke+Pe.xDelta+"px")})});const K=(Pe,He)=>Lm(Pe,He)-Ts(Pe,"data-initial-"+He,0);O.events.stop.bind(()=>{S.get().each(Pe=>{B.each(He=>{z(Pe,"data-row").each(Ke=>{const at=K(Pe,"top");Oo(Pe,"data-initial-top"),Je.trigger.adjustHeight(He,at,parseInt(Ke,10))}),z(Pe,"data-column").each(Ke=>{const at=K(Pe,"left");Oo(Pe,"data-initial-left"),Je.trigger.adjustWidth(He,at,parseInt(Ke,10))}),St(y,He)})})});const re=(Pe,He)=>{Je.trigger.startAdjust(),S.assign(Pe),wr(Pe,"data-initial-"+He,Lm(Pe,He)),nm(Pe,ry),Io(Pe,"opacity","0.2"),O.go(y.parent())},ue=Rh(y.parent(),"mousedown",Pe=>{var He;He=Pe.target,$v(He,y2)&&re(Pe.target,"top"),(Ke=>$v(Ke,oy))(Pe.target)&&re(Pe.target,"left")}),_e=Pe=>Wr(Pe,y.view()),Fe=Rh(y.view(),"mouseover",Pe=>{var He;(He=Pe.target,nt(He,"table",_e).filter(mo)).fold(()=>{ol(Pe.target)&&fl(y)},Ke=>{O.isActive()&&(B=oe.some(Ke),St(y,Ke))})}),Je=ag({adjustHeight:Eu(["table","delta","row"]),adjustWidth:Eu(["table","delta","column"]),startAdjust:Eu([])});return{destroy:()=>{ue.unbind(),Fe.unbind(),O.destroy(),fl(y)},refresh:Pe=>{St(y,Pe)},on:O.on,off:O.off,hideBars:j(YE,y),showBars:j(m_,y),events:Je.registry}},sy=y=>R(y)&&y.nodeName==="TABLE",Kv="bar-",w2=y=>En(y,"data-mce-resize")!=="false",C2=y=>{const S=G0(),O=G0(),B=G0();let z,K,re,ue;const _e=Pe=>Zf(y,Pe),Fe=()=>ch(y)?C0():ld(),Je=(Pe,He,Ke,at)=>{const dt=(Nt=>{return _o($t=Nt,"corner-")?((Jt,on)=>Jt.substring(7))($t):$t;var $t})(He),Pt=cn(dt,"e"),Bt=_o(dt,"n");if(K===""&&wh(Pe),ue===""&&(Nt=>{const $t=(Jt=>Kd(Jt)+"px")(Nt);Xr(Nt,oe.none(),oe.some($t)),_u(Nt)})(Pe),Ke!==z&&K!==""){Io(Pe,"width",K);const Nt=Fe(),$t=_e(Pe),Jt=ch(y)||Pt?(on=>wu(on).columns)(Pe)-1:0;Xd(Pe,Ke-z,Jt,Nt,$t)}else if((Nt=>/^(\d+(\.\d+)?)%$/.test(Nt))(K)){const Nt=parseFloat(K.replace("%",""));Io(Pe,"width",Ke*Nt/z+"%")}if((Nt=>/^(\d+(\.\d+)?)px$/.test(Nt))(K)&&(Nt=>{const $t=Lo(Nt);Pc($t)||qe(Os(Nt),Jt=>{const on=Aa(Jt,"width");Io(Jt,"width",on),Oo(Jt,"width")})})(Pe),at!==re&&ue!==""){Io(Pe,"height",ue);const Nt=Bt?0:($t=>wu($t).rows)(Pe)-1;mh(Pe,at-re,Nt)}};return y.on("init",()=>{const Pe=((He,Ke)=>He.inline?((at,dt,Pt)=>({parent:Z(dt),view:Z(at),origin:Z(il(0,0)),isResizable:Pt}))(Xt.fromDom(He.getBody()),(()=>{const at=Xt.fromTag("div");return Xl(at,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hs(lu(Xt.fromDom(document)),at),at})(),Ke):((at,dt)=>{const Pt=Ro(at)?(Bt=>Xt.fromDom(Rc(Bt).dom.documentElement))(at):at;return{parent:Z(Pt),view:Z(at),origin:Z(il(0,0)),isResizable:dt}})(Xt.fromDom(He.getDoc()),Ke))(y,w2);if(B.set(Pe),(He=>{const Ke=He.options.get("object_resizing");return rt(Ke.split(","),"table")})(y)&&ce(y)){const He=((Ke,at,dt)=>{const Pt=ed,Bt=Pf,Nt=Au(Ke),$t=ag({beforeResize:Eu(["table","type"]),afterResize:Eu(["table","type"]),startDrag:Eu([])});return Nt.events.adjustHeight.bind(Jt=>{const on=Jt.table;$t.trigger.beforeResize(on,"row");const mt=Pt.delta(Jt.delta,on);mh(on,mt,Jt.row),$t.trigger.afterResize(on,"row")}),Nt.events.startAdjust.bind(Jt=>{$t.trigger.startDrag()}),Nt.events.adjustWidth.bind(Jt=>{const on=Jt.table;$t.trigger.beforeResize(on,"col");const mt=Bt.delta(Jt.delta,on),Sn=dt(on);Xd(on,mt,Jt.column,at,Sn),$t.trigger.afterResize(on,"col")}),{on:Nt.on,off:Nt.off,refreshBars:Nt.refresh,hideBars:Nt.hideBars,showBars:Nt.showBars,destroy:Nt.destroy,events:$t.registry}})(Pe,Fe(),_e);He.on(),He.events.startDrag.bind(Ke=>{S.set(y.selection.getRng())}),He.events.beforeResize.bind(Ke=>{const at=Ke.table.dom;((dt,Pt,Bt,Nt,$t)=>{dt.dispatch("ObjectResizeStart",{target:Pt,width:Bt,height:Nt,origin:$t})})(y,at,Wm(at),Km(at),Kv+Ke.type)}),He.events.afterResize.bind(Ke=>{const at=Ke.table,dt=at.dom;ks(at),S.on(Pt=>{y.selection.setRng(Pt),y.focus()}),((Pt,Bt,Nt,$t,Jt)=>{Pt.dispatch("ObjectResized",{target:Bt,width:Nt,height:$t,origin:Jt})})(y,dt,Wm(dt),Km(dt),Kv+Ke.type),y.undoManager.add()}),O.set(He)}}),y.on("ObjectResizeStart",Pe=>{const He=Pe.target;if(sy(He)){const Ke=Xt.fromDom(He);qe(y.dom.select(".mce-clonedresizable"),at=>{y.dom.addClass(at,"mce-"+lh(y)+"-columns")}),!fs(Ke)&&L(y)?Tl(Ke):!V0(Ke)&&id(y)&&wh(Ke),ud(Ke)&&_o(Pe.origin,Kv)&&wh(Ke),z=Pe.width,K=G(y)?"":KC(y,He).getOr(""),re=Pe.height,ue=ov(y,He).getOr("")}}),y.on("ObjectResized",Pe=>{const He=Pe.target;if(sy(He)){const Ke=Xt.fromDom(He),at=Pe.origin;(dt=>_o(dt,"corner-"))(at)&&Je(Ke,at,Pe.width,Pe.height),ks(Ke),Qd(y,Ke.dom,B0)}}),y.on("SwitchMode",()=>{O.on(Pe=>{y.mode.isReadOnly()?Pe.hideBars():Pe.showBars()})}),y.on("dragstart dragend",Pe=>{O.on(He=>{Pe.type==="dragstart"?(He.hideBars(),He.off()):(He.on(),He.showBars())})}),y.on("remove",()=>{O.on(Pe=>{Pe.destroy()}),B.on(Pe=>{((He,Ke)=>{He.inline&&ls(Ke.parent())})(y,Pe)})}),{refresh:Pe=>{O.on(He=>He.refreshBars(Xt.fromDom(Pe)))},hide:()=>{O.on(Pe=>Pe.hideBars())},show:()=>{O.on(Pe=>Pe.showBars())}}},XE=y=>{(z=>{const K=z.options.register;K("table_clone_elements",{processor:"string[]"}),K("table_use_colgroups",{processor:"boolean",default:!0}),K("table_header_type",{processor:re=>{const ue=rt(["section","cells","sectionCells","auto"],re);return ue?{value:re,valid:ue}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),K("table_sizing_mode",{processor:"string",default:"auto"}),K("table_default_attributes",{processor:"object",default:{border:"1"}}),K("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),K("table_column_resizing",{processor:re=>{const ue=rt(["preservetable","resizetable"],re);return ue?{value:re,valid:ue}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),K("table_resize_bars",{processor:"boolean",default:!0}),K("table_style_by_css",{processor:"boolean",default:!0}),K("table_merge_content_on_paste",{processor:"boolean",default:!0})})(y);const S=C2(y),O=f_(y,S),B=t2(y,S,O);return Ps(y,B),((z,K)=>{const re=Ks(z),ue=_e=>ps(Bc(z)).bind(Fe=>_l(Fe,re).map(Je=>{const Pe=No($c(z),Je,Fe);return _e(Je,Pe)})).getOr("");pn({mceTableRowType:()=>ue(K.getTableRowType),mceTableCellType:()=>ue(K.getTableCellType),mceTableColType:()=>ue(K.getTableColType)},(_e,Fe)=>z.addQueryValueHandler(Fe,_e))})(y,B),Vc(y,B),{getSelectedCells:O.getSelectedCells,clearSelectedCells:O.clearSelectedCells}};t.add("dom",y=>({table:XE(y)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.addI18n("de",{"#":"#",Accessibility:"Barrierefreiheit",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Aktion",Activity:"Aktivitt",Address:"Adresse",Advanced:"Erweitert",Align:"Ausrichtung","Align center":"Zentrieren","Align left":"Linksbndig ausrichten","Align right":"Rechtsbndig ausrichten",Alignment:"Ausrichtung","Alignment {0}":"",All:"Alle","Alternative description":"Alternative Beschreibung","Alternative source":"Alternative Quelle","Alternative source URL":"URL der alternativen Quelle",Anchor:"Anker","Anchor...":"Textmarke",Anchors:"Anker","Animals and Nature":"Tiere und Natur",Arrows:"Pfeile",B:"B","Background color":"Hintergrundfarbe","Background color {0}":"",Black:"Schwarz",Block:"Blocksatz","Block {0}":"",Blockquote:"Blockzitat",Blocks:"Blcke",Blue:"Blau","Blue component":"Blauanteil",Body:"Inhalt",Bold:"Fett",Border:"Rahmen","Border color":"Rahmenfarbe","Border style":"Rahmenstil","Border width":"Rahmenbreite",Bottom:"Unten","Browse files":"","Browse for an image":"Bild...","Browse links":"","Bullet list":"Aufzhlung",Cancel:"Abbrechen",Caption:"Beschriftung",Cell:"Zelle","Cell padding":"Zelleninnenabstand","Cell properties":"Zelleigenschaften","Cell spacing":"Zellenabstand","Cell styles":"Zellstil","Cell type":"Zelltyp",Center:"Zentriert",Characters:"Zeichen","Characters (no spaces)":"Zeichen (ohne Leerzeichen)",Circle:"Kreis",Class:"Klasse","Clear formatting":"Formatierung entfernen",Close:"Schlieen",Code:"Code","Code sample...":"Codebeispiel...","Code view":"Code Ansicht","Color Picker":"Farbwahl","Color swatch":"Farbpalette",Cols:"Spalten",Column:"Spalte","Column clipboard actions":"Spalten-Zwischenablage-Aktionen","Column group":"Spaltengruppe","Column header":"Spaltenkopf","Constrain proportions":"Seitenverhltnis beibehalten",Copy:"Kopieren","Copy column":"Spalte kopieren","Copy row":"Zeile kopieren","Could not find the specified string.":"Die angegebene Zeichenfolge wurde nicht gefunden.","Could not load emojis":"Emojis konnten nicht geladen werden",Count:"Anzahl",Currency:"Whrung","Current window":"Aktuelles Fenster","Custom color":"Benutzerdefinierte Farbe","Custom...":"Benutzerdefiniert...",Cut:"Ausschneiden","Cut column":"Spalte ausschneiden","Cut row":"Zeile ausschneiden","Dark Blue":"Dunkelblau","Dark Gray":"Dunkelgrau","Dark Green":"Dunkelgrn","Dark Orange":"Dunkelorange","Dark Purple":"Dunkellila","Dark Red":"Dunkelrot","Dark Turquoise":"Dunkeltrkis","Dark Yellow":"Dunkelgelb",Dashed:"Gestrichelt","Date/time":"Datum/Uhrzeit","Decrease indent":"Einzug verkleinern",Default:"Standard","Delete accordion":"","Delete column":"Spalte lschen","Delete row":"Zeile lschen","Delete table":"Tabelle lschen",Dimensions:"Abmessungen",Disc:"Scheibe",Div:"Div",Document:"Dokument",Dotted:"Gepunktet",Double:"Doppelt","Drop an image here":"Bild hier ablegen","Dropped file type is not supported":"Hereingezogener Dateityp wird nicht untersttzt",Edit:"Bearbeiten",Embed:"Einbettung",Emojis:"Emojis","Emojis...":"Emojis...",Error:"Fehler","Error: Form submit field collision.":"Fehler: Kollision der Formularbesttigungsfelder.","Error: No form element found.":"Fehler: Kein Formularelement gefunden.","Extended Latin":"Erweitertes Latein","Failed to initialize plugin: {0}":"Plugin konnte nicht initialisiert werden: {0}","Failed to load plugin url: {0}":"Plugin-URL konnte nicht geladen werden: {0}","Failed to load plugin: {0} from url {1}":"Plugin konnte nicht geladen werden: {0} von URL {1}","Failed to upload image: {0}":"Bild konnte nicht hochgeladen werden: {0}",File:"Datei",Find:"Suchen","Find (if searchreplace plugin activated)":"Suchen (wenn Suchen/Ersetzen-Plugin aktiviert ist)","Find and Replace":"Suchen und Ersetzen","Find and replace...":"Suchen und ersetzen...","Find in selection":"In Auswahl suchen","Find whole words only":"Nur ganze Wrter suchen",Flags:"Flaggen","Focus to contextual toolbar":"Fokus auf kontextbezogene Symbolleiste","Focus to element path":"Fokus auf Elementpfad","Focus to menubar":"Fokus auf Menleiste","Focus to toolbar":"Fokus auf Symbolleiste",Font:"Schriftart","Font size {0}":"","Font sizes":"Schriftgren","Font {0}":"",Fonts:"Schriftarten","Food and Drink":"Essen und Trinken",Footer:"Fuzeile",Format:"Format","Format {0}":"",Formats:"Formate",Fullscreen:"Vollbild",G:"G",General:"Allgemein",Gray:"Grau",Green:"Grn","Green component":"Grnanteil",Groove:"Gekantet","Handy Shortcuts":"Praktische Tastenkombinationen",Header:"Kopfzeile","Header cell":"Kopfzelle","Heading 1":"berschrift 1","Heading 2":"berschrift 2","Heading 3":"berschrift 3","Heading 4":"berschrift 4","Heading 5":"berschrift 5","Heading 6":"berschrift 6",Headings:"berschriften",Height:"Hhe",Help:"Hilfe","Hex color code":"Hexadezimal-Farbwert",Hidden:"Unsichtbar","Horizontal align":"Horizontal ausrichten","Horizontal line":"Horizontale Linie","Horizontal space":"Horizontaler Raum",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Die ID muss mit einem Buchstaben beginnen gefolgt von Buchstaben, Zahlen, Bindestrichen, Punkten, Doppelpunkten oder Unterstrichen.","Image is decorative":"Bild ist dekorativ","Image list":"Bildliste","Image title":"Bildtitel","Image...":"Bild...","ImageProxy HTTP error: Could not find Image Proxy":"Image Proxy HTTP Fehler: Kann Image Proxy nicht finden","ImageProxy HTTP error: Incorrect Image Proxy URL":"Image Proxy HTTP Fehler: Falsche Image Proxy URL","ImageProxy HTTP error: Rejected request":"Image Proxy HTTP Fehler: Abgewiesene Anfrage","ImageProxy HTTP error: Unknown ImageProxy error":"Image Proxy HTTP Fehler: Unbekannter Image Proxy Fehler","Increase indent":"Einzug vergrern",Inline:"Zeichenformate",Insert:"Einfgen","Insert Template":"Vorlage einfgen","Insert accordion":"","Insert column after":"Neue Spalte danach einfgen","Insert column before":"Neue Spalte davor einfgen","Insert date/time":"Datum/Uhrzeit einfgen","Insert image":"Bild einfgen","Insert link (if link plugin activated)":"Link einfgen (wenn Link-Plugin aktiviert ist)","Insert row after":"Neue Zeile danach einfgen","Insert row before":"Neue Zeile davor einfgen","Insert table":"Tabelle einfgen","Insert template...":"Vorlage einfgen...","Insert video":"Video einfgen","Insert/Edit code sample":"Codebeispiel einfgen/bearbeiten","Insert/edit image":"Bild einfgen/bearbeiten","Insert/edit link":"Link einfgen/bearbeiten","Insert/edit media":"Medien einfgen/bearbeiten","Insert/edit video":"Video einfgen/bearbeiten",Inset:"Eingelassen","Invalid hex color code: {0}":"Ungltiger Hexadezimal-Farbwert: {0}","Invalid input":"Ungltige Eingabe",Italic:"Kursiv",Justify:"Blocksatz","Keyboard Navigation":"Tastaturnavigation",Language:"Sprache","Learn more...":"Erfahren Sie mehr dazu...",Left:"Links","Left to right":"Von links nach rechts","Light Blue":"Hellblau","Light Gray":"Hellgrau","Light Green":"Hellgrn","Light Purple":"Helllila","Light Red":"Hellrot","Light Yellow":"Hellgelb","Line height":"Liniendicke","Link list":"Linkliste","Link...":"Link...","List Properties":"Liste Eigenschaften","List properties...":"Liste Eigenschaften","Loading emojis...":"Lade Emojis...","Loading...":"Wird geladen...","Lower Alpha":"Lateinisches Alphabet in Kleinbuchstaben","Lower Greek":"Griechische Kleinbuchstaben","Lower Roman":"Kleiner rmischer Buchstabe","Match case":"Gro-/Kleinschreibung beachten",Mathematical:"Mathematisch","Media poster (Image URL)":"Medienposter (Bild-URL)","Media...":"Medien...","Medium Blue":"Mittleres Blau","Medium Gray":"Mittelgrau","Medium Purple":"Mittelviolett","Merge cells":"Zellen verbinden",Middle:"Mitte","Midnight Blue":"Mitternachtsblau","More...":"Mehr...",Name:"Name","Navy Blue":"Marineblau","New document":"Neues Dokument","New window":"Neues Fenster",Next:"Nchste",No:"Nein","No alignment":"Keine Ausrichtung","No color":"Keine Farbe","Nonbreaking space":"Geschtztes Leerzeichen",None:"Keine","Numbered list":"Nummerierte Liste",OR:"ODER",Objects:"Objekte",Ok:"Ok","Open help dialog":"Hilfe-Dialog ffnen","Open link":"Link ffnen","Open link in...":"Link ffnen in...","Open popup menu for split buttons":"ffne Popup Menge um Buttons zu trennen",Orange:"Orange",Outset:"Hervorstehend","Page break":"Seitenumbruch",Paragraph:"Absatz",Paste:"Einfgen","Paste as text":"Als Text einfgen","Paste column after":"Spalte danach einfgen","Paste column before":"Spalte davor einfgen","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Einfgen ist nun im unformatierten Textmodus. Inhalte werden ab jetzt als unformatierter Text eingefgt, bis Sie diese Einstellung wieder deaktivieren.","Paste or type a link":"Link einfgen oder eingeben","Paste row after":"Zeile danach einfgen","Paste row before":"Zeile davor einfgen","Paste your embed code below:":"Fgen Sie Ihren Einbettungscode unten ein:",People:"Menschen",Plugins:"Plugins","Plugins installed ({0}):":"Installierte Plugins ({0}):","Powered by {0}":"Betrieben von {0}",Pre:"Pre",Preferences:"Einstellungen",Preformatted:"Vorformatiert","Premium plugins:":"Premium-Plugins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Vorschau",Previous:"Vorherige",Print:"Drucken","Print...":"Drucken...",Purple:"Violett",Quotations:"Anfhrungszeichen",R:"R","Range 0 to 255":"Spanne 0 bis 255",Red:"Rot","Red component":"Rotanteil",Redo:"Wiederholen",Remove:"Entfernen","Remove color":"Farbauswahl aufheben","Remove link":"Link entfernen",Replace:"Ersetzen","Replace all":"Alle ersetzen","Replace with":"Ersetzen durch",Resize:"Skalieren","Restore last draft":"Letzten Entwurf wiederherstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rich-Text-Area","Rich Text Area. Press ALT-0 for help.":"Rich-Text-Bereich. Drcken Sie Alt+0 fr Hilfe.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Rich-Text-Bereich. Drcken Sie Alt+F9 fr das Men. Drcken Sie Alt+F10 fr die Symbolleiste. Drcken Sie Alt+0 fr Hilfe.",Ridge:"Eingeritzt",Right:"Rechts","Right to left":"Von rechts nach links",Row:"Zeile","Row clipboard actions":"Zeilen-Zwischenablage-Aktionen","Row group":"Zeilengruppe","Row header":"Zeilenkopf","Row properties":"Zeileneigenschaften","Row type":"Zeilentyp",Rows:"Zeilen",Save:"Speichern","Save (if save plugin activated)":"Speichern (wenn Save-Plugin aktiviert ist)",Scope:"Bereich",Search:"Suchen","Select all":"Alles auswhlen","Select...":"Auswahl...",Selection:"Auswahl",Shortcut:"Tastenkombination","Show blocks":"Blcke anzeigen","Show caption":"Beschriftung anzeigen","Show invisible characters":"Unsichtbare Zeichen anzeigen",Size:"Schriftgre",Solid:"Durchgezogen",Source:"Quelle","Source code":"Quellcode","Special Character":"Sonderzeichen","Special character...":"Sonderzeichen...","Split cell":"Zelle aufteilen",Square:"Rechteck","Start list at number":"Beginne Liste mit Nummer",Strikethrough:"Durchgestrichen",Style:"Formatvorlage",Subscript:"Tiefgestellt",Superscript:"Hochgestellt","Switch to or from fullscreen mode":"Vollbildmodus umschalten",Symbols:"Symbole","System Font":"Betriebssystemschriftart",Table:"Tabelle","Table caption":"Tabellenbeschriftung","Table properties":"Tabelleneigenschaften","Table styles":"Tabellenstil",Template:"Vorlage",Templates:"Vorlagen",Text:"Text","Text color":"Textfarbe","Text color {0}":"","Text to display":"Anzuzeigender Text","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"Diese URL scheint eine E-Mail-Adresse zu sein. Mchten Sie das dazu bentigte mailto: voranstellen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"Diese URL scheint ein externer Link zu sein. Mchten Sie das dazu bentigte http:// voranstellen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"Die eingegebene URL scheint ein externer Link zu sein. Soll das fehlende https:// davor ergnzt werden?",Title:"Titel","To open the popup, press Shift+Enter":"Drcken Sie Umschalt+Eingabe, um das Popup-Fenster zu ffnen.","Toggle accordion":"",Tools:"Werkzeuge",Top:"Oben","Travel and Places":"Reisen und Orte",Turquoise:"Trkis",Underline:"Unterstrichen",Undo:"Rckgngig machen",Upload:"Hochladen","Uploading image":"Bild wird hochgeladen","Upper Alpha":"Lateinisches Alphabet in Grobuchstaben","Upper Roman":"Groer rmischer Buchstabe",Url:"URL","User Defined":"Benutzerdefiniert",Valid:"Gltig",Version:"Version","Vertical align":"Vertikal ausrichten","Vertical space":"Vertikaler Raum",View:"Ansicht","Visual aids":"Visuelle Hilfen",Warn:"Warnung",White:"Wei",Width:"Breite","Word count":"Anzahl der Wrter",Words:"Wrter","Words: {0}":"Wortzahl: {0}",Yellow:"Gelb",Yes:"Ja","You are using {0}":"Sie verwenden {0}","You have unsaved changes are you sure you want to navigate away?":"Die nderungen wurden noch nicht gespeichert. Sind Sie sicher, dass Sie diese Seite verlassen wollen?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Ihr Browser untersttzt leider keinen direkten Zugriff auf die Zwischenablage. Bitte benutzen Sie die Tastenkombinationen Strg+X/C/V.",alignment:"Ausrichtung","austral sign":"Australzeichen","cedi sign":"Cedizeichen","colon sign":"Doppelpunkt","cruzeiro sign":"Cruzeirozeichen","currency sign":"Whrungssymbol","dollar sign":"Dollarzeichen","dong sign":"Dongzeichen","drachma sign":"Drachmezeichen","euro-currency sign":"Eurozeichen",example:"Beispiel",formatting:"Formatierung","french franc sign":"Franczeichen","german penny symbol":"Pfennigzeichen","guarani sign":"Guaranizeichen",history:"Historie","hryvnia sign":"Hrywnjazeichen",indentation:"Einrckungen","indian rupee sign":"Indisches Rupiezeichen","kip sign":"Kipzeichen","lira sign":"Lirezeichen","livre tournois sign":"Livrezeichen","manat sign":"Manatzeichen","mill sign":"Millzeichen","naira sign":"Nairazeichen","new sheqel sign":"Schekelzeichen","nordic mark sign":"Zeichen nordische Mark","peseta sign":"Pesetazeichen","peso sign":"Pesozeichen","ruble sign":"Rubelzeichen","rupee sign":"Rupiezeichen","spesmilo sign":"Spesmilozeichen",styles:"Stile","tenge sign":"Tengezeichen","tugrik sign":"Tugrikzeichen","turkish lira sign":"Trkisches Lirazeichen","won sign":"Wonzeichen","yen character":"Yenzeichen","yen/yuan character variant one":"Yen-/Yuanzeichen Variante 1","yuan character":"Yuanzeichen","yuan character, in hong kong and taiwan":"Yuanzeichen in Hongkong und Taiwan","{0} characters":"{0}Zeichen","{0} columns, {1} rows":"","{0} words":"{0} Wrter"});var bX={},vX={},yX;function sCe(){return yX||(yX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(L,G,ce)=>{var Be;return ce(L,G.prototype)?!0:((Be=L.constructor)===null||Be===void 0?void 0:Be.name)===G.name},a=L=>{const G=typeof L;return L===null?"null":G==="object"&&Array.isArray(L)?"array":G==="object"&&s(L,String,(ce,Be)=>Be.isPrototypeOf(ce))?"string":G},u=L=>G=>a(G)===L,g=L=>G=>typeof G===L,h=u("string"),x=u("object"),w=u("array"),T=g("boolean"),I=L=>L==null,R=L=>!I(L),N=g("function"),H=g("number"),W=()=>{},Z=(L,G)=>ce=>L(G(ce)),J=L=>()=>L,se=(L,G)=>L===G;function j(L,...G){return(...ce)=>{const Be=G.concat(ce);return L.apply(null,Be)}}const he=L=>G=>!L(G),ae=J(!1);class U{constructor(G,ce){this.tag=G,this.value=ce}static some(G){return new U(!0,G)}static none(){return U.singletonNone}fold(G,ce){return this.tag?ce(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?U.some(G(this.value)):U.none()}bind(G){return this.tag?G(this.value):U.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:U.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G??"Called getOrDie on None")}static from(G){return R(G)?U.some(G):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const de=Array.prototype.slice,oe=Array.prototype.indexOf,Ve=Array.prototype.push,Me=(L,G)=>oe.call(L,G),Xe=(L,G)=>Me(L,G)>-1,rt=(L,G)=>{for(let ce=0,Be=L.length;ce<Be;ce++){const Ye=L[ce];if(G(Ye,ce))return!0}return!1},Oe=(L,G)=>{const ce=L.length,Be=new Array(ce);for(let Ye=0;Ye<ce;Ye++){const Mt=L[Ye];Be[Ye]=G(Mt,Ye)}return Be},Te=(L,G)=>{for(let ce=0,Be=L.length;ce<Be;ce++){const Ye=L[ce];G(Ye,ce)}},D=(L,G)=>{const ce=[];for(let Be=0,Ye=L.length;Be<Ye;Be++){const Mt=L[Be];G(Mt,Be)&&ce.push(Mt)}return ce},qe=(L,G)=>{if(L.length===0)return[];{let ce=G(L[0]);const Be=[];let Ye=[];for(let Mt=0,Yn=L.length;Mt<Yn;Mt++){const So=L[Mt],mo=G(So);mo!==ce&&(Be.push(Ye),Ye=[]),ce=mo,Ye.push(So)}return Ye.length!==0&&Be.push(Ye),Be}},lt=(L,G,ce)=>(Te(L,(Be,Ye)=>{ce=G(ce,Be,Ye)}),ce),zt=(L,G,ce)=>{for(let Be=0,Ye=L.length;Be<Ye;Be++){const Mt=L[Be];if(G(Mt,Be))return U.some(Mt);if(ce(Mt,Be))break}return U.none()},Yt=(L,G)=>zt(L,G,ae),ct=L=>{const G=[];for(let ce=0,Be=L.length;ce<Be;++ce){if(!w(L[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+L);Ve.apply(G,L[ce])}return G},kn=(L,G)=>ct(Oe(L,G)),Et=L=>{const G=de.call(L,0);return G.reverse(),G},Qe=(L,G)=>G>=0&&G<L.length?U.some(L[G]):U.none(),Le=L=>Qe(L,0),ft=L=>Qe(L,L.length-1),po=(L,G)=>{const ce=[],Be=N(G)?Ye=>rt(ce,Mt=>G(Mt,Ye)):Ye=>Xe(ce,Ye);for(let Ye=0,Mt=L.length;Ye<Mt;Ye++){const Yn=L[Ye];Be(Yn)||ce.push(Yn)}return ce},Ht=(L,G,ce=se)=>L.exists(Be=>ce(Be,G)),Tn=(L,G,ce=se)=>nn(L,G,ce).getOr(L.isNone()&&G.isNone()),nn=(L,G,ce)=>L.isSome()&&G.isSome()?U.some(ce(L.getOrDie(),G.getOrDie())):U.none(),Q=8,co=11,Kt=1,pn=3,We=(L,G)=>{const Be=(G||document).createElement("div");if(Be.innerHTML=L,!Be.hasChildNodes()||Be.childNodes.length>1){const Ye="HTML does not have a single root node";throw console.error(Ye,L),new Error(Ye)}return Ae(Be.childNodes[0])},et=(L,G)=>{const Be=(G||document).createElement(L);return Ae(Be)},xe=(L,G)=>{const Be=(G||document).createTextNode(L);return Ae(Be)},Ae=L=>{if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},be={fromHtml:We,fromTag:et,fromText:xe,fromDom:Ae,fromPoint:(L,G,ce)=>U.from(L.dom.elementFromPoint(G,ce)).map(Ae)},Ce=(L,G)=>{const ce=L.dom;if(ce.nodeType!==Kt)return!1;{const Be=ce;if(Be.matches!==void 0)return Be.matches(G);if(Be.msMatchesSelector!==void 0)return Be.msMatchesSelector(G);if(Be.webkitMatchesSelector!==void 0)return Be.webkitMatchesSelector(G);if(Be.mozMatchesSelector!==void 0)return Be.mozMatchesSelector(G);throw new Error("Browser lacks native selectors")}},Ne=(L,G)=>L.dom===G.dom,je=(L,G)=>{const ce=L.dom,Be=G.dom;return ce===Be?!1:ce.contains(Be)},gt=Ce,sn=typeof window<"u"?window:Function("return this;")(),Ut=(L,G)=>{let ce=G??sn;for(let Be=0;Be<L.length&&ce!==void 0&&ce!==null;++Be)ce=ce[L[Be]];return ce},bn=(L,G)=>{const ce=L.split(".");return Ut(ce,G)},qn=(L,G)=>bn(L,G),eo=(L,G)=>{const ce=qn(L,G);if(ce==null)throw new Error(L+" not available on this browser");return ce},Fo=Object.getPrototypeOf,Ro=L=>eo("HTMLElement",L),Zr=L=>{const G=bn("ownerDocument.defaultView",L);return x(L)&&(Ro(G).prototype.isPrototypeOf(L)||/^HTML\w*Element$/.test(Fo(L).constructor.name))},cr=L=>L.dom.nodeName.toLowerCase(),ti=L=>L.dom.nodeType,wr=L=>G=>ti(G)===L,ji=L=>ti(L)===Q||cr(L)==="#comment",En=L=>uo(L)&&Zr(L.dom),uo=wr(Kt),Oo=wr(pn),ci=wr(co),tl=L=>G=>uo(G)&&cr(G)===L,Xt=L=>U.from(L.dom.parentNode).map(be.fromDom),pi=L=>U.from(L.dom.parentElement).map(be.fromDom),ur=L=>U.from(L.dom.nextSibling).map(be.fromDom),ql=L=>Oe(L.dom.childNodes,be.fromDom),Wr=(L,G)=>{const ce=L.dom.childNodes;return U.from(ce[G]).map(be.fromDom)},ni=L=>Wr(L,0),Dm=L=>Wr(L,L.dom.childNodes.length-1),Zu=L=>ci(L)&&R(L.dom.host),Rc=L=>be.fromDom(L.dom.getRootNode()),xl=L=>{const G=Rc(L);return Zu(G)?U.some(G):U.none()},Gu=L=>be.fromDom(L.dom.host),Nr=L=>{const G=Oo(L)?L.dom.parentNode:L.dom;if(G==null||G.ownerDocument===null)return!1;const ce=G.ownerDocument;return xl(be.fromDom(G)).fold(()=>ce.body.contains(G),Z(Nr,Gu))};var fo=(L,G,ce,Be,Ye)=>L(ce,Be)?U.some(ce):N(Ye)&&Ye(ce)?U.none():G(ce,Be,Ye);const Yl=(L,G,ce)=>{let Be=L.dom;const Ye=N(ce)?ce:ae;for(;Be.parentNode;){Be=Be.parentNode;const Mt=be.fromDom(Be);if(G(Mt))return U.some(Mt);if(Ye(Mt))break}return U.none()},Ri=(L,G,ce)=>fo((Ye,Mt)=>Mt(Ye),Yl,L,G,ce),qu=(L,G,ce)=>Yl(L,Be=>Ce(Be,G),ce),un=(L,G,ce)=>fo((Ye,Mt)=>Ce(Ye,Mt),qu,L,G,ce),Yu=L=>un(L,"[contenteditable]"),Rm=(L,G=!1)=>Nr(L)?L.dom.isContentEditable:Yu(L).fold(J(G),ce=>hs(ce)==="true"),hs=L=>L.dom.contentEditable,Im=(L,G)=>{Xt(L).each(Be=>{Be.dom.insertBefore(G.dom,L.dom)})},nl=(L,G)=>{ur(L).fold(()=>{Xt(L).each(Ye=>{wl(Ye,G)})},Be=>{Im(Be,G)})},Vl=(L,G)=>{ni(L).fold(()=>{wl(L,G)},Be=>{L.dom.insertBefore(G.dom,Be.dom)})},wl=(L,G)=>{L.dom.appendChild(G.dom)},ls=(L,G)=>{Te(G,ce=>{Im(L,ce)})},Sa=(L,G)=>{Te(G,ce=>{wl(L,ce)})},zl=L=>{L.dom.textContent="",Te(ql(L),G=>{Nm(G)})},Nm=L=>{const G=L.dom;G.parentNode!==null&&G.parentNode.removeChild(G)};var iu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),au=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),kf=tinymce.util.Tools.resolve("tinymce.util.VK");const Fd=L=>Oe(L,be.fromDom),dr=Object.keys,Ms=(L,G)=>{const ce=dr(L);for(let Be=0,Ye=ce.length;Be<Ye;Be++){const Mt=ce[Be],Yn=L[Mt];G(Yn,Mt)}},ui=L=>(G,ce)=>{L[ce]=G},Pm=(L,G,ce,Be)=>{Ms(L,(Ye,Mt)=>{(G(Ye,Mt)?ce:Be)(Ye,Mt)})},ol=(L,G)=>{const ce={};return Pm(L,G,ui(ce),W),ce},lu=(L,G,ce)=>{if(h(ce)||T(ce)||H(ce))L.setAttribute(G,ce+"");else throw console.error("Invalid call to Attribute.set. Key ",G,":: Value ",ce,":: Element ",L),new Error("Attribute value was not simple")},ka=(L,G)=>{const ce=L.dom;Ms(G,(Be,Ye)=>{lu(ce,Ye,Be)})},Ea=L=>lt(L.dom.attributes,(G,ce)=>(G[ce.name]=ce.value,G),{}),cu=(L,G)=>be.fromDom(L.dom.cloneNode(G)),Mr=L=>cu(L,!0),cs=(L,G)=>{const ce=be.fromTag(G),Be=Ea(L);return ka(ce,Be),ce},Re=(L,G)=>{const ce=cs(L,G);nl(L,ce);const Be=ql(L);return Sa(ce,Be),Nm(L),ce};var st=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ze=tinymce.util.Tools.resolve("tinymce.util.Tools");const yt=L=>G=>R(G)&&G.nodeName.toLowerCase()===L,ht=L=>G=>R(G)&&L.test(G.nodeName),nt=L=>R(L)&&L.nodeType===3,Gt=L=>R(L)&&L.nodeType===1,an=ht(/^(OL|UL|DL)$/),mn=ht(/^(OL|UL)$/),Cn=yt("ol"),dn=ht(/^(LI|DT|DD)$/),_o=ht(/^(DT|DD)$/),cn=ht(/^(TH|TD)$/),Tr=yt("br"),Ko=L=>{var G;return((G=L.parentNode)===null||G===void 0?void 0:G.firstChild)===L},Qo=(L,G)=>R(G)&&G.nodeName in L.schema.getTextBlockElements(),Bs=(L,G)=>R(L)&&L.nodeName in G,Io=(L,G)=>R(G)&&G.nodeName in L.schema.getVoidElements(),Xl=(L,G)=>Tr(G)?L.isBlock(G.nextSibling)&&!Tr(G.previousSibling):!1,Aa=(L,G,ce)=>{const Be=L.isEmpty(G);return ce&&L.select("span[data-mce-type=bookmark]",G).length>0?!1:Be},bo=(L,G)=>L.isChildOf(G,L.getRoot()),rl=L=>G=>G.options.get(L),Cl=L=>{const G=L.options.register;G("lists_indent_on_tab",{processor:"boolean",default:!0})},Ts=rl("lists_indent_on_tab"),Ef=rl("forced_root_block"),oi=rl("forced_root_block_attrs"),Lm=(L,G,ce={})=>{const Be=L.dom,Ye=L.schema.getBlockElements(),Mt=Be.createFragment(),Yn=Ef(L),So=oi(L);let mo,Pn,Cr=!1;for(Pn=Be.create(Yn,{...So,...ce.style?{style:ce.style}:{}}),Bs(G.firstChild,Ye)||Mt.appendChild(Pn);mo=G.firstChild;){const Ks=mo.nodeName;!Cr&&(Ks!=="SPAN"||mo.getAttribute("data-mce-type")!=="bookmark")&&(Cr=!0),Bs(mo,Ye)?(Mt.appendChild(mo),Pn=null):(Pn||(Pn=Be.create(Yn,So),Mt.appendChild(Pn)),Pn.appendChild(mo))}return!Cr&&Pn&&Pn.appendChild(Be.create("br",{"data-mce-bogus":"1"})),Mt},Jl=st.DOM,Er=(L,G,ce)=>{const Be=Pn=>{const Cr=Pn.parentNode;Cr&&ze.each(Ye,Ks=>{Cr.insertBefore(Ks,ce.parentNode)}),Jl.remove(Pn)},Ye=Jl.select('span[data-mce-type="bookmark"]',G),Mt=Lm(L,ce),Yn=Jl.createRng();Yn.setStartAfter(ce),Yn.setEndAfter(G);const So=Yn.extractContents();for(let Pn=So.firstChild;Pn;Pn=Pn.firstChild)if(Pn.nodeName==="LI"&&L.dom.isEmpty(Pn)){Jl.remove(Pn);break}L.dom.isEmpty(So)||Jl.insertAfter(So,G),Jl.insertAfter(Mt,G);const mo=ce.parentElement;mo&&Aa(L.dom,mo)&&Be(mo),Jl.remove(ce),Aa(L.dom,G)&&Jl.remove(G)},$d=tl("dd"),Qg=tl("dt"),vp=(L,G)=>{$d(G)?Re(G,"dt"):Qg(G)&&pi(G).each(ce=>Er(L,ce.dom,G.dom))},Os=L=>{Qg(L)&&Re(L,"dd")},Ic=(L,G,ce)=>{G==="Indent"?Te(ce,Os):Te(ce,Be=>vp(L,Be))},_l=(L,G)=>{if(nt(L))return{container:L,offset:G};const ce=iu.getNode(L,G);return nt(ce)?{container:ce,offset:G>=L.childNodes.length?ce.data.length:0}:ce.previousSibling&&nt(ce.previousSibling)?{container:ce.previousSibling,offset:ce.previousSibling.data.length}:ce.nextSibling&&nt(ce.nextSibling)?{container:ce.nextSibling,offset:0}:{container:L,offset:G}},ts=L=>{const G=L.cloneRange(),ce=_l(L.startContainer,L.startOffset);G.setStart(ce.container,ce.offset);const Be=_l(L.endContainer,L.endOffset);return G.setEnd(Be.container,Be.offset),G},Mm=["OL","UL","DL"],Hl=Mm.join(","),sa=(L,G)=>{const ce=G||L.selection.getStart(!0);return L.dom.getParent(ce,Hl,Vd(L,ce))},eh=(L,G)=>R(L)&&G.length===1&&G[0]===L,Ii=L=>D(L.querySelectorAll(Hl),an),sl=L=>{const G=sa(L),ce=L.selection.getSelectedBlocks();return eh(G,ce)?Ii(G):D(ce,Be=>an(Be)&&G!==Be)},ia=(L,G)=>{const ce=ze.map(G,Be=>{const Ye=L.dom.getParent(Be,"li,dd,dt",Vd(L,Be));return Ye||Be});return po(ce)},Ul=L=>{const G=L.selection.getSelectedBlocks();return D(ia(L,G),dn)},yp=L=>D(Ul(L),_o),zo=(L,G)=>{const ce=L.dom.getParents(G,"TD,TH");return ce.length>0?ce[0]:L.getBody()},uu=(L,G)=>!an(G)&&!dn(G)&&rt(Mm,ce=>L.isValidChild(G.nodeName,ce)),Vd=(L,G)=>{const ce=L.dom.getParents(G,L.dom.isBlock),Be=Mt=>Mt.nodeName.toLowerCase()!==Ef(L);return Yt(ce,Mt=>Be(Mt)&&uu(L.schema,Mt)).getOr(L.getBody())},Xu=L=>Xt(L).exists(G=>dn(G.dom)&&ni(G).exists(ce=>!an(ce.dom))&&Dm(G).exists(ce=>!an(ce.dom))),Gb=(L,G)=>{const ce=L.dom.getParents(G,"ol,ul",Vd(L,G));return ft(ce)},Tx=L=>{const G=Gb(L,L.selection.getStart()),ce=D(L.selection.getSelectedBlocks(),mn);return G.toArray().concat(ce)},f0=L=>{const G=L.selection.getStart();return L.dom.getParents(G,"ol,ul",Vd(L,G))},m0=L=>{const G=Tx(L),ce=f0(L);return Yt(ce,Be=>Xu(be.fromDom(Be))).fold(()=>WC(L,G),Be=>[Be])},WC=(L,G)=>{const ce=Oe(G,Be=>Gb(L,Be).getOr(Be));return po(ce)},xp=L=>/\btox\-/.test(L.className),g0=(L,G)=>zt(L,an,cn).exists(ce=>ce.nodeName===G&&!xp(ce)),tn=(L,G)=>G!==null&&!L.dom.isEditable(G),Af=L=>{const G=sa(L);return tn(L,G)},Tf=(L,G)=>{const ce=L.dom.getParent(G,"ol,ul,dl");return tn(L,ce)},h0=(L,G)=>{const ce=L.selection.getNode();return G({parents:L.dom.getParents(ce),element:ce}),L.on("NodeChange",G),()=>L.off("NodeChange",G)},aa=(L,G)=>{const Be=document.createDocumentFragment();return Te(L,Ye=>{Be.appendChild(Ye.dom)}),be.fromDom(Be)},Of=(L,G,ce)=>L.dispatch("ListMutation",{action:G,element:ce}),Ox=(L=>G=>G.replace(L,""))(/^\s+|\s+$/g),Dx=L=>L.length>0,qb=L=>!Dx(L),Rx=L=>L.style!==void 0&&N(L.style.getPropertyValue),p0=(L,G,ce)=>{if(!h(ce))throw console.error("Invalid call to CSS.set. Property ",G,":: Value ",ce,":: Element ",L),new Error("CSS value must be a string: "+ce);Rx(L)&&L.style.setProperty(G,ce)},Ix=(L,G,ce)=>{const Be=L.dom;p0(Be,G,ce)},nh=L=>gt(L,"OL,UL"),b0=L=>gt(L,"LI"),Df=L=>ni(L).exists(nh),Rf=L=>Dm(L).exists(nh),la=L=>"listAttributes"in L,Sl=L=>"isComment"in L,oh=L=>"isFragment"in L,er=L=>L.depth>0,zd=L=>L.isSelected,rh=L=>{const G=ql(L),ce=Rf(L)?G.slice(0,-1):G;return Oe(ce,Mr)},sh=(L,G,ce)=>Xt(L).filter(uo).map(Be=>({depth:G,dirty:!1,isSelected:ce,content:rh(L),itemAttributes:Ea(L),listAttributes:Ea(Be),listType:cr(Be),isInPreviousLi:!1})),Ba=(L,G)=>{wl(L.item,G.list)},Hs=L=>{for(let G=1;G<L.length;G++)Ba(L[G-1],L[G])},us=(L,G)=>{nn(ft(L),Le(G),Ba)},Zi=(L,G)=>{const ce={list:be.fromTag(G,L),item:be.fromTag("li",L)};return wl(ce.list,ce.item),ce},ns=(L,G,ce)=>{const Be=[];for(let Ye=0;Ye<ce;Ye++)Be.push(Zi(L,la(G)?G.listType:G.parentListType));return Be},If=(L,G)=>{for(let ce=0;ce<L.length-1;ce++)Ix(L[ce].item,"list-style-type","none");ft(L).each(ce=>{la(G)&&(ka(ce.list,G.listAttributes),ka(ce.item,G.itemAttributes)),Sa(ce.item,G.content)})},Bm=(L,G)=>{cr(L.list)!==G.listType&&(L.list=Re(L.list,G.listType)),ka(L.list,G.listAttributes)},_i=(L,G,ce)=>{const Be=be.fromTag("li",L);return ka(Be,G),Sa(Be,ce),Be},Fa=(L,G)=>{wl(L.list,G),L.item=G},Ta=(L,G,ce)=>{const Be=G.slice(0,ce.depth);return ft(Be).each(Ye=>{if(la(ce)){const Mt=_i(L,ce.itemAttributes,ce.content);Fa(Ye,Mt),Bm(Ye,ce)}else if(oh(ce))Sa(Ye.item,ce.content);else{const Mt=be.fromHtml(`<!--${ce.content}-->`);wl(Ye.list,Mt)}}),Be},du=(L,G,ce)=>{const Be=ns(L,ce,ce.depth-G.length);return Hs(Be),If(Be,ce),us(G,Be),G.concat(Be)},Hd=(L,G)=>{let ce=U.none();const Be=lt(G,(Ye,Mt,Yn)=>Sl(Mt)?Yn===0?(ce=U.some(Mt),Ye):Ta(L,Ye,Mt):Mt.depth>Ye.length?du(L,Ye,Mt):Ta(L,Ye,Mt),[]);return ce.each(Ye=>{const Mt=be.fromHtml(`<!--${Ye.content}-->`);Le(Be).each(Yn=>{Vl(Yn.list,Mt)})}),Le(Be).map(Ye=>Ye.list)},Lo=(L,G)=>{switch(L){case"Indent":G.depth++;break;case"Outdent":G.depth--;break;case"Flatten":G.depth=0}G.dirty=!0},di=(L,G)=>{la(L)&&la(G)&&(L.listType=G.listType,L.listAttributes={...G.listAttributes})},kl=L=>{L.listAttributes=ol(L.listAttributes,(G,ce)=>ce!=="start")},Ud=(L,G)=>{const ce=L[G].depth,Be=Mt=>Mt.depth===ce&&!Mt.dirty,Ye=Mt=>Mt.depth<ce;return zt(Et(L.slice(0,G)),Be,Ye).orThunk(()=>zt(L.slice(G+1),Be,Ye))},Gi=L=>(Te(L,(G,ce)=>{Ud(L,ce).fold(()=>{G.dirty&&la(G)&&kl(G)},Be=>di(G,Be))}),L),Hn=L=>{let G=L;return{get:()=>G,set:Ye=>{G=Ye}}},Nc=(L,G,ce,Be)=>{var Ye;if(ji(Be))return[{depth:L+1,content:(Ye=Be.dom.nodeValue)!==null&&Ye!==void 0?Ye:"",dirty:!1,isSelected:!1,isComment:!0}];G.each(So=>{Ne(So.start,Be)&&ce.set(!0)});const Mt=sh(Be,L,ce.get());G.each(So=>{Ne(So.end,Be)&&ce.set(!1)});const Yn=Dm(Be).filter(nh).map(So=>Or(L,G,ce,So)).getOr([]);return Mt.toArray().concat(Yn)},Pc=(L,G,ce,Be)=>ni(Be).filter(nh).fold(()=>Nc(L,G,ce,Be),Ye=>{const Mt=lt(ql(Be),(Yn,So,mo)=>{if(mo===0)return Yn;if(b0(So))return Yn.concat(Nc(L,G,ce,So));{const Pn={isFragment:!0,depth:L,content:[So],isSelected:!1,dirty:!1,parentListType:cr(Ye)};return Yn.concat(Pn)}},[]);return Or(L,G,ce,Ye).concat(Mt)}),Or=(L,G,ce,Be)=>kn(ql(Be),Ye=>{const Mt=nh(Ye)?Or:Pc,Yn=L+1;return Mt(Yn,G,ce,Ye)}),wp=(L,G)=>{const ce=Hn(!1),Be=0;return Oe(L,Ye=>({sourceList:Ye,entries:Or(Be,G,ce,Ye)}))},Yb=(L,G)=>{const ce=Gi(G);return Oe(ce,Be=>{const Ye=Sl(Be)?aa([be.fromHtml(`<!--${Be.content}-->`)]):aa(Be.content),Mt=la(Be)?Be.itemAttributes:{};return be.fromDom(Lm(L,Ye.dom,Mt))})},Wd=(L,G)=>{const ce=Gi(G);return Hd(L.contentDocument,ce).toArray()},Ho=(L,G)=>kn(qe(G,er),ce=>Le(ce).exists(er)?Wd(L,ce):Yb(L,ce)),$a=(L,G)=>{Te(D(L,zd),ce=>Lo(G,ce))},Cp=L=>{const G=Oe(Ul(L),be.fromDom);return nn(Yt(G,he(Df)),Yt(Et(G),he(Df)),(ce,Be)=>({start:ce,end:Be}))},Kd=(L,G,ce)=>{const Be=wp(G,Cp(L));Te(Be,Ye=>{$a(Ye.entries,ce);const Mt=Ho(L,Ye.entries);Te(Mt,Yn=>{Of(L,ce==="Indent"?"IndentList":"OutdentList",Yn.dom)}),ls(Ye.sourceList,Mt),Nm(Ye.sourceList)})},Xb=(L,G)=>{const ce=Fd(m0(L)),Be=Fd(yp(L));let Ye=!1;if(ce.length||Be.length){const Mt=L.selection.getBookmark();Kd(L,ce,G),Ic(L,G,Be),L.selection.moveToBookmark(Mt),L.selection.setRng(ts(L.selection.getRng())),L.nodeChanged(),Ye=!0}return Ye},fu=(L,G)=>!Af(L)&&Xb(L,G),il=L=>fu(L,"Indent"),mu=L=>fu(L,"Outdent"),Nf=L=>fu(L,"Flatten"),Ue="\uFEFF",Fm=L=>L===Ue,Br=(L,G,ce)=>Yl(L,G,ce).isSome(),Jb=(L,G)=>Br(L,j(Ne,G));var ih=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const gu=st.DOM,tr=L=>{const G={},ce=Be=>{let Ye=L[Be?"startContainer":"endContainer"],Mt=L[Be?"startOffset":"endOffset"];if(Gt(Ye)){const Yn=gu.create("span",{"data-mce-type":"bookmark"});Ye.hasChildNodes()?(Mt=Math.min(Mt,Ye.childNodes.length-1),Be?Ye.insertBefore(Yn,Ye.childNodes[Mt]):gu.insertAfter(Yn,Ye.childNodes[Mt])):Ye.appendChild(Yn),Ye=Yn,Mt=0}G[Be?"startContainer":"endContainer"]=Ye,G[Be?"startOffset":"endOffset"]=Mt};return ce(!0),L.collapsed||ce(),G},ca=L=>{const G=Be=>{const Ye=So=>{var mo;let Pn=(mo=So.parentNode)===null||mo===void 0?void 0:mo.firstChild,Cr=0;for(;Pn;){if(Pn===So)return Cr;(!Gt(Pn)||Pn.getAttribute("data-mce-type")!=="bookmark")&&Cr++,Pn=Pn.nextSibling}return-1};let Mt=L[Be?"startContainer":"endContainer"],Yn=L[Be?"startOffset":"endOffset"];if(Mt){if(Gt(Mt)&&Mt.parentNode){const So=Mt;Yn=Ye(Mt),Mt=Mt.parentNode,gu.remove(So),!Mt.hasChildNodes()&&gu.isBlock(Mt)&&Mt.appendChild(gu.create("br"))}L[Be?"startContainer":"endContainer"]=Mt,L[Be?"startOffset":"endOffset"]=Yn}};G(!0),G();const ce=gu.createRng();return ce.setStart(L.startContainer,L.startOffset),L.endContainer&&ce.setEnd(L.endContainer,L.endOffset),ts(ce)},Ju=L=>{switch(L){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},dc=(L,G,ce)=>{const Be=ce["list-style-type"]?ce["list-style-type"]:null;L.setStyle(G,"list-style-type",Be)},Qu=(L,G)=>{ze.each(G,(ce,Be)=>{L.setAttribute(Be,ce)})},ed=(L,G,ce)=>{Qu(G,ce["list-attributes"]),ze.each(L.select("li",G),Be=>{Qu(Be,ce["list-item-attributes"])})},ua=(L,G,ce)=>{dc(L,G,ce),ed(L,G,ce)},Pf=(L,G,ce)=>{ze.each(ce,Be=>L.setStyle(G,Be,""))},$m=(L,G)=>R(G)&&!Bs(G,L.schema.getBlockElements()),Qb=(L,G,ce,Be)=>{let Ye=G[ce?"startContainer":"endContainer"];const Mt=G[ce?"startOffset":"endOffset"];Gt(Ye)&&(Ye=Ye.childNodes[Math.min(Mt,Ye.childNodes.length-1)]||Ye),!ce&&Tr(Ye.nextSibling)&&(Ye=Ye.nextSibling);const Yn=mo=>{for(;!L.dom.isBlock(mo)&&mo.parentNode&&Be!==mo;)mo=mo.parentNode;return mo},So=(mo,Pn)=>{var Cr;const Ks=new au(mo,Yn(mo)),ks=Pn?"next":"prev";let Bc;for(;Bc=Ks[ks]();)if(!(Io(L,Bc)||Fm(Bc.textContent)||((Cr=Bc.textContent)===null||Cr===void 0?void 0:Cr.length)===0))return U.some(Bc);return U.none()};if(ce&&nt(Ye))if(Fm(Ye.textContent))Ye=So(Ye,!1).getOr(Ye);else for(Ye.parentNode!==null&&$m(L,Ye.parentNode)&&(Ye=Ye.parentNode);Ye.previousSibling!==null&&($m(L,Ye.previousSibling)||nt(Ye.previousSibling));)Ye=Ye.previousSibling;if(!ce&&nt(Ye))if(Fm(Ye.textContent))Ye=So(Ye,!0).getOr(Ye);else for(Ye.parentNode!==null&&$m(L,Ye.parentNode)&&(Ye=Ye.parentNode);Ye.nextSibling!==null&&($m(L,Ye.nextSibling)||nt(Ye.nextSibling));)Ye=Ye.nextSibling;for(;Ye.parentNode!==Be;){const mo=Ye.parentNode;if(Qo(L,Ye)||/^(TD|TH)$/.test(mo.nodeName))return Ye;Ye=mo}return Ye},Si=(L,G,ce)=>{const Be=[],Ye=L.dom,Mt=Qb(L,G,!0,ce),Yn=Qb(L,G,!1,ce);let So;const mo=[];for(let Pn=Mt;Pn&&(mo.push(Pn),Pn!==Yn);Pn=Pn.nextSibling);return ze.each(mo,Pn=>{var Cr;if(Qo(L,Pn)){Be.push(Pn),So=null;return}if(Ye.isBlock(Pn)||Tr(Pn)){Tr(Pn)&&Ye.remove(Pn),So=null;return}const Ks=Pn.nextSibling;if(ih.isBookmarkNode(Pn)&&(an(Ks)||Qo(L,Ks)||!Ks&&Pn.parentNode===ce)){So=null;return}So||(So=Ye.create("p"),(Cr=Pn.parentNode)===null||Cr===void 0||Cr.insertBefore(So,Pn),Be.push(So)),So.appendChild(Pn)}),Be},Gn=(L,G,ce)=>{const Be=L.getStyle(G,"list-style-type");let Ye=ce?ce["list-style-type"]:"";return Ye=Ye===null?"":Ye,Be===Ye},td=(L,G)=>{const ce=L.selection.getStart(!0),Be=Qb(L,G,!0,L.getBody());return Jb(be.fromDom(Be),be.fromDom(G.commonAncestorContainer))?G.commonAncestorContainer:ce},Vm=(L,G,ce)=>{const Be=L.selection.getRng();let Ye="LI";const Mt=Vd(L,td(L,Be)),Yn=L.dom;if(Yn.getContentEditable(L.selection.getNode())==="false")return;G=G.toUpperCase(),G==="DL"&&(Ye="DT");const So=tr(Be),mo=D(Si(L,Be,Mt),L.dom.isEditable);ze.each(mo,Pn=>{let Cr;const Ks=Pn.previousSibling,ks=Pn.parentNode;dn(ks)||(Ks&&an(Ks)&&Ks.nodeName===G&&Gn(Yn,Ks,ce)?(Cr=Ks,Pn=Yn.rename(Pn,Ye),Ks.appendChild(Pn)):(Cr=Yn.create(G),ks.insertBefore(Cr,Pn),Cr.appendChild(Pn),Pn=Yn.rename(Pn,Ye)),Pf(Yn,Pn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ua(Yn,Cr,ce),jd(L.dom,Cr))}),L.selection.setRng(ca(So))},da=(L,G)=>an(L)&&L.nodeName===(G==null?void 0:G.nodeName),nd=(L,G,ce)=>{const Be=L.getStyle(G,"list-style-type",!0),Ye=L.getStyle(ce,"list-style-type",!0);return Be===Ye},Wl=(L,G)=>L.className===G.className,od=(L,G,ce)=>da(G,ce)&&nd(L,G,ce)&&Wl(G,ce),jd=(L,G)=>{let ce,Be=G.nextSibling;if(od(L,G,Be)){const Ye=Be;for(;ce=Ye.firstChild;)G.appendChild(ce);L.remove(Ye)}if(Be=G.previousSibling,od(L,G,Be)){const Ye=Be;for(;ce=Ye.lastChild;)G.insertBefore(ce,G.firstChild);L.remove(Ye)}},ki=(L,G,ce,Be)=>{if(G.nodeName!==ce){const Ye=L.dom.rename(G,ce);ua(L.dom,Ye,Be),Of(L,Ju(ce),Ye)}else ua(L.dom,G,Be),Of(L,Ju(ce),G)},fc=(L,G,ce,Be)=>{if(G.classList.forEach((Ye,Mt,Yn)=>{Ye.startsWith("tox-")&&(Yn.remove(Ye),Yn.length===0&&G.removeAttribute("class"))}),G.nodeName!==ce){const Ye=L.dom.rename(G,ce);ua(L.dom,Ye,Be),Of(L,Ju(ce),Ye)}else ua(L.dom,G,Be),Of(L,Ju(ce),G)},hu=(L,G,ce,Be,Ye)=>{const Mt=an(G);if(Mt&&G.nodeName===Be&&!zm(Ye)&&!xp(G))Nf(L);else{Vm(L,Be,Ye);const Yn=tr(L.selection.getRng()),So=Mt?[G,...ce]:ce,mo=Mt&&xp(G)?fc:ki;ze.each(So,Pn=>{mo(L,Pn,Be,Ye)}),L.selection.setRng(ca(Yn))}},zm=L=>"list-style-type"in L,v0=(L,G,ce,Be)=>{if(G!==L.getBody())if(G)if(G.nodeName===ce&&!zm(Be)&&!xp(G))Nf(L);else{const Ye=tr(L.selection.getRng());xp(G)&&G.classList.forEach((Yn,So,mo)=>{Yn.startsWith("tox-")&&(mo.remove(Yn),mo.length===0&&G.removeAttribute("class"))}),ua(L.dom,G,Be);const Mt=L.dom.rename(G,ce);jd(L.dom,Mt),L.selection.setRng(ca(Ye)),Vm(L,ce,Be),Of(L,Ju(ce),Mt)}else Vm(L,ce,Be),Of(L,Ju(ce),G)},rd=(L,G,ce)=>{const Be=sa(L);if(Tf(L,Be))return;const Ye=sl(L),Mt=x(ce)?ce:{};Ye.length>0?hu(L,Be,Ye,G,Mt):v0(L,Be,G,Mt)},Lf=st.DOM,ev=(L,G)=>{const ce=G.parentElement;if(ce&&ce.nodeName==="LI"&&ce.firstChild===G){const Be=ce.previousSibling;Be&&Be.nodeName==="LI"?(Be.appendChild(G),Aa(L,ce)&&Lf.remove(ce)):Lf.setStyle(ce,"listStyleType","none")}if(an(ce)){const Be=ce.previousSibling;Be&&Be.nodeName==="LI"&&Be.appendChild(G)}},_s=(L,G)=>{const ce=ze.grep(L.select("ol,ul",G));ze.each(ce,Be=>{ev(L,Be)})},Va=(L,G,ce,Be)=>{let Ye=G.startContainer;const Mt=G.startOffset;if(nt(Ye)&&(ce?Mt<Ye.data.length:Mt>0))return Ye;const Yn=L.schema.getNonEmptyElements();Gt(Ye)&&(Ye=iu.getNode(Ye,Mt));const So=new au(Ye,Be);ce&&Xl(L.dom,Ye)&&So.next();const mo=ce?So.next.bind(So):So.prev2.bind(So);for(;Ye=mo();)if(Ye.nodeName==="LI"&&!Ye.hasChildNodes()||Yn[Ye.nodeName]||nt(Ye)&&Ye.data.length>0)return Ye;return null},Oa=(L,G)=>{const ce=G.childNodes;return ce.length===1&&!an(ce[0])&&L.isBlock(ce[0])},al=L=>U.from(L).map(be.fromDom).filter(En).exists(G=>Rm(G)&&!Xe(["details"],cr(G))),bi=(L,G)=>{Oa(L,G)&&al(G.firstChild)&&L.remove(G.firstChild,!0)},_p=(L,G,ce)=>{let Be;const Ye=Oa(L,ce)?ce.firstChild:ce;if(bi(L,G),!Aa(L,G,!0))for(;Be=G.firstChild;)Ye.appendChild(Be)},fi=(L,G,ce)=>{let Be;const Ye=G.parentNode;if(!bo(L,G)||!bo(L,ce))return;an(ce.lastChild)&&(Be=ce.lastChild),Ye===ce.lastChild&&Tr(Ye.previousSibling)&&L.remove(Ye.previousSibling);const Mt=ce.lastChild;Mt&&Tr(Mt)&&G.hasChildNodes()&&L.remove(Mt),Aa(L,ce,!0)&&zl(be.fromDom(ce)),_p(L,G,ce),Be&&ce.appendChild(Be);const So=je(be.fromDom(ce),be.fromDom(G))?L.getParents(G,an,ce):[];L.remove(G),Te(So,mo=>{Aa(L,mo)&&mo!==L.getRoot()&&L.remove(mo)})},qi=(L,G,ce)=>{zl(be.fromDom(ce)),fi(L.dom,G,ce),L.selection.setCursorLocation(ce,0)},pu=(L,G,ce,Be)=>{const Ye=L.dom;if(Ye.isEmpty(Be))qi(L,ce,Be);else{const Mt=tr(G);fi(Ye,ce,Be),L.selection.setRng(ca(Mt))}},Lt=(L,G,ce,Be)=>{const Ye=tr(G);fi(L.dom,ce,Be);const Mt=ca(Ye);L.selection.setRng(Mt)},Yi=(L,G)=>{const ce=L.dom,Be=L.selection,Ye=Be.getStart(),Mt=zo(L,Ye),Yn=ce.getParent(Be.getStart(),"LI",Mt);if(Yn){const So=Yn.parentElement;if(So===L.getBody()&&Aa(ce,So))return!0;const mo=ts(Be.getRng()),Pn=ce.getParent(Va(L,mo,G,Mt),"LI",Mt),Cr=Pn&&(G?ce.isChildOf(Yn,Pn):ce.isChildOf(Pn,Yn));if(Pn&&Pn!==Yn&&!Cr)return L.undoManager.transact(()=>{G?pu(L,mo,Pn,Yn):Ko(Yn)?mu(L):Lt(L,mo,Yn,Pn)}),!0;if(Cr&&!G&&Pn!==Yn)return L.undoManager.transact(()=>{if(mo.commonAncestorContainer.parentElement){const Ks=tr(mo),ks=mo.commonAncestorContainer.parentElement;_p(ce,mo.commonAncestorContainer.parentElement,Pn),ks.remove();const Bc=ca(Ks);L.selection.setRng(Bc)}}),!0;if(!Pn&&!G&&mo.startOffset===0&&mo.endOffset===0)return L.undoManager.transact(()=>{Nf(L)}),!0}return!1},Sp=(L,G,ce)=>{const Be=L.getParent(G.parentNode,L.isBlock,ce);L.remove(G),Be&&L.isEmpty(Be)&&L.remove(Be)},Ss=(L,G)=>{const ce=L.dom,Be=L.selection.getStart(),Ye=zo(L,Be),Mt=ce.getParent(Be,ce.isBlock,Ye);if(Mt&&ce.isEmpty(Mt,void 0,{checkRootAsContent:!0})){const Yn=ts(L.selection.getRng()),So=ce.getParent(Va(L,Yn,G,Ye),"LI",Ye);if(So){const mo=ks=>Xe(["td","th","caption"],cr(ks)),Pn=ks=>ks.dom===Ye,Cr=Ri(be.fromDom(So),mo,Pn),Ks=Ri(be.fromDom(Yn.startContainer),mo,Pn);return Tn(Cr,Ks,Ne)?(L.undoManager.transact(()=>{const ks=So.parentNode;Sp(ce,Mt,Ye),jd(ce,ks),L.selection.select(So,!0),L.selection.collapse(G)}),!0):!1}}return!1},sd=(L,G)=>Yi(L,G)||Ss(L,G),za=L=>{const G=L.selection.getStart(),ce=zo(L,G);return L.dom.getParent(G,"LI,DT,DD",ce)||Ul(L).length>0},Lc=L=>za(L)?(L.undoManager.transact(()=>{L.execCommand("Delete"),_s(L.dom,L.getBody())}),!0):!1,Hm=(L,G)=>{const ce=L.selection;return!Tf(L,ce.getNode())&&(ce.isCollapsed()?sd(L,G):Lc(L))},ll=L=>{L.on("ExecCommand",G=>{const ce=G.command.toLowerCase();(ce==="delete"||ce==="forwarddelete")&&za(L)&&_s(L.dom,L.getBody())}),L.on("keydown",G=>{G.keyCode===kf.BACKSPACE?Hm(L,!1)&&G.preventDefault():G.keyCode===kf.DELETE&&Hm(L,!0)&&G.preventDefault()})},qo=L=>({backspaceDelete:G=>{Hm(L,G)}}),Us=(L,G)=>{const ce=sa(L);ce===null||Tf(L,ce)||L.undoManager.transact(()=>{x(G.styles)&&L.dom.setStyles(ce,G.styles),x(G.attrs)&&Ms(G.attrs,(Be,Ye)=>L.dom.setAttrib(ce,Ye,Be))})},Mf=L=>{const G=Et(Ox(L).split("")),ce=Oe(G,(Be,Ye)=>{const Mt=Be.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ye)*Mt});return lt(ce,(Be,Ye)=>Be+Ye,0)},Fs=L=>{if(L--,L<0)return"";{const G=L%26,ce=Math.floor(L/26),Be=Fs(ce),Ye=String.fromCharCode(65+G);return Be+Ye}},ah=L=>/^[A-Z]+$/.test(L),bu=L=>/^[a-z]+$/.test(L),y0=L=>/^[0-9]+$/.test(L),Ds=L=>y0(L)?2:ah(L)?0:bu(L)?1:qb(L)?3:4,ut=L=>{switch(Ds(L)){case 2:return U.some({listStyleType:U.none(),start:L});case 0:return U.some({listStyleType:U.some("upper-alpha"),start:Mf(L).toString()});case 1:return U.some({listStyleType:U.some("lower-alpha"),start:Mf(L).toString()});case 3:return U.some({listStyleType:U.none(),start:""});case 4:return U.none()}},Ha=L=>{const G=parseInt(L.start,10);return Ht(L.listStyleType,"upper-alpha")?Fs(G):Ht(L.listStyleType,"lower-alpha")?Fs(G).toLowerCase():L.start},Ws=L=>{const G=sa(L);!Cn(G)||Tf(L,G)||L.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ha({start:L.dom.getAttrib(G,"start","1"),listStyleType:U.from(L.dom.getStyle(G,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ce=>{const Be=ce.getData();ut(Be.start).each(Ye=>{L.execCommand("mceListUpdate",!1,{attrs:{start:Ye.start==="1"?"":Ye.start},styles:{"list-style-type":Ye.listStyleType.getOr("")}})}),ce.close()}})},Ql=(L,G)=>()=>{const ce=sa(L);return R(ce)&&ce.nodeName===G},Mc=L=>{L.addCommand("mceListProps",()=>{Ws(L)})},ri=L=>{L.on("BeforeExecCommand",G=>{const ce=G.command.toLowerCase();ce==="indent"?il(L):ce==="outdent"&&mu(L)}),L.addCommand("InsertUnorderedList",(G,ce)=>{rd(L,"UL",ce)}),L.addCommand("InsertOrderedList",(G,ce)=>{rd(L,"OL",ce)}),L.addCommand("InsertDefinitionList",(G,ce)=>{rd(L,"DL",ce)}),L.addCommand("RemoveList",()=>{Nf(L)}),Mc(L),L.addCommand("mceListUpdate",(G,ce)=>{x(ce)&&Us(L,ce)}),L.addQueryStateHandler("InsertUnorderedList",Ql(L,"UL")),L.addQueryStateHandler("InsertOrderedList",Ql(L,"OL")),L.addQueryStateHandler("InsertDefinitionList",Ql(L,"DL"))};var os=tinymce.util.Tools.resolve("tinymce.html.Node");const Pr=L=>L.type===3,Ua=L=>L.length===0,ec=L=>{const G=(Ye,Mt)=>{const Yn=os.create("li");Te(Ye,So=>Yn.append(So)),Mt?L.insert(Yn,Mt,!0):L.append(Yn)},ce=(Ye,Mt)=>Pr(Mt)?[...Ye,Mt]:!Ua(Ye)&&!Pr(Mt)?(G(Ye,Mt),[]):Ye,Be=lt(L.children(),ce,[]);Ua(Be)||G(Be)},vu=L=>{L.on("PreInit",()=>{const{parser:G}=L;G.addNodeFilter("ul,ol",ce=>Te(ce,ec))})},Zd=L=>{L.on("keydown",G=>{G.keyCode!==kf.TAB||kf.metaKeyPressed(G)||L.undoManager.transact(()=>{(G.shiftKey?mu(L):il(L))&&G.preventDefault()})})},Um=L=>{Ts(L)&&Zd(L),ll(L)},lh=(L,G)=>ce=>{const Be=Ye=>{ce.setActive(g0(Ye.parents,G)),ce.setEnabled(!Tf(L,Ye.element)&&L.selection.isEditable())};return ce.setEnabled(L.selection.isEditable()),h0(L,Be)},ch=L=>{const G=ce=>()=>L.execCommand(ce);L.hasPlugin("advlist")||(L.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:G("InsertOrderedList"),onSetup:lh(L,"OL")}),L.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:G("InsertUnorderedList"),onSetup:lh(L,"UL")}))},tv=(L,G)=>ce=>h0(L,Ye=>ce.setEnabled(g0(Ye.parents,G)&&!Tf(L,Ye.element))),nv=L=>{const G={text:"List properties...",icon:"ordered-list",onAction:()=>L.execCommand("mceListProps"),onSetup:tv(L,"OL")};L.ui.registry.addMenuItem("listprops",G),L.ui.registry.addContextMenu("lists",{update:ce=>{const Be=sa(L,ce);return Cn(Be)?["listprops"]:[]}})};var id=()=>{t.add("lists",L=>(Cl(L),vu(L),L.hasPlugin("rtc",!0)?Mc(L):(Um(L),ri(L)),ch(L),nv(L),qo(L)))};id()}()),vX}var xX;function iCe(){return xX||(xX=1,sCe()),bX}iCe();var wX={},CX={},_X;function aCe(){return _X||(_X=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(xe,Ae)=>xe.dispatch("insertCustomChar",{chr:Ae}),a=(xe,Ae)=>{const $e=s(xe,Ae).chr;xe.execCommand("mceInsertContent",!1,$e)},u=(xe,Ae,$e)=>{var be;return $e(xe,Ae.prototype)?!0:((be=xe.constructor)===null||be===void 0?void 0:be.name)===Ae.name},g=xe=>{const Ae=typeof xe;return xe===null?"null":Ae==="object"&&Array.isArray(xe)?"array":Ae==="object"&&u(xe,String,($e,be)=>be.isPrototypeOf($e))?"string":Ae},h=xe=>Ae=>g(Ae)===xe,x=xe=>Ae=>typeof Ae===xe,w=xe=>Ae=>xe===Ae,T=h("array"),I=w(null),R=w(void 0),N=xe=>xe==null,H=xe=>!N(xe),W=x("function"),J=(xe=>()=>xe)(!1);class se{constructor(Ae,$e){this.tag=Ae,this.value=$e}static some(Ae){return new se(!0,Ae)}static none(){return se.singletonNone}fold(Ae,$e){return this.tag?$e(this.value):Ae()}isSome(){return this.tag}isNone(){return!this.tag}map(Ae){return this.tag?se.some(Ae(this.value)):se.none()}bind(Ae){return this.tag?Ae(this.value):se.none()}exists(Ae){return this.tag&&Ae(this.value)}forall(Ae){return!this.tag||Ae(this.value)}filter(Ae){return!this.tag||Ae(this.value)?this:se.none()}getOr(Ae){return this.tag?this.value:Ae}or(Ae){return this.tag?this:Ae}getOrThunk(Ae){return this.tag?this.value:Ae()}orThunk(Ae){return this.tag?this:Ae()}getOrDie(Ae){if(this.tag)return this.value;throw new Error(Ae??"Called getOrDie on None")}static from(Ae){return H(Ae)?se.some(Ae):se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ae){this.tag&&Ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}se.singletonNone=new se(!1);const j=Array.prototype.push,he=(xe,Ae)=>{const $e=xe.length,be=new Array($e);for(let Ce=0;Ce<$e;Ce++){const Ne=xe[Ce];be[Ce]=Ae(Ne,Ce)}return be},ae=(xe,Ae)=>{for(let $e=0,be=xe.length;$e<be;$e++){const Ce=xe[$e];Ae(Ce,$e)}},U=(xe,Ae,$e)=>{for(let be=0,Ce=xe.length;be<Ce;be++){const Ne=xe[be];if(Ae(Ne,be))return se.some(Ne);if($e(Ne,be))break}return se.none()},de=(xe,Ae)=>U(xe,Ae,J),oe=xe=>{const Ae=[];for(let $e=0,be=xe.length;$e<be;++$e){if(!T(xe[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+xe);j.apply(Ae,xe[$e])}return Ae},Ve=(xe,Ae)=>oe(he(xe,Ae));var Me=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=xe=>Ae=>Ae.options.get(xe),rt=xe=>{const Ae=xe.options.register,$e=be=>W(be)||T(be);Ae("charmap",{processor:$e}),Ae("charmap_append",{processor:$e})},Oe=Xe("charmap"),Te=Xe("charmap_append"),D=Me.isArray,qe="User Defined",lt=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],zt=xe=>Me.grep(xe,Ae=>D(Ae)&&Ae.length===2),Yt=xe=>D(xe)?zt(xe):typeof xe=="function"?xe():[],ct=(xe,Ae)=>{const $e=Oe(xe);$e&&(Ae=[{name:qe,characters:Yt($e)}]);const be=Te(xe);if(be){const Ce=Me.grep(Ae,Ne=>Ne.name===qe);return Ce.length?(Ce[0].characters=[...Ce[0].characters,...Yt(be)],Ae):Ae.concat({name:qe,characters:Yt(be)})}return Ae},kn=xe=>{const Ae=ct(xe,lt());return Ae.length>1?[{name:"All",characters:Ve(Ae,$e=>$e.characters)}].concat(Ae):Ae},Et=xe=>({getCharMap:()=>kn(xe),insertChar:be=>{a(xe,be)}}),Qe=xe=>{let Ae=xe;return{get:()=>Ae,set:Ce=>{Ae=Ce}}},Le=(xe,Ae)=>{let $e=null;const be=()=>{I($e)||(clearTimeout($e),$e=null)};return{cancel:be,throttle:(...Ne)=>{be(),$e=setTimeout(()=>{$e=null,xe.apply(null,Ne)},Ae)}}},ft=(xe,Ae,$e=0,be)=>{const Ce=xe.indexOf(Ae,$e);return Ce!==-1?R(be)?!0:Ce+Ae.length<=be:!1},po=String.fromCodePoint,Ht=(xe,Ae,$e)=>ft(po(xe).toLowerCase(),$e)?!0:ft(Ae.toLowerCase(),$e)||ft(Ae.toLowerCase().replace(/\s+/g,""),$e),Tn=(xe,Ae)=>{const $e=[],be=Ae.toLowerCase();return ae(xe.characters,Ce=>{Ht(Ce[0],Ce[1],be)&&$e.push(Ce)}),he($e,Ce=>({text:Ce[1],value:po(Ce[0]),icon:po(Ce[0])}))},nn="pattern",Q=(xe,Ae)=>{const $e=()=>[{label:"Search",type:"input",name:nn},{type:"collection",name:"results"}],be=()=>he(Ae,Ro=>({title:Ro.name,name:Ro.name,items:$e()})),Ce=()=>({type:"panel",items:$e()}),Ne=()=>({type:"tabpanel",tabs:be()}),je=Ae.length===1?Qe(qe):Qe("All"),gt=(Ro,Zr)=>{de(Ae,cr=>cr.name===je.get()).each(cr=>{const ti=Tn(cr,Zr);Ro.setData({results:ti})})},Ut=Le(Ro=>{const Zr=Ro.getData().pattern;gt(Ro,Zr)},40),bn=Ae.length===1?Ce():Ne(),qn={pattern:"",results:Tn(Ae[0],"")},eo={title:"Special Character",size:"normal",body:bn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:qn,onAction:(Ro,Zr)=>{Zr.name==="results"&&(a(xe,Zr.value),Ro.close())},onTabChange:(Ro,Zr)=>{je.set(Zr.newTabName),Ut.throttle(Ro)},onChange:(Ro,Zr)=>{Zr.name===nn&&Ut.throttle(Ro)}};xe.windowManager.open(eo).focus(nn)},co=(xe,Ae)=>{xe.addCommand("mceShowCharmap",()=>{Q(xe,Ae)})},Kt=(xe,Ae)=>{xe.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:($e,be)=>new Promise((Ce,Ne)=>{Ce(Tn(Ae,$e))}),onAction:($e,be,Ce)=>{xe.selection.setRng(be),xe.insertContent(Ce),$e.hide()}})},pn=xe=>Ae=>{const $e=()=>{Ae.setEnabled(xe.selection.isEditable())};return xe.on("NodeChange",$e),$e(),()=>{xe.off("NodeChange",$e)}},We=xe=>{const Ae=()=>xe.execCommand("mceShowCharmap");xe.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Ae,onSetup:pn(xe)}),xe.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Ae,onSetup:pn(xe)})};var et=()=>{t.add("charmap",xe=>{rt(xe);const Ae=kn(xe);return co(xe,Ae),We(xe),Kt(xe,Ae[0]),Et(xe)})};et()}()),CX}var SX;function lCe(){return SX||(SX=1,aCe()),wX}lCe();var kX={},EX={},AX;function cCe(){return AX||(AX=1,function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const a=(xe=>Ae=>xe===Ae)(null),u=xe=>xe,g=(xe,Ae)=>{const $e=xe.length,be=new Array($e);for(let Ce=0;Ce<$e;Ce++){const Ne=xe[Ce];be[Ce]=Ae(Ne,Ce)}return be},x={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},w={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},T=[new RegExp(x.aletter),new RegExp(x.midnumlet),new RegExp(x.midletter),new RegExp(x.midnum),new RegExp(x.numeric),new RegExp(x.cr),new RegExp(x.lf),new RegExp(x.newline),new RegExp(x.extend),new RegExp(x.format),new RegExp(x.katakana),new RegExp(x.extendnumlet),new RegExp("@")],I="",R=new RegExp("^"+x.punctuation+"$"),N=/^\s+$/,H=T,W=w.OTHER,Z=xe=>{let Ae=W;const $e=H.length;for(let be=0;be<$e;++be){const Ce=H[be];if(Ce&&Ce.test(xe)){Ae=be;break}}return Ae},J=xe=>{const Ae={};return $e=>{if(Ae[$e])return Ae[$e];{const be=xe($e);return Ae[$e]=be,be}}},se=xe=>{const Ae=J(Z);return g(xe,Ae)},j=(xe,Ae)=>{const $e=xe[Ae],be=xe[Ae+1];if(Ae<0||Ae>xe.length-1&&Ae!==0||$e===w.ALETTER&&be===w.ALETTER)return!1;const Ce=xe[Ae+2];if($e===w.ALETTER&&(be===w.MIDLETTER||be===w.MIDNUMLET||be===w.AT)&&Ce===w.ALETTER)return!1;const Ne=xe[Ae-1];return($e===w.MIDLETTER||$e===w.MIDNUMLET||be===w.AT)&&be===w.ALETTER&&Ne===w.ALETTER||($e===w.NUMERIC||$e===w.ALETTER)&&(be===w.NUMERIC||be===w.ALETTER)||($e===w.MIDNUM||$e===w.MIDNUMLET)&&be===w.NUMERIC&&Ne===w.NUMERIC||$e===w.NUMERIC&&(be===w.MIDNUM||be===w.MIDNUMLET)&&Ce===w.NUMERIC||($e===w.EXTEND||$e===w.FORMAT)&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA||be===w.EXTEND||be===w.FORMAT)||(be===w.EXTEND||be===w.FORMAT&&(Ce===w.ALETTER||Ce===w.NUMERIC||Ce===w.KATAKANA||Ce===w.EXTEND||Ce===w.FORMAT))&&($e===w.ALETTER||$e===w.NUMERIC||$e===w.KATAKANA||$e===w.EXTEND||$e===w.FORMAT)||$e===w.CR&&be===w.LF?!1:$e===w.NEWLINE||$e===w.CR||$e===w.LF||be===w.NEWLINE||be===w.CR||be===w.LF?!0:!($e===w.KATAKANA&&be===w.KATAKANA||be===w.EXTENDNUMLET&&($e===w.ALETTER||$e===w.NUMERIC||$e===w.KATAKANA||$e===w.EXTENDNUMLET)||$e===w.EXTENDNUMLET&&(be===w.ALETTER||be===w.NUMERIC||be===w.KATAKANA)||$e===w.AT)},he=I,ae=N,U=R,de=xe=>xe==="http"||xe==="https",oe=(xe,Ae)=>{let $e;for($e=Ae;$e<xe.length&&!ae.test(xe[$e]);$e++);return $e},Ve=(xe,Ae)=>{const $e=oe(xe,Ae+1);return xe.slice(Ae+1,$e).join(he).substr(0,3)==="://"?$e:Ae},Me=(xe,Ae,$e,be)=>{const Ce=[],Ne=[];let je=[];for(let gt=0;gt<$e.length;++gt)if(je.push(xe[gt]),j($e,gt)){const sn=Ae[gt];if((be.includeWhitespace||!ae.test(sn))&&(be.includePunctuation||!U.test(sn))){const Ut=gt-je.length+1,bn=gt+1,qn=Ae.slice(Ut,bn).join(he);if(de(qn)){const eo=Ve(Ae,gt),Fo=xe.slice(bn,eo);Array.prototype.push.apply(je,Fo),gt=eo}Ae[gt+1]==="."&&/^([a-zA-Z]\.)+$/.test(qn+".")?(je.push(xe[gt+1]),Ne.push({start:Ut,end:bn+1})):Ne.push({start:Ut,end:bn}),Ce.push(je)}je=[]}return{words:Ce,indices:Ne}},Xe=()=>({includeWhitespace:!1,includePunctuation:!1}),rt=(xe,Ae,$e)=>{$e={...Xe(),...$e};const be=g(xe,Ae),Ce=se(be);return Me(xe,be,Ce,$e)},Te=(xe,Ae,$e)=>rt(xe,Ae,$e).words,D=xe=>xe.replace(/\uFEFF/g,"");var qe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const lt=(xe,Ae)=>{const $e=Ae.getBlockElements(),be=Ae.getVoidElements(),Ce=Ut=>$e[Ut.nodeName]||be[Ut.nodeName],Ne=[];let je="";const gt=new qe(xe,xe);let sn;for(;sn=gt.next();)sn.nodeType===3?je+=D(sn.data):Ce(sn)&&je.length&&(Ne.push(je),je="");return je.length&&Ne.push(je),Ne},zt=xe=>xe.replace(/\u200B/g,""),Yt=xe=>xe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ct=(xe,Ae)=>{const $e=zt(lt(xe,Ae).join(`
`));return Te($e.split(""),u).length},kn=(xe,Ae)=>{const $e=lt(xe,Ae).join("");return Yt($e)},Et=(xe,Ae)=>{const $e=lt(xe,Ae).join("").replace(/\s/g,"");return Yt($e)},Qe=(xe,Ae)=>()=>Ae(xe.getBody(),xe.schema),Le=(xe,Ae)=>()=>Ae(xe.selection.getRng().cloneContents(),xe.schema),ft=xe=>Qe(xe,ct),po=xe=>({body:{getWordCount:ft(xe),getCharacterCount:Qe(xe,kn),getCharacterCountWithoutSpaces:Qe(xe,Et)},selection:{getWordCount:Le(xe,ct),getCharacterCount:Le(xe,kn),getCharacterCountWithoutSpaces:Le(xe,Et)},getCount:ft(xe)}),Ht=(xe,Ae)=>{xe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ae.body.getWordCount()),String(Ae.selection.getWordCount())],["Characters (no spaces)",String(Ae.body.getCharacterCountWithoutSpaces()),String(Ae.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ae.body.getCharacterCount()),String(Ae.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Tn=(xe,Ae)=>{xe.addCommand("mceWordCount",()=>Ht(xe,Ae))},nn=(xe,Ae)=>{let $e=null;return{cancel:()=>{a($e)||(clearTimeout($e),$e=null)},throttle:(...Ne)=>{a($e)&&($e=setTimeout(()=>{$e=null,xe.apply(null,Ne)},Ae))}}};var Q=tinymce.util.Tools.resolve("tinymce.util.Delay");const co=(xe,Ae)=>{xe.dispatch("wordCountUpdate",{wordCount:{words:Ae.body.getWordCount(),characters:Ae.body.getCharacterCount(),charactersWithoutSpaces:Ae.body.getCharacterCountWithoutSpaces()}})},Kt=(xe,Ae)=>{co(xe,Ae)},pn=(xe,Ae,$e)=>{const be=nn(()=>Kt(xe,Ae),$e);xe.on("init",()=>{Kt(xe,Ae),Q.setEditorTimeout(xe,()=>{xe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",be.throttle)},0),xe.on("remove",be.cancel)})},We=xe=>{const Ae=()=>xe.execCommand("mceWordCount");xe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ae}),xe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ae})};var et=(xe=300)=>{t.add("wordcount",Ae=>{const $e=po(Ae);return Tn(Ae,$e),We(Ae),pn(Ae,$e,xe),$e})};et()}()),EX}var TX;function uCe(){return TX||(TX=1,cCe()),kX}uCe();tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);var dCe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],fCe=function(t){return dCe.map(function(s){return s.toLowerCase()}).indexOf(t.toLowerCase())!==-1},mCe=function(t,s,a){Object.keys(s).filter(fCe).forEach(function(u){var g=s[u];typeof g=="function"&&(u==="onInit"?g(t,a):a.on(u.substring(2),function(h){return g(h,a)}))})},gCe=function(t,s,a,u){var g=t.modelEvents?t.modelEvents:null,h=Array.isArray(g)?g.join(" "):g;Rn(u,function(x,w){a&&typeof x=="string"&&x!==w&&x!==a.getContent({format:t.outputFormat})&&a.setContent(x)}),a.on(h||"change input undo redo",function(){s.emit("update:modelValue",a.getContent({format:t.outputFormat}))})},hCe=function(t,s,a,u,g,h){u.setContent(h()),a.attrs["onUpdate:modelValue"]&&gCe(s,a,u,g),mCe(t,a.attrs,u)},OX=0,xne=function(t){var s=Date.now(),a=Math.floor(Math.random()*1e9);return OX++,t+"_"+a+OX+String(s)},pCe=function(t){return t!==null&&t.tagName.toLowerCase()==="textarea"},DX=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},bCe=function(t,s){return DX(t).concat(DX(s))},vCe=function(t){return t==null},RX=function(t){var s;return typeof((s=t.options)===null||s===void 0?void 0:s.set)=="function"&&t.options.isRegistered("disabled")},IX=function(){return{listeners:[],scriptId:xne("tiny-script"),scriptLoaded:!1}},yCe=function(){var t=IX(),s=function(g,h,x,w){var T=h.createElement("script");T.referrerPolicy="origin",T.type="application/javascript",T.id=g,T.src=x;var I=function(){T.removeEventListener("load",I),w()};T.addEventListener("load",I),h.head&&h.head.appendChild(T)},a=function(g,h,x){t.scriptLoaded?x():(t.listeners.push(x),g.getElementById(t.scriptId)||s(t.scriptId,g,h,function(){t.listeners.forEach(function(w){return w()}),t.scriptLoaded=!0}))},u=function(){t=IX()};return{load:a,reinitialize:u}},xCe=yCe(),wCe=function(){return typeof window<"u"?window:global},kC=function(){var t=wCe();return t&&t.tinymce?t.tinymce:null},CCe={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,readonly:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return t==="html"||t==="text"}}},Pb=function(){return Pb=Object.assign||function(t){for(var s,a=1,u=arguments.length;a<u;a++){s=arguments[a];for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&(t[g]=s[g])}return t},Pb.apply(this,arguments)},_Ce=function(t,s,a,u){return t(u||"div",{id:s,ref:a})},SCe=function(t,s,a){return t("textarea",{id:s,visibility:"hidden",ref:a})},CU={selector:void 0,target:void 0},_U=function(t,s){var a;typeof((a=t.mode)===null||a===void 0?void 0:a.set)=="function"?t.mode.set(s):t.setMode(s)},kCe=vJ({props:CCe,setup:function(t,s){var a=t.init?Pb(Pb({},t.init),CU):Pb({},CU),u=N8(t),g=u.disabled,h=u.readonly,x=u.modelValue,w=u.tagName,T=zn(null),I=null,R=t.id||xne("tiny-vue"),N=t.init&&t.init.inline||t.inline,H=!!s.attrs["onUpdate:modelValue"],W=!0,Z=t.initialValue?t.initialValue:"",J="",se=function(ae){return H?function(){return x!=null&&x.value?x.value:""}:function(){return ae?Z:J}},j=function(){var ae=se(W),U=Pb(Pb({},a),{disabled:t.disabled,readonly:t.readonly,target:T.value,plugins:bCe(a.plugins,t.plugins),toolbar:t.toolbar||a.toolbar,inline:N,license_key:t.licenseKey,setup:function(de){I=de,!RX(I)&&t.disabled===!0&&_U(I,"readonly"),de.on("init",function(oe){return hCe(oe,t,s,de,x,ae)}),typeof a.setup=="function"&&a.setup(de)}});pCe(T.value)&&(T.value.style.visibility=""),kC().init(U),W=!1};Rn(h,function(ae){I!==null&&_U(I,ae?"readonly":"design")}),Rn(g,function(ae){I!==null&&(RX(I)?I.options.set("disabled",ae):_U(I,ae?"readonly":"design"))}),Rn(w,function(ae){var U;I&&(H||(J=I.getContent()),(U=kC())===null||U===void 0||U.remove(I),Jo(function(){return j()}))}),Ku(function(){if(kC()!==null)j();else if(T.value&&T.value.ownerDocument){var ae=t.cloudChannel?t.cloudChannel:"7",U=t.apiKey?t.apiKey:"no-api-key",de=vCe(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(U,"/tinymce/").concat(ae,"/tinymce.min.js"):t.tinymceScriptSrc;xCe.load(T.value.ownerDocument,de,j)}}),Dc(function(){kC()!==null&&kC().remove(I)}),N||(IW(function(){W||j()}),M8(function(){var ae;I&&(H||(J=I.getContent()),(ae=kC())===null||ae===void 0||ae.remove(I))}));var he=function(ae){var U;I&&(J=I.getContent(),(U=kC())===null||U===void 0||U.remove(I),a=Pb(Pb(Pb({},a),ae),CU),Jo(function(){return j()}))};return s.expose({rerender:he,getEditor:function(){return I}}),function(){return N?_Ce(Ub,R,T,t.tagName):SCe(Ub,R,T)}}});const ECe=".mce-content-body,.long-essay-content{font-family:serif;font-size:1em;max-width:60em;line-height:150%}.mce-content-body h1,.long-essay-content h1,.mce-content-body h2,.long-essay-content h2,.mce-content-body h3,.long-essay-content h3,.mce-content-body h4,.long-essay-content h4,.mce-content-body h5,.long-essay-content h5,.mce-content-body h6,.long-essay-content h6{font-size:1em;font-weight:700;padding:0;margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body ol,.long-essay-content ol,.mce-content-body ul,.long-essay-content ul{margin-left:10px;margin-bottom:20px}.mce-content-body li,.long-essay-content li{margin-left:20px;margin-bottom:5px;min-height:1.5em}.mce-content-body p,.long-essay-content p,.mce-content-body pre,.long-essay-content pre{margin-top:0;margin-bottom:10px;min-height:1.5em}.mce-content-body,.long-essay-content,.tox-menu{counter-reset:h1 h2 h3 h4 h5 h6}.mce-content-body h1,.long-essay-content h1,.tox-menu h1{counter-increment:h1;counter-reset:h2 h3 h4 h5 h6}.mce-content-body h2,.long-essay-content h2,.tox-menu h2{counter-increment:h2;counter-reset:h3 h4 h5 h6}.mce-content-body h3,.long-essay-content h3,.tox-menu h3{counter-increment:h3;counter-reset:h4 h5 h6}.mce-content-body h4,.long-essay-content h4,.tox-menu h4{counter-increment:h4;counter-reset:h5 h6}.mce-content-body h5,.long-essay-content h5,.tox-menu h5{counter-increment:h5;counter-reset:h6}.mce-content-body h6,.long-essay-content h6,.tox-menu h6{counter-increment:h6}.tox-menu p,.tox-menu h1,.tox-menu h2,.tox-menu h3,.tox-menu h4,.tox-menu h5,.tox-menu h6,.tox-menu pre,.tox-menu li{font-size:1rem!important}.long-essay-content-row{display:flex;flex-direction:row;width:100%}.long-essay-counter-column{display:block;min-width:40px!important;flex-shrink:0}.long-essay-content-column{display:block}",ACe=".headlines-three h1{font-size:1.3em!important}.headlines-three h2{font-size:1.15em!important}.headlines-three h3{font-size:1em!important}";let Rb;const{t:TCe}=G8.global;class OCe{constructor(s){xn(this,"editor_id",null);xn(this,"editor",null);xn(this,"scroll_top",0);xn(this,"scroll_left",0);xn(this,"wordCount",zn(0));xn(this,"characterCount",zn(0));this.editor_id=s,ru(),Rb=q1()}getInit(){return{license_key:"gpl",language:"de",height:"100%",menubar:!1,statusbar:!1,elementpath:!1,plugins:"lists charmap wordcount",toolbar:this.toolbar(),valid_elements:this.validElements(),formats:this.formats(),style_formats:this.styleFormats(),custom_undo_redo_levels:10,text_patterns:!1,skin:"default",content_css:"default",content_style:ECe.toString()+`
`+ACe.toString(),browser_spellcheck:!0,highlight_on_focus:!0,iframe_aria_text:TCe("tinyHelperIframeAriaText"),paste_as_text:!1,paste_block_drop:!0,paste_merge_formats:!0,paste_tab_spaces:4,smart_paste:!1,paste_data_images:!1,paste_remove_styles_if_webkit:!0,paste_webkit_styles:"none",setup:(function(s){s.ui.registry.addButton("zoomOut",{tooltip:"Verkleinern",icon:"zoom-out",onAction:this.zoomOut.bind(this)}),s.ui.registry.addButton("zoomIn",{tooltip:"Vergrern",icon:"zoom-in",onAction:this.zoomIn.bind(this)})}).bind(this)}}toolbar(){return"zoomOut zoomIn undo redo styles bold italic underline bullist numlist removeformat charmap"}validElements(){return"p/div,br,strong/b,em/i,u,ol,ul,li,h1,h2,h3,h4,h5,h6,pre"}formats(){return{underline:{inline:"u",remove:"all"}}}styleFormats(){return[{title:"Absatz",format:"p"},{title:"berschrift 1",format:"h1"},{title:"berschrift 2",format:"h2"},{title:"berschrift 3",format:"h3"},{title:"Maschinenschrift",format:"pre"},{title:"Listenelement",block:"li"}]}init(){this.editor=rCe.get(this.editor_id),this.editor.getWin().addEventListener("scroll",this.saveScrolling.bind(this)),this.applyZoom(),this.applyFormat()}zoomIn(){Rb.zoomSummaryTextIn(),console.log("zoom in"),this.applyZoom()}zoomOut(){Rb.zoomSummaryTextOut(),this.applyZoom()}async applyFocus(){try{await Jo(),this.editor.focus()}catch{}}applyFormat(){for(const s of document.getElementsByClassName("tox-tinymce-aux"))s.classList.add("headlines-three")}applyZoom(){try{const s=this.editor;s&&(s.dom.setStyle(s.dom.doc.body,"font-size",Rb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h1"),"font-size",Rb.summary_text_zoom*1.3+"rem"),s.dom.setStyle(s.dom.select("h2"),"font-size",Rb.summary_text_zoom*1.15+"rem"),s.dom.setStyle(s.dom.select("h3"),"font-size",Rb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h4"),"font-size",Rb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h5"),"font-size",Rb.summary_text_zoom+"rem"),s.dom.setStyle(s.dom.select("h6"),"font-size",Rb.summary_text_zoom+"rem"))}catch{}}saveScrolling(){console.log("saveScrolling");const s=this.editor.getWin();(s.scrollX>0||s.scrollY>0)&&(this.scroll_left=s.scrollX,this.scroll_top=s.scrollY)}restoreScrolling(){console.log("restoreScrolling");try{this.editor.getWin().scroll({left:this.scroll_left,top:this.scroll_top})}catch(s){console.log(s)}}applyScrolling(){try{const s=this.editor.selection.getNode(),a=s.getBoundingClientRect(),u=this.editor.getContentAreaContainer().getBoundingClientRect();(a.top<u.top||a.bottom>u.bottom||a.right>u.right||a.left<u.left)&&s.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(s){console.log(s)}}}const DCe={class:"app-own-summary-text-wrapper"},RCe=["for"],ICe=["innerHTML"],wne={__name:"OwnSummaryText",props:["editorId"],setup(t){const s=ac();q1();const a=Fl(),u=t,g=new OCe(u.editorId);Rn(()=>a.focusChange,x);function h(){g.init()}async function x(){a.focusTarget=="ownSummary"&&(g.applyFocus(),await Jo(),g.restoreScrolling())}function w(){s.updateContent(!0),g.applyZoom()}function T(){s.updateContent(!0)}return(I,R)=>(On(),Bo("div",DCe,[te("label",{for:u.editorId,class:"hidden"},"Verborgenes Feld zum Gutachten",8,RCe),le(s).isOwnDisabled?vr("",!0):(On(),es(le(kCe),{key:0,id:u.editorId,modelValue:le(s).editSummary.text,"onUpdate:modelValue":R[0]||(R[0]=N=>le(s).editSummary.text=N),onInit:h,onChange:w,onKeyup:T,onKeydown:le(a).handleKeyDown,onScroll:le(g).saveScrolling,licenseKey:"gpl",init:le(g).getInit()},null,8,["id","modelValue","onKeydown","onScroll","init"])),le(s).isOwnDisabled?(On(),Bo("div",{key:1,class:"app-summary-text-display long-essay-content corrector-summary",innerHTML:le(s).editSummary.text},null,8,ICe)):vr("",!0)]))}},NCe={id:"app-own-summary-wrapper"},PCe={id:"app-own-summary-points"},LCe={__name:"OwnSummary",props:["showCriteria","showText"],setup(t){const s=ar(),a=t;function u(){switch((a.showCriteria?1:0)+(a.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,h)=>(On(),Bo("div",NCe,[a.showCriteria?(On(),Bo("div",{key:0,class:go(u())},[h[0]||(h[0]=te("h2",{class:"headline"},"bersicht",-1)),ie(yne,{class:"content",corrector_key:le(s).correctorKey},null,8,["corrector_key"])],2)):vr("",!0),a.showText?(On(),Bo("div",{key:1,class:go(u())},[h[1]||(h[1]=te("h2",{class:"headline"},"Gutachten",-1)),ie(wne,{class:"content",editorId:"summary"})],2)):vr("",!0),te("div",PCe,[h[2]||(h[2]=te("h2",{class:"headline"},"Gesamtbewertung",-1)),ie(tCe,{class:"content"})])]))}},MCe=yl(LCe,[["__scopeId","data-v-30aca80f"]]),BCe={id:"app-summary-points-wrapper"},FCe=["max"],$Ce={__name:"SummaryPoints",props:["corrector_key"],setup(t){const s=ru(),a=_x(),u=ac(),g=t,h=zn(0),x=zn(""),w=zn(""),T=u.getForCorrector(g.corrector_key);if(T){h.value=T.points;const I=a.getLevel(T.grade_key);I&&(x.value=I.title),w.value=u.getInclusionText(T)}return(I,R)=>(On(),Bo("div",BCe,[R[2]||(R[2]=te("label",{for:"appSummaryPoints"},[te("strong",null,"Wertung:")],-1)),Fn(te("input",{disabled:!0,id:"appSummaryPoints",class:"appPoints",type:"number",min:"0",max:le(s).max_points,"onUpdate:modelValue":R[0]||(R[0]=N=>h.value=N)},null,8,FCe),[[t0,h.value]]),R[3]||(R[3]=xs(" Punkte  ")),R[4]||(R[4]=te("strong",null,"Notenstufe:",-1)),xs(" "+pt(x.value)+" ",1),te("p",null,[R[1]||(R[1]=te("strong",null,"Einbeziehen:",-1)),xs(" "+pt(w.value),1)])]))}},VCe=yl($Ce,[["__scopeId","data-v-5ce9c5c8"]]),zCe={class:"app-summary-text-wrapper"},HCe=["innerHTML"],UCe={__name:"SummaryText",props:["corrector_key"],setup(t){const s=ac(),a=t;function u(){let g=s.getForCorrector(a.corrector_key);if(g)return g.text}return(g,h)=>(On(),Bo("div",zCe,[te("div",{class:"app-summary-text-display long-essay-content headlines-three",innerHTML:u()},null,8,HCe)]))}},WCe=yl(UCe,[["__scopeId","data-v-089a3707"]]),KCe={id:"app-other-summary-wrapper"},jCe={key:2},ZCe={key:3},GCe={__name:"OtherSummary",props:["corrector_key","showCriteria","showText"],setup(t){const s=t,a=ac();function u(){switch((s.showCriteria?1:0)+(s.showText?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half"}}return(g,h)=>(On(),Bo("div",KCe,[s.showCriteria&&le(a).getAuthorizationForCorrector(s.corrector_key)?(On(),Bo("div",{key:0,class:go(u())},[h[0]||(h[0]=te("div",{class:"headline"},"bersicht",-1)),ie(yne,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):vr("",!0),s.showText&&le(a).getAuthorizationForCorrector(s.corrector_key)?(On(),Bo("div",{key:1,class:go(u())},[h[1]||(h[1]=te("div",{class:"headline"},"Gutachten",-1)),ie(WCe,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])],2)):vr("",!0),le(a).getAuthorizationForCorrector(s.corrector_key)?(On(),Bo("div",jCe,[h[2]||(h[2]=te("div",{class:"headline"},"Gesamtbewertung",-1)),ie(VCe,{class:"content",corrector_key:s.corrector_key},null,8,["corrector_key"])])):vr("",!0),le(a).getAuthorizationForCorrector(s.corrector_key)?vr("",!0):(On(),Bo("div",ZCe," Diese Korrektur ist noch nicht autorisiert. "))]))}},NX=yl(GCe,[["__scopeId","data-v-1f4a6ccd"]]),qCe=Ln({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...lF(),...bK()},"VTextarea"),Cne=Mo()({name:"VTextarea",directives:{vIntersect:CE},inheritAttrs:!1,props:qCe(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,"update:rows":t=>!0},setup(t,s){let{attrs:a,emit:u,slots:g}=s;const h=Ki(t,"modelValue"),{isFocused:x,focus:w,blur:T}=aF(t),{onIntersect:I}=Ete(t),R=Dt(()=>typeof t.counterValue=="function"?t.counterValue(h.value):(h.value||"").toString().length),N=Dt(()=>{if(a.maxlength)return a.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),H=zn(),W=zn(),Z=ho(""),J=zn(),se=Dt(()=>t.persistentPlaceholder||x.value||t.active);function j(){var Oe;J.value!==document.activeElement&&((Oe=J.value)==null||Oe.focus()),x.value||w()}function he(Oe){j(),u("click:control",Oe)}function ae(Oe){u("mousedown:control",Oe)}function U(Oe){Oe.stopPropagation(),j(),Jo(()=>{h.value="",HW(t["onClick:clear"],Oe)})}function de(Oe){var D;const Te=Oe.target;if(h.value=Te.value,(D=t.modelModifiers)!=null&&D.trim){const qe=[Te.selectionStart,Te.selectionEnd];Jo(()=>{Te.selectionStart=qe[0],Te.selectionEnd=qe[1]})}}const oe=zn(),Ve=zn(Number(t.rows)),Me=Dt(()=>["plain","underlined"].includes(t.variant));Md(()=>{t.autoGrow||(Ve.value=Number(t.rows))});function Xe(){t.autoGrow&&Jo(()=>{if(!oe.value||!W.value)return;const Oe=getComputedStyle(oe.value),Te=getComputedStyle(W.value.$el),D=parseFloat(Oe.getPropertyValue("--v-field-padding-top"))+parseFloat(Oe.getPropertyValue("--v-input-padding-top"))+parseFloat(Oe.getPropertyValue("--v-field-padding-bottom")),qe=oe.value.scrollHeight,lt=parseFloat(Oe.lineHeight),zt=Math.max(parseFloat(t.rows)*lt+D,parseFloat(Te.getPropertyValue("--v-input-control-height"))),Yt=parseFloat(t.maxRows)*lt+D||1/0,ct=wf(qe??0,zt,Yt);Ve.value=Math.floor((ct-D)/lt),Z.value=yr(ct)})}Ku(Xe),Rn(h,Xe),Rn(()=>t.rows,Xe),Rn(()=>t.maxRows,Xe),Rn(()=>t.density,Xe),Rn(Ve,Oe=>{u("update:rows",Oe)});let rt;return Rn(oe,Oe=>{Oe?(rt=new ResizeObserver(Xe),rt.observe(oe.value)):rt==null||rt.disconnect()}),Dc(()=>{rt==null||rt.disconnect()}),xr(()=>{const Oe=!!(g.counter||t.counter||t.counterValue),Te=!!(Oe||g.details),[D,qe]=z8(a),{modelValue:lt,...zt}=_E.filterProps(t),Yt=k8.filterProps(t);return ie(_E,Po({ref:H,modelValue:h.value,"onUpdate:modelValue":ct=>h.value=ct,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":Me.value},t.class],style:t.style},D,zt,{centerAffix:Ve.value===1&&!Me.value,focused:x.value}),{...g,default:ct=>{let{id:kn,isDisabled:Et,isDirty:Qe,isReadonly:Le,isValid:ft}=ct;return ie(k8,Po({ref:W,style:{"--v-textarea-control-height":Z.value},onClick:he,onMousedown:ae,"onClick:clear":U,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Yt,{id:kn.value,active:se.value||Qe.value,centerAffix:Ve.value===1&&!Me.value,dirty:Qe.value||t.dirty,disabled:Et.value,focused:x.value,error:ft.value===!1}),{...g,default:po=>{let{props:{class:Ht,...Tn}}=po;return te(lr,null,[t.prefix&&te("span",{class:"v-text-field__prefix"},[t.prefix]),Fn(te("textarea",Po({ref:J,class:Ht,value:h.value,onInput:de,autofocus:t.autofocus,readonly:Le.value,disabled:Et.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:j,onBlur:T},Tn,qe),null),[[CE,{handler:I},null,{once:!0}]]),t.autoGrow&&Fn(te("textarea",{class:go([Ht,"v-textarea__sizer"]),id:`${Tn.id}-sizer`,"onUpdate:modelValue":nn=>h.value=nn,ref:oe,readonly:!0,"aria-hidden":"true"},null),[[t0,h.value]]),t.suffix&&te("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:Te?ct=>{var kn;return te(lr,null,[(kn=g.details)==null?void 0:kn.call(g,ct),Oe&&te(lr,null,[te("span",null,null),ie(kte,{active:t.persistentCounter||x.value,value:R.value,max:N.value,disabled:t.disabled},g.counter)])])}:void 0})}),VC({},H,W,J)}}),YCe={key:0},XCe=["id"],JCe={class:"pointsInput"},QCe={key:1},e_e=["id","max","disabled"],t_e=["for"],n_e=["id","disabled"],o_e=["for"],r_e=["id","disabled"],s_e=["for"],i_e={class:"pointsInput"},a_e={class:"sr-only"},l_e={__name:"MarkingComment",props:["comment"],setup(t){const s=ar(),a=yf(),u=ac(),g=ru(),h=Em(),x=Yg(),w=Fl(),T=SD(),{t:I}=G8.global,N=t.comment;let H=zn(0);const W=x.getObjectByData(N.corrector_key,N.key,"");H.value=W?W.points:0;function Z(Te){return Te.key==a.selectedKey}function J(Te){return Te.corrector_key==s.correctorKey&&!u.isOwnDisabled}function se(Te){return Te.rating_excellent||Te.rating_cardinal||x.getSumOfPointsForComment(Te.key)>0}Ku(()=>{const Te=document.getElementById("appCommentContainer"+N.key);for(const D of Te.getElementsByTagName("label"))D.getAttribute("for").includes("app-comment-")&&(D.classList.add("sr-only"),D.getAttribute("aria-hidden")=="true"?D.getAttribute("for").includes("-sizer")||D.setAttribute("for",D.getAttribute("for")+"-sizer"):D.setAttribute("id","app-comment-"+N.key+"-messages"));for(const D of Te.getElementsByTagName("textarea"))D.style.marginTop="-15px",D.style.fontSize="0.9rem";for(const D of Te.getElementsByClassName("v-input__details"))D.style.display="none"});function j(Te){return Te.key==a.selectedKey?Te.rating_excellent?"#BBEBA5":Te.rating_cardinal?"#FCB494":"#94C3FC":Te.prefix=="own"?Te.rating_excellent?"#E3EFDD":Te.rating_cardinal?"#FBDED1":"#D8E5F4":Te.rating_excellent?"#F7F9F7":Te.rating_cardinal?"#FCF6F4":"#F5F7FB"}function he(Te){return x.getSumOfPointsForCorrector(Te.corrector_key)>g.max_points?"color: red;":""}function ae(Te){return x.getSumOfPointsForComment(Te.key)}function U(Te){return I("allPoints",ae(Te))}async function de(Te){Te.rating_excellent&&(Te.rating_cardinal=!1),a.setMarkerChange(),a.updateComment(Te)}async function oe(Te){Te.rating_cardinal&&(Te.rating_excellent=!1),a.setMarkerChange(),a.updateComment(Te)}async function Ve(Te){a.selectedKey!==Te.key&&a.selectComment(Te.key)}async function Me(){if(event.altKey)switch(event.key){case"Enter":event.preventDefault(),w.showEssay(),await Jo(),a.setCaretRequest();break;case"Delete":event.preventDefault(),a.deleteComment(a.selectedKey);break}else switch(event.key){case"F1":event.preventDefault(),T.openSelection(Ac.FOR_COMMENT,a.selectedKey);break}}async function Xe(){switch(Me(),event.key){case"Enter":event.preventDefault(),w.focusMarkingCommentCriteria();break}}async function rt(){w.focusTarget=="markingCommentCriteriaSum"&&(await Jo(),N.key==a.selectedKey&&document.getElementById("pointsInput"+N.key).focus())}Rn(()=>w.focusChange,rt);async function Oe(){if(T.insert_text&&T.open_for_purpose==Ac.FOR_COMMENT&&T.open_for_key==N.key){const Te=document.getElementById("app-comment-"+T.open_for_key),D=T.insert_text;if(T.insert_text="",Te){await Jo(),Te.focus();const qe=Te.selectionStart,lt=Te.selectionEnd;N.comment=N.comment.slice(0,qe)+D+N.comment.slice(lt),await Jo(),Te.setSelectionRange(qe,qe+D.length)}}}return Rn(()=>T.insert_text,Oe),(Te,D)=>(On(),es(E8,{id:"appCommentContainer"+le(N).key,key:le(N).key,class:"commentContainer"},{default:xt(()=>[ie(Wg,{dense:"",onClick:D[16]||(D[16]=qe=>Ve(le(N)))},{default:xt(()=>[ie(La,{cols:"2"},{default:xt(()=>[ie(Un,{size:"small",icon:le(N).getMarkIcon()},null,8,["icon"]),D[17]||(D[17]=xs("  ")),te("button",{tabindex:"0",class:go("v-btn commentLabel "+(le(N).key==le(a).selectedKey?"selected":""))},pt(le(N).label),3)]),_:1,__:[17]}),ie(La,{cols:"9"},{default:xt(()=>[ie(E8,null,{default:xt(()=>[Fn(ie(Wg,{dense:""},{default:xt(()=>[ie(La,{cols:"12"},{default:xt(()=>[ie(Cne,{class:"commentInput","bg-color":j(le(N)),rounded:"0",density:"compact",variant:"solo",id:"app-comment-"+le(N).key,label:Te.$t("markingCommentsCommentForLabel",[le(N).label]),rows:"1","auto-grow":"",readonly:le(u).isOwnDisabled||le(N).corrector_key!=le(s).correctorKey,onChange:D[0]||(D[0]=qe=>le(a).updateComment(le(N))),onKeyup:D[1]||(D[1]=qe=>le(a).updateComment(le(N))),onKeydown:D[2]||(D[2]=qe=>Me()),modelValue:le(N).comment,"onUpdate:modelValue":D[3]||(D[3]=qe=>le(N).comment=qe)},null,8,["bg-color","id","label","readonly","modelValue"])]),_:1})]),_:1},512),[[Ao,Z(le(N))]]),Fn(ie(Wg,{dense:""},{default:xt(()=>[ie(La,{cols:"4"},{default:xt(()=>[le(h).getCorrectorHasCommentCriteria(le(N).corrector_key)?Fn((On(),Bo("span",YCe,[te("span",{tabindex:"0",id:"pointsInput"+le(N).key,onKeydown:D[4]||(D[4]=qe=>Xe())},[te("span",JCe,pt(ae(le(N))),1),xs(""+pt(U(le(N))),1)],40,XCe)],512)),[[Ao,le(N).key==le(a).selectedKey||le(x).getCommentHasPoints(le(N).key)]]):vr("",!0),le(h).getCorrectorHasCommentCriteria(le(N).corrector_key)?vr("",!0):Fn((On(),Bo("span",QCe,[Fn(te("input",{class:"pointsInput",type:"number",min:"0",style:Ir(he(le(N))),id:"pointsInput"+le(N).key,max:le(g).max_points,disabled:le(u).isOwnDisabled||le(N).corrector_key!=le(s).correctorKey,onChange:D[5]||(D[5]=qe=>le(x).setValueByCommentOrCriterion(le(N).key,"",le(H))),onKeydown:D[6]||(D[6]=qe=>Me()),"onUpdate:modelValue":D[7]||(D[7]=qe=>Qs(H)?H.value=qe:H=qe)},null,44,e_e),[[t0,le(H)]]),te("label",{for:"pointsInput"+le(N).key},""+pt(U(le(N))),9,t_e)],512)),[[Ao,le(N).key==le(a).selectedKey||le(N).points>0]])]),_:1}),ie(La,{cols:"4"},{default:xt(()=>[Fn(te("span",null,[Fn(te("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":D[8]||(D[8]=qe=>le(N).rating_excellent=qe),id:"ratingExcellent"+le(N).key,disabled:le(u).isOwnDisabled||le(N).corrector_key!=le(s).correctorKey,onChange:D[9]||(D[9]=qe=>de(le(N))),onKeydown:D[10]||(D[10]=qe=>Me())},null,40,n_e),[[bq,le(N).rating_excellent]]),te("label",{for:"ratingExcellent"+le(N).key},""+pt(le(g).positive_rating),9,o_e)],512),[[Ao,le(N).rating_excellent||le(N).key==le(a).selectedKey]])]),_:1}),ie(La,{cols:"4"},{default:xt(()=>[Fn(te("span",null,[Fn(te("input",{type:"checkbox",class:"ratingInput","onUpdate:modelValue":D[11]||(D[11]=qe=>le(N).rating_cardinal=qe),id:"ratingCardinal"+le(N).key,disabled:le(u).isOwnDisabled||le(N).corrector_key!=le(s).correctorKey,onChange:D[12]||(D[12]=qe=>oe(le(N))),onKeydown:D[13]||(D[13]=qe=>Me())},null,40,r_e),[[bq,le(N).rating_cardinal]]),te("label",{for:"ratingCardinal"+le(N).key},""+pt(le(g).negative_rating),9,s_e)],512),[[Ao,le(N).rating_cardinal||le(N).key==le(a).selectedKey]])]),_:1})]),_:1},512),[[Ao,Z(le(N))]]),ie(Wg,{dense:""},{default:xt(()=>[Fn(ie(La,{cols:"12"},{default:xt(()=>[Fn(te("div",{class:"commentDisplay",style:Ir("background-color: "+j(le(N))+";")},pt(le(N).comment),5),[[Ao,le(N).comment]])]),_:1},512),[[Ao,!Z(le(N))]])]),_:1}),Fn(ie(Wg,{dense:"",class:"detailsDisplay"},{default:xt(()=>[ie(La,{cols:"4"},{default:xt(()=>[Fn(te("span",null,[te("span",i_e,pt(ae(le(N))),1),xs(""+pt(U(le(N))),1)],512),[[Ao,ae(le(N))>0]])]),_:1}),ie(La,{cols:"4"},{default:xt(()=>[Fn(te("span",null,[ie(Un,{icon:"mdi-checkbox-outline"}),xs(" "+pt(le(g).positive_rating),1)],512),[[Ao,le(N).rating_excellent]])]),_:1}),ie(La,{cols:"4"},{default:xt(()=>[Fn(te("span",null,[ie(Un,{icon:"mdi-checkbox-outline"}),xs(" "+pt(le(g).negative_rating),1)],512),[[Ao,le(N).rating_cardinal]])]),_:1})]),_:1},512),[[Ao,!Z(le(N))&&se(le(N))]])]),_:1})]),_:1}),ie(La,{cols:"1",class:"trashColumn"},{default:xt(()=>[Fn(ie(Co,{class:"trashButton",density:"compact",size:"small",variant:"text","prepend-icon":"mdi-delete-outline",tabindex:Z(le(N))?0:-1,onKeydown:D[14]||(D[14]=qe=>Me()),onClick:D[15]||(D[15]=qe=>{le(a).deleteComment(le(N).key)})},{default:xt(()=>[te("span",a_e,pt(Te.$t("markingCommentsDelete")),1)]),_:1},8,["tabindex"]),[[Ao,J(le(N))]])]),_:1})]),_:1})]),_:1},8,["id"]))}},c_e=yl(l_e,[["__scopeId","data-v-1edef453"]]),u_e={id:"appMarkingComments"},d_e={__name:"MarkingComments",setup(t){const s=yf();async function a(){await Jo();let g=document.getElementById("appCommentContainer"+s.selectedKey);if(g){let h=g.querySelector("textarea");h&&h.focus()}}Rn(()=>s.selectionChange,a);async function u(){await Jo();let g=document.getElementById("appCommentContainer"+s.firstVisibleKey);g&&g.scrollIntoView()}return Rn(()=>s.firstVisibleKey,u),(g,h)=>(On(),Bo("div",u_e,[(On(!0),Bo(lr,null,Q1(le(s).activeComments,x=>(On(),es(c_e,{key:x.key,comment:x},null,8,["comment"]))),128))]))}},f_e={key:0,class:"info"},m_e={class:"col-left"},g_e={class:"col-mid text-right"},h_e={class:"col-right text-right"},p_e={class:"col-left"},b_e=["for"],v_e={class:"col-mid text-right"},y_e=["onUpdate:modelValue","id","disabled","max","onChange"],x_e={__name:"MarkingCommentCriteria",setup(t){const s=Em(),a=yf(),u=Yg(),g=ar();ru();const h=ac(),x=Fl();let w=zn(""),T=zn(""),I=zn({});async function R(){const Z=a.getComment(a.selectedKey);w.value=Z?Z.key:"",T.value=Z?Z.corrector_key:g.correctorKey,I.value={};for(const J of s.getCorrectorCommentCriteria(T.value)){const se=u.getObjectByData(T.value,w.value,J.key);I.value[J.key]=se?se.points:0}}R(),Rn(()=>a.selectionChange,R);function N(Z){u.setValueByCommentOrCriterion(a.selectedKey,Z,I.value[Z])}async function H(){x.focusTarget=="markingCommentCriteria"&&(await Jo(),document.getElementById("appMarkingCommentCriteriaStart").focus())}Rn(()=>x.focusChange,H);async function W(Z){switch(Z.key){case"Escape":Z.preventDefault(),x.focusMarkingCommentCriteriaSum();break}}return(Z,J)=>(On(),Bo("div",null,[le(w)==""?(On(),Bo("p",f_e,pt(Z.$t("markingCommentCriteriaPleaseSelect")),1)):vr("",!0),le(w)!=""?(On(),es(sp,{key:1,density:"compact"},{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",m_e,[te("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:W},pt(Z.$t("markingCommentsCriteriaCriterion")),33)]),te("th",g_e,pt(Z.$t("allPoints",0)),1),te("th",h_e,pt(Z.$t("markingCommentCriteriaSumOfMax")),1)])]),te("tbody",null,[(On(!0),Bo(lr,null,Q1(le(s).getCorrectorCommentCriteria(le(T)),se=>(On(),Bo("tr",{key:se.key},[te("td",p_e,[te("label",{tabindex:"0",onKeydown:W,for:"app-points-input-"+se.key},pt(se.title),41,b_e)]),te("td",v_e,[Fn(te("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":j=>le(I)[se.key]=j,id:"app-points-input-"+se.key,disabled:le(h).isOwnDisabled||le(w)==""||le(T)!=le(g).correctorKey,max:se.points,onChange:j=>N(se.key),onKeydown:W},null,40,y_e),[[t0,le(I)[se.key]]])]),te("td",{class:go("col-right text-right "+(le(u).getPointsOfCriterionExceeded(se,le(T))?"red":""))},pt(le(u).getSumOfPointsForCriterion(se,le(T)))+" / "+pt(se.points),3)]))),128))])]),_:1})):vr("",!0)]))}},w_e=yl(x_e,[["__scopeId","data-v-969eab0b"]]),C_e={class:"col-left"},__e={class:"col-mid text-right"},S_e={class:"col-right text-right"},k_e={class:"col-left"},E_e=["for"],A_e={class:"col-mid text-right"},T_e=["onUpdate:modelValue","id","disabled","max","onChange"],O_e={class:"col-right text-right"},D_e={__name:"MarkingGeneralCriteria",setup(t){const s=Em();yf();const a=Yg(),u=ar();ru();const g=ac(),h=Fl();let x=zn(""),w=zn({});async function T(){x.value=u.correctorKey,w.value={};for(const H of s.getCorrectorGeneralCriteria(x.value)){const W=a.getObjectByData(x.value,"",H.key);w.value[H.key]=W?W.points:0}}T();function I(H){a.setValueByCommentOrCriterion("",H,w.value[H])}async function R(){h.focusTarget=="markingGeneralCriteria"&&(await Jo(),document.getElementById("appMarkingGeneralCriteriaStart").focus())}Rn(()=>h.focusChange,R);async function N(H){switch(H.key){case"Escape":H.preventDefault(),h.focusMarkingCommentCriteriaSum();break}}return(H,W)=>(On(),Bo("div",null,[ie(sp,{density:"compact"},{default:xt(()=>[te("thead",null,[te("tr",null,[te("th",C_e,[te("span",{id:"appMarkingCommentCriteriaStart",tabindex:"0",onKeydown:N},"Kriterium",32)]),te("th",__e,pt(H.$t("allPoints",0)),1),te("th",S_e,pt(H.$t("markingGeneralCriteriaMax")),1)])]),te("tbody",null,[(On(!0),Bo(lr,null,Q1(le(s).getCorrectorGeneralCriteria(le(x)),Z=>(On(),Bo("tr",{key:Z.key},[te("td",k_e,[te("label",{tabindex:"0",onKeydown:N,for:"app-points-input-"+Z.key},pt(Z.title),41,E_e)]),te("td",A_e,[Fn(te("input",{class:"appPoints",type:"number",min:"0","onUpdate:modelValue":J=>le(w)[Z.key]=J,id:"app-points-input-"+Z.key,disabled:le(g).isOwnDisabled||le(x)!=le(u).correctorKey,max:Z.points,onChange:J=>I(Z.key),onKeydown:N},null,40,T_e),[[t0,le(w)[Z.key]]])]),te("td",O_e,pt(Z.points),1)]))),128))])]),_:1})]))}},R_e=yl(D_e,[["__scopeId","data-v-1fa96ea9"]]),I_e={id:"app-marking-wrapper"},N_e={class:"headline"},P_e={class:"headline"},L_e={class:"headline"},M_e={class:"headline"},B_e={key:4},F_e={__name:"Marking",setup(t){const s=ar(),a=Fl(),u=yf(),g=Em(),h=ac();function x(){return a.showMarkingComments&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function w(){return a.showMarkingGeneralCriteria&&g.hasOwnGeneralCriteria&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function T(){return a.showMarkingCommentCriteria&&g.hasCommentCriteria&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function I(){return a.showMarkingText&&(!s.isForReviewOrStitch||h.isOneAuthorized)}function R(){switch((x()?1:0)+(w()?1:0)+(T()?1:0)+(I()?1:0)){case 0:return"hidden";case 1:return"full";case 2:return"half";case 3:return"third";case 4:return"quart"}}return(N,H)=>(On(),Bo("div",I_e,[x()?(On(),Bo("div",{key:0,class:go(R())},[te("h2",N_e,pt(N.$t("allComments")),1),ie(d_e,{class:"content"})],2)):vr("",!0),T()?(On(),Bo("div",{key:1,class:go(R())},[te("h2",P_e,[xs(pt(N.$t("allPartialPointsLong")),1),Fn(te("span",{class:"commentLabel"},pt(le(u).selectedLabel),513),[[Ao,le(u).selectedKey!=""]])]),ie(w_e,{class:"content"})],2)):vr("",!0),w()?(On(),Bo("div",{key:2,class:go(R())},[te("h2",L_e,pt(N.$t("allGeneralPointsLong")),1),ie(R_e,{class:"content"})],2)):vr("",!0),I()?(On(),Bo("div",{key:3,class:go(R())},[te("h2",M_e,pt(N.$t("allOwnSummary")),1),ie(wne,{class:"content",editorId:"marking"})],2)):vr("",!0),le(s).isForReviewOrStitch&&!le(h).isOneAuthorized?(On(),Bo("div",B_e,pt(N.$t("allEssayNoCorrectionAuthorized")),1)):vr("",!0),ie(wK,{class:"sumOfPoints",corrector_key:le(s).correctorKey},null,8,["corrector_key"])]))}},$_e=yl(F_e,[["__scopeId","data-v-2fae14c3"]]),V_e={id:"app-snippets"},z_e={__name:"Snippets",setup(t){const s=SD();let a=[];function u(){switch(a=[],s.open_for_purpose){case Ac.FOR_COMMENT:for(const W of s.forComment)a.push(W);break;case Ac.FOR_SUMMARY:for(const W of s.forSummary)a.push(W);break}a.push(new Ac({key:"new",text:"--- neuer Baustein ---",purpose:s.open_for_purpose}))}function g(){s.edit=new Ac({text:"",purpose:s.open_for_purpose})}function h(){const W=a.find(Z=>Z.key===s.select);W&&(W.key==="new"?g():W.key!==s.edit.key&&(s.edit=W))}async function x(){s.selection_open&&(u(),g(),await Jo(),document.getElementById("appSnippetSelect").focus())}Rn(()=>s.selection_open,x);async function w(){h(),s.select=="new"&&(await Jo(),document.getElementById("appSnippetEdit").focus()),s.select=null}async function T(){s.has(s.edit.key)?s.updateSnippet(s.edit):s.edit.text&&(await s.createSnippet(s.edit),u())}function I(){s.selection_open=!1}function R(){s.selection_open=!1,s.insert_text=s.edit.text}async function N(){s.deleteSnippet(s.edit.key),s.select=null,u(),g(),await Jo(),document.getElementById("appSnippetSelect").focus()}function H(W,Z,J){const se=J.raw.text.toLowerCase(),j=Z.toLowerCase();return J.raw.key==="new"||se.indexOf(j)>-1}return(W,Z)=>(On(),Bo("div",V_e,[ie(lp,{"max-width":"60em",modelValue:le(s).selection_open,"onUpdate:modelValue":Z[8]||(Z[8]=J=>le(s).selection_open=J)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(pR,null,{default:xt(()=>Z[9]||(Z[9]=[xs("Textbaustein")])),_:1,__:[9]}),ie(jg,null,{default:xt(()=>[Z[10]||(Z[10]=xs(" Auswhlen: ")),ie(Dte,{id:"appSnippetSelect",modelValue:le(s).select,"onUpdate:modelValue":[Z[0]||(Z[0]=J=>le(s).select=J),Z[1]||(Z[1]=J=>w())],"custom-filter":H,items:le(a),"base-color":"white","item-title":"text","item-value":"key"},null,8,["modelValue","items"]),Z[11]||(Z[11]=xs(" Bearbeiten: ")),ie(Cne,{id:"appSnippetEdit",modelValue:le(s).edit.text,"onUpdate:modelValue":Z[2]||(Z[2]=J=>le(s).edit.text=J),onChange:Z[3]||(Z[3]=J=>T()),onKeyup:Z[4]||(Z[4]=J=>T())},null,8,["modelValue"])]),_:1,__:[10,11]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:Z[5]||(Z[5]=J=>R())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-ok"}),Z[12]||(Z[12]=te("span",null,"bernehmen",-1))]),_:1,__:[12]}),ie(Co,{onClick:Z[6]||(Z[6]=J=>N())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-ok"}),Z[13]||(Z[13]=te("span",null,"Lschen",-1))]),_:1,__:[13]}),ie(dF),ie(Co,{onClick:Z[7]||(Z[7]=J=>I())},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),Z[14]||(Z[14]=te("span",null,"Schlieen",-1))]),_:1,__:[14]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},H_e=Ln({scrollable:Boolean,...zr(),...pp(),...ra({tag:"main"})},"VMain"),_ne=Mo()({name:"VMain",props:H_e(),setup(t,s){let{slots:a}=s;const{dimensionStyles:u}=bp(t),{mainStyles:g}=Vhe(),{ssrBootStyles:h}=cF();return xr(()=>ie(t.tag,{class:go(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:Ir([g.value,h.value,u.value,t.style])},{default:()=>{var x,w;return[t.scrollable?te("div",{class:"v-main__scroller"},[(x=a.default)==null?void 0:x.call(a)]):(w=a.default)==null?void 0:w.call(a)]}})),{}}}),U_e={id:"app-main-container"},W_e={class:"col-header"},K_e={id:"appHeadLeft",tabindex:"0",class:"headline"},j_e={"aria-hidden":"true"},Z_e={id:"app-expand-left-column",class:"sr-only"},G_e={class:"col-content"},q_e={class:"col-header"},Y_e={id:"appHeadRight",tabindex:"0",class:"headline"},X_e={class:"sr-only"},J_e={class:"sr-only"},Q_e={class:"sr-only"},eSe={class:"sr-only"},tSe={class:"sr-only"},nSe={class:"sr-only"},oSe={class:"sr-only"},rSe={class:"sr-only"},sSe={"aria-hidden":"true"},iSe={id:"app-expand-right-column",class:"sr-only"},aSe={class:"col-content"},lSe={__name:"MainContent",setup(t){const s=ar(),a=Fl(),u=BC(),g=yf(),h=Em(),x=x8();async function w(){a.focusTarget=="appHeadLeft"&&(await Jo(),document.getElementById("appHeadLeft").focus()),a.focusTarget=="appHeadRight"&&(await Jo(),document.getElementById("appHeadRight").focus())}return Rn(()=>a.focusChange,w),document.addEventListener("keydown",a.handleKeyDown),(T,I)=>(On(),Bo(lr,null,[ie(_ne,{"fill-height":""},{default:xt(()=>[te("div",U_e,[Fn(te("section",{class:go(["column",{colExpanded:le(a).isLeftExpanded,colNormal:!le(a).isLeftExpanded}])},[te("div",W_e,[te("h1",K_e,pt(le(a).isInstructionsVisible?T.$t("allInstructions"):le(a).isInstructionsPdfVisible?T.$t("allInstructionsPdf"):le(a).isSolutionVisible?T.$t("allSolution"):le(a).isSolutionPdfVisible?T.$t("allSolutionPdf"):le(a).isEssayVisible?T.$t("allEssay"):le(a).isResourcesVisible?le(u).activeTitle:le(a).isLeftCorrectorVisible?le(a).leftCorrectorTitle:T.$t("mainContentLeftColumn")),1),ie(Z1,{density:"comfortable"},{default:xt(()=>[Fn(ie(Co,{size:"small",onClick:I[0]||(I[0]=R=>le(a).toggleLeftSummaryCriteria())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showLeftSummaryCriteria]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showLeftSummaryCriteria]]),te("span",null,pt(T.$t("allOverview")),1)]),_:1},512),[[Ao,le(a).isLeftCorrectorVisible]]),Fn(ie(Co,{size:"small",onClick:I[1]||(I[1]=R=>le(a).toggleLeftSummaryText())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showLeftSummaryText]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showLeftSummaryText]]),te("span",null,pt(T.$t("allSummary")),1)]),_:1},512),[[Ao,le(a).isLeftCorrectorVisible]]),Fn(ie(Co,{size:"small",onClick:I[2]||(I[2]=R=>le(a).setLeftExpanded(!1))},{default:xt(()=>[ie(Un,{icon:"mdi-chevron-left"}),te("span",null,pt(le(a).isMarkingSelected?T.$t("allCorrection"):le(a).isSummarySelected?T.$t("allSummary"):le(a).isRightCorrectorSelected?le(a).rightCorrectorTitle:T.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Ao,le(a).isLeftExpanded]]),Fn(ie(Co,{size:"small",onClick:I[3]||(I[3]=R=>le(a).setLeftExpanded(!0))},{default:xt(()=>[te("span",j_e,pt(T.$t("mainContentExpand")),1),te("span",Z_e,pt(T.$t("mainContentExpandLeftColumn")),1),ie(Un,{icon:"mdi-chevron-right"})]),_:1},512),[[Ao,!le(a).isLeftExpanded]])]),_:1})]),te("div",G_e,[le(a).isInstructionsVisible?(On(),es(o2e,{key:0})):vr("",!0),le(a).isInstructionsPdfVisible?(On(),es(i2e,{key:1})):vr("",!0),le(a).isSolutionVisible?(On(),es(c2e,{key:2})):vr("",!0),le(a).isSolutionPdfVisible?(On(),es(f2e,{key:3})):vr("",!0),le(a).isEssayVisible&&!le(x).hasPages?(On(),es(S2e,{key:4})):vr("",!0),le(a).isEssayVisible&&le(x).hasPages?(On(),es(Fwe,{key:5})):vr("",!0),le(a).isResourcesVisible?(On(),es(y2e,{key:6})):vr("",!0),le(a).isLeftCorrectorVisible?(On(),es(NX,{key:7,corrector_key:le(a).leftCorrectorKey,showCriteria:le(a).showLeftSummaryCriteria,showText:le(a).showLeftSummaryText},null,8,["corrector_key","showCriteria","showText"])):vr("",!0)])],2),[[Ao,le(a).isLeftVisible]]),Fn(te("section",{class:go(["column",{colExpanded:le(a).isRightExpanded,colNormal:!le(a).isRightExpanded}])},[te("div",q_e,[te("h1",Y_e,pt(le(a).isMarkingVisible?T.$t("allCorrection"):le(a).isSummaryVisible?T.$t("allOwnSummary"):le(a).isRightCorrectorVisible?le(a).rightCorrectorTitle:T.$t("mainContentRightColumn")),1),ie(Z1,{density:"comfortable"},{default:xt(()=>[le(a).isMarkingVisible?(On(),es(Co,{key:0,size:"small",variant:"plain",onClick:I[4]||(I[4]=R=>le(g).setShowOtherCorrectors(!le(g).isOtherCorrectorsShown))},{default:xt(()=>[ie(Un,{icon:le(g).isOtherCorrectorsShown?"mdi-account-school":"mdi-account-school-outline"},null,8,["icon"]),te("span",X_e,pt(T.$t("mainContentShowOtherCorrectors")+(le(g).isOtherCorrectorsShown?T.$t("allIsSelected"):"")),1)]),_:1})):vr("",!0),le(a).isMarkingVisible?(On(),es(Co,{key:1,size:"small",variant:"plain",disabled:!le(g).isFilterActive,onClick:I[5]||(I[5]=R=>le(g).resetFilter())},{default:xt(()=>[ie(Un,{icon:le(g).isFilterActive?"mdi-filter":"mdi-filter-outline"},null,8,["icon"]),te("span",J_e,pt("Filter aktiv"+(le(g).isFilterActive?T.$t("allIsSelected"):"")),1)]),_:1},8,["disabled"])):vr("",!0),Fn(ie(Co,{size:"small",onClick:I[6]||(I[6]=R=>le(a).toggleMarkingComments())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showMarkingComments]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showMarkingComments]]),te("span",null,pt(T.$t("allComments")),1),te("span",Q_e,pt(T.$t("allShow")+(le(a).showMarkingComments?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,le(a).isMarkingVisible]]),Fn(ie(Co,{size:"small",onClick:I[7]||(I[7]=R=>le(a).toggleMarkingCommentCriteria())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showMarkingCommentCriteria]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showMarkingCommentCriteria]]),te("span",null,pt(T.$t("allPartialPoints")),1),te("span",eSe,pt(T.$t("allShow")+(le(a).showMarkingCommentCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,le(h).hasCommentCriteria&&le(a).isMarkingVisible]]),Fn(ie(Co,{size:"small",onClick:I[8]||(I[8]=R=>le(a).toggleMarkingGeneralCriteria())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showMarkingGeneralCriteria]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showMarkingGeneralCriteria]]),te("span",null,pt(T.$t("allGeneralPoints")),1),te("span",tSe,pt(T.$t("allShow")+(le(a).showMarkingGeneralCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,le(h).hasOwnGeneralCriteria&&le(a).isMarkingVisible]]),Fn(ie(Co,{size:"small",onClick:I[9]||(I[9]=R=>le(a).toggleMarkingText())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showMarkingText]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showMarkingText]]),te("span",null,pt(T.$t("allSummary")),1),te("span",nSe,pt(T.$t("allShow")+(le(a).showMarkingText?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,!le(s).isForReviewOrStitch&&le(a).isMarkingVisible]]),Fn(ie(Co,{size:"small",onClick:I[10]||(I[10]=R=>le(a).toggleRightSummaryCriteria())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showRightSummaryCriteria]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showRightSummaryCriteria]]),te("span",null,pt(T.$t("allOverview")),1),te("span",oSe,pt(T.$t("allShow")+(le(a).showRightSummaryCriteria?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,le(a).isSummaryVisible||le(a).isRightCorrectorVisible]]),Fn(ie(Co,{size:"small",onClick:I[11]||(I[11]=R=>le(a).toggleRightSummaryText())},{default:xt(()=>[Fn(ie(Un,{icon:"mdi-checkbox-outline"},null,512),[[Ao,le(a).showRightSummaryText]]),Fn(ie(Un,{icon:"mdi-checkbox-blank-outline"},null,512),[[Ao,!le(a).showRightSummaryText]]),te("span",null,pt(T.$t("allSummary")),1),te("span",rSe,pt(T.$t("allShow")+(le(a).showRightSummaryText?T.$t("allIsSelected"):"")),1)]),_:1},512),[[Ao,le(a).isSummaryVisible||le(a).isRightCorrectorVisible]]),Fn(ie(Co,{size:"small",onClick:I[12]||(I[12]=R=>le(a).setRightExpanded(!1))},{default:xt(()=>[te("span",null,pt(le(a).isInstructionsSelected?T.$t("allInstructions"):le(a).isEssaySelected?T.$t("allEssay"):le(a).isResourcesSelected?le(u).activeTitle:le(a).isLeftCorrectorSelected?le(a).leftCorrectorTitle:T.$t("mainContentExpandLeftColumn")),1),ie(Un,{icon:"mdi-chevron-right"})]),_:1},512),[[Ao,le(a).isRightExpanded]]),Fn(ie(Co,{size:"small",onClick:I[13]||(I[13]=R=>le(a).setRightExpanded(!0))},{default:xt(()=>[ie(Un,{icon:"mdi-chevron-left"}),te("span",sSe,pt(T.$t("mainContentExpand")),1),te("span",iSe,pt(T.$t("mainContentExpandRightColumn")),1)]),_:1},512),[[Ao,!le(a).isRightExpanded]])]),_:1})]),te("div",aSe,[le(a).isSummaryVisible?(On(),es(MCe,{key:0,showCriteria:le(a).showRightSummaryCriteria,showText:le(a).showRightSummaryText},null,8,["showCriteria","showText"])):vr("",!0),le(a).isRightCorrectorVisible?(On(),es(NX,{key:1,corrector_key:le(a).rightCorrectorKey,showCriteria:le(a).showRightSummaryCriteria,showText:le(a).showRightSummaryText},null,8,["corrector_key","showCriteria","showText"])):vr("",!0),le(a).isMarkingVisible?(On(),es($_e,{key:2})):vr("",!0)])],2),[[Ao,le(a).isRightVisible]])])]),_:1}),ie(lp,{persistent:"",modelValue:le(s).showSendFailure,"onUpdate:modelValue":I[15]||(I[15]=R=>le(s).showSendFailure=R)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>[te("p",null,pt(T.$t("mainContentSendFailureLine1")),1),te("p",null,pt(T.$t("mainContentSendFailureLine2")),1),te("p",null,pt(T.$t("mainContentSendFailureLine3")),1)]),_:1}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:I[14]||(I[14]=R=>le(s).setShowSendFailure(!1))},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-close"}),te("span",null,pt(T.$t("allCloseMessage")),1)]),_:1}),ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),te("span",null,pt(T.$t("mainContentStopCorrection")),1)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(z_e)],64))}},cSe=yl(lSe,[["__scopeId","data-v-30a76c01"]]),uSe={__name:"StartupContent",setup(t){const s=ar(),a=Cx(),u=Mb();return(g,h)=>(On(),es(_ne,{"fill-height":""},{default:xt(()=>[ie(Kte,{elevation:"1",color:"white",density:"compact"},{default:xt(()=>[h[5]||(h[5]=te("p",null,"Lade Daten...",-1)),ie(dF),ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),h[4]||(h[4]=te("span",null,"Meine Korrekturen",-1))]),_:1,__:[4]},8,["href"])]),_:1,__:[5]}),ie(lp,{persistent:"",modelValue:le(s).showInitFailure,"onUpdate:modelValue":h[0]||(h[0]=x=>le(s).showInitFailure=x)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>h[6]||(h[6]=[te("p",null,"Beim Laden der Basisdaten ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1,__:[6]}),ie(Kg,null,{default:xt(()=>[ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),h[7]||(h[7]=te("span",null,"Beenden",-1))]),_:1,__:[7]},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(lp,{persistent:"",modelValue:le(s).showItemLoadFailure,"onUpdate:modelValue":h[1]||(h[1]=x=>le(s).showItemLoadFailure=x)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>h[8]||(h[8]=[te("p",null,"Beim Laden der zu korrigierenden Abgabe ist ein Fehler aufgetreten. Die Anwendung kann nicht gestartet werden.",-1)])),_:1,__:[8]}),ie(Kg,null,{default:xt(()=>[ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),h[9]||(h[9]=te("span",null,"Beenden",-1))]),_:1,__:[9]},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(lp,{persistent:"",modelValue:le(s).showDataReplaceConfirmation,"onUpdate:modelValue":h[2]||(h[2]=x=>le(s).showDataReplaceConfirmation=x)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>[h[10]||(h[10]=te("p",null,"In Ihrem Browser sind Daten eines anderen Korrektors oder einer anderen Aufgabe vorhanden, die noch nicht bertragen wurden:",-1)),te("p",null,[te("strong",null,pt(le(a).title)+": "+pt(le(u).getItem(le(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),h[11]||(h[11]=te("p",null,"Durch das Laden der neuen Korrektur werden diese Daten gelscht. Mchten Sie die neuen Daten laden?",-1))]),_:1,__:[10,11]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:le(s).initAfterReplaceDataConfirmed},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-reload"}),h[12]||(h[12]=te("span",null,"Verwerfen und Laden",-1))]),_:1,__:[12]},8,["onClick"]),ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),h[13]||(h[13]=te("span",null,"Abbrechen",-1))]),_:1,__:[13]},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),ie(lp,{persistent:"",modelValue:le(s).showItemReplaceConfirmation,"onUpdate:modelValue":h[3]||(h[3]=x=>le(s).showItemReplaceConfirmation=x)},{default:xt(()=>[ie(ap,null,{default:xt(()=>[ie(jg,null,{default:xt(()=>[h[14]||(h[14]=te("p",null,"In Ihrem Browser sind Daten Ihrer vorherigen Bearbeitung vorhanden, die noch nicht bertragen wurden:",-1)),te("p",null,[te("strong",null,pt(le(a).title)+": "+pt(le(u).getItem(le(s).storedItemKey,{key:0,title:"Unbekannt"}).title),1)]),h[15]||(h[15]=te("p",null,"Sie knnen mit diesen Daten weiter arbeiten, um sie nachtrglich zu bertragen oder sie verwerfen.",-1))]),_:1,__:[14,15]}),ie(Kg,null,{default:xt(()=>[ie(Co,{onClick:le(s).initAfterKeepDataConfirmed},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-pencil-outline"}),h[16]||(h[16]=te("span",null,"Mit lokalen Daten weiter arbeiten",-1))]),_:1,__:[16]},8,["onClick"]),ie(Co,{onClick:le(s).initAfterReplaceDataConfirmed},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-trash-can-outline"}),h[17]||(h[17]=te("span",null,"Lokale Daten verwerfen",-1))]),_:1,__:[17]},8,["onClick"]),ie(Co,{href:le(s).returnUrl},{default:xt(()=>[ie(Un,{left:"",icon:"mdi-logout-variant"}),h[18]||(h[18]=te("span",null,"Abbrechen",-1))]),_:1,__:[18]},8,["href"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},dSe=Ln({...zr(),...$he({fullHeight:!0}),...vl()},"VApp"),fSe=Mo()({name:"VApp",props:dSe(),setup(t,s){let{slots:a}=s;const u=uc(t),{layoutClasses:g,getLayoutItem:h,items:x,layoutRef:w}=Hhe(t),{rtlClasses:T}=Xg();return xr(()=>{var I;return te("div",{ref:w,class:go(["v-application",u.themeClasses.value,g.value,T.value,t.class]),style:Ir([t.style])},[te("div",{class:"v-application__wrap"},[(I=a.default)==null?void 0:I.call(a)])])}),{getLayoutItem:h,items:x,theme:u}}}),mSe={__name:"App",setup(t){const s=ar();return s.init(),(a,u)=>(On(),es(fSe,{"fill-height":""},{default:xt(()=>[le(s).initialized?vr("",!0):(On(),es(uSe,{key:0})),le(s).initialized?(On(),es(Uxe,{key:1})):vr("",!0),le(s).initialized?(On(),es(e2e,{key:2})):vr("",!0),le(s).initialized?(On(),es(cSe,{key:3})):vr("",!0)]),_:1}))}},Sne=Bme(mSe);Rbe(Sne);Sne.mount("#app");
